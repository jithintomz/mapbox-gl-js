define(["./chunk1.js"],function(t){"use strict";var e=t.createCommonjsModule(function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,i=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(i);try{e=new Worker(n),t=!0}catch(e){t=!1}e&&e.terminate();return URL.revokeObjectURL(n),t}()&&"Uint8ClampedArray"in window&&function(t){void 0===i[t]&&(i[t]=function(t){var i=document.createElement("canvas"),n=Object.create(e.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,i.probablySupportsContext?i.probablySupportsContext("webgl",n)||i.probablySupportsContext("experimental-webgl",n):i.supportsContext?i.supportsContext("webgl",n)||i.supportsContext("experimental-webgl",n):i.getContext("webgl",n)||i.getContext("experimental-webgl",n)}(t));return i[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var i={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),i=t.default.performance&&t.default.performance.now?t.default.performance.now.bind(t.default.performance):Date.now.bind(Date),n=t.default.requestAnimationFrame||t.default.mozRequestAnimationFrame||t.default.webkitRequestAnimationFrame||t.default.msRequestAnimationFrame,o=t.default.cancelAnimationFrame||t.default.mozCancelAnimationFrame||t.default.webkitCancelAnimationFrame||t.default.msCancelAnimationFrame,r={now:i,frame:function(t){return n(t)},cancelFrame:function(t){return o(t)},getImageData:function(e){var i=t.default.document.createElement("canvas"),n=i.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return i.width=e.width,i.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)},hardwareConcurrency:t.default.navigator.hardwareConcurrency||4,get devicePixelRatio(){return t.default.devicePixelRatio},supportsWebp:!1};if(t.default.document){var a=t.default.document.createElement("img");a.onload=function(){r.supportsWebp=!0},a.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="}var s={create:function(e,i,n){var o=t.default.document.createElement(e);return i&&(o.className=i),n&&n.appendChild(o),o},createNS:function(e,i){return t.default.document.createElementNS(e,i)}},l=t.default.document?t.default.document.documentElement.style:null;function c(t){if(!l)return null;for(var e=0;e<t.length;e++)if(t[e]in l)return t[e];return t[0]}var u,h=c(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);s.disableDrag=function(){l&&h&&(u=l[h],l[h]="none")},s.enableDrag=function(){l&&h&&(l[h]=u)};var p=c(["transform","WebkitTransform"]);s.setTransform=function(t,e){t.style[p]=e};var d=!1;try{var f=Object.defineProperty({},"passive",{get:function(){d=!0}});t.default.addEventListener("test",f,f),t.default.removeEventListener("test",f,f)}catch(t){d=!1}s.addEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&d?t.addEventListener(e,i,n):t.addEventListener(e,i,n.capture)},s.removeEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&d?t.removeEventListener(e,i,n):t.removeEventListener(e,i,n.capture)};var m=function(e){e.preventDefault(),e.stopPropagation(),t.default.removeEventListener("click",m,!0)};s.suppressClick=function(){t.default.addEventListener("click",m,!0),t.default.setTimeout(function(){t.default.removeEventListener("click",m,!0)},0)},s.mousePos=function(e,i){var n=e.getBoundingClientRect();return i=i.touches?i.touches[0]:i,new t.default$1(i.clientX-n.left-e.clientLeft,i.clientY-n.top-e.clientTop)},s.touchPos=function(e,i){for(var n=e.getBoundingClientRect(),o=[],r="touchend"===i.type?i.changedTouches:i.touches,a=0;a<r.length;a++)o.push(new t.default$1(r[a].clientX-n.left-e.clientLeft,r[a].clientY-n.top-e.clientTop));return o},s.mouseButton=function(e){return void 0!==t.default.InstallTrigger&&2===e.button&&e.ctrlKey&&t.default.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},s.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var _={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null},g="See https://www.mapbox.com/api-documentation/#access-tokens";function v(t,e){var i=C(_.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"/"!==i.path&&(t.path=""+i.path+t.path),!_.REQUIRE_ACCESS_TOKEN)return S(t);if(!(e=e||_.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+g);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+g);return t.params.push("access_token="+e),S(t)}function y(t){return 0===t.indexOf("mapbox:")}var x=function(t,e){if(!y(t))return t;var i=C(t);return i.path="/fonts/v1"+i.path,v(i,e)},b=function(t,e){if(!y(t))return t;var i=C(t);return i.path="/v4/"+i.authority+".json",i.params.push("secure"),v(i,e)},w=function(t,e,i,n){var o=C(t);return y(t)?(o.path="/styles/v1"+o.path+"/sprite"+e+i,v(o,n)):(o.path+=""+e+i,S(o))},E=/(\.(png|jpg)\d*)(?=$)/,T=function(t,e,i){if(!e||!y(e))return t;var n=C(t),o=r.devicePixelRatio>=2||512===i?"@2x":"",a=r.supportsWebp?".webp":"$1";return n.path=n.path.replace(E,""+o+a),function(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(_.ACCESS_TOKEN||""))}(n.params),S(n)};var I=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function C(t){var e=t.match(I);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function S(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var z=t.default.HTMLImageElement,A=t.default.HTMLCanvasElement,R=t.default.HTMLVideoElement,D=t.default.ImageData,M=function(t,e,i,n){this.context=t;var o=e.width,r=e.height;this.size=[o,r],this.format=i,this.texture=t.gl.createTexture(),this.update(e,n)};M.prototype.update=function(t,e){var i=t.width,n=t.height;this.size=[i,n];var o=this.context,r=o.gl;r.bindTexture(r.TEXTURE_2D,this.texture),o.pixelStoreUnpack.set(1),this.format===r.RGBA&&!1!==e&&o.pixelStoreUnpackPremultiplyAlpha.set(!0),t instanceof z||t instanceof A||t instanceof R||t instanceof D?r.texImage2D(r.TEXTURE_2D,0,this.format,this.format,r.UNSIGNED_BYTE,t):r.texImage2D(r.TEXTURE_2D,0,this.format,i,n,0,this.format,r.UNSIGNED_BYTE,t.data)},M.prototype.bind=function(t,e,i){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),t!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,i||t),this.filter=t),e!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e),this.wrap=e)},M.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var L=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new t.default$2(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=new t.RGBAImage({width:64,height:64}),this.dirty=!0};L.prototype.isLoaded=function(){return this.loaded},L.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,i=this.requestors;e<i.length;e+=1){var n=i[e],o=n.ids,r=n.callback;this._notify(o,r)}this.requestors=[]}},L.prototype.getImage=function(t){return this.images[t]},L.prototype.addImage=function(t,e){this.images[t]=e},L.prototype.removeImage=function(t){delete this.images[t];var e=this.patterns[t];e&&(this.shelfPack.unref(e.bin),delete this.patterns[t])},L.prototype.getImages=function(t,e){var i=!0;if(!this.isLoaded())for(var n=0,o=t;n<o.length;n+=1){var r=o[n];this.images[r]||(i=!1)}this.isLoaded()||i?this._notify(t,e):this.requestors.push({ids:t,callback:e})},L.prototype._notify=function(t,e){for(var i={},n=0,o=t;n<o.length;n+=1){var r=o[n],a=this.images[r];a&&(i[r]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf})}e(null,i)},L.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},L.prototype.getPattern=function(e){var i=this.patterns[e];if(i)return i.position;var n=this.getImage(e);if(!n)return null;var o=n.data.width+2,r=n.data.height+2,a=this.shelfPack.packOne(o,r);if(!a)return null;this.atlasImage.resize(this.getPixelSize());var s=n.data,l=this.atlasImage,c=a.x+1,u=a.y+1,h=s.width,p=s.height;t.RGBAImage.copy(s,l,{x:0,y:0},{x:c,y:u},{width:h,height:p}),t.RGBAImage.copy(s,l,{x:0,y:p-1},{x:c,y:u-1},{width:h,height:1}),t.RGBAImage.copy(s,l,{x:0,y:0},{x:c,y:u+p},{width:h,height:1}),t.RGBAImage.copy(s,l,{x:h-1,y:0},{x:c-1,y:u},{width:1,height:p}),t.RGBAImage.copy(s,l,{x:0,y:0},{x:c+h,y:u},{width:1,height:p}),this.dirty=!0;var d=new t.ImagePosition(a,n);return this.patterns[e]={bin:a,position:d},d},L.prototype.bind=function(t){var e=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new M(t,this.atlasImage,e.RGBA),this.atlasTexture.bind(e.LINEAR,e.CLAMP_TO_EDGE)};var P=B,k=1e20;function B(t,e,i,n,o,r){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=o||"sans-serif",this.fontWeight=r||"normal",this.radius=i||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function O(t,e,i,n,o,r,a){for(var s=0;s<e;s++){for(var l=0;l<i;l++)n[l]=t[l*e+s];for(F(n,o,r,a,i),l=0;l<i;l++)t[l*e+s]=o[l]}for(l=0;l<i;l++){for(s=0;s<e;s++)n[s]=t[l*e+s];for(F(n,o,r,a,e),s=0;s<e;s++)t[l*e+s]=Math.sqrt(o[s])}}function F(t,e,i,n,o){i[0]=0,n[0]=-k,n[1]=+k;for(var r=1,a=0;r<o;r++){for(var s=(t[r]+r*r-(t[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);s<=n[a];)a--,s=(t[r]+r*r-(t[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);i[++a]=r,n[a]=s,n[a+1]=+k}for(r=0,a=0;r<o;r++){for(;n[a+1]<r;)a++;e[r]=(r-i[a])*(r-i[a])+t[i[a]]}}B.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),i=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var o=e.data[4*n+3]/255;this.gridOuter[n]=1===o?0:0===o?k:Math.pow(Math.max(0,.5-o),2),this.gridInner[n]=1===o?k:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(O(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),O(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var r=this.gridOuter[n]-this.gridInner[n];i[n]=Math.max(0,Math.min(255,Math.round(255-255*(r/this.radius+this.cutoff))))}return i};var N=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};N.prototype.setURL=function(t){this.url=t},N.prototype.getGlyphs=function(e,i){var n=this,o=[];for(var r in e)for(var a=0,s=e[r];a<s.length;a+=1){var l=s[a];o.push({stack:r,id:l})}t.asyncAll(o,function(t,e){var i=t.stack,o=t.id,r=n.entries[i];r||(r=n.entries[i]={glyphs:{},requests:{}});var a=r.glyphs[o];if(void 0===a)if(a=n._tinySDF(r,i,o))e(null,{stack:i,id:o,glyph:a});else{var s=Math.floor(o/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var l=r.requests[s];l||(l=r.requests[s]=[],N.loadGlyphRange(i,s,n.url,n.requestTransform,function(t,e){if(e)for(var i in e)r.glyphs[+i]=e[+i];for(var n=0,o=l;n<o.length;n+=1){(0,o[n])(t,e)}delete r.requests[s]})),l.push(function(t,n){t?e(t):n&&e(null,{stack:i,id:o,glyph:n[o]||null})})}}else e(null,{stack:i,id:o,glyph:a})},function(t,e){if(t)i(t);else if(e){for(var n={},o=0,r=e;o<r.length;o+=1){var a=r[o],s=a.stack,l=a.id,c=a.glyph;(n[s]||(n[s]={}))[l]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics}}i(null,n)}})},N.prototype._tinySDF=function(e,i,n){var o=this.localIdeographFontFamily;if(o&&(t.default$4["CJK Unified Ideographs"](n)||t.default$4["Hangul Syllables"](n))){var r=e.tinySDF;if(!r){var a="400";/bold/i.test(i)?a="900":/medium/i.test(i)?a="500":/light/i.test(i)&&(a="200"),r=e.tinySDF=new N.TinySDF(24,3,8,.25,o,a)}return{id:n,bitmap:new t.AlphaImage({width:30,height:30},r.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},N.loadGlyphRange=function(e,i,n,o,r){var a=256*i,s=a+255,l=o(x(n).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(l,function(e,i){if(e)r(e);else if(i){for(var n={},o=0,a=t.default$3(i.data);o<a.length;o+=1){var s=a[o];n[s.id]=s}r(null,n)}})},N.TinySDF=P;var U=function(){this.specification=t.default$5.light.position};U.prototype.possiblyEvaluate=function(e,i){return t.sphericalToCartesian(e.expression.evaluate(i))},U.prototype.interpolate=function(e,i,n){return{x:t.number(e.x,i.x,n),y:t.number(e.y,i.y,n),z:t.number(e.z,i.z,n)}};var Z=new t.Properties({anchor:new t.DataConstantProperty(t.default$5.light.anchor),position:new U,color:new t.DataConstantProperty(t.default$5.light.color),intensity:new t.DataConstantProperty(t.default$5.light.intensity)}),V=function(e){function i(i){e.call(this),this._transitionable=new t.Transitionable(Z),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(e){if(!this._validate(t.validateLight,e))for(var i in e){var n=e[i];t.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-"-transition".length),n):this._transitionable.setValue(i,n)}},i.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},i.prototype._validate=function(e,i){return t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.default$5})))},i}(t.Evented),j=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};j.prototype.getDash=function(t,e){var i=t.join(",")+String(e);return this.positions[i]||(this.positions[i]=this.addDash(t,e)),this.positions[i]},j.prototype.addDash=function(e,i){var n=i?7:0,o=2*n+1;if(this.nextRow+o>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var r=0,a=0;a<e.length;a++)r+=e[a];for(var s=this.width/r,l=s/2,c=e.length%2==1,u=-n;u<=n;u++)for(var h=this.nextRow+n+u,p=this.width*h,d=c?-e[e.length-1]:0,f=e[0],m=1,_=0;_<this.width;_++){for(;f<_/s;)d=f,f+=e[m],c&&m===e.length-1&&(f+=e[0]),m++;var g=Math.abs(_-d*s),v=Math.abs(_-f*s),y=Math.min(g,v),x=m%2==1,b=void 0;if(i){var w=n?u/n*(l+1):0;if(x){var E=l-Math.abs(w);b=Math.sqrt(y*y+E*E)}else b=l-Math.sqrt(y*y+w*w)}else b=(x?1:-1)*y;this.data[3+4*(p+_)]=Math.max(0,Math.min(255,b+128))}var T={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:r};return this.nextRow+=o,this.dirty=!0,T},j.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var $=function e(i,n){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var o=this.workerPool.acquire(this.id),r=0;r<o.length;r++){var a=o[r],s=new e.Actor(a,n,this.id);s.name="Worker "+r,this.actors.push(s)}};function G(e,i,n){var o=function(e,i){if(e)return n(e);if(i){var o=t.pick(i,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);i.vector_layers&&(o.vectorLayers=i.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(t){return t.id})),n(null,o)}};e.url?t.getJSON(i(b(e.url),t.ResourceType.Source),o):r.frame(function(){return o(null,e)})}$.prototype.broadcast=function(e,i,n){n=n||function(){},t.asyncAll(this.actors,function(t,n){t.send(e,i,n)},n)},$.prototype.send=function(t,e,i,n){return("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(t,e,i),n},$.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},$.Actor=t.default$7;var W=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};W.prototype.wrap=function(){return new W(t.wrap(this.lng,-180,180),this.lat)},W.prototype.toArray=function(){return[this.lng,this.lat]},W.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},W.prototype.toBounds=function(t){var e=360*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return new q(new W(this.lng-i,this.lat-e),new W(this.lng+i,this.lat+e))},W.convert=function(t){if(t instanceof W)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new W(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new W(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var q=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};q.prototype.setNorthEast=function(t){return this._ne=t instanceof W?new W(t.lng,t.lat):W.convert(t),this},q.prototype.setSouthWest=function(t){return this._sw=t instanceof W?new W(t.lng,t.lat):W.convert(t),this},q.prototype.extend=function(t){var e,i,n=this._sw,o=this._ne;if(t instanceof W)e=t,i=t;else{if(!(t instanceof q))return Array.isArray(t)?t.every(Array.isArray)?this.extend(q.convert(t)):this.extend(W.convert(t)):this;if(e=t._sw,i=t._ne,!e||!i)return this}return n||o?(n.lng=Math.min(e.lng,n.lng),n.lat=Math.min(e.lat,n.lat),o.lng=Math.max(i.lng,o.lng),o.lat=Math.max(i.lat,o.lat)):(this._sw=new W(e.lng,e.lat),this._ne=new W(i.lng,i.lat)),this},q.prototype.getCenter=function(){return new W((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},q.prototype.getSouthWest=function(){return this._sw},q.prototype.getNorthEast=function(){return this._ne},q.prototype.getNorthWest=function(){return new W(this.getWest(),this.getNorth())},q.prototype.getSouthEast=function(){return new W(this.getEast(),this.getSouth())},q.prototype.getWest=function(){return this._sw.lng},q.prototype.getSouth=function(){return this._sw.lat},q.prototype.getEast=function(){return this._ne.lng},q.prototype.getNorth=function(){return this._ne.lat},q.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},q.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},q.prototype.isEmpty=function(){return!(this._sw&&this._ne)},q.convert=function(t){return!t||t instanceof q?t:new q(t)};var X=function(t,e,i){this.bounds=q.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=i||24};X.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},X.prototype.contains=function(t){var e=Math.floor(this.lngX(this.bounds.getWest(),t.z)),i=Math.floor(this.latY(this.bounds.getNorth(),t.z)),n=Math.ceil(this.lngX(this.bounds.getEast(),t.z)),o=Math.ceil(this.latY(this.bounds.getSouth(),t.z));return t.x>=e&&t.x<n&&t.y>=i&&t.y<o},X.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},X.prototype.latY=function(e,i){var n=t.clamp(Math.sin(Math.PI/180*e),-.9999,.9999),o=Math.pow(2,i)/(2*Math.PI);return Math.pow(2,i-1)+.5*Math.log((1+n)/(1-n))*-o};var H=function(e){function i(i,n,o,r){if(e.call(this),this.id=i,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,t.extend(this,t.pick(n,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),G(this._options,this.map._transformRequest,function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new X(n.bounds,e.minzoom,e.maxzoom)),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.loadTile=function(e,i){var n=e.tileID.overscaleFactor(),o=T(e.tileID.canonical.url(this.tiles,this.scheme),this.url),a={request:this.map._transformRequest(o,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*n,type:this.type,source:this.id,pixelRatio:r.devicePixelRatio,overscaling:n,showCollisionBoxes:this.map.showCollisionBoxes};function s(t,n){return e.aborted?i(null):t?i(t):(n&&n.resourceTiming&&(e.resourceTiming=n.resourceTiming),this.map._refreshExpiredTiles&&e.setExpiryData(n),e.loadVectorData(n,this.map.painter),i(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}a.request.collectResourceTiming=this._collectResourceTiming,void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",a,s.bind(this)):"loading"===e.state?e.reloadCallback=i:this.dispatcher.send("reloadTile",a,s.bind(this),e.workerID)},i.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.hasTransition=function(){return!1},i}(t.Evented),K=function(e){function i(i,n,o,r){e.call(this),this.id=i,this.dispatcher=o,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({},n),t.extend(this,t.pick(n,["url","scheme","tileSize"]))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),G(this._options,this.map._transformRequest,function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new X(n.bounds,e.minzoom,e.maxzoom)),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.loadTile=function(e,i){var n=this,o=T(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(o,t.ResourceType.Tile),function(t,o){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(t)e.state="errored",i(t);else if(o){n.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var r=n.map.painter.context,a=r.gl;e.texture=n.map.painter.getTileTexture(o.width),e.texture?(e.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,o)):(e.texture=new M(r,o,a.RGBA),e.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),r.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax)),a.generateMipmap(a.TEXTURE_2D),e.state="loaded",i(null)}})},i.prototype.abortTile=function(t,e){t.request&&(t.request.abort(),delete t.request),e()},i.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},i.prototype.hasTransition=function(){return!1},i}(t.Evented),Y=function(e){function i(i,n,o,r){e.call(this,i,n,o,r),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({},n),this.encoding=n.encoding||"mapbox"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(e,i){var n=T(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(n,t.ResourceType.Tile),function(t,n){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(t)e.state="errored",i(t);else if(n){this.map._refreshExpiredTiles&&e.setExpiryData(n),delete n.cacheControl,delete n.expires;var o=r.getImageData(n),a={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:o,encoding:this.encoding};e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",a,function(t,n){t&&(e.state="errored",i(t));n&&(e.dem=n,e.needsHillshadePrepare=!0,e.state="loaded",i(null))}.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},i.prototype._getNeighboringTiles=function(e){var i=e.canonical,n=Math.pow(2,i.z),o=(i.x-1+n)%n,r=0===i.x?e.wrap-1:e.wrap,a=(i.x+1+n)%n,s=i.x+1===n?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y).key]={backfilled:!1},i.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y-1).key]={backfilled:!1}),i.y+1<n&&(l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y+1).key]={backfilled:!1}),l},i.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},i}(K),J=function(e){function i(i,n,o,r){e.call(this),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=o,this.setEventedParent(r),this._data=n.data,this._options=t.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var a=t.default$8/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:t.default$8,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.default$8,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(i){if(i)e.fire(new t.ErrorEvent(i));else{var n={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(n.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",n))}})},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setData=function(e){var i=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(e){if(e)return i.fire(new t.ErrorEvent(e));var n={dataType:"source",sourceDataType:"content"};i._collectResourceTiming&&i._resourceTiming&&i._resourceTiming.length>0&&(n.resourceTiming=i._resourceTiming,i._resourceTiming=[]),i.fire(new t.Event("data",n))}),this},i.prototype._updateWorkerData=function(e){var i,n,o=this,r=t.extend({},this.workerOptions),a=this._data;"string"==typeof a?(r.request=this.map._transformRequest((i=a,(n=t.default.document.createElement("a")).href=i,n.href),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(a),this.workerID=this.dispatcher.send(this.type+"."+r.source+".loadData",r,function(t,i){o._removed||i&&i.abandoned||(o._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[o.id]&&(o._resourceTiming=i.resourceTiming[o.id].slice(0)),o.dispatcher.send(o.type+"."+r.source+".coalesce",null,null,o.workerID),e(t))},this.workerID)},i.prototype.loadTile=function(t,e){var i=this,n=void 0===t.workerID?"loadTile":"reloadTile",o={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:r.devicePixelRatio,overscaling:t.tileID.overscaleFactor(),showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(n,o,function(o,r){return t.unloadVectorData(),t.aborted?e(null):o?e(o):(t.loadVectorData(r,i.map.painter,"reloadTile"===n),e(null))},this.workerID)},i.prototype.abortTile=function(t){t.aborted=!0},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},i.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},i.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(t.Evented);var Q=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),tt=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};tt.prototype.bind=function(t,e,i,n,o,r,a,s){this.context=t;for(var l=this.boundPaintVertexBuffers.length!==n.length,c=0;!l&&c<n.length;c++)this.boundPaintVertexBuffers[c]!==n[c]&&(l=!0);var u=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==i||l||this.boundIndexBuffer!==o||this.boundVertexOffset!==r||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||u?this.freshBind(e,i,n,o,r,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),o&&o.dynamicDraw&&o.bind(),s&&s.bind())},tt.prototype.freshBind=function(t,e,i,n,o,r,a){var s,l=t.numAttributes,c=this.context,u=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=n,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=r,this.boundDynamicVertexBuffer2=a;else{s=c.currentNumAttributes||0;for(var h=l;h<s;h++)u.disableVertexAttribArray(h)}e.enableAttributes(u,t);for(var p=0,d=i;p<d.length;p+=1){d[p].enableAttributes(u,t)}r&&r.enableAttributes(u,t),a&&a.enableAttributes(u,t),e.bind(),e.setVertexAttribPointers(u,t,o);for(var f=0,m=i;f<m.length;f+=1){var _=m[f];_.bind(),_.setVertexAttribPointers(u,t,o)}r&&(r.bind(),r.setVertexAttribPointers(u,t,o)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(u,t,o)),c.currentNumAttributes=l},tt.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var et=function(e){function i(t,i,n,o){e.call(this),this.id=t,this.dispatcher=n,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(o),this.options=i}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._transformRequest(this.url,t.ResourceType.Image),function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(e.image=r.getImageData(n),e._finishLoading())})},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setCoordinates=function(e){this.coordinates=e;var i=this.map,n=e.map(function(t){return i.transform.locationCoordinate(W.convert(t)).zoomTo(0)}),o=this.centerCoord=t.getCoordinatesCenter(n);o.column=Math.floor(o.column),o.row=Math.floor(o.row),this.tileID=new t.CanonicalTileID(o.zoom,o.column,o.row),this.minzoom=this.maxzoom=o.zoom;var r=n.map(function(e){var i=e.zoomTo(o.zoom);return new t.default$1(Math.round((i.column-o.column)*t.default$8),Math.round((i.row-o.row)*t.default$8))});return this._boundsArray=new t.RasterBoundsArray,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,t.default$8,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,t.default$8),this._boundsArray.emplaceBack(r[2].x,r[2].y,t.default$8,t.default$8),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,e=t.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,Q.members)),this.boundsVAO||(this.boundsVAO=new tt),this.texture||(this.texture=new M(t,this.image,e.RGBA),this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[i];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},i.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(t.Evented),it=function(e){function i(t,i,n,o){e.call(this,t,i,n,o),this.roundZoom=!0,this.type="video",this.options=i}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this,i=this.options;this.urls=[];for(var n=0,o=i.urls;n<o.length;n+=1){var r=o[n];e.urls.push(e.map._transformRequest(r,t.ResourceType.Source).url)}t.getVideo(this.urls,function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(e.video=n,e.video.loop=!0,e.video.addEventListener("playing",function(){e.map._rerender()}),e.map&&e.video.play(),e._finishLoading())})},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,e=t.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,Q.members)),this.boundsVAO||(this.boundsVAO=new tt),this.texture?this.video.paused||(this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this.video)):(this.texture=new M(t,this.video,e.RGBA),this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[i];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(et),nt=function(e){function i(t,i,n,o){e.call(this,t,i,n,o),this.options=i,this.animate=void 0===i.animate||i.animate}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){this.canvas=this.canvas||t.default.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var e=this.map.painter.context,i=e.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,Q.members)),this.boundsVAO||(this.boundsVAO=new tt),this.texture?t?this.texture.update(this.canvas):this._playing&&(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.canvas)):(this.texture=new M(e,this.canvas,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var i=e[t];if(isNaN(i)||i<=0)return!0}return!1},i}(et),ot={vector:H,raster:K,"raster-dem":Y,geojson:J,video:it,image:et,canvas:nt},rt=function(e,i,n,o){var r=new ot[i.type](e,i,n,o);if(r.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+r.id);return t.bindAll(["load","abort","unload","serialize","prepare"],r),r};function at(t,e,i,n,o,r){var a=o.maxPitchScaleFactor(),s=t.tilesIn(i,a);s.sort(st);for(var l=[],c=0,u=s;c<u.length;c+=1){var h=u[c];l.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(e,h.queryGeometry,h.scale,n,o,a,t.transform.calculatePosMatrix(h.tileID.toUnwrapped()),t.id,r)})}return function(t){for(var e={},i={},n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.queryResults,s=r.wrappedTileID,l=i[s]=i[s]||{};for(var c in a)for(var u=a[c],h=l[c]=l[c]||{},p=e[c]=e[c]||[],d=0,f=u;d<f.length;d+=1){var m=f[d];h[m.featureIndex]||(h[m.featureIndex]=!0,p.push(m.feature))}}return e}(l)}function st(t,e){var i=t.tileID,n=e.tileID;return i.overscaledZ-n.overscaledZ||i.canonical.y-n.canonical.y||i.wrap-n.wrap||i.canonical.x-n.canonical.x}var lt=function(t,e,i){var n=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(t/i),this.yCellCount=Math.ceil(e/i);for(var r=0;r<this.xCellCount*this.yCellCount;r++)n.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};lt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},lt.prototype.insert=function(t,e,i,n,o){this._forEachCell(e,i,n,o,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(o)},lt.prototype.insertCircle=function(t,e,i,n){this._forEachCell(e-n,i-n,e+n,i+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(i),this.circles.push(n)},lt.prototype._insertBoxCell=function(t,e,i,n,o,r){this.boxCells[o].push(r)},lt.prototype._insertCircleCell=function(t,e,i,n,o,r){this.circleCells[o].push(r)},lt.prototype._query=function(t,e,i,n,o){if(i<0||t>this.width||n<0||e>this.height)return!o&&[];var r=[];if(t<=0&&e<=0&&this.width<=i&&this.height<=n)r=Array.prototype.slice.call(this.boxKeys).concat(this.circleKeys);else{var a={hitTest:o,seenUids:{box:{},circle:{}}};this._forEachCell(t,e,i,n,this._queryCell,r,a)}return o?r.length>0:r},lt.prototype._queryCircle=function(t,e,i,n){var o=t-i,r=t+i,a=e-i,s=e+i;if(r<0||o>this.width||s<0||a>this.height)return!n&&[];var l=[],c={hitTest:n,circle:{x:t,y:e,radius:i},seenUids:{box:{},circle:{}}};return this._forEachCell(o,a,r,s,this._queryCellCircle,l,c),n?l.length>0:l},lt.prototype.query=function(t,e,i,n){return this._query(t,e,i,n,!1)},lt.prototype.hitTest=function(t,e,i,n){return this._query(t,e,i,n,!0)},lt.prototype.hitTestCircle=function(t,e,i){return this._queryCircle(t,e,i,!0)},lt.prototype._queryCell=function(t,e,i,n,o,r,a){var s=a.seenUids,l=this.boxCells[o];if(null!==l)for(var c=this.bboxes,u=0,h=l;u<h.length;u+=1){var p=h[u];if(!s.box[p]){s.box[p]=!0;var d=4*p;if(t<=c[d+2]&&e<=c[d+3]&&i>=c[d+0]&&n>=c[d+1]){if(a.hitTest)return r.push(!0),!0;r.push(this.boxKeys[p])}}}var f=this.circleCells[o];if(null!==f)for(var m=this.circles,_=0,g=f;_<g.length;_+=1){var v=g[_];if(!s.circle[v]){s.circle[v]=!0;var y=3*v;if(this._circleAndRectCollide(m[y],m[y+1],m[y+2],t,e,i,n)){if(a.hitTest)return r.push(!0),!0;r.push(this.circleKeys[v])}}}},lt.prototype._queryCellCircle=function(t,e,i,n,o,r,a){var s=a.circle,l=a.seenUids,c=this.boxCells[o];if(null!==c)for(var u=this.bboxes,h=0,p=c;h<p.length;h+=1){var d=p[h];if(!l.box[d]){l.box[d]=!0;var f=4*d;if(this._circleAndRectCollide(s.x,s.y,s.radius,u[f+0],u[f+1],u[f+2],u[f+3]))return r.push(!0),!0}}var m=this.circleCells[o];if(null!==m)for(var _=this.circles,g=0,v=m;g<v.length;g+=1){var y=v[g];if(!l.circle[y]){l.circle[y]=!0;var x=3*y;if(this._circlesCollide(_[x],_[x+1],_[x+2],s.x,s.y,s.radius))return r.push(!0),!0}}},lt.prototype._forEachCell=function(t,e,i,n,o,r,a){for(var s=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),c=this._convertToXCellCoord(i),u=this._convertToYCellCoord(n),h=s;h<=c;h++)for(var p=l;p<=u;p++){var d=this.xCellCount*p+h;if(o.call(this,t,e,i,n,d,r,a))return}},lt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},lt.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},lt.prototype._circlesCollide=function(t,e,i,n,o,r){var a=n-t,s=o-e,l=i+r;return l*l>a*a+s*s},lt.prototype._circleAndRectCollide=function(t,e,i,n,o,r,a){var s=(r-n)/2,l=Math.abs(t-(n+s));if(l>s+i)return!1;var c=(a-o)/2,u=Math.abs(e-(o+c));if(u>c+i)return!1;if(l<=s||u<=c)return!0;var h=l-s,p=u-c;return h*h+p*p<=i*i};var ct=t.default$9.layout;function ut(e,i,n,o,r){var a=t.mat4.identity(new Float32Array(16));return i?(t.mat4.identity(a),t.mat4.scale(a,a,[1/r,1/r,1]),n||t.mat4.rotateZ(a,a,o.angle)):(t.mat4.scale(a,a,[o.width/2,-o.height/2,1]),t.mat4.translate(a,a,[1,-1,0]),t.mat4.multiply(a,a,e)),a}function ht(e,i,n,o,r){var a=t.mat4.identity(new Float32Array(16));return i?(t.mat4.multiply(a,a,e),t.mat4.scale(a,a,[r,r,1]),n||t.mat4.rotateZ(a,a,-o.angle)):(t.mat4.scale(a,a,[1,-1,1]),t.mat4.translate(a,a,[-1,-1,0]),t.mat4.scale(a,a,[2/o.width,2/o.height,1])),a}function pt(e,i){var n=[e.x,e.y,0,1];wt(n,n,i);var o=n[3];return{point:new t.default$1(n[0]/o,n[1]/o),signedDistanceFromCamera:o}}function dt(t,e){var i=t[0]/t[3],n=t[1]/t[3];return i>=-e[0]&&i<=e[0]&&n>=-e[1]&&n<=e[1]}function ft(e,i,n,o,r,a,s,l){var c=o?e.textSizeData:e.iconSizeData,u=t.evaluateSizeForZoom(c,n.transform.zoom,ct.properties[o?"text-size":"icon-size"]),h=[256/n.width*2+1,256/n.height*2+1],p=o?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;p.clear();for(var d=e.lineVertexArray,f=o?e.text.placedSymbolArray:e.icon.placedSymbolArray,m=n.transform.width/n.transform.height,_=!1,g=0;g<f.length;g++){var v=f.get(g);if(v.hidden||v.writingMode===t.WritingMode.vertical&&!_)bt(v.numGlyphs,p);else{_=!1;var y=[v.anchorX,v.anchorY,0,1];if(t.vec4.transformMat4(y,y,i),dt(y,h)){var x=.5+y[3]/n.transform.cameraToCenterDistance*.5,b=t.evaluateSizeForFeature(c,u,v),w=s?b*x:b/x,E=new t.default$1(v.anchorX,v.anchorY),T=pt(E,r).point,I={},C=gt(v,w,!1,l,i,r,a,e.glyphOffsetArray,d,p,T,E,I,m);_=C.useVertical,(C.notEnoughRoom||_||C.needsFlipping&&gt(v,w,!0,l,i,r,a,e.glyphOffsetArray,d,p,T,E,I,m).notEnoughRoom)&&bt(v.numGlyphs,p)}else bt(v.numGlyphs,p)}}o?e.text.dynamicLayoutVertexBuffer.updateData(p):e.icon.dynamicLayoutVertexBuffer.updateData(p)}function mt(t,e,i,n,o,r,a,s,l,c,u,h){var p=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),_=e.getoffsetX(p-1),g=yt(t*m,i,n,o,r,a,s.segment,d,f,l,c,u,h);if(!g)return null;var v=yt(t*_,i,n,o,r,a,s.segment,d,f,l,c,u,h);return v?{first:g,last:v}:null}function _t(e,i,n,o){if(e===t.WritingMode.horizontal&&Math.abs(n.y-i.y)>Math.abs(n.x-i.x)*o)return{useVertical:!0};return(e===t.WritingMode.vertical?i.y<n.y:i.x>n.x)?{needsFlipping:!0}:null}function gt(e,i,n,o,r,a,s,l,c,u,h,p,d,f){var m,_=i/24,g=e.lineOffsetX*i,v=e.lineOffsetY*i;if(e.numGlyphs>1){var y=e.glyphStartIndex+e.numGlyphs,x=e.lineStartIndex,b=e.lineStartIndex+e.lineLength,w=mt(_,l,g,v,n,h,p,e,c,a,d,!1);if(!w)return{notEnoughRoom:!0};var E=pt(w.first.point,s).point,T=pt(w.last.point,s).point;if(o&&!n){var I=_t(e.writingMode,E,T,f);if(I)return I}m=[w.first];for(var C=e.glyphStartIndex+1;C<y-1;C++)m.push(yt(_*l.getoffsetX(C),g,v,n,h,p,e.segment,x,b,c,a,d,!1));m.push(w.last)}else{if(o&&!n){var S=pt(p,r).point,z=e.lineStartIndex+e.segment+1,A=new t.default$1(c.getx(z),c.gety(z)),R=pt(A,r),D=R.signedDistanceFromCamera>0?R.point:vt(p,A,S,1,r),M=_t(e.writingMode,S,D,f);if(M)return M}var L=yt(_*l.getoffsetX(e.glyphStartIndex),g,v,n,h,p,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,c,a,d,!1);if(!L)return{notEnoughRoom:!0};m=[L]}for(var P=0,k=m;P<k.length;P+=1){var B=k[P];t.addDynamicAttributes(u,B.point,B.angle)}return{}}function vt(t,e,i,n,o){var r=pt(t.add(t.sub(e)._unit()),o).point,a=i.sub(r);return i.add(a._mult(n/a.mag()))}function yt(e,i,n,o,r,a,s,l,c,u,h,p,d){var f=o?e-i:e+i,m=f>0?1:-1,_=0;o&&(m*=-1,_=Math.PI),m<0&&(_+=Math.PI);for(var g=m>0?l+s:l+s+1,v=g,y=r,x=r,b=0,w=0,E=Math.abs(f);b+w<=E;){if((g+=m)<l||g>=c)return null;if(x=y,void 0===(y=p[g])){var T=new t.default$1(u.getx(g),u.gety(g)),I=pt(T,h);if(I.signedDistanceFromCamera>0)y=p[g]=I.point;else{var C=g-m;y=vt(0===b?a:new t.default$1(u.getx(C),u.gety(C)),T,x,E-b+1,h)}}b+=w,w=x.dist(y)}var S=(E-b)/w,z=y.sub(x),A=z.mult(S)._add(x);return A._add(z._unit()._perp()._mult(n*m)),{point:A,angle:_+Math.atan2(y.y-x.y,y.x-x.x),tileDistance:d?{prevTileDistance:g-m===v?0:u.gettileUnitDistanceFromAnchor(g-m),lastSegmentViewportDistance:E-b}:null}}var xt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function bt(t,e){for(var i=0;i<t;i++){var n=e.length;e.resize(n+4),e.float32.set(xt,3*n)}}function wt(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[4]*o+i[12],t[1]=i[1]*n+i[5]*o+i[13],t[3]=i[3]*n+i[7]*o+i[15],t}t.default$10.mat4;var Et=function(t,e,i){void 0===e&&(e=new lt(t.width+200,t.height+200,25)),void 0===i&&(i=new lt(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=i,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100};function Tt(t,e,i){t[e+4]=i?1:0}Et.prototype.placeCollisionBox=function(t,e,i,n){var o=this.projectAndGetPerspectiveRatio(n,t.anchorPointX,t.anchorPointY),r=i*o.perspectiveRatio,a=t.x1*r+o.point.x,s=t.y1*r+o.point.y,l=t.x2*r+o.point.x,c=t.y2*r+o.point.y;return!e&&this.grid.hitTest(a,s,l,c)?{box:[],offscreen:!1}:{box:[a,s,l,c],offscreen:this.isOffscreen(a,s,l,c)}},Et.prototype.approximateTileDistance=function(t,e,i,n,o){var r=o?1:n/this.pitchfactor,a=t.lastSegmentViewportDistance*i;return t.prevTileDistance+a+(r-1)*a*Math.abs(Math.sin(e))},Et.prototype.placeCollisionCircles=function(e,i,n,o,r,a,s,l,c,u,h,p,d){var f=[],m=this.projectAnchor(u,a.anchorX,a.anchorY),_=c/24,g=a.lineOffsetX*c,v=a.lineOffsetY*c,y=new t.default$1(a.anchorX,a.anchorY),x=mt(_,l,g,v,!1,pt(y,h).point,y,a,s,h,{},!0),b=!1,w=!0,E=m.perspectiveRatio*o,T=1/(o*n),I=0,C=0;x&&(I=this.approximateTileDistance(x.first.tileDistance,x.first.angle,T,m.cameraDistance,d),C=this.approximateTileDistance(x.last.tileDistance,x.last.angle,T,m.cameraDistance,d));for(var S=0;S<e.length;S+=5){var z=e[S],A=e[S+1],R=e[S+2],D=e[S+3];if(!x||D<-I||D>C)Tt(e,S,!1);else{var M=this.projectPoint(u,z,A),L=R*E;if(f.length>0){var P=M.x-f[f.length-4],k=M.y-f[f.length-3];if(L*L*2>P*P+k*k)if(S+8<e.length){var B=e[S+8];if(B>-I&&B<C){Tt(e,S,!1);continue}}}var O=S/5;if(f.push(M.x,M.y,L,O),Tt(e,S,!0),w=w&&this.isOffscreen(M.x-L,M.y-L,M.x+L,M.y+L),!i&&this.grid.hitTestCircle(M.x,M.y,L)){if(!p)return{circles:[],offscreen:!1};b=!0}}}return{circles:b?[]:f,offscreen:w}},Et.prototype.queryRenderedSymbols=function(e,i,n,o,r,a){var s={},l=[];if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return l;for(var c=this.transform.calculatePosMatrix(i.toUnwrapped()),u=[],h=1/0,p=1/0,d=-1/0,f=-1/0,m=0;m<e.length;m++)for(var _=e[m],g=0;g<_.length;g++){var v=this.projectPoint(c,_[g].x,_[g].y);h=Math.min(h,v.x),p=Math.min(p,v.y),d=Math.max(d,v.x),f=Math.max(f,v.y),u.push(v)}for(var y=i.key,x=[],b=this.grid.query(h,p,d,f),w=0;w<b.length;w++)b[w].sourceID===r&&b[w].tileID===y&&a[b[w].bucketInstanceId]&&x.push(b[w].boxIndex);for(var E=this.ignoredGrid.query(h,p,d,f),T=0;T<E.length;T++)E[T].sourceID===r&&E[T].tileID===y&&a[E[T].bucketInstanceId]&&x.push(E[T].boxIndex);for(var I=0;I<x.length;I++){var C=o.get(x[I]),S=C.sourceLayerIndex,z=C.featureIndex,A=C.bucketIndex;if(void 0===s[S]&&(s[S]={}),void 0===s[S][z]&&(s[S][z]={}),!s[S][z][A]){var R=this.projectAndGetPerspectiveRatio(c,C.anchorPointX,C.anchorPointY),D=n*R.perspectiveRatio,M=C.x1*D+R.point.x,L=C.y1*D+R.point.y,P=C.x2*D+R.point.x,k=C.y2*D+R.point.y,B=[new t.default$1(M,L),new t.default$1(P,L),new t.default$1(P,k),new t.default$1(M,k)];t.polygonIntersectsPolygon(u,B)&&(s[S][z][A]=!0,l.push(x[I]))}}return l},Et.prototype.insertCollisionBox=function(t,e,i,n,o,r){var a={tileID:i,sourceID:n,bucketInstanceId:o,boxIndex:r};(e?this.ignoredGrid:this.grid).insert(a,t[0],t[1],t[2],t[3])},Et.prototype.insertCollisionCircles=function(t,e,i,n,o,r){for(var a=e?this.ignoredGrid:this.grid,s=0;s<t.length;s+=4){var l={tileID:i,sourceID:n,bucketInstanceId:o,boxIndex:r+t[s+3]};a.insertCircle(l,t[s],t[s+1],t[s+2])}},Et.prototype.projectAnchor=function(t,e,i){var n=[e,i,0,1];return wt(n,n,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5,cameraDistance:n[3]}},Et.prototype.projectPoint=function(e,i,n){var o=[i,n,0,1];return wt(o,o,e),new t.default$1((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100)},Et.prototype.projectAndGetPerspectiveRatio=function(e,i,n){var o=[i,n,0,1];return wt(o,o,e),{point:new t.default$1((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5}},Et.prototype.isOffscreen=function(t,e,i,n){return i<100||t>=this.screenRightBoundary||n<100||e>this.screenBottomBoundary};var It=function(e,i){this.tileID=e,this.uid=t.uniqueId(),this.uses=0,this.tileSize=i,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.expiredRequestCount=0,this.state="loading"};It.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<r.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},It.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},It.prototype.loadVectorData=function(e,i,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){if(e.rawTileData&&(this.rawTileData=e.rawTileData),this.collisionBoxArray=e.collisionBoxArray,this.featureIndex=e.featureIndex,this.featureIndex.rawTileData=this.rawTileData,this.buckets=function(t,e){var i={};if(!e)return i;for(var n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==a.length){r.layers=a;for(var s=0,l=a;s<l.length;s+=1)i[l[s].id]=r}}return i}(e.buckets,i.style),n)for(var o in this.buckets){var r=this.buckets[o];r instanceof t.default$17&&(r.justReloaded=!0)}for(var a in this.queryPadding=0,this.buckets){var s=this.buckets[a];this.queryPadding=Math.max(this.queryPadding,i.style.getLayer(s.layerIds[0]).queryRadius(s))}e.iconAtlasImage&&(this.iconAtlasImage=e.iconAtlasImage),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new t.CollisionBoxArray},It.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.collisionBoxArray=null,this.featureIndex=null,this.state="unloaded"},It.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},It.prototype.getBucket=function(t){return this.buckets[t.id]},It.prototype.upload=function(t){for(var e in this.buckets){var i=this.buckets[e];i.uploaded||(i.upload(t),i.uploaded=!0)}var n=t.gl;this.iconAtlasImage&&(this.iconAtlasTexture=new M(t,this.iconAtlasImage,n.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new M(t,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},It.prototype.queryRenderedFeatures=function(e,i,n,o,r,a,s,l,c){if(!this.featureIndex||!this.collisionBoxArray)return{};var u={};for(var h in e){var p=this.getBucket(e[h]);p&&p instanceof t.default$17&&void 0!==p.bucketInstanceId&&(u[p.bucketInstanceId]=!0)}return this.featureIndex.query({queryGeometry:i,scale:n,tileSize:this.tileSize,posMatrix:s,transform:r,params:o,queryPadding:this.queryPadding*a,collisionBoxArray:this.collisionBoxArray,sourceID:l,collisionIndex:c,bucketInstanceIds:u},e)},It.prototype.querySourceFeatures=function(e,i){if(this.rawTileData){this.vtLayers||(this.vtLayers=new t.default$13.VectorTile(new t.default$14(this.rawTileData)).layers);var n=i?i.sourceLayer:"",o=this.vtLayers._geojsonTileLayer||this.vtLayers[n];if(o)for(var r=t.default$16(i&&i.filter),a={z:this.tileID.overscaledZ,x:this.tileID.canonical.x,y:this.tileID.canonical.y},s=0;s<o.length;s++){var l=o.feature(s);if(r({zoom:this.tileID.overscaledZ},l)){var c=new t.default$15(l,a.z,a.x,a.y);c.tile=a,e.push(c)}}}},It.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},It.prototype.setMask=function(e,i){if(!t.default$11(this.mask,e)&&(this.mask=e,this.clearMask(),!t.default$11(e,{0:!0}))){var n=new t.RasterBoundsArray,o=new t.TriangleIndexArray;this.segments=new t.default$18,this.segments.prepareSegment(0,n,o);for(var r=Object.keys(e),a=0;a<r.length;a++){var s=e[r[a]],l=t.default$8>>s.z,c=new t.default$1(s.x*l,s.y*l),u=new t.default$1(c.x+l,c.y+l),h=this.segments.prepareSegment(4,n,o);n.emplaceBack(c.x,c.y,c.x,c.y),n.emplaceBack(u.x,c.y,u.x,c.y),n.emplaceBack(c.x,u.y,c.x,u.y),n.emplaceBack(u.x,u.y,u.x,u.y);var p=h.vertexLength;o.emplaceBack(p,p+1,p+2),o.emplaceBack(p+1,p+2,p+3),h.vertexLength+=4,h.primitiveLength+=2}this.maskedBoundsBuffer=i.createVertexBuffer(n,Q.members),this.maskedIndexBuffer=i.createIndexBuffer(o)}},It.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},It.prototype.setExpiryData=function(e){var i=this.expirationTime;if(e.cacheControl){var n=t.parseCacheControl(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var o=Date.now(),r=!1;if(this.expirationTime>o)r=!1;else if(i)if(this.expirationTime<i)r=!0;else{var a=this.expirationTime-i;a?this.expirationTime=o+Math.max(a,3e4):r=!0}else r=!0;r?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},It.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)};var Ct=function(t,e){this.max=t,this.onRemove=e,this.reset()};Ct.prototype.reset=function(){for(var t in this.data)this.onRemove(this.data[t]);return this.data={},this.order=[],this},Ct.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var i=this.getAndRemove(this.order[0]);i&&this.onRemove(i)}return this},Ct.prototype.has=function(t){return t in this.data},Ct.prototype.keys=function(){return this.order},Ct.prototype.getAndRemove=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},Ct.prototype.get=function(t){return this.has(t)?this.data[t]:null},Ct.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},Ct.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this.getAndRemove(this.order[0]);e&&this.onRemove(e)}return this};var St=function(t,e,i){this.context=t;var n=t.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.unbindVAO(),t.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};St.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},St.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},St.prototype.updateData=function(t){var e=this.context.gl;this.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},St.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var zt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},At=function(t,e,i,n){this.length=e.length,this.attributes=i,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.context=t;var o=t.gl;this.buffer=o.createBuffer(),t.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};At.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},At.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},At.prototype.enableAttributes=function(t,e){for(var i=0;i<this.attributes.length;i++){var n=this.attributes[i],o=e.attributes[n.name];void 0!==o&&t.enableVertexAttribArray(o)}},At.prototype.setVertexAttribPointers=function(t,e,i){for(var n=0;n<this.attributes.length;n++){var o=this.attributes[n],r=e.attributes[o.name];void 0!==r&&t.vertexAttribPointer(r,o.components,t[zt[o.type]],!1,this.itemSize,o.offset+this.itemSize*(i||0))}},At.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var Rt=function(e){this.context=e,this.current=t.default$6.transparent};Rt.prototype.get=function(){return this.current},Rt.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t)};var Dt=function(t){this.context=t,this.current=1};Dt.prototype.get=function(){return this.current},Dt.prototype.set=function(t){this.current!==t&&(this.context.gl.clearDepth(t),this.current=t)};var Mt=function(t){this.context=t,this.current=0};Mt.prototype.get=function(){return this.current},Mt.prototype.set=function(t){this.current!==t&&(this.context.gl.clearStencil(t),this.current=t)};var Lt=function(t){this.context=t,this.current=[!0,!0,!0,!0]};Lt.prototype.get=function(){return this.current},Lt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t)};var Pt=function(t){this.context=t,this.current=!0};Pt.prototype.get=function(){return this.current},Pt.prototype.set=function(t){this.current!==t&&(this.context.gl.depthMask(t),this.current=t)};var kt=function(t){this.context=t,this.current=255};kt.prototype.get=function(){return this.current},kt.prototype.set=function(t){this.current!==t&&(this.context.gl.stencilMask(t),this.current=t)};var Bt=function(t){this.context=t,this.current={func:t.gl.ALWAYS,ref:0,mask:255}};Bt.prototype.get=function(){return this.current},Bt.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t)};var Ot=function(t){this.context=t;var e=this.context.gl;this.current=[e.KEEP,e.KEEP,e.KEEP]};Ot.prototype.get=function(){return this.current},Ot.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t)};var Ft=function(t){this.context=t,this.current=!1};Ft.prototype.get=function(){return this.current},Ft.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t}};var Nt=function(t){this.context=t,this.current=[0,1]};Nt.prototype.get=function(){return this.current},Nt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.depthRange(t[0],t[1]),this.current=t)};var Ut=function(t){this.context=t,this.current=!1};Ut.prototype.get=function(){return this.current},Ut.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t}};var Zt=function(t){this.context=t,this.current=t.gl.LESS};Zt.prototype.get=function(){return this.current},Zt.prototype.set=function(t){this.current!==t&&(this.context.gl.depthFunc(t),this.current=t)};var Vt=function(t){this.context=t,this.current=!1};Vt.prototype.get=function(){return this.current},Vt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t}};var jt=function(t){this.context=t;var e=this.context.gl;this.current=[e.ONE,e.ZERO]};jt.prototype.get=function(){return this.current},jt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.blendFunc(t[0],t[1]),this.current=t)};var $t=function(e){this.context=e,this.current=t.default$6.transparent};$t.prototype.get=function(){return this.current},$t.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t)};var Gt=function(t){this.context=t,this.current=null};Gt.prototype.get=function(){return this.current},Gt.prototype.set=function(t){this.current!==t&&(this.context.gl.useProgram(t),this.current=t)};var Wt=function(t){this.context=t,this.current=1};Wt.prototype.get=function(){return this.current},Wt.prototype.set=function(e){var i=this.context.lineWidthRange,n=t.clamp(e,i[0],i[1]);this.current!==n&&(this.context.gl.lineWidth(n),this.current=e)};var qt=function(t){this.context=t,this.current=t.gl.TEXTURE0};qt.prototype.get=function(){return this.current},qt.prototype.set=function(t){this.current!==t&&(this.context.gl.activeTexture(t),this.current=t)};var Xt=function(t){this.context=t;var e=this.context.gl;this.current=[0,0,e.drawingBufferWidth,e.drawingBufferHeight]};Xt.prototype.get=function(){return this.current},Xt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t)};var Ht=function(t){this.context=t,this.current=null};Ht.prototype.get=function(){return this.current},Ht.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t}};var Kt=function(t){this.context=t,this.current=null};Kt.prototype.get=function(){return this.current},Kt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t}};var Yt=function(t){this.context=t,this.current=null};Yt.prototype.get=function(){return this.current},Yt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t}};var Jt=function(t){this.context=t,this.current=null};Jt.prototype.get=function(){return this.current},Jt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t}};var Qt=function(t){this.context=t,this.current=null};Qt.prototype.get=function(){return this.current},Qt.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t};var te=function(t){this.context=t,this.current=null};te.prototype.get=function(){return this.current},te.prototype.set=function(t){this.current!==t&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t)};var ee=function(t){this.context=t,this.current=4};ee.prototype.get=function(){return this.current},ee.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t}};var ie=function(t){this.context=t,this.current=!1};ie.prototype.get=function(){return this.current},ie.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t}};var ne=function(t,e){this.context=t,this.current=null,this.parent=e};ne.prototype.get=function(){return this.current};var oe=function(t){function e(e,i){t.call(this,e,i),this.dirty=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e.prototype.setDirty=function(){this.dirty=!0},e}(ne),re=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t}},e}(ne),ae=function(t,e,i){this.context=t,this.width=e,this.height=i;var n=t.gl,o=this.framebuffer=n.createFramebuffer();this.colorAttachment=new oe(t,o),this.depthAttachment=new re(t,o)};ae.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var i=this.depthAttachment.get();i&&t.deleteRenderbuffer(i),t.deleteFramebuffer(this.framebuffer)};var se=function(t,e,i){this.func=t,this.mask=e,this.range=i};se.ReadOnly=!1,se.ReadWrite=!0,se.disabled=new se(519,se.ReadOnly,[0,1]);var le=function(t,e,i,n,o,r){this.test=t,this.ref=e,this.mask=i,this.fail=n,this.depthFail=o,this.pass=r};le.disabled=new le({func:519,mask:0},0,0,7680,7680,7680);var ce=function(t,e,i){this.blendFunction=t,this.blendColor=e,this.mask=i};ce.Replace=[1,0],ce.disabled=new ce(ce.Replace,t.default$6.transparent,[!1,!1,!1,!1]),ce.unblended=new ce(ce.Replace,t.default$6.transparent,[!0,!0,!0,!0]),ce.alphaBlended=new ce([1,771],t.default$6.transparent,[!0,!0,!0,!0]);var ue=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.clearColor=new Rt(this),this.clearDepth=new Dt(this),this.clearStencil=new Mt(this),this.colorMask=new Lt(this),this.depthMask=new Pt(this),this.stencilMask=new kt(this),this.stencilFunc=new Bt(this),this.stencilOp=new Ot(this),this.stencilTest=new Ft(this),this.depthRange=new Nt(this),this.depthTest=new Ut(this),this.depthFunc=new Zt(this),this.blend=new Vt(this),this.blendFunc=new jt(this),this.blendColor=new $t(this),this.program=new Gt(this),this.lineWidth=new Wt(this),this.activeTexture=new qt(this),this.viewport=new Xt(this),this.bindFramebuffer=new Ht(this),this.bindRenderbuffer=new Kt(this),this.bindTexture=new Yt(this),this.bindVertexBuffer=new Jt(this),this.bindElementBuffer=new Qt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new te(this),this.pixelStoreUnpack=new ee(this),this.pixelStoreUnpackPremultiplyAlpha=new ie(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};ue.prototype.createIndexBuffer=function(t,e){return new St(this,t,e)},ue.prototype.createVertexBuffer=function(t,e,i){return new At(this,t,e,i)},ue.prototype.createRenderbuffer=function(t,e,i){var n=this.gl,o=n.createRenderbuffer();return this.bindRenderbuffer.set(o),n.renderbufferStorage(n.RENDERBUFFER,t,e,i),this.bindRenderbuffer.set(null),o},ue.prototype.createFramebuffer=function(t,e){return new ae(this,t,e)},ue.prototype.clear=function(t){var e=t.color,i=t.depth,n=this.gl,o=0;e&&(o|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==i&&(o|=n.DEPTH_BUFFER_BIT,this.clearDepth.set(i),this.depthMask.set(!0)),n.clear(o)},ue.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},ue.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},ue.prototype.setColorMode=function(e){t.default$11(e.blendFunction,ce.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)};var he=function(e){function i(t,i,n){var o=this;e.call(this),this.id=t,this.dispatcher=n,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))}),this.on("error",function(){o._sourceErrored=!0}),this._source=rt(t,i,n,this),this._tiles={},this._cache=new Ct(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},i.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},i.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},i.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._tiles)this._tiles[e].upload(t)},i.prototype.getIds=function(){var e=this;return Object.keys(this._tiles).map(Number).sort(function(i,n){var o=e._tiles[i].tileID,r=e._tiles[n].tileID,a=new t.default$1(o.canonical.x,o.canonical.y).rotate(e.transform.angle),s=new t.default$1(r.canonical.x,r.canonical.y).rotate(e.transform.angle);return o.overscaledZ-r.overscaledZ||s.y-a.y||s.x-a.x})},i.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},i.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0,{});return!!e&&this._isIdRenderable(e.tileID.key)},i.prototype._isIdRenderable=function(t){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._resetCache(),this._tiles)this._reloadTile(t,"reloading")},i.prototype._reloadTile=function(t,e){var i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)))},i.prototype._tileLoaded=function(e,i,n,o){if(o)return e.state="errored",void(404!==o.status?this._source.fire(new t.ErrorEvent(o,{tile:e})):this.update(this.transform));e.timeAdded=r.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID})),this.map&&(this.map.painter.tileExtentVAO.vao=null)},i.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),i=0;i<e.length;i++){var n=e[i];if(t.neighboringTiles&&t.neighboringTiles[n]){var o=this.getTileByID(n);r(t,o),r(o,t)}}function r(t,e){t.needsHillshadePrepare=!0;var i=e.tileID.canonical.x-t.tileID.canonical.x,n=e.tileID.canonical.y-t.tileID.canonical.y,o=Math.pow(2,t.tileID.canonical.z),r=e.tileID.key;0===i&&0===n||Math.abs(n)>1||(Math.abs(i)>1&&(1===Math.abs(i+o)?i+=o:1===Math.abs(i-o)&&(i-=o)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,i,n),t.neighboringTiles&&t.neighboringTiles[r]&&(t.neighboringTiles[r].backfilled=!0)))}},i.prototype.getTile=function(t){return this.getTileByID(t.key)},i.prototype.getTileByID=function(t){return this._tiles[t]},i.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},i.prototype._findLoadedChildren=function(t,e,i){var n=!1;for(var o in this._tiles){var r=this._tiles[o];if(!(i[o]||!r.hasData()||r.tileID.overscaledZ<=t.overscaledZ||r.tileID.overscaledZ>e)){var a=Math.pow(2,r.tileID.canonical.z-t.canonical.z);if(Math.floor(r.tileID.canonical.x/a)===t.canonical.x&&Math.floor(r.tileID.canonical.y/a)===t.canonical.y)for(i[o]=r.tileID,n=!0;r&&r.tileID.overscaledZ-1>t.overscaledZ;){var s=r.tileID.scaledTo(r.tileID.overscaledZ-1);if(!s)break;(r=this._tiles[s.key])&&r.hasData()&&(delete i[o],i[s.key]=s)}}}return n},i.prototype.findLoadedParent=function(t,e,i){for(var n=t.overscaledZ-1;n>=e;n--){var o=t.scaledTo(n);if(!o)return;var r=String(o.key),a=this._tiles[r];if(a&&a.hasData())return i[r]=o,a;if(this._cache.has(r))return i[r]=o,this._cache.get(r)}},i.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),i=Math.floor(5*e),n="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(n)},i.prototype.update=function(e){var n=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var o;this.updateCacheSize(e),this._coveredTiles={},this.used?this._source.tileID?o=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)}):(o=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(o=o.filter(function(t){return n._source.hasTile(t)}))):o=[];var a,s=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),l=Math.max(s-i.maxOverzooming,this._source.minzoom),c=Math.max(s+i.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(o,s),h={};if(de(this._source.type))for(var p=Object.keys(u),d=0;d<p.length;d++){var f=p[d],m=u[f],_=n._tiles[f];if(_&&(void 0===_.fadeEndTime||_.fadeEndTime>=r.now())){n._findLoadedChildren(m,c,u)&&(u[f]=m);var g=n.findLoadedParent(m,l,h);g&&n._addTile(g.tileID)}}for(a in h)u[a]||(n._coveredTiles[a]=!0);for(a in h)u[a]=h[a];for(var v=t.keysDifference(this._tiles,u),y=0;y<v.length;y++)n._removeTile(v[y])}},i.prototype._updateRetainedTiles=function(t,e){for(var n={},o={},r=Math.max(e-i.maxOverzooming,this._source.minzoom),a=Math.max(e+i.maxUnderzooming,this._source.minzoom),s=0;s<t.length;s++){var l=t[s],c=this._addTile(l),u=!1;if(c.hasData())n[l.key]=l;else{u=c.wasRequested(),n[l.key]=l;var h=!0;if(e+1>this._source.maxzoom){var p=l.children(this._source.maxzoom)[0],d=this.getTile(p);d&&d.hasData()?n[p.key]=p:h=!1}else{this._findLoadedChildren(l,a,n);for(var f=l.children(this._source.maxzoom),m=0;m<f.length;m++)if(!n[f[m].key]){h=!1;break}}if(!h)for(var _=l.overscaledZ-1;_>=r;--_){var g=l.scaledTo(_);if(o[g.key])break;if(o[g.key]=!0,!(c=this.getTile(g))&&u&&(c=this._addTile(g)),c&&(n[g.key]=g,u=c.wasRequested(),c.hasData()))break}}}return n},i.prototype._addTile=function(e){var i=this._tiles[e.key];if(i)return i;(i=this._cache.getAndRemove(e.key))&&this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i));var n=Boolean(i);return n||(i=new It(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(i,this._tileLoaded.bind(this,i,e.key,i.state))),i?(i.uses++,this._tiles[e.key]=i,n||this._source.fire(new t.Event("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i):null},i.prototype._setTileReloadTimer=function(t,e){var i=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var n=e.getExpiryTimeout();n&&(this._timers[t]=setTimeout(function(){i._reloadTile(t,"expired"),delete i._timers[t]},n))},i.prototype._setCacheInvalidationTimer=function(t,e){var i=this;t in this._cacheTimers&&(clearTimeout(this._cacheTimers[t]),delete this._cacheTimers[t]);var n=e.getExpiryTimeout();n&&(this._cacheTimers[t]=setTimeout(function(){i._cache.remove(t),delete i._cacheTimers[t]},n))},i.prototype._removeTile=function(t){var e=this._tiles[t];if(e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),!(e.uses>0)))if(e.hasData()){e.tileID=e.tileID.wrapped();var i=e.tileID.key;this._cache.add(i,e),this._setCacheInvalidationTimer(i,e)}else e.aborted=!0,this._abortTile(e),this._unloadTile(e)},i.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._resetCache()},i.prototype._resetCache=function(){for(var t in this._cacheTimers)clearTimeout(this._cacheTimers[t]);this._cacheTimers={},this._cache.reset()},i.prototype.tilesIn=function(e,i){for(var n=[],o=this.getIds(),r=1/0,a=1/0,s=-1/0,l=-1/0,c=e[0].zoom,u=0;u<e.length;u++){var h=e[u];r=Math.min(r,h.column),a=Math.min(a,h.row),s=Math.max(s,h.column),l=Math.max(l,h.row)}for(var p=0;p<o.length;p++){var d=this._tiles[o[p]],f=d.tileID,m=Math.pow(2,this.transform.zoom-d.tileID.overscaledZ),_=i*d.queryPadding*t.default$8/d.tileSize/m,g=[pe(f,new t.default$19(r,a,c)),pe(f,new t.default$19(s,l,c))];if(g[0].x-_<t.default$8&&g[0].y-_<t.default$8&&g[1].x+_>=0&&g[1].y+_>=0){for(var v=[],y=0;y<e.length;y++)v.push(pe(f,e[y]));n.push({tile:d,tileID:f,queryGeometry:[v],scale:m})}}return n},i.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map(function(e){return t._tiles[e].tileID}),i=0,n=e;i<n.length;i+=1){var o=n[i];o.posMatrix=t.transform.calculatePosMatrix(o.toUnwrapped())}return e},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(de(this._source.type))for(var t in this._tiles){var e=this._tiles[t];if(void 0!==e.fadeEndTime&&e.fadeEndTime>=r.now())return!0}return!1},i}(t.Evented);function pe(e,i){var n=i.zoomTo(e.canonical.z);return new t.default$1((n.column-(e.canonical.x+e.wrap*Math.pow(2,e.canonical.z)))*t.default$8,(n.row-e.canonical.y)*t.default$8)}function de(t){return"raster"===t||"image"===t||"video"===t}function fe(){return new t.default.Worker(An.workerUrl)}he.maxOverzooming=10,he.maxUnderzooming=3;var me,_e=function(){this.active={}};function ge(e,i){var n={};for(var o in e)"ref"!==o&&(n[o]=e[o]);return t.default$20.forEach(function(t){t in i&&(n[t]=i[t])}),n}function ve(t){t=t.slice();for(var e=Object.create(null),i=0;i<t.length;i++)e[t[i].id]=t[i];for(var n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=ge(t[n],e[t[n].ref]));return t}_e.prototype.acquire=function(t){if(!this.workers){var e=An.workerCount;for(this.workers=[];this.workers.length<e;)this.workers.push(new fe)}return this.active[t]=!0,this.workers.slice()},_e.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)};var ye={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function xe(t,e,i){i.push({command:ye.addSource,args:[t,e[t]]})}function be(t,e,i){e.push({command:ye.removeSource,args:[t]}),i[t]=!0}function we(t,e,i,n){be(t,i,n),xe(t,e,i)}function Ee(e,i,n){var o;for(o in e[n])if(e[n].hasOwnProperty(o)&&"data"!==o&&!t.default$11(e[n][o],i[n][o]))return!1;for(o in i[n])if(i[n].hasOwnProperty(o)&&"data"!==o&&!t.default$11(e[n][o],i[n][o]))return!1;return!0}function Te(e,i,n,o,r,a){var s;for(s in e=e||{},i=i||{},e)e.hasOwnProperty(s)&&(t.default$11(e[s],i[s])||n.push({command:a,args:[o,s,i[s],r]}));for(s in i)i.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.default$11(e[s],i[s])||n.push({command:a,args:[o,s,i[s],r]}))}function Ie(t){return t.id}function Ce(t,e){return t[e.id]=e,t}function Se(e,i){if(!e)return[{command:ye.setStyle,args:[i]}];var n=[];try{if(!t.default$11(e.version,i.version))return[{command:ye.setStyle,args:[i]}];t.default$11(e.center,i.center)||n.push({command:ye.setCenter,args:[i.center]}),t.default$11(e.zoom,i.zoom)||n.push({command:ye.setZoom,args:[i.zoom]}),t.default$11(e.bearing,i.bearing)||n.push({command:ye.setBearing,args:[i.bearing]}),t.default$11(e.pitch,i.pitch)||n.push({command:ye.setPitch,args:[i.pitch]}),t.default$11(e.sprite,i.sprite)||n.push({command:ye.setSprite,args:[i.sprite]}),t.default$11(e.glyphs,i.glyphs)||n.push({command:ye.setGlyphs,args:[i.glyphs]}),t.default$11(e.transition,i.transition)||n.push({command:ye.setTransition,args:[i.transition]}),t.default$11(e.light,i.light)||n.push({command:ye.setLight,args:[i.light]});var o={},r=[];!function(e,i,n,o){var r;for(r in e=e||{},i=i||{},e)e.hasOwnProperty(r)&&(i.hasOwnProperty(r)||be(r,n,o));for(r in i)i.hasOwnProperty(r)&&(e.hasOwnProperty(r)?t.default$11(e[r],i[r])||("geojson"===e[r].type&&"geojson"===i[r].type&&Ee(e,i,r)?n.push({command:ye.setGeoJSONSourceData,args:[r,i[r].data]}):we(r,i,n,o)):xe(r,i,n))}(e.sources,i.sources,r,o);var a=[];e.layers&&e.layers.forEach(function(t){o[t.source]?n.push({command:ye.removeLayer,args:[t.id]}):a.push(t)}),n=n.concat(r),function(e,i,n){e=e||[],i=i||[];var o,r,a,s,l,c,u,h=e.map(Ie),p=i.map(Ie),d=e.reduce(Ce,{}),f=i.reduce(Ce,{}),m=h.slice(),_=Object.create(null);for(o=0,r=0;o<h.length;o++)a=h[o],f.hasOwnProperty(a)?r++:(n.push({command:ye.removeLayer,args:[a]}),m.splice(m.indexOf(a,r),1));for(o=0,r=0;o<p.length;o++)a=p[p.length-1-o],m[m.length-1-o]!==a&&(d.hasOwnProperty(a)?(n.push({command:ye.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-r),1)):r++,c=m[m.length-o],n.push({command:ye.addLayer,args:[f[a],c]}),m.splice(m.length-o,0,a),_[a]=!0);for(o=0;o<p.length;o++)if(s=d[a=p[o]],l=f[a],!_[a]&&!t.default$11(s,l))if(t.default$11(s.source,l.source)&&t.default$11(s["source-layer"],l["source-layer"])&&t.default$11(s.type,l.type)){for(u in Te(s.layout,l.layout,n,a,null,ye.setLayoutProperty),Te(s.paint,l.paint,n,a,null,ye.setPaintProperty),t.default$11(s.filter,l.filter)||n.push({command:ye.setFilter,args:[a,l.filter]}),t.default$11(s.minzoom,l.minzoom)&&t.default$11(s.maxzoom,l.maxzoom)||n.push({command:ye.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?Te(s[u],l[u],n,a,u.slice(6),ye.setPaintProperty):t.default$11(s[u],l[u])||n.push({command:ye.setLayerProperty,args:[a,u,l[u]]}));for(u in l)l.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?Te(s[u],l[u],n,a,u.slice(6),ye.setPaintProperty):t.default$11(s[u],l[u])||n.push({command:ye.setLayerProperty,args:[a,u,l[u]]}))}else n.push({command:ye.removeLayer,args:[a]}),c=m[m.lastIndexOf(a)+1],n.push({command:ye.addLayer,args:[l,c]})}(a,i.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:ye.setStyle,args:[i]}]}return n}function ze(e,i,n){return i*(t.default$8/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}var Ae=t.default$9.layout,Re=function(t,e,i,n){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):n&&i?1:0,this.placed=i};Re.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var De=function(t,e,i,n,o){this.text=new Re(t?t.text:null,e,i,o),this.icon=new Re(t?t.icon:null,e,n,o)};De.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Me=function(t,e,i){this.text=t,this.icon=e,this.skipFade=i},Le=function(t,e){this.transform=t.clone(),this.collisionIndex=new Et(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e};function Pe(t,e,i){t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0)}Le.prototype.placeLayerTile=function(e,i,n,o){var r=i.getBucket(e);if(r){var a=r.layers[0].layout,s=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),l=i.tileSize/t.default$8,c=this.transform.calculatePosMatrix(i.tileID.toUnwrapped()),u=ut(c,"map"===a.get("text-pitch-alignment"),"map"===a.get("text-rotation-alignment"),this.transform,ze(i,1,this.transform.zoom)),h=ut(c,"map"===a.get("icon-pitch-alignment"),"map"===a.get("icon-rotation-alignment"),this.transform,ze(i,1,this.transform.zoom));this.placeLayerBucket(r,c,u,h,s,l,n,o,i.collisionBoxArray,i.tileID.key,e.source)}},Le.prototype.placeLayerBucket=function(e,i,n,o,r,a,s,l,c,u,h){for(var p=e.layers[0].layout,d=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom,Ae.properties["text-size"]),f=!e.hasTextData()||p.get("text-optional"),m=!e.hasIconData()||p.get("icon-optional"),_=0,g=e.symbolInstances;_<g.length;_+=1){var v=g[_];if(!l[v.crossTileID]){var y=void 0!==v.feature.text,x=void 0!==v.feature.icon,b=!0,w=null,E=null,T=null;v.collisionArrays||(v.collisionArrays=e.deserializeCollisionBoxes(c,v.textBoxStartIndex,v.textBoxEndIndex,v.iconBoxStartIndex,v.iconBoxEndIndex)),v.collisionArrays.textBox&&(y=(w=this.collisionIndex.placeCollisionBox(v.collisionArrays.textBox,p.get("text-allow-overlap"),a,i)).box.length>0,b=b&&w.offscreen);var I=v.collisionArrays.textCircles;if(I){var C=e.text.placedSymbolArray.get(v.placedTextSymbolIndices[0]),S=t.evaluateSizeForFeature(e.textSizeData,d,C);E=this.collisionIndex.placeCollisionCircles(I,p.get("text-allow-overlap"),r,a,v.key,C,e.lineVertexArray,e.glyphOffsetArray,S,i,n,s,"map"===p.get("text-pitch-alignment")),y=p.get("text-allow-overlap")||E.circles.length>0,b=b&&E.offscreen}v.collisionArrays.iconBox&&(x=(T=this.collisionIndex.placeCollisionBox(v.collisionArrays.iconBox,p.get("icon-allow-overlap"),a,i)).box.length>0,b=b&&T.offscreen),f||m?m?f||(x=x&&y):y=x&&y:x=y=x&&y,y&&w&&this.collisionIndex.insertCollisionBox(w.box,p.get("text-ignore-placement"),u,h,e.bucketInstanceId,v.textBoxStartIndex),x&&T&&this.collisionIndex.insertCollisionBox(T.box,p.get("icon-ignore-placement"),u,h,e.bucketInstanceId,v.iconBoxStartIndex),y&&E&&this.collisionIndex.insertCollisionCircles(E.circles,p.get("text-ignore-placement"),u,h,e.bucketInstanceId,v.textBoxStartIndex),this.placements[v.crossTileID]=new Me(y,x,b||e.justReloaded),l[v.crossTileID]=!0}}e.justReloaded=!1},Le.prototype.commit=function(t,e){this.commitTime=e;var i=!1,n=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,o=t?t.opacities:{};for(var r in this.placements){var a=this.placements[r],s=o[r];s?(this.opacities[r]=new De(s,n,a.text,a.icon),i=i||a.text!==s.text.placed||a.icon!==s.icon.placed):(this.opacities[r]=new De(null,n,a.text,a.icon,a.skipFade),i=i||a.text||a.icon)}for(var l in o){var c=o[l];if(!this.opacities[l]){var u=new De(c,n,!1,!1);u.isHidden()||(this.opacities[l]=u,i=i||c.text.placed||c.icon.placed)}}i?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},Le.prototype.updateLayerOpacities=function(t,e){for(var i={},n=0,o=e;n<o.length;n+=1){var r=o[n],a=r.getBucket(t);a&&this.updateBucketOpacities(a,i,r.collisionBoxArray)}},Le.prototype.updateBucketOpacities=function(t,e,i){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();for(var n=t.layers[0].layout,o=new De(null,0,!1,!1,!0),r=new De(null,0,n.get("text-allow-overlap"),n.get("icon-allow-overlap"),!0),a=0;a<t.symbolInstances.length;a++){var s=t.symbolInstances[a],l=e[s.crossTileID],c=this.opacities[s.crossTileID];l?c=o:c||(c=r,this.opacities[s.crossTileID]=c),e[s.crossTileID]=!0;var u=s.numGlyphVertices>0||s.numVerticalGlyphVertices>0,h=s.numIconVertices>0;if(u){for(var p=Ve(c.text),d=(s.numGlyphVertices+s.numVerticalGlyphVertices)/4,f=0;f<d;f++)t.text.opacityVertexArray.emplaceBack(p);for(var m=0,_=s.placedTextSymbolIndices;m<_.length;m+=1){var g=_[m];t.text.placedSymbolArray.get(g).hidden=c.text.isHidden()}}if(h){for(var v=Ve(c.icon),y=0;y<s.numIconVertices/4;y++)t.icon.opacityVertexArray.emplaceBack(v);t.icon.placedSymbolArray.get(a).hidden=c.icon.isHidden()}s.collisionArrays||(s.collisionArrays=t.deserializeCollisionBoxes(i,s.textBoxStartIndex,s.textBoxEndIndex,s.iconBoxStartIndex,s.iconBoxEndIndex));var x=s.collisionArrays;if(x){x.textBox&&t.hasCollisionBoxData()&&Pe(t.collisionBox.collisionVertexArray,c.text.placed,!1),x.iconBox&&t.hasCollisionBoxData()&&Pe(t.collisionBox.collisionVertexArray,c.icon.placed,!1);var b=x.textCircles;if(b&&t.hasCollisionCircleData())for(var w=0;w<b.length;w+=5){var E=l||0===b[w+4];Pe(t.collisionCircle.collisionVertexArray,c.text.placed,E)}}}t.sortFeatures(this.transform.angle),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},Le.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},Le.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},Le.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},Le.prototype.setStale=function(){this.stale=!0};var ke=Math.pow(2,25),Be=Math.pow(2,24),Oe=Math.pow(2,17),Fe=Math.pow(2,16),Ne=Math.pow(2,9),Ue=Math.pow(2,8),Ze=Math.pow(2,1);function Ve(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,i=Math.floor(127*t.opacity);return i*ke+e*Be+i*Oe+e*Fe+i*Ne+e*Ue+i*Ze+e}var je=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};je.prototype.continuePlacement=function(t,e,i,n,o){for(;this._currentTileIndex<t.length;){var r=t[this._currentTileIndex];if(e.placeLayerTile(n,r,i,this._seenCrossTileIDs),this._currentTileIndex++,o())return!0}};var $e=function(t,e,i,n,o){this.placement=new Le(t,o),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=n,this._done=!1};$e.prototype.isDone=function(){return this._done},$e.prototype.continuePlacement=function(t,e,i){for(var n=this,o=r.now(),a=function(){var t=r.now()-o;return!n._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=e[t[n._currentPlacementIndex]],l=n.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(n._inProgressLayer||(n._inProgressLayer=new je),n._inProgressLayer.continuePlacement(i[s.source],n.placement,n._showCollisionBoxes,s,a))return;delete n._inProgressLayer}n._currentPlacementIndex--}this._done=!0},$e.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement};var Ge=512/t.default$8/2,We=function(t,e,i){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(var n=0,o=e;n<o.length;n+=1){var r=o[n],a=r.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:r.crossTileID,coord:this.getScaledCoordinates(r,t)})}};We.prototype.getScaledCoordinates=function(e,i){var n=i.canonical.z-this.tileID.canonical.z,o=Ge/Math.pow(2,n),r=e.anchor;return{x:Math.floor((i.canonical.x*t.default$8+r.x)*o),y:Math.floor((i.canonical.y*t.default$8+r.y)*o)}},We.prototype.findMatches=function(t,e,i){for(var n=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),o=0,r=t;o<r.length;o+=1){var a=r[o];if(!a.crossTileID){var s=this.indexedSymbolInstances[a.key];if(s)for(var l=this.getScaledCoordinates(a,e),c=0,u=s;c<u.length;c+=1){var h=u[c];if(Math.abs(h.coord.x-l.x)<=n&&Math.abs(h.coord.y-l.y)<=n&&!i[h.crossTileID]){i[h.crossTileID]=!0,a.crossTileID=h.crossTileID;break}}}}};var qe=function(){this.maxCrossTileID=0};qe.prototype.generate=function(){return++this.maxCrossTileID};var Xe=function(){this.indexes={},this.usedCrossTileIDs={}};Xe.prototype.addBucket=function(t,e,i){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var n=0,o=e.symbolInstances;n<o.length;n+=1){o[n].crossTileID=0}this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var r=this.usedCrossTileIDs[t.overscaledZ];for(var a in this.indexes){var s=this.indexes[a];if(Number(a)>t.overscaledZ)for(var l in s){var c=s[l];c.tileID.isChildOf(t)&&c.findMatches(e.symbolInstances,t,r)}else{var u=s[t.scaledTo(Number(a)).key];u&&u.findMatches(e.symbolInstances,t,r)}}for(var h=0,p=e.symbolInstances;h<p.length;h+=1){var d=p[h];d.crossTileID||(d.crossTileID=i.generate(),r[d.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new We(t,e.symbolInstances,e.bucketInstanceId),!0},Xe.prototype.removeBucketCrossTileIDs=function(t,e){for(var i in e.indexedSymbolInstances)for(var n=0,o=e.indexedSymbolInstances[i];n<o.length;n+=1){var r=o[n];delete this.usedCrossTileIDs[t][r.crossTileID]}},Xe.prototype.removeStaleBuckets=function(t){var e=!1;for(var i in this.indexes){var n=this.indexes[i];for(var o in n)t[n[o].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,n[o]),delete n[o],e=!0)}return e};var He=function(){this.layerIndexes={},this.crossTileIDs=new qe,this.maxBucketInstanceId=0};He.prototype.addLayer=function(t,e){var i=this.layerIndexes[t.id];void 0===i&&(i=this.layerIndexes[t.id]=new Xe);for(var n=!1,o={},r=0,a=e;r<a.length;r+=1){var s=a[r],l=s.getBucket(t);l&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(s.tileID,l,this.crossTileIDs)&&(n=!0),o[l.bucketInstanceId]=!0)}return i.removeStaleBuckets(o)&&(n=!0),n},He.prototype.pruneUnusedLayers=function(t){var e={};for(var i in t.forEach(function(t){e[t]=!0}),this.layerIndexes)e[i]||delete this.layerIndexes[i]};var Ke=t.pick(ye,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ye=t.pick(ye,["setCenter","setZoom","setBearing","setPitch"]),Je=function(e){function i(n,o){var r=this;void 0===o&&(o={}),e.call(this),this.map=n,this.dispatcher=new $((me||(me=new _e),me),this),this.imageManager=new L,this.glyphManager=new N(n._transformRequest,o.localIdeographFontFamily),this.lineAtlas=new j(256,512),this.crossTileSymbolIndex=new He,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.default$23,this._loaded=!1,this._resetUpdates();var a=this;this._rtlTextPluginCallback=i.registerForPluginAvailability(function(t){for(var e in a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.errorCallback),a.sourceCaches)a.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=r.sourceCaches[t.sourceId];if(e){var i=e.getSource();if(i&&i.vectorLayerIds)for(var n in r._layers){var o=r._layers[n];o.source===i.id&&r._validateLayer(o)}}}})}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.loadURL=function(e,i){var n=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var o="boolean"==typeof i.validate?i.validate:!y(e);e=function(t,e){if(!y(t))return t;var i=C(t);return i.path="/styles/v1"+i.path,v(i,e)}(e,i.accessToken);var r=this.map._transformRequest(e,t.ResourceType.Style);t.getJSON(r,function(e,i){e?n.fire(new t.ErrorEvent(e)):i&&n._load(i,o)})},i.prototype.loadJSON=function(e,i){var n=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"})),r.frame(function(){n._load(e,!1!==i.validate)})},i.prototype._load=function(e,i){var n=this;if(!i||!t.emitValidationErrors(this,t.validateStyle(e))){for(var o in this._loaded=!0,this.stylesheet=e,e.sources)n.addSource(o,e.sources[o],{validate:!1});e.sprite?function(e,i,n){var o,a,s,l=r.devicePixelRatio>1?"@2x":"";function c(){if(s)n(s);else if(o&&a){var e=r.getImageData(a),i={};for(var l in o){var c=o[l],u=c.width,h=c.height,p=c.x,d=c.y,f=c.sdf,m=c.pixelRatio,_=new t.RGBAImage({width:u,height:h});t.RGBAImage.copy(e,_,{x:p,y:d},{x:0,y:0},{width:u,height:h}),i[l]={data:_,pixelRatio:m,sdf:f}}n(null,i)}}t.getJSON(i(w(e,l,".json"),t.ResourceType.SpriteJSON),function(t,e){s||(s=t,o=e,c())}),t.getImage(i(w(e,l,".png"),t.ResourceType.SpriteImage),function(t,e){s||(s=t,a=e,c())})}(e.sprite,this.map._transformRequest,function(e,i){if(e)n.fire(new t.ErrorEvent(e));else if(i)for(var o in i)n.imageManager.addImage(o,i[o]);n.imageManager.setLoaded(!0),n.fire(new t.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var a=ve(this.stylesheet.layers);this._order=a.map(function(t){return t.id}),this._layers={};for(var s=0,l=a;s<l.length;s+=1){var c=l[s];(c=t.default$22(c)).setEventedParent(n,{layer:{id:c.id}}),n._layers[c.id]=c}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new V(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},i.prototype._validateLayer=function(e){var i=this.sourceCaches[e.source];if(i){var n=e.sourceLayer;if(n){var o=i.getSource();("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(n))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+o.id+'" as specified by style layer "'+e.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(e){if(this._loaded){if(this._changed){var i=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);for(var o in(i.length||n.length)&&this._updateWorkerLayers(i,n),this._updatedSources){var r=this._updatedSources[o];"reload"===r?this._reloadSource(o):"clear"===r&&this._clearSource(o)}for(var a in this._updatedPaintProps)this._layers[a].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates(),this.fire(new t.Event("data",{dataType:"style"}))}for(var s in this.sourceCaches)this.sourceCaches[s].used=!1;for(var l=0,c=this._order;l<c.length;l+=1){var u=c[l],h=this._layers[u];h.recalculate(e),!h.isHidden(e.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}this.light.recalculate(e),this.z=e.zoom}},i.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},i.prototype.setState=function(e){var i=this;if(this._checkLoaded(),t.emitValidationErrors(this,t.validateStyle(e)))return!1;(e=t.clone(e)).layers=ve(e.layers);var n=Se(this.serialize(),e).filter(function(t){return!(t.command in Ye)});if(0===n.length)return!1;var o=n.filter(function(t){return!(t.command in Ke)});if(o.length>0)throw new Error("Unimplemented: "+o.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&i[t.command].apply(i,t.args)}),this.stylesheet=e,!0},i.prototype.addImage=function(e,i){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,i),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.getImage=function(t){return this.imageManager.getImage(t)},i.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.addSource=function(e,i,n){var o=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!i.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(i).join(", ")+".");if(!(["vector","raster","geojson","video","image","canvas"].indexOf(i.type)>=0)||!this._validate(t.validateStyle.source,"sources."+e,i,null,n)){this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);var r=this.sourceCaches[e]=new he(e,i,this.dispatcher);r.style=this,r.setEventedParent(this,function(){return{isSourceLoaded:o.loaded(),source:r.serialize(),sourceId:e}}),r.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var i in this._layers)if(this._layers[i].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+i+'" is using it.')));var n=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],n.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},i.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},i.prototype.addLayer=function(e,i,n){this._checkLoaded();var o=e.id;if(this.getLayer(o))this.fire(new t.ErrorEvent(new Error('Layer with id "'+o+'" already exists on this map')));else if("object"==typeof e.source&&(this.addSource(o,e.source),e=t.clone(e),e=t.extend(e,{source:o})),!this._validate(t.validateStyle.layer,"layers."+o,e,{arrayIndex:-1},n)){var r=t.default$22(e);this._validateLayer(r),r.setEventedParent(this,{layer:{id:o}});var a=i?this._order.indexOf(i):this._order.length;if(i&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.')));else{if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=r,this._removedLayers[o]&&r.source){var s=this._removedLayers[o];delete this._removedLayers[o],s.type!==r.type?this._updatedSources[r.source]="clear":(this._updatedSources[r.source]="reload",this.sourceCaches[r.source].pause())}this._updateLayer(r)}}},i.prototype.moveLayer=function(e,i){if(this._checkLoaded(),this._changed=!0,this._layers[e]){var n=this._order.indexOf(e);this._order.splice(n,1);var o=i?this._order.indexOf(i):this._order.length;i&&-1===o?this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.'))):(this._order.splice(o,0,e),this._layerOrderChanged=!0)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(e){this._checkLoaded();var i=this._layers[e];if(i){i.setEventedParent(null);var n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e]}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(t){return this._layers[t]},i.prototype.setLayerZoomRange=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);o?o.minzoom===i&&o.maxzoom===n||(null!=i&&(o.minzoom=i),null!=n&&(o.maxzoom=n),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(e,i){this._checkLoaded();var n=this.getLayer(e);if(n){if(!t.default$11(n.filter,i))return null===i||void 0===i?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(t.validateStyle.filter,"layers."+n.id+".filter",i)||(n.filter=t.clone(i),this._updateLayer(n)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(e){return t.clone(this.getLayer(e).filter)},i.prototype.setLayoutProperty=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);o?t.default$11(o.getLayoutProperty(i),n)||(o.setLayoutProperty(i,n),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},i.prototype.setPaintProperty=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);if(o){if(!t.default$11(o.getPaintProperty(i),n)){var r=o._transitionablePaint._values[i].value.isDataDriven();o.setPaintProperty(i,n),(o._transitionablePaint._values[i].value.isDataDriven()||r)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},i.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){var e=this;return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(t){return void 0!==t})},i.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},i.prototype._flattenRenderedFeatures=function(t){for(var e=[],i=this._order.length-1;i>=0;i--)for(var n=this._order[i],o=0,r=t;o<r.length;o+=1){var a=r[o][n];if(a)for(var s=0,l=a;s<l.length;s+=1){var c=l[s];e.push(c)}}return e},i.prototype.queryRenderedFeatures=function(e,i,n){i&&i.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",i.filter);var o={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var r=0,a=i.layers;r<a.length;r+=1){var s=a[r],l=this._layers[s];if(!l)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];o[l.source]=!0}}var c=[];for(var u in this.sourceCaches)if(!i.layers||o[u]){var h=at(this.sourceCaches[u],this._layers,e,i,n,this.placement?this.placement.collisionIndex:null);c.push(h)}return this._flattenRenderedFeatures(c)},i.prototype.querySourceFeatures=function(e,i){i&&i.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",i.filter);var n=this.sourceCaches[e];return n?function(t,e){for(var i=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),n=[],o={},r=0;r<i.length;r++){var a=i[r],s=a.tileID.canonical.key;o[s]||(o[s]=!0,a.querySourceFeatures(n,e))}return n}(n,i):[]},i.prototype.addSourceType=function(t,e,n){return i.getSourceType(t)?n(new Error('A source type called "'+t+'" already exists.')):(i.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(e){this._checkLoaded();var i=this.light.getLight(),n=!1;for(var o in e)if(!t.default$11(e[o],i[o])){n=!0;break}if(n){var a={now:r.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e),this.light.updateTransitions(a)}},i.prototype._validate=function(e,i,n,o,r){return(!r||!1!==r.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({key:i,style:this.serialize(),value:n,styleSpec:t.default$5},o)))},i.prototype._remove=function(){for(var e in t.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[e].clearTiles();this.dispatcher.remove()},i.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},i.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},i.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},i.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},i.prototype._updatePlacement=function(t,e,i){for(var n=!1,o=!1,a={},s=0,l=this._order;s<l.length;s+=1){var c=l[s],u=this._layers[c];if("symbol"===u.type){if(!a[u.source]){var h=this.sourceCaches[u.source];a[u.source]=h.getRenderableIds().map(function(t){return h.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var p=this.crossTileSymbolIndex.addLayer(u,a[u.source]);n=n||p}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var d=this._layerOrderChanged;if((d||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(r.now()))&&(this.pauseablePlacement=new $e(t,this._order,d,e,i),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,a),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,r.now()),o=!0),n&&this.pauseablePlacement.placement.setStale()),o||n)for(var f=0,m=this._order;f<m.length;f+=1){var _=m[f],g=this._layers[_];"symbol"===g.type&&this.placement.updateLayerOpacities(g,a[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(r.now())},i.prototype.getImages=function(t,e,i){this.imageManager.getImages(e.icons,i)},i.prototype.getGlyphs=function(t,e,i){this.glyphManager.getGlyphs(e.stacks,i)},i}(t.Evented);Je.getSourceType=function(t){return ot[t]},Je.setSourceType=function(t,e){ot[t]=e},Je.registerForPluginAvailability=t.registerForPluginAvailability;var Qe=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),ti={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field boxes in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"uniform float u_overscale_factor;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length / u_overscale_factor;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field circles in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - u_maxzoom) * a) where a is an arbitrary value\n    // Here we use a=0.3 which works out to the expression below. see \n    // nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - u_maxzoom) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n\n    // v_normal.y is 0 at the midpoint of the line, -1 at the lower edge, 1 at the upper edge\n    // we clamp the line width outset to be between 0 and half the pattern height plus padding (2.0)\n    // to ensure we don't sample outside the designated symbol on the sprite sheet.\n    // 0.5 is added to shift the component to be bounded between 0 and 1 for interpolation of\n    // the texture coordinate\n    float y_a = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_a.y + 2.0) / 2.0) / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_b.y + 2.0) / 2.0) / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n            0.5 + 0.5 * distance_ratio,\n            0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n            4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n        0.5 + 0.5 * distance_ratio,\n        0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n        4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},ei=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ii=function(t){var e=ti[t],i={};e.fragmentSource=e.fragmentSource.replace(ei,function(t,e,n,o,r){return i[r]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nvarying "+n+" "+o+" "+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n"}),e.vertexSource=e.vertexSource.replace(ei,function(t,e,n,o,r){var a="float"===o?"vec2":"vec4";return i[r]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float a_"+r+"_t;\nattribute "+n+" "+a+" a_"+r+";\nvarying "+n+" "+o+" "+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = unpack_mix_"+a+"(a_"+r+", a_"+r+"_t);\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float a_"+r+"_t;\nattribute "+n+" "+a+" a_"+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = unpack_mix_"+a+"(a_"+r+", a_"+r+"_t);\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n"})};for(var ni in ti)ii(ni);var oi=ti,ri=function(t,e,i,n){var o=t.gl;this.program=o.createProgram();var a=i.defines().concat("#define DEVICE_PIXEL_RATIO "+r.devicePixelRatio.toFixed(1));n&&a.push("#define OVERDRAW_INSPECTOR;");var s=a.concat(oi.prelude.fragmentSource,e.fragmentSource).join("\n"),l=a.concat(oi.prelude.vertexSource,e.vertexSource).join("\n"),c=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(c,s),o.compileShader(c),o.attachShader(this.program,c);var u=o.createShader(o.VERTEX_SHADER);o.shaderSource(u,l),o.compileShader(u),o.attachShader(this.program,u);for(var h=i.layoutAttributes||[],p=0;p<h.length;p++)o.bindAttribLocation(this.program,p,h[p].name);o.linkProgram(this.program),this.numAttributes=o.getProgramParameter(this.program,o.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var d=0;d<this.numAttributes;d++){var f=o.getActiveAttrib(this.program,d);f&&(this.attributes[f.name]=o.getAttribLocation(this.program,f.name))}for(var m=o.getProgramParameter(this.program,o.ACTIVE_UNIFORMS),_=0;_<m;_++){var g=o.getActiveUniform(this.program,_);g&&(this.uniforms[g.name]=o.getUniformLocation(this.program,g.name))}};function ai(e,i,n,o,r){for(var a=0;a<n.length;a++){var s=n[a];if(o.isLessThan(s.tileID))break;if(i.key===s.tileID.key)return;if(s.tileID.isChildOf(i)){for(var l=i.children(1/0),c=0;c<l.length;c++){ai(e,l[c],n.slice(a),o,r)}return}}var u=i.overscaledZ-e.overscaledZ,h=new t.CanonicalTileID(u,i.canonical.x-(e.canonical.x<<u),i.canonical.y-(e.canonical.y<<u));r[h.key]=r[h.key]||h}function si(t,e,i,n,o){var r=t.context,a=r.gl,s=o?t.useProgram("collisionCircle"):t.useProgram("collisionBox");r.setDepthMode(se.disabled),r.setStencilMode(le.disabled),r.setColorMode(t.colorModeForRenderPass());for(var l=0;l<n.length;l++){var c=n[l],u=e.getTile(c),h=u.getBucket(i);if(h){var p=o?h.collisionCircle:h.collisionBox;if(p){a.uniformMatrix4fv(s.uniforms.u_matrix,!1,c.posMatrix),o||r.lineWidth.set(1),a.uniform1f(s.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance);var d=ze(u,1,t.transform.zoom),f=Math.pow(2,t.transform.zoom-u.tileID.overscaledZ);a.uniform1f(s.uniforms.u_pixels_to_tile_units,d),a.uniform2f(s.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits[0]/(d*f),t.transform.pixelsToGLUnits[1]/(d*f)),a.uniform1f(s.uniforms.u_overscale_factor,u.tileID.overscaleFactor()),s.draw(r,o?a.TRIANGLES:a.LINES,i.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,null,p.collisionVertexBuffer,null)}}}}ri.prototype.draw=function(t,e,i,n,o,r,a,s,l){for(var c,u=t.gl,h=(c={},c[u.LINES]=2,c[u.TRIANGLES]=3,c)[e],p=0,d=r.get();p<d.length;p+=1){var f=d[p],m=f.vaos||(f.vaos={});(m[i]||(m[i]=new tt)).bind(t,this,n,a?a.getPaintVertexBuffers():[],o,f.vertexOffset,s,l),u.drawElements(e,f.primitiveLength*h,u.UNSIGNED_SHORT,f.primitiveOffset*h*2)}};var li=t.mat4.identity(new Float32Array(16)),ci=t.default$9.layout;function ui(t,e,i,n,o,r,a,s,l,c){var u,h=t.context,p=h.gl,d=t.transform,f="map"===s,m="map"===l,_=f&&"line"===i.layout.get("symbol-placement"),g=f&&!m&&!_,v=m;h.setDepthMode(v?t.depthModeForSublayer(0,se.ReadOnly):se.disabled);for(var y=0,x=n;y<x.length;y+=1){var b=x[y],w=e.getTile(b),E=w.getBucket(i);if(E){var T=o?E.text:E.icon;if(T&&T.segments.get().length){var I=T.programConfigurations.get(i.id),C=o||E.sdfIcons,S=o?E.textSizeData:E.iconSizeData;if(u||(u=t.useProgram(C?"symbolSDF":"symbolIcon",I),I.setUniforms(t.context,u,i.paint,{zoom:t.transform.zoom}),hi(u,t,i,o,g,m,S)),h.activeTexture.set(p.TEXTURE0),p.uniform1i(u.uniforms.u_texture,0),o)w.glyphAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),p.uniform2fv(u.uniforms.u_texsize,w.glyphAtlasTexture.size);else{var z=1!==i.layout.get("icon-size").constantOr(0)||E.iconsNeedLinear,A=m||0!==d.pitch;w.iconAtlasTexture.bind(C||t.options.rotating||t.options.zooming||z||A?p.LINEAR:p.NEAREST,p.CLAMP_TO_EDGE),p.uniform2fv(u.uniforms.u_texsize,w.iconAtlasTexture.size)}p.uniformMatrix4fv(u.uniforms.u_matrix,!1,t.translatePosMatrix(b.posMatrix,w,r,a));var R=ze(w,1,t.transform.zoom),D=ut(b.posMatrix,m,f,t.transform,R),M=ht(b.posMatrix,m,f,t.transform,R);p.uniformMatrix4fv(u.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(M,w,r,a,!0)),_?(p.uniformMatrix4fv(u.uniforms.u_label_plane_matrix,!1,li),ft(E,b.posMatrix,t,o,D,M,m,c)):p.uniformMatrix4fv(u.uniforms.u_label_plane_matrix,!1,D),p.uniform1f(u.uniforms.u_fade_change,t.options.fadeDuration?t.symbolFadeChange:1),pi(u,I,t,i,w,T,o,C,m)}}}}function hi(e,i,n,o,r,a,s){var l=i.context.gl,c=i.transform;l.uniform1i(e.uniforms.u_pitch_with_map,a?1:0),l.uniform1f(e.uniforms.u_is_text,o?1:0),l.uniform1f(e.uniforms.u_pitch,c.pitch/360*2*Math.PI);var u="constant"===s.functionType||"source"===s.functionType,h="constant"===s.functionType||"camera"===s.functionType;l.uniform1i(e.uniforms.u_is_size_zoom_constant,u?1:0),l.uniform1i(e.uniforms.u_is_size_feature_constant,h?1:0),l.uniform1f(e.uniforms.u_camera_to_center_distance,c.cameraToCenterDistance);var p=t.evaluateSizeForZoom(s,c.zoom,ci.properties[o?"text-size":"icon-size"]);void 0!==p.uSizeT&&l.uniform1f(e.uniforms.u_size_t,p.uSizeT),void 0!==p.uSize&&l.uniform1f(e.uniforms.u_size,p.uSize),l.uniform1f(e.uniforms.u_aspect_ratio,c.width/c.height),l.uniform1i(e.uniforms.u_rotate_symbol,r?1:0)}function pi(t,e,i,n,o,r,a,s,l){var c=i.context,u=c.gl,h=i.transform;if(s){var p=0!==n.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),d=l?Math.cos(h._pitch)*h.cameraToCenterDistance:1;u.uniform1f(t.uniforms.u_gamma_scale,d),p&&(u.uniform1f(t.uniforms.u_is_halo,1),di(r,n,c,t)),u.uniform1f(t.uniforms.u_is_halo,0)}di(r,n,c,t)}function di(t,e,i,n){n.draw(i,i.gl.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function fi(t,e,i,n,o,a,s,l,c){var u,h,p,d,f=e.context,m=f.gl,_=o.paint.get("line-dasharray"),g=o.paint.get("line-pattern");if(l||c){var v=1/ze(i,1,e.transform.tileZoom);if(_){u=e.lineAtlas.getDash(_.from,"round"===o.layout.get("line-cap")),h=e.lineAtlas.getDash(_.to,"round"===o.layout.get("line-cap"));var y=u.width*_.fromScale,x=h.width*_.toScale;m.uniform2f(t.uniforms.u_patternscale_a,v/y,-u.height/2),m.uniform2f(t.uniforms.u_patternscale_b,v/x,-h.height/2),m.uniform1f(t.uniforms.u_sdfgamma,e.lineAtlas.width/(256*Math.min(y,x)*r.devicePixelRatio)/2)}else if(g){if(p=e.imageManager.getPattern(g.from),d=e.imageManager.getPattern(g.to),!p||!d)return;m.uniform2f(t.uniforms.u_pattern_size_a,p.displaySize[0]*g.fromScale/v,p.displaySize[1]),m.uniform2f(t.uniforms.u_pattern_size_b,d.displaySize[0]*g.toScale/v,d.displaySize[1]);var b=e.imageManager.getPixelSize(),w=b.width,E=b.height;m.uniform2fv(t.uniforms.u_texsize,[w,E])}m.uniform2f(t.uniforms.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}l&&(_?(m.uniform1i(t.uniforms.u_image,0),f.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(f),m.uniform1f(t.uniforms.u_tex_y_a,u.y),m.uniform1f(t.uniforms.u_tex_y_b,h.y),m.uniform1f(t.uniforms.u_mix,_.t)):g&&(m.uniform1i(t.uniforms.u_image,0),f.activeTexture.set(m.TEXTURE0),e.imageManager.bind(f),m.uniform2fv(t.uniforms.u_pattern_tl_a,p.tl),m.uniform2fv(t.uniforms.u_pattern_br_a,p.br),m.uniform2fv(t.uniforms.u_pattern_tl_b,d.tl),m.uniform2fv(t.uniforms.u_pattern_br_b,d.br),m.uniform1f(t.uniforms.u_fade,g.t))),f.setStencilMode(e.stencilModeForClipping(a));var T=e.translatePosMatrix(a.posMatrix,i,o.paint.get("line-translate"),o.paint.get("line-translate-anchor"));m.uniformMatrix4fv(t.uniforms.u_matrix,!1,T),m.uniform1f(t.uniforms.u_ratio,1/ze(i,1,e.transform.zoom)),t.draw(f,m.TRIANGLES,o.id,n.layoutVertexBuffer,n.indexBuffer,n.segments,s)}var mi=function(t,e){if(!t)return!1;var i=e.imageManager.getPattern(t.from),n=e.imageManager.getPattern(t.to);return!i||!n},_i=function(t,e,i){var n=e.context,o=n.gl,r=e.imageManager.getPattern(t.from),a=e.imageManager.getPattern(t.to);o.uniform1i(i.uniforms.u_image,0),o.uniform2fv(i.uniforms.u_pattern_tl_a,r.tl),o.uniform2fv(i.uniforms.u_pattern_br_a,r.br),o.uniform2fv(i.uniforms.u_pattern_tl_b,a.tl),o.uniform2fv(i.uniforms.u_pattern_br_b,a.br);var s=e.imageManager.getPixelSize(),l=s.width,c=s.height;o.uniform2fv(i.uniforms.u_texsize,[l,c]),o.uniform1f(i.uniforms.u_mix,t.t),o.uniform2fv(i.uniforms.u_pattern_size_a,r.displaySize),o.uniform2fv(i.uniforms.u_pattern_size_b,a.displaySize),o.uniform1f(i.uniforms.u_scale_a,t.fromScale),o.uniform1f(i.uniforms.u_scale_b,t.toScale),n.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context)},gi=function(t,e,i){var n=e.context.gl;n.uniform1f(i.uniforms.u_tile_units_to_pixels,1/ze(t,1,e.transform.tileZoom));var o=Math.pow(2,t.tileID.overscaledZ),r=t.tileSize*Math.pow(2,e.transform.tileZoom)/o,a=r*(t.tileID.canonical.x+t.tileID.wrap*o),s=r*t.tileID.canonical.y;n.uniform2f(i.uniforms.u_pixel_coord_upper,a>>16,s>>16),n.uniform2f(i.uniforms.u_pixel_coord_lower,65535&a,65535&s)};function vi(t,e,i,n,o){if(!mi(i.paint.get("fill-pattern"),t))for(var r=!0,a=0,s=n;a<s.length;a+=1){var l=s[a],c=e.getTile(l),u=c.getBucket(i);u&&(t.context.setStencilMode(t.stencilModeForClipping(l)),o(t,e,i,c,l,u,r),r=!1)}}function yi(t,e,i,n,o,r,a){var s=t.context.gl,l=r.programConfigurations.get(i.id);bi("fill",i.paint.get("fill-pattern"),t,l,i,n,o,a).draw(t.context,s.TRIANGLES,i.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,l)}function xi(t,e,i,n,o,r,a){var s=t.context.gl,l=r.programConfigurations.get(i.id),c=bi("fillOutline",i.getPaintProperty("fill-outline-color")?null:i.paint.get("fill-pattern"),t,l,i,n,o,a);s.uniform2f(c.uniforms.u_world,s.drawingBufferWidth,s.drawingBufferHeight),c.draw(t.context,s.LINES,i.id,r.layoutVertexBuffer,r.indexBuffer2,r.segments2,l)}function bi(t,e,i,n,o,r,a,s){var l,c=i.context.program.get();return e?(l=i.useProgram(t+"Pattern",n),(s||l.program!==c)&&(n.setUniforms(i.context,l,o.paint,{zoom:i.transform.zoom}),_i(e,i,l)),gi(r,i,l)):(l=i.useProgram(t,n),(s||l.program!==c)&&n.setUniforms(i.context,l,o.paint,{zoom:i.transform.zoom})),i.context.gl.uniformMatrix4fv(l.uniforms.u_matrix,!1,i.translatePosMatrix(a.posMatrix,r,o.paint.get("fill-translate"),o.paint.get("fill-translate-anchor"))),l}var wi=t.default$10.mat3,Ei=t.default$10.mat4,Ti=t.default$10.vec3;function Ii(t,e,i,n,o,r,a){var s=t.context,l=s.gl,c=i.paint.get("fill-extrusion-pattern"),u=t.context.program.get(),h=r.programConfigurations.get(i.id),p=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",h);if((a||p.program!==u)&&h.setUniforms(s,p,i.paint,{zoom:t.transform.zoom}),c){if(mi(c,t))return;_i(c,t,p),gi(n,t,p),l.uniform1f(p.uniforms.u_height_factor,-Math.pow(2,o.overscaledZ)/n.tileSize/8)}t.context.gl.uniformMatrix4fv(p.uniforms.u_matrix,!1,t.translatePosMatrix(o.posMatrix,n,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor"))),function(t,e){var i=e.context.gl,n=e.style.light,o=n.properties.get("position"),r=[o.x,o.y,o.z],a=wi.create();"viewport"===n.properties.get("anchor")&&wi.fromRotation(a,-e.transform.angle);Ti.transformMat3(r,r,a);var s=n.properties.get("color");i.uniform3fv(t.uniforms.u_lightpos,r),i.uniform1f(t.uniforms.u_lightintensity,n.properties.get("intensity")),i.uniform3f(t.uniforms.u_lightcolor,s.r,s.g,s.b)}(p,t),p.draw(s,l.TRIANGLES,i.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,h)}function Ci(e,i,n){var o=e.context,r=o.gl,a=i.fbo;if(a){var s=e.useProgram("hillshade"),l=e.transform.calculatePosMatrix(i.tileID.toUnwrapped(),!0);!function(t,e,i){var n=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(n-=e.transform.angle),e.context.gl.uniform2f(t.uniforms.u_light,i.paint.get("hillshade-exaggeration"),n)}(s,e,n);var c=function(e,i){var n=i.toCoordinate(),o=new t.default$19(n.column,n.row+1,n.zoom);return[e.transform.coordinateLocation(n).lat,e.transform.coordinateLocation(o).lat]}(e,i.tileID);o.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),r.uniformMatrix4fv(s.uniforms.u_matrix,!1,l),r.uniform2fv(s.uniforms.u_latrange,c),r.uniform1i(s.uniforms.u_image,0);var u=n.paint.get("hillshade-shadow-color");r.uniform4f(s.uniforms.u_shadow,u.r,u.g,u.b,u.a);var h=n.paint.get("hillshade-highlight-color");r.uniform4f(s.uniforms.u_highlight,h.r,h.g,h.b,h.a);var p=n.paint.get("hillshade-accent-color");if(r.uniform4f(s.uniforms.u_accent,p.r,p.g,p.b,p.a),i.maskedBoundsBuffer&&i.maskedIndexBuffer&&i.segments)s.draw(o,r.TRIANGLES,n.id,i.maskedBoundsBuffer,i.maskedIndexBuffer,i.segments);else{var d=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(o,s,d,[]),r.drawArrays(r.TRIANGLE_STRIP,0,d.length)}}}function Si(e,i,n){var o=e.context,r=o.gl;if(i.dem&&i.dem.level){var a=i.dem.level.dim,s=i.dem.getPixels();if(o.activeTexture.set(r.TEXTURE1),o.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||e.getTileTexture(i.tileSize),i.demTexture){var l=i.demTexture;l.update(s,!1),l.bind(r.NEAREST,r.CLAMP_TO_EDGE)}else i.demTexture=new M(o,s,r.RGBA,!1),i.demTexture.bind(r.NEAREST,r.CLAMP_TO_EDGE);o.activeTexture.set(r.TEXTURE0);var c=i.fbo;if(!c){var u=new M(o,{width:a,height:a,data:null},r.RGBA);u.bind(r.LINEAR,r.CLAMP_TO_EDGE),(c=i.fbo=o.createFramebuffer(a,a)).colorAttachment.set(u.texture)}o.bindFramebuffer.set(c.framebuffer),o.viewport.set([0,0,a,a]);var h=t.mat4.create();t.mat4.ortho(h,0,t.default$8,-t.default$8,0,0,1),t.mat4.translate(h,h,[0,-t.default$8,0]);var p=e.useProgram("hillshadePrepare");r.uniformMatrix4fv(p.uniforms.u_matrix,!1,h),r.uniform1f(p.uniforms.u_zoom,i.tileID.overscaledZ),r.uniform2fv(p.uniforms.u_dimension,[2*a,2*a]),r.uniform1i(p.uniforms.u_image,1),r.uniform1f(p.uniforms.u_maxzoom,n);var d=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(o,p,d,[]),r.drawArrays(r.TRIANGLE_STRIP,0,d.length),i.needsHillshadePrepare=!1}}function zi(e,i,n,o,a){var s=o.paint.get("raster-fade-duration");if(s>0){var l=r.now(),c=(l-e.timeAdded)/s,u=i?(l-i.timeAdded)/s:-1,h=n.getSource(),p=a.coveringZoomLevel({tileSize:h.tileSize,roundZoom:h.roundZoom}),d=!i||Math.abs(i.tileID.overscaledZ-p)>Math.abs(e.tileID.overscaledZ-p),f=d&&e.refreshedUponExpiration?1:t.clamp(d?c:1-u,0,1);return e.refreshedUponExpiration&&c>=1&&(e.refreshedUponExpiration=!1),i?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}function Ai(e,i,n){var o=e.context,a=o.gl;o.lineWidth.set(1*r.devicePixelRatio);var s=n.posMatrix,l=e.useProgram("debug");o.setDepthMode(se.disabled),o.setStencilMode(le.disabled),o.setColorMode(e.colorModeForRenderPass()),a.uniformMatrix4fv(l.uniforms.u_matrix,!1,s),a.uniform4f(l.uniforms.u_color,1,0,0,1),e.debugVAO.bind(o,l,e.debugBuffer,[]),a.drawArrays(a.LINE_STRIP,0,e.debugBuffer.length);for(var c=function(t,e,i,n){n=n||1;var o,r,a,s,l,c,u,h,p=[];for(o=0,r=t.length;o<r;o++)if(l=Ri[t[o]]){for(h=null,a=0,s=l[1].length;a<s;a+=2)-1===l[1][a]&&-1===l[1][a+1]?h=null:(c=e+l[1][a]*n,u=i-l[1][a+1]*n,h&&p.push(h.x,h.y,c,u),h={x:c,y:u});e+=l[0]*n}return p}(n.toString(),50,200,5),u=new t.PosArray,h=0;h<c.length;h+=2)u.emplaceBack(c[h],c[h+1]);var p=o.createVertexBuffer(u,Qe.members);(new tt).bind(o,l,p,[]),a.uniform4f(l.uniforms.u_color,1,1,1,1);for(var d=i.getTile(n).tileSize,f=t.default$8/(Math.pow(2,e.transform.zoom-n.overscaledZ)*d),m=[[-1,-1],[-1,1],[1,-1],[1,1]],_=0;_<m.length;_++){var g=m[_];a.uniformMatrix4fv(l.uniforms.u_matrix,!1,t.mat4.translate([],s,[f*g[0],f*g[1],0])),a.drawArrays(a.LINES,0,p.length)}a.uniform4f(l.uniforms.u_color,0,0,0,1),a.uniformMatrix4fv(l.uniforms.u_matrix,!1,s),a.drawArrays(a.LINES,0,p.length)}var Ri={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};var Di={symbol:function(t,e,i,n){if("translucent"===t.renderPass){var o=t.context;o.setStencilMode(le.disabled),o.setColorMode(t.colorModeForRenderPass()),0!==i.paint.get("icon-opacity").constantOr(1)&&ui(t,e,i,n,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright")),0!==i.paint.get("text-opacity").constantOr(1)&&ui(t,e,i,n,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright")),e.map.showCollisionBoxes&&function(t,e,i,n){si(t,e,i,n,!1),si(t,e,i,n,!0)}(t,e,i,n)}},circle:function(t,e,i,n){if("translucent"===t.renderPass){var o=i.paint.get("circle-opacity"),r=i.paint.get("circle-stroke-width"),a=i.paint.get("circle-stroke-opacity");if(0!==o.constantOr(1)||0!==r.constantOr(1)&&0!==a.constantOr(1)){var s=t.context,l=s.gl;s.setDepthMode(t.depthModeForSublayer(0,se.ReadOnly)),s.setStencilMode(le.disabled),s.setColorMode(t.colorModeForRenderPass());for(var c=!0,u=0;u<n.length;u++){var h=n[u],p=e.getTile(h),d=p.getBucket(i);if(d){var f=t.context.program.get(),m=d.programConfigurations.get(i.id),_=t.useProgram("circle",m);if((c||_.program!==f)&&(m.setUniforms(s,_,i.paint,{zoom:t.transform.zoom}),c=!1),l.uniform1f(_.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),l.uniform1i(_.uniforms.u_scale_with_map,"map"===i.paint.get("circle-pitch-scale")?1:0),"map"===i.paint.get("circle-pitch-alignment")){l.uniform1i(_.uniforms.u_pitch_with_map,1);var g=ze(p,1,t.transform.zoom);l.uniform2f(_.uniforms.u_extrude_scale,g,g)}else l.uniform1i(_.uniforms.u_pitch_with_map,0),l.uniform2fv(_.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits);l.uniformMatrix4fv(_.uniforms.u_matrix,!1,t.translatePosMatrix(h.posMatrix,p,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor"))),_.draw(s,l.TRIANGLES,i.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,m)}}}}},heatmap:function(e,i,n,o){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var r=e.context,a=r.gl;r.setDepthMode(e.depthModeForSublayer(0,se.ReadOnly)),r.setStencilMode(le.disabled),function(t,e,i){var n=t.gl;t.activeTexture.set(n.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var o=i.heatmapFbo;if(o)n.bindTexture(n.TEXTURE_2D,o.colorAttachment.get()),t.bindFramebuffer.set(o.framebuffer);else{var r=n.createTexture();n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),o=i.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,i,n,o){var r=e.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,i.width/4,i.height/4,0,r.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),o.colorAttachment.set(n),e.extTextureHalfFloat&&r.checkFramebufferStatus(r.FRAMEBUFFER)!==r.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,o.colorAttachment.setDirty(),t(e,i,n,o))}(t,e,r,o)}}(r,e,n),r.clear({color:t.default$6.transparent}),r.setColorMode(new ce([a.ONE,a.ONE],t.default$6.transparent,[!0,!0,!0,!0]));for(var s=!0,l=0;l<o.length;l++){var c=o[l];if(!i.hasRenderableParent(c)){var u=i.getTile(c),h=u.getBucket(n);if(h){var p=e.context.program.get(),d=h.programConfigurations.get(n.id),f=e.useProgram("heatmap",d),m=e.transform.zoom;(s||f.program!==p)&&(d.setUniforms(e.context,f,n.paint,{zoom:m}),s=!1),a.uniform1f(f.uniforms.u_extrude_scale,ze(u,1,m)),a.uniform1f(f.uniforms.u_intensity,n.paint.get("heatmap-intensity")),a.uniformMatrix4fv(f.uniforms.u_matrix,!1,c.posMatrix),f.draw(r,a.TRIANGLES,n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,d)}}}r.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,i){var n=e.context,o=n.gl,r=i.heatmapFbo;if(r){n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.colorAttachment.get()),n.activeTexture.set(o.TEXTURE1);var a=i.colorRampTexture;a||(a=i.colorRampTexture=new M(n,i.colorRamp,o.RGBA)),a.bind(o.LINEAR,o.CLAMP_TO_EDGE),n.setDepthMode(se.disabled);var s=e.useProgram("heatmapTexture"),l=i.paint.get("heatmap-opacity");o.uniform1f(s.uniforms.u_opacity,l),o.uniform1i(s.uniforms.u_image,0),o.uniform1i(s.uniforms.u_color_ramp,1);var c=t.mat4.create();t.mat4.ortho(c,0,e.width,e.height,0,0,1),o.uniformMatrix4fv(s.uniforms.u_matrix,!1,c),o.uniform2f(s.uniforms.u_world,o.drawingBufferWidth,o.drawingBufferHeight),e.viewportVAO.bind(e.context,s,e.viewportBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}(e,n))},line:function(t,e,i,n){if("translucent"===t.renderPass&&0!==i.paint.get("line-opacity").constantOr(1)){var o=t.context;o.setDepthMode(t.depthModeForSublayer(0,se.ReadOnly)),o.setColorMode(t.colorModeForRenderPass());for(var r,a=i.paint.get("line-dasharray")?"lineSDF":i.paint.get("line-pattern")?"linePattern":"line",s=!0,l=0,c=n;l<c.length;l+=1){var u=c[l],h=e.getTile(u),p=h.getBucket(i);if(p){var d=p.programConfigurations.get(i.id),f=t.context.program.get(),m=t.useProgram(a,d),_=s||m.program!==f,g=r!==h.tileID.overscaledZ;_&&d.setUniforms(t.context,m,i.paint,{zoom:t.transform.zoom}),fi(m,t,h,p,i,u,d,_,g),r=h.tileID.overscaledZ,s=!1}}}},fill:function(e,i,n,o){var r=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.context;s.setColorMode(e.colorModeForRenderPass());var l=n.paint.get("fill-pattern")||1!==r.constantOr(t.default$6.transparent).a||1!==a.constantOr(0)?"translucent":"opaque";e.renderPass===l&&(s.setDepthMode(e.depthModeForSublayer(1,"opaque"===e.renderPass?se.ReadWrite:se.ReadOnly)),vi(e,i,n,o,yi)),"translucent"===e.renderPass&&n.paint.get("fill-antialias")&&(s.lineWidth.set(2),s.setDepthMode(e.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,se.ReadOnly)),vi(e,i,n,o,xi))}},"fill-extrusion":function(e,i,n,o){if(0!==n.paint.get("fill-extrusion-opacity"))if("offscreen"===e.renderPass){!function(e,i){var n=e.context,o=n.gl,r=i.viewportFrame;if(e.depthRboNeedsClear&&e.setupOffscreenDepthRenderbuffer(),!r){var a=new M(n,{width:e.width,height:e.height,data:null},o.RGBA);a.bind(o.LINEAR,o.CLAMP_TO_EDGE),(r=i.viewportFrame=n.createFramebuffer(e.width,e.height)).colorAttachment.set(a.texture)}n.bindFramebuffer.set(r.framebuffer),r.depthAttachment.set(e.depthRbo),e.depthRboNeedsClear&&(n.clear({depth:1}),e.depthRboNeedsClear=!1),n.clear({color:t.default$6.transparent}),n.setStencilMode(le.disabled),n.setDepthMode(new se(o.LEQUAL,se.ReadWrite,[0,1])),n.setColorMode(e.colorModeForRenderPass())}(e,n);for(var r=!0,a=0,s=o;a<s.length;a+=1){var l=s[a],c=i.getTile(l),u=c.getBucket(n);u&&(Ii(e,0,n,c,l,u,r),r=!1)}}else"translucent"===e.renderPass&&function(t,e){var i=e.viewportFrame;if(i){var n=t.context,o=n.gl,r=t.useProgram("extrusionTexture");n.setStencilMode(le.disabled),n.setDepthMode(se.disabled),n.setColorMode(t.colorModeForRenderPass()),n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i.colorAttachment.get()),o.uniform1f(r.uniforms.u_opacity,e.paint.get("fill-extrusion-opacity")),o.uniform1i(r.uniforms.u_image,0);var a=Ei.create();Ei.ortho(a,0,t.width,t.height,0,0,1),o.uniformMatrix4fv(r.uniforms.u_matrix,!1,a),o.uniform2f(r.uniforms.u_world,o.drawingBufferWidth,o.drawingBufferHeight),t.viewportVAO.bind(n,r,t.viewportBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}(e,n)},hillshade:function(t,e,i,n){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var o=t.context,r=e.getSource().maxzoom;o.setDepthMode(t.depthModeForSublayer(0,se.ReadOnly)),o.setStencilMode(le.disabled),o.setColorMode(t.colorModeForRenderPass());for(var a=0,s=n;a<s.length;a+=1){var l=s[a],c=e.getTile(l);c.needsHillshadePrepare&&"offscreen"===t.renderPass?Si(t,c,r):"translucent"===t.renderPass&&Ci(t,c,i)}o.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,i,n){if("translucent"===t.renderPass&&0!==i.paint.get("raster-opacity")){var o,r,a=t.context,s=a.gl,l=e.getSource(),c=t.useProgram("raster");a.setStencilMode(le.disabled),a.setColorMode(t.colorModeForRenderPass()),s.uniform1f(c.uniforms.u_brightness_low,i.paint.get("raster-brightness-min")),s.uniform1f(c.uniforms.u_brightness_high,i.paint.get("raster-brightness-max")),s.uniform1f(c.uniforms.u_saturation_factor,(o=i.paint.get("raster-saturation"))>0?1-1/(1.001-o):-o),s.uniform1f(c.uniforms.u_contrast_factor,(r=i.paint.get("raster-contrast"))>0?1/(1-r):1+r),s.uniform3fv(c.uniforms.u_spin_weights,function(t){t*=Math.PI/180;var e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}(i.paint.get("raster-hue-rotate"))),s.uniform1f(c.uniforms.u_buffer_scale,1),s.uniform1i(c.uniforms.u_image0,0),s.uniform1i(c.uniforms.u_image1,1);for(var u=n.length&&n[0].overscaledZ,h=0,p=n;h<p.length;h+=1){var d=p[h];a.setDepthMode(t.depthModeForSublayer(d.overscaledZ-u,1===i.paint.get("raster-opacity")?se.ReadWrite:se.ReadOnly,s.LESS));var f=e.getTile(d),m=t.transform.calculatePosMatrix(d.toUnwrapped(),!0);f.registerFadeDuration(i.paint.get("raster-fade-duration")),s.uniformMatrix4fv(c.uniforms.u_matrix,!1,m);var _=e.findLoadedParent(d,0,{}),g=zi(f,_,e,i,t.transform),v=void 0,y=void 0;if(a.activeTexture.set(s.TEXTURE0),f.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.activeTexture.set(s.TEXTURE1),_?(_.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),v=Math.pow(2,_.tileID.overscaledZ-f.tileID.overscaledZ),y=[f.tileID.canonical.x*v%1,f.tileID.canonical.y*v%1]):f.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),s.uniform2fv(c.uniforms.u_tl_parent,y||[0,0]),s.uniform1f(c.uniforms.u_scale_parent,v||1),s.uniform1f(c.uniforms.u_fade_t,g.mix),s.uniform1f(c.uniforms.u_opacity,g.opacity*i.paint.get("raster-opacity")),l instanceof et){var x=l.boundsBuffer;l.boundsVAO.bind(a,c,x,[]),s.drawArrays(s.TRIANGLE_STRIP,0,x.length)}else if(f.maskedBoundsBuffer&&f.maskedIndexBuffer&&f.segments)c.draw(a,s.TRIANGLES,i.id,f.maskedBoundsBuffer,f.maskedIndexBuffer,f.segments);else{var b=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(a,c,b,[]),s.drawArrays(s.TRIANGLE_STRIP,0,b.length)}}}},background:function(t,e,i){var n=i.paint.get("background-color"),o=i.paint.get("background-opacity");if(0!==o){var r=t.context,a=r.gl,s=t.transform,l=s.tileSize,c=i.paint.get("background-pattern"),u=c||1!==n.a||1!==o?"translucent":"opaque";if(t.renderPass===u){var h;if(r.setStencilMode(le.disabled),r.setDepthMode(t.depthModeForSublayer(0,"opaque"===u?se.ReadWrite:se.ReadOnly)),r.setColorMode(t.colorModeForRenderPass()),c){if(mi(c,t))return;h=t.useProgram("backgroundPattern"),_i(c,t,h),t.tileExtentPatternVAO.bind(r,h,t.tileExtentBuffer,[])}else h=t.useProgram("background"),a.uniform4fv(h.uniforms.u_color,[n.r,n.g,n.b,n.a]),t.tileExtentVAO.bind(r,h,t.tileExtentBuffer,[]);a.uniform1f(h.uniforms.u_opacity,o);for(var p=0,d=s.coveringTiles({tileSize:l});p<d.length;p+=1){var f=d[p];c&&gi({tileID:f,tileSize:l},t,h),a.uniformMatrix4fv(h.uniforms.u_matrix,!1,t.transform.calculatePosMatrix(f.toUnwrapped())),a.drawArrays(a.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}},debug:function(t,e,i){for(var n=0;n<i.length;n++)Ai(t,e,i[n])}},Mi=function(e,i){this.context=new ue(e),this.transform=i,this._tileTextures={},this.setup(),this.numSublayers=he.maxUnderzooming+he.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.default$24,this.crossTileSymbolIndex=new He};function Li(t,e){if(t.row>e.row){var i=t;t=e,e=i}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function Pi(t,e,i,n,o){var r=Math.max(i,Math.floor(e.y0)),a=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,c=e.dx/e.dy,u=t.dx>0,h=e.dx<0,p=r;p<a;p++){var d=l*Math.max(0,Math.min(t.dy,p+u-t.y0))+t.x0,f=c*Math.max(0,Math.min(e.dy,p+h-e.y0))+e.x0;o(Math.floor(f),Math.ceil(d),p)}}function ki(t,e,i,n,o,r){var a,s=Li(t,e),l=Li(e,i),c=Li(i,t);s.dy>l.dy&&(a=s,s=l,l=a),s.dy>c.dy&&(a=s,s=c,c=a),l.dy>c.dy&&(a=l,l=c,c=a),s.dy&&Pi(c,s,n,o,r),l.dy&&Pi(c,l,n,o,r)}Mi.prototype.resize=function(t,e){var i=this.context.gl;if(this.width=t*r.devicePixelRatio,this.height=e*r.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var n=0,o=this.style._order;n<o.length;n+=1){var a=o[n];this.style._layers[a].resize()}this.depthRbo&&(i.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},Mi.prototype.setup=function(){var e=this.context,i=new t.PosArray;i.emplaceBack(0,0),i.emplaceBack(t.default$8,0),i.emplaceBack(0,t.default$8),i.emplaceBack(t.default$8,t.default$8),this.tileExtentBuffer=e.createVertexBuffer(i,Qe.members),this.tileExtentVAO=new tt,this.tileExtentPatternVAO=new tt;var n=new t.PosArray;n.emplaceBack(0,0),n.emplaceBack(t.default$8,0),n.emplaceBack(t.default$8,t.default$8),n.emplaceBack(0,t.default$8),n.emplaceBack(0,0),this.debugBuffer=e.createVertexBuffer(n,Qe.members),this.debugVAO=new tt;var o=new t.RasterBoundsArray;o.emplaceBack(0,0,0,0),o.emplaceBack(t.default$8,0,t.default$8,0),o.emplaceBack(0,t.default$8,0,t.default$8),o.emplaceBack(t.default$8,t.default$8,t.default$8,t.default$8),this.rasterBoundsBuffer=e.createVertexBuffer(o,Q.members),this.rasterBoundsVAO=new tt;var r=new t.PosArray;r.emplaceBack(0,0),r.emplaceBack(1,0),r.emplaceBack(0,1),r.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(r,Qe.members),this.viewportVAO=new tt},Mi.prototype.clearStencil=function(){var e=this.context,i=e.gl;e.setColorMode(ce.disabled),e.setDepthMode(se.disabled),e.setStencilMode(new le({func:i.ALWAYS,mask:0},0,255,i.ZERO,i.ZERO,i.ZERO));var n=t.mat4.create();t.mat4.ortho(n,0,this.width,this.height,0,0,1),t.mat4.scale(n,n,[i.drawingBufferWidth,i.drawingBufferHeight,0]);var o=this.useProgram("clippingMask");i.uniformMatrix4fv(o.uniforms.u_matrix,!1,n),this.viewportVAO.bind(e,o,this.viewportBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,4)},Mi.prototype._renderTileClippingMasks=function(t){var e=this.context,i=e.gl;e.setColorMode(ce.disabled),e.setDepthMode(se.disabled);var n=1;this._tileClippingMaskIDs={};for(var o=0,r=t;o<r.length;o+=1){var a=r[o],s=this._tileClippingMaskIDs[a.key]=n++;e.setStencilMode(new le({func:i.ALWAYS,mask:0},s,255,i.KEEP,i.KEEP,i.REPLACE));var l=this.useProgram("clippingMask");i.uniformMatrix4fv(l.uniforms.u_matrix,!1,a.posMatrix),this.tileExtentVAO.bind(this.context,l,this.tileExtentBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,this.tileExtentBuffer.length)}},Mi.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new le({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},Mi.prototype.colorModeForRenderPass=function(){var e=this.context.gl;if(this._showOverdrawInspector){return new ce([e.CONSTANT_COLOR,e.ONE],new t.default$6(1/8,1/8,1/8,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?ce.unblended:ce.alphaBlended},Mi.prototype.depthModeForSublayer=function(t,e,i){var n=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,o=n-1+this.depthRange;return new se(i||this.context.gl.LEQUAL,e,[o,n])},Mi.prototype.render=function(e,i){var n=this;for(var o in this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(r.now()),e.sourceCaches){var a=n.style.sourceCaches[o];a.used&&a.prepare(n.context)}var s=this.style._order,l=t.filterObject(this.style.sourceCaches,function(t){return"raster"===t.getSource().type||"raster-dem"===t.getSource().type}),c=function(e){var i=l[e];!function(e,i){for(var n=e.sort(function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0}),o=0;o<n.length;o++){var r={},a=n[o],s=n.slice(o+1);ai(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),r),a.setMask(r,i)}}(i.getVisibleCoordinates().map(function(t){return i.getTile(t)}),n.context)};for(var u in l)c(u);this.renderPass="offscreen";var h,p=[];this.depthRboNeedsClear=!0;for(var d=0;d<s.length;d++){var f=n.style._layers[s[d]];f.hasOffscreenPass()&&!f.isHidden(n.transform.zoom)&&(f.source!==(h&&h.id)&&(p=[],(h=n.style.sourceCaches[f.source])&&(p=h.getVisibleCoordinates()).reverse()),p.length&&n.renderLayer(n,h,f,p))}this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?t.default$6.black:t.default$6.transparent,depth:1}),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var m,_=[];for(this.currentLayer=s.length-1,this.currentLayer;this.currentLayer>=0;this.currentLayer--){var g=n.style._layers[s[n.currentLayer]];g.source!==(m&&m.id)&&(_=[],(m=n.style.sourceCaches[g.source])&&(n.clearStencil(),_=m.getVisibleCoordinates(),m.getSource().isTileClipped&&n._renderTileClippingMasks(_))),n.renderLayer(n,m,g,_)}this.renderPass="translucent";var v,y=[];for(this.currentLayer=0,this.currentLayer;this.currentLayer<s.length;this.currentLayer++){var x=n.style._layers[s[n.currentLayer]];x.source!==(v&&v.id)&&(y=[],(v=n.style.sourceCaches[x.source])&&(n.clearStencil(),y=v.getVisibleCoordinates(),v.getSource().isTileClipped&&n._renderTileClippingMasks(y)),y.reverse()),n.renderLayer(n,v,x,y)}if(this.options.showTileBoundaries){var b=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];b&&Di.debug(this,b,b.getVisibleCoordinates())}},Mi.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},Mi.prototype.renderLayer=function(t,e,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||n.length)&&(this.id=i.id,Di[i.type](t,e,i,n))},Mi.prototype.translatePosMatrix=function(e,i,n,o,r){if(!n[0]&&!n[1])return e;var a=r?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l]}var c=[r?n[0]:ze(i,n[0],this.transform.zoom),r?n[1]:ze(i,n[1],this.transform.zoom),0],u=new Float32Array(16);return t.mat4.translate(u,e,c),u},Mi.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},Mi.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},Mi.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var i=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[i]||(this.cache[i]=new ri(this.context,oi[t],e,this._showOverdrawInspector)),this.cache[i]},Mi.prototype.useProgram=function(t,e){var i=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.context.program.set(i.program),i};var Bi=t.default$10.vec4,Oi=t.default$10.mat4,Fi=t.default$10.mat2,Ni=function(t,e,i){this.tileSize=512,this._renderWorldCopies=void 0===i||i,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new W(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},Ui={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},x:{configurable:!0},y:{configurable:!0},point:{configurable:!0}};Ni.prototype.clone=function(){var t=new Ni(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},Ui.minZoom.get=function(){return this._minZoom},Ui.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},Ui.maxZoom.get=function(){return this._maxZoom},Ui.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},Ui.renderWorldCopies.get=function(){return this._renderWorldCopies},Ui.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},Ui.worldSize.get=function(){return this.tileSize*this.scale},Ui.centerPoint.get=function(){return this.size._div(2)},Ui.size.get=function(){return new t.default$1(this.width,this.height)},Ui.bearing.get=function(){return-this.angle/Math.PI*180},Ui.bearing.set=function(e){var i=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=Fi.create(),Fi.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Ui.pitch.get=function(){return this._pitch/Math.PI*180},Ui.pitch.set=function(e){var i=t.clamp(e,0,60)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())},Ui.fov.get=function(){return this._fov/Math.PI*180},Ui.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},Ui.zoom.get=function(){return this._zoom},Ui.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},Ui.center.get=function(){return this._center},Ui.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Ni.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},Ni.prototype.getVisibleUnwrappedCoordinates=function(e){var i=this.pointCoordinate(new t.default$1(0,0),0),n=this.pointCoordinate(new t.default$1(this.width,0),0),o=Math.floor(i.column),r=Math.floor(n.column),a=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var s=o;s<=r;s++)0!==s&&a.push(new t.UnwrappedTileID(s,e));return a},Ni.prototype.coveringTiles=function(e){var i=this.coveringZoomLevel(e),n=i;if(void 0!==e.minzoom&&i<e.minzoom)return[];void 0!==e.maxzoom&&i>e.maxzoom&&(i=e.maxzoom);var o=this.pointCoordinate(this.centerPoint,i),r=new t.default$1(o.column-.5,o.row-.5);return function(e,i,n,o){void 0===o&&(o=!0);var r=1<<e,a={};function s(i,s,l){var c,u,h,p;if(l>=0&&l<=r)for(c=i;c<s;c++)u=Math.floor(c/r),h=(c%r+r)%r,0!==u&&!0!==o||(p=new t.OverscaledTileID(n,u,e,h,l),a[p.key]=p)}return ki(i[0],i[1],i[2],0,r,s),ki(i[2],i[3],i[0],0,r,s),Object.keys(a).map(function(t){return a[t]})}(i,[this.pointCoordinate(new t.default$1(0,0),i),this.pointCoordinate(new t.default$1(this.width,0),i),this.pointCoordinate(new t.default$1(this.width,this.height),i),this.pointCoordinate(new t.default$1(0,this.height),i)],e.reparseOverscaled?n:i,this._renderWorldCopies).sort(function(t,e){return r.dist(t.canonical)-r.dist(e.canonical)})},Ni.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},Ui.unmodified.get=function(){return this._unmodified},Ni.prototype.zoomScale=function(t){return Math.pow(2,t)},Ni.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},Ni.prototype.project=function(e){return new t.default$1(this.lngX(e.lng),this.latY(e.lat))},Ni.prototype.unproject=function(t){return new W(this.xLng(t.x),this.yLat(t.y))},Ui.x.get=function(){return this.lngX(this.center.lng)},Ui.y.get=function(){return this.latY(this.center.lat)},Ui.point.get=function(){return new t.default$1(this.x,this.y)},Ni.prototype.lngX=function(t){return(180+t)*this.worldSize/360},Ni.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},Ni.prototype.xLng=function(t){return 360*t/this.worldSize-180},Ni.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},Ni.prototype.setLocationAtPoint=function(t,e){var i=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(i)),this._renderWorldCopies&&(this.center=this.center.wrap())},Ni.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},Ni.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},Ni.prototype.locationCoordinate=function(e){return new t.default$19(this.lngX(e.lng)/this.tileSize,this.latY(e.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},Ni.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new W(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},Ni.prototype.pointCoordinate=function(e,i){void 0===i&&(i=this.tileZoom);var n=[e.x,e.y,0,1],o=[e.x,e.y,1,1];Bi.transformMat4(n,n,this.pixelMatrixInverse),Bi.transformMat4(o,o,this.pixelMatrixInverse);var r=n[3],a=o[3],s=n[0]/r,l=o[0]/a,c=n[1]/r,u=o[1]/a,h=n[2]/r,p=o[2]/a,d=h===p?0:(0-h)/(p-h);return new t.default$19(t.number(s,l,d)/this.tileSize,t.number(c,u,d)/this.tileSize,this.zoom)._zoomTo(i)},Ni.prototype.coordinatePoint=function(e){var i=e.zoomTo(this.zoom),n=[i.column*this.tileSize,i.row*this.tileSize,0,1];return Bi.transformMat4(n,n,this.pixelMatrix),new t.default$1(n[0]/n[3],n[1]/n[3])},Ni.prototype.calculatePosMatrix=function(e,i){void 0===i&&(i=!1);var n=e.key,o=i?this._alignedPosMatrixCache:this._posMatrixCache;if(o[n])return o[n];var r=e.canonical,a=this.worldSize/this.zoomScale(r.z),s=r.x+Math.pow(2,r.z)*e.wrap,l=Oi.identity(new Float64Array(16));return Oi.translate(l,l,[s*a,r.y*a,0]),Oi.scale(l,l,[a/t.default$8,a/t.default$8,1]),Oi.multiply(l,i?this.alignedProjMatrix:this.projMatrix,l),o[n]=new Float32Array(l),o[n]},Ni.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,i,n,o,r=-90,a=90,s=-180,l=180,c=this.size,u=this._unmodified;if(this.latRange){var h=this.latRange;r=this.latY(h[1]),e=(a=this.latY(h[0]))-r<c.y?c.y/(a-r):0}if(this.lngRange){var p=this.lngRange;s=this.lngX(p[0]),i=(l=this.lngX(p[1]))-s<c.x?c.x/(l-s):0}var d=Math.max(i||0,e||0);if(d)return this.center=this.unproject(new t.default$1(i?(l+s)/2:this.x,e?(a+r)/2:this.y)),this.zoom+=this.scaleZoom(d),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var f=this.y,m=c.y/2;f-m<r&&(o=r+m),f+m>a&&(o=a-m)}if(this.lngRange){var _=this.x,g=c.x/2;_-g<s&&(n=s+g),_+g>l&&(n=l-g)}void 0===n&&void 0===o||(this.center=this.unproject(new t.default$1(void 0!==n?n:this.x,void 0!==o?o:this.y))),this._unmodified=u,this._constraining=!1}},Ni.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,i=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),n=this.x,o=this.y,r=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),a=new Float64Array(16);Oi.perspective(a,this._fov,this.width/this.height,1,r),Oi.scale(a,a,[1,-1,1]),Oi.translate(a,a,[0,0,-this.cameraToCenterDistance]),Oi.rotateX(a,a,this._pitch),Oi.rotateZ(a,a,this.angle),Oi.translate(a,a,[-n,-o,0]);var s=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));Oi.scale(a,a,[1,1,s,1]),this.projMatrix=a;var l=this.width%2/2,c=this.height%2/2,u=Math.cos(this.angle),h=Math.sin(this.angle),p=n-Math.round(n)+u*l+h*c,d=o-Math.round(o)+u*c+h*l,f=new Float64Array(a);if(Oi.translate(f,f,[p>.5?p-1:p,d>.5?d-1:d,0]),this.alignedProjMatrix=f,a=Oi.create(),Oi.scale(a,a,[this.width/2,-this.height/2,1]),Oi.translate(a,a,[1,-1,0]),this.pixelMatrix=Oi.multiply(new Float64Array(16),a,this.projMatrix),!(a=Oi.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=a,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Ni.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.default$1(0,0)).zoomTo(this.zoom),i=[e.column*this.tileSize,e.row*this.tileSize,0,1];return Bi.transformMat4(i,i,this.pixelMatrix)[3]/this.cameraToCenterDistance},Object.defineProperties(Ni.prototype,Ui);var Zi=function(){var e,i,n,o,r;t.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(e=this._updateHashUnthrottled.bind(this),i=300,n=!1,o=0,r=function(){o=0,n&&(e(),o=setTimeout(r,i),n=!1)},function(){return n=!0,o||r(),o})};Zi.prototype.addTo=function(e){return this._map=e,t.default.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Zi.prototype.remove=function(){return t.default.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},Zi.prototype.getHashString=function(t){var e=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,n=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,n),r=Math.round(e.lng*o)/o,a=Math.round(e.lat*o)/o,s=this._map.getBearing(),l=this._map.getPitch(),c="";return c+=t?"#/"+r+"/"+a+"/"+i:"#"+i+"/"+a+"/"+r,(s||l)&&(c+="/"+Math.round(10*s)/10),l&&(c+="/"+Math.round(l)),c},Zi.prototype._onHashChange=function(){var e=t.default.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},Zi.prototype._updateHashUnthrottled=function(){var e=this.getHashString();t.default.history.replaceState(t.default.history.state,"",e)};var Vi=function(e){function i(i,n,o,r){void 0===r&&(r={});var a=s.mousePos(n.getCanvasContainer(),o),l=n.unproject(a);e.call(this,i,t.extend({point:a,lngLat:l,originalEvent:o},r)),this._defaultPrevented=!1}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var n={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,n),i}(t.Event),ji=function(e){function i(i,n,o){var r=s.touchPos(n.getCanvasContainer(),o),a=r.map(function(t){return n.unproject(t)}),l=r.reduce(function(t,e,i,n){return t.add(e.div(n.length))},new t.default$1(0,0)),c=n.unproject(l);e.call(this,i,{points:r,point:l,lngLats:a,lngLat:c,originalEvent:o}),this._defaultPrevented=!1}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var n={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,n),i}(t.Event),$i=function(t){function e(e,i,n){t.call(this,e,{originalEvent:n}),this._defaultPrevented=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,i),e}(t.Event),Gi=function(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Gi.prototype.isEnabled=function(){return!!this._enabled},Gi.prototype.isActive=function(){return!!this._active},Gi.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},Gi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Gi.prototype.onWheel=function(e){if(this.isEnabled()){var i=e.deltaMode===t.default.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,n=r.now(),o=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==i&&i%4.000244140625==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(o*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this.isActive()||this._start(e)),e.preventDefault()}},Gi.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},Gi.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e})),this._finishTimeout&&clearTimeout(this._finishTimeout);var i=s.mousePos(this._el,e);this._around=W.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(i)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},Gi.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var i=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,o=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==o&&(o=1/o);var a="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(a*o))),"wheel"===this._type&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var s=!1;if("wheel"===this._type){var l=Math.min((r.now()-this._lastWheelEventTime)/200,1),c=this._easing(l);i.zoom=t.number(this._startZoom,this._targetZoom,c),l<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):s=!0}else i.zoom=this._targetZoom,s=!0;i.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),s&&(this._active=!1,this._finishTimeout=setTimeout(function(){e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom},200))}},Gi.prototype._smoothOutEasing=function(e){var i=t.ease;if(this._prevEase){var n=this._prevEase,o=(r.now()-n.start)/n.duration,a=n.easing(o+.01)-n.easing(o),s=.27/Math.sqrt(a*a+1e-4)*.01,l=Math.sqrt(.0729-s*s);i=t.bezier(s,l,.25,1)}return this._prevEase={start:r.now(),duration:e,easing:i},i};var Wi=function(e){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};Wi.prototype.isEnabled=function(){return!!this._enabled},Wi.prototype.isActive=function(){return!!this._active},Wi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Wi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Wi.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.default.document.addEventListener("mousemove",this._onMouseMove,!1),t.default.document.addEventListener("keydown",this._onKeyDown,!1),t.default.document.addEventListener("mouseup",this._onMouseUp,!1),s.disableDrag(),this._startPos=s.mousePos(this._el,e),this._active=!0)},Wi.prototype._onMouseMove=function(t){var e=this._startPos,i=s.mousePos(this._el,t);this._box||(this._box=s.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var n=Math.min(e.x,i.x),o=Math.max(e.x,i.x),r=Math.min(e.y,i.y),a=Math.max(e.y,i.y);s.setTransform(this._box,"translate("+n+"px,"+r+"px)"),this._box.style.width=o-n+"px",this._box.style.height=a-r+"px"},Wi.prototype._onMouseUp=function(e){if(0===e.button){var i=this._startPos,n=s.mousePos(this._el,e),o=(new q).extend(this._map.unproject(i)).extend(this._map.unproject(n));this._finish(),s.suppressClick(),i.x===n.x&&i.y===n.y?this._fireEvent("boxzoomcancel",e):this._map.fitBounds(o,{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e,boxZoomBounds:o}))}},Wi.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},Wi.prototype._finish=function(){this._active=!1,t.default.document.removeEventListener("mousemove",this._onMouseMove,!1),t.default.document.removeEventListener("keydown",this._onKeyDown,!1),t.default.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(s.remove(this._box),this._box=null),s.enableDrag()},Wi.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,{originalEvent:i}))};var qi=t.bezier(0,0,.25,1),Xi=function(e,i){this._map=e,this._el=i.element||e.getCanvasContainer(),this._state="disabled",this._button=i.button||"right",this._bearingSnap=i.bearingSnap||0,this._pitchWithRotate=!1!==i.pitchWithRotate,t.bindAll(["_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};Xi.prototype.isEnabled=function(){return"disabled"!==this._state},Xi.prototype.isActive=function(){return"active"===this._state},Xi.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},Xi.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Xi.prototype.onMouseDown=function(e){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=s.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==s.mouseButton(e))return;this._eventButton=0}s.disableDrag(),t.default.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.default.document.addEventListener("mouseup",this._onMouseUp),t.default.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[r.now(),this._map.getBearing()]],this._previousPos=s.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},Xi.prototype._onMouseMove=function(t){this._lastMoveEvent=t,this._pos=s.mousePos(this._el,t),"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame))},Xi.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform,i=this._previousPos,n=this._pos,o=.8*(i.x-n.x),a=-.5*(i.y-n.y),s=e.bearing-o,l=e.pitch-a,c=this._inertia,u=c[c.length-1];this._drainInertiaBuffer(),c.push([r.now(),this._map._normalizeBearing(s,u[1])]),e.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.pitch=l),this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._previousPos=this._pos}},Xi.prototype._onMouseUp=function(t){if(s.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",s.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},Xi.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},Xi.prototype._unbind=function(){t.default.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.default.document.removeEventListener("mouseup",this._onMouseUp),t.default.removeEventListener("blur",this._onBlur),s.enableDrag()},Xi.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._previousPos},Xi.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var i=this._map,n=i.getBearing(),o=this._inertia,r=function(){Math.abs(n)<e._bearingSnap?i.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(o.length<2)r();else{var a=o[0],s=o[o.length-1],l=o[o.length-2],c=i._normalizeBearing(n,l[1]),u=s[1]-a[1],h=u<0?-1:1,p=(s[0]-a[0])/1e3;if(0!==u&&0!==p){var d=Math.abs(u*(.25/p));d>180&&(d=180);var f=d/180;c+=h*d*(f/2),Math.abs(i._normalizeBearing(c,0))<this._bearingSnap&&(c=i._normalizeBearing(0,c)),i.rotateTo(c,{duration:1e3*f,easing:qi,noMoveStart:!0},{originalEvent:t})}else r()}},Xi.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},Xi.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=r.now();t.length>0&&e-t[0][0]>160;)t.shift()};var Hi=t.bezier(0,0,.3,1),Ki=function(e){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};Ki.prototype.isEnabled=function(){return"disabled"!==this._state},Ki.prototype.isActive=function(){return"active"===this._state},Ki.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},Ki.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Ki.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==s.mouseButton(e)||(s.addEventListener(t.default.document,"mousemove",this._onMove,{capture:!0}),s.addEventListener(t.default.document,"mouseup",this._onMouseUp),this._start(e)))},Ki.prototype.onTouchStart=function(e){"enabled"===this._state&&(e.touches.length>1||(s.addEventListener(t.default.document,"touchmove",this._onMove,{capture:!0,passive:!1}),s.addEventListener(t.default.document,"touchend",this._onTouchEnd),this._start(e)))},Ki.prototype._start=function(e){t.default.addEventListener("blur",this._onBlur),this._state="pending",this._previousPos=s.mousePos(this._el,e),this._inertia=[[r.now(),this._previousPos]]},Ki.prototype._onMove=function(t){this._lastMoveEvent=t,t.preventDefault(),this._pos=s.mousePos(this._el,t),this._drainInertiaBuffer(),this._inertia.push([r.now(),this._pos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",t),this._fireEvent("movestart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame))},Ki.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._previousPos),this._pos),this._fireEvent("drag",t),this._fireEvent("move",t),this._previousPos=this._pos,delete this._lastMoveEvent}},Ki.prototype._onMouseUp=function(t){if(0===s.mouseButton(t))switch(this._state){case"active":this._state="enabled",s.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},Ki.prototype._onTouchEnd=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},Ki.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},Ki.prototype._unbind=function(){s.removeEventListener(t.default.document,"touchmove",this._onMove,{capture:!0,passive:!1}),s.removeEventListener(t.default.document,"touchend",this._onTouchEnd),s.removeEventListener(t.default.document,"mousemove",this._onMove,{capture:!0}),s.removeEventListener(t.default.document,"mouseup",this._onMouseUp),s.removeEventListener(t.default,"blur",this._onBlur)},Ki.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._previousPos,delete this._pos},Ki.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var i=e[e.length-1],n=e[0],o=i[1].sub(n[1]),r=(i[0]-n[0])/1e3;if(0===r||i[1].equals(n[1]))this._fireEvent("moveend",t);else{var a=o.mult(.3/r),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var l=s/750,c=a.mult(-l/2);this._map.panBy(c,{duration:1e3*l,easing:Hi,noMoveStart:!0},{originalEvent:t})}}},Ki.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},Ki.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=r.now();t.length>0&&e-t[0][0]>160;)t.shift()};var Yi=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};function Ji(t){return t*(2-t)}Yi.prototype.isEnabled=function(){return!!this._enabled},Yi.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},Yi.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},Yi.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,i=0,n=0,o=0,r=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?n=1:(t.preventDefault(),r=-1);break;case 40:t.shiftKey?n=-1:(r=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),l={duration:300,delayEndEvents:500,easing:Ji,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*i,pitch:a.getPitch()+10*n,offset:[100*-o,100*-r],center:a.getCenter()};a.easeTo(l,{originalEvent:t})}};var Qi=function(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};Qi.prototype.isEnabled=function(){return!!this._enabled},Qi.prototype.isActive=function(){return!!this._active},Qi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Qi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Qi.prototype.onTouchStart=function(t){var e=this;this.isEnabled()&&(t.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(t)):this._tapped=setTimeout(function(){e._tapped=null},300)))},Qi.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},Qi.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},Qi.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var tn=t.bezier(0,0,.15,1),en=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};en.prototype.isEnabled=function(){return!!this._enabled},en.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},en.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},en.prototype.disableRotation=function(){this._rotationDisabled=!0},en.prototype.enableRotation=function(){this._rotationDisabled=!1},en.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var i=s.mousePos(this._el,e.touches[0]),n=s.mousePos(this._el,e.touches[1]);this._startVec=i.sub(n),this._gestureIntent=void 0,this._inertia=[],s.addEventListener(t.default.document,"touchmove",this._onMove,{passive:!1}),s.addEventListener(t.default.document,"touchend",this._onEnd)}},en.prototype._getTouchEventData=function(t){var e=s.mousePos(this._el,t.touches[0]),i=s.mousePos(this._el,t.touches[1]),n=e.sub(i);return{vec:n,center:e.add(i).div(2),scale:n.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*n.angleWith(this._startVec)/Math.PI}},en.prototype._onMove=function(e){if(2===e.touches.length){var i=this._getTouchEventData(e),n=i.vec,o=i.scale,r=i.bearing;if(!this._gestureIntent){var a=Math.abs(1-o)>.15;Math.abs(r)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=n)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},en.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var i=this._map.transform;this._startScale||(this._startScale=i.scale,this._startBearing=i.bearing);var n=this._getTouchEventData(this._lastTouchEvent),o=n.center,a=n.bearing,s=n.scale,l=i.pointLocation(o),c=i.locationPoint(l);"rotate"===e&&(i.bearing=this._startBearing+a),i.zoom=i.scaleZoom(this._startScale*s),i.setLocationAtPoint(l,c),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([r.now(),s,o])}},en.prototype._onEnd=function(e){s.removeEventListener(t.default.document,"touchmove",this._onMove,{passive:!1}),s.removeEventListener(t.default.document,"touchend",this._onEnd);var i=this._gestureIntent,n=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,i){this._map.fire(new t.Event(i+"end",{originalEvent:e})),this._drainInertiaBuffer();var o=this._inertia,r=this._map;if(o.length<2)r.snapToNorth({},{originalEvent:e});else{var a=o[o.length-1],l=o[0],c=r.transform.scaleZoom(n*a[1]),u=r.transform.scaleZoom(n*l[1]),h=c-u,p=(a[0]-l[0])/1e3,d=a[2];if(0!==p&&c!==u){var f=.15*h/p;Math.abs(f)>2.5&&(f=f>0?2.5:-2.5);var m=1e3*Math.abs(f/(12*.15)),_=c+f*m/2e3;_<0&&(_=0),r.easeTo({zoom:_,duration:m,easing:tn,around:this._aroundCenter?r.getCenter():r.unproject(d),noMoveStart:!0},{originalEvent:e})}else r.snapToNorth({},{originalEvent:e})}}},en.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=r.now();t.length>2&&e-t[0][0]>160;)t.shift()};var nn={scrollZoom:Gi,boxZoom:Wi,dragRotate:Xi,dragPan:Ki,keyboard:Yi,doubleClickZoom:Qi,touchZoomRotate:en};var on=function(e){function i(i,n){e.call(this),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=n.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return this.transform.center},i.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},i.prototype.panBy=function(e,i,n){return e=t.default$1.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},i),n)},i.prototype.panTo=function(e,i,n){return this.easeTo(t.extend({center:e},i),n)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},i.prototype.zoomTo=function(e,i,n){return this.easeTo(t.extend({zoom:e},i),n)},i.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},i.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},i.prototype.rotateTo=function(e,i,n){return this.easeTo(t.extend({bearing:e},i),n)},i.prototype.resetNorth=function(e,i){return this.rotateTo(0,t.extend({duration:1e3},e),i),this},i.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},i.prototype.fitBounds=function(e,i,n){if("number"==typeof(i=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}if(!t.default$11(Object.keys(i.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"]))return t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;e=q.convert(e);var r=[(i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2],a=Math.min(i.padding.right,i.padding.left),s=Math.min(i.padding.top,i.padding.bottom);i.offset=[i.offset[0]+r[0],i.offset[1]+r[1]];var l=t.default$1.convert(i.offset),c=this.transform,u=c.project(e.getNorthWest()),h=c.project(e.getSouthEast()),p=h.sub(u),d=(c.width-2*a-2*Math.abs(l.x))/p.x,f=(c.height-2*s-2*Math.abs(l.y))/p.y;return f<0||d<0?(t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(i.center=c.unproject(u.add(h).div(2)),i.zoom=Math.min(c.scaleZoom(c.scale*Math.min(d,f)),i.maxZoom),i.bearing=0,i.linear?this.easeTo(i,n):this.flyTo(i,n))},i.prototype.jumpTo=function(e,i){this.stop();var n=this.transform,o=!1,r=!1,a=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(o=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=W.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(r=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(a=!0,n.pitch=+e.pitch),this.fire(new t.Event("movestart",i)).fire(new t.Event("move",i)),o&&this.fire(new t.Event("zoomstart",i)).fire(new t.Event("zoom",i)).fire(new t.Event("zoomend",i)),r&&this.fire(new t.Event("rotatestart",i)).fire(new t.Event("rotate",i)).fire(new t.Event("rotateend",i)),a&&this.fire(new t.Event("pitchstart",i)).fire(new t.Event("pitch",i)).fire(new t.Event("pitchend",i)),this.fire(new t.Event("moveend",i))},i.prototype.easeTo=function(e,i){var n=this;this.stop(),!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate&&(e.duration=0);var o=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?+e.zoom:r,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,u="pitch"in e?+e.pitch:s,h=o.centerPoint.add(t.default$1.convert(e.offset)),p=o.pointLocation(h),d=W.convert(e.center||p);this._normalizeCenter(d);var f,m,_=o.project(p),g=o.project(d).sub(_),v=o.zoomScale(l-r);return e.around&&(f=W.convert(e.around),m=o.locationPoint(f)),this._zooming=l!==r,this._rotating=a!==c,this._pitching=u!==s,this._prepareEase(i,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(e){if(n._zooming&&(o.zoom=t.number(r,l,e)),n._rotating&&(o.bearing=t.number(a,c,e)),n._pitching&&(o.pitch=t.number(s,u,e)),f)o.setLocationAtPoint(f,m);else{var p=o.zoomScale(o.zoom-r),d=l>r?Math.min(2,v):Math.max(.5,v),y=Math.pow(d,1-e),x=o.unproject(_.add(g.mult(e*y)).mult(p));o.setLocationAtPoint(o.renderWorldCopies?x.wrap():x,h)}n._fireMoveEvents(i)},function(){e.delayEndEvents?n._easeEndTimeoutID=setTimeout(function(){return n._afterEase(i)},e.delayEndEvents):n._afterEase(i)},e),this},i.prototype._prepareEase=function(e,i){this._moving=!0,i||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},i.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},i.prototype._afterEase=function(e){var i=this._zooming,n=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,i&&this.fire(new t.Event("zoomend",e)),n&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},i.prototype.flyTo=function(e,i){var n=this;this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):r,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,u="pitch"in e?+e.pitch:s,h=o.zoomScale(l-r),p=o.centerPoint.add(t.default$1.convert(e.offset)),d=o.pointLocation(p),f=W.convert(e.center||d);this._normalizeCenter(f);var m=o.project(d),_=o.project(f).sub(m),g=e.curve,v=Math.max(o.width,o.height),y=v/h,x=_.mag();if("minZoom"in e){var b=t.clamp(Math.min(e.minZoom,r,l),o.minZoom,o.maxZoom),w=v/o.zoomScale(b-r);g=Math.sqrt(w/x*2)}var E=g*g;function T(t){var e=(y*y-v*v+(t?-1:1)*E*E*x*x)/(2*(t?y:v)*E*x);return Math.log(Math.sqrt(e*e+1)-e)}function I(t){return(Math.exp(t)-Math.exp(-t))/2}function C(t){return(Math.exp(t)+Math.exp(-t))/2}var S=T(0),z=function(t){return C(S)/C(S+g*t)},A=function(t){return v*((C(S)*(I(e=S+g*t)/C(e))-I(S))/E)/x;var e},R=(T(1)-S)/g;if(Math.abs(x)<1e-6||!isFinite(R)){if(Math.abs(v-y)<1e-6)return this.easeTo(e,i);var D=y<v?-1:1;R=Math.abs(Math.log(y/v))/g,A=function(){return 0},z=function(t){return Math.exp(D*g*t)}}if("duration"in e)e.duration=+e.duration;else{var M="screenSpeed"in e?+e.screenSpeed/g:+e.speed;e.duration=1e3*R/M}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=a!==c,this._pitching=u!==s,this._prepareEase(i,!1),this._ease(function(e){var l=e*R,h=1/z(l);o.zoom=r+o.scaleZoom(h),n._rotating&&(o.bearing=t.number(a,c,e)),n._pitching&&(o.pitch=t.number(s,u,e));var d=o.unproject(m.add(_.mult(A(l))).mult(h));o.setLocationAtPoint(o.renderWorldCopies?d.wrap():d,p),n._fireMoveEvents(i)},function(){return n._afterEase(i)},e),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},i.prototype._ease=function(t,e,i){!1===i.animate||0===i.duration?(t(1),e()):(this._easeStart=r.now(),this._easeOptions=i,this._onEaseFrame=t,this._onEaseEnd=e,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var t=Math.min((r.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(e,i){e=t.wrap(e,-180,180);var n=Math.abs(e-i);return Math.abs(e-360-i)<n&&(e-=360),Math.abs(e+360-i)<n&&(e+=360),e},i.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var i=t.lng-e.center.lng;t.lng+=i>180?-360:i<-180?360:0}},i}(t.Evented),rn=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};rn.prototype.getDefaultPosition=function(){return"bottom-right"},rn.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},rn.prototype.onRemove=function(){s.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},rn.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var e=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:_.ACCESS_TOKEN}];if(t){var i=e.reduce(function(t,i,n){return i.value&&(t+=i.key+"="+i.value+(n<e.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+i+(this._map._hash?this._map._hash.getHashString(!0):"")}},rn.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},rn.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var i=this._map.style.sourceCaches;for(var n in i){var o=i[n].getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}t.sort(function(t,e){return t.length-e.length}),(t=t.filter(function(e,i){for(var n=i+1;n<t.length;n++)if(t[n].indexOf(e)>=0)return!1;return!0})).length?(this._container.innerHTML=t.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},rn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var an=function(){t.bindAll(["_updateLogo"],this)};an.prototype.onAdd=function(t){this._map=t,this._container=s.create("div","mapboxgl-ctrl");var e=s.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},an.prototype.onRemove=function(){s.remove(this._container),this._map.off("sourcedata",this._updateLogo)},an.prototype.getDefaultPosition=function(){return"bottom-left"},an.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},an.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t){if(t[e].getSource().mapbox_logo)return!0}return!1}};var sn=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};sn.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},sn.prototype.remove=function(t){for(var e=this._currentlyRunning,i=0,n=e?this._queue.concat(e):this._queue;i<n.length;i+=1){var o=n[i];if(o.id===t)return void(o.cancelled=!0)}},sn.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(!n.cancelled&&(n.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},sn.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var ln=t.default.HTMLImageElement,cn=t.default.HTMLElement,un={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300},hn=function(i){function n(e){if(null!=(e=t.extend({},un,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var n=new Ni(e.minZoom,e.maxZoom,e.renderWorldCopies);i.call(this,n,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new sn;var o=e.transformRequest;if(this._transformRequest=o?function(t,e){return o(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof e.container){var r=t.default.document.getElementById(e.container);if(!r)throw new Error("Container '"+e.container+"' not found.");this._container=r}else{if(!(e.container instanceof cn))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),void 0!==t.default&&(t.default.addEventListener("online",this._onWindowOnline,!1),t.default.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var i=t.getCanvasContainer(),n=null,o=!1;for(var r in nn)t[r]=new nn[r](t,e),e.interactive&&e[r]&&t[r].enable(e[r]);s.addEventListener(i,"mouseout",function(e){t.fire(new Vi("mouseout",t,e))}),s.addEventListener(i,"mousedown",function(i){o=!0;var n=new Vi("mousedown",t,i);t.fire(n),n.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(i),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(i),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(i))}),s.addEventListener(i,"mouseup",function(e){var i=t.dragRotate.isActive();n&&!i&&t.fire(new Vi("contextmenu",t,n)),n=null,o=!1,t.fire(new Vi("mouseup",t,e))}),s.addEventListener(i,"mousemove",function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var n=e.toElement||e.target;n&&n!==i;)n=n.parentNode;n===i&&t.fire(new Vi("mousemove",t,e))}}),s.addEventListener(i,"mouseover",function(e){for(var n=e.toElement||e.target;n&&n!==i;)n=n.parentNode;n===i&&t.fire(new Vi("mouseover",t,e))}),s.addEventListener(i,"touchstart",function(i){var n=new ji("touchstart",t,i);t.fire(n),n.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(i),t.touchZoomRotate.onStart(i),t.doubleClickZoom.onTouchStart(n))},{passive:!1}),s.addEventListener(i,"touchmove",function(e){t.fire(new ji("touchmove",t,e))},{passive:!0}),s.addEventListener(i,"touchend",function(e){t.fire(new ji("touchend",t,e))}),s.addEventListener(i,"touchcancel",function(e){t.fire(new ji("touchcancel",t,e))}),s.addEventListener(i,"click",function(e){t.fire(new Vi("click",t,e))}),s.addEventListener(i,"dblclick",function(e){var i=new Vi("dblclick",t,e);t.fire(i),i.defaultPrevented||t.doubleClickZoom.onDblClick(i)}),s.addEventListener(i,"contextmenu",function(e){var i=t.dragRotate.isActive();o||i?o&&(n=e):t.fire(new Vi("contextmenu",t,e)),e.preventDefault()}),s.addEventListener(i,"wheel",function(e){var i=new $i("wheel",t,e);t.fire(i),i.defaultPrevented||t.scrollZoom.onWheel(e)},{passive:!1})}(this,e),this._hash=e.hash&&(new Zi).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this.resize(),e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new rn),this.addControl(new an,e.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}i&&(n.__proto__=i),n.prototype=Object.create(i&&i.prototype),n.prototype.constructor=n;var o={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return n.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var i=t.onAdd(this),n=this._controlPositions[e];return-1!==e.indexOf("bottom")?n.insertBefore(i,n.firstChild):n.appendChild(i),this},n.prototype.removeControl=function(t){return t.onRemove(this),this},n.prototype.resize=function(e){var i=this._containerDimensions(),n=i[0],o=i[1];return this._resizeCanvas(n,o),this.transform.resize(n,o),this.painter.resize(n,o),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e))},n.prototype.getBounds=function(){var e=new q(this.transform.pointLocation(new t.default$1(0,this.transform.height)),this.transform.pointLocation(new t.default$1(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(e.extend(this.transform.pointLocation(new t.default$1(this.transform.size.x,0))),e.extend(this.transform.pointLocation(new t.default$1(0,this.transform.size.y)))),e},n.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new q([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},n.prototype.setMaxBounds=function(t){if(t){var e=q.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},n.prototype.setMinZoom=function(t){if((t=null===t||void 0===t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},n.prototype.getMinZoom=function(){return this.transform.minZoom},n.prototype.setMaxZoom=function(t){if((t=null===t||void 0===t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},n.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},n.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update(),this},n.prototype.getMaxZoom=function(){return this.transform.maxZoom},n.prototype.project=function(t){return this.transform.locationPoint(W.convert(t))},n.prototype.unproject=function(e){return this.transform.pointLocation(t.default$1.convert(e))},n.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},n.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isActive()},n.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},n.prototype.on=function(t,e,n){var o,r=this;if(void 0===n)return i.prototype.on.call(this,t,e);var a=function(){if("mouseenter"===t||"mouseover"===t){var i=!1;return{layer:e,listener:n,delegates:{mousemove:function(o){var a=r.getLayer(e)?r.queryRenderedFeatures(o.point,{layers:[e]}):[];a.length?i||(i=!0,n.call(r,new Vi(t,r,o.originalEvent,{features:a}))):i=!1},mouseout:function(){i=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(i){(r.getLayer(e)?r.queryRenderedFeatures(i.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,n.call(r,new Vi(t,r,i.originalEvent)))},mouseout:function(e){a&&(a=!1,n.call(r,new Vi(t,r,e.originalEvent)))}}}}return{layer:e,listener:n,delegates:(o={},o[t]=function(t){var i=r.getLayer(e)?r.queryRenderedFeatures(t.point,{layers:[e]}):[];i.length&&(t.features=i,n.call(r,t),delete t.features)},o)}}();for(var s in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(a),a.delegates)r.on(s,a.delegates[s]);return this},n.prototype.off=function(t,e,n){if(void 0===n)return i.prototype.off.call(this,t,e);if(this._delegatedListeners&&this._delegatedListeners[t])for(var o=this._delegatedListeners[t],r=0;r<o.length;r++){var a=o[r];if(a.layer===e&&a.listener===n){for(var s in a.delegates)this.off(s,a.delegates[s]);return o.splice(r,1),this}}return this},n.prototype.queryRenderedFeatures=function(e,i){var n;return 2===arguments.length?(e=arguments[0],i=arguments[1]):1===arguments.length&&((n=arguments[0])instanceof t.default$1||Array.isArray(n))?(e=arguments[0],i={}):1===arguments.length?(e=void 0,i=arguments[0]):(e=void 0,i={}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(e),i,this.transform):[]},n.prototype._makeQueryGeometry=function(e){var i,n=this;if(void 0===e&&(e=[t.default$1.convert([0,0]),t.default$1.convert([this.transform.width,this.transform.height])]),e instanceof t.default$1||"number"==typeof e[0]){i=[t.default$1.convert(e)]}else{var o=[t.default$1.convert(e[0]),t.default$1.convert(e[1])];i=[o[0],new t.default$1(o[1].x,o[0].y),o[1],new t.default$1(o[0].x,o[1].y),o[0]]}return i=i.map(function(t){return n.transform.pointCoordinate(t)})},n.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},n.prototype.setStyle=function(e,i){if((!i||!1!==i.diff&&!i.localIdeographFontFamily)&&this.style&&e&&"object"==typeof e)try{return this.style.setState(e)&&this._update(!0),this}catch(e){t.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Je(this,i||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},n.prototype.getStyle=function(){if(this.style)return this.style.serialize()},n.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},n.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},n.prototype.isSourceLoaded=function(e){var i=this.style&&this.style.sourceCaches[e];if(void 0!==i)return i.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},n.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var i=t[e]._tiles;for(var n in i){var o=i[n];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},n.prototype.addSourceType=function(t,e,i){return this.style.addSourceType(t,e,i)},n.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},n.prototype.getSource=function(t){return this.style.getSource(t)},n.prototype.addImage=function(e,i,n){void 0===n&&(n={});var o=n.pixelRatio;void 0===o&&(o=1);var a=n.sdf;if(void 0===a&&(a=!1),i instanceof ln){var s=r.getImageData(i),l=s.width,c=s.height,u=s.data;this.style.addImage(e,{data:new t.RGBAImage({width:l,height:c},u),pixelRatio:o,sdf:a})}else{if(void 0===i.width||void 0===i.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var h=i.width,p=i.height,d=i.data;this.style.addImage(e,{data:new t.RGBAImage({width:h,height:p},d.slice(0)),pixelRatio:o,sdf:a})}},n.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},n.prototype.removeImage=function(t){this.style.removeImage(t)},n.prototype.loadImage=function(e,i){t.getImage(this._transformRequest(e,t.ResourceType.Image),i)},n.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},n.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},n.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},n.prototype.getLayer=function(t){return this.style.getLayer(t)},n.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},n.prototype.setLayerZoomRange=function(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0),this},n.prototype.getFilter=function(t){return this.style.getFilter(t)},n.prototype.setPaintProperty=function(t,e,i){return this.style.setPaintProperty(t,e,i),this._update(!0),this},n.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},n.prototype.setLayoutProperty=function(t,e,i){return this.style.setLayoutProperty(t,e,i),this._update(!0),this},n.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},n.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},n.prototype.getLight=function(){return this.style.getLight()},n.prototype.getContainer=function(){return this._container},n.prototype.getCanvasContainer=function(){return this._canvasContainer},n.prototype.getCanvas=function(){return this._canvas},n.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},n.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSContainer=s.create("div","mapboxgl-missing-css",t)).innerHTML="Missing Mapbox GL JS CSS";var e=this._canvasContainer=s.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=s.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var n=this._controlContainer=s.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){o[t]=s.create("div","mapboxgl-ctrl-"+t,n)})},n.prototype._resizeCanvas=function(e,i){var n=t.default.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*i,this._canvas.style.width=e+"px",this._canvas.style.height=i+"px"},n.prototype._setupPainter=function(){var i=t.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},e.webGLContextAttributes),n=this._canvas.getContext("webgl",i)||this._canvas.getContext("experimental-webgl",i);n?this.painter=new Mi(n,this.transform):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},n.prototype._contextLost=function(e){e.preventDefault(),this._frameId&&(r.cancelFrame(this._frameId),this._frameId=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},n.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},n.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},n.prototype._update=function(t){this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender())},n.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},n.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},n.prototype._render=function(){this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var i=this.transform.zoom,n=r.now();this.style.zoomHistory.update(i,n);var o=new t.default$25(i,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),a=o.crossFadingFactor();1===a&&a===this._crossFadingFactor||(e=!0,this._crossFadingFactor=a),this.style.update(o)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},n.prototype.remove=function(){this._hash&&this._hash.remove(),r.cancelFrame(this._frameId),this._renderTaskQueue.clear(),this._frameId=null,this.setStyle(null),void 0!==t.default&&(t.default.removeEventListener("resize",this._onWindowResize,!1),t.default.removeEventListener("online",this._onWindowOnline,!1));var e=this.painter.context.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),pn(this._canvasContainer),pn(this._controlContainer),pn(this._missingCSSContainer),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},n.prototype._rerender=function(){var t=this;this.style&&!this._frameId&&(this._frameId=r.frame(function(){t._frameId=null,t._render()}))},n.prototype._onWindowOnline=function(){this._update()},n.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint=t,this._update()},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},n.prototype._onData=function(e){this._update("style"===e.dataType),this.fire(new t.Event(e.dataType+"data",e))},n.prototype._onDataLoading=function(e){this.fire(new t.Event(e.dataType+"dataloading",e))},Object.defineProperties(n.prototype,o),n}(on);function pn(t){t.parentNode&&t.parentNode.removeChild(t)}var dn={showCompass:!0,showZoom:!0},fn=function(e){var i=this;this.options=t.extend({},dn,e),this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return i._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return i._map.zoomOut()})),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return i._map.resetNorth()}),this._compassArrow=s.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function mn(t,e,i){if(t=new W(t.lng,t.lat),e){var n=new W(t.lng-360,t.lat),o=new W(t.lng+360,t.lat),r=i.locationPoint(t).distSqr(e);i.locationPoint(n).distSqr(e)<r?t=n:i.locationPoint(o).distSqr(e)<r&&(t=o)}for(;Math.abs(t.lng-i.center.lng)>180;){var a=i.locationPoint(t);if(a.x>=0&&a.y>=0&&a.x<=i.width&&a.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}fn.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},fn.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Xi(t,{button:"left",element:this._compass}),this._handler.enable()),this._container},fn.prototype.onRemove=function(){s.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),this._handler.disable(),delete this._handler),delete this._map},fn.prototype._createButton=function(t,e,i){var n=s.create("button",t,this._container);return n.type="button",n.setAttribute("aria-label",e),n.addEventListener("click",i),n};var _n={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function gn(t,e,i){var n=t.classList;for(var o in _n)n.remove("mapboxgl-"+i+"-anchor-"+o);n.add("mapboxgl-"+i+"-anchor-"+e)}var vn=function(e){if((arguments[0]instanceof t.default.HTMLElement||2===arguments.length)&&(e=t.extend({element:e},arguments[1])),t.bindAll(["_update","_onMapClick"],this),this._anchor=e&&e.anchor||"center",e&&e.element)this._element=e.element,this._offset=t.default$1.convert(e&&e.offset||[0,0]);else{this._element=s.create("div");var i=s.createNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"height","41px"),i.setAttributeNS(null,"width","27px"),i.setAttributeNS(null,"viewBox","0 0 27 41");var n=s.createNS("http://www.w3.org/2000/svg","g");n.setAttributeNS(null,"stroke","none"),n.setAttributeNS(null,"stroke-width","1"),n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"fill-rule","evenodd");var o=s.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"fill-rule","nonzero");var r=s.createNS("http://www.w3.org/2000/svg","g");r.setAttributeNS(null,"transform","translate(3.0, 29.0)"),r.setAttributeNS(null,"fill","#000000");for(var a=0,l=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];a<l.length;a+=1){var c=l[a],u=s.createNS("http://www.w3.org/2000/svg","ellipse");u.setAttributeNS(null,"opacity","0.04"),u.setAttributeNS(null,"cx","10.5"),u.setAttributeNS(null,"cy","5.80029008"),u.setAttributeNS(null,"rx",c.rx),u.setAttributeNS(null,"ry",c.ry),r.appendChild(u)}var h=s.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill","#3FB1CE");var p=s.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(p);var d=s.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"fill","#000000");var f=s.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d.appendChild(f);var m=s.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(6.0, 7.0)"),m.setAttributeNS(null,"fill","#FFFFFF");var _=s.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"transform","translate(8.0, 8.0)");var g=s.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");var v=s.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#FFFFFF"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962"),_.appendChild(g),_.appendChild(v),o.appendChild(r),o.appendChild(h),o.appendChild(d),o.appendChild(m),o.appendChild(_),i.appendChild(o),this._element.appendChild(i),this._offset=t.default$1.convert(e&&e.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._popup=null};vn.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},vn.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),s.remove(this._element),this._popup&&this._popup.remove(),this},vn.prototype.getLngLat=function(){return this._lngLat},vn.prototype.setLngLat=function(t){return this._lngLat=W.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},vn.prototype.getElement=function(){return this._element},vn.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&("offset"in t.options||(t.options.offset=this._offset),this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)),this},vn.prototype._onMapClick=function(t){var e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup()},vn.prototype.getPopup=function(){return this._popup},vn.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},vn.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=mn(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),s.setTransform(this._element,_n[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),gn(this._element,this._anchor,"marker"))},vn.prototype.getOffset=function(){return this._offset},vn.prototype.setOffset=function(e){return this._offset=t.default$1.convert(e),this._update(),this};var yn,xn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0};var bn=function(e){function i(i){e.call(this),this.options=t.extend({},xn,i),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker","_onClickGeolocate"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(e){var i;return this._map=e,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==yn?i(yn):void 0!==t.default.navigator.permissions?t.default.navigator.permissions.query({name:"geolocation"}).then(function(t){yn="denied"!==t.state,i(yn)}):(yn=!!t.default.navigator.geolocation,i(yn)),this._container},i.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.default.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),s.remove(this._container),this._map=void 0},i.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},i.prototype._updateCamera=function(t){var e=new W(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy;this._map.fitBounds(e.toBounds(i),this.options.fitBoundsOptions,{geolocateSource:!0})},i.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},i.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},i.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},i.prototype._setupUI=function(e){var i=this;!1!==e&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=s.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=s.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new vn(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),this.options.trackUserLocation&&this._map.on("movestart",function(e){e.geolocateSource||"ACTIVE_LOCK"!==i._watchState||(i._watchState="BACKGROUND",i._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),i._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),i.fire(new t.Event("trackuserlocationend")))}))},i.prototype._onClickGeolocate=function(){if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.default.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.default.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4)},i.prototype._clearWatch=function(){t.default.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},i}(t.Evented),wn={maxWidth:100,unit:"metric"},En=function(e){this.options=t.extend({},wn,e),t.bindAll(["_onMove","setUnit"],this)};function Tn(t,e,i){var n,o,r,a,s,l,c=i&&i.maxWidth||100,u=t._container.clientHeight/2,h=(n=t.unproject([0,u]),o=t.unproject([c,u]),r=Math.PI/180,a=n.lat*r,s=o.lat*r,l=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((o.lng-n.lng)*r),6371e3*Math.acos(Math.min(l,1)));if(i&&"imperial"===i.unit){var p=3.2808*h;if(p>5280)In(e,c,p/5280,"mi");else In(e,c,p,"ft")}else if(i&&"nautical"===i.unit){In(e,c,h/1852,"nm")}else In(e,c,h,"m")}function In(t,e,i,n){var o,r,a,s=(o=i,(r=Math.pow(10,(""+Math.floor(o)).length-1))*(a=(a=o/r)>=10?10:a>=5?5:a>=3?3:a>=2?2:1)),l=s/i;"m"===n&&s>=1e3&&(s/=1e3,n="km"),t.style.width=e*l+"px",t.innerHTML=s+n}En.prototype.getDefaultPosition=function(){return"bottom-left"},En.prototype._onMove=function(){Tn(this._map,this._container,this.options)},En.prototype.onAdd=function(t){return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},En.prototype.onRemove=function(){s.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},En.prototype.setUnit=function(t){this.options.unit=t,Tn(this._map,this._container,this.options)};var Cn=function(){this._fullscreen=!1,t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.default.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.default.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.default.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.default.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Cn.prototype.onAdd=function(e){return this._map=e,this._mapContainer=this._map.getContainer(),this._container=s.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._container},Cn.prototype.onRemove=function(){s.remove(this._container),this._map=null,t.default.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Cn.prototype._checkFullscreenSupport=function(){return!!(t.default.document.fullscreenEnabled||t.default.document.mozFullScreenEnabled||t.default.document.msFullscreenEnabled||t.default.document.webkitFullscreenEnabled)},Cn.prototype._setupUI=function(){var e=this._fullscreenButton=s.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);e.setAttribute("aria-label","Toggle fullscreen"),e.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.default.document.addEventListener(this._fullscreenchange,this._changeIcon)},Cn.prototype._isFullscreen=function(){return this._fullscreen},Cn.prototype._changeIcon=function(){(t.default.document.fullscreenElement||t.default.document.mozFullScreenElement||t.default.document.webkitFullscreenElement||t.default.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},Cn.prototype._onClickFullscreen=function(){this._isFullscreen()?t.default.document.exitFullscreen?t.default.document.exitFullscreen():t.default.document.mozCancelFullScreen?t.default.document.mozCancelFullScreen():t.default.document.msExitFullscreen?t.default.document.msExitFullscreen():t.default.document.webkitCancelFullScreen&&t.default.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()};var Sn={closeButton:!0,closeOnClick:!0},zn=function(e){function i(i){e.call(this),this.options=t.extend(Object.create(Sn),i),t.bindAll(["_update","_onClickClose"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this.fire(new t.Event("open")),this},i.prototype.isOpen=function(){return!!this._map},i.prototype.remove=function(){return this._content&&s.remove(this._content),this._container&&(s.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire(new t.Event("close")),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(t){return this._lngLat=W.convert(t),this._pos=null,this._update(),this},i.prototype.setText=function(e){return this.setDOMContent(t.default.document.createTextNode(e))},i.prototype.setHTML=function(e){var i,n=t.default.document.createDocumentFragment(),o=t.default.document.createElement("body");for(o.innerHTML=e;i=o.firstChild;)n.appendChild(i);return this.setDOMContent(n)},i.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},i.prototype._createContent=function(){this._content&&s.remove(this._content),this._content=s.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=s.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},i.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=s.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=s.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=mn(this._lngLat,this._pos,this._map.transform));var e=this._pos=this._map.project(this._lngLat),i=this.options.anchor,n=function e(i){if(i){if("number"==typeof i){var n=Math.round(Math.sqrt(.5*Math.pow(i,2)));return{center:new t.default$1(0,0),top:new t.default$1(0,i),"top-left":new t.default$1(n,n),"top-right":new t.default$1(-n,n),bottom:new t.default$1(0,-i),"bottom-left":new t.default$1(n,-n),"bottom-right":new t.default$1(-n,-n),left:new t.default$1(i,0),right:new t.default$1(-i,0)}}if(i instanceof t.default$1||Array.isArray(i)){var o=t.default$1.convert(i);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:t.default$1.convert(i.center||[0,0]),top:t.default$1.convert(i.top||[0,0]),"top-left":t.default$1.convert(i["top-left"]||[0,0]),"top-right":t.default$1.convert(i["top-right"]||[0,0]),bottom:t.default$1.convert(i.bottom||[0,0]),"bottom-left":t.default$1.convert(i["bottom-left"]||[0,0]),"bottom-right":t.default$1.convert(i["bottom-right"]||[0,0]),left:t.default$1.convert(i.left||[0,0]),right:t.default$1.convert(i.right||[0,0])}}return e(new t.default$1(0,0))}(this.options.offset);if(!i){var o,r=this._container.offsetWidth,a=this._container.offsetHeight;o=e.y+n.bottom.y<a?["top"]:e.y>this._map.transform.height-a?["bottom"]:[],e.x<r/2?o.push("left"):e.x>this._map.transform.width-r/2&&o.push("right"),i=0===o.length?"bottom":o.join("-")}var l=e.add(n[i]).round();s.setTransform(this._container,_n[i]+" translate("+l.x+"px,"+l.y+"px)"),gn(this._container,i,"popup")}},i.prototype._onClickClose=function(){this.remove()},i}(t.Evented);var An={version:"0.44.1",supported:e,workerCount:Math.max(Math.floor(r.hardwareConcurrency/2),1),setRTLTextPlugin:t.setRTLTextPlugin,Map:hn,NavigationControl:fn,GeolocateControl:bn,AttributionControl:rn,ScaleControl:En,FullscreenControl:Cn,Popup:zn,Marker:vn,Style:Je,LngLat:W,LngLatBounds:q,Point:t.default$1,config:_,get accessToken(){return _.ACCESS_TOKEN},set accessToken(t){_.ACCESS_TOKEN=t},workerUrl:""};return An});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1zdXBwb3J0ZWQvaW5kZXguanMiLCJzcmMvdXRpbC9icm93c2VyLmpzIiwic3JjL3V0aWwvZG9tLmpzIiwic3JjL3V0aWwvY29uZmlnLmpzIiwic3JjL3V0aWwvbWFwYm94LmpzIiwic3JjL3JlbmRlci90ZXh0dXJlLmpzIiwic3JjL3JlbmRlci9pbWFnZV9tYW5hZ2VyLmpzIiwibm9kZV9tb2R1bGVzL0BtYXBib3gvdGlueS1zZGYvaW5kZXguanMiLCJzcmMvcmVuZGVyL2dseXBoX21hbmFnZXIuanMiLCJzcmMvc3R5bGUvbGlnaHQuanMiLCJzcmMvcmVuZGVyL2xpbmVfYXRsYXMuanMiLCJzcmMvdXRpbC9kaXNwYXRjaGVyLmpzIiwic3JjL2dlby9sbmdfbGF0LmpzIiwic3JjL2dlby9sbmdfbGF0X2JvdW5kcy5qcyIsInNyYy9zb3VyY2UvdGlsZV9ib3VuZHMuanMiLCJzcmMvc291cmNlL3ZlY3Rvcl90aWxlX3NvdXJjZS5qcyIsInNyYy9zb3VyY2UvcmFzdGVyX3RpbGVfc291cmNlLmpzIiwic3JjL3NvdXJjZS9yYXN0ZXJfZGVtX3RpbGVfc291cmNlLmpzIiwic3JjL3NvdXJjZS9nZW9qc29uX3NvdXJjZS5qcyIsInNyYy9kYXRhL3Jhc3Rlcl9ib3VuZHNfYXR0cmlidXRlcy5qcyIsInNyYy9yZW5kZXIvdmVydGV4X2FycmF5X29iamVjdC5qcyIsInNyYy9zb3VyY2UvaW1hZ2Vfc291cmNlLmpzIiwic3JjL3NvdXJjZS92aWRlb19zb3VyY2UuanMiLCJzcmMvc291cmNlL2NhbnZhc19zb3VyY2UuanMiLCJzcmMvc291cmNlL3NvdXJjZS5qcyIsInNyYy9zb3VyY2UvcXVlcnlfZmVhdHVyZXMuanMiLCJzcmMvc3ltYm9sL2dyaWRfaW5kZXguanMiLCJzcmMvc3ltYm9sL3Byb2plY3Rpb24uanMiLCJzcmMvc3ltYm9sL2NvbGxpc2lvbl9pbmRleC5qcyIsInNyYy9zb3VyY2UvdGlsZS5qcyIsInNyYy9kYXRhL2J1Y2tldC5qcyIsInNyYy91dGlsL2xydV9jYWNoZS5qcyIsInNyYy9nbC9pbmRleF9idWZmZXIuanMiLCJzcmMvZ2wvdmVydGV4X2J1ZmZlci5qcyIsInNyYy9nbC92YWx1ZS5qcyIsInNyYy9nbC9mcmFtZWJ1ZmZlci5qcyIsInNyYy9nbC9kZXB0aF9tb2RlLmpzIiwic3JjL2dsL3N0ZW5jaWxfbW9kZS5qcyIsInNyYy9nbC9jb2xvcl9tb2RlLmpzIiwic3JjL2dsL2NvbnRleHQuanMiLCJzcmMvc291cmNlL3NvdXJjZV9jYWNoZS5qcyIsInNyYy91dGlsL3dvcmtlcl9wb29sLmpzIiwic3JjL3V0aWwvZ2xvYmFsX3dvcmtlcl9wb29sLmpzIiwic3JjL3N0eWxlLXNwZWMvZGVyZWYuanMiLCJzcmMvc3R5bGUtc3BlYy9kaWZmLmpzIiwic3JjL3N5bWJvbC9wbGFjZW1lbnQuanMiLCJzcmMvc3R5bGUvcGF1c2VhYmxlX3BsYWNlbWVudC5qcyIsInNyYy9zeW1ib2wvY3Jvc3NfdGlsZV9zeW1ib2xfaW5kZXguanMiLCJzcmMvc3R5bGUvc3R5bGUuanMiLCJzcmMvZGF0YS9wb3NfYXR0cmlidXRlcy5qcyIsInNyYy9zaGFkZXJzL2luZGV4LmpzIiwic3JjL3JlbmRlci9wcm9ncmFtLmpzIiwic3JjL3JlbmRlci90aWxlX21hc2suanMiLCJzcmMvcmVuZGVyL2RyYXdfY29sbGlzaW9uX2RlYnVnLmpzIiwic3JjL3JlbmRlci9kcmF3X3N5bWJvbC5qcyIsInNyYy9yZW5kZXIvZHJhd19saW5lLmpzIiwic3JjL3JlbmRlci9wYXR0ZXJuLmpzIiwic3JjL3JlbmRlci9kcmF3X2ZpbGwuanMiLCJzcmMvcmVuZGVyL2RyYXdfZmlsbF9leHRydXNpb24uanMiLCJzcmMvcmVuZGVyL2RyYXdfaGlsbHNoYWRlLmpzIiwic3JjL3JlbmRlci9kcmF3X3Jhc3Rlci5qcyIsInNyYy9yZW5kZXIvZHJhd19kZWJ1Zy5qcyIsInNyYy9yZW5kZXIvcGFpbnRlci5qcyIsInNyYy9yZW5kZXIvZHJhd19jaXJjbGUuanMiLCJzcmMvcmVuZGVyL2RyYXdfaGVhdG1hcC5qcyIsInNyYy9yZW5kZXIvZHJhd19iYWNrZ3JvdW5kLmpzIiwic3JjL3V0aWwvdGlsZV9jb3Zlci5qcyIsInNyYy9nZW8vdHJhbnNmb3JtLmpzIiwic3JjL3VpL2hhc2guanMiLCJzcmMvdXRpbC90aHJvdHRsZS5qcyIsInNyYy91aS9ldmVudHMuanMiLCJzcmMvdWkvaGFuZGxlci9zY3JvbGxfem9vbS5qcyIsInNyYy91aS9oYW5kbGVyL2JveF96b29tLmpzIiwic3JjL3VpL2hhbmRsZXIvZHJhZ19yb3RhdGUuanMiLCJzcmMvdWkvaGFuZGxlci9kcmFnX3Bhbi5qcyIsInNyYy91aS9oYW5kbGVyL2tleWJvYXJkLmpzIiwic3JjL3VpL2hhbmRsZXIvZGJsY2xpY2tfem9vbS5qcyIsInNyYy91aS9oYW5kbGVyL3RvdWNoX3pvb21fcm90YXRlLmpzIiwic3JjL3VpL2JpbmRfaGFuZGxlcnMuanMiLCJzcmMvdWkvY2FtZXJhLmpzIiwic3JjL3VpL2NvbnRyb2wvYXR0cmlidXRpb25fY29udHJvbC5qcyIsInNyYy91aS9jb250cm9sL2xvZ29fY29udHJvbC5qcyIsInNyYy91dGlsL3Rhc2tfcXVldWUuanMiLCJzcmMvdWkvbWFwLmpzIiwic3JjL3VpL2NvbnRyb2wvbmF2aWdhdGlvbl9jb250cm9sLmpzIiwic3JjL3VpL2FuY2hvci5qcyIsInNyYy91aS9tYXJrZXIuanMiLCJzcmMvdWkvY29udHJvbC9nZW9sb2NhdGVfY29udHJvbC5qcyIsInNyYy91aS9jb250cm9sL3NjYWxlX2NvbnRyb2wuanMiLCJzcmMvdWkvY29udHJvbC9mdWxsc2NyZWVuX2NvbnRyb2wuanMiLCJzcmMvdWkvcG9wdXAuanMiLCJzcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGlzU3VwcG9ydGVkO1xufSBlbHNlIGlmICh3aW5kb3cpIHtcbiAgICB3aW5kb3cubWFwYm94Z2wgPSB3aW5kb3cubWFwYm94Z2wgfHwge307XG4gICAgd2luZG93Lm1hcGJveGdsLnN1cHBvcnRlZCA9IGlzU3VwcG9ydGVkO1xufVxuXG4vKipcbiAqIFRlc3Qgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIHN1cHBvcnRzIE1hcGJveCBHTCBKU1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1mYWxzZV0gUmV0dXJuIGBmYWxzZWBcbiAqICAgaWYgdGhlIHBlcmZvcm1hbmNlIG9mIE1hcGJveCBHTCBKUyB3b3VsZCBiZSBkcmFtYXRpY2FsbHkgd29yc2UgdGhhblxuICogICBleHBlY3RlZCAoaS5lLiBhIHNvZnR3YXJlIHJlbmRlcmVyIGlzIHdvdWxkIGJlIHVzZWQpXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1N1cHBvcnRlZChvcHRpb25zKSB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgICBpc0Jyb3dzZXIoKSAmJlxuICAgICAgICBpc0FycmF5U3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNGdW5jdGlvblN1cHBvcnRlZCgpICYmXG4gICAgICAgIGlzT2JqZWN0U3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNKU09OU3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNXb3JrZXJTdXBwb3J0ZWQoKSAmJlxuICAgICAgICBpc1VpbnQ4Q2xhbXBlZEFycmF5U3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNXZWJHTFN1cHBvcnRlZENhY2hlZChvcHRpb25zICYmIG9wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdClcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc0Jyb3dzZXIoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgQXJyYXkucHJvdG90eXBlICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5ldmVyeSAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZmlsdGVyICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5pbmRleE9mICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUubWFwICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5zb21lICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgJiZcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0ICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXlcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUgJiYgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIE9iamVjdC5rZXlzICYmXG4gICAgICAgIE9iamVjdC5jcmVhdGUgJiZcbiAgICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mICYmXG4gICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzICYmXG4gICAgICAgIE9iamVjdC5pc1NlYWxlZCAmJlxuICAgICAgICBPYmplY3QuaXNGcm96ZW4gJiZcbiAgICAgICAgT2JqZWN0LmlzRXh0ZW5zaWJsZSAmJlxuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJlxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyAmJlxuICAgICAgICBPYmplY3Quc2VhbCAmJlxuICAgICAgICBPYmplY3QuZnJlZXplICYmXG4gICAgICAgIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9uc1xuICAgICk7XG59XG5cbmZ1bmN0aW9uIGlzSlNPTlN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gJ0pTT04nIGluIHdpbmRvdyAmJiAncGFyc2UnIGluIEpTT04gJiYgJ3N0cmluZ2lmeScgaW4gSlNPTjtcbn1cblxuZnVuY3Rpb24gaXNXb3JrZXJTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKCEoJ1dvcmtlcicgaW4gd2luZG93ICYmICdCbG9iJyBpbiB3aW5kb3cgJiYgJ1VSTCcgaW4gd2luZG93KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbJyddLCB7IHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnIH0pO1xuICAgIHZhciB3b3JrZXJVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIHZhciBzdXBwb3J0ZWQ7XG4gICAgdmFyIHdvcmtlcjtcblxuICAgIHRyeSB7XG4gICAgICAgIHdvcmtlciA9IG5ldyBXb3JrZXIod29ya2VyVVJMKTtcbiAgICAgICAgc3VwcG9ydGVkID0gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh3b3JrZXIpIHtcbiAgICAgICAgd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgIH1cbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHdvcmtlclVSTCk7XG5cbiAgICByZXR1cm4gc3VwcG9ydGVkO1xufVxuXG4vLyBJRTExIG9ubHkgc3VwcG9ydHMgYFVpbnQ4Q2xhbXBlZEFycmF5YCBhcyBvZiB2ZXJzaW9uXG4vLyBbS0IyOTI5NDM3XShodHRwczovL3N1cHBvcnQubWljcm9zb2Z0LmNvbS9lbi11cy9rYi8yOTI5NDM3KVxuZnVuY3Rpb24gaXNVaW50OENsYW1wZWRBcnJheVN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gJ1VpbnQ4Q2xhbXBlZEFycmF5JyBpbiB3aW5kb3c7XG59XG5cbnZhciBpc1dlYkdMU3VwcG9ydGVkQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZWQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCkge1xuXG4gICAgaWYgKGlzV2ViR0xTdXBwb3J0ZWRDYWNoZVtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZVtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XSA9IGlzV2ViR0xTdXBwb3J0ZWQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZVtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XTtcbn1cblxuaXNTdXBwb3J0ZWQud2ViR0xDb250ZXh0QXR0cmlidXRlcyA9IHtcbiAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgIGFscGhhOiB0cnVlLFxuICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgZGVwdGg6IHRydWVcbn07XG5cbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCkge1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBPYmplY3QuY3JlYXRlKGlzU3VwcG9ydGVkLndlYkdMQ29udGV4dEF0dHJpYnV0ZXMpO1xuICAgIGF0dHJpYnV0ZXMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCA9IGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ7XG5cbiAgICBpZiAoY2FudmFzLnByb2JhYmx5U3VwcG9ydHNDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjYW52YXMucHJvYmFibHlTdXBwb3J0c0NvbnRleHQoJ3dlYmdsJywgYXR0cmlidXRlcykgfHxcbiAgICAgICAgICAgIGNhbnZhcy5wcm9iYWJseVN1cHBvcnRzQ29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgYXR0cmlidXRlcylcbiAgICAgICAgKTtcblxuICAgIH0gZWxzZSBpZiAoY2FudmFzLnN1cHBvcnRzQ29udGV4dCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY2FudmFzLnN1cHBvcnRzQ29udGV4dCgnd2ViZ2wnLCBhdHRyaWJ1dGVzKSB8fFxuICAgICAgICAgICAgY2FudmFzLnN1cHBvcnRzQ29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgYXR0cmlidXRlcylcbiAgICAgICAgKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBhdHRyaWJ1dGVzKSB8fFxuICAgICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGF0dHJpYnV0ZXMpXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuL3dpbmRvdyc7XG5cbmNvbnN0IG5vdyA9IHdpbmRvdy5wZXJmb3JtYW5jZSAmJiB3aW5kb3cucGVyZm9ybWFuY2Uubm93ID9cbiAgICB3aW5kb3cucGVyZm9ybWFuY2Uubm93LmJpbmQod2luZG93LnBlcmZvcm1hbmNlKSA6XG4gICAgRGF0ZS5ub3cuYmluZChEYXRlKTtcblxuY29uc3QgcmFmID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXG5jb25zdCBjYW5jZWwgPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBleHBvcnRlZCA9IHtcbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhIGZ1bmN0aW9uIHRoYXQgb3V0cHV0cyBtaWxsaXNlY29uZHM6IGVpdGhlciBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAqIG9yIGEgZmFsbGJhY2sgdG8gRGF0ZS5ub3coKVxuICAgICAqL1xuICAgIG5vdyxcblxuICAgIGZyYW1lKGZuOiBGdW5jdGlvbikge1xuICAgICAgICByZXR1cm4gcmFmKGZuKTtcbiAgICB9LFxuXG4gICAgY2FuY2VsRnJhbWUoaWQ6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gY2FuY2VsKGlkKTtcbiAgICB9LFxuXG4gICAgZ2V0SW1hZ2VEYXRhKGltZzogQ2FudmFzSW1hZ2VTb3VyY2UpOiBJbWFnZURhdGEge1xuICAgICAgICBjb25zdCBjYW52YXMgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBjcmVhdGUgY2FudmFzIDJkIGNvbnRleHQnKTtcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWcsIDAsIDAsIGltZy53aWR0aCwgaW1nLmhlaWdodCk7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xuICAgIH0sXG5cbiAgICBoYXJkd2FyZUNvbmN1cnJlbmN5OiB3aW5kb3cubmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kgfHwgNCxcbiAgICBnZXQgZGV2aWNlUGl4ZWxSYXRpbygpIHsgcmV0dXJuIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvOyB9LFxuICAgIHN1cHBvcnRzV2VicDogZmFsc2Vcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGV4cG9ydGVkO1xuXG5pZiAod2luZG93LmRvY3VtZW50KSB7XG4gICAgY29uc3Qgd2VicEltZ1Rlc3QgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgd2VicEltZ1Rlc3Qub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cG9ydGVkLnN1cHBvcnRzV2VicCA9IHRydWU7XG4gICAgfTtcbiAgICB3ZWJwSW1nVGVzdC5zcmMgPSAnZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmg0QUFBQlhSVUpRVmxBNFRCRUFBQUF2QVFBQUFBZlEvLzczdi8rQmlPaC9BQUE9Jztcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuL3dpbmRvdyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmNvbnN0IERPTSA9IHt9O1xuZXhwb3J0IGRlZmF1bHQgRE9NO1xuXG5ET00uY3JlYXRlID0gZnVuY3Rpb24gKHRhZ05hbWU6ICosIGNsYXNzTmFtZT86IHN0cmluZywgY29udGFpbmVyPzogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBlbCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIGlmIChjbGFzc05hbWUpIGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICBpZiAoY29udGFpbmVyKSBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIHJldHVybiBlbDtcbn07XG5cbkRPTS5jcmVhdGVOUyA9IGZ1bmN0aW9uIChuYW1lc3BhY2VVUkk6IHN0cmluZywgdGFnTmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3QgZWwgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVSSSwgdGFnTmFtZSk7XG4gICAgcmV0dXJuIGVsO1xufTtcblxuY29uc3QgZG9jU3R5bGUgPSB3aW5kb3cuZG9jdW1lbnQgP1xuICAgICh3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OiBhbnkpLnN0eWxlIDpcbiAgICBudWxsO1xuXG5mdW5jdGlvbiB0ZXN0UHJvcChwcm9wcykge1xuICAgIGlmICghZG9jU3R5bGUpIHJldHVybiBudWxsO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHByb3BzW2ldIGluIGRvY1N0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BzWzBdO1xufVxuXG5jb25zdCBzZWxlY3RQcm9wID0gdGVzdFByb3AoWyd1c2VyU2VsZWN0JywgJ01velVzZXJTZWxlY3QnLCAnV2Via2l0VXNlclNlbGVjdCcsICdtc1VzZXJTZWxlY3QnXSk7XG5sZXQgdXNlclNlbGVjdDtcblxuRE9NLmRpc2FibGVEcmFnID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChkb2NTdHlsZSAmJiBzZWxlY3RQcm9wKSB7XG4gICAgICAgIHVzZXJTZWxlY3QgPSBkb2NTdHlsZVtzZWxlY3RQcm9wXTtcbiAgICAgICAgZG9jU3R5bGVbc2VsZWN0UHJvcF0gPSAnbm9uZSc7XG4gICAgfVxufTtcblxuRE9NLmVuYWJsZURyYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRvY1N0eWxlICYmIHNlbGVjdFByb3ApIHtcbiAgICAgICAgZG9jU3R5bGVbc2VsZWN0UHJvcF0gPSB1c2VyU2VsZWN0O1xuICAgIH1cbn07XG5cbmNvbnN0IHRyYW5zZm9ybVByb3AgPSB0ZXN0UHJvcChbJ3RyYW5zZm9ybScsICdXZWJraXRUcmFuc2Zvcm0nXSk7XG5cbkRPTS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbihlbDogSFRNTEVsZW1lbnQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAoZWwuc3R5bGU6IGFueSlbdHJhbnNmb3JtUHJvcF0gPSB2YWx1ZTtcbn07XG5cbi8vIEZlYXR1cmUgZGV0ZWN0aW9uIGZvciB7cGFzc2l2ZTogZmFsc2V9IHN1cHBvcnQgaW4gYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIuXG5sZXQgcGFzc2l2ZVN1cHBvcnRlZCA9IGZhbHNlO1xuXG50cnkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSAoT2JqZWN0LmRlZmluZVByb3BlcnR5OiBhbnkpKHt9LCBcInBhc3NpdmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcGFzc2l2ZVN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAod2luZG93LmFkZEV2ZW50TGlzdGVuZXI6IGFueSkoXCJ0ZXN0XCIsIG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICh3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcjogYW55KShcInRlc3RcIiwgb3B0aW9ucywgb3B0aW9ucyk7XG59IGNhdGNoIChlcnIpIHtcbiAgICBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG59XG5cbkRPTS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24odGFyZ2V0OiAqLCB0eXBlOiAqLCBjYWxsYmFjazogKiwgb3B0aW9uczoge3Bhc3NpdmU/OiBib29sZWFuLCBjYXB0dXJlPzogYm9vbGVhbn0gPSB7fSkge1xuICAgIGlmICgncGFzc2l2ZScgaW4gb3B0aW9ucyAmJiBwYXNzaXZlU3VwcG9ydGVkKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCAob3B0aW9uczogYW55KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIG9wdGlvbnMuY2FwdHVyZSk7XG4gICAgfVxufTtcblxuRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0YXJnZXQ6ICosIHR5cGU6ICosIGNhbGxiYWNrOiAqLCBvcHRpb25zOiB7cGFzc2l2ZT86IGJvb2xlYW4sIGNhcHR1cmU/OiBib29sZWFufSA9IHt9KSB7XG4gICAgaWYgKCdwYXNzaXZlJyBpbiBvcHRpb25zICYmIHBhc3NpdmVTdXBwb3J0ZWQpIHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIChvcHRpb25zOiBhbnkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaywgb3B0aW9ucy5jYXB0dXJlKTtcbiAgICB9XG59O1xuXG4vLyBTdXBwcmVzcyB0aGUgbmV4dCBjbGljaywgYnV0IG9ubHkgaWYgaXQncyBpbW1lZGlhdGUuXG5jb25zdCBzdXBwcmVzc0NsaWNrOiBNb3VzZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHN1cHByZXNzQ2xpY2ssIHRydWUpO1xufTtcblxuRE9NLnN1cHByZXNzQ2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdXBwcmVzc0NsaWNrLCB0cnVlKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHN1cHByZXNzQ2xpY2ssIHRydWUpO1xuICAgIH0sIDApO1xufTtcblxuRE9NLm1vdXNlUG9zID0gZnVuY3Rpb24gKGVsOiBIVE1MRWxlbWVudCwgZTogYW55KSB7XG4gICAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGUgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0gOiBlO1xuICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgIGUuY2xpZW50WCAtIHJlY3QubGVmdCAtIGVsLmNsaWVudExlZnQsXG4gICAgICAgIGUuY2xpZW50WSAtIHJlY3QudG9wIC0gZWwuY2xpZW50VG9wXG4gICAgKTtcbn07XG5cbkRPTS50b3VjaFBvcyA9IGZ1bmN0aW9uIChlbDogSFRNTEVsZW1lbnQsIGU6IGFueSkge1xuICAgIGNvbnN0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgcG9pbnRzID0gW107XG4gICAgY29uc3QgdG91Y2hlcyA9IChlLnR5cGUgPT09ICd0b3VjaGVuZCcpID8gZS5jaGFuZ2VkVG91Y2hlcyA6IGUudG91Y2hlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcG9pbnRzLnB1c2gobmV3IFBvaW50KFxuICAgICAgICAgICAgdG91Y2hlc1tpXS5jbGllbnRYIC0gcmVjdC5sZWZ0IC0gZWwuY2xpZW50TGVmdCxcbiAgICAgICAgICAgIHRvdWNoZXNbaV0uY2xpZW50WSAtIHJlY3QudG9wIC0gZWwuY2xpZW50VG9wXG4gICAgICAgICkpO1xuICAgIH1cbiAgICByZXR1cm4gcG9pbnRzO1xufTtcblxuRE9NLm1vdXNlQnV0dG9uID0gZnVuY3Rpb24gKGU6IE1vdXNlRXZlbnQpIHtcbiAgICBhc3NlcnQoZS50eXBlID09PSAnbW91c2Vkb3duJyB8fCBlLnR5cGUgPT09ICdtb3VzZXVwJyk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuSW5zdGFsbFRyaWdnZXIgIT09ICd1bmRlZmluZWQnICYmIGUuYnV0dG9uID09PSAyICYmIGUuY3RybEtleSAmJlxuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtLnRvVXBwZXJDYXNlKCkuaW5kZXhPZignTUFDJykgPj0gMCkge1xuICAgICAgICAvLyBGaXggZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8zMTMxOlxuICAgICAgICAvLyBGaXJlZm94IChkZXRlY3RlZCBieSBJbnN0YWxsVHJpZ2dlcikgb24gTWFjIGRldGVybWluZXMgZS5idXR0b24gPSAyIHdoZW5cbiAgICAgICAgLy8gdXNpbmcgQ29udHJvbCArIGxlZnQgY2xpY2tcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBlLmJ1dHRvbjtcbn07XG5cbkRPTS5yZW1vdmUgPSBmdW5jdGlvbihub2RlOiBIVE1MRWxlbWVudCkge1xuICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbn07XG4iLCIvLyBAZmxvd1xuXG50eXBlIENvbmZpZyA9IHt8XG4gIEFQSV9VUkw6IHN0cmluZyxcbiAgUkVRVUlSRV9BQ0NFU1NfVE9LRU46IGJvb2xlYW4sXG4gIEFDQ0VTU19UT0tFTjogP3N0cmluZ1xufH07XG5cbmNvbnN0IGNvbmZpZzogQ29uZmlnID0ge1xuICAgIEFQSV9VUkw6ICdodHRwczovL2FwaS5tYXBib3guY29tJyxcbiAgICBSRVFVSVJFX0FDQ0VTU19UT0tFTjogdHJ1ZSxcbiAgICBBQ0NFU1NfVE9LRU46IG51bGxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuL2Jyb3dzZXInO1xuXG5jb25zdCBoZWxwID0gJ1NlZSBodHRwczovL3d3dy5tYXBib3guY29tL2FwaS1kb2N1bWVudGF0aW9uLyNhY2Nlc3MtdG9rZW5zJztcblxudHlwZSBVcmxPYmplY3QgPSB7fFxuICAgIHByb3RvY29sOiBzdHJpbmcsXG4gICAgYXV0aG9yaXR5OiBzdHJpbmcsXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIHBhcmFtczogQXJyYXk8c3RyaW5nPlxufH07XG5cbmZ1bmN0aW9uIG1ha2VBUElVUkwodXJsT2JqZWN0OiBVcmxPYmplY3QsIGFjY2Vzc1Rva2VuOiBzdHJpbmcgfCBudWxsIHwgdm9pZCk6IHN0cmluZyB7XG4gICAgY29uc3QgYXBpVXJsT2JqZWN0ID0gcGFyc2VVcmwoY29uZmlnLkFQSV9VUkwpO1xuICAgIHVybE9iamVjdC5wcm90b2NvbCA9IGFwaVVybE9iamVjdC5wcm90b2NvbDtcbiAgICB1cmxPYmplY3QuYXV0aG9yaXR5ID0gYXBpVXJsT2JqZWN0LmF1dGhvcml0eTtcblxuICAgIGlmIChhcGlVcmxPYmplY3QucGF0aCAhPT0gJy8nKSB7XG4gICAgICAgIHVybE9iamVjdC5wYXRoID0gYCR7YXBpVXJsT2JqZWN0LnBhdGh9JHt1cmxPYmplY3QucGF0aH1gO1xuICAgIH1cblxuICAgIGlmICghY29uZmlnLlJFUVVJUkVfQUNDRVNTX1RPS0VOKSByZXR1cm4gZm9ybWF0VXJsKHVybE9iamVjdCk7XG5cbiAgICBhY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuIHx8IGNvbmZpZy5BQ0NFU1NfVE9LRU47XG4gICAgaWYgKCFhY2Nlc3NUb2tlbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBbiBBUEkgYWNjZXNzIHRva2VuIGlzIHJlcXVpcmVkIHRvIHVzZSBNYXBib3ggR0wuICR7aGVscH1gKTtcbiAgICBpZiAoYWNjZXNzVG9rZW5bMF0gPT09ICdzJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVc2UgYSBwdWJsaWMgYWNjZXNzIHRva2VuIChway4qKSB3aXRoIE1hcGJveCBHTCwgbm90IGEgc2VjcmV0IGFjY2VzcyB0b2tlbiAoc2suKikuICR7aGVscH1gKTtcblxuICAgIHVybE9iamVjdC5wYXJhbXMucHVzaChgYWNjZXNzX3Rva2VuPSR7YWNjZXNzVG9rZW59YCk7XG4gICAgcmV0dXJuIGZvcm1hdFVybCh1cmxPYmplY3QpO1xufVxuXG5mdW5jdGlvbiBpc01hcGJveFVSTCh1cmw6IHN0cmluZykge1xuICAgIHJldHVybiB1cmwuaW5kZXhPZignbWFwYm94OicpID09PSAwO1xufVxuXG5leHBvcnQgeyBpc01hcGJveFVSTCB9O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplU3R5bGVVUkwgPSBmdW5jdGlvbih1cmw6IHN0cmluZywgYWNjZXNzVG9rZW4/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICghaXNNYXBib3hVUkwodXJsKSkgcmV0dXJuIHVybDtcbiAgICBjb25zdCB1cmxPYmplY3QgPSBwYXJzZVVybCh1cmwpO1xuICAgIHVybE9iamVjdC5wYXRoID0gYC9zdHlsZXMvdjEke3VybE9iamVjdC5wYXRofWA7XG4gICAgcmV0dXJuIG1ha2VBUElVUkwodXJsT2JqZWN0LCBhY2Nlc3NUb2tlbik7XG59O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplR2x5cGhzVVJMID0gZnVuY3Rpb24odXJsOiBzdHJpbmcsIGFjY2Vzc1Rva2VuPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIWlzTWFwYm94VVJMKHVybCkpIHJldHVybiB1cmw7XG4gICAgY29uc3QgdXJsT2JqZWN0ID0gcGFyc2VVcmwodXJsKTtcbiAgICB1cmxPYmplY3QucGF0aCA9IGAvZm9udHMvdjEke3VybE9iamVjdC5wYXRofWA7XG4gICAgcmV0dXJuIG1ha2VBUElVUkwodXJsT2JqZWN0LCBhY2Nlc3NUb2tlbik7XG59O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplU291cmNlVVJMID0gZnVuY3Rpb24odXJsOiBzdHJpbmcsIGFjY2Vzc1Rva2VuPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIWlzTWFwYm94VVJMKHVybCkpIHJldHVybiB1cmw7XG4gICAgY29uc3QgdXJsT2JqZWN0ID0gcGFyc2VVcmwodXJsKTtcbiAgICB1cmxPYmplY3QucGF0aCA9IGAvdjQvJHt1cmxPYmplY3QuYXV0aG9yaXR5fS5qc29uYDtcbiAgICAvLyBUaWxlSlNPTiByZXF1ZXN0cyBuZWVkIGEgc2VjdXJlIGZsYWcgYXBwZW5kZWQgdG8gdGhlaXIgVVJMcyBzb1xuICAgIC8vIHRoYXQgdGhlIHNlcnZlciBrbm93cyB0byBzZW5kIFNTTC1pZmllZCByZXNvdXJjZSByZWZlcmVuY2VzLlxuICAgIHVybE9iamVjdC5wYXJhbXMucHVzaCgnc2VjdXJlJyk7XG4gICAgcmV0dXJuIG1ha2VBUElVUkwodXJsT2JqZWN0LCBhY2Nlc3NUb2tlbik7XG59O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplU3ByaXRlVVJMID0gZnVuY3Rpb24odXJsOiBzdHJpbmcsIGZvcm1hdDogc3RyaW5nLCBleHRlbnNpb246IHN0cmluZywgYWNjZXNzVG9rZW4/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHVybE9iamVjdCA9IHBhcnNlVXJsKHVybCk7XG4gICAgaWYgKCFpc01hcGJveFVSTCh1cmwpKSB7XG4gICAgICAgIHVybE9iamVjdC5wYXRoICs9IGAke2Zvcm1hdH0ke2V4dGVuc2lvbn1gO1xuICAgICAgICByZXR1cm4gZm9ybWF0VXJsKHVybE9iamVjdCk7XG4gICAgfVxuICAgIHVybE9iamVjdC5wYXRoID0gYC9zdHlsZXMvdjEke3VybE9iamVjdC5wYXRofS9zcHJpdGUke2Zvcm1hdH0ke2V4dGVuc2lvbn1gO1xuICAgIHJldHVybiBtYWtlQVBJVVJMKHVybE9iamVjdCwgYWNjZXNzVG9rZW4pO1xufTtcblxuY29uc3QgaW1hZ2VFeHRlbnNpb25SZSA9IC8oXFwuKHBuZ3xqcGcpXFxkKikoPz0kKS87XG5cbmV4cG9ydCBjb25zdCBub3JtYWxpemVUaWxlVVJMID0gZnVuY3Rpb24odGlsZVVSTDogc3RyaW5nLCBzb3VyY2VVUkw/OiA/c3RyaW5nLCB0aWxlU2l6ZT86ID9udW1iZXIpOiBzdHJpbmcge1xuICAgIGlmICghc291cmNlVVJMIHx8ICFpc01hcGJveFVSTChzb3VyY2VVUkwpKSByZXR1cm4gdGlsZVVSTDtcblxuICAgIGNvbnN0IHVybE9iamVjdCA9IHBhcnNlVXJsKHRpbGVVUkwpO1xuXG4gICAgLy8gVGhlIHY0IG1hcGJveCB0aWxlIEFQSSBzdXBwb3J0cyA1MTJ4NTEyIGltYWdlIHRpbGVzIG9ubHkgd2hlbiBAMnhcbiAgICAvLyBpcyBhcHBlbmRlZCB0byB0aGUgdGlsZSBVUkwuIElmIGB0aWxlU2l6ZTogNTEyYCBpcyBzcGVjaWZpZWQgZm9yXG4gICAgLy8gYSBNYXBib3ggcmFzdGVyIHNvdXJjZSBmb3JjZSB0aGUgQDJ4IHN1ZmZpeCBldmVuIGlmIGEgbm9uIGhpZHBpIGRldmljZS5cbiAgICBjb25zdCBzdWZmaXggPSBicm93c2VyLmRldmljZVBpeGVsUmF0aW8gPj0gMiB8fCB0aWxlU2l6ZSA9PT0gNTEyID8gJ0AyeCcgOiAnJztcbiAgICBjb25zdCBleHRlbnNpb24gPSBicm93c2VyLnN1cHBvcnRzV2VicCA/ICcud2VicCcgOiAnJDEnO1xuICAgIHVybE9iamVjdC5wYXRoID0gdXJsT2JqZWN0LnBhdGgucmVwbGFjZShpbWFnZUV4dGVuc2lvblJlLCBgJHtzdWZmaXh9JHtleHRlbnNpb259YCk7XG5cbiAgICByZXBsYWNlVGVtcEFjY2Vzc1Rva2VuKHVybE9iamVjdC5wYXJhbXMpO1xuICAgIHJldHVybiBmb3JtYXRVcmwodXJsT2JqZWN0KTtcbn07XG5cbmZ1bmN0aW9uIHJlcGxhY2VUZW1wQWNjZXNzVG9rZW4ocGFyYW1zOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHBhcmFtc1tpXS5pbmRleE9mKCdhY2Nlc3NfdG9rZW49dGsuJykgPT09IDApIHtcbiAgICAgICAgICAgIHBhcmFtc1tpXSA9IGBhY2Nlc3NfdG9rZW49JHtjb25maWcuQUNDRVNTX1RPS0VOIHx8ICcnfWA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IHVybFJlID0gL14oXFx3Kyk6XFwvXFwvKFteLz9dKikoXFwvW14/XSspP1xcPz8oLispPy87XG5cbmZ1bmN0aW9uIHBhcnNlVXJsKHVybDogc3RyaW5nKTogVXJsT2JqZWN0IHtcbiAgICBjb25zdCBwYXJ0cyA9IHVybC5tYXRjaCh1cmxSZSk7XG4gICAgaWYgKCFwYXJ0cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBVUkwgb2JqZWN0Jyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHByb3RvY29sOiBwYXJ0c1sxXSxcbiAgICAgICAgYXV0aG9yaXR5OiBwYXJ0c1syXSxcbiAgICAgICAgcGF0aDogcGFydHNbM10gfHwgJy8nLFxuICAgICAgICBwYXJhbXM6IHBhcnRzWzRdID8gcGFydHNbNF0uc3BsaXQoJyYnKSA6IFtdXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VXJsKG9iajogVXJsT2JqZWN0KTogc3RyaW5nIHtcbiAgICBjb25zdCBwYXJhbXMgPSBvYmoucGFyYW1zLmxlbmd0aCA/IGA/JHtvYmoucGFyYW1zLmpvaW4oJyYnKX1gIDogJyc7XG4gICAgcmV0dXJuIGAke29iai5wcm90b2NvbH06Ly8ke29iai5hdXRob3JpdHl9JHtvYmoucGF0aH0ke3BhcmFtc31gO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdyc7XG5jb25zdCB7IEhUTUxJbWFnZUVsZW1lbnQsIEhUTUxDYW52YXNFbGVtZW50LCBIVE1MVmlkZW9FbGVtZW50LCBJbWFnZURhdGEgfSA9IHdpbmRvdztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcbmltcG9ydCB0eXBlIHtSR0JBSW1hZ2UsIEFscGhhSW1hZ2V9IGZyb20gJy4uL3V0aWwvaW1hZ2UnO1xuXG5leHBvcnQgdHlwZSBUZXh0dXJlRm9ybWF0ID1cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnUkdCQSc+XG4gICAgfCAkUHJvcGVydHlUeXBlPFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgJ0FMUEhBJz47XG5leHBvcnQgdHlwZSBUZXh0dXJlRmlsdGVyID1cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnTElORUFSJz5cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnTElORUFSX01JUE1BUF9ORUFSRVNUJz5cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnTkVBUkVTVCc+O1xuZXhwb3J0IHR5cGUgVGV4dHVyZVdyYXAgPVxuICAgIHwgJFByb3BlcnR5VHlwZTxXZWJHTFJlbmRlcmluZ0NvbnRleHQsICdSRVBFQVQnPlxuICAgIHwgJFByb3BlcnR5VHlwZTxXZWJHTFJlbmRlcmluZ0NvbnRleHQsICdDTEFNUF9UT19FREdFJz5cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnTUlSUk9SRURfUkVQRUFUJz47XG5cbnR5cGUgRW1wdHlJbWFnZSA9IHtcbiAgICB3aWR0aDogbnVtYmVyLFxuICAgIGhlaWdodDogbnVtYmVyLFxuICAgIGRhdGE6IG51bGxcbn1cblxuZXhwb3J0IHR5cGUgVGV4dHVyZUltYWdlID1cbiAgICB8IFJHQkFJbWFnZVxuICAgIHwgQWxwaGFJbWFnZVxuICAgIHwgSFRNTEltYWdlRWxlbWVudFxuICAgIHwgSFRNTENhbnZhc0VsZW1lbnRcbiAgICB8IEhUTUxWaWRlb0VsZW1lbnRcbiAgICB8IEltYWdlRGF0YVxuICAgIHwgRW1wdHlJbWFnZTtcblxuY2xhc3MgVGV4dHVyZSB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBzaXplOiBBcnJheTxudW1iZXI+O1xuICAgIHRleHR1cmU6IFdlYkdMVGV4dHVyZTtcbiAgICBmb3JtYXQ6IFRleHR1cmVGb3JtYXQ7XG4gICAgZmlsdGVyOiA/VGV4dHVyZUZpbHRlcjtcbiAgICB3cmFwOiA/VGV4dHVyZVdyYXA7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBpbWFnZTogVGV4dHVyZUltYWdlLCBmb3JtYXQ6IFRleHR1cmVGb3JtYXQsIHByZW11bHRpcGx5OiA/Ym9vbGVhbikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGltYWdlO1xuICAgICAgICB0aGlzLnNpemUgPSBbd2lkdGgsIGhlaWdodF07XG4gICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0O1xuXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IGNvbnRleHQuZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZShpbWFnZSwgcHJlbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIHVwZGF0ZShpbWFnZTogVGV4dHVyZUltYWdlLCBwcmVtdWx0aXBseTogP2Jvb2xlYW4pIHtcbiAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gaW1hZ2U7XG4gICAgICAgIHRoaXMuc2l6ZSA9IFt3aWR0aCwgaGVpZ2h0XTtcblxuICAgICAgICBjb25zdCB7Y29udGV4dH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7Z2x9ID0gY29udGV4dDtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlKTtcbiAgICAgICAgY29udGV4dC5waXhlbFN0b3JlVW5wYWNrLnNldCgxKTtcblxuICAgICAgICBpZiAodGhpcy5mb3JtYXQgPT09IGdsLlJHQkEgJiYgcHJlbXVsdGlwbHkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldCh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbWFnZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQgfHwgaW1hZ2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCB8fCBpbWFnZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQgfHwgaW1hZ2UgaW5zdGFuY2VvZiBJbWFnZURhdGEpIHtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgdGhpcy5mb3JtYXQsIHRoaXMuZm9ybWF0LCBnbC5VTlNJR05FRF9CWVRFLCBpbWFnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIHRoaXMuZm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCAwLCB0aGlzLmZvcm1hdCwgZ2wuVU5TSUdORURfQllURSwgaW1hZ2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiaW5kKGZpbHRlcjogVGV4dHVyZUZpbHRlciwgd3JhcDogVGV4dHVyZVdyYXAsIG1pbkZpbHRlcjogP1RleHR1cmVGaWx0ZXIpIHtcbiAgICAgICAgY29uc3Qge2NvbnRleHR9ID0gdGhpcztcbiAgICAgICAgY29uc3Qge2dsfSA9IGNvbnRleHQ7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG5cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdGhpcy5maWx0ZXIpIHtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBmaWx0ZXIpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIG1pbkZpbHRlciB8fCBmaWx0ZXIpO1xuICAgICAgICAgICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod3JhcCAhPT0gdGhpcy53cmFwKSB7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCB3cmFwKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIHdyYXApO1xuICAgICAgICAgICAgdGhpcy53cmFwID0gd3JhcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGNvbnN0IHtnbH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gKG51bGw6IGFueSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0dXJlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFNoZWxmUGFjayBmcm9tICdAbWFwYm94L3NoZWxmLXBhY2snO1xuXG5pbXBvcnQgeyBSR0JBSW1hZ2UgfSBmcm9tICcuLi91dGlsL2ltYWdlJztcbmltcG9ydCB7IEltYWdlUG9zaXRpb24gfSBmcm9tICcuL2ltYWdlX2F0bGFzJztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZSc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZUltYWdlfSBmcm9tICcuLi9zdHlsZS9zdHlsZV9pbWFnZSc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuaW1wb3J0IHR5cGUge0Jpbn0gZnJvbSAnQG1hcGJveC9zaGVsZi1wYWNrJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuXG50eXBlIFBhdHRlcm4gPSB7XG4gICAgYmluOiBCaW4sXG4gICAgcG9zaXRpb246IEltYWdlUG9zaXRpb25cbn07XG5cbi8vIFdoZW4gY29waWVkIGludG8gdGhlIGF0bGFzIHRleHR1cmUsIGltYWdlIGRhdGEgaXMgcGFkZGVkIGJ5IG9uZSBwaXhlbCBvbiBlYWNoIHNpZGUuIEljb25cbi8vIGltYWdlcyBhcmUgcGFkZGVkIHdpdGggZnVsbHkgdHJhbnNwYXJlbnQgcGl4ZWxzLCB3aGlsZSBwYXR0ZXJuIGltYWdlcyBhcmUgcGFkZGVkIHdpdGggYVxuLy8gY29weSBvZiB0aGUgaW1hZ2UgZGF0YSB3cmFwcGVkIGZyb20gdGhlIG9wcG9zaXRlIHNpZGUuIEluIGJvdGggY2FzZXMsIHRoaXMgZW5zdXJlcyB0aGVcbi8vIGNvcnJlY3QgYmVoYXZpb3Igb2YgR0xfTElORUFSIHRleHR1cmUgc2FtcGxpbmcgbW9kZS5cbmNvbnN0IHBhZGRpbmcgPSAxO1xuXG4vKlxuICAgIEltYWdlTWFuYWdlciBkb2VzIHR3byB0aGluZ3M6XG5cbiAgICAgICAgMS4gVHJhY2tzIHJlcXVlc3RzIGZvciBpY29uIGltYWdlcyBmcm9tIHRpbGUgd29ya2VycyBhbmQgc2VuZHMgcmVzcG9uc2VzIHdoZW4gdGhlIHJlcXVlc3RzIGFyZSBmdWxmaWxsZWQuXG4gICAgICAgIDIuIEJ1aWxkcyBhIHRleHR1cmUgYXRsYXMgZm9yIHBhdHRlcm4gaW1hZ2VzLlxuXG4gICAgVGhlc2UgYXJlIGRpc3BhcmF0ZSByZXNwb25zaWJpbGl0aWVzIGFuZCBzaG91bGQgZXZlbnR1YWxseSBiZSBoYW5kbGVkIGJ5IGRpZmZlcmVudCBjbGFzc2VzLiBXaGVuIHdlIGltcGxlbWVudFxuICAgIGRhdGEtZHJpdmVuIHN1cHBvcnQgZm9yIGAqLXBhdHRlcm5gLCB3ZSdsbCBsaWtlbHkgdXNlIHBlci1idWNrZXQgcGF0dGVybiBhdGxhc2VzLCBhbmQgdGhhdCB3b3VsZCBiZSBhIGdvb2QgdGltZVxuICAgIHRvIHJlZmFjdG9yIHRoaXMuXG4qL1xuY2xhc3MgSW1hZ2VNYW5hZ2VyIHtcbiAgICBpbWFnZXM6IHtbc3RyaW5nXTogU3R5bGVJbWFnZX07XG4gICAgbG9hZGVkOiBib29sZWFuO1xuICAgIHJlcXVlc3RvcnM6IEFycmF5PHtpZHM6IEFycmF5PHN0cmluZz4sIGNhbGxiYWNrOiBDYWxsYmFjazx7W3N0cmluZ106IFN0eWxlSW1hZ2V9Pn0+O1xuXG4gICAgc2hlbGZQYWNrOiBTaGVsZlBhY2s7XG4gICAgcGF0dGVybnM6IHtbc3RyaW5nXTogUGF0dGVybn07XG4gICAgYXRsYXNJbWFnZTogUkdCQUltYWdlO1xuICAgIGF0bGFzVGV4dHVyZTogP1RleHR1cmU7XG4gICAgZGlydHk6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbWFnZXMgPSB7fTtcbiAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0b3JzID0gW107XG5cbiAgICAgICAgdGhpcy5zaGVsZlBhY2sgPSBuZXcgU2hlbGZQYWNrKDY0LCA2NCwge2F1dG9SZXNpemU6IHRydWV9KTtcbiAgICAgICAgdGhpcy5wYXR0ZXJucyA9IHt9O1xuICAgICAgICB0aGlzLmF0bGFzSW1hZ2UgPSBuZXcgUkdCQUltYWdlKHt3aWR0aDogNjQsIGhlaWdodDogNjR9KTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgaXNMb2FkZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRlZDtcbiAgICB9XG5cbiAgICBzZXRMb2FkZWQobG9hZGVkOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRlZCA9PT0gbG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvYWRlZCA9IGxvYWRlZDtcblxuICAgICAgICBpZiAobG9hZGVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHtpZHMsIGNhbGxiYWNrfSBvZiB0aGlzLnJlcXVlc3RvcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ub3RpZnkoaWRzLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RvcnMgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEltYWdlKGlkOiBzdHJpbmcpOiA/U3R5bGVJbWFnZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlc1tpZF07XG4gICAgfVxuXG4gICAgYWRkSW1hZ2UoaWQ6IHN0cmluZywgaW1hZ2U6IFN0eWxlSW1hZ2UpIHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLmltYWdlc1tpZF0pO1xuICAgICAgICB0aGlzLmltYWdlc1tpZF0gPSBpbWFnZTtcbiAgICB9XG5cbiAgICByZW1vdmVJbWFnZShpZDogc3RyaW5nKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmltYWdlc1tpZF0pO1xuICAgICAgICBkZWxldGUgdGhpcy5pbWFnZXNbaWRdO1xuXG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLnBhdHRlcm5zW2lkXTtcbiAgICAgICAgaWYgKHBhdHRlcm4pIHtcbiAgICAgICAgICAgIHRoaXMuc2hlbGZQYWNrLnVucmVmKHBhdHRlcm4uYmluKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBhdHRlcm5zW2lkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEltYWdlcyhpZHM6IEFycmF5PHN0cmluZz4sIGNhbGxiYWNrOiBDYWxsYmFjazx7W3N0cmluZ106IFN0eWxlSW1hZ2V9Pikge1xuICAgICAgICAvLyBJZiB0aGUgc3ByaXRlIGhhcyBiZWVuIGxvYWRlZCwgb3IgaWYgYWxsIHRoZSBpY29uIGRlcGVuZGVuY2llcyBhcmUgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgIC8vIChpLmUuIGlmIHRoZXkndmUgYmVlbiBhZGRlZGVkIHZpYSBydW50aW1lIHN0eWxpbmcpLCB0aGVuIG5vdGlmeSB0aGUgcmVxdWVzdG9yIGltbWVkaWF0ZWx5LlxuICAgICAgICAvLyBPdGhlcndpc2UsIGRlbGF5IG5vdGlmaWNhdGlvbiB1bnRpbCB0aGUgc3ByaXRlIGlzIGxvYWRlZC4gQXQgdGhhdCBwb2ludCwgaWYgYW55IG9mIHRoZVxuICAgICAgICAvLyBkZXBlbmRlbmNpZXMgYXJlIHN0aWxsIHVuYXZhaWxhYmxlLCB3ZSdsbCBqdXN0IGFzc3VtZSB0aGV5IGFyZSBwZXJtYW5lbnRseSBtaXNzaW5nLlxuICAgICAgICBsZXQgaGFzQWxsRGVwZW5kZW5jaWVzID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLmlzTG9hZGVkKCkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmltYWdlc1tpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzQWxsRGVwZW5kZW5jaWVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzTG9hZGVkKCkgfHwgaGFzQWxsRGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9ub3RpZnkoaWRzLCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RvcnMucHVzaCh7aWRzLCBjYWxsYmFja30pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX25vdGlmeShpZHM6IEFycmF5PHN0cmluZz4sIGNhbGxiYWNrOiBDYWxsYmFjazx7W3N0cmluZ106IFN0eWxlSW1hZ2V9Pikge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuaW1hZ2VzW2lkXTtcbiAgICAgICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgICAgIC8vIENsb25lIHRoZSBpbWFnZSBzbyB0aGF0IG91ciBvd24gY29weSBvZiBpdHMgQXJyYXlCdWZmZXIgZG9lc24ndCBnZXQgdHJhbnNmZXJyZWQuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VbaWRdID0ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBpbWFnZS5kYXRhLmNsb25lKCksXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW86IGltYWdlLnBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgICAgIHNkZjogaW1hZ2Uuc2RmXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICAvLyBQYXR0ZXJuIHN0dWZmXG5cbiAgICBnZXRQaXhlbFNpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5zaGVsZlBhY2sudyxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5zaGVsZlBhY2suaFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldFBhdHRlcm4oaWQ6IHN0cmluZyk6ID9JbWFnZVBvc2l0aW9uIHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IHRoaXMucGF0dGVybnNbaWRdO1xuICAgICAgICBpZiAocGF0dGVybikge1xuICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm4ucG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuZ2V0SW1hZ2UoaWQpO1xuICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gaW1hZ2UuZGF0YS53aWR0aCArIHBhZGRpbmcgKiAyO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBpbWFnZS5kYXRhLmhlaWdodCArIHBhZGRpbmcgKiAyO1xuXG4gICAgICAgIGNvbnN0IGJpbiA9IHRoaXMuc2hlbGZQYWNrLnBhY2tPbmUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGlmICghYmluKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXRsYXNJbWFnZS5yZXNpemUodGhpcy5nZXRQaXhlbFNpemUoKSk7XG5cbiAgICAgICAgY29uc3Qgc3JjID0gaW1hZ2UuZGF0YTtcbiAgICAgICAgY29uc3QgZHN0ID0gdGhpcy5hdGxhc0ltYWdlO1xuXG4gICAgICAgIGNvbnN0IHggPSBiaW4ueCArIHBhZGRpbmc7XG4gICAgICAgIGNvbnN0IHkgPSBiaW4ueSArIHBhZGRpbmc7XG4gICAgICAgIGNvbnN0IHcgPSBzcmMud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSBzcmMuaGVpZ2h0O1xuXG4gICAgICAgIFJHQkFJbWFnZS5jb3B5KHNyYywgZHN0LCB7IHg6IDAsIHk6IDAgfSwgeyB4LCB5IH0sIHsgd2lkdGg6IHcsIGhlaWdodDogaCB9KTtcblxuICAgICAgICAvLyBBZGQgMSBwaXhlbCB3cmFwcGVkIHBhZGRpbmcgb24gZWFjaCBzaWRlIG9mIHRoZSBpbWFnZS5cbiAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogMCwgeTogaCAtIDEgfSwgeyB4OiB4LCB5OiB5IC0gMSB9LCB7IHdpZHRoOiB3LCBoZWlnaHQ6IDEgfSk7IC8vIFRcbiAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogMCwgeTogICAgIDAgfSwgeyB4OiB4LCB5OiB5ICsgaCB9LCB7IHdpZHRoOiB3LCBoZWlnaHQ6IDEgfSk7IC8vIEJcbiAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogdyAtIDEsIHk6IDAgfSwgeyB4OiB4IC0gMSwgeTogeSB9LCB7IHdpZHRoOiAxLCBoZWlnaHQ6IGggfSk7IC8vIExcbiAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogMCwgICAgIHk6IDAgfSwgeyB4OiB4ICsgdywgeTogeSB9LCB7IHdpZHRoOiAxLCBoZWlnaHQ6IGggfSk7IC8vIFJcblxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IG5ldyBJbWFnZVBvc2l0aW9uKGJpbiwgaW1hZ2UpO1xuICAgICAgICB0aGlzLnBhdHRlcm5zW2lkXSA9IHsgYmluLCBwb3NpdGlvbiB9O1xuICAgICAgICByZXR1cm4gcG9zaXRpb247XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgaWYgKCF0aGlzLmF0bGFzVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5hdGxhc1RleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmF0bGFzSW1hZ2UsIGdsLlJHQkEpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuYXRsYXNUZXh0dXJlLnVwZGF0ZSh0aGlzLmF0bGFzSW1hZ2UpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hdGxhc1RleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRpbnlTREY7XG5cbnZhciBJTkYgPSAxZTIwO1xuXG5mdW5jdGlvbiBUaW55U0RGKGZvbnRTaXplLCBidWZmZXIsIHJhZGl1cywgY3V0b2ZmLCBmb250RmFtaWx5LCBmb250V2VpZ2h0KSB7XG4gICAgdGhpcy5mb250U2l6ZSA9IGZvbnRTaXplIHx8IDI0O1xuICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyID09PSB1bmRlZmluZWQgPyAzIDogYnVmZmVyO1xuICAgIHRoaXMuY3V0b2ZmID0gY3V0b2ZmIHx8IDAuMjU7XG4gICAgdGhpcy5mb250RmFtaWx5ID0gZm9udEZhbWlseSB8fCAnc2Fucy1zZXJpZic7XG4gICAgdGhpcy5mb250V2VpZ2h0ID0gZm9udFdlaWdodCB8fCAnbm9ybWFsJztcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cyB8fCA4O1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplID0gdGhpcy5mb250U2l6ZSArIHRoaXMuYnVmZmVyICogMjtcblxuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5oZWlnaHQgPSBzaXplO1xuXG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHRoaXMuY3R4LmZvbnQgPSB0aGlzLmZvbnRXZWlnaHQgKyAnICcgKyB0aGlzLmZvbnRTaXplICsgJ3B4ICcgKyB0aGlzLmZvbnRGYW1pbHk7XG4gICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcblxuICAgIC8vIHRlbXBvcmFyeSBhcnJheXMgZm9yIHRoZSBkaXN0YW5jZSB0cmFuc2Zvcm1cbiAgICB0aGlzLmdyaWRPdXRlciA9IG5ldyBGbG9hdDY0QXJyYXkoc2l6ZSAqIHNpemUpO1xuICAgIHRoaXMuZ3JpZElubmVyID0gbmV3IEZsb2F0NjRBcnJheShzaXplICogc2l6ZSk7XG4gICAgdGhpcy5mID0gbmV3IEZsb2F0NjRBcnJheShzaXplKTtcbiAgICB0aGlzLmQgPSBuZXcgRmxvYXQ2NEFycmF5KHNpemUpO1xuICAgIHRoaXMueiA9IG5ldyBGbG9hdDY0QXJyYXkoc2l6ZSArIDEpO1xuICAgIHRoaXMudiA9IG5ldyBJbnQxNkFycmF5KHNpemUpO1xuXG4gICAgLy8gaGFjayBhcm91bmQgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NzM3ODUyXG4gICAgdGhpcy5taWRkbGUgPSBNYXRoLnJvdW5kKChzaXplIC8gMikgKiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdHZWNrby8nKSA+PSAwID8gMS4yIDogMSkpO1xufVxuXG5UaW55U0RGLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGNoYXIpIHtcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KGNoYXIsIHRoaXMuYnVmZmVyLCB0aGlzLm1pZGRsZSk7XG5cbiAgICB2YXIgaW1nRGF0YSA9IHRoaXMuY3R4LmdldEltYWdlRGF0YSgwLCAwLCB0aGlzLnNpemUsIHRoaXMuc2l6ZSk7XG4gICAgdmFyIGFscGhhQ2hhbm5lbCA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh0aGlzLnNpemUgKiB0aGlzLnNpemUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNpemUgKiB0aGlzLnNpemU7IGkrKykge1xuICAgICAgICB2YXIgYSA9IGltZ0RhdGEuZGF0YVtpICogNCArIDNdIC8gMjU1OyAvLyBhbHBoYSB2YWx1ZVxuICAgICAgICB0aGlzLmdyaWRPdXRlcltpXSA9IGEgPT09IDEgPyAwIDogYSA9PT0gMCA/IElORiA6IE1hdGgucG93KE1hdGgubWF4KDAsIDAuNSAtIGEpLCAyKTtcbiAgICAgICAgdGhpcy5ncmlkSW5uZXJbaV0gPSBhID09PSAxID8gSU5GIDogYSA9PT0gMCA/IDAgOiBNYXRoLnBvdyhNYXRoLm1heCgwLCBhIC0gMC41KSwgMik7XG4gICAgfVxuXG4gICAgZWR0KHRoaXMuZ3JpZE91dGVyLCB0aGlzLnNpemUsIHRoaXMuc2l6ZSwgdGhpcy5mLCB0aGlzLmQsIHRoaXMudiwgdGhpcy56KTtcbiAgICBlZHQodGhpcy5ncmlkSW5uZXIsIHRoaXMuc2l6ZSwgdGhpcy5zaXplLCB0aGlzLmYsIHRoaXMuZCwgdGhpcy52LCB0aGlzLnopO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuc2l6ZSAqIHRoaXMuc2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBkID0gdGhpcy5ncmlkT3V0ZXJbaV0gLSB0aGlzLmdyaWRJbm5lcltpXTtcbiAgICAgICAgYWxwaGFDaGFubmVsW2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKDI1NSAtIDI1NSAqIChkIC8gdGhpcy5yYWRpdXMgKyB0aGlzLmN1dG9mZikpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFscGhhQ2hhbm5lbDtcbn07XG5cbi8vIDJEIEV1Y2xpZGVhbiBkaXN0YW5jZSB0cmFuc2Zvcm0gYnkgRmVsemVuc3p3YWxiICYgSHV0dGVubG9jaGVyIGh0dHBzOi8vY3MuYnJvd24uZWR1L35wZmYvZHQvXG5mdW5jdGlvbiBlZHQoZGF0YSwgd2lkdGgsIGhlaWdodCwgZiwgZCwgdiwgeikge1xuICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICBmW3ldID0gZGF0YVt5ICogd2lkdGggKyB4XTtcbiAgICAgICAgfVxuICAgICAgICBlZHQxZChmLCBkLCB2LCB6LCBoZWlnaHQpO1xuICAgICAgICBmb3IgKHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIGRhdGFbeSAqIHdpZHRoICsgeF0gPSBkW3ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICBmb3IgKHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgZlt4XSA9IGRhdGFbeSAqIHdpZHRoICsgeF07XG4gICAgICAgIH1cbiAgICAgICAgZWR0MWQoZiwgZCwgdiwgeiwgd2lkdGgpO1xuICAgICAgICBmb3IgKHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgZGF0YVt5ICogd2lkdGggKyB4XSA9IE1hdGguc3FydChkW3hdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gMUQgc3F1YXJlZCBkaXN0YW5jZSB0cmFuc2Zvcm1cbmZ1bmN0aW9uIGVkdDFkKGYsIGQsIHYsIHosIG4pIHtcbiAgICB2WzBdID0gMDtcbiAgICB6WzBdID0gLUlORjtcbiAgICB6WzFdID0gK0lORjtcblxuICAgIGZvciAodmFyIHEgPSAxLCBrID0gMDsgcSA8IG47IHErKykge1xuICAgICAgICB2YXIgcyA9ICgoZltxXSArIHEgKiBxKSAtIChmW3Zba11dICsgdltrXSAqIHZba10pKSAvICgyICogcSAtIDIgKiB2W2tdKTtcbiAgICAgICAgd2hpbGUgKHMgPD0geltrXSkge1xuICAgICAgICAgICAgay0tO1xuICAgICAgICAgICAgcyA9ICgoZltxXSArIHEgKiBxKSAtIChmW3Zba11dICsgdltrXSAqIHZba10pKSAvICgyICogcSAtIDIgKiB2W2tdKTtcbiAgICAgICAgfVxuICAgICAgICBrKys7XG4gICAgICAgIHZba10gPSBxO1xuICAgICAgICB6W2tdID0gcztcbiAgICAgICAgeltrICsgMV0gPSArSU5GO1xuICAgIH1cblxuICAgIGZvciAocSA9IDAsIGsgPSAwOyBxIDwgbjsgcSsrKSB7XG4gICAgICAgIHdoaWxlICh6W2sgKyAxXSA8IHEpIGsrKztcbiAgICAgICAgZFtxXSA9IChxIC0gdltrXSkgKiAocSAtIHZba10pICsgZlt2W2tdXTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgbG9hZEdseXBoUmFuZ2UgZnJvbSAnLi4vc3R5bGUvbG9hZF9nbHlwaF9yYW5nZSc7XG5cbmltcG9ydCBUaW55U0RGIGZyb20gJ0BtYXBib3gvdGlueS1zZGYnO1xuaW1wb3J0IGlzQ2hhciBmcm9tICcuLi91dGlsL2lzX2NoYXJfaW5fdW5pY29kZV9ibG9jayc7XG5pbXBvcnQgeyBhc3luY0FsbCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBBbHBoYUltYWdlIH0gZnJvbSAnLi4vdXRpbC9pbWFnZSc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZUdseXBofSBmcm9tICcuLi9zdHlsZS9zdHlsZV9nbHlwaCc7XG5pbXBvcnQgdHlwZSB7UmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9ufSBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5cbnR5cGUgRW50cnkgPSB7XG4gICAgLy8gbnVsbCBtZWFucyB3ZSd2ZSByZXF1ZXN0ZWQgdGhlIHJhbmdlLCBidXQgdGhlIGdseXBoIHdhc24ndCBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0LlxuICAgIGdseXBoczoge1tpZDogbnVtYmVyXTogU3R5bGVHbHlwaCB8IG51bGx9LFxuICAgIHJlcXVlc3RzOiB7W3JhbmdlOiBudW1iZXJdOiBBcnJheTxDYWxsYmFjazx7W251bWJlcl06IFN0eWxlR2x5cGggfCBudWxsfT4+fSxcbiAgICB0aW55U0RGPzogVGlueVNERlxufTtcblxuY2xhc3MgR2x5cGhNYW5hZ2VyIHtcbiAgICByZXF1ZXN0VHJhbnNmb3JtOiBSZXF1ZXN0VHJhbnNmb3JtRnVuY3Rpb247XG4gICAgbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiA/c3RyaW5nO1xuICAgIGVudHJpZXM6IHtbc3RyaW5nXTogRW50cnl9O1xuICAgIHVybDogP3N0cmluZztcblxuICAgIC8vIGV4cG9zZWQgYXMgc3RhdGljcyB0byBlbmFibGUgc3R1YmJpbmcgaW4gdW5pdCB0ZXN0c1xuICAgIHN0YXRpYyBsb2FkR2x5cGhSYW5nZTogdHlwZW9mIGxvYWRHbHlwaFJhbmdlO1xuICAgIHN0YXRpYyBUaW55U0RGOiBDbGFzczxUaW55U0RGPjtcblxuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3RUcmFuc2Zvcm06IFJlcXVlc3RUcmFuc2Zvcm1GdW5jdGlvbiwgbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiA/c3RyaW5nKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdFRyYW5zZm9ybSA9IHJlcXVlc3RUcmFuc2Zvcm07XG4gICAgICAgIHRoaXMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5ID0gbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5O1xuICAgICAgICB0aGlzLmVudHJpZXMgPSB7fTtcbiAgICB9XG5cbiAgICBzZXRVUkwodXJsOiA/c3RyaW5nKSB7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgIH1cblxuICAgIGdldEdseXBocyhnbHlwaHM6IHtbc3RhY2s6IHN0cmluZ106IEFycmF5PG51bWJlcj59LCBjYWxsYmFjazogQ2FsbGJhY2s8e1tzdGFjazogc3RyaW5nXToge1tpZDogbnVtYmVyXTogP1N0eWxlR2x5cGh9fT4pIHtcbiAgICAgICAgY29uc3QgYWxsID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBzdGFjayBpbiBnbHlwaHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgZ2x5cGhzW3N0YWNrXSkge1xuICAgICAgICAgICAgICAgIGFsbC5wdXNoKHtzdGFjaywgaWR9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGFzeW5jQWxsKGFsbCwgKHtzdGFjaywgaWR9LCBjYWxsYmFjazogQ2FsbGJhY2s8e3N0YWNrOiBzdHJpbmcsIGlkOiBudW1iZXIsIGdseXBoOiA/U3R5bGVHbHlwaH0+KSA9PiB7XG4gICAgICAgICAgICBsZXQgZW50cnkgPSB0aGlzLmVudHJpZXNbc3RhY2tdO1xuICAgICAgICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICAgICAgICAgIGVudHJ5ID0gdGhpcy5lbnRyaWVzW3N0YWNrXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZ2x5cGhzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdHM6IHt9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGdseXBoID0gZW50cnkuZ2x5cGhzW2lkXTtcbiAgICAgICAgICAgIGlmIChnbHlwaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge3N0YWNrLCBpZCwgZ2x5cGh9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdseXBoID0gdGhpcy5fdGlueVNERihlbnRyeSwgc3RhY2ssIGlkKTtcbiAgICAgICAgICAgIGlmIChnbHlwaCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtzdGFjaywgaWQsIGdseXBofSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IE1hdGguZmxvb3IoaWQgLyAyNTYpO1xuICAgICAgICAgICAgaWYgKHJhbmdlICogMjU2ID4gNjU1MzUpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ2dseXBocyA+IDY1NTM1IG5vdCBzdXBwb3J0ZWQnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcmVxdWVzdHMgPSBlbnRyeS5yZXF1ZXN0c1tyYW5nZV07XG4gICAgICAgICAgICBpZiAoIXJlcXVlc3RzKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdHMgPSBlbnRyeS5yZXF1ZXN0c1tyYW5nZV0gPSBbXTtcbiAgICAgICAgICAgICAgICBHbHlwaE1hbmFnZXIubG9hZEdseXBoUmFuZ2Uoc3RhY2ssIHJhbmdlLCAodGhpcy51cmw6IGFueSksIHRoaXMucmVxdWVzdFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgKGVyciwgcmVzcG9uc2U6ID97W251bWJlcl06IFN0eWxlR2x5cGggfCBudWxsfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5nbHlwaHNbK2lkXSA9IHJlc3BvbnNlWytpZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjYiBvZiByZXF1ZXN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiKGVyciwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVudHJ5LnJlcXVlc3RzW3JhbmdlXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcXVlc3RzLnB1c2goKGVyciwgcmVzdWx0OiA/e1tudW1iZXJdOiBTdHlsZUdseXBoIHwgbnVsbH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge3N0YWNrLCBpZCwgZ2x5cGg6IHJlc3VsdFtpZF0gfHwgbnVsbH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCAoZXJyLCBnbHlwaHM6ID9BcnJheTx7c3RhY2s6IHN0cmluZywgaWQ6IG51bWJlciwgZ2x5cGg6ID9TdHlsZUdseXBofT4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChnbHlwaHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qge3N0YWNrLCBpZCwgZ2x5cGh9IG9mIGdseXBocykge1xuICAgICAgICAgICAgICAgICAgICAvLyBDbG9uZSB0aGUgZ2x5cGggc28gdGhhdCBvdXIgb3duIGNvcHkgb2YgaXRzIEFycmF5QnVmZmVyIGRvZXNuJ3QgZ2V0IHRyYW5zZmVycmVkLlxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0W3N0YWNrXSB8fCAocmVzdWx0W3N0YWNrXSA9IHt9KSlbaWRdID0gZ2x5cGggJiYge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGdseXBoLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYml0bWFwOiBnbHlwaC5iaXRtYXAuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldHJpY3M6IGdseXBoLm1ldHJpY3NcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfdGlueVNERihlbnRyeTogRW50cnksIHN0YWNrOiBzdHJpbmcsIGlkOiBudW1iZXIpOiA/U3R5bGVHbHlwaCB7XG4gICAgICAgIGNvbnN0IGZhbWlseSA9IHRoaXMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5O1xuICAgICAgICBpZiAoIWZhbWlseSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc0NoYXJbJ0NKSyBVbmlmaWVkIElkZW9ncmFwaHMnXShpZCkgJiYgIWlzQ2hhclsnSGFuZ3VsIFN5bGxhYmxlcyddKGlkKSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0aW55U0RGID0gZW50cnkudGlueVNERjtcbiAgICAgICAgaWYgKCF0aW55U0RGKSB7XG4gICAgICAgICAgICBsZXQgZm9udFdlaWdodCA9ICc0MDAnO1xuICAgICAgICAgICAgaWYgKC9ib2xkL2kudGVzdChzdGFjaykpIHtcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0ID0gJzkwMCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9tZWRpdW0vaS50ZXN0KHN0YWNrKSkge1xuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQgPSAnNTAwJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL2xpZ2h0L2kudGVzdChzdGFjaykpIHtcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0ID0gJzIwMCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aW55U0RGID0gZW50cnkudGlueVNERiA9IG5ldyBHbHlwaE1hbmFnZXIuVGlueVNERigyNCwgMywgOCwgLjI1LCBmYW1pbHksIGZvbnRXZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgYml0bWFwOiBuZXcgQWxwaGFJbWFnZSh7d2lkdGg6IDMwLCBoZWlnaHQ6IDMwfSwgdGlueVNERi5kcmF3KFN0cmluZy5mcm9tQ2hhckNvZGUoaWQpKSksXG4gICAgICAgICAgICBtZXRyaWNzOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDI0LFxuICAgICAgICAgICAgICAgIGhlaWdodDogMjQsXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICB0b3A6IC04LFxuICAgICAgICAgICAgICAgIGFkdmFuY2U6IDI0XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5HbHlwaE1hbmFnZXIubG9hZEdseXBoUmFuZ2UgPSBsb2FkR2x5cGhSYW5nZTtcbkdseXBoTWFuYWdlci5UaW55U0RGID0gVGlueVNERjtcblxuZXhwb3J0IGRlZmF1bHQgR2x5cGhNYW5hZ2VyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHN0eWxlU3BlYyBmcm9tICcuLi9zdHlsZS1zcGVjL3JlZmVyZW5jZS9sYXRlc3QnO1xuXG5pbXBvcnQgeyBlbmRzV2l0aCwgZXh0ZW5kLCBzcGhlcmljYWxUb0NhcnRlc2lhbiB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBFdmVudGVkIH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCB7XG4gICAgdmFsaWRhdGVTdHlsZSxcbiAgICB2YWxpZGF0ZUxpZ2h0LFxuICAgIGVtaXRWYWxpZGF0aW9uRXJyb3JzXG59IGZyb20gJy4vdmFsaWRhdGVfc3R5bGUnO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5pbXBvcnQgeyBudW1iZXIgYXMgaW50ZXJwb2xhdGUgfSBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvaW50ZXJwb2xhdGUnO1xuXG5pbXBvcnQgdHlwZSB7U3R5bGVQcm9wZXJ0eVNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvc3R5bGUtc3BlYyc7XG5pbXBvcnQgdHlwZSBFdmFsdWF0aW9uUGFyYW1ldGVycyBmcm9tICcuL2V2YWx1YXRpb25fcGFyYW1ldGVycyc7XG5cbmltcG9ydCB7IFByb3BlcnRpZXMsIFRyYW5zaXRpb25hYmxlLCBUcmFuc2l0aW9uaW5nLCBQb3NzaWJseUV2YWx1YXRlZCwgRGF0YUNvbnN0YW50UHJvcGVydHkgfSBmcm9tICcuL3Byb3BlcnRpZXMnO1xuXG5pbXBvcnQgdHlwZSB7XG4gICAgUHJvcGVydHksXG4gICAgUHJvcGVydHlWYWx1ZSxcbiAgICBUcmFuc2l0aW9uUGFyYW1ldGVyc1xufSBmcm9tICcuL3Byb3BlcnRpZXMnO1xuXG50eXBlIExpZ2h0UG9zaXRpb24gPSB7XG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlcixcbiAgICB6OiBudW1iZXJcbn07XG5cbmNsYXNzIExpZ2h0UG9zaXRpb25Qcm9wZXJ0eSBpbXBsZW1lbnRzIFByb3BlcnR5PFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSwgTGlnaHRQb3NpdGlvbj4ge1xuICAgIHNwZWNpZmljYXRpb246IFN0eWxlUHJvcGVydHlTcGVjaWZpY2F0aW9uO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3BlY2lmaWNhdGlvbiA9IHN0eWxlU3BlYy5saWdodC5wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBwb3NzaWJseUV2YWx1YXRlKHZhbHVlOiBQcm9wZXJ0eVZhbHVlPFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSwgTGlnaHRQb3NpdGlvbj4sIHBhcmFtZXRlcnM6IEV2YWx1YXRpb25QYXJhbWV0ZXJzKTogTGlnaHRQb3NpdGlvbiB7XG4gICAgICAgIHJldHVybiBzcGhlcmljYWxUb0NhcnRlc2lhbih2YWx1ZS5leHByZXNzaW9uLmV2YWx1YXRlKHBhcmFtZXRlcnMpKTtcbiAgICB9XG5cbiAgICBpbnRlcnBvbGF0ZShhOiBMaWdodFBvc2l0aW9uLCBiOiBMaWdodFBvc2l0aW9uLCB0OiBudW1iZXIpOiBMaWdodFBvc2l0aW9uIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGludGVycG9sYXRlKGEueCwgYi54LCB0KSxcbiAgICAgICAgICAgIHk6IGludGVycG9sYXRlKGEueSwgYi55LCB0KSxcbiAgICAgICAgICAgIHo6IGludGVycG9sYXRlKGEueiwgYi56LCB0KSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbnR5cGUgUHJvcHMgPSB7fFxuICAgIFwiYW5jaG9yXCI6IERhdGFDb25zdGFudFByb3BlcnR5PFwibWFwXCIgfCBcInZpZXdwb3J0XCI+LFxuICAgIFwicG9zaXRpb25cIjogTGlnaHRQb3NpdGlvblByb3BlcnR5LFxuICAgIFwiY29sb3JcIjogRGF0YUNvbnN0YW50UHJvcGVydHk8Q29sb3I+LFxuICAgIFwiaW50ZW5zaXR5XCI6IERhdGFDb25zdGFudFByb3BlcnR5PG51bWJlcj4sXG58fTtcblxuY29uc3QgcHJvcGVydGllczogUHJvcGVydGllczxQcm9wcz4gPSBuZXcgUHJvcGVydGllcyh7XG4gICAgXCJhbmNob3JcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5saWdodC5hbmNob3IpLFxuICAgIFwicG9zaXRpb25cIjogbmV3IExpZ2h0UG9zaXRpb25Qcm9wZXJ0eSgpLFxuICAgIFwiY29sb3JcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5saWdodC5jb2xvciksXG4gICAgXCJpbnRlbnNpdHlcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5saWdodC5pbnRlbnNpdHkpLFxufSk7XG5cbmNvbnN0IFRSQU5TSVRJT05fU1VGRklYID0gJy10cmFuc2l0aW9uJztcblxuLypcbiAqIFJlcHJlc2VudHMgdGhlIGxpZ2h0IHVzZWQgdG8gbGlnaHQgZXh0cnVkZWQgZmVhdHVyZXMuXG4gKi9cbmNsYXNzIExpZ2h0IGV4dGVuZHMgRXZlbnRlZCB7XG4gICAgX3RyYW5zaXRpb25hYmxlOiBUcmFuc2l0aW9uYWJsZTxQcm9wcz47XG4gICAgX3RyYW5zaXRpb25pbmc6IFRyYW5zaXRpb25pbmc8UHJvcHM+O1xuICAgIHByb3BlcnRpZXM6IFBvc3NpYmx5RXZhbHVhdGVkPFByb3BzPjtcblxuICAgIGNvbnN0cnVjdG9yKGxpZ2h0T3B0aW9ucz86IExpZ2h0U3BlY2lmaWNhdGlvbikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uYWJsZSA9IG5ldyBUcmFuc2l0aW9uYWJsZShwcm9wZXJ0aWVzKTtcbiAgICAgICAgdGhpcy5zZXRMaWdodChsaWdodE9wdGlvbnMpO1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uaW5nID0gdGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKTtcbiAgICB9XG5cbiAgICBnZXRMaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNlcmlhbGl6ZSgpO1xuICAgIH1cblxuICAgIHNldExpZ2h0KG9wdGlvbnM/OiBMaWdodFNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlTGlnaHQsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW25hbWVdO1xuICAgICAgICAgICAgaWYgKGVuZHNXaXRoKG5hbWUsIFRSQU5TSVRJT05fU1VGRklYKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24obmFtZS5zbGljZSgwLCAtVFJBTlNJVElPTl9TVUZGSVgubGVuZ3RoKSwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRWYWx1ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzOiBUcmFuc2l0aW9uUGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uaW5nID0gdGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKHBhcmFtZXRlcnMsIHRoaXMuX3RyYW5zaXRpb25pbmcpO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLmhhc1RyYW5zaXRpb24oKTtcbiAgICB9XG5cbiAgICByZWNhbGN1bGF0ZShwYXJhbWV0ZXJzOiBFdmFsdWF0aW9uUGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUocGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgX3ZhbGlkYXRlKHZhbGlkYXRlOiBGdW5jdGlvbiwgdmFsdWU6IG1peGVkKSB7XG4gICAgICAgIHJldHVybiBlbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLCB2YWxpZGF0ZS5jYWxsKHZhbGlkYXRlU3R5bGUsIGV4dGVuZCh7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMjQwN1xuICAgICAgICAgICAgc3R5bGU6IHtnbHlwaHM6IHRydWUsIHNwcml0ZTogdHJ1ZX0sXG4gICAgICAgICAgICBzdHlsZVNwZWM6IHN0eWxlU3BlY1xuICAgICAgICB9KSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlnaHQ7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyB3YXJuT25jZSB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dCc7XG5cbi8qKlxuICogQSBMaW5lQXRsYXMgbGV0cyB1cyByZXVzZSByZW5kZXJlZCBkYXNoZWQgbGluZXNcbiAqIGJ5IHdyaXRpbmcgbWFueSBvZiB0aGVtIHRvIGEgdGV4dHVyZSBhbmQgdGhlbiBmZXRjaGluZyB0aGVpciBwb3NpdGlvbnNcbiAqIHVzaW5nIC5nZXREYXNoLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgTGluZUF0bGFzIHtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIG5leHRSb3c6IG51bWJlcjtcbiAgICBieXRlczogbnVtYmVyO1xuICAgIGRhdGE6IFVpbnQ4QXJyYXk7XG4gICAgcG9zaXRpb25zOiB7W3N0cmluZ106IGFueX07XG4gICAgZGlydHk6IGJvb2xlYW47XG4gICAgdGV4dHVyZTogV2ViR0xUZXh0dXJlO1xuXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5uZXh0Um93ID0gMDtcblxuICAgICAgICB0aGlzLmJ5dGVzID0gNDtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQ4QXJyYXkodGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0ICogdGhpcy5ieXRlcyk7XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgb3IgY3JlYXRlIGEgZGFzaCBsaW5lIHBhdHRlcm4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGRhc2hhcnJheVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm91bmQgd2hldGhlciB0byBhZGQgY2lyY2xlIGNhcHMgaW4gYmV0d2VlbiBkYXNoIHNlZ21lbnRzXG4gICAgICogQHJldHVybnMge09iamVjdH0gcG9zaXRpb24gb2YgZGFzaCB0ZXh0dXJlIGluIHsgeSwgaGVpZ2h0LCB3aWR0aCB9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXREYXNoKGRhc2hhcnJheTogQXJyYXk8bnVtYmVyPiwgcm91bmQ6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZGFzaGFycmF5LmpvaW4oXCIsXCIpICsgU3RyaW5nKHJvdW5kKTtcblxuICAgICAgICBpZiAoIXRoaXMucG9zaXRpb25zW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25zW2tleV0gPSB0aGlzLmFkZERhc2goZGFzaGFycmF5LCByb3VuZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb25zW2tleV07XG4gICAgfVxuXG4gICAgYWRkRGFzaChkYXNoYXJyYXk6IEFycmF5PG51bWJlcj4sIHJvdW5kOiBib29sZWFuKSB7XG5cbiAgICAgICAgY29uc3QgbiA9IHJvdW5kID8gNyA6IDA7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDIgKiBuICsgMTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gMTI4O1xuXG4gICAgICAgIGlmICh0aGlzLm5leHRSb3cgKyBoZWlnaHQgPiB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgd2Fybk9uY2UoJ0xpbmVBdGxhcyBvdXQgb2Ygc3BhY2UnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGFzaGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gZGFzaGFycmF5W2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RyZXRjaCA9IHRoaXMud2lkdGggLyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHN0cmV0Y2ggLyAyO1xuXG4gICAgICAgIC8vIElmIGRhc2hhcnJheSBoYXMgYW4gb2RkIGxlbmd0aCwgYm90aCB0aGUgZmlyc3QgYW5kIGxhc3QgcGFydHNcbiAgICAgICAgLy8gYXJlIGRhc2hlcyBhbmQgc2hvdWxkIGJlIGpvaW5lZCBzZWFtbGVzc2x5LlxuICAgICAgICBjb25zdCBvZGRMZW5ndGggPSBkYXNoYXJyYXkubGVuZ3RoICUgMiA9PT0gMTtcblxuICAgICAgICBmb3IgKGxldCB5ID0gLW47IHkgPD0gbjsgeSsrKSB7XG4gICAgICAgICAgICBjb25zdCByb3cgPSB0aGlzLm5leHRSb3cgKyBuICsgeTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy53aWR0aCAqIHJvdztcblxuICAgICAgICAgICAgbGV0IGxlZnQgPSBvZGRMZW5ndGggPyAtZGFzaGFycmF5W2Rhc2hhcnJheS5sZW5ndGggLSAxXSA6IDA7XG4gICAgICAgICAgICBsZXQgcmlnaHQgPSBkYXNoYXJyYXlbMF07XG4gICAgICAgICAgICBsZXQgcGFydEluZGV4ID0gMTtcblxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChyaWdodCA8IHggLyBzdHJldGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSByaWdodDtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSByaWdodCArIGRhc2hhcnJheVtwYXJ0SW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvZGRMZW5ndGggJiYgcGFydEluZGV4ID09PSBkYXNoYXJyYXkubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQgKz0gZGFzaGFycmF5WzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdExlZnQgPSBNYXRoLmFicyh4IC0gbGVmdCAqIHN0cmV0Y2gpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RSaWdodCA9IE1hdGguYWJzKHggLSByaWdodCAqIHN0cmV0Y2gpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLm1pbihkaXN0TGVmdCwgZGlzdFJpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNpZGUgPSAocGFydEluZGV4ICUgMikgPT09IDE7XG4gICAgICAgICAgICAgICAgbGV0IHNpZ25lZERpc3RhbmNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBjaXJjbGUgY2Fwc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0TWlkZGxlID0gbiA/IHkgLyBuICogKGhhbGZXaWR0aCArIDEpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc2lkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdEVkZ2UgPSBoYWxmV2lkdGggLSBNYXRoLmFicyhkaXN0TWlkZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25lZERpc3RhbmNlID0gTWF0aC5zcXJ0KGRpc3QgKiBkaXN0ICsgZGlzdEVkZ2UgKiBkaXN0RWRnZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduZWREaXN0YW5jZSA9IGhhbGZXaWR0aCAtIE1hdGguc3FydChkaXN0ICogZGlzdCArIGRpc3RNaWRkbGUgKiBkaXN0TWlkZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25lZERpc3RhbmNlID0gKGluc2lkZSA/IDEgOiAtMSkgKiBkaXN0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVszICsgKGluZGV4ICsgeCkgKiA0XSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgc2lnbmVkRGlzdGFuY2UgKyBvZmZzZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvcyA9IHtcbiAgICAgICAgICAgIHk6ICh0aGlzLm5leHRSb3cgKyBuICsgMC41KSAvIHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgaGVpZ2h0OiAyICogbiAvIHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IGxlbmd0aFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubmV4dFJvdyArPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5SRVBFQVQpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuUkVQRUFUKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0aGlzLmRhdGEpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0aGlzLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMaW5lQXRsYXM7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyB1bmlxdWVJZCwgYXN5bmNBbGwgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IEFjdG9yIGZyb20gJy4vYWN0b3InO1xuXG5pbXBvcnQgdHlwZSBXb3JrZXJQb29sIGZyb20gJy4vd29ya2VyX3Bvb2wnO1xuXG4vKipcbiAqIFJlc3BvbnNpYmxlIGZvciBzZW5kaW5nIG1lc3NhZ2VzIGZyb20gYSB7QGxpbmsgU291cmNlfSB0byBhbiBhc3NvY2lhdGVkXG4gKiB7QGxpbmsgV29ya2VyU291cmNlfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBEaXNwYXRjaGVyIHtcbiAgICB3b3JrZXJQb29sOiBXb3JrZXJQb29sO1xuICAgIGFjdG9yczogQXJyYXk8QWN0b3I+O1xuICAgIGN1cnJlbnRBY3RvcjogbnVtYmVyO1xuICAgIGlkOiBudW1iZXI7XG5cbiAgICAvLyBleHBvc2VkIHRvIGFsbG93IHN0dWJiaW5nIGluIHVuaXQgdGVzdHNcbiAgICBzdGF0aWMgQWN0b3I6IENsYXNzPEFjdG9yPjtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmtlclBvb2w6IFdvcmtlclBvb2wsIHBhcmVudDogYW55KSB7XG4gICAgICAgIHRoaXMud29ya2VyUG9vbCA9IHdvcmtlclBvb2w7XG4gICAgICAgIHRoaXMuYWN0b3JzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudEFjdG9yID0gMDtcbiAgICAgICAgdGhpcy5pZCA9IHVuaXF1ZUlkKCk7XG4gICAgICAgIGNvbnN0IHdvcmtlcnMgPSB0aGlzLndvcmtlclBvb2wuYWNxdWlyZSh0aGlzLmlkKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB3b3JrZXIgPSB3b3JrZXJzW2ldO1xuICAgICAgICAgICAgY29uc3QgYWN0b3IgPSBuZXcgRGlzcGF0Y2hlci5BY3Rvcih3b3JrZXIsIHBhcmVudCwgdGhpcy5pZCk7XG4gICAgICAgICAgICBhY3Rvci5uYW1lID0gYFdvcmtlciAke2l9YDtcbiAgICAgICAgICAgIHRoaXMuYWN0b3JzLnB1c2goYWN0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnJvYWRjYXN0IGEgbWVzc2FnZSB0byBhbGwgV29ya2Vycy5cbiAgICAgKi9cbiAgICBicm9hZGNhc3QodHlwZTogc3RyaW5nLCBkYXRhOiBtaXhlZCwgY2I/OiBGdW5jdGlvbikge1xuICAgICAgICBjYiA9IGNiIHx8IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICBhc3luY0FsbCh0aGlzLmFjdG9ycywgKGFjdG9yLCBkb25lKSA9PiB7XG4gICAgICAgICAgICBhY3Rvci5zZW5kKHR5cGUsIGRhdGEsIGRvbmUpO1xuICAgICAgICB9LCBjYik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBhIG1lc3NhZ2UgdG8gYSBXb3JrZXIuXG4gICAgICogQHBhcmFtIHRhcmdldElEIFRoZSBJRCBvZiB0aGUgV29ya2VyIHRvIHdoaWNoIHRvIHNlbmQgdGhpcyBtZXNzYWdlLiBPbWl0IHRvIGFsbG93IHRoZSBkaXNwYXRjaGVyIHRvIGNob29zZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgSUQgb2YgdGhlIHdvcmtlciB0byB3aGljaCB0aGUgbWVzc2FnZSB3YXMgc2VudC5cbiAgICAgKi9cbiAgICBzZW5kKHR5cGU6IHN0cmluZywgZGF0YTogbWl4ZWQsIGNhbGxiYWNrPzogP0Z1bmN0aW9uLCB0YXJnZXRJRD86IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0SUQgIT09ICdudW1iZXInIHx8IGlzTmFOKHRhcmdldElEKSkge1xuICAgICAgICAgICAgLy8gVXNlIHJvdW5kIHJvYmluIHRvIHNlbmQgcmVxdWVzdHMgdG8gd2ViIHdvcmtlcnMuXG4gICAgICAgICAgICB0YXJnZXRJRCA9IHRoaXMuY3VycmVudEFjdG9yID0gKHRoaXMuY3VycmVudEFjdG9yICsgMSkgJSB0aGlzLmFjdG9ycy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdG9yc1t0YXJnZXRJRF0uc2VuZCh0eXBlLCBkYXRhLCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0YXJnZXRJRDtcbiAgICB9XG5cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuYWN0b3JzLmZvckVhY2goKGFjdG9yKSA9PiB7IGFjdG9yLnJlbW92ZSgpOyB9KTtcbiAgICAgICAgdGhpcy5hY3RvcnMgPSBbXTtcbiAgICAgICAgdGhpcy53b3JrZXJQb29sLnJlbGVhc2UodGhpcy5pZCk7XG4gICAgfVxufVxuXG5EaXNwYXRjaGVyLkFjdG9yID0gQWN0b3I7XG5cbmV4cG9ydCBkZWZhdWx0IERpc3BhdGNoZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCBMbmdMYXRCb3VuZHMgZnJvbSAnLi9sbmdfbGF0X2JvdW5kcyc7XG5cbi8qKlxuICogQSBgTG5nTGF0YCBvYmplY3QgcmVwcmVzZW50cyBhIGdpdmVuIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgY29vcmRpbmF0ZSwgbWVhc3VyZWQgaW4gZGVncmVlcy5cbiAqXG4gKiBNYXBib3ggR0wgdXNlcyBsb25naXR1ZGUsIGxhdGl0dWRlIGNvb3JkaW5hdGUgb3JkZXIgKGFzIG9wcG9zZWQgdG8gbGF0aXR1ZGUsIGxvbmdpdHVkZSkgdG8gbWF0Y2ggR2VvSlNPTi5cbiAqXG4gKiBOb3RlIHRoYXQgYW55IE1hcGJveCBHTCBtZXRob2QgdGhhdCBhY2NlcHRzIGEgYExuZ0xhdGAgb2JqZWN0IGFzIGFuIGFyZ3VtZW50IG9yIG9wdGlvblxuICogY2FuIGFsc28gYWNjZXB0IGFuIGBBcnJheWAgb2YgdHdvIG51bWJlcnMgYW5kIHdpbGwgcGVyZm9ybSBhbiBpbXBsaWNpdCBjb252ZXJzaW9uLlxuICogVGhpcyBmbGV4aWJsZSB0eXBlIGlzIGRvY3VtZW50ZWQgYXMge0BsaW5rIExuZ0xhdExpa2V9LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBsbmcgTG9uZ2l0dWRlLCBtZWFzdXJlZCBpbiBkZWdyZWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IGxhdCBMYXRpdHVkZSwgbWVhc3VyZWQgaW4gZGVncmVlcy5cbiAqIEBleGFtcGxlXG4gKiB2YXIgbGwgPSBuZXcgbWFwYm94Z2wuTG5nTGF0KC03My45NzQ5LCA0MC43NzM2KTtcbiAqIEBzZWUgW0dldCBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tb3VzZS1wb3NpdGlvbi8pXG4gKiBAc2VlIFtEaXNwbGF5IGEgcG9wdXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAvKVxuICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91c2luZy1ib3gtcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAqIEBzZWUgW0NyZWF0ZSBhIHRpbWVsaW5lIGFuaW1hdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90aW1lbGluZS1hbmltYXRpb24vKVxuICovXG5jbGFzcyBMbmdMYXQge1xuICAgIGxuZzogbnVtYmVyO1xuICAgIGxhdDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IobG5nOiBudW1iZXIsIGxhdDogbnVtYmVyKSB7XG4gICAgICAgIGlmIChpc05hTihsbmcpIHx8IGlzTmFOKGxhdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBMbmdMYXQgb2JqZWN0OiAoJHtsbmd9LCAke2xhdH0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sbmcgPSArbG5nO1xuICAgICAgICB0aGlzLmxhdCA9ICtsYXQ7XG4gICAgICAgIGlmICh0aGlzLmxhdCA+IDkwIHx8IHRoaXMubGF0IDwgLTkwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgTG5nTGF0IGxhdGl0dWRlIHZhbHVlOiBtdXN0IGJlIGJldHdlZW4gLTkwIGFuZCA5MCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBgTG5nTGF0YCBvYmplY3Qgd2hvc2UgbG9uZ2l0dWRlIGlzIHdyYXBwZWQgdG8gdGhlIHJhbmdlICgtMTgwLCAxODApLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIHdyYXBwZWQgYExuZ0xhdGAgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsID0gbmV3IG1hcGJveGdsLkxuZ0xhdCgyODYuMDI1MSwgNDAuNzczNik7XG4gICAgICogdmFyIHdyYXBwZWQgPSBsbC53cmFwKCk7XG4gICAgICogd3JhcHBlZC5sbmc7IC8vID0gLTczLjk3NDlcbiAgICAgKi9cbiAgICB3cmFwKCkge1xuICAgICAgICByZXR1cm4gbmV3IExuZ0xhdCh3cmFwKHRoaXMubG5nLCAtMTgwLCAxODApLCB0aGlzLmxhdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZXMgcmVwcmVzZW50ZWQgYXMgYW4gYXJyYXkgb2YgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8bnVtYmVyPn0gVGhlIGNvb3JkaW5hdGVzIHJlcHJlc2V0ZWQgYXMgYW4gYXJyYXkgb2YgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBsbCA9IG5ldyBtYXBib3hnbC5MbmdMYXQoLTczLjk3NDksIDQwLjc3MzYpO1xuICAgICAqIGxsLnRvQXJyYXkoKTsgLy8gPSBbLTczLjk3NDksIDQwLjc3MzZdXG4gICAgICovXG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmxuZywgdGhpcy5sYXRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvb3JkaW5hdGVzIHJlcHJlc2VudCBhcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb29yZGluYXRlcyByZXByZXNlbnRlZCBhcyBhIHN0cmluZyBvZiB0aGUgZm9ybWF0IGAnTG5nTGF0KGxuZywgbGF0KSdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsID0gbmV3IG1hcGJveGdsLkxuZ0xhdCgtNzMuOTc0OSwgNDAuNzczNik7XG4gICAgICogbGwudG9TdHJpbmcoKTsgLy8gPSBcIkxuZ0xhdCgtNzMuOTc0OSwgNDAuNzczNilcIlxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYExuZ0xhdCgke3RoaXMubG5nfSwgJHt0aGlzLmxhdH0pYDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgYExuZ0xhdEJvdW5kc2AgZnJvbSB0aGUgY29vcmRpbmF0ZXMgZXh0ZW5kZWQgYnkgYSBnaXZlbiBgcmFkaXVzYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgRGlzdGFuY2UgaW4gbWV0ZXJzIGZyb20gdGhlIGNvb3JkaW5hdGVzIHRvIGV4dGVuZCB0aGUgYm91bmRzLlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXRCb3VuZHN9IEEgbmV3IGBMbmdMYXRCb3VuZHNgIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGNvb3JkaW5hdGVzIGV4dGVuZGVkIGJ5IHRoZSBgcmFkaXVzYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBsbCA9IG5ldyBtYXBib3hnbC5MbmdMYXQoLTczLjk3NDksIDQwLjc3MzYpO1xuICAgICAqIGxsLnRvQm91bmRzKDEwMCkudG9BcnJheSgpOyAvLyA9IFtbLTczLjk3NTAxODYyMTQxMzI4LCA0MC43NzM1MTAxNjg0NzIyOV0sIFstNzMuOTc0NzgxMzc4NTg2NzMsIDQwLjc3MzY4OTgzMTUyNzcxXV1cbiAgICAgKi9cbiAgICB0b0JvdW5kcyhyYWRpdXM6IG51bWJlcikge1xuICAgICAgICBjb25zdCBlYXJ0aENpcmN1bWZlcmVuY2VJbk1ldGVyc0F0RXF1YXRvciA9IDQwMDc1MDE3O1xuICAgICAgICBjb25zdCBsYXRBY2N1cmFjeSA9IDM2MCAqIHJhZGl1cyAvIGVhcnRoQ2lyY3VtZmVyZW5jZUluTWV0ZXJzQXRFcXVhdG9yLFxuICAgICAgICAgICAgbG5nQWNjdXJhY3kgPSBsYXRBY2N1cmFjeSAvIE1hdGguY29zKChNYXRoLlBJIC8gMTgwKSAqIHRoaXMubGF0KTtcblxuICAgICAgICByZXR1cm4gbmV3IExuZ0xhdEJvdW5kcyhuZXcgTG5nTGF0KHRoaXMubG5nIC0gbG5nQWNjdXJhY3ksIHRoaXMubGF0IC0gbGF0QWNjdXJhY3kpLFxuICAgICAgICAgICAgbmV3IExuZ0xhdCh0aGlzLmxuZyArIGxuZ0FjY3VyYWN5LCB0aGlzLmxhdCArIGxhdEFjY3VyYWN5KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYW4gYXJyYXkgb2YgdHdvIG51bWJlcnMgdG8gYSBgTG5nTGF0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJZiBhIGBMbmdMYXRgIG9iamVjdCBpcyBwYXNzZWQgaW4sIHRoZSBmdW5jdGlvbiByZXR1cm5zIGl0IHVuY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gaW5wdXQgQW4gYXJyYXkgb2YgdHdvIG51bWJlcnMgdG8gY29udmVydCwgb3IgYSBgTG5nTGF0YCBvYmplY3QgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IEEgbmV3IGBMbmdMYXRgIG9iamVjdCwgaWYgYSBjb252ZXJzaW9uIG9jY3VycmVkLCBvciB0aGUgb3JpZ2luYWwgYExuZ0xhdGAgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGFyciA9IFstNzMuOTc0OSwgNDAuNzczNl07XG4gICAgICogdmFyIGxsID0gbWFwYm94Z2wuTG5nTGF0LmNvbnZlcnQoYXJyKTtcbiAgICAgKiBsbDsgICAvLyA9IExuZ0xhdCB7bG5nOiAtNzMuOTc0OSwgbGF0OiA0MC43NzM2fVxuICAgICAqL1xuICAgIHN0YXRpYyBjb252ZXJ0KGlucHV0OiBMbmdMYXRMaWtlKTogTG5nTGF0IHtcbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgTG5nTGF0KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpICYmIChpbnB1dC5sZW5ndGggPT09IDIgfHwgaW5wdXQubGVuZ3RoID09PSAzKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMbmdMYXQoTnVtYmVyKGlucHV0WzBdKSwgTnVtYmVyKGlucHV0WzFdKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSAmJiB0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIGlucHV0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExuZ0xhdChOdW1iZXIoaW5wdXQubG5nKSwgTnVtYmVyKGlucHV0LmxhdCkpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImBMbmdMYXRMaWtlYCBhcmd1bWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIExuZ0xhdCBpbnN0YW5jZSwgYW4gb2JqZWN0IHtsbmc6IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgb3IgYW4gYXJyYXkgb2YgWzxsbmc+LCA8bGF0Pl1cIik7XG4gICAgfVxufVxuXG4vKipcbiAqIEEge0BsaW5rIExuZ0xhdH0gb2JqZWN0LCBhbiBhcnJheSBvZiB0d28gbnVtYmVycyByZXByZXNlbnRpbmcgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSxcbiAqIG9yIGFuIG9iamVjdCB3aXRoIGBsbmdgIGFuZCBgbGF0YCBwcm9wZXJ0aWVzLlxuICpcbiAqIEB0eXBlZGVmIHtMbmdMYXQgfCB7bG5nOiBudW1iZXIsIGxhdDogbnVtYmVyfSB8IFtudW1iZXIsIG51bWJlcl19IExuZ0xhdExpa2VcbiAqIEBleGFtcGxlXG4gKiB2YXIgdjEgPSBuZXcgbWFwYm94Z2wuTG5nTGF0KC0xMjIuNDIwNjc5LCAzNy43NzI1MzcpO1xuICogdmFyIHYyID0gWy0xMjIuNDIwNjc5LCAzNy43NzI1MzddO1xuICovXG5leHBvcnQgdHlwZSBMbmdMYXRMaWtlID0gTG5nTGF0IHwge2xuZzogbnVtYmVyLCBsYXQ6IG51bWJlcn0gfCBbbnVtYmVyLCBudW1iZXJdO1xuXG5leHBvcnQgZGVmYXVsdCBMbmdMYXQ7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTG5nTGF0IGZyb20gJy4vbG5nX2xhdCc7XG5cbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tICcuL2xuZ19sYXQnO1xuXG4vKipcbiAqIEEgYExuZ0xhdEJvdW5kc2Agb2JqZWN0IHJlcHJlc2VudHMgYSBnZW9ncmFwaGljYWwgYm91bmRpbmcgYm94LFxuICogZGVmaW5lZCBieSBpdHMgc291dGh3ZXN0IGFuZCBub3J0aGVhc3QgcG9pbnRzIGluIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUuXG4gKlxuICogSWYgbm8gYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byB0aGUgY29uc3RydWN0b3IsIGEgYG51bGxgIGJvdW5kaW5nIGJveCBpcyBjcmVhdGVkLlxuICpcbiAqIE5vdGUgdGhhdCBhbnkgTWFwYm94IEdMIG1ldGhvZCB0aGF0IGFjY2VwdHMgYSBgTG5nTGF0Qm91bmRzYCBvYmplY3QgYXMgYW4gYXJndW1lbnQgb3Igb3B0aW9uXG4gKiBjYW4gYWxzbyBhY2NlcHQgYW4gYEFycmF5YCBvZiB0d28ge0BsaW5rIExuZ0xhdExpa2V9IGNvbnN0cnVjdHMgYW5kIHdpbGwgcGVyZm9ybSBhbiBpbXBsaWNpdCBjb252ZXJzaW9uLlxuICogVGhpcyBmbGV4aWJsZSB0eXBlIGlzIGRvY3VtZW50ZWQgYXMge0BsaW5rIExuZ0xhdEJvdW5kc0xpa2V9LlxuICpcbiAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gW3N3XSBUaGUgc291dGh3ZXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94LlxuICogQHBhcmFtIHtMbmdMYXRMaWtlfSBbbmVdIFRoZSBub3J0aGVhc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gKiBAZXhhbXBsZVxuICogdmFyIHN3ID0gbmV3IG1hcGJveGdsLkxuZ0xhdCgtNzMuOTg3NiwgNDAuNzY2MSk7XG4gKiB2YXIgbmUgPSBuZXcgbWFwYm94Z2wuTG5nTGF0KC03My45Mzk3LCA0MC44MDAyKTtcbiAqIHZhciBsbGIgPSBuZXcgbWFwYm94Z2wuTG5nTGF0Qm91bmRzKHN3LCBuZSk7XG4gKi9cbmNsYXNzIExuZ0xhdEJvdW5kcyB7XG4gICAgX25lOiBMbmdMYXQ7XG4gICAgX3N3OiBMbmdMYXQ7XG5cbiAgICAvLyBUaGlzIGNvbnN0cnVjdG9yIGlzIHRvbyBmbGV4aWJsZSB0byB0eXBlLiBJdCBzaG91bGQgbm90IGJlIHNvIGZsZXhpYmxlLlxuICAgIGNvbnN0cnVjdG9yKHN3OiBhbnksIG5lOiBhbnkpIHtcbiAgICAgICAgaWYgKCFzdykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKG5lKSB7XG4gICAgICAgICAgICB0aGlzLnNldFNvdXRoV2VzdChzdykuc2V0Tm9ydGhFYXN0KG5lKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdy5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U291dGhXZXN0KFtzd1swXSwgc3dbMV1dKS5zZXROb3J0aEVhc3QoW3N3WzJdLCBzd1szXV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRTb3V0aFdlc3Qoc3dbMF0pLnNldE5vcnRoRWFzdChzd1sxXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG5vcnRoZWFzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveFxuICAgICAqXG4gICAgICogQHBhcmFtIHtMbmdMYXRMaWtlfSBuZVxuICAgICAqIEByZXR1cm5zIHtMbmdMYXRCb3VuZHN9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldE5vcnRoRWFzdChuZTogTG5nTGF0TGlrZSkge1xuICAgICAgICB0aGlzLl9uZSA9IG5lIGluc3RhbmNlb2YgTG5nTGF0ID8gbmV3IExuZ0xhdChuZS5sbmcsIG5lLmxhdCkgOiBMbmdMYXQuY29udmVydChuZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc291dGh3ZXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdExpa2V9IHN3XG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kc30gYHRoaXNgXG4gICAgICovXG4gICAgc2V0U291dGhXZXN0KHN3OiBMbmdMYXRMaWtlKSB7XG4gICAgICAgIHRoaXMuX3N3ID0gc3cgaW5zdGFuY2VvZiBMbmdMYXQgPyBuZXcgTG5nTGF0KHN3LmxuZywgc3cubGF0KSA6IExuZ0xhdC5jb252ZXJ0KHN3KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0ZW5kIHRoZSBib3VuZHMgdG8gaW5jbHVkZSBhIGdpdmVuIExuZ0xhdCBvciBMbmdMYXRCb3VuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdHxMbmdMYXRCb3VuZHN9IG9iaiBvYmplY3QgdG8gZXh0ZW5kIHRvXG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kc30gYHRoaXNgXG4gICAgICovXG4gICAgZXh0ZW5kKG9iajogTG5nTGF0IHwgTG5nTGF0Qm91bmRzKSB7XG4gICAgICAgIGNvbnN0IHN3ID0gdGhpcy5fc3csXG4gICAgICAgICAgICBuZSA9IHRoaXMuX25lO1xuICAgICAgICBsZXQgc3cyLCBuZTI7XG5cbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIExuZ0xhdCkge1xuICAgICAgICAgICAgc3cyID0gb2JqO1xuICAgICAgICAgICAgbmUyID0gb2JqO1xuXG4gICAgICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgTG5nTGF0Qm91bmRzKSB7XG4gICAgICAgICAgICBzdzIgPSBvYmouX3N3O1xuICAgICAgICAgICAgbmUyID0gb2JqLl9uZTtcblxuICAgICAgICAgICAgaWYgKCFzdzIgfHwgIW5lMikgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqLmV2ZXJ5KEFycmF5LmlzQXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuZChMbmdMYXRCb3VuZHMuY29udmVydChvYmopKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbmQoTG5nTGF0LmNvbnZlcnQob2JqKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN3ICYmICFuZSkge1xuICAgICAgICAgICAgdGhpcy5fc3cgPSBuZXcgTG5nTGF0KHN3Mi5sbmcsIHN3Mi5sYXQpO1xuICAgICAgICAgICAgdGhpcy5fbmUgPSBuZXcgTG5nTGF0KG5lMi5sbmcsIG5lMi5sYXQpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdy5sbmcgPSBNYXRoLm1pbihzdzIubG5nLCBzdy5sbmcpO1xuICAgICAgICAgICAgc3cubGF0ID0gTWF0aC5taW4oc3cyLmxhdCwgc3cubGF0KTtcbiAgICAgICAgICAgIG5lLmxuZyA9IE1hdGgubWF4KG5lMi5sbmcsIG5lLmxuZyk7XG4gICAgICAgICAgICBuZS5sYXQgPSBNYXRoLm1heChuZTIubGF0LCBuZS5sYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUgZXF1aWRpc3RhbnQgZnJvbSB0aGUgYm91bmRpbmcgYm94J3MgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IFRoZSBib3VuZGluZyBib3gncyBjZW50ZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgbGxiID0gbmV3IG1hcGJveGdsLkxuZ0xhdEJvdW5kcyhbLTczLjk4NzYsIDQwLjc2NjFdLCBbLTczLjkzOTcsIDQwLjgwMDJdKTtcbiAgICAgKiBsbGIuZ2V0Q2VudGVyKCk7IC8vID0gTG5nTGF0IHtsbmc6IC03My45NjM2NSwgbGF0OiA0MC43ODMxNX1cbiAgICAgKi9cbiAgICBnZXRDZW50ZXIoKTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBMbmdMYXQoKHRoaXMuX3N3LmxuZyArIHRoaXMuX25lLmxuZykgLyAyLCAodGhpcy5fc3cubGF0ICsgdGhpcy5fbmUubGF0KSAvIDIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNvdXRod2VzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IFRoZSBzb3V0aHdlc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgICovXG4gICAgZ2V0U291dGhXZXN0KCk6IExuZ0xhdCB7IHJldHVybiB0aGlzLl9zdzsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBub3J0aGVhc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIG5vcnRoZWFzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXROb3J0aEVhc3QoKTogTG5nTGF0IHsgcmV0dXJuIHRoaXMuX25lOyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIG5vcnRod2VzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7TG5nTGF0fSBUaGUgbm9ydGh3ZXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqL1xuICAgIGdldE5vcnRoV2VzdCgpOiBMbmdMYXQgeyByZXR1cm4gbmV3IExuZ0xhdCh0aGlzLmdldFdlc3QoKSwgdGhpcy5nZXROb3J0aCgpKTsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBzb3V0aGVhc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIHNvdXRoZWFzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXRTb3V0aEVhc3QoKTogTG5nTGF0IHsgcmV0dXJuIG5ldyBMbmdMYXQodGhpcy5nZXRFYXN0KCksIHRoaXMuZ2V0U291dGgoKSk7IH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgd2VzdCBlZGdlIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge251bWJlcn0gVGhlIHdlc3QgZWRnZSBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqL1xuICAgIGdldFdlc3QoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3N3LmxuZzsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBzb3V0aCBlZGdlIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge251bWJlcn0gVGhlIHNvdXRoIGVkZ2Ugb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXRTb3V0aCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fc3cubGF0OyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIGVhc3QgZWRnZSBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICpcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBlYXN0IGVkZ2Ugb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXRFYXN0KCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9uZS5sbmc7IH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgbm9ydGggZWRnZSBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICpcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBub3J0aCBlZGdlIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgICovXG4gICAgZ2V0Tm9ydGgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX25lLmxhdDsgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYm91bmRpbmcgYm94IHJlcHJlc2VudGVkIGFzIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5PEFycmF5PG51bWJlcj4+fSBUaGUgYm91bmRpbmcgYm94IHJlcHJlc2VudGVkIGFzIGFuIGFycmF5LCBjb25zaXN0aW5nIG9mIHRoZVxuICAgICAqICAgc291dGh3ZXN0IGFuZCBub3J0aGVhc3QgY29vcmRpbmF0ZXMgb2YgdGhlIGJvdW5kaW5nIHJlcHJlc2VudGVkIGFzIGFycmF5cyBvZiBudW1iZXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsYiA9IG5ldyBtYXBib3hnbC5MbmdMYXRCb3VuZHMoWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXSk7XG4gICAgICogbGxiLnRvQXJyYXkoKTsgLy8gPSBbWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXV1cbiAgICAgKi9cbiAgICB0b0FycmF5KCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuX3N3LnRvQXJyYXkoKSwgdGhpcy5fbmUudG9BcnJheSgpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGJvdW5kaW5nIGJveCByZXByZXNlbnRlZCBhcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBib3VuZGluZyBib3ggcmVwcmVzZW50cyBhcyBhIHN0cmluZyBvZiB0aGUgZm9ybWF0XG4gICAgICogICBgJ0xuZ0xhdEJvdW5kcyhMbmdMYXQobG5nLCBsYXQpLCBMbmdMYXQobG5nLCBsYXQpKSdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsYiA9IG5ldyBtYXBib3hnbC5MbmdMYXRCb3VuZHMoWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXSk7XG4gICAgICogbGxiLnRvU3RyaW5nKCk7IC8vID0gXCJMbmdMYXRCb3VuZHMoTG5nTGF0KC03My45ODc2LCA0MC43NjYxKSwgTG5nTGF0KC03My45Mzk3LCA0MC44MDAyKSlcIlxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYExuZ0xhdEJvdW5kcygke3RoaXMuX3N3LnRvU3RyaW5nKCl9LCAke3RoaXMuX25lLnRvU3RyaW5nKCl9KWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIGJveCBpcyBhbiBlbXB0eS9gbnVsbGAtdHlwZSBib3guXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBib3VuZHMgaGF2ZSBiZWVuIGRlZmluZWQsIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gISh0aGlzLl9zdyAmJiB0aGlzLl9uZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYW4gYXJyYXkgdG8gYSBgTG5nTGF0Qm91bmRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJZiBhIGBMbmdMYXRCb3VuZHNgIG9iamVjdCBpcyBwYXNzZWQgaW4sIHRoZSBmdW5jdGlvbiByZXR1cm5zIGl0IHVuY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEludGVybmFsbHksIHRoZSBmdW5jdGlvbiBjYWxscyBgTG5nTGF0I2NvbnZlcnRgIHRvIGNvbnZlcnQgYXJyYXlzIHRvIGBMbmdMYXRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0Qm91bmRzTGlrZX0gaW5wdXQgQW4gYXJyYXkgb2YgdHdvIGNvb3JkaW5hdGVzIHRvIGNvbnZlcnQsIG9yIGEgYExuZ0xhdEJvdW5kc2Agb2JqZWN0IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0Qm91bmRzfSBBIG5ldyBgTG5nTGF0Qm91bmRzYCBvYmplY3QsIGlmIGEgY29udmVyc2lvbiBvY2N1cnJlZCwgb3IgdGhlIG9yaWdpbmFsIGBMbmdMYXRCb3VuZHNgIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBhcnIgPSBbWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXV07XG4gICAgICogdmFyIGxsYiA9IG1hcGJveGdsLkxuZ0xhdEJvdW5kcy5jb252ZXJ0KGFycik7XG4gICAgICogbGxiOyAgIC8vID0gTG5nTGF0Qm91bmRzIHtfc3c6IExuZ0xhdCB7bG5nOiAtNzMuOTg3NiwgbGF0OiA0MC43NjYxfSwgX25lOiBMbmdMYXQge2xuZzogLTczLjkzOTcsIGxhdDogNDAuODAwMn19XG4gICAgICovXG4gICAgc3RhdGljIGNvbnZlcnQoaW5wdXQ6IExuZ0xhdEJvdW5kc0xpa2UpOiBMbmdMYXRCb3VuZHMge1xuICAgICAgICBpZiAoIWlucHV0IHx8IGlucHV0IGluc3RhbmNlb2YgTG5nTGF0Qm91bmRzKSByZXR1cm4gaW5wdXQ7XG4gICAgICAgIHJldHVybiBuZXcgTG5nTGF0Qm91bmRzKGlucHV0KTtcbiAgICB9XG59XG5cbi8qKlxuICogQSB7QGxpbmsgTG5nTGF0Qm91bmRzfSBvYmplY3QsIGFuIGFycmF5IG9mIHtAbGluayBMbmdMYXRMaWtlfSBvYmplY3RzIGluIFtzdywgbmVdIG9yZGVyLFxuICogb3IgYW4gYXJyYXkgb2YgbnVtYmVycyBpbiBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBvcmRlci5cbiAqXG4gKiBAdHlwZWRlZiB7TG5nTGF0Qm91bmRzIHwgW0xuZ0xhdExpa2UsIExuZ0xhdExpa2VdIHwgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl19IExuZ0xhdEJvdW5kc0xpa2VcbiAqIEBleGFtcGxlXG4gKiB2YXIgdjEgPSBuZXcgbWFwYm94Z2wuTG5nTGF0Qm91bmRzKFxuICogICBuZXcgbWFwYm94Z2wuTG5nTGF0KC03My45ODc2LCA0MC43NjYxKSxcbiAqICAgbmV3IG1hcGJveGdsLkxuZ0xhdCgtNzMuOTM5NywgNDAuODAwMilcbiAqICk7XG4gKiB2YXIgdjIgPSBuZXcgbWFwYm94Z2wuTG5nTGF0Qm91bmRzKFstNzMuOTg3NiwgNDAuNzY2MV0sIFstNzMuOTM5NywgNDAuODAwMl0pXG4gKiB2YXIgdjMgPSBbWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXV07XG4gKi9cbmV4cG9ydCB0eXBlIExuZ0xhdEJvdW5kc0xpa2UgPSBMbmdMYXRCb3VuZHMgfCBbTG5nTGF0TGlrZSwgTG5nTGF0TGlrZV0gfCBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcblxuZXhwb3J0IGRlZmF1bHQgTG5nTGF0Qm91bmRzO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuLi9nZW8vbG5nX2xhdF9ib3VuZHMnO1xuXG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIHtDYW5vbmljYWxUaWxlSUR9IGZyb20gJy4vdGlsZV9pZCc7XG5cbmNsYXNzIFRpbGVCb3VuZHMge1xuICAgIGJvdW5kczogTG5nTGF0Qm91bmRzO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihib3VuZHM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLCBtaW56b29tOiA/bnVtYmVyLCBtYXh6b29tOiA/bnVtYmVyKSB7XG4gICAgICAgIHRoaXMuYm91bmRzID0gTG5nTGF0Qm91bmRzLmNvbnZlcnQodGhpcy52YWxpZGF0ZUJvdW5kcyhib3VuZHMpKTtcbiAgICAgICAgdGhpcy5taW56b29tID0gbWluem9vbSB8fCAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSBtYXh6b29tIHx8IDI0O1xuICAgIH1cblxuICAgIHZhbGlkYXRlQm91bmRzKGJvdW5kczogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBib3VuZHMgcHJvcGVydHkgY29udGFpbnMgdmFsaWQgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZXNcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGJvdW5kcykgfHwgYm91bmRzLmxlbmd0aCAhPT0gNCkgcmV0dXJuIFstMTgwLCAtOTAsIDE4MCwgOTBdO1xuICAgICAgICByZXR1cm4gW01hdGgubWF4KC0xODAsIGJvdW5kc1swXSksIE1hdGgubWF4KC05MCwgYm91bmRzWzFdKSwgTWF0aC5taW4oMTgwLCBib3VuZHNbMl0pLCBNYXRoLm1pbig5MCwgYm91bmRzWzNdKV07XG4gICAgfVxuXG4gICAgY29udGFpbnModGlsZUlEOiBDYW5vbmljYWxUaWxlSUQpIHtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSB7XG4gICAgICAgICAgICBtaW5YOiBNYXRoLmZsb29yKHRoaXMubG5nWCh0aGlzLmJvdW5kcy5nZXRXZXN0KCksIHRpbGVJRC56KSksXG4gICAgICAgICAgICBtaW5ZOiBNYXRoLmZsb29yKHRoaXMubGF0WSh0aGlzLmJvdW5kcy5nZXROb3J0aCgpLCB0aWxlSUQueikpLFxuICAgICAgICAgICAgbWF4WDogTWF0aC5jZWlsKHRoaXMubG5nWCh0aGlzLmJvdW5kcy5nZXRFYXN0KCksIHRpbGVJRC56KSksXG4gICAgICAgICAgICBtYXhZOiBNYXRoLmNlaWwodGhpcy5sYXRZKHRoaXMuYm91bmRzLmdldFNvdXRoKCksIHRpbGVJRC56KSlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGl0ID0gdGlsZUlELnggPj0gbGV2ZWwubWluWCAmJiB0aWxlSUQueCA8IGxldmVsLm1heFggJiYgdGlsZUlELnkgPj0gbGV2ZWwubWluWSAmJiB0aWxlSUQueSA8IGxldmVsLm1heFk7XG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfVxuXG4gICAgbG5nWChsbmc6IG51bWJlciwgem9vbTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiAobG5nICsgMTgwKSAqIChNYXRoLnBvdygyLCB6b29tKSAvIDM2MCk7XG4gICAgfVxuXG4gICAgbGF0WShsYXQ6IG51bWJlciwgem9vbTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGYgPSBjbGFtcChNYXRoLnNpbihNYXRoLlBJIC8gMTgwICogbGF0KSwgLTAuOTk5OSwgMC45OTk5KTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLnBvdygyLCB6b29tKSAvICgyICogTWF0aC5QSSk7XG4gICAgICAgIHJldHVybiBNYXRoLnBvdygyLCB6b29tIC0gMSkgKyAwLjUgKiBNYXRoLmxvZygoMSArIGYpIC8gKDEgLSBmKSkgKiAtc2NhbGU7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlQm91bmRzO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgRXZlbnQsIEVycm9yRXZlbnQsIEV2ZW50ZWQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuXG5pbXBvcnQgeyBleHRlbmQsIHBpY2sgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IGxvYWRUaWxlSlNPTiBmcm9tICcuL2xvYWRfdGlsZWpzb24nO1xuaW1wb3J0IHsgbm9ybWFsaXplVGlsZVVSTCBhcyBub3JtYWxpemVVUkwgfSBmcm9tICcuLi91dGlsL21hcGJveCc7XG5pbXBvcnQgVGlsZUJvdW5kcyBmcm9tICcuL3RpbGVfYm91bmRzJztcbmltcG9ydCB7IFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlfSBmcm9tICcuL3NvdXJjZSc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5cbmNsYXNzIFZlY3RvclRpbGVTb3VyY2UgZXh0ZW5kcyBFdmVudGVkIGltcGxlbWVudHMgU291cmNlIHtcbiAgICB0eXBlOiAndmVjdG9yJztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgc2NoZW1lOiBzdHJpbmc7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcblxuICAgIF9vcHRpb25zOiBWZWN0b3JTb3VyY2VTcGVjaWZpY2F0aW9uO1xuICAgIF9jb2xsZWN0UmVzb3VyY2VUaW1pbmc6IGJvb2xlYW47XG4gICAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgICBtYXA6IE1hcDtcbiAgICBib3VuZHM6ID9bbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcbiAgICB0aWxlczogQXJyYXk8c3RyaW5nPjtcbiAgICB0aWxlQm91bmRzOiBUaWxlQm91bmRzO1xuICAgIHJlcGFyc2VPdmVyc2NhbGVkOiBib29sZWFuO1xuICAgIGlzVGlsZUNsaXBwZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBWZWN0b3JTb3VyY2VTcGVjaWZpY2F0aW9uICYge2NvbGxlY3RSZXNvdXJjZVRpbWluZzogYm9vbGVhbn0sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuXG4gICAgICAgIHRoaXMudHlwZSA9ICd2ZWN0b3InO1xuICAgICAgICB0aGlzLm1pbnpvb20gPSAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5zY2hlbWUgPSAneHl6JztcbiAgICAgICAgdGhpcy50aWxlU2l6ZSA9IDUxMjtcbiAgICAgICAgdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNUaWxlQ2xpcHBlZCA9IHRydWU7XG5cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHBpY2sob3B0aW9ucywgWyd1cmwnLCAnc2NoZW1lJywgJ3RpbGVTaXplJ10pKTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGV4dGVuZCh7IHR5cGU6ICd2ZWN0b3InIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyA9IG9wdGlvbnMuY29sbGVjdFJlc291cmNlVGltaW5nO1xuXG4gICAgICAgIGlmICh0aGlzLnRpbGVTaXplICE9PSA1MTIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndmVjdG9yIHRpbGUgc291cmNlcyBtdXN0IGhhdmUgYSB0aWxlU2l6ZSBvZiA1MTInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0RXZlbnRlZFBhcmVudChldmVudGVkUGFyZW50KTtcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG5cbiAgICAgICAgbG9hZFRpbGVKU09OKHRoaXMuX29wdGlvbnMsIHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0LCAoZXJyLCB0aWxlSlNPTikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGlsZUpTT04pIHtcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgdGlsZUpTT04pO1xuICAgICAgICAgICAgICAgIGlmICh0aWxlSlNPTi5ib3VuZHMpIHRoaXMudGlsZUJvdW5kcyA9IG5ldyBUaWxlQm91bmRzKHRpbGVKU09OLmJvdW5kcywgdGhpcy5taW56b29tLCB0aGlzLm1heHpvb20pO1xuXG4gICAgICAgICAgICAgICAgLy8gYGNvbnRlbnRgIGlzIGluY2x1ZGVkIGhlcmUgdG8gcHJldmVudCBhIHJhY2UgY29uZGl0aW9uIHdoZXJlIGBTdHlsZSNfdXBkYXRlU291cmNlc2AgaXMgY2FsbGVkXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIHRoZSBUaWxlSlNPTiBhcnJpdmVzLiB0aGlzIG1ha2VzIHN1cmUgdGhlIHRpbGVzIG5lZWRlZCBhcmUgbG9hZGVkIG9uY2UgVGlsZUpTT04gYXJyaXZlc1xuICAgICAgICAgICAgICAgIC8vIHJlZjogaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvcHVsbC80MzQ3I2Rpc2N1c3Npb25fcjEwNDQxODA4OFxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ30pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50J30pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFzVGlsZSh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLnRpbGVCb3VuZHMgfHwgdGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKHRpbGVJRC5jYW5vbmljYWwpO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIHRoaXMuX29wdGlvbnMpO1xuICAgIH1cblxuICAgIGxvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICBjb25zdCBvdmVyc2NhbGluZyA9IHRpbGUudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpO1xuICAgICAgICBjb25zdCB1cmwgPSBub3JtYWxpemVVUkwodGlsZS50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLCB0aGlzLnNjaGVtZSksIHRoaXMudXJsKTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgcmVxdWVzdDogdGhpcy5tYXAuX3RyYW5zZm9ybVJlcXVlc3QodXJsLCBSZXNvdXJjZVR5cGUuVGlsZSksXG4gICAgICAgICAgICB1aWQ6IHRpbGUudWlkLFxuICAgICAgICAgICAgdGlsZUlEOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgIHpvb206IHRpbGUudGlsZUlELm92ZXJzY2FsZWRaLFxuICAgICAgICAgICAgdGlsZVNpemU6IHRoaXMudGlsZVNpemUgKiBvdmVyc2NhbGluZyxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgIHBpeGVsUmF0aW86IGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIG92ZXJzY2FsaW5nOiBvdmVyc2NhbGluZyxcbiAgICAgICAgICAgIHNob3dDb2xsaXNpb25Cb3hlczogdGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzLFxuICAgICAgICB9O1xuICAgICAgICBwYXJhbXMucmVxdWVzdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcgPSB0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc7XG5cbiAgICAgICAgaWYgKHRpbGUud29ya2VySUQgPT09IHVuZGVmaW5lZCB8fCB0aWxlLnN0YXRlID09PSAnZXhwaXJlZCcpIHtcbiAgICAgICAgICAgIHRpbGUud29ya2VySUQgPSB0aGlzLmRpc3BhdGNoZXIuc2VuZCgnbG9hZFRpbGUnLCBwYXJhbXMsIGRvbmUuYmluZCh0aGlzKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGlsZS5zdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICAgICAgICAvLyBzY2hlZHVsZSB0aWxlIHJlbG9hZGluZyBhZnRlciBpdCBoYXMgYmVlbiBsb2FkZWRcbiAgICAgICAgICAgIHRpbGUucmVsb2FkQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zZW5kKCdyZWxvYWRUaWxlJywgcGFyYW1zLCBkb25lLmJpbmQodGhpcyksIHRpbGUud29ya2VySUQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZG9uZShlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmICh0aWxlLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuXG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEucmVzb3VyY2VUaW1pbmcpXG4gICAgICAgICAgICAgICAgdGlsZS5yZXNvdXJjZVRpbWluZyA9IGRhdGEucmVzb3VyY2VUaW1pbmc7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcykgdGlsZS5zZXRFeHBpcnlEYXRhKGRhdGEpO1xuICAgICAgICAgICAgdGlsZS5sb2FkVmVjdG9yRGF0YShkYXRhLCB0aGlzLm1hcC5wYWludGVyKTtcblxuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG5cbiAgICAgICAgICAgIGlmICh0aWxlLnJlbG9hZENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkVGlsZSh0aWxlLCB0aWxlLnJlbG9hZENhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB0aWxlLnJlbG9hZENhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFib3J0VGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zZW5kKCdhYm9ydFRpbGUnLCB7IHVpZDogdGlsZS51aWQsIHR5cGU6IHRoaXMudHlwZSwgc291cmNlOiB0aGlzLmlkIH0sIHVuZGVmaW5lZCwgdGlsZS53b3JrZXJJRCk7XG4gICAgfVxuXG4gICAgdW5sb2FkVGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIHRpbGUudW5sb2FkVmVjdG9yRGF0YSgpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuc2VuZCgncmVtb3ZlVGlsZScsIHsgdWlkOiB0aWxlLnVpZCwgdHlwZTogdGhpcy50eXBlLCBzb3VyY2U6IHRoaXMuaWQgfSwgdW5kZWZpbmVkLCB0aWxlLndvcmtlcklEKTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JUaWxlU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgZXh0ZW5kLCBwaWNrIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHsgZ2V0SW1hZ2UsIFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgeyBFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgbG9hZFRpbGVKU09OIGZyb20gJy4vbG9hZF90aWxlanNvbic7XG5pbXBvcnQgeyBub3JtYWxpemVUaWxlVVJMIGFzIG5vcm1hbGl6ZVVSTCB9IGZyb20gJy4uL3V0aWwvbWFwYm94JztcbmltcG9ydCBUaWxlQm91bmRzIGZyb20gJy4vdGlsZV9ib3VuZHMnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vcmVuZGVyL3RleHR1cmUnO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlfSBmcm9tICcuL3NvdXJjZSc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5cbmNsYXNzIFJhc3RlclRpbGVTb3VyY2UgZXh0ZW5kcyBFdmVudGVkIGltcGxlbWVudHMgU291cmNlIHtcbiAgICB0eXBlOiAncmFzdGVyJyB8ICdyYXN0ZXItZGVtJztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgc2NoZW1lOiBzdHJpbmc7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcblxuICAgIGJvdW5kczogP1tudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICAgIHRpbGVCb3VuZHM6IFRpbGVCb3VuZHM7XG4gICAgcm91bmRab29tOiBib29sZWFuO1xuICAgIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gICAgbWFwOiBNYXA7XG4gICAgdGlsZXM6IEFycmF5PHN0cmluZz47XG5cbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9vcHRpb25zOiBSYXN0ZXJTb3VyY2VTcGVjaWZpY2F0aW9uIHwgUmFzdGVyREVNU291cmNlU3BlY2lmaWNhdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IFJhc3RlclNvdXJjZVNwZWNpZmljYXRpb24gfCBSYXN0ZXJERU1Tb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcbiAgICAgICAgdGhpcy5zZXRFdmVudGVkUGFyZW50KGV2ZW50ZWRQYXJlbnQpO1xuXG4gICAgICAgIHRoaXMudHlwZSA9ICdyYXN0ZXInO1xuICAgICAgICB0aGlzLm1pbnpvb20gPSAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5yb3VuZFpvb20gPSB0cnVlO1xuICAgICAgICB0aGlzLnNjaGVtZSA9ICd4eXonO1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gNTEyO1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9vcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICAgICAgZXh0ZW5kKHRoaXMsIHBpY2sob3B0aW9ucywgWyd1cmwnLCAnc2NoZW1lJywgJ3RpbGVTaXplJ10pKTtcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIGxvYWRUaWxlSlNPTih0aGlzLl9vcHRpb25zLCB0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdCwgKGVyciwgdGlsZUpTT04pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRpbGVKU09OKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsIHRpbGVKU09OKTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZUpTT04uYm91bmRzKSB0aGlzLnRpbGVCb3VuZHMgPSBuZXcgVGlsZUJvdW5kcyh0aWxlSlNPTi5ib3VuZHMsIHRoaXMubWluem9vbSwgdGhpcy5tYXh6b29tKTtcblxuICAgICAgICAgICAgICAgIC8vIGBjb250ZW50YCBpcyBpbmNsdWRlZCBoZXJlIHRvIHByZXZlbnQgYSByYWNlIGNvbmRpdGlvbiB3aGVyZSBgU3R5bGUjX3VwZGF0ZVNvdXJjZXNgIGlzIGNhbGxlZFxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZSB0aGUgVGlsZUpTT04gYXJyaXZlcy4gdGhpcyBtYWtlcyBzdXJlIHRoZSB0aWxlcyBuZWVkZWQgYXJlIGxvYWRlZCBvbmNlIFRpbGVKU09OIGFycml2ZXNcbiAgICAgICAgICAgICAgICAvLyByZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL3B1bGwvNDM0NyNkaXNjdXNzaW9uX3IxMDQ0MTgwODhcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdtZXRhZGF0YSd9KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3NvdXJjZScsIHNvdXJjZURhdGFUeXBlOiAnY29udGVudCd9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIHRoaXMuX29wdGlvbnMpO1xuICAgIH1cblxuICAgIGhhc1RpbGUodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy50aWxlQm91bmRzIHx8IHRoaXMudGlsZUJvdW5kcy5jb250YWlucyh0aWxlSUQuY2Fub25pY2FsKTtcbiAgICB9XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgY29uc3QgdXJsID0gbm9ybWFsaXplVVJMKHRpbGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcywgdGhpcy5zY2hlbWUpLCB0aGlzLnVybCwgdGhpcy50aWxlU2l6ZSk7XG4gICAgICAgIHRpbGUucmVxdWVzdCA9IGdldEltYWdlKHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlRpbGUpLCAoZXJyLCBpbWcpID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aWxlLnJlcXVlc3Q7XG5cbiAgICAgICAgICAgIGlmICh0aWxlLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdlcnJvcmVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbWcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMpIHRpbGUuc2V0RXhwaXJ5RGF0YShpbWcpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAoaW1nOiBhbnkpLmNhY2hlQ29udHJvbDtcbiAgICAgICAgICAgICAgICBkZWxldGUgKGltZzogYW55KS5leHBpcmVzO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMubWFwLnBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gdGhpcy5tYXAucGFpbnRlci5nZXRUaWxlVGV4dHVyZShpbWcud2lkdGgpO1xuICAgICAgICAgICAgICAgIGlmICh0aWxlLnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFLCBnbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO1xuICAgICAgICAgICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGltZyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgaW1nLCBnbC5SR0JBKTtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFLCBnbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyZihnbC5URVhUVVJFXzJELCBjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCwgY29udGV4dC5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xuXG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdsb2FkZWQnO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFib3J0VGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgaWYgKHRpbGUucmVxdWVzdCkge1xuICAgICAgICAgICAgdGlsZS5yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICBkZWxldGUgdGlsZS5yZXF1ZXN0O1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgdW5sb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgaWYgKHRpbGUudGV4dHVyZSkgdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUodGlsZS50ZXh0dXJlKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSYXN0ZXJUaWxlU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgZ2V0SW1hZ2UsIFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgeyBub3JtYWxpemVUaWxlVVJMIGFzIG5vcm1hbGl6ZVVSTCB9IGZyb20gJy4uL3V0aWwvbWFwYm94JztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgeyBPdmVyc2NhbGVkVGlsZUlEIH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCBSYXN0ZXJUaWxlU291cmNlIGZyb20gJy4vcmFzdGVyX3RpbGVfc291cmNlJztcbi8vIGVuc3VyZSBERU1EYXRhIGlzIHJlZ2lzdGVyZWQgZm9yIHdvcmtlciB0cmFuc2ZlciBvbiBtYWluIHRocmVhZDpcbmltcG9ydCAnLi4vZGF0YS9kZW1fZGF0YSc7XG5cbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuXG5cbmNsYXNzIFJhc3RlckRFTVRpbGVTb3VyY2UgZXh0ZW5kcyBSYXN0ZXJUaWxlU291cmNlIGltcGxlbWVudHMgU291cmNlIHtcbiAgICBlbmNvZGluZzogXCJtYXBib3hcIiB8IFwidGVycmFyaXVtXCI7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBSYXN0ZXJERU1Tb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKGlkLCBvcHRpb25zLCBkaXNwYXRjaGVyLCBldmVudGVkUGFyZW50KTtcbiAgICAgICAgdGhpcy50eXBlID0gJ3Jhc3Rlci1kZW0nO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nIHx8IFwibWFwYm94XCI7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3Jhc3Rlci1kZW0nLFxuICAgICAgICAgICAgdXJsOiB0aGlzLnVybCxcbiAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgdGlsZXM6IHRoaXMudGlsZXMsXG4gICAgICAgICAgICBib3VuZHM6IHRoaXMuYm91bmRzLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IHRoaXMuZW5jb2RpbmdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgY29uc3QgdXJsID0gbm9ybWFsaXplVVJMKHRpbGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcywgdGhpcy5zY2hlbWUpLCB0aGlzLnVybCwgdGhpcy50aWxlU2l6ZSk7XG4gICAgICAgIHRpbGUucmVxdWVzdCA9IGdldEltYWdlKHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlRpbGUpLCBpbWFnZUxvYWRlZC5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aWxlLm5laWdoYm9yaW5nVGlsZXMgPSB0aGlzLl9nZXROZWlnaGJvcmluZ1RpbGVzKHRpbGUudGlsZUlEKTtcbiAgICAgICAgZnVuY3Rpb24gaW1hZ2VMb2FkZWQoZXJyLCBpbWcpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aWxlLnJlcXVlc3Q7XG4gICAgICAgICAgICBpZiAodGlsZS5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnZXJyb3JlZCc7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzKSB0aWxlLnNldEV4cGlyeURhdGEoaW1nKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgKGltZzogYW55KS5jYWNoZUNvbnRyb2w7XG4gICAgICAgICAgICAgICAgZGVsZXRlIChpbWc6IGFueSkuZXhwaXJlcztcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJhd0ltYWdlRGF0YSA9IGJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGltZyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICB1aWQ6IHRpbGUudWlkLFxuICAgICAgICAgICAgICAgICAgICBjb29yZDogdGlsZS50aWxlSUQsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICAgICAgcmF3SW1hZ2VEYXRhOiByYXdJbWFnZURhdGEsXG4gICAgICAgICAgICAgICAgICAgIGVuY29kaW5nOiB0aGlzLmVuY29kaW5nXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmICghdGlsZS53b3JrZXJJRCB8fCB0aWxlLnN0YXRlID09PSAnZXhwaXJlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS53b3JrZXJJRCA9IHRoaXMuZGlzcGF0Y2hlci5zZW5kKCdsb2FkREVNVGlsZScsIHBhcmFtcywgZG9uZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkb25lKGVyciwgZGVtKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdlcnJvcmVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGVtKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5kZW0gPSBkZW07XG4gICAgICAgICAgICAgICAgdGlsZS5uZWVkc0hpbGxzaGFkZVByZXBhcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgX2dldE5laWdoYm9yaW5nVGlsZXModGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgICAgIGNvbnN0IGNhbm9uaWNhbCA9IHRpbGVJRC5jYW5vbmljYWw7XG4gICAgICAgIGNvbnN0IGRpbSA9IE1hdGgucG93KDIsIGNhbm9uaWNhbC56KTtcblxuICAgICAgICBjb25zdCBweCA9IChjYW5vbmljYWwueCAtIDEgKyBkaW0pICUgZGltO1xuICAgICAgICBjb25zdCBweHcgPSBjYW5vbmljYWwueCA9PT0gMCA/IHRpbGVJRC53cmFwIC0gMSA6IHRpbGVJRC53cmFwO1xuICAgICAgICBjb25zdCBueCA9IChjYW5vbmljYWwueCArIDEgKyBkaW0pICUgZGltO1xuICAgICAgICBjb25zdCBueHcgPSBjYW5vbmljYWwueCArIDEgPT09IGRpbSA/IHRpbGVJRC53cmFwICsgMSA6IHRpbGVJRC53cmFwO1xuXG4gICAgICAgIGNvbnN0IG5laWdoYm9yaW5nVGlsZXMgPSB7fTtcbiAgICAgICAgLy8gYWRkIGFkamFjZW50IHRpbGVzXG4gICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBweHcsIGNhbm9uaWNhbC56LCBweCwgY2Fub25pY2FsLnkpLmtleV0gPSB7YmFja2ZpbGxlZDogZmFsc2V9O1xuICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgbnh3LCBjYW5vbmljYWwueiwgbngsIGNhbm9uaWNhbC55KS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcblxuICAgICAgICAvLyBBZGQgdXBwZXIgbmVpZ2hib3JpbmdUaWxlc1xuICAgICAgICBpZiAoY2Fub25pY2FsLnkgPiAwKSB7XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgcHh3LCBjYW5vbmljYWwueiwgcHgsIGNhbm9uaWNhbC55IC0gMSkua2V5XSA9IHtiYWNrZmlsbGVkOiBmYWxzZX07XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgdGlsZUlELndyYXAsIGNhbm9uaWNhbC56LCBjYW5vbmljYWwueCwgY2Fub25pY2FsLnkgLSAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBueHcsIGNhbm9uaWNhbC56LCBueCwgY2Fub25pY2FsLnkgLSAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgbG93ZXIgbmVpZ2hib3JpbmdUaWxlc1xuICAgICAgICBpZiAoY2Fub25pY2FsLnkgKyAxIDwgZGltKSB7XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgcHh3LCBjYW5vbmljYWwueiwgcHgsIGNhbm9uaWNhbC55ICsgMSkua2V5XSA9IHtiYWNrZmlsbGVkOiBmYWxzZX07XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgdGlsZUlELndyYXAsIGNhbm9uaWNhbC56LCBjYW5vbmljYWwueCwgY2Fub25pY2FsLnkgKyAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBueHcsIGNhbm9uaWNhbC56LCBueCwgY2Fub25pY2FsLnkgKyAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZWlnaGJvcmluZ1RpbGVzO1xuICAgIH1cblxuXG4gICAgdW5sb2FkVGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIGlmICh0aWxlLmRlbVRleHR1cmUpIHRoaXMubWFwLnBhaW50ZXIuc2F2ZVRpbGVUZXh0dXJlKHRpbGUuZGVtVGV4dHVyZSk7XG4gICAgICAgIGlmICh0aWxlLmZibykge1xuICAgICAgICAgICAgdGlsZS5mYm8uZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRpbGUuZmJvO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aWxlLmRlbSkgZGVsZXRlIHRpbGUuZGVtO1xuICAgICAgICBkZWxldGUgdGlsZS5uZWlnaGJvcmluZ1RpbGVzO1xuXG4gICAgICAgIHRpbGUuc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuc2VuZCgncmVtb3ZlREVNVGlsZScsIHsgdWlkOiB0aWxlLnVpZCwgc291cmNlOiB0aGlzLmlkIH0sIHVuZGVmaW5lZCwgdGlsZS53b3JrZXJJRCk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhc3RlckRFTVRpbGVTb3VyY2U7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5cbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93JztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuaW1wb3J0IHsgUmVzb3VyY2VUeXBlIH0gZnJvbSAnLi4vdXRpbC9hamF4JztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5cbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5pbXBvcnQgdHlwZSB7UGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZ30gZnJvbSAnLi4vdHlwZXMvcGVyZm9ybWFuY2VfcmVzb3VyY2VfdGltaW5nJztcblxuLyoqXG4gKiBBIHNvdXJjZSBjb250YWluaW5nIEdlb0pTT04uXG4gKiAoU2VlIHRoZSBbU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jc291cmNlcy1nZW9qc29uKSBmb3IgZGV0YWlsZWQgZG9jdW1lbnRhdGlvbiBvZiBvcHRpb25zLilcbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAnZ2VvanNvbicsXG4gKiAgICAgZGF0YTogJ2h0dHBzOi8vZDJhZDZiNHVyN3l2cHEuY2xvdWRmcm9udC5uZXQvbmF0dXJhbGVhcnRoLTMuMy4wL25lXzEwbV9wb3J0cy5nZW9qc29uJ1xuICogfSk7XG4gKlxuICogQGV4YW1wbGVcbiAqIG1hcC5hZGRTb3VyY2UoJ3NvbWUgaWQnLCB7XG4gKiAgICB0eXBlOiAnZ2VvanNvbicsXG4gKiAgICBkYXRhOiB7XG4gKiAgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAqICAgICAgICBcImZlYXR1cmVzXCI6IFt7XG4gKiAgICAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAqICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHt9LFxuICogICAgICAgICAgICBcImdlb21ldHJ5XCI6IHtcbiAqICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG4gKiAgICAgICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6IFtcbiAqICAgICAgICAgICAgICAgICAgICAtNzYuNTMwNjMyOTcyNzE3MjksXG4gKiAgICAgICAgICAgICAgICAgICAgMzkuMTgxNzQwNzc5OTQxMDhcbiAqICAgICAgICAgICAgICAgIF1cbiAqICAgICAgICAgICAgfVxuICogICAgICAgIH1dXG4gKiAgICB9XG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmdldFNvdXJjZSgnc29tZSBpZCcpLnNldERhdGEoe1xuICogICBcInR5cGVcIjogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICogICBcImZlYXR1cmVzXCI6IFt7XG4gKiAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlXCIsXG4gKiAgICAgICBcInByb3BlcnRpZXNcIjogeyBcIm5hbWVcIjogXCJOdWxsIElzbGFuZFwiIH0sXG4gKiAgICAgICBcImdlb21ldHJ5XCI6IHtcbiAqICAgICAgICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICogICAgICAgICAgIFwiY29vcmRpbmF0ZXNcIjogWyAwLCAwIF1cbiAqICAgICAgIH1cbiAqICAgfV1cbiAqIH0pO1xuICogQHNlZSBbRHJhdyBHZW9KU09OIHBvaW50c10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nZW9qc29uLW1hcmtlcnMvKVxuICogQHNlZSBbQWRkIGEgR2VvSlNPTiBsaW5lXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dlb2pzb24tbGluZS8pXG4gKiBAc2VlIFtDcmVhdGUgYSBoZWF0bWFwIGZyb20gcG9pbnRzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2hlYXRtYXAvKVxuICovXG5jbGFzcyBHZW9KU09OU291cmNlIGV4dGVuZHMgRXZlbnRlZCBpbXBsZW1lbnRzIFNvdXJjZSB7XG4gICAgdHlwZTogJ2dlb2pzb24nO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWluem9vbTogbnVtYmVyO1xuICAgIG1heHpvb206IG51bWJlcjtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuXG4gICAgaXNUaWxlQ2xpcHBlZDogYm9vbGVhbjtcbiAgICByZXBhcnNlT3ZlcnNjYWxlZDogYm9vbGVhbjtcbiAgICBfZGF0YTogR2VvSlNPTiB8IHN0cmluZztcbiAgICBfb3B0aW9uczogYW55O1xuICAgIHdvcmtlck9wdGlvbnM6IGFueTtcbiAgICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICAgIG1hcDogTWFwO1xuICAgIHdvcmtlcklEOiBudW1iZXI7XG4gICAgX2xvYWRlZDogYm9vbGVhbjtcbiAgICBfY29sbGVjdFJlc291cmNlVGltaW5nOiBib29sZWFuO1xuICAgIF9yZXNvdXJjZVRpbWluZzogQXJyYXk8UGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZz47XG4gICAgX3JlbW92ZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IEdlb2pzb25Tb3VyY2VTcGVjaWZpY2F0aW9uICYge3dvcmtlck9wdGlvbnM/OiBhbnksIGNvbGxlY3RSZXNvdXJjZVRpbWluZzogYm9vbGVhbn0sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmlkID0gaWQ7XG5cbiAgICAgICAgLy8gYHR5cGVgIGlzIGEgcHJvcGVydHkgcmF0aGVyIHRoYW4gYSBjb25zdGFudCB0byBtYWtlIGl0IGVhc3kgZm9yIDNyZFxuICAgICAgICAvLyBwYXJ0aWVzIHRvIHVzZSBHZW9KU09OU291cmNlIHRvIGJ1aWxkIHRoZWlyIG93biBzb3VyY2UgdHlwZXMuXG4gICAgICAgIHRoaXMudHlwZSA9ICdnZW9qc29uJztcblxuICAgICAgICB0aGlzLm1pbnpvb20gPSAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAxODtcbiAgICAgICAgdGhpcy50aWxlU2l6ZSA9IDUxMjtcbiAgICAgICAgdGhpcy5pc1RpbGVDbGlwcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3JlbW92ZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuICAgICAgICB0aGlzLnNldEV2ZW50ZWRQYXJlbnQoZXZlbnRlZFBhcmVudCk7XG5cbiAgICAgICAgdGhpcy5fZGF0YSA9IChvcHRpb25zLmRhdGE6IGFueSk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyA9IG9wdGlvbnMuY29sbGVjdFJlc291cmNlVGltaW5nO1xuICAgICAgICB0aGlzLl9yZXNvdXJjZVRpbWluZyA9IFtdO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm1heHpvb20gIT09IHVuZGVmaW5lZCkgdGhpcy5tYXh6b29tID0gb3B0aW9ucy5tYXh6b29tO1xuICAgICAgICBpZiAob3B0aW9ucy50eXBlKSB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGU7XG5cbiAgICAgICAgY29uc3Qgc2NhbGUgPSBFWFRFTlQgLyB0aGlzLnRpbGVTaXplO1xuXG4gICAgICAgIC8vIHNlbnQgdG8gdGhlIHdvcmtlciwgYWxvbmcgd2l0aCBgdXJsOiAuLi5gIG9yIGBkYXRhOiBsaXRlcmFsIGdlb2pzb25gLFxuICAgICAgICAvLyBzbyB0aGF0IGl0IGNhbiBsb2FkL3BhcnNlL2luZGV4IHRoZSBnZW9qc29uIGRhdGFcbiAgICAgICAgLy8gZXh0ZW5kaW5nIHdpdGggYG9wdGlvbnMud29ya2VyT3B0aW9uc2AgaGVscHMgdG8gbWFrZSBpdCBlYXN5IGZvclxuICAgICAgICAvLyB0aGlyZC1wYXJ0eSBzb3VyY2VzIHRvIGhhY2svcmV1c2UgR2VvSlNPTlNvdXJjZS5cbiAgICAgICAgdGhpcy53b3JrZXJPcHRpb25zID0gZXh0ZW5kKHtcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgIGNsdXN0ZXI6IG9wdGlvbnMuY2x1c3RlciB8fCBmYWxzZSxcbiAgICAgICAgICAgIGdlb2pzb25WdE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBidWZmZXI6IChvcHRpb25zLmJ1ZmZlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5idWZmZXIgOiAxMjgpICogc2NhbGUsXG4gICAgICAgICAgICAgICAgdG9sZXJhbmNlOiAob3B0aW9ucy50b2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudG9sZXJhbmNlIDogMC4zNzUpICogc2NhbGUsXG4gICAgICAgICAgICAgICAgZXh0ZW50OiBFWFRFTlQsXG4gICAgICAgICAgICAgICAgbWF4Wm9vbTogdGhpcy5tYXh6b29tXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwZXJjbHVzdGVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIG1heFpvb206IG9wdGlvbnMuY2x1c3Rlck1heFpvb20gIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWluKG9wdGlvbnMuY2x1c3Rlck1heFpvb20sIHRoaXMubWF4em9vbSAtIDEpIDpcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMubWF4em9vbSAtIDEpLFxuICAgICAgICAgICAgICAgIGV4dGVudDogRVhURU5ULFxuICAgICAgICAgICAgICAgIHJhZGl1czogKG9wdGlvbnMuY2x1c3RlclJhZGl1cyB8fCA1MCkgKiBzY2FsZSxcbiAgICAgICAgICAgICAgICBsb2c6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIG9wdGlvbnMud29ya2VyT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgbG9hZCgpIHtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YWxvYWRpbmcnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnfSkpO1xuICAgICAgICB0aGlzLl91cGRhdGVXb3JrZXJEYXRhKChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkYXRhOiBPYmplY3QgPSB7IGRhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdtZXRhZGF0YScgfTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcgJiYgdGhpcy5fcmVzb3VyY2VUaW1pbmcgJiYgKHRoaXMuX3Jlc291cmNlVGltaW5nLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5yZXNvdXJjZVRpbWluZyA9IHRoaXMuX3Jlc291cmNlVGltaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc291cmNlVGltaW5nID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFsdGhvdWdoIEdlb0pTT04gc291cmNlcyBjb250YWluIG5vIG1ldGFkYXRhLCB3ZSBmaXJlIHRoaXMgZXZlbnQgdG8gbGV0IHRoZSBTb3VyY2VDYWNoZVxuICAgICAgICAgICAgLy8ga25vdyBpdHMgb2sgdG8gc3RhcnQgcmVxdWVzdGluZyB0aWxlcy5cbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCBkYXRhKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBHZW9KU09OIGRhdGEgYW5kIHJlLXJlbmRlcnMgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fHN0cmluZ30gZGF0YSBBIEdlb0pTT04gZGF0YSBvYmplY3Qgb3IgYSBVUkwgdG8gb25lLiBUaGUgbGF0dGVyIGlzIHByZWZlcmFibGUgaW4gdGhlIGNhc2Ugb2YgbGFyZ2UgR2VvSlNPTiBmaWxlcy5cbiAgICAgKiBAcmV0dXJucyB7R2VvSlNPTlNvdXJjZX0gdGhpc1xuICAgICAqL1xuICAgIHNldERhdGEoZGF0YTogR2VvSlNPTiB8IHN0cmluZykge1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YWxvYWRpbmcnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnfSkpO1xuICAgICAgICB0aGlzLl91cGRhdGVXb3JrZXJEYXRhKChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KGVycikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkYXRhOiBPYmplY3QgPSB7IGRhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50JyB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyAmJiB0aGlzLl9yZXNvdXJjZVRpbWluZyAmJiAodGhpcy5fcmVzb3VyY2VUaW1pbmcubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnJlc291cmNlVGltaW5nID0gdGhpcy5fcmVzb3VyY2VUaW1pbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2VUaW1pbmcgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCBkYXRhKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogUmVzcG9uc2libGUgZm9yIGludm9raW5nIFdvcmtlclNvdXJjZSdzIGdlb2pzb24ubG9hZERhdGEgdGFyZ2V0LCB3aGljaFxuICAgICAqIGhhbmRsZXMgbG9hZGluZyB0aGUgZ2VvanNvbiBkYXRhIGFuZCBwcmVwYXJpbmcgdG8gc2VydmUgaXQgdXAgYXMgdGlsZXMsXG4gICAgICogdXNpbmcgZ2VvanNvbi12dCBvciBzdXBlcmNsdXN0ZXIgYXMgYXBwcm9wcmlhdGUuXG4gICAgICovXG4gICAgX3VwZGF0ZVdvcmtlckRhdGEoY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBleHRlbmQoe30sIHRoaXMud29ya2VyT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9kYXRhO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRpb25zLnJlcXVlc3QgPSB0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdChyZXNvbHZlVVJMKGRhdGEpLCBSZXNvdXJjZVR5cGUuU291cmNlKTtcbiAgICAgICAgICAgIG9wdGlvbnMucmVxdWVzdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcgPSB0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRhcmdldCB7dGhpcy50eXBlfS57b3B0aW9ucy5zb3VyY2V9LmxvYWREYXRhIHJhdGhlciB0aGFuIGxpdGVyYWxseSBnZW9qc29uLmxvYWREYXRhLFxuICAgICAgICAvLyBzbyB0aGF0IG90aGVyIGdlb2pzb24tbGlrZSBzb3VyY2UgdHlwZXMgY2FuIGVhc2lseSByZXVzZSB0aGlzXG4gICAgICAgIC8vIGltcGxlbWVudGF0aW9uXG4gICAgICAgIHRoaXMud29ya2VySUQgPSB0aGlzLmRpc3BhdGNoZXIuc2VuZChgJHt0aGlzLnR5cGV9LiR7b3B0aW9ucy5zb3VyY2V9LmxvYWREYXRhYCwgb3B0aW9ucywgKGVyciwgcmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVtb3ZlZCB8fCAocmVzdWx0ICYmIHJlc3VsdC5hYmFuZG9uZWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9sb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5yZXNvdXJjZVRpbWluZyAmJiByZXN1bHQucmVzb3VyY2VUaW1pbmdbdGhpcy5pZF0pXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2VUaW1pbmcgPSByZXN1bHQucmVzb3VyY2VUaW1pbmdbdGhpcy5pZF0uc2xpY2UoMCk7XG4gICAgICAgICAgICAvLyBBbnkgYGxvYWREYXRhYCBjYWxscyB0aGF0IHBpbGVkIHVwIHdoaWxlIHdlIHdlcmUgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgLy8gdGhpcyBvbmUgd2lsbCBnZXQgY29hbGVzY2VkIGludG8gYSBzaW5nbGUgY2FsbCB3aGVuIHRoaXNcbiAgICAgICAgICAgIC8vICdjb2FsZXNjZScgbWVzc2FnZSBpcyBwcm9jZXNzZWQuXG4gICAgICAgICAgICAvLyBXZSB3b3VsZCBzZWxmLXNlbmQgZnJvbSB0aGUgd29ya2VyIGlmIHdlIGhhZCBhY2Nlc3MgdG8gaXRzXG4gICAgICAgICAgICAvLyBtZXNzYWdlIHF1ZXVlLiBXYWl0aW5nIGluc3RlYWQgZm9yIHRoZSAnY29hbGVzY2UnIHRvIHJvdW5kLXRyaXBcbiAgICAgICAgICAgIC8vIHRocm91Z2ggdGhlIGZvcmVncm91bmQganVzdCBtZWFucyB3ZSdyZSB0aHJvdHRsaW5nIHRoZSB3b3JrZXJcbiAgICAgICAgICAgIC8vIHRvIHJ1biBhdCBhIGxpdHRsZSBsZXNzIHRoYW4gZnVsbC10aHJvdHRsZS5cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zZW5kKGAke3RoaXMudHlwZX0uJHtvcHRpb25zLnNvdXJjZX0uY29hbGVzY2VgLCBudWxsLCBudWxsLCB0aGlzLndvcmtlcklEKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG5cbiAgICAgICAgfSwgdGhpcy53b3JrZXJJRCk7XG4gICAgfVxuXG4gICAgbG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aWxlLndvcmtlcklEID09PSB1bmRlZmluZWQgPyAnbG9hZFRpbGUnIDogJ3JlbG9hZFRpbGUnO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICB1aWQ6IHRpbGUudWlkLFxuICAgICAgICAgICAgdGlsZUlEOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgIHpvb206IHRpbGUudGlsZUlELm92ZXJzY2FsZWRaLFxuICAgICAgICAgICAgbWF4Wm9vbTogdGhpcy5tYXh6b29tLFxuICAgICAgICAgICAgdGlsZVNpemU6IHRoaXMudGlsZVNpemUsXG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMuaWQsXG4gICAgICAgICAgICBwaXhlbFJhdGlvOiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICBvdmVyc2NhbGluZzogdGlsZS50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksXG4gICAgICAgICAgICBzaG93Q29sbGlzaW9uQm94ZXM6IHRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlc1xuICAgICAgICB9O1xuXG4gICAgICAgIHRpbGUud29ya2VySUQgPSB0aGlzLmRpc3BhdGNoZXIuc2VuZChtZXNzYWdlLCBwYXJhbXMsIChlcnIsIGRhdGEpID0+IHtcbiAgICAgICAgICAgIHRpbGUudW5sb2FkVmVjdG9yRGF0YSgpO1xuXG4gICAgICAgICAgICBpZiAodGlsZS5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRpbGUubG9hZFZlY3RvckRhdGEoZGF0YSwgdGhpcy5tYXAucGFpbnRlciwgbWVzc2FnZSA9PT0gJ3JlbG9hZFRpbGUnKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9LCB0aGlzLndvcmtlcklEKTtcbiAgICB9XG5cbiAgICBhYm9ydFRpbGUodGlsZTogVGlsZSkge1xuICAgICAgICB0aWxlLmFib3J0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHVubG9hZFRpbGUodGlsZTogVGlsZSkge1xuICAgICAgICB0aWxlLnVubG9hZFZlY3RvckRhdGEoKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnNlbmQoJ3JlbW92ZVRpbGUnLCB7IHVpZDogdGlsZS51aWQsIHR5cGU6IHRoaXMudHlwZSwgc291cmNlOiB0aGlzLmlkIH0sIG51bGwsIHRpbGUud29ya2VySUQpO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICB0aGlzLl9yZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnNlbmQoJ3JlbW92ZVNvdXJjZScsIHsgdHlwZTogdGhpcy50eXBlLCBzb3VyY2U6IHRoaXMuaWQgfSwgbnVsbCwgdGhpcy53b3JrZXJJRCk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zLCB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLl9kYXRhXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgY29uc3QgYSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgYS5ocmVmID0gdXJsO1xuICAgIHJldHVybiBhLmhyZWY7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdlb0pTT05Tb3VyY2U7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IHsgY3JlYXRlTGF5b3V0IH0gZnJvbSAnLi4vdXRpbC9zdHJ1Y3RfYXJyYXknO1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVMYXlvdXQoW1xuICAgIHsgbmFtZTogJ2FfcG9zJywgdHlwZTogJ0ludDE2JywgY29tcG9uZW50czogMiB9LFxuICAgIHsgbmFtZTogJ2FfdGV4dHVyZV9wb3MnLCB0eXBlOiAnSW50MTYnLCBjb21wb25lbnRzOiAyIH1cbl0pO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSBQcm9ncmFtIGZyb20gJy4vcHJvZ3JhbSc7XG5pbXBvcnQgdHlwZSBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi4vZ2wvdmVydGV4X2J1ZmZlcic7XG5pbXBvcnQgdHlwZSBJbmRleEJ1ZmZlciBmcm9tICcuLi9nbC9pbmRleF9idWZmZXInO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcblxuY2xhc3MgVmVydGV4QXJyYXlPYmplY3Qge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgYm91bmRQcm9ncmFtOiA/UHJvZ3JhbTtcbiAgICBib3VuZExheW91dFZlcnRleEJ1ZmZlcjogP1ZlcnRleEJ1ZmZlcjtcbiAgICBib3VuZFBhaW50VmVydGV4QnVmZmVyczogQXJyYXk8VmVydGV4QnVmZmVyPjtcbiAgICBib3VuZEluZGV4QnVmZmVyOiA/SW5kZXhCdWZmZXI7XG4gICAgYm91bmRWZXJ0ZXhPZmZzZXQ6ID9udW1iZXI7XG4gICAgYm91bmREeW5hbWljVmVydGV4QnVmZmVyOiA/VmVydGV4QnVmZmVyO1xuICAgIGJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcjI6ID9WZXJ0ZXhCdWZmZXI7XG4gICAgdmFvOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ib3VuZFByb2dyYW0gPSBudWxsO1xuICAgICAgICB0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycyA9IFtdO1xuICAgICAgICB0aGlzLmJvdW5kSW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmJvdW5kVmVydGV4T2Zmc2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnZhbyA9IG51bGw7XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBDb250ZXh0LFxuICAgICAgICAgcHJvZ3JhbTogUHJvZ3JhbSxcbiAgICAgICAgIGxheW91dFZlcnRleEJ1ZmZlcjogVmVydGV4QnVmZmVyLFxuICAgICAgICAgcGFpbnRWZXJ0ZXhCdWZmZXJzOiBBcnJheTxWZXJ0ZXhCdWZmZXI+LFxuICAgICAgICAgaW5kZXhCdWZmZXI6ID9JbmRleEJ1ZmZlcixcbiAgICAgICAgIHZlcnRleE9mZnNldDogP251bWJlcixcbiAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXI6ID9WZXJ0ZXhCdWZmZXIsXG4gICAgICAgICBkeW5hbWljVmVydGV4QnVmZmVyMjogP1ZlcnRleEJ1ZmZlcikge1xuXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICAgICAgbGV0IHBhaW50QnVmZmVyc0RpZmZlciA9IHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnMubGVuZ3RoICE9PSBwYWludFZlcnRleEJ1ZmZlcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgIXBhaW50QnVmZmVyc0RpZmZlciAmJiBpIDwgcGFpbnRWZXJ0ZXhCdWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVyc1tpXSAhPT0gcGFpbnRWZXJ0ZXhCdWZmZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgcGFpbnRCdWZmZXJzRGlmZmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzRnJlc2hCaW5kUmVxdWlyZWQgPSAoXG4gICAgICAgICAgICAhdGhpcy52YW8gfHxcbiAgICAgICAgICAgIHRoaXMuYm91bmRQcm9ncmFtICE9PSBwcm9ncmFtIHx8XG4gICAgICAgICAgICB0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyICE9PSBsYXlvdXRWZXJ0ZXhCdWZmZXIgfHxcbiAgICAgICAgICAgIHBhaW50QnVmZmVyc0RpZmZlciB8fFxuICAgICAgICAgICAgdGhpcy5ib3VuZEluZGV4QnVmZmVyICE9PSBpbmRleEJ1ZmZlciB8fFxuICAgICAgICAgICAgdGhpcy5ib3VuZFZlcnRleE9mZnNldCAhPT0gdmVydGV4T2Zmc2V0IHx8XG4gICAgICAgICAgICB0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlciAhPT0gZHluYW1pY1ZlcnRleEJ1ZmZlciB8fFxuICAgICAgICAgICAgdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXIyICE9PSBkeW5hbWljVmVydGV4QnVmZmVyMlxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdCB8fCBpc0ZyZXNoQmluZFJlcXVpcmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZyZXNoQmluZChwcm9ncmFtLCBsYXlvdXRWZXJ0ZXhCdWZmZXIsIHBhaW50VmVydGV4QnVmZmVycywgaW5kZXhCdWZmZXIsIHZlcnRleE9mZnNldCwgZHluYW1pY1ZlcnRleEJ1ZmZlciwgZHluYW1pY1ZlcnRleEJ1ZmZlcjIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KHRoaXMudmFvKTtcblxuICAgICAgICAgICAgaWYgKGR5bmFtaWNWZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgYnVmZmVyIG1heSBoYXZlIGJlZW4gdXBkYXRlZC4gUmViaW5kIHRvIHVwbG9hZCBkYXRhLlxuICAgICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIuYmluZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaW5kZXhCdWZmZXIgJiYgaW5kZXhCdWZmZXIuZHluYW1pY0RyYXcpIHtcbiAgICAgICAgICAgICAgICBpbmRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkeW5hbWljVmVydGV4QnVmZmVyMikge1xuICAgICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIyLmJpbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZyZXNoQmluZChwcm9ncmFtOiBQcm9ncmFtLFxuICAgICAgICAgICAgICBsYXlvdXRWZXJ0ZXhCdWZmZXI6IFZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgcGFpbnRWZXJ0ZXhCdWZmZXJzOiBBcnJheTxWZXJ0ZXhCdWZmZXI+LFxuICAgICAgICAgICAgICBpbmRleEJ1ZmZlcjogP0luZGV4QnVmZmVyLFxuICAgICAgICAgICAgICB2ZXJ0ZXhPZmZzZXQ6ID9udW1iZXIsXG4gICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXI6ID9WZXJ0ZXhCdWZmZXIsXG4gICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIyOiA/VmVydGV4QnVmZmVyKSB7XG4gICAgICAgIGxldCBudW1QcmV2QXR0cmlidXRlcztcbiAgICAgICAgY29uc3QgbnVtTmV4dEF0dHJpYnV0ZXMgPSBwcm9ncmFtLm51bUF0dHJpYnV0ZXM7XG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIGlmIChjb250ZXh0LmV4dFZlcnRleEFycmF5T2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy52YW8pIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy52YW8gPSBjb250ZXh0LmV4dFZlcnRleEFycmF5T2JqZWN0LmNyZWF0ZVZlcnRleEFycmF5T0VTKCk7XG4gICAgICAgICAgICBjb250ZXh0LmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pO1xuICAgICAgICAgICAgbnVtUHJldkF0dHJpYnV0ZXMgPSAwO1xuXG4gICAgICAgICAgICAvLyBzdG9yZSB0aGUgYXJndW1lbnRzIHNvIHRoYXQgd2UgY2FuIHZlcmlmeSB0aGVtIHdoZW4gdGhlIHZhbyBpcyBib3VuZCBhZ2FpblxuICAgICAgICAgICAgdGhpcy5ib3VuZFByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICAgICAgdGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlciA9IGxheW91dFZlcnRleEJ1ZmZlcjtcbiAgICAgICAgICAgIHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnMgPSBwYWludFZlcnRleEJ1ZmZlcnM7XG4gICAgICAgICAgICB0aGlzLmJvdW5kSW5kZXhCdWZmZXIgPSBpbmRleEJ1ZmZlcjtcbiAgICAgICAgICAgIHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQgPSB2ZXJ0ZXhPZmZzZXQ7XG4gICAgICAgICAgICB0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlciA9IGR5bmFtaWNWZXJ0ZXhCdWZmZXI7XG4gICAgICAgICAgICB0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcjIgPSBkeW5hbWljVmVydGV4QnVmZmVyMjtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbnVtUHJldkF0dHJpYnV0ZXMgPSBjb250ZXh0LmN1cnJlbnROdW1BdHRyaWJ1dGVzIHx8IDA7XG5cbiAgICAgICAgICAgIC8vIERpc2FibGUgYWxsIGF0dHJpYnV0ZXMgZnJvbSB0aGUgcHJldmlvdXMgcHJvZ3JhbSB0aGF0IGFyZW4ndCB1c2VkIGluXG4gICAgICAgICAgICAvLyB0aGUgbmV3IHByb2dyYW0uIE5vdGU6IGF0dHJpYnV0ZSBpbmRpY2VzIGFyZSAqbm90KiBwcm9ncmFtIHNwZWNpZmljIVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IG51bU5leHRBdHRyaWJ1dGVzOyBpIDwgbnVtUHJldkF0dHJpYnV0ZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIFdlYkdMIGJyZWFrcyBpZiB5b3UgZGlzYWJsZSBhdHRyaWJ1dGUgMC5cbiAgICAgICAgICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIwMzA1MjMxXG4gICAgICAgICAgICAgICAgYXNzZXJ0KGkgIT09IDApO1xuICAgICAgICAgICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxheW91dFZlcnRleEJ1ZmZlci5lbmFibGVBdHRyaWJ1dGVzKGdsLCBwcm9ncmFtKTtcbiAgICAgICAgZm9yIChjb25zdCB2ZXJ0ZXhCdWZmZXIgb2YgcGFpbnRWZXJ0ZXhCdWZmZXJzKSB7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuZW5hYmxlQXR0cmlidXRlcyhnbCwgcHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZHluYW1pY1ZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlci5lbmFibGVBdHRyaWJ1dGVzKGdsLCBwcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHluYW1pY1ZlcnRleEJ1ZmZlcjIpIHtcbiAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIyLmVuYWJsZUF0dHJpYnV0ZXMoZ2wsIHByb2dyYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGF5b3V0VmVydGV4QnVmZmVyLmJpbmQoKTtcbiAgICAgICAgbGF5b3V0VmVydGV4QnVmZmVyLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGdsLCBwcm9ncmFtLCB2ZXJ0ZXhPZmZzZXQpO1xuICAgICAgICBmb3IgKGNvbnN0IHZlcnRleEJ1ZmZlciBvZiBwYWludFZlcnRleEJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZ2wsIHByb2dyYW0sIHZlcnRleE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZHluYW1pY1ZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgICAgICBkeW5hbWljVmVydGV4QnVmZmVyLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGdsLCBwcm9ncmFtLCB2ZXJ0ZXhPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeW5hbWljVmVydGV4QnVmZmVyMikge1xuICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlcjIuYmluZCgpO1xuICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlcjIuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZ2wsIHByb2dyYW0sIHZlcnRleE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmN1cnJlbnROdW1BdHRyaWJ1dGVzID0gbnVtTmV4dEF0dHJpYnV0ZXM7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFvKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QuZGVsZXRlVmVydGV4QXJyYXlPRVModGhpcy52YW8pO1xuICAgICAgICAgICAgdGhpcy52YW8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZXJ0ZXhBcnJheU9iamVjdDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGdldENvb3JkaW5hdGVzQ2VudGVyIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHsgQ2Fub25pY2FsVGlsZUlEIH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCBMbmdMYXQgZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHsgRXZlbnQsIEVycm9yRXZlbnQsIEV2ZW50ZWQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IHsgZ2V0SW1hZ2UsIFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudCc7XG5pbXBvcnQgeyBSYXN0ZXJCb3VuZHNBcnJheSB9IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMnO1xuaW1wb3J0IHJhc3RlckJvdW5kc0F0dHJpYnV0ZXMgZnJvbSAnLi4vZGF0YS9yYXN0ZXJfYm91bmRzX2F0dHJpYnV0ZXMnO1xuaW1wb3J0IFZlcnRleEFycmF5T2JqZWN0IGZyb20gJy4uL3JlbmRlci92ZXJ0ZXhfYXJyYXlfb2JqZWN0JztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4uL3JlbmRlci90ZXh0dXJlJztcblxuaW1wb3J0IHR5cGUge1NvdXJjZX0gZnJvbSAnLi9zb3VyY2UnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcCc7XG5pbXBvcnQgdHlwZSBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlcic7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4vdGlsZSc7XG5pbXBvcnQgdHlwZSBDb29yZGluYXRlIGZyb20gJy4uL2dlby9jb29yZGluYXRlJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXInO1xuXG4vKipcbiAqIEEgZGF0YSBzb3VyY2UgY29udGFpbmluZyBhbiBpbWFnZS5cbiAqIChTZWUgdGhlIFtTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzLWltYWdlKSBmb3IgZGV0YWlsZWQgZG9jdW1lbnRhdGlvbiBvZiBvcHRpb25zLilcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gYWRkIHRvIG1hcFxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgIHR5cGU6ICdpbWFnZScsXG4gKiAgICB1cmw6ICdodHRwczovL3d3dy5tYXBib3guY29tL2ltYWdlcy9mb28ucG5nJyxcbiAqICAgIGNvb3JkaW5hdGVzOiBbXG4gKiAgICAgICAgWy03Ni41NCwgMzkuMThdLFxuICogICAgICAgIFstNzYuNTIsIDM5LjE4XSxcbiAqICAgICAgICBbLTc2LjUyLCAzOS4xN10sXG4gKiAgICAgICAgWy03Ni41NCwgMzkuMTddXG4gKiAgICBdXG4gKiB9KTtcbiAqXG4gKiAvLyB1cGRhdGVcbiAqIHZhciBteVNvdXJjZSA9IG1hcC5nZXRTb3VyY2UoJ3NvbWUgaWQnKTtcbiAqIG15U291cmNlLnNldENvb3JkaW5hdGVzKFtcbiAqICAgICBbLTc2LjU0MzM1NzM3MjI4Mzk0LCAzOS4xODU3OTkwNzIyOTc0OF0sXG4gKiAgICAgWy03Ni41MjgwMzY1OTQzOTA4NywgMzkuMTgzODM2NDg0NzU4N10sXG4gKiAgICAgWy03Ni41Mjk1Mzg2MzE0MzkyLCAzOS4xNzY4MzM5MjUwNzYwNl0sXG4gKiAgICAgWy03Ni41NDUyMDI3MzIwODYxOCwgMzkuMTc4NzYzNDQxMDY2NDJdXG4gKiBdKTtcbiAqXG4gKiBtYXAucmVtb3ZlU291cmNlKCdzb21lIGlkJyk7ICAvLyByZW1vdmVcbiAqIEBzZWUgW0FkZCBhbiBpbWFnZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9pbWFnZS1vbi1hLW1hcC8pXG4gKi9cbmNsYXNzIEltYWdlU291cmNlIGV4dGVuZHMgRXZlbnRlZCBpbXBsZW1lbnRzIFNvdXJjZSB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWluem9vbTogbnVtYmVyO1xuICAgIG1heHpvb206IG51bWJlcjtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIHVybDogc3RyaW5nO1xuXG4gICAgY29vcmRpbmF0ZXM6IFtbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdXTtcbiAgICB0aWxlczoge1tzdHJpbmddOiBUaWxlfTtcbiAgICBvcHRpb25zOiBhbnk7XG4gICAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgICBtYXA6IE1hcDtcbiAgICB0ZXh0dXJlOiBUZXh0dXJlO1xuICAgIGltYWdlOiBJbWFnZURhdGE7XG4gICAgY2VudGVyQ29vcmQ6IENvb3JkaW5hdGU7XG4gICAgdGlsZUlEOiBDYW5vbmljYWxUaWxlSUQ7XG4gICAgX2JvdW5kc0FycmF5OiBSYXN0ZXJCb3VuZHNBcnJheTtcbiAgICBib3VuZHNCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICBib3VuZHNWQU86IFZlcnRleEFycmF5T2JqZWN0O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBJbWFnZVNvdXJjZVNwZWNpZmljYXRpb24gfCBWaWRlb1NvdXJjZVNwZWNpZmljYXRpb24gfCBDYW52YXNTb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IG9wdGlvbnMuY29vcmRpbmF0ZXM7XG5cbiAgICAgICAgdGhpcy50eXBlID0gJ2ltYWdlJztcbiAgICAgICAgdGhpcy5taW56b29tID0gMDtcbiAgICAgICAgdGhpcy5tYXh6b29tID0gMjI7XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSA1MTI7XG4gICAgICAgIHRoaXMudGlsZXMgPSB7fTtcblxuICAgICAgICB0aGlzLnNldEV2ZW50ZWRQYXJlbnQoZXZlbnRlZFBhcmVudCk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG5cbiAgICAgICAgdGhpcy51cmwgPSB0aGlzLm9wdGlvbnMudXJsO1xuXG4gICAgICAgIGdldEltYWdlKHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHRoaXMudXJsLCBSZXNvdXJjZVR5cGUuSW1hZ2UpLCAoZXJyLCBpbWFnZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlID0gYnJvd3Nlci5nZXRJbWFnZURhdGEoaW1hZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmlzaExvYWRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2ZpbmlzaExvYWRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcCkge1xuICAgICAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ30pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBpbWFnZSdzIGNvb3JkaW5hdGVzIGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlcyBGb3VyIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyxcbiAgICAgKiAgIHJlcHJlc2VudGVkIGFzIGFycmF5cyBvZiBsb25naXR1ZGUgYW5kIGxhdGl0dWRlIG51bWJlcnMsIHdoaWNoIGRlZmluZSB0aGUgY29ybmVycyBvZiB0aGUgaW1hZ2UuXG4gICAgICogICBUaGUgY29vcmRpbmF0ZXMgc3RhcnQgYXQgdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgaW1hZ2UgYW5kIHByb2NlZWQgaW4gY2xvY2t3aXNlIG9yZGVyLlxuICAgICAqICAgVGhleSBkbyBub3QgaGF2ZSB0byByZXByZXNlbnQgYSByZWN0YW5nbGUuXG4gICAgICogQHJldHVybnMge0ltYWdlU291cmNlfSB0aGlzXG4gICAgICovXG4gICAgc2V0Q29vcmRpbmF0ZXMoY29vcmRpbmF0ZXM6IFtbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdXSkge1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHdoaWNoIG1lcmNhdG9yIHRpbGUgaXMgc3VpdGFibGUgZm9yIHJlbmRlcmluZyB0aGUgdmlkZW8gaW5cbiAgICAgICAgLy8gYW5kIGNyZWF0ZSBhIGJ1ZmZlciB3aXRoIHRoZSBjb3JuZXIgY29vcmRpbmF0ZXMuIFRoZXNlIGNvb3JkaW5hdGVzXG4gICAgICAgIC8vIG1heSBiZSBvdXRzaWRlIHRoZSB0aWxlLCBiZWNhdXNlIHJhc3RlciB0aWxlcyBhcmVuJ3QgY2xpcHBlZCB3aGVuIHJlbmRlcmluZy5cblxuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLm1hcDtcblxuICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIGdlbyBjb29yZGluYXRlcyBpbnRvICh6b29tIDApIHRpbGUgc3BhY2UgY29vcmRpbmF0ZXNcbiAgICAgICAgY29uc3QgY29ybmVyWjBDb29yZHMgPSBjb29yZGluYXRlcy5tYXAoKGNvb3JkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbWFwLnRyYW5zZm9ybS5sb2NhdGlvbkNvb3JkaW5hdGUoTG5nTGF0LmNvbnZlcnQoY29vcmQpKS56b29tVG8oMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENvbXB1dGUgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSB0aWxlIHdlJ2xsIHVzZSB0byBob2xkIHRoaXMgaW1hZ2Unc1xuICAgICAgICAvLyByZW5kZXIgZGF0YVxuICAgICAgICBjb25zdCBjZW50ZXJDb29yZCA9IHRoaXMuY2VudGVyQ29vcmQgPSBnZXRDb29yZGluYXRlc0NlbnRlcihjb3JuZXJaMENvb3Jkcyk7XG4gICAgICAgIC8vIGBjb2x1bW5gIGFuZCBgcm93YCBtYXkgYmUgZnJhY3Rpb25hbDsgcm91bmQgdGhlbSBkb3duIHNvIHRoYXQgdGhleVxuICAgICAgICAvLyByZXByZXNlbnQgaW50ZWdlciB0aWxlIGNvb3JkaW5hdGVzXG4gICAgICAgIGNlbnRlckNvb3JkLmNvbHVtbiA9IE1hdGguZmxvb3IoY2VudGVyQ29vcmQuY29sdW1uKTtcbiAgICAgICAgY2VudGVyQ29vcmQucm93ID0gTWF0aC5mbG9vcihjZW50ZXJDb29yZC5yb3cpO1xuICAgICAgICB0aGlzLnRpbGVJRCA9IG5ldyBDYW5vbmljYWxUaWxlSUQoY2VudGVyQ29vcmQuem9vbSwgY2VudGVyQ29vcmQuY29sdW1uLCBjZW50ZXJDb29yZC5yb3cpO1xuXG4gICAgICAgIC8vIENvbnN0cmFpbiBtaW4vbWF4IHpvb20gdG8gb3VyIHRpbGUncyB6b29tIGxldmVsIGluIG9yZGVyIHRvIGZvcmNlXG4gICAgICAgIC8vIFNvdXJjZUNhY2hlIHRvIHJlcXVlc3QgdGhpcyB0aWxlIChubyBtYXR0ZXIgd2hhdCB0aGUgbWFwJ3Mgem9vbVxuICAgICAgICAvLyBsZXZlbClcbiAgICAgICAgdGhpcy5taW56b29tID0gdGhpcy5tYXh6b29tID0gY2VudGVyQ29vcmQuem9vbTtcblxuICAgICAgICAvLyBUcmFuc2Zvcm0gdGhlIGNvcm5lciBjb29yZGluYXRlcyBpbnRvIHRoZSBjb29yZGluYXRlIHNwYWNlIG9mIG91clxuICAgICAgICAvLyB0aWxlLlxuICAgICAgICBjb25zdCB0aWxlQ29vcmRzID0gY29ybmVyWjBDb29yZHMubWFwKChjb29yZCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgem9vbWVkQ29vcmQgPSBjb29yZC56b29tVG8oY2VudGVyQ29vcmQuem9vbSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICAgICAgICAgIE1hdGgucm91bmQoKHpvb21lZENvb3JkLmNvbHVtbiAtIGNlbnRlckNvb3JkLmNvbHVtbikgKiBFWFRFTlQpLFxuICAgICAgICAgICAgICAgIE1hdGgucm91bmQoKHpvb21lZENvb3JkLnJvdyAtIGNlbnRlckNvb3JkLnJvdykgKiBFWFRFTlQpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzQXJyYXkgPSBuZXcgUmFzdGVyQm91bmRzQXJyYXkoKTtcbiAgICAgICAgdGhpcy5fYm91bmRzQXJyYXkuZW1wbGFjZUJhY2sodGlsZUNvb3Jkc1swXS54LCB0aWxlQ29vcmRzWzBdLnksIDAsIDApO1xuICAgICAgICB0aGlzLl9ib3VuZHNBcnJheS5lbXBsYWNlQmFjayh0aWxlQ29vcmRzWzFdLngsIHRpbGVDb29yZHNbMV0ueSwgRVhURU5ULCAwKTtcbiAgICAgICAgdGhpcy5fYm91bmRzQXJyYXkuZW1wbGFjZUJhY2sodGlsZUNvb3Jkc1szXS54LCB0aWxlQ29vcmRzWzNdLnksIDAsIEVYVEVOVCk7XG4gICAgICAgIHRoaXMuX2JvdW5kc0FycmF5LmVtcGxhY2VCYWNrKHRpbGVDb29yZHNbMl0ueCwgdGlsZUNvb3Jkc1syXS55LCBFWFRFTlQsIEVYVEVOVCk7XG5cbiAgICAgICAgaWYgKHRoaXMuYm91bmRzQnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc0J1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5ib3VuZHNCdWZmZXI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOidzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ2NvbnRlbnQnfSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwcmVwYXJlKCkge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RoID09PSAwIHx8ICF0aGlzLmltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5tYXAucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgaWYgKCF0aGlzLmJvdW5kc0J1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLl9ib3VuZHNBcnJheSwgcmFzdGVyQm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5ib3VuZHNWQU8pIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzVkFPID0gbmV3IFZlcnRleEFycmF5T2JqZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgdGhpcy5pbWFnZSwgZ2wuUkdCQSk7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCB3IGluIHRoaXMudGlsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLnRpbGVzW3ddO1xuICAgICAgICAgICAgaWYgKHRpbGUuc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdsb2FkZWQnO1xuICAgICAgICAgICAgICAgIHRpbGUudGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICAvLyBXZSBoYXZlIGEgc2luZ2xlIHRpbGUgLS0gd2hvb3NlIGNvb3JkaW5hdGVzIGFyZSB0aGlzLnRpbGVJRCAtLSB0aGF0XG4gICAgICAgIC8vIGNvdmVycyB0aGUgaW1hZ2Ugd2Ugd2FudCB0byByZW5kZXIuICBJZiB0aGF0J3MgdGhlIG9uZSBiZWluZ1xuICAgICAgICAvLyByZXF1ZXN0ZWQsIHNldCBpdCB1cCB3aXRoIHRoZSBpbWFnZTsgb3RoZXJ3aXNlLCBtYXJrIHRoZSB0aWxlIGFzXG4gICAgICAgIC8vIGBlcnJvcmVkYCB0byBpbmRpY2F0ZSB0aGF0IHdlIGhhdmUgbm8gZGF0YSBmb3IgaXQuXG4gICAgICAgIC8vIElmIHRoZSB3b3JsZCB3cmFwcywgd2UgbWF5IGhhdmUgbXVsdGlwbGUgXCJ3cmFwcGVkXCIgY29waWVzIG9mIHRoZVxuICAgICAgICAvLyBzaW5nbGUgdGlsZS5cbiAgICAgICAgaWYgKHRoaXMudGlsZUlEICYmIHRoaXMudGlsZUlELmVxdWFscyh0aWxlLnRpbGVJRC5jYW5vbmljYWwpKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVzW1N0cmluZyh0aWxlLnRpbGVJRC53cmFwKV0gPSB0aWxlO1xuICAgICAgICAgICAgdGlsZS5idWNrZXRzID0ge307XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnZXJyb3JlZCc7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpOiBPYmplY3Qge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgICAgIHVybDogdGhpcy5vcHRpb25zLnVybCxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiB0aGlzLmNvb3JkaW5hdGVzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VTb3VyY2U7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBnZXRWaWRlbywgUmVzb3VyY2VUeXBlIH0gZnJvbSAnLi4vdXRpbC9hamF4JztcblxuaW1wb3J0IEltYWdlU291cmNlIGZyb20gJy4vaW1hZ2Vfc291cmNlJztcbmltcG9ydCByYXN0ZXJCb3VuZHNBdHRyaWJ1dGVzIGZyb20gJy4uL2RhdGEvcmFzdGVyX2JvdW5kc19hdHRyaWJ1dGVzJztcbmltcG9ydCBWZXJ0ZXhBcnJheU9iamVjdCBmcm9tICcuLi9yZW5kZXIvdmVydGV4X2FycmF5X29iamVjdCc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9yZW5kZXIvdGV4dHVyZSc7XG5pbXBvcnQgeyBFcnJvckV2ZW50IH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcCc7XG5pbXBvcnQgdHlwZSBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlcic7XG5pbXBvcnQgdHlwZSB7RXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcblxuLyoqXG4gKiBBIGRhdGEgc291cmNlIGNvbnRhaW5pbmcgdmlkZW8uXG4gKiAoU2VlIHRoZSBbU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jc291cmNlcy12aWRlbykgZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24gb2Ygb3B0aW9ucy4pXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIGFkZCB0byBtYXBcbiAqIG1hcC5hZGRTb3VyY2UoJ3NvbWUgaWQnLCB7XG4gKiAgICB0eXBlOiAndmlkZW8nLFxuICogICAgdXJsOiBbXG4gKiAgICAgICAgJ2h0dHBzOi8vd3d3Lm1hcGJveC5jb20vYmxvZy9hc3NldHMvYmFsdGltb3JlLXNtb2tlLm1wNCcsXG4gKiAgICAgICAgJ2h0dHBzOi8vd3d3Lm1hcGJveC5jb20vYmxvZy9hc3NldHMvYmFsdGltb3JlLXNtb2tlLndlYm0nXG4gKiAgICBdLFxuICogICAgY29vcmRpbmF0ZXM6IFtcbiAqICAgICAgICBbLTc2LjU0LCAzOS4xOF0sXG4gKiAgICAgICAgWy03Ni41MiwgMzkuMThdLFxuICogICAgICAgIFstNzYuNTIsIDM5LjE3XSxcbiAqICAgICAgICBbLTc2LjU0LCAzOS4xN11cbiAqICAgIF1cbiAqIH0pO1xuICpcbiAqIC8vIHVwZGF0ZVxuICogdmFyIG15U291cmNlID0gbWFwLmdldFNvdXJjZSgnc29tZSBpZCcpO1xuICogbXlTb3VyY2Uuc2V0Q29vcmRpbmF0ZXMoW1xuICogICAgIFstNzYuNTQzMzU3MzcyMjgzOTQsIDM5LjE4NTc5OTA3MjI5NzQ4XSxcbiAqICAgICBbLTc2LjUyODAzNjU5NDM5MDg3LCAzOS4xODM4MzY0ODQ3NTg3XSxcbiAqICAgICBbLTc2LjUyOTUzODYzMTQzOTIsIDM5LjE3NjgzMzkyNTA3NjA2XSxcbiAqICAgICBbLTc2LjU0NTIwMjczMjA4NjE4LCAzOS4xNzg3NjM0NDEwNjY0Ml1cbiAqIF0pO1xuICpcbiAqIG1hcC5yZW1vdmVTb3VyY2UoJ3NvbWUgaWQnKTsgIC8vIHJlbW92ZVxuICogQHNlZSBbQWRkIGEgdmlkZW9dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdmlkZW8tb24tYS1tYXAvKVxuICovXG5jbGFzcyBWaWRlb1NvdXJjZSBleHRlbmRzIEltYWdlU291cmNlIHtcbiAgICBvcHRpb25zOiBWaWRlb1NvdXJjZVNwZWNpZmljYXRpb247XG4gICAgdXJsczogQXJyYXk8c3RyaW5nPjtcbiAgICB2aWRlbzogSFRNTFZpZGVvRWxlbWVudDtcbiAgICByb3VuZFpvb206IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IFZpZGVvU291cmNlU3BlY2lmaWNhdGlvbiwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgICAgICBzdXBlcihpZCwgb3B0aW9ucywgZGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudCk7XG4gICAgICAgIHRoaXMucm91bmRab29tID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50eXBlID0gJ3ZpZGVvJztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHRoaXMudXJscyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHVybCBvZiBvcHRpb25zLnVybHMpIHtcbiAgICAgICAgICAgIHRoaXMudXJscy5wdXNoKHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlNvdXJjZSkudXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldFZpZGVvKHRoaXMudXJscywgKGVyciwgdmlkZW8pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZpZGVvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWRlbyA9IHZpZGVvO1xuICAgICAgICAgICAgICAgIHRoaXMudmlkZW8ubG9vcCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvLyBTdGFydCByZXBhaW50aW5nIHdoZW4gdmlkZW8gc3RhcnRzIHBsYXlpbmcuIGhhc1RyYW5zaXRpb24oKSB3aWxsIHRoZW4gcmV0dXJuXG4gICAgICAgICAgICAgICAgLy8gdHJ1ZSB0byB0cmlnZ2VyIGFkZGl0aW9uYWwgZnJhbWVzIGFzIGxvbmcgYXMgdGhlIHZpZGVvcyBjb250aW51ZXMgcGxheWluZy5cbiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLl9yZXJlbmRlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmlzaExvYWRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgSFRNTCBgdmlkZW9gIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTFZpZGVvRWxlbWVudH0gVGhlIEhUTUwgYHZpZGVvYCBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldFZpZGVvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlbztcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICBpZiAodGhpcy5tYXApIHJldHVybjtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICBpZiAodGhpcy52aWRlbykge1xuICAgICAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7XG4gICAgICAgICAgICB0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmlkZW8ncyBjb29yZGluYXRlcyBhbmQgcmUtcmVuZGVycyB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBzZXRDb29yZGluYXRlc1xuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBWaWRlb1NvdXJjZVxuICAgICAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIEZvdXIgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzLFxuICAgICAqICAgcmVwcmVzZW50ZWQgYXMgYXJyYXlzIG9mIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgbnVtYmVycywgd2hpY2ggZGVmaW5lIHRoZSBjb3JuZXJzIG9mIHRoZSB2aWRlby5cbiAgICAgKiAgIFRoZSBjb29yZGluYXRlcyBzdGFydCBhdCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSB2aWRlbyBhbmQgcHJvY2VlZCBpbiBjbG9ja3dpc2Ugb3JkZXIuXG4gICAgICogICBUaGV5IGRvIG5vdCBoYXZlIHRvIHJlcHJlc2VudCBhIHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJucyB7VmlkZW9Tb3VyY2V9IHRoaXNcbiAgICAgKi9cbiAgICAvLyBzZXRDb29yZGluYXRlcyBpbmhlcml0ZWQgZnJvbSBJbWFnZVNvdXJjZVxuXG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMudGlsZXMpLmxlbmd0aCA9PT0gMCB8fCB0aGlzLnZpZGVvLnJlYWR5U3RhdGUgPCAyKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIG5vdCBlbm91Z2ggZGF0YSBmb3IgY3VycmVudCBwb3NpdGlvblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMubWFwLnBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIGlmICghdGhpcy5ib3VuZHNCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzQnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5fYm91bmRzQXJyYXksIHJhc3RlckJvdW5kc0F0dHJpYnV0ZXMubWVtYmVycyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuYm91bmRzVkFPKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc1ZBTyA9IG5ldyBWZXJ0ZXhBcnJheU9iamVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIHRoaXMudmlkZW8sIGdsLlJHQkEpO1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy52aWRlby5wYXVzZWQpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHRoaXMudmlkZW8pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCB3IGluIHRoaXMudGlsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLnRpbGVzW3ddO1xuICAgICAgICAgICAgaWYgKHRpbGUuc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdsb2FkZWQnO1xuICAgICAgICAgICAgICAgIHRpbGUudGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICAgICAgICB1cmxzOiB0aGlzLnVybHMsXG4gICAgICAgICAgICBjb29yZGluYXRlczogdGhpcy5jb29yZGluYXRlc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvICYmICF0aGlzLnZpZGVvLnBhdXNlZDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZGVvU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IEltYWdlU291cmNlIGZyb20gJy4vaW1hZ2Vfc291cmNlJztcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgcmFzdGVyQm91bmRzQXR0cmlidXRlcyBmcm9tICcuLi9kYXRhL3Jhc3Rlcl9ib3VuZHNfYXR0cmlidXRlcyc7XG5pbXBvcnQgVmVydGV4QXJyYXlPYmplY3QgZnJvbSAnLi4vcmVuZGVyL3ZlcnRleF9hcnJheV9vYmplY3QnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vcmVuZGVyL3RleHR1cmUnO1xuaW1wb3J0IHsgRXJyb3JFdmVudCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHR5cGUge0V2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5cbi8qKlxuICogQSBkYXRhIHNvdXJjZSBjb250YWluaW5nIHRoZSBjb250ZW50cyBvZiBhbiBIVE1MIGNhbnZhcy5cbiAqIChTZWUgdGhlIFtTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzLWNhbnZhcykgZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24gb2Ygb3B0aW9ucy4pXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIGFkZCB0byBtYXBcbiAqIG1hcC5hZGRTb3VyY2UoJ3NvbWUgaWQnLCB7XG4gKiAgICB0eXBlOiAnY2FudmFzJyxcbiAqICAgIGNhbnZhczogJ2lkT2ZNeUhUTUxDYW52YXMnLFxuICogICAgYW5pbWF0ZTogdHJ1ZSxcbiAqICAgIGNvb3JkaW5hdGVzOiBbXG4gKiAgICAgICAgWy03Ni41NCwgMzkuMThdLFxuICogICAgICAgIFstNzYuNTIsIDM5LjE4XSxcbiAqICAgICAgICBbLTc2LjUyLCAzOS4xN10sXG4gKiAgICAgICAgWy03Ni41NCwgMzkuMTddXG4gKiAgICBdXG4gKiB9KTtcbiAqXG4gKiAvLyB1cGRhdGVcbiAqIHZhciBteVNvdXJjZSA9IG1hcC5nZXRTb3VyY2UoJ3NvbWUgaWQnKTtcbiAqIG15U291cmNlLnNldENvb3JkaW5hdGVzKFtcbiAqICAgICBbLTc2LjU0MzM1NzM3MjI4Mzk0LCAzOS4xODU3OTkwNzIyOTc0OF0sXG4gKiAgICAgWy03Ni41MjgwMzY1OTQzOTA4NywgMzkuMTgzODM2NDg0NzU4N10sXG4gKiAgICAgWy03Ni41Mjk1Mzg2MzE0MzkyLCAzOS4xNzY4MzM5MjUwNzYwNl0sXG4gKiAgICAgWy03Ni41NDUyMDI3MzIwODYxOCwgMzkuMTc4NzYzNDQxMDY2NDJdXG4gKiBdKTtcbiAqXG4gKiBtYXAucmVtb3ZlU291cmNlKCdzb21lIGlkJyk7ICAvLyByZW1vdmVcbiAqL1xuY2xhc3MgQ2FudmFzU291cmNlIGV4dGVuZHMgSW1hZ2VTb3VyY2Uge1xuICAgIG9wdGlvbnM6IENhbnZhc1NvdXJjZVNwZWNpZmljYXRpb247XG4gICAgYW5pbWF0ZTogYm9vbGVhbjtcbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgcGxheTogKCkgPT4gdm9pZDtcbiAgICBwYXVzZTogKCkgPT4gdm9pZDtcbiAgICBfcGxheWluZzogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgb3B0aW9uczogQ2FudmFzU291cmNlU3BlY2lmaWNhdGlvbiwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgICAgICBzdXBlcihpZCwgb3B0aW9ucywgZGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuYW5pbWF0ZSA9IG9wdGlvbnMuYW5pbWF0ZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hbmltYXRlIDogdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGFuaW1hdGlvbi4gVGhlIGltYWdlIHdpbGwgYmUgY29waWVkIGZyb20gdGhlIGNhbnZhcyB0byB0aGUgbWFwIG9uIGVhY2ggZnJhbWUuXG4gICAgICogQG1ldGhvZCBwbGF5XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIENhbnZhc1NvdXJjZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYW5pbWF0aW9uLiBUaGUgbWFwIHdpbGwgZGlzcGxheSBhIHN0YXRpYyBjb3B5IG9mIHRoZSBjYW52YXMgaW1hZ2UuXG4gICAgICogQG1ldGhvZCBwYXVzZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBDYW52YXNTb3VyY2VcbiAgICAgKi9cblxuICAgIGxvYWQoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gdGhpcy5jYW52YXMgfHwgd2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMub3B0aW9ucy5jYW52YXMpO1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0O1xuXG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucygpKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKCdDYW52YXMgZGltZW5zaW9ucyBjYW5ub3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHplcm8uJykpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fcGxheWluZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1hcC5fcmVyZW5kZXIoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fZmluaXNoTG9hZGluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEhUTUwgYGNhbnZhc2AgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MQ2FudmFzRWxlbWVudH0gVGhlIEhUTUwgYGNhbnZhc2AgZWxlbWVudC5cbiAgICAgKi9cbiAgICBnZXRDYW52YXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcztcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0ZSkgdGhpcy5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGNhbnZhcydzIGNvb3JkaW5hdGVzIGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHNldENvb3JkaW5hdGVzXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIENhbnZhc1NvdXJjZVxuICAgICAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIEZvdXIgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzLFxuICAgICAqICAgcmVwcmVzZW50ZWQgYXMgYXJyYXlzIG9mIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgbnVtYmVycywgd2hpY2ggZGVmaW5lIHRoZSBjb3JuZXJzIG9mIHRoZSBjYW52YXMuXG4gICAgICogICBUaGUgY29vcmRpbmF0ZXMgc3RhcnQgYXQgdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgY2FudmFzIGFuZCBwcm9jZWVkIGluIGNsb2Nrd2lzZSBvcmRlci5cbiAgICAgKiAgIFRoZXkgZG8gbm90IGhhdmUgdG8gcmVwcmVzZW50IGEgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm5zIHtDYW52YXNTb3VyY2V9IHRoaXNcbiAgICAgKi9cbiAgICAvLyBzZXRDb29yZGluYXRlcyBpbmhlcml0ZWQgZnJvbSBJbWFnZVNvdXJjZVxuXG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgbGV0IHJlc2l6ZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jYW52YXMud2lkdGggIT09IHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgICAgICAgIHJlc2l6ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2FudmFzLmhlaWdodCAhPT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgICAgICAgICAgcmVzaXplID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucygpKSByZXR1cm47XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMudGlsZXMpLmxlbmd0aCA9PT0gMCkgcmV0dXJuOyAvLyBub3QgZW5vdWdoIGRhdGEgZm9yIGN1cnJlbnQgcG9zaXRpb25cblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5tYXAucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgaWYgKCF0aGlzLmJvdW5kc0J1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLl9ib3VuZHNBcnJheSwgcmFzdGVyQm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5ib3VuZHNWQU8pIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzVkFPID0gbmV3IFZlcnRleEFycmF5T2JqZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgdGhpcy5jYW52YXMsIGdsLlJHQkEpO1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNpemUpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZS51cGRhdGUodGhpcy5jYW52YXMpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3BsYXlpbmcpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHRoaXMuY2FudmFzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgdyBpbiB0aGlzLnRpbGVzKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy50aWxlc1t3XTtcbiAgICAgICAgICAgIGlmICh0aWxlLnN0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgICAgICAgICB0aWxlLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKTogT2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdjYW52YXMnLFxuICAgICAgICAgICAgY2FudmFzOiB0aGlzLmNhbnZhcyxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiB0aGlzLmNvb3JkaW5hdGVzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXlpbmc7XG4gICAgfVxuXG4gICAgX2hhc0ludmFsaWREaW1lbnNpb25zKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHggb2YgW3RoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHRdKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4oeCkgfHwgeCA8PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW52YXNTb3VyY2U7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBiaW5kQWxsIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHR5cGUge0V2ZW50LCBFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcCc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4vdGlsZSc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuXG4vKipcbiAqIFRoZSBgU291cmNlYCBpbnRlcmZhY2UgbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBlYWNoIHNvdXJjZSB0eXBlLCBpbmNsdWRpbmcgXCJjb3JlXCIgdHlwZXMgKGB2ZWN0b3JgLCBgcmFzdGVyYCxcbiAqIGB2aWRlb2AsIGV0Yy4pIGFuZCBhbGwgY3VzdG9tLCB0aGlyZC1wYXJ0eSB0eXBlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgaWQgZm9yIHRoZSBzb3VyY2UuIE11c3Qgbm90IGJlIHVzZWQgYnkgYW55IGV4aXN0aW5nIHNvdXJjZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFNvdXJjZSBvcHRpb25zLCBzcGVjaWZpYyB0byB0aGUgc291cmNlIHR5cGUgKGV4Y2VwdCBmb3IgYG9wdGlvbnMudHlwZWAsIHdoaWNoIGlzIGFsd2F5c1xuICogcmVxdWlyZWQpLlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudHlwZSBUaGUgc291cmNlIHR5cGUsIG1hdGNoaW5nIHRoZSB2YWx1ZSBvZiBgbmFtZWAgdXNlZCBpbiB7QGxpbmsgU3R5bGUjYWRkU291cmNlVHlwZX0uXG4gKiBAcGFyYW0ge0Rpc3BhdGNoZXJ9IGRpc3BhdGNoZXIgQSB7QGxpbmsgRGlzcGF0Y2hlcn0gaW5zdGFuY2UsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIHNlbmQgbWVzc2FnZXMgdG8gdGhlIHdvcmtlcnMuXG4gKlxuICogQGZpcmVzIGRhdGEgd2l0aCBge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdtZXRhZGF0YSd9YCB0byBpbmRpY2F0ZSB0aGF0IGFueSBuZWNlc3NhcnkgbWV0YWRhdGFcbiAqIGhhcyBiZWVuIGxvYWRlZCBzbyB0aGF0IGl0J3Mgb2theSB0byBjYWxsIGBsb2FkVGlsZWA7IGFuZCB3aXRoIGB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ2NvbnRlbnQnfWBcbiAqIHRvIGluZGljYXRlIHRoYXQgdGhlIHNvdXJjZSBkYXRhIGhhcyBjaGFuZ2VkLCBzbyB0aGF0IGFueSBjdXJyZW50IGNhY2hlcyBzaG91bGQgYmUgZmx1c2hlZC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZCBUaGUgaWQgZm9yIHRoZSBzb3VyY2UuICBNdXN0IG1hdGNoIHRoZSBpZCBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pbnpvb21cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXh6b29tXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzVGlsZUNsaXBwZWQgYGZhbHNlYCBpZiB0aWxlcyBjYW4gYmUgZHJhd24gb3V0c2lkZSB0aGVpciBib3VuZGFyaWVzLCBgdHJ1ZWAgaWYgdGhleSBjYW5ub3QuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHJlcGFyc2VPdmVyc2NhbGVkIGB0cnVlYCBpZiB0aWxlcyBzaG91bGQgYmUgc2VudCBiYWNrIHRvIHRoZSB3b3JrZXIgZm9yIGVhY2ggb3Zlcnpvb21lZCB6b29tXG4gKiBsZXZlbCwgYGZhbHNlYCBpZiBub3QuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHJvdW5kWm9vbSBgdHJ1ZWAgaWYgem9vbSBsZXZlbHMgYXJlIHJvdW5kZWQgdG8gdGhlIG5lYXJlc3QgaW50ZWdlciBpbiB0aGUgc291cmNlIGRhdGEsIGBmYWxzZWBcbiAqIGlmIHRoZXkgYXJlIGZsb29yLWVkIHRvIHRoZSBuZWFyZXN0IGludGVnZXIuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU291cmNlIHtcbiAgICAvKipcbiAgICAgKiBBbiBvcHRpb25hbCBVUkwgdG8gYSBzY3JpcHQgd2hpY2gsIHdoZW4gcnVuIGJ5IGEgV29ya2VyLCByZWdpc3RlcnMgYSB7QGxpbmsgV29ya2VyU291cmNlfVxuICAgICAqIGltcGxlbWVudGF0aW9uIGZvciB0aGlzIFNvdXJjZSB0eXBlIGJ5IGNhbGxpbmcgYHNlbGYucmVnaXN0ZXJXb3JrZXJTb3VyY2Uod29ya2VyU291cmNlOiBXb3JrZXJTb3VyY2UpYC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIC8vIFN0YXRpYyBpbnRlcmZhY2UgcHJvcGVydGllcyBhcmUgbm90IHN1cHBvcnRlZCBpbiBmbG93IGFzIG9mIDAuNjIuMC5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmxvdy9pc3N1ZXMvNTU5MFxuICAgIC8vIHN0YXRpYyB3b3JrZXJTb3VyY2VVUkw/OiBVUkw7XG5cbiAgICArdHlwZTogc3RyaW5nO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWluem9vbTogbnVtYmVyLFxuICAgIG1heHpvb206IG51bWJlcixcbiAgICB0aWxlU2l6ZTogbnVtYmVyLFxuICAgIGF0dHJpYnV0aW9uPzogc3RyaW5nLFxuXG4gICAgcm91bmRab29tPzogYm9vbGVhbixcbiAgICByZXBhcnNlT3ZlcnNjYWxlZD86IGJvb2xlYW4sXG4gICAgdmVjdG9yTGF5ZXJJZHM/OiBBcnJheTxzdHJpbmc+LFxuXG4gICAgaGFzVHJhbnNpdGlvbigpOiBib29sZWFuO1xuXG4gICAgZmlyZShldmVudDogRXZlbnQpOiBtaXhlZDtcblxuICAgICtvbkFkZD86IChtYXA6IE1hcCkgPT4gdm9pZDtcbiAgICArb25SZW1vdmU/OiAobWFwOiBNYXApID0+IHZvaWQ7XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pOiB2b2lkO1xuICAgICtoYXNUaWxlPzogKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCkgPT4gYm9vbGVhbjtcbiAgICArYWJvcnRUaWxlPzogKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikgPT4gdm9pZDtcbiAgICArdW5sb2FkVGlsZT86ICh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pID0+IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBBIHBsYWluIChzdHJpbmdpZmlhYmxlKSBKUyBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBzb3VyY2UuXG4gICAgICogQ3JlYXRpbmcgYSBzb3VyY2UgdXNpbmcgdGhlIHJldHVybmVkIG9iamVjdCBhcyB0aGUgYG9wdGlvbnNgIHNob3VsZCByZXN1bHQgaW4gYSBTb3VyY2UgdGhhdCBpc1xuICAgICAqIGVxdWl2YWxlbnQgdG8gdGhpcyBvbmUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzZXJpYWxpemUoKTogT2JqZWN0O1xuXG4gICAgK3ByZXBhcmU/OiAoKSA9PiB2b2lkO1xufVxuXG5pbXBvcnQgdmVjdG9yIGZyb20gJy4uL3NvdXJjZS92ZWN0b3JfdGlsZV9zb3VyY2UnO1xuaW1wb3J0IHJhc3RlciBmcm9tICcuLi9zb3VyY2UvcmFzdGVyX3RpbGVfc291cmNlJztcbmltcG9ydCByYXN0ZXJEZW0gZnJvbSAnLi4vc291cmNlL3Jhc3Rlcl9kZW1fdGlsZV9zb3VyY2UnO1xuaW1wb3J0IGdlb2pzb24gZnJvbSAnLi4vc291cmNlL2dlb2pzb25fc291cmNlJztcbmltcG9ydCB2aWRlbyBmcm9tICcuLi9zb3VyY2UvdmlkZW9fc291cmNlJztcbmltcG9ydCBpbWFnZSBmcm9tICcuLi9zb3VyY2UvaW1hZ2Vfc291cmNlJztcbmltcG9ydCBjYW52YXMgZnJvbSAnLi4vc291cmNlL2NhbnZhc19zb3VyY2UnO1xuXG5jb25zdCBzb3VyY2VUeXBlcyA9IHtcbiAgICB2ZWN0b3IsXG4gICAgcmFzdGVyLFxuICAgICdyYXN0ZXItZGVtJzogcmFzdGVyRGVtLFxuICAgIGdlb2pzb24sXG4gICAgdmlkZW8sXG4gICAgaW1hZ2UsXG4gICAgY2FudmFzXG59O1xuXG4vKlxuICogQ3JlYXRlcyBhIHRpbGVkIGRhdGEgc291cmNlIGluc3RhbmNlIGdpdmVuIGFuIG9wdGlvbnMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSBpZFxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBBIHNvdXJjZSBkZWZpbml0aW9uIG9iamVjdCBjb21wbGlhbnQgd2l0aFxuICogW2BtYXBib3gtZ2wtc3R5bGUtc3BlY2BdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvI3NvdXJjZXMpIG9yLCBmb3IgYSB0aGlyZC1wYXJ0eSBzb3VyY2UgdHlwZSxcbiAgKiB3aXRoIHRoYXQgdHlwZSdzIHJlcXVpcmVtZW50cy5cbiAqIEBwYXJhbSB7RGlzcGF0Y2hlcn0gZGlzcGF0Y2hlclxuICogQHJldHVybnMge1NvdXJjZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZSA9IGZ1bmN0aW9uKGlkOiBzdHJpbmcsIHNwZWNpZmljYXRpb246IFNvdXJjZVNwZWNpZmljYXRpb24sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICBjb25zdCBzb3VyY2UgPSBuZXcgc291cmNlVHlwZXNbc3BlY2lmaWNhdGlvbi50eXBlXShpZCwgKHNwZWNpZmljYXRpb246IGFueSksIGRpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQpO1xuXG4gICAgaWYgKHNvdXJjZS5pZCAhPT0gaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBTb3VyY2UgaWQgdG8gYmUgJHtpZH0gaW5zdGVhZCBvZiAke3NvdXJjZS5pZH1gKTtcbiAgICB9XG5cbiAgICBiaW5kQWxsKFsnbG9hZCcsICdhYm9ydCcsICd1bmxvYWQnLCAnc2VyaWFsaXplJywgJ3ByZXBhcmUnXSwgc291cmNlKTtcbiAgICByZXR1cm4gc291cmNlO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFR5cGUgPSBmdW5jdGlvbiAobmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHNvdXJjZVR5cGVzW25hbWVdO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldFR5cGUgPSBmdW5jdGlvbiAobmFtZTogc3RyaW5nLCB0eXBlOiBDbGFzczxTb3VyY2U+KSB7XG4gICAgc291cmNlVHlwZXNbbmFtZV0gPSB0eXBlO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBBY3RvciB7XG4gICAgc2VuZCh0eXBlOiBzdHJpbmcsIGRhdGE6IE9iamVjdCwgY2FsbGJhY2s6IENhbGxiYWNrPGFueT4pOiB2b2lkO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IHR5cGUgU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBDb29yZGluYXRlIGZyb20gJy4uL2dlby9jb29yZGluYXRlJztcbmltcG9ydCB0eXBlIENvbGxpc2lvbkluZGV4IGZyb20gJy4uL3N5bWJvbC9jb2xsaXNpb25faW5kZXgnO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlSZW5kZXJlZEZlYXR1cmVzKHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZUxheWVyczoge1tzdHJpbmddOiBTdHlsZUxheWVyfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeUdlb21ldHJ5OiBBcnJheTxDb29yZGluYXRlPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgZmlsdGVyOiBGaWx0ZXJTcGVjaWZpY2F0aW9uLCBsYXllcnM6IEFycmF5PHN0cmluZz4gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25JbmRleDogP0NvbGxpc2lvbkluZGV4KSB7XG4gICAgY29uc3QgbWF4UGl0Y2hTY2FsZUZhY3RvciA9IHRyYW5zZm9ybS5tYXhQaXRjaFNjYWxlRmFjdG9yKCk7XG4gICAgY29uc3QgdGlsZXNJbiA9IHNvdXJjZUNhY2hlLnRpbGVzSW4ocXVlcnlHZW9tZXRyeSwgbWF4UGl0Y2hTY2FsZUZhY3Rvcik7XG5cbiAgICB0aWxlc0luLnNvcnQoc29ydFRpbGVzSW4pO1xuXG4gICAgY29uc3QgcmVuZGVyZWRGZWF0dXJlTGF5ZXJzID0gW107XG4gICAgZm9yIChjb25zdCB0aWxlSW4gb2YgdGlsZXNJbikge1xuICAgICAgICByZW5kZXJlZEZlYXR1cmVMYXllcnMucHVzaCh7XG4gICAgICAgICAgICB3cmFwcGVkVGlsZUlEOiB0aWxlSW4udGlsZUlELndyYXBwZWQoKS5rZXksXG4gICAgICAgICAgICBxdWVyeVJlc3VsdHM6IHRpbGVJbi50aWxlLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgICAgICAgICAgICBzdHlsZUxheWVycyxcbiAgICAgICAgICAgICAgICB0aWxlSW4ucXVlcnlHZW9tZXRyeSxcbiAgICAgICAgICAgICAgICB0aWxlSW4uc2NhbGUsXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICBtYXhQaXRjaFNjYWxlRmFjdG9yLFxuICAgICAgICAgICAgICAgIHNvdXJjZUNhY2hlLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgodGlsZUluLnRpbGVJRC50b1Vud3JhcHBlZCgpKSxcbiAgICAgICAgICAgICAgICBzb3VyY2VDYWNoZS5pZCxcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25JbmRleClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lcmdlUmVuZGVyZWRGZWF0dXJlTGF5ZXJzKHJlbmRlcmVkRmVhdHVyZUxheWVycyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeVNvdXJjZUZlYXR1cmVzKHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgcGFyYW1zOiBhbnkpIHtcbiAgICBjb25zdCB0aWxlcyA9IHNvdXJjZUNhY2hlLmdldFJlbmRlcmFibGVJZHMoKS5tYXAoKGlkKSA9PiB7XG4gICAgICAgIHJldHVybiBzb3VyY2VDYWNoZS5nZXRUaWxlQnlJRChpZCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGNvbnN0IGRhdGFUaWxlcyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHRpbGVzW2ldO1xuICAgICAgICBjb25zdCBkYXRhSUQgPSB0aWxlLnRpbGVJRC5jYW5vbmljYWwua2V5O1xuICAgICAgICBpZiAoIWRhdGFUaWxlc1tkYXRhSURdKSB7XG4gICAgICAgICAgICBkYXRhVGlsZXNbZGF0YUlEXSA9IHRydWU7XG4gICAgICAgICAgICB0aWxlLnF1ZXJ5U291cmNlRmVhdHVyZXMocmVzdWx0LCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gc29ydFRpbGVzSW4oYSwgYikge1xuICAgIGNvbnN0IGlkQSA9IGEudGlsZUlEO1xuICAgIGNvbnN0IGlkQiA9IGIudGlsZUlEO1xuICAgIHJldHVybiAoaWRBLm92ZXJzY2FsZWRaIC0gaWRCLm92ZXJzY2FsZWRaKSB8fCAoaWRBLmNhbm9uaWNhbC55IC0gaWRCLmNhbm9uaWNhbC55KSB8fCAoaWRBLndyYXAgLSBpZEIud3JhcCkgfHwgKGlkQS5jYW5vbmljYWwueCAtIGlkQi5jYW5vbmljYWwueCk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlUmVuZGVyZWRGZWF0dXJlTGF5ZXJzKHRpbGVzKSB7XG4gICAgLy8gTWVyZ2UgcmVzdWx0cyBmcm9tIGFsbCB0aWxlcywgYnV0IGlmIHR3byB0aWxlcyBzaGFyZSB0aGUgc2FtZVxuICAgIC8vIHdyYXBwZWQgSUQsIGRvbid0IGR1cGxpY2F0ZSBmZWF0dXJlcyBiZXR3ZWVuIHRoZSB0d28gdGlsZXNcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBjb25zdCB3cmFwcGVkSURMYXllck1hcCA9IHt9O1xuICAgIGZvciAoY29uc3QgdGlsZSBvZiB0aWxlcykge1xuICAgICAgICBjb25zdCBxdWVyeVJlc3VsdHMgPSB0aWxlLnF1ZXJ5UmVzdWx0cztcbiAgICAgICAgY29uc3Qgd3JhcHBlZElEID0gdGlsZS53cmFwcGVkVGlsZUlEO1xuICAgICAgICBjb25zdCB3cmFwcGVkSURMYXllcnMgPSB3cmFwcGVkSURMYXllck1hcFt3cmFwcGVkSURdID0gd3JhcHBlZElETGF5ZXJNYXBbd3JhcHBlZElEXSB8fCB7fTtcbiAgICAgICAgZm9yIChjb25zdCBsYXllcklEIGluIHF1ZXJ5UmVzdWx0cykge1xuICAgICAgICAgICAgY29uc3QgdGlsZUZlYXR1cmVzID0gcXVlcnlSZXN1bHRzW2xheWVySURdO1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZElERmVhdHVyZXMgPSB3cmFwcGVkSURMYXllcnNbbGF5ZXJJRF0gPSB3cmFwcGVkSURMYXllcnNbbGF5ZXJJRF0gfHwge307XG4gICAgICAgICAgICBjb25zdCByZXN1bHRGZWF0dXJlcyA9IHJlc3VsdFtsYXllcklEXSA9IHJlc3VsdFtsYXllcklEXSB8fCBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdGlsZUZlYXR1cmUgb2YgdGlsZUZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF3cmFwcGVkSURGZWF0dXJlc1t0aWxlRmVhdHVyZS5mZWF0dXJlSW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZWRJREZlYXR1cmVzW3RpbGVGZWF0dXJlLmZlYXR1cmVJbmRleF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRGZWF0dXJlcy5wdXNoKHRpbGVGZWF0dXJlLmZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLy8gQGZsb3dcblxuLyoqXG4gKiBHcmlkSW5kZXggaXMgYSBkYXRhIHN0cnVjdHVyZSBmb3IgdGVzdGluZyB0aGUgaW50ZXJzZWN0aW9uIG9mXG4gKiBjaXJjbGVzIGFuZCByZWN0YW5nbGVzIGluIGEgMmQgcGxhbmUuXG4gKiBJdCBpcyBvcHRpbWl6ZWQgZm9yIHJhcGlkIGluc2VydGlvbiBhbmQgcXVlcnlpbmcuXG4gKiBHcmlkSW5kZXggc3BsaXRzIHRoZSBwbGFuZSBpbnRvIGEgc2V0IG9mIFwiY2VsbHNcIiBhbmQga2VlcHMgdHJhY2tcbiAqIG9mIHdoaWNoIGdlb21ldHJpZXMgaW50ZXJzZWN0IHdpdGggZWFjaCBjZWxsLiBBdCBxdWVyeSB0aW1lLFxuICogZnVsbCBnZW9tZXRyeSBjb21wYXJpc29ucyBhcmUgb25seSBkb25lIGZvciBpdGVtcyB0aGF0IHNoYXJlXG4gKiBhdCBsZWFzdCBvbmUgY2VsbC4gQXMgbG9uZyBhcyB0aGUgZ2VvbWV0cmllcyBhcmUgcmVsYXRpdmVseVxuICogdW5pZm9ybWx5IGRpc3RyaWJ1dGVkIGFjcm9zcyB0aGUgcGxhbmUsIHRoaXMgZ3JlYXRseSByZWR1Y2VzXG4gKiB0aGUgbnVtYmVyIG9mIGNvbXBhcmlzb25zIG5lY2Vzc2FyeS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBHcmlkSW5kZXgge1xuICAgIGNpcmNsZUtleXM6IEFycmF5PGFueT47XG4gICAgYm94S2V5czogQXJyYXk8YW55PjtcbiAgICBib3hDZWxsczogQXJyYXk8QXJyYXk8bnVtYmVyPj47XG4gICAgY2lyY2xlQ2VsbHM6IEFycmF5PEFycmF5PG51bWJlcj4+O1xuICAgIGJib3hlczogQXJyYXk8bnVtYmVyPjtcbiAgICBjaXJjbGVzOiBBcnJheTxudW1iZXI+O1xuICAgIHhDZWxsQ291bnQ6IG51bWJlcjtcbiAgICB5Q2VsbENvdW50OiBudW1iZXI7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICB4U2NhbGU6IG51bWJlcjtcbiAgICB5U2NhbGU6IG51bWJlcjtcbiAgICBib3hVaWQ6IG51bWJlcjtcbiAgICBjaXJjbGVVaWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY2VsbFNpemU6IG51bWJlcikge1xuICAgICAgICBjb25zdCBib3hDZWxscyA9IHRoaXMuYm94Q2VsbHMgPSBbXTtcbiAgICAgICAgY29uc3QgY2lyY2xlQ2VsbHMgPSB0aGlzLmNpcmNsZUNlbGxzID0gW107XG5cbiAgICAgICAgLy8gTW9yZSBjZWxscyAtPiBmZXdlciBnZW9tZXRyaWVzIHRvIGNoZWNrIHBlciBjZWxsLCBidXQgaXRlbXMgdGVuZFxuICAgICAgICAvLyB0byBiZSBzcGxpdCBhY3Jvc3MgbW9yZSBjZWxscy5cbiAgICAgICAgLy8gU3dlZXQgc3BvdCBhbGxvd3MgbW9zdCBzbWFsbCBpdGVtcyB0byBmaXQgaW4gb25lIGNlbGxcbiAgICAgICAgdGhpcy54Q2VsbENvdW50ID0gTWF0aC5jZWlsKHdpZHRoIC8gY2VsbFNpemUpO1xuICAgICAgICB0aGlzLnlDZWxsQ291bnQgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gY2VsbFNpemUpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy54Q2VsbENvdW50ICogdGhpcy55Q2VsbENvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGJveENlbGxzLnB1c2goW10pO1xuICAgICAgICAgICAgY2lyY2xlQ2VsbHMucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaXJjbGVLZXlzID0gW107XG4gICAgICAgIHRoaXMuYm94S2V5cyA9IFtdO1xuICAgICAgICB0aGlzLmJib3hlcyA9IFtdO1xuICAgICAgICB0aGlzLmNpcmNsZXMgPSBbXTtcblxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnhTY2FsZSA9IHRoaXMueENlbGxDb3VudCAvIHdpZHRoO1xuICAgICAgICB0aGlzLnlTY2FsZSA9IHRoaXMueUNlbGxDb3VudCAvIGhlaWdodDtcbiAgICAgICAgdGhpcy5ib3hVaWQgPSAwO1xuICAgICAgICB0aGlzLmNpcmNsZVVpZCA9IDA7XG4gICAgfVxuXG4gICAga2V5c0xlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm94S2V5cy5sZW5ndGggKyB0aGlzLmNpcmNsZUtleXMubGVuZ3RoO1xuICAgIH1cblxuICAgIGluc2VydChrZXk6IGFueSwgeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9mb3JFYWNoQ2VsbCh4MSwgeTEsIHgyLCB5MiwgdGhpcy5faW5zZXJ0Qm94Q2VsbCwgdGhpcy5ib3hVaWQrKyk7XG4gICAgICAgIHRoaXMuYm94S2V5cy5wdXNoKGtleSk7XG4gICAgICAgIHRoaXMuYmJveGVzLnB1c2goeDEpO1xuICAgICAgICB0aGlzLmJib3hlcy5wdXNoKHkxKTtcbiAgICAgICAgdGhpcy5iYm94ZXMucHVzaCh4Mik7XG4gICAgICAgIHRoaXMuYmJveGVzLnB1c2goeTIpO1xuICAgIH1cblxuICAgIGluc2VydENpcmNsZShrZXk6IGFueSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyKSB7XG4gICAgICAgIC8vIEluc2VydCBjaXJjbGUgaW50byBncmlkIGZvciBhbGwgY2VsbHMgaW4gdGhlIGNpcmN1bXNjcmliaW5nIHNxdWFyZVxuICAgICAgICAvLyBJdCdzIG1vcmUgdGhhbiBuZWNlc3NhcnkgKGJ5IGEgZmFjdG9yIG9mIDQvUEkpLCBidXQgZmFzdCB0byBpbnNlcnRcbiAgICAgICAgdGhpcy5fZm9yRWFjaENlbGwoeCAtIHJhZGl1cywgeSAtIHJhZGl1cywgeCArIHJhZGl1cywgeSArIHJhZGl1cywgdGhpcy5faW5zZXJ0Q2lyY2xlQ2VsbCwgdGhpcy5jaXJjbGVVaWQrKyk7XG4gICAgICAgIHRoaXMuY2lyY2xlS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIHRoaXMuY2lyY2xlcy5wdXNoKHgpO1xuICAgICAgICB0aGlzLmNpcmNsZXMucHVzaCh5KTtcbiAgICAgICAgdGhpcy5jaXJjbGVzLnB1c2gocmFkaXVzKTtcbiAgICB9XG5cbiAgICBfaW5zZXJ0Qm94Q2VsbCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBjZWxsSW5kZXg6IG51bWJlciwgdWlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ib3hDZWxsc1tjZWxsSW5kZXhdLnB1c2godWlkKTtcbiAgICB9XG5cbiAgICBfaW5zZXJ0Q2lyY2xlQ2VsbCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBjZWxsSW5kZXg6IG51bWJlciwgdWlkOiBudW1iZXIpICB7XG4gICAgICAgIHRoaXMuY2lyY2xlQ2VsbHNbY2VsbEluZGV4XS5wdXNoKHVpZCk7XG4gICAgfVxuXG4gICAgX3F1ZXJ5KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIGhpdFRlc3Q6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHgyIDwgMCB8fCB4MSA+IHRoaXMud2lkdGggfHwgeTIgPCAwIHx8IHkxID4gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBoaXRUZXN0ID8gZmFsc2UgOiBbXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGlmICh4MSA8PSAwICYmIHkxIDw9IDAgJiYgdGhpcy53aWR0aCA8PSB4MiAmJiB0aGlzLmhlaWdodCA8PSB5Mikge1xuICAgICAgICAgICAgLy8gV2UgdXNlIGBBcnJheSNzbGljZWAgYmVjYXVzZSBgdGhpcy5rZXlzYCBtYXkgYmUgYSBgSW50MzJBcnJheWAgYW5kXG4gICAgICAgICAgICAvLyBzb21lIGJyb3dzZXJzIChTYWZhcmkgYW5kIElFKSBkbyBub3Qgc3VwcG9ydCBgVHlwZWRBcnJheSNzbGljZWBcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1R5cGVkQXJyYXkvc2xpY2UjQnJvd3Nlcl9jb21wYXRpYmlsaXR5XG4gICAgICAgICAgICByZXN1bHQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmJveEtleXMpLmNvbmNhdCh0aGlzLmNpcmNsZUtleXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlBcmdzID0ge1xuICAgICAgICAgICAgICAgIGhpdFRlc3QsXG4gICAgICAgICAgICAgICAgc2VlblVpZHM6IHsgYm94OiB7fSwgY2lyY2xlOiB7fSB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fZm9yRWFjaENlbGwoeDEsIHkxLCB4MiwgeTIsIHRoaXMuX3F1ZXJ5Q2VsbCwgcmVzdWx0LCBxdWVyeUFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaXRUZXN0ID8gcmVzdWx0Lmxlbmd0aCA+IDAgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgX3F1ZXJ5Q2lyY2xlKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgaGl0VGVzdDogYm9vbGVhbikge1xuICAgICAgICAvLyBJbnNlcnQgY2lyY2xlIGludG8gZ3JpZCBmb3IgYWxsIGNlbGxzIGluIHRoZSBjaXJjdW1zY3JpYmluZyBzcXVhcmVcbiAgICAgICAgLy8gSXQncyBtb3JlIHRoYW4gbmVjZXNzYXJ5IChieSBhIGZhY3RvciBvZiA0L1BJKSwgYnV0IGZhc3QgdG8gaW5zZXJ0XG4gICAgICAgIGNvbnN0IHgxID0geCAtIHJhZGl1cztcbiAgICAgICAgY29uc3QgeDIgPSB4ICsgcmFkaXVzO1xuICAgICAgICBjb25zdCB5MSA9IHkgLSByYWRpdXM7XG4gICAgICAgIGNvbnN0IHkyID0geSArIHJhZGl1cztcbiAgICAgICAgaWYgKHgyIDwgMCB8fCB4MSA+IHRoaXMud2lkdGggfHwgeTIgPCAwIHx8IHkxID4gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBoaXRUZXN0ID8gZmFsc2UgOiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJveCBxdWVyeSBlYXJseSBleGl0cyBpZiB0aGUgYm91bmRpbmcgYm94IGlzIGxhcmdlciB0aGFuIHRoZSBncmlkLCBidXQgd2UgZG9uJ3QgZG9cbiAgICAgICAgLy8gdGhlIGVxdWl2YWxlbnQgY2FsY3VsYXRpb24gZm9yIGNpcmNsZSBxdWVyaWVzIGJlY2F1c2UgZWFybHkgZXhpdCBpcyBsZXNzIGxpa2VseVxuICAgICAgICAvLyBhbmQgdGhlIGNhbGN1bGF0aW9uIGlzIG1vcmUgZXhwZW5zaXZlXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBjb25zdCBxdWVyeUFyZ3MgPSB7XG4gICAgICAgICAgICBoaXRUZXN0LFxuICAgICAgICAgICAgY2lyY2xlOiB7IHg6IHgsIHk6IHksIHJhZGl1czogcmFkaXVzIH0sXG4gICAgICAgICAgICBzZWVuVWlkczogeyBib3g6IHt9LCBjaXJjbGU6IHt9IH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZm9yRWFjaENlbGwoeDEsIHkxLCB4MiwgeTIsIHRoaXMuX3F1ZXJ5Q2VsbENpcmNsZSwgcmVzdWx0LCBxdWVyeUFyZ3MpO1xuICAgICAgICByZXR1cm4gaGl0VGVzdCA/IHJlc3VsdC5sZW5ndGggPiAwIDogcmVzdWx0O1xuICAgIH1cblxuICAgIHF1ZXJ5KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBBcnJheTxhbnk+IHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9xdWVyeSh4MSwgeTEsIHgyLCB5MiwgZmFsc2UpOiBhbnkpO1xuICAgIH1cblxuICAgIGhpdFRlc3QoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IGJvb2xlYW4gIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9xdWVyeSh4MSwgeTEsIHgyLCB5MiwgdHJ1ZSk6IGFueSk7XG4gICAgfVxuXG4gICAgaGl0VGVzdENpcmNsZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9xdWVyeUNpcmNsZSh4LCB5LCByYWRpdXMsIHRydWUpOiBhbnkpO1xuICAgIH1cblxuICAgIF9xdWVyeUNlbGwoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgY2VsbEluZGV4OiBudW1iZXIsIHJlc3VsdDogYW55LCBxdWVyeUFyZ3M6IGFueSkge1xuICAgICAgICBjb25zdCBzZWVuVWlkcyA9IHF1ZXJ5QXJncy5zZWVuVWlkcztcbiAgICAgICAgY29uc3QgYm94Q2VsbCA9IHRoaXMuYm94Q2VsbHNbY2VsbEluZGV4XTtcbiAgICAgICAgaWYgKGJveENlbGwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGJib3hlcyA9IHRoaXMuYmJveGVzO1xuICAgICAgICAgICAgZm9yIChjb25zdCBib3hVaWQgb2YgYm94Q2VsbCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VlblVpZHMuYm94W2JveFVpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VlblVpZHMuYm94W2JveFVpZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBib3hVaWQgKiA0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHgxIDw9IGJib3hlc1tvZmZzZXQgKyAyXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh5MSA8PSBiYm94ZXNbb2Zmc2V0ICsgM10pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoeDIgPj0gYmJveGVzW29mZnNldCArIDBdKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHkyID49IGJib3hlc1tvZmZzZXQgKyAxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWVyeUFyZ3MuaGl0VGVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmJveEtleXNbYm94VWlkXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2lyY2xlQ2VsbCA9IHRoaXMuY2lyY2xlQ2VsbHNbY2VsbEluZGV4XTtcbiAgICAgICAgaWYgKGNpcmNsZUNlbGwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZXMgPSB0aGlzLmNpcmNsZXM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNpcmNsZVVpZCBvZiBjaXJjbGVDZWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWVuVWlkcy5jaXJjbGVbY2lyY2xlVWlkXSkge1xuICAgICAgICAgICAgICAgICAgICBzZWVuVWlkcy5jaXJjbGVbY2lyY2xlVWlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGNpcmNsZVVpZCAqIDM7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaXJjbGVBbmRSZWN0Q29sbGlkZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0ICsgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGVzW29mZnNldCArIDJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB5MSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHgyLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVlcnlBcmdzLmhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5jaXJjbGVLZXlzW2NpcmNsZVVpZF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3F1ZXJ5Q2VsbENpcmNsZSh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBjZWxsSW5kZXg6IG51bWJlciwgcmVzdWx0OiBhbnksIHF1ZXJ5QXJnczogYW55KSB7XG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IHF1ZXJ5QXJncy5jaXJjbGU7XG4gICAgICAgIGNvbnN0IHNlZW5VaWRzID0gcXVlcnlBcmdzLnNlZW5VaWRzO1xuICAgICAgICBjb25zdCBib3hDZWxsID0gdGhpcy5ib3hDZWxsc1tjZWxsSW5kZXhdO1xuICAgICAgICBpZiAoYm94Q2VsbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgYmJveGVzID0gdGhpcy5iYm94ZXM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJveFVpZCBvZiBib3hDZWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWVuVWlkcy5ib3hbYm94VWlkXSkge1xuICAgICAgICAgICAgICAgICAgICBzZWVuVWlkcy5ib3hbYm94VWlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGJveFVpZCAqIDQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaXJjbGVBbmRSZWN0Q29sbGlkZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS54LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLnksXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUucmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmJveGVzW29mZnNldCArIDBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmJveGVzW29mZnNldCArIDFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmJveGVzW29mZnNldCArIDJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmJveGVzW29mZnNldCArIDNdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNpcmNsZUNlbGwgPSB0aGlzLmNpcmNsZUNlbGxzW2NlbGxJbmRleF07XG4gICAgICAgIGlmIChjaXJjbGVDZWxsICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjaXJjbGVzID0gdGhpcy5jaXJjbGVzO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjaXJjbGVVaWQgb2YgY2lyY2xlQ2VsbCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VlblVpZHMuY2lyY2xlW2NpcmNsZVVpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VlblVpZHMuY2lyY2xlW2NpcmNsZVVpZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBjaXJjbGVVaWQgKiAzO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2lyY2xlc0NvbGxpZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGVzW29mZnNldF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGVzW29mZnNldCArIDFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXQgKyAyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS54LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLnksXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUucmFkaXVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9mb3JFYWNoQ2VsbCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBmbjogYW55LCBhcmcxOiBhbnksIGFyZzI/OiBhbnkpIHtcbiAgICAgICAgY29uc3QgY3gxID0gdGhpcy5fY29udmVydFRvWENlbGxDb29yZCh4MSk7XG4gICAgICAgIGNvbnN0IGN5MSA9IHRoaXMuX2NvbnZlcnRUb1lDZWxsQ29vcmQoeTEpO1xuICAgICAgICBjb25zdCBjeDIgPSB0aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKHgyKTtcbiAgICAgICAgY29uc3QgY3kyID0gdGhpcy5fY29udmVydFRvWUNlbGxDb29yZCh5Mik7XG5cbiAgICAgICAgZm9yIChsZXQgeCA9IGN4MTsgeCA8PSBjeDI7IHgrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IGN5MTsgeSA8PSBjeTI7IHkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNlbGxJbmRleCA9IHRoaXMueENlbGxDb3VudCAqIHkgKyB4O1xuICAgICAgICAgICAgICAgIGlmIChmbi5jYWxsKHRoaXMsIHgxLCB5MSwgeDIsIHkyLCBjZWxsSW5kZXgsIGFyZzEsIGFyZzIpKSByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY29udmVydFRvWENlbGxDb29yZCh4OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMueENlbGxDb3VudCAtIDEsIE1hdGguZmxvb3IoeCAqIHRoaXMueFNjYWxlKSkpO1xuICAgIH1cblxuICAgIF9jb252ZXJ0VG9ZQ2VsbENvb3JkKHk6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy55Q2VsbENvdW50IC0gMSwgTWF0aC5mbG9vcih5ICogdGhpcy55U2NhbGUpKSk7XG4gICAgfVxuXG4gICAgX2NpcmNsZXNDb2xsaWRlKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHIxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIHIyOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgZHggPSB4MiAtIHgxO1xuICAgICAgICBjb25zdCBkeSA9IHkyIC0geTE7XG4gICAgICAgIGNvbnN0IGJvdGhSYWRpaSA9IHIxICsgcjI7XG4gICAgICAgIHJldHVybiAoYm90aFJhZGlpICogYm90aFJhZGlpKSA+IChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgfVxuXG4gICAgX2NpcmNsZUFuZFJlY3RDb2xsaWRlKGNpcmNsZVg6IG51bWJlciwgY2lyY2xlWTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBoYWxmUmVjdFdpZHRoID0gKHgyIC0geDEpIC8gMjtcbiAgICAgICAgY29uc3QgZGlzdFggPSBNYXRoLmFicyhjaXJjbGVYIC0gKHgxICsgaGFsZlJlY3RXaWR0aCkpO1xuICAgICAgICBpZiAoZGlzdFggPiAoaGFsZlJlY3RXaWR0aCArIHJhZGl1cykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhhbGZSZWN0SGVpZ2h0ID0gKHkyIC0geTEpIC8gMjtcbiAgICAgICAgY29uc3QgZGlzdFkgPSBNYXRoLmFicyhjaXJjbGVZIC0gKHkxICsgaGFsZlJlY3RIZWlnaHQpKTtcbiAgICAgICAgaWYgKGRpc3RZID4gKGhhbGZSZWN0SGVpZ2h0ICsgcmFkaXVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3RYIDw9IGhhbGZSZWN0V2lkdGggfHwgZGlzdFkgPD0gaGFsZlJlY3RIZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHggPSBkaXN0WCAtIGhhbGZSZWN0V2lkdGg7XG4gICAgICAgIGNvbnN0IGR5ID0gZGlzdFkgLSBoYWxmUmVjdEhlaWdodDtcbiAgICAgICAgcmV0dXJuIChkeCAqIGR4ICsgZHkgKiBkeSA8PSAocmFkaXVzICogcmFkaXVzKSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcmlkSW5kZXg7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5cbmltcG9ydCB7IG1hdDQsIHZlYzQgfSBmcm9tICdAbWFwYm94L2dsLW1hdHJpeCc7XG5pbXBvcnQgKiBhcyBzeW1ib2xTaXplIGZyb20gJy4vc3ltYm9sX3NpemUnO1xuaW1wb3J0IHsgYWRkRHluYW1pY0F0dHJpYnV0ZXMgfSBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0JztcbmltcG9ydCBwcm9wZXJ0aWVzIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL3N5bWJvbF9zdHlsZV9sYXllcl9wcm9wZXJ0aWVzJztcbmNvbnN0IHN5bWJvbExheW91dFByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmxheW91dDtcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuLi9yZW5kZXIvcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybSc7XG5pbXBvcnQgdHlwZSBTeW1ib2xCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSB7XG4gICAgR2x5cGhPZmZzZXRBcnJheSxcbiAgICBTeW1ib2xMaW5lVmVydGV4QXJyYXksXG4gICAgU3ltYm9sRHluYW1pY0xheW91dEFycmF5XG59IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMnO1xuaW1wb3J0IHsgV3JpdGluZ01vZGUgfSBmcm9tICcuLi9zeW1ib2wvc2hhcGluZyc7XG5cbmV4cG9ydCB7IHVwZGF0ZUxpbmVMYWJlbHMsIGdldExhYmVsUGxhbmVNYXRyaXgsIGdldEdsQ29vcmRNYXRyaXgsIHByb2plY3QsIHBsYWNlRmlyc3RBbmRMYXN0R2x5cGgsIHh5VHJhbnNmb3JtTWF0NCB9O1xuXG4vKlxuICogIyBPdmVydmlldyBvZiBjb29yZGluYXRlIHNwYWNlc1xuICpcbiAqICMjIFRpbGUgY29vcmRpbmF0ZSBzcGFjZXNcbiAqIEVhY2ggbGFiZWwgaGFzIGFuIGFuY2hvci4gU29tZSBsYWJlbHMgaGF2ZSBjb3JyZXNwb25kaW5nIGxpbmUgZ2VvbWV0cmllcy5cbiAqIFRoZSBwb2ludHMgZm9yIGJvdGggYW5jaG9ycyBhbmQgbGluZXMgYXJlIHN0b3JlZCBpbiB0aWxlIHVuaXRzLiBFYWNoIHRpbGUgaGFzIGl0J3Mgb3duXG4gKiBjb29yZGluYXRlIHNwYWNlIGdvaW5nIGZyb20gKDAsIDApIGF0IHRoZSB0b3AgbGVmdCB0byAoRVhURU5ULCBFWFRFTlQpIGF0IHRoZSBib3R0b20gcmlnaHQuXG4gKlxuICogIyMgR0wgY29vcmRpbmF0ZSBzcGFjZVxuICogQXQgdGhlIGVuZCBvZiBldmVyeXRoaW5nLCB0aGUgdmVydGV4IHNoYWRlciBuZWVkcyB0byBwcm9kdWNlIGEgcG9zaXRpb24gaW4gR0wgY29vcmRpbmF0ZSBzcGFjZSxcbiAqIHdoaWNoIGlzICgtMSwgMSkgYXQgdGhlIHRvcCBsZWZ0IGFuZCAoMSwgLTEpIGluIHRoZSBib3R0b20gcmlnaHQuXG4gKlxuICogIyMgTWFwIHBpeGVsIGNvb3JkaW5hdGUgc3BhY2VzXG4gKiBFYWNoIHRpbGUgaGFzIGEgcGl4ZWwgY29vcmRpbmF0ZSBzcGFjZS4gSXQncyBqdXN0IHRoZSB0aWxlIHVuaXRzIHNjYWxlZCBzbyB0aGF0IG9uZSB1bml0IGlzXG4gKiB3aGF0ZXZlciBjb3VudHMgYXMgMSBwaXhlbCBhdCB0aGUgY3VycmVudCB6b29tLlxuICogVGhpcyBzcGFjZSBpcyB1c2VkIGZvciBwaXRjaC1hbGlnbm1lbnQ9bWFwLCByb3RhdGlvbi1hbGlnbm1lbnQ9bWFwXG4gKlxuICogIyMgUm90YXRlZCBtYXAgcGl4ZWwgY29vcmRpbmF0ZSBzcGFjZXNcbiAqIExpa2UgdGhlIGFib3ZlLCBidXQgcm90YXRlZCBzbyBheGlzIG9mIHRoZSBzcGFjZSBhcmUgYWxpZ25lZCB3aXRoIHRoZSB2aWV3cG9ydCBpbnN0ZWFkIG9mIHRoZSB0aWxlLlxuICogVGhpcyBzcGFjZSBpcyB1c2VkIGZvciBwaXRjaC1hbGlnbm1lbnQ9bWFwLCByb3RhdGlvbi1hbGlnbm1lbnQ9dmlld3BvcnRcbiAqXG4gKiAjIyBWaWV3cG9ydCBwaXhlbCBjb29yZGluYXRlIHNwYWNlXG4gKiAoMCwgMCkgaXMgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSBjYW52YXMgYW5kIChwaXhlbFdpZHRoLCBwaXhlbEhlaWdodCkgaXMgYXQgdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcbiAqIG9mIHRoZSBjYW52YXMuIFRoaXMgc3BhY2UgaXMgdXNlZCBmb3IgcGl0Y2gtYWxpZ25tZW50PXZpZXdwb3J0XG4gKlxuICpcbiAqICMgVmVydGV4IHByb2plY3Rpb25cbiAqIEl0IGdvZXMgcm91Z2hseSBsaWtlIHRoaXM6XG4gKiAxLiBwcm9qZWN0IHRoZSBhbmNob3IgYW5kIGxpbmUgZnJvbSB0aWxlIHVuaXRzIGludG8gdGhlIGNvcnJlY3QgbGFiZWwgY29vcmRpbmF0ZSBzcGFjZVxuICogICAgICAtIG1hcCBwaXhlbCBzcGFjZSAgICAgICAgICAgcGl0Y2gtYWxpZ25tZW50PW1hcCAgICAgICAgIHJvdGF0aW9uLWFsaWdubWVudD1tYXBcbiAqICAgICAgLSByb3RhdGVkIG1hcCBwaXhlbCBzcGFjZSAgIHBpdGNoLWFsaWdubWVudD1tYXAgICAgICAgICByb3RhdGlvbi1hbGlnbm1lbnQ9dmlld3BvcnRcbiAqICAgICAgLSB2aWV3cG9ydCBwaXhlbCBzcGFjZSAgICAgIHBpdGNoLWFsaWdubWVudD12aWV3cG9ydCAgICByb3RhdGlvbi1hbGlnbm1lbnQ9KlxuICogMi4gaWYgdGhlIGxhYmVsIGZvbGxvd3MgYSBsaW5lLCBmaW5kIHRoZSBwb2ludCBhbG9uZyB0aGUgbGluZSB0aGF0IGlzIHRoZSBjb3JyZWN0IGRpc3RhbmNlIGZyb20gdGhlIGFuY2hvci5cbiAqIDMuIGFkZCB0aGUgZ2x5cGgncyBjb3JuZXIgb2Zmc2V0IHRvIHRoZSBwb2ludCBmcm9tIHN0ZXAgM1xuICogNC4gY29udmVydCBmcm9tIHRoZSBsYWJlbCBjb29yZGluYXRlIHNwYWNlIHRvIGdsIGNvb3JkaW5hdGVzXG4gKlxuICogRm9yIGhvcml6b250YWwgbGFiZWxzIHdlIHdhbnQgdG8gZG8gc3RlcCAxIGluIHRoZSBzaGFkZXIgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKG5vIGNwdSB3b3JrKS5cbiAqICAgICAgVGhpcyBpcyB3aGF0IGB1X2xhYmVsX3BsYW5lX21hdHJpeGAgaXMgdXNlZCBmb3IuXG4gKiBGb3IgbGFiZWxzIGFsaWduZWQgd2l0aCBsaW5lcyB3ZSBoYXZlIHRvIHN0ZXBzIDEgYW5kIDIgb24gdGhlIGNwdSBzaW5jZSB3ZSBuZWVkIGFjY2VzcyB0byB0aGUgbGluZSBnZW9tZXRyeS5cbiAqICAgICAgVGhpcyBpcyB3aGF0IGB1cGRhdGVMaW5lTGFiZWxzKC4uLilgIGRvZXMuXG4gKiAgICAgIFNpbmNlIHRoZSBjb252ZXJzaW9uIGlzIGhhbmRsZWQgb24gdGhlIGNwdSB3ZSBqdXN0IHNldCBgdV9sYWJlbF9wbGFuZV9tYXRyaXhgIHRvIGFuIGlkZW50aXR5IG1hdHJpeC5cbiAqXG4gKiBTdGVwcyAzIGFuZCA0IGFyZSBkb25lIGluIHRoZSBzaGFkZXJzIGZvciBhbGwgbGFiZWxzLlxuICovXG5cbi8qXG4gKiBSZXR1cm5zIGEgbWF0cml4IGZvciBjb252ZXJ0aW5nIGZyb20gdGlsZSB1bml0cyB0byB0aGUgY29ycmVjdCBsYWJlbCBjb29yZGluYXRlIHNwYWNlLlxuICovXG5mdW5jdGlvbiBnZXRMYWJlbFBsYW5lTWF0cml4KHBvc01hdHJpeDogbWF0NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzVG9UaWxlVW5pdHM6IG51bWJlcikge1xuICAgIGNvbnN0IG0gPSBtYXQ0LmlkZW50aXR5KG5ldyBGbG9hdDMyQXJyYXkoMTYpKTtcbiAgICBpZiAocGl0Y2hXaXRoTWFwKSB7XG4gICAgICAgIG1hdDQuaWRlbnRpdHkobSk7XG4gICAgICAgIG1hdDQuc2NhbGUobSwgbSwgWzEgLyBwaXhlbHNUb1RpbGVVbml0cywgMSAvIHBpeGVsc1RvVGlsZVVuaXRzLCAxXSk7XG4gICAgICAgIGlmICghcm90YXRlV2l0aE1hcCkge1xuICAgICAgICAgICAgbWF0NC5yb3RhdGVaKG0sIG0sIHRyYW5zZm9ybS5hbmdsZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBtYXQ0LnNjYWxlKG0sIG0sIFt0cmFuc2Zvcm0ud2lkdGggLyAyLCAtdHJhbnNmb3JtLmhlaWdodCAvIDIsIDFdKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobSwgbSwgWzEsIC0xLCAwXSk7XG4gICAgICAgIG1hdDQubXVsdGlwbHkobSwgbSwgcG9zTWF0cml4KTtcbiAgICB9XG4gICAgcmV0dXJuIG07XG59XG5cbi8qXG4gKiBSZXR1cm5zIGEgbWF0cml4IGZvciBjb252ZXJ0aW5nIGZyb20gdGhlIGNvcnJlY3QgbGFiZWwgY29vcmRpbmF0ZSBzcGFjZSB0byBnbCBjb29yZHMuXG4gKi9cbmZ1bmN0aW9uIGdldEdsQ29vcmRNYXRyaXgocG9zTWF0cml4OiBtYXQ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwaXRjaFdpdGhNYXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVdpdGhNYXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwaXhlbHNUb1RpbGVVbml0czogbnVtYmVyKSB7XG4gICAgY29uc3QgbSA9IG1hdDQuaWRlbnRpdHkobmV3IEZsb2F0MzJBcnJheSgxNikpO1xuICAgIGlmIChwaXRjaFdpdGhNYXApIHtcbiAgICAgICAgbWF0NC5tdWx0aXBseShtLCBtLCBwb3NNYXRyaXgpO1xuICAgICAgICBtYXQ0LnNjYWxlKG0sIG0sIFtwaXhlbHNUb1RpbGVVbml0cywgcGl4ZWxzVG9UaWxlVW5pdHMsIDFdKTtcbiAgICAgICAgaWYgKCFyb3RhdGVXaXRoTWFwKSB7XG4gICAgICAgICAgICBtYXQ0LnJvdGF0ZVoobSwgbSwgLXRyYW5zZm9ybS5hbmdsZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBtYXQ0LnNjYWxlKG0sIG0sIFsxLCAtMSwgMV0pO1xuICAgICAgICBtYXQ0LnRyYW5zbGF0ZShtLCBtLCBbLTEsIC0xLCAwXSk7XG4gICAgICAgIG1hdDQuc2NhbGUobSwgbSwgWzIgLyB0cmFuc2Zvcm0ud2lkdGgsIDIgLyB0cmFuc2Zvcm0uaGVpZ2h0LCAxXSk7XG4gICAgfVxuICAgIHJldHVybiBtO1xufVxuXG5mdW5jdGlvbiBwcm9qZWN0KHBvaW50OiBQb2ludCwgbWF0cml4OiBtYXQ0KSB7XG4gICAgY29uc3QgcG9zID0gW3BvaW50LngsIHBvaW50LnksIDAsIDFdO1xuICAgIHh5VHJhbnNmb3JtTWF0NChwb3MsIHBvcywgbWF0cml4KTtcbiAgICBjb25zdCB3ID0gcG9zWzNdO1xuICAgIHJldHVybiB7XG4gICAgICAgIHBvaW50OiBuZXcgUG9pbnQocG9zWzBdIC8gdywgcG9zWzFdIC8gdyksXG4gICAgICAgIHNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYTogd1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGlzVmlzaWJsZShhbmNob3JQb3M6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgICAgICAgICAgICAgICAgIGNsaXBwaW5nQnVmZmVyOiBbbnVtYmVyLCBudW1iZXJdKSB7XG4gICAgY29uc3QgeCA9IGFuY2hvclBvc1swXSAvIGFuY2hvclBvc1szXTtcbiAgICBjb25zdCB5ID0gYW5jaG9yUG9zWzFdIC8gYW5jaG9yUG9zWzNdO1xuICAgIGNvbnN0IGluUGFkZGVkVmlld3BvcnQgPSAoXG4gICAgICAgIHggPj0gLWNsaXBwaW5nQnVmZmVyWzBdICYmXG4gICAgICAgIHggPD0gY2xpcHBpbmdCdWZmZXJbMF0gJiZcbiAgICAgICAgeSA+PSAtY2xpcHBpbmdCdWZmZXJbMV0gJiZcbiAgICAgICAgeSA8PSBjbGlwcGluZ0J1ZmZlclsxXSk7XG4gICAgcmV0dXJuIGluUGFkZGVkVmlld3BvcnQ7XG59XG5cbi8qXG4gKiAgVXBkYXRlIHRoZSBgZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlcmAgZm9yIHRoZSBidWZmZXIgd2l0aCB0aGUgY29ycmVjdCBnbHlwaCBwb3NpdGlvbnMgZm9yIHRoZSBjdXJyZW50IG1hcCB2aWV3LlxuICogIFRoaXMgaXMgb25seSBydW4gb24gbGFiZWxzIHRoYXQgYXJlIGFsaWduZWQgd2l0aCBsaW5lcy4gSG9yaXpvbnRhbCBsYWJlbHMgYXJlIGhhbmRsZWQgZW50aXJlbHkgaW4gdGhlIHNoYWRlci5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlTGluZUxhYmVscyhidWNrZXQ6IFN5bWJvbEJ1Y2tldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zTWF0cml4OiBtYXQ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYWludGVyOiBQYWludGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc1RleHQ6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsUGxhbmVNYXRyaXg6IG1hdDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdsQ29vcmRNYXRyaXg6IG1hdDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2VlcFVwcmlnaHQ6IGJvb2xlYW4pIHtcblxuICAgIGNvbnN0IHNpemVEYXRhID0gaXNUZXh0ID8gYnVja2V0LnRleHRTaXplRGF0YSA6IGJ1Y2tldC5pY29uU2l6ZURhdGE7XG4gICAgY29uc3QgcGFydGlhbGx5RXZhbHVhdGVkU2l6ZSA9IHN5bWJvbFNpemUuZXZhbHVhdGVTaXplRm9yWm9vbShzaXplRGF0YSwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSxcbiAgICAgICAgc3ltYm9sTGF5b3V0UHJvcGVydGllcy5wcm9wZXJ0aWVzW2lzVGV4dCA/ICd0ZXh0LXNpemUnIDogJ2ljb24tc2l6ZSddKTtcblxuICAgIGNvbnN0IGNsaXBwaW5nQnVmZmVyID0gWzI1NiAvIHBhaW50ZXIud2lkdGggKiAyICsgMSwgMjU2IC8gcGFpbnRlci5oZWlnaHQgKiAyICsgMV07XG5cbiAgICBjb25zdCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkgPSBpc1RleHQgP1xuICAgICAgICBidWNrZXQudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QXJyYXkgOlxuICAgICAgICBidWNrZXQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk7XG4gICAgZHluYW1pY0xheW91dFZlcnRleEFycmF5LmNsZWFyKCk7XG5cbiAgICBjb25zdCBsaW5lVmVydGV4QXJyYXkgPSBidWNrZXQubGluZVZlcnRleEFycmF5O1xuICAgIGNvbnN0IHBsYWNlZFN5bWJvbHMgPSBpc1RleHQgPyBidWNrZXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheSA6IGJ1Y2tldC5pY29uLnBsYWNlZFN5bWJvbEFycmF5O1xuXG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSBwYWludGVyLnRyYW5zZm9ybS53aWR0aCAvIHBhaW50ZXIudHJhbnNmb3JtLmhlaWdodDtcblxuICAgIGxldCB1c2VWZXJ0aWNhbCA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgcyA9IDA7IHMgPCBwbGFjZWRTeW1ib2xzLmxlbmd0aDsgcysrKSB7XG4gICAgICAgIGNvbnN0IHN5bWJvbDogYW55ID0gcGxhY2VkU3ltYm9scy5nZXQocyk7XG4gICAgICAgIC8vIERvbid0IGRvIGNhbGN1bGF0aW9ucyBmb3IgdmVydGljYWwgZ2x5cGhzIHVubGVzcyB0aGUgcHJldmlvdXMgc3ltYm9sIHdhcyBob3Jpem9udGFsXG4gICAgICAgIC8vIGFuZCB3ZSBkZXRlcm1pbmVkIHRoYXQgdmVydGljYWwgZ2x5cGhzIHdlcmUgbmVjZXNzYXJ5LlxuICAgICAgICAvLyBBbHNvIGRvbid0IGRvIGNhbGN1bGF0aW9ucyBmb3Igc3ltYm9scyB0aGF0IGFyZSBjb2xsaWRlZCBhbmQgZnVsbHkgZmFkZWQgb3V0XG4gICAgICAgIGlmIChzeW1ib2wuaGlkZGVuIHx8IHN5bWJvbC53cml0aW5nTW9kZSA9PT0gV3JpdGluZ01vZGUudmVydGljYWwgJiYgIXVzZVZlcnRpY2FsKSB7XG4gICAgICAgICAgICBoaWRlR2x5cGhzKHN5bWJvbC5udW1HbHlwaHMsIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBd2t3YXJkLi4uIGJ1dCB3ZSdyZSBjb3VudGluZyBvbiB0aGUgcGFpcmVkIFwidmVydGljYWxcIiBzeW1ib2wgY29taW5nIGltbWVkaWF0ZWx5IGFmdGVyIGl0cyBob3Jpem9udGFsIGNvdW50ZXJwYXJ0XG4gICAgICAgIHVzZVZlcnRpY2FsID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgYW5jaG9yUG9zID0gW3N5bWJvbC5hbmNob3JYLCBzeW1ib2wuYW5jaG9yWSwgMCwgMV07XG4gICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChhbmNob3JQb3MsIGFuY2hvclBvcywgcG9zTWF0cml4KTtcblxuICAgICAgICAvLyBEb24ndCBib3RoZXIgY2FsY3VsYXRpbmcgdGhlIGNvcnJlY3QgcG9pbnQgZm9yIGludmlzaWJsZSBsYWJlbHMuXG4gICAgICAgIGlmICghaXNWaXNpYmxlKGFuY2hvclBvcywgY2xpcHBpbmdCdWZmZXIpKSB7XG4gICAgICAgICAgICBoaWRlR2x5cGhzKHN5bWJvbC5udW1HbHlwaHMsIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhbWVyYVRvQW5jaG9yRGlzdGFuY2UgPSBhbmNob3JQb3NbM107XG4gICAgICAgIGNvbnN0IHBlcnNwZWN0aXZlUmF0aW8gPSAwLjUgKyAwLjUgKiAoY2FtZXJhVG9BbmNob3JEaXN0YW5jZSAvIHBhaW50ZXIudHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UpO1xuXG4gICAgICAgIGNvbnN0IGZvbnRTaXplID0gc3ltYm9sU2l6ZS5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKHNpemVEYXRhLCBwYXJ0aWFsbHlFdmFsdWF0ZWRTaXplLCBzeW1ib2wpO1xuICAgICAgICBjb25zdCBwaXRjaFNjYWxlZEZvbnRTaXplID0gcGl0Y2hXaXRoTWFwID9cbiAgICAgICAgICAgIGZvbnRTaXplICogcGVyc3BlY3RpdmVSYXRpbyA6XG4gICAgICAgICAgICBmb250U2l6ZSAvIHBlcnNwZWN0aXZlUmF0aW87XG5cbiAgICAgICAgY29uc3QgdGlsZUFuY2hvclBvaW50ID0gbmV3IFBvaW50KHN5bWJvbC5hbmNob3JYLCBzeW1ib2wuYW5jaG9yWSk7XG4gICAgICAgIGNvbnN0IGFuY2hvclBvaW50ID0gcHJvamVjdCh0aWxlQW5jaG9yUG9pbnQsIGxhYmVsUGxhbmVNYXRyaXgpLnBvaW50O1xuICAgICAgICBjb25zdCBwcm9qZWN0aW9uQ2FjaGUgPSB7fTtcblxuICAgICAgICBjb25zdCBwbGFjZVVuZmxpcHBlZDogYW55ID0gcGxhY2VHbHlwaHNBbG9uZ0xpbmUoc3ltYm9sLCBwaXRjaFNjYWxlZEZvbnRTaXplLCBmYWxzZSAvKnVuZmxpcHBlZCovLCBrZWVwVXByaWdodCwgcG9zTWF0cml4LCBsYWJlbFBsYW5lTWF0cml4LCBnbENvb3JkTWF0cml4LFxuICAgICAgICAgICAgYnVja2V0LmdseXBoT2Zmc2V0QXJyYXksIGxpbmVWZXJ0ZXhBcnJheSwgZHluYW1pY0xheW91dFZlcnRleEFycmF5LCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBwcm9qZWN0aW9uQ2FjaGUsIGFzcGVjdFJhdGlvKTtcblxuICAgICAgICB1c2VWZXJ0aWNhbCA9IHBsYWNlVW5mbGlwcGVkLnVzZVZlcnRpY2FsO1xuXG4gICAgICAgIGlmIChwbGFjZVVuZmxpcHBlZC5ub3RFbm91Z2hSb29tIHx8IHVzZVZlcnRpY2FsIHx8XG4gICAgICAgICAgICAocGxhY2VVbmZsaXBwZWQubmVlZHNGbGlwcGluZyAmJlxuICAgICAgICAgICAgIHBsYWNlR2x5cGhzQWxvbmdMaW5lKHN5bWJvbCwgcGl0Y2hTY2FsZWRGb250U2l6ZSwgdHJ1ZSAvKmZsaXBwZWQqLywga2VlcFVwcmlnaHQsIHBvc01hdHJpeCwgbGFiZWxQbGFuZU1hdHJpeCwgZ2xDb29yZE1hdHJpeCxcbiAgICAgICAgICAgICAgICAgYnVja2V0LmdseXBoT2Zmc2V0QXJyYXksIGxpbmVWZXJ0ZXhBcnJheSwgZHluYW1pY0xheW91dFZlcnRleEFycmF5LCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBwcm9qZWN0aW9uQ2FjaGUsIGFzcGVjdFJhdGlvKS5ub3RFbm91Z2hSb29tKSkge1xuICAgICAgICAgICAgaGlkZUdseXBocyhzeW1ib2wubnVtR2x5cGhzLCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzVGV4dCkge1xuICAgICAgICBidWNrZXQudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZHluYW1pY0xheW91dFZlcnRleEFycmF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBidWNrZXQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZHluYW1pY0xheW91dFZlcnRleEFycmF5KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBsYWNlRmlyc3RBbmRMYXN0R2x5cGgoZm9udFNjYWxlOiBudW1iZXIsIGdseXBoT2Zmc2V0QXJyYXk6IEdseXBoT2Zmc2V0QXJyYXksIGxpbmVPZmZzZXRYOiBudW1iZXIsIGxpbmVPZmZzZXRZOiBudW1iZXIsIGZsaXA6IGJvb2xlYW4sIGFuY2hvclBvaW50OiBQb2ludCwgdGlsZUFuY2hvclBvaW50OiBQb2ludCwgc3ltYm9sOiBhbnksIGxpbmVWZXJ0ZXhBcnJheTogU3ltYm9sTGluZVZlcnRleEFycmF5LCBsYWJlbFBsYW5lTWF0cml4OiBtYXQ0LCBwcm9qZWN0aW9uQ2FjaGU6IGFueSwgcmV0dXJuVGlsZURpc3RhbmNlOiBib29sZWFuKSB7XG4gICAgY29uc3QgZ2x5cGhFbmRJbmRleCA9IHN5bWJvbC5nbHlwaFN0YXJ0SW5kZXggKyBzeW1ib2wubnVtR2x5cGhzO1xuICAgIGNvbnN0IGxpbmVTdGFydEluZGV4ID0gc3ltYm9sLmxpbmVTdGFydEluZGV4O1xuICAgIGNvbnN0IGxpbmVFbmRJbmRleCA9IHN5bWJvbC5saW5lU3RhcnRJbmRleCArIHN5bWJvbC5saW5lTGVuZ3RoO1xuXG4gICAgY29uc3QgZmlyc3RHbHlwaE9mZnNldCA9IGdseXBoT2Zmc2V0QXJyYXkuZ2V0b2Zmc2V0WChzeW1ib2wuZ2x5cGhTdGFydEluZGV4KTtcbiAgICBjb25zdCBsYXN0R2x5cGhPZmZzZXQgPSBnbHlwaE9mZnNldEFycmF5LmdldG9mZnNldFgoZ2x5cGhFbmRJbmRleCAtIDEpO1xuXG4gICAgY29uc3QgZmlyc3RQbGFjZWRHbHlwaCA9IHBsYWNlR2x5cGhBbG9uZ0xpbmUoZm9udFNjYWxlICogZmlyc3RHbHlwaE9mZnNldCwgbGluZU9mZnNldFgsIGxpbmVPZmZzZXRZLCBmbGlwLCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBzeW1ib2wuc2VnbWVudCxcbiAgICAgICAgbGluZVN0YXJ0SW5kZXgsIGxpbmVFbmRJbmRleCwgbGluZVZlcnRleEFycmF5LCBsYWJlbFBsYW5lTWF0cml4LCBwcm9qZWN0aW9uQ2FjaGUsIHJldHVyblRpbGVEaXN0YW5jZSk7XG4gICAgaWYgKCFmaXJzdFBsYWNlZEdseXBoKVxuICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGxhc3RQbGFjZWRHbHlwaCA9IHBsYWNlR2x5cGhBbG9uZ0xpbmUoZm9udFNjYWxlICogbGFzdEdseXBoT2Zmc2V0LCBsaW5lT2Zmc2V0WCwgbGluZU9mZnNldFksIGZsaXAsIGFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHN5bWJvbC5zZWdtZW50LFxuICAgICAgICBsaW5lU3RhcnRJbmRleCwgbGluZUVuZEluZGV4LCBsaW5lVmVydGV4QXJyYXksIGxhYmVsUGxhbmVNYXRyaXgsIHByb2plY3Rpb25DYWNoZSwgcmV0dXJuVGlsZURpc3RhbmNlKTtcbiAgICBpZiAoIWxhc3RQbGFjZWRHbHlwaClcbiAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4geyBmaXJzdDogZmlyc3RQbGFjZWRHbHlwaCwgbGFzdDogbGFzdFBsYWNlZEdseXBoIH07XG59XG5cbmZ1bmN0aW9uIHJlcXVpcmVzT3JpZW50YXRpb25DaGFuZ2Uod3JpdGluZ01vZGUsIGZpcnN0UG9pbnQsIGxhc3RQb2ludCwgYXNwZWN0UmF0aW8pIHtcbiAgICBpZiAod3JpdGluZ01vZGUgPT09IFdyaXRpbmdNb2RlLmhvcml6b250YWwpIHtcbiAgICAgICAgLy8gT24gdG9wIG9mIGNob29zaW5nIHdoZXRoZXIgdG8gZmxpcCwgY2hvb3NlIHdoZXRoZXIgdG8gcmVuZGVyIHRoaXMgdmVyc2lvbiBvZiB0aGUgZ2x5cGhzIG9yIHRoZSBhbHRlcm5hdGVcbiAgICAgICAgLy8gdmVydGljYWwgZ2x5cGhzLiBXZSBjYW4ndCBqdXN0IGZpbHRlciBvdXQgdmVydGljYWwgZ2x5cGhzIGluIHRoZSBob3Jpem9udGFsIHJhbmdlIGJlY2F1c2UgdGhlIGhvcml6b250YWxcbiAgICAgICAgLy8gYW5kIHZlcnRpY2FsIHZlcnNpb25zIGNhbiBoYXZlIHNsaWdodGx5IGRpZmZlcmVudCBwcm9qZWN0aW9ucyB3aGljaCBjb3VsZCBsZWFkIHRvIGFuZ2xlcyB3aGVyZSBib3RoIG9yXG4gICAgICAgIC8vIG5laXRoZXIgc2hvd2VkLlxuICAgICAgICBjb25zdCByaXNlID0gTWF0aC5hYnMobGFzdFBvaW50LnkgLSBmaXJzdFBvaW50LnkpO1xuICAgICAgICBjb25zdCBydW4gPSBNYXRoLmFicyhsYXN0UG9pbnQueCAtIGZpcnN0UG9pbnQueCkgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgaWYgKHJpc2UgPiBydW4pIHtcbiAgICAgICAgICAgIHJldHVybiB7IHVzZVZlcnRpY2FsOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAod3JpdGluZ01vZGUgPT09IFdyaXRpbmdNb2RlLnZlcnRpY2FsID8gZmlyc3RQb2ludC55IDwgbGFzdFBvaW50LnkgOiBmaXJzdFBvaW50LnggPiBsYXN0UG9pbnQueCkge1xuICAgICAgICAvLyBJbmNsdWRlcyBcImhvcml6b250YWxPbmx5XCIgY2FzZSBmb3IgbGFiZWxzIHdpdGhvdXQgdmVydGljYWwgZ2x5cGhzXG4gICAgICAgIHJldHVybiB7IG5lZWRzRmxpcHBpbmc6IHRydWUgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gcGxhY2VHbHlwaHNBbG9uZ0xpbmUoc3ltYm9sLCBmb250U2l6ZSwgZmxpcCwga2VlcFVwcmlnaHQsIHBvc01hdHJpeCwgbGFiZWxQbGFuZU1hdHJpeCwgZ2xDb29yZE1hdHJpeCwgZ2x5cGhPZmZzZXRBcnJheSwgbGluZVZlcnRleEFycmF5LCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXksIGFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHByb2plY3Rpb25DYWNoZSwgYXNwZWN0UmF0aW8pIHtcbiAgICBjb25zdCBmb250U2NhbGUgPSBmb250U2l6ZSAvIDI0O1xuICAgIGNvbnN0IGxpbmVPZmZzZXRYID0gc3ltYm9sLmxpbmVPZmZzZXRYICogZm9udFNpemU7XG4gICAgY29uc3QgbGluZU9mZnNldFkgPSBzeW1ib2wubGluZU9mZnNldFkgKiBmb250U2l6ZTtcblxuICAgIGxldCBwbGFjZWRHbHlwaHM7XG4gICAgaWYgKHN5bWJvbC5udW1HbHlwaHMgPiAxKSB7XG4gICAgICAgIGNvbnN0IGdseXBoRW5kSW5kZXggPSBzeW1ib2wuZ2x5cGhTdGFydEluZGV4ICsgc3ltYm9sLm51bUdseXBocztcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0SW5kZXggPSBzeW1ib2wubGluZVN0YXJ0SW5kZXg7XG4gICAgICAgIGNvbnN0IGxpbmVFbmRJbmRleCA9IHN5bWJvbC5saW5lU3RhcnRJbmRleCArIHN5bWJvbC5saW5lTGVuZ3RoO1xuXG4gICAgICAgIC8vIFBsYWNlIHRoZSBmaXJzdCBhbmQgdGhlIGxhc3QgZ2x5cGggaW4gdGhlIGxhYmVsIGZpcnN0LCBzbyB3ZSBjYW4gZmlndXJlIG91dFxuICAgICAgICAvLyB0aGUgb3ZlcmFsbCBvcmllbnRhdGlvbiBvZiB0aGUgbGFiZWwgYW5kIGRldGVybWluZSB3aGV0aGVyIGl0IG5lZWRzIHRvIGJlIGZsaXBwZWQgaW4ga2VlcFVwcmlnaHQgbW9kZVxuICAgICAgICBjb25zdCBmaXJzdEFuZExhc3RHbHlwaCA9IHBsYWNlRmlyc3RBbmRMYXN0R2x5cGgoZm9udFNjYWxlLCBnbHlwaE9mZnNldEFycmF5LCBsaW5lT2Zmc2V0WCwgbGluZU9mZnNldFksIGZsaXAsIGFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHN5bWJvbCwgbGluZVZlcnRleEFycmF5LCBsYWJlbFBsYW5lTWF0cml4LCBwcm9qZWN0aW9uQ2FjaGUsIGZhbHNlKTtcbiAgICAgICAgaWYgKCFmaXJzdEFuZExhc3RHbHlwaCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgbm90RW5vdWdoUm9vbTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpcnN0UG9pbnQgPSBwcm9qZWN0KGZpcnN0QW5kTGFzdEdseXBoLmZpcnN0LnBvaW50LCBnbENvb3JkTWF0cml4KS5wb2ludDtcbiAgICAgICAgY29uc3QgbGFzdFBvaW50ID0gcHJvamVjdChmaXJzdEFuZExhc3RHbHlwaC5sYXN0LnBvaW50LCBnbENvb3JkTWF0cml4KS5wb2ludDtcblxuICAgICAgICBpZiAoa2VlcFVwcmlnaHQgJiYgIWZsaXApIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWVudGF0aW9uQ2hhbmdlID0gcmVxdWlyZXNPcmllbnRhdGlvbkNoYW5nZShzeW1ib2wud3JpdGluZ01vZGUsIGZpcnN0UG9pbnQsIGxhc3RQb2ludCwgYXNwZWN0UmF0aW8pO1xuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWVudGF0aW9uQ2hhbmdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcGxhY2VkR2x5cGhzID0gW2ZpcnN0QW5kTGFzdEdseXBoLmZpcnN0XTtcbiAgICAgICAgZm9yIChsZXQgZ2x5cGhJbmRleCA9IHN5bWJvbC5nbHlwaFN0YXJ0SW5kZXggKyAxOyBnbHlwaEluZGV4IDwgZ2x5cGhFbmRJbmRleCAtIDE7IGdseXBoSW5kZXgrKykge1xuICAgICAgICAgICAgLy8gU2luY2UgZmlyc3QgYW5kIGxhc3QgZ2x5cGggZml0IG9uIHRoZSBsaW5lLCB3ZSdyZSBzdXJlIHRoYXQgdGhlIHJlc3Qgb2YgdGhlIGdseXBocyBjYW4gYmUgcGxhY2VkXG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICBwbGFjZWRHbHlwaHMucHVzaChwbGFjZUdseXBoQWxvbmdMaW5lKGZvbnRTY2FsZSAqIGdseXBoT2Zmc2V0QXJyYXkuZ2V0b2Zmc2V0WChnbHlwaEluZGV4KSwgbGluZU9mZnNldFgsIGxpbmVPZmZzZXRZLCBmbGlwLCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBzeW1ib2wuc2VnbWVudCxcbiAgICAgICAgICAgICAgICBsaW5lU3RhcnRJbmRleCwgbGluZUVuZEluZGV4LCBsaW5lVmVydGV4QXJyYXksIGxhYmVsUGxhbmVNYXRyaXgsIHByb2plY3Rpb25DYWNoZSwgZmFsc2UpKTtcbiAgICAgICAgfVxuICAgICAgICBwbGFjZWRHbHlwaHMucHVzaChmaXJzdEFuZExhc3RHbHlwaC5sYXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPbmx5IGEgc2luZ2xlIGdseXBoIHRvIHBsYWNlXG4gICAgICAgIC8vIFNvLCBkZXRlcm1pbmUgd2hldGhlciB0byBmbGlwIGJhc2VkIG9uIHByb2plY3RlZCBhbmdsZSBvZiB0aGUgbGluZSBzZWdtZW50IGl0J3Mgb25cbiAgICAgICAgaWYgKGtlZXBVcHJpZ2h0ICYmICFmbGlwKSB7XG4gICAgICAgICAgICBjb25zdCBhID0gcHJvamVjdCh0aWxlQW5jaG9yUG9pbnQsIHBvc01hdHJpeCkucG9pbnQ7XG4gICAgICAgICAgICBjb25zdCB0aWxlVmVydGV4SW5kZXggPSAoc3ltYm9sLmxpbmVTdGFydEluZGV4ICsgc3ltYm9sLnNlZ21lbnQgKyAxKTtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgIGNvbnN0IHRpbGVTZWdtZW50RW5kID0gbmV3IFBvaW50KGxpbmVWZXJ0ZXhBcnJheS5nZXR4KHRpbGVWZXJ0ZXhJbmRleCksIGxpbmVWZXJ0ZXhBcnJheS5nZXR5KHRpbGVWZXJ0ZXhJbmRleCkpO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdGVkVmVydGV4ID0gcHJvamVjdCh0aWxlU2VnbWVudEVuZCwgcG9zTWF0cml4KTtcbiAgICAgICAgICAgIC8vIFdlIGtub3cgdGhlIGFuY2hvciB3aWxsIGJlIGluIHRoZSB2aWV3cG9ydCwgYnV0IHRoZSBlbmQgb2YgdGhlIGxpbmUgc2VnbWVudCBtYXkgYmVcbiAgICAgICAgICAgIC8vIGJlaGluZCB0aGUgcGxhbmUgb2YgdGhlIGNhbWVyYSwgaW4gd2hpY2ggY2FzZSB3ZSBjYW4gdXNlIGEgcG9pbnQgYXQgYW55IGFyYml0cmFyeSAoY2xvc2VyKVxuICAgICAgICAgICAgLy8gcG9pbnQgb24gdGhlIHNlZ21lbnQuXG4gICAgICAgICAgICBjb25zdCBiID0gKHByb2plY3RlZFZlcnRleC5zaWduZWREaXN0YW5jZUZyb21DYW1lcmEgPiAwKSA/XG4gICAgICAgICAgICAgICAgcHJvamVjdGVkVmVydGV4LnBvaW50IDpcbiAgICAgICAgICAgICAgICBwcm9qZWN0VHJ1bmNhdGVkTGluZVNlZ21lbnQodGlsZUFuY2hvclBvaW50LCB0aWxlU2VnbWVudEVuZCwgYSwgMSwgcG9zTWF0cml4KTtcblxuXG4gICAgICAgICAgICBjb25zdCBvcmllbnRhdGlvbkNoYW5nZSA9IHJlcXVpcmVzT3JpZW50YXRpb25DaGFuZ2Uoc3ltYm9sLndyaXRpbmdNb2RlLCBhLCBiLCBhc3BlY3RSYXRpbyk7XG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZW50YXRpb25DaGFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICBjb25zdCBzaW5nbGVHbHlwaCA9IHBsYWNlR2x5cGhBbG9uZ0xpbmUoZm9udFNjYWxlICogZ2x5cGhPZmZzZXRBcnJheS5nZXRvZmZzZXRYKHN5bWJvbC5nbHlwaFN0YXJ0SW5kZXgpLCBsaW5lT2Zmc2V0WCwgbGluZU9mZnNldFksIGZsaXAsIGFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHN5bWJvbC5zZWdtZW50LFxuICAgICAgICAgICAgc3ltYm9sLmxpbmVTdGFydEluZGV4LCBzeW1ib2wubGluZVN0YXJ0SW5kZXggKyBzeW1ib2wubGluZUxlbmd0aCwgbGluZVZlcnRleEFycmF5LCBsYWJlbFBsYW5lTWF0cml4LCBwcm9qZWN0aW9uQ2FjaGUsIGZhbHNlKTtcbiAgICAgICAgaWYgKCFzaW5nbGVHbHlwaClcbiAgICAgICAgICAgIHJldHVybiB7IG5vdEVub3VnaFJvb206IHRydWUgfTtcblxuICAgICAgICBwbGFjZWRHbHlwaHMgPSBbc2luZ2xlR2x5cGhdO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZ2x5cGg6IGFueSBvZiBwbGFjZWRHbHlwaHMpIHtcbiAgICAgICAgYWRkRHluYW1pY0F0dHJpYnV0ZXMoZHluYW1pY0xheW91dFZlcnRleEFycmF5LCBnbHlwaC5wb2ludCwgZ2x5cGguYW5nbGUpO1xuICAgIH1cbiAgICByZXR1cm4ge307XG59XG5cbmZ1bmN0aW9uIHByb2plY3RUcnVuY2F0ZWRMaW5lU2VnbWVudChwcmV2aW91c1RpbGVQb2ludDogUG9pbnQsIGN1cnJlbnRUaWxlUG9pbnQ6IFBvaW50LCBwcmV2aW91c1Byb2plY3RlZFBvaW50OiBQb2ludCwgbWluaW11bUxlbmd0aDogbnVtYmVyLCBwcm9qZWN0aW9uTWF0cml4OiBtYXQ0KSB7XG4gICAgLy8gV2UgYXJlIGFzc3VtaW5nIFwicHJldmlvdXNUaWxlUG9pbnRcIiB3b24ndCBwcm9qZWN0IHRvIGEgcG9pbnQgd2l0aGluIG9uZSB1bml0IG9mIHRoZSBjYW1lcmEgcGxhbmVcbiAgICAvLyBJZiBpdCBkaWQsIHRoYXQgd291bGQgbWVhbiBvdXIgbGFiZWwgZXh0ZW5kZWQgYWxsIHRoZSB3YXkgb3V0IGZyb20gd2l0aGluIHRoZSB2aWV3cG9ydCB0byBhICh2ZXJ5IGRpc3RhbnQpXG4gICAgLy8gcG9pbnQgbmVhciB0aGUgcGxhbmUgb2YgdGhlIGNhbWVyYS4gV2Ugd291bGRuJ3QgYmUgYWJsZSB0byByZW5kZXIgdGhlIGxhYmVsIGFueXdheSBvbmNlIGl0IGNyb3NzZWQgdGhlXG4gICAgLy8gcGxhbmUgb2YgdGhlIGNhbWVyYS5cbiAgICBjb25zdCBwcm9qZWN0ZWRVbml0VmVydGV4ID0gcHJvamVjdChwcmV2aW91c1RpbGVQb2ludC5hZGQocHJldmlvdXNUaWxlUG9pbnQuc3ViKGN1cnJlbnRUaWxlUG9pbnQpLl91bml0KCkpLCBwcm9qZWN0aW9uTWF0cml4KS5wb2ludDtcbiAgICBjb25zdCBwcm9qZWN0ZWRVbml0U2VnbWVudCA9IHByZXZpb3VzUHJvamVjdGVkUG9pbnQuc3ViKHByb2plY3RlZFVuaXRWZXJ0ZXgpO1xuXG4gICAgcmV0dXJuIHByZXZpb3VzUHJvamVjdGVkUG9pbnQuYWRkKHByb2plY3RlZFVuaXRTZWdtZW50Ll9tdWx0KG1pbmltdW1MZW5ndGggLyBwcm9qZWN0ZWRVbml0U2VnbWVudC5tYWcoKSkpO1xufVxuXG5mdW5jdGlvbiBwbGFjZUdseXBoQWxvbmdMaW5lKG9mZnNldFg6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZU9mZnNldFg6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZU9mZnNldFk6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxpcDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUG9pbnQ6IFBvaW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlQW5jaG9yUG9pbnQ6IFBvaW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JTZWdtZW50OiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydEluZGV4OiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVFbmRJbmRleDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lVmVydGV4QXJyYXk6IFN5bWJvbExpbmVWZXJ0ZXhBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxQbGFuZU1hdHJpeDogbWF0NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbkNhY2hlOiB7W251bWJlcl06IFBvaW50fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVGlsZURpc3RhbmNlOiBib29sZWFuKSB7XG5cbiAgICBjb25zdCBjb21iaW5lZE9mZnNldFggPSBmbGlwID9cbiAgICAgICAgb2Zmc2V0WCAtIGxpbmVPZmZzZXRYIDpcbiAgICAgICAgb2Zmc2V0WCArIGxpbmVPZmZzZXRYO1xuXG4gICAgbGV0IGRpciA9IGNvbWJpbmVkT2Zmc2V0WCA+IDAgPyAxIDogLTE7XG5cbiAgICBsZXQgYW5nbGUgPSAwO1xuICAgIGlmIChmbGlwKSB7XG4gICAgICAgIC8vIFRoZSBsYWJlbCBuZWVkcyB0byBiZSBmbGlwcGVkIHRvIGtlZXAgdGV4dCB1cHJpZ2h0LlxuICAgICAgICAvLyBJdGVyYXRlIGluIHRoZSByZXZlcnNlIGRpcmVjdGlvbi5cbiAgICAgICAgZGlyICo9IC0xO1xuICAgICAgICBhbmdsZSA9IE1hdGguUEk7XG4gICAgfVxuXG4gICAgaWYgKGRpciA8IDApIGFuZ2xlICs9IE1hdGguUEk7XG5cbiAgICBsZXQgY3VycmVudEluZGV4ID0gZGlyID4gMCA/XG4gICAgICAgIGxpbmVTdGFydEluZGV4ICsgYW5jaG9yU2VnbWVudCA6XG4gICAgICAgIGxpbmVTdGFydEluZGV4ICsgYW5jaG9yU2VnbWVudCArIDE7XG5cbiAgICBjb25zdCBpbml0aWFsSW5kZXggPSBjdXJyZW50SW5kZXg7XG4gICAgbGV0IGN1cnJlbnQgPSBhbmNob3JQb2ludDtcbiAgICBsZXQgcHJldiA9IGFuY2hvclBvaW50O1xuICAgIGxldCBkaXN0YW5jZVRvUHJldiA9IDA7XG4gICAgbGV0IGN1cnJlbnRTZWdtZW50RGlzdGFuY2UgPSAwO1xuICAgIGNvbnN0IGFic09mZnNldFggPSBNYXRoLmFicyhjb21iaW5lZE9mZnNldFgpO1xuXG4gICAgd2hpbGUgKGRpc3RhbmNlVG9QcmV2ICsgY3VycmVudFNlZ21lbnREaXN0YW5jZSA8PSBhYnNPZmZzZXRYKSB7XG4gICAgICAgIGN1cnJlbnRJbmRleCArPSBkaXI7XG5cbiAgICAgICAgLy8gb2Zmc2V0IGRvZXMgbm90IGZpdCBvbiB0aGUgcHJvamVjdGVkIGxpbmVcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA8IGxpbmVTdGFydEluZGV4IHx8IGN1cnJlbnRJbmRleCA+PSBsaW5lRW5kSW5kZXgpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBwcmV2ID0gY3VycmVudDtcblxuICAgICAgICBjdXJyZW50ID0gcHJvamVjdGlvbkNhY2hlW2N1cnJlbnRJbmRleF07XG4gICAgICAgIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWZXJ0ZXggPSBuZXcgUG9pbnQobGluZVZlcnRleEFycmF5LmdldHgoY3VycmVudEluZGV4KSwgbGluZVZlcnRleEFycmF5LmdldHkoY3VycmVudEluZGV4KSk7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uID0gcHJvamVjdChjdXJyZW50VmVydGV4LCBsYWJlbFBsYW5lTWF0cml4KTtcbiAgICAgICAgICAgIGlmIChwcm9qZWN0aW9uLnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYSA+IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gcHJvamVjdGlvbkNhY2hlW2N1cnJlbnRJbmRleF0gPSBwcm9qZWN0aW9uLnBvaW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgdmVydGV4IGlzIGJlaGluZCB0aGUgcGxhbmUgb2YgdGhlIGNhbWVyYSwgc28gd2UgY2FuJ3QgcHJvamVjdCBpdFxuICAgICAgICAgICAgICAgIC8vIEluc3RlYWQsIHdlJ2xsIGNyZWF0ZSBhIHZlcnRleCBhbG9uZyB0aGUgbGluZSB0aGF0J3MgZmFyIGVub3VnaCB0byBpbmNsdWRlIHRoZSBnbHlwaFxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzTGluZVZlcnRleEluZGV4ID0gY3VycmVudEluZGV4IC0gZGlyO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzVGlsZVBvaW50ID0gZGlzdGFuY2VUb1ByZXYgPT09IDAgP1xuICAgICAgICAgICAgICAgICAgICB0aWxlQW5jaG9yUG9pbnQgOlxuICAgICAgICAgICAgICAgICAgICBuZXcgUG9pbnQobGluZVZlcnRleEFycmF5LmdldHgocHJldmlvdXNMaW5lVmVydGV4SW5kZXgpLCBsaW5lVmVydGV4QXJyYXkuZ2V0eShwcmV2aW91c0xpbmVWZXJ0ZXhJbmRleCkpO1xuICAgICAgICAgICAgICAgIC8vIERvbid0IGNhY2hlIGJlY2F1c2UgdGhlIG5ldyB2ZXJ0ZXggbWlnaHQgbm90IGJlIGZhciBlbm91Z2ggb3V0IGZvciBmdXR1cmUgZ2x5cGhzIG9uIHRoZSBzYW1lIHNlZ21lbnRcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gcHJvamVjdFRydW5jYXRlZExpbmVTZWdtZW50KHByZXZpb3VzVGlsZVBvaW50LCBjdXJyZW50VmVydGV4LCBwcmV2LCBhYnNPZmZzZXRYIC0gZGlzdGFuY2VUb1ByZXYgKyAxLCBsYWJlbFBsYW5lTWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3RhbmNlVG9QcmV2ICs9IGN1cnJlbnRTZWdtZW50RGlzdGFuY2U7XG4gICAgICAgIGN1cnJlbnRTZWdtZW50RGlzdGFuY2UgPSBwcmV2LmRpc3QoY3VycmVudCk7XG4gICAgfVxuXG4gICAgLy8gVGhlIHBvaW50IGlzIG9uIHRoZSBjdXJyZW50IHNlZ21lbnQuIEludGVycG9sYXRlIHRvIGZpbmQgaXQuXG4gICAgY29uc3Qgc2VnbWVudEludGVycG9sYXRpb25UID0gKGFic09mZnNldFggLSBkaXN0YW5jZVRvUHJldikgLyBjdXJyZW50U2VnbWVudERpc3RhbmNlO1xuICAgIGNvbnN0IHByZXZUb0N1cnJlbnQgPSBjdXJyZW50LnN1YihwcmV2KTtcbiAgICBjb25zdCBwID0gcHJldlRvQ3VycmVudC5tdWx0KHNlZ21lbnRJbnRlcnBvbGF0aW9uVCkuX2FkZChwcmV2KTtcblxuICAgIC8vIG9mZnNldCB0aGUgcG9pbnQgZnJvbSB0aGUgbGluZSB0byB0ZXh0LW9mZnNldCBhbmQgaWNvbi1vZmZzZXRcbiAgICBwLl9hZGQocHJldlRvQ3VycmVudC5fdW5pdCgpLl9wZXJwKCkuX211bHQobGluZU9mZnNldFkgKiBkaXIpKTtcblxuICAgIGNvbnN0IHNlZ21lbnRBbmdsZSA9IGFuZ2xlICsgTWF0aC5hdGFuMihjdXJyZW50LnkgLSBwcmV2LnksIGN1cnJlbnQueCAtIHByZXYueCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBwb2ludDogcCxcbiAgICAgICAgYW5nbGU6IHNlZ21lbnRBbmdsZSxcbiAgICAgICAgdGlsZURpc3RhbmNlOiByZXR1cm5UaWxlRGlzdGFuY2UgP1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByZXZUaWxlRGlzdGFuY2U6IChjdXJyZW50SW5kZXggLSBkaXIpID09PSBpbml0aWFsSW5kZXggPyAwIDogbGluZVZlcnRleEFycmF5LmdldHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yKGN1cnJlbnRJbmRleCAtIGRpciksXG4gICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRWaWV3cG9ydERpc3RhbmNlOiBhYnNPZmZzZXRYIC0gZGlzdGFuY2VUb1ByZXZcbiAgICAgICAgICAgIH0gOiBudWxsXG4gICAgfTtcbn1cblxuY29uc3QgaGlkZGVuR2x5cGhBdHRyaWJ1dGVzID0gbmV3IEZsb2F0MzJBcnJheShbLUluZmluaXR5LCAtSW5maW5pdHksIDAsIC1JbmZpbml0eSwgLUluZmluaXR5LCAwLCAtSW5maW5pdHksIC1JbmZpbml0eSwgMCwgLUluZmluaXR5LCAtSW5maW5pdHksIDBdKTtcblxuLy8gSGlkZSB0aGVtIGJ5IG1vdmluZyB0aGVtIG9mZnNjcmVlbi4gV2Ugc3RpbGwgbmVlZCB0byBhZGQgdGhlbSB0byB0aGUgYnVmZmVyXG4vLyBiZWNhdXNlIHRoZSBkeW5hbWljIGJ1ZmZlciBpcyBwYWlyZWQgd2l0aCBhIHN0YXRpYyBidWZmZXIgdGhhdCBkb2Vzbid0IGdldCB1cGRhdGVkLlxuZnVuY3Rpb24gaGlkZUdseXBocyhudW06IG51bWJlciwgZHluYW1pY0xheW91dFZlcnRleEFycmF5OiBTeW1ib2xEeW5hbWljTGF5b3V0QXJyYXkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGg7XG4gICAgICAgIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheS5yZXNpemUob2Zmc2V0ICsgNCk7XG4gICAgICAgIC8vIFNpbmNlIGFsbCBoaWRkZW4gZ2x5cGhzIGhhdmUgdGhlIHNhbWUgYXR0cmlidXRlcywgd2UgY2FuIGJ1aWxkIHVwIHRoZSBhcnJheSBmYXN0ZXIgd2l0aCBhIHNpbmdsZSBjYWxsIHRvIEZsb2F0MzJBcnJheS5zZXRcbiAgICAgICAgLy8gZm9yIGVhY2ggc2V0IG9mIGZvdXIgdmVydGljZXMsIGluc3RlYWQgb2YgY2FsbGluZyBhZGREeW5hbWljQXR0cmlidXRlcyBmb3IgZWFjaCB2ZXJ0ZXguXG4gICAgICAgIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheS5mbG9hdDMyLnNldChoaWRkZW5HbHlwaEF0dHJpYnV0ZXMsIG9mZnNldCAqIDMpO1xuICAgIH1cbn1cblxuLy8gRm9yIGxpbmUgbGFiZWwgbGF5b3V0LCB3ZSdyZSBub3QgdXNpbmcgeiBvdXRwdXQgYW5kIG91ciB3IGlucHV0IGlzIGFsd2F5cyAxXG4vLyBUaGlzIGN1c3RvbSBtYXRyaXggdHJhbnNmb3JtYXRpb24gaWdub3JlcyB0aG9zZSBjb21wb25lbnRzIHRvIG1ha2UgcHJvamVjdGlvbiBmYXN0ZXJcbmZ1bmN0aW9uIHh5VHJhbnNmb3JtTWF0NChvdXQ6IHZlYzQsIGE6IHZlYzQsIG06IG1hdDQpIHtcbiAgICBjb25zdCB4ID0gYVswXSwgeSA9IGFbMV07XG4gICAgb3V0WzBdID0gbVswXSAqIHggKyBtWzRdICogeSArIG1bMTJdO1xuICAgIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzEzXTtcbiAgICBvdXRbM10gPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxNV07XG4gICAgcmV0dXJuIG91dDtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxuaW1wb3J0ICogYXMgaW50ZXJzZWN0aW9uVGVzdHMgZnJvbSAnLi4vdXRpbC9pbnRlcnNlY3Rpb25fdGVzdHMnO1xuaW1wb3J0IEdyaWQgZnJvbSAnLi9ncmlkX2luZGV4JztcbmltcG9ydCBnbG1hdHJpeCBmcm9tICdAbWFwYm94L2dsLW1hdHJpeCc7XG5cbmNvbnN0IG1hdDQgPSBnbG1hdHJpeC5tYXQ0O1xuXG5pbXBvcnQgKiBhcyBwcm9qZWN0aW9uIGZyb20gJy4uL3N5bWJvbC9wcm9qZWN0aW9uJztcblxuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcbmltcG9ydCB0eXBlIHtTaW5nbGVDb2xsaXNpb25Cb3h9IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQnO1xuaW1wb3J0IHR5cGUge1xuICAgIENvbGxpc2lvbkJveEFycmF5LFxuICAgIEdseXBoT2Zmc2V0QXJyYXksXG4gICAgU3ltYm9sTGluZVZlcnRleEFycmF5XG59IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMnO1xuXG4vLyBXaGVuIGEgc3ltYm9sIGNyb3NzZXMgdGhlIGVkZ2UgdGhhdCBjYXVzZXMgaXQgdG8gYmUgaW5jbHVkZWQgaW5cbi8vIGNvbGxpc2lvbiBkZXRlY3Rpb24sIGl0IHdpbGwgY2F1c2UgY2hhbmdlcyBpbiB0aGUgc3ltYm9scyBhcm91bmRcbi8vIGl0LiBUaGlzIGNvbnN0YW50IHNwZWNpZmllcyBob3cgbWFueSBwaXhlbHMgdG8gcGFkIHRoZSBlZGdlIG9mXG4vLyB0aGUgdmlld3BvcnQgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24gc28gdGhhdCB0aGUgYnVsayBvZiB0aGUgY2hhbmdlc1xuLy8gb2NjdXIgb2Zmc2NyZWVuLiBNYWtpbmcgdGhpcyBjb25zdGFudCBncmVhdGVyIGluY3JlYXNlcyBsYWJlbFxuLy8gc3RhYmlsaXR5LCBidXQgaXQncyBleHBlbnNpdmUuXG5jb25zdCB2aWV3cG9ydFBhZGRpbmcgPSAxMDA7XG5cbi8qKlxuICogQSBjb2xsaXNpb24gaW5kZXggdXNlZCB0byBwcmV2ZW50IHN5bWJvbHMgZnJvbSBvdmVybGFwcGluZy4gSXQga2VlcCB0cmFja3Mgb2ZcbiAqIHdoZXJlIHByZXZpb3VzIHN5bWJvbHMgaGF2ZSBiZWVuIHBsYWNlZCBhbmQgaXMgdXNlZCB0byBjaGVjayBpZiBhIG5ld1xuICogc3ltYm9sIG92ZXJsYXBzIHdpdGggYW55IHByZXZpb3VzbHkgYWRkZWQgc3ltYm9scy5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIHN0ZXBzIHRvIGluc2VydGlvbjogZmlyc3QgcGxhY2VDb2xsaXNpb25Cb3gvQ2lyY2xlcyBjaGVja3MgaWZcbiAqIHRoZXJlJ3Mgcm9vbSBmb3IgYSBzeW1ib2wsIHRoZW4gaW5zZXJ0Q29sbGlzaW9uQm94L0NpcmNsZXMgYWN0dWFsbHkgcHV0cyB0aGVcbiAqIHN5bWJvbCBpbiB0aGUgaW5kZXguIFRoZSB0d28gc3RlcCBwcm9jZXNzIGFsbG93cyBwYWlyZWQgc3ltYm9scyB0byBiZSBpbnNlcnRlZFxuICogdG9nZXRoZXIgZXZlbiBpZiB0aGV5IG92ZXJsYXAuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgQ29sbGlzaW9uSW5kZXgge1xuICAgIGdyaWQ6IEdyaWQ7XG4gICAgaWdub3JlZEdyaWQ6IEdyaWQ7XG4gICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm07XG4gICAgcGl0Y2hmYWN0b3I6IG51bWJlcjtcbiAgICBzY3JlZW5SaWdodEJvdW5kYXJ5OiBudW1iZXI7XG4gICAgc2NyZWVuQm90dG9tQm91bmRhcnk6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICAgICAgZ3JpZDogR3JpZCA9IG5ldyBHcmlkKHRyYW5zZm9ybS53aWR0aCArIDIgKiB2aWV3cG9ydFBhZGRpbmcsIHRyYW5zZm9ybS5oZWlnaHQgKyAyICogdmlld3BvcnRQYWRkaW5nLCAyNSksXG4gICAgICAgIGlnbm9yZWRHcmlkOiBHcmlkID0gbmV3IEdyaWQodHJhbnNmb3JtLndpZHRoICsgMiAqIHZpZXdwb3J0UGFkZGluZywgdHJhbnNmb3JtLmhlaWdodCArIDIgKiB2aWV3cG9ydFBhZGRpbmcsIDI1KVxuICAgICkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcblxuICAgICAgICB0aGlzLmdyaWQgPSBncmlkO1xuICAgICAgICB0aGlzLmlnbm9yZWRHcmlkID0gaWdub3JlZEdyaWQ7XG4gICAgICAgIHRoaXMucGl0Y2hmYWN0b3IgPSBNYXRoLmNvcyh0cmFuc2Zvcm0uX3BpdGNoKSAqIHRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlO1xuXG4gICAgICAgIHRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeSA9IHRyYW5zZm9ybS53aWR0aCArIHZpZXdwb3J0UGFkZGluZztcbiAgICAgICAgdGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeSA9IHRyYW5zZm9ybS5oZWlnaHQgKyB2aWV3cG9ydFBhZGRpbmc7XG4gICAgfVxuXG4gICAgcGxhY2VDb2xsaXNpb25Cb3goY29sbGlzaW9uQm94OiBTaW5nbGVDb2xsaXNpb25Cb3gsIGFsbG93T3ZlcmxhcDogYm9vbGVhbiwgdGV4dFBpeGVsUmF0aW86IG51bWJlciwgcG9zTWF0cml4OiBtYXQ0KTogeyBib3g6IEFycmF5PG51bWJlcj4sIG9mZnNjcmVlbjogYm9vbGVhbiB9IHtcbiAgICAgICAgY29uc3QgcHJvamVjdGVkUG9pbnQgPSB0aGlzLnByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvKHBvc01hdHJpeCwgY29sbGlzaW9uQm94LmFuY2hvclBvaW50WCwgY29sbGlzaW9uQm94LmFuY2hvclBvaW50WSk7XG4gICAgICAgIGNvbnN0IHRpbGVUb1ZpZXdwb3J0ID0gdGV4dFBpeGVsUmF0aW8gKiBwcm9qZWN0ZWRQb2ludC5wZXJzcGVjdGl2ZVJhdGlvO1xuICAgICAgICBjb25zdCB0bFggPSBjb2xsaXNpb25Cb3gueDEgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lng7XG4gICAgICAgIGNvbnN0IHRsWSA9IGNvbGxpc2lvbkJveC55MSAqIHRpbGVUb1ZpZXdwb3J0ICsgcHJvamVjdGVkUG9pbnQucG9pbnQueTtcbiAgICAgICAgY29uc3QgYnJYID0gY29sbGlzaW9uQm94LngyICogdGlsZVRvVmlld3BvcnQgKyBwcm9qZWN0ZWRQb2ludC5wb2ludC54O1xuICAgICAgICBjb25zdCBiclkgPSBjb2xsaXNpb25Cb3gueTIgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lnk7XG5cbiAgICAgICAgaWYgKCFhbGxvd092ZXJsYXApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdyaWQuaGl0VGVzdCh0bFgsIHRsWSwgYnJYLCBiclkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYm94OiBbXSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2NyZWVuOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJveDogW3RsWCwgdGxZLCBiclgsIGJyWV0sXG4gICAgICAgICAgICBvZmZzY3JlZW46IHRoaXMuaXNPZmZzY3JlZW4odGxYLCB0bFksIGJyWCwgYnJZKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFwcHJveGltYXRlVGlsZURpc3RhbmNlKHRpbGVEaXN0YW5jZTogYW55LCBsYXN0U2VnbWVudEFuZ2xlOiBudW1iZXIsIHBpeGVsc1RvVGlsZVVuaXRzOiBudW1iZXIsIGNhbWVyYVRvQW5jaG9yRGlzdGFuY2U6IG51bWJlciwgcGl0Y2hXaXRoTWFwOiBib29sZWFuKTogbnVtYmVyIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIHF1aWNrIGFuZCBkaXJ0eSBzb2x1dGlvbiBmb3IgY2hvc2luZyB3aGljaCBjb2xsaXNpb24gY2lyY2xlcyB0byB1c2UgKHNpbmNlIGNvbGxpc2lvbiBjaXJjbGVzIGFyZVxuICAgICAgICAvLyBsYWlkIG91dCBpbiB0aWxlIHVuaXRzKS4gSWRlYWxseSwgSSB0aGluayB3ZSBzaG91bGQgZ2VuZXJhdGUgY29sbGlzaW9uIGNpcmNsZXMgb24gdGhlIGZseSBpbiB2aWV3cG9ydCBjb29yZGluYXRlc1xuICAgICAgICAvLyBhdCB0aGUgdGltZSB3ZSBkbyBjb2xsaXNpb24gZGV0ZWN0aW9uLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzU0NzRcblxuICAgICAgICAvLyBpbmNpZGVuY2VTdHJldGNoIGlzIHRoZSByYXRpbyBvZiBob3cgbXVjaCB5IHNwYWNlIGEgbGFiZWwgdGFrZXMgdXAgb24gYSB0aWxlIHdoaWxlIGRyYXduIHBlcnBlbmRpY3VsYXIgdG8gdGhlIHZpZXdwb3J0IHZzXG4gICAgICAgIC8vICBob3cgbXVjaCBzcGFjZSBpdCB3b3VsZCB0YWtlIHVwIGlmIGl0IHdlcmUgZHJhd24gZmxhdCBvbiB0aGUgdGlsZVxuICAgICAgICAvLyBVc2luZyBsYXcgb2Ygc2luZXMsIGNhbWVyYV90b19hbmNob3Ivc2luKGdyb3VuZF9hbmdsZSkgPSBjYW1lcmFfdG9fY2VudGVyL3NpbihpbmNpZGVuY2VfYW5nbGUpXG4gICAgICAgIC8vIEluY2lkZW5jZSBhbmdsZSA5MCAtPiBoZWFkIG9uLCBzaW4oaW5jaWRlbmNlX2FuZ2xlKSA9IDEsIG5vIHN0cmV0Y2hcbiAgICAgICAgLy8gSW5jaWRlbmNlIGFuZ2xlIDEgLT4gdmVyeSBvYmxpcXVlLCBzaW4oaW5jaWRlbmNlX2FuZ2xlKSA9fiAwLCBsb3RzIG9mIHN0cmV0Y2hcbiAgICAgICAgLy8gZ3JvdW5kX2FuZ2xlID0gdV9waXRjaCArIFBJLzIgLT4gc2luKGdyb3VuZF9hbmdsZSkgPSBjb3ModV9waXRjaClcbiAgICAgICAgLy8gaW5jaWRlbmNlU3RyZXRjaCA9IDEgLyBzaW4oaW5jaWRlbmNlQW5nbGUpXG5cbiAgICAgICAgY29uc3QgaW5jaWRlbmNlU3RyZXRjaCA9IHBpdGNoV2l0aE1hcCA/IDEgOiBjYW1lcmFUb0FuY2hvckRpc3RhbmNlIC8gdGhpcy5waXRjaGZhY3RvcjtcbiAgICAgICAgY29uc3QgbGFzdFNlZ21lbnRUaWxlID0gdGlsZURpc3RhbmNlLmxhc3RTZWdtZW50Vmlld3BvcnREaXN0YW5jZSAqIHBpeGVsc1RvVGlsZVVuaXRzO1xuICAgICAgICByZXR1cm4gdGlsZURpc3RhbmNlLnByZXZUaWxlRGlzdGFuY2UgK1xuICAgICAgICAgICAgbGFzdFNlZ21lbnRUaWxlICtcbiAgICAgICAgICAgIChpbmNpZGVuY2VTdHJldGNoIC0gMSkgKiBsYXN0U2VnbWVudFRpbGUgKiBNYXRoLmFicyhNYXRoLnNpbihsYXN0U2VnbWVudEFuZ2xlKSk7XG4gICAgfVxuXG4gICAgcGxhY2VDb2xsaXNpb25DaXJjbGVzKGNvbGxpc2lvbkNpcmNsZXM6IEFycmF5PG51bWJlcj4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93T3ZlcmxhcDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFBpeGVsUmF0aW86IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbDogYW55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lVmVydGV4QXJyYXk6IFN5bWJvbExpbmVWZXJ0ZXhBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2x5cGhPZmZzZXRBcnJheTogR2x5cGhPZmZzZXRBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zTWF0cml4OiBtYXQ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFBsYW5lTWF0cml4OiBtYXQ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29sbGlzaW9uQ2lyY2xlczogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuKTogeyBjaXJjbGVzOiBBcnJheTxudW1iZXI+LCBvZmZzY3JlZW46IGJvb2xlYW4gfSB7XG4gICAgICAgIGNvbnN0IHBsYWNlZENvbGxpc2lvbkNpcmNsZXMgPSBbXTtcblxuICAgICAgICBjb25zdCBwcm9qZWN0ZWRBbmNob3IgPSB0aGlzLnByb2plY3RBbmNob3IocG9zTWF0cml4LCBzeW1ib2wuYW5jaG9yWCwgc3ltYm9sLmFuY2hvclkpO1xuXG4gICAgICAgIGNvbnN0IHByb2plY3Rpb25DYWNoZSA9IHt9O1xuICAgICAgICBjb25zdCBmb250U2NhbGUgPSBmb250U2l6ZSAvIDI0O1xuICAgICAgICBjb25zdCBsaW5lT2Zmc2V0WCA9IHN5bWJvbC5saW5lT2Zmc2V0WCAqIGZvbnRTaXplO1xuICAgICAgICBjb25zdCBsaW5lT2Zmc2V0WSA9IHN5bWJvbC5saW5lT2Zmc2V0WSAqIGZvbnRTaXplO1xuXG4gICAgICAgIGNvbnN0IHRpbGVVbml0QW5jaG9yUG9pbnQgPSBuZXcgUG9pbnQoc3ltYm9sLmFuY2hvclgsIHN5bWJvbC5hbmNob3JZKTtcbiAgICAgICAgLy8gcHJvamVjdGlvbi5wcm9qZWN0IGdlbmVyYXRlcyBOREMgY29vcmRpbmF0ZXMsIGFzIG9wcG9zZWQgdG8gdGhlXG4gICAgICAgIC8vIHBpeGVsLWJhc2VkIGdyaWQgY29vcmRpbmF0ZXMgZ2VuZXJhdGVkIGJ5IHRoaXMucHJvamVjdFBvaW50XG4gICAgICAgIGNvbnN0IGxhYmVsUGxhbmVBbmNob3JQb2ludCA9XG4gICAgICAgICAgICBwcm9qZWN0aW9uLnByb2plY3QodGlsZVVuaXRBbmNob3JQb2ludCwgbGFiZWxQbGFuZU1hdHJpeCkucG9pbnQ7XG4gICAgICAgIGNvbnN0IGZpcnN0QW5kTGFzdEdseXBoID0gcHJvamVjdGlvbi5wbGFjZUZpcnN0QW5kTGFzdEdseXBoKFxuICAgICAgICAgICAgZm9udFNjYWxlLFxuICAgICAgICAgICAgZ2x5cGhPZmZzZXRBcnJheSxcbiAgICAgICAgICAgIGxpbmVPZmZzZXRYLFxuICAgICAgICAgICAgbGluZU9mZnNldFksXG4gICAgICAgICAgICAvKmZsaXAqLyBmYWxzZSxcbiAgICAgICAgICAgIGxhYmVsUGxhbmVBbmNob3JQb2ludCxcbiAgICAgICAgICAgIHRpbGVVbml0QW5jaG9yUG9pbnQsXG4gICAgICAgICAgICBzeW1ib2wsXG4gICAgICAgICAgICBsaW5lVmVydGV4QXJyYXksXG4gICAgICAgICAgICBsYWJlbFBsYW5lTWF0cml4LFxuICAgICAgICAgICAgcHJvamVjdGlvbkNhY2hlLFxuICAgICAgICAgICAgLypyZXR1cm4gdGlsZSBkaXN0YW5jZSovIHRydWUpO1xuXG4gICAgICAgIGxldCBjb2xsaXNpb25EZXRlY3RlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgZW50aXJlbHlPZmZzY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHRpbGVUb1ZpZXdwb3J0ID0gcHJvamVjdGVkQW5jaG9yLnBlcnNwZWN0aXZlUmF0aW8gKiB0ZXh0UGl4ZWxSYXRpbztcbiAgICAgICAgLy8gcGl4ZWxzVG9UaWxlVW5pdHMgaXMgdXNlZCBmb3IgdHJhbnNsYXRpbmcgbGluZSBnZW9tZXRyeSB0byB0aWxlIHVuaXRzXG4gICAgICAgIC8vIC4uLiBzbyB3ZSBjYXJlIGFib3V0ICdzY2FsZScgYnV0IG5vdCAncGVyc3BlY3RpdmVSYXRpbydcbiAgICAgICAgLy8gZXF1aXZhbGVudCB0byBwaXhlbF90b190aWxlX3VuaXRzXG4gICAgICAgIGNvbnN0IHBpeGVsc1RvVGlsZVVuaXRzID0gMSAvICh0ZXh0UGl4ZWxSYXRpbyAqIHNjYWxlKTtcblxuICAgICAgICBsZXQgZmlyc3RUaWxlRGlzdGFuY2UgPSAwLCBsYXN0VGlsZURpc3RhbmNlID0gMDtcbiAgICAgICAgaWYgKGZpcnN0QW5kTGFzdEdseXBoKSB7XG4gICAgICAgICAgICBmaXJzdFRpbGVEaXN0YW5jZSA9IHRoaXMuYXBwcm94aW1hdGVUaWxlRGlzdGFuY2UoZmlyc3RBbmRMYXN0R2x5cGguZmlyc3QudGlsZURpc3RhbmNlLCBmaXJzdEFuZExhc3RHbHlwaC5maXJzdC5hbmdsZSwgcGl4ZWxzVG9UaWxlVW5pdHMsIHByb2plY3RlZEFuY2hvci5jYW1lcmFEaXN0YW5jZSwgcGl0Y2hXaXRoTWFwKTtcbiAgICAgICAgICAgIGxhc3RUaWxlRGlzdGFuY2UgPSB0aGlzLmFwcHJveGltYXRlVGlsZURpc3RhbmNlKGZpcnN0QW5kTGFzdEdseXBoLmxhc3QudGlsZURpc3RhbmNlLCBmaXJzdEFuZExhc3RHbHlwaC5sYXN0LmFuZ2xlLCBwaXhlbHNUb1RpbGVVbml0cywgcHJvamVjdGVkQW5jaG9yLmNhbWVyYURpc3RhbmNlLCBwaXRjaFdpdGhNYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBjb2xsaXNpb25DaXJjbGVzLmxlbmd0aDsgayArPSA1KSB7XG4gICAgICAgICAgICBjb25zdCBhbmNob3JQb2ludFggPSBjb2xsaXNpb25DaXJjbGVzW2tdO1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yUG9pbnRZID0gY29sbGlzaW9uQ2lyY2xlc1trICsgMV07XG4gICAgICAgICAgICBjb25zdCB0aWxlVW5pdFJhZGl1cyA9IGNvbGxpc2lvbkNpcmNsZXNbayArIDJdO1xuICAgICAgICAgICAgY29uc3QgYm94U2lnbmVkRGlzdGFuY2VGcm9tQW5jaG9yID0gY29sbGlzaW9uQ2lyY2xlc1trICsgM107XG4gICAgICAgICAgICBpZiAoIWZpcnN0QW5kTGFzdEdseXBoIHx8XG4gICAgICAgICAgICAgICAgKGJveFNpZ25lZERpc3RhbmNlRnJvbUFuY2hvciA8IC1maXJzdFRpbGVEaXN0YW5jZSkgfHxcbiAgICAgICAgICAgICAgICAoYm94U2lnbmVkRGlzdGFuY2VGcm9tQW5jaG9yID4gbGFzdFRpbGVEaXN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgbGFiZWwgZWl0aGVyIGRvZXNuJ3QgZml0IG9uIGl0cyBsaW5lIG9yIHdlXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB1c2UgdGhpcyBjaXJjbGUgYmVjYXVzZSB0aGUgbGFiZWxcbiAgICAgICAgICAgICAgICAvLyBkb2Vzbid0IGV4dGVuZCB0aGlzIGZhci4gRWl0aGVyIHdheSwgbWFyayB0aGUgY2lyY2xlIHVudXNlZC5cbiAgICAgICAgICAgICAgICBtYXJrQ29sbGlzaW9uQ2lyY2xlVXNlZChjb2xsaXNpb25DaXJjbGVzLCBrLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RlZFBvaW50ID0gdGhpcy5wcm9qZWN0UG9pbnQocG9zTWF0cml4LCBhbmNob3JQb2ludFgsIGFuY2hvclBvaW50WSk7XG4gICAgICAgICAgICBjb25zdCByYWRpdXMgPSB0aWxlVW5pdFJhZGl1cyAqIHRpbGVUb1ZpZXdwb3J0O1xuXG4gICAgICAgICAgICBjb25zdCBhdExlYXN0T25lQ2lyY2xlUGxhY2VkID0gcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcy5sZW5ndGggPiAwO1xuICAgICAgICAgICAgaWYgKGF0TGVhc3RPbmVDaXJjbGVQbGFjZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkeCA9IHByb2plY3RlZFBvaW50LnggLSBwbGFjZWRDb2xsaXNpb25DaXJjbGVzW3BsYWNlZENvbGxpc2lvbkNpcmNsZXMubGVuZ3RoIC0gNF07XG4gICAgICAgICAgICAgICAgY29uc3QgZHkgPSBwcm9qZWN0ZWRQb2ludC55IC0gcGxhY2VkQ29sbGlzaW9uQ2lyY2xlc1twbGFjZWRDb2xsaXNpb25DaXJjbGVzLmxlbmd0aCAtIDNdO1xuICAgICAgICAgICAgICAgIC8vIFRoZSBjaXJjbGUgZWRnZXMgdG91Y2ggd2hlbiB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGVpciBjZW50ZXJzIGlzIDJ4IHRoZSByYWRpdXNcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBkaXN0YW5jZSBpcyAxeCB0aGUgcmFkaXVzLCB0aGV5J3JlIGRvdWJsZWQgdXAsIGFuZCB3ZSBjb3VsZCByZW1vdmVcbiAgICAgICAgICAgICAgICAvLyBldmVyeSBvdGhlciBjaXJjbGUgd2hpbGUga2VlcGluZyB0aGVtIGFsbCBpbiB0b3VjaC5cbiAgICAgICAgICAgICAgICAvLyBXZSBhY3R1YWxseSBzdGFydCByZW1vdmluZyBjaXJjbGVzIHdoZW4gdGhlIGRpc3RhbmNlIGlzIOKImjJ4IHRoZSByYWRpdXM6XG4gICAgICAgICAgICAgICAgLy8gIHRoaW5uaW5nIHRoZSBudW1iZXIgb2YgY2lyY2xlcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGlzIGEgbWFqb3IgcGVyZm9ybWFuY2Ugd2luLFxuICAgICAgICAgICAgICAgIC8vICBhbmQgdGhlIHNtYWxsIGdhcHMgaW50cm9kdWNlZCBkb24ndCBtYWtlIGEgdmVyeSBub3RpY2VhYmxlIGRpZmZlcmVuY2UuXG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2VkVG9vRGVuc2VseSA9IHJhZGl1cyAqIHJhZGl1cyAqIDIgPiBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VkVG9vRGVuc2VseSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdExlYXN0T25lTW9yZUNpcmNsZSA9IChrICsgOCkgPCBjb2xsaXNpb25DaXJjbGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0TGVhc3RPbmVNb3JlQ2lyY2xlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0Qm94RGlzdGFuY2VUb0FuY2hvciA9IGNvbGxpc2lvbkNpcmNsZXNbayArIDhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChuZXh0Qm94RGlzdGFuY2VUb0FuY2hvciA+IC1maXJzdFRpbGVEaXN0YW5jZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChuZXh0Qm94RGlzdGFuY2VUb0FuY2hvciA8IGxhc3RUaWxlRGlzdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGlkZSBzaWduaWZpY2FudGx5IG92ZXJsYXBwaW5nIGNpcmNsZXMsIHVubGVzcyB0aGlzIGlzIHRoZSBsYXN0IG9uZSB3ZSBjYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2UsIGluIHdoaWNoIGNhc2Ugd2Ugd2FudCB0byBrZWVwIGl0IGluIHBsYWNlIGV2ZW4gaWYgaXQncyB0aWdodGx5IHBhY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpdGggdGhlIG9uZSBiZWZvcmUgaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya0NvbGxpc2lvbkNpcmNsZVVzZWQoY29sbGlzaW9uQ2lyY2xlcywgaywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29sbGlzaW9uQm94QXJyYXlJbmRleCA9IGsgLyA1O1xuICAgICAgICAgICAgcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcy5wdXNoKHByb2plY3RlZFBvaW50LngsIHByb2plY3RlZFBvaW50LnksIHJhZGl1cywgY29sbGlzaW9uQm94QXJyYXlJbmRleCk7XG4gICAgICAgICAgICBtYXJrQ29sbGlzaW9uQ2lyY2xlVXNlZChjb2xsaXNpb25DaXJjbGVzLCBrLCB0cnVlKTtcblxuICAgICAgICAgICAgZW50aXJlbHlPZmZzY3JlZW4gPSBlbnRpcmVseU9mZnNjcmVlbiAmJiB0aGlzLmlzT2Zmc2NyZWVuKHByb2plY3RlZFBvaW50LnggLSByYWRpdXMsIHByb2plY3RlZFBvaW50LnkgLSByYWRpdXMsIHByb2plY3RlZFBvaW50LnggKyByYWRpdXMsIHByb2plY3RlZFBvaW50LnkgKyByYWRpdXMpO1xuXG4gICAgICAgICAgICBpZiAoIWFsbG93T3ZlcmxhcCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdyaWQuaGl0VGVzdENpcmNsZShwcm9qZWN0ZWRQb2ludC54LCBwcm9qZWN0ZWRQb2ludC55LCByYWRpdXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2hvd0NvbGxpc2lvbkNpcmNsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2NyZWVuOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGVhcmx5IGV4aXQgaWYgd2UncmUgc2hvd2luZyB0aGUgZGVidWcgY2lyY2xlcyBiZWNhdXNlIHdlIHN0aWxsIHdhbnQgdG8gY2FsY3VsYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBjaXJjbGVzIGFyZSBpbiB1c2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkRldGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaXJjbGVzOiBjb2xsaXNpb25EZXRlY3RlZCA/IFtdIDogcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcyxcbiAgICAgICAgICAgIG9mZnNjcmVlbjogZW50aXJlbHlPZmZzY3JlZW5cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCZWNhdXNlIHRoZSBnZW9tZXRyaWVzIGluIHRoZSBDb2xsaXNpb25JbmRleCBhcmUgYW4gYXBwcm94aW1hdGlvbiBvZiB0aGUgc2hhcGUgb2ZcbiAgICAgKiBzeW1ib2xzIG9uIHRoZSBtYXAsIHdlIHVzZSB0aGUgQ29sbGlzaW9uSW5kZXggdG8gbG9vayB1cCB0aGUgc3ltYm9sIHBhcnQgb2ZcbiAgICAgKiBgcXVlcnlSZW5kZXJlZEZlYXR1cmVzYC4gTm9uLXN5bWJvbCBmZWF0dXJlcyBhcmUgbG9va2VkIHVwIHRpbGUtYnktdGlsZSwgYW5kXG4gICAgICogaGlzdG9yaWNhbGx5IGNvbGxpc2lvbnMgd2VyZSBoYW5kbGVkIHBlci10aWxlLlxuICAgICAqXG4gICAgICogRm9yIHRoaXMgcmVhc29uLCBgcXVlcnlSZW5kZXJlZFN5bWJvbHNgIHN0aWxsIHRha2VzIHRpbGUgY29vcmRpbmF0ZSBpbnB1dHMgYW5kXG4gICAgICogY29udmVydHMgdGhlbSBiYWNrIHRvIHZpZXdwb3J0IGNvb3JkaW5hdGVzLiBUaGUgY2hhbmdlIHRvIGEgdmlld3BvcnQgY29vcmRpbmF0ZVxuICAgICAqIENvbGxpc2lvbkluZGV4IG1lYW5zIGl0J3Mgbm93IHBvc3NpYmxlIHRvIHJlLWRlc2lnbiBxdWVyeVJlbmRlcmVkU3ltYm9scyB0b1xuICAgICAqIHJ1biBlbnRpcmVseSBpbiB2aWV3cG9ydCBjb29yZGluYXRlcywgc2F2aW5nIHVubmVjZXNzYXJ5IGNvbnZlcnNpb25zLlxuICAgICAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvNTQ3NVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBxdWVyeVJlbmRlcmVkU3ltYm9scyhxdWVyeUdlb21ldHJ5OiBhbnksIHRpbGVDb29yZDogT3ZlcnNjYWxlZFRpbGVJRCwgdGV4dFBpeGVsUmF0aW86IG51bWJlciwgY29sbGlzaW9uQm94QXJyYXk6IENvbGxpc2lvbkJveEFycmF5LCBzb3VyY2VJRDogc3RyaW5nLCBidWNrZXRJbnN0YW5jZUlkczoge1tudW1iZXJdOiBib29sZWFufSkge1xuICAgICAgICBjb25zdCBzb3VyY2VMYXllckZlYXR1cmVzID0ge307XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgICAgIGlmIChxdWVyeUdlb21ldHJ5Lmxlbmd0aCA9PT0gMCB8fCAodGhpcy5ncmlkLmtleXNMZW5ndGgoKSA9PT0gMCAmJiB0aGlzLmlnbm9yZWRHcmlkLmtleXNMZW5ndGgoKSA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3NNYXRyaXggPSB0aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgodGlsZUNvb3JkLnRvVW53cmFwcGVkKCkpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gW107XG4gICAgICAgIGxldCBtaW5YID0gSW5maW5pdHk7XG4gICAgICAgIGxldCBtaW5ZID0gSW5maW5pdHk7XG4gICAgICAgIGxldCBtYXhYID0gLUluZmluaXR5O1xuICAgICAgICBsZXQgbWF4WSA9IC1JbmZpbml0eTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWVyeUdlb21ldHJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByaW5nID0gcXVlcnlHZW9tZXRyeVtpXTtcbiAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcmluZy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLnByb2plY3RQb2ludChwb3NNYXRyaXgsIHJpbmdba10ueCwgcmluZ1trXS55KTtcbiAgICAgICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgcC54KTtcbiAgICAgICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgcC55KTtcbiAgICAgICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgcC54KTtcbiAgICAgICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgcC55KTtcbiAgICAgICAgICAgICAgICBxdWVyeS5wdXNoKHApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGlsZUlEID0gdGlsZUNvb3JkLmtleTtcblxuICAgICAgICBjb25zdCB0aGlzVGlsZUZlYXR1cmVzID0gW107XG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5ncmlkLnF1ZXJ5KG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGluY2x1ZGUgcmVzdWx0cyBmcm9tIHRoZSBtYXRjaGluZyBzb3VyY2UsIHRpbGUgYW5kIHZlcnNpb24gb2YgdGhlIGJ1Y2tldCB0aGF0IHdhcyBpbmRleGVkXG4gICAgICAgICAgICBpZiAoZmVhdHVyZXNbaV0uc291cmNlSUQgPT09IHNvdXJjZUlEICYmXG4gICAgICAgICAgICAgICAgZmVhdHVyZXNbaV0udGlsZUlEID09PSB0aWxlSUQgJiZcbiAgICAgICAgICAgICAgICBidWNrZXRJbnN0YW5jZUlkc1tmZWF0dXJlc1tpXS5idWNrZXRJbnN0YW5jZUlkXSkge1xuICAgICAgICAgICAgICAgIHRoaXNUaWxlRmVhdHVyZXMucHVzaChmZWF0dXJlc1tpXS5ib3hJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaWdub3JlZEZlYXR1cmVzID0gdGhpcy5pZ25vcmVkR3JpZC5xdWVyeShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZ25vcmVkRmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpZ25vcmVkRmVhdHVyZXNbaV0uc291cmNlSUQgPT09IHNvdXJjZUlEICYmXG4gICAgICAgICAgICAgICAgaWdub3JlZEZlYXR1cmVzW2ldLnRpbGVJRCA9PT0gdGlsZUlEICYmXG4gICAgICAgICAgICAgICAgYnVja2V0SW5zdGFuY2VJZHNbaWdub3JlZEZlYXR1cmVzW2ldLmJ1Y2tldEluc3RhbmNlSWRdKSB7XG4gICAgICAgICAgICAgICAgdGhpc1RpbGVGZWF0dXJlcy5wdXNoKGlnbm9yZWRGZWF0dXJlc1tpXS5ib3hJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXNUaWxlRmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGJsb2NraW5nID0gY29sbGlzaW9uQm94QXJyYXkuZ2V0KHRoaXNUaWxlRmVhdHVyZXNbaV0pO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlTGF5ZXIgPSBibG9ja2luZy5zb3VyY2VMYXllckluZGV4O1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZUluZGV4ID0gYmxvY2tpbmcuZmVhdHVyZUluZGV4O1xuICAgICAgICAgICAgY29uc3QgYnVja2V0SW5kZXggPSBibG9ja2luZy5idWNrZXRJbmRleDtcblxuICAgICAgICAgICAgLy8gU2tpcCBhbHJlYWR5IHNlZW4gZmVhdHVyZXMuXG4gICAgICAgICAgICBpZiAoc291cmNlTGF5ZXJGZWF0dXJlc1tzb3VyY2VMYXllcl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZUxheWVyRmVhdHVyZXNbc291cmNlTGF5ZXJdID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc291cmNlTGF5ZXJGZWF0dXJlc1tzb3VyY2VMYXllcl1bZmVhdHVyZUluZGV4XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc291cmNlTGF5ZXJGZWF0dXJlc1tzb3VyY2VMYXllcl1bZmVhdHVyZUluZGV4XSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNvdXJjZUxheWVyRmVhdHVyZXNbc291cmNlTGF5ZXJdW2ZlYXR1cmVJbmRleF1bYnVja2V0SW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHF1ZXJ5IGludGVyc2VjdHMgd2l0aCB0aGUgZmVhdHVyZSBib3hcbiAgICAgICAgICAgIC8vIFwiQ29sbGlzaW9uIENpcmNsZXNcIiBmb3IgbGluZSBsYWJlbHMgYXJlIHRyZWF0ZWQgYXMgYm94ZXMgaGVyZVxuICAgICAgICAgICAgLy8gU2luY2UgdGhlcmUncyBubyBhY3R1YWwgY29sbGlzaW9uIHRha2luZyBwbGFjZSwgdGhlIGNpcmNsZSB2cy4gc3F1YXJlXG4gICAgICAgICAgICAvLyBkaXN0aW5jdGlvbiBkb2Vzbid0IG1hdHRlciBhcyBtdWNoLCBhbmQgYm94IGdlb21ldHJ5IGlzIGVhc2llclxuICAgICAgICAgICAgLy8gdG8gd29yayB3aXRoLlxuICAgICAgICAgICAgY29uc3QgcHJvamVjdGVkUG9pbnQgPSB0aGlzLnByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvKHBvc01hdHJpeCwgYmxvY2tpbmcuYW5jaG9yUG9pbnRYLCBibG9ja2luZy5hbmNob3JQb2ludFkpO1xuICAgICAgICAgICAgY29uc3QgdGlsZVRvVmlld3BvcnQgPSB0ZXh0UGl4ZWxSYXRpbyAqIHByb2plY3RlZFBvaW50LnBlcnNwZWN0aXZlUmF0aW87XG4gICAgICAgICAgICBjb25zdCB4MSA9IGJsb2NraW5nLngxICogdGlsZVRvVmlld3BvcnQgKyBwcm9qZWN0ZWRQb2ludC5wb2ludC54O1xuICAgICAgICAgICAgY29uc3QgeTEgPSBibG9ja2luZy55MSAqIHRpbGVUb1ZpZXdwb3J0ICsgcHJvamVjdGVkUG9pbnQucG9pbnQueTtcbiAgICAgICAgICAgIGNvbnN0IHgyID0gYmxvY2tpbmcueDIgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lng7XG4gICAgICAgICAgICBjb25zdCB5MiA9IGJsb2NraW5nLnkyICogdGlsZVRvVmlld3BvcnQgKyBwcm9qZWN0ZWRQb2ludC5wb2ludC55O1xuICAgICAgICAgICAgY29uc3QgYmJveCA9IFtcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoeDEsIHkxKSxcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoeDIsIHkxKSxcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoeDIsIHkyKSxcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoeDEsIHkyKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmICghaW50ZXJzZWN0aW9uVGVzdHMucG9seWdvbkludGVyc2VjdHNQb2x5Z29uKHF1ZXJ5LCBiYm94KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzb3VyY2VMYXllckZlYXR1cmVzW3NvdXJjZUxheWVyXVtmZWF0dXJlSW5kZXhdW2J1Y2tldEluZGV4XSA9IHRydWU7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzVGlsZUZlYXR1cmVzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgaW5zZXJ0Q29sbGlzaW9uQm94KGNvbGxpc2lvbkJveDogQXJyYXk8bnVtYmVyPiwgaWdub3JlUGxhY2VtZW50OiBib29sZWFuLCB0aWxlSUQ6IG51bWJlciwgc291cmNlSUQ6IHN0cmluZywgYnVja2V0SW5zdGFuY2VJZDogbnVtYmVyLCBib3hTdGFydEluZGV4OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZ3JpZCA9IGlnbm9yZVBsYWNlbWVudCA/IHRoaXMuaWdub3JlZEdyaWQgOiB0aGlzLmdyaWQ7XG5cbiAgICAgICAgY29uc3Qga2V5ID0geyB0aWxlSUQ6IHRpbGVJRCwgc291cmNlSUQ6IHNvdXJjZUlELCBidWNrZXRJbnN0YW5jZUlkOiBidWNrZXRJbnN0YW5jZUlkLCBib3hJbmRleDogYm94U3RhcnRJbmRleCB9O1xuICAgICAgICBncmlkLmluc2VydChrZXksIGNvbGxpc2lvbkJveFswXSwgY29sbGlzaW9uQm94WzFdLCBjb2xsaXNpb25Cb3hbMl0sIGNvbGxpc2lvbkJveFszXSk7XG4gICAgfVxuXG4gICAgaW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcyhjb2xsaXNpb25DaXJjbGVzOiBBcnJheTxudW1iZXI+LCBpZ25vcmVQbGFjZW1lbnQ6IGJvb2xlYW4sIHRpbGVJRDogbnVtYmVyLCBzb3VyY2VJRDogc3RyaW5nLCBidWNrZXRJbnN0YW5jZUlkOiBudW1iZXIsIGJveFN0YXJ0SW5kZXg6IG51bWJlcikge1xuICAgICAgICBjb25zdCBncmlkID0gaWdub3JlUGxhY2VtZW50ID8gdGhpcy5pZ25vcmVkR3JpZCA6IHRoaXMuZ3JpZDtcblxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGNvbGxpc2lvbkNpcmNsZXMubGVuZ3RoOyBrICs9IDQpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHsgdGlsZUlEOiB0aWxlSUQsIHNvdXJjZUlEOiBzb3VyY2VJRCwgYnVja2V0SW5zdGFuY2VJZDogYnVja2V0SW5zdGFuY2VJZCwgYm94SW5kZXg6IGJveFN0YXJ0SW5kZXggKyBjb2xsaXNpb25DaXJjbGVzW2sgKyAzXSB9O1xuICAgICAgICAgICAgZ3JpZC5pbnNlcnRDaXJjbGUoa2V5LCBjb2xsaXNpb25DaXJjbGVzW2tdLCBjb2xsaXNpb25DaXJjbGVzW2sgKyAxXSwgY29sbGlzaW9uQ2lyY2xlc1trICsgMl0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvamVjdEFuY2hvcihwb3NNYXRyaXg6IG1hdDQsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHAgPSBbeCwgeSwgMCwgMV07XG4gICAgICAgIHByb2plY3Rpb24ueHlUcmFuc2Zvcm1NYXQ0KHAsIHAsIHBvc01hdHJpeCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwZXJzcGVjdGl2ZVJhdGlvOiAwLjUgKyAwLjUgKiAodGhpcy50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSAvIHBbM10pLFxuICAgICAgICAgICAgY2FtZXJhRGlzdGFuY2U6IHBbM11cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcm9qZWN0UG9pbnQocG9zTWF0cml4OiBtYXQ0LCB4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICBjb25zdCBwID0gW3gsIHksIDAsIDFdO1xuICAgICAgICBwcm9qZWN0aW9uLnh5VHJhbnNmb3JtTWF0NChwLCBwLCBwb3NNYXRyaXgpO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICAgICAgKCgocFswXSAvIHBbM10gKyAxKSAvIDIpICogdGhpcy50cmFuc2Zvcm0ud2lkdGgpICsgdmlld3BvcnRQYWRkaW5nLFxuICAgICAgICAgICAgKCgoLXBbMV0gLyBwWzNdICsgMSkgLyAyKSAqIHRoaXMudHJhbnNmb3JtLmhlaWdodCkgKyB2aWV3cG9ydFBhZGRpbmdcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhwb3NNYXRyaXg6IG1hdDQsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHAgPSBbeCwgeSwgMCwgMV07XG4gICAgICAgIHByb2plY3Rpb24ueHlUcmFuc2Zvcm1NYXQ0KHAsIHAsIHBvc01hdHJpeCk7XG4gICAgICAgIGNvbnN0IGEgPSBuZXcgUG9pbnQoXG4gICAgICAgICAgICAoKChwWzBdIC8gcFszXSArIDEpIC8gMikgKiB0aGlzLnRyYW5zZm9ybS53aWR0aCkgKyB2aWV3cG9ydFBhZGRpbmcsXG4gICAgICAgICAgICAoKCgtcFsxXSAvIHBbM10gKyAxKSAvIDIpICogdGhpcy50cmFuc2Zvcm0uaGVpZ2h0KSArIHZpZXdwb3J0UGFkZGluZ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9pbnQ6IGEsXG4gICAgICAgICAgICAvLyBTZWUgcGVyc3BlY3RpdmUgcmF0aW8gY29tbWVudCBpbiBzeW1ib2xfc2RmLnZlcnRleFxuICAgICAgICAgICAgLy8gV2UncmUgZG9pbmcgY29sbGlzaW9uIGRldGVjdGlvbiBpbiB2aWV3cG9ydCBzcGFjZSBzbyB3ZSBuZWVkXG4gICAgICAgICAgICAvLyB0byBzY2FsZSBkb3duIGJveGVzIGluIHRoZSBkaXN0YW5jZVxuICAgICAgICAgICAgcGVyc3BlY3RpdmVSYXRpbzogMC41ICsgMC41ICogKHRoaXMudHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgLyBwWzNdKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlzT2Zmc2NyZWVuKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHgyIDwgdmlld3BvcnRQYWRkaW5nIHx8IHgxID49IHRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeSB8fCB5MiA8IHZpZXdwb3J0UGFkZGluZyB8fCB5MSA+IHRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtYXJrQ29sbGlzaW9uQ2lyY2xlVXNlZChjb2xsaXNpb25DaXJjbGVzOiBBcnJheTxudW1iZXI+LCBpbmRleDogbnVtYmVyLCB1c2VkOiBib29sZWFuKSB7XG4gICAgY29sbGlzaW9uQ2lyY2xlc1tpbmRleCArIDRdID0gdXNlZCA/IDEgOiAwO1xufVxuXG5leHBvcnQgZGVmYXVsdCBDb2xsaXNpb25JbmRleDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IHVuaXF1ZUlkLCBkZWVwRXF1YWwsIHBhcnNlQ2FjaGVDb250cm9sIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IGRlc2VyaWFsaXplIGFzIGRlc2VyaWFsaXplQnVja2V0IH0gZnJvbSAnLi4vZGF0YS9idWNrZXQnO1xuaW1wb3J0IEZlYXR1cmVJbmRleCBmcm9tICcuLi9kYXRhL2ZlYXR1cmVfaW5kZXgnO1xuaW1wb3J0IHZ0IGZyb20gJ0BtYXBib3gvdmVjdG9yLXRpbGUnO1xuaW1wb3J0IFByb3RvYnVmIGZyb20gJ3BiZic7XG5pbXBvcnQgR2VvSlNPTkZlYXR1cmUgZnJvbSAnLi4vdXRpbC92ZWN0b3J0aWxlX3RvX2dlb2pzb24nO1xuaW1wb3J0IGZlYXR1cmVGaWx0ZXIgZnJvbSAnLi4vc3R5bGUtc3BlYy9mZWF0dXJlX2ZpbHRlcic7XG5pbXBvcnQgQ29sbGlzaW9uSW5kZXggZnJvbSAnLi4vc3ltYm9sL2NvbGxpc2lvbl9pbmRleCc7XG5pbXBvcnQgU3ltYm9sQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQnO1xuaW1wb3J0IHsgUmFzdGVyQm91bmRzQXJyYXksIENvbGxpc2lvbkJveEFycmF5IH0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcyc7XG5pbXBvcnQgcmFzdGVyQm91bmRzQXR0cmlidXRlcyBmcm9tICcuLi9kYXRhL3Jhc3Rlcl9ib3VuZHNfYXR0cmlidXRlcyc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50JztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4uL3JlbmRlci90ZXh0dXJlJztcbmltcG9ydCBTZWdtZW50VmVjdG9yIGZyb20gJy4uL2RhdGEvc2VnbWVudCc7XG5pbXBvcnQgeyBUcmlhbmdsZUluZGV4QXJyYXkgfSBmcm9tICcuLi9kYXRhL2luZGV4X2FycmF5X3R5cGUnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcblxuY29uc3QgQ0xPQ0tfU0tFV19SRVRSWV9USU1FT1VUID0gMzAwMDA7XG5cbmltcG9ydCB0eXBlIHtCdWNrZXR9IGZyb20gJy4uL2RhdGEvYnVja2V0JztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUge1dvcmtlclRpbGVSZXN1bHR9IGZyb20gJy4vd29ya2VyX3NvdXJjZSc7XG5pbXBvcnQgdHlwZSBERU1EYXRhIGZyb20gJy4uL2RhdGEvZGVtX2RhdGEnO1xuaW1wb3J0IHR5cGUge1JHQkFJbWFnZSwgQWxwaGFJbWFnZX0gZnJvbSAnLi4vdXRpbC9pbWFnZSc7XG5pbXBvcnQgdHlwZSBNYXNrIGZyb20gJy4uL3JlbmRlci90aWxlX21hc2snO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcbmltcG9ydCB0eXBlIEluZGV4QnVmZmVyIGZyb20gJy4uL2dsL2luZGV4X2J1ZmZlcic7XG5pbXBvcnQgdHlwZSBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi4vZ2wvdmVydGV4X2J1ZmZlcic7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCB0eXBlIEZyYW1lYnVmZmVyIGZyb20gJy4uL2dsL2ZyYW1lYnVmZmVyJztcbmltcG9ydCB0eXBlIHtQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nfSBmcm9tICcuLi90eXBlcy9wZXJmb3JtYW5jZV9yZXNvdXJjZV90aW1pbmcnO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuXG5leHBvcnQgdHlwZSBUaWxlU3RhdGUgPVxuICAgIHwgJ2xvYWRpbmcnICAgLy8gVGlsZSBkYXRhIGlzIGluIHRoZSBwcm9jZXNzIG9mIGxvYWRpbmcuXG4gICAgfCAnbG9hZGVkJyAgICAvLyBUaWxlIGRhdGEgaGFzIGJlZW4gbG9hZGVkLiBUaWxlIGNhbiBiZSByZW5kZXJlZC5cbiAgICB8ICdyZWxvYWRpbmcnIC8vIFRpbGUgZGF0YSBoYXMgYmVlbiBsb2FkZWQgYW5kIGlzIGJlaW5nIHVwZGF0ZWQuIFRpbGUgY2FuIGJlIHJlbmRlcmVkLlxuICAgIHwgJ3VubG9hZGVkJyAgLy8gVGlsZSBkYXRhIGhhcyBiZWVuIGRlbGV0ZWQuXG4gICAgfCAnZXJyb3JlZCcgICAvLyBUaWxlIGRhdGEgd2FzIG5vdCBsb2FkZWQgYmVjYXVzZSBvZiBhbiBlcnJvci5cbiAgICB8ICdleHBpcmVkJzsgIC8qIFRpbGUgZGF0YSB3YXMgcHJldmlvdXNseSBsb2FkZWQsIGJ1dCBoYXMgZXhwaXJlZCBwZXIgaXRzXG4gICAgICAgICAgICAgICAgICAgKiBIVFRQIGhlYWRlcnMgYW5kIGlzIGluIHRoZSBwcm9jZXNzIG9mIHJlZnJlc2hpbmcuICovXG5cbi8qKlxuICogQSB0aWxlIG9iamVjdCBpcyB0aGUgY29tYmluYXRpb24gb2YgYSBDb29yZGluYXRlLCB3aGljaCBkZWZpbmVzXG4gKiBpdHMgcGxhY2UsIGFzIHdlbGwgYXMgYSB1bmlxdWUgSUQgYW5kIGRhdGEgdHJhY2tpbmcgZm9yIGl0cyBjb250ZW50XG4gKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgVGlsZSB7XG4gICAgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEO1xuICAgIHVpZDogbnVtYmVyO1xuICAgIHVzZXM6IG51bWJlcjtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIGJ1Y2tldHM6IHtbc3RyaW5nXTogQnVja2V0fTtcbiAgICBpY29uQXRsYXNJbWFnZTogP1JHQkFJbWFnZTtcbiAgICBpY29uQXRsYXNUZXh0dXJlOiBUZXh0dXJlO1xuICAgIGdseXBoQXRsYXNJbWFnZTogP0FscGhhSW1hZ2U7XG4gICAgZ2x5cGhBdGxhc1RleHR1cmU6IFRleHR1cmU7XG4gICAgZXhwaXJhdGlvblRpbWU6IGFueTtcbiAgICBleHBpcmVkUmVxdWVzdENvdW50OiBudW1iZXI7XG4gICAgc3RhdGU6IFRpbGVTdGF0ZTtcbiAgICB0aW1lQWRkZWQ6IGFueTtcbiAgICBmYWRlRW5kVGltZTogYW55O1xuICAgIHJhd1RpbGVEYXRhOiBBcnJheUJ1ZmZlcjtcbiAgICBjb2xsaXNpb25Cb3hBcnJheTogP0NvbGxpc2lvbkJveEFycmF5O1xuICAgIGNvbGxpc2lvbkluZGV4OiA/Q29sbGlzaW9uSW5kZXg7XG4gICAgZmVhdHVyZUluZGV4OiA/RmVhdHVyZUluZGV4O1xuICAgIHJlZG9XaGVuRG9uZTogYm9vbGVhbjtcbiAgICBzaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW47XG4gICAgcGxhY2VtZW50U291cmNlOiBhbnk7XG4gICAgd29ya2VySUQ6IG51bWJlciB8IHZvaWQ7XG4gICAgdnRMYXllcnM6IHtbc3RyaW5nXTogVmVjdG9yVGlsZUxheWVyfTtcbiAgICBtYXNrOiBNYXNrO1xuXG4gICAgbmVpZ2hib3JpbmdUaWxlczogP09iamVjdDtcbiAgICBkZW06ID9ERU1EYXRhO1xuICAgIGFib3J0ZWQ6ID9ib29sZWFuO1xuICAgIG1hc2tlZEJvdW5kc0J1ZmZlcjogP1ZlcnRleEJ1ZmZlcjtcbiAgICBtYXNrZWRJbmRleEJ1ZmZlcjogP0luZGV4QnVmZmVyO1xuICAgIHNlZ21lbnRzOiA/U2VnbWVudFZlY3RvcjtcbiAgICBuZWVkc0hpbGxzaGFkZVByZXBhcmU6ID9ib29sZWFuXG4gICAgcmVxdWVzdDogYW55O1xuICAgIHRleHR1cmU6IGFueTtcbiAgICBmYm86ID9GcmFtZWJ1ZmZlcjtcbiAgICBkZW1UZXh0dXJlOiA/VGV4dHVyZTtcbiAgICByZWZyZXNoZWRVcG9uRXhwaXJhdGlvbjogYm9vbGVhbjtcbiAgICByZWxvYWRDYWxsYmFjazogYW55O1xuICAgIHJlc291cmNlVGltaW5nOiA/QXJyYXk8UGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZz47XG4gICAgcXVlcnlQYWRkaW5nOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge092ZXJzY2FsZWRUaWxlSUR9IHRpbGVJRFxuICAgICAqIEBwYXJhbSBzaXplXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCBzaXplOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy50aWxlSUQgPSB0aWxlSUQ7XG4gICAgICAgIHRoaXMudWlkID0gdW5pcXVlSWQoKTtcbiAgICAgICAgdGhpcy51c2VzID0gMDtcbiAgICAgICAgdGhpcy50aWxlU2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMuYnVja2V0cyA9IHt9O1xuICAgICAgICB0aGlzLmV4cGlyYXRpb25UaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWVyeVBhZGRpbmcgPSAwO1xuXG4gICAgICAgIC8vIENvdW50cyB0aGUgbnVtYmVyIG9mIHRpbWVzIGEgcmVzcG9uc2Ugd2FzIGFscmVhZHkgZXhwaXJlZCB3aGVuXG4gICAgICAgIC8vIHJlY2VpdmVkLiBXZSdyZSB1c2luZyB0aGlzIHRvIGFkZCBhIGRlbGF5IHdoZW4gbWFraW5nIGEgbmV3IHJlcXVlc3RcbiAgICAgICAgLy8gc28gd2UgZG9uJ3QgaGF2ZSB0byBrZWVwIHJldHJ5aW5nIGltbWVkaWF0ZWx5IGluIGNhc2Ugb2YgYSBzZXJ2ZXJcbiAgICAgICAgLy8gc2VydmluZyBleHBpcmVkIHRpbGVzLlxuICAgICAgICB0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQgPSAwO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSAnbG9hZGluZyc7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJGYWRlRHVyYXRpb24oZHVyYXRpb246IG51bWJlcikge1xuICAgICAgICBjb25zdCBmYWRlRW5kVGltZSA9IGR1cmF0aW9uICsgdGhpcy50aW1lQWRkZWQ7XG4gICAgICAgIGlmIChmYWRlRW5kVGltZSA8IGJyb3dzZXIubm93KCkpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuZmFkZUVuZFRpbWUgJiYgZmFkZUVuZFRpbWUgPCB0aGlzLmZhZGVFbmRUaW1lKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5mYWRlRW5kVGltZSA9IGZhZGVFbmRUaW1lO1xuICAgIH1cblxuICAgIHdhc1JlcXVlc3RlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT09ICdlcnJvcmVkJyB8fCB0aGlzLnN0YXRlID09PSAnbG9hZGVkJyB8fCB0aGlzLnN0YXRlID09PSAncmVsb2FkaW5nJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGRhdGEgb2JqZWN0IHdpdGggYSAnYnVmZmVycycgcHJvcGVydHksIGxvYWQgaXQgaW50b1xuICAgICAqIHRoaXMgdGlsZSdzIGVsZW1lbnRHcm91cHMgYW5kIGJ1ZmZlcnMgcHJvcGVydGllcyBhbmQgc2V0IGxvYWRlZFxuICAgICAqIHRvIHRydWUuIElmIHRoZSBkYXRhIGlzIG51bGwsIGxpa2UgaW4gdGhlIGNhc2Ugb2YgYW4gZW1wdHlcbiAgICAgKiBHZW9KU09OIHRpbGUsIG5vLW9wIGJ1dCBzdGlsbCBzZXQgbG9hZGVkIHRvIHRydWUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKiBAcGFyYW0gcGFpbnRlclxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBsb2FkVmVjdG9yRGF0YShkYXRhOiBXb3JrZXJUaWxlUmVzdWx0LCBwYWludGVyOiBhbnksIGp1c3RSZWxvYWRlZDogP2Jvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzRGF0YSgpKSB7XG4gICAgICAgICAgICB0aGlzLnVubG9hZFZlY3RvckRhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSAnbG9hZGVkJztcblxuICAgICAgICAvLyBlbXB0eSBHZW9KU09OIHRpbGVcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxpc2lvbkJveEFycmF5ID0gbmV3IENvbGxpc2lvbkJveEFycmF5KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5yYXdUaWxlRGF0YSkge1xuICAgICAgICAgICAgLy8gT25seSB2ZWN0b3IgdGlsZXMgaGF2ZSByYXdUaWxlRGF0YVxuICAgICAgICAgICAgdGhpcy5yYXdUaWxlRGF0YSA9IGRhdGEucmF3VGlsZURhdGE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xsaXNpb25Cb3hBcnJheSA9IGRhdGEuY29sbGlzaW9uQm94QXJyYXk7XG4gICAgICAgIHRoaXMuZmVhdHVyZUluZGV4ID0gZGF0YS5mZWF0dXJlSW5kZXg7XG4gICAgICAgIHRoaXMuZmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhID0gdGhpcy5yYXdUaWxlRGF0YTtcbiAgICAgICAgdGhpcy5idWNrZXRzID0gZGVzZXJpYWxpemVCdWNrZXQoZGF0YS5idWNrZXRzLCBwYWludGVyLnN0eWxlKTtcblxuICAgICAgICBpZiAoanVzdFJlbG9hZGVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuYnVja2V0cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1Y2tldCA9IHRoaXMuYnVja2V0c1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKGJ1Y2tldCBpbnN0YW5jZW9mIFN5bWJvbEJ1Y2tldCkge1xuICAgICAgICAgICAgICAgICAgICBidWNrZXQuanVzdFJlbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnF1ZXJ5UGFkZGluZyA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5idWNrZXRzKSB7XG4gICAgICAgICAgICBjb25zdCBidWNrZXQgPSB0aGlzLmJ1Y2tldHNbaWRdO1xuICAgICAgICAgICAgdGhpcy5xdWVyeVBhZGRpbmcgPSBNYXRoLm1heCh0aGlzLnF1ZXJ5UGFkZGluZywgcGFpbnRlci5zdHlsZS5nZXRMYXllcihidWNrZXQubGF5ZXJJZHNbMF0pLnF1ZXJ5UmFkaXVzKGJ1Y2tldCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuaWNvbkF0bGFzSW1hZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuaWNvbkF0bGFzSW1hZ2UgPSBkYXRhLmljb25BdGxhc0ltYWdlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLmdseXBoQXRsYXNJbWFnZSkge1xuICAgICAgICAgICAgdGhpcy5nbHlwaEF0bGFzSW1hZ2UgPSBkYXRhLmdseXBoQXRsYXNJbWFnZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgYW55IGRhdGEgb3IgV2ViR0wgcmVzb3VyY2VzIHJlZmVyZW5jZWQgYnkgdGhpcyB0aWxlLlxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1bmxvYWRWZWN0b3JEYXRhKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuYnVja2V0cykge1xuICAgICAgICAgICAgdGhpcy5idWNrZXRzW2lkXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWNrZXRzID0ge307XG5cbiAgICAgICAgaWYgKHRoaXMuaWNvbkF0bGFzVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5pY29uQXRsYXNUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nbHlwaEF0bGFzVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5nbHlwaEF0bGFzVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbGxpc2lvbkJveEFycmF5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mZWF0dXJlSW5kZXggPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gJ3VubG9hZGVkJztcbiAgICB9XG5cbiAgICB1bmxvYWRERU1EYXRhKCkge1xuICAgICAgICB0aGlzLmRlbSA9IG51bGw7XG4gICAgICAgIHRoaXMubmVpZ2hib3JpbmdUaWxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgIH1cblxuICAgIGdldEJ1Y2tldChsYXllcjogU3R5bGVMYXllcikge1xuICAgICAgICByZXR1cm4gdGhpcy5idWNrZXRzW2xheWVyLmlkXTtcbiAgICB9XG5cbiAgICB1cGxvYWQoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuYnVja2V0cykge1xuICAgICAgICAgICAgY29uc3QgYnVja2V0ID0gdGhpcy5idWNrZXRzW2lkXTtcbiAgICAgICAgICAgIGlmICghYnVja2V0LnVwbG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgYnVja2V0LnVwbG9hZChjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBidWNrZXQudXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIGlmICh0aGlzLmljb25BdGxhc0ltYWdlKSB7XG4gICAgICAgICAgICB0aGlzLmljb25BdGxhc1RleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmljb25BdGxhc0ltYWdlLCBnbC5SR0JBKTtcbiAgICAgICAgICAgIHRoaXMuaWNvbkF0bGFzSW1hZ2UgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZ2x5cGhBdGxhc0ltYWdlKSB7XG4gICAgICAgICAgICB0aGlzLmdseXBoQXRsYXNUZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgdGhpcy5nbHlwaEF0bGFzSW1hZ2UsIGdsLkFMUEhBKTtcbiAgICAgICAgICAgIHRoaXMuZ2x5cGhBdGxhc0ltYWdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhsYXllcnM6IHtbc3RyaW5nXTogU3R5bGVMYXllcn0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnk6IEFycmF5PEFycmF5PFBvaW50Pj4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogeyBmaWx0ZXI6IEZpbHRlclNwZWNpZmljYXRpb24sIGxheWVyczogQXJyYXk8c3RyaW5nPiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4UGl0Y2hTY2FsZUZhY3RvcjogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NNYXRyaXg6IEZsb2F0MzJBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlSUQ6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uSW5kZXg6ID9Db2xsaXNpb25JbmRleCk6IHtbc3RyaW5nXTogQXJyYXk8eyBmZWF0dXJlSW5kZXg6IG51bWJlciwgZmVhdHVyZTogR2VvSlNPTkZlYXR1cmUgfT59IHtcbiAgICAgICAgaWYgKCF0aGlzLmZlYXR1cmVJbmRleCB8fCAhdGhpcy5jb2xsaXNpb25Cb3hBcnJheSlcbiAgICAgICAgICAgIHJldHVybiB7fTtcblxuICAgICAgICAvLyBDcmVhdGUgdGhlIHNldCBvZiB0aGUgY3VycmVudCBidWNrZXQgaW5zdGFuY2UgaWRzXG4gICAgICAgIGNvbnN0IGJ1Y2tldEluc3RhbmNlSWRzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gbGF5ZXJzKSB7XG4gICAgICAgICAgICBjb25zdCBidWNrZXQgPSB0aGlzLmdldEJ1Y2tldChsYXllcnNbaWRdKTtcbiAgICAgICAgICAgIGlmIChidWNrZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGJ1Y2tldCBpbnN0YW5jZSdzIGlkIHRvIHRoZSBzZXQgb2YgY3VycmVudCBpZHMuXG4gICAgICAgICAgICAgICAgLy8gVGhlIHF1ZXJ5IHdpbGwgb25seSBpbmNsdWRlIHJlc3VsdHMgZnJvbSBjdXJyZW50IGJ1Y2tldHMuXG4gICAgICAgICAgICAgICAgaWYgKGJ1Y2tldCBpbnN0YW5jZW9mIFN5bWJvbEJ1Y2tldCAmJiBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Y2tldEluc3RhbmNlSWRzW2J1Y2tldC5idWNrZXRJbnN0YW5jZUlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZUluZGV4LnF1ZXJ5KHtcbiAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnk6IHF1ZXJ5R2VvbWV0cnksXG4gICAgICAgICAgICBzY2FsZTogc2NhbGUsXG4gICAgICAgICAgICB0aWxlU2l6ZTogdGhpcy50aWxlU2l6ZSxcbiAgICAgICAgICAgIHBvc01hdHJpeDogcG9zTWF0cml4LFxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgICAgIHF1ZXJ5UGFkZGluZzogdGhpcy5xdWVyeVBhZGRpbmcgKiBtYXhQaXRjaFNjYWxlRmFjdG9yLFxuICAgICAgICAgICAgY29sbGlzaW9uQm94QXJyYXk6IHRoaXMuY29sbGlzaW9uQm94QXJyYXksXG4gICAgICAgICAgICBzb3VyY2VJRDogc291cmNlSUQsXG4gICAgICAgICAgICBjb2xsaXNpb25JbmRleDogY29sbGlzaW9uSW5kZXgsXG4gICAgICAgICAgICBidWNrZXRJbnN0YW5jZUlkczogYnVja2V0SW5zdGFuY2VJZHNcbiAgICAgICAgfSwgbGF5ZXJzKTtcbiAgICB9XG5cbiAgICBxdWVyeVNvdXJjZUZlYXR1cmVzKHJlc3VsdDogQXJyYXk8R2VvSlNPTkZlYXR1cmU+LCBwYXJhbXM6IGFueSkge1xuICAgICAgICBpZiAoIXRoaXMucmF3VGlsZURhdGEpIHJldHVybjtcblxuICAgICAgICBpZiAoIXRoaXMudnRMYXllcnMpIHtcbiAgICAgICAgICAgIHRoaXMudnRMYXllcnMgPSBuZXcgdnQuVmVjdG9yVGlsZShuZXcgUHJvdG9idWYodGhpcy5yYXdUaWxlRGF0YSkpLmxheWVycztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZUxheWVyID0gcGFyYW1zID8gcGFyYW1zLnNvdXJjZUxheWVyIDogJyc7XG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy52dExheWVycy5fZ2VvanNvblRpbGVMYXllciB8fCB0aGlzLnZ0TGF5ZXJzW3NvdXJjZUxheWVyXTtcblxuICAgICAgICBpZiAoIWxheWVyKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZmlsdGVyID0gZmVhdHVyZUZpbHRlcihwYXJhbXMgJiYgcGFyYW1zLmZpbHRlcik7XG4gICAgICAgIGNvbnN0IGNvb3JkID0geyB6OiB0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWiwgeDogdGhpcy50aWxlSUQuY2Fub25pY2FsLngsIHk6IHRoaXMudGlsZUlELmNhbm9uaWNhbC55IH07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXllci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZSA9IGxheWVyLmZlYXR1cmUoaSk7XG4gICAgICAgICAgICBpZiAoZmlsdGVyKHt6b29tOiB0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWn0sIGZlYXR1cmUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2VvanNvbkZlYXR1cmUgPSBuZXcgR2VvSlNPTkZlYXR1cmUoZmVhdHVyZSwgY29vcmQueiwgY29vcmQueCwgY29vcmQueSk7XG4gICAgICAgICAgICAgICAgKGdlb2pzb25GZWF0dXJlOiBhbnkpLnRpbGUgPSBjb29yZDtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChnZW9qc29uRmVhdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGVhck1hc2soKSB7XG4gICAgICAgIGlmICh0aGlzLnNlZ21lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnNlZ21lbnRzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1hc2tlZEJvdW5kc0J1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5tYXNrZWRCb3VuZHNCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubWFza2VkQm91bmRzQnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1hc2tlZEluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLm1hc2tlZEluZGV4QnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm1hc2tlZEluZGV4QnVmZmVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0TWFzayhtYXNrOiBNYXNrLCBjb250ZXh0OiBDb250ZXh0KSB7XG5cbiAgICAgICAgLy8gZG9uJ3QgcmVkbyBidWZmZXIgd29yayBpZiB0aGUgbWFzayBpcyB0aGUgc2FtZTtcbiAgICAgICAgaWYgKGRlZXBFcXVhbCh0aGlzLm1hc2ssIG1hc2spKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5tYXNrID0gbWFzaztcbiAgICAgICAgdGhpcy5jbGVhck1hc2soKTtcblxuICAgICAgICAvLyBXZSB3YW50IHRvIHJlbmRlciB0aGUgZnVsbCB0aWxlLCBhbmQga2VlcGluZyB0aGUgc2VnbWVudHMvdmVydGljZXMvaW5kaWNlcyBlbXB0eSBtZWFuc1xuICAgICAgICAvLyB1c2luZyB0aGUgZ2xvYmFsIHNoYXJlZCBidWZmZXJzIGZvciBjb3ZlcmluZyB0aGUgZW50aXJlIHRpbGUuXG4gICAgICAgIGlmIChkZWVwRXF1YWwobWFzaywgeycwJzogdHJ1ZX0pKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgbWFza2VkQm91bmRzQXJyYXkgPSBuZXcgUmFzdGVyQm91bmRzQXJyYXkoKTtcbiAgICAgICAgY29uc3QgaW5kZXhBcnJheSA9IG5ldyBUcmlhbmdsZUluZGV4QXJyYXkoKTtcblxuICAgICAgICB0aGlzLnNlZ21lbnRzID0gbmV3IFNlZ21lbnRWZWN0b3IoKTtcbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHNlZ21lbnQgc28gdGhhdCB3ZSB3aWxsIHVwbG9hZCAoZW1wdHkpIGJ1ZmZlcnMgZXZlbiB3aGVuIHRoZXJlIGlzIG5vdGhpbmcgdG9cbiAgICAgICAgLy8gZHJhdyBmb3IgdGhpcyB0aWxlLlxuICAgICAgICB0aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDAsIG1hc2tlZEJvdW5kc0FycmF5LCBpbmRleEFycmF5KTtcblxuICAgICAgICBjb25zdCBtYXNrQXJyYXkgPSBPYmplY3Qua2V5cyhtYXNrKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXNrQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1hc2tDb29yZCA9IG1hc2tbbWFza0FycmF5W2ldXTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRleEV4dGVudCA9IEVYVEVOVCA+PiBtYXNrQ29vcmQuejtcbiAgICAgICAgICAgIGNvbnN0IHRsVmVydGV4ID0gbmV3IFBvaW50KG1hc2tDb29yZC54ICogdmVydGV4RXh0ZW50LCBtYXNrQ29vcmQueSAqIHZlcnRleEV4dGVudCk7XG4gICAgICAgICAgICBjb25zdCBiclZlcnRleCA9IG5ldyBQb2ludCh0bFZlcnRleC54ICsgdmVydGV4RXh0ZW50LCB0bFZlcnRleC55ICsgdmVydGV4RXh0ZW50KTtcblxuICAgICAgICAgICAgLy8gbm90IHN1cmUgd2h5IGZsb3cgaXMgY29tcGxhaW5pbmcgaGVyZSBiZWNhdXNlIGl0IGRvZXNuJ3QgY29tcGxhaW4gYXQgTDQwMVxuICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9ICh0aGlzLnNlZ21lbnRzOiBhbnkpLnByZXBhcmVTZWdtZW50KDQsIG1hc2tlZEJvdW5kc0FycmF5LCBpbmRleEFycmF5KTtcblxuICAgICAgICAgICAgbWFza2VkQm91bmRzQXJyYXkuZW1wbGFjZUJhY2sodGxWZXJ0ZXgueCwgdGxWZXJ0ZXgueSwgdGxWZXJ0ZXgueCwgdGxWZXJ0ZXgueSk7XG4gICAgICAgICAgICBtYXNrZWRCb3VuZHNBcnJheS5lbXBsYWNlQmFjayhiclZlcnRleC54LCB0bFZlcnRleC55LCBiclZlcnRleC54LCB0bFZlcnRleC55KTtcbiAgICAgICAgICAgIG1hc2tlZEJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKHRsVmVydGV4LngsIGJyVmVydGV4LnksIHRsVmVydGV4LngsIGJyVmVydGV4LnkpO1xuICAgICAgICAgICAgbWFza2VkQm91bmRzQXJyYXkuZW1wbGFjZUJhY2soYnJWZXJ0ZXgueCwgYnJWZXJ0ZXgueSwgYnJWZXJ0ZXgueCwgYnJWZXJ0ZXgueSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHNlZ21lbnQudmVydGV4TGVuZ3RoO1xuICAgICAgICAgICAgLy8gMCwgMSwgMlxuICAgICAgICAgICAgLy8gMSwgMiwgM1xuICAgICAgICAgICAgaW5kZXhBcnJheS5lbXBsYWNlQmFjayhvZmZzZXQsIG9mZnNldCArIDEsIG9mZnNldCArIDIpO1xuICAgICAgICAgICAgaW5kZXhBcnJheS5lbXBsYWNlQmFjayhvZmZzZXQgKyAxLCBvZmZzZXQgKyAyLCBvZmZzZXQgKyAzKTtcblxuICAgICAgICAgICAgc2VnbWVudC52ZXJ0ZXhMZW5ndGggKz0gNDtcbiAgICAgICAgICAgIHNlZ21lbnQucHJpbWl0aXZlTGVuZ3RoICs9IDI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1hc2tlZEJvdW5kc0J1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKG1hc2tlZEJvdW5kc0FycmF5LCByYXN0ZXJCb3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLm1hc2tlZEluZGV4QnVmZmVyID0gY29udGV4dC5jcmVhdGVJbmRleEJ1ZmZlcihpbmRleEFycmF5KTtcbiAgICB9XG5cbiAgICBoYXNEYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gJ2xvYWRlZCcgfHwgdGhpcy5zdGF0ZSA9PT0gJ3JlbG9hZGluZycgfHwgdGhpcy5zdGF0ZSA9PT0gJ2V4cGlyZWQnO1xuICAgIH1cblxuICAgIHNldEV4cGlyeURhdGEoZGF0YTogYW55KSB7XG4gICAgICAgIGNvbnN0IHByaW9yID0gdGhpcy5leHBpcmF0aW9uVGltZTtcblxuICAgICAgICBpZiAoZGF0YS5jYWNoZUNvbnRyb2wpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZENDID0gcGFyc2VDYWNoZUNvbnRyb2woZGF0YS5jYWNoZUNvbnRyb2wpO1xuICAgICAgICAgICAgaWYgKHBhcnNlZENDWydtYXgtYWdlJ10pIHRoaXMuZXhwaXJhdGlvblRpbWUgPSBEYXRlLm5vdygpICsgcGFyc2VkQ0NbJ21heC1hZ2UnXSAqIDEwMDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5leHBpcmVzKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGlyYXRpb25UaW1lID0gbmV3IERhdGUoZGF0YS5leHBpcmVzKS5nZXRUaW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5leHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGxldCBpc0V4cGlyZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZXhwaXJhdGlvblRpbWUgPiBub3cpIHtcbiAgICAgICAgICAgICAgICBpc0V4cGlyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXByaW9yKSB7XG4gICAgICAgICAgICAgICAgaXNFeHBpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5leHBpcmF0aW9uVGltZSA8IHByaW9yKSB7XG4gICAgICAgICAgICAgICAgLy8gRXhwaXJpbmcgZGF0ZSBpcyBnb2luZyBiYWNrd2FyZHM6XG4gICAgICAgICAgICAgICAgLy8gZmFsbCBiYWNrIHRvIGV4cG9uZW50aWFsIGJhY2tvZmZcbiAgICAgICAgICAgICAgICBpc0V4cGlyZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gdGhpcy5leHBpcmF0aW9uVGltZSAtIHByaW9yO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFkZWx0YSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXJ2ZXIgaXMgc2VydmluZyB0aGUgc2FtZSBleHBpcmVkIHJlc291cmNlIG92ZXIgYW5kIG92ZXI6IGZhbGxcbiAgICAgICAgICAgICAgICAgICAgLy8gYmFjayB0byBleHBvbmVudGlhbCBiYWNrb2ZmLlxuICAgICAgICAgICAgICAgICAgICBpc0V4cGlyZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXNzdW1lIHRoYXQgZWl0aGVyIHRoZSBjbGllbnQgb3IgdGhlIHNlcnZlciBjbG9jayBpcyB3cm9uZyBhbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHRvIGludGVycG9sYXRlIGEgdmFsaWQgZXhwaXJhdGlvbiBkYXRlIChmcm9tIHRoZSBjbGllbnQgUE9WKVxuICAgICAgICAgICAgICAgICAgICAvLyBvYnNlcnZpbmcgYSBtaW5pbXVtIHRpbWVvdXQuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwaXJhdGlvblRpbWUgPSBub3cgKyBNYXRoLm1heChkZWx0YSwgQ0xPQ0tfU0tFV19SRVRSWV9USU1FT1VUKTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzRXhwaXJlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudCsrO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnZXhwaXJlZCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRFeHBpcnlUaW1lb3V0KCkge1xuICAgICAgICBpZiAodGhpcy5leHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxMDAwICogKDEgPDwgTWF0aC5taW4odGhpcy5leHBpcmVkUmVxdWVzdENvdW50IC0gMSwgMzEpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTWF4IHZhbHVlIGZvciBgc2V0VGltZW91dGAgaW1wbGVtZW50YXRpb25zIGlzIGEgMzIgYml0IGludGVnZXI7IGNhcCB0aGlzIGFjY29yZGluZ2x5XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZXhwaXJhdGlvblRpbWUgLSBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgTWF0aC5wb3coMiwgMzEpIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbGU7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSB7Q29sbGlzaW9uQm94QXJyYXl9IGZyb20gJy4vYXJyYXlfdHlwZXMnO1xuaW1wb3J0IHR5cGUgU3R5bGUgZnJvbSAnLi4vc3R5bGUvc3R5bGUnO1xuaW1wb3J0IHR5cGUge1R5cGVkU3R5bGVMYXllcn0gZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvdHlwZWRfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgRmVhdHVyZUluZGV4IGZyb20gJy4vZmVhdHVyZV9pbmRleCc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuXG5leHBvcnQgdHlwZSBCdWNrZXRQYXJhbWV0ZXJzPExheWVyOiBUeXBlZFN0eWxlTGF5ZXI+ID0ge1xuICAgIGluZGV4OiBudW1iZXIsXG4gICAgbGF5ZXJzOiBBcnJheTxMYXllcj4sXG4gICAgem9vbTogbnVtYmVyLFxuICAgIHBpeGVsUmF0aW86IG51bWJlcixcbiAgICBvdmVyc2NhbGluZzogbnVtYmVyLFxuICAgIGNvbGxpc2lvbkJveEFycmF5OiBDb2xsaXNpb25Cb3hBcnJheVxufVxuXG5leHBvcnQgdHlwZSBQb3B1bGF0ZVBhcmFtZXRlcnMgPSB7XG4gICAgZmVhdHVyZUluZGV4OiBGZWF0dXJlSW5kZXgsXG4gICAgaWNvbkRlcGVuZGVuY2llczoge30sXG4gICAgZ2x5cGhEZXBlbmRlbmNpZXM6IHt9XG59XG5cbmV4cG9ydCB0eXBlIEluZGV4ZWRGZWF0dXJlID0ge1xuICAgIGZlYXR1cmU6IFZlY3RvclRpbGVGZWF0dXJlLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgc291cmNlTGF5ZXJJbmRleDogbnVtYmVyLFxufVxuXG4vKipcbiAqIFRoZSBgQnVja2V0YCBpbnRlcmZhY2UgaXMgdGhlIHNpbmdsZSBwb2ludCBvZiBrbm93bGVkZ2UgYWJvdXQgdHVybmluZyB2ZWN0b3JcbiAqIHRpbGVzIGludG8gV2ViR0wgYnVmZmVycy5cbiAqXG4gKiBgQnVja2V0YCBpcyBhbiBhYnN0cmFjdCBpbnRlcmZhY2UuIEFuIGltcGxlbWVudGF0aW9uIGV4aXN0cyBmb3IgZWFjaCBzdHlsZSBsYXllciB0eXBlLlxuICogQ3JlYXRlIGEgYnVja2V0IHZpYSB0aGUgYFN0eWxlTGF5ZXIjY3JlYXRlQnVja2V0YCBtZXRob2QuXG4gKlxuICogVGhlIGNvbmNyZXRlIGJ1Y2tldCB0eXBlcywgdXNpbmcgbGF5b3V0IG9wdGlvbnMgZnJvbSB0aGUgc3R5bGUgbGF5ZXIsXG4gKiB0cmFuc2Zvcm0gZmVhdHVyZSBnZW9tZXRyaWVzIGludG8gdmVydGV4IGFuZCBpbmRleCBkYXRhIGZvciB1c2UgYnkgdGhlXG4gKiB2ZXJ0ZXggc2hhZGVyLiAgVGhleSBhbHNvICh2aWEgYFByb2dyYW1Db25maWd1cmF0aW9uYCkgdXNlIGZlYXR1cmVcbiAqIHByb3BlcnRpZXMgYW5kIHRoZSB6b29tIGxldmVsIHRvIHBvcHVsYXRlIHRoZSBhdHRyaWJ1dGVzIG5lZWRlZCBmb3JcbiAqIGRhdGEtZHJpdmVuIHN0eWxpbmcuXG4gKlxuICogQnVja2V0cyBhcmUgZGVzaWduZWQgdG8gYmUgYnVpbHQgb24gYSB3b3JrZXIgdGhyZWFkIGFuZCB0aGVuIHNlcmlhbGl6ZWQgYW5kXG4gKiB0cmFuc2ZlcnJlZCBiYWNrIHRvIHRoZSBtYWluIHRocmVhZCBmb3IgcmVuZGVyaW5nLiAgT24gdGhlIHdvcmtlciBzaWRlLCBhXG4gKiBidWNrZXQncyB2ZXJ0ZXgsIGluZGV4LCBhbmQgYXR0cmlidXRlIGRhdGEgaXMgc3RvcmVkIGluIGBidWNrZXQuYXJyYXlzOlxuICogQXJyYXlHcm91cGAuICBXaGVuIGEgYnVja2V0J3MgZGF0YSBpcyBzZXJpYWxpemVkIGFuZCBzZW50IGJhY2sgdG8gdGhlIG1haW5cbiAqIHRocmVhZCwgaXMgZ2V0cyBkZXNlcmlhbGl6ZWQgKHVzaW5nIGBuZXcgQnVja2V0KHNlcmlhbGl6ZWRCdWNrZXREYXRhKWAsIHdpdGhcbiAqIHRoZSBhcnJheSBkYXRhIG5vdyBzdG9yZWQgaW4gYGJ1Y2tldC5idWZmZXJzOiBCdWZmZXJHcm91cGAuICBCdWZmZXJHcm91cHNcbiAqIGhvbGQgdGhlIHNhbWUgZGF0YSBhcyBBcnJheUdyb3VwcywgYnV0IGFyZSB0dW5lZCBmb3IgY29uc3VtcHRpb24gYnkgV2ViR0wuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCdWNrZXQge1xuICAgIGxheWVySWRzOiBBcnJheTxzdHJpbmc+O1xuXG4gICAgcG9wdWxhdGUoZmVhdHVyZXM6IEFycmF5PEluZGV4ZWRGZWF0dXJlPiwgb3B0aW9uczogUG9wdWxhdGVQYXJhbWV0ZXJzKTogdm9pZDtcbiAgICBpc0VtcHR5KCk6IGJvb2xlYW47XG5cbiAgICB1cGxvYWQoY29udGV4dDogQ29udGV4dCk6IHZvaWQ7XG4gICAgdXBsb2FkZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRoZSBXZWJHTCByZXNvdXJjZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBidWZmZXJzLiBOb3RlIHRoYXQgYmVjYXVzZVxuICAgICAqIGJ1Y2tldHMgYXJlIHNoYXJlZCBiZXR3ZWVuIGxheWVycyBoYXZpbmcgdGhlIHNhbWUgbGF5b3V0IHByb3BlcnRpZXMsIHRoZXlcbiAgICAgKiBtdXN0IGJlIGRlc3Ryb3llZCBpbiBncm91cHMgKGFsbCBidWNrZXRzIGZvciBhIHRpbGUsIG9yIGFsbCBzeW1ib2wgYnVja2V0cykuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VyaWFsaXplKGlucHV0OiBBcnJheTxCdWNrZXQ+LCBzdHlsZTogU3R5bGUpOiB7W3N0cmluZ106IEJ1Y2tldH0ge1xuICAgIGNvbnN0IG91dHB1dCA9IHt9O1xuXG4gICAgLy8gR3VhcmQgYWdhaW5zdCB0aGUgY2FzZSB3aGVyZSB0aGUgbWFwJ3Mgc3R5bGUgaGFzIGJlZW4gc2V0IHRvIG51bGwgd2hpbGVcbiAgICAvLyB0aGlzIGJ1Y2tldCBoYXMgYmVlbiBwYXJzaW5nLlxuICAgIGlmICghc3R5bGUpIHJldHVybiBvdXRwdXQ7XG5cbiAgICBmb3IgKGNvbnN0IGJ1Y2tldCBvZiBpbnB1dCkge1xuICAgICAgICBjb25zdCBsYXllcnMgPSBidWNrZXQubGF5ZXJJZHNcbiAgICAgICAgICAgIC5tYXAoKGlkKSA9PiBzdHlsZS5nZXRMYXllcihpZCkpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuXG4gICAgICAgIGlmIChsYXllcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxvb2sgdXAgU3R5bGVMYXllciBvYmplY3RzIGZyb20gbGF5ZXIgaWRzIChzaW5jZSB3ZSBkb24ndFxuICAgICAgICAvLyB3YW50IHRvIHdhc3RlIHRpbWUgc2VyaWFsaXppbmcvY29weWluZyB0aGVtIGZyb20gdGhlIHdvcmtlcilcbiAgICAgICAgKGJ1Y2tldDogYW55KS5sYXllcnMgPSBsYXllcnM7XG5cbiAgICAgICAgZm9yIChjb25zdCBsYXllciBvZiBsYXllcnMpIHtcbiAgICAgICAgICAgIG91dHB1dFtsYXllci5pZF0gPSBidWNrZXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuIiwiLy8gQGZsb3dcblxuLyoqXG4gKiBBIFtsZWFzdC1yZWNlbnRseS11c2VkIGNhY2hlXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NhY2hlX2FsZ29yaXRobXMpXG4gKiB3aXRoIGhhc2ggbG9va3VwIG1hZGUgcG9zc2libGUgYnkga2VlcGluZyBhIGxpc3Qgb2Yga2V5cyBpbiBwYXJhbGxlbCB0b1xuICogYW4gYXJyYXkgb2YgZGljdGlvbmFyeSBvZiB2YWx1ZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBMUlVDYWNoZTxUPiB7XG4gICAgbWF4OiBudW1iZXI7XG4gICAgZGF0YToge1trZXk6IHN0cmluZ106IFR9O1xuICAgIG9yZGVyOiBBcnJheTxzdHJpbmc+O1xuICAgIG9uUmVtb3ZlOiAoZWxlbWVudDogVCkgPT4gdm9pZDtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4IG51bWJlciBvZiBwZXJtaXR0ZWQgdmFsdWVzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25SZW1vdmUgY2FsbGJhY2sgY2FsbGVkIHdpdGggaXRlbXMgd2hlbiB0aGV5IGV4cGlyZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1heDogbnVtYmVyLCBvblJlbW92ZTogKGVsZW1lbnQ6IFQpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy5tYXggPSBtYXg7XG4gICAgICAgIHRoaXMub25SZW1vdmUgPSBvblJlbW92ZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBjYWNoZVxuICAgICAqXG4gICAgICogQHJldHVybnMge0xSVUNhY2hlfSB0aGlzIGNhY2hlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5kYXRhKSB7XG4gICAgICAgICAgICB0aGlzLm9uUmVtb3ZlKHRoaXMuZGF0YVtrZXldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YSA9IHt9O1xuICAgICAgICB0aGlzLm9yZGVyID0gW107XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEga2V5LCB2YWx1ZSBjb21iaW5hdGlvbiB0byB0aGUgY2FjaGUsIHRyaW1taW5nIGl0cyBzaXplIGlmIHRoaXMgcHVzaGVzXG4gICAgICogaXQgb3ZlciBtYXggbGVuZ3RoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBsb29rdXAga2V5IGZvciB0aGUgaXRlbVxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBhbnkgdmFsdWVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMUlVDYWNoZX0gdGhpcyBjYWNoZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYWRkKGtleTogc3RyaW5nLCBkYXRhOiBUKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZihrZXkpLCAxKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtrZXldID0gZGF0YTtcbiAgICAgICAgICAgIHRoaXMub3JkZXIucHVzaChrZXkpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFba2V5XSA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLm9yZGVyLnB1c2goa2V5KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3JkZXIubGVuZ3RoID4gdGhpcy5tYXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVkRGF0YSA9IHRoaXMuZ2V0QW5kUmVtb3ZlKHRoaXMub3JkZXJbMF0pO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkRGF0YSkgdGhpcy5vblJlbW92ZShyZW1vdmVkRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgdmFsdWUgYXR0YWNoZWQgdG8gYGtleWAgaXMgcHJlc2VudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IHRvIGJlIGxvb2tlZC11cFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIHRoZSBjYWNoZSBoYXMgdGhpcyB2YWx1ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaGFzKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBrZXkgaW4gdGhpcy5kYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpc3QgYWxsIGtleXMgaW4gdGhlIGNhY2hlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8c3RyaW5nPn0gYW4gYXJyYXkgb2Yga2V5cyBpbiB0aGlzIGNhY2hlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAga2V5cygpOiBBcnJheTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2YWx1ZSBhdHRhY2hlZCB0byBhIHNwZWNpZmljIGtleSBhbmQgcmVtb3ZlIGRhdGEgZnJvbSBjYWNoZS5cbiAgICAgKiBJZiB0aGUga2V5IGlzIG5vdCBmb3VuZCwgcmV0dXJucyBgbnVsbGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSB0byBsb29rIHVwXG4gICAgICogQHJldHVybnMgeyp9IHRoZSBkYXRhLCBvciBudWxsIGlmIGl0IGlzbid0IGZvdW5kXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXRBbmRSZW1vdmUoa2V5OiBzdHJpbmcpOiA/VCB7XG4gICAgICAgIGlmICghdGhpcy5oYXMoa2V5KSkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGFba2V5XTtcblxuICAgICAgICBkZWxldGUgdGhpcy5kYXRhW2tleV07XG4gICAgICAgIHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZihrZXkpLCAxKTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbHVlIGF0dGFjaGVkIHRvIGEgc3BlY2lmaWMga2V5IHdpdGhvdXQgcmVtb3ZpbmcgZGF0YVxuICAgICAqIGZyb20gdGhlIGNhY2hlLiBJZiB0aGUga2V5IGlzIG5vdCBmb3VuZCwgcmV0dXJucyBgbnVsbGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSB0byBsb29rIHVwXG4gICAgICogQHJldHVybnMgeyp9IHRoZSBkYXRhLCBvciBudWxsIGlmIGl0IGlzbid0IGZvdW5kXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXQoa2V5OiBzdHJpbmcpOiA/VCB7XG4gICAgICAgIGlmICghdGhpcy5oYXMoa2V5KSkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEga2V5L3ZhbHVlIGNvbWJpbmF0aW9uIGZyb20gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IGZvciB0aGUgcGFpciB0byBkZWxldGVcbiAgICAgKiBAcmV0dXJucyB7TFJVQ2FjaGV9IHRoaXMgY2FjaGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlbW92ZShrZXk6IHN0cmluZykge1xuICAgICAgICBpZiAoIXRoaXMuaGFzKGtleSkpIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhW2tleV07XG4gICAgICAgIGRlbGV0ZSB0aGlzLmRhdGFba2V5XTtcbiAgICAgICAgdGhpcy5vblJlbW92ZShkYXRhKTtcbiAgICAgICAgdGhpcy5vcmRlci5zcGxpY2UodGhpcy5vcmRlci5pbmRleE9mKGtleSksIDEpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUgbWF4IHNpemUgb2YgdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heCB0aGUgbWF4IHNpemUgb2YgdGhlIGNhY2hlXG4gICAgICogQHJldHVybnMge0xSVUNhY2hlfSB0aGlzIGNhY2hlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzZXRNYXhTaXplKG1heDogbnVtYmVyKTogTFJVQ2FjaGU8VD4ge1xuICAgICAgICB0aGlzLm1heCA9IG1heDtcblxuICAgICAgICB3aGlsZSAodGhpcy5vcmRlci5sZW5ndGggPiB0aGlzLm1heCkge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZERhdGEgPSB0aGlzLmdldEFuZFJlbW92ZSh0aGlzLm9yZGVyWzBdKTtcbiAgICAgICAgICAgIGlmIChyZW1vdmVkRGF0YSkgdGhpcy5vblJlbW92ZShyZW1vdmVkRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExSVUNhY2hlO1xuIiwiLy8gQGZsb3dcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHR5cGUge1N0cnVjdEFycmF5fSBmcm9tICcuLi91dGlsL3N0cnVjdF9hcnJheSc7XG5pbXBvcnQgdHlwZSB7VHJpYW5nbGVJbmRleEFycmF5LCBMaW5lSW5kZXhBcnJheX0gZnJvbSAnLi4vZGF0YS9pbmRleF9hcnJheV90eXBlJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dCc7XG5cblxuY2xhc3MgSW5kZXhCdWZmZXIge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgYnVmZmVyOiBXZWJHTEJ1ZmZlcjtcbiAgICBkeW5hbWljRHJhdzogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQsIGFycmF5OiBUcmlhbmdsZUluZGV4QXJyYXkgfCBMaW5lSW5kZXhBcnJheSwgZHluYW1pY0RyYXc/OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5keW5hbWljRHJhdyA9IEJvb2xlYW4oZHluYW1pY0RyYXcpO1xuXG4gICAgICAgIHRoaXMudW5iaW5kVkFPKCk7XG5cbiAgICAgICAgY29udGV4dC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBhcnJheS5hcnJheUJ1ZmZlciwgdGhpcy5keW5hbWljRHJhdyA/IGdsLkRZTkFNSUNfRFJBVyA6IGdsLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICBpZiAoIXRoaXMuZHluYW1pY0RyYXcpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBhcnJheS5hcnJheUJ1ZmZlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVuYmluZFZBTygpIHtcbiAgICAgICAgLy8gVGhlIGJvdW5kIGluZGV4IGJ1ZmZlciBpcyBwYXJ0IG9mIHZlcnRleCBhcnJheSBvYmplY3Qgc3RhdGUuIFdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gbW9kaWZ5IHdoYXRldmVyIFZBTyBoYXBwZW5zIHRvIGJlIGN1cnJlbnRseSBib3VuZCwgc28gbWFrZSBzdXJlIHRoZSBkZWZhdWx0XG4gICAgICAgIC8vIHZlcnRleCBhcnJheSBwcm92aWRlZCBieSB0aGUgY29udGV4dCBpcyBib3VuZCBpbnN0ZWFkLlxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmV4dFZlcnRleEFycmF5T2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuYmluZFZlcnRleEFycmF5T0VTLnNldChudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJpbmQoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO1xuICAgIH1cblxuICAgIHVwZGF0ZURhdGEoYXJyYXk6IFN0cnVjdEFycmF5KSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBhc3NlcnQodGhpcy5keW5hbWljRHJhdyk7XG4gICAgICAgIC8vIFRoZSByaWdodCBWQU8gd2lsbCBnZXQgdGhpcyBidWZmZXIgcmUtYm91bmQgbGF0ZXIgaW4gVmVydGV4QXJyYXlPYmplY3QjYmluZFxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzU2MjBcbiAgICAgICAgdGhpcy51bmJpbmRWQU8oKTtcbiAgICAgICAgdGhpcy5iaW5kKCk7XG4gICAgICAgIGdsLmJ1ZmZlclN1YkRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIDAsIGFycmF5LmFycmF5QnVmZmVyKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyKSB7XG4gICAgICAgICAgICBnbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVmZmVyO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbmRleEJ1ZmZlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHR5cGUge1xuICAgIFN0cnVjdEFycmF5LFxuICAgIFN0cnVjdEFycmF5TWVtYmVyXG59IGZyb20gJy4uL3V0aWwvc3RydWN0X2FycmF5JztcblxuaW1wb3J0IHR5cGUgUHJvZ3JhbSBmcm9tICcuLi9yZW5kZXIvcHJvZ3JhbSc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9IEF0dHJpYnV0ZVR5cGVcbiAqIEBwcml2YXRlXG4gKiBAcmVhZG9ubHlcbiAqL1xuY29uc3QgQXR0cmlidXRlVHlwZSA9IHtcbiAgICBJbnQ4OiAgICdCWVRFJyxcbiAgICBVaW50ODogICdVTlNJR05FRF9CWVRFJyxcbiAgICBJbnQxNjogICdTSE9SVCcsXG4gICAgVWludDE2OiAnVU5TSUdORURfU0hPUlQnLFxuICAgIEludDMyOiAgJ0lOVCcsXG4gICAgVWludDMyOiAnVU5TSUdORURfSU5UJyxcbiAgICBGbG9hdDMyOiAnRkxPQVQnXG59O1xuXG4vKipcbiAqIFRoZSBgVmVydGV4QnVmZmVyYCBjbGFzcyB0dXJucyBhIGBTdHJ1Y3RBcnJheWAgaW50byBhIFdlYkdMIGJ1ZmZlci4gRWFjaCBtZW1iZXIgb2YgdGhlIFN0cnVjdEFycmF5J3NcbiAqIFN0cnVjdCB0eXBlIGlzIGNvbnZlcnRlZCB0byBhIFdlYkdMIGF0cmlidXRlLlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgVmVydGV4QnVmZmVyIHtcbiAgICBsZW5ndGg6IG51bWJlcjtcbiAgICBhdHRyaWJ1dGVzOiAkUmVhZE9ubHlBcnJheTxTdHJ1Y3RBcnJheU1lbWJlcj47XG4gICAgaXRlbVNpemU6IG51bWJlcjtcbiAgICBkeW5hbWljRHJhdzogP2Jvb2xlYW47XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBidWZmZXI6IFdlYkdMQnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGR5bmFtaWNEcmF3IFdoZXRoZXIgdGhpcyBidWZmZXIgd2lsbCBiZSByZXBlYXRlZGx5IHVwZGF0ZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCwgYXJyYXk6IFN0cnVjdEFycmF5LCBhdHRyaWJ1dGVzOiAkUmVhZE9ubHlBcnJheTxTdHJ1Y3RBcnJheU1lbWJlcj4sIGR5bmFtaWNEcmF3PzogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgdGhpcy5pdGVtU2l6ZSA9IGFycmF5LmJ5dGVzUGVyRWxlbWVudDtcbiAgICAgICAgdGhpcy5keW5hbWljRHJhdyA9IGR5bmFtaWNEcmF3O1xuXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgY29udGV4dC5iaW5kVmVydGV4QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcik7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBhcnJheS5hcnJheUJ1ZmZlciwgdGhpcy5keW5hbWljRHJhdyA/IGdsLkRZTkFNSUNfRFJBVyA6IGdsLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICBpZiAoIXRoaXMuZHluYW1pY0RyYXcpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBhcnJheS5hcnJheUJ1ZmZlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJpbmQoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5iaW5kVmVydGV4QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcik7XG4gICAgfVxuXG4gICAgdXBkYXRlRGF0YShhcnJheTogU3RydWN0QXJyYXkpIHtcbiAgICAgICAgYXNzZXJ0KGFycmF5Lmxlbmd0aCA9PT0gdGhpcy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5iaW5kKCk7XG4gICAgICAgIGdsLmJ1ZmZlclN1YkRhdGEoZ2wuQVJSQVlfQlVGRkVSLCAwLCBhcnJheS5hcnJheUJ1ZmZlcik7XG4gICAgfVxuXG4gICAgZW5hYmxlQXR0cmlidXRlcyhnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBwcm9ncmFtOiBQcm9ncmFtKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBtZW1iZXIgPSB0aGlzLmF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJJbmRleDogbnVtYmVyIHwgdm9pZCA9IHByb2dyYW0uYXR0cmlidXRlc1ttZW1iZXIubmFtZV07XG4gICAgICAgICAgICBpZiAoYXR0cmliSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGF0dHJpYkluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYXR0cmlidXRlIHBvaW50ZXJzIGluIGEgV2ViR0wgY29udGV4dFxuICAgICAqIEBwYXJhbSBnbCBUaGUgV2ViR0wgY29udGV4dFxuICAgICAqIEBwYXJhbSBwcm9ncmFtIFRoZSBhY3RpdmUgV2ViR0wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB2ZXJ0ZXhPZmZzZXQgSW5kZXggb2YgdGhlIHN0YXJ0aW5nIHZlcnRleCBvZiB0aGUgc2VnbWVudFxuICAgICAqL1xuICAgIHNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHByb2dyYW06IFByb2dyYW0sIHZlcnRleE9mZnNldDogP251bWJlcikge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3QgbWVtYmVyID0gdGhpcy5hdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgY29uc3QgYXR0cmliSW5kZXg6IG51bWJlciB8IHZvaWQgPSBwcm9ncmFtLmF0dHJpYnV0ZXNbbWVtYmVyLm5hbWVdO1xuXG4gICAgICAgICAgICBpZiAoYXR0cmliSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYkluZGV4LFxuICAgICAgICAgICAgICAgICAgICBtZW1iZXIuY29tcG9uZW50cyxcbiAgICAgICAgICAgICAgICAgICAgKGdsOiBhbnkpW0F0dHJpYnV0ZVR5cGVbbWVtYmVyLnR5cGVdXSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbVNpemUsXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlci5vZmZzZXQgKyAodGhpcy5pdGVtU2l6ZSAqICh2ZXJ0ZXhPZmZzZXQgfHwgMCkpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIEdMIGJ1ZmZlciBib3VuZCB0byB0aGUgZ2l2ZW4gV2ViR0wgY29udGV4dFxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBpZiAodGhpcy5idWZmZXIpIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5idWZmZXI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZlcnRleEJ1ZmZlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3InO1xuXG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi9jb250ZXh0JztcbmltcG9ydCB0eXBlIHtcbiAgICBCbGVuZEZ1bmNUeXBlLFxuICAgIENvbG9yTWFza1R5cGUsXG4gICAgRGVwdGhSYW5nZVR5cGUsXG4gICAgRGVwdGhNYXNrVHlwZSxcbiAgICBTdGVuY2lsRnVuY1R5cGUsXG4gICAgU3RlbmNpbE9wVHlwZSxcbiAgICBEZXB0aEZ1bmNUeXBlLFxuICAgIFRleHR1cmVVbml0VHlwZSxcbiAgICBWaWV3cG9ydFR5cGUsXG59IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlPFQ+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IFQ7XG4gICAgZ2V0KCk6IFQ7XG4gICAgc2V0KHZhbHVlOiBUKTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIENsZWFyQ29sb3IgaW1wbGVtZW50cyBWYWx1ZTxDb2xvcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogQ29sb3I7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IENvbG9yLnRyYW5zcGFyZW50O1xuICAgIH1cblxuICAgIGdldCgpOiBDb2xvciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBDb2xvcik6IHZvaWQge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodi5yICE9PSBjLnIgfHwgdi5nICE9PSBjLmcgfHwgdi5iICE9PSBjLmIgfHwgdi5hICE9PSBjLmEpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5jbGVhckNvbG9yKHYuciwgdi5nLCB2LmIsIHYuYSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2xlYXJEZXB0aCBpbXBsZW1lbnRzIFZhbHVlPG51bWJlcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSAxO1xuICAgIH1cblxuICAgIGdldCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5jbGVhckRlcHRoKHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsZWFyU3RlbmNpbCBpbXBsZW1lbnRzIFZhbHVlPG51bWJlcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSAwO1xuICAgIH1cblxuICAgIGdldCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5jbGVhclN0ZW5jaWwodik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29sb3JNYXNrIGltcGxlbWVudHMgVmFsdWU8Q29sb3JNYXNrVHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogQ29sb3JNYXNrVHlwZTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gW3RydWUsIHRydWUsIHRydWUsIHRydWVdO1xuICAgIH1cblxuICAgIGdldCgpOiBDb2xvck1hc2tUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IENvbG9yTWFza1R5cGUpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHZbMF0gIT09IGNbMF0gfHwgdlsxXSAhPT0gY1sxXSB8fCB2WzJdICE9PSBjWzJdIHx8IHZbM10gIT09IGNbM10pIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5jb2xvck1hc2sodlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhNYXNrIGltcGxlbWVudHMgVmFsdWU8RGVwdGhNYXNrVHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogRGVwdGhNYXNrVHlwZTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQoKTogRGVwdGhNYXNrVHlwZSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBEZXB0aE1hc2tUeXBlKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5kZXB0aE1hc2sodik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RlbmNpbE1hc2sgaW1wbGVtZW50cyBWYWx1ZTxudW1iZXI+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gMHhGRjtcbiAgICB9XG5cbiAgICBnZXQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuc3RlbmNpbE1hc2sodik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RlbmNpbEZ1bmMgaW1wbGVtZW50cyBWYWx1ZTxTdGVuY2lsRnVuY1R5cGU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IFN0ZW5jaWxGdW5jVHlwZTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0ge1xuICAgICAgICAgICAgZnVuYzogY29udGV4dC5nbC5BTFdBWVMsXG4gICAgICAgICAgICByZWY6IDAsXG4gICAgICAgICAgICBtYXNrOiAweEZGXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0KCk6IFN0ZW5jaWxGdW5jVHlwZSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBTdGVuY2lsRnVuY1R5cGUpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHYuZnVuYyAhPT0gYy5mdW5jIHx8IHYucmVmICE9PSBjLnJlZiB8fCB2Lm1hc2sgIT09IGMubWFzaykge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLnN0ZW5jaWxGdW5jKHYuZnVuYywgdi5yZWYsIHYubWFzayk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RlbmNpbE9wIGltcGxlbWVudHMgVmFsdWU8U3RlbmNpbE9wVHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogU3RlbmNpbE9wVHlwZTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IFtnbC5LRUVQLCBnbC5LRUVQLCBnbC5LRUVQXTtcbiAgICB9XG5cbiAgICBnZXQoKTogU3RlbmNpbE9wVHlwZSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBTdGVuY2lsT3BUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2WzBdICE9PSBjWzBdIHx8IHZbMV0gIT09IGNbMV0gfHwgdlsyXSAhPT0gY1syXSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLnN0ZW5jaWxPcCh2WzBdLCB2WzFdLCB2WzJdKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGVuY2lsVGVzdCBpbXBsZW1lbnRzIFZhbHVlPGJvb2xlYW4+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhSYW5nZSBpbXBsZW1lbnRzIFZhbHVlPERlcHRoUmFuZ2VUeXBlPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBEZXB0aFJhbmdlVHlwZTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gWzAsIDFdO1xuICAgIH1cblxuICAgIGdldCgpOiBEZXB0aFJhbmdlVHlwZSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBEZXB0aFJhbmdlVHlwZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodlswXSAhPT0gY1swXSB8fCB2WzFdICE9PSBjWzFdKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuZGVwdGhSYW5nZSh2WzBdLCB2WzFdKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXB0aFRlc3QgaW1wbGVtZW50cyBWYWx1ZTxib29sZWFuPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuREVQVEhfVEVTVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhGdW5jIGltcGxlbWVudHMgVmFsdWU8RGVwdGhGdW5jVHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogRGVwdGhGdW5jVHlwZTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gY29udGV4dC5nbC5MRVNTO1xuICAgIH1cblxuICAgIGdldCgpOiBEZXB0aEZ1bmNUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IERlcHRoRnVuY1R5cGUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmRlcHRoRnVuYyh2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCbGVuZCBpbXBsZW1lbnRzIFZhbHVlPGJvb2xlYW4+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuQkxFTkQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJsZW5kRnVuYyBpbXBsZW1lbnRzIFZhbHVlPEJsZW5kRnVuY1R5cGU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IEJsZW5kRnVuY1R5cGU7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBbZ2wuT05FLCBnbC5aRVJPXTtcbiAgICB9XG5cbiAgICBnZXQoKTogQmxlbmRGdW5jVHlwZSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBCbGVuZEZ1bmNUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2WzBdICE9PSBjWzBdIHx8IHZbMV0gIT09IGNbMV0pIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5ibGVuZEZ1bmModlswXSwgdlsxXSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmxlbmRDb2xvciBpbXBsZW1lbnRzIFZhbHVlPENvbG9yPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBDb2xvcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gQ29sb3IudHJhbnNwYXJlbnQ7XG4gICAgfVxuXG4gICAgZ2V0KCk6IENvbG9yIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IENvbG9yKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2LnIgIT09IGMuciB8fCB2LmcgIT09IGMuZyB8fCB2LmIgIT09IGMuYiB8fCB2LmEgIT09IGMuYSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmJsZW5kQ29sb3Iodi5yLCB2LmcsIHYuYiwgdi5hKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9ncmFtIGltcGxlbWVudHMgVmFsdWU8P1dlYkdMUHJvZ3JhbT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogP1dlYkdMUHJvZ3JhbTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXQoKTogP1dlYkdMUHJvZ3JhbSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiA/V2ViR0xQcm9ncmFtKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC51c2VQcm9ncmFtKHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpbmVXaWR0aCBpbXBsZW1lbnRzIFZhbHVlPG51bWJlcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSAxO1xuICAgIH1cblxuICAgIGdldCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5jb250ZXh0LmxpbmVXaWR0aFJhbmdlO1xuICAgICAgICBjb25zdCBjbGFtcGVkID0gY2xhbXAodiwgcmFuZ2VbMF0sIHJhbmdlWzFdKTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gY2xhbXBlZCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmxpbmVXaWR0aChjbGFtcGVkKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBY3RpdmVUZXh0dXJlVW5pdCBpbXBsZW1lbnRzIFZhbHVlPFRleHR1cmVVbml0VHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogVGV4dHVyZVVuaXRUeXBlO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBjb250ZXh0LmdsLlRFWFRVUkUwO1xuICAgIH1cblxuICAgIGdldCgpOiBUZXh0dXJlVW5pdFR5cGUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogVGV4dHVyZVVuaXRUeXBlKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5hY3RpdmVUZXh0dXJlKHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZpZXdwb3J0IGltcGxlbWVudHMgVmFsdWU8Vmlld3BvcnRUeXBlPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBWaWV3cG9ydFR5cGU7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBbMCwgMCwgZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLCBnbC5kcmF3aW5nQnVmZmVySGVpZ2h0XTtcbiAgICB9XG5cbiAgICBnZXQoKTogVmlld3BvcnRUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IFZpZXdwb3J0VHlwZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodlswXSAhPT0gY1swXSB8fCB2WzFdICE9PSBjWzFdIHx8IHZbMl0gIT09IGNbMl0gfHwgdlszXSAhPT0gY1szXSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLnZpZXdwb3J0KHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJpbmRGcmFtZWJ1ZmZlciBpbXBsZW1lbnRzIFZhbHVlPD9XZWJHTEZyYW1lYnVmZmVyPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiA/V2ViR0xGcmFtZWJ1ZmZlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXQoKTogP1dlYkdMRnJhbWVidWZmZXIgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogP1dlYkdMRnJhbWVidWZmZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJpbmRSZW5kZXJidWZmZXIgaW1wbGVtZW50cyBWYWx1ZTw/V2ViR0xSZW5kZXJidWZmZXI+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6ID9XZWJHTFJlbmRlcmJ1ZmZlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXQoKTogP1dlYkdMUmVuZGVyYnVmZmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6ID9XZWJHTFJlbmRlcmJ1ZmZlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kVGV4dHVyZSBpbXBsZW1lbnRzIFZhbHVlPD9XZWJHTFRleHR1cmU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6ID9XZWJHTFRleHR1cmU7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0KCk6ID9XZWJHTFRleHR1cmUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogP1dlYkdMVGV4dHVyZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJpbmRWZXJ0ZXhCdWZmZXIgaW1wbGVtZW50cyBWYWx1ZTw/V2ViR0xCdWZmZXI+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6ID9XZWJHTEJ1ZmZlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXQoKTogP1dlYkdMQnVmZmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6ID9XZWJHTEJ1ZmZlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kRWxlbWVudEJ1ZmZlciBpbXBsZW1lbnRzIFZhbHVlPD9XZWJHTEJ1ZmZlcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogP1dlYkdMQnVmZmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cblxuICAgIGdldCgpOiA/V2ViR0xCdWZmZXIgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogP1dlYkdMQnVmZmVyKTogdm9pZCB7XG4gICAgICAgIC8vIEFsd2F5cyByZWJpbmRcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHYpO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJpbmRWZXJ0ZXhBcnJheU9FUyBpbXBsZW1lbnRzIFZhbHVlPGFueT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogYW55O1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cblxuICAgIGdldCgpOiBhbnkgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogYW55KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYgJiYgdGhpcy5jb250ZXh0LmV4dFZlcnRleEFycmF5T2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QuYmluZFZlcnRleEFycmF5T0VTKHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBpeGVsU3RvcmVVbnBhY2sgaW1wbGVtZW50cyBWYWx1ZTxudW1iZXI+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gNDtcbiAgICB9XG5cbiAgICBnZXQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19BTElHTk1FTlQsIHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhIGltcGxlbWVudHMgVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgKHY6IGFueSkpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBGcmFtZWJ1ZmZlciB2YWx1ZXNcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBGcmFtZWJ1ZmZlclZhbHVlPFQ+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIHBhcmVudDogV2ViR0xGcmFtZWJ1ZmZlcjtcbiAgICBjdXJyZW50OiA/VDtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQsIHBhcmVudDogV2ViR0xGcmFtZWJ1ZmZlcikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB9XG5cbiAgICBnZXQoKTogP1QgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb2xvckF0dGFjaG1lbnQgZXh0ZW5kcyBGcmFtZWJ1ZmZlclZhbHVlPD9XZWJHTFRleHR1cmU+IGltcGxlbWVudHMgVmFsdWU8P1dlYkdMVGV4dHVyZT4ge1xuICAgIGRpcnR5OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCwgcGFyZW50OiBXZWJHTEZyYW1lYnVmZmVyKSB7XG4gICAgICAgIHN1cGVyKGNvbnRleHQsIHBhcmVudCk7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBzZXQodjogP1dlYkdMVGV4dHVyZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSB8fCB0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5wYXJlbnQpO1xuICAgICAgICAgICAgLy8gbm90ZTogaXQncyBwb3NzaWJsZSB0byBhdHRhY2ggYSByZW5kZXJidWZmZXIgdG8gdGhlIGNvbG9yXG4gICAgICAgICAgICAvLyBhdHRhY2htZW50IHBvaW50LCBidXQgdGh1cyBmYXIgTUJHTCBvbmx5IHVzZXMgdGV4dHVyZXMgZm9yIGNvbG9yXG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHYsIDApO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldERpcnR5KCkge1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXB0aEF0dGFjaG1lbnQgZXh0ZW5kcyBGcmFtZWJ1ZmZlclZhbHVlPD9XZWJHTFJlbmRlcmJ1ZmZlcj4gaW1wbGVtZW50cyBWYWx1ZTw/V2ViR0xSZW5kZXJidWZmZXI+IHtcbiAgICBzZXQodjogP1dlYkdMUmVuZGVyYnVmZmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5wYXJlbnQpO1xuICAgICAgICAgICAgLy8gbm90ZTogaXQncyBwb3NzaWJsZSB0byBhdHRhY2ggYSB0ZXh0dXJlIHRvIHRoZSBkZXB0aCBhdHRhY2htZW50XG4gICAgICAgICAgICAvLyBwb2ludCwgYnV0IHRodXMgZmFyIE1CR0wgb25seSB1c2VzIHJlbmRlcmJ1ZmZlcnMgZm9yIGRlcHRoXG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCB2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuaW1wb3J0IHsgQ29sb3JBdHRhY2htZW50LCBEZXB0aEF0dGFjaG1lbnQgfSBmcm9tICcuL3ZhbHVlJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuL2NvbnRleHQnO1xuXG5jbGFzcyBGcmFtZWJ1ZmZlciB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIGZyYW1lYnVmZmVyOiBXZWJHTEZyYW1lYnVmZmVyO1xuICAgIGNvbG9yQXR0YWNobWVudDogQ29sb3JBdHRhY2htZW50O1xuICAgIGRlcHRoQXR0YWNobWVudDogRGVwdGhBdHRhY2htZW50O1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICBjb25zdCBmYm8gPSB0aGlzLmZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcblxuICAgICAgICB0aGlzLmNvbG9yQXR0YWNobWVudCA9IG5ldyBDb2xvckF0dGFjaG1lbnQoY29udGV4dCwgZmJvKTtcbiAgICAgICAgdGhpcy5kZXB0aEF0dGFjaG1lbnQgPSBuZXcgRGVwdGhBdHRhY2htZW50KGNvbnRleHQsIGZibyk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuY29sb3JBdHRhY2htZW50LmdldCgpO1xuICAgICAgICBpZiAodGV4dHVyZSkgZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICBjb25zdCByZW5kZXJidWZmZXIgPSB0aGlzLmRlcHRoQXR0YWNobWVudC5nZXQoKTtcbiAgICAgICAgaWYgKHJlbmRlcmJ1ZmZlcikgZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKHJlbmRlcmJ1ZmZlcik7XG5cbiAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5mcmFtZWJ1ZmZlcik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGcmFtZWJ1ZmZlcjtcbiIsIi8vIEBmbG93XG5pbXBvcnQgdHlwZSB7IERlcHRoRnVuY1R5cGUsIERlcHRoTWFza1R5cGUsIERlcHRoUmFuZ2VUeXBlIH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IEFMV0FZUyA9IDB4MDIwNztcblxuY2xhc3MgRGVwdGhNb2RlIHtcbiAgICBmdW5jOiBEZXB0aEZ1bmNUeXBlO1xuICAgIG1hc2s6IERlcHRoTWFza1R5cGU7XG4gICAgcmFuZ2U6IERlcHRoUmFuZ2VUeXBlO1xuXG4gICAgLy8gRGVwdGhNYXNrIGVudW1zXG4gICAgc3RhdGljIFJlYWRPbmx5OiBib29sZWFuO1xuICAgIHN0YXRpYyBSZWFkV3JpdGU6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihkZXB0aEZ1bmM6IERlcHRoRnVuY1R5cGUsIGRlcHRoTWFzazogRGVwdGhNYXNrVHlwZSwgZGVwdGhSYW5nZTogRGVwdGhSYW5nZVR5cGUpIHtcbiAgICAgICAgdGhpcy5mdW5jID0gZGVwdGhGdW5jO1xuICAgICAgICB0aGlzLm1hc2sgPSBkZXB0aE1hc2s7XG4gICAgICAgIHRoaXMucmFuZ2UgPSBkZXB0aFJhbmdlO1xuICAgIH1cblxuICAgIHN0YXRpYyBkaXNhYmxlZDogJFJlYWRPbmx5PERlcHRoTW9kZT47XG59XG5cbkRlcHRoTW9kZS5SZWFkT25seSA9IGZhbHNlO1xuRGVwdGhNb2RlLlJlYWRXcml0ZSA9IHRydWU7XG5cbkRlcHRoTW9kZS5kaXNhYmxlZCA9IG5ldyBEZXB0aE1vZGUoQUxXQVlTLCBEZXB0aE1vZGUuUmVhZE9ubHksIFswLCAxXSk7XG5cbmV4cG9ydCBkZWZhdWx0IERlcHRoTW9kZTtcbiIsIi8vIEBmbG93XG5pbXBvcnQgdHlwZSB7IFN0ZW5jaWxPcENvbnN0YW50LCBTdGVuY2lsVGVzdCB9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBBTFdBWVMgPSAweDAyMDc7XG5jb25zdCBLRUVQID0gMHgxRTAwO1xuXG5jbGFzcyBTdGVuY2lsTW9kZSB7XG4gICAgdGVzdDogU3RlbmNpbFRlc3Q7XG4gICAgcmVmOiBudW1iZXI7XG4gICAgbWFzazogbnVtYmVyO1xuICAgIGZhaWw6IFN0ZW5jaWxPcENvbnN0YW50O1xuICAgIGRlcHRoRmFpbDogU3RlbmNpbE9wQ29uc3RhbnQ7XG4gICAgcGFzczogU3RlbmNpbE9wQ29uc3RhbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih0ZXN0OiBTdGVuY2lsVGVzdCwgcmVmOiBudW1iZXIsIG1hc2s6IG51bWJlciwgZmFpbDogU3RlbmNpbE9wQ29uc3RhbnQsXG4gICAgICAgIGRlcHRoRmFpbDogU3RlbmNpbE9wQ29uc3RhbnQsIHBhc3M6IFN0ZW5jaWxPcENvbnN0YW50KSB7XG4gICAgICAgIHRoaXMudGVzdCA9IHRlc3Q7XG4gICAgICAgIHRoaXMucmVmID0gcmVmO1xuICAgICAgICB0aGlzLm1hc2sgPSBtYXNrO1xuICAgICAgICB0aGlzLmZhaWwgPSBmYWlsO1xuICAgICAgICB0aGlzLmRlcHRoRmFpbCA9IGRlcHRoRmFpbDtcbiAgICAgICAgdGhpcy5wYXNzID0gcGFzcztcbiAgICB9XG5cbiAgICBzdGF0aWMgZGlzYWJsZWQ6ICRSZWFkT25seTxTdGVuY2lsTW9kZT47XG59XG5cblN0ZW5jaWxNb2RlLmRpc2FibGVkID0gbmV3IFN0ZW5jaWxNb2RlKHsgZnVuYzogQUxXQVlTLCBtYXNrOiAwIH0sIDAsIDAsIEtFRVAsIEtFRVAsIEtFRVApO1xuXG5leHBvcnQgZGVmYXVsdCBTdGVuY2lsTW9kZTtcbiIsIi8vIEBmbG93XG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yJztcblxuaW1wb3J0IHR5cGUge0JsZW5kRnVuY1R5cGUsIENvbG9yTWFza1R5cGV9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBaRVJPID0gMHgwMDAwO1xuY29uc3QgT05FID0gMHgwMDAxO1xuY29uc3QgT05FX01JTlVTX1NSQ19BTFBIQSA9IDB4MDMwMztcblxuY2xhc3MgQ29sb3JNb2RlIHtcbiAgICBibGVuZEZ1bmN0aW9uOiBCbGVuZEZ1bmNUeXBlO1xuICAgIGJsZW5kQ29sb3I6IENvbG9yO1xuICAgIG1hc2s6IENvbG9yTWFza1R5cGU7XG5cbiAgICBjb25zdHJ1Y3RvcihibGVuZEZ1bmN0aW9uOiBCbGVuZEZ1bmNUeXBlLCBibGVuZENvbG9yOiBDb2xvciwgbWFzazogQ29sb3JNYXNrVHlwZSkge1xuICAgICAgICB0aGlzLmJsZW5kRnVuY3Rpb24gPSBibGVuZEZ1bmN0aW9uO1xuICAgICAgICB0aGlzLmJsZW5kQ29sb3IgPSBibGVuZENvbG9yO1xuICAgICAgICB0aGlzLm1hc2sgPSBtYXNrO1xuICAgIH1cblxuICAgIHN0YXRpYyBSZXBsYWNlOiBCbGVuZEZ1bmNUeXBlO1xuXG4gICAgc3RhdGljIGRpc2FibGVkOiAkUmVhZE9ubHk8Q29sb3JNb2RlPjtcbiAgICBzdGF0aWMgdW5ibGVuZGVkOiAkUmVhZE9ubHk8Q29sb3JNb2RlPjtcbiAgICBzdGF0aWMgYWxwaGFCbGVuZGVkOiAkUmVhZE9ubHk8Q29sb3JNb2RlPjtcbn1cblxuQ29sb3JNb2RlLlJlcGxhY2UgPSBbT05FLCBaRVJPXTtcblxuQ29sb3JNb2RlLmRpc2FibGVkID0gbmV3IENvbG9yTW9kZShDb2xvck1vZGUuUmVwbGFjZSwgQ29sb3IudHJhbnNwYXJlbnQsIFtmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV0pO1xuQ29sb3JNb2RlLnVuYmxlbmRlZCA9IG5ldyBDb2xvck1vZGUoQ29sb3JNb2RlLlJlcGxhY2UsIENvbG9yLnRyYW5zcGFyZW50LCBbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZV0pO1xuQ29sb3JNb2RlLmFscGhhQmxlbmRlZCA9IG5ldyBDb2xvck1vZGUoW09ORSwgT05FX01JTlVTX1NSQ19BTFBIQV0sIENvbG9yLnRyYW5zcGFyZW50LCBbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZV0pO1xuXG5leHBvcnQgZGVmYXVsdCBDb2xvck1vZGU7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IEluZGV4QnVmZmVyIGZyb20gJy4vaW5kZXhfYnVmZmVyJztcblxuaW1wb3J0IFZlcnRleEJ1ZmZlciBmcm9tICcuL3ZlcnRleF9idWZmZXInO1xuaW1wb3J0IEZyYW1lYnVmZmVyIGZyb20gJy4vZnJhbWVidWZmZXInO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuL2RlcHRoX21vZGUnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4vc3RlbmNpbF9tb2RlJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi9jb2xvcl9tb2RlJztcbmltcG9ydCB7IGRlZXBFcXVhbCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBDbGVhckNvbG9yLCBDbGVhckRlcHRoLCBDbGVhclN0ZW5jaWwsIENvbG9yTWFzaywgRGVwdGhNYXNrLCBTdGVuY2lsTWFzaywgU3RlbmNpbEZ1bmMsIFN0ZW5jaWxPcCwgU3RlbmNpbFRlc3QsIERlcHRoUmFuZ2UsIERlcHRoVGVzdCwgRGVwdGhGdW5jLCBCbGVuZCwgQmxlbmRGdW5jLCBCbGVuZENvbG9yLCBQcm9ncmFtLCBMaW5lV2lkdGgsIEFjdGl2ZVRleHR1cmVVbml0LCBWaWV3cG9ydCwgQmluZEZyYW1lYnVmZmVyLCBCaW5kUmVuZGVyYnVmZmVyLCBCaW5kVGV4dHVyZSwgQmluZFZlcnRleEJ1ZmZlciwgQmluZEVsZW1lbnRCdWZmZXIsIEJpbmRWZXJ0ZXhBcnJheU9FUywgUGl4ZWxTdG9yZVVucGFjaywgUGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEgfSBmcm9tICcuL3ZhbHVlJztcblxuXG5pbXBvcnQgdHlwZSB7VHJpYW5nbGVJbmRleEFycmF5LCBMaW5lSW5kZXhBcnJheX0gZnJvbSAnLi4vZGF0YS9pbmRleF9hcnJheV90eXBlJztcbmltcG9ydCB0eXBlIHtcbiAgICBTdHJ1Y3RBcnJheSxcbiAgICBTdHJ1Y3RBcnJheU1lbWJlclxufSBmcm9tICcuLi91dGlsL3N0cnVjdF9hcnJheSc7XG5pbXBvcnQgdHlwZSBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3InO1xuXG50eXBlIENsZWFyQXJncyA9IHtcbiAgICBjb2xvcj86IENvbG9yLFxuICAgIGRlcHRoPzogbnVtYmVyLFxuICAgIHN0ZW5jaWw/OiBudW1iZXJcbn07XG5cblxuY2xhc3MgQ29udGV4dCB7XG4gICAgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dDtcbiAgICBleHRWZXJ0ZXhBcnJheU9iamVjdDogYW55O1xuICAgIGN1cnJlbnROdW1BdHRyaWJ1dGVzOiA/bnVtYmVyO1xuICAgIGxpbmVXaWR0aFJhbmdlOiBbbnVtYmVyLCBudW1iZXJdO1xuXG4gICAgY2xlYXJDb2xvcjogQ2xlYXJDb2xvcjtcbiAgICBjbGVhckRlcHRoOiBDbGVhckRlcHRoO1xuICAgIGNsZWFyU3RlbmNpbDogQ2xlYXJTdGVuY2lsO1xuICAgIGNvbG9yTWFzazogQ29sb3JNYXNrO1xuICAgIGRlcHRoTWFzazogRGVwdGhNYXNrO1xuICAgIHN0ZW5jaWxNYXNrOiBTdGVuY2lsTWFzaztcbiAgICBzdGVuY2lsRnVuYzogU3RlbmNpbEZ1bmM7XG4gICAgc3RlbmNpbE9wOiBTdGVuY2lsT3A7XG4gICAgc3RlbmNpbFRlc3Q6IFN0ZW5jaWxUZXN0O1xuICAgIGRlcHRoUmFuZ2U6IERlcHRoUmFuZ2U7XG4gICAgZGVwdGhUZXN0OiBEZXB0aFRlc3Q7XG4gICAgZGVwdGhGdW5jOiBEZXB0aEZ1bmM7XG4gICAgYmxlbmQ6IEJsZW5kO1xuICAgIGJsZW5kRnVuYzogQmxlbmRGdW5jO1xuICAgIGJsZW5kQ29sb3I6IEJsZW5kQ29sb3I7XG4gICAgcHJvZ3JhbTogUHJvZ3JhbTtcbiAgICBsaW5lV2lkdGg6IExpbmVXaWR0aDtcbiAgICBhY3RpdmVUZXh0dXJlOiBBY3RpdmVUZXh0dXJlVW5pdDtcbiAgICB2aWV3cG9ydDogVmlld3BvcnQ7XG4gICAgYmluZEZyYW1lYnVmZmVyOiBCaW5kRnJhbWVidWZmZXI7XG4gICAgYmluZFJlbmRlcmJ1ZmZlcjogQmluZFJlbmRlcmJ1ZmZlcjtcbiAgICBiaW5kVGV4dHVyZTogQmluZFRleHR1cmU7XG4gICAgYmluZFZlcnRleEJ1ZmZlcjogQmluZFZlcnRleEJ1ZmZlcjtcbiAgICBiaW5kRWxlbWVudEJ1ZmZlcjogQmluZEVsZW1lbnRCdWZmZXI7XG4gICAgYmluZFZlcnRleEFycmF5T0VTOiBCaW5kVmVydGV4QXJyYXlPRVM7XG4gICAgcGl4ZWxTdG9yZVVucGFjazogUGl4ZWxTdG9yZVVucGFjaztcbiAgICBwaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYTogUGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGE7XG5cbiAgICBleHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWM6IGFueTtcbiAgICBleHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXg6IGFueTtcbiAgICBleHRUZXh0dXJlSGFsZkZsb2F0OiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCA9IHRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdmVydGV4X2FycmF5X29iamVjdCcpO1xuICAgICAgICB0aGlzLmxpbmVXaWR0aFJhbmdlID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLkFMSUFTRURfTElORV9XSURUSF9SQU5HRSk7XG5cbiAgICAgICAgdGhpcy5jbGVhckNvbG9yID0gbmV3IENsZWFyQ29sb3IodGhpcyk7XG4gICAgICAgIHRoaXMuY2xlYXJEZXB0aCA9IG5ldyBDbGVhckRlcHRoKHRoaXMpO1xuICAgICAgICB0aGlzLmNsZWFyU3RlbmNpbCA9IG5ldyBDbGVhclN0ZW5jaWwodGhpcyk7XG4gICAgICAgIHRoaXMuY29sb3JNYXNrID0gbmV3IENvbG9yTWFzayh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXB0aE1hc2sgPSBuZXcgRGVwdGhNYXNrKHRoaXMpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrID0gbmV3IFN0ZW5jaWxNYXNrKHRoaXMpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxGdW5jID0gbmV3IFN0ZW5jaWxGdW5jKHRoaXMpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxPcCA9IG5ldyBTdGVuY2lsT3AodGhpcyk7XG4gICAgICAgIHRoaXMuc3RlbmNpbFRlc3QgPSBuZXcgU3RlbmNpbFRlc3QodGhpcyk7XG4gICAgICAgIHRoaXMuZGVwdGhSYW5nZSA9IG5ldyBEZXB0aFJhbmdlKHRoaXMpO1xuICAgICAgICB0aGlzLmRlcHRoVGVzdCA9IG5ldyBEZXB0aFRlc3QodGhpcyk7XG4gICAgICAgIHRoaXMuZGVwdGhGdW5jID0gbmV3IERlcHRoRnVuYyh0aGlzKTtcbiAgICAgICAgdGhpcy5ibGVuZCA9IG5ldyBCbGVuZCh0aGlzKTtcbiAgICAgICAgdGhpcy5ibGVuZEZ1bmMgPSBuZXcgQmxlbmRGdW5jKHRoaXMpO1xuICAgICAgICB0aGlzLmJsZW5kQ29sb3IgPSBuZXcgQmxlbmRDb2xvcih0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbmV3IFByb2dyYW0odGhpcyk7XG4gICAgICAgIHRoaXMubGluZVdpZHRoID0gbmV3IExpbmVXaWR0aCh0aGlzKTtcbiAgICAgICAgdGhpcy5hY3RpdmVUZXh0dXJlID0gbmV3IEFjdGl2ZVRleHR1cmVVbml0KHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRGcmFtZWJ1ZmZlciA9IG5ldyBCaW5kRnJhbWVidWZmZXIodGhpcyk7XG4gICAgICAgIHRoaXMuYmluZFJlbmRlcmJ1ZmZlciA9IG5ldyBCaW5kUmVuZGVyYnVmZmVyKHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRUZXh0dXJlID0gbmV3IEJpbmRUZXh0dXJlKHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRWZXJ0ZXhCdWZmZXIgPSBuZXcgQmluZFZlcnRleEJ1ZmZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5iaW5kRWxlbWVudEJ1ZmZlciA9IG5ldyBCaW5kRWxlbWVudEJ1ZmZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMgPSB0aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0ICYmIG5ldyBCaW5kVmVydGV4QXJyYXlPRVModGhpcyk7XG4gICAgICAgIHRoaXMucGl4ZWxTdG9yZVVucGFjayA9IG5ldyBQaXhlbFN0b3JlVW5wYWNrKHRoaXMpO1xuICAgICAgICB0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhID0gbmV3IFBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljID0gKFxuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKSB8fFxuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykgfHxcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYykge1xuICAgICAgICAgICAgdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXggPSBnbC5nZXRQYXJhbWV0ZXIodGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZXh0VGV4dHVyZUhhbGZGbG9hdCA9IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdCcpO1xuICAgICAgICBpZiAodGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0KSB7XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyJyk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNyZWF0ZUluZGV4QnVmZmVyKGFycmF5OiBUcmlhbmdsZUluZGV4QXJyYXkgfCBMaW5lSW5kZXhBcnJheSwgZHluYW1pY0RyYXc/OiBib29sZWFuKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW5kZXhCdWZmZXIodGhpcywgYXJyYXksIGR5bmFtaWNEcmF3KTtcbiAgICB9XG5cbiAgICBjcmVhdGVWZXJ0ZXhCdWZmZXIoYXJyYXk6IFN0cnVjdEFycmF5LCBhdHRyaWJ1dGVzOiAkUmVhZE9ubHlBcnJheTxTdHJ1Y3RBcnJheU1lbWJlcj4sIGR5bmFtaWNEcmF3PzogYm9vbGVhbikge1xuICAgICAgICByZXR1cm4gbmV3IFZlcnRleEJ1ZmZlcih0aGlzLCBhcnJheSwgYXR0cmlidXRlcywgZHluYW1pY0RyYXcpO1xuICAgIH1cblxuICAgIGNyZWF0ZVJlbmRlcmJ1ZmZlcihzdG9yYWdlRm9ybWF0OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcblxuICAgICAgICBjb25zdCByYm8gPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICAgICAgdGhpcy5iaW5kUmVuZGVyYnVmZmVyLnNldChyYm8pO1xuICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgc3RvcmFnZUZvcm1hdCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5zZXQobnVsbCk7XG5cbiAgICAgICAgcmV0dXJuIHJibztcbiAgICB9XG5cbiAgICBjcmVhdGVGcmFtZWJ1ZmZlcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gbmV3IEZyYW1lYnVmZmVyKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIGNsZWFyKHtjb2xvciwgZGVwdGh9OiBDbGVhckFyZ3MpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBsZXQgbWFzayA9IDA7XG5cbiAgICAgICAgaWYgKGNvbG9yKSB7XG4gICAgICAgICAgICBtYXNrIHw9IGdsLkNPTE9SX0JVRkZFUl9CSVQ7XG4gICAgICAgICAgICB0aGlzLmNsZWFyQ29sb3Iuc2V0KGNvbG9yKTtcbiAgICAgICAgICAgIHRoaXMuY29sb3JNYXNrLnNldChbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBkZXB0aCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG1hc2sgfD0gZ2wuREVQVEhfQlVGRkVSX0JJVDtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJEZXB0aC5zZXQoZGVwdGgpO1xuICAgICAgICAgICAgdGhpcy5kZXB0aE1hc2suc2V0KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VlIG5vdGUgaW4gUGFpbnRlciNjbGVhclN0ZW5jaWw6IGltcGxlbWVudCB0aGlzIHRoZSBlYXN5IHdheSBvbmNlIEdQVSBidWcvd29ya2Fyb3VuZCBpcyBmaXhlZCB1cHN0cmVhbVxuICAgICAgICAvLyBpZiAodHlwZW9mIHN0ZW5jaWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vICAgICBtYXNrIHw9IGdsLlNURU5DSUxfQlVGRkVSX0JJVDtcbiAgICAgICAgLy8gICAgIHRoaXMuY2xlYXJTdGVuY2lsLnNldChzdGVuY2lsKTtcbiAgICAgICAgLy8gICAgIHRoaXMuc3RlbmNpbE1hc2suc2V0KDB4RkYpO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgZ2wuY2xlYXIobWFzayk7XG4gICAgfVxuXG4gICAgc2V0RGVwdGhNb2RlKGRlcHRoTW9kZTogJFJlYWRPbmx5PERlcHRoTW9kZT4pIHtcbiAgICAgICAgaWYgKGRlcHRoTW9kZS5mdW5jID09PSB0aGlzLmdsLkFMV0FZUyAmJiAhZGVwdGhNb2RlLm1hc2spIHtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhUZXN0LnNldChmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGVzdC5zZXQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoRnVuYy5zZXQoZGVwdGhNb2RlLmZ1bmMpO1xuICAgICAgICAgICAgdGhpcy5kZXB0aE1hc2suc2V0KGRlcHRoTW9kZS5tYXNrKTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhSYW5nZS5zZXQoZGVwdGhNb2RlLnJhbmdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFN0ZW5jaWxNb2RlKHN0ZW5jaWxNb2RlOiAkUmVhZE9ubHk8U3RlbmNpbE1vZGU+KSB7XG4gICAgICAgIGlmIChzdGVuY2lsTW9kZS50ZXN0LmZ1bmMgPT09IHRoaXMuZ2wuQUxXQVlTICYmICFzdGVuY2lsTW9kZS5tYXNrKSB7XG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxUZXN0LnNldChmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxUZXN0LnNldCh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbE1hc2suc2V0KHN0ZW5jaWxNb2RlLm1hc2spO1xuICAgICAgICAgICAgdGhpcy5zdGVuY2lsT3Auc2V0KFtzdGVuY2lsTW9kZS5mYWlsLCBzdGVuY2lsTW9kZS5kZXB0aEZhaWwsIHN0ZW5jaWxNb2RlLnBhc3NdKTtcbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbEZ1bmMuc2V0KHtcbiAgICAgICAgICAgICAgICBmdW5jOiBzdGVuY2lsTW9kZS50ZXN0LmZ1bmMsXG4gICAgICAgICAgICAgICAgcmVmOiBzdGVuY2lsTW9kZS5yZWYsXG4gICAgICAgICAgICAgICAgbWFzazogc3RlbmNpbE1vZGUudGVzdC5tYXNrXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldENvbG9yTW9kZShjb2xvck1vZGU6ICRSZWFkT25seTxDb2xvck1vZGU+KSB7XG4gICAgICAgIGlmIChkZWVwRXF1YWwoY29sb3JNb2RlLmJsZW5kRnVuY3Rpb24sIENvbG9yTW9kZS5SZXBsYWNlKSkge1xuICAgICAgICAgICAgdGhpcy5ibGVuZC5zZXQoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ibGVuZC5zZXQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmJsZW5kRnVuYy5zZXQoY29sb3JNb2RlLmJsZW5kRnVuY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5ibGVuZENvbG9yLnNldChjb2xvck1vZGUuYmxlbmRDb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbG9yTWFzay5zZXQoY29sb3JNb2RlLm1hc2spO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udGV4dDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGNyZWF0ZSBhcyBjcmVhdGVTb3VyY2UgfSBmcm9tICcuL3NvdXJjZSc7XG5cbmltcG9ydCBUaWxlIGZyb20gJy4vdGlsZSc7XG5pbXBvcnQgeyBFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgQ2FjaGUgZnJvbSAnLi4vdXRpbC9scnVfY2FjaGUnO1xuaW1wb3J0IENvb3JkaW5hdGUgZnJvbSAnLi4vZ2VvL2Nvb3JkaW5hdGUnO1xuaW1wb3J0IHsga2V5c0RpZmZlcmVuY2UgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudCc7XG5pbXBvcnQgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgeyBPdmVyc2NhbGVkVGlsZUlEIH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHR5cGUge1NvdXJjZX0gZnJvbSAnLi9zb3VyY2UnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcCc7XG5pbXBvcnQgdHlwZSBTdHlsZSBmcm9tICcuLi9zdHlsZS9zdHlsZSc7XG5pbXBvcnQgdHlwZSBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlcic7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybSc7XG5pbXBvcnQgdHlwZSB7VGlsZVN0YXRlfSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5cbi8qKlxuICogYFNvdXJjZUNhY2hlYCBpcyByZXNwb25zaWJsZSBmb3JcbiAqXG4gKiAgLSBjcmVhdGluZyBhbiBpbnN0YW5jZSBvZiBgU291cmNlYFxuICogIC0gZm9yd2FyZGluZyBldmVudHMgZnJvbSBgU291cmNlYFxuICogIC0gY2FjaGluZyB0aWxlcyBsb2FkZWQgZnJvbSBhbiBpbnN0YW5jZSBvZiBgU291cmNlYFxuICogIC0gbG9hZGluZyB0aGUgdGlsZXMgbmVlZGVkIHRvIHJlbmRlciBhIGdpdmVuIHZpZXdwb3J0XG4gKiAgLSB1bmxvYWRpbmcgdGhlIGNhY2hlZCB0aWxlcyBub3QgbmVlZGVkIHRvIHJlbmRlciBhIGdpdmVuIHZpZXdwb3J0XG4gKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgU291cmNlQ2FjaGUgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gICAgbWFwOiBNYXA7XG4gICAgc3R5bGU6IFN0eWxlO1xuXG4gICAgX3NvdXJjZTogU291cmNlO1xuICAgIF9zb3VyY2VMb2FkZWQ6IGJvb2xlYW47XG4gICAgX3NvdXJjZUVycm9yZWQ6IGJvb2xlYW47XG4gICAgX3RpbGVzOiB7W2FueV06IFRpbGV9O1xuICAgIF9jYWNoZTogQ2FjaGU8VGlsZT47XG4gICAgX3RpbWVyczoge1thbnldOiBUaW1lb3V0SUR9O1xuICAgIF9jYWNoZVRpbWVyczoge1thbnldOiBUaW1lb3V0SUR9O1xuICAgIF9tYXhUaWxlQ2FjaGVTaXplOiA/bnVtYmVyO1xuICAgIF9wYXVzZWQ6IGJvb2xlYW47XG4gICAgX3Nob3VsZFJlbG9hZE9uUmVzdW1lOiBib29sZWFuO1xuICAgIF9jb3ZlcmVkVGlsZXM6IHtbYW55XTogYm9vbGVhbn07XG4gICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm07XG4gICAgX2lzSWRSZW5kZXJhYmxlOiAoaWQ6IG51bWJlcikgPT4gYm9vbGVhbjtcbiAgICB1c2VkOiBib29sZWFuO1xuXG4gICAgc3RhdGljIG1heFVuZGVyem9vbWluZzogbnVtYmVyO1xuICAgIHN0YXRpYyBtYXhPdmVyem9vbWluZzogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgb3B0aW9uczogU291cmNlU3BlY2lmaWNhdGlvbiwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IGRpc3BhdGNoZXI7XG5cbiAgICAgICAgdGhpcy5vbignZGF0YScsIChlKSA9PiB7XG4gICAgICAgICAgICAvLyB0aGlzLl9zb3VyY2VMb2FkZWQgc2lnbmlmaWVzIHRoYXQgdGhlIFRpbGVKU09OIGlzIGxvYWRlZCBpZiBhcHBsaWNhYmxlLlxuICAgICAgICAgICAgLy8gaWYgdGhlIHNvdXJjZSB0eXBlIGRvZXMgbm90IGNvbWUgd2l0aCBhIFRpbGVKU09OLCB0aGUgZmxhZyBzaWduaWZpZXMgdGhlXG4gICAgICAgICAgICAvLyBzb3VyY2UgZGF0YSBoYXMgbG9hZGVkIChpLmUgZ2VvanNvbiBoYXMgYmVlbiB0aWxlZCBvbiB0aGUgd29ya2VyIGFuZCBpcyByZWFkeSlcbiAgICAgICAgICAgIGlmIChlLmRhdGFUeXBlID09PSAnc291cmNlJyAmJiBlLnNvdXJjZURhdGFUeXBlID09PSAnbWV0YWRhdGEnKSB0aGlzLl9zb3VyY2VMb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBmb3Igc291cmNlcyB3aXRoIG11dGFibGUgZGF0YSwgdGhpcyBldmVudCBmaXJlcyB3aGVuIHRoZSB1bmRlcmx5aW5nIGRhdGFcbiAgICAgICAgICAgIC8vIHRvIGEgc291cmNlIGlzIGNoYW5nZWQuIChpLmUuIEdlb0pTT05Tb3VyY2Ujc2V0RGF0YSBhbmQgSW1hZ2VTb3VyY2Ujc2VyQ29vcmRpbmF0ZXMpXG4gICAgICAgICAgICBpZiAodGhpcy5fc291cmNlTG9hZGVkICYmICF0aGlzLl9wYXVzZWQgJiYgZS5kYXRhVHlwZSA9PT0gXCJzb3VyY2VcIiAmJiBlLnNvdXJjZURhdGFUeXBlID09PSAnY29udGVudCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm9uKCdlcnJvcicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZUVycm9yZWQgPSB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9zb3VyY2UgPSBjcmVhdGVTb3VyY2UoaWQsIG9wdGlvbnMsIGRpc3BhdGNoZXIsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX3RpbGVzID0ge307XG4gICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IENhY2hlKDAsIHRoaXMuX3VubG9hZFRpbGUuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX3RpbWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9jYWNoZVRpbWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9tYXhUaWxlQ2FjaGVTaXplID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9pc0lkUmVuZGVyYWJsZSA9IHRoaXMuX2lzSWRSZW5kZXJhYmxlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5fY292ZXJlZFRpbGVzID0ge307XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX21heFRpbGVDYWNoZVNpemUgPSBtYXAgPyBtYXAuX21heFRpbGVDYWNoZVNpemUgOiBudWxsO1xuICAgICAgICBpZiAodGhpcy5fc291cmNlICYmIHRoaXMuX3NvdXJjZS5vbkFkZCkge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlLm9uQWRkKG1hcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJlbW92ZShtYXA6IE1hcCkge1xuICAgICAgICBpZiAodGhpcy5fc291cmNlICYmIHRoaXMuX3NvdXJjZS5vblJlbW92ZSkge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlLm9uUmVtb3ZlKG1hcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiBubyB0aWxlIGRhdGEgaXMgcGVuZGluZywgdGlsZXMgd2lsbCBub3QgY2hhbmdlIHVubGVzc1xuICAgICAqIGFuIGFkZGl0aW9uYWwgQVBJIGNhbGwgaXMgcmVjZWl2ZWQuXG4gICAgICovXG4gICAgbG9hZGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5fc291cmNlRXJyb3JlZCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICBpZiAoIXRoaXMuX3NvdXJjZUxvYWRlZCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgZm9yIChjb25zdCB0IGluIHRoaXMuX3RpbGVzKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5fdGlsZXNbdF07XG4gICAgICAgICAgICBpZiAodGlsZS5zdGF0ZSAhPT0gJ2xvYWRlZCcgJiYgdGlsZS5zdGF0ZSAhPT0gJ2Vycm9yZWQnKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXRTb3VyY2UoKTogU291cmNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZTtcbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy5fcGF1c2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcGF1c2VkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHNob3VsZFJlbG9hZCA9IHRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lO1xuICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHNob3VsZFJlbG9hZCkgdGhpcy5yZWxvYWQoKTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKSB0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgX2xvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlLmxvYWRUaWxlKHRpbGUsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBfdW5sb2FkVGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb3VyY2UudW5sb2FkVGlsZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2UudW5sb2FkVGlsZSh0aWxlLCAoKSA9PiB7fSk7XG4gICAgfVxuXG4gICAgX2Fib3J0VGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5hYm9ydFRpbGUodGlsZSwgKCkgPT4ge30pO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5zZXJpYWxpemUoKTtcbiAgICB9XG5cbiAgICBwcmVwYXJlKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgaWYgICh0aGlzLl9zb3VyY2UucHJlcGFyZSkge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlLnByZXBhcmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl90aWxlcykge1xuICAgICAgICAgICAgdGhpcy5fdGlsZXNbaV0udXBsb2FkKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCB0aWxlIGlkcyBvcmRlcmVkIHdpdGggei1vcmRlciwgYW5kIGNhc3QgdG8gbnVtYmVyc1xuICAgICAqL1xuICAgIGdldElkcygpOiBBcnJheTxudW1iZXI+IHtcblxuICAgICAgICBjb25zdCBjb21wYXJlS2V5Wm9vbSA9IChhXywgYl8pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSB0aGlzLl90aWxlc1thX10udGlsZUlEO1xuICAgICAgICAgICAgY29uc3QgYiA9IHRoaXMuX3RpbGVzW2JfXS50aWxlSUQ7XG4gICAgICAgICAgICBjb25zdCByb3RhdGVkQSA9IChuZXcgUG9pbnQoYS5jYW5vbmljYWwueCwgYS5jYW5vbmljYWwueSkpLnJvdGF0ZSh0aGlzLnRyYW5zZm9ybS5hbmdsZSk7XG4gICAgICAgICAgICBjb25zdCByb3RhdGVkQiA9IChuZXcgUG9pbnQoYi5jYW5vbmljYWwueCwgYi5jYW5vbmljYWwueSkpLnJvdGF0ZSh0aGlzLnRyYW5zZm9ybS5hbmdsZSk7XG4gICAgICAgICAgICByZXR1cm4gYS5vdmVyc2NhbGVkWiAtIGIub3ZlcnNjYWxlZFogfHwgcm90YXRlZEIueSAtIHJvdGF0ZWRBLnkgfHwgcm90YXRlZEIueCAtIHJvdGF0ZWRBLng7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3RpbGVzKS5tYXAoTnVtYmVyKS5zb3J0KGNvbXBhcmVLZXlab29tKTtcbiAgICB9XG5cbiAgICBnZXRSZW5kZXJhYmxlSWRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJZHMoKS5maWx0ZXIodGhpcy5faXNJZFJlbmRlcmFibGUpO1xuICAgIH1cblxuICAgIGhhc1JlbmRlcmFibGVQYXJlbnQodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudFRpbGUgPSB0aGlzLmZpbmRMb2FkZWRQYXJlbnQodGlsZUlELCAwLCB7fSk7XG4gICAgICAgIGlmIChwYXJlbnRUaWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNJZFJlbmRlcmFibGUocGFyZW50VGlsZS50aWxlSUQua2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX2lzSWRSZW5kZXJhYmxlKGlkOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbGVzW2lkXSAmJiB0aGlzLl90aWxlc1tpZF0uaGFzRGF0YSgpICYmICF0aGlzLl9jb3ZlcmVkVGlsZXNbaWRdO1xuICAgIH1cblxuICAgIHJlbG9hZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVzZXRDYWNoZSgpO1xuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl90aWxlcykge1xuICAgICAgICAgICAgdGhpcy5fcmVsb2FkVGlsZShpLCAncmVsb2FkaW5nJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVsb2FkVGlsZShpZDogc3RyaW5nIHwgbnVtYmVyLCBzdGF0ZTogVGlsZVN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl90aWxlc1tpZF07XG5cbiAgICAgICAgLy8gdGhpcyBwb3RlbnRpYWxseSBkb2VzIG5vdCBhZGRyZXNzIGFsbCB1bmRlcmx5aW5nXG4gICAgICAgIC8vIGlzc3VlcyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvNDI1MlxuICAgICAgICAvLyAtIGhhcmQgdG8gdGVsbCB3aXRob3V0IHJlcHJvIHN0ZXBzXG4gICAgICAgIGlmICghdGlsZSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gXCJsb2FkaW5nXCIgdGlsZXMgYW5kIFwicmVsb2FkaW5nXCIgb3IgXCJleHBpcmVkXCJcbiAgICAgICAgLy8gdGlsZXMgaXMgdGhhdCBcInJlbG9hZGluZ1wiL1wiZXhwaXJlZFwiIHRpbGVzIGFyZSBcInJlbmRlcmFibGVcIi5cbiAgICAgICAgLy8gVGhlcmVmb3JlLCBhIFwibG9hZGluZ1wiIHRpbGUgY2Fubm90IGJlY29tZSBhIFwicmVsb2FkaW5nXCIgdGlsZSB3aXRob3V0XG4gICAgICAgIC8vIGZpcnN0IGJlY29taW5nIGEgXCJsb2FkZWRcIiB0aWxlLlxuICAgICAgICBpZiAodGlsZS5zdGF0ZSAhPT0gJ2xvYWRpbmcnKSB7XG4gICAgICAgICAgICB0aWxlLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkVGlsZSh0aWxlLCB0aGlzLl90aWxlTG9hZGVkLmJpbmQodGhpcywgdGlsZSwgaWQsIHN0YXRlKSk7XG4gICAgfVxuXG4gICAgX3RpbGVMb2FkZWQodGlsZTogVGlsZSwgaWQ6IHN0cmluZyB8IG51bWJlciwgcHJldmlvdXNTdGF0ZTogVGlsZVN0YXRlLCBlcnI6ID9FcnJvcikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2Vycm9yZWQnO1xuICAgICAgICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkgdGhpcy5fc291cmNlLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyLCB7dGlsZX0pKTtcbiAgICAgICAgICAgIC8vIGNvbnRpbnVlIHRvIHRyeSBsb2FkaW5nIHBhcmVudC9jaGlsZHJlbiB0aWxlcyBpZiBhIHRpbGUgZG9lc24ndCBleGlzdCAoNDA0KVxuICAgICAgICAgICAgZWxzZSB0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aWxlLnRpbWVBZGRlZCA9IGJyb3dzZXIubm93KCk7XG4gICAgICAgIGlmIChwcmV2aW91c1N0YXRlID09PSAnZXhwaXJlZCcpIHRpbGUucmVmcmVzaGVkVXBvbkV4cGlyYXRpb24gPSB0cnVlO1xuICAgICAgICB0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIoaWQsIHRpbGUpO1xuICAgICAgICBpZiAodGhpcy5nZXRTb3VyY2UoKS50eXBlID09PSAncmFzdGVyLWRlbScgJiYgdGlsZS5kZW0pIHRoaXMuX2JhY2tmaWxsREVNKHRpbGUpO1xuICAgICAgICB0aGlzLl9zb3VyY2UuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCB0aWxlOiB0aWxlLCBjb29yZDogdGlsZS50aWxlSUR9KSk7XG5cbiAgICAgICAgLy8gSEFDSyB0aGlzIGlzIG5lY2Vzc2FyeSB0byBmaXggaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzI5ODZcbiAgICAgICAgaWYgKHRoaXMubWFwKSB0aGlzLm1hcC5wYWludGVyLnRpbGVFeHRlbnRWQU8udmFvID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIEZvciByYXN0ZXIgdGVycmFpbiBzb3VyY2UsIGJhY2tmaWxsIERFTSB0byBlbGltaW5hdGUgdmlzaWJsZSB0aWxlIGJvdW5kYXJpZXNcbiAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgICBfYmFja2ZpbGxERU0odGlsZTogVGlsZSkge1xuICAgICAgICBjb25zdCByZW5kZXJhYmxlcyA9IHRoaXMuZ2V0UmVuZGVyYWJsZUlkcygpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcmFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBib3JkZXJJZCA9IHJlbmRlcmFibGVzW2ldO1xuICAgICAgICAgICAgaWYgKHRpbGUubmVpZ2hib3JpbmdUaWxlcyAmJiB0aWxlLm5laWdoYm9yaW5nVGlsZXNbYm9yZGVySWRdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9yZGVyVGlsZSA9IHRoaXMuZ2V0VGlsZUJ5SUQoYm9yZGVySWQpO1xuICAgICAgICAgICAgICAgIGZpbGxCb3JkZXIodGlsZSwgYm9yZGVyVGlsZSk7XG4gICAgICAgICAgICAgICAgZmlsbEJvcmRlcihib3JkZXJUaWxlLCB0aWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGZpbGxCb3JkZXIodGlsZSwgYm9yZGVyVGlsZSkge1xuICAgICAgICAgICAgdGlsZS5uZWVkc0hpbGxzaGFkZVByZXBhcmUgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IGR4ID0gYm9yZGVyVGlsZS50aWxlSUQuY2Fub25pY2FsLnggLSB0aWxlLnRpbGVJRC5jYW5vbmljYWwueDtcbiAgICAgICAgICAgIGNvbnN0IGR5ID0gYm9yZGVyVGlsZS50aWxlSUQuY2Fub25pY2FsLnkgLSB0aWxlLnRpbGVJRC5jYW5vbmljYWwueTtcbiAgICAgICAgICAgIGNvbnN0IGRpbSA9IE1hdGgucG93KDIsIHRpbGUudGlsZUlELmNhbm9uaWNhbC56KTtcbiAgICAgICAgICAgIGNvbnN0IGJvcmRlcklkID0gYm9yZGVyVGlsZS50aWxlSUQua2V5O1xuICAgICAgICAgICAgaWYgKGR4ID09PSAwICYmIGR5ID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkeSkgPiAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGR4KSA+IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBBZGp1c3QgdGhlIGRlbHRhIGNvb3JkaW5hdGUgZm9yIHdvcmxkIHdyYXBhcm91bmQuXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGR4ICsgZGltKSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBkeCArPSBkaW07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhkeCAtIGRpbSkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZHggLT0gZGltO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYm9yZGVyVGlsZS5kZW0gfHwgIXRpbGUuZGVtKSByZXR1cm47XG4gICAgICAgICAgICB0aWxlLmRlbS5iYWNrZmlsbEJvcmRlcihib3JkZXJUaWxlLmRlbSwgZHgsIGR5KTtcbiAgICAgICAgICAgIGlmICh0aWxlLm5laWdoYm9yaW5nVGlsZXMgJiYgdGlsZS5uZWlnaGJvcmluZ1RpbGVzW2JvcmRlcklkXSlcbiAgICAgICAgICAgICAgICB0aWxlLm5laWdoYm9yaW5nVGlsZXNbYm9yZGVySWRdLmJhY2tmaWxsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHNwZWNpZmljIHRpbGUgYnkgVGlsZUlEXG4gICAgICovXG4gICAgZ2V0VGlsZSh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpOiBUaWxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZUJ5SUQodGlsZUlELmtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgc3BlY2lmaWMgdGlsZSBieSBpZFxuICAgICAqL1xuICAgIGdldFRpbGVCeUlEKGlkOiBzdHJpbmcgfCBudW1iZXIpOiBUaWxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbGVzW2lkXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXQgdGhlIHpvb20gbGV2ZWwgYWRqdXN0ZWQgZm9yIHRoZSBkaWZmZXJlbmNlIGluIG1hcCBhbmQgc291cmNlIHRpbGVzaXplc1xuICAgICAqL1xuICAgIGdldFpvb20odHJhbnNmb3JtOiBUcmFuc2Zvcm0pOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtLnpvb20gKyB0cmFuc2Zvcm0uc2NhbGVab29tKHRyYW5zZm9ybS50aWxlU2l6ZSAvIHRoaXMuX3NvdXJjZS50aWxlU2l6ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmluZCBjaGlsZHJlbiBvZiB0aGUgZ2l2ZW4gdGlsZSAodXAgdG8gbWF4Q292ZXJpbmdab29tKSB0aGF0IGFyZSBhbHJlYWR5IGxvYWRlZDtcbiAgICAgKiBhZGRzIGZvdW5kIHRpbGVzIHRvIHJldGFpbiBvYmplY3Q7IHJldHVybnMgdHJ1ZSBpZiBhbnkgY2hpbGQgaXMgZm91bmQuXG4gICAgICovXG4gICAgX2ZpbmRMb2FkZWRDaGlsZHJlbih0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIG1heENvdmVyaW5nWm9vbTogbnVtYmVyLCByZXRhaW46IHtbYW55XTogT3ZlcnNjYWxlZFRpbGVJRH0pOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl90aWxlcykge1xuICAgICAgICAgICAgbGV0IHRpbGUgPSB0aGlzLl90aWxlc1tpZF07XG5cbiAgICAgICAgICAgIC8vIG9ubHkgY29uc2lkZXIgcmVuZGVyYWJsZSB0aWxlcyBvbiBoaWdoZXIgem9vbSBsZXZlbHMgKHVwIHRvIG1heENvdmVyaW5nWm9vbSlcbiAgICAgICAgICAgIGlmIChyZXRhaW5baWRdIHx8ICF0aWxlLmhhc0RhdGEoKSB8fCB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWiA8PSB0aWxlSUQub3ZlcnNjYWxlZFogfHwgdGlsZS50aWxlSUQub3ZlcnNjYWxlZFogPiBtYXhDb3ZlcmluZ1pvb20pIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBkaXNyZWdhcmQgdGlsZXMgdGhhdCBhcmUgbm90IGRlc2NlbmRhbnRzIG9mIHRoZSBnaXZlbiB0aWxlIGNvb3JkaW5hdGVcbiAgICAgICAgICAgIGNvbnN0IHoyID0gTWF0aC5wb3coMiwgdGlsZS50aWxlSUQuY2Fub25pY2FsLnogLSB0aWxlSUQuY2Fub25pY2FsLnopO1xuICAgICAgICAgICAgaWYgKE1hdGguZmxvb3IodGlsZS50aWxlSUQuY2Fub25pY2FsLnggLyB6MikgIT09IHRpbGVJRC5jYW5vbmljYWwueCB8fFxuICAgICAgICAgICAgICAgIE1hdGguZmxvb3IodGlsZS50aWxlSUQuY2Fub25pY2FsLnkgLyB6MikgIT09IHRpbGVJRC5jYW5vbmljYWwueSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gZm91bmQgbG9hZGVkIGNoaWxkXG4gICAgICAgICAgICByZXRhaW5baWRdID0gdGlsZS50aWxlSUQ7XG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBwYXJlbnRzOyByZXRhaW4gdGhlIHRvcG1vc3QgbG9hZGVkIG9uZSBpZiBmb3VuZFxuICAgICAgICAgICAgd2hpbGUgKHRpbGUgJiYgdGlsZS50aWxlSUQub3ZlcnNjYWxlZFogLSAxID4gdGlsZUlELm92ZXJzY2FsZWRaKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGlsZS50aWxlSUQuc2NhbGVkVG8odGlsZS50aWxlSUQub3ZlcnNjYWxlZFogLSAxKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudCkgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICB0aWxlID0gdGhpcy5fdGlsZXNbcGFyZW50LmtleV07XG4gICAgICAgICAgICAgICAgaWYgKHRpbGUgJiYgdGlsZS5oYXNEYXRhKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJldGFpbltpZF07XG4gICAgICAgICAgICAgICAgICAgIHJldGFpbltwYXJlbnQua2V5XSA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgYSBsb2FkZWQgcGFyZW50IG9mIHRoZSBnaXZlbiB0aWxlICh1cCB0byBtaW5Db3ZlcmluZ1pvb20pO1xuICAgICAqIGFkZHMgdGhlIGZvdW5kIHRpbGUgdG8gcmV0YWluIG9iamVjdCBhbmQgcmV0dXJucyB0aGUgdGlsZSBpZiBmb3VuZFxuICAgICAqL1xuICAgIGZpbmRMb2FkZWRQYXJlbnQodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCBtaW5Db3ZlcmluZ1pvb206IG51bWJlciwgcmV0YWluOiB7W2FueV06IE92ZXJzY2FsZWRUaWxlSUR9KTogP1RpbGUge1xuICAgICAgICBmb3IgKGxldCB6ID0gdGlsZUlELm92ZXJzY2FsZWRaIC0gMTsgeiA+PSBtaW5Db3ZlcmluZ1pvb207IHotLSkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGlsZUlELnNjYWxlZFRvKHopO1xuICAgICAgICAgICAgaWYgKCFwYXJlbnQpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gU3RyaW5nKHBhcmVudC5rZXkpO1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX3RpbGVzW2lkXTtcbiAgICAgICAgICAgIGlmICh0aWxlICYmIHRpbGUuaGFzRGF0YSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0YWluW2lkXSA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZS5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0YWluW2lkXSA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGUuZ2V0KGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIHRpbGUgY2FjaGUgYmFzZWQgb24gdGhlIGN1cnJlbnQgdmlld3BvcnQncyBzaXplXG4gICAgICogb3IgdGhlIG1heFRpbGVDYWNoZVNpemUgb3B0aW9uIHBhc3NlZCBkdXJpbmcgbWFwIGNyZWF0aW9uXG4gICAgICpcbiAgICAgKiBMYXJnZXIgdmlld3BvcnRzIHVzZSBtb3JlIHRpbGVzIGFuZCBuZWVkIGxhcmdlciBjYWNoZXMuIExhcmdlciB2aWV3cG9ydHNcbiAgICAgKiBhcmUgbW9yZSBsaWtlbHkgdG8gYmUgZm91bmQgb24gZGV2aWNlcyB3aXRoIG1vcmUgbWVtb3J5IGFuZCBvbiBwYWdlcyB3aGVyZVxuICAgICAqIHRoZSBtYXAgaXMgbW9yZSBpbXBvcnRhbnQuXG4gICAgICovXG4gICAgdXBkYXRlQ2FjaGVTaXplKHRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XG4gICAgICAgIGNvbnN0IHdpZHRoSW5UaWxlcyA9IE1hdGguY2VpbCh0cmFuc2Zvcm0ud2lkdGggLyB0aGlzLl9zb3VyY2UudGlsZVNpemUpICsgMTtcbiAgICAgICAgY29uc3QgaGVpZ2h0SW5UaWxlcyA9IE1hdGguY2VpbCh0cmFuc2Zvcm0uaGVpZ2h0IC8gdGhpcy5fc291cmNlLnRpbGVTaXplKSArIDE7XG4gICAgICAgIGNvbnN0IGFwcHJveFRpbGVzSW5WaWV3ID0gd2lkdGhJblRpbGVzICogaGVpZ2h0SW5UaWxlcztcbiAgICAgICAgY29uc3QgY29tbW9uWm9vbVJhbmdlID0gNTtcblxuICAgICAgICBjb25zdCB2aWV3RGVwZW5kZW50TWF4U2l6ZSA9IE1hdGguZmxvb3IoYXBwcm94VGlsZXNJblZpZXcgKiBjb21tb25ab29tUmFuZ2UpO1xuICAgICAgICBjb25zdCBtYXhTaXplID0gdHlwZW9mIHRoaXMuX21heFRpbGVDYWNoZVNpemUgPT09ICdudW1iZXInID8gTWF0aC5taW4odGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSwgdmlld0RlcGVuZGVudE1heFNpemUpIDogdmlld0RlcGVuZGVudE1heFNpemU7XG5cbiAgICAgICAgdGhpcy5fY2FjaGUuc2V0TWF4U2l6ZShtYXhTaXplKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRpbGVzIHRoYXQgYXJlIG91dHNpZGUgdGhlIHZpZXdwb3J0IGFuZCBhZGRzIG5ldyB0aWxlcyB0aGF0XG4gICAgICogYXJlIGluc2lkZSB0aGUgdmlld3BvcnQuXG4gICAgICovXG4gICAgdXBkYXRlKHRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICBpZiAoIXRoaXMuX3NvdXJjZUxvYWRlZCB8fCB0aGlzLl9wYXVzZWQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVDYWNoZVNpemUodHJhbnNmb3JtKTtcbiAgICAgICAgLy8gQ292ZXJlZCBpcyBhIGxpc3Qgb2YgcmV0YWluZWQgdGlsZXMgd2hvJ3MgYXJlYXMgYXJlIGZ1bGx5IGNvdmVyZWQgYnkgb3RoZXIsXG4gICAgICAgIC8vIGJldHRlciwgcmV0YWluZWQgdGlsZXMuIFRoZXkgYXJlIG5vdCBkcmF3biBzZXBhcmF0ZWx5LlxuICAgICAgICB0aGlzLl9jb3ZlcmVkVGlsZXMgPSB7fTtcblxuICAgICAgICBsZXQgaWRlYWxUaWxlSURzO1xuICAgICAgICBpZiAoIXRoaXMudXNlZCkge1xuICAgICAgICAgICAgaWRlYWxUaWxlSURzID0gW107XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc291cmNlLnRpbGVJRCkge1xuICAgICAgICAgICAgaWRlYWxUaWxlSURzID0gdHJhbnNmb3JtLmdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcygodGhpcy5fc291cmNlLnRpbGVJRDogYW55KSlcbiAgICAgICAgICAgICAgICAubWFwKCh1bndyYXBwZWQpID0+IG5ldyBPdmVyc2NhbGVkVGlsZUlEKHVud3JhcHBlZC5jYW5vbmljYWwueiwgdW53cmFwcGVkLndyYXAsIHVud3JhcHBlZC5jYW5vbmljYWwueiwgdW53cmFwcGVkLmNhbm9uaWNhbC54LCB1bndyYXBwZWQuY2Fub25pY2FsLnkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlkZWFsVGlsZUlEcyA9IHRyYW5zZm9ybS5jb3ZlcmluZ1RpbGVzKHtcbiAgICAgICAgICAgICAgICB0aWxlU2l6ZTogdGhpcy5fc291cmNlLnRpbGVTaXplLFxuICAgICAgICAgICAgICAgIG1pbnpvb206IHRoaXMuX3NvdXJjZS5taW56b29tLFxuICAgICAgICAgICAgICAgIG1heHpvb206IHRoaXMuX3NvdXJjZS5tYXh6b29tLFxuICAgICAgICAgICAgICAgIHJvdW5kWm9vbTogdGhpcy5fc291cmNlLnJvdW5kWm9vbSxcbiAgICAgICAgICAgICAgICByZXBhcnNlT3ZlcnNjYWxlZDogdGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3NvdXJjZS5oYXNUaWxlKSB7XG4gICAgICAgICAgICAgICAgaWRlYWxUaWxlSURzID0gaWRlYWxUaWxlSURzLmZpbHRlcigoY29vcmQpID0+ICh0aGlzLl9zb3VyY2UuaGFzVGlsZTogYW55KShjb29yZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBvdmVyem9vbWluZy91bmRlcnpvb21pbmcgYW1vdW50cy5cbiAgICAgICAgY29uc3Qgem9vbSA9ICh0aGlzLl9zb3VyY2Uucm91bmRab29tID8gTWF0aC5yb3VuZCA6IE1hdGguZmxvb3IpKHRoaXMuZ2V0Wm9vbSh0cmFuc2Zvcm0pKTtcbiAgICAgICAgY29uc3QgbWluQ292ZXJpbmdab29tID0gTWF0aC5tYXgoem9vbSAtIFNvdXJjZUNhY2hlLm1heE92ZXJ6b29taW5nLCB0aGlzLl9zb3VyY2UubWluem9vbSk7XG4gICAgICAgIGNvbnN0IG1heENvdmVyaW5nWm9vbSA9IE1hdGgubWF4KHpvb20gKyBTb3VyY2VDYWNoZS5tYXhVbmRlcnpvb21pbmcsICB0aGlzLl9zb3VyY2UubWluem9vbSk7XG5cbiAgICAgICAgLy8gUmV0YWluIGlzIGEgbGlzdCBvZiB0aWxlcyB0aGF0IHdlIHNob3VsZG4ndCBkZWxldGUsIGV2ZW4gaWYgdGhleSBhcmUgbm90XG4gICAgICAgIC8vIHRoZSBtb3N0IGlkZWFsIHRpbGUgZm9yIHRoZSBjdXJyZW50IHZpZXdwb3J0LiBUaGlzIG1heSBpbmNsdWRlIHRpbGVzIGxpa2VcbiAgICAgICAgLy8gcGFyZW50IG9yIGNoaWxkIHRpbGVzIHRoYXQgYXJlICphbHJlYWR5KiBsb2FkZWQuXG4gICAgICAgIGNvbnN0IHJldGFpbiA9IHRoaXMuX3VwZGF0ZVJldGFpbmVkVGlsZXMoaWRlYWxUaWxlSURzLCB6b29tKTtcblxuICAgICAgICBjb25zdCBwYXJlbnRzRm9yRmFkaW5nID0ge307XG5cbiAgICAgICAgaWYgKGlzUmFzdGVyVHlwZSh0aGlzLl9zb3VyY2UudHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkcyA9IE9iamVjdC5rZXlzKHJldGFpbik7XG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGlkcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gaWRzW2tdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGVJRCA9IHJldGFpbltpZF07XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRpbGVJRC5rZXkgPT09ICtpZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX3RpbGVzW2lkXTtcbiAgICAgICAgICAgICAgICBpZiAoIXRpbGUpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGRyYXdSYXN0ZXJUaWxlIGhhcyBuZXZlciBzZWVuIHRoaXMgdGlsZSwgdGhlblxuICAgICAgICAgICAgICAgIC8vIHRpbGUuZmFkZUVuZFRpbWUgbWF5IGJlIHVuc2V0LiAgSW4gdGhhdCBjYXNlLCBvciBpZlxuICAgICAgICAgICAgICAgIC8vIGZhZGVFbmRUaW1lIGlzIGluIHRoZSBmdXR1cmUsIHRoZW4gdGhpcyB0aWxlIGlzIHN0aWxsXG4gICAgICAgICAgICAgICAgLy8gZmFkaW5nIGluLiBGaW5kIHRpbGVzIHRvIGNyb3NzLWZhZGUgd2l0aCBpdC5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRpbGUuZmFkZUVuZFRpbWUgPT09ICd1bmRlZmluZWQnIHx8IHRpbGUuZmFkZUVuZFRpbWUgPj0gYnJvd3Nlci5ub3coKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZmluZExvYWRlZENoaWxkcmVuKHRpbGVJRCwgbWF4Q292ZXJpbmdab29tLCByZXRhaW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXRhaW5baWRdID0gdGlsZUlEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFRpbGUgPSB0aGlzLmZpbmRMb2FkZWRQYXJlbnQodGlsZUlELCBtaW5Db3ZlcmluZ1pvb20sIHBhcmVudHNGb3JGYWRpbmcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50VGlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkVGlsZShwYXJlbnRUaWxlLnRpbGVJRCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZmFkZWRQYXJlbnQ7XG4gICAgICAgIGZvciAoZmFkZWRQYXJlbnQgaW4gcGFyZW50c0ZvckZhZGluZykge1xuICAgICAgICAgICAgaWYgKCFyZXRhaW5bZmFkZWRQYXJlbnRdKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgYSB0aWxlIGlzIG9ubHkgbmVlZGVkIGZvciBmYWRpbmcsIG1hcmsgaXQgYXMgY292ZXJlZCBzbyB0aGF0IGl0IGlzbid0IHJlbmRlcmVkIG9uIGl0J3Mgb3duLlxuICAgICAgICAgICAgICAgIHRoaXMuX2NvdmVyZWRUaWxlc1tmYWRlZFBhcmVudF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoZmFkZWRQYXJlbnQgaW4gcGFyZW50c0ZvckZhZGluZykge1xuICAgICAgICAgICAgcmV0YWluW2ZhZGVkUGFyZW50XSA9IHBhcmVudHNGb3JGYWRpbmdbZmFkZWRQYXJlbnRdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgdGlsZXMgd2UgZG9uJ3QgbmVlZCBhbnltb3JlLlxuICAgICAgICBjb25zdCByZW1vdmUgPSBrZXlzRGlmZmVyZW5jZSh0aGlzLl90aWxlcywgcmV0YWluKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW1vdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZVRpbGUocmVtb3ZlW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVSZXRhaW5lZFRpbGVzKGlkZWFsVGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4sIHpvb206IG51bWJlcik6IHsgW3N0cmluZ106IE92ZXJzY2FsZWRUaWxlSUR9IHtcbiAgICAgICAgY29uc3QgcmV0YWluID0ge307XG4gICAgICAgIGNvbnN0IGNoZWNrZWQ6IHtbbnVtYmVyXTogYm9vbGVhbiB9ID0ge307XG4gICAgICAgIGNvbnN0IG1pbkNvdmVyaW5nWm9vbSA9IE1hdGgubWF4KHpvb20gLSBTb3VyY2VDYWNoZS5tYXhPdmVyem9vbWluZywgdGhpcy5fc291cmNlLm1pbnpvb20pO1xuICAgICAgICBjb25zdCBtYXhDb3ZlcmluZ1pvb20gPSBNYXRoLm1heCh6b29tICsgU291cmNlQ2FjaGUubWF4VW5kZXJ6b29taW5nLCAgdGhpcy5fc291cmNlLm1pbnpvb20pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaWRlYWxUaWxlSURzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlSUQgPSBpZGVhbFRpbGVJRHNbaV07XG4gICAgICAgICAgICBsZXQgdGlsZSA9IHRoaXMuX2FkZFRpbGUodGlsZUlEKTtcbiAgICAgICAgICAgIGxldCBwYXJlbnRXYXNSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aWxlLmhhc0RhdGEoKSkge1xuICAgICAgICAgICAgICAgIHJldGFpblt0aWxlSUQua2V5XSA9IHRpbGVJRDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHRpbGUgd2UgcmVxdWlyZSBpcyBub3QgeWV0IGxvYWRlZCBvciBkb2VzIG5vdCBleGlzdC5cbiAgICAgICAgICAgICAgICAvLyBXZSBhcmUgbm93IGF0dGVtcHRpbmcgdG8gbG9hZCBjaGlsZCBhbmQgcGFyZW50IHRpbGVzLlxuXG4gICAgICAgICAgICAgICAgLy8gQXMgd2UgZGVzY2VuZCB1cCBhbmQgZG93biB0aGUgdGlsZSBweXJhbWlkIG9mIHRoZSBpZGVhbCB0aWxlLCB3ZSBjaGVjayB3aGV0aGVyIHRoZSBwYXJlbnRcbiAgICAgICAgICAgICAgICAvLyB0aWxlIGhhcyBiZWVuIHByZXZpb3VzbHkgcmVxdWVzdGVkIChhbmQgZXJyb3JlZCBpbiB0aGlzIGNhc2UgZHVlIHRvIHRoZSBwcmV2aW91cyBjb25kaXRpb25hbClcbiAgICAgICAgICAgICAgICAvLyBpbiBvcmRlciB0byBkZXRlcm1pbmUgaWYgd2UgbmVlZCB0byByZXF1ZXN0IGl0cyBwYXJlbnQuXG4gICAgICAgICAgICAgICAgcGFyZW50V2FzUmVxdWVzdGVkID0gdGlsZS53YXNSZXF1ZXN0ZWQoKTtcblxuICAgICAgICAgICAgICAgIC8vIFRoZSB0aWxlIGlzbid0IGxvYWRlZCB5ZXQsIGJ1dCByZXRhaW4gaXQgYW55d2F5IGJlY2F1c2UgaXQncyBhbiBpZGVhbCB0aWxlLlxuICAgICAgICAgICAgICAgIHJldGFpblt0aWxlSUQua2V5XSA9IHRpbGVJRDtcbiAgICAgICAgICAgICAgICBsZXQgY292ZXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3ZlcnNjYWxlZFogPSB6b29tICsgMTtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcnNjYWxlZFogPiB0aGlzLl9zb3VyY2UubWF4em9vbSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSdyZSBsb29raW5nIGZvciBhbiBvdmVyem9vbWVkIGNoaWxkIHRpbGUuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ29vcmQgPSB0aWxlSUQuY2hpbGRyZW4odGhpcy5fc291cmNlLm1heHpvb20pWzBdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFRpbGUgPSB0aGlzLmdldFRpbGUoY2hpbGRDb29yZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghIWNoaWxkVGlsZSAmJiBjaGlsZFRpbGUuaGFzRGF0YSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXRhaW5bY2hpbGRDb29yZC5rZXldID0gY2hpbGRDb29yZDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmRMb2FkZWRDaGlsZHJlbih0aWxlSUQsIG1heENvdmVyaW5nWm9vbSwgcmV0YWluKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYWxsIDQgaW1tZWRpYXRlIGNoaWxkcmVuIGFyZSBsb2FkZWQgKGkuZS4gdGhlIG1pc3NpbmcgaWRlYWwgdGlsZSBpcyBjb3ZlcmVkKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRpbGVJRC5jaGlsZHJlbih0aGlzLl9zb3VyY2UubWF4em9vbSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmV0YWluW2NoaWxkcmVuW2pdLmtleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNvdmVyZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBjb3VsZG4ndCBmaW5kIGNoaWxkIHRpbGVzIHRoYXQgZW50aXJlbHkgY292ZXIgdGhlIGlkZWFsIHRpbGUuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IG92ZXJzY2FsZWRaID0gdGlsZUlELm92ZXJzY2FsZWRaIC0gMTsgb3ZlcnNjYWxlZFogPj0gbWluQ292ZXJpbmdab29tOyAtLW92ZXJzY2FsZWRaKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudElkID0gdGlsZUlELnNjYWxlZFRvKG92ZXJzY2FsZWRaKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVja2VkW3BhcmVudElkLmtleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCcmVhayBwYXJlbnQgdGlsZSBhc2NlbnQsIHRoaXMgcm91dGUgaGFzIGJlZW4gcHJldmlvdXNseSBjaGVja2VkIGJ5IGFub3RoZXIgY2hpbGQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRbcGFyZW50SWQua2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbGUgPSB0aGlzLmdldFRpbGUocGFyZW50SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aWxlICYmIHBhcmVudFdhc1JlcXVlc3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGUgPSB0aGlzLl9hZGRUaWxlKHBhcmVudElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRhaW5bcGFyZW50SWQua2V5XSA9IHBhcmVudElkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgdmFsdWVzLCBzaW5jZSB0aGV5J3JlIHRoZSBwYXJlbnQgb2YgdGhlIG5leHQgaXRlcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb2YgdGhlIHBhcmVudCB0aWxlIGFzY2VudCBsb29wLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFdhc1JlcXVlc3RlZCA9IHRpbGUud2FzUmVxdWVzdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbGUuaGFzRGF0YSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXRhaW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgdGlsZSwgZ2l2ZW4gaXRzIGNvb3JkaW5hdGUsIHRvIHRoZSBweXJhbWlkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2FkZFRpbGUodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKTogVGlsZSB7XG4gICAgICAgIGxldCB0aWxlID0gdGhpcy5fdGlsZXNbdGlsZUlELmtleV07XG4gICAgICAgIGlmICh0aWxlKVxuICAgICAgICAgICAgcmV0dXJuIHRpbGU7XG5cblxuICAgICAgICB0aWxlID0gdGhpcy5fY2FjaGUuZ2V0QW5kUmVtb3ZlKCh0aWxlSUQua2V5OiBhbnkpKTtcbiAgICAgICAgaWYgKHRpbGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZVRpbWVyc1t0aWxlSUQua2V5XSkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jYWNoZVRpbWVyc1t0aWxlSUQua2V5XSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NhY2hlVGltZXJzW3RpbGVJRC5rZXldO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcih0aWxlSUQua2V5LCB0aWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IEJvb2xlYW4odGlsZSk7XG4gICAgICAgIGlmICghY2FjaGVkKSB7XG4gICAgICAgICAgICB0aWxlID0gbmV3IFRpbGUodGlsZUlELCB0aGlzLl9zb3VyY2UudGlsZVNpemUgKiB0aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCkpO1xuICAgICAgICAgICAgdGhpcy5fbG9hZFRpbGUodGlsZSwgdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsIHRpbGUsIHRpbGVJRC5rZXksIHRpbGUuc3RhdGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEltcG9zc2libGUsIGJ1dCBzaWxlbmNlIGZsb3cuXG4gICAgICAgIGlmICghdGlsZSkgcmV0dXJuIChudWxsOiBhbnkpO1xuXG4gICAgICAgIHRpbGUudXNlcysrO1xuICAgICAgICB0aGlzLl90aWxlc1t0aWxlSUQua2V5XSA9IHRpbGU7XG4gICAgICAgIGlmICghY2FjaGVkKSB0aGlzLl9zb3VyY2UuZmlyZShuZXcgRXZlbnQoJ2RhdGFsb2FkaW5nJywge3RpbGU6IHRpbGUsIGNvb3JkOiB0aWxlLnRpbGVJRCwgZGF0YVR5cGU6ICdzb3VyY2UnfSkpO1xuXG4gICAgICAgIHJldHVybiB0aWxlO1xuICAgIH1cblxuICAgIF9zZXRUaWxlUmVsb2FkVGltZXIoaWQ6IHN0cmluZyB8IG51bWJlciwgdGlsZTogVGlsZSkge1xuICAgICAgICBpZiAoaWQgaW4gdGhpcy5fdGltZXJzKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW2lkXSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fdGltZXJzW2lkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4cGlyeVRpbWVvdXQgPSB0aWxlLmdldEV4cGlyeVRpbWVvdXQoKTtcbiAgICAgICAgaWYgKGV4cGlyeVRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyc1tpZF0gPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWxvYWRUaWxlKGlkLCAnZXhwaXJlZCcpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl90aW1lcnNbaWRdO1xuICAgICAgICAgICAgfSwgZXhwaXJ5VGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0Q2FjaGVJbnZhbGlkYXRpb25UaW1lcihpZDogc3RyaW5nIHwgbnVtYmVyLCB0aWxlOiBUaWxlKSB7XG4gICAgICAgIGlmIChpZCBpbiB0aGlzLl9jYWNoZVRpbWVycykge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2NhY2hlVGltZXJzW2lkXSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FjaGVUaW1lcnNbaWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXhwaXJ5VGltZW91dCA9IHRpbGUuZ2V0RXhwaXJ5VGltZW91dCgpO1xuICAgICAgICBpZiAoZXhwaXJ5VGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVUaW1lcnNbaWRdID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGUucmVtb3ZlKChpZDogYW55KSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NhY2hlVGltZXJzW2lkXTtcbiAgICAgICAgICAgIH0sIGV4cGlyeVRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgdGlsZSwgZ2l2ZW4gaXRzIGlkLCBmcm9tIHRoZSBweXJhbWlkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVtb3ZlVGlsZShpZDogc3RyaW5nIHwgbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl90aWxlc1tpZF07XG4gICAgICAgIGlmICghdGlsZSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aWxlLnVzZXMtLTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3RpbGVzW2lkXTtcbiAgICAgICAgaWYgKHRoaXMuX3RpbWVyc1tpZF0pIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbaWRdKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl90aW1lcnNbaWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRpbGUudXNlcyA+IDApXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKHRpbGUuaGFzRGF0YSgpKSB7XG4gICAgICAgICAgICB0aWxlLnRpbGVJRCA9IHRpbGUudGlsZUlELndyYXBwZWQoKTtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRJZCA9IHRpbGUudGlsZUlELmtleTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlLmFkZCgod3JhcHBlZElkOiBhbnkpLCB0aWxlKTtcbiAgICAgICAgICAgIHRoaXMuX3NldENhY2hlSW52YWxpZGF0aW9uVGltZXIod3JhcHBlZElkLCB0aWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbGUuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9hYm9ydFRpbGUodGlsZSk7XG4gICAgICAgICAgICB0aGlzLl91bmxvYWRUaWxlKHRpbGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCB0aWxlcyBmcm9tIHRoaXMgcHlyYW1pZFxuICAgICAqL1xuICAgIGNsZWFyVGlsZXMoKSB7XG4gICAgICAgIHRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fdGlsZXMpXG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVUaWxlKGlkKTtcblxuICAgICAgICB0aGlzLl9yZXNldENhY2hlKCk7XG4gICAgfVxuXG4gICAgX3Jlc2V0Q2FjaGUoKSB7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fY2FjaGVUaW1lcnMpXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fY2FjaGVUaW1lcnNbaWRdKTtcblxuICAgICAgICB0aGlzLl9jYWNoZVRpbWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9jYWNoZS5yZXNldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlYXJjaCB0aHJvdWdoIG91ciBjdXJyZW50IHRpbGVzIGFuZCBhdHRlbXB0IHRvIGZpbmQgdGhlIHRpbGVzIHRoYXRcbiAgICAgKiBjb3ZlciB0aGUgZ2l2ZW4gYm91bmRzLlxuICAgICAqIEBwYXJhbSBxdWVyeUdlb21ldHJ5IGNvb3JkaW5hdGVzIG9mIHRoZSBjb3JuZXJzIG9mIGJvdW5kaW5nIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fSByZXN1bHQgaXRlbXMgaGF2ZSB7dGlsZSwgbWluWCwgbWF4WCwgbWluWSwgbWF4WX0sIHdoZXJlIG1pbi9tYXggYm91bmRpbmcgdmFsdWVzIGFyZSB0aGUgZ2l2ZW4gYm91bmRzIHRyYW5zZm9ybWVkIGluIGludG8gdGhlIGNvb3JkaW5hdGUgc3BhY2Ugb2YgdGhpcyB0aWxlLlxuICAgICAqL1xuICAgIHRpbGVzSW4ocXVlcnlHZW9tZXRyeTogQXJyYXk8Q29vcmRpbmF0ZT4sIG1heFBpdGNoU2NhbGVGYWN0b3I6IG51bWJlcikge1xuICAgICAgICBjb25zdCB0aWxlUmVzdWx0cyA9IFtdO1xuICAgICAgICBjb25zdCBpZHMgPSB0aGlzLmdldElkcygpO1xuXG4gICAgICAgIGxldCBtaW5YID0gSW5maW5pdHk7XG4gICAgICAgIGxldCBtaW5ZID0gSW5maW5pdHk7XG4gICAgICAgIGxldCBtYXhYID0gLUluZmluaXR5O1xuICAgICAgICBsZXQgbWF4WSA9IC1JbmZpbml0eTtcbiAgICAgICAgY29uc3QgeiA9IHF1ZXJ5R2VvbWV0cnlbMF0uem9vbTtcblxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHF1ZXJ5R2VvbWV0cnkubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBxdWVyeUdlb21ldHJ5W2tdO1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIHAuY29sdW1uKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBwLnJvdyk7XG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgcC5jb2x1bW4pO1xuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIHAucm93KTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl90aWxlc1tpZHNbaV1dO1xuICAgICAgICAgICAgY29uc3QgdGlsZUlEID0gdGlsZS50aWxlSUQ7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgucG93KDIsIHRoaXMudHJhbnNmb3JtLnpvb20gLSB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWik7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhZGRpbmcgPSBtYXhQaXRjaFNjYWxlRmFjdG9yICogdGlsZS5xdWVyeVBhZGRpbmcgKiBFWFRFTlQgLyB0aWxlLnRpbGVTaXplIC8gc2NhbGU7XG5cbiAgICAgICAgICAgIGNvbnN0IHRpbGVTcGFjZUJvdW5kcyA9IFtcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlVG9UaWxlUG9pbnQodGlsZUlELCBuZXcgQ29vcmRpbmF0ZShtaW5YLCBtaW5ZLCB6KSksXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZVRvVGlsZVBvaW50KHRpbGVJRCwgbmV3IENvb3JkaW5hdGUobWF4WCwgbWF4WSwgeikpXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBpZiAodGlsZVNwYWNlQm91bmRzWzBdLnggLSBxdWVyeVBhZGRpbmcgPCBFWFRFTlQgJiYgdGlsZVNwYWNlQm91bmRzWzBdLnkgLSBxdWVyeVBhZGRpbmcgPCBFWFRFTlQgJiZcbiAgICAgICAgICAgICAgICB0aWxlU3BhY2VCb3VuZHNbMV0ueCArIHF1ZXJ5UGFkZGluZyA+PSAwICYmIHRpbGVTcGFjZUJvdW5kc1sxXS55ICsgcXVlcnlQYWRkaW5nID49IDApIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGVTcGFjZVF1ZXJ5R2VvbWV0cnkgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHF1ZXJ5R2VvbWV0cnkubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZVNwYWNlUXVlcnlHZW9tZXRyeS5wdXNoKGNvb3JkaW5hdGVUb1RpbGVQb2ludCh0aWxlSUQsIHF1ZXJ5R2VvbWV0cnlbal0pKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aWxlUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZTogdGlsZSxcbiAgICAgICAgICAgICAgICAgICAgdGlsZUlEOiB0aWxlSUQsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnk6IFt0aWxlU3BhY2VRdWVyeUdlb21ldHJ5XSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGlsZVJlc3VsdHM7XG4gICAgfVxuXG4gICAgZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCkge1xuICAgICAgICBjb25zdCBjb29yZHMgPSB0aGlzLmdldFJlbmRlcmFibGVJZHMoKS5tYXAoKGlkKSA9PiB0aGlzLl90aWxlc1tpZF0udGlsZUlEKTtcbiAgICAgICAgZm9yIChjb25zdCBjb29yZCBvZiBjb29yZHMpIHtcbiAgICAgICAgICAgIGNvb3JkLnBvc01hdHJpeCA9IHRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeChjb29yZC50b1Vud3JhcHBlZCgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29vcmRzO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb3VyY2UuaGFzVHJhbnNpdGlvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1Jhc3RlclR5cGUodGhpcy5fc291cmNlLnR5cGUpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3RpbGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX3RpbGVzW2lkXTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZS5mYWRlRW5kVGltZSAhPT0gdW5kZWZpbmVkICYmIHRpbGUuZmFkZUVuZFRpbWUgPj0gYnJvd3Nlci5ub3coKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5Tb3VyY2VDYWNoZS5tYXhPdmVyem9vbWluZyA9IDEwO1xuU291cmNlQ2FjaGUubWF4VW5kZXJ6b29taW5nID0gMztcblxuLyoqXG4gKiBDb252ZXJ0IGEgY29vcmRpbmF0ZSB0byBhIHBvaW50IGluIGEgdGlsZSdzIGNvb3JkaW5hdGUgc3BhY2UuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjb29yZGluYXRlVG9UaWxlUG9pbnQodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCBjb29yZDogQ29vcmRpbmF0ZSk6IFBvaW50IHtcbiAgICBjb25zdCB6b29tZWRDb29yZCA9IGNvb3JkLnpvb21Ubyh0aWxlSUQuY2Fub25pY2FsLnopO1xuICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgICh6b29tZWRDb29yZC5jb2x1bW4gLSAodGlsZUlELmNhbm9uaWNhbC54ICsgdGlsZUlELndyYXAgKiBNYXRoLnBvdygyLCB0aWxlSUQuY2Fub25pY2FsLnopKSkgKiBFWFRFTlQsXG4gICAgICAgICh6b29tZWRDb29yZC5yb3cgLSB0aWxlSUQuY2Fub25pY2FsLnkpICogRVhURU5UXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNSYXN0ZXJUeXBlKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ3Jhc3RlcicgfHwgdHlwZSA9PT0gJ2ltYWdlJyB8fCB0eXBlID09PSAndmlkZW8nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTb3VyY2VDYWNoZTtcblxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgV2ViV29ya2VyIGZyb20gJy4vd2ViX3dvcmtlcic7XG5cbmltcG9ydCB0eXBlIHtXb3JrZXJJbnRlcmZhY2V9IGZyb20gJy4vd2ViX3dvcmtlcic7XG5pbXBvcnQgbWFwYm94Z2wgZnJvbSAnLi4vJztcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgd29ya2VyIHBvb2wuXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBXb3JrZXJQb29sIHtcbiAgICBhY3RpdmU6IHtbbnVtYmVyXTogYm9vbGVhbn07XG4gICAgd29ya2VyczogQXJyYXk8V29ya2VySW50ZXJmYWNlPjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHt9O1xuICAgIH1cblxuICAgIGFjcXVpcmUobWFwSWQ6IG51bWJlcikge1xuICAgICAgICBpZiAoIXRoaXMud29ya2Vycykge1xuICAgICAgICAgICAgLy8gTGF6aWx5IGxvb2sgdXAgdGhlIHZhbHVlIG9mIG1hcGJveGdsLndvcmtlckNvdW50IHNvIHRoYXRcbiAgICAgICAgICAgIC8vIGNsaWVudCBjb2RlIGhhcyBoYWQgYSBjaGFuY2UgdG8gc2V0IGl0LlxuICAgICAgICAgICAgY29uc3Qgd29ya2VyQ291bnQgPSBtYXBib3hnbC53b3JrZXJDb3VudDtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2Ygd29ya2VyQ291bnQgPT09ICdudW1iZXInICYmIHdvcmtlckNvdW50IDwgSW5maW5pdHkpO1xuXG4gICAgICAgICAgICB0aGlzLndvcmtlcnMgPSBbXTtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLndvcmtlcnMubGVuZ3RoIDwgd29ya2VyQ291bnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmtlcnMucHVzaChuZXcgV2ViV29ya2VyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmVbbWFwSWRdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMud29ya2Vycy5zbGljZSgpO1xuICAgIH1cblxuICAgIHJlbGVhc2UobWFwSWQ6IG51bWJlcikge1xuICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVbbWFwSWRdO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5hY3RpdmUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy53b3JrZXJzLmZvckVhY2goKHcpID0+IHtcbiAgICAgICAgICAgICAgICB3LnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLndvcmtlcnMgPSAobnVsbDogYW55KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV29ya2VyUG9vbDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBXb3JrZXJQb29sIGZyb20gJy4vd29ya2VyX3Bvb2wnO1xuXG5sZXQgZ2xvYmFsV29ya2VyUG9vbDtcblxuLyoqXG4gKiBDcmVhdGVzIChpZiBuZWNlc3NhcnkpIGFuZCByZXR1cm5zIHRoZSBzaW5nbGUsIGdsb2JhbCBXb3JrZXJQb29sIGluc3RhbmNlXG4gKiB0byBiZSBzaGFyZWQgYWNyb3NzIGVhY2ggTWFwXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRHbG9iYWxXb3JrZXJQb29sICgpIHtcbiAgICBpZiAoIWdsb2JhbFdvcmtlclBvb2wpIHtcbiAgICAgICAgZ2xvYmFsV29ya2VyUG9vbCA9IG5ldyBXb3JrZXJQb29sKCk7XG4gICAgfVxuICAgIHJldHVybiBnbG9iYWxXb3JrZXJQb29sO1xufVxuIiwiXG5pbXBvcnQgcmVmUHJvcGVydGllcyBmcm9tICcuL3V0aWwvcmVmX3Byb3BlcnRpZXMnO1xuXG5mdW5jdGlvbiBkZXJlZihsYXllciwgcGFyZW50KSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG5cbiAgICBmb3IgKGNvbnN0IGsgaW4gbGF5ZXIpIHtcbiAgICAgICAgaWYgKGsgIT09ICdyZWYnKSB7XG4gICAgICAgICAgICByZXN1bHRba10gPSBsYXllcltrXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZlByb3BlcnRpZXMuZm9yRWFjaCgoaykgPT4ge1xuICAgICAgICBpZiAoayBpbiBwYXJlbnQpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrXSA9IHBhcmVudFtrXTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVyZWZMYXllcnM7XG5cbi8qKlxuICogR2l2ZW4gYW4gYXJyYXkgb2YgbGF5ZXJzLCBzb21lIG9mIHdoaWNoIG1heSBjb250YWluIGByZWZgIHByb3BlcnRpZXNcbiAqIHdob3NlIHZhbHVlIGlzIHRoZSBgaWRgIG9mIGFub3RoZXIgcHJvcGVydHksIHJldHVybiBhIG5ldyBhcnJheSB3aGVyZVxuICogc3VjaCBsYXllcnMgaGF2ZSBiZWVuIGF1Z21lbnRlZCB3aXRoIHRoZSAndHlwZScsICdzb3VyY2UnLCBldGMuIHByb3BlcnRpZXNcbiAqIGZyb20gdGhlIHBhcmVudCBsYXllciwgYW5kIHRoZSBgcmVmYCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLlxuICpcbiAqIFRoZSBpbnB1dCBpcyBub3QgbW9kaWZpZWQuIFRoZSBvdXRwdXQgbWF5IGNvbnRhaW4gcmVmZXJlbmNlcyB0byBwb3J0aW9uc1xuICogb2YgdGhlIGlucHV0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PExheWVyPn0gbGF5ZXJzXG4gKiBAcmV0dXJucyB7QXJyYXk8TGF5ZXI+fVxuICovXG5mdW5jdGlvbiBkZXJlZkxheWVycyhsYXllcnMpIHtcbiAgICBsYXllcnMgPSBsYXllcnMuc2xpY2UoKTtcblxuICAgIGNvbnN0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbWFwW2xheWVyc1tpXS5pZF0gPSBsYXllcnNbaV07XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCdyZWYnIGluIGxheWVyc1tpXSkge1xuICAgICAgICAgICAgbGF5ZXJzW2ldID0gZGVyZWYobGF5ZXJzW2ldLCBtYXBbbGF5ZXJzW2ldLnJlZl0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxheWVycztcbn1cbiIsIlxuaW1wb3J0IGlzRXF1YWwgZnJvbSAnLi91dGlsL2RlZXBfZXF1YWwnO1xuXG5jb25zdCBvcGVyYXRpb25zID0ge1xuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRTdHlsZScsIGFyZ3M6IFtzdHlsZXNoZWV0XSB9XG4gICAgICovXG4gICAgc2V0U3R5bGU6ICdzZXRTdHlsZScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ2FkZExheWVyJywgYXJnczogW2xheWVyLCAnYmVmb3JlTGF5ZXJJZCddIH1cbiAgICAgKi9cbiAgICBhZGRMYXllcjogJ2FkZExheWVyJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAncmVtb3ZlTGF5ZXInLCBhcmdzOiBbJ2xheWVySWQnXSB9XG4gICAgICovXG4gICAgcmVtb3ZlTGF5ZXI6ICdyZW1vdmVMYXllcicsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldFBhaW50UHJvcGVydHknLCBhcmdzOiBbJ2xheWVySWQnLCAncHJvcCcsIHZhbHVlXSB9XG4gICAgICovXG4gICAgc2V0UGFpbnRQcm9wZXJ0eTogJ3NldFBhaW50UHJvcGVydHknLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRMYXlvdXRQcm9wZXJ0eScsIGFyZ3M6IFsnbGF5ZXJJZCcsICdwcm9wJywgdmFsdWVdIH1cbiAgICAgKi9cbiAgICBzZXRMYXlvdXRQcm9wZXJ0eTogJ3NldExheW91dFByb3BlcnR5JyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0RmlsdGVyJywgYXJnczogWydsYXllcklkJywgZmlsdGVyXSB9XG4gICAgICovXG4gICAgc2V0RmlsdGVyOiAnc2V0RmlsdGVyJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnYWRkU291cmNlJywgYXJnczogWydzb3VyY2VJZCcsIHNvdXJjZV0gfVxuICAgICAqL1xuICAgIGFkZFNvdXJjZTogJ2FkZFNvdXJjZScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3JlbW92ZVNvdXJjZScsIGFyZ3M6IFsnc291cmNlSWQnXSB9XG4gICAgICovXG4gICAgcmVtb3ZlU291cmNlOiAncmVtb3ZlU291cmNlJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0R2VvSlNPTlNvdXJjZURhdGEnLCBhcmdzOiBbJ3NvdXJjZUlkJywgZGF0YV0gfVxuICAgICAqL1xuICAgIHNldEdlb0pTT05Tb3VyY2VEYXRhOiAnc2V0R2VvSlNPTlNvdXJjZURhdGEnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRMYXllclpvb21SYW5nZScsIGFyZ3M6IFsnbGF5ZXJJZCcsIDAsIDIyXSB9XG4gICAgICovXG4gICAgc2V0TGF5ZXJab29tUmFuZ2U6ICdzZXRMYXllclpvb21SYW5nZScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldExheWVyUHJvcGVydHknLCBhcmdzOiBbJ2xheWVySWQnLCAncHJvcCcsIHZhbHVlXSB9XG4gICAgICovXG4gICAgc2V0TGF5ZXJQcm9wZXJ0eTogJ3NldExheWVyUHJvcGVydHknLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRDZW50ZXInLCBhcmdzOiBbW2xvbiwgbGF0XV0gfVxuICAgICAqL1xuICAgIHNldENlbnRlcjogJ3NldENlbnRlcicsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldFpvb20nLCBhcmdzOiBbem9vbV0gfVxuICAgICAqL1xuICAgIHNldFpvb206ICdzZXRab29tJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0QmVhcmluZycsIGFyZ3M6IFtiZWFyaW5nXSB9XG4gICAgICovXG4gICAgc2V0QmVhcmluZzogJ3NldEJlYXJpbmcnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRQaXRjaCcsIGFyZ3M6IFtwaXRjaF0gfVxuICAgICAqL1xuICAgIHNldFBpdGNoOiAnc2V0UGl0Y2gnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRTcHJpdGUnLCBhcmdzOiBbJ3Nwcml0ZVVybCddIH1cbiAgICAgKi9cbiAgICBzZXRTcHJpdGU6ICdzZXRTcHJpdGUnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRHbHlwaHMnLCBhcmdzOiBbJ2dseXBoc1VybCddIH1cbiAgICAgKi9cbiAgICBzZXRHbHlwaHM6ICdzZXRHbHlwaHMnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRUcmFuc2l0aW9uJywgYXJnczogW3RyYW5zaXRpb25dIH1cbiAgICAgKi9cbiAgICBzZXRUcmFuc2l0aW9uOiAnc2V0VHJhbnNpdGlvbicsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldExpZ2h0aW5nJywgYXJnczogW2xpZ2h0UHJvcGVydGllc10gfVxuICAgICAqL1xuICAgIHNldExpZ2h0OiAnc2V0TGlnaHQnXG5cbn07XG5cbmZ1bmN0aW9uIGFkZFNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzKSB7XG4gICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuYWRkU291cmNlLCBhcmdzOiBbc291cmNlSWQsIGFmdGVyW3NvdXJjZUlkXV0gfSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVNvdXJjZShzb3VyY2VJZCwgY29tbWFuZHMsIHNvdXJjZXNSZW1vdmVkKSB7XG4gICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMucmVtb3ZlU291cmNlLCBhcmdzOiBbc291cmNlSWRdIH0pO1xuICAgIHNvdXJjZXNSZW1vdmVkW3NvdXJjZUlkXSA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCkge1xuICAgIHJlbW92ZVNvdXJjZShzb3VyY2VJZCwgY29tbWFuZHMsIHNvdXJjZXNSZW1vdmVkKTtcbiAgICBhZGRTb3VyY2Uoc291cmNlSWQsIGFmdGVyLCBjb21tYW5kcyk7XG59XG5cbmZ1bmN0aW9uIGNhblVwZGF0ZUdlb0pTT04oYmVmb3JlLCBhZnRlciwgc291cmNlSWQpIHtcbiAgICBsZXQgcHJvcDtcbiAgICBmb3IgKHByb3AgaW4gYmVmb3JlW3NvdXJjZUlkXSkge1xuICAgICAgICBpZiAoIWJlZm9yZVtzb3VyY2VJZF0uaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAocHJvcCAhPT0gJ2RhdGEnICYmICFpc0VxdWFsKGJlZm9yZVtzb3VyY2VJZF1bcHJvcF0sIGFmdGVyW3NvdXJjZUlkXVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHByb3AgaW4gYWZ0ZXJbc291cmNlSWRdKSB7XG4gICAgICAgIGlmICghYWZ0ZXJbc291cmNlSWRdLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgaWYgKHByb3AgIT09ICdkYXRhJyAmJiAhaXNFcXVhbChiZWZvcmVbc291cmNlSWRdW3Byb3BdLCBhZnRlcltzb3VyY2VJZF1bcHJvcF0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGRpZmZTb3VyY2VzKGJlZm9yZSwgYWZ0ZXIsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCkge1xuICAgIGJlZm9yZSA9IGJlZm9yZSB8fCB7fTtcbiAgICBhZnRlciA9IGFmdGVyIHx8IHt9O1xuXG4gICAgbGV0IHNvdXJjZUlkO1xuXG4gICAgLy8gbG9vayBmb3Igc291cmNlcyB0byByZW1vdmVcbiAgICBmb3IgKHNvdXJjZUlkIGluIGJlZm9yZSkge1xuICAgICAgICBpZiAoIWJlZm9yZS5oYXNPd25Qcm9wZXJ0eShzb3VyY2VJZCkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWFmdGVyLmhhc093blByb3BlcnR5KHNvdXJjZUlkKSkge1xuICAgICAgICAgICAgcmVtb3ZlU291cmNlKHNvdXJjZUlkLCBjb21tYW5kcywgc291cmNlc1JlbW92ZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3Igc291cmNlcyB0byBhZGQvdXBkYXRlXG4gICAgZm9yIChzb3VyY2VJZCBpbiBhZnRlcikge1xuICAgICAgICBpZiAoIWFmdGVyLmhhc093blByb3BlcnR5KHNvdXJjZUlkKSkgY29udGludWU7XG4gICAgICAgIGlmICghYmVmb3JlLmhhc093blByb3BlcnR5KHNvdXJjZUlkKSkge1xuICAgICAgICAgICAgYWRkU291cmNlKHNvdXJjZUlkLCBhZnRlciwgY29tbWFuZHMpO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc0VxdWFsKGJlZm9yZVtzb3VyY2VJZF0sIGFmdGVyW3NvdXJjZUlkXSkpIHtcbiAgICAgICAgICAgIGlmIChiZWZvcmVbc291cmNlSWRdLnR5cGUgPT09ICdnZW9qc29uJyAmJiBhZnRlcltzb3VyY2VJZF0udHlwZSA9PT0gJ2dlb2pzb24nICYmIGNhblVwZGF0ZUdlb0pTT04oYmVmb3JlLCBhZnRlciwgc291cmNlSWQpKSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0R2VvSlNPTlNvdXJjZURhdGEsIGFyZ3M6IFtzb3VyY2VJZCwgYWZ0ZXJbc291cmNlSWRdLmRhdGFdIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBubyB1cGRhdGUgY29tbWFuZCwgbXVzdCByZW1vdmUgdGhlbiBhZGRcbiAgICAgICAgICAgICAgICB1cGRhdGVTb3VyY2Uoc291cmNlSWQsIGFmdGVyLCBjb21tYW5kcywgc291cmNlc1JlbW92ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMoYmVmb3JlLCBhZnRlciwgY29tbWFuZHMsIGxheWVySWQsIGtsYXNzLCBjb21tYW5kKSB7XG4gICAgYmVmb3JlID0gYmVmb3JlIHx8IHt9O1xuICAgIGFmdGVyID0gYWZ0ZXIgfHwge307XG5cbiAgICBsZXQgcHJvcDtcblxuICAgIGZvciAocHJvcCBpbiBiZWZvcmUpIHtcbiAgICAgICAgaWYgKCFiZWZvcmUuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlW3Byb3BdLCBhZnRlcltwcm9wXSkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBjb21tYW5kLCBhcmdzOiBbbGF5ZXJJZCwgcHJvcCwgYWZ0ZXJbcHJvcF0sIGtsYXNzXSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHByb3AgaW4gYWZ0ZXIpIHtcbiAgICAgICAgaWYgKCFhZnRlci5oYXNPd25Qcm9wZXJ0eShwcm9wKSB8fCBiZWZvcmUuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlW3Byb3BdLCBhZnRlcltwcm9wXSkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBjb21tYW5kLCBhcmdzOiBbbGF5ZXJJZCwgcHJvcCwgYWZ0ZXJbcHJvcF0sIGtsYXNzXSB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcGx1Y2tJZChsYXllcikge1xuICAgIHJldHVybiBsYXllci5pZDtcbn1cbmZ1bmN0aW9uIGluZGV4QnlJZChncm91cCwgbGF5ZXIpIHtcbiAgICBncm91cFtsYXllci5pZF0gPSBsYXllcjtcbiAgICByZXR1cm4gZ3JvdXA7XG59XG5cbmZ1bmN0aW9uIGRpZmZMYXllcnMoYmVmb3JlLCBhZnRlciwgY29tbWFuZHMpIHtcbiAgICBiZWZvcmUgPSBiZWZvcmUgfHwgW107XG4gICAgYWZ0ZXIgPSBhZnRlciB8fCBbXTtcblxuICAgIC8vIG9yZGVyIG9mIGxheWVycyBieSBpZFxuICAgIGNvbnN0IGJlZm9yZU9yZGVyID0gYmVmb3JlLm1hcChwbHVja0lkKTtcbiAgICBjb25zdCBhZnRlck9yZGVyID0gYWZ0ZXIubWFwKHBsdWNrSWQpO1xuXG4gICAgLy8gaW5kZXggb2YgbGF5ZXIgYnkgaWRcbiAgICBjb25zdCBiZWZvcmVJbmRleCA9IGJlZm9yZS5yZWR1Y2UoaW5kZXhCeUlkLCB7fSk7XG4gICAgY29uc3QgYWZ0ZXJJbmRleCA9IGFmdGVyLnJlZHVjZShpbmRleEJ5SWQsIHt9KTtcblxuICAgIC8vIHRyYWNrIG9yZGVyIG9mIGxheWVycyBhcyBpZiB0aGV5IGhhdmUgYmVlbiBtdXRhdGVkXG4gICAgY29uc3QgdHJhY2tlciA9IGJlZm9yZU9yZGVyLnNsaWNlKCk7XG5cbiAgICAvLyBsYXllcnMgdGhhdCBoYXZlIGJlZW4gYWRkZWQgZG8gbm90IG5lZWQgdG8gYmUgZGlmZmVkXG4gICAgY29uc3QgY2xlYW4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgbGV0IGksIGQsIGxheWVySWQsIGJlZm9yZUxheWVyLCBhZnRlckxheWVyLCBpbnNlcnRCZWZvcmVMYXllcklkLCBwcm9wO1xuXG4gICAgLy8gcmVtb3ZlIGxheWVyc1xuICAgIGZvciAoaSA9IDAsIGQgPSAwOyBpIDwgYmVmb3JlT3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGF5ZXJJZCA9IGJlZm9yZU9yZGVyW2ldO1xuICAgICAgICBpZiAoIWFmdGVySW5kZXguaGFzT3duUHJvcGVydHkobGF5ZXJJZCkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnJlbW92ZUxheWVyLCBhcmdzOiBbbGF5ZXJJZF0gfSk7XG4gICAgICAgICAgICB0cmFja2VyLnNwbGljZSh0cmFja2VyLmluZGV4T2YobGF5ZXJJZCwgZCksIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbGltaXQgd2hlcmUgaW4gdHJhY2tlciB3ZSBuZWVkIHRvIGxvb2sgZm9yIGEgbWF0Y2hcbiAgICAgICAgICAgIGQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFkZC9yZW9yZGVyIGxheWVyc1xuICAgIGZvciAoaSA9IDAsIGQgPSAwOyBpIDwgYWZ0ZXJPcmRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyB3b3JrIGJhY2t3YXJkcyBhcyBpbnNlcnQgaXMgYmVmb3JlIGFuIGV4aXN0aW5nIGxheWVyXG4gICAgICAgIGxheWVySWQgPSBhZnRlck9yZGVyW2FmdGVyT3JkZXIubGVuZ3RoIC0gMSAtIGldO1xuXG4gICAgICAgIGlmICh0cmFja2VyW3RyYWNrZXIubGVuZ3RoIC0gMSAtIGldID09PSBsYXllcklkKSBjb250aW51ZTtcblxuICAgICAgICBpZiAoYmVmb3JlSW5kZXguaGFzT3duUHJvcGVydHkobGF5ZXJJZCkpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbGF5ZXIgYmVmb3JlIHdlIGluc2VydCBhdCB0aGUgY29ycmVjdCBwb3NpdGlvblxuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMucmVtb3ZlTGF5ZXIsIGFyZ3M6IFtsYXllcklkXSB9KTtcbiAgICAgICAgICAgIHRyYWNrZXIuc3BsaWNlKHRyYWNrZXIubGFzdEluZGV4T2YobGF5ZXJJZCwgdHJhY2tlci5sZW5ndGggLSBkKSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBsaW1pdCB3aGVyZSBpbiB0cmFja2VyIHdlIG5lZWQgdG8gbG9vayBmb3IgYSBtYXRjaFxuICAgICAgICAgICAgZCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGxheWVyIGF0IGNvcnJlY3QgcG9zaXRpb25cbiAgICAgICAgaW5zZXJ0QmVmb3JlTGF5ZXJJZCA9IHRyYWNrZXJbdHJhY2tlci5sZW5ndGggLSBpXTtcbiAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuYWRkTGF5ZXIsIGFyZ3M6IFthZnRlckluZGV4W2xheWVySWRdLCBpbnNlcnRCZWZvcmVMYXllcklkXSB9KTtcbiAgICAgICAgdHJhY2tlci5zcGxpY2UodHJhY2tlci5sZW5ndGggLSBpLCAwLCBsYXllcklkKTtcbiAgICAgICAgY2xlYW5bbGF5ZXJJZF0gPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBsYXllcnNcbiAgICBmb3IgKGkgPSAwOyBpIDwgYWZ0ZXJPcmRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBsYXllcklkID0gYWZ0ZXJPcmRlcltpXTtcbiAgICAgICAgYmVmb3JlTGF5ZXIgPSBiZWZvcmVJbmRleFtsYXllcklkXTtcbiAgICAgICAgYWZ0ZXJMYXllciA9IGFmdGVySW5kZXhbbGF5ZXJJZF07XG5cbiAgICAgICAgLy8gbm8gbmVlZCB0byB1cGRhdGUgaWYgcHJldmlvdXNseSBhZGRlZCAobmV3IG9yIG1vdmVkKVxuICAgICAgICBpZiAoY2xlYW5bbGF5ZXJJZF0gfHwgaXNFcXVhbChiZWZvcmVMYXllciwgYWZ0ZXJMYXllcikpIGNvbnRpbnVlO1xuXG4gICAgICAgIC8vIElmIHNvdXJjZSwgc291cmNlLWxheWVyLCBvciB0eXBlIGhhdmUgY2hhbmdlcywgdGhlbiByZW1vdmUgdGhlIGxheWVyXG4gICAgICAgIC8vIGFuZCBhZGQgaXQgYmFjayAnZnJvbSBzY3JhdGNoJy5cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZUxheWVyLnNvdXJjZSwgYWZ0ZXJMYXllci5zb3VyY2UpIHx8ICFpc0VxdWFsKGJlZm9yZUxheWVyWydzb3VyY2UtbGF5ZXInXSwgYWZ0ZXJMYXllclsnc291cmNlLWxheWVyJ10pIHx8ICFpc0VxdWFsKGJlZm9yZUxheWVyLnR5cGUsIGFmdGVyTGF5ZXIudHlwZSkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnJlbW92ZUxheWVyLCBhcmdzOiBbbGF5ZXJJZF0gfSk7XG4gICAgICAgICAgICAvLyB3ZSBhZGQgdGhlIGxheWVyIGJhY2sgYXQgdGhlIHNhbWUgcG9zaXRpb24gaXQgd2FzIGFscmVhZHkgaW4sIHNvXG4gICAgICAgICAgICAvLyB0aGVyZSdzIG5vIG5lZWQgdG8gdXBkYXRlIHRoZSBgdHJhY2tlcmBcbiAgICAgICAgICAgIGluc2VydEJlZm9yZUxheWVySWQgPSB0cmFja2VyW3RyYWNrZXIubGFzdEluZGV4T2YobGF5ZXJJZCkgKyAxXTtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLmFkZExheWVyLCBhcmdzOiBbYWZ0ZXJMYXllciwgaW5zZXJ0QmVmb3JlTGF5ZXJJZF0gfSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxheW91dCwgcGFpbnQsIGZpbHRlciwgbWluem9vbSwgbWF4em9vbVxuICAgICAgICBkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMoYmVmb3JlTGF5ZXIubGF5b3V0LCBhZnRlckxheWVyLmxheW91dCwgY29tbWFuZHMsIGxheWVySWQsIG51bGwsIG9wZXJhdGlvbnMuc2V0TGF5b3V0UHJvcGVydHkpO1xuICAgICAgICBkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMoYmVmb3JlTGF5ZXIucGFpbnQsIGFmdGVyTGF5ZXIucGFpbnQsIGNvbW1hbmRzLCBsYXllcklkLCBudWxsLCBvcGVyYXRpb25zLnNldFBhaW50UHJvcGVydHkpO1xuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlTGF5ZXIuZmlsdGVyLCBhZnRlckxheWVyLmZpbHRlcikpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldEZpbHRlciwgYXJnczogW2xheWVySWQsIGFmdGVyTGF5ZXIuZmlsdGVyXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlTGF5ZXIubWluem9vbSwgYWZ0ZXJMYXllci5taW56b29tKSB8fCAhaXNFcXVhbChiZWZvcmVMYXllci5tYXh6b29tLCBhZnRlckxheWVyLm1heHpvb20pKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRMYXllclpvb21SYW5nZSwgYXJnczogW2xheWVySWQsIGFmdGVyTGF5ZXIubWluem9vbSwgYWZ0ZXJMYXllci5tYXh6b29tXSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSBhbGwgb3RoZXIgbGF5ZXIgcHJvcHMsIGluY2x1ZGluZyBwYWludC4qXG4gICAgICAgIGZvciAocHJvcCBpbiBiZWZvcmVMYXllcikge1xuICAgICAgICAgICAgaWYgKCFiZWZvcmVMYXllci5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2xheW91dCcgfHwgcHJvcCA9PT0gJ3BhaW50JyB8fCBwcm9wID09PSAnZmlsdGVyJyB8fFxuICAgICAgICAgICAgICAgIHByb3AgPT09ICdtZXRhZGF0YScgfHwgcHJvcCA9PT0gJ21pbnpvb20nIHx8IHByb3AgPT09ICdtYXh6b29tJykgY29udGludWU7XG4gICAgICAgICAgICBpZiAocHJvcC5pbmRleE9mKCdwYWludC4nKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRpZmZMYXllclByb3BlcnR5Q2hhbmdlcyhiZWZvcmVMYXllcltwcm9wXSwgYWZ0ZXJMYXllcltwcm9wXSwgY29tbWFuZHMsIGxheWVySWQsIHByb3Auc2xpY2UoNiksIG9wZXJhdGlvbnMuc2V0UGFpbnRQcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0VxdWFsKGJlZm9yZUxheWVyW3Byb3BdLCBhZnRlckxheWVyW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldExheWVyUHJvcGVydHksIGFyZ3M6IFtsYXllcklkLCBwcm9wLCBhZnRlckxheWVyW3Byb3BdXSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHByb3AgaW4gYWZ0ZXJMYXllcikge1xuICAgICAgICAgICAgaWYgKCFhZnRlckxheWVyLmhhc093blByb3BlcnR5KHByb3ApIHx8IGJlZm9yZUxheWVyLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnbGF5b3V0JyB8fCBwcm9wID09PSAncGFpbnQnIHx8IHByb3AgPT09ICdmaWx0ZXInIHx8XG4gICAgICAgICAgICAgICAgcHJvcCA9PT0gJ21ldGFkYXRhJyB8fCBwcm9wID09PSAnbWluem9vbScgfHwgcHJvcCA9PT0gJ21heHpvb20nKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwcm9wLmluZGV4T2YoJ3BhaW50LicpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzKGJlZm9yZUxheWVyW3Byb3BdLCBhZnRlckxheWVyW3Byb3BdLCBjb21tYW5kcywgbGF5ZXJJZCwgcHJvcC5zbGljZSg2KSwgb3BlcmF0aW9ucy5zZXRQYWludFByb3BlcnR5KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzRXF1YWwoYmVmb3JlTGF5ZXJbcHJvcF0sIGFmdGVyTGF5ZXJbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0TGF5ZXJQcm9wZXJ0eSwgYXJnczogW2xheWVySWQsIHByb3AsIGFmdGVyTGF5ZXJbcHJvcF1dIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIERpZmYgdHdvIHN0eWxlc2hlZXRcbiAqXG4gKiBDcmVhdGVzIHNlbWFudGljbHkgYXdhcmUgZGlmZnMgdGhhdCBjYW4gZWFzaWx5IGJlIGFwcGxpZWQgYXQgcnVudGltZS5cbiAqIE9wZXJhdGlvbnMgcHJvZHVjZWQgYnkgdGhlIGRpZmYgY2xvc2VseSByZXNlbWJsZSB0aGUgbWFwYm94LWdsLWpzIEFQSS4gQW55XG4gKiBlcnJvciBjcmVhdGluZyB0aGUgZGlmZiB3aWxsIGZhbGwgYmFjayB0byB0aGUgJ3NldFN0eWxlJyBvcGVyYXRpb24uXG4gKlxuICogRXhhbXBsZSBkaWZmOlxuICogW1xuICogICAgIHsgY29tbWFuZDogJ3NldENvbnN0YW50JywgYXJnczogWydAd2F0ZXInLCAnIzAwMDBGRiddIH0sXG4gKiAgICAgeyBjb21tYW5kOiAnc2V0UGFpbnRQcm9wZXJ0eScsIGFyZ3M6IFsnYmFja2dyb3VuZCcsICdiYWNrZ3JvdW5kLWNvbG9yJywgJ2JsYWNrJ10gfVxuICogXVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IFtiZWZvcmVdIHN0eWxlc2hlZXQgdG8gY29tcGFyZSBmcm9tXG4gKiBAcGFyYW0geyp9IGFmdGVyIHN0eWxlc2hlZXQgdG8gY29tcGFyZSB0b1xuICogQHJldHVybnMgQXJyYXkgbGlzdCBvZiBjaGFuZ2VzXG4gKi9cbmZ1bmN0aW9uIGRpZmZTdHlsZXMoYmVmb3JlLCBhZnRlcikge1xuICAgIGlmICghYmVmb3JlKSByZXR1cm4gW3sgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRTdHlsZSwgYXJnczogW2FmdGVyXSB9XTtcblxuICAgIGxldCBjb21tYW5kcyA9IFtdO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgLy8gSGFuZGxlIGNoYW5nZXMgdG8gdG9wLWxldmVsIHByb3BlcnRpZXNcbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS52ZXJzaW9uLCBhZnRlci52ZXJzaW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIFt7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0U3R5bGUsIGFyZ3M6IFthZnRlcl0gfV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS5jZW50ZXIsIGFmdGVyLmNlbnRlcikpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldENlbnRlciwgYXJnczogW2FmdGVyLmNlbnRlcl0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS56b29tLCBhZnRlci56b29tKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0Wm9vbSwgYXJnczogW2FmdGVyLnpvb21dIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUuYmVhcmluZywgYWZ0ZXIuYmVhcmluZykpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldEJlYXJpbmcsIGFyZ3M6IFthZnRlci5iZWFyaW5nXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLnBpdGNoLCBhZnRlci5waXRjaCkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldFBpdGNoLCBhcmdzOiBbYWZ0ZXIucGl0Y2hdIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUuc3ByaXRlLCBhZnRlci5zcHJpdGUpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRTcHJpdGUsIGFyZ3M6IFthZnRlci5zcHJpdGVdIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUuZ2x5cGhzLCBhZnRlci5nbHlwaHMpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRHbHlwaHMsIGFyZ3M6IFthZnRlci5nbHlwaHNdIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUudHJhbnNpdGlvbiwgYWZ0ZXIudHJhbnNpdGlvbikpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldFRyYW5zaXRpb24sIGFyZ3M6IFthZnRlci50cmFuc2l0aW9uXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmxpZ2h0LCBhZnRlci5saWdodCkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldExpZ2h0LCBhcmdzOiBbYWZ0ZXIubGlnaHRdIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIGNoYW5nZXMgdG8gYHNvdXJjZXNgXG4gICAgICAgIC8vIElmIGEgc291cmNlIGlzIHRvIGJlIHJlbW92ZWQsIHdlIGFsc28tLWJlZm9yZSB0aGUgcmVtb3ZlU291cmNlXG4gICAgICAgIC8vIGNvbW1hbmQtLW5lZWQgdG8gcmVtb3ZlIGFsbCB0aGUgc3R5bGUgbGF5ZXJzIHRoYXQgZGVwZW5kIG9uIGl0LlxuICAgICAgICBjb25zdCBzb3VyY2VzUmVtb3ZlZCA9IHt9O1xuXG4gICAgICAgIC8vIEZpcnN0IGNvbGxlY3QgdGhlIHthZGQscmVtb3ZlfVNvdXJjZSBjb21tYW5kc1xuICAgICAgICBjb25zdCByZW1vdmVPckFkZFNvdXJjZUNvbW1hbmRzID0gW107XG4gICAgICAgIGRpZmZTb3VyY2VzKGJlZm9yZS5zb3VyY2VzLCBhZnRlci5zb3VyY2VzLCByZW1vdmVPckFkZFNvdXJjZUNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCk7XG5cbiAgICAgICAgLy8gUHVzaCBhIHJlbW92ZUxheWVyIGNvbW1hbmQgZm9yIGVhY2ggc3R5bGUgbGF5ZXIgdGhhdCBkZXBlbmRzIG9uIGFcbiAgICAgICAgLy8gc291cmNlIHRoYXQncyBiZWluZyByZW1vdmVkLlxuICAgICAgICAvLyBBbHNvLCBleGNsdWRlIGFueSBzdWNoIGxheWVycyB0aGVtIGZyb20gdGhlIGlucHV0IHRvIGBkaWZmTGF5ZXJzYFxuICAgICAgICAvLyBiZWxvdywgc28gdGhhdCBkaWZmTGF5ZXJzIHByb2R1Y2VzIHRoZSBhcHByb3ByaWF0ZSBgYWRkTGF5ZXJzYFxuICAgICAgICAvLyBjb21tYW5kXG4gICAgICAgIGNvbnN0IGJlZm9yZUxheWVycyA9IFtdO1xuICAgICAgICBpZiAoYmVmb3JlLmxheWVycykge1xuICAgICAgICAgICAgYmVmb3JlLmxheWVycy5mb3JFYWNoKChsYXllcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzUmVtb3ZlZFtsYXllci5zb3VyY2VdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnJlbW92ZUxheWVyLCBhcmdzOiBbbGF5ZXIuaWRdIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZUxheWVycy5wdXNoKGxheWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb21tYW5kcyA9IGNvbW1hbmRzLmNvbmNhdChyZW1vdmVPckFkZFNvdXJjZUNvbW1hbmRzKTtcblxuICAgICAgICAvLyBIYW5kbGUgY2hhbmdlcyB0byBgbGF5ZXJzYFxuICAgICAgICBkaWZmTGF5ZXJzKGJlZm9yZUxheWVycywgYWZ0ZXIubGF5ZXJzLCBjb21tYW5kcyk7XG5cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGZhbGwgYmFjayB0byBzZXRTdHlsZVxuICAgICAgICBjb25zb2xlLndhcm4oJ1VuYWJsZSB0byBjb21wdXRlIHN0eWxlIGRpZmY6JywgZSk7XG4gICAgICAgIGNvbW1hbmRzID0gW3sgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRTdHlsZSwgYXJnczogW2FmdGVyXSB9XTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29tbWFuZHM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRpZmZTdHlsZXM7XG5leHBvcnQgeyBvcGVyYXRpb25zIH07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgQ29sbGlzaW9uSW5kZXggZnJvbSAnLi9jb2xsaXNpb25faW5kZXgnO1xuXG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50JztcbmltcG9ydCAqIGFzIHN5bWJvbFNpemUgZnJvbSAnLi9zeW1ib2xfc2l6ZSc7XG5pbXBvcnQgKiBhcyBwcm9qZWN0aW9uIGZyb20gJy4vcHJvamVjdGlvbic7XG5pbXBvcnQgcHJvcGVydGllcyBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9zeW1ib2xfc3R5bGVfbGF5ZXJfcHJvcGVydGllcyc7XG5jb25zdCBzeW1ib2xMYXlvdXRQcm9wZXJ0aWVzID0gcHJvcGVydGllcy5sYXlvdXQ7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzJztcblxuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUgU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0JztcbmltcG9ydCB0eXBlIG1hdDQgZnJvbSAnQG1hcGJveC9nbC1tYXRyaXgnO1xuaW1wb3J0IHR5cGUge0NvbGxpc2lvbkJveEFycmF5LCBDb2xsaXNpb25WZXJ0ZXhBcnJheX0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcyc7XG5cbmNsYXNzIE9wYWNpdHlTdGF0ZSB7XG4gICAgb3BhY2l0eTogbnVtYmVyO1xuICAgIHBsYWNlZDogYm9vbGVhbjtcbiAgICBjb25zdHJ1Y3RvcihwcmV2U3RhdGU6ID9PcGFjaXR5U3RhdGUsIGluY3JlbWVudDogbnVtYmVyLCBwbGFjZWQ6IGJvb2xlYW4sIHNraXBGYWRlOiA/Ym9vbGVhbikge1xuICAgICAgICBpZiAocHJldlN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBwcmV2U3RhdGUub3BhY2l0eSArIChwcmV2U3RhdGUucGxhY2VkID8gaW5jcmVtZW50IDogLWluY3JlbWVudCkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eSA9IChza2lwRmFkZSAmJiBwbGFjZWQpID8gMSA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGFjZWQgPSBwbGFjZWQ7XG4gICAgfVxuICAgIGlzSGlkZGVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGFjaXR5ID09PSAwICYmICF0aGlzLnBsYWNlZDtcbiAgICB9XG59XG5cbmNsYXNzIEpvaW50T3BhY2l0eVN0YXRlIHtcbiAgICB0ZXh0OiBPcGFjaXR5U3RhdGU7XG4gICAgaWNvbjogT3BhY2l0eVN0YXRlO1xuICAgIGNvbnN0cnVjdG9yKHByZXZTdGF0ZTogP0pvaW50T3BhY2l0eVN0YXRlLCBpbmNyZW1lbnQ6IG51bWJlciwgcGxhY2VkVGV4dDogYm9vbGVhbiwgcGxhY2VkSWNvbjogYm9vbGVhbiwgc2tpcEZhZGU6ID9ib29sZWFuKSB7XG4gICAgICAgIHRoaXMudGV4dCA9IG5ldyBPcGFjaXR5U3RhdGUocHJldlN0YXRlID8gcHJldlN0YXRlLnRleHQgOiBudWxsLCBpbmNyZW1lbnQsIHBsYWNlZFRleHQsIHNraXBGYWRlKTtcbiAgICAgICAgdGhpcy5pY29uID0gbmV3IE9wYWNpdHlTdGF0ZShwcmV2U3RhdGUgPyBwcmV2U3RhdGUuaWNvbiA6IG51bGwsIGluY3JlbWVudCwgcGxhY2VkSWNvbiwgc2tpcEZhZGUpO1xuICAgIH1cbiAgICBpc0hpZGRlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dC5pc0hpZGRlbigpICYmIHRoaXMuaWNvbi5pc0hpZGRlbigpO1xuICAgIH1cbn1cblxuY2xhc3MgSm9pbnRQbGFjZW1lbnQge1xuICAgIHRleHQ6IGJvb2xlYW47XG4gICAgaWNvbjogYm9vbGVhbjtcbiAgICAvLyBza2lwRmFkZSA9IG91dHNpZGUgdmlld3BvcnQsIGJ1dCB3aXRoaW4gQ29sbGlzaW9uSW5kZXg6OnZpZXdwb3J0UGFkZGluZyBweCBvZiB0aGUgZWRnZVxuICAgIC8vIEJlY2F1c2UgdGhlc2Ugc3ltYm9scyBhcmVuJ3Qgb25zY3JlZW4geWV0LCB3ZSBjYW4gc2tpcCB0aGUgXCJmYWRlIGluXCIgYW5pbWF0aW9uLFxuICAgIC8vIGFuZCBpZiBhIHN1YnNlcXVlbnQgdmlld3BvcnQgY2hhbmdlIGJyaW5ncyB0aGVtIGludG8gdmlldywgdGhleSdsbCBiZSBmdWxseVxuICAgIC8vIHZpc2libGUgcmlnaHQgYXdheS5cbiAgICBza2lwRmFkZTogYm9vbGVhbjtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0OiBib29sZWFuLCBpY29uOiBib29sZWFuLCBza2lwRmFkZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmljb24gPSBpY29uO1xuICAgICAgICB0aGlzLnNraXBGYWRlID0gc2tpcEZhZGU7XG4gICAgfVxufVxuXG5jbGFzcyBQbGFjZW1lbnQge1xuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIGNvbGxpc2lvbkluZGV4OiBDb2xsaXNpb25JbmRleDtcbiAgICBwbGFjZW1lbnRzOiB7IFtzdHJpbmcgfCBudW1iZXJdOiBKb2ludFBsYWNlbWVudCB9O1xuICAgIG9wYWNpdGllczogeyBbc3RyaW5nIHwgbnVtYmVyXTogSm9pbnRPcGFjaXR5U3RhdGUgfTtcbiAgICBjb21taXRUaW1lOiBudW1iZXI7XG4gICAgbGFzdFBsYWNlbWVudENoYW5nZVRpbWU6IG51bWJlcjtcbiAgICBzdGFsZTogYm9vbGVhbjtcbiAgICBmYWRlRHVyYXRpb246IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogVHJhbnNmb3JtLCBmYWRlRHVyYXRpb246IG51bWJlcikge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybS5jbG9uZSgpO1xuICAgICAgICB0aGlzLmNvbGxpc2lvbkluZGV4ID0gbmV3IENvbGxpc2lvbkluZGV4KHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgdGhpcy5wbGFjZW1lbnRzID0ge307XG4gICAgICAgIHRoaXMub3BhY2l0aWVzID0ge307XG4gICAgICAgIHRoaXMuc3RhbGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mYWRlRHVyYXRpb24gPSBmYWRlRHVyYXRpb247XG4gICAgfVxuXG4gICAgcGxhY2VMYXllclRpbGUoc3R5bGVMYXllcjogU3R5bGVMYXllciwgdGlsZTogVGlsZSwgc2hvd0NvbGxpc2lvbkJveGVzOiBib29sZWFuLCBzZWVuQ3Jvc3NUaWxlSURzOiB7IFtzdHJpbmcgfCBudW1iZXJdOiBib29sZWFuIH0pIHtcbiAgICAgICAgY29uc3Qgc3ltYm9sQnVja2V0ID0gKCh0aWxlLmdldEJ1Y2tldChzdHlsZUxheWVyKTogYW55KTogU3ltYm9sQnVja2V0KTtcbiAgICAgICAgaWYgKCFzeW1ib2xCdWNrZXQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBsYXlvdXQgPSBzeW1ib2xCdWNrZXQubGF5ZXJzWzBdLmxheW91dDtcblxuICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgucG93KDIsIHRoaXMudHJhbnNmb3JtLnpvb20gLSB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWik7XG4gICAgICAgIGNvbnN0IHRleHRQaXhlbFJhdGlvID0gdGlsZS50aWxlU2l6ZSAvIEVYVEVOVDtcblxuICAgICAgICBjb25zdCBwb3NNYXRyaXggPSB0aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgodGlsZS50aWxlSUQudG9VbndyYXBwZWQoKSk7XG5cbiAgICAgICAgY29uc3QgdGV4dExhYmVsUGxhbmVNYXRyaXggPSBwcm9qZWN0aW9uLmdldExhYmVsUGxhbmVNYXRyaXgocG9zTWF0cml4LFxuICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ3RleHQtcGl0Y2gtYWxpZ25tZW50JykgPT09ICdtYXAnLFxuICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ3RleHQtcm90YXRpb24tYWxpZ25tZW50JykgPT09ICdtYXAnLFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIDEsIHRoaXMudHJhbnNmb3JtLnpvb20pKTtcblxuICAgICAgICBjb25zdCBpY29uTGFiZWxQbGFuZU1hdHJpeCA9IHByb2plY3Rpb24uZ2V0TGFiZWxQbGFuZU1hdHJpeChwb3NNYXRyaXgsXG4gICAgICAgICAgICAgICAgbGF5b3V0LmdldCgnaWNvbi1waXRjaC1hbGlnbm1lbnQnKSA9PT0gJ21hcCcsXG4gICAgICAgICAgICAgICAgbGF5b3V0LmdldCgnaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnQnKSA9PT0gJ21hcCcsXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgdGhpcy50cmFuc2Zvcm0uem9vbSkpO1xuXG4gICAgICAgIHRoaXMucGxhY2VMYXllckJ1Y2tldChzeW1ib2xCdWNrZXQsIHBvc01hdHJpeCwgdGV4dExhYmVsUGxhbmVNYXRyaXgsIGljb25MYWJlbFBsYW5lTWF0cml4LCBzY2FsZSwgdGV4dFBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgc2hvd0NvbGxpc2lvbkJveGVzLCBzZWVuQ3Jvc3NUaWxlSURzLCB0aWxlLmNvbGxpc2lvbkJveEFycmF5LCB0aWxlLnRpbGVJRC5rZXksIHN0eWxlTGF5ZXIuc291cmNlKTtcbiAgICB9XG5cbiAgICBwbGFjZUxheWVyQnVja2V0KGJ1Y2tldDogU3ltYm9sQnVja2V0LCBwb3NNYXRyaXg6IG1hdDQsIHRleHRMYWJlbFBsYW5lTWF0cml4OiBtYXQ0LCBpY29uTGFiZWxQbGFuZU1hdHJpeDogbWF0NCxcbiAgICAgICAgICAgIHNjYWxlOiBudW1iZXIsIHRleHRQaXhlbFJhdGlvOiBudW1iZXIsIHNob3dDb2xsaXNpb25Cb3hlczogYm9vbGVhbiwgc2VlbkNyb3NzVGlsZUlEczogeyBbc3RyaW5nIHwgbnVtYmVyXTogYm9vbGVhbiB9LFxuICAgICAgICAgICAgY29sbGlzaW9uQm94QXJyYXk6ID9Db2xsaXNpb25Cb3hBcnJheSwgdGlsZUtleTogbnVtYmVyLCBzb3VyY2VJRDogc3RyaW5nKSB7XG5cbiAgICAgICAgY29uc3QgbGF5b3V0ID0gYnVja2V0LmxheWVyc1swXS5sYXlvdXQ7XG5cbiAgICAgICAgY29uc3QgcGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemUgPSBzeW1ib2xTaXplLmV2YWx1YXRlU2l6ZUZvclpvb20oYnVja2V0LnRleHRTaXplRGF0YSwgdGhpcy50cmFuc2Zvcm0uem9vbSwgc3ltYm9sTGF5b3V0UHJvcGVydGllcy5wcm9wZXJ0aWVzWyd0ZXh0LXNpemUnXSk7XG5cbiAgICAgICAgY29uc3QgaWNvbldpdGhvdXRUZXh0ID0gIWJ1Y2tldC5oYXNUZXh0RGF0YSgpIHx8IGxheW91dC5nZXQoJ3RleHQtb3B0aW9uYWwnKTtcbiAgICAgICAgY29uc3QgdGV4dFdpdGhvdXRJY29uID0gIWJ1Y2tldC5oYXNJY29uRGF0YSgpIHx8IGxheW91dC5nZXQoJ2ljb24tb3B0aW9uYWwnKTtcblxuICAgICAgICBmb3IgKGNvbnN0IHN5bWJvbEluc3RhbmNlIG9mIGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMpIHtcbiAgICAgICAgICAgIGlmICghc2VlbkNyb3NzVGlsZUlEc1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF0pIHtcblxuICAgICAgICAgICAgICAgIGxldCBwbGFjZVRleHQgPSBzeW1ib2xJbnN0YW5jZS5mZWF0dXJlLnRleHQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBsZXQgcGxhY2VJY29uID0gc3ltYm9sSW5zdGFuY2UuZmVhdHVyZS5pY29uICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbGV0IG9mZnNjcmVlbiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBsZXQgcGxhY2VkR2x5cGhCb3hlcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlZEdseXBoQ2lyY2xlcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlZEljb25Cb3hlcyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXN5bWJvbEluc3RhbmNlLmNvbGxpc2lvbkFycmF5cykge1xuICAgICAgICAgICAgICAgICAgICBzeW1ib2xJbnN0YW5jZS5jb2xsaXNpb25BcnJheXMgPSBidWNrZXQuZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGNvbGxpc2lvbkJveEFycmF5OiBhbnkpOiBDb2xsaXNpb25Cb3hBcnJheSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2UudGV4dEJveFN0YXJ0SW5kZXgsIHN5bWJvbEluc3RhbmNlLnRleHRCb3hFbmRJbmRleCwgc3ltYm9sSW5zdGFuY2UuaWNvbkJveFN0YXJ0SW5kZXgsIHN5bWJvbEluc3RhbmNlLmljb25Cb3hFbmRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN5bWJvbEluc3RhbmNlLmNvbGxpc2lvbkFycmF5cy50ZXh0Qm94KSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlZEdseXBoQm94ZXMgPSB0aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KHN5bWJvbEluc3RhbmNlLmNvbGxpc2lvbkFycmF5cy50ZXh0Qm94LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ3RleHQtYWxsb3ctb3ZlcmxhcCcpLCB0ZXh0UGl4ZWxSYXRpbywgcG9zTWF0cml4KTtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VUZXh0ID0gcGxhY2VkR2x5cGhCb3hlcy5ib3gubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2NyZWVuID0gb2Zmc2NyZWVuICYmIHBsYWNlZEdseXBoQm94ZXMub2Zmc2NyZWVuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0Q2lyY2xlcyA9IHN5bWJvbEluc3RhbmNlLmNvbGxpc2lvbkFycmF5cy50ZXh0Q2lyY2xlcztcbiAgICAgICAgICAgICAgICBpZiAodGV4dENpcmNsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxhY2VkU3ltYm9sID0gYnVja2V0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHN5bWJvbEluc3RhbmNlLnBsYWNlZFRleHRTeW1ib2xJbmRpY2VzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9udFNpemUgPSBzeW1ib2xTaXplLmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUoYnVja2V0LnRleHRTaXplRGF0YSwgcGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemUsIHBsYWNlZFN5bWJvbCk7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlZEdseXBoQ2lyY2xlcyA9IHRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25DaXJjbGVzKHRleHRDaXJjbGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ3RleHQtYWxsb3ctb3ZlcmxhcCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRQaXhlbFJhdGlvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbEluc3RhbmNlLmtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWRTeW1ib2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0LmxpbmVWZXJ0ZXhBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQuZ2x5cGhPZmZzZXRBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NNYXRyaXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dExhYmVsUGxhbmVNYXRyaXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbGxpc2lvbkJveGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ3RleHQtcGl0Y2gtYWxpZ25tZW50JykgPT09ICdtYXAnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGV4dC1hbGxvdy1vdmVybGFwIGlzIHNldCwgZm9yY2UgXCJwbGFjZWRDaXJjbGVzXCIgdG8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAvLyBJbiB0aGVvcnkgdGhlcmUgc2hvdWxkIGFsd2F5cyBiZSBhdCBsZWFzdCBvbmUgY2lyY2xlIHBsYWNlZFxuICAgICAgICAgICAgICAgICAgICAvLyBpbiB0aGlzIGNhc2UsIGJ1dCBmb3Igbm93IHF1aXJrcyBpbiB0ZXh0LWFuY2hvclxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgdGV4dC1vZmZzZXQgbWF5IHByZXZlbnQgdGhhdCBmcm9tIGJlaW5nIHRydWUuXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlVGV4dCA9IGxheW91dC5nZXQoJ3RleHQtYWxsb3ctb3ZlcmxhcCcpIHx8IHBsYWNlZEdseXBoQ2lyY2xlcy5jaXJjbGVzLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNjcmVlbiA9IG9mZnNjcmVlbiAmJiBwbGFjZWRHbHlwaENpcmNsZXMub2Zmc2NyZWVuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzeW1ib2xJbnN0YW5jZS5jb2xsaXNpb25BcnJheXMuaWNvbkJveCkge1xuICAgICAgICAgICAgICAgICAgICBwbGFjZWRJY29uQm94ZXMgPSB0aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KHN5bWJvbEluc3RhbmNlLmNvbGxpc2lvbkFycmF5cy5pY29uQm94LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ2ljb24tYWxsb3ctb3ZlcmxhcCcpLCB0ZXh0UGl4ZWxSYXRpbywgcG9zTWF0cml4KTtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VJY29uID0gcGxhY2VkSWNvbkJveGVzLmJveC5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgICAgICBvZmZzY3JlZW4gPSBvZmZzY3JlZW4gJiYgcGxhY2VkSWNvbkJveGVzLm9mZnNjcmVlbjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDb21iaW5lIHRoZSBzY2FsZXMgZm9yIGljb25zIGFuZCB0ZXh0LlxuICAgICAgICAgICAgICAgIGlmICghaWNvbldpdGhvdXRUZXh0ICYmICF0ZXh0V2l0aG91dEljb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VJY29uID0gcGxhY2VUZXh0ID0gcGxhY2VJY29uICYmIHBsYWNlVGV4dDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF0ZXh0V2l0aG91dEljb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VUZXh0ID0gcGxhY2VJY29uICYmIHBsYWNlVGV4dDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpY29uV2l0aG91dFRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VJY29uID0gcGxhY2VJY29uICYmIHBsYWNlVGV4dDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGxhY2VUZXh0ICYmIHBsYWNlZEdseXBoQm94ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25Cb3gocGxhY2VkR2x5cGhCb3hlcy5ib3gsIGxheW91dC5nZXQoJ3RleHQtaWdub3JlLXBsYWNlbWVudCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVLZXksIHNvdXJjZUlELCBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCwgc3ltYm9sSW5zdGFuY2UudGV4dEJveFN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGxhY2VJY29uICYmIHBsYWNlZEljb25Cb3hlcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChwbGFjZWRJY29uQm94ZXMuYm94LCBsYXlvdXQuZ2V0KCdpY29uLWlnbm9yZS1wbGFjZW1lbnQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlS2V5LCBzb3VyY2VJRCwgYnVja2V0LmJ1Y2tldEluc3RhbmNlSWQsIHN5bWJvbEluc3RhbmNlLmljb25Cb3hTdGFydEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlVGV4dCAmJiBwbGFjZWRHbHlwaENpcmNsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25DaXJjbGVzKHBsYWNlZEdseXBoQ2lyY2xlcy5jaXJjbGVzLCBsYXlvdXQuZ2V0KCd0ZXh0LWlnbm9yZS1wbGFjZW1lbnQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlS2V5LCBzb3VyY2VJRCwgYnVja2V0LmJ1Y2tldEluc3RhbmNlSWQsIHN5bWJvbEluc3RhbmNlLnRleHRCb3hTdGFydEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQoc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQgIT09IDApO1xuICAgICAgICAgICAgICAgIGFzc2VydChidWNrZXQuYnVja2V0SW5zdGFuY2VJZCAhPT0gMCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlbWVudHNbc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdID0gbmV3IEpvaW50UGxhY2VtZW50KHBsYWNlVGV4dCwgcGxhY2VJY29uLCBvZmZzY3JlZW4gfHwgYnVja2V0Lmp1c3RSZWxvYWRlZCk7XG4gICAgICAgICAgICAgICAgc2VlbkNyb3NzVGlsZUlEc1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnVja2V0Lmp1c3RSZWxvYWRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbW1pdChwcmV2UGxhY2VtZW50OiA/UGxhY2VtZW50LCBub3c6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbW1pdFRpbWUgPSBub3c7XG5cbiAgICAgICAgbGV0IHBsYWNlbWVudENoYW5nZWQgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBpbmNyZW1lbnQgPSAocHJldlBsYWNlbWVudCAmJiB0aGlzLmZhZGVEdXJhdGlvbiAhPT0gMCkgP1xuICAgICAgICAgICAgKHRoaXMuY29tbWl0VGltZSAtIHByZXZQbGFjZW1lbnQuY29tbWl0VGltZSkgLyB0aGlzLmZhZGVEdXJhdGlvbiA6XG4gICAgICAgICAgICAxO1xuXG4gICAgICAgIGNvbnN0IHByZXZPcGFjaXRpZXMgPSBwcmV2UGxhY2VtZW50ID8gcHJldlBsYWNlbWVudC5vcGFjaXRpZXMgOiB7fTtcblxuICAgICAgICAvLyBhZGQgdGhlIG9wYWNpdGllcyBmcm9tIHRoZSBjdXJyZW50IHBsYWNlbWVudCwgYW5kIGNvcHkgdGhlaXIgY3VycmVudCB2YWx1ZXMgZnJvbSB0aGUgcHJldmlvdXMgcGxhY2VtZW50XG4gICAgICAgIGZvciAoY29uc3QgY3Jvc3NUaWxlSUQgaW4gdGhpcy5wbGFjZW1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBqb2ludFBsYWNlbWVudCA9IHRoaXMucGxhY2VtZW50c1tjcm9zc1RpbGVJRF07XG4gICAgICAgICAgICBjb25zdCBwcmV2T3BhY2l0eSA9IHByZXZPcGFjaXRpZXNbY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgaWYgKHByZXZPcGFjaXR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdID0gbmV3IEpvaW50T3BhY2l0eVN0YXRlKHByZXZPcGFjaXR5LCBpbmNyZW1lbnQsIGpvaW50UGxhY2VtZW50LnRleHQsIGpvaW50UGxhY2VtZW50Lmljb24pO1xuICAgICAgICAgICAgICAgIHBsYWNlbWVudENoYW5nZWQgPSBwbGFjZW1lbnRDaGFuZ2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIGpvaW50UGxhY2VtZW50LnRleHQgIT09IHByZXZPcGFjaXR5LnRleHQucGxhY2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIGpvaW50UGxhY2VtZW50Lmljb24gIT09IHByZXZPcGFjaXR5Lmljb24ucGxhY2VkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdGllc1tjcm9zc1RpbGVJRF0gPSBuZXcgSm9pbnRPcGFjaXR5U3RhdGUobnVsbCwgaW5jcmVtZW50LCBqb2ludFBsYWNlbWVudC50ZXh0LCBqb2ludFBsYWNlbWVudC5pY29uLCBqb2ludFBsYWNlbWVudC5za2lwRmFkZSk7XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50Q2hhbmdlZCA9IHBsYWNlbWVudENoYW5nZWQgfHwgam9pbnRQbGFjZW1lbnQudGV4dCB8fCBqb2ludFBsYWNlbWVudC5pY29uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29weSBhbmQgdXBkYXRlIHZhbHVlcyBmcm9tIHRoZSBwcmV2aW91cyBwbGFjZW1lbnQgdGhhdCBhcmVuJ3QgaW4gdGhlIGN1cnJlbnQgcGxhY2VtZW50IGJ1dCBoYXZlbid0IGZpbmlzaGVkIGZhZGluZ1xuICAgICAgICBmb3IgKGNvbnN0IGNyb3NzVGlsZUlEIGluIHByZXZPcGFjaXRpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZPcGFjaXR5ID0gcHJldk9wYWNpdGllc1tjcm9zc1RpbGVJRF07XG4gICAgICAgICAgICBpZiAoIXRoaXMub3BhY2l0aWVzW2Nyb3NzVGlsZUlEXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50T3BhY2l0eSA9IG5ldyBKb2ludE9wYWNpdHlTdGF0ZShwcmV2T3BhY2l0eSwgaW5jcmVtZW50LCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmICgham9pbnRPcGFjaXR5LmlzSGlkZGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdID0gam9pbnRPcGFjaXR5O1xuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRDaGFuZ2VkID0gcGxhY2VtZW50Q2hhbmdlZCB8fCBwcmV2T3BhY2l0eS50ZXh0LnBsYWNlZCB8fCBwcmV2T3BhY2l0eS5pY29uLnBsYWNlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lIGlzIHRoZSB0aW1lIG9mIHRoZSBsYXN0IGNvbW1pdCgpIHRoYXRcbiAgICAgICAgLy8gcmVzdWx0ZWQgaW4gYSBwbGFjZW1lbnQgY2hhbmdlIC0tIGluIG90aGVyIHdvcmRzLCB0aGUgc3RhcnQgdGltZSBvZlxuICAgICAgICAvLyB0aGUgbGFzdCBzeW1ib2wgZmFkZSBhbmltYXRpb25cbiAgICAgICAgYXNzZXJ0KCFwcmV2UGxhY2VtZW50IHx8IHByZXZQbGFjZW1lbnQubGFzdFBsYWNlbWVudENoYW5nZVRpbWUgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGlmIChwbGFjZW1lbnRDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lID0gbm93O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSA9IHByZXZQbGFjZW1lbnQgPyBwcmV2UGxhY2VtZW50Lmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lIDogbm93O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlTGF5ZXJPcGFjaXRpZXMoc3R5bGVMYXllcjogU3R5bGVMYXllciwgdGlsZXM6IEFycmF5PFRpbGU+KSB7XG4gICAgICAgIGNvbnN0IHNlZW5Dcm9zc1RpbGVJRHMgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IHRpbGUgb2YgdGlsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN5bWJvbEJ1Y2tldCA9ICgodGlsZS5nZXRCdWNrZXQoc3R5bGVMYXllcik6IGFueSk6IFN5bWJvbEJ1Y2tldCk7XG4gICAgICAgICAgICBpZiAoc3ltYm9sQnVja2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCdWNrZXRPcGFjaXRpZXMoc3ltYm9sQnVja2V0LCBzZWVuQ3Jvc3NUaWxlSURzLCB0aWxlLmNvbGxpc2lvbkJveEFycmF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUJ1Y2tldE9wYWNpdGllcyhidWNrZXQ6IFN5bWJvbEJ1Y2tldCwgc2VlbkNyb3NzVGlsZUlEczogeyBbc3RyaW5nIHwgbnVtYmVyXTogYm9vbGVhbiB9LCBjb2xsaXNpb25Cb3hBcnJheTogP0NvbGxpc2lvbkJveEFycmF5KSB7XG4gICAgICAgIGlmIChidWNrZXQuaGFzVGV4dERhdGEoKSkgYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCk7XG4gICAgICAgIGlmIChidWNrZXQuaGFzSWNvbkRhdGEoKSkgYnVja2V0Lmljb24ub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCk7XG4gICAgICAgIGlmIChidWNrZXQuaGFzQ29sbGlzaW9uQm94RGF0YSgpKSBidWNrZXQuY29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LmNsZWFyKCk7XG4gICAgICAgIGlmIChidWNrZXQuaGFzQ29sbGlzaW9uQ2lyY2xlRGF0YSgpKSBidWNrZXQuY29sbGlzaW9uQ2lyY2xlLmNvbGxpc2lvblZlcnRleEFycmF5LmNsZWFyKCk7XG5cbiAgICAgICAgY29uc3QgbGF5b3V0ID0gYnVja2V0LmxheWVyc1swXS5sYXlvdXQ7XG4gICAgICAgIGNvbnN0IGR1cGxpY2F0ZU9wYWNpdHlTdGF0ZSA9IG5ldyBKb2ludE9wYWNpdHlTdGF0ZShudWxsLCAwLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICBjb25zdCBkZWZhdWx0T3BhY2l0eVN0YXRlID0gbmV3IEpvaW50T3BhY2l0eVN0YXRlKG51bGwsIDAsXG4gICAgICAgICAgICAgICAgbGF5b3V0LmdldCgndGV4dC1hbGxvdy1vdmVybGFwJyksXG4gICAgICAgICAgICAgICAgbGF5b3V0LmdldCgnaWNvbi1hbGxvdy1vdmVybGFwJyksIHRydWUpO1xuXG4gICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgYnVja2V0LnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7IHMrKykge1xuICAgICAgICAgICAgY29uc3Qgc3ltYm9sSW5zdGFuY2UgPSBidWNrZXQuc3ltYm9sSW5zdGFuY2VzW3NdO1xuICAgICAgICAgICAgY29uc3QgaXNEdXBsaWNhdGUgPSBzZWVuQ3Jvc3NUaWxlSURzW3N5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEXTtcblxuICAgICAgICAgICAgbGV0IG9wYWNpdHlTdGF0ZSA9IHRoaXMub3BhY2l0aWVzW3N5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgIGlmIChpc0R1cGxpY2F0ZSkge1xuICAgICAgICAgICAgICAgIG9wYWNpdHlTdGF0ZSA9IGR1cGxpY2F0ZU9wYWNpdHlTdGF0ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIW9wYWNpdHlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIG9wYWNpdHlTdGF0ZSA9IGRlZmF1bHRPcGFjaXR5U3RhdGU7XG4gICAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIHN0YXRlIHNvIHRoYXQgZnV0dXJlIHBsYWNlbWVudHMgdXNlIGl0IGFzIGEgc3RhcnRpbmcgcG9pbnRcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdGllc1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF0gPSBvcGFjaXR5U3RhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlZW5Dcm9zc1RpbGVJRHNbc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdID0gdHJ1ZTtcblxuICAgICAgICAgICAgY29uc3QgaGFzVGV4dCA9IHN5bWJvbEluc3RhbmNlLm51bUdseXBoVmVydGljZXMgPiAwIHx8IHN5bWJvbEluc3RhbmNlLm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyA+IDA7XG4gICAgICAgICAgICBjb25zdCBoYXNJY29uID0gc3ltYm9sSW5zdGFuY2UubnVtSWNvblZlcnRpY2VzID4gMDtcblxuICAgICAgICAgICAgaWYgKGhhc1RleHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWNrZWRPcGFjaXR5ID0gcGFja09wYWNpdHkob3BhY2l0eVN0YXRlLnRleHQpO1xuICAgICAgICAgICAgICAgIC8vIFZlcnRpY2FsIHRleHQgZmFkZXMgaW4vb3V0IG9uIGNvbGxpc2lvbiB0aGUgc2FtZSB3YXkgYXMgY29ycmVzcG9uZGluZ1xuICAgICAgICAgICAgICAgIC8vIGhvcml6b250YWwgdGV4dC4gU3dpdGNoIGJldHdlZW4gdmVydGljYWwvaG9yaXpvbnRhbCBzaG91bGQgYmUgaW5zdGFudGFuZW91c1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wYWNpdHlFbnRyeUNvdW50ID0gKHN5bWJvbEluc3RhbmNlLm51bUdseXBoVmVydGljZXMgKyBzeW1ib2xJbnN0YW5jZS5udW1WZXJ0aWNhbEdseXBoVmVydGljZXMpIC8gNDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wYWNpdHlFbnRyeUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHBhY2tlZE9wYWNpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBsYWNlZFRleHRTeW1ib2xJbmRleCBvZiBzeW1ib2xJbnN0YW5jZS5wbGFjZWRUZXh0U3ltYm9sSW5kaWNlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFjZWRTeW1ib2wgPSBidWNrZXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQocGxhY2VkVGV4dFN5bWJvbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBsYWJlbCBpcyBjb21wbGV0ZWx5IGZhZGVkLCBtYXJrIGl0IHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBjYWxjdWxhdGVcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRzIHBvc2l0aW9uIGF0IHJlbmRlciB0aW1lXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlZFN5bWJvbC5oaWRkZW4gPSAob3BhY2l0eVN0YXRlLnRleHQuaXNIaWRkZW4oKTogYW55KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChoYXNJY29uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFja2VkT3BhY2l0eSA9IHBhY2tPcGFjaXR5KG9wYWNpdHlTdGF0ZS5pY29uKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN5bWJvbEluc3RhbmNlLm51bUljb25WZXJ0aWNlcyAvIDQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBidWNrZXQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkuZW1wbGFjZUJhY2socGFja2VkT3BhY2l0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlZFN5bWJvbCA9IGJ1Y2tldC5pY29uLnBsYWNlZFN5bWJvbEFycmF5LmdldChzKTtcbiAgICAgICAgICAgICAgICBwbGFjZWRTeW1ib2wuaGlkZGVuID0gKG9wYWNpdHlTdGF0ZS5pY29uLmlzSGlkZGVuKCk6IGFueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghc3ltYm9sSW5zdGFuY2UuY29sbGlzaW9uQXJyYXlzKSB7XG4gICAgICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2UuY29sbGlzaW9uQXJyYXlzID0gYnVja2V0LmRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAoKGNvbGxpc2lvbkJveEFycmF5OiBhbnkpOiBDb2xsaXNpb25Cb3hBcnJheSksXG4gICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xJbnN0YW5jZS50ZXh0Qm94U3RhcnRJbmRleCwgc3ltYm9sSW5zdGFuY2UudGV4dEJveEVuZEluZGV4LCBzeW1ib2xJbnN0YW5jZS5pY29uQm94U3RhcnRJbmRleCwgc3ltYm9sSW5zdGFuY2UuaWNvbkJveEVuZEluZGV4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY29sbGlzaW9uQXJyYXlzID0gc3ltYm9sSW5zdGFuY2UuY29sbGlzaW9uQXJyYXlzO1xuICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cykge1xuICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb25BcnJheXMudGV4dEJveCAmJiBidWNrZXQuaGFzQ29sbGlzaW9uQm94RGF0YSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbGxpc2lvblZlcnRpY2VzKGJ1Y2tldC5jb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksIG9wYWNpdHlTdGF0ZS50ZXh0LnBsYWNlZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb25BcnJheXMuaWNvbkJveCAmJiBidWNrZXQuaGFzQ29sbGlzaW9uQm94RGF0YSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbGxpc2lvblZlcnRpY2VzKGJ1Y2tldC5jb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksIG9wYWNpdHlTdGF0ZS5pY29uLnBsYWNlZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRDaXJjbGVzID0gY29sbGlzaW9uQXJyYXlzLnRleHRDaXJjbGVzO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0Q2lyY2xlcyAmJiBidWNrZXQuaGFzQ29sbGlzaW9uQ2lyY2xlRGF0YSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgdGV4dENpcmNsZXMubGVuZ3RoOyBrICs9IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdFVzZWQgPSBpc0R1cGxpY2F0ZSB8fCB0ZXh0Q2lyY2xlc1trICsgNF0gPT09IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb2xsaXNpb25WZXJ0aWNlcyhidWNrZXQuY29sbGlzaW9uQ2lyY2xlLmNvbGxpc2lvblZlcnRleEFycmF5LCBvcGFjaXR5U3RhdGUudGV4dC5wbGFjZWQsIG5vdFVzZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnVja2V0LnNvcnRGZWF0dXJlcyh0aGlzLnRyYW5zZm9ybS5hbmdsZSk7XG5cbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNUZXh0RGF0YSgpICYmIGJ1Y2tldC50ZXh0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGJ1Y2tldC50ZXh0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShidWNrZXQudGV4dC5vcGFjaXR5VmVydGV4QXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWNrZXQuaGFzSWNvbkRhdGEoKSAmJiBidWNrZXQuaWNvbi5vcGFjaXR5VmVydGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBidWNrZXQuaWNvbi5vcGFjaXR5VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoYnVja2V0Lmljb24ub3BhY2l0eVZlcnRleEFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVja2V0Lmhhc0NvbGxpc2lvbkJveERhdGEoKSAmJiBidWNrZXQuY29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgYnVja2V0LmNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShidWNrZXQuY29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVja2V0Lmhhc0NvbGxpc2lvbkNpcmNsZURhdGEoKSAmJiBidWNrZXQuY29sbGlzaW9uQ2lyY2xlLmNvbGxpc2lvblZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgYnVja2V0LmNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShidWNrZXQuY29sbGlzaW9uQ2lyY2xlLmNvbGxpc2lvblZlcnRleEFycmF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzc2VydChidWNrZXQudGV4dC5vcGFjaXR5VmVydGV4QXJyYXkubGVuZ3RoID09PSBidWNrZXQudGV4dC5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGggLyA0KTtcbiAgICAgICAgYXNzZXJ0KGJ1Y2tldC5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheS5sZW5ndGggPT09IGJ1Y2tldC5pY29uLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCAvIDQpO1xuICAgIH1cblxuICAgIHN5bWJvbEZhZGVDaGFuZ2Uobm93OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFkZUR1cmF0aW9uID09PSAwID9cbiAgICAgICAgICAgIDEgOlxuICAgICAgICAgICAgKG5vdyAtIHRoaXMuY29tbWl0VGltZSkgLyB0aGlzLmZhZGVEdXJhdGlvbjtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9ucyhub3c6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFsZSB8fFxuICAgICAgICAgICAgbm93IC0gdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSA8IHRoaXMuZmFkZUR1cmF0aW9uO1xuICAgIH1cblxuICAgIHN0aWxsUmVjZW50KG5vdzogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1pdFRpbWUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICB0aGlzLmNvbW1pdFRpbWUgKyB0aGlzLmZhZGVEdXJhdGlvbiA+IG5vdztcbiAgICB9XG5cbiAgICBzZXRTdGFsZSgpIHtcbiAgICAgICAgdGhpcy5zdGFsZSA9IHRydWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVDb2xsaXNpb25WZXJ0aWNlcyhjb2xsaXNpb25WZXJ0ZXhBcnJheTogQ29sbGlzaW9uVmVydGV4QXJyYXksIHBsYWNlZDogYm9vbGVhbiwgbm90VXNlZDogYm9vbGVhbikge1xuICAgIGNvbGxpc2lvblZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHBsYWNlZCA/IDEgOiAwLCBub3RVc2VkID8gMSA6IDApO1xuICAgIGNvbGxpc2lvblZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHBsYWNlZCA/IDEgOiAwLCBub3RVc2VkID8gMSA6IDApO1xuICAgIGNvbGxpc2lvblZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHBsYWNlZCA/IDEgOiAwLCBub3RVc2VkID8gMSA6IDApO1xuICAgIGNvbGxpc2lvblZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHBsYWNlZCA/IDEgOiAwLCBub3RVc2VkID8gMSA6IDApO1xufVxuXG4vLyBBbGwgZm91ciB2ZXJ0aWNlcyBmb3IgYSBnbHlwaCB3aWxsIGhhdmUgdGhlIHNhbWUgb3BhY2l0eSBzdGF0ZVxuLy8gU28gd2UgcGFjayB0aGUgb3BhY2l0eSBpbnRvIGEgdWludDgsIGFuZCB0aGVuIHJlcGVhdCBpdCBmb3VyIHRpbWVzXG4vLyB0byBtYWtlIGEgc2luZ2xlIHVpbnQzMiB0aGF0IHdlIGNhbiB1cGxvYWQgZm9yIGVhY2ggZ2x5cGggaW4gdGhlXG4vLyBsYWJlbC5cbmNvbnN0IHNoaWZ0MjUgPSBNYXRoLnBvdygyLCAyNSk7XG5jb25zdCBzaGlmdDI0ID0gTWF0aC5wb3coMiwgMjQpO1xuY29uc3Qgc2hpZnQxNyA9IE1hdGgucG93KDIsIDE3KTtcbmNvbnN0IHNoaWZ0MTYgPSBNYXRoLnBvdygyLCAxNik7XG5jb25zdCBzaGlmdDkgPSBNYXRoLnBvdygyLCA5KTtcbmNvbnN0IHNoaWZ0OCA9IE1hdGgucG93KDIsIDgpO1xuY29uc3Qgc2hpZnQxID0gTWF0aC5wb3coMiwgMSk7XG5mdW5jdGlvbiBwYWNrT3BhY2l0eShvcGFjaXR5U3RhdGU6IE9wYWNpdHlTdGF0ZSk6IG51bWJlciB7XG4gICAgaWYgKG9wYWNpdHlTdGF0ZS5vcGFjaXR5ID09PSAwICYmICFvcGFjaXR5U3RhdGUucGxhY2VkKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSBpZiAob3BhY2l0eVN0YXRlLm9wYWNpdHkgPT09IDEgJiYgb3BhY2l0eVN0YXRlLnBsYWNlZCkge1xuICAgICAgICByZXR1cm4gNDI5NDk2NzI5NTtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0Qml0ID0gb3BhY2l0eVN0YXRlLnBsYWNlZCA/IDEgOiAwO1xuICAgIGNvbnN0IG9wYWNpdHlCaXRzID0gTWF0aC5mbG9vcihvcGFjaXR5U3RhdGUub3BhY2l0eSAqIDEyNyk7XG4gICAgcmV0dXJuIG9wYWNpdHlCaXRzICogc2hpZnQyNSArIHRhcmdldEJpdCAqIHNoaWZ0MjQgK1xuICAgICAgICBvcGFjaXR5Qml0cyAqIHNoaWZ0MTcgKyB0YXJnZXRCaXQgKiBzaGlmdDE2ICtcbiAgICAgICAgb3BhY2l0eUJpdHMgKiBzaGlmdDkgKyB0YXJnZXRCaXQgKiBzaGlmdDggK1xuICAgICAgICBvcGFjaXR5Qml0cyAqIHNoaWZ0MSArIHRhcmdldEJpdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUGxhY2VtZW50O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcblxuaW1wb3J0IFBsYWNlbWVudCBmcm9tICcuLi9zeW1ib2wvcGxhY2VtZW50JztcblxuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUgU3R5bGVMYXllciBmcm9tICcuL3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vc291cmNlL3RpbGUnO1xuXG5jbGFzcyBMYXllclBsYWNlbWVudCB7XG4gICAgX2N1cnJlbnRUaWxlSW5kZXg6IG51bWJlcjtcbiAgICBfdGlsZXM6IEFycmF5PFRpbGU+O1xuICAgIF9zZWVuQ3Jvc3NUaWxlSURzOiB7IFtzdHJpbmcgfCBudW1iZXJdOiBib29sZWFuIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFRpbGVJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX3NlZW5Dcm9zc1RpbGVJRHMgPSB7fTtcbiAgICB9XG5cbiAgICBjb250aW51ZVBsYWNlbWVudCh0aWxlczogQXJyYXk8VGlsZT4sIHBsYWNlbWVudDogUGxhY2VtZW50LCBzaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW4sIHN0eWxlTGF5ZXI6IFN0eWxlTGF5ZXIsIHNob3VsZFBhdXNlUGxhY2VtZW50KSB7XG4gICAgICAgIHdoaWxlICh0aGlzLl9jdXJyZW50VGlsZUluZGV4IDwgdGlsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGlsZXNbdGhpcy5fY3VycmVudFRpbGVJbmRleF07XG4gICAgICAgICAgICBwbGFjZW1lbnQucGxhY2VMYXllclRpbGUoc3R5bGVMYXllciwgdGlsZSwgc2hvd0NvbGxpc2lvbkJveGVzLCB0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzKTtcblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbGVJbmRleCsrO1xuICAgICAgICAgICAgaWYgKHNob3VsZFBhdXNlUGxhY2VtZW50KCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgUGF1c2VhYmxlUGxhY2VtZW50IHtcbiAgICBwbGFjZW1lbnQ6IFBsYWNlbWVudDtcbiAgICBfZG9uZTogYm9vbGVhbjtcbiAgICBfY3VycmVudFBsYWNlbWVudEluZGV4OiBudW1iZXI7XG4gICAgX2ZvcmNlRnVsbFBsYWNlbWVudDogYm9vbGVhbjtcbiAgICBfc2hvd0NvbGxpc2lvbkJveGVzOiBib29sZWFuO1xuICAgIF9pblByb2dyZXNzTGF5ZXI6ID9MYXllclBsYWNlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogVHJhbnNmb3JtLCBvcmRlcjogQXJyYXk8c3RyaW5nPixcbiAgICAgICAgICAgIGZvcmNlRnVsbFBsYWNlbWVudDogYm9vbGVhbiwgc2hvd0NvbGxpc2lvbkJveGVzOiBib29sZWFuLCBmYWRlRHVyYXRpb246IG51bWJlcikge1xuXG4gICAgICAgIHRoaXMucGxhY2VtZW50ID0gbmV3IFBsYWNlbWVudCh0cmFuc2Zvcm0sIGZhZGVEdXJhdGlvbik7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleCA9IG9yZGVyLmxlbmd0aCAtIDE7XG4gICAgICAgIHRoaXMuX2ZvcmNlRnVsbFBsYWNlbWVudCA9IGZvcmNlRnVsbFBsYWNlbWVudDtcbiAgICAgICAgdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzID0gc2hvd0NvbGxpc2lvbkJveGVzO1xuICAgICAgICB0aGlzLl9kb25lID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaXNEb25lKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZG9uZTtcbiAgICB9XG5cbiAgICBjb250aW51ZVBsYWNlbWVudChvcmRlcjogQXJyYXk8c3RyaW5nPiwgbGF5ZXJzOiB7W3N0cmluZ106IFN0eWxlTGF5ZXJ9LCBsYXllclRpbGVzOiB7W3N0cmluZ106IEFycmF5PFRpbGU+fSkge1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBicm93c2VyLm5vdygpO1xuXG4gICAgICAgIGNvbnN0IHNob3VsZFBhdXNlUGxhY2VtZW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxhcHNlZFRpbWUgPSBicm93c2VyLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvcmNlRnVsbFBsYWNlbWVudCA/IGZhbHNlIDogZWxhcHNlZFRpbWUgPiAyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHdoaWxlICh0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXJJZCA9IG9yZGVyW3RoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleF07XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IGxheWVyc1tsYXllcklkXTtcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlbWVudFpvb20gPSB0aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleC50cmFuc2Zvcm0uem9vbTtcbiAgICAgICAgICAgIGlmIChsYXllci50eXBlID09PSAnc3ltYm9sJyAmJlxuICAgICAgICAgICAgICAgICghbGF5ZXIubWluem9vbSB8fCBsYXllci5taW56b29tIDw9IHBsYWNlbWVudFpvb20pICYmXG4gICAgICAgICAgICAgICAgKCFsYXllci5tYXh6b29tIHx8IGxheWVyLm1heHpvb20gPiBwbGFjZW1lbnRab29tKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pblByb2dyZXNzTGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5Qcm9ncmVzc0xheWVyID0gbmV3IExheWVyUGxhY2VtZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgcGF1c2VQbGFjZW1lbnQgPSB0aGlzLl9pblByb2dyZXNzTGF5ZXIuY29udGludWVQbGFjZW1lbnQobGF5ZXJUaWxlc1tsYXllci5zb3VyY2VdLCB0aGlzLnBsYWNlbWVudCwgdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzLCBsYXllciwgc2hvdWxkUGF1c2VQbGFjZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhdXNlUGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGRpZG4ndCBmaW5pc2ggcGxhY2luZyBhbGwgbGF5ZXJzIHdpdGhpbiAybXMsXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCB3ZSBjYW4ga2VlcCByZW5kZXJpbmcgd2l0aCBhIHBhcnRpYWwgcGxhY2VtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlJ2xsIHJlc3VtZSBoZXJlIG9uIHRoZSBuZXh0IGZyYW1lXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5faW5Qcm9ncmVzc0xheWVyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXgtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RvbmUgPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbW1pdChwcmV2aW91c1BsYWNlbWVudDogP1BsYWNlbWVudCwgbm93OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5wbGFjZW1lbnQuY29tbWl0KHByZXZpb3VzUGxhY2VtZW50LCBub3cpO1xuICAgICAgICByZXR1cm4gdGhpcy5wbGFjZW1lbnQ7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYXVzZWFibGVQbGFjZW1lbnQ7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50JztcblxuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCwge1N5bWJvbEluc3RhbmNlfSBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0JztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi9zb3VyY2UvdGlsZSc7XG5cbi8qXG4gICAgVGhlIENyb3NzVGlsZVN5bWJvbEluZGV4IGdlbmVyYWxseSB3b3JrcyBvbiB0aGUgYXNzdW1wdGlvbiB0aGF0XG4gICAgYSBjb25jZXB0dWFsIFwidW5pcXVlIHN5bWJvbFwiIGNhbiBiZSBpZGVudGlmaWVkIGJ5IHRoZSB0ZXh0IG9mXG4gICAgdGhlIGxhYmVsIGNvbWJpbmVkIHdpdGggdGhlIGFuY2hvciBwb2ludC4gVGhlIGdvYWwgaXMgdG8gYXNzaWduXG4gICAgdGhlc2UgY29uY2VwdHVhbCBcInVuaXF1ZSBzeW1ib2xzXCIgYSBzaGFyZWQgY3Jvc3NUaWxlSUQgdGhhdCBjYW4gYmVcbiAgICB1c2VkIGJ5IFBsYWNlbWVudCB0byBrZWVwIGZhZGluZyBvcGFjaXR5IHN0YXRlcyBjb25zaXN0ZW50IGFuZCB0b1xuICAgIGRlZHVwbGljYXRlIGxhYmVscy5cblxuICAgIFRoZSBDcm9zc1RpbGVTeW1ib2xJbmRleCBpbmRleGVzIGFsbCB0aGUgY3VycmVudCBzeW1ib2wgaW5zdGFuY2VzIGFuZFxuICAgIHRoZWlyIGNyb3NzVGlsZUlEcy4gV2hlbiBhIHN5bWJvbCBidWNrZXQgZ2V0cyBhZGRlZCBvciB1cGRhdGVkLCB0aGVcbiAgICBpbmRleCBhc3NpZ25zIGEgY3Jvc3NUaWxlSUQgdG8gZWFjaCBvZiBpdCdzIHN5bWJvbCBpbnN0YW5jZXMgYnkgZWl0aGVyXG4gICAgbWF0Y2hpbmcgaXQgd2l0aCBhbiBleGlzdGluZyBpZCBvciBhc3NpZ25pbmcgYSBuZXcgb25lLlxuKi9cblxuLy8gUm91bmQgYW5jaG9yIHBvc2l0aW9ucyB0byByb3VnaGx5IDQgcGl4ZWwgZ3JpZFxuY29uc3Qgcm91bmRpbmdGYWN0b3IgPSA1MTIgLyBFWFRFTlQgLyAyO1xuXG5jbGFzcyBUaWxlTGF5ZXJJbmRleCB7XG4gICAgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEO1xuICAgIGluZGV4ZWRTeW1ib2xJbnN0YW5jZXM6IHtbc3RyaW5nXTogQXJyYXk8e1xuICAgICAgICBjcm9zc1RpbGVJRDogbnVtYmVyLFxuICAgICAgICBjb29yZDoge1xuICAgICAgICAgICAgeDogbnVtYmVyLFxuICAgICAgICAgICAgeTogbnVtYmVyXG4gICAgICAgIH1cbiAgICB9Pn07XG4gICAgYnVja2V0SW5zdGFuY2VJZDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCBzeW1ib2xJbnN0YW5jZXM6IEFycmF5PFN5bWJvbEluc3RhbmNlPiwgYnVja2V0SW5zdGFuY2VJZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudGlsZUlEID0gdGlsZUlEO1xuICAgICAgICB0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXMgPSB7fTtcbiAgICAgICAgdGhpcy5idWNrZXRJbnN0YW5jZUlkID0gYnVja2V0SW5zdGFuY2VJZDtcblxuICAgICAgICBmb3IgKGNvbnN0IHN5bWJvbEluc3RhbmNlIG9mIHN5bWJvbEluc3RhbmNlcykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gc3ltYm9sSW5zdGFuY2Uua2V5O1xuICAgICAgICAgICAgaWYgKCF0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNba2V5XSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1trZXldID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGlzIHRpbGUgbWF5IGhhdmUgbXVsdGlwbGUgc3ltYm9sIGluc3RhbmNlcyB3aXRoIHRoZSBzYW1lIGtleVxuICAgICAgICAgICAgLy8gU3RvcmUgZWFjaCBvbmUgYWxvbmcgd2l0aCBpdHMgY29vcmRpbmF0ZXNcbiAgICAgICAgICAgIHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1trZXldLnB1c2goe1xuICAgICAgICAgICAgICAgIGNyb3NzVGlsZUlEOiBzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRCxcbiAgICAgICAgICAgICAgICBjb29yZDogdGhpcy5nZXRTY2FsZWRDb29yZGluYXRlcyhzeW1ib2xJbnN0YW5jZSwgdGlsZUlEKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0cyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGlucHV0IHN5bWJvbCBpbnN0YW5jZSBpbnRvIGNvb3JkaW5hdGVzIHRoYXQgYmUgY2FuIGNvbXBhcmVkXG4gICAgLy8gYWdhaW5zdCBvdGhlciBzeW1ib2xzIGluIHRoaXMgaW5kZXguIENvb3JkaW5hdGVzIGFyZTpcbiAgICAvLyAoMSkgd29ybGQtYmFzZWQgKHNvIGFmdGVyIGNvbnZlcnNpb24gdGhlIHNvdXJjZSB0aWxlIGlzIGlycmVsZXZhbnQpXG4gICAgLy8gKDIpIGNvbnZlcnRlZCB0byB0aGUgei1zY2FsZSBvZiB0aGlzIFRpbGVMYXllckluZGV4XG4gICAgLy8gKDMpIGRvd24tc2FtcGxlZCBieSBcInJvdW5kaW5nRmFjdG9yXCIgZnJvbSB0aWxlIGNvb3JkaW5hdGUgcHJlY2lzaW9uIGluIG9yZGVyIHRvIGJlXG4gICAgLy8gICAgIG1vcmUgdG9sZXJhbnQgb2Ygc21hbGwgZGlmZmVyZW5jZXMgYmV0d2VlbiB0aWxlcy5cbiAgICBnZXRTY2FsZWRDb29yZGluYXRlcyhzeW1ib2xJbnN0YW5jZTogU3ltYm9sSW5zdGFuY2UsIGNoaWxkVGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgICAgIGNvbnN0IHpEaWZmZXJlbmNlID0gY2hpbGRUaWxlSUQuY2Fub25pY2FsLnogLSB0aGlzLnRpbGVJRC5jYW5vbmljYWwuejtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSByb3VuZGluZ0ZhY3RvciAvIE1hdGgucG93KDIsIHpEaWZmZXJlbmNlKTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gc3ltYm9sSW5zdGFuY2UuYW5jaG9yO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogTWF0aC5mbG9vcigoY2hpbGRUaWxlSUQuY2Fub25pY2FsLnggKiBFWFRFTlQgKyBhbmNob3IueCkgKiBzY2FsZSksXG4gICAgICAgICAgICB5OiBNYXRoLmZsb29yKChjaGlsZFRpbGVJRC5jYW5vbmljYWwueSAqIEVYVEVOVCArIGFuY2hvci55KSAqIHNjYWxlKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZpbmRNYXRjaGVzKHN5bWJvbEluc3RhbmNlczogQXJyYXk8U3ltYm9sSW5zdGFuY2U+LCBuZXdUaWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHpvb21Dcm9zc1RpbGVJRHM6IHtbY3Jvc3NUaWxlSUQ6IG51bWJlcl06IGJvb2xlYW59KSB7XG4gICAgICAgIGNvbnN0IHRvbGVyYW5jZSA9IHRoaXMudGlsZUlELmNhbm9uaWNhbC56IDwgbmV3VGlsZUlELmNhbm9uaWNhbC56ID8gMSA6IE1hdGgucG93KDIsIHRoaXMudGlsZUlELmNhbm9uaWNhbC56IC0gbmV3VGlsZUlELmNhbm9uaWNhbC56KTtcblxuICAgICAgICBmb3IgKGNvbnN0IHN5bWJvbEluc3RhbmNlIG9mIHN5bWJvbEluc3RhbmNlcykge1xuICAgICAgICAgICAgaWYgKHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEKSB7XG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBoYXMgYSBtYXRjaCwgc2tpcFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpbmRleGVkSW5zdGFuY2VzID0gdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW3N5bWJvbEluc3RhbmNlLmtleV07XG4gICAgICAgICAgICBpZiAoIWluZGV4ZWRJbnN0YW5jZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBObyBzeW1ib2wgd2l0aCB0aGlzIGtleSBpbiB0aGlzIGJ1Y2tldFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzY2FsZWRTeW1ib2xDb29yZCA9IHRoaXMuZ2V0U2NhbGVkQ29vcmRpbmF0ZXMoc3ltYm9sSW5zdGFuY2UsIG5ld1RpbGVJRCk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgdGhpc1RpbGVTeW1ib2wgb2YgaW5kZXhlZEluc3RhbmNlcykge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBhbnkgc3ltYm9sIHdpdGggdGhlIHNhbWUga2V5cyB3aG9zZSBjb29yZGluYXRlcyBhcmUgd2l0aGluIDFcbiAgICAgICAgICAgICAgICAvLyBncmlkIHVuaXQuICh3aXRoIGEgNHB4IGdyaWQsIHRoaXMgY292ZXJzIGEgMTJweCBieSAxMnB4IGFyZWEpXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXNUaWxlU3ltYm9sLmNvb3JkLnggLSBzY2FsZWRTeW1ib2xDb29yZC54KSA8PSB0b2xlcmFuY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnModGhpc1RpbGVTeW1ib2wuY29vcmQueSAtIHNjYWxlZFN5bWJvbENvb3JkLnkpIDw9IHRvbGVyYW5jZSAmJlxuICAgICAgICAgICAgICAgICAgICAhem9vbUNyb3NzVGlsZUlEc1t0aGlzVGlsZVN5bWJvbC5jcm9zc1RpbGVJRF0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25jZSB3ZSd2ZSBtYXJrZWQgb3Vyc2VsdmVzIGR1cGxpY2F0ZSBhZ2FpbnN0IHRoaXMgcGFyZW50IHN5bWJvbCxcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgbGV0IGFueSBvdGhlciBzeW1ib2xzIGF0IHRoZSBzYW1lIHpvb20gbGV2ZWwgZHVwbGljYXRlIGFnYWluc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHNhbWUgcGFyZW50IChzZWUgaXNzdWUgIzU5OTMpXG4gICAgICAgICAgICAgICAgICAgIHpvb21Dcm9zc1RpbGVJRHNbdGhpc1RpbGVTeW1ib2wuY3Jvc3NUaWxlSURdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQgPSB0aGlzVGlsZVN5bWJvbC5jcm9zc1RpbGVJRDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBDcm9zc1RpbGVJRHMge1xuICAgIG1heENyb3NzVGlsZUlEOiBudW1iZXI7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWF4Q3Jvc3NUaWxlSUQgPSAwO1xuICAgIH1cbiAgICBnZW5lcmF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICsrdGhpcy5tYXhDcm9zc1RpbGVJRDtcbiAgICB9XG59XG5cbmNsYXNzIENyb3NzVGlsZVN5bWJvbExheWVySW5kZXgge1xuICAgIGluZGV4ZXM6IHtbem9vbTogc3RyaW5nIHwgbnVtYmVyXToge1t0aWxlSWQ6IHN0cmluZyB8IG51bWJlcl06IFRpbGVMYXllckluZGV4fX07XG4gICAgdXNlZENyb3NzVGlsZUlEczoge1t6b29tOiBzdHJpbmcgfCBudW1iZXJdOiB7W2Nyb3NzVGlsZUlEOiBudW1iZXJdOiBib29sZWFufX07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbmRleGVzID0ge307XG4gICAgICAgIHRoaXMudXNlZENyb3NzVGlsZUlEcyA9IHt9O1xuICAgIH1cblxuICAgIGFkZEJ1Y2tldCh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIGJ1Y2tldDogU3ltYm9sQnVja2V0LCBjcm9zc1RpbGVJRHM6IENyb3NzVGlsZUlEcykge1xuICAgICAgICBpZiAodGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl0gJiZcbiAgICAgICAgICAgIHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdW3RpbGVJRC5rZXldKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl1bdGlsZUlELmtleV0uYnVja2V0SW5zdGFuY2VJZCA9PT1cbiAgICAgICAgICAgICAgICBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UncmUgcmVwbGFjaW5nIHRoaXMgYnVja2V0IHdpdGggYW4gdXBkYXRlZCB2ZXJzaW9uXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBvbGQgYnVja2V0J3MgXCJ1c2VkIGNyb3NzVGlsZUlEc1wiIG5vdyBzbyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gdGhlIG5ldyBidWNrZXQgY2FuIGNsYWltIHRoZW0uXG4gICAgICAgICAgICAgICAgLy8gVGhlIG9sZCBpbmRleCBlbnRyaWVzIHRoZW1zZWx2ZXMgc3RpY2sgYXJvdW5kIHVudGlsXG4gICAgICAgICAgICAgICAgLy8gJ3JlbW92ZVN0YWxlQnVja2V0cycgaXMgY2FsbGVkLlxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHRpbGVJRC5vdmVyc2NhbGVkWixcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl1bdGlsZUlELmtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBzeW1ib2xJbnN0YW5jZSBvZiBidWNrZXQuc3ltYm9sSW5zdGFuY2VzKSB7XG4gICAgICAgICAgICBzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudXNlZENyb3NzVGlsZUlEc1t0aWxlSUQub3ZlcnNjYWxlZFpdKSB7XG4gICAgICAgICAgICB0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdGlsZUlELm92ZXJzY2FsZWRaXSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHpvb21Dcm9zc1RpbGVJRHMgPSB0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdGlsZUlELm92ZXJzY2FsZWRaXTtcblxuICAgICAgICBmb3IgKGNvbnN0IHpvb20gaW4gdGhpcy5pbmRleGVzKSB7XG4gICAgICAgICAgICBjb25zdCB6b29tSW5kZXhlcyA9IHRoaXMuaW5kZXhlc1t6b29tXTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIoem9vbSkgPiB0aWxlSUQub3ZlcnNjYWxlZFopIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHpvb21JbmRleGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSB6b29tSW5kZXhlc1tpZF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZEluZGV4LnRpbGVJRC5pc0NoaWxkT2YodGlsZUlEKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRJbmRleC5maW5kTWF0Y2hlcyhidWNrZXQuc3ltYm9sSW5zdGFuY2VzLCB0aWxlSUQsIHpvb21Dcm9zc1RpbGVJRHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRDb29yZCA9IHRpbGVJRC5zY2FsZWRUbyhOdW1iZXIoem9vbSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudEluZGV4ID0gem9vbUluZGV4ZXNbcGFyZW50Q29vcmQua2V5XTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50SW5kZXguZmluZE1hdGNoZXMoYnVja2V0LnN5bWJvbEluc3RhbmNlcywgdGlsZUlELCB6b29tQ3Jvc3NUaWxlSURzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHN5bWJvbEluc3RhbmNlIG9mIGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMpIHtcbiAgICAgICAgICAgIGlmICghc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQpIHtcbiAgICAgICAgICAgICAgICAvLyBzeW1ib2wgZGlkIG5vdCBtYXRjaCBhbnkga25vd24gc3ltYm9sLCBhc3NpZ24gYSBuZXcgaWRcbiAgICAgICAgICAgICAgICBzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRCA9IGNyb3NzVGlsZUlEcy5nZW5lcmF0ZSgpO1xuICAgICAgICAgICAgICAgIHpvb21Dcm9zc1RpbGVJRHNbc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmluZGV4ZXNbdGlsZUlELm92ZXJzY2FsZWRaXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4ZXNbdGlsZUlELm92ZXJzY2FsZWRaXSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdW3RpbGVJRC5rZXldID0gbmV3IFRpbGVMYXllckluZGV4KHRpbGVJRCwgYnVja2V0LnN5bWJvbEluc3RhbmNlcywgYnVja2V0LmJ1Y2tldEluc3RhbmNlSWQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyh6b29tOiBzdHJpbmcgfCBudW1iZXIsIHJlbW92ZWRCdWNrZXQ6IFRpbGVMYXllckluZGV4KSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlbW92ZWRCdWNrZXQuaW5kZXhlZFN5bWJvbEluc3RhbmNlcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzeW1ib2xJbnN0YW5jZSBvZiByZW1vdmVkQnVja2V0LmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNba2V5XSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnVzZWRDcm9zc1RpbGVJRHNbem9vbV1bc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlU3RhbGVCdWNrZXRzKGN1cnJlbnRJRHM6IHsgW3N0cmluZyB8IG51bWJlcl06IGJvb2xlYW4gfSkge1xuICAgICAgICBsZXQgdGlsZXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgeiBpbiB0aGlzLmluZGV4ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHpvb21JbmRleGVzID0gdGhpcy5pbmRleGVzW3pdO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0aWxlS2V5IGluIHpvb21JbmRleGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50SURzW3pvb21JbmRleGVzW3RpbGVLZXldLmJ1Y2tldEluc3RhbmNlSWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHosIHpvb21JbmRleGVzW3RpbGVLZXldKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHpvb21JbmRleGVzW3RpbGVLZXldO1xuICAgICAgICAgICAgICAgICAgICB0aWxlc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGlsZXNDaGFuZ2VkO1xuICAgIH1cbn1cblxuY2xhc3MgQ3Jvc3NUaWxlU3ltYm9sSW5kZXgge1xuICAgIGxheWVySW5kZXhlczoge1tsYXllcklkOiBzdHJpbmddOiBDcm9zc1RpbGVTeW1ib2xMYXllckluZGV4fTtcbiAgICBjcm9zc1RpbGVJRHM6IENyb3NzVGlsZUlEcztcbiAgICBtYXhCdWNrZXRJbnN0YW5jZUlkOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5sYXllckluZGV4ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5jcm9zc1RpbGVJRHMgPSBuZXcgQ3Jvc3NUaWxlSURzKCk7XG4gICAgICAgIHRoaXMubWF4QnVja2V0SW5zdGFuY2VJZCA9IDA7XG4gICAgfVxuXG4gICAgYWRkTGF5ZXIoc3R5bGVMYXllcjogU3R5bGVMYXllciwgdGlsZXM6IEFycmF5PFRpbGU+KSB7XG4gICAgICAgIGxldCBsYXllckluZGV4ID0gdGhpcy5sYXllckluZGV4ZXNbc3R5bGVMYXllci5pZF07XG4gICAgICAgIGlmIChsYXllckluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxheWVySW5kZXggPSB0aGlzLmxheWVySW5kZXhlc1tzdHlsZUxheWVyLmlkXSA9IG5ldyBDcm9zc1RpbGVTeW1ib2xMYXllckluZGV4KCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3ltYm9sQnVja2V0c0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgY3VycmVudEJ1Y2tldElEcyA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgdGlsZSBvZiB0aWxlcykge1xuICAgICAgICAgICAgY29uc3Qgc3ltYm9sQnVja2V0ID0gKCh0aWxlLmdldEJ1Y2tldChzdHlsZUxheWVyKTogYW55KTogU3ltYm9sQnVja2V0KTtcbiAgICAgICAgICAgIGlmICghc3ltYm9sQnVja2V0KSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKCFzeW1ib2xCdWNrZXQuYnVja2V0SW5zdGFuY2VJZCkge1xuICAgICAgICAgICAgICAgIHN5bWJvbEJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkID0gKyt0aGlzLm1heEJ1Y2tldEluc3RhbmNlSWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsYXllckluZGV4LmFkZEJ1Y2tldCh0aWxlLnRpbGVJRCwgc3ltYm9sQnVja2V0LCB0aGlzLmNyb3NzVGlsZUlEcykpIHtcbiAgICAgICAgICAgICAgICBzeW1ib2xCdWNrZXRzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50QnVja2V0SURzW3N5bWJvbEJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkXSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGF5ZXJJbmRleC5yZW1vdmVTdGFsZUJ1Y2tldHMoY3VycmVudEJ1Y2tldElEcykpIHtcbiAgICAgICAgICAgIHN5bWJvbEJ1Y2tldHNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzeW1ib2xCdWNrZXRzQ2hhbmdlZDtcbiAgICB9XG5cbiAgICBwcnVuZVVudXNlZExheWVycyh1c2VkTGF5ZXJzOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIGNvbnN0IHVzZWRMYXllck1hcCA9IHt9O1xuICAgICAgICB1c2VkTGF5ZXJzLmZvckVhY2goKHVzZWRMYXllcikgPT4ge1xuICAgICAgICAgICAgdXNlZExheWVyTWFwW3VzZWRMYXllcl0gPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChjb25zdCBsYXllcklkIGluIHRoaXMubGF5ZXJJbmRleGVzKSB7XG4gICAgICAgICAgICBpZiAoIXVzZWRMYXllck1hcFtsYXllcklkXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxheWVySW5kZXhlc1tsYXllcklkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ3Jvc3NUaWxlU3ltYm9sSW5kZXg7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCB7IEV2ZW50LCBFcnJvckV2ZW50LCBFdmVudGVkIH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCBTdHlsZUxheWVyIGZyb20gJy4vc3R5bGVfbGF5ZXInO1xuaW1wb3J0IGNyZWF0ZVN0eWxlTGF5ZXIgZnJvbSAnLi9jcmVhdGVfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IGxvYWRTcHJpdGUgZnJvbSAnLi9sb2FkX3Nwcml0ZSc7XG5pbXBvcnQgSW1hZ2VNYW5hZ2VyIGZyb20gJy4uL3JlbmRlci9pbWFnZV9tYW5hZ2VyJztcbmltcG9ydCBHbHlwaE1hbmFnZXIgZnJvbSAnLi4vcmVuZGVyL2dseXBoX21hbmFnZXInO1xuaW1wb3J0IExpZ2h0IGZyb20gJy4vbGlnaHQnO1xuaW1wb3J0IExpbmVBdGxhcyBmcm9tICcuLi9yZW5kZXIvbGluZV9hdGxhcyc7XG5pbXBvcnQgeyBwaWNrLCBjbG9uZSwgZXh0ZW5kLCBkZWVwRXF1YWwsIGZpbHRlck9iamVjdCwgbWFwT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IGdldEpTT04sIFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgeyBpc01hcGJveFVSTCwgbm9ybWFsaXplU3R5bGVVUkwgfSBmcm9tICcuLi91dGlsL21hcGJveCc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyJztcbmltcG9ydCB7IHZhbGlkYXRlU3R5bGUsIGVtaXRWYWxpZGF0aW9uRXJyb3JzIH0gZnJvbSAnLi92YWxpZGF0ZV9zdHlsZSc7XG5pbXBvcnQge1xuICAgIGdldFR5cGUgYXMgZ2V0U291cmNlVHlwZSxcbiAgICBzZXRUeXBlIGFzIHNldFNvdXJjZVR5cGVcbn0gZnJvbSAnLi4vc291cmNlL3NvdXJjZSc7XG5pbXBvcnQgeyBxdWVyeVJlbmRlcmVkRmVhdHVyZXMsIHF1ZXJ5U291cmNlRmVhdHVyZXMgfSBmcm9tICcuLi9zb3VyY2UvcXVlcnlfZmVhdHVyZXMnO1xuaW1wb3J0IFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IEdlb0pTT05Tb3VyY2UgZnJvbSAnLi4vc291cmNlL2dlb2pzb25fc291cmNlJztcbmltcG9ydCBzdHlsZVNwZWMgZnJvbSAnLi4vc3R5bGUtc3BlYy9yZWZlcmVuY2UvbGF0ZXN0JztcbmltcG9ydCBnZXRXb3JrZXJQb29sIGZyb20gJy4uL3V0aWwvZ2xvYmFsX3dvcmtlcl9wb29sJztcbmltcG9ydCBkZXJlZiBmcm9tICcuLi9zdHlsZS1zcGVjL2RlcmVmJztcbmltcG9ydCBkaWZmU3R5bGVzLCB7b3BlcmF0aW9ucyBhcyBkaWZmT3BlcmF0aW9uc30gZnJvbSAnLi4vc3R5bGUtc3BlYy9kaWZmJztcbmltcG9ydCB7XG4gICAgcmVnaXN0ZXJGb3JQbHVnaW5BdmFpbGFiaWxpdHksXG4gICAgZXZlbnRlZCBhcyBydGxUZXh0UGx1Z2luRXZlbnRlZFxufSBmcm9tICcuLi9zb3VyY2UvcnRsX3RleHRfcGx1Z2luJztcbmltcG9ydCBQYXVzZWFibGVQbGFjZW1lbnQgZnJvbSAnLi9wYXVzZWFibGVfcGxhY2VtZW50JztcbmltcG9ydCBab29tSGlzdG9yeSBmcm9tICcuL3pvb21faGlzdG9yeSc7XG5pbXBvcnQgQ3Jvc3NUaWxlU3ltYm9sSW5kZXggZnJvbSAnLi4vc3ltYm9sL2Nyb3NzX3RpbGVfc3ltYm9sX2luZGV4JztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcCc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybSc7XG5pbXBvcnQgdHlwZSB7U291cmNlfSBmcm9tICcuLi9zb3VyY2Uvc291cmNlJztcbmltcG9ydCB0eXBlIHtTdHlsZUltYWdlfSBmcm9tICcuL3N0eWxlX2ltYWdlJztcbmltcG9ydCB0eXBlIHtTdHlsZUdseXBofSBmcm9tICcuL3N0eWxlX2dseXBoJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuaW1wb3J0IHR5cGUgRXZhbHVhdGlvblBhcmFtZXRlcnMgZnJvbSAnLi9ldmFsdWF0aW9uX3BhcmFtZXRlcnMnO1xuaW1wb3J0IHR5cGUgUGxhY2VtZW50IGZyb20gJy4uL3N5bWJvbC9wbGFjZW1lbnQnO1xuXG5jb25zdCBzdXBwb3J0ZWREaWZmT3BlcmF0aW9ucyA9IHBpY2soZGlmZk9wZXJhdGlvbnMsIFtcbiAgICAnYWRkTGF5ZXInLFxuICAgICdyZW1vdmVMYXllcicsXG4gICAgJ3NldFBhaW50UHJvcGVydHknLFxuICAgICdzZXRMYXlvdXRQcm9wZXJ0eScsXG4gICAgJ3NldEZpbHRlcicsXG4gICAgJ2FkZFNvdXJjZScsXG4gICAgJ3JlbW92ZVNvdXJjZScsXG4gICAgJ3NldExheWVyWm9vbVJhbmdlJyxcbiAgICAnc2V0TGlnaHQnLFxuICAgICdzZXRUcmFuc2l0aW9uJyxcbiAgICAnc2V0R2VvSlNPTlNvdXJjZURhdGEnXG4gICAgLy8gJ3NldEdseXBocycsXG4gICAgLy8gJ3NldFNwcml0ZScsXG5dKTtcblxuY29uc3QgaWdub3JlZERpZmZPcGVyYXRpb25zID0gcGljayhkaWZmT3BlcmF0aW9ucywgW1xuICAgICdzZXRDZW50ZXInLFxuICAgICdzZXRab29tJyxcbiAgICAnc2V0QmVhcmluZycsXG4gICAgJ3NldFBpdGNoJ1xuXSk7XG5cbmV4cG9ydCB0eXBlIFN0eWxlT3B0aW9ucyA9IHtcbiAgICB2YWxpZGF0ZT86IGJvb2xlYW4sXG4gICAgbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5Pzogc3RyaW5nXG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFN0eWxlIGV4dGVuZHMgRXZlbnRlZCB7XG4gICAgbWFwOiBNYXA7XG4gICAgc3R5bGVzaGVldDogU3R5bGVTcGVjaWZpY2F0aW9uO1xuICAgIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gICAgaW1hZ2VNYW5hZ2VyOiBJbWFnZU1hbmFnZXI7XG4gICAgZ2x5cGhNYW5hZ2VyOiBHbHlwaE1hbmFnZXI7XG4gICAgbGluZUF0bGFzOiBMaW5lQXRsYXM7XG4gICAgbGlnaHQ6IExpZ2h0O1xuXG4gICAgX2xheWVyczoge1tzdHJpbmddOiBTdHlsZUxheWVyfTtcbiAgICBfb3JkZXI6IEFycmF5PHN0cmluZz47XG4gICAgc291cmNlQ2FjaGVzOiB7W3N0cmluZ106IFNvdXJjZUNhY2hlfTtcbiAgICB6b29tSGlzdG9yeTogWm9vbUhpc3Rvcnk7XG4gICAgX2xvYWRlZDogYm9vbGVhbjtcbiAgICBfcnRsVGV4dFBsdWdpbkNhbGxiYWNrOiBGdW5jdGlvbjtcbiAgICBfY2hhbmdlZDogYm9vbGVhbjtcbiAgICBfdXBkYXRlZFNvdXJjZXM6IHtbc3RyaW5nXTogJ2NsZWFyJyB8ICdyZWxvYWQnfTtcbiAgICBfdXBkYXRlZExheWVyczoge1tzdHJpbmddOiB0cnVlfTtcbiAgICBfcmVtb3ZlZExheWVyczoge1tzdHJpbmddOiBTdHlsZUxheWVyfTtcbiAgICBfdXBkYXRlZFBhaW50UHJvcHM6IHtbbGF5ZXI6IHN0cmluZ106IHRydWV9O1xuICAgIF9sYXllck9yZGVyQ2hhbmdlZDogYm9vbGVhbjtcblxuICAgIGNyb3NzVGlsZVN5bWJvbEluZGV4OiBDcm9zc1RpbGVTeW1ib2xJbmRleDtcbiAgICBwYXVzZWFibGVQbGFjZW1lbnQ6IFBhdXNlYWJsZVBsYWNlbWVudDtcbiAgICBwbGFjZW1lbnQ6IFBsYWNlbWVudDtcbiAgICB6OiBudW1iZXI7XG5cbiAgICAvLyBleHBvc2VkIHRvIGFsbG93IHN0dWJiaW5nIGJ5IHVuaXQgdGVzdHNcbiAgICBzdGF0aWMgZ2V0U291cmNlVHlwZTogdHlwZW9mIGdldFNvdXJjZVR5cGU7XG4gICAgc3RhdGljIHNldFNvdXJjZVR5cGU6IHR5cGVvZiBzZXRTb3VyY2VUeXBlO1xuICAgIHN0YXRpYyByZWdpc3RlckZvclBsdWdpbkF2YWlsYWJpbGl0eTogdHlwZW9mIHJlZ2lzdGVyRm9yUGx1Z2luQXZhaWxhYmlsaXR5O1xuXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXAsIG9wdGlvbnM6IFN0eWxlT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKGdldFdvcmtlclBvb2woKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyID0gbmV3IEltYWdlTWFuYWdlcigpO1xuICAgICAgICB0aGlzLmdseXBoTWFuYWdlciA9IG5ldyBHbHlwaE1hbmFnZXIobWFwLl90cmFuc2Zvcm1SZXF1ZXN0LCBvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSk7XG4gICAgICAgIHRoaXMubGluZUF0bGFzID0gbmV3IExpbmVBdGxhcygyNTYsIDUxMik7XG4gICAgICAgIHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXggPSBuZXcgQ3Jvc3NUaWxlU3ltYm9sSW5kZXgoKTtcblxuICAgICAgICB0aGlzLl9sYXllcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fb3JkZXIgID0gW107XG4gICAgICAgIHRoaXMuc291cmNlQ2FjaGVzID0ge307XG4gICAgICAgIHRoaXMuem9vbUhpc3RvcnkgPSBuZXcgWm9vbUhpc3RvcnkoKTtcbiAgICAgICAgdGhpcy5fbG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcmVzZXRVcGRhdGVzKCk7XG5cbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjayA9IFN0eWxlLnJlZ2lzdGVyRm9yUGx1Z2luQXZhaWxhYmlsaXR5KChhcmdzKSA9PiB7XG4gICAgICAgICAgICBzZWxmLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCdsb2FkUlRMVGV4dFBsdWdpbicsIGFyZ3MucGx1Z2luVVJMLCBhcmdzLmVycm9yQ2FsbGJhY2spO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiBzZWxmLnNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgICAgIHNlbGYuc291cmNlQ2FjaGVzW2lkXS5yZWxvYWQoKTsgLy8gU2hvdWxkIGJlIGEgbm8tb3AgaWYgdGhlIHBsdWdpbiBsb2FkcyBiZWZvcmUgYW55IHRpbGVzIGxvYWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5vbignZGF0YScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGFUeXBlICE9PSAnc291cmNlJyB8fCBldmVudC5zb3VyY2VEYXRhVHlwZSAhPT0gJ21ldGFkYXRhJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLnNvdXJjZUNhY2hlc1tldmVudC5zb3VyY2VJZF07XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgIGlmICghc291cmNlIHx8ICFzb3VyY2UudmVjdG9yTGF5ZXJJZHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiB0aGlzLl9sYXllcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklkXTtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuc291cmNlID09PSBzb3VyY2UuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsaWRhdGVMYXllcihsYXllcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkVVJMKHVybDogc3RyaW5nLCBvcHRpb25zOiB7XG4gICAgICAgIHZhbGlkYXRlPzogYm9vbGVhbixcbiAgICAgICAgYWNjZXNzVG9rZW4/OiBzdHJpbmdcbiAgICB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YWxvYWRpbmcnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG5cbiAgICAgICAgY29uc3QgdmFsaWRhdGUgPSB0eXBlb2Ygb3B0aW9ucy52YWxpZGF0ZSA9PT0gJ2Jvb2xlYW4nID9cbiAgICAgICAgICAgIG9wdGlvbnMudmFsaWRhdGUgOiAhaXNNYXBib3hVUkwodXJsKTtcblxuICAgICAgICB1cmwgPSBub3JtYWxpemVTdHlsZVVSTCh1cmwsIG9wdGlvbnMuYWNjZXNzVG9rZW4pO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5tYXAuX3RyYW5zZm9ybVJlcXVlc3QodXJsLCBSZXNvdXJjZVR5cGUuU3R5bGUpO1xuXG4gICAgICAgIGdldEpTT04ocmVxdWVzdCwgKGVycm9yLCBqc29uKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyb3IpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoanNvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWQoKGpzb246IGFueSksIHZhbGlkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9hZEpTT04oanNvbjogU3R5bGVTcGVjaWZpY2F0aW9uLCBvcHRpb25zOiB7XG4gICAgICAgIHZhbGlkYXRlPzogYm9vbGVhblxuICAgIH0gPSB7fSkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3N0eWxlJ30pKTtcblxuICAgICAgICBicm93c2VyLmZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWQoanNvbiwgb3B0aW9ucy52YWxpZGF0ZSAhPT0gZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfbG9hZChqc29uOiBTdHlsZVNwZWNpZmljYXRpb24sIHZhbGlkYXRlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2YWxpZGF0ZSAmJiBlbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLCB2YWxpZGF0ZVN0eWxlKGpzb24pKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdHlsZXNoZWV0ID0ganNvbjtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIGpzb24uc291cmNlcykge1xuICAgICAgICAgICAgdGhpcy5hZGRTb3VyY2UoaWQsIGpzb24uc291cmNlc1tpZF0sIHt2YWxpZGF0ZTogZmFsc2V9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqc29uLnNwcml0ZSkge1xuICAgICAgICAgICAgbG9hZFNwcml0ZShqc29uLnNwcml0ZSwgdGhpcy5tYXAuX3RyYW5zZm9ybVJlcXVlc3QsIChlcnIsIGltYWdlcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KGVycikpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1hZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gaW1hZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlTWFuYWdlci5hZGRJbWFnZShpZCwgaW1hZ2VzW2lkXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlTWFuYWdlci5zZXRMb2FkZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3N0eWxlJ30pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIuc2V0TG9hZGVkKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbHlwaE1hbmFnZXIuc2V0VVJMKGpzb24uZ2x5cGhzKTtcblxuICAgICAgICBjb25zdCBsYXllcnMgPSBkZXJlZih0aGlzLnN0eWxlc2hlZXQubGF5ZXJzKTtcblxuICAgICAgICB0aGlzLl9vcmRlciA9IGxheWVycy5tYXAoKGxheWVyKSA9PiBsYXllci5pZCk7XG5cbiAgICAgICAgdGhpcy5fbGF5ZXJzID0ge307XG4gICAgICAgIGZvciAobGV0IGxheWVyIG9mIGxheWVycykge1xuICAgICAgICAgICAgbGF5ZXIgPSBjcmVhdGVTdHlsZUxheWVyKGxheWVyKTtcbiAgICAgICAgICAgIGxheWVyLnNldEV2ZW50ZWRQYXJlbnQodGhpcywge2xheWVyOiB7aWQ6IGxheWVyLmlkfX0pO1xuICAgICAgICAgICAgdGhpcy5fbGF5ZXJzW2xheWVyLmlkXSA9IGxheWVyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnc2V0TGF5ZXJzJywgdGhpcy5fc2VyaWFsaXplTGF5ZXJzKHRoaXMuX29yZGVyKSk7XG5cbiAgICAgICAgdGhpcy5saWdodCA9IG5ldyBMaWdodCh0aGlzLnN0eWxlc2hlZXQubGlnaHQpO1xuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3N0eWxlLmxvYWQnKSk7XG4gICAgfVxuXG4gICAgX3ZhbGlkYXRlTGF5ZXIobGF5ZXI6IFN0eWxlTGF5ZXIpIHtcbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLnNvdXJjZUNhY2hlc1tsYXllci5zb3VyY2VdO1xuICAgICAgICBpZiAoIXNvdXJjZUNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2VMYXllciA9IGxheWVyLnNvdXJjZUxheWVyO1xuICAgICAgICBpZiAoIXNvdXJjZUxheWVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKTtcbiAgICAgICAgaWYgKHNvdXJjZS50eXBlID09PSAnZ2VvanNvbicgfHwgKHNvdXJjZS52ZWN0b3JMYXllcklkcyAmJiBzb3VyY2UudmVjdG9yTGF5ZXJJZHMuaW5kZXhPZihzb3VyY2VMYXllcikgPT09IC0xKSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgU291cmNlIGxheWVyIFwiJHtzb3VyY2VMYXllcn1cIiBgICtcbiAgICAgICAgICAgICAgICBgZG9lcyBub3QgZXhpc3Qgb24gc291cmNlIFwiJHtzb3VyY2UuaWR9XCIgYCArXG4gICAgICAgICAgICAgICAgYGFzIHNwZWNpZmllZCBieSBzdHlsZSBsYXllciBcIiR7bGF5ZXIuaWR9XCJgXG4gICAgICAgICAgICApKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9hZGVkKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLl91cGRhdGVkU291cmNlcykubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5zb3VyY2VDYWNoZXMpXG4gICAgICAgICAgICBpZiAoIXRoaXMuc291cmNlQ2FjaGVzW2lkXS5sb2FkZWQoKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKCF0aGlzLmltYWdlTWFuYWdlci5pc0xvYWRlZCgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIF9zZXJpYWxpemVMYXllcnMoaWRzOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIHJldHVybiBpZHMubWFwKChpZCkgPT4gdGhpcy5fbGF5ZXJzW2lkXS5zZXJpYWxpemUoKSk7XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLmxpZ2h0ICYmIHRoaXMubGlnaHQuaGFzVHJhbnNpdGlvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNvdXJjZUNhY2hlc1tpZF0uaGFzVHJhbnNpdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX2xheWVycykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xheWVyc1tpZF0uaGFzVHJhbnNpdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX2NoZWNrTG9hZGVkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xvYWRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdHlsZSBpcyBub3QgZG9uZSBsb2FkaW5nJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBseSBxdWV1ZWQgc3R5bGUgdXBkYXRlcyBpbiBhIGJhdGNoIGFuZCByZWNhbGN1bGF0ZSB6b29tLWRlcGVuZGVudCBwYWludCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIHVwZGF0ZShwYXJhbWV0ZXJzOiBFdmFsdWF0aW9uUGFyYW1ldGVycykge1xuICAgICAgICBpZiAoIXRoaXMuX2xvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NoYW5nZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRJZHMgPSBPYmplY3Qua2V5cyh0aGlzLl91cGRhdGVkTGF5ZXJzKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZWRJZHMgPSBPYmplY3Qua2V5cyh0aGlzLl9yZW1vdmVkTGF5ZXJzKTtcblxuICAgICAgICAgICAgaWYgKHVwZGF0ZWRJZHMubGVuZ3RoIHx8IHJlbW92ZWRJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlV29ya2VyTGF5ZXJzKHVwZGF0ZWRJZHMsIHJlbW92ZWRJZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl91cGRhdGVkU291cmNlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2lkXTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoYWN0aW9uID09PSAncmVsb2FkJyB8fCBhY3Rpb24gPT09ICdjbGVhcicpO1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdyZWxvYWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbG9hZFNvdXJjZShpZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdjbGVhcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJTb3VyY2UoaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl91cGRhdGVkUGFpbnRQcm9wcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xheWVyc1tpZF0udXBkYXRlVHJhbnNpdGlvbnMocGFyYW1ldGVycyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubGlnaHQudXBkYXRlVHJhbnNpdGlvbnMocGFyYW1ldGVycyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0VXBkYXRlcygpO1xuXG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBzb3VyY2VJZCBpbiB0aGlzLnNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXNbc291cmNlSWRdLnVzZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBvZiB0aGlzLl9vcmRlcikge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJJZF07XG5cbiAgICAgICAgICAgIGxheWVyLnJlY2FsY3VsYXRlKHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgaWYgKCFsYXllci5pc0hpZGRlbihwYXJhbWV0ZXJzLnpvb20pICYmIGxheWVyLnNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW2xheWVyLnNvdXJjZV0udXNlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxpZ2h0LnJlY2FsY3VsYXRlKHBhcmFtZXRlcnMpO1xuICAgICAgICB0aGlzLnogPSBwYXJhbWV0ZXJzLnpvb207XG4gICAgfVxuXG4gICAgX3VwZGF0ZVdvcmtlckxheWVycyh1cGRhdGVkSWRzOiBBcnJheTxzdHJpbmc+LCByZW1vdmVkSWRzOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoJ3VwZGF0ZUxheWVycycsIHtcbiAgICAgICAgICAgIGxheWVyczogdGhpcy5fc2VyaWFsaXplTGF5ZXJzKHVwZGF0ZWRJZHMpLFxuICAgICAgICAgICAgcmVtb3ZlZElkczogcmVtb3ZlZElkc1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfcmVzZXRVcGRhdGVzKCkge1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlZExheWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9yZW1vdmVkTGF5ZXJzID0ge307XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlZFNvdXJjZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fdXBkYXRlZFBhaW50UHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhpcyBzdHlsZSdzIHN0YXRlIHRvIG1hdGNoIHRoZSBnaXZlbiBzdHlsZSBKU09OLCBwZXJmb3JtaW5nIG9ubHlcbiAgICAgKiB0aGUgbmVjZXNzYXJ5IG11dGF0aW9ucy5cbiAgICAgKlxuICAgICAqIE1heSB0aHJvdyBhbiBFcnJvciAoJ1VuaW1wbGVtZW50ZWQ6IE1FVEhPRCcpIGlmIHRoZSBtYXBib3gtZ2wtc3R5bGUtc3BlY1xuICAgICAqIGRpZmYgYWxnb3JpdGhtIHByb2R1Y2VzIGFuIG9wZXJhdGlvbiB0aGF0IGlzIG5vdCBzdXBwb3J0ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBhbnkgY2hhbmdlcyB3ZXJlIG1hZGU7IGZhbHNlIG90aGVyd2lzZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc2V0U3RhdGUobmV4dFN0YXRlOiBTdHlsZVNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBpZiAoZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcywgdmFsaWRhdGVTdHlsZShuZXh0U3RhdGUpKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIG5leHRTdGF0ZSA9IGNsb25lKG5leHRTdGF0ZSk7XG4gICAgICAgIG5leHRTdGF0ZS5sYXllcnMgPSBkZXJlZihuZXh0U3RhdGUubGF5ZXJzKTtcblxuICAgICAgICBjb25zdCBjaGFuZ2VzID0gZGlmZlN0eWxlcyh0aGlzLnNlcmlhbGl6ZSgpLCBuZXh0U3RhdGUpXG4gICAgICAgICAgICAuZmlsdGVyKG9wID0+ICEob3AuY29tbWFuZCBpbiBpZ25vcmVkRGlmZk9wZXJhdGlvbnMpKTtcblxuICAgICAgICBpZiAoY2hhbmdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVuaW1wbGVtZW50ZWRPcHMgPSBjaGFuZ2VzLmZpbHRlcihvcCA9PiAhKG9wLmNvbW1hbmQgaW4gc3VwcG9ydGVkRGlmZk9wZXJhdGlvbnMpKTtcbiAgICAgICAgaWYgKHVuaW1wbGVtZW50ZWRPcHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmltcGxlbWVudGVkOiAke3VuaW1wbGVtZW50ZWRPcHMubWFwKG9wID0+IG9wLmNvbW1hbmQpLmpvaW4oJywgJyl9LmApO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hhbmdlcy5mb3JFYWNoKChvcCkgPT4ge1xuICAgICAgICAgICAgaWYgKG9wLmNvbW1hbmQgPT09ICdzZXRUcmFuc2l0aW9uJykge1xuICAgICAgICAgICAgICAgIC8vIGB0cmFuc2l0aW9uYCBpcyBhbHdheXMgcmVhZCBkaXJlY3RseSBvZmYgb2ZcbiAgICAgICAgICAgICAgICAvLyBgdGhpcy5zdHlsZXNoZWV0YCwgd2hpY2ggd2UgdXBkYXRlIGJlbG93XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKHRoaXM6IGFueSlbb3AuY29tbWFuZF0uYXBwbHkodGhpcywgb3AuYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3R5bGVzaGVldCA9IG5leHRTdGF0ZTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBhZGRJbWFnZShpZDogc3RyaW5nLCBpbWFnZTogU3R5bGVJbWFnZSkge1xuICAgICAgICBpZiAodGhpcy5nZXRJbWFnZShpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKCdBbiBpbWFnZSB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cy4nKSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKGlkLCBpbWFnZSk7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG4gICAgfVxuXG4gICAgZ2V0SW1hZ2UoaWQ6IHN0cmluZyk6ID9TdHlsZUltYWdlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VNYW5hZ2VyLmdldEltYWdlKGlkKTtcbiAgICB9XG5cbiAgICByZW1vdmVJbWFnZShpZDogc3RyaW5nKSB7XG4gICAgICAgIGlmICghdGhpcy5nZXRJbWFnZShpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKCdObyBpbWFnZSB3aXRoIHRoaXMgbmFtZSBleGlzdHMuJykpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmltYWdlTWFuYWdlci5yZW1vdmVJbWFnZShpZCk7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG4gICAgfVxuXG4gICAgYWRkU291cmNlKGlkOiBzdHJpbmcsIHNvdXJjZTogU291cmNlU3BlY2lmaWNhdGlvbiwgb3B0aW9ucz86IHt2YWxpZGF0ZT86IGJvb2xlYW59KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc291cmNlQ2FjaGVzW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIGFscmVhZHkgYSBzb3VyY2Ugd2l0aCB0aGlzIElEJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNvdXJjZS50eXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSB0eXBlIHByb3BlcnR5IG11c3QgYmUgZGVmaW5lZCwgYnV0IHRoZSBvbmx5IHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyB3ZXJlIGdpdmVuOiAke09iamVjdC5rZXlzKHNvdXJjZSkuam9pbignLCAnKX0uYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBidWlsdElucyA9IFsndmVjdG9yJywgJ3Jhc3RlcicsICdnZW9qc29uJywgJ3ZpZGVvJywgJ2ltYWdlJywgJ2NhbnZhcyddO1xuICAgICAgICBjb25zdCBzaG91bGRWYWxpZGF0ZSA9IGJ1aWx0SW5zLmluZGV4T2Yoc291cmNlLnR5cGUpID49IDA7XG4gICAgICAgIGlmIChzaG91bGRWYWxpZGF0ZSAmJiB0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLnNvdXJjZSwgYHNvdXJjZXMuJHtpZH1gLCBzb3VyY2UsIG51bGwsIG9wdGlvbnMpKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMubWFwICYmIHRoaXMubWFwLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcpIChzb3VyY2U6IGFueSkuY29sbGVjdFJlc291cmNlVGltaW5nID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLnNvdXJjZUNhY2hlc1tpZF0gPSBuZXcgU291cmNlQ2FjaGUoaWQsIHNvdXJjZSwgdGhpcy5kaXNwYXRjaGVyKTtcbiAgICAgICAgc291cmNlQ2FjaGUuc3R5bGUgPSB0aGlzO1xuICAgICAgICBzb3VyY2VDYWNoZS5zZXRFdmVudGVkUGFyZW50KHRoaXMsICgpID0+ICh7XG4gICAgICAgICAgICBpc1NvdXJjZUxvYWRlZDogdGhpcy5sb2FkZWQoKSxcbiAgICAgICAgICAgIHNvdXJjZTogc291cmNlQ2FjaGUuc2VyaWFsaXplKCksXG4gICAgICAgICAgICBzb3VyY2VJZDogaWRcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHNvdXJjZUNhY2hlLm9uQWRkKHRoaXMubWFwKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgc291cmNlIGZyb20gdGhpcyBzdHlsZXNoZWV0LCBnaXZlbiBpdHMgaWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIGlkIG9mIHRoZSBzb3VyY2UgdG8gcmVtb3ZlXG4gICAgICogQHRocm93cyB7RXJyb3J9IGlmIG5vIHNvdXJjZSBpcyBmb3VuZCB3aXRoIHRoZSBnaXZlbiBJRFxuICAgICAqL1xuICAgIHJlbW92ZVNvdXJjZShpZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc291cmNlQ2FjaGVzW2lkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIHRoaXMgSUQnKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGF5ZXJzW2xheWVySWRdLnNvdXJjZSA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgU291cmNlIFwiJHtpZH1cIiBjYW5ub3QgYmUgcmVtb3ZlZCB3aGlsZSBsYXllciBcIiR7bGF5ZXJJZH1cIiBpcyB1c2luZyBpdC5gKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLnNvdXJjZUNhY2hlc1tpZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNvdXJjZUNhY2hlc1tpZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl91cGRhdGVkU291cmNlc1tpZF07XG4gICAgICAgIHNvdXJjZUNhY2hlLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge3NvdXJjZURhdGFUeXBlOiAnbWV0YWRhdGEnLCBkYXRhVHlwZTonc291cmNlJywgc291cmNlSWQ6IGlkfSkpO1xuICAgICAgICBzb3VyY2VDYWNoZS5zZXRFdmVudGVkUGFyZW50KG51bGwpO1xuICAgICAgICBzb3VyY2VDYWNoZS5jbGVhclRpbGVzKCk7XG5cbiAgICAgICAgaWYgKHNvdXJjZUNhY2hlLm9uUmVtb3ZlKSBzb3VyY2VDYWNoZS5vblJlbW92ZSh0aGlzLm1hcCk7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogU2V0IHRoZSBkYXRhIG9mIGEgR2VvSlNPTiBzb3VyY2UsIGdpdmVuIGl0cyBpZC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBpZCBvZiB0aGUgc291cmNlXG4gICAgKiBAcGFyYW0ge0dlb0pTT058c3RyaW5nfSBkYXRhIEdlb0pTT04gc291cmNlXG4gICAgKi9cbiAgICBzZXRHZW9KU09OU291cmNlRGF0YShpZDogc3RyaW5nLCBkYXRhOiBHZW9KU09OIHwgc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgYXNzZXJ0KHRoaXMuc291cmNlQ2FjaGVzW2lkXSAhPT0gdW5kZWZpbmVkLCAnVGhlcmUgaXMgbm8gc291cmNlIHdpdGggdGhpcyBJRCcpO1xuICAgICAgICBjb25zdCBnZW9qc29uU291cmNlOiBHZW9KU09OU291cmNlID0gKHRoaXMuc291cmNlQ2FjaGVzW2lkXS5nZXRTb3VyY2UoKTogYW55KTtcbiAgICAgICAgYXNzZXJ0KGdlb2pzb25Tb3VyY2UudHlwZSA9PT0gJ2dlb2pzb24nKTtcblxuICAgICAgICBnZW9qc29uU291cmNlLnNldERhdGEoZGF0YSk7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIHNvdXJjZSBieSBpZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgaWQgb2YgdGhlIGRlc2lyZWQgc291cmNlXG4gICAgICogQHJldHVybnMge09iamVjdH0gc291cmNlXG4gICAgICovXG4gICAgZ2V0U291cmNlKGlkOiBzdHJpbmcpOiBPYmplY3Qge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2VDYWNoZXNbaWRdICYmIHRoaXMuc291cmNlQ2FjaGVzW2lkXS5nZXRTb3VyY2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBsYXllciB0byB0aGUgbWFwIHN0eWxlLiBUaGUgbGF5ZXIgd2lsbCBiZSBpbnNlcnRlZCBiZWZvcmUgdGhlIGxheWVyIHdpdGhcbiAgICAgKiBJRCBgYmVmb3JlYCwgb3IgYXBwZW5kZWQgaWYgYGJlZm9yZWAgaXMgb21pdHRlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2JlZm9yZV0gSUQgb2YgYW4gZXhpc3RpbmcgbGF5ZXIgdG8gaW5zZXJ0IGJlZm9yZVxuICAgICAqL1xuICAgIGFkZExheWVyKGxheWVyT2JqZWN0OiBMYXllclNwZWNpZmljYXRpb24sIGJlZm9yZT86IHN0cmluZywgb3B0aW9ucz86IHt2YWxpZGF0ZT86IGJvb2xlYW59KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgaWQgPSBsYXllck9iamVjdC5pZDtcblxuICAgICAgICBpZiAodGhpcy5nZXRMYXllcihpZCkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYExheWVyIHdpdGggaWQgXCIke2lkfVwiIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgbWFwYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgbGF5ZXJPYmplY3Quc291cmNlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhpcy5hZGRTb3VyY2UoaWQsIGxheWVyT2JqZWN0LnNvdXJjZSk7XG4gICAgICAgICAgICBsYXllck9iamVjdCA9IGNsb25lKGxheWVyT2JqZWN0KTtcbiAgICAgICAgICAgIGxheWVyT2JqZWN0ID0gKGV4dGVuZChsYXllck9iamVjdCwge3NvdXJjZTogaWR9KTogYW55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoaXMgbGF5ZXIgaXMgbm90IGluIHRoZSBzdHlsZS5sYXllcnMgYXJyYXksIHNvIHdlIHBhc3MgYW4gaW1wb3NzaWJsZSBhcnJheSBpbmRleFxuICAgICAgICBpZiAodGhpcy5fdmFsaWRhdGUodmFsaWRhdGVTdHlsZS5sYXllcixcbiAgICAgICAgICAgIGBsYXllcnMuJHtpZH1gLCBsYXllck9iamVjdCwge2FycmF5SW5kZXg6IC0xfSwgb3B0aW9ucykpIHJldHVybjtcblxuICAgICAgICBjb25zdCBsYXllciA9IGNyZWF0ZVN0eWxlTGF5ZXIobGF5ZXJPYmplY3QpO1xuICAgICAgICB0aGlzLl92YWxpZGF0ZUxheWVyKGxheWVyKTtcblxuICAgICAgICBsYXllci5zZXRFdmVudGVkUGFyZW50KHRoaXMsIHtsYXllcjoge2lkOiBpZH19KTtcblxuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gYmVmb3JlID8gdGhpcy5fb3JkZXIuaW5kZXhPZihiZWZvcmUpIDogdGhpcy5fb3JkZXIubGVuZ3RoO1xuICAgICAgICBpZiAoYmVmb3JlICYmIGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7YmVmb3JlfVwiIGRvZXMgbm90IGV4aXN0IG9uIHRoaXMgbWFwLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9vcmRlci5zcGxpY2UoaW5kZXgsIDAsIGlkKTtcbiAgICAgICAgdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuX2xheWVyc1tpZF0gPSBsYXllcjtcblxuICAgICAgICBpZiAodGhpcy5fcmVtb3ZlZExheWVyc1tpZF0gJiYgbGF5ZXIuc291cmNlKSB7XG4gICAgICAgICAgICAvLyBJZiwgaW4gdGhlIGN1cnJlbnQgYmF0Y2gsIHdlIGhhdmUgYWxyZWFkeSByZW1vdmVkIHRoaXMgbGF5ZXJcbiAgICAgICAgICAgIC8vIGFuZCB3ZSBhcmUgbm93IHJlLWFkZGluZyBpdCB3aXRoIGEgZGlmZmVyZW50IGB0eXBlYCwgdGhlbiB3ZVxuICAgICAgICAgICAgLy8gbmVlZCB0byBjbGVhciAocmF0aGVyIHRoYW4ganVzdCByZWxvYWQpIHRoZSB1bmRlcnlsaW5nIHNvdXJjZSdzXG4gICAgICAgICAgICAvLyB0aWxlcy4gIE90aGVyd2lzZSwgdGlsZXMgbWFya2VkICdyZWxvYWRpbmcnIHdpbGwgaGF2ZSBidWNrZXRzIC9cbiAgICAgICAgICAgIC8vIGJ1ZmZlcnMgdGhhdCBhcmUgc2V0IHVwIGZvciB0aGUgX3ByZXZpb3VzXyB2ZXJzaW9uIG9mIHRoaXNcbiAgICAgICAgICAgIC8vIGxheWVyLCBjYXVzaW5nLCBlLmcuOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzM2MzNcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZWQgPSB0aGlzLl9yZW1vdmVkTGF5ZXJzW2lkXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9yZW1vdmVkTGF5ZXJzW2lkXTtcbiAgICAgICAgICAgIGlmIChyZW1vdmVkLnR5cGUgIT09IGxheWVyLnR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVkU291cmNlc1tsYXllci5zb3VyY2VdID0gJ2NsZWFyJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlZFNvdXJjZXNbbGF5ZXIuc291cmNlXSA9ICdyZWxvYWQnO1xuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW2xheWVyLnNvdXJjZV0ucGF1c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYSBsYXllciB0byBhIGRpZmZlcmVudCB6LXBvc2l0aW9uLiBUaGUgbGF5ZXIgd2lsbCBiZSBpbnNlcnRlZCBiZWZvcmUgdGhlIGxheWVyIHdpdGhcbiAgICAgKiBJRCBgYmVmb3JlYCwgb3IgYXBwZW5kZWQgaWYgYGJlZm9yZWAgaXMgb21pdHRlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgIElEIG9mIHRoZSBsYXllciB0byBtb3ZlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiZWZvcmVdIElEIG9mIGFuIGV4aXN0aW5nIGxheWVyIHRvIGluc2VydCBiZWZvcmVcbiAgICAgKi9cbiAgICBtb3ZlTGF5ZXIoaWQ6IHN0cmluZywgYmVmb3JlPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5fbGF5ZXJzW2lkXTtcbiAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2lkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgbW92ZWQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb3JkZXIuaW5kZXhPZihpZCk7XG4gICAgICAgIHRoaXMuX29yZGVyLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgICAgY29uc3QgbmV3SW5kZXggPSBiZWZvcmUgPyB0aGlzLl9vcmRlci5pbmRleE9mKGJlZm9yZSkgOiB0aGlzLl9vcmRlci5sZW5ndGg7XG4gICAgICAgIGlmIChiZWZvcmUgJiYgbmV3SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtiZWZvcmV9XCIgZG9lcyBub3QgZXhpc3Qgb24gdGhpcyBtYXAuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vcmRlci5zcGxpY2UobmV3SW5kZXgsIDAsIGlkKTtcblxuICAgICAgICB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBsYXllciB3aXRoIHRoZSBnaXZlbiBpZCBmcm9tIHRoZSBzdHlsZS5cbiAgICAgKlxuICAgICAqIElmIG5vIHN1Y2ggbGF5ZXIgZXhpc3RzLCBhbiBgZXJyb3JgIGV2ZW50IGlzIGZpcmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIGlkIG9mIHRoZSBsYXllciB0byByZW1vdmVcbiAgICAgKiBAZmlyZXMgZXJyb3JcbiAgICAgKi9cbiAgICByZW1vdmVMYXllcihpZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbaWRdO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7aWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSByZW1vdmVkLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsYXllci5zZXRFdmVudGVkUGFyZW50KG51bGwpO1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb3JkZXIuaW5kZXhPZihpZCk7XG4gICAgICAgIHRoaXMuX29yZGVyLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgICAgdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlZExheWVyc1tpZF0gPSBsYXllcjtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xheWVyc1tpZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl91cGRhdGVkTGF5ZXJzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzW2lkXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHN0eWxlIGxheWVyIG9iamVjdCB3aXRoIHRoZSBnaXZlbiBgaWRgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gaWQgb2YgdGhlIGRlc2lyZWQgbGF5ZXJcbiAgICAgKiBAcmV0dXJucyB7P09iamVjdH0gYSBsYXllciwgaWYgb25lIHdpdGggdGhlIGdpdmVuIGBpZGAgZXhpc3RzXG4gICAgICovXG4gICAgZ2V0TGF5ZXIoaWQ6IHN0cmluZyk6IE9iamVjdCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXllcnNbaWRdO1xuICAgIH1cblxuICAgIHNldExheWVyWm9vbVJhbmdlKGxheWVySWQ6IHN0cmluZywgbWluem9vbTogP251bWJlciwgbWF4em9vbTogP251bWJlcikge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcihsYXllcklkKTtcbiAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2xheWVySWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBoYXZlIHpvb20gZXh0ZW50LmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGF5ZXIubWluem9vbSA9PT0gbWluem9vbSAmJiBsYXllci5tYXh6b29tID09PSBtYXh6b29tKSByZXR1cm47XG5cbiAgICAgICAgaWYgKG1pbnpvb20gIT0gbnVsbCkge1xuICAgICAgICAgICAgbGF5ZXIubWluem9vbSA9IG1pbnpvb207XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heHpvb20gIT0gbnVsbCkge1xuICAgICAgICAgICAgbGF5ZXIubWF4em9vbSA9IG1heHpvb207XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXIobGF5ZXIpO1xuICAgIH1cblxuICAgIHNldEZpbHRlcihsYXllcklkOiBzdHJpbmcsIGZpbHRlcjogP0ZpbHRlclNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCk7XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtsYXllcklkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgZmlsdGVyZWQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWVwRXF1YWwobGF5ZXIuZmlsdGVyLCBmaWx0ZXIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVyID09PSBudWxsIHx8IGZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsYXllci5maWx0ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdmFsaWRhdGUodmFsaWRhdGVTdHlsZS5maWx0ZXIsIGBsYXllcnMuJHtsYXllci5pZH0uZmlsdGVyYCwgZmlsdGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGF5ZXIuZmlsdGVyID0gY2xvbmUoZmlsdGVyKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXIobGF5ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIGxheWVyJ3MgZmlsdGVyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciB0aGUgbGF5ZXIgdG8gaW5zcGVjdFxuICAgICAqIEByZXR1cm5zIHsqfSB0aGUgbGF5ZXIncyBmaWx0ZXIsIGlmIGFueVxuICAgICAqL1xuICAgIGdldEZpbHRlcihsYXllcjogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBjbG9uZSh0aGlzLmdldExheWVyKGxheWVyKS5maWx0ZXIpO1xuICAgIH1cblxuICAgIHNldExheW91dFByb3BlcnR5KGxheWVySWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVySWQpO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7bGF5ZXJJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHN0eWxlZC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZXBFcXVhbChsYXllci5nZXRMYXlvdXRQcm9wZXJ0eShuYW1lKSwgdmFsdWUpKSByZXR1cm47XG5cbiAgICAgICAgbGF5ZXIuc2V0TGF5b3V0UHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgbGF5b3V0IHByb3BlcnR5J3MgdmFsdWUgZnJvbSBhIGdpdmVuIGxheWVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIHRoZSBsYXllciB0byBpbnNwZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgdGhlIG5hbWUgb2YgdGhlIGxheW91dCBwcm9wZXJ0eVxuICAgICAqIEByZXR1cm5zIHsqfSB0aGUgcHJvcGVydHkgdmFsdWVcbiAgICAgKi9cbiAgICBnZXRMYXlvdXRQcm9wZXJ0eShsYXllcjogc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGF5ZXIobGF5ZXIpLmdldExheW91dFByb3BlcnR5KG5hbWUpO1xuICAgIH1cblxuICAgIHNldFBhaW50UHJvcGVydHkobGF5ZXJJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCk7XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtsYXllcklkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgc3R5bGVkLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVlcEVxdWFsKGxheWVyLmdldFBhaW50UHJvcGVydHkobmFtZSksIHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHdhc0RhdGFEcml2ZW4gPSBsYXllci5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW25hbWVdLnZhbHVlLmlzRGF0YURyaXZlbigpO1xuICAgICAgICBsYXllci5zZXRQYWludFByb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgY29uc3QgaXNEYXRhRHJpdmVuID0gbGF5ZXIuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tuYW1lXS52YWx1ZS5pc0RhdGFEcml2ZW4oKTtcblxuICAgICAgICBpZiAoaXNEYXRhRHJpdmVuIHx8IHdhc0RhdGFEcml2ZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyKGxheWVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl91cGRhdGVkUGFpbnRQcm9wc1tsYXllcklkXSA9IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0UGFpbnRQcm9wZXJ0eShsYXllcjogc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGF5ZXIobGF5ZXIpLmdldFBhaW50UHJvcGVydHkobmFtZSk7XG4gICAgfVxuXG4gICAgZ2V0VHJhbnNpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGV4dGVuZCh7IGR1cmF0aW9uOiAzMDAsIGRlbGF5OiAwIH0sIHRoaXMuc3R5bGVzaGVldCAmJiB0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbik7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4gZmlsdGVyT2JqZWN0KHtcbiAgICAgICAgICAgIHZlcnNpb246IHRoaXMuc3R5bGVzaGVldC52ZXJzaW9uLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5zdHlsZXNoZWV0Lm5hbWUsXG4gICAgICAgICAgICBtZXRhZGF0YTogdGhpcy5zdHlsZXNoZWV0Lm1ldGFkYXRhLFxuICAgICAgICAgICAgbGlnaHQ6IHRoaXMuc3R5bGVzaGVldC5saWdodCxcbiAgICAgICAgICAgIGNlbnRlcjogdGhpcy5zdHlsZXNoZWV0LmNlbnRlcixcbiAgICAgICAgICAgIHpvb206IHRoaXMuc3R5bGVzaGVldC56b29tLFxuICAgICAgICAgICAgYmVhcmluZzogdGhpcy5zdHlsZXNoZWV0LmJlYXJpbmcsXG4gICAgICAgICAgICBwaXRjaDogdGhpcy5zdHlsZXNoZWV0LnBpdGNoLFxuICAgICAgICAgICAgc3ByaXRlOiB0aGlzLnN0eWxlc2hlZXQuc3ByaXRlLFxuICAgICAgICAgICAgZ2x5cGhzOiB0aGlzLnN0eWxlc2hlZXQuZ2x5cGhzLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24sXG4gICAgICAgICAgICBzb3VyY2VzOiBtYXBPYmplY3QodGhpcy5zb3VyY2VDYWNoZXMsIChzb3VyY2UpID0+IHNvdXJjZS5zZXJpYWxpemUoKSksXG4gICAgICAgICAgICBsYXllcnM6IHRoaXMuX29yZGVyLm1hcCgoaWQpID0+IHRoaXMuX2xheWVyc1tpZF0uc2VyaWFsaXplKCkpXG4gICAgICAgIH0sICh2YWx1ZSkgPT4geyByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZDsgfSk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUxheWVyKGxheWVyOiBTdHlsZUxheWVyKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZWRMYXllcnNbbGF5ZXIuaWRdID0gdHJ1ZTtcbiAgICAgICAgaWYgKGxheWVyLnNvdXJjZSAmJiAhdGhpcy5fdXBkYXRlZFNvdXJjZXNbbGF5ZXIuc291cmNlXSkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlZFNvdXJjZXNbbGF5ZXIuc291cmNlXSA9ICdyZWxvYWQnO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXNbbGF5ZXIuc291cmNlXS5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIF9mbGF0dGVuUmVuZGVyZWRGZWF0dXJlcyhzb3VyY2VSZXN1bHRzOiBBcnJheTxhbnk+KSB7XG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gW107XG4gICAgICAgIGZvciAobGV0IGwgPSB0aGlzLl9vcmRlci5sZW5ndGggLSAxOyBsID49IDA7IGwtLSkge1xuICAgICAgICAgICAgY29uc3QgbGF5ZXJJZCA9IHRoaXMuX29yZGVyW2xdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBzb3VyY2VSZXN1bHQgb2Ygc291cmNlUmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyRmVhdHVyZXMgPSBzb3VyY2VSZXN1bHRbbGF5ZXJJZF07XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyRmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBmZWF0dXJlIG9mIGxheWVyRmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzO1xuICAgIH1cblxuICAgIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhxdWVyeUdlb21ldHJ5OiBhbnksIHBhcmFtczogYW55LCB0cmFuc2Zvcm06IFRyYW5zZm9ybSkge1xuICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5maWx0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlU3R5bGUuZmlsdGVyLCAncXVlcnlSZW5kZXJlZEZlYXR1cmVzLmZpbHRlcicsIHBhcmFtcy5maWx0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5jbHVkZWRTb3VyY2VzID0ge307XG4gICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmxheWVycykge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHBhcmFtcy5sYXllcnMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcigncGFyYW1ldGVycy5sYXllcnMgbXVzdCBiZSBhbiBBcnJheS4nKSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBvZiBwYXJhbXMubGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJJZF07XG4gICAgICAgICAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGxheWVyIGlzIG5vdCBpbiB0aGUgc3R5bGUubGF5ZXJzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtsYXllcklkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgcXVlcmllZCBmb3IgZmVhdHVyZXMuYCkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmNsdWRlZFNvdXJjZXNbbGF5ZXIuc291cmNlXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2VSZXN1bHRzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGlmIChwYXJhbXMubGF5ZXJzICYmICFpbmNsdWRlZFNvdXJjZXNbaWRdKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBxdWVyeVJlbmRlcmVkRmVhdHVyZXModGhpcy5zb3VyY2VDYWNoZXNbaWRdLCB0aGlzLl9sYXllcnMsIHF1ZXJ5R2VvbWV0cnksIHBhcmFtcywgdHJhbnNmb3JtLCB0aGlzLnBsYWNlbWVudCA/IHRoaXMucGxhY2VtZW50LmNvbGxpc2lvbkluZGV4IDogbnVsbCk7XG4gICAgICAgICAgICBzb3VyY2VSZXN1bHRzLnB1c2gocmVzdWx0cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYXR0ZW5SZW5kZXJlZEZlYXR1cmVzKHNvdXJjZVJlc3VsdHMpO1xuICAgIH1cblxuICAgIHF1ZXJ5U291cmNlRmVhdHVyZXMoc291cmNlSUQ6IHN0cmluZywgcGFyYW1zOiA/e3NvdXJjZUxheWVyOiA/c3RyaW5nLCBmaWx0ZXI6ID9BcnJheTxhbnk+fSkge1xuICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5maWx0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlU3R5bGUuZmlsdGVyLCAncXVlcnlTb3VyY2VGZWF0dXJlcy5maWx0ZXInLCBwYXJhbXMuZmlsdGVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHRoaXMuc291cmNlQ2FjaGVzW3NvdXJjZUlEXTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZUNhY2hlID8gcXVlcnlTb3VyY2VGZWF0dXJlcyhzb3VyY2VDYWNoZSwgcGFyYW1zKSA6IFtdO1xuICAgIH1cblxuICAgIGFkZFNvdXJjZVR5cGUobmFtZTogc3RyaW5nLCBTb3VyY2VUeXBlOiBDbGFzczxTb3VyY2U+LCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgaWYgKFN0eWxlLmdldFNvdXJjZVR5cGUobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoYEEgc291cmNlIHR5cGUgY2FsbGVkIFwiJHtuYW1lfVwiIGFscmVhZHkgZXhpc3RzLmApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFN0eWxlLnNldFNvdXJjZVR5cGUobmFtZSwgU291cmNlVHlwZSk7XG5cbiAgICAgICAgaWYgKCFTb3VyY2VUeXBlLndvcmtlclNvdXJjZVVSTCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnbG9hZFdvcmtlclNvdXJjZScsIHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICB1cmw6IFNvdXJjZVR5cGUud29ya2VyU291cmNlVVJMXG4gICAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBnZXRMaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlnaHQuZ2V0TGlnaHQoKTtcbiAgICB9XG5cbiAgICBzZXRMaWdodChsaWdodE9wdGlvbnM6IExpZ2h0U3BlY2lmaWNhdGlvbikge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGxpZ2h0ID0gdGhpcy5saWdodC5nZXRMaWdodCgpO1xuICAgICAgICBsZXQgX3VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBsaWdodE9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghZGVlcEVxdWFsKGxpZ2h0T3B0aW9uc1trZXldLCBsaWdodFtrZXldKSkge1xuICAgICAgICAgICAgICAgIF91cGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghX3VwZGF0ZSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSB7XG4gICAgICAgICAgICBub3c6IGJyb3dzZXIubm93KCksXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBleHRlbmQoe1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgICAgICAgZGVsYXk6IDBcbiAgICAgICAgICAgIH0sIHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubGlnaHQuc2V0TGlnaHQobGlnaHRPcHRpb25zKTtcbiAgICAgICAgdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICBfdmFsaWRhdGUodmFsaWRhdGU6ICh7fSkgPT4gdm9pZCwga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIHByb3BzOiBhbnksIG9wdGlvbnM/OiB7dmFsaWRhdGU/OiBib29sZWFufSkge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnZhbGlkYXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLCB2YWxpZGF0ZS5jYWxsKHZhbGlkYXRlU3R5bGUsIGV4dGVuZCh7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHN0eWxlOiB0aGlzLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgc3R5bGVTcGVjOiBzdHlsZVNwZWNcbiAgICAgICAgfSwgcHJvcHMpKSk7XG4gICAgfVxuXG4gICAgX3JlbW92ZSgpIHtcbiAgICAgICAgcnRsVGV4dFBsdWdpbkV2ZW50ZWQub2ZmKCdwbHVnaW5BdmFpbGFibGUnLCB0aGlzLl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2spO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUNhY2hlc1tpZF0uY2xlYXJUaWxlcygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBfY2xlYXJTb3VyY2UoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnNvdXJjZUNhY2hlc1tpZF0uY2xlYXJUaWxlcygpO1xuICAgIH1cblxuICAgIF9yZWxvYWRTb3VyY2UoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnNvdXJjZUNhY2hlc1tpZF0ucmVzdW1lKCk7XG4gICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW2lkXS5yZWxvYWQoKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlU291cmNlcyh0cmFuc2Zvcm06IFRyYW5zZm9ybSkge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUNhY2hlc1tpZF0udXBkYXRlKHRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgdGhpcy5fcmVsb2FkU291cmNlKGlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVQbGFjZW1lbnQodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHNob3dDb2xsaXNpb25Cb3hlczogYm9vbGVhbiwgZmFkZUR1cmF0aW9uOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IHN5bWJvbEJ1Y2tldHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGxldCBwbGFjZW1lbnRDb21taXR0ZWQgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBsYXllclRpbGVzID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBsYXllcklEIG9mIHRoaXMuX29yZGVyKSB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZUxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySURdO1xuICAgICAgICAgICAgaWYgKHN0eWxlTGF5ZXIudHlwZSAhPT0gJ3N5bWJvbCcpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoIWxheWVyVGlsZXNbc3R5bGVMYXllci5zb3VyY2VdKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLnNvdXJjZUNhY2hlc1tzdHlsZUxheWVyLnNvdXJjZV07XG4gICAgICAgICAgICAgICAgbGF5ZXJUaWxlc1tzdHlsZUxheWVyLnNvdXJjZV0gPSBzb3VyY2VDYWNoZS5nZXRSZW5kZXJhYmxlSWRzKClcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoaWQpID0+IHNvdXJjZUNhY2hlLmdldFRpbGVCeUlEKGlkKSlcbiAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IChiLnRpbGVJRC5vdmVyc2NhbGVkWiAtIGEudGlsZUlELm92ZXJzY2FsZWRaKSB8fCAoYS50aWxlSUQuaXNMZXNzVGhhbihiLnRpbGVJRCkgPyAtMSA6IDEpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbGF5ZXJCdWNrZXRzQ2hhbmdlZCA9IHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXguYWRkTGF5ZXIoc3R5bGVMYXllciwgbGF5ZXJUaWxlc1tzdHlsZUxheWVyLnNvdXJjZV0pO1xuICAgICAgICAgICAgc3ltYm9sQnVja2V0c0NoYW5nZWQgPSBzeW1ib2xCdWNrZXRzQ2hhbmdlZCB8fCBsYXllckJ1Y2tldHNDaGFuZ2VkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXgucHJ1bmVVbnVzZWRMYXllcnModGhpcy5fb3JkZXIpO1xuXG4gICAgICAgIC8vIEFueXRoaW5nIHRoYXQgY2hhbmdlcyBvdXIgXCJpbiBwcm9ncmVzc1wiIGxheWVyIGFuZCB0aWxlIGluZGljZXMgcmVxdWlyZXMgdXNcbiAgICAgICAgLy8gdG8gc3RhcnQgb3Zlci4gV2hlbiB3ZSBzdGFydCBvdmVyLCB3ZSBkbyBhIGZ1bGwgcGxhY2VtZW50IGluc3RlYWQgb2YgaW5jcmVtZW50YWxcbiAgICAgICAgLy8gdG8gcHJldmVudCBzdGFydmF0aW9uLlxuICAgICAgICAvLyBXZSBuZWVkIHRvIHJlc3RhcnQgcGxhY2VtZW50IHRvIGtlZXAgbGF5ZXIgaW5kaWNlcyBpbiBzeW5jLlxuICAgICAgICBjb25zdCBmb3JjZUZ1bGxQbGFjZW1lbnQgPSB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZDtcblxuICAgICAgICBpZiAoZm9yY2VGdWxsUGxhY2VtZW50IHx8ICF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudCB8fCAodGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkgJiYgIXRoaXMucGxhY2VtZW50LnN0aWxsUmVjZW50KGJyb3dzZXIubm93KCkpKSkge1xuICAgICAgICAgICAgdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQgPSBuZXcgUGF1c2VhYmxlUGxhY2VtZW50KHRyYW5zZm9ybSwgdGhpcy5fb3JkZXIsIGZvcmNlRnVsbFBsYWNlbWVudCwgc2hvd0NvbGxpc2lvbkJveGVzLCBmYWRlRHVyYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSkge1xuICAgICAgICAgICAgLy8gdGhlIGxhc3QgcGxhY2VtZW50IGZpbmlzaGVkIHJ1bm5pbmcsIGJ1dCB0aGUgbmV4dCBvbmUgaGFzbuKAmXRcbiAgICAgICAgICAgIC8vIHN0YXJ0ZWQgeWV0IGJlY2F1c2Ugb2YgdGhlIGBzdGlsbFJlY2VudGAgY2hlY2sgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIC8vIGFib3ZlLCBzbyBtYXJrIGl0IHN0YWxlIHRvIGVuc3VyZSB0aGF0IHdlIHJlcXVlc3QgYW5vdGhlclxuICAgICAgICAgICAgLy8gcmVuZGVyIGZyYW1lXG4gICAgICAgICAgICB0aGlzLnBsYWNlbWVudC5zZXRTdGFsZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuY29udGludWVQbGFjZW1lbnQodGhpcy5fb3JkZXIsIHRoaXMuX2xheWVycywgbGF5ZXJUaWxlcyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGxhY2VtZW50ID0gdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuY29tbWl0KHRoaXMucGxhY2VtZW50LCBicm93c2VyLm5vdygpKTtcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnRDb21taXR0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3ltYm9sQnVja2V0c0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgcGxhY2VtZW50IGdldHMgc3BsaXQgb3ZlciBtdWx0aXBsZSBmcmFtZXMgaXQgaXMgcG9zc2libGVcbiAgICAgICAgICAgICAgICAvLyB0aGVzZSBidWNrZXRzIHdlcmUgcHJvY2Vzc2VkIGJlZm9yZSB0aGV5IHdlcmUgY2hhbmdlZCBhbmQgc28gdGhlXG4gICAgICAgICAgICAgICAgLy8gcGxhY2VtZW50IGlzIGFscmVhZHkgc3RhbGUgd2hpbGUgaXQgaXMgaW4gcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICB0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5wbGFjZW1lbnQuc2V0U3RhbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGFjZW1lbnRDb21taXR0ZWQgfHwgc3ltYm9sQnVja2V0c0NoYW5nZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGF5ZXJJRCBvZiB0aGlzLl9vcmRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlTGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJJRF07XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlTGF5ZXIudHlwZSAhPT0gJ3N5bWJvbCcpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHRoaXMucGxhY2VtZW50LnVwZGF0ZUxheWVyT3BhY2l0aWVzKHN0eWxlTGF5ZXIsIGxheWVyVGlsZXNbc3R5bGVMYXllci5zb3VyY2VdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5lZWRzUmVuZGVyIGlzIGZhbHNlIHdoZW4gd2UgaGF2ZSBqdXN0IGZpbmlzaGVkIGEgcGxhY2VtZW50IHRoYXQgZGlkbid0IGNoYW5nZSB0aGUgdmlzaWJpbGl0eSBvZiBhbnkgc3ltYm9sc1xuICAgICAgICBjb25zdCBuZWVkc1JlcmVuZGVyID0gIXRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpIHx8IHRoaXMucGxhY2VtZW50Lmhhc1RyYW5zaXRpb25zKGJyb3dzZXIubm93KCkpO1xuICAgICAgICByZXR1cm4gbmVlZHNSZXJlbmRlcjtcbiAgICB9XG5cbiAgICAvLyBDYWxsYmFja3MgZnJvbSB3ZWIgd29ya2Vyc1xuXG4gICAgZ2V0SW1hZ2VzKG1hcElkOiBzdHJpbmcsIHBhcmFtczoge2ljb25zOiBBcnJheTxzdHJpbmc+fSwgY2FsbGJhY2s6IENhbGxiYWNrPHtbc3RyaW5nXTogU3R5bGVJbWFnZX0+KSB7XG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLmdldEltYWdlcyhwYXJhbXMuaWNvbnMsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBnZXRHbHlwaHMobWFwSWQ6IHN0cmluZywgcGFyYW1zOiB7c3RhY2tzOiB7W3N0cmluZ106IEFycmF5PG51bWJlcj59fSwgY2FsbGJhY2s6IENhbGxiYWNrPHtbc3RyaW5nXToge1tudW1iZXJdOiA/U3R5bGVHbHlwaH19Pikge1xuICAgICAgICB0aGlzLmdseXBoTWFuYWdlci5nZXRHbHlwaHMocGFyYW1zLnN0YWNrcywgY2FsbGJhY2spO1xuICAgIH1cbn1cblxuU3R5bGUuZ2V0U291cmNlVHlwZSA9IGdldFNvdXJjZVR5cGU7XG5TdHlsZS5zZXRTb3VyY2VUeXBlID0gc2V0U291cmNlVHlwZTtcblN0eWxlLnJlZ2lzdGVyRm9yUGx1Z2luQXZhaWxhYmlsaXR5ID0gcmVnaXN0ZXJGb3JQbHVnaW5BdmFpbGFiaWxpdHk7XG5cbmV4cG9ydCBkZWZhdWx0IFN0eWxlO1xuIiwiLy8gQGZsb3dcbmltcG9ydCB7IGNyZWF0ZUxheW91dCB9IGZyb20gJy4uL3V0aWwvc3RydWN0X2FycmF5JztcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlTGF5b3V0KFtcbiAgICB7IG5hbWU6ICdhX3BvcycsIHR5cGU6ICdJbnQxNicsIGNvbXBvbmVudHM6IDIgfVxuXSk7XG4iLCIvLyBAZmxvd1xuXG4vLyBXZSB1c2UgYnJmcywgYSBicm93c2VyaWZ5IHRyYW5zZm9ybSwgdG8gaW5saW5lIHNoYWRlciBzb3VyY2VzIGR1cmluZyBidW5kbGluZy4gQXMgYSByZXN1bHQ6XG4vLyAtIHJlYWRGaWxlU3luYyBjYWxscyBtdXN0IGJlIHdyaXR0ZW4gb3V0IGxvbmctZm9ybVxuLy8gLSB0aGlzIG1vZHVsZSBtdXN0IHVzZSBDb21tb25KUyByYXRoZXIgdGhhbiBFUzIwMTUgc3ludGF4XG4vKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItdGVtcGxhdGUsIG5vLXBhdGgtY29uY2F0LCBpbXBvcnQvdW5hbWJpZ3VvdXMgKi9cblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuXG5jb25zdCBzaGFkZXJzOiB7W3N0cmluZ106IHtmcmFnbWVudFNvdXJjZTogc3RyaW5nLCB2ZXJ0ZXhTb3VyY2U6IHN0cmluZ319ID0ge1xuICAgIHByZWx1ZGU6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvX3ByZWx1ZGUuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9fcHJlbHVkZS52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGJhY2tncm91bmQ6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvYmFja2dyb3VuZC5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2JhY2tncm91bmQudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBiYWNrZ3JvdW5kUGF0dGVybjoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9iYWNrZ3JvdW5kX3BhdHRlcm4uZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9iYWNrZ3JvdW5kX3BhdHRlcm4udmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBjaXJjbGU6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvY2lyY2xlLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvY2lyY2xlLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgY2xpcHBpbmdNYXNrOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2NsaXBwaW5nX21hc2suZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9jbGlwcGluZ19tYXNrLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgaGVhdG1hcDoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9oZWF0bWFwLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvaGVhdG1hcC52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGhlYXRtYXBUZXh0dXJlOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2hlYXRtYXBfdGV4dHVyZS5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2hlYXRtYXBfdGV4dHVyZS52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGNvbGxpc2lvbkJveDoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9jb2xsaXNpb25fYm94LmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvY29sbGlzaW9uX2JveC52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGNvbGxpc2lvbkNpcmNsZToge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9jb2xsaXNpb25fY2lyY2xlLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvY29sbGlzaW9uX2NpcmNsZS52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGRlYnVnOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2RlYnVnLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZGVidWcudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBmaWxsOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2ZpbGwuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9maWxsLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgZmlsbE91dGxpbmU6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZmlsbF9vdXRsaW5lLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZmlsbF9vdXRsaW5lLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgZmlsbE91dGxpbmVQYXR0ZXJuOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2ZpbGxfb3V0bGluZV9wYXR0ZXJuLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZmlsbF9vdXRsaW5lX3BhdHRlcm4udmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBmaWxsUGF0dGVybjoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9maWxsX3BhdHRlcm4uZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9maWxsX3BhdHRlcm4udmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBmaWxsRXh0cnVzaW9uOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2ZpbGxfZXh0cnVzaW9uLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZmlsbF9leHRydXNpb24udmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBmaWxsRXh0cnVzaW9uUGF0dGVybjoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9maWxsX2V4dHJ1c2lvbl9wYXR0ZXJuLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZmlsbF9leHRydXNpb25fcGF0dGVybi52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGV4dHJ1c2lvblRleHR1cmU6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZXh0cnVzaW9uX3RleHR1cmUuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9leHRydXNpb25fdGV4dHVyZS52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGhpbGxzaGFkZVByZXBhcmU6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvaGlsbHNoYWRlX3ByZXBhcmUuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9oaWxsc2hhZGVfcHJlcGFyZS52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGhpbGxzaGFkZToge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9oaWxsc2hhZGUuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9oaWxsc2hhZGUudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2xpbmUuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9saW5lLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgbGluZVBhdHRlcm46IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvbGluZV9wYXR0ZXJuLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvbGluZV9wYXR0ZXJuLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgbGluZVNERjoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9saW5lX3NkZi5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2xpbmVfc2RmLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgcmFzdGVyOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL3Jhc3Rlci5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL3Jhc3Rlci52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIHN5bWJvbEljb246IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvc3ltYm9sX2ljb24uZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9zeW1ib2xfaWNvbi52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIHN5bWJvbFNERjoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9zeW1ib2xfc2RmLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvc3ltYm9sX3NkZi52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9XG59O1xuXG4vLyBFeHBhbmQgI3ByYWdtYXMgdG8gI2lmZGVmcy5cblxuY29uc3QgcmUgPSAvI3ByYWdtYSBtYXBib3g6IChbXFx3XSspIChbXFx3XSspIChbXFx3XSspIChbXFx3XSspL2c7XG5cbmZvciAoY29uc3QgcHJvZ3JhbU5hbWUgaW4gc2hhZGVycykge1xuICAgIGNvbnN0IHByb2dyYW0gPSBzaGFkZXJzW3Byb2dyYW1OYW1lXTtcbiAgICBjb25zdCBmcmFnbWVudFByYWdtYXM6IHtbc3RyaW5nXTogYm9vbGVhbn0gPSB7fTtcblxuICAgIHByb2dyYW0uZnJhZ21lbnRTb3VyY2UgPSBwcm9ncmFtLmZyYWdtZW50U291cmNlLnJlcGxhY2UocmUsIChtYXRjaDogc3RyaW5nLCBvcGVyYXRpb246IHN0cmluZywgcHJlY2lzaW9uOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgbmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGZyYWdtZW50UHJhZ21hc1tuYW1lXSA9IHRydWU7XG4gICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdkZWZpbmUnKSB7XG4gICAgICAgICAgICByZXR1cm4gYFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bmFtZX1cbnZhcnlpbmcgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfTtcbiNlbHNlXG51bmlmb3JtICR7cHJlY2lzaW9ufSAke3R5cGV9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgfSBlbHNlIC8qIGlmIChvcGVyYXRpb24gPT09ICdpbml0aWFsaXplJykgKi8ge1xuICAgICAgICAgICAgcmV0dXJuIGBcbiNpZmRlZiBIQVNfVU5JRk9STV91XyR7bmFtZX1cbiAgICAke3ByZWNpc2lvbn0gJHt0eXBlfSAke25hbWV9ID0gdV8ke25hbWV9O1xuI2VuZGlmXG5gO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBwcm9ncmFtLnZlcnRleFNvdXJjZSA9IHByb2dyYW0udmVydGV4U291cmNlLnJlcGxhY2UocmUsIChtYXRjaDogc3RyaW5nLCBvcGVyYXRpb246IHN0cmluZywgcHJlY2lzaW9uOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgbmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGF0dHJUeXBlID0gdHlwZSA9PT0gJ2Zsb2F0JyA/ICd2ZWMyJyA6ICd2ZWM0JztcbiAgICAgICAgaWYgKGZyYWdtZW50UHJhZ21hc1tuYW1lXSkge1xuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2RlZmluZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bmFtZX1cbnVuaWZvcm0gbG93cCBmbG9hdCBhXyR7bmFtZX1fdDtcbmF0dHJpYnV0ZSAke3ByZWNpc2lvbn0gJHthdHRyVHlwZX0gYV8ke25hbWV9O1xudmFyeWluZyAke3ByZWNpc2lvbn0gJHt0eXBlfSAke25hbWV9O1xuI2Vsc2VcbnVuaWZvcm0gJHtwcmVjaXNpb259ICR7dHlwZX0gdV8ke25hbWV9O1xuI2VuZGlmXG5gO1xuICAgICAgICAgICAgfSBlbHNlIC8qIGlmIChvcGVyYXRpb24gPT09ICdpbml0aWFsaXplJykgKi8ge1xuICAgICAgICAgICAgICAgIHJldHVybiBgXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtuYW1lfVxuICAgICR7bmFtZX0gPSB1bnBhY2tfbWl4XyR7YXR0clR5cGV9KGFfJHtuYW1lfSwgYV8ke25hbWV9X3QpO1xuI2Vsc2VcbiAgICAke3ByZWNpc2lvbn0gJHt0eXBlfSAke25hbWV9ID0gdV8ke25hbWV9O1xuI2VuZGlmXG5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2RlZmluZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bmFtZX1cbnVuaWZvcm0gbG93cCBmbG9hdCBhXyR7bmFtZX1fdDtcbmF0dHJpYnV0ZSAke3ByZWNpc2lvbn0gJHthdHRyVHlwZX0gYV8ke25hbWV9O1xuI2Vsc2VcbnVuaWZvcm0gJHtwcmVjaXNpb259ICR7dHlwZX0gdV8ke25hbWV9O1xuI2VuZGlmXG5gO1xuICAgICAgICAgICAgfSBlbHNlIC8qIGlmIChvcGVyYXRpb24gPT09ICdpbml0aWFsaXplJykgKi8ge1xuICAgICAgICAgICAgICAgIHJldHVybiBgXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtuYW1lfVxuICAgICR7cHJlY2lzaW9ufSAke3R5cGV9ICR7bmFtZX0gPSB1bnBhY2tfbWl4XyR7YXR0clR5cGV9KGFfJHtuYW1lfSwgYV8ke25hbWV9X3QpO1xuI2Vsc2VcbiAgICAke3ByZWNpc2lvbn0gJHt0eXBlfSAke25hbWV9ID0gdV8ke25hbWV9O1xuI2VuZGlmXG5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hhZGVycztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5cbmltcG9ydCBzaGFkZXJzIGZyb20gJy4uL3NoYWRlcnMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IFByb2dyYW1Db25maWd1cmF0aW9uIGZyb20gJy4uL2RhdGEvcHJvZ3JhbV9jb25maWd1cmF0aW9uJztcbmltcG9ydCBWZXJ0ZXhBcnJheU9iamVjdCBmcm9tICcuL3ZlcnRleF9hcnJheV9vYmplY3QnO1xuaW1wb3J0IENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dCc7XG5cbmltcG9ydCB0eXBlIFNlZ21lbnRWZWN0b3IgZnJvbSAnLi4vZGF0YS9zZWdtZW50JztcbmltcG9ydCB0eXBlIFZlcnRleEJ1ZmZlciBmcm9tICcuLi9nbC92ZXJ0ZXhfYnVmZmVyJztcbmltcG9ydCB0eXBlIEluZGV4QnVmZmVyIGZyb20gJy4uL2dsL2luZGV4X2J1ZmZlcic7XG5cbmV4cG9ydCB0eXBlIERyYXdNb2RlID1cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnTElORVMnPlxuICAgIHwgJFByb3BlcnR5VHlwZTxXZWJHTFJlbmRlcmluZ0NvbnRleHQsICdUUklBTkdMRVMnPjtcblxuY2xhc3MgUHJvZ3JhbSB7XG4gICAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtO1xuICAgIHVuaWZvcm1zOiB7W3N0cmluZ106IFdlYkdMVW5pZm9ybUxvY2F0aW9ufTtcbiAgICBhdHRyaWJ1dGVzOiB7W3N0cmluZ106IG51bWJlcn07XG4gICAgbnVtQXR0cmlidXRlczogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCxcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHtmcmFnbWVudFNvdXJjZTogc3RyaW5nLCB2ZXJ0ZXhTb3VyY2U6IHN0cmluZ30sXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbjogUHJvZ3JhbUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAgICAgc2hvd092ZXJkcmF3SW5zcGVjdG9yOiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuXG4gICAgICAgIGNvbnN0IGRlZmluZXMgPSBjb25maWd1cmF0aW9uLmRlZmluZXMoKS5jb25jYXQoXG4gICAgICAgICAgICBgI2RlZmluZSBERVZJQ0VfUElYRUxfUkFUSU8gJHticm93c2VyLmRldmljZVBpeGVsUmF0aW8udG9GaXhlZCgxKX1gKTtcbiAgICAgICAgaWYgKHNob3dPdmVyZHJhd0luc3BlY3Rvcikge1xuICAgICAgICAgICAgZGVmaW5lcy5wdXNoKCcjZGVmaW5lIE9WRVJEUkFXX0lOU1BFQ1RPUjsnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZyYWdtZW50U291cmNlID0gZGVmaW5lcy5jb25jYXQoc2hhZGVycy5wcmVsdWRlLmZyYWdtZW50U291cmNlLCBzb3VyY2UuZnJhZ21lbnRTb3VyY2UpLmpvaW4oJ1xcbicpO1xuICAgICAgICBjb25zdCB2ZXJ0ZXhTb3VyY2UgPSBkZWZpbmVzLmNvbmNhdChzaGFkZXJzLnByZWx1ZGUudmVydGV4U291cmNlLCBzb3VyY2UudmVydGV4U291cmNlKS5qb2luKCdcXG4nKTtcblxuICAgICAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgICAgICBnbC5zaGFkZXJTb3VyY2UoZnJhZ21lbnRTaGFkZXIsIGZyYWdtZW50U291cmNlKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGFzc2VydChnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoZnJhZ21lbnRTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSwgKGdsLmdldFNoYWRlckluZm9Mb2coZnJhZ21lbnRTaGFkZXIpOiBhbnkpKTtcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuXG4gICAgICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTtcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHZlcnRleFNoYWRlciwgdmVydGV4U291cmNlKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcih2ZXJ0ZXhTaGFkZXIpO1xuICAgICAgICBhc3NlcnQoZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHZlcnRleFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpLCAoZ2wuZ2V0U2hhZGVySW5mb0xvZyh2ZXJ0ZXhTaGFkZXIpOiBhbnkpKTtcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcblxuICAgICAgICAvLyBNYW51YWxseSBiaW5kIGxheW91dCBhdHRyaWJ1dGVzIGluIHRoZSBvcmRlciBkZWZpbmVkIGJ5IHRoZWlyXG4gICAgICAgIC8vIFByb2dyYW1JbnRlcmZhY2Ugc28gdGhhdCB3ZSBkb24ndCBkeW5hbWljYWxseSBsaW5rIGFuIHVudXNlZFxuICAgICAgICAvLyBhdHRyaWJ1dGUgYXQgcG9zaXRpb24gMCwgd2hpY2ggY2FuIGNhdXNlIHJlbmRlcmluZyB0byBmYWlsIGZvciBhblxuICAgICAgICAvLyBlbnRpcmUgbGF5ZXIgKHNlZSAjNDYwNywgIzQ3MjgpXG4gICAgICAgIGNvbnN0IGxheW91dEF0dHJpYnV0ZXMgPSBjb25maWd1cmF0aW9uLmxheW91dEF0dHJpYnV0ZXMgfHwgW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5b3V0QXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgaSwgbGF5b3V0QXR0cmlidXRlc1tpXS5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG4gICAgICAgIGFzc2VydChnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMucHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpLCAoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2codGhpcy5wcm9ncmFtKTogYW55KSk7XG5cbiAgICAgICAgdGhpcy5udW1BdHRyaWJ1dGVzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sIGdsLkFDVElWRV9BVFRSSUJVVEVTKTtcblxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgdGhpcy51bmlmb3JtcyA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5udW1BdHRyaWJ1dGVzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGdsLmdldEFjdGl2ZUF0dHJpYih0aGlzLnByb2dyYW0sIGkpO1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sIGF0dHJpYnV0ZS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG51bVVuaWZvcm1zID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sIGdsLkFDVElWRV9VTklGT1JNUyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVW5pZm9ybXM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdW5pZm9ybSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0odGhpcy5wcm9ncmFtLCBpKTtcbiAgICAgICAgICAgIGlmICh1bmlmb3JtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtc1t1bmlmb3JtLm5hbWVdID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgdW5pZm9ybS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXcoY29udGV4dDogQ29udGV4dCxcbiAgICAgICAgIGRyYXdNb2RlOiBEcmF3TW9kZSxcbiAgICAgICAgIGxheWVySUQ6IHN0cmluZyxcbiAgICAgICAgIGxheW91dFZlcnRleEJ1ZmZlcjogVmVydGV4QnVmZmVyLFxuICAgICAgICAgaW5kZXhCdWZmZXI6IEluZGV4QnVmZmVyLFxuICAgICAgICAgc2VnbWVudHM6IFNlZ21lbnRWZWN0b3IsXG4gICAgICAgICBjb25maWd1cmF0aW9uOiA/UHJvZ3JhbUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICBkeW5hbWljTGF5b3V0QnVmZmVyOiA/VmVydGV4QnVmZmVyLFxuICAgICAgICAgZHluYW1pY0xheW91dEJ1ZmZlcjI6ID9WZXJ0ZXhCdWZmZXIpIHtcblxuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgY29uc3QgcHJpbWl0aXZlU2l6ZSA9IHtcbiAgICAgICAgICAgIFtnbC5MSU5FU106IDIsXG4gICAgICAgICAgICBbZ2wuVFJJQU5HTEVTXTogM1xuICAgICAgICB9W2RyYXdNb2RlXTtcblxuICAgICAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMuZ2V0KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhb3MgPSBzZWdtZW50LnZhb3MgfHwgKHNlZ21lbnQudmFvcyA9IHt9KTtcbiAgICAgICAgICAgIGNvbnN0IHZhbzogVmVydGV4QXJyYXlPYmplY3QgPSB2YW9zW2xheWVySURdIHx8ICh2YW9zW2xheWVySURdID0gbmV3IFZlcnRleEFycmF5T2JqZWN0KCkpO1xuXG4gICAgICAgICAgICB2YW8uYmluZChcbiAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgbGF5b3V0VmVydGV4QnVmZmVyLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24gPyBjb25maWd1cmF0aW9uLmdldFBhaW50VmVydGV4QnVmZmVycygpIDogW10sXG4gICAgICAgICAgICAgICAgaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICAgICAgc2VnbWVudC52ZXJ0ZXhPZmZzZXQsXG4gICAgICAgICAgICAgICAgZHluYW1pY0xheW91dEJ1ZmZlcixcbiAgICAgICAgICAgICAgICBkeW5hbWljTGF5b3V0QnVmZmVyMlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKFxuICAgICAgICAgICAgICAgIGRyYXdNb2RlLFxuICAgICAgICAgICAgICAgIHNlZ21lbnQucHJpbWl0aXZlTGVuZ3RoICogcHJpbWl0aXZlU2l6ZSxcbiAgICAgICAgICAgICAgICBnbC5VTlNJR05FRF9TSE9SVCxcbiAgICAgICAgICAgICAgICBzZWdtZW50LnByaW1pdGl2ZU9mZnNldCAqIHByaW1pdGl2ZVNpemUgKiAyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvZ3JhbTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IE92ZXJzY2FsZWRUaWxlSUQsIENhbm9uaWNhbFRpbGVJRCB9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcblxuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLy4uL3NvdXJjZS90aWxlJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dCc7XG5cbnR5cGUgTWFzayA9IHtcbiAgICBbbnVtYmVyXTogQ2Fub25pY2FsVGlsZUlEXG59O1xuXG4vLyBVcGRhdGVzIHRoZSBUaWxlTWFza3MgZm9yIGFsbCByZW5kZXJhYmxlIHRpbGVzLiBBIFRpbGVNYXNrIGRlc2NyaWJlcyBhbGwgcmVnaW9uc1xuLy8gd2l0aGluIHRoYXQgdGlsZSB0aGF0IGFyZSAqbm90KiBjb3ZlcmVkIGJ5IG90aGVyIHJlbmRlcmFibGUgdGlsZXMuXG4vLyBFeGFtcGxlOiByZW5kZXJhYmxlVGlsZXMgaW4gb3VyIGxpc3QgYXJlIDIvMS8zLCAzLzMvNiwgYW5kIDQvNS8xMy4gVGhlIHNjaGVtYXRpYyBmb3IgY3JlYXRpbmcgdGhlXG4vLyBUaWxlTWFzayBmb3IgMi8xLzMgbG9va3MgbGlrZSB0aGlzOlxuLy9cbi8vICAgIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuLy8gICAg4pSCICAgICAgICDilIIgICAgICAgIOKUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilIIgNC80LzEyIOKUgiA0LzUvMTIg4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUgiAgICAgICAg4pSCICAgICAgICDilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSc4pSA4pSA4pSA4pSA4pSA4pSAMy8yLzbilIDilIDilIDilIDilIDilIDilKQjIyMjIzMvMy82IyMjIyMjI+KUglxuLy8gICAg4pSCICAgICAgICDilIIjIyMjIyMjI+KUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilIIgNC80LzEzIOKUgiM0LzUvMTMj4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUgiAgICAgICAg4pSCIyMjIyMjIyPilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSc4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSAMi8xLzPilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcbi8vICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICDilIJcbi8vICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICDilIJcbi8vICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICDilIJcbi8vICAgIOKUgiAgICAgIDMvMi83ICAgICAg4pSCICAgICAgMy8zLzcgICAgICDilIJcbi8vICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICDilIJcbi8vICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICDilIJcbi8vICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICDilIJcbi8vICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuLy9cbi8vIFRoZSBUaWxlTWFzayBmb3IgMi8xLzMgdGh1cyBjb25zaXN0cyBvZiB0aGUgdGlsZXMgNC80LzEyLCA0LzUvMTIsIDQvNC8xMywgMy8yLzcsIGFuZCAzLzMvNyxcbi8vIGJ1dCBpdCBkb2VzICpub3QqIGluY2x1ZGUgNC81LzEzLCBhbmQgMy8zLzYsIHNpbmNlIHRoZXNlIGFyZSBvdGhlciByZW5kZXJhYmxlVGlsZXMuXG4vLyBBIFRpbGVNYXNrIGFsd2F5cyBjb250YWlucyBUaWxlSURzICpyZWxhdGl2ZSogdG8gdGhlIHRpbGUgaXQgaXMgZ2VuZXJhdGVkIGZvciwgc28gMi8xLzMgaXNcbi8vIFwic3VidHJhY3RlZFwiIGZyb20gdGhlc2UgVGlsZUlEcy4gVGhlIGZpbmFsIFRpbGVNYXNrIGZvciAyLzEvMyB3aWxsIHRodXMgYmU6XG4vL1xuLy8gICAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSs4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSs4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4vLyAgICDilIIgICAgICAgIOKUgiAgICAgICAg4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUgiAyLzAvMCAg4pSCIDIvMS8wICDilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSCICAgICAgICDilIIgICAgICAgIOKUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilJzilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilKQjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSCICAgICAgICDilIIjIyMjIyMjI+KUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilIIgMi8wLzEgIOKUgiMjIyMjIyMj4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUgiAgICAgICAg4pSCIyMjIyMjIyPilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSc4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAxLzAvMSAgICAgIOKUgiAgICAgIDEvMS8xICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbi8vXG4vLyBPbmx5IG90aGVyIHJlbmRlcmFibGUgdGlsZXMgdGhhdCBhcmUgKmNoaWxkcmVuKiBvZiB0aGUgdGlsZSB3ZSBhcmUgZ2VuZXJhdGluZyB0aGUgbWFzayBmb3Igd2lsbFxuLy8gYmUgY29uc2lkZXJlZC4gRm9yIGV4YW1wbGUsIGFkZGluZyBUaWxlSUQgNC84LzEzIHRvIHJlbmRlcmFibGVUaWxlcyB3b24ndCBhZmZlY3QgdGhlIFRpbGVNYXNrIGZvclxuLy8gMi8xLzMsIHNpbmNlIGl0IGlzIG5vdCBhIGRlc2NlbmRhbnQgb2YgaXQuXG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocmVuZGVyYWJsZVRpbGVzOiBBcnJheTxUaWxlPiwgY29udGV4dDogQ29udGV4dCkge1xuICAgIGNvbnN0IHNvcnRlZFJlbmRlcmFibGVzID0gcmVuZGVyYWJsZVRpbGVzLnNvcnQoKGEsIGIpID0+IHsgcmV0dXJuIGEudGlsZUlELmlzTGVzc1RoYW4oYi50aWxlSUQpID8gLTEgOiBiLnRpbGVJRC5pc0xlc3NUaGFuKGEudGlsZUlEKSA/IDEgOiAwOyB9KTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkUmVuZGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbWFzayA9IHt9O1xuICAgICAgICBjb25zdCB0aWxlID0gIHNvcnRlZFJlbmRlcmFibGVzW2ldO1xuICAgICAgICBjb25zdCBjaGlsZEFycmF5ID0gc29ydGVkUmVuZGVyYWJsZXMuc2xpY2UoaSArIDEpO1xuICAgICAgICAvLyBUcnkgdG8gYWRkIGFsbCByZW1haW5pbmcgaWRzIGFzIGNoaWxkcmVuLiBXZSBzb3J0ZWQgdGhlIHRpbGUgbGlzdFxuICAgICAgICAvLyBieSB6IGVhcmxpZXIsIHNvIGFsbCBwcmVjZWRpbmcgaXRlbXMgY2Fubm90IGJlIGNoaWxkcmVuIG9mIHRoZSBjdXJyZW50XG4gICAgICAgIC8vIHRpbGUuIFdlIGFsc28gY29tcHV0ZSB0aGUgbG93ZXIgYm91bmQgb2YgdGhlIG5leHQgd3JhcCwgYmVjYXVzZSBpdGVtcyBvZiB0aGUgbmV4dCB3cmFwXG4gICAgICAgIC8vIGNhbiBuZXZlciBiZSBjaGlsZHJlbiBvZiB0aGUgY3VycmVudCB3cmFwLlxuXG4gICAgICAgIGNvbXB1dGVUaWxlTWFza3ModGlsZS50aWxlSUQud3JhcHBlZCgpLCB0aWxlLnRpbGVJRCwgY2hpbGRBcnJheSwgbmV3IE92ZXJzY2FsZWRUaWxlSUQoMCwgdGlsZS50aWxlSUQud3JhcCArIDEsIDAsIDAsIDApLCBtYXNrKTtcbiAgICAgICAgdGlsZS5zZXRNYXNrKG1hc2ssIGNvbnRleHQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZVRpbGVNYXNrcyhyb290VGlsZTogT3ZlcnNjYWxlZFRpbGVJRCwgcmVmOiBPdmVyc2NhbGVkVGlsZUlELCBjaGlsZEFycmF5OiBBcnJheTxUaWxlPiwgbG93ZXJCb3VuZDogT3ZlcnNjYWxlZFRpbGVJRCwgbWFzazogTWFzaykge1xuICAgIC8vIElmIHRoZSByZWZlcmVuY2Ugb3IgYW55IG9mIGl0cyBjaGlsZHJlbiBpcyBmb3VuZCBpbiB0aGUgbGlzdCwgd2UgbmVlZCB0byByZWN1cnNlLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZFRpbGUgPSBjaGlsZEFycmF5W2ldO1xuICAgICAgICAvLyBjaGlsZFRpbGUgaXMgZnJvbSBhIGxhcmdlciB3cmFwIHRoYW4gdGhlIHJvb3RUaWxlIHNvIGl0IGNhbm5vdCBiZSBhIGNoaWxkIHRpbGVcbiAgICAgICAgaWYgKGxvd2VyQm91bmQuaXNMZXNzVGhhbihjaGlsZFRpbGUudGlsZUlEKSkgYnJlYWs7XG4gICAgICAgIC8vIFRoZSBjdXJyZW50IHRpbGUgaXMgbWFza2VkIG91dCwgc28gd2UgZG9uJ3QgbmVlZCB0byBhZGQgdGhlbSB0byB0aGUgbWFzayBzZXQuXG4gICAgICAgIGlmIChyZWYua2V5ID09PSBjaGlsZFRpbGUudGlsZUlELmtleSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkVGlsZS50aWxlSUQuaXNDaGlsZE9mKHJlZikpIHtcbiAgICAgICAgICAgIC8vIFRoZXJlJ3MgYXQgbGVhc3Qgb25lIGNoaWxkIHRpbGUgdGhhdCBpcyBtYXNrZWQgb3V0LCBzbyByZWN1cnNpdmVseSBkZXNjZW5kXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHJlZi5jaGlsZHJlbihJbmZpbml0eSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltqXTtcbiAgICAgICAgICAgICAgICBjb21wdXRlVGlsZU1hc2tzKHJvb3RUaWxlLCBjaGlsZCwgY2hpbGRBcnJheS5zbGljZShpKSwgbG93ZXJCb3VuZCwgbWFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gV2UgY291bGRuJ3QgZmluZCBhIGNoaWxkLCBzbyBpdCdzIGRlZmluaXRlbHkgYSBtYXNrZWQgcGFydC5cbiAgICAvLyBDb21wdXRlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHJvb3QgdGlsZSBJRCBhbmQgdGhlIHJlZmVyZW5jZSB0aWxlIElELCBzaW5jZSBUaWxlTWFza1xuICAgIC8vIGVsZW1lbnRzIGFyZSBhbHdheXMgcmVsYXRpdmUgKHNlZSBiZWxvdyBmb3IgZXhwbGFuYXRpb24pLlxuICAgIGNvbnN0IGRpZmZaID0gcmVmLm92ZXJzY2FsZWRaIC0gcm9vdFRpbGUub3ZlcnNjYWxlZFo7XG4gICAgY29uc3QgbWFza1RpbGVJZCA9IG5ldyBDYW5vbmljYWxUaWxlSUQoZGlmZlosIHJlZi5jYW5vbmljYWwueCAtIChyb290VGlsZS5jYW5vbmljYWwueCA8PCBkaWZmWiksIHJlZi5jYW5vbmljYWwueSAtIChyb290VGlsZS5jYW5vbmljYWwueSA8PCBkaWZmWikpO1xuICAgIG1hc2tbbWFza1RpbGVJZC5rZXldID0gbWFza1ttYXNrVGlsZUlkLmtleV0gfHwgbWFza1RpbGVJZDtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IHR5cGUgU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuaW1wb3J0IHR5cGUgU3ltYm9sQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQnO1xuaW1wb3J0IHBpeGVsc1RvVGlsZVVuaXRzIGZyb20gJy4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cyc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdDb2xsaXNpb25EZWJ1ZztcblxuZnVuY3Rpb24gZHJhd0NvbGxpc2lvbkRlYnVnR2VvbWV0cnkocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPiwgZHJhd0NpcmNsZXM6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCBwcm9ncmFtID0gZHJhd0NpcmNsZXMgPyBwYWludGVyLnVzZVByb2dyYW0oJ2NvbGxpc2lvbkNpcmNsZScpIDogcGFpbnRlci51c2VQcm9ncmFtKCdjb2xsaXNpb25Cb3gnKTtcblxuICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKERlcHRoTW9kZS5kaXNhYmxlZCk7XG4gICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShTdGVuY2lsTW9kZS5kaXNhYmxlZCk7XG4gICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY29vcmQgPSBjb29yZHNbaV07XG4gICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgY29uc3QgYnVja2V0OiA/U3ltYm9sQnVja2V0ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgaWYgKCFidWNrZXQpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBidWZmZXJzID0gZHJhd0NpcmNsZXMgPyBidWNrZXQuY29sbGlzaW9uQ2lyY2xlIDogYnVja2V0LmNvbGxpc2lvbkJveDtcbiAgICAgICAgaWYgKCFidWZmZXJzKSBjb250aW51ZTtcblxuXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIGNvb3JkLnBvc01hdHJpeCk7XG5cbiAgICAgICAgaWYgKCFkcmF3Q2lyY2xlcykge1xuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGguc2V0KDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlLCBwYWludGVyLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKTtcbiAgICAgICAgY29uc3QgcGl4ZWxSYXRpbyA9IHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIDEsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20pO1xuICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgucG93KDIsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20gLSB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWik7XG4gICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMsIHBpeGVsUmF0aW8pO1xuICAgICAgICBnbC51bmlmb3JtMmYocHJvZ3JhbS51bmlmb3Jtcy51X2V4dHJ1ZGVfc2NhbGUsXG4gICAgICAgICAgICBwYWludGVyLnRyYW5zZm9ybS5waXhlbHNUb0dMVW5pdHNbMF0gLyAocGl4ZWxSYXRpbyAqIHNjYWxlKSxcbiAgICAgICAgICAgIHBhaW50ZXIudHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1sxXSAvIChwaXhlbFJhdGlvICogc2NhbGUpKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9vdmVyc2NhbGVfZmFjdG9yLCB0aWxlLnRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKSk7XG5cbiAgICAgICAgcHJvZ3JhbS5kcmF3KFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIGRyYXdDaXJjbGVzID8gZ2wuVFJJQU5HTEVTIDogZ2wuTElORVMsXG4gICAgICAgICAgICBsYXllci5pZCxcbiAgICAgICAgICAgIGJ1ZmZlcnMubGF5b3V0VmVydGV4QnVmZmVyLFxuICAgICAgICAgICAgYnVmZmVycy5pbmRleEJ1ZmZlcixcbiAgICAgICAgICAgIGJ1ZmZlcnMuc2VnbWVudHMsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgYnVmZmVycy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIsXG4gICAgICAgICAgICBudWxsKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdDb2xsaXNpb25EZWJ1ZyhwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgZHJhd0NvbGxpc2lvbkRlYnVnR2VvbWV0cnkocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIGZhbHNlKTtcbiAgICBkcmF3Q29sbGlzaW9uRGVidWdHZW9tZXRyeShwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgdHJ1ZSk7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgZHJhd0NvbGxpc2lvbkRlYnVnIGZyb20gJy4vZHJhd19jb2xsaXNpb25fZGVidWcnO1xuXG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzJztcbmltcG9ydCAqIGFzIHN5bWJvbFByb2plY3Rpb24gZnJvbSAnLi4vc3ltYm9sL3Byb2plY3Rpb24nO1xuaW1wb3J0ICogYXMgc3ltYm9sU2l6ZSBmcm9tICcuLi9zeW1ib2wvc3ltYm9sX3NpemUnO1xuaW1wb3J0IHsgbWF0NCB9IGZyb20gJ0BtYXBib3gvZ2wtbWF0cml4JztcbmNvbnN0IGlkZW50aXR5TWF0NCA9IG1hdDQuaWRlbnRpdHkobmV3IEZsb2F0MzJBcnJheSgxNikpO1xuaW1wb3J0IHByb3BlcnRpZXMgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvc3ltYm9sX3N0eWxlX2xheWVyX3Byb3BlcnRpZXMnO1xuY29uc3Qgc3ltYm9sTGF5b3V0UHJvcGVydGllcyA9IHByb3BlcnRpZXMubGF5b3V0O1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIFN5bWJvbFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvc3ltYm9sX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0JztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdTeW1ib2xzO1xuXG5mdW5jdGlvbiBkcmF3U3ltYm9scyhwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBTeW1ib2xTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyAhPT0gJ3RyYW5zbHVjZW50JykgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcblxuICAgIC8vIERpc2FibGUgdGhlIHN0ZW5jaWwgdGVzdCBzbyB0aGF0IGxhYmVscyBhcmVuJ3QgY2xpcHBlZCB0byB0aWxlIGJvdW5kYXJpZXMuXG4gICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShTdGVuY2lsTW9kZS5kaXNhYmxlZCk7XG4gICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuXG4gICAgaWYgKGxheWVyLnBhaW50LmdldCgnaWNvbi1vcGFjaXR5JykuY29uc3RhbnRPcigxKSAhPT0gMCkge1xuICAgICAgICBkcmF3TGF5ZXJTeW1ib2xzKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzLCBmYWxzZSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgnaWNvbi10cmFuc2xhdGUnKSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgnaWNvbi10cmFuc2xhdGUtYW5jaG9yJyksXG4gICAgICAgICAgICBsYXllci5sYXlvdXQuZ2V0KCdpY29uLXJvdGF0aW9uLWFsaWdubWVudCcpLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgnaWNvbi1waXRjaC1hbGlnbm1lbnQnKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ2ljb24ta2VlcC11cHJpZ2h0JylcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCd0ZXh0LW9wYWNpdHknKS5jb25zdGFudE9yKDEpICE9PSAwKSB7XG4gICAgICAgIGRyYXdMYXllclN5bWJvbHMocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIHRydWUsXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ3RleHQtdHJhbnNsYXRlJyksXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ3RleHQtdHJhbnNsYXRlLWFuY2hvcicpLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgndGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQnKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ3RleHQtcGl0Y2gtYWxpZ25tZW50JyksXG4gICAgICAgICAgICBsYXllci5sYXlvdXQuZ2V0KCd0ZXh0LWtlZXAtdXByaWdodCcpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHNvdXJjZUNhY2hlLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMpIHtcbiAgICAgICAgZHJhd0NvbGxpc2lvbkRlYnVnKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdMYXllclN5bWJvbHMocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIGlzVGV4dCwgdHJhbnNsYXRlLCB0cmFuc2xhdGVBbmNob3IsXG4gICAgcm90YXRpb25BbGlnbm1lbnQsIHBpdGNoQWxpZ25tZW50LCBrZWVwVXByaWdodCkge1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3QgdHIgPSBwYWludGVyLnRyYW5zZm9ybTtcblxuICAgIGNvbnN0IHJvdGF0ZVdpdGhNYXAgPSByb3RhdGlvbkFsaWdubWVudCA9PT0gJ21hcCc7XG4gICAgY29uc3QgcGl0Y2hXaXRoTWFwID0gcGl0Y2hBbGlnbm1lbnQgPT09ICdtYXAnO1xuICAgIGNvbnN0IGFsb25nTGluZSA9IHJvdGF0ZVdpdGhNYXAgJiYgbGF5ZXIubGF5b3V0LmdldCgnc3ltYm9sLXBsYWNlbWVudCcpID09PSAnbGluZSc7XG4gICAgLy8gTGluZSBsYWJlbCByb3RhdGlvbiBoYXBwZW5zIGluIGB1cGRhdGVMaW5lTGFiZWxzYFxuICAgIC8vIFBpdGNoZWQgcG9pbnQgbGFiZWxzIGFyZSBhdXRvbWF0aWNhbGx5IHJvdGF0ZWQgYnkgdGhlIGxhYmVsUGxhbmVNYXRyaXggcHJvamVjdGlvblxuICAgIC8vIFVucGl0Y2hlZCBwb2ludCBsYWJlbHMgbmVlZCB0byBoYXZlIHRoZWlyIHJvdGF0aW9uIGFwcGxpZWQgYWZ0ZXIgcHJvamVjdGlvblxuICAgIGNvbnN0IHJvdGF0ZUluU2hhZGVyID0gcm90YXRlV2l0aE1hcCAmJiAhcGl0Y2hXaXRoTWFwICYmICFhbG9uZ0xpbmU7XG5cbiAgICBjb25zdCBkZXB0aE9uID0gcGl0Y2hXaXRoTWFwO1xuXG4gICAgY29udGV4dC5zZXREZXB0aE1vZGUoZGVwdGhPbiA/IHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KSA6IERlcHRoTW9kZS5kaXNhYmxlZCk7XG5cbiAgICBsZXQgcHJvZ3JhbTtcblxuICAgIGZvciAoY29uc3QgY29vcmQgb2YgY29vcmRzKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgY29uc3QgYnVja2V0OiBTeW1ib2xCdWNrZXQgPSAodGlsZS5nZXRCdWNrZXQobGF5ZXIpOiBhbnkpO1xuICAgICAgICBpZiAoIWJ1Y2tldCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBpc1RleHQgPyBidWNrZXQudGV4dCA6IGJ1Y2tldC5pY29uO1xuICAgICAgICBpZiAoIWJ1ZmZlcnMgfHwgIWJ1ZmZlcnMuc2VnbWVudHMuZ2V0KCkubGVuZ3RoKSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWZmZXJzLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpO1xuXG4gICAgICAgIGNvbnN0IGlzU0RGID0gaXNUZXh0IHx8IGJ1Y2tldC5zZGZJY29ucztcblxuICAgICAgICBjb25zdCBzaXplRGF0YSA9IGlzVGV4dCA/IGJ1Y2tldC50ZXh0U2l6ZURhdGEgOiBidWNrZXQuaWNvblNpemVEYXRhO1xuXG4gICAgICAgIGlmICghcHJvZ3JhbSkge1xuICAgICAgICAgICAgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbShpc1NERiA/ICdzeW1ib2xTREYnIDogJ3N5bWJvbEljb24nLCBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRVbmlmb3JtcyhwYWludGVyLmNvbnRleHQsIHByb2dyYW0sIGxheWVyLnBhaW50LCB7em9vbTogcGFpbnRlci50cmFuc2Zvcm0uem9vbX0pO1xuXG4gICAgICAgICAgICBzZXRTeW1ib2xEcmF3U3RhdGUocHJvZ3JhbSwgcGFpbnRlciwgbGF5ZXIsIGlzVGV4dCwgcm90YXRlSW5TaGFkZXIsIHBpdGNoV2l0aE1hcCwgc2l6ZURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfdGV4dHVyZSwgMCk7XG5cbiAgICAgICAgaWYgKGlzVGV4dCkge1xuICAgICAgICAgICAgdGlsZS5nbHlwaEF0bGFzVGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV90ZXhzaXplLCB0aWxlLmdseXBoQXRsYXNUZXh0dXJlLnNpemUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaWNvblNjYWxlZCA9IGxheWVyLmxheW91dC5nZXQoJ2ljb24tc2l6ZScpLmNvbnN0YW50T3IoMCkgIT09IDEgfHwgYnVja2V0Lmljb25zTmVlZExpbmVhcjtcbiAgICAgICAgICAgIGNvbnN0IGljb25UcmFuc2Zvcm1lZCA9IHBpdGNoV2l0aE1hcCB8fCB0ci5waXRjaCAhPT0gMDtcblxuICAgICAgICAgICAgdGlsZS5pY29uQXRsYXNUZXh0dXJlLmJpbmQoaXNTREYgfHwgcGFpbnRlci5vcHRpb25zLnJvdGF0aW5nIHx8IHBhaW50ZXIub3B0aW9ucy56b29taW5nIHx8IGljb25TY2FsZWQgfHwgaWNvblRyYW5zZm9ybWVkID9cbiAgICAgICAgICAgICAgICBnbC5MSU5FQVIgOiBnbC5ORUFSRVNULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3RleHNpemUsIHRpbGUuaWNvbkF0bGFzVGV4dHVyZS5zaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIHBhaW50ZXIudHJhbnNsYXRlUG9zTWF0cml4KGNvb3JkLnBvc01hdHJpeCwgdGlsZSwgdHJhbnNsYXRlLCB0cmFuc2xhdGVBbmNob3IpKTtcblxuICAgICAgICBjb25zdCBzID0gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSk7XG4gICAgICAgIGNvbnN0IGxhYmVsUGxhbmVNYXRyaXggPSBzeW1ib2xQcm9qZWN0aW9uLmdldExhYmVsUGxhbmVNYXRyaXgoY29vcmQucG9zTWF0cml4LCBwaXRjaFdpdGhNYXAsIHJvdGF0ZVdpdGhNYXAsIHBhaW50ZXIudHJhbnNmb3JtLCBzKTtcbiAgICAgICAgY29uc3QgZ2xDb29yZE1hdHJpeCA9IHN5bWJvbFByb2plY3Rpb24uZ2V0R2xDb29yZE1hdHJpeChjb29yZC5wb3NNYXRyaXgsIHBpdGNoV2l0aE1hcCwgcm90YXRlV2l0aE1hcCwgcGFpbnRlci50cmFuc2Zvcm0sIHMpO1xuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9nbF9jb29yZF9tYXRyaXgsIGZhbHNlLCBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeChnbENvb3JkTWF0cml4LCB0aWxlLCB0cmFuc2xhdGUsIHRyYW5zbGF0ZUFuY2hvciwgdHJ1ZSkpO1xuXG4gICAgICAgIGlmIChhbG9uZ0xpbmUpIHtcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X2xhYmVsX3BsYW5lX21hdHJpeCwgZmFsc2UsIGlkZW50aXR5TWF0NCk7XG4gICAgICAgICAgICBzeW1ib2xQcm9qZWN0aW9uLnVwZGF0ZUxpbmVMYWJlbHMoYnVja2V0LCBjb29yZC5wb3NNYXRyaXgsIHBhaW50ZXIsIGlzVGV4dCwgbGFiZWxQbGFuZU1hdHJpeCwgZ2xDb29yZE1hdHJpeCwgcGl0Y2hXaXRoTWFwLCBrZWVwVXByaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9sYWJlbF9wbGFuZV9tYXRyaXgsIGZhbHNlLCBsYWJlbFBsYW5lTWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfZmFkZV9jaGFuZ2UsIHBhaW50ZXIub3B0aW9ucy5mYWRlRHVyYXRpb24gPyBwYWludGVyLnN5bWJvbEZhZGVDaGFuZ2UgOiAxKTtcblxuICAgICAgICBkcmF3VGlsZVN5bWJvbHMocHJvZ3JhbSwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIHBhaW50ZXIsIGxheWVyLCB0aWxlLCBidWZmZXJzLCBpc1RleHQsIGlzU0RGLCBwaXRjaFdpdGhNYXApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0U3ltYm9sRHJhd1N0YXRlKHByb2dyYW0sIHBhaW50ZXIsIGxheWVyLCBpc1RleHQsIHJvdGF0ZUluU2hhZGVyLCBwaXRjaFdpdGhNYXAsIHNpemVEYXRhKSB7XG5cbiAgICBjb25zdCBnbCA9IHBhaW50ZXIuY29udGV4dC5nbDtcbiAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuXG4gICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9waXRjaF93aXRoX21hcCwgcGl0Y2hXaXRoTWFwID8gMSA6IDApO1xuXG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9pc190ZXh0LCBpc1RleHQgPyAxIDogMCk7XG5cbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3BpdGNoLCB0ci5waXRjaCAvIDM2MCAqIDIgKiBNYXRoLlBJKTtcblxuICAgIGNvbnN0IGlzWm9vbUNvbnN0YW50ID0gc2l6ZURhdGEuZnVuY3Rpb25UeXBlID09PSAnY29uc3RhbnQnIHx8IHNpemVEYXRhLmZ1bmN0aW9uVHlwZSA9PT0gJ3NvdXJjZSc7XG4gICAgY29uc3QgaXNGZWF0dXJlQ29uc3RhbnQgPSBzaXplRGF0YS5mdW5jdGlvblR5cGUgPT09ICdjb25zdGFudCcgfHwgc2l6ZURhdGEuZnVuY3Rpb25UeXBlID09PSAnY2FtZXJhJztcbiAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X2lzX3NpemVfem9vbV9jb25zdGFudCwgaXNab29tQ29uc3RhbnQgPyAxIDogMCk7XG4gICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQsIGlzRmVhdHVyZUNvbnN0YW50ID8gMSA6IDApO1xuXG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlLCB0ci5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKTtcblxuICAgIGNvbnN0IHNpemUgPSBzeW1ib2xTaXplLmV2YWx1YXRlU2l6ZUZvclpvb20oc2l6ZURhdGEsIHRyLnpvb20sIHN5bWJvbExheW91dFByb3BlcnRpZXMucHJvcGVydGllc1tpc1RleHQgPyAndGV4dC1zaXplJyA6ICdpY29uLXNpemUnXSk7XG4gICAgaWYgKHNpemUudVNpemVUICE9PSB1bmRlZmluZWQpIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfc2l6ZV90LCBzaXplLnVTaXplVCk7XG4gICAgaWYgKHNpemUudVNpemUgIT09IHVuZGVmaW5lZCkgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9zaXplLCBzaXplLnVTaXplKTtcblxuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfYXNwZWN0X3JhdGlvLCB0ci53aWR0aCAvIHRyLmhlaWdodCk7XG4gICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9yb3RhdGVfc3ltYm9sLCByb3RhdGVJblNoYWRlciA/IDEgOiAwKTtcbn1cblxuZnVuY3Rpb24gZHJhd1RpbGVTeW1ib2xzKHByb2dyYW0sIHByb2dyYW1Db25maWd1cmF0aW9uLCBwYWludGVyLCBsYXllciwgdGlsZSwgYnVmZmVycywgaXNUZXh0LCBpc1NERiwgcGl0Y2hXaXRoTWFwKSB7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuXG4gICAgaWYgKGlzU0RGKSB7XG4gICAgICAgIGNvbnN0IGhhc0hhbG8gPSBsYXllci5wYWludC5nZXQoaXNUZXh0ID8gJ3RleHQtaGFsby13aWR0aCcgOiAnaWNvbi1oYWxvLXdpZHRoJykuY29uc3RhbnRPcigxKSAhPT0gMDtcbiAgICAgICAgY29uc3QgZ2FtbWFTY2FsZSA9IChwaXRjaFdpdGhNYXAgPyBNYXRoLmNvcyh0ci5fcGl0Y2gpICogdHIuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSA6IDEpO1xuICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2dhbW1hX3NjYWxlLCBnYW1tYVNjYWxlKTtcblxuICAgICAgICBpZiAoaGFzSGFsbykgeyAvLyBEcmF3IGhhbG8gdW5kZXJuZWF0aCB0aGUgdGV4dC5cbiAgICAgICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfaXNfaGFsbywgMSk7XG4gICAgICAgICAgICBkcmF3U3ltYm9sRWxlbWVudHMoYnVmZmVycywgbGF5ZXIsIGNvbnRleHQsIHByb2dyYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9pc19oYWxvLCAwKTtcbiAgICB9XG5cbiAgICBkcmF3U3ltYm9sRWxlbWVudHMoYnVmZmVycywgbGF5ZXIsIGNvbnRleHQsIHByb2dyYW0pO1xufVxuXG5mdW5jdGlvbiBkcmF3U3ltYm9sRWxlbWVudHMoYnVmZmVycywgbGF5ZXIsIGNvbnRleHQsIHByb2dyYW0pIHtcbiAgICBwcm9ncmFtLmRyYXcoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNvbnRleHQuZ2wuVFJJQU5HTEVTLFxuICAgICAgICBsYXllci5pZCxcbiAgICAgICAgYnVmZmVycy5sYXlvdXRWZXJ0ZXhCdWZmZXIsXG4gICAgICAgIGJ1ZmZlcnMuaW5kZXhCdWZmZXIsXG4gICAgICAgIGJ1ZmZlcnMuc2VnbWVudHMsXG4gICAgICAgIGJ1ZmZlcnMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCksXG4gICAgICAgIGJ1ZmZlcnMuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgYnVmZmVycy5vcGFjaXR5VmVydGV4QnVmZmVyKTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5cbmltcG9ydCBwaXhlbHNUb1RpbGVVbml0cyBmcm9tICcuLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBMaW5lU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9saW5lX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIExpbmVCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvbGluZV9idWNrZXQnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZHJhd0xpbmUocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogTGluZVN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzICE9PSAndHJhbnNsdWNlbnQnKSByZXR1cm47XG5cbiAgICBjb25zdCBvcGFjaXR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLW9wYWNpdHknKTtcbiAgICBpZiAob3BhY2l0eS5jb25zdGFudE9yKDEpID09PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuXG4gICAgY29udGV4dC5zZXREZXB0aE1vZGUocGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcigwLCBEZXB0aE1vZGUuUmVhZE9ubHkpKTtcbiAgICBjb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG5cbiAgICBjb25zdCBwcm9ncmFtSWQgPVxuICAgICAgICBsYXllci5wYWludC5nZXQoJ2xpbmUtZGFzaGFycmF5JykgPyAnbGluZVNERicgOlxuICAgICAgICBsYXllci5wYWludC5nZXQoJ2xpbmUtcGF0dGVybicpID8gJ2xpbmVQYXR0ZXJuJyA6ICdsaW5lJztcblxuICAgIGxldCBwcmV2VGlsZVpvb207XG4gICAgbGV0IGZpcnN0VGlsZSA9IHRydWU7XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogP0xpbmVCdWNrZXQgPSAodGlsZS5nZXRCdWNrZXQobGF5ZXIpOiBhbnkpO1xuICAgICAgICBpZiAoIWJ1Y2tldCkgY29udGludWU7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWNrZXQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG4gICAgICAgIGNvbnN0IHByZXZQcm9ncmFtID0gcGFpbnRlci5jb250ZXh0LnByb2dyYW0uZ2V0KCk7XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0ocHJvZ3JhbUlkLCBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgICAgIGNvbnN0IHByb2dyYW1DaGFuZ2VkID0gZmlyc3RUaWxlIHx8IHByb2dyYW0ucHJvZ3JhbSAhPT0gcHJldlByb2dyYW07XG4gICAgICAgIGNvbnN0IHRpbGVSYXRpb0NoYW5nZWQgPSBwcmV2VGlsZVpvb20gIT09IHRpbGUudGlsZUlELm92ZXJzY2FsZWRaO1xuXG4gICAgICAgIGlmIChwcm9ncmFtQ2hhbmdlZCkge1xuICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24uc2V0VW5pZm9ybXMocGFpbnRlci5jb250ZXh0LCBwcm9ncmFtLCBsYXllci5wYWludCwge3pvb206IHBhaW50ZXIudHJhbnNmb3JtLnpvb219KTtcbiAgICAgICAgfVxuICAgICAgICBkcmF3TGluZVRpbGUocHJvZ3JhbSwgcGFpbnRlciwgdGlsZSwgYnVja2V0LCBsYXllciwgY29vcmQsIHByb2dyYW1Db25maWd1cmF0aW9uLCBwcm9ncmFtQ2hhbmdlZCwgdGlsZVJhdGlvQ2hhbmdlZCk7XG4gICAgICAgIHByZXZUaWxlWm9vbSA9IHRpbGUudGlsZUlELm92ZXJzY2FsZWRaO1xuICAgICAgICBmaXJzdFRpbGUgPSBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdMaW5lVGlsZShwcm9ncmFtLCBwYWludGVyLCB0aWxlLCBidWNrZXQsIGxheWVyLCBjb29yZCwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIHByb2dyYW1DaGFuZ2VkLCB0aWxlUmF0aW9DaGFuZ2VkKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3QgZGFzaGFycmF5ID0gbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLWRhc2hhcnJheScpO1xuICAgIGNvbnN0IGltYWdlID0gbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLXBhdHRlcm4nKTtcblxuICAgIGxldCBwb3NBLCBwb3NCLCBpbWFnZVBvc0EsIGltYWdlUG9zQjtcblxuICAgIGlmIChwcm9ncmFtQ2hhbmdlZCB8fCB0aWxlUmF0aW9DaGFuZ2VkKSB7XG4gICAgICAgIGNvbnN0IHRpbGVSYXRpbyA9IDEgLyBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCAxLCBwYWludGVyLnRyYW5zZm9ybS50aWxlWm9vbSk7XG5cbiAgICAgICAgaWYgKGRhc2hhcnJheSkge1xuICAgICAgICAgICAgcG9zQSA9IHBhaW50ZXIubGluZUF0bGFzLmdldERhc2goZGFzaGFycmF5LmZyb20sIGxheWVyLmxheW91dC5nZXQoJ2xpbmUtY2FwJykgPT09ICdyb3VuZCcpO1xuICAgICAgICAgICAgcG9zQiA9IHBhaW50ZXIubGluZUF0bGFzLmdldERhc2goZGFzaGFycmF5LnRvLCBsYXllci5sYXlvdXQuZ2V0KCdsaW5lLWNhcCcpID09PSAncm91bmQnKTtcblxuICAgICAgICAgICAgY29uc3Qgd2lkdGhBID0gcG9zQS53aWR0aCAqIGRhc2hhcnJheS5mcm9tU2NhbGU7XG4gICAgICAgICAgICBjb25zdCB3aWR0aEIgPSBwb3NCLndpZHRoICogZGFzaGFycmF5LnRvU2NhbGU7XG5cbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybnNjYWxlX2EsIHRpbGVSYXRpbyAvIHdpZHRoQSwgLXBvc0EuaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5zY2FsZV9iLCB0aWxlUmF0aW8gLyB3aWR0aEIsIC1wb3NCLmhlaWdodCAvIDIpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9zZGZnYW1tYSwgcGFpbnRlci5saW5lQXRsYXMud2lkdGggLyAoTWF0aC5taW4od2lkdGhBLCB3aWR0aEIpICogMjU2ICogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvKSAvIDIpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIGltYWdlUG9zQSA9IHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oaW1hZ2UuZnJvbSk7XG4gICAgICAgICAgICBpbWFnZVBvc0IgPSBwYWludGVyLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGltYWdlLnRvKTtcbiAgICAgICAgICAgIGlmICghaW1hZ2VQb3NBIHx8ICFpbWFnZVBvc0IpIHJldHVybjtcblxuICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuX3NpemVfYSwgaW1hZ2VQb3NBLmRpc3BsYXlTaXplWzBdICogaW1hZ2UuZnJvbVNjYWxlIC8gdGlsZVJhdGlvLCBpbWFnZVBvc0EuZGlzcGxheVNpemVbMV0pO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuX3NpemVfYiwgaW1hZ2VQb3NCLmRpc3BsYXlTaXplWzBdICogaW1hZ2UudG9TY2FsZSAvIHRpbGVSYXRpbywgaW1hZ2VQb3NCLmRpc3BsYXlTaXplWzFdKTtcblxuICAgICAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gcGFpbnRlci5pbWFnZU1hbmFnZXIuZ2V0UGl4ZWxTaXplKCk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV90ZXhzaXplLCBbd2lkdGgsIGhlaWdodF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMudV9nbF91bml0c190b19waXhlbHMsIDEgLyBwYWludGVyLnRyYW5zZm9ybS5waXhlbHNUb0dMVW5pdHNbMF0sIDEgLyBwYWludGVyLnRyYW5zZm9ybS5waXhlbHNUb0dMVW5pdHNbMV0pO1xuICAgIH1cblxuICAgIGlmIChwcm9ncmFtQ2hhbmdlZCkge1xuXG4gICAgICAgIGlmIChkYXNoYXJyYXkpIHtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfaW1hZ2UsIDApO1xuICAgICAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgICAgICBwYWludGVyLmxpbmVBdGxhcy5iaW5kKGNvbnRleHQpO1xuXG4gICAgICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3RleF95X2EsIChwb3NBOiBhbnkpLnkpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV90ZXhfeV9iLCAocG9zQjogYW55KS55KTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfbWl4LCBkYXNoYXJyYXkudCk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9pbWFnZSwgMCk7XG4gICAgICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgIHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmJpbmQoY29udGV4dCk7XG5cbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5fdGxfYSwgKGltYWdlUG9zQTogYW55KS50bCk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuX2JyX2EsIChpbWFnZVBvc0E6IGFueSkuYnIpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybl90bF9iLCAoaW1hZ2VQb3NCOiBhbnkpLnRsKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5fYnJfYiwgKGltYWdlUG9zQjogYW55KS5icik7XG4gICAgICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2ZhZGUsIGltYWdlLnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShwYWludGVyLnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcoY29vcmQpKTtcblxuICAgIGNvbnN0IHBvc01hdHJpeCA9IHBhaW50ZXIudHJhbnNsYXRlUG9zTWF0cml4KGNvb3JkLnBvc01hdHJpeCwgdGlsZSwgbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLXRyYW5zbGF0ZScpLCBsYXllci5wYWludC5nZXQoJ2xpbmUtdHJhbnNsYXRlLWFuY2hvcicpKTtcbiAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBwb3NNYXRyaXgpO1xuXG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9yYXRpbywgMSAvIHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIDEsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20pKTtcblxuICAgIHByb2dyYW0uZHJhdyhcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgZ2wuVFJJQU5HTEVTLFxuICAgICAgICBsYXllci5pZCxcbiAgICAgICAgYnVja2V0LmxheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgYnVja2V0LmluZGV4QnVmZmVyLFxuICAgICAgICBidWNrZXQuc2VnbWVudHMsXG4gICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHBpeGVsc1RvVGlsZVVuaXRzIGZyb20gJy4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cyc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyJztcbmltcG9ydCB0eXBlIFByb2dyYW0gZnJvbSAnLi9wcm9ncmFtJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSB7Q3Jvc3NGYWRlZH0gZnJvbSAnLi4vc3R5bGUvY3Jvc3NfZmFkZWQnO1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgcGF0dGVybiBpbWFnZSBpcyBuZWVkZWQsIGFuZCBpZiBpdCBpcywgd2hldGhlciBpdCBpcyBub3QgbG9hZGVkLlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHRydWUgaWYgYSBuZWVkZWQgaW1hZ2UgaXMgbWlzc2luZyBhbmQgcmVuZGVyaW5nIG5lZWRzIHRvIGJlIHNraXBwZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1BhdHRlcm5NaXNzaW5nID0gZnVuY3Rpb24oaW1hZ2U6ID9Dcm9zc0ZhZGVkPHN0cmluZz4sIHBhaW50ZXI6IFBhaW50ZXIpOiBib29sZWFuIHtcbiAgICBpZiAoIWltYWdlKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgaW1hZ2VQb3NBID0gcGFpbnRlci5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihpbWFnZS5mcm9tKTtcbiAgICBjb25zdCBpbWFnZVBvc0IgPSBwYWludGVyLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGltYWdlLnRvKTtcbiAgICByZXR1cm4gIWltYWdlUG9zQSB8fCAhaW1hZ2VQb3NCO1xufTtcblxuZXhwb3J0IGNvbnN0IHByZXBhcmUgPSBmdW5jdGlvbiAoaW1hZ2U6IENyb3NzRmFkZWQ8c3RyaW5nPiwgcGFpbnRlcjogUGFpbnRlciwgcHJvZ3JhbTogUHJvZ3JhbSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgY29uc3QgaW1hZ2VQb3NBID0gcGFpbnRlci5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihpbWFnZS5mcm9tKTtcbiAgICBjb25zdCBpbWFnZVBvc0IgPSBwYWludGVyLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGltYWdlLnRvKTtcbiAgICBhc3NlcnQoaW1hZ2VQb3NBICYmIGltYWdlUG9zQik7XG5cbiAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X2ltYWdlLCAwKTtcbiAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuX3RsX2EsIChpbWFnZVBvc0E6IGFueSkudGwpO1xuICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5fYnJfYSwgKGltYWdlUG9zQTogYW55KS5icik7XG4gICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybl90bF9iLCAoaW1hZ2VQb3NCOiBhbnkpLnRsKTtcbiAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuX2JyX2IsIChpbWFnZVBvc0I6IGFueSkuYnIpO1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmdldFBpeGVsU2l6ZSgpO1xuICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3RleHNpemUsIFt3aWR0aCwgaGVpZ2h0XSk7XG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9taXgsIGltYWdlLnQpO1xuICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5fc2l6ZV9hLCAoaW1hZ2VQb3NBOiBhbnkpLmRpc3BsYXlTaXplKTtcbiAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuX3NpemVfYiwgKGltYWdlUG9zQjogYW55KS5kaXNwbGF5U2l6ZSk7XG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9zY2FsZV9hLCBpbWFnZS5mcm9tU2NhbGUpO1xuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfc2NhbGVfYiwgaW1hZ2UudG9TY2FsZSk7XG5cbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICBwYWludGVyLmltYWdlTWFuYWdlci5iaW5kKHBhaW50ZXIuY29udGV4dCk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0UGF0dGVyblVuaWZvcm1zID0gZnVuY3Rpb24gKHRpbGU6IHt0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHRpbGVTaXplOiBudW1iZXJ9LCBwYWludGVyOiBQYWludGVyLCBwcm9ncmFtOiBQcm9ncmFtKSB7XG4gICAgY29uc3QgZ2wgPSBwYWludGVyLmNvbnRleHQuZ2w7XG5cbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLCAxIC8gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgcGFpbnRlci50cmFuc2Zvcm0udGlsZVpvb20pKTtcblxuICAgIGNvbnN0IG51bVRpbGVzID0gTWF0aC5wb3coMiwgdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgIGNvbnN0IHRpbGVTaXplQXROZWFyZXN0Wm9vbSA9IHRpbGUudGlsZVNpemUgKiBNYXRoLnBvdygyLCBwYWludGVyLnRyYW5zZm9ybS50aWxlWm9vbSkgLyBudW1UaWxlcztcblxuICAgIGNvbnN0IHBpeGVsWCA9IHRpbGVTaXplQXROZWFyZXN0Wm9vbSAqICh0aWxlLnRpbGVJRC5jYW5vbmljYWwueCArIHRpbGUudGlsZUlELndyYXAgKiBudW1UaWxlcyk7XG4gICAgY29uc3QgcGl4ZWxZID0gdGlsZVNpemVBdE5lYXJlc3Rab29tICogdGlsZS50aWxlSUQuY2Fub25pY2FsLnk7XG5cbiAgICAvLyBzcGxpdCB0aGUgcGl4ZWwgY29vcmQgaW50byB0d28gcGFpcnMgb2YgMTYgYml0IG51bWJlcnMuIFRoZSBnbHNsIHNwZWMgb25seSBndWFyYW50ZWVzIDE2IGJpdHMgb2YgcHJlY2lzaW9uLlxuICAgIGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnVfcGl4ZWxfY29vcmRfdXBwZXIsIHBpeGVsWCA+PiAxNiwgcGl4ZWxZID4+IDE2KTtcbiAgICBnbC51bmlmb3JtMmYocHJvZ3JhbS51bmlmb3Jtcy51X3BpeGVsX2Nvb3JkX2xvd2VyLCBwaXhlbFggJiAweEZGRkYsIHBpeGVsWSAmIDB4RkZGRik7XG59O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtcbiAgICBpc1BhdHRlcm5NaXNzaW5nLFxuICAgIHNldFBhdHRlcm5Vbmlmb3JtcyxcbiAgICBwcmVwYXJlIGFzIHByZXBhcmVQYXR0ZXJuXG59IGZyb20gJy4vcGF0dGVybic7XG5cbmltcG9ydCBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3InO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBGaWxsU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9maWxsX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIEZpbGxCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvZmlsbF9idWNrZXQnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcbmltcG9ydCB0eXBlIHtDcm9zc0ZhZGVkfSBmcm9tICcuLi9zdHlsZS9jcm9zc19mYWRlZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdGaWxsO1xuXG5mdW5jdGlvbiBkcmF3RmlsbChwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBGaWxsU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGNvbnN0IGNvbG9yID0gbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWNvbG9yJyk7XG4gICAgY29uc3Qgb3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnZmlsbC1vcGFjaXR5Jyk7XG5cbiAgICBpZiAob3BhY2l0eS5jb25zdGFudE9yKDEpID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcblxuICAgIGNvbnN0IHBhc3MgPSAoIWxheWVyLnBhaW50LmdldCgnZmlsbC1wYXR0ZXJuJykgJiZcbiAgICAgICAgY29sb3IuY29uc3RhbnRPcihDb2xvci50cmFuc3BhcmVudCkuYSA9PT0gMSAmJlxuICAgICAgICBvcGFjaXR5LmNvbnN0YW50T3IoMCkgPT09IDEpID8gJ29wYXF1ZScgOiAndHJhbnNsdWNlbnQnO1xuXG4gICAgLy8gRHJhdyBmaWxsXG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gcGFzcykge1xuICAgICAgICAvLyBPbmNlIHdlIHN3aXRjaCB0byBlYXJjdXQgZHJhd2luZyB3ZSBjYW4gcHVsbCBtb3N0IG9mIHRoZSBXZWJHTCBzZXR1cFxuICAgICAgICAvLyBvdXRzaWRlIG9mIHRoaXMgY29vcmRzIGxvb3AuXG4gICAgICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMSwgcGFpbnRlci5yZW5kZXJQYXNzID09PSAnb3BhcXVlJyA/IERlcHRoTW9kZS5SZWFkV3JpdGUgOiBEZXB0aE1vZGUuUmVhZE9ubHkpKTtcbiAgICAgICAgZHJhd0ZpbGxUaWxlcyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgZHJhd0ZpbGxUaWxlKTtcbiAgICB9XG5cbiAgICAvLyBEcmF3IHN0cm9rZVxuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcgJiYgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWFudGlhbGlhcycpKSB7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoLnNldCgyKTtcblxuICAgICAgICAvLyBJZiB3ZSBkZWZpbmVkIGEgZGlmZmVyZW50IGNvbG9yIGZvciB0aGUgZmlsbCBvdXRsaW5lLCB3ZSBhcmVcbiAgICAgICAgLy8gZ29pbmcgdG8gaWdub3JlIHRoZSBiaXRzIGluIDB4MDcgYW5kIGp1c3QgY2FyZSBhYm91dCB0aGUgZ2xvYmFsXG4gICAgICAgIC8vIGNsaXBwaW5nIG1hc2suXG4gICAgICAgIC8vIE90aGVyd2lzZSwgd2Ugb25seSB3YW50IHRvIGRyYXdGaWxsIHRoZSBhbnRpYWxpYXNlZCBwYXJ0cyB0aGF0IGFyZVxuICAgICAgICAvLyAqb3V0c2lkZSogdGhlIGN1cnJlbnQgc2hhcGUuIFRoaXMgaXMgaW1wb3J0YW50IGluIGNhc2UgdGhlIGZpbGxcbiAgICAgICAgLy8gb3Igc3Ryb2tlIGNvbG9yIGlzIHRyYW5zbHVjZW50LiBJZiB3ZSB3b3VsZG4ndCBjbGlwIHRvIG91dHNpZGVcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgc2hhcGUsIHNvbWUgcGl4ZWxzIGZyb20gdGhlIG91dGxpbmUgc3Ryb2tlIG92ZXJsYXBwZWRcbiAgICAgICAgLy8gdGhlIChub24tYW50aWFsaWFzZWQpIGZpbGwuXG4gICAgICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoXG4gICAgICAgICAgICBsYXllci5nZXRQYWludFByb3BlcnR5KCdmaWxsLW91dGxpbmUtY29sb3InKSA/IDIgOiAwLCBEZXB0aE1vZGUuUmVhZE9ubHkpKTtcbiAgICAgICAgZHJhd0ZpbGxUaWxlcyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgZHJhd1N0cm9rZVRpbGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0ZpbGxUaWxlcyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgZHJhd0ZuKSB7XG4gICAgaWYgKGlzUGF0dGVybk1pc3NpbmcobGF5ZXIucGFpbnQuZ2V0KCdmaWxsLXBhdHRlcm4nKSwgcGFpbnRlcikpIHJldHVybjtcblxuICAgIGxldCBmaXJzdFRpbGUgPSB0cnVlO1xuICAgIGZvciAoY29uc3QgY29vcmQgb2YgY29vcmRzKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgY29uc3QgYnVja2V0OiA/RmlsbEJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0KSBjb250aW51ZTtcblxuICAgICAgICBwYWludGVyLmNvbnRleHQuc2V0U3RlbmNpbE1vZGUocGFpbnRlci5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGNvb3JkKSk7XG4gICAgICAgIGRyYXdGbihwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIHRpbGUsIGNvb3JkLCBidWNrZXQsIGZpcnN0VGlsZSk7XG4gICAgICAgIGZpcnN0VGlsZSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0ZpbGxUaWxlKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgdGlsZSwgY29vcmQsIGJ1Y2tldCwgZmlyc3RUaWxlKSB7XG4gICAgY29uc3QgZ2wgPSBwYWludGVyLmNvbnRleHQuZ2w7XG4gICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWNrZXQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG5cbiAgICBjb25zdCBwcm9ncmFtID0gc2V0RmlsbFByb2dyYW0oJ2ZpbGwnLCBsYXllci5wYWludC5nZXQoJ2ZpbGwtcGF0dGVybicpLCBwYWludGVyLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgbGF5ZXIsIHRpbGUsIGNvb3JkLCBmaXJzdFRpbGUpO1xuXG4gICAgcHJvZ3JhbS5kcmF3KFxuICAgICAgICBwYWludGVyLmNvbnRleHQsXG4gICAgICAgIGdsLlRSSUFOR0xFUyxcbiAgICAgICAgbGF5ZXIuaWQsXG4gICAgICAgIGJ1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXIsXG4gICAgICAgIGJ1Y2tldC5pbmRleEJ1ZmZlcixcbiAgICAgICAgYnVja2V0LnNlZ21lbnRzLFxuICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG59XG5cbmZ1bmN0aW9uIGRyYXdTdHJva2VUaWxlKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgdGlsZSwgY29vcmQsIGJ1Y2tldCwgZmlyc3RUaWxlKSB7XG4gICAgY29uc3QgZ2wgPSBwYWludGVyLmNvbnRleHQuZ2w7XG4gICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWNrZXQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG4gICAgY29uc3QgcGF0dGVybiA9IGxheWVyLmdldFBhaW50UHJvcGVydHkoJ2ZpbGwtb3V0bGluZS1jb2xvcicpID8gbnVsbCA6IGxheWVyLnBhaW50LmdldCgnZmlsbC1wYXR0ZXJuJyk7XG5cbiAgICBjb25zdCBwcm9ncmFtID0gc2V0RmlsbFByb2dyYW0oJ2ZpbGxPdXRsaW5lJywgcGF0dGVybiwgcGFpbnRlciwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIGxheWVyLCB0aWxlLCBjb29yZCwgZmlyc3RUaWxlKTtcbiAgICBnbC51bmlmb3JtMmYocHJvZ3JhbS51bmlmb3Jtcy51X3dvcmxkLCBnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQpO1xuXG4gICAgcHJvZ3JhbS5kcmF3KFxuICAgICAgICBwYWludGVyLmNvbnRleHQsXG4gICAgICAgIGdsLkxJTkVTLFxuICAgICAgICBsYXllci5pZCxcbiAgICAgICAgYnVja2V0LmxheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgYnVja2V0LmluZGV4QnVmZmVyMixcbiAgICAgICAgYnVja2V0LnNlZ21lbnRzMixcbiAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xufVxuXG5mdW5jdGlvbiBzZXRGaWxsUHJvZ3JhbShwcm9ncmFtSWQsIHBhdDogP0Nyb3NzRmFkZWQ8c3RyaW5nPiwgcGFpbnRlciwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIGxheWVyLCB0aWxlLCBjb29yZCwgZmlyc3RUaWxlKSB7XG4gICAgbGV0IHByb2dyYW07XG4gICAgY29uc3QgcHJldlByb2dyYW0gPSBwYWludGVyLmNvbnRleHQucHJvZ3JhbS5nZXQoKTtcbiAgICBpZiAoIXBhdCkge1xuICAgICAgICBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKHByb2dyYW1JZCwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xuICAgICAgICBpZiAoZmlyc3RUaWxlIHx8IHByb2dyYW0ucHJvZ3JhbSAhPT0gcHJldlByb2dyYW0pIHtcbiAgICAgICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uLnNldFVuaWZvcm1zKHBhaW50ZXIuY29udGV4dCwgcHJvZ3JhbSwgbGF5ZXIucGFpbnQsIHt6b29tOiBwYWludGVyLnRyYW5zZm9ybS56b29tfSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKGAke3Byb2dyYW1JZH1QYXR0ZXJuYCwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xuICAgICAgICBpZiAoZmlyc3RUaWxlIHx8IHByb2dyYW0ucHJvZ3JhbSAhPT0gcHJldlByb2dyYW0pIHtcbiAgICAgICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uLnNldFVuaWZvcm1zKHBhaW50ZXIuY29udGV4dCwgcHJvZ3JhbSwgbGF5ZXIucGFpbnQsIHt6b29tOiBwYWludGVyLnRyYW5zZm9ybS56b29tfSk7XG4gICAgICAgICAgICBwcmVwYXJlUGF0dGVybihwYXQsIHBhaW50ZXIsIHByb2dyYW0pO1xuICAgICAgICB9XG4gICAgICAgIHNldFBhdHRlcm5Vbmlmb3Jtcyh0aWxlLCBwYWludGVyLCBwcm9ncmFtKTtcbiAgICB9XG4gICAgcGFpbnRlci5jb250ZXh0LmdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIHBhaW50ZXIudHJhbnNsYXRlUG9zTWF0cml4KFxuICAgICAgICBjb29yZC5wb3NNYXRyaXgsIHRpbGUsXG4gICAgICAgIGxheWVyLnBhaW50LmdldCgnZmlsbC10cmFuc2xhdGUnKSxcbiAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLXRyYW5zbGF0ZS1hbmNob3InKVxuICAgICkpO1xuICAgIHJldHVybiBwcm9ncmFtO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGdsTWF0cml4IGZyb20gJ0BtYXBib3gvZ2wtbWF0cml4JztcblxuaW1wb3J0IHtcbiAgICBpc1BhdHRlcm5NaXNzaW5nLFxuICAgIHNldFBhdHRlcm5Vbmlmb3JtcyxcbiAgICBwcmVwYXJlIGFzIHByZXBhcmVQYXR0ZXJuXG59IGZyb20gJy4vcGF0dGVybic7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL3RleHR1cmUnO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuY29uc3QgbWF0MyA9IGdsTWF0cml4Lm1hdDM7XG5jb25zdCBtYXQ0ID0gZ2xNYXRyaXgubWF0NDtcbmNvbnN0IHZlYzMgPSBnbE1hdHJpeC52ZWMzO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IHR5cGUgRmlsbEV4dHJ1c2lvblN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvZmlsbF9leHRydXNpb25fc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgRmlsbEV4dHJ1c2lvbkJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9maWxsX2V4dHJ1c2lvbl9idWNrZXQnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhdztcblxuZnVuY3Rpb24gZHJhdyhwYWludGVyOiBQYWludGVyLCBzb3VyY2U6IFNvdXJjZUNhY2hlLCBsYXllcjogRmlsbEV4dHJ1c2lvblN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5JykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICdvZmZzY3JlZW4nKSB7XG4gICAgICAgIGRyYXdUb0V4dHJ1c2lvbkZyYW1lYnVmZmVyKHBhaW50ZXIsIGxheWVyKTtcblxuICAgICAgICBsZXQgZmlyc3QgPSB0cnVlO1xuICAgICAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1Y2tldDogP0ZpbGxFeHRydXNpb25CdWNrZXQgPSAodGlsZS5nZXRCdWNrZXQobGF5ZXIpOiBhbnkpO1xuICAgICAgICAgICAgaWYgKCFidWNrZXQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBkcmF3RXh0cnVzaW9uKHBhaW50ZXIsIHNvdXJjZSwgbGF5ZXIsIHRpbGUsIGNvb3JkLCBidWNrZXQsIGZpcnN0KTtcbiAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ3RyYW5zbHVjZW50Jykge1xuICAgICAgICBkcmF3RXh0cnVzaW9uVGV4dHVyZShwYWludGVyLCBsYXllcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3VG9FeHRydXNpb25GcmFtZWJ1ZmZlcihwYWludGVyLCBsYXllcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgbGV0IHJlbmRlclRhcmdldCA9IGxheWVyLnZpZXdwb3J0RnJhbWU7XG5cbiAgICBpZiAocGFpbnRlci5kZXB0aFJib05lZWRzQ2xlYXIpIHtcbiAgICAgICAgcGFpbnRlci5zZXR1cE9mZnNjcmVlbkRlcHRoUmVuZGVyYnVmZmVyKCk7XG4gICAgfVxuXG4gICAgaWYgKCFyZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIHt3aWR0aDogcGFpbnRlci53aWR0aCwgaGVpZ2h0OiBwYWludGVyLmhlaWdodCwgZGF0YTogbnVsbH0sIGdsLlJHQkEpO1xuICAgICAgICB0ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcblxuICAgICAgICByZW5kZXJUYXJnZXQgPSBsYXllci52aWV3cG9ydEZyYW1lID0gY29udGV4dC5jcmVhdGVGcmFtZWJ1ZmZlcihwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodCk7XG4gICAgICAgIHJlbmRlclRhcmdldC5jb2xvckF0dGFjaG1lbnQuc2V0KHRleHR1cmUudGV4dHVyZSk7XG4gICAgfVxuXG4gICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHJlbmRlclRhcmdldC5mcmFtZWJ1ZmZlcik7XG4gICAgcmVuZGVyVGFyZ2V0LmRlcHRoQXR0YWNobWVudC5zZXQocGFpbnRlci5kZXB0aFJibyk7XG5cbiAgICBpZiAocGFpbnRlci5kZXB0aFJib05lZWRzQ2xlYXIpIHtcbiAgICAgICAgY29udGV4dC5jbGVhcih7IGRlcHRoOiAxIH0pO1xuICAgICAgICBwYWludGVyLmRlcHRoUmJvTmVlZHNDbGVhciA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnRleHQuY2xlYXIoeyBjb2xvcjogQ29sb3IudHJhbnNwYXJlbnQgfSk7XG5cbiAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKFN0ZW5jaWxNb2RlLmRpc2FibGVkKTtcbiAgICBjb250ZXh0LnNldERlcHRoTW9kZShuZXcgRGVwdGhNb2RlKGdsLkxFUVVBTCwgRGVwdGhNb2RlLlJlYWRXcml0ZSwgWzAsIDFdKSk7XG4gICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xufVxuXG5mdW5jdGlvbiBkcmF3RXh0cnVzaW9uVGV4dHVyZShwYWludGVyLCBsYXllcikge1xuICAgIGNvbnN0IHJlbmRlcmVkVGV4dHVyZSA9IGxheWVyLnZpZXdwb3J0RnJhbWU7XG4gICAgaWYgKCFyZW5kZXJlZFRleHR1cmUpIHJldHVybjtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2V4dHJ1c2lvblRleHR1cmUnKTtcblxuICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoU3RlbmNpbE1vZGUuZGlzYWJsZWQpO1xuICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKERlcHRoTW9kZS5kaXNhYmxlZCk7XG4gICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuXG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgcmVuZGVyZWRUZXh0dXJlLmNvbG9yQXR0YWNobWVudC5nZXQoKSk7XG5cbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X29wYWNpdHksIGxheWVyLnBhaW50LmdldCgnZmlsbC1leHRydXNpb24tb3BhY2l0eScpKTtcbiAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X2ltYWdlLCAwKTtcblxuICAgIGNvbnN0IG1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgbWF0NC5vcnRobyhtYXRyaXgsIDAsIHBhaW50ZXIud2lkdGgsIHBhaW50ZXIuaGVpZ2h0LCAwLCAwLCAxKTtcbiAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBtYXRyaXgpO1xuXG4gICAgZ2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMudV93b3JsZCwgZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLCBnbC5kcmF3aW5nQnVmZmVySGVpZ2h0KTtcblxuICAgIHBhaW50ZXIudmlld3BvcnRWQU8uYmluZChjb250ZXh0LCBwcm9ncmFtLCBwYWludGVyLnZpZXdwb3J0QnVmZmVyLCBbXSk7XG4gICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG59XG5cbmZ1bmN0aW9uIGRyYXdFeHRydXNpb24ocGFpbnRlciwgc291cmNlLCBsYXllciwgdGlsZSwgY29vcmQsIGJ1Y2tldCwgZmlyc3QpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgIGNvbnN0IGltYWdlID0gbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuJyk7XG5cbiAgICBjb25zdCBwcmV2UHJvZ3JhbSA9IHBhaW50ZXIuY29udGV4dC5wcm9ncmFtLmdldCgpO1xuICAgIGNvbnN0IHByb2dyYW1Db25maWd1cmF0aW9uID0gYnVja2V0LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oaW1hZ2UgPyAnZmlsbEV4dHJ1c2lvblBhdHRlcm4nIDogJ2ZpbGxFeHRydXNpb24nLCBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgaWYgKGZpcnN0IHx8IHByb2dyYW0ucHJvZ3JhbSAhPT0gcHJldlByb2dyYW0pIHtcbiAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24uc2V0VW5pZm9ybXMoY29udGV4dCwgcHJvZ3JhbSwgbGF5ZXIucGFpbnQsIHt6b29tOiBwYWludGVyLnRyYW5zZm9ybS56b29tfSk7XG4gICAgfVxuXG4gICAgaWYgKGltYWdlKSB7XG4gICAgICAgIGlmIChpc1BhdHRlcm5NaXNzaW5nKGltYWdlLCBwYWludGVyKSkgcmV0dXJuO1xuICAgICAgICBwcmVwYXJlUGF0dGVybihpbWFnZSwgcGFpbnRlciwgcHJvZ3JhbSk7XG4gICAgICAgIHNldFBhdHRlcm5Vbmlmb3Jtcyh0aWxlLCBwYWludGVyLCBwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9oZWlnaHRfZmFjdG9yLCAtTWF0aC5wb3coMiwgY29vcmQub3ZlcnNjYWxlZFopIC8gdGlsZS50aWxlU2l6ZSAvIDgpO1xuICAgIH1cblxuICAgIHBhaW50ZXIuY29udGV4dC5nbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeChcbiAgICAgICAgY29vcmQucG9zTWF0cml4LFxuICAgICAgICB0aWxlLFxuICAgICAgICBsYXllci5wYWludC5nZXQoJ2ZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZScpLFxuICAgICAgICBsYXllci5wYWludC5nZXQoJ2ZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3InKVxuICAgICkpO1xuXG4gICAgc2V0TGlnaHQocHJvZ3JhbSwgcGFpbnRlcik7XG5cbiAgICBwcm9ncmFtLmRyYXcoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGdsLlRSSUFOR0xFUyxcbiAgICAgICAgbGF5ZXIuaWQsXG4gICAgICAgIGJ1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXIsXG4gICAgICAgIGJ1Y2tldC5pbmRleEJ1ZmZlcixcbiAgICAgICAgYnVja2V0LnNlZ21lbnRzLFxuICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG59XG5cbmZ1bmN0aW9uIHNldExpZ2h0KHByb2dyYW0sIHBhaW50ZXIpIHtcbiAgICBjb25zdCBnbCA9IHBhaW50ZXIuY29udGV4dC5nbDtcbiAgICBjb25zdCBsaWdodCA9IHBhaW50ZXIuc3R5bGUubGlnaHQ7XG5cbiAgICBjb25zdCBfbHAgPSBsaWdodC5wcm9wZXJ0aWVzLmdldCgncG9zaXRpb24nKTtcbiAgICBjb25zdCBsaWdodFBvcyA9IFtfbHAueCwgX2xwLnksIF9scC56XTtcblxuICAgIGNvbnN0IGxpZ2h0TWF0ID0gbWF0My5jcmVhdGUoKTtcbiAgICBpZiAobGlnaHQucHJvcGVydGllcy5nZXQoJ2FuY2hvcicpID09PSAndmlld3BvcnQnKSB7XG4gICAgICAgIG1hdDMuZnJvbVJvdGF0aW9uKGxpZ2h0TWF0LCAtcGFpbnRlci50cmFuc2Zvcm0uYW5nbGUpO1xuICAgIH1cbiAgICB2ZWMzLnRyYW5zZm9ybU1hdDMobGlnaHRQb3MsIGxpZ2h0UG9zLCBsaWdodE1hdCk7XG5cbiAgICBjb25zdCBjb2xvciA9IGxpZ2h0LnByb3BlcnRpZXMuZ2V0KCdjb2xvcicpO1xuXG4gICAgZ2wudW5pZm9ybTNmdihwcm9ncmFtLnVuaWZvcm1zLnVfbGlnaHRwb3MsIGxpZ2h0UG9zKTtcbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2xpZ2h0aW50ZW5zaXR5LCBsaWdodC5wcm9wZXJ0aWVzLmdldCgnaW50ZW5zaXR5JykpO1xuICAgIGdsLnVuaWZvcm0zZihwcm9ncmFtLnVuaWZvcm1zLnVfbGlnaHRjb2xvciwgY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XG59XG4iLCIvLyBAZmxvd1xuaW1wb3J0IENvb3JkaW5hdGUgZnJvbSAnLi4vZ2VvL2Nvb3JkaW5hdGUnO1xuXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL3RleHR1cmUnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudCc7XG5pbXBvcnQgeyBtYXQ0IH0gZnJvbSAnQG1hcGJveC9nbC1tYXRyaXgnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIEhpbGxzaGFkZVN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvaGlsbHNoYWRlX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdIaWxsc2hhZGU7XG5cbmZ1bmN0aW9uIGRyYXdIaWxsc2hhZGUocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogSGlsbHNoYWRlU3R5bGVMYXllciwgdGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzICE9PSAnb2Zmc2NyZWVuJyAmJiBwYWludGVyLnJlbmRlclBhc3MgIT09ICd0cmFuc2x1Y2VudCcpIHJldHVybjtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3Qgc291cmNlTWF4Wm9vbSA9IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLm1heHpvb207XG5cbiAgICBjb250ZXh0LnNldERlcHRoTW9kZShwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsIERlcHRoTW9kZS5SZWFkT25seSkpO1xuICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoU3RlbmNpbE1vZGUuZGlzYWJsZWQpO1xuICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcblxuICAgIGZvciAoY29uc3QgdGlsZUlEIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUodGlsZUlEKTtcbiAgICAgICAgaWYgKHRpbGUubmVlZHNIaWxsc2hhZGVQcmVwYXJlICYmIHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ29mZnNjcmVlbicpIHtcbiAgICAgICAgICAgIHByZXBhcmVIaWxsc2hhZGUocGFpbnRlciwgdGlsZSwgc291cmNlTWF4Wm9vbSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcpIHtcbiAgICAgICAgICAgIHJlbmRlckhpbGxzaGFkZShwYWludGVyLCB0aWxlLCBsYXllcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgcGFpbnRlci53aWR0aCwgcGFpbnRlci5oZWlnaHRdKTtcbn1cblxuZnVuY3Rpb24gc2V0TGlnaHQocHJvZ3JhbSwgcGFpbnRlciwgbGF5ZXIpIHtcbiAgICBsZXQgYXppbXV0aGFsID0gbGF5ZXIucGFpbnQuZ2V0KCdoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvbicpICogKE1hdGguUEkgLyAxODApO1xuICAgIC8vIG1vZGlmeSBhemltdXRoYWwgYW5nbGUgYnkgbWFwIHJvdGF0aW9uIGlmIGxpZ2h0IGlzIGFuY2hvcmVkIGF0IHRoZSB2aWV3cG9ydFxuICAgIGlmIChsYXllci5wYWludC5nZXQoJ2hpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yJykgPT09ICd2aWV3cG9ydCcpICBhemltdXRoYWwgLT0gcGFpbnRlci50cmFuc2Zvcm0uYW5nbGU7XG4gICAgcGFpbnRlci5jb250ZXh0LmdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnVfbGlnaHQsIGxheWVyLnBhaW50LmdldCgnaGlsbHNoYWRlLWV4YWdnZXJhdGlvbicpLCBhemltdXRoYWwpO1xuXG59XG5cbmZ1bmN0aW9uIGdldFRpbGVMYXRSYW5nZShwYWludGVyLCB0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpIHtcbiAgICBjb25zdCBjb29yZGluYXRlMCA9IHRpbGVJRC50b0Nvb3JkaW5hdGUoKTtcbiAgICBjb25zdCBjb29yZGluYXRlMSA9IG5ldyBDb29yZGluYXRlKGNvb3JkaW5hdGUwLmNvbHVtbiwgY29vcmRpbmF0ZTAucm93ICsgMSwgY29vcmRpbmF0ZTAuem9vbSk7XG4gICAgcmV0dXJuIFtwYWludGVyLnRyYW5zZm9ybS5jb29yZGluYXRlTG9jYXRpb24oY29vcmRpbmF0ZTApLmxhdCwgcGFpbnRlci50cmFuc2Zvcm0uY29vcmRpbmF0ZUxvY2F0aW9uKGNvb3JkaW5hdGUxKS5sYXRdO1xufVxuXG5mdW5jdGlvbiByZW5kZXJIaWxsc2hhZGUocGFpbnRlciwgdGlsZSwgbGF5ZXIpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCBmYm8gPSB0aWxlLmZibztcbiAgICBpZiAoIWZibykgcmV0dXJuO1xuXG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnaGlsbHNoYWRlJyk7XG4gICAgY29uc3QgcG9zTWF0cml4ID0gcGFpbnRlci50cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4KHRpbGUudGlsZUlELnRvVW53cmFwcGVkKCksIHRydWUpO1xuICAgIHNldExpZ2h0KHByb2dyYW0sIHBhaW50ZXIsIGxheWVyKTtcbiAgICAvLyBmb3Igc2NhbGluZyB0aGUgbWFnbml0dWRlIG9mIGEgcG9pbnRzIHNsb3BlIGJ5IGl0cyBsYXRpdHVkZVxuICAgIGNvbnN0IGxhdFJhbmdlID0gZ2V0VGlsZUxhdFJhbmdlKHBhaW50ZXIsIHRpbGUudGlsZUlEKTtcbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcblxuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGZiby5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpO1xuXG4gICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgcG9zTWF0cml4KTtcbiAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV9sYXRyYW5nZSwgbGF0UmFuZ2UpO1xuICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfaW1hZ2UsIDApO1xuXG4gICAgY29uc3Qgc2hhZG93Q29sb3IgPSBsYXllci5wYWludC5nZXQoXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCIpO1xuICAgIGdsLnVuaWZvcm00Zihwcm9ncmFtLnVuaWZvcm1zLnVfc2hhZG93LCBzaGFkb3dDb2xvci5yLCBzaGFkb3dDb2xvci5nLCBzaGFkb3dDb2xvci5iLCBzaGFkb3dDb2xvci5hKTtcbiAgICBjb25zdCBoaWdobGlnaHRDb2xvciA9IGxheWVyLnBhaW50LmdldChcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIik7XG4gICAgZ2wudW5pZm9ybTRmKHByb2dyYW0udW5pZm9ybXMudV9oaWdobGlnaHQsIGhpZ2hsaWdodENvbG9yLnIsIGhpZ2hsaWdodENvbG9yLmcsIGhpZ2hsaWdodENvbG9yLmIsIGhpZ2hsaWdodENvbG9yLmEpO1xuICAgIGNvbnN0IGFjY2VudENvbG9yID0gbGF5ZXIucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWFjY2VudC1jb2xvclwiKTtcbiAgICBnbC51bmlmb3JtNGYocHJvZ3JhbS51bmlmb3Jtcy51X2FjY2VudCwgYWNjZW50Q29sb3IuciwgYWNjZW50Q29sb3IuZywgYWNjZW50Q29sb3IuYiwgYWNjZW50Q29sb3IuYSk7XG5cbiAgICBpZiAodGlsZS5tYXNrZWRCb3VuZHNCdWZmZXIgJiYgdGlsZS5tYXNrZWRJbmRleEJ1ZmZlciAmJiB0aWxlLnNlZ21lbnRzKSB7XG4gICAgICAgIHByb2dyYW0uZHJhdyhcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICBnbC5UUklBTkdMRVMsXG4gICAgICAgICAgICBsYXllci5pZCxcbiAgICAgICAgICAgIHRpbGUubWFza2VkQm91bmRzQnVmZmVyLFxuICAgICAgICAgICAgdGlsZS5tYXNrZWRJbmRleEJ1ZmZlcixcbiAgICAgICAgICAgIHRpbGUuc2VnbWVudHNcbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBidWZmZXIgPSBwYWludGVyLnJhc3RlckJvdW5kc0J1ZmZlcjtcbiAgICAgICAgY29uc3QgdmFvID0gcGFpbnRlci5yYXN0ZXJCb3VuZHNWQU87XG4gICAgICAgIHZhby5iaW5kKGNvbnRleHQsIHByb2dyYW0sIGJ1ZmZlciwgW10pO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCBidWZmZXIubGVuZ3RoKTtcbiAgICB9XG59XG5cblxuLy8gaGlsbHNoYWRlIHJlbmRlcmluZyBpcyBkb25lIGluIHR3byBzdGVwcy4gdGhlIHByZXBhcmUgc3RlcCBmaXJzdCBjYWxjdWxhdGVzIHRoZSBzbG9wZSBvZiB0aGUgdGVycmFpbiBpbiB0aGUgeCBhbmQgeVxuLy8gZGlyZWN0aW9ucyBmb3IgZWFjaCBwaXhlbCwgYW5kIHNhdmVzIHRob3NlIHZhbHVlcyB0byBhIGZyYW1lYnVmZmVyIHRleHR1cmUgaW4gdGhlIHIgYW5kIGcgY2hhbm5lbHMuXG5mdW5jdGlvbiBwcmVwYXJlSGlsbHNoYWRlKHBhaW50ZXIsIHRpbGUsIHNvdXJjZU1heFpvb20pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAvLyBkZWNvZGUgcmdiYSBsZXZlbHMgYnkgdXNpbmcgaW50ZWdlciBvdmVyZmxvdyB0byBjb252ZXJ0IGVhY2ggVWludDMyQXJyYXkgZWxlbWVudCAtPiA0IFVpbnQ4QXJyYXkgZWxlbWVudHMuXG4gICAgLy8gZXguXG4gICAgLy8gVWludDMyOlxuICAgIC8vIGJhc2UgMTAgLSA2NzMwOFxuICAgIC8vIGJhc2UgMiAtIDAwMDAgMDAwMCAwMDAwIDAwMDEgMDAwMCAwMTEwIDExMTAgMTEwMFxuICAgIC8vXG4gICAgLy8gVWludDg6XG4gICAgLy8gYmFzZSAxMCAtIDAsIDEsIDYsIDIzNiAodGhpcyBvcmRlciBpcyByZXZlcnNlZCBpbiB0aGUgcmVzdWx0aW5nIGFycmF5IHZpYSB0aGUgb3ZlcmZsb3cuXG4gICAgLy8gZmlyc3QgOCBiaXRzIHJlcHJlc2VudCAyMzYsIHNvIHRoZSByIGNvbXBvbmVudCBvZiB0aGUgdGV4dHVyZSBwaXhlbCB3aWxsIGJlIDIzNiBldGMuKVxuICAgIC8vIGJhc2UgMiAtIDAwMDAgMDAwMCwgMDAwMCAwMDAxLCAwMDAwIDAxMTAsIDExMTAgMTEwMFxuICAgIGlmICh0aWxlLmRlbSAmJiB0aWxlLmRlbS5sZXZlbCkge1xuICAgICAgICBjb25zdCB0aWxlU2l6ZSA9IHRpbGUuZGVtLmxldmVsLmRpbTtcblxuICAgICAgICBjb25zdCBwaXhlbERhdGEgPSB0aWxlLmRlbS5nZXRQaXhlbHMoKTtcbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMSk7XG5cbiAgICAgICAgLy8gaWYgVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMIGlzIHNldCB0byB0cnVlIHByaW9yIHRvIGRyYXdIaWxsc2hhZGUgYmVpbmcgY2FsbGVkXG4gICAgICAgIC8vIHRpbGVzIHdpbGwgYXBwZWFyIGJsYW5rLCBiZWNhdXNlIGFzIHlvdSBjYW4gc2VlIGFib3ZlIHRoZSBhbHBoYSB2YWx1ZSBmb3IgdGhlc2UgdGV4dHVyZXNcbiAgICAgICAgLy8gaXMgYWx3YXlzIDBcbiAgICAgICAgY29udGV4dC5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXQoZmFsc2UpO1xuICAgICAgICB0aWxlLmRlbVRleHR1cmUgPSB0aWxlLmRlbVRleHR1cmUgfHwgcGFpbnRlci5nZXRUaWxlVGV4dHVyZSh0aWxlLnRpbGVTaXplKTtcbiAgICAgICAgaWYgKHRpbGUuZGVtVGV4dHVyZSkge1xuICAgICAgICAgICAgY29uc3QgZGVtVGV4dHVyZSA9IHRpbGUuZGVtVGV4dHVyZTtcbiAgICAgICAgICAgIGRlbVRleHR1cmUudXBkYXRlKHBpeGVsRGF0YSwgZmFsc2UpO1xuICAgICAgICAgICAgZGVtVGV4dHVyZS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGlsZS5kZW1UZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgcGl4ZWxEYXRhLCBnbC5SR0JBLCBmYWxzZSk7XG4gICAgICAgICAgICB0aWxlLmRlbVRleHR1cmUuYmluZChnbC5ORUFSRVNULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuXG4gICAgICAgIGxldCBmYm8gPSB0aWxlLmZibztcblxuICAgICAgICBpZiAoIWZibykge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIHt3aWR0aDogdGlsZVNpemUsIGhlaWdodDogdGlsZVNpemUsIGRhdGE6IG51bGx9LCBnbC5SR0JBKTtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgICAgICAgICBmYm8gPSB0aWxlLmZibyA9IGNvbnRleHQuY3JlYXRlRnJhbWVidWZmZXIodGlsZVNpemUsIHRpbGVTaXplKTtcbiAgICAgICAgICAgIGZiby5jb2xvckF0dGFjaG1lbnQuc2V0KHJlbmRlclRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQoZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHRpbGVTaXplLCB0aWxlU2l6ZV0pO1xuXG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIC8vIEZsaXAgcmVuZGVyaW5nIGF0IHkgYXhpcy5cbiAgICAgICAgbWF0NC5vcnRobyhtYXRyaXgsIDAsIEVYVEVOVCwgLUVYVEVOVCwgMCwgMCwgMSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKG1hdHJpeCwgbWF0cml4LCBbMCwgLUVYVEVOVCwgMF0pO1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2hpbGxzaGFkZVByZXBhcmUnKTtcblxuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBtYXRyaXgpO1xuICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3pvb20sIHRpbGUudGlsZUlELm92ZXJzY2FsZWRaKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfZGltZW5zaW9uLCBbdGlsZVNpemUgKiAyLCB0aWxlU2l6ZSAqIDJdKTtcbiAgICAgICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9pbWFnZSwgMSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfbWF4em9vbSwgc291cmNlTWF4Wm9vbSk7XG5cbiAgICAgICAgY29uc3QgYnVmZmVyID0gcGFpbnRlci5yYXN0ZXJCb3VuZHNCdWZmZXI7XG4gICAgICAgIGNvbnN0IHZhbyA9IHBhaW50ZXIucmFzdGVyQm91bmRzVkFPO1xuXG4gICAgICAgIHZhby5iaW5kKGNvbnRleHQsIHByb2dyYW0sIGJ1ZmZlciwgW10pO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCBidWZmZXIubGVuZ3RoKTtcblxuICAgICAgICB0aWxlLm5lZWRzSGlsbHNoYWRlUHJlcGFyZSA9IGZhbHNlO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IEltYWdlU291cmNlIGZyb20gJy4uL3NvdXJjZS9pbWFnZV9zb3VyY2UnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBSYXN0ZXJTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL3Jhc3Rlcl9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3UmFzdGVyO1xuXG5mdW5jdGlvbiBkcmF3UmFzdGVyKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IFJhc3RlclN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzICE9PSAndHJhbnNsdWNlbnQnKSByZXR1cm47XG4gICAgaWYgKGxheWVyLnBhaW50LmdldCgncmFzdGVyLW9wYWNpdHknKSA9PT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3Qgc291cmNlID0gc291cmNlQ2FjaGUuZ2V0U291cmNlKCk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgncmFzdGVyJyk7XG5cbiAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKFN0ZW5jaWxNb2RlLmRpc2FibGVkKTtcbiAgICBjb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG5cbiAgICAvLyBDb25zdGFudCBwYXJhbWV0ZXJzLlxuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfYnJpZ2h0bmVzc19sb3csIGxheWVyLnBhaW50LmdldCgncmFzdGVyLWJyaWdodG5lc3MtbWluJykpO1xuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfYnJpZ2h0bmVzc19oaWdoLCBsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1icmlnaHRuZXNzLW1heCcpKTtcbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3NhdHVyYXRpb25fZmFjdG9yLCBzYXR1cmF0aW9uRmFjdG9yKGxheWVyLnBhaW50LmdldCgncmFzdGVyLXNhdHVyYXRpb24nKSkpO1xuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfY29udHJhc3RfZmFjdG9yLCBjb250cmFzdEZhY3RvcihsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1jb250cmFzdCcpKSk7XG4gICAgZ2wudW5pZm9ybTNmdihwcm9ncmFtLnVuaWZvcm1zLnVfc3Bpbl93ZWlnaHRzLCBzcGluV2VpZ2h0cyhsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1odWUtcm90YXRlJykpKTtcbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2J1ZmZlcl9zY2FsZSwgMSk7XG4gICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9pbWFnZTAsIDApO1xuICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfaW1hZ2UxLCAxKTtcblxuICAgIGNvbnN0IG1pblRpbGVaID0gY29vcmRzLmxlbmd0aCAmJiBjb29yZHNbMF0ub3ZlcnNjYWxlZFo7XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICAvLyBTZXQgdGhlIGxvd2VyIHpvb20gbGV2ZWwgdG8gc3VibGF5ZXIgMCwgYW5kIGhpZ2hlciB6b29tIGxldmVscyB0byBoaWdoZXIgc3VibGF5ZXJzXG4gICAgICAgIC8vIFVzZSBnbC5MRVNTIHRvIHByZXZlbnQgZG91YmxlIGRyYXdpbmcgaW4gYXJlYXMgd2hlcmUgdGlsZXMgb3ZlcmxhcC5cbiAgICAgICAgY29udGV4dC5zZXREZXB0aE1vZGUocGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcihjb29yZC5vdmVyc2NhbGVkWiAtIG1pblRpbGVaLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItb3BhY2l0eScpID09PSAxID8gRGVwdGhNb2RlLlJlYWRXcml0ZSA6IERlcHRoTW9kZS5SZWFkT25seSwgZ2wuTEVTUykpO1xuXG4gICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgY29uc3QgcG9zTWF0cml4ID0gcGFpbnRlci50cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4KGNvb3JkLnRvVW53cmFwcGVkKCksIHRydWUpO1xuXG4gICAgICAgIHRpbGUucmVnaXN0ZXJGYWRlRHVyYXRpb24obGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItZmFkZS1kdXJhdGlvbicpKTtcblxuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBwb3NNYXRyaXgpO1xuXG4gICAgICAgIGNvbnN0IHBhcmVudFRpbGUgPSBzb3VyY2VDYWNoZS5maW5kTG9hZGVkUGFyZW50KGNvb3JkLCAwLCB7fSksXG4gICAgICAgICAgICBmYWRlID0gZ2V0RmFkZVZhbHVlcyh0aWxlLCBwYXJlbnRUaWxlLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIHBhaW50ZXIudHJhbnNmb3JtKTtcblxuICAgICAgICBsZXQgcGFyZW50U2NhbGVCeSwgcGFyZW50VEw7XG5cbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgIHRpbGUudGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSwgZ2wuTElORUFSX01JUE1BUF9ORUFSRVNUKTtcblxuICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUxKTtcblxuICAgICAgICBpZiAocGFyZW50VGlsZSkge1xuICAgICAgICAgICAgcGFyZW50VGlsZS50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFLCBnbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO1xuICAgICAgICAgICAgcGFyZW50U2NhbGVCeSA9IE1hdGgucG93KDIsIHBhcmVudFRpbGUudGlsZUlELm92ZXJzY2FsZWRaIC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgICAgICAgICAgcGFyZW50VEwgPSBbdGlsZS50aWxlSUQuY2Fub25pY2FsLnggKiBwYXJlbnRTY2FsZUJ5ICUgMSwgdGlsZS50aWxlSUQuY2Fub25pY2FsLnkgKiBwYXJlbnRTY2FsZUJ5ICUgMV07XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbGUudGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSwgZ2wuTElORUFSX01JUE1BUF9ORUFSRVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNyb3NzLWZhZGUgcGFyYW1ldGVyc1xuICAgICAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV90bF9wYXJlbnQsIHBhcmVudFRMIHx8IFswLCAwXSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfc2NhbGVfcGFyZW50LCBwYXJlbnRTY2FsZUJ5IHx8IDEpO1xuICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2ZhZGVfdCwgZmFkZS5taXgpO1xuICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X29wYWNpdHksIGZhZGUub3BhY2l0eSAqIGxheWVyLnBhaW50LmdldCgncmFzdGVyLW9wYWNpdHknKSk7XG5cblxuICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgSW1hZ2VTb3VyY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHNvdXJjZS5ib3VuZHNCdWZmZXI7XG4gICAgICAgICAgICBjb25zdCB2YW8gPSBzb3VyY2UuYm91bmRzVkFPO1xuICAgICAgICAgICAgdmFvLmJpbmQoY29udGV4dCwgcHJvZ3JhbSwgYnVmZmVyLCBbXSk7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCBidWZmZXIubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aWxlLm1hc2tlZEJvdW5kc0J1ZmZlciAmJiB0aWxlLm1hc2tlZEluZGV4QnVmZmVyICYmIHRpbGUuc2VnbWVudHMpIHtcbiAgICAgICAgICAgIHByb2dyYW0uZHJhdyhcbiAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgIGdsLlRSSUFOR0xFUyxcbiAgICAgICAgICAgICAgICBsYXllci5pZCxcbiAgICAgICAgICAgICAgICB0aWxlLm1hc2tlZEJvdW5kc0J1ZmZlcixcbiAgICAgICAgICAgICAgICB0aWxlLm1hc2tlZEluZGV4QnVmZmVyLFxuICAgICAgICAgICAgICAgIHRpbGUuc2VnbWVudHNcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBwYWludGVyLnJhc3RlckJvdW5kc0J1ZmZlcjtcbiAgICAgICAgICAgIGNvbnN0IHZhbyA9IHBhaW50ZXIucmFzdGVyQm91bmRzVkFPO1xuICAgICAgICAgICAgdmFvLmJpbmQoY29udGV4dCwgcHJvZ3JhbSwgYnVmZmVyLCBbXSk7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCBidWZmZXIubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gc3BpbldlaWdodHMoYW5nbGUpIHtcbiAgICBhbmdsZSAqPSBNYXRoLlBJIC8gMTgwO1xuICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICByZXR1cm4gW1xuICAgICAgICAoMiAqIGMgKyAxKSAvIDMsXG4gICAgICAgICgtTWF0aC5zcXJ0KDMpICogcyAtIGMgKyAxKSAvIDMsXG4gICAgICAgIChNYXRoLnNxcnQoMykgKiBzIC0gYyArIDEpIC8gM1xuICAgIF07XG59XG5cbmZ1bmN0aW9uIGNvbnRyYXN0RmFjdG9yKGNvbnRyYXN0KSB7XG4gICAgcmV0dXJuIGNvbnRyYXN0ID4gMCA/XG4gICAgICAgIDEgLyAoMSAtIGNvbnRyYXN0KSA6XG4gICAgICAgIDEgKyBjb250cmFzdDtcbn1cblxuZnVuY3Rpb24gc2F0dXJhdGlvbkZhY3RvcihzYXR1cmF0aW9uKSB7XG4gICAgcmV0dXJuIHNhdHVyYXRpb24gPiAwID9cbiAgICAgICAgMSAtIDEgLyAoMS4wMDEgLSBzYXR1cmF0aW9uKSA6XG4gICAgICAgIC1zYXR1cmF0aW9uO1xufVxuXG5mdW5jdGlvbiBnZXRGYWRlVmFsdWVzKHRpbGUsIHBhcmVudFRpbGUsIHNvdXJjZUNhY2hlLCBsYXllciwgdHJhbnNmb3JtKSB7XG4gICAgY29uc3QgZmFkZUR1cmF0aW9uID0gbGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItZmFkZS1kdXJhdGlvbicpO1xuXG4gICAgaWYgKGZhZGVEdXJhdGlvbiA+IDApIHtcbiAgICAgICAgY29uc3Qgbm93ID0gYnJvd3Nlci5ub3coKTtcbiAgICAgICAgY29uc3Qgc2luY2VUaWxlID0gKG5vdyAtIHRpbGUudGltZUFkZGVkKSAvIGZhZGVEdXJhdGlvbjtcbiAgICAgICAgY29uc3Qgc2luY2VQYXJlbnQgPSBwYXJlbnRUaWxlID8gKG5vdyAtIHBhcmVudFRpbGUudGltZUFkZGVkKSAvIGZhZGVEdXJhdGlvbiA6IC0xO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpO1xuICAgICAgICBjb25zdCBpZGVhbFogPSB0cmFuc2Zvcm0uY292ZXJpbmdab29tTGV2ZWwoe1xuICAgICAgICAgICAgdGlsZVNpemU6IHNvdXJjZS50aWxlU2l6ZSxcbiAgICAgICAgICAgIHJvdW5kWm9vbTogc291cmNlLnJvdW5kWm9vbVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpZiBubyBwYXJlbnQgb3IgcGFyZW50IGlzIG9sZGVyLCBmYWRlIGluOyBpZiBwYXJlbnQgaXMgeW91bmdlciwgZmFkZSBvdXRcbiAgICAgICAgY29uc3QgZmFkZUluID0gIXBhcmVudFRpbGUgfHwgTWF0aC5hYnMocGFyZW50VGlsZS50aWxlSUQub3ZlcnNjYWxlZFogLSBpZGVhbFopID4gTWF0aC5hYnModGlsZS50aWxlSUQub3ZlcnNjYWxlZFogLSBpZGVhbFopO1xuXG4gICAgICAgIGNvbnN0IGNoaWxkT3BhY2l0eSA9IChmYWRlSW4gJiYgdGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbikgPyAxIDogY2xhbXAoZmFkZUluID8gc2luY2VUaWxlIDogMSAtIHNpbmNlUGFyZW50LCAwLCAxKTtcblxuICAgICAgICAvLyB3ZSBkb24ndCBjcm9zc2ZhZGUgdGlsZXMgdGhhdCB3ZXJlIGp1c3QgcmVmcmVzaGVkIHVwb24gZXhwaXJpbmc6XG4gICAgICAgIC8vIG9uY2UgdGhleSdyZSBvbGQgZW5vdWdoIHRvIHBhc3MgdGhlIGNyb3NzZmFkaW5nIHRocmVzaG9sZFxuICAgICAgICAvLyAoZmFkZUR1cmF0aW9uKSwgdW5zZXQgdGhlIGByZWZyZXNoZWRVcG9uRXhwaXJhdGlvbmAgZmxhZyBzbyB3ZSBkb24ndFxuICAgICAgICAvLyBpbmNvcnJlY3RseSBmYWlsIHRvIGNyb3NzZmFkZSB0aGVtIHdoZW4gem9vbWluZ1xuICAgICAgICBpZiAodGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiAmJiBzaW5jZVRpbGUgPj0gMSkgdGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChwYXJlbnRUaWxlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgbWl4OiAxIC0gY2hpbGRPcGFjaXR5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBjaGlsZE9wYWNpdHksXG4gICAgICAgICAgICAgICAgbWl4OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICBtaXg6IDBcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuXG5pbXBvcnQgeyBtYXQ0IH0gZnJvbSAnQG1hcGJveC9nbC1tYXRyaXgnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudCc7XG5pbXBvcnQgVmVydGV4QXJyYXlPYmplY3QgZnJvbSAnLi92ZXJ0ZXhfYXJyYXlfb2JqZWN0JztcbmltcG9ydCB7IFBvc0FycmF5IH0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcyc7XG5pbXBvcnQgcG9zQXR0cmlidXRlcyBmcm9tICcuLi9kYXRhL3Bvc19hdHRyaWJ1dGVzJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3RGVidWc7XG5cbmZ1bmN0aW9uIGRyYXdEZWJ1ZyhwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBkcmF3RGVidWdUaWxlKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBjb29yZHNbaV0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0RlYnVnVGlsZShwYWludGVyLCBzb3VyY2VDYWNoZSwgY29vcmQpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgIGNvbnRleHQubGluZVdpZHRoLnNldCgxICogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvKTtcblxuICAgIGNvbnN0IHBvc01hdHJpeCA9IGNvb3JkLnBvc01hdHJpeDtcbiAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdkZWJ1ZycpO1xuXG4gICAgY29udGV4dC5zZXREZXB0aE1vZGUoRGVwdGhNb2RlLmRpc2FibGVkKTtcbiAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKFN0ZW5jaWxNb2RlLmRpc2FibGVkKTtcbiAgICBjb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG5cbiAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBwb3NNYXRyaXgpO1xuICAgIGdsLnVuaWZvcm00Zihwcm9ncmFtLnVuaWZvcm1zLnVfY29sb3IsIDEsIDAsIDAsIDEpO1xuICAgIHBhaW50ZXIuZGVidWdWQU8uYmluZChjb250ZXh0LCBwcm9ncmFtLCBwYWludGVyLmRlYnVnQnVmZmVyLCBbXSk7XG4gICAgZ2wuZHJhd0FycmF5cyhnbC5MSU5FX1NUUklQLCAwLCBwYWludGVyLmRlYnVnQnVmZmVyLmxlbmd0aCk7XG5cbiAgICBjb25zdCB2ZXJ0aWNlcyA9IGNyZWF0ZVRleHRWZXJ0aWNpZXMoY29vcmQudG9TdHJpbmcoKSwgNTAsIDIwMCwgNSk7XG4gICAgY29uc3QgZGVidWdUZXh0QXJyYXkgPSBuZXcgUG9zQXJyYXkoKTtcbiAgICBmb3IgKGxldCB2ID0gMDsgdiA8IHZlcnRpY2VzLmxlbmd0aDsgdiArPSAyKSB7XG4gICAgICAgIGRlYnVnVGV4dEFycmF5LmVtcGxhY2VCYWNrKHZlcnRpY2VzW3ZdLCB2ZXJ0aWNlc1t2ICsgMV0pO1xuICAgIH1cbiAgICBjb25zdCBkZWJ1Z1RleHRCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcihkZWJ1Z1RleHRBcnJheSwgcG9zQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICBjb25zdCBkZWJ1Z1RleHRWQU8gPSBuZXcgVmVydGV4QXJyYXlPYmplY3QoKTtcbiAgICBkZWJ1Z1RleHRWQU8uYmluZChjb250ZXh0LCBwcm9ncmFtLCBkZWJ1Z1RleHRCdWZmZXIsIFtdKTtcbiAgICBnbC51bmlmb3JtNGYocHJvZ3JhbS51bmlmb3Jtcy51X2NvbG9yLCAxLCAxLCAxLCAxKTtcblxuICAgIC8vIERyYXcgdGhlIGhhbG8gd2l0aCBtdWx0aXBsZSAxcHggbGluZXMgaW5zdGVhZCBvZiBvbmUgd2lkZXIgbGluZSBiZWNhdXNlXG4gICAgLy8gdGhlIGdsIHNwZWMgZG9lc24ndCBndWFyYW50ZWUgc3VwcG9ydCBmb3IgbGluZXMgd2l0aCB3aWR0aCA+IDEuXG4gICAgY29uc3QgdGlsZVNpemUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKS50aWxlU2l6ZTtcbiAgICBjb25zdCBvbmVQaXhlbCA9IEVYVEVOVCAvIChNYXRoLnBvdygyLCBwYWludGVyLnRyYW5zZm9ybS56b29tIC0gY29vcmQub3ZlcnNjYWxlZFopICogdGlsZVNpemUpO1xuICAgIGNvbnN0IHRyYW5zbGF0aW9ucyA9IFtbLTEsIC0xXSwgWy0xLCAxXSwgWzEsIC0xXSwgWzEsIDFdXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyYW5zbGF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uc1tpXTtcbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgbWF0NC50cmFuc2xhdGUoW10sIHBvc01hdHJpeCwgW29uZVBpeGVsICogdHJhbnNsYXRpb25bMF0sIG9uZVBpeGVsICogdHJhbnNsYXRpb25bMV0sIDBdKSk7XG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuTElORVMsIDAsIGRlYnVnVGV4dEJ1ZmZlci5sZW5ndGgpO1xuICAgIH1cblxuICAgIGdsLnVuaWZvcm00Zihwcm9ncmFtLnVuaWZvcm1zLnVfY29sb3IsIDAsIDAsIDAsIDEpO1xuICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIHBvc01hdHJpeCk7XG4gICAgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUywgMCwgZGVidWdUZXh0QnVmZmVyLmxlbmd0aCk7XG59XG5cbi8vIEZvbnQgZGF0YSBGcm9tIEhlcnNoZXkgU2ltcGxleCBGb250XG4vLyBodHRwOi8vcGF1bGJvdXJrZS5uZXQvZGF0YWZvcm1hdHMvaGVyc2hleS9cbmNvbnN0IHNpbXBsZXhGb250ID0ge1xuICAgIFwiIFwiOiBbMTYsIFtdXSxcbiAgICBcIiFcIjogWzEwLCBbNSwgMjEsIDUsIDcsIC0xLCAtMSwgNSwgMiwgNCwgMSwgNSwgMCwgNiwgMSwgNSwgMl1dLFxuICAgIFwiXFxcIlwiOiBbMTYsIFs0LCAyMSwgNCwgMTQsIC0xLCAtMSwgMTIsIDIxLCAxMiwgMTRdXSxcbiAgICBcIiNcIjogWzIxLCBbMTEsIDI1LCA0LCAtNywgLTEsIC0xLCAxNywgMjUsIDEwLCAtNywgLTEsIC0xLCA0LCAxMiwgMTgsIDEyLCAtMSwgLTEsIDMsIDYsIDE3LCA2XV0sXG4gICAgXCIkXCI6IFsyMCwgWzgsIDI1LCA4LCAtNCwgLTEsIC0xLCAxMiwgMjUsIDEyLCAtNCwgLTEsIC0xLCAxNywgMTgsIDE1LCAyMCwgMTIsIDIxLCA4LCAyMSwgNSwgMjAsIDMsIDE4LCAzLCAxNiwgNCwgMTQsIDUsIDEzLCA3LCAxMiwgMTMsIDEwLCAxNSwgOSwgMTYsIDgsIDE3LCA2LCAxNywgMywgMTUsIDEsIDEyLCAwLCA4LCAwLCA1LCAxLCAzLCAzXV0sXG4gICAgXCIlXCI6IFsyNCwgWzIxLCAyMSwgMywgMCwgLTEsIC0xLCA4LCAyMSwgMTAsIDE5LCAxMCwgMTcsIDksIDE1LCA3LCAxNCwgNSwgMTQsIDMsIDE2LCAzLCAxOCwgNCwgMjAsIDYsIDIxLCA4LCAyMSwgMTAsIDIwLCAxMywgMTksIDE2LCAxOSwgMTksIDIwLCAyMSwgMjEsIC0xLCAtMSwgMTcsIDcsIDE1LCA2LCAxNCwgNCwgMTQsIDIsIDE2LCAwLCAxOCwgMCwgMjAsIDEsIDIxLCAzLCAyMSwgNSwgMTksIDcsIDE3LCA3XV0sXG4gICAgXCImXCI6IFsyNiwgWzIzLCAxMiwgMjMsIDEzLCAyMiwgMTQsIDIxLCAxNCwgMjAsIDEzLCAxOSwgMTEsIDE3LCA2LCAxNSwgMywgMTMsIDEsIDExLCAwLCA3LCAwLCA1LCAxLCA0LCAyLCAzLCA0LCAzLCA2LCA0LCA4LCA1LCA5LCAxMiwgMTMsIDEzLCAxNCwgMTQsIDE2LCAxNCwgMTgsIDEzLCAyMCwgMTEsIDIxLCA5LCAyMCwgOCwgMTgsIDgsIDE2LCA5LCAxMywgMTEsIDEwLCAxNiwgMywgMTgsIDEsIDIwLCAwLCAyMiwgMCwgMjMsIDEsIDIzLCAyXV0sXG4gICAgXCInXCI6IFsxMCwgWzUsIDE5LCA0LCAyMCwgNSwgMjEsIDYsIDIwLCA2LCAxOCwgNSwgMTYsIDQsIDE1XV0sXG4gICAgXCIoXCI6IFsxNCwgWzExLCAyNSwgOSwgMjMsIDcsIDIwLCA1LCAxNiwgNCwgMTEsIDQsIDcsIDUsIDIsIDcsIC0yLCA5LCAtNSwgMTEsIC03XV0sXG4gICAgXCIpXCI6IFsxNCwgWzMsIDI1LCA1LCAyMywgNywgMjAsIDksIDE2LCAxMCwgMTEsIDEwLCA3LCA5LCAyLCA3LCAtMiwgNSwgLTUsIDMsIC03XV0sXG4gICAgXCIqXCI6IFsxNiwgWzgsIDIxLCA4LCA5LCAtMSwgLTEsIDMsIDE4LCAxMywgMTIsIC0xLCAtMSwgMTMsIDE4LCAzLCAxMl1dLFxuICAgIFwiK1wiOiBbMjYsIFsxMywgMTgsIDEzLCAwLCAtMSwgLTEsIDQsIDksIDIyLCA5XV0sXG4gICAgXCIsXCI6IFsxMCwgWzYsIDEsIDUsIDAsIDQsIDEsIDUsIDIsIDYsIDEsIDYsIC0xLCA1LCAtMywgNCwgLTRdXSxcbiAgICBcIi1cIjogWzI2LCBbNCwgOSwgMjIsIDldXSxcbiAgICBcIi5cIjogWzEwLCBbNSwgMiwgNCwgMSwgNSwgMCwgNiwgMSwgNSwgMl1dLFxuICAgIFwiL1wiOiBbMjIsIFsyMCwgMjUsIDIsIC03XV0sXG4gICAgXCIwXCI6IFsyMCwgWzksIDIxLCA2LCAyMCwgNCwgMTcsIDMsIDEyLCAzLCA5LCA0LCA0LCA2LCAxLCA5LCAwLCAxMSwgMCwgMTQsIDEsIDE2LCA0LCAxNywgOSwgMTcsIDEyLCAxNiwgMTcsIDE0LCAyMCwgMTEsIDIxLCA5LCAyMV1dLFxuICAgIFwiMVwiOiBbMjAsIFs2LCAxNywgOCwgMTgsIDExLCAyMSwgMTEsIDBdXSxcbiAgICBcIjJcIjogWzIwLCBbNCwgMTYsIDQsIDE3LCA1LCAxOSwgNiwgMjAsIDgsIDIxLCAxMiwgMjEsIDE0LCAyMCwgMTUsIDE5LCAxNiwgMTcsIDE2LCAxNSwgMTUsIDEzLCAxMywgMTAsIDMsIDAsIDE3LCAwXV0sXG4gICAgXCIzXCI6IFsyMCwgWzUsIDIxLCAxNiwgMjEsIDEwLCAxMywgMTMsIDEzLCAxNSwgMTIsIDE2LCAxMSwgMTcsIDgsIDE3LCA2LCAxNiwgMywgMTQsIDEsIDExLCAwLCA4LCAwLCA1LCAxLCA0LCAyLCAzLCA0XV0sXG4gICAgXCI0XCI6IFsyMCwgWzEzLCAyMSwgMywgNywgMTgsIDcsIC0xLCAtMSwgMTMsIDIxLCAxMywgMF1dLFxuICAgIFwiNVwiOiBbMjAsIFsxNSwgMjEsIDUsIDIxLCA0LCAxMiwgNSwgMTMsIDgsIDE0LCAxMSwgMTQsIDE0LCAxMywgMTYsIDExLCAxNywgOCwgMTcsIDYsIDE2LCAzLCAxNCwgMSwgMTEsIDAsIDgsIDAsIDUsIDEsIDQsIDIsIDMsIDRdXSxcbiAgICBcIjZcIjogWzIwLCBbMTYsIDE4LCAxNSwgMjAsIDEyLCAyMSwgMTAsIDIxLCA3LCAyMCwgNSwgMTcsIDQsIDEyLCA0LCA3LCA1LCAzLCA3LCAxLCAxMCwgMCwgMTEsIDAsIDE0LCAxLCAxNiwgMywgMTcsIDYsIDE3LCA3LCAxNiwgMTAsIDE0LCAxMiwgMTEsIDEzLCAxMCwgMTMsIDcsIDEyLCA1LCAxMCwgNCwgN11dLFxuICAgIFwiN1wiOiBbMjAsIFsxNywgMjEsIDcsIDAsIC0xLCAtMSwgMywgMjEsIDE3LCAyMV1dLFxuICAgIFwiOFwiOiBbMjAsIFs4LCAyMSwgNSwgMjAsIDQsIDE4LCA0LCAxNiwgNSwgMTQsIDcsIDEzLCAxMSwgMTIsIDE0LCAxMSwgMTYsIDksIDE3LCA3LCAxNywgNCwgMTYsIDIsIDE1LCAxLCAxMiwgMCwgOCwgMCwgNSwgMSwgNCwgMiwgMywgNCwgMywgNywgNCwgOSwgNiwgMTEsIDksIDEyLCAxMywgMTMsIDE1LCAxNCwgMTYsIDE2LCAxNiwgMTgsIDE1LCAyMCwgMTIsIDIxLCA4LCAyMV1dLFxuICAgIFwiOVwiOiBbMjAsIFsxNiwgMTQsIDE1LCAxMSwgMTMsIDksIDEwLCA4LCA5LCA4LCA2LCA5LCA0LCAxMSwgMywgMTQsIDMsIDE1LCA0LCAxOCwgNiwgMjAsIDksIDIxLCAxMCwgMjEsIDEzLCAyMCwgMTUsIDE4LCAxNiwgMTQsIDE2LCA5LCAxNSwgNCwgMTMsIDEsIDEwLCAwLCA4LCAwLCA1LCAxLCA0LCAzXV0sXG4gICAgXCI6XCI6IFsxMCwgWzUsIDE0LCA0LCAxMywgNSwgMTIsIDYsIDEzLCA1LCAxNCwgLTEsIC0xLCA1LCAyLCA0LCAxLCA1LCAwLCA2LCAxLCA1LCAyXV0sXG4gICAgXCI7XCI6IFsxMCwgWzUsIDE0LCA0LCAxMywgNSwgMTIsIDYsIDEzLCA1LCAxNCwgLTEsIC0xLCA2LCAxLCA1LCAwLCA0LCAxLCA1LCAyLCA2LCAxLCA2LCAtMSwgNSwgLTMsIDQsIC00XV0sXG4gICAgXCI8XCI6IFsyNCwgWzIwLCAxOCwgNCwgOSwgMjAsIDBdXSxcbiAgICBcIj1cIjogWzI2LCBbNCwgMTIsIDIyLCAxMiwgLTEsIC0xLCA0LCA2LCAyMiwgNl1dLFxuICAgIFwiPlwiOiBbMjQsIFs0LCAxOCwgMjAsIDksIDQsIDBdXSxcbiAgICBcIj9cIjogWzE4LCBbMywgMTYsIDMsIDE3LCA0LCAxOSwgNSwgMjAsIDcsIDIxLCAxMSwgMjEsIDEzLCAyMCwgMTQsIDE5LCAxNSwgMTcsIDE1LCAxNSwgMTQsIDEzLCAxMywgMTIsIDksIDEwLCA5LCA3LCAtMSwgLTEsIDksIDIsIDgsIDEsIDksIDAsIDEwLCAxLCA5LCAyXV0sXG4gICAgXCJAXCI6IFsyNywgWzE4LCAxMywgMTcsIDE1LCAxNSwgMTYsIDEyLCAxNiwgMTAsIDE1LCA5LCAxNCwgOCwgMTEsIDgsIDgsIDksIDYsIDExLCA1LCAxNCwgNSwgMTYsIDYsIDE3LCA4LCAtMSwgLTEsIDEyLCAxNiwgMTAsIDE0LCA5LCAxMSwgOSwgOCwgMTAsIDYsIDExLCA1LCAtMSwgLTEsIDE4LCAxNiwgMTcsIDgsIDE3LCA2LCAxOSwgNSwgMjEsIDUsIDIzLCA3LCAyNCwgMTAsIDI0LCAxMiwgMjMsIDE1LCAyMiwgMTcsIDIwLCAxOSwgMTgsIDIwLCAxNSwgMjEsIDEyLCAyMSwgOSwgMjAsIDcsIDE5LCA1LCAxNywgNCwgMTUsIDMsIDEyLCAzLCA5LCA0LCA2LCA1LCA0LCA3LCAyLCA5LCAxLCAxMiwgMCwgMTUsIDAsIDE4LCAxLCAyMCwgMiwgMjEsIDMsIC0xLCAtMSwgMTksIDE2LCAxOCwgOCwgMTgsIDYsIDE5LCA1XV0sXG4gICAgXCJBXCI6IFsxOCwgWzksIDIxLCAxLCAwLCAtMSwgLTEsIDksIDIxLCAxNywgMCwgLTEsIC0xLCA0LCA3LCAxNCwgN11dLFxuICAgIFwiQlwiOiBbMjEsIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCA0LCAyMSwgMTMsIDIxLCAxNiwgMjAsIDE3LCAxOSwgMTgsIDE3LCAxOCwgMTUsIDE3LCAxMywgMTYsIDEyLCAxMywgMTEsIC0xLCAtMSwgNCwgMTEsIDEzLCAxMSwgMTYsIDEwLCAxNywgOSwgMTgsIDcsIDE4LCA0LCAxNywgMiwgMTYsIDEsIDEzLCAwLCA0LCAwXV0sXG4gICAgXCJDXCI6IFsyMSwgWzE4LCAxNiwgMTcsIDE4LCAxNSwgMjAsIDEzLCAyMSwgOSwgMjEsIDcsIDIwLCA1LCAxOCwgNCwgMTYsIDMsIDEzLCAzLCA4LCA0LCA1LCA1LCAzLCA3LCAxLCA5LCAwLCAxMywgMCwgMTUsIDEsIDE3LCAzLCAxOCwgNV1dLFxuICAgIFwiRFwiOiBbMjEsIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCA0LCAyMSwgMTEsIDIxLCAxNCwgMjAsIDE2LCAxOCwgMTcsIDE2LCAxOCwgMTMsIDE4LCA4LCAxNywgNSwgMTYsIDMsIDE0LCAxLCAxMSwgMCwgNCwgMF1dLFxuICAgIFwiRVwiOiBbMTksIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCA0LCAyMSwgMTcsIDIxLCAtMSwgLTEsIDQsIDExLCAxMiwgMTEsIC0xLCAtMSwgNCwgMCwgMTcsIDBdXSxcbiAgICBcIkZcIjogWzE4LCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgNCwgMjEsIDE3LCAyMSwgLTEsIC0xLCA0LCAxMSwgMTIsIDExXV0sXG4gICAgXCJHXCI6IFsyMSwgWzE4LCAxNiwgMTcsIDE4LCAxNSwgMjAsIDEzLCAyMSwgOSwgMjEsIDcsIDIwLCA1LCAxOCwgNCwgMTYsIDMsIDEzLCAzLCA4LCA0LCA1LCA1LCAzLCA3LCAxLCA5LCAwLCAxMywgMCwgMTUsIDEsIDE3LCAzLCAxOCwgNSwgMTgsIDgsIC0xLCAtMSwgMTMsIDgsIDE4LCA4XV0sXG4gICAgXCJIXCI6IFsyMiwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDE4LCAyMSwgMTgsIDAsIC0xLCAtMSwgNCwgMTEsIDE4LCAxMV1dLFxuICAgIFwiSVwiOiBbOCwgWzQsIDIxLCA0LCAwXV0sXG4gICAgXCJKXCI6IFsxNiwgWzEyLCAyMSwgMTIsIDUsIDExLCAyLCAxMCwgMSwgOCwgMCwgNiwgMCwgNCwgMSwgMywgMiwgMiwgNSwgMiwgN11dLFxuICAgIFwiS1wiOiBbMjEsIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCAxOCwgMjEsIDQsIDcsIC0xLCAtMSwgOSwgMTIsIDE4LCAwXV0sXG4gICAgXCJMXCI6IFsxNywgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDAsIDE2LCAwXV0sXG4gICAgXCJNXCI6IFsyNCwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDIxLCAxMiwgMCwgLTEsIC0xLCAyMCwgMjEsIDEyLCAwLCAtMSwgLTEsIDIwLCAyMSwgMjAsIDBdXSxcbiAgICBcIk5cIjogWzIyLCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgNCwgMjEsIDE4LCAwLCAtMSwgLTEsIDE4LCAyMSwgMTgsIDBdXSxcbiAgICBcIk9cIjogWzIyLCBbOSwgMjEsIDcsIDIwLCA1LCAxOCwgNCwgMTYsIDMsIDEzLCAzLCA4LCA0LCA1LCA1LCAzLCA3LCAxLCA5LCAwLCAxMywgMCwgMTUsIDEsIDE3LCAzLCAxOCwgNSwgMTksIDgsIDE5LCAxMywgMTgsIDE2LCAxNywgMTgsIDE1LCAyMCwgMTMsIDIxLCA5LCAyMV1dLFxuICAgIFwiUFwiOiBbMjEsIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCA0LCAyMSwgMTMsIDIxLCAxNiwgMjAsIDE3LCAxOSwgMTgsIDE3LCAxOCwgMTQsIDE3LCAxMiwgMTYsIDExLCAxMywgMTAsIDQsIDEwXV0sXG4gICAgXCJRXCI6IFsyMiwgWzksIDIxLCA3LCAyMCwgNSwgMTgsIDQsIDE2LCAzLCAxMywgMywgOCwgNCwgNSwgNSwgMywgNywgMSwgOSwgMCwgMTMsIDAsIDE1LCAxLCAxNywgMywgMTgsIDUsIDE5LCA4LCAxOSwgMTMsIDE4LCAxNiwgMTcsIDE4LCAxNSwgMjAsIDEzLCAyMSwgOSwgMjEsIC0xLCAtMSwgMTIsIDQsIDE4LCAtMl1dLFxuICAgIFwiUlwiOiBbMjEsIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCA0LCAyMSwgMTMsIDIxLCAxNiwgMjAsIDE3LCAxOSwgMTgsIDE3LCAxOCwgMTUsIDE3LCAxMywgMTYsIDEyLCAxMywgMTEsIDQsIDExLCAtMSwgLTEsIDExLCAxMSwgMTgsIDBdXSxcbiAgICBcIlNcIjogWzIwLCBbMTcsIDE4LCAxNSwgMjAsIDEyLCAyMSwgOCwgMjEsIDUsIDIwLCAzLCAxOCwgMywgMTYsIDQsIDE0LCA1LCAxMywgNywgMTIsIDEzLCAxMCwgMTUsIDksIDE2LCA4LCAxNywgNiwgMTcsIDMsIDE1LCAxLCAxMiwgMCwgOCwgMCwgNSwgMSwgMywgM11dLFxuICAgIFwiVFwiOiBbMTYsIFs4LCAyMSwgOCwgMCwgLTEsIC0xLCAxLCAyMSwgMTUsIDIxXV0sXG4gICAgXCJVXCI6IFsyMiwgWzQsIDIxLCA0LCA2LCA1LCAzLCA3LCAxLCAxMCwgMCwgMTIsIDAsIDE1LCAxLCAxNywgMywgMTgsIDYsIDE4LCAyMV1dLFxuICAgIFwiVlwiOiBbMTgsIFsxLCAyMSwgOSwgMCwgLTEsIC0xLCAxNywgMjEsIDksIDBdXSxcbiAgICBcIldcIjogWzI0LCBbMiwgMjEsIDcsIDAsIC0xLCAtMSwgMTIsIDIxLCA3LCAwLCAtMSwgLTEsIDEyLCAyMSwgMTcsIDAsIC0xLCAtMSwgMjIsIDIxLCAxNywgMF1dLFxuICAgIFwiWFwiOiBbMjAsIFszLCAyMSwgMTcsIDAsIC0xLCAtMSwgMTcsIDIxLCAzLCAwXV0sXG4gICAgXCJZXCI6IFsxOCwgWzEsIDIxLCA5LCAxMSwgOSwgMCwgLTEsIC0xLCAxNywgMjEsIDksIDExXV0sXG4gICAgXCJaXCI6IFsyMCwgWzE3LCAyMSwgMywgMCwgLTEsIC0xLCAzLCAyMSwgMTcsIDIxLCAtMSwgLTEsIDMsIDAsIDE3LCAwXV0sXG4gICAgXCJbXCI6IFsxNCwgWzQsIDI1LCA0LCAtNywgLTEsIC0xLCA1LCAyNSwgNSwgLTcsIC0xLCAtMSwgNCwgMjUsIDExLCAyNSwgLTEsIC0xLCA0LCAtNywgMTEsIC03XV0sXG4gICAgXCJcXFxcXCI6IFsxNCwgWzAsIDIxLCAxNCwgLTNdXSxcbiAgICBcIl1cIjogWzE0LCBbOSwgMjUsIDksIC03LCAtMSwgLTEsIDEwLCAyNSwgMTAsIC03LCAtMSwgLTEsIDMsIDI1LCAxMCwgMjUsIC0xLCAtMSwgMywgLTcsIDEwLCAtN11dLFxuICAgIFwiXlwiOiBbMTYsIFs2LCAxNSwgOCwgMTgsIDEwLCAxNSwgLTEsIC0xLCAzLCAxMiwgOCwgMTcsIDEzLCAxMiwgLTEsIC0xLCA4LCAxNywgOCwgMF1dLFxuICAgIFwiX1wiOiBbMTYsIFswLCAtMiwgMTYsIC0yXV0sXG4gICAgXCJgXCI6IFsxMCwgWzYsIDIxLCA1LCAyMCwgNCwgMTgsIDQsIDE2LCA1LCAxNSwgNiwgMTYsIDUsIDE3XV0sXG4gICAgXCJhXCI6IFsxOSwgWzE1LCAxNCwgMTUsIDAsIC0xLCAtMSwgMTUsIDExLCAxMywgMTMsIDExLCAxNCwgOCwgMTQsIDYsIDEzLCA0LCAxMSwgMywgOCwgMywgNiwgNCwgMywgNiwgMSwgOCwgMCwgMTEsIDAsIDEzLCAxLCAxNSwgM11dLFxuICAgIFwiYlwiOiBbMTksIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCA0LCAxMSwgNiwgMTMsIDgsIDE0LCAxMSwgMTQsIDEzLCAxMywgMTUsIDExLCAxNiwgOCwgMTYsIDYsIDE1LCAzLCAxMywgMSwgMTEsIDAsIDgsIDAsIDYsIDEsIDQsIDNdXSxcbiAgICBcImNcIjogWzE4LCBbMTUsIDExLCAxMywgMTMsIDExLCAxNCwgOCwgMTQsIDYsIDEzLCA0LCAxMSwgMywgOCwgMywgNiwgNCwgMywgNiwgMSwgOCwgMCwgMTEsIDAsIDEzLCAxLCAxNSwgM11dLFxuICAgIFwiZFwiOiBbMTksIFsxNSwgMjEsIDE1LCAwLCAtMSwgLTEsIDE1LCAxMSwgMTMsIDEzLCAxMSwgMTQsIDgsIDE0LCA2LCAxMywgNCwgMTEsIDMsIDgsIDMsIDYsIDQsIDMsIDYsIDEsIDgsIDAsIDExLCAwLCAxMywgMSwgMTUsIDNdXSxcbiAgICBcImVcIjogWzE4LCBbMywgOCwgMTUsIDgsIDE1LCAxMCwgMTQsIDEyLCAxMywgMTMsIDExLCAxNCwgOCwgMTQsIDYsIDEzLCA0LCAxMSwgMywgOCwgMywgNiwgNCwgMywgNiwgMSwgOCwgMCwgMTEsIDAsIDEzLCAxLCAxNSwgM11dLFxuICAgIFwiZlwiOiBbMTIsIFsxMCwgMjEsIDgsIDIxLCA2LCAyMCwgNSwgMTcsIDUsIDAsIC0xLCAtMSwgMiwgMTQsIDksIDE0XV0sXG4gICAgXCJnXCI6IFsxOSwgWzE1LCAxNCwgMTUsIC0yLCAxNCwgLTUsIDEzLCAtNiwgMTEsIC03LCA4LCAtNywgNiwgLTYsIC0xLCAtMSwgMTUsIDExLCAxMywgMTMsIDExLCAxNCwgOCwgMTQsIDYsIDEzLCA0LCAxMSwgMywgOCwgMywgNiwgNCwgMywgNiwgMSwgOCwgMCwgMTEsIDAsIDEzLCAxLCAxNSwgM11dLFxuICAgIFwiaFwiOiBbMTksIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCA0LCAxMCwgNywgMTMsIDksIDE0LCAxMiwgMTQsIDE0LCAxMywgMTUsIDEwLCAxNSwgMF1dLFxuICAgIFwiaVwiOiBbOCwgWzMsIDIxLCA0LCAyMCwgNSwgMjEsIDQsIDIyLCAzLCAyMSwgLTEsIC0xLCA0LCAxNCwgNCwgMF1dLFxuICAgIFwialwiOiBbMTAsIFs1LCAyMSwgNiwgMjAsIDcsIDIxLCA2LCAyMiwgNSwgMjEsIC0xLCAtMSwgNiwgMTQsIDYsIC0zLCA1LCAtNiwgMywgLTcsIDEsIC03XV0sXG4gICAgXCJrXCI6IFsxNywgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDE0LCAxNCwgNCwgNCwgLTEsIC0xLCA4LCA4LCAxNSwgMF1dLFxuICAgIFwibFwiOiBbOCwgWzQsIDIxLCA0LCAwXV0sXG4gICAgXCJtXCI6IFszMCwgWzQsIDE0LCA0LCAwLCAtMSwgLTEsIDQsIDEwLCA3LCAxMywgOSwgMTQsIDEyLCAxNCwgMTQsIDEzLCAxNSwgMTAsIDE1LCAwLCAtMSwgLTEsIDE1LCAxMCwgMTgsIDEzLCAyMCwgMTQsIDIzLCAxNCwgMjUsIDEzLCAyNiwgMTAsIDI2LCAwXV0sXG4gICAgXCJuXCI6IFsxOSwgWzQsIDE0LCA0LCAwLCAtMSwgLTEsIDQsIDEwLCA3LCAxMywgOSwgMTQsIDEyLCAxNCwgMTQsIDEzLCAxNSwgMTAsIDE1LCAwXV0sXG4gICAgXCJvXCI6IFsxOSwgWzgsIDE0LCA2LCAxMywgNCwgMTEsIDMsIDgsIDMsIDYsIDQsIDMsIDYsIDEsIDgsIDAsIDExLCAwLCAxMywgMSwgMTUsIDMsIDE2LCA2LCAxNiwgOCwgMTUsIDExLCAxMywgMTMsIDExLCAxNCwgOCwgMTRdXSxcbiAgICBcInBcIjogWzE5LCBbNCwgMTQsIDQsIC03LCAtMSwgLTEsIDQsIDExLCA2LCAxMywgOCwgMTQsIDExLCAxNCwgMTMsIDEzLCAxNSwgMTEsIDE2LCA4LCAxNiwgNiwgMTUsIDMsIDEzLCAxLCAxMSwgMCwgOCwgMCwgNiwgMSwgNCwgM11dLFxuICAgIFwicVwiOiBbMTksIFsxNSwgMTQsIDE1LCAtNywgLTEsIC0xLCAxNSwgMTEsIDEzLCAxMywgMTEsIDE0LCA4LCAxNCwgNiwgMTMsIDQsIDExLCAzLCA4LCAzLCA2LCA0LCAzLCA2LCAxLCA4LCAwLCAxMSwgMCwgMTMsIDEsIDE1LCAzXV0sXG4gICAgXCJyXCI6IFsxMywgWzQsIDE0LCA0LCAwLCAtMSwgLTEsIDQsIDgsIDUsIDExLCA3LCAxMywgOSwgMTQsIDEyLCAxNF1dLFxuICAgIFwic1wiOiBbMTcsIFsxNCwgMTEsIDEzLCAxMywgMTAsIDE0LCA3LCAxNCwgNCwgMTMsIDMsIDExLCA0LCA5LCA2LCA4LCAxMSwgNywgMTMsIDYsIDE0LCA0LCAxNCwgMywgMTMsIDEsIDEwLCAwLCA3LCAwLCA0LCAxLCAzLCAzXV0sXG4gICAgXCJ0XCI6IFsxMiwgWzUsIDIxLCA1LCA0LCA2LCAxLCA4LCAwLCAxMCwgMCwgLTEsIC0xLCAyLCAxNCwgOSwgMTRdXSxcbiAgICBcInVcIjogWzE5LCBbNCwgMTQsIDQsIDQsIDUsIDEsIDcsIDAsIDEwLCAwLCAxMiwgMSwgMTUsIDQsIC0xLCAtMSwgMTUsIDE0LCAxNSwgMF1dLFxuICAgIFwidlwiOiBbMTYsIFsyLCAxNCwgOCwgMCwgLTEsIC0xLCAxNCwgMTQsIDgsIDBdXSxcbiAgICBcIndcIjogWzIyLCBbMywgMTQsIDcsIDAsIC0xLCAtMSwgMTEsIDE0LCA3LCAwLCAtMSwgLTEsIDExLCAxNCwgMTUsIDAsIC0xLCAtMSwgMTksIDE0LCAxNSwgMF1dLFxuICAgIFwieFwiOiBbMTcsIFszLCAxNCwgMTQsIDAsIC0xLCAtMSwgMTQsIDE0LCAzLCAwXV0sXG4gICAgXCJ5XCI6IFsxNiwgWzIsIDE0LCA4LCAwLCAtMSwgLTEsIDE0LCAxNCwgOCwgMCwgNiwgLTQsIDQsIC02LCAyLCAtNywgMSwgLTddXSxcbiAgICBcInpcIjogWzE3LCBbMTQsIDE0LCAzLCAwLCAtMSwgLTEsIDMsIDE0LCAxNCwgMTQsIC0xLCAtMSwgMywgMCwgMTQsIDBdXSxcbiAgICBcIntcIjogWzE0LCBbOSwgMjUsIDcsIDI0LCA2LCAyMywgNSwgMjEsIDUsIDE5LCA2LCAxNywgNywgMTYsIDgsIDE0LCA4LCAxMiwgNiwgMTAsIC0xLCAtMSwgNywgMjQsIDYsIDIyLCA2LCAyMCwgNywgMTgsIDgsIDE3LCA5LCAxNSwgOSwgMTMsIDgsIDExLCA0LCA5LCA4LCA3LCA5LCA1LCA5LCAzLCA4LCAxLCA3LCAwLCA2LCAtMiwgNiwgLTQsIDcsIC02LCAtMSwgLTEsIDYsIDgsIDgsIDYsIDgsIDQsIDcsIDIsIDYsIDEsIDUsIC0xLCA1LCAtMywgNiwgLTUsIDcsIC02LCA5LCAtN11dLFxuICAgIFwifFwiOiBbOCwgWzQsIDI1LCA0LCAtN11dLFxuICAgIFwifVwiOiBbMTQsIFs1LCAyNSwgNywgMjQsIDgsIDIzLCA5LCAyMSwgOSwgMTksIDgsIDE3LCA3LCAxNiwgNiwgMTQsIDYsIDEyLCA4LCAxMCwgLTEsIC0xLCA3LCAyNCwgOCwgMjIsIDgsIDIwLCA3LCAxOCwgNiwgMTcsIDUsIDE1LCA1LCAxMywgNiwgMTEsIDEwLCA5LCA2LCA3LCA1LCA1LCA1LCAzLCA2LCAxLCA3LCAwLCA4LCAtMiwgOCwgLTQsIDcsIC02LCAtMSwgLTEsIDgsIDgsIDYsIDYsIDYsIDQsIDcsIDIsIDgsIDEsIDksIC0xLCA5LCAtMywgOCwgLTUsIDcsIC02LCA1LCAtN11dLFxuICAgIFwiflwiOiBbMjQsIFszLCA2LCAzLCA4LCA0LCAxMSwgNiwgMTIsIDgsIDEyLCAxMCwgMTEsIDE0LCA4LCAxNiwgNywgMTgsIDcsIDIwLCA4LCAyMSwgMTAsIC0xLCAtMSwgMywgOCwgNCwgMTAsIDYsIDExLCA4LCAxMSwgMTAsIDEwLCAxNCwgNywgMTYsIDYsIDE4LCA2LCAyMCwgNywgMjEsIDEwLCAyMSwgMTJdXVxufTtcblxuZnVuY3Rpb24gY3JlYXRlVGV4dFZlcnRpY2llcyh0ZXh0LCBsZWZ0LCBiYXNlbGluZSwgc2NhbGUpIHtcbiAgICBzY2FsZSA9IHNjYWxlIHx8IDE7XG5cbiAgICBjb25zdCBzdHJva2VzID0gW107XG4gICAgbGV0IGksIGxlbiwgaiwgbGVuMiwgZ2x5cGgsIHgsIHksIHByZXY7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSB0ZXh0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGdseXBoID0gc2ltcGxleEZvbnRbdGV4dFtpXV07XG4gICAgICAgIGlmICghZ2x5cGgpIGNvbnRpbnVlO1xuICAgICAgICBwcmV2ID0gbnVsbDtcblxuICAgICAgICBmb3IgKGogPSAwLCBsZW4yID0gZ2x5cGhbMV0ubGVuZ3RoOyBqIDwgbGVuMjsgaiArPSAyKSB7XG4gICAgICAgICAgICBpZiAoZ2x5cGhbMV1bal0gPT09IC0xICYmIGdseXBoWzFdW2ogKyAxXSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwcmV2ID0gbnVsbDtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4ID0gbGVmdCArIGdseXBoWzFdW2pdICogc2NhbGU7XG4gICAgICAgICAgICAgICAgeSA9IGJhc2VsaW5lIC0gZ2x5cGhbMV1baiArIDFdICogc2NhbGU7XG4gICAgICAgICAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlcy5wdXNoKHByZXYueCwgcHJldi55LCB4LCB5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldiA9IHt4OiB4LCB5OiB5fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZWZ0ICs9IGdseXBoWzBdICogc2NhbGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cm9rZXM7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuXG5pbXBvcnQgeyBtYXQ0IH0gZnJvbSAnQG1hcGJveC9nbC1tYXRyaXgnO1xuaW1wb3J0IFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudCc7XG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzJztcbmltcG9ydCB7IGZpbHRlck9iamVjdCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgVmVydGV4QXJyYXlPYmplY3QgZnJvbSAnLi92ZXJ0ZXhfYXJyYXlfb2JqZWN0JztcbmltcG9ydCB7IFJhc3RlckJvdW5kc0FycmF5LCBQb3NBcnJheSB9IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMnO1xuaW1wb3J0IHJhc3RlckJvdW5kc0F0dHJpYnV0ZXMgZnJvbSAnLi4vZGF0YS9yYXN0ZXJfYm91bmRzX2F0dHJpYnV0ZXMnO1xuaW1wb3J0IHBvc0F0dHJpYnV0ZXMgZnJvbSAnLi4vZGF0YS9wb3NfYXR0cmlidXRlcyc7XG5pbXBvcnQgUHJvZ3JhbUNvbmZpZ3VyYXRpb24gZnJvbSAnLi4vZGF0YS9wcm9ncmFtX2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IENyb3NzVGlsZVN5bWJvbEluZGV4IGZyb20gJy4uL3N5bWJvbC9jcm9zc190aWxlX3N5bWJvbF9pbmRleCc7XG5pbXBvcnQgc2hhZGVycyBmcm9tICcuLi9zaGFkZXJzJztcbmltcG9ydCBQcm9ncmFtIGZyb20gJy4vcHJvZ3JhbSc7XG5pbXBvcnQgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZSc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL3RleHR1cmUnO1xuaW1wb3J0IHVwZGF0ZVRpbGVNYXNrcyBmcm9tICcuL3RpbGVfbWFzayc7XG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yJztcbmltcG9ydCBzeW1ib2wgZnJvbSAnLi9kcmF3X3N5bWJvbCc7XG5pbXBvcnQgY2lyY2xlIGZyb20gJy4vZHJhd19jaXJjbGUnO1xuaW1wb3J0IGhlYXRtYXAgZnJvbSAnLi9kcmF3X2hlYXRtYXAnO1xuaW1wb3J0IGxpbmUgZnJvbSAnLi9kcmF3X2xpbmUnO1xuaW1wb3J0IGZpbGwgZnJvbSAnLi9kcmF3X2ZpbGwnO1xuaW1wb3J0IGZpbGxFeHRydXNpb24gZnJvbSAnLi9kcmF3X2ZpbGxfZXh0cnVzaW9uJztcbmltcG9ydCBoaWxsc2hhZGUgZnJvbSAnLi9kcmF3X2hpbGxzaGFkZSc7XG5pbXBvcnQgcmFzdGVyIGZyb20gJy4vZHJhd19yYXN0ZXInO1xuaW1wb3J0IGJhY2tncm91bmQgZnJvbSAnLi9kcmF3X2JhY2tncm91bmQnO1xuaW1wb3J0IGRlYnVnIGZyb20gJy4vZHJhd19kZWJ1Zyc7XG5cbmNvbnN0IGRyYXcgPSB7XG4gICAgc3ltYm9sLFxuICAgIGNpcmNsZSxcbiAgICBoZWF0bWFwLFxuICAgIGxpbmUsXG4gICAgZmlsbCxcbiAgICAnZmlsbC1leHRydXNpb24nOiBmaWxsRXh0cnVzaW9uLFxuICAgIGhpbGxzaGFkZSxcbiAgICByYXN0ZXIsXG4gICAgYmFja2dyb3VuZCxcbiAgICBkZWJ1Z1xufTtcblxuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi9zb3VyY2UvdGlsZSc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuaW1wb3J0IHR5cGUgU3R5bGUgZnJvbSAnLi4vc3R5bGUvc3R5bGUnO1xuaW1wb3J0IHR5cGUgU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBMaW5lQXRsYXMgZnJvbSAnLi9saW5lX2F0bGFzJztcbmltcG9ydCB0eXBlIEltYWdlTWFuYWdlciBmcm9tICcuL2ltYWdlX21hbmFnZXInO1xuaW1wb3J0IHR5cGUgR2x5cGhNYW5hZ2VyIGZyb20gJy4vZ2x5cGhfbWFuYWdlcic7XG5pbXBvcnQgdHlwZSBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi4vZ2wvdmVydGV4X2J1ZmZlcic7XG5pbXBvcnQgdHlwZSB7RGVwdGhNYXNrVHlwZSwgRGVwdGhGdW5jVHlwZX0gZnJvbSAnLi4vZ2wvdHlwZXMnO1xuXG5leHBvcnQgdHlwZSBSZW5kZXJQYXNzID0gJ29mZnNjcmVlbicgfCAnb3BhcXVlJyB8ICd0cmFuc2x1Y2VudCc7XG5cbnR5cGUgUGFpbnRlck9wdGlvbnMgPSB7XG4gICAgc2hvd092ZXJkcmF3SW5zcGVjdG9yOiBib29sZWFuLFxuICAgIHNob3dUaWxlQm91bmRhcmllczogYm9vbGVhbixcbiAgICByb3RhdGluZzogYm9vbGVhbixcbiAgICB6b29taW5nOiBib29sZWFuLFxuICAgIGZhZGVEdXJhdGlvbjogbnVtYmVyXG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBwYWludGVyIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge0NhbnZhc30gZ2wgYW4gZXhwZXJpbWVudGFsLXdlYmdsIGRyYXdpbmcgY29udGV4dFxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgUGFpbnRlciB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybTtcbiAgICBfdGlsZVRleHR1cmVzOiB7IFtudW1iZXJdOiBBcnJheTxUZXh0dXJlPiB9O1xuICAgIG51bVN1YmxheWVyczogbnVtYmVyO1xuICAgIGRlcHRoRXBzaWxvbjogbnVtYmVyO1xuICAgIGVtcHR5UHJvZ3JhbUNvbmZpZ3VyYXRpb246IFByb2dyYW1Db25maWd1cmF0aW9uO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgZGVwdGhSYm86IFdlYkdMUmVuZGVyYnVmZmVyO1xuICAgIGRlcHRoUmJvTmVlZHNDbGVhcjogYm9vbGVhbjtcbiAgICB0aWxlRXh0ZW50QnVmZmVyOiBWZXJ0ZXhCdWZmZXI7XG4gICAgdGlsZUV4dGVudFZBTzogVmVydGV4QXJyYXlPYmplY3Q7XG4gICAgdGlsZUV4dGVudFBhdHRlcm5WQU86IFZlcnRleEFycmF5T2JqZWN0O1xuICAgIGRlYnVnQnVmZmVyOiBWZXJ0ZXhCdWZmZXI7XG4gICAgZGVidWdWQU86IFZlcnRleEFycmF5T2JqZWN0O1xuICAgIHJhc3RlckJvdW5kc0J1ZmZlcjogVmVydGV4QnVmZmVyO1xuICAgIHJhc3RlckJvdW5kc1ZBTzogVmVydGV4QXJyYXlPYmplY3Q7XG4gICAgdmlld3BvcnRCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICB2aWV3cG9ydFZBTzogVmVydGV4QXJyYXlPYmplY3Q7XG4gICAgX3RpbGVDbGlwcGluZ01hc2tJRHM6IHsgW251bWJlcl06IG51bWJlciB9O1xuICAgIHN0eWxlOiBTdHlsZTtcbiAgICBvcHRpb25zOiBQYWludGVyT3B0aW9ucztcbiAgICBsaW5lQXRsYXM6IExpbmVBdGxhcztcbiAgICBpbWFnZU1hbmFnZXI6IEltYWdlTWFuYWdlcjtcbiAgICBnbHlwaE1hbmFnZXI6IEdseXBoTWFuYWdlcjtcbiAgICBkZXB0aFJhbmdlOiBudW1iZXI7XG4gICAgcmVuZGVyUGFzczogUmVuZGVyUGFzcztcbiAgICBjdXJyZW50TGF5ZXI6IG51bWJlcjtcbiAgICBpZDogc3RyaW5nO1xuICAgIF9zaG93T3ZlcmRyYXdJbnNwZWN0b3I6IGJvb2xlYW47XG4gICAgY2FjaGU6IHsgW3N0cmluZ106IFByb2dyYW0gfTtcbiAgICBjcm9zc1RpbGVTeW1ib2xJbmRleDogQ3Jvc3NUaWxlU3ltYm9sSW5kZXg7XG4gICAgc3ltYm9sRmFkZUNoYW5nZTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbmV3IENvbnRleHQoZ2wpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgdGhpcy5fdGlsZVRleHR1cmVzID0ge307XG5cbiAgICAgICAgdGhpcy5zZXR1cCgpO1xuXG4gICAgICAgIC8vIFdpdGhpbiBlYWNoIGxheWVyIHRoZXJlIGFyZSBtdWx0aXBsZSBkaXN0aW5jdCB6LXBsYW5lcyB0aGF0IGNhbiBiZSBkcmF3biB0by5cbiAgICAgICAgLy8gVGhpcyBpcyBpbXBsZW1lbnRlZCB1c2luZyB0aGUgV2ViR0wgZGVwdGggYnVmZmVyLlxuICAgICAgICB0aGlzLm51bVN1YmxheWVycyA9IFNvdXJjZUNhY2hlLm1heFVuZGVyem9vbWluZyArIFNvdXJjZUNhY2hlLm1heE92ZXJ6b29taW5nICsgMTtcbiAgICAgICAgdGhpcy5kZXB0aEVwc2lsb24gPSAxIC8gTWF0aC5wb3coMiwgMTYpO1xuXG4gICAgICAgIHRoaXMuZGVwdGhSYm9OZWVkc0NsZWFyID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmVtcHR5UHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBuZXcgUHJvZ3JhbUNvbmZpZ3VyYXRpb24oKTtcblxuICAgICAgICB0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4ID0gbmV3IENyb3NzVGlsZVN5bWJvbEluZGV4KCk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBVcGRhdGUgdGhlIEdMIHZpZXdwb3J0LCBwcm9qZWN0aW9uIG1hdHJpeCwgYW5kIHRyYW5zZm9ybXMgdG8gY29tcGVuc2F0ZVxuICAgICAqIGZvciBhIG5ldyB3aWR0aCBhbmQgaGVpZ2h0IHZhbHVlLlxuICAgICAqL1xuICAgIHJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcblxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGggKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0ICogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodF0pO1xuXG4gICAgICAgIGlmICh0aGlzLnN0eWxlKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgb2YgdGhpcy5zdHlsZS5fb3JkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLl9sYXllcnNbbGF5ZXJJZF0ucmVzaXplKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kZXB0aFJibykge1xuICAgICAgICAgICAgZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKHRoaXMuZGVwdGhSYm8pO1xuICAgICAgICAgICAgdGhpcy5kZXB0aFJibyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXR1cCgpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgICBjb25zdCB0aWxlRXh0ZW50QXJyYXkgPSBuZXcgUG9zQXJyYXkoKTtcbiAgICAgICAgdGlsZUV4dGVudEFycmF5LmVtcGxhY2VCYWNrKDAsIDApO1xuICAgICAgICB0aWxlRXh0ZW50QXJyYXkuZW1wbGFjZUJhY2soRVhURU5ULCAwKTtcbiAgICAgICAgdGlsZUV4dGVudEFycmF5LmVtcGxhY2VCYWNrKDAsIEVYVEVOVCk7XG4gICAgICAgIHRpbGVFeHRlbnRBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIEVYVEVOVCk7XG4gICAgICAgIHRoaXMudGlsZUV4dGVudEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKHRpbGVFeHRlbnRBcnJheSwgcG9zQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgdGhpcy50aWxlRXh0ZW50VkFPID0gbmV3IFZlcnRleEFycmF5T2JqZWN0KCk7XG4gICAgICAgIHRoaXMudGlsZUV4dGVudFBhdHRlcm5WQU8gPSBuZXcgVmVydGV4QXJyYXlPYmplY3QoKTtcblxuICAgICAgICBjb25zdCBkZWJ1Z0FycmF5ID0gbmV3IFBvc0FycmF5KCk7XG4gICAgICAgIGRlYnVnQXJyYXkuZW1wbGFjZUJhY2soMCwgMCk7XG4gICAgICAgIGRlYnVnQXJyYXkuZW1wbGFjZUJhY2soRVhURU5ULCAwKTtcbiAgICAgICAgZGVidWdBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIEVYVEVOVCk7XG4gICAgICAgIGRlYnVnQXJyYXkuZW1wbGFjZUJhY2soMCwgRVhURU5UKTtcbiAgICAgICAgZGVidWdBcnJheS5lbXBsYWNlQmFjaygwLCAwKTtcbiAgICAgICAgdGhpcy5kZWJ1Z0J1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKGRlYnVnQXJyYXksIHBvc0F0dHJpYnV0ZXMubWVtYmVycyk7XG4gICAgICAgIHRoaXMuZGVidWdWQU8gPSBuZXcgVmVydGV4QXJyYXlPYmplY3QoKTtcblxuICAgICAgICBjb25zdCByYXN0ZXJCb3VuZHNBcnJheSA9IG5ldyBSYXN0ZXJCb3VuZHNBcnJheSgpO1xuICAgICAgICByYXN0ZXJCb3VuZHNBcnJheS5lbXBsYWNlQmFjaygwLCAwLCAwLCAwKTtcbiAgICAgICAgcmFzdGVyQm91bmRzQXJyYXkuZW1wbGFjZUJhY2soRVhURU5ULCAwLCBFWFRFTlQsIDApO1xuICAgICAgICByYXN0ZXJCb3VuZHNBcnJheS5lbXBsYWNlQmFjaygwLCBFWFRFTlQsIDAsIEVYVEVOVCk7XG4gICAgICAgIHJhc3RlckJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKEVYVEVOVCwgRVhURU5ULCBFWFRFTlQsIEVYVEVOVCk7XG4gICAgICAgIHRoaXMucmFzdGVyQm91bmRzQnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIocmFzdGVyQm91bmRzQXJyYXksIHJhc3RlckJvdW5kc0F0dHJpYnV0ZXMubWVtYmVycyk7XG4gICAgICAgIHRoaXMucmFzdGVyQm91bmRzVkFPID0gbmV3IFZlcnRleEFycmF5T2JqZWN0KCk7XG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnRBcnJheSA9IG5ldyBQb3NBcnJheSgpO1xuICAgICAgICB2aWV3cG9ydEFycmF5LmVtcGxhY2VCYWNrKDAsIDApO1xuICAgICAgICB2aWV3cG9ydEFycmF5LmVtcGxhY2VCYWNrKDEsIDApO1xuICAgICAgICB2aWV3cG9ydEFycmF5LmVtcGxhY2VCYWNrKDAsIDEpO1xuICAgICAgICB2aWV3cG9ydEFycmF5LmVtcGxhY2VCYWNrKDEsIDEpO1xuICAgICAgICB0aGlzLnZpZXdwb3J0QnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodmlld3BvcnRBcnJheSwgcG9zQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydFZBTyA9IG5ldyBWZXJ0ZXhBcnJheU9iamVjdCgpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogUmVzZXQgdGhlIGRyYXdpbmcgY2FudmFzIGJ5IGNsZWFyaW5nIHRoZSBzdGVuY2lsIGJ1ZmZlciBzbyB0aGF0IHdlIGNhbiBkcmF3XG4gICAgICogbmV3IHRpbGVzIGF0IHRoZSBzYW1lIGxvY2F0aW9uLCB3aGlsZSByZXRhaW5pbmcgcHJldmlvdXNseSBkcmF3biBwaXhlbHMuXG4gICAgICovXG4gICAgY2xlYXJTdGVuY2lsKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgLy8gQXMgYSB0ZW1wb3Jhcnkgd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzU0OTAsXG4gICAgICAgIC8vIHBlbmRpbmcgYW4gdXBzdHJlYW0gZml4LCB3ZSBkcmF3IGEgZnVsbHNjcmVlbiBzdGVuY2lsPTAgY2xpcHBpbmcgbWFzayBoZXJlLFxuICAgICAgICAvLyBlZmZlY3RpdmVseSBjbGVhcmluZyB0aGUgc3RlbmNpbCBidWZmZXI6IG9uY2UgYW4gdXBzdHJlYW0gcGF0Y2ggbGFuZHMsIHJlbW92ZVxuICAgICAgICAvLyB0aGlzIGZ1bmN0aW9uIGluIGZhdm9yIG9mIGNvbnRleHQuY2xlYXIoeyBzdGVuY2lsOiAweDAgfSlcblxuICAgICAgICBjb250ZXh0LnNldENvbG9yTW9kZShDb2xvck1vZGUuZGlzYWJsZWQpO1xuICAgICAgICBjb250ZXh0LnNldERlcHRoTW9kZShEZXB0aE1vZGUuZGlzYWJsZWQpO1xuICAgICAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKG5ldyBTdGVuY2lsTW9kZSh7IGZ1bmM6IGdsLkFMV0FZUywgbWFzazogMCB9LCAweDAsIDB4RkYsIGdsLlpFUk8sIGdsLlpFUk8sIGdsLlpFUk8pKTtcblxuICAgICAgICBjb25zdCBtYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuICAgICAgICBtYXQ0Lm9ydGhvKG1hdHJpeCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIDAsIDAsIDEpO1xuICAgICAgICBtYXQ0LnNjYWxlKG1hdHJpeCwgbWF0cml4LCBbZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLCBnbC5kcmF3aW5nQnVmZmVySGVpZ2h0LCAwXSk7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHRoaXMudXNlUHJvZ3JhbSgnY2xpcHBpbmdNYXNrJyk7XG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIG1hdHJpeCk7XG5cbiAgICAgICAgdGhpcy52aWV3cG9ydFZBTy5iaW5kKGNvbnRleHQsIHByb2dyYW0sIHRoaXMudmlld3BvcnRCdWZmZXIsIFtdKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfVxuXG4gICAgX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHRpbGVJRHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBjb250ZXh0LnNldENvbG9yTW9kZShDb2xvck1vZGUuZGlzYWJsZWQpO1xuICAgICAgICBjb250ZXh0LnNldERlcHRoTW9kZShEZXB0aE1vZGUuZGlzYWJsZWQpO1xuXG4gICAgICAgIGxldCBpZE5leHQgPSAxO1xuICAgICAgICB0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCB0aWxlSUQgb2YgdGlsZUlEcykge1xuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzW3RpbGVJRC5rZXldID0gaWROZXh0Kys7XG5cbiAgICAgICAgICAgIC8vIFRlc3RzIHdpbGwgYWx3YXlzIHBhc3MsIGFuZCByZWYgdmFsdWUgd2lsbCBiZSB3cml0dGVuIHRvIHN0ZW5jaWwgYnVmZmVyLlxuICAgICAgICAgICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShuZXcgU3RlbmNpbE1vZGUoeyBmdW5jOiBnbC5BTFdBWVMsIG1hc2s6IDAgfSwgaWQsIDB4RkYsIGdsLktFRVAsIGdsLktFRVAsIGdsLlJFUExBQ0UpKTtcblxuICAgICAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHRoaXMudXNlUHJvZ3JhbSgnY2xpcHBpbmdNYXNrJyk7XG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCB0aWxlSUQucG9zTWF0cml4KTtcblxuICAgICAgICAgICAgLy8gRHJhdyB0aGUgY2xpcHBpbmcgbWFza1xuICAgICAgICAgICAgdGhpcy50aWxlRXh0ZW50VkFPLmJpbmQodGhpcy5jb250ZXh0LCBwcm9ncmFtLCB0aGlzLnRpbGVFeHRlbnRCdWZmZXIsIFtdKTtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIHRoaXMudGlsZUV4dGVudEJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RlbmNpbE1vZGVGb3JDbGlwcGluZyh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpOiBTdGVuY2lsTW9kZSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICByZXR1cm4gbmV3IFN0ZW5jaWxNb2RlKHsgZnVuYzogZ2wuRVFVQUwsIG1hc2s6IDB4RkYgfSwgdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1t0aWxlSUQua2V5XSwgMHgwMCwgZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuUkVQTEFDRSk7XG4gICAgfVxuXG4gICAgY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpOiAkUmVhZE9ubHk8Q29sb3JNb2RlPiB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBpZiAodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yKSB7XG4gICAgICAgICAgICBjb25zdCBudW1PdmVyZHJhd1N0ZXBzID0gODtcbiAgICAgICAgICAgIGNvbnN0IGEgPSAxIC8gbnVtT3ZlcmRyYXdTdGVwcztcblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvck1vZGUoW2dsLkNPTlNUQU5UX0NPTE9SLCBnbC5PTkVdLCBuZXcgQ29sb3IoYSwgYSwgYSwgMCksIFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZW5kZXJQYXNzID09PSAnb3BhcXVlJykge1xuICAgICAgICAgICAgcmV0dXJuIENvbG9yTW9kZS51bmJsZW5kZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQ29sb3JNb2RlLmFscGhhQmxlbmRlZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlcHRoTW9kZUZvclN1YmxheWVyKG46IG51bWJlciwgbWFzazogRGVwdGhNYXNrVHlwZSwgZnVuYzogP0RlcHRoRnVuY1R5cGUpOiBEZXB0aE1vZGUge1xuICAgICAgICBjb25zdCBmYXJEZXB0aCA9IDEgLSAoKDEgKyB0aGlzLmN1cnJlbnRMYXllcikgKiB0aGlzLm51bVN1YmxheWVycyArIG4pICogdGhpcy5kZXB0aEVwc2lsb247XG4gICAgICAgIGNvbnN0IG5lYXJEZXB0aCA9IGZhckRlcHRoIC0gMSArIHRoaXMuZGVwdGhSYW5nZTtcbiAgICAgICAgcmV0dXJuIG5ldyBEZXB0aE1vZGUoZnVuYyB8fCB0aGlzLmNvbnRleHQuZ2wuTEVRVUFMLCBtYXNrLCBbbmVhckRlcHRoLCBmYXJEZXB0aF0pO1xuICAgIH1cblxuICAgIHJlbmRlcihzdHlsZTogU3R5bGUsIG9wdGlvbnM6IFBhaW50ZXJPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICB0aGlzLmxpbmVBdGxhcyA9IHN0eWxlLmxpbmVBdGxhcztcbiAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIgPSBzdHlsZS5pbWFnZU1hbmFnZXI7XG4gICAgICAgIHRoaXMuZ2x5cGhNYW5hZ2VyID0gc3R5bGUuZ2x5cGhNYW5hZ2VyO1xuXG4gICAgICAgIHRoaXMuc3ltYm9sRmFkZUNoYW5nZSA9IHN0eWxlLnBsYWNlbWVudC5zeW1ib2xGYWRlQ2hhbmdlKGJyb3dzZXIubm93KCkpO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gc3R5bGUuc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHRoaXMuc3R5bGUuc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZS51c2VkKSB7XG4gICAgICAgICAgICAgICAgc291cmNlQ2FjaGUucHJlcGFyZSh0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGF5ZXJJZHMgPSB0aGlzLnN0eWxlLl9vcmRlcjtcblxuICAgICAgICBjb25zdCByYXN0ZXJTb3VyY2VzID0gZmlsdGVyT2JqZWN0KFxuICAgICAgICAgICAgdGhpcy5zdHlsZS5zb3VyY2VDYWNoZXMsXG4gICAgICAgICAgICAoc2MpID0+IHsgcmV0dXJuIHNjLmdldFNvdXJjZSgpLnR5cGUgPT09ICdyYXN0ZXInIHx8IHNjLmdldFNvdXJjZSgpLnR5cGUgPT09ICdyYXN0ZXItZGVtJzsgfVxuICAgICAgICApO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByYXN0ZXJTb3VyY2VzKSB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHJhc3RlclNvdXJjZXNba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkcyA9IHNvdXJjZUNhY2hlLmdldFZpc2libGVDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgY29uc3QgdmlzaWJsZVRpbGVzID0gY29vcmRzLm1hcCgoYyk9PnsgcmV0dXJuIHNvdXJjZUNhY2hlLmdldFRpbGUoYyk7IH0pO1xuICAgICAgICAgICAgdXBkYXRlVGlsZU1hc2tzKHZpc2libGVUaWxlcywgdGhpcy5jb250ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9mZnNjcmVlbiBwYXNzXG4gICAgICAgIC8vIFdlIGZpcnN0IGRvIGFsbCByZW5kZXJpbmcgdGhhdCByZXF1aXJlcyByZW5kZXJpbmcgdG8gYSBzZXBhcmF0ZVxuICAgICAgICAvLyBmcmFtZWJ1ZmZlciwgYW5kIHRoZW4gc2F2ZSB0aG9zZSBmb3IgcmVuZGVyaW5nIGJhY2sgdG8gdGhlIG1hcFxuICAgICAgICAvLyBsYXRlcjogaW4gZG9pbmcgdGhpcyB3ZSBhdm9pZCBkb2luZyBleHBlbnNpdmUgZnJhbWVidWZmZXIgcmVzdG9yZXMuXG4gICAgICAgIHRoaXMucmVuZGVyUGFzcyA9ICdvZmZzY3JlZW4nO1xuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc291cmNlQ2FjaGU7XG4gICAgICAgICAgICBsZXQgY29vcmRzID0gW107XG4gICAgICAgICAgICB0aGlzLmRlcHRoUmJvTmVlZHNDbGVhciA9IHRydWU7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuc3R5bGUuX2xheWVyc1tsYXllcklkc1tpXV07XG5cbiAgICAgICAgICAgICAgICBpZiAoIWxheWVyLmhhc09mZnNjcmVlblBhc3MoKSB8fCBsYXllci5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuc291cmNlICE9PSAoc291cmNlQ2FjaGUgJiYgc291cmNlQ2FjaGUuaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUNhY2hlID0gdGhpcy5zdHlsZS5zb3VyY2VDYWNoZXNbbGF5ZXIuc291cmNlXTtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZHMgPSBzb3VyY2VDYWNoZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3Jkcy5yZXZlcnNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNvb3Jkcy5sZW5ndGgpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJMYXllcih0aGlzLCAoc291cmNlQ2FjaGU6IGFueSksIGxheWVyLCBjb29yZHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZWJpbmQgdGhlIG1haW4gZnJhbWVidWZmZXIgbm93IHRoYXQgYWxsIG9mZnNjcmVlbiBsYXllcnNcbiAgICAgICAgICAgIC8vIGhhdmUgYmVlbiByZW5kZXJlZDpcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xlYXIgYnVmZmVycyBpbiBwcmVwYXJhdGlvbiBmb3IgZHJhd2luZyB0byB0aGUgbWFpbiBmcmFtZWJ1ZmZlclxuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXIoeyBjb2xvcjogb3B0aW9ucy5zaG93T3ZlcmRyYXdJbnNwZWN0b3IgPyBDb2xvci5ibGFjayA6IENvbG9yLnRyYW5zcGFyZW50LCBkZXB0aDogMSB9KTtcblxuICAgICAgICB0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IgPSBvcHRpb25zLnNob3dPdmVyZHJhd0luc3BlY3RvcjtcblxuICAgICAgICB0aGlzLmRlcHRoUmFuZ2UgPSAoc3R5bGUuX29yZGVyLmxlbmd0aCArIDIpICogdGhpcy5udW1TdWJsYXllcnMgKiB0aGlzLmRlcHRoRXBzaWxvbjtcblxuICAgICAgICAvLyBPcGFxdWUgcGFzc1xuICAgICAgICAvLyBEcmF3IG9wYXF1ZSBsYXllcnMgdG9wLXRvLWJvdHRvbSBmaXJzdC5cbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzID0gJ29wYXF1ZSc7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzb3VyY2VDYWNoZTtcbiAgICAgICAgICAgIGxldCBjb29yZHMgPSBbXTtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TGF5ZXIgPSBsYXllcklkcy5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICBmb3IgKHRoaXMuY3VycmVudExheWVyOyB0aGlzLmN1cnJlbnRMYXllciA+PSAwOyB0aGlzLmN1cnJlbnRMYXllci0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLnN0eWxlLl9sYXllcnNbbGF5ZXJJZHNbdGhpcy5jdXJyZW50TGF5ZXJdXTtcblxuICAgICAgICAgICAgICAgIGlmIChsYXllci5zb3VyY2UgIT09IChzb3VyY2VDYWNoZSAmJiBzb3VyY2VDYWNoZS5pZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlQ2FjaGUgPSB0aGlzLnN0eWxlLnNvdXJjZUNhY2hlc1tsYXllci5zb3VyY2VdO1xuICAgICAgICAgICAgICAgICAgICBjb29yZHMgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJTdGVuY2lsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZHMgPSBzb3VyY2VDYWNoZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5pc1RpbGVDbGlwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MoY29vcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTGF5ZXIodGhpcywgKHNvdXJjZUNhY2hlOiBhbnkpLCBsYXllciwgY29vcmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyYW5zbHVjZW50IHBhc3NcbiAgICAgICAgLy8gRHJhdyBhbGwgb3RoZXIgbGF5ZXJzIGJvdHRvbS10by10b3AuXG4gICAgICAgIHRoaXMucmVuZGVyUGFzcyA9ICd0cmFuc2x1Y2VudCc7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzb3VyY2VDYWNoZTtcbiAgICAgICAgICAgIGxldCBjb29yZHMgPSBbXTtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TGF5ZXIgPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHRoaXMuY3VycmVudExheWVyOyB0aGlzLmN1cnJlbnRMYXllciA8IGxheWVySWRzLmxlbmd0aDsgdGhpcy5jdXJyZW50TGF5ZXIrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5zdHlsZS5fbGF5ZXJzW2xheWVySWRzW3RoaXMuY3VycmVudExheWVyXV07XG5cbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuc291cmNlICE9PSAoc291cmNlQ2FjaGUgJiYgc291cmNlQ2FjaGUuaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUNhY2hlID0gdGhpcy5zdHlsZS5zb3VyY2VDYWNoZXNbbGF5ZXIuc291cmNlXTtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyU3RlbmNpbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzID0gc291cmNlQ2FjaGUuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUuZ2V0U291cmNlKCkuaXNUaWxlQ2xpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGNvb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb29yZHMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTGF5ZXIodGhpcywgKHNvdXJjZUNhY2hlOiBhbnkpLCBsYXllciwgY29vcmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1RpbGVCb3VuZGFyaWVzKSB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHRoaXMuc3R5bGUuc291cmNlQ2FjaGVzW09iamVjdC5rZXlzKHRoaXMuc3R5bGUuc291cmNlQ2FjaGVzKVswXV07XG4gICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICBkcmF3LmRlYnVnKHRoaXMsIHNvdXJjZUNhY2hlLCBzb3VyY2VDYWNoZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXR1cE9mZnNjcmVlbkRlcHRoUmVuZGVyYnVmZmVyKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICAvLyBBbGwgb2YgdGhlIDNEIHRleHR1cmVzIHdpbGwgdXNlIHRoZSBzYW1lIGRlcHRoIHJlbmRlcmJ1ZmZlci5cbiAgICAgICAgaWYgKCF0aGlzLmRlcHRoUmJvKSB7XG4gICAgICAgICAgICB0aGlzLmRlcHRoUmJvID0gY29udGV4dC5jcmVhdGVSZW5kZXJidWZmZXIoY29udGV4dC5nbC5ERVBUSF9DT01QT05FTlQxNiwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyTGF5ZXIocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgICAgICBpZiAobGF5ZXIuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpIHJldHVybjtcbiAgICAgICAgaWYgKGxheWVyLnR5cGUgIT09ICdiYWNrZ3JvdW5kJyAmJiAhY29vcmRzLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmlkID0gbGF5ZXIuaWQ7XG5cbiAgICAgICAgZHJhd1tsYXllci50eXBlXShwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3Jkcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIGEgbWF0cml4IHRvIGluY29ycG9yYXRlIHRoZSAqLXRyYW5zbGF0ZSBhbmQgKi10cmFuc2xhdGUtYW5jaG9yIHByb3BlcnRpZXMgaW50byBpdC5cbiAgICAgKiBAcGFyYW0gaW5WaWV3cG9ydFBpeGVsVW5pdHNVbml0cyBUcnVlIHdoZW4gdGhlIHVuaXRzIGFjY2VwdGVkIGJ5IHRoZSBtYXRyaXggYXJlIGluIHZpZXdwb3J0IHBpeGVscyBpbnN0ZWFkIG9mIHRpbGUgdW5pdHMuXG4gICAgICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gbWF0cml4XG4gICAgICovXG4gICAgdHJhbnNsYXRlUG9zTWF0cml4KG1hdHJpeDogRmxvYXQzMkFycmF5LCB0aWxlOiBUaWxlLCB0cmFuc2xhdGU6IFtudW1iZXIsIG51bWJlcl0sIHRyYW5zbGF0ZUFuY2hvcjogJ21hcCcgfCAndmlld3BvcnQnLCBpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzPzogYm9vbGVhbikge1xuICAgICAgICBpZiAoIXRyYW5zbGF0ZVswXSAmJiAhdHJhbnNsYXRlWzFdKSByZXR1cm4gbWF0cml4O1xuXG4gICAgICAgIGNvbnN0IGFuZ2xlID0gaW5WaWV3cG9ydFBpeGVsVW5pdHNVbml0cyA/XG4gICAgICAgICAgICAodHJhbnNsYXRlQW5jaG9yID09PSAnbWFwJyA/IHRoaXMudHJhbnNmb3JtLmFuZ2xlIDogMCkgOlxuICAgICAgICAgICAgKHRyYW5zbGF0ZUFuY2hvciA9PT0gJ3ZpZXdwb3J0JyA/IC10aGlzLnRyYW5zZm9ybS5hbmdsZSA6IDApO1xuXG4gICAgICAgIGlmIChhbmdsZSkge1xuICAgICAgICAgICAgY29uc3Qgc2luQSA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgICAgIGNvbnN0IGNvc0EgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgICAgICB0cmFuc2xhdGUgPSBbXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWzBdICogY29zQSAtIHRyYW5zbGF0ZVsxXSAqIHNpbkEsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWzBdICogc2luQSArIHRyYW5zbGF0ZVsxXSAqIGNvc0FcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0cmFuc2xhdGlvbiA9IFtcbiAgICAgICAgICAgIGluVmlld3BvcnRQaXhlbFVuaXRzVW5pdHMgPyB0cmFuc2xhdGVbMF0gOiBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCB0cmFuc2xhdGVbMF0sIHRoaXMudHJhbnNmb3JtLnpvb20pLFxuICAgICAgICAgICAgaW5WaWV3cG9ydFBpeGVsVW5pdHNVbml0cyA/IHRyYW5zbGF0ZVsxXSA6IHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIHRyYW5zbGF0ZVsxXSwgdGhpcy50cmFuc2Zvcm0uem9vbSksXG4gICAgICAgICAgICAwXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgdHJhbnNsYXRlZE1hdHJpeCA9IG5ldyBGbG9hdDMyQXJyYXkoMTYpO1xuICAgICAgICBtYXQ0LnRyYW5zbGF0ZSh0cmFuc2xhdGVkTWF0cml4LCBtYXRyaXgsIHRyYW5zbGF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZWRNYXRyaXg7XG4gICAgfVxuXG4gICAgc2F2ZVRpbGVUZXh0dXJlKHRleHR1cmU6IFRleHR1cmUpIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZXMgPSB0aGlzLl90aWxlVGV4dHVyZXNbdGV4dHVyZS5zaXplWzBdXTtcbiAgICAgICAgaWYgKCF0ZXh0dXJlcykge1xuICAgICAgICAgICAgdGhpcy5fdGlsZVRleHR1cmVzW3RleHR1cmUuc2l6ZVswXV0gPSBbdGV4dHVyZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0VGlsZVRleHR1cmUoc2l6ZTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0gdGhpcy5fdGlsZVRleHR1cmVzW3NpemVdO1xuICAgICAgICByZXR1cm4gdGV4dHVyZXMgJiYgdGV4dHVyZXMubGVuZ3RoID4gMCA/IHRleHR1cmVzLnBvcCgpIDogbnVsbDtcbiAgICB9XG5cbiAgICBfY3JlYXRlUHJvZ3JhbUNhY2hlZChuYW1lOiBzdHJpbmcsIHByb2dyYW1Db25maWd1cmF0aW9uOiBQcm9ncmFtQ29uZmlndXJhdGlvbik6IFByb2dyYW0ge1xuICAgICAgICB0aGlzLmNhY2hlID0gdGhpcy5jYWNoZSB8fCB7fTtcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7bmFtZX0ke3Byb2dyYW1Db25maWd1cmF0aW9uLmNhY2hlS2V5IHx8ICcnfSR7dGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yID8gJy9vdmVyZHJhdycgOiAnJ31gO1xuICAgICAgICBpZiAoIXRoaXMuY2FjaGVba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZVtrZXldID0gbmV3IFByb2dyYW0odGhpcy5jb250ZXh0LCBzaGFkZXJzW25hbWVdLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVtrZXldO1xuICAgIH1cblxuICAgIHVzZVByb2dyYW0obmFtZTogc3RyaW5nLCBwcm9ncmFtQ29uZmlndXJhdGlvbj86IFByb2dyYW1Db25maWd1cmF0aW9uKTogUHJvZ3JhbSB7XG4gICAgICAgIGNvbnN0IG5leHRQcm9ncmFtID0gdGhpcy5fY3JlYXRlUHJvZ3JhbUNhY2hlZChuYW1lLCBwcm9ncmFtQ29uZmlndXJhdGlvbiB8fCB0aGlzLmVtcHR5UHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xuXG4gICAgICAgIHRoaXMuY29udGV4dC5wcm9ncmFtLnNldChuZXh0UHJvZ3JhbS5wcm9ncmFtKTtcblxuICAgICAgICByZXR1cm4gbmV4dFByb2dyYW07XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYWludGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHBpeGVsc1RvVGlsZVVuaXRzIGZyb20gJy4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cyc7XG5cbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBDaXJjbGVTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2NpcmNsZV9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBDaXJjbGVCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvY2lyY2xlX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3Q2lyY2xlcztcblxuZnVuY3Rpb24gZHJhd0NpcmNsZXMocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogQ2lyY2xlU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09ICd0cmFuc2x1Y2VudCcpIHJldHVybjtcblxuICAgIGNvbnN0IG9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2NpcmNsZS1vcGFjaXR5Jyk7XG4gICAgY29uc3Qgc3Ryb2tlV2lkdGggPSBsYXllci5wYWludC5nZXQoJ2NpcmNsZS1zdHJva2Utd2lkdGgnKTtcbiAgICBjb25zdCBzdHJva2VPcGFjaXR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtc3Ryb2tlLW9wYWNpdHknKTtcblxuICAgIGlmIChvcGFjaXR5LmNvbnN0YW50T3IoMSkgPT09IDAgJiYgKHN0cm9rZVdpZHRoLmNvbnN0YW50T3IoMSkgPT09IDAgfHwgc3Ryb2tlT3BhY2l0eS5jb25zdGFudE9yKDEpID09PSAwKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBjb250ZXh0LnNldERlcHRoTW9kZShwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsIERlcHRoTW9kZS5SZWFkT25seSkpO1xuICAgIC8vIEFsbG93IGNpcmNsZXMgdG8gYmUgZHJhd24gYWNyb3NzIGJvdW5kYXJpZXMsIHNvIHRoYXRcbiAgICAvLyBsYXJnZSBjaXJjbGVzIGFyZSBub3QgY2xpcHBlZCB0byB0aWxlc1xuICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoU3RlbmNpbE1vZGUuZGlzYWJsZWQpO1xuICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcblxuICAgIGxldCBmaXJzdCA9IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY29vcmQgPSBjb29yZHNbaV07XG5cbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBjb25zdCBidWNrZXQ6ID9DaXJjbGVCdWNrZXQ8Kj4gPSAodGlsZS5nZXRCdWNrZXQobGF5ZXIpOiBhbnkpO1xuICAgICAgICBpZiAoIWJ1Y2tldCkgY29udGludWU7XG5cbiAgICAgICAgY29uc3QgcHJldlByb2dyYW0gPSBwYWludGVyLmNvbnRleHQucHJvZ3JhbS5nZXQoKTtcbiAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWNrZXQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2NpcmNsZScsIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICAgICAgaWYgKGZpcnN0IHx8IHByb2dyYW0ucHJvZ3JhbSAhPT0gcHJldlByb2dyYW0pIHtcbiAgICAgICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uLnNldFVuaWZvcm1zKGNvbnRleHQsIHByb2dyYW0sIGxheWVyLnBhaW50LCB7em9vbTogcGFpbnRlci50cmFuc2Zvcm0uem9vbX0pO1xuICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSwgcGFpbnRlci50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSk7XG4gICAgICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfc2NhbGVfd2l0aF9tYXAsIGxheWVyLnBhaW50LmdldCgnY2lyY2xlLXBpdGNoLXNjYWxlJykgPT09ICdtYXAnID8gMSA6IDApO1xuICAgICAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtcGl0Y2gtYWxpZ25tZW50JykgPT09ICdtYXAnKSB7XG4gICAgICAgICAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X3BpdGNoX3dpdGhfbWFwLCAxKTtcbiAgICAgICAgICAgIGNvbnN0IHBpeGVsUmF0aW8gPSBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCAxLCBwYWludGVyLnRyYW5zZm9ybS56b29tKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnVfZXh0cnVkZV9zY2FsZSwgcGl4ZWxSYXRpbywgcGl4ZWxSYXRpbyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X3BpdGNoX3dpdGhfbWFwLCAwKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X2V4dHJ1ZGVfc2NhbGUsIHBhaW50ZXIudHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0cyk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeChcbiAgICAgICAgICAgIGNvb3JkLnBvc01hdHJpeCxcbiAgICAgICAgICAgIHRpbGUsXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ2NpcmNsZS10cmFuc2xhdGUnKSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgnY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3InKVxuICAgICAgICApKTtcblxuICAgICAgICBwcm9ncmFtLmRyYXcoXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgZ2wuVFJJQU5HTEVTLFxuICAgICAgICAgICAgbGF5ZXIuaWQsXG4gICAgICAgICAgICBidWNrZXQubGF5b3V0VmVydGV4QnVmZmVyLFxuICAgICAgICAgICAgYnVja2V0LmluZGV4QnVmZmVyLFxuICAgICAgICAgICAgYnVja2V0LnNlZ21lbnRzLFxuICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IG1hdDQgfSBmcm9tICdAbWFwYm94L2dsLW1hdHJpeCc7XG5cbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZSc7XG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzJztcbmltcG9ydCBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3InO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUnO1xuaW1wb3J0IENvbG9yTW9kZSBmcm9tICcuLi9nbC9jb2xvcl9tb2RlJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBIZWF0bWFwU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9oZWF0bWFwX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIEhlYXRtYXBCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvaGVhdG1hcF9idWNrZXQnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0hlYXRtYXA7XG5cbmZ1bmN0aW9uIGRyYXdIZWF0bWFwKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IEhlYXRtYXBTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgaWYgKGxheWVyLnBhaW50LmdldCgnaGVhdG1hcC1vcGFjaXR5JykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICdvZmZzY3JlZW4nKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBjb250ZXh0LnNldERlcHRoTW9kZShwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsIERlcHRoTW9kZS5SZWFkT25seSkpO1xuXG4gICAgICAgIC8vIEFsbG93IGtlcm5lbHMgdG8gYmUgZHJhd24gYWNyb3NzIGJvdW5kYXJpZXMsIHNvIHRoYXRcbiAgICAgICAgLy8gbGFyZ2Uga2VybmVscyBhcmUgbm90IGNsaXBwZWQgdG8gdGlsZXNcbiAgICAgICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShTdGVuY2lsTW9kZS5kaXNhYmxlZCk7XG5cbiAgICAgICAgYmluZEZyYW1lYnVmZmVyKGNvbnRleHQsIHBhaW50ZXIsIGxheWVyKTtcblxuICAgICAgICBjb250ZXh0LmNsZWFyKHsgY29sb3I6IENvbG9yLnRyYW5zcGFyZW50IH0pO1xuXG4gICAgICAgIC8vIFR1cm4gb24gYWRkaXRpdmUgYmxlbmRpbmcgZm9yIGtlcm5lbHMsIHdoaWNoIGlzIGEga2V5IGFzcGVjdCBvZiBrZXJuZWwgZGVuc2l0eSBlc3RpbWF0aW9uIGZvcm11bGFcbiAgICAgICAgY29udGV4dC5zZXRDb2xvck1vZGUobmV3IENvbG9yTW9kZShbZ2wuT05FLCBnbC5PTkVdLCBDb2xvci50cmFuc3BhcmVudCwgW3RydWUsIHRydWUsIHRydWUsIHRydWVdKSk7XG5cbiAgICAgICAgbGV0IGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkID0gY29vcmRzW2ldO1xuXG4gICAgICAgICAgICAvLyBTa2lwIHRpbGVzIHRoYXQgaGF2ZSB1bmNvdmVyZWQgcGFyZW50cyB0byBhdm9pZCBmbGlja2VyaW5nOyB3ZSBkb24ndCBuZWVkXG4gICAgICAgICAgICAvLyB0byB1c2UgY29tcGxleCB0aWxlIG1hc2tpbmcgaGVyZSBiZWNhdXNlIHRoZSBjaGFuZ2UgYmV0d2VlbiB6b29tIGxldmVscyBpcyBzdWJ0bGUsXG4gICAgICAgICAgICAvLyBzbyBpdCdzIGZpbmUgdG8gc2ltcGx5IHJlbmRlciB0aGUgcGFyZW50IHVudGlsIGFsbCBpdHMgNCBjaGlsZHJlbiBhcmUgbG9hZGVkXG4gICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUuaGFzUmVuZGVyYWJsZVBhcmVudChjb29yZCkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgICAgICBjb25zdCBidWNrZXQ6ID9IZWF0bWFwQnVja2V0ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgICAgIGlmICghYnVja2V0KSBjb250aW51ZTtcblxuICAgICAgICAgICAgY29uc3QgcHJldlByb2dyYW0gPSBwYWludGVyLmNvbnRleHQucHJvZ3JhbS5nZXQoKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2dyYW1Db25maWd1cmF0aW9uID0gYnVja2V0LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpO1xuICAgICAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnaGVhdG1hcCcsIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IHt6b29tfSA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgICAgICAgICAgaWYgKGZpcnN0IHx8IHByb2dyYW0ucHJvZ3JhbSAhPT0gcHJldlByb2dyYW0pIHtcbiAgICAgICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRVbmlmb3JtcyhwYWludGVyLmNvbnRleHQsIHByb2dyYW0sIGxheWVyLnBhaW50LCB7em9vbX0pO1xuICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfZXh0cnVkZV9zY2FsZSwgcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgem9vbSkpO1xuXG4gICAgICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2ludGVuc2l0eSwgbGF5ZXIucGFpbnQuZ2V0KCdoZWF0bWFwLWludGVuc2l0eScpKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIGNvb3JkLnBvc01hdHJpeCk7XG5cbiAgICAgICAgICAgIHByb2dyYW0uZHJhdyhcbiAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgIGdsLlRSSUFOR0xFUyxcbiAgICAgICAgICAgICAgICBsYXllci5pZCxcbiAgICAgICAgICAgICAgICBidWNrZXQubGF5b3V0VmVydGV4QnVmZmVyLFxuICAgICAgICAgICAgICAgIGJ1Y2tldC5pbmRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgICBidWNrZXQuc2VnbWVudHMsXG4gICAgICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHBhaW50ZXIud2lkdGgsIHBhaW50ZXIuaGVpZ2h0XSk7XG5cbiAgICB9IGVsc2UgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ3RyYW5zbHVjZW50Jykge1xuICAgICAgICBwYWludGVyLmNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcbiAgICAgICAgcmVuZGVyVGV4dHVyZVRvTWFwKHBhaW50ZXIsIGxheWVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGJpbmRGcmFtZWJ1ZmZlcihjb250ZXh0LCBwYWludGVyLCBsYXllcikge1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUxKTtcblxuICAgIC8vIFVzZSBhIDR4IGRvd25zY2FsZWQgc2NyZWVuIHRleHR1cmUgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuICAgIGNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCBwYWludGVyLndpZHRoIC8gNCwgcGFpbnRlci5oZWlnaHQgLyA0XSk7XG5cbiAgICBsZXQgZmJvID0gbGF5ZXIuaGVhdG1hcEZibztcblxuICAgIGlmICghZmJvKSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcblxuICAgICAgICBmYm8gPSBsYXllci5oZWF0bWFwRmJvID0gY29udGV4dC5jcmVhdGVGcmFtZWJ1ZmZlcihwYWludGVyLndpZHRoIC8gNCwgcGFpbnRlci5oZWlnaHQgLyA0KTtcblxuICAgICAgICBiaW5kVGV4dHVyZVRvRnJhbWVidWZmZXIoY29udGV4dCwgcGFpbnRlciwgdGV4dHVyZSwgZmJvKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGZiby5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpO1xuICAgICAgICBjb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQoZmJvLmZyYW1lYnVmZmVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGJpbmRUZXh0dXJlVG9GcmFtZWJ1ZmZlcihjb250ZXh0LCBwYWludGVyLCB0ZXh0dXJlLCBmYm8pIHtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgLy8gVXNlIHRoZSBoaWdoZXIgcHJlY2lzaW9uIGhhbGYtZmxvYXQgdGV4dHVyZSB3aGVyZSBhdmFpbGFibGUgKHByb2R1Y2luZyBtdWNoIHNtb290aGVyIGxvb2tpbmcgaGVhdG1hcHMpO1xuICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgcGFpbnRlci53aWR0aCAvIDQsIHBhaW50ZXIuaGVpZ2h0IC8gNCwgMCwgZ2wuUkdCQSxcbiAgICAgICAgY29udGV4dC5leHRUZXh0dXJlSGFsZkZsb2F0ID8gY29udGV4dC5leHRUZXh0dXJlSGFsZkZsb2F0LkhBTEZfRkxPQVRfT0VTIDogZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG5cbiAgICBmYm8uY29sb3JBdHRhY2htZW50LnNldCh0ZXh0dXJlKTtcblxuICAgIC8vIElmIHVzaW5nIGhhbGYtZmxvYXQgdGV4dHVyZSBhcyBhIHJlbmRlciB0YXJnZXQgaXMgbm90IHN1cHBvcnRlZCwgZmFsbCBiYWNrIHRvIGEgbG93IHByZWNpc2lvbiB0ZXh0dXJlXG4gICAgaWYgKGNvbnRleHQuZXh0VGV4dHVyZUhhbGZGbG9hdCAmJiBnbC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKGdsLkZSQU1FQlVGRkVSKSAhPT0gZ2wuRlJBTUVCVUZGRVJfQ09NUExFVEUpIHtcbiAgICAgICAgY29udGV4dC5leHRUZXh0dXJlSGFsZkZsb2F0ID0gbnVsbDtcbiAgICAgICAgZmJvLmNvbG9yQXR0YWNobWVudC5zZXREaXJ0eSgpO1xuICAgICAgICBiaW5kVGV4dHVyZVRvRnJhbWVidWZmZXIoY29udGV4dCwgcGFpbnRlciwgdGV4dHVyZSwgZmJvKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlclRleHR1cmVUb01hcChwYWludGVyLCBsYXllcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG5cbiAgICAvLyBIZXJlIHdlIGJpbmQgdHdvIGRpZmZlcmVudCB0ZXh0dXJlcyBmcm9tIHdoaWNoIHdlJ2xsIHNhbXBsZSBpbiBkcmF3aW5nXG4gICAgLy8gaGVhdG1hcHM6IHRoZSBrZXJuZWwgdGV4dHVyZSwgcHJlcGFyZWQgaW4gdGhlIG9mZnNjcmVlbiBwYXNzLCBhbmQgYVxuICAgIC8vIGNvbG9yIHJhbXAgdGV4dHVyZS5cbiAgICBjb25zdCBmYm8gPSBsYXllci5oZWF0bWFwRmJvO1xuICAgIGlmICghZmJvKSByZXR1cm47XG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZmJvLmNvbG9yQXR0YWNobWVudC5nZXQoKSk7XG5cbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUxKTtcbiAgICBsZXQgY29sb3JSYW1wVGV4dHVyZSA9IGxheWVyLmNvbG9yUmFtcFRleHR1cmU7XG4gICAgaWYgKCFjb2xvclJhbXBUZXh0dXJlKSB7XG4gICAgICAgIGNvbG9yUmFtcFRleHR1cmUgPSBsYXllci5jb2xvclJhbXBUZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgbGF5ZXIuY29sb3JSYW1wLCBnbC5SR0JBKTtcbiAgICB9XG4gICAgY29sb3JSYW1wVGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cbiAgICBjb250ZXh0LnNldERlcHRoTW9kZShEZXB0aE1vZGUuZGlzYWJsZWQpO1xuXG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnaGVhdG1hcFRleHR1cmUnKTtcblxuICAgIGNvbnN0IG9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2hlYXRtYXAtb3BhY2l0eScpO1xuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfb3BhY2l0eSwgb3BhY2l0eSk7XG4gICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9pbWFnZSwgMCk7XG4gICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9jb2xvcl9yYW1wLCAxKTtcblxuICAgIGNvbnN0IG1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgbWF0NC5vcnRobyhtYXRyaXgsIDAsIHBhaW50ZXIud2lkdGgsIHBhaW50ZXIuaGVpZ2h0LCAwLCAwLCAxKTtcbiAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBtYXRyaXgpO1xuXG4gICAgZ2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMudV93b3JsZCwgZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLCBnbC5kcmF3aW5nQnVmZmVySGVpZ2h0KTtcblxuICAgIHBhaW50ZXIudmlld3BvcnRWQU8uYmluZChwYWludGVyLmNvbnRleHQsIHByb2dyYW0sIHBhaW50ZXIudmlld3BvcnRCdWZmZXIsIFtdKTtcblxuICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtcbiAgICBpc1BhdHRlcm5NaXNzaW5nLFxuICAgIHNldFBhdHRlcm5Vbmlmb3JtcyxcbiAgICBwcmVwYXJlIGFzIHByZXBhcmVQYXR0ZXJuXG59IGZyb20gJy4vcGF0dGVybic7XG5cbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBCYWNrZ3JvdW5kU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9iYWNrZ3JvdW5kX3N0eWxlX2xheWVyJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0JhY2tncm91bmQ7XG5cbmZ1bmN0aW9uIGRyYXdCYWNrZ3JvdW5kKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IEJhY2tncm91bmRTdHlsZUxheWVyKSB7XG4gICAgY29uc3QgY29sb3IgPSBsYXllci5wYWludC5nZXQoJ2JhY2tncm91bmQtY29sb3InKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdiYWNrZ3JvdW5kLW9wYWNpdHknKTtcblxuICAgIGlmIChvcGFjaXR5ID09PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBwYWludGVyLnRyYW5zZm9ybTtcbiAgICBjb25zdCB0aWxlU2l6ZSA9IHRyYW5zZm9ybS50aWxlU2l6ZTtcbiAgICBjb25zdCBpbWFnZSA9IGxheWVyLnBhaW50LmdldCgnYmFja2dyb3VuZC1wYXR0ZXJuJyk7XG5cbiAgICBjb25zdCBwYXNzID0gKCFpbWFnZSAmJiBjb2xvci5hID09PSAxICYmIG9wYWNpdHkgPT09IDEpID8gJ29wYXF1ZScgOiAndHJhbnNsdWNlbnQnO1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09IHBhc3MpIHJldHVybjtcblxuICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoU3RlbmNpbE1vZGUuZGlzYWJsZWQpO1xuICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgcGFzcyA9PT0gJ29wYXF1ZScgPyBEZXB0aE1vZGUuUmVhZFdyaXRlIDogRGVwdGhNb2RlLlJlYWRPbmx5KSk7XG4gICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuXG4gICAgbGV0IHByb2dyYW07XG4gICAgaWYgKGltYWdlKSB7XG4gICAgICAgIGlmIChpc1BhdHRlcm5NaXNzaW5nKGltYWdlLCBwYWludGVyKSkgcmV0dXJuO1xuICAgICAgICBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdiYWNrZ3JvdW5kUGF0dGVybicpO1xuICAgICAgICBwcmVwYXJlUGF0dGVybihpbWFnZSwgcGFpbnRlciwgcHJvZ3JhbSk7XG4gICAgICAgIHBhaW50ZXIudGlsZUV4dGVudFBhdHRlcm5WQU8uYmluZChjb250ZXh0LCBwcm9ncmFtLCBwYWludGVyLnRpbGVFeHRlbnRCdWZmZXIsIFtdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdiYWNrZ3JvdW5kJyk7XG4gICAgICAgIGdsLnVuaWZvcm00ZnYocHJvZ3JhbS51bmlmb3Jtcy51X2NvbG9yLCBbY29sb3IuciwgY29sb3IuZywgY29sb3IuYiwgY29sb3IuYV0pO1xuICAgICAgICBwYWludGVyLnRpbGVFeHRlbnRWQU8uYmluZChjb250ZXh0LCBwcm9ncmFtLCBwYWludGVyLnRpbGVFeHRlbnRCdWZmZXIsIFtdKTtcbiAgICB9XG5cbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X29wYWNpdHksIG9wYWNpdHkpO1xuICAgIGNvbnN0IHRpbGVJRHMgPSB0cmFuc2Zvcm0uY292ZXJpbmdUaWxlcyh7dGlsZVNpemV9KTtcblxuICAgIGZvciAoY29uc3QgdGlsZUlEIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgaWYgKGltYWdlKSB7XG4gICAgICAgICAgICBzZXRQYXR0ZXJuVW5pZm9ybXMoe3RpbGVJRCwgdGlsZVNpemV9LCBwYWludGVyLCBwcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBwYWludGVyLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgodGlsZUlELnRvVW53cmFwcGVkKCkpKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgcGFpbnRlci50aWxlRXh0ZW50QnVmZmVyLmxlbmd0aCk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IENvb3JkaW5hdGUgZnJvbSAnLi4vZ2VvL2Nvb3JkaW5hdGUnO1xuXG5pbXBvcnQgeyBPdmVyc2NhbGVkVGlsZUlEIH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5leHBvcnQgZGVmYXVsdCB0aWxlQ292ZXI7XG5cbmZ1bmN0aW9uIHRpbGVDb3Zlcih6OiBudW1iZXIsIGJvdW5kczogW0Nvb3JkaW5hdGUsIENvb3JkaW5hdGUsIENvb3JkaW5hdGUsIENvb3JkaW5hdGVdLFxuICAgICAgICBhY3R1YWxaOiBudW1iZXIsIHJlbmRlcldvcmxkQ29waWVzOiBib29sZWFuIHwgdm9pZCkge1xuICAgIGlmIChyZW5kZXJXb3JsZENvcGllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlbmRlcldvcmxkQ29waWVzID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgdGlsZXMgPSAxIDw8IHo7XG4gICAgY29uc3QgdCA9IHt9O1xuXG4gICAgZnVuY3Rpb24gc2NhbkxpbmUoeDAsIHgxLCB5KSB7XG4gICAgICAgIGxldCB4LCB3LCB3eCwgY29vcmQ7XG4gICAgICAgIGlmICh5ID49IDAgJiYgeSA8PSB0aWxlcykge1xuICAgICAgICAgICAgZm9yICh4ID0geDA7IHggPCB4MTsgeCsrKSB7XG4gICAgICAgICAgICAgICAgdyA9IE1hdGguZmxvb3IoeCAvIHRpbGVzKTtcbiAgICAgICAgICAgICAgICB3eCA9ICh4ICUgdGlsZXMgKyB0aWxlcykgJSB0aWxlcztcbiAgICAgICAgICAgICAgICBpZiAodyA9PT0gMCB8fCByZW5kZXJXb3JsZENvcGllcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb29yZCA9IG5ldyBPdmVyc2NhbGVkVGlsZUlEKGFjdHVhbFosIHcsIHosIHd4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgdFtjb29yZC5rZXldID0gY29vcmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGl2aWRlIHRoZSBzY3JlZW4gdXAgaW4gdHdvIHRyaWFuZ2xlcyBhbmQgc2NhbiBlYWNoIG9mIHRoZW06XG4gICAgLy8gKy0tLS9cbiAgICAvLyB8IC8gfFxuICAgIC8vIC8tLS0rXG4gICAgc2NhblRyaWFuZ2xlKGJvdW5kc1swXSwgYm91bmRzWzFdLCBib3VuZHNbMl0sIDAsIHRpbGVzLCBzY2FuTGluZSk7XG4gICAgc2NhblRyaWFuZ2xlKGJvdW5kc1syXSwgYm91bmRzWzNdLCBib3VuZHNbMF0sIDAsIHRpbGVzLCBzY2FuTGluZSk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXModCkubWFwKChpZCkgPT4ge1xuICAgICAgICByZXR1cm4gdFtpZF07XG4gICAgfSk7XG59XG5cblxuLy8gVGFrZW4gZnJvbSBwb2x5bWFwcyBzcmMvTGF5ZXIuanNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW1wbGVnZW8vcG9seW1hcHMvYmxvYi9tYXN0ZXIvc3JjL0xheWVyLmpzI0wzMzMtTDM4M1xuXG5mdW5jdGlvbiBlZGdlKGE6IENvb3JkaW5hdGUsIGI6IENvb3JkaW5hdGUpIHtcbiAgICBpZiAoYS5yb3cgPiBiLnJvdykgeyBjb25zdCB0ID0gYTsgYSA9IGI7IGIgPSB0OyB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDA6IGEuY29sdW1uLFxuICAgICAgICB5MDogYS5yb3csXG4gICAgICAgIHgxOiBiLmNvbHVtbixcbiAgICAgICAgeTE6IGIucm93LFxuICAgICAgICBkeDogYi5jb2x1bW4gLSBhLmNvbHVtbixcbiAgICAgICAgZHk6IGIucm93IC0gYS5yb3dcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBzY2FuU3BhbnMoZTAsIGUxLCB5bWluLCB5bWF4LCBzY2FuTGluZSkge1xuICAgIGNvbnN0IHkwID0gTWF0aC5tYXgoeW1pbiwgTWF0aC5mbG9vcihlMS55MCkpO1xuICAgIGNvbnN0IHkxID0gTWF0aC5taW4oeW1heCwgTWF0aC5jZWlsKGUxLnkxKSk7XG5cbiAgICAvLyBzb3J0IGVkZ2VzIGJ5IHgtY29vcmRpbmF0ZVxuICAgIGlmICgoZTAueDAgPT09IGUxLngwICYmIGUwLnkwID09PSBlMS55MCkgP1xuICAgICAgICAoZTAueDAgKyBlMS5keSAvIGUwLmR5ICogZTAuZHggPCBlMS54MSkgOlxuICAgICAgICAoZTAueDEgLSBlMS5keSAvIGUwLmR5ICogZTAuZHggPCBlMS54MCkpIHtcbiAgICAgICAgY29uc3QgdCA9IGUwOyBlMCA9IGUxOyBlMSA9IHQ7XG4gICAgfVxuXG4gICAgLy8gc2NhbiBsaW5lcyFcbiAgICBjb25zdCBtMCA9IGUwLmR4IC8gZTAuZHk7XG4gICAgY29uc3QgbTEgPSBlMS5keCAvIGUxLmR5O1xuICAgIGNvbnN0IGQwID0gZTAuZHggPiAwOyAvLyB1c2UgeSArIDEgdG8gY29tcHV0ZSB4MFxuICAgIGNvbnN0IGQxID0gZTEuZHggPCAwOyAvLyB1c2UgeSArIDEgdG8gY29tcHV0ZSB4MVxuICAgIGZvciAobGV0IHkgPSB5MDsgeSA8IHkxOyB5KyspIHtcbiAgICAgICAgY29uc3QgeDAgPSBtMCAqIE1hdGgubWF4KDAsIE1hdGgubWluKGUwLmR5LCB5ICsgZDAgLSBlMC55MCkpICsgZTAueDA7XG4gICAgICAgIGNvbnN0IHgxID0gbTEgKiBNYXRoLm1heCgwLCBNYXRoLm1pbihlMS5keSwgeSArIGQxIC0gZTEueTApKSArIGUxLngwO1xuICAgICAgICBzY2FuTGluZShNYXRoLmZsb29yKHgxKSwgTWF0aC5jZWlsKHgwKSwgeSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzY2FuVHJpYW5nbGUoYTogQ29vcmRpbmF0ZSwgYjogQ29vcmRpbmF0ZSwgYzogQ29vcmRpbmF0ZSwgeW1pbiwgeW1heCwgc2NhbkxpbmUpIHtcbiAgICBsZXQgYWIgPSBlZGdlKGEsIGIpLFxuICAgICAgICBiYyA9IGVkZ2UoYiwgYyksXG4gICAgICAgIGNhID0gZWRnZShjLCBhKTtcblxuICAgIGxldCB0O1xuXG4gICAgLy8gc29ydCBlZGdlcyBieSB5LWxlbmd0aFxuICAgIGlmIChhYi5keSA+IGJjLmR5KSB7IHQgPSBhYjsgYWIgPSBiYzsgYmMgPSB0OyB9XG4gICAgaWYgKGFiLmR5ID4gY2EuZHkpIHsgdCA9IGFiOyBhYiA9IGNhOyBjYSA9IHQ7IH1cbiAgICBpZiAoYmMuZHkgPiBjYS5keSkgeyB0ID0gYmM7IGJjID0gY2E7IGNhID0gdDsgfVxuXG4gICAgLy8gc2NhbiBzcGFuISBzY2FuIHNwYW4hXG4gICAgaWYgKGFiLmR5KSBzY2FuU3BhbnMoY2EsIGFiLCB5bWluLCB5bWF4LCBzY2FuTGluZSk7XG4gICAgaWYgKGJjLmR5KSBzY2FuU3BhbnMoY2EsIGJjLCB5bWluLCB5bWF4LCBzY2FuTGluZSk7XG59XG5cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBMbmdMYXQgZnJvbSAnLi9sbmdfbGF0JztcblxuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IENvb3JkaW5hdGUgZnJvbSAnLi9jb29yZGluYXRlJztcbmltcG9ydCB7IHdyYXAsIGNsYW1wIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7bnVtYmVyIGFzIGludGVycG9sYXRlfSBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvaW50ZXJwb2xhdGUnO1xuaW1wb3J0IHRpbGVDb3ZlciBmcm9tICcuLi91dGlsL3RpbGVfY292ZXInO1xuaW1wb3J0IHsgQ2Fub25pY2FsVGlsZUlELCBVbndyYXBwZWRUaWxlSUQgfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50JztcbmltcG9ydCBnbG1hdHJpeCBmcm9tICdAbWFwYm94L2dsLW1hdHJpeCc7XG5cbmNvbnN0IHZlYzQgPSBnbG1hdHJpeC52ZWM0LFxuICAgIG1hdDQgPSBnbG1hdHJpeC5tYXQ0LFxuICAgIG1hdDIgPSBnbG1hdHJpeC5tYXQyO1xuXG4vKipcbiAqIEEgc2luZ2xlIHRyYW5zZm9ybSwgZ2VuZXJhbGx5IHVzZWQgZm9yIGEgc2luZ2xlIHRpbGUgdG8gYmVcbiAqIHNjYWxlZCwgcm90YXRlZCwgYW5kIHpvb21lZC5cbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFRyYW5zZm9ybSB7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcbiAgICB0aWxlWm9vbTogbnVtYmVyO1xuICAgIGxuZ1JhbmdlOiA/W251bWJlciwgbnVtYmVyXTtcbiAgICBsYXRSYW5nZTogP1tudW1iZXIsIG51bWJlcl07XG4gICAgc2NhbGU6IG51bWJlcjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIGFuZ2xlOiBudW1iZXI7XG4gICAgcm90YXRpb25NYXRyaXg6IEZsb2F0NjRBcnJheTtcbiAgICB6b29tRnJhY3Rpb246IG51bWJlcjtcbiAgICBwaXhlbHNUb0dMVW5pdHM6IEFycmF5PG51bWJlcj47XG4gICAgY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTogbnVtYmVyO1xuICAgIHByb2pNYXRyaXg6IEZsb2F0NjRBcnJheTtcbiAgICBhbGlnbmVkUHJvak1hdHJpeDogRmxvYXQ2NEFycmF5O1xuICAgIHBpeGVsTWF0cml4OiBGbG9hdDY0QXJyYXk7XG4gICAgcGl4ZWxNYXRyaXhJbnZlcnNlOiBGbG9hdDY0QXJyYXk7XG4gICAgX2ZvdjogbnVtYmVyO1xuICAgIF9waXRjaDogbnVtYmVyO1xuICAgIF96b29tOiBudW1iZXI7XG4gICAgX3VubW9kaWZpZWQ6IGJvb2xlYW47XG4gICAgX3JlbmRlcldvcmxkQ29waWVzOiBib29sZWFuO1xuICAgIF9taW5ab29tOiBudW1iZXI7XG4gICAgX21heFpvb206IG51bWJlcjtcbiAgICBfY2VudGVyOiBMbmdMYXQ7XG4gICAgX2NvbnN0cmFpbmluZzogYm9vbGVhbjtcbiAgICBfcG9zTWF0cml4Q2FjaGU6IHtbbnVtYmVyXTogRmxvYXQzMkFycmF5fTtcbiAgICBfYWxpZ25lZFBvc01hdHJpeENhY2hlOiB7W251bWJlcl06IEZsb2F0MzJBcnJheX07XG5cbiAgICBjb25zdHJ1Y3RvcihtaW5ab29tOiA/bnVtYmVyLCBtYXhab29tOiA/bnVtYmVyLCByZW5kZXJXb3JsZENvcGllczogYm9vbGVhbiB8IHZvaWQpIHtcbiAgICAgICAgdGhpcy50aWxlU2l6ZSA9IDUxMjsgLy8gY29uc3RhbnRcblxuICAgICAgICB0aGlzLl9yZW5kZXJXb3JsZENvcGllcyA9IHJlbmRlcldvcmxkQ29waWVzID09PSB1bmRlZmluZWQgPyB0cnVlIDogcmVuZGVyV29ybGRDb3BpZXM7XG4gICAgICAgIHRoaXMuX21pblpvb20gPSBtaW5ab29tIHx8IDA7XG4gICAgICAgIHRoaXMuX21heFpvb20gPSBtYXhab29tIHx8IDIyO1xuXG4gICAgICAgIHRoaXMubGF0UmFuZ2UgPSBbLTg1LjA1MTEzLCA4NS4wNTExM107XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5fY2VudGVyID0gbmV3IExuZ0xhdCgwLCAwKTtcbiAgICAgICAgdGhpcy56b29tID0gMDtcbiAgICAgICAgdGhpcy5hbmdsZSA9IDA7XG4gICAgICAgIHRoaXMuX2ZvdiA9IDAuNjQzNTAxMTA4NzkzMjg0NDtcbiAgICAgICAgdGhpcy5fcGl0Y2ggPSAwO1xuICAgICAgICB0aGlzLl91bm1vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcG9zTWF0cml4Q2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5fYWxpZ25lZFBvc01hdHJpeENhY2hlID0ge307XG4gICAgfVxuXG4gICAgY2xvbmUoKTogVHJhbnNmb3JtIHtcbiAgICAgICAgY29uc3QgY2xvbmUgPSBuZXcgVHJhbnNmb3JtKHRoaXMuX21pblpvb20sIHRoaXMuX21heFpvb20sIHRoaXMuX3JlbmRlcldvcmxkQ29waWVzKTtcbiAgICAgICAgY2xvbmUudGlsZVNpemUgPSB0aGlzLnRpbGVTaXplO1xuICAgICAgICBjbG9uZS5sYXRSYW5nZSA9IHRoaXMubGF0UmFuZ2U7XG4gICAgICAgIGNsb25lLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgY2xvbmUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgIGNsb25lLl9jZW50ZXIgPSB0aGlzLl9jZW50ZXI7XG4gICAgICAgIGNsb25lLnpvb20gPSB0aGlzLnpvb207XG4gICAgICAgIGNsb25lLmFuZ2xlID0gdGhpcy5hbmdsZTtcbiAgICAgICAgY2xvbmUuX2ZvdiA9IHRoaXMuX2ZvdjtcbiAgICAgICAgY2xvbmUuX3BpdGNoID0gdGhpcy5fcGl0Y2g7XG4gICAgICAgIGNsb25lLl91bm1vZGlmaWVkID0gdGhpcy5fdW5tb2RpZmllZDtcbiAgICAgICAgY2xvbmUuX2NhbGNNYXRyaWNlcygpO1xuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuXG4gICAgZ2V0IG1pblpvb20oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX21pblpvb207IH1cbiAgICBzZXQgbWluWm9vbSh6b29tOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX21pblpvb20gPT09IHpvb20pIHJldHVybjtcbiAgICAgICAgdGhpcy5fbWluWm9vbSA9IHpvb207XG4gICAgICAgIHRoaXMuem9vbSA9IE1hdGgubWF4KHRoaXMuem9vbSwgem9vbSk7XG4gICAgfVxuXG4gICAgZ2V0IG1heFpvb20oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX21heFpvb207IH1cbiAgICBzZXQgbWF4Wm9vbSh6b29tOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX21heFpvb20gPT09IHpvb20pIHJldHVybjtcbiAgICAgICAgdGhpcy5fbWF4Wm9vbSA9IHpvb207XG4gICAgICAgIHRoaXMuem9vbSA9IE1hdGgubWluKHRoaXMuem9vbSwgem9vbSk7XG4gICAgfVxuXG4gICAgZ2V0IHJlbmRlcldvcmxkQ29waWVzKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fcmVuZGVyV29ybGRDb3BpZXM7IH1cbiAgICBzZXQgcmVuZGVyV29ybGRDb3BpZXMocmVuZGVyV29ybGRDb3BpZXM/OiA/Ym9vbGVhbikge1xuICAgICAgICBpZiAocmVuZGVyV29ybGRDb3BpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVuZGVyV29ybGRDb3BpZXMgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHJlbmRlcldvcmxkQ29waWVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZW5kZXJXb3JsZENvcGllcyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMgPSByZW5kZXJXb3JsZENvcGllcztcbiAgICB9XG5cbiAgICBnZXQgd29ybGRTaXplKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVTaXplICogdGhpcy5zY2FsZTtcbiAgICB9XG5cbiAgICBnZXQgY2VudGVyUG9pbnQoKTogUG9pbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplLl9kaXYoMik7XG4gICAgfVxuXG4gICAgZ2V0IHNpemUoKTogUG9pbnQge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBnZXQgYmVhcmluZygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gLXRoaXMuYW5nbGUgLyBNYXRoLlBJICogMTgwO1xuICAgIH1cbiAgICBzZXQgYmVhcmluZyhiZWFyaW5nOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgYiA9IC13cmFwKGJlYXJpbmcsIC0xODAsIDE4MCkgKiBNYXRoLlBJIC8gMTgwO1xuICAgICAgICBpZiAodGhpcy5hbmdsZSA9PT0gYikgcmV0dXJuO1xuICAgICAgICB0aGlzLl91bm1vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYW5nbGUgPSBiO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcblxuICAgICAgICAvLyAyeDIgbWF0cml4IGZvciByb3RhdGluZyBwb2ludHNcbiAgICAgICAgdGhpcy5yb3RhdGlvbk1hdHJpeCA9IG1hdDIuY3JlYXRlKCk7XG4gICAgICAgIG1hdDIucm90YXRlKHRoaXMucm90YXRpb25NYXRyaXgsIHRoaXMucm90YXRpb25NYXRyaXgsIHRoaXMuYW5nbGUpO1xuICAgIH1cblxuICAgIGdldCBwaXRjaCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGl0Y2ggLyBNYXRoLlBJICogMTgwO1xuICAgIH1cbiAgICBzZXQgcGl0Y2gocGl0Y2g6IG51bWJlcikge1xuICAgICAgICBjb25zdCBwID0gY2xhbXAocGl0Y2gsIDAsIDYwKSAvIDE4MCAqIE1hdGguUEk7XG4gICAgICAgIGlmICh0aGlzLl9waXRjaCA9PT0gcCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl91bm1vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BpdGNoID0gcDtcbiAgICAgICAgdGhpcy5fY2FsY01hdHJpY2VzKCk7XG4gICAgfVxuXG4gICAgZ2V0IGZvdigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm92IC8gTWF0aC5QSSAqIDE4MDtcbiAgICB9XG4gICAgc2V0IGZvdihmb3Y6IG51bWJlcikge1xuICAgICAgICBmb3YgPSBNYXRoLm1heCgwLjAxLCBNYXRoLm1pbig2MCwgZm92KSk7XG4gICAgICAgIGlmICh0aGlzLl9mb3YgPT09IGZvdikgcmV0dXJuO1xuICAgICAgICB0aGlzLl91bm1vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2ZvdiA9IGZvdiAvIDE4MCAqIE1hdGguUEk7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgIH1cblxuICAgIGdldCB6b29tKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl96b29tOyB9XG4gICAgc2V0IHpvb20oem9vbTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHogPSBNYXRoLm1pbihNYXRoLm1heCh6b29tLCB0aGlzLm1pblpvb20pLCB0aGlzLm1heFpvb20pO1xuICAgICAgICBpZiAodGhpcy5fem9vbSA9PT0geikgcmV0dXJuO1xuICAgICAgICB0aGlzLl91bm1vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3pvb20gPSB6O1xuICAgICAgICB0aGlzLnNjYWxlID0gdGhpcy56b29tU2NhbGUoeik7XG4gICAgICAgIHRoaXMudGlsZVpvb20gPSBNYXRoLmZsb29yKHopO1xuICAgICAgICB0aGlzLnpvb21GcmFjdGlvbiA9IHogLSB0aGlzLnRpbGVab29tO1xuICAgICAgICB0aGlzLl9jb25zdHJhaW4oKTtcbiAgICAgICAgdGhpcy5fY2FsY01hdHJpY2VzKCk7XG4gICAgfVxuXG4gICAgZ2V0IGNlbnRlcigpOiBMbmdMYXQgeyByZXR1cm4gdGhpcy5fY2VudGVyOyB9XG4gICAgc2V0IGNlbnRlcihjZW50ZXI6IExuZ0xhdCkge1xuICAgICAgICBpZiAoY2VudGVyLmxhdCA9PT0gdGhpcy5fY2VudGVyLmxhdCAmJiBjZW50ZXIubG5nID09PSB0aGlzLl9jZW50ZXIubG5nKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2VudGVyID0gY2VudGVyO1xuICAgICAgICB0aGlzLl9jb25zdHJhaW4oKTtcbiAgICAgICAgdGhpcy5fY2FsY01hdHJpY2VzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgem9vbSBsZXZlbCB0aGF0IHdpbGwgY292ZXIgYWxsIHRpbGVzIHRoZSB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnRpbGVTaXplXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnJvdW5kWm9vbVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHpvb20gbGV2ZWxcbiAgICAgKi9cbiAgICBjb3ZlcmluZ1pvb21MZXZlbChvcHRpb25zOiB7cm91bmRab29tPzogYm9vbGVhbiwgdGlsZVNpemU6IG51bWJlcn0pIHtcbiAgICAgICAgcmV0dXJuIChvcHRpb25zLnJvdW5kWm9vbSA/IE1hdGgucm91bmQgOiBNYXRoLmZsb29yKShcbiAgICAgICAgICAgIHRoaXMuem9vbSArIHRoaXMuc2NhbGVab29tKHRoaXMudGlsZVNpemUgLyBvcHRpb25zLnRpbGVTaXplKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbnkgXCJ3cmFwcGVkXCIgY29waWVzIG9mIGEgZ2l2ZW4gdGlsZSBjb29yZGluYXRlIHRoYXQgYXJlIHZpc2libGVcbiAgICAgKiBpbiB0aGUgY3VycmVudCB2aWV3LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXRWaXNpYmxlVW53cmFwcGVkQ29vcmRpbmF0ZXModGlsZUlEOiBDYW5vbmljYWxUaWxlSUQpIHtcbiAgICAgICAgY29uc3QgdWwgPSB0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQoMCwgMCksIDApO1xuICAgICAgICBjb25zdCB1ciA9IHRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBQb2ludCh0aGlzLndpZHRoLCAwKSwgMCk7XG4gICAgICAgIGNvbnN0IHcwID0gTWF0aC5mbG9vcih1bC5jb2x1bW4pO1xuICAgICAgICBjb25zdCB3MSA9IE1hdGguZmxvb3IodXIuY29sdW1uKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW25ldyBVbndyYXBwZWRUaWxlSUQoMCwgdGlsZUlEKV07XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJXb3JsZENvcGllcykge1xuICAgICAgICAgICAgZm9yIChsZXQgdyA9IHcwOyB3IDw9IHcxOyB3KyspIHtcbiAgICAgICAgICAgICAgICBpZiAodyA9PT0gMCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IFVud3JhcHBlZFRpbGVJRCh3LCB0aWxlSUQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbGwgY29vcmRpbmF0ZXMgdGhhdCBjb3VsZCBjb3ZlciB0aGlzIHRyYW5zZm9ybSBmb3IgYSBjb3ZlcmluZ1xuICAgICAqIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy50aWxlU2l6ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLm1pbnpvb21cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5tYXh6b29tXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnJvdW5kWm9vbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5yZXBhcnNlT3ZlcnNjYWxlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5yZW5kZXJXb3JsZENvcGllc1xuICAgICAqIEByZXR1cm5zIHtBcnJheTxUaWxlPn0gdGlsZXNcbiAgICAgKi9cbiAgICBjb3ZlcmluZ1RpbGVzKFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICB0aWxlU2l6ZTogbnVtYmVyLFxuICAgICAgICAgICAgbWluem9vbT86IG51bWJlcixcbiAgICAgICAgICAgIG1heHpvb20/OiBudW1iZXIsXG4gICAgICAgICAgICByb3VuZFpvb20/OiBib29sZWFuLFxuICAgICAgICAgICAgcmVwYXJzZU92ZXJzY2FsZWQ/OiBib29sZWFuLFxuICAgICAgICAgICAgcmVuZGVyV29ybGRDb3BpZXM/OiBib29sZWFuXG4gICAgICAgIH1cbiAgICApIHtcbiAgICAgICAgbGV0IHogPSB0aGlzLmNvdmVyaW5nWm9vbUxldmVsKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBhY3R1YWxaID0gejtcblxuICAgICAgICBpZiAob3B0aW9ucy5taW56b29tICE9PSB1bmRlZmluZWQgJiYgeiA8IG9wdGlvbnMubWluem9vbSkgcmV0dXJuIFtdO1xuICAgICAgICBpZiAob3B0aW9ucy5tYXh6b29tICE9PSB1bmRlZmluZWQgJiYgeiA+IG9wdGlvbnMubWF4em9vbSkgeiA9IG9wdGlvbnMubWF4em9vbTtcblxuICAgICAgICBjb25zdCBjZW50ZXJDb29yZCA9IHRoaXMucG9pbnRDb29yZGluYXRlKHRoaXMuY2VudGVyUG9pbnQsIHopO1xuICAgICAgICBjb25zdCBjZW50ZXJQb2ludCA9IG5ldyBQb2ludChjZW50ZXJDb29yZC5jb2x1bW4gLSAwLjUsIGNlbnRlckNvb3JkLnJvdyAtIDAuNSk7XG4gICAgICAgIGNvbnN0IGNvcm5lckNvb3JkcyA9IFtcbiAgICAgICAgICAgIHRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBQb2ludCgwLCAwKSwgeiksXG4gICAgICAgICAgICB0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQodGhpcy53aWR0aCwgMCksIHopLFxuICAgICAgICAgICAgdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSwgeiksXG4gICAgICAgICAgICB0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQoMCwgdGhpcy5oZWlnaHQpLCB6KVxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdGlsZUNvdmVyKHosIGNvcm5lckNvb3Jkcywgb3B0aW9ucy5yZXBhcnNlT3ZlcnNjYWxlZCA/IGFjdHVhbFogOiB6LCB0aGlzLl9yZW5kZXJXb3JsZENvcGllcylcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBjZW50ZXJQb2ludC5kaXN0KGEuY2Fub25pY2FsKSAtIGNlbnRlclBvaW50LmRpc3QoYi5jYW5vbmljYWwpKTtcbiAgICB9XG5cbiAgICByZXNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICB0aGlzLnBpeGVsc1RvR0xVbml0cyA9IFsyIC8gd2lkdGgsIC0yIC8gaGVpZ2h0XTtcbiAgICAgICAgdGhpcy5fY29uc3RyYWluKCk7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgIH1cblxuICAgIGdldCB1bm1vZGlmaWVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fdW5tb2RpZmllZDsgfVxuXG4gICAgem9vbVNjYWxlKHpvb206IG51bWJlcikgeyByZXR1cm4gTWF0aC5wb3coMiwgem9vbSk7IH1cbiAgICBzY2FsZVpvb20oc2NhbGU6IG51bWJlcikgeyByZXR1cm4gTWF0aC5sb2coc2NhbGUpIC8gTWF0aC5MTjI7IH1cblxuICAgIHByb2plY3QobG5nbGF0OiBMbmdMYXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgICAgICAgIHRoaXMubG5nWChsbmdsYXQubG5nKSxcbiAgICAgICAgICAgIHRoaXMubGF0WShsbmdsYXQubGF0KSk7XG4gICAgfVxuXG4gICAgdW5wcm9qZWN0KHBvaW50OiBQb2ludCk6IExuZ0xhdCB7XG4gICAgICAgIHJldHVybiBuZXcgTG5nTGF0KFxuICAgICAgICAgICAgdGhpcy54TG5nKHBvaW50LngpLFxuICAgICAgICAgICAgdGhpcy55TGF0KHBvaW50LnkpKTtcbiAgICB9XG5cbiAgICBnZXQgeCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5sbmdYKHRoaXMuY2VudGVyLmxuZyk7IH1cbiAgICBnZXQgeSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5sYXRZKHRoaXMuY2VudGVyLmxhdCk7IH1cblxuICAgIGdldCBwb2ludCgpOiBQb2ludCB7IHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpOyB9XG5cbiAgICAvKipcbiAgICAgKiBsYXRpdHVkZSB0byBhYnNvbHV0ZSB4IGNvb3JkXG4gICAgICogQHJldHVybnMge251bWJlcn0gcGl4ZWwgY29vcmRpbmF0ZVxuICAgICAqL1xuICAgIGxuZ1gobG5nOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuICgxODAgKyBsbmcpICogdGhpcy53b3JsZFNpemUgLyAzNjA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGxhdGl0dWRlIHRvIGFic29sdXRlIHkgY29vcmRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBwaXhlbCBjb29yZGluYXRlXG4gICAgICovXG4gICAgbGF0WShsYXQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCB5ID0gMTgwIC8gTWF0aC5QSSAqIE1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkgLyA0ICsgbGF0ICogTWF0aC5QSSAvIDM2MCkpO1xuICAgICAgICByZXR1cm4gKDE4MCAtIHkpICogdGhpcy53b3JsZFNpemUgLyAzNjA7XG4gICAgfVxuXG4gICAgeExuZyh4OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHggKiAzNjAgLyB0aGlzLndvcmxkU2l6ZSAtIDE4MDtcbiAgICB9XG4gICAgeUxhdCh5OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgeTIgPSAxODAgLSB5ICogMzYwIC8gdGhpcy53b3JsZFNpemU7XG4gICAgICAgIHJldHVybiAzNjAgLyBNYXRoLlBJICogTWF0aC5hdGFuKE1hdGguZXhwKHkyICogTWF0aC5QSSAvIDE4MCkpIC0gOTA7XG4gICAgfVxuXG4gICAgc2V0TG9jYXRpb25BdFBvaW50KGxuZ2xhdDogTG5nTGF0LCBwb2ludDogUG9pbnQpIHtcbiAgICAgICAgY29uc3QgdHJhbnNsYXRlID0gdGhpcy5wb2ludENvb3JkaW5hdGUocG9pbnQpLl9zdWIodGhpcy5wb2ludENvb3JkaW5hdGUodGhpcy5jZW50ZXJQb2ludCkpO1xuICAgICAgICB0aGlzLmNlbnRlciA9IHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHRoaXMubG9jYXRpb25Db29yZGluYXRlKGxuZ2xhdCkuX3N1Yih0cmFuc2xhdGUpKTtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcldvcmxkQ29waWVzKSB7XG4gICAgICAgICAgICB0aGlzLmNlbnRlciA9IHRoaXMuY2VudGVyLndyYXAoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgbG9jYXRpb24sIHJldHVybiB0aGUgc2NyZWVuIHBvaW50IHRoYXQgY29ycmVzcG9uZHMgdG8gaXRcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdH0gbG5nbGF0IGxvY2F0aW9uXG4gICAgICogQHJldHVybnMge1BvaW50fSBzY3JlZW4gcG9pbnRcbiAgICAgKi9cbiAgICBsb2NhdGlvblBvaW50KGxuZ2xhdDogTG5nTGF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvb3JkaW5hdGVQb2ludCh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShsbmdsYXQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHBvaW50IG9uIHNjcmVlbiwgcmV0dXJuIGl0cyBsbmdsYXRcbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwIHNjcmVlbiBwb2ludFxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IGxuZ2xhdCBsb2NhdGlvblxuICAgICAqL1xuICAgIHBvaW50TG9jYXRpb24ocDogUG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHRoaXMucG9pbnRDb29yZGluYXRlKHApKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGdlb2dyYXBoaWNhbCBsbmdsYXQsIHJldHVybiBhbiB1bnJvdW5kZWRcbiAgICAgKiBjb29yZGluYXRlIHRoYXQgcmVwcmVzZW50cyBpdCBhdCB0aGlzIHRyYW5zZm9ybSdzIHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtMbmdMYXR9IGxuZ2xhdFxuICAgICAqIEByZXR1cm5zIHtDb29yZGluYXRlfVxuICAgICAqL1xuICAgIGxvY2F0aW9uQ29vcmRpbmF0ZShsbmdsYXQ6IExuZ0xhdCkge1xuICAgICAgICByZXR1cm4gbmV3IENvb3JkaW5hdGUoXG4gICAgICAgICAgICB0aGlzLmxuZ1gobG5nbGF0LmxuZykgLyB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgdGhpcy5sYXRZKGxuZ2xhdC5sYXQpIC8gdGhpcy50aWxlU2l6ZSxcbiAgICAgICAgICAgIHRoaXMuem9vbSkuem9vbVRvKHRoaXMudGlsZVpvb20pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgQ29vcmRpbmF0ZSwgcmV0dXJuIGl0cyBnZW9ncmFwaGljYWwgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZFxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IGxuZ2xhdFxuICAgICAqL1xuICAgIGNvb3JkaW5hdGVMb2NhdGlvbihjb29yZDogQ29vcmRpbmF0ZSkge1xuICAgICAgICBjb25zdCB6b29tZWRDb29yZCA9IGNvb3JkLnpvb21Ubyh0aGlzLnpvb20pO1xuICAgICAgICByZXR1cm4gbmV3IExuZ0xhdChcbiAgICAgICAgICAgIHRoaXMueExuZyh6b29tZWRDb29yZC5jb2x1bW4gKiB0aGlzLnRpbGVTaXplKSxcbiAgICAgICAgICAgIHRoaXMueUxhdCh6b29tZWRDb29yZC5yb3cgKiB0aGlzLnRpbGVTaXplKSk7XG4gICAgfVxuXG4gICAgcG9pbnRDb29yZGluYXRlKHA6IFBvaW50LCB6b29tPzogbnVtYmVyKSB7XG4gICAgICAgIGlmICh6b29tID09PSB1bmRlZmluZWQpIHpvb20gPSB0aGlzLnRpbGVab29tO1xuXG4gICAgICAgIGNvbnN0IHRhcmdldFogPSAwO1xuICAgICAgICAvLyBzaW5jZSB3ZSBkb24ndCBrbm93IHRoZSBjb3JyZWN0IHByb2plY3RlZCB6IHZhbHVlIGZvciB0aGUgcG9pbnQsXG4gICAgICAgIC8vIHVucHJvamVjdCB0d28gcG9pbnRzIHRvIGdldCBhIGxpbmUgYW5kIHRoZW4gZmluZCB0aGUgcG9pbnQgb24gdGhhdFxuICAgICAgICAvLyBsaW5lIHdpdGggej0wXG5cbiAgICAgICAgY29uc3QgY29vcmQwID0gW3AueCwgcC55LCAwLCAxXTtcbiAgICAgICAgY29uc3QgY29vcmQxID0gW3AueCwgcC55LCAxLCAxXTtcblxuICAgICAgICB2ZWM0LnRyYW5zZm9ybU1hdDQoY29vcmQwLCBjb29yZDAsIHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKTtcbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KGNvb3JkMSwgY29vcmQxLCB0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSk7XG5cbiAgICAgICAgY29uc3QgdzAgPSBjb29yZDBbM107XG4gICAgICAgIGNvbnN0IHcxID0gY29vcmQxWzNdO1xuICAgICAgICBjb25zdCB4MCA9IGNvb3JkMFswXSAvIHcwO1xuICAgICAgICBjb25zdCB4MSA9IGNvb3JkMVswXSAvIHcxO1xuICAgICAgICBjb25zdCB5MCA9IGNvb3JkMFsxXSAvIHcwO1xuICAgICAgICBjb25zdCB5MSA9IGNvb3JkMVsxXSAvIHcxO1xuICAgICAgICBjb25zdCB6MCA9IGNvb3JkMFsyXSAvIHcwO1xuICAgICAgICBjb25zdCB6MSA9IGNvb3JkMVsyXSAvIHcxO1xuXG4gICAgICAgIGNvbnN0IHQgPSB6MCA9PT0gejEgPyAwIDogKHRhcmdldFogLSB6MCkgLyAoejEgLSB6MCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBDb29yZGluYXRlKFxuICAgICAgICAgICAgaW50ZXJwb2xhdGUoeDAsIHgxLCB0KSAvIHRoaXMudGlsZVNpemUsXG4gICAgICAgICAgICBpbnRlcnBvbGF0ZSh5MCwgeTEsIHQpIC8gdGhpcy50aWxlU2l6ZSxcbiAgICAgICAgICAgIHRoaXMuem9vbSkuX3pvb21Ubyh6b29tKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGNvb3JkaW5hdGUsIHJldHVybiB0aGUgc2NyZWVuIHBvaW50IHRoYXQgY29ycmVzcG9uZHMgdG8gaXRcbiAgICAgKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkXG4gICAgICogQHJldHVybnMge1BvaW50fSBzY3JlZW4gcG9pbnRcbiAgICAgKi9cbiAgICBjb29yZGluYXRlUG9pbnQoY29vcmQ6IENvb3JkaW5hdGUpIHtcbiAgICAgICAgY29uc3Qgem9vbWVkQ29vcmQgPSBjb29yZC56b29tVG8odGhpcy56b29tKTtcbiAgICAgICAgY29uc3QgcCA9IFt6b29tZWRDb29yZC5jb2x1bW4gKiB0aGlzLnRpbGVTaXplLCB6b29tZWRDb29yZC5yb3cgKiB0aGlzLnRpbGVTaXplLCAwLCAxXTtcbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KHAsIHAsIHRoaXMucGl4ZWxNYXRyaXgpO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHBbMF0gLyBwWzNdLCBwWzFdIC8gcFszXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb3NNYXRyaXggdGhhdCwgZ2l2ZW4gYSB0aWxlIGNvb3JkaW5hdGUsIHdvdWxkIGJlIHVzZWQgdG8gZGlzcGxheSB0aGUgdGlsZSBvbiBhIG1hcC5cbiAgICAgKiBAcGFyYW0ge1Vud3JhcHBlZFRpbGVJRH0gdW53cmFwcGVkVGlsZUlEO1xuICAgICAqL1xuICAgIGNhbGN1bGF0ZVBvc01hdHJpeCh1bndyYXBwZWRUaWxlSUQ6IFVud3JhcHBlZFRpbGVJRCwgYWxpZ25lZDogYm9vbGVhbiA9IGZhbHNlKTogRmxvYXQzMkFycmF5IHtcbiAgICAgICAgY29uc3QgcG9zTWF0cml4S2V5ID0gdW53cmFwcGVkVGlsZUlELmtleTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSBhbGlnbmVkID8gdGhpcy5fYWxpZ25lZFBvc01hdHJpeENhY2hlIDogdGhpcy5fcG9zTWF0cml4Q2FjaGU7XG4gICAgICAgIGlmIChjYWNoZVtwb3NNYXRyaXhLZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVbcG9zTWF0cml4S2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhbm9uaWNhbCA9IHVud3JhcHBlZFRpbGVJRC5jYW5vbmljYWw7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy53b3JsZFNpemUgLyB0aGlzLnpvb21TY2FsZShjYW5vbmljYWwueik7XG4gICAgICAgIGNvbnN0IHVud3JhcHBlZFggPSBjYW5vbmljYWwueCArIE1hdGgucG93KDIsIGNhbm9uaWNhbC56KSAqIHVud3JhcHBlZFRpbGVJRC53cmFwO1xuXG4gICAgICAgIGNvbnN0IHBvc01hdHJpeCA9IG1hdDQuaWRlbnRpdHkobmV3IEZsb2F0NjRBcnJheSgxNikpO1xuICAgICAgICBtYXQ0LnRyYW5zbGF0ZShwb3NNYXRyaXgsIHBvc01hdHJpeCwgW3Vud3JhcHBlZFggKiBzY2FsZSwgY2Fub25pY2FsLnkgKiBzY2FsZSwgMF0pO1xuICAgICAgICBtYXQ0LnNjYWxlKHBvc01hdHJpeCwgcG9zTWF0cml4LCBbc2NhbGUgLyBFWFRFTlQsIHNjYWxlIC8gRVhURU5ULCAxXSk7XG4gICAgICAgIG1hdDQubXVsdGlwbHkocG9zTWF0cml4LCBhbGlnbmVkID8gdGhpcy5hbGlnbmVkUHJvak1hdHJpeCA6IHRoaXMucHJvak1hdHJpeCwgcG9zTWF0cml4KTtcblxuICAgICAgICBjYWNoZVtwb3NNYXRyaXhLZXldID0gbmV3IEZsb2F0MzJBcnJheShwb3NNYXRyaXgpO1xuICAgICAgICByZXR1cm4gY2FjaGVbcG9zTWF0cml4S2V5XTtcbiAgICB9XG5cbiAgICBfY29uc3RyYWluKCkge1xuICAgICAgICBpZiAoIXRoaXMuY2VudGVyIHx8ICF0aGlzLndpZHRoIHx8ICF0aGlzLmhlaWdodCB8fCB0aGlzLl9jb25zdHJhaW5pbmcpIHJldHVybjtcblxuICAgICAgICB0aGlzLl9jb25zdHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgICAgIGxldCBtaW5ZID0gLTkwO1xuICAgICAgICBsZXQgbWF4WSA9IDkwO1xuICAgICAgICBsZXQgbWluWCA9IC0xODA7XG4gICAgICAgIGxldCBtYXhYID0gMTgwO1xuICAgICAgICBsZXQgc3ksIHN4LCB4MiwgeTI7XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnNpemUsXG4gICAgICAgICAgICB1bm1vZGlmaWVkID0gdGhpcy5fdW5tb2RpZmllZDtcblxuICAgICAgICBpZiAodGhpcy5sYXRSYW5nZSkge1xuICAgICAgICAgICAgY29uc3QgbGF0UmFuZ2UgPSB0aGlzLmxhdFJhbmdlO1xuICAgICAgICAgICAgbWluWSA9IHRoaXMubGF0WShsYXRSYW5nZVsxXSk7XG4gICAgICAgICAgICBtYXhZID0gdGhpcy5sYXRZKGxhdFJhbmdlWzBdKTtcbiAgICAgICAgICAgIHN5ID0gbWF4WSAtIG1pblkgPCBzaXplLnkgPyBzaXplLnkgLyAobWF4WSAtIG1pblkpIDogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmxuZ1JhbmdlKSB7XG4gICAgICAgICAgICBjb25zdCBsbmdSYW5nZSA9IHRoaXMubG5nUmFuZ2U7XG4gICAgICAgICAgICBtaW5YID0gdGhpcy5sbmdYKGxuZ1JhbmdlWzBdKTtcbiAgICAgICAgICAgIG1heFggPSB0aGlzLmxuZ1gobG5nUmFuZ2VbMV0pO1xuICAgICAgICAgICAgc3ggPSBtYXhYIC0gbWluWCA8IHNpemUueCA/IHNpemUueCAvIChtYXhYIC0gbWluWCkgOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaG93IG11Y2ggdGhlIG1hcCBzaG91bGQgc2NhbGUgdG8gZml0IHRoZSBzY3JlZW4gaW50byBnaXZlbiBsYXRpdHVkZS9sb25naXR1ZGUgcmFuZ2VzXG4gICAgICAgIGNvbnN0IHMgPSBNYXRoLm1heChzeCB8fCAwLCBzeSB8fCAwKTtcblxuICAgICAgICBpZiAocykge1xuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSB0aGlzLnVucHJvamVjdChuZXcgUG9pbnQoXG4gICAgICAgICAgICAgICAgc3ggPyAobWF4WCArIG1pblgpIC8gMiA6IHRoaXMueCxcbiAgICAgICAgICAgICAgICBzeSA/IChtYXhZICsgbWluWSkgLyAyIDogdGhpcy55KSk7XG4gICAgICAgICAgICB0aGlzLnpvb20gKz0gdGhpcy5zY2FsZVpvb20ocyk7XG4gICAgICAgICAgICB0aGlzLl91bm1vZGlmaWVkID0gdW5tb2RpZmllZDtcbiAgICAgICAgICAgIHRoaXMuX2NvbnN0cmFpbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubGF0UmFuZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0aGlzLnksXG4gICAgICAgICAgICAgICAgaDIgPSBzaXplLnkgLyAyO1xuXG4gICAgICAgICAgICBpZiAoeSAtIGgyIDwgbWluWSkgeTIgPSBtaW5ZICsgaDI7XG4gICAgICAgICAgICBpZiAoeSArIGgyID4gbWF4WSkgeTIgPSBtYXhZIC0gaDI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5sbmdSYW5nZSkge1xuICAgICAgICAgICAgY29uc3QgeCA9IHRoaXMueCxcbiAgICAgICAgICAgICAgICB3MiA9IHNpemUueCAvIDI7XG5cbiAgICAgICAgICAgIGlmICh4IC0gdzIgPCBtaW5YKSB4MiA9IG1pblggKyB3MjtcbiAgICAgICAgICAgIGlmICh4ICsgdzIgPiBtYXhYKSB4MiA9IG1heFggLSB3MjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhbiB0aGUgbWFwIGlmIHRoZSBzY3JlZW4gZ29lcyBvZmYgdGhlIHJhbmdlXG4gICAgICAgIGlmICh4MiAhPT0gdW5kZWZpbmVkIHx8IHkyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2VudGVyID0gdGhpcy51bnByb2plY3QobmV3IFBvaW50KFxuICAgICAgICAgICAgICAgIHgyICE9PSB1bmRlZmluZWQgPyB4MiA6IHRoaXMueCxcbiAgICAgICAgICAgICAgICB5MiAhPT0gdW5kZWZpbmVkID8geTIgOiB0aGlzLnkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSB1bm1vZGlmaWVkO1xuICAgICAgICB0aGlzLl9jb25zdHJhaW5pbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBfY2FsY01hdHJpY2VzKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGVpZ2h0KSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlID0gMC41IC8gTWF0aC50YW4odGhpcy5fZm92IC8gMikgKiB0aGlzLmhlaWdodDtcblxuICAgICAgICAvLyBGaW5kIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgcG9pbnQgW3dpZHRoLzIsIGhlaWdodC8yXSB0byB0aGVcbiAgICAgICAgLy8gY2VudGVyIHRvcCBwb2ludCBbd2lkdGgvMiwgMF0gaW4gWiB1bml0cywgdXNpbmcgdGhlIGxhdyBvZiBzaW5lcy5cbiAgICAgICAgLy8gMSBaIHVuaXQgaXMgZXF1aXZhbGVudCB0byAxIGhvcml6b250YWwgcHggYXQgdGhlIGNlbnRlciBvZiB0aGUgbWFwXG4gICAgICAgIC8vICh0aGUgZGlzdGFuY2UgYmV0d2Vlblt3aWR0aC8yLCBoZWlnaHQvMl0gYW5kIFt3aWR0aC8yICsgMSwgaGVpZ2h0LzJdKVxuICAgICAgICBjb25zdCBoYWxmRm92ID0gdGhpcy5fZm92IC8gMjtcbiAgICAgICAgY29uc3QgZ3JvdW5kQW5nbGUgPSBNYXRoLlBJIC8gMiArIHRoaXMuX3BpdGNoO1xuICAgICAgICBjb25zdCB0b3BIYWxmU3VyZmFjZURpc3RhbmNlID0gTWF0aC5zaW4oaGFsZkZvdikgKiB0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgLyBNYXRoLnNpbihNYXRoLlBJIC0gZ3JvdW5kQW5nbGUgLSBoYWxmRm92KTtcbiAgICAgICAgY29uc3QgeCA9IHRoaXMueCwgeSA9IHRoaXMueTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgeiBkaXN0YW5jZSBvZiB0aGUgZmFydGhlc3QgZnJhZ21lbnQgdGhhdCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICAgIGNvbnN0IGZ1cnRoZXN0RGlzdGFuY2UgPSBNYXRoLmNvcyhNYXRoLlBJIC8gMiAtIHRoaXMuX3BpdGNoKSAqIHRvcEhhbGZTdXJmYWNlRGlzdGFuY2UgKyB0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U7XG4gICAgICAgIC8vIEFkZCBhIGJpdCBleHRyYSB0byBhdm9pZCBwcmVjaXNpb24gcHJvYmxlbXMgd2hlbiBhIGZyYWdtZW50J3MgZGlzdGFuY2UgaXMgZXhhY3RseSBgZnVydGhlc3REaXN0YW5jZWBcbiAgICAgICAgY29uc3QgZmFyWiA9IGZ1cnRoZXN0RGlzdGFuY2UgKiAxLjAxO1xuXG4gICAgICAgIC8vIG1hdHJpeCBmb3IgY29udmVyc2lvbiBmcm9tIGxvY2F0aW9uIHRvIEdMIGNvb3JkaW5hdGVzICgtMSAuLiAxKVxuICAgICAgICBsZXQgbSA9IG5ldyBGbG9hdDY0QXJyYXkoMTYpO1xuICAgICAgICBtYXQ0LnBlcnNwZWN0aXZlKG0sIHRoaXMuX2ZvdiwgdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0LCAxLCBmYXJaKTtcblxuICAgICAgICBtYXQ0LnNjYWxlKG0sIG0sIFsxLCAtMSwgMV0pO1xuICAgICAgICBtYXQ0LnRyYW5zbGF0ZShtLCBtLCBbMCwgMCwgLXRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZV0pO1xuICAgICAgICBtYXQ0LnJvdGF0ZVgobSwgbSwgdGhpcy5fcGl0Y2gpO1xuICAgICAgICBtYXQ0LnJvdGF0ZVoobSwgbSwgdGhpcy5hbmdsZSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKG0sIG0sIFsteCwgLXksIDBdKTtcblxuICAgICAgICAvLyBzY2FsZSB2ZXJ0aWNhbGx5IHRvIG1ldGVycyBwZXIgcGl4ZWwgKGludmVyc2Ugb2YgZ3JvdW5kIHJlc29sdXRpb24pOlxuICAgICAgICAvLyB3b3JsZFNpemUgLyAoY2lyY3VtZmVyZW5jZU9mRWFydGggKiBjb3MobGF0ICogz4AgLyAxODApKVxuICAgICAgICBjb25zdCB2ZXJ0aWNhbFNjYWxlID0gdGhpcy53b3JsZFNpemUgLyAoMiAqIE1hdGguUEkgKiA2Mzc4MTM3ICogTWF0aC5hYnMoTWF0aC5jb3ModGhpcy5jZW50ZXIubGF0ICogKE1hdGguUEkgLyAxODApKSkpO1xuICAgICAgICBtYXQ0LnNjYWxlKG0sIG0sIFsxLCAxLCB2ZXJ0aWNhbFNjYWxlLCAxXSk7XG5cbiAgICAgICAgdGhpcy5wcm9qTWF0cml4ID0gbTtcblxuICAgICAgICAvLyBNYWtlIGEgc2Vjb25kIHByb2plY3Rpb24gbWF0cml4IHRoYXQgaXMgYWxpZ25lZCB0byBhIHBpeGVsIGdyaWQgZm9yIHJlbmRlcmluZyByYXN0ZXIgdGlsZXMuXG4gICAgICAgIC8vIFdlJ3JlIHJvdW5kaW5nIHRoZSAoZmxvYXRpbmcgcG9pbnQpIHgveSB2YWx1ZXMgdG8gYWNoaWV2ZSB0byBhdm9pZCByZW5kZXJpbmcgcmFzdGVyIGltYWdlcyB0byBmcmFjdGlvbmFsXG4gICAgICAgIC8vIGNvb3JkaW5hdGVzLiBBZGRpdGlvbmFsbHksIHdlIGFkanVzdCBieSBoYWxmIGEgcGl4ZWwgaW4gZWl0aGVyIGRpcmVjdGlvbiBpbiBjYXNlIHRoYXQgdmlld3BvcnQgZGltZW5zaW9uXG4gICAgICAgIC8vIGlzIGFuIG9kZCBpbnRlZ2VyIHRvIHByZXNlcnZlIHJlbmRlcmluZyB0byB0aGUgcGl4ZWwgZ3JpZC4gV2UncmUgcm90YXRpbmcgdGhpcyBzaGlmdCBiYXNlZCBvbiB0aGUgYW5nbGVcbiAgICAgICAgLy8gb2YgdGhlIHRyYW5zZm9ybWF0aW9uIHNvIHRoYXQgMMKwLCA5MMKwLCAxODDCsCwgYW5kIDI3MMKwIHJhc3RlcnMgYXJlIGNyaXNwLCBhbmQgYWRqdXN0IHRoZSBzaGlmdCBzbyB0aGF0XG4gICAgICAgIC8vIGl0IGlzIGFsd2F5cyA8PSAwLjUgcGl4ZWxzLlxuICAgICAgICBjb25zdCB4U2hpZnQgPSAodGhpcy53aWR0aCAlIDIpIC8gMiwgeVNoaWZ0ID0gKHRoaXMuaGVpZ2h0ICUgMikgLyAyLFxuICAgICAgICAgICAgYW5nbGVDb3MgPSBNYXRoLmNvcyh0aGlzLmFuZ2xlKSwgYW5nbGVTaW4gPSBNYXRoLnNpbih0aGlzLmFuZ2xlKSxcbiAgICAgICAgICAgIGR4ID0geCAtIE1hdGgucm91bmQoeCkgKyBhbmdsZUNvcyAqIHhTaGlmdCArIGFuZ2xlU2luICogeVNoaWZ0LFxuICAgICAgICAgICAgZHkgPSB5IC0gTWF0aC5yb3VuZCh5KSArIGFuZ2xlQ29zICogeVNoaWZ0ICsgYW5nbGVTaW4gKiB4U2hpZnQ7XG4gICAgICAgIGNvbnN0IGFsaWduZWRNID0gbmV3IEZsb2F0NjRBcnJheShtKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUoYWxpZ25lZE0sIGFsaWduZWRNLCBbIGR4ID4gMC41ID8gZHggLSAxIDogZHgsIGR5ID4gMC41ID8gZHkgLSAxIDogZHksIDAgXSk7XG4gICAgICAgIHRoaXMuYWxpZ25lZFByb2pNYXRyaXggPSBhbGlnbmVkTTtcblxuICAgICAgICAvLyBtYXRyaXggZm9yIGNvbnZlcnNpb24gZnJvbSBsb2NhdGlvbiB0byBzY3JlZW4gY29vcmRpbmF0ZXNcbiAgICAgICAgbSA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIG1hdDQuc2NhbGUobSwgbSwgW3RoaXMud2lkdGggLyAyLCAtdGhpcy5oZWlnaHQgLyAyLCAxXSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKG0sIG0sIFsxLCAtMSwgMF0pO1xuICAgICAgICB0aGlzLnBpeGVsTWF0cml4ID0gbWF0NC5tdWx0aXBseShuZXcgRmxvYXQ2NEFycmF5KDE2KSwgbSwgdGhpcy5wcm9qTWF0cml4KTtcblxuICAgICAgICAvLyBpbnZlcnNlIG1hdHJpeCBmb3IgY29udmVyc2lvbiBmcm9tIHNjcmVlbiBjb29yZGluYWVzIHRvIGxvY2F0aW9uXG4gICAgICAgIG0gPSBtYXQ0LmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSwgdGhpcy5waXhlbE1hdHJpeCk7XG4gICAgICAgIGlmICghbSkgdGhyb3cgbmV3IEVycm9yKFwiZmFpbGVkIHRvIGludmVydCBtYXRyaXhcIik7XG4gICAgICAgIHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlID0gbTtcblxuICAgICAgICB0aGlzLl9wb3NNYXRyaXhDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9hbGlnbmVkUG9zTWF0cml4Q2FjaGUgPSB7fTtcbiAgICB9XG5cbiAgICBtYXhQaXRjaFNjYWxlRmFjdG9yKCkge1xuICAgICAgICAvLyBjYWxjTWF0cmljZXMgaGFzbid0IHJ1biB5ZXRcbiAgICAgICAgaWYgKCF0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSkgcmV0dXJuIDE7XG5cbiAgICAgICAgY29uc3QgY29vcmQgPSB0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQoMCwgMCkpLnpvb21Ubyh0aGlzLnpvb20pO1xuICAgICAgICBjb25zdCBwID0gW2Nvb3JkLmNvbHVtbiAqIHRoaXMudGlsZVNpemUsIGNvb3JkLnJvdyAqIHRoaXMudGlsZVNpemUsIDAsIDFdO1xuICAgICAgICBjb25zdCB0b3BQb2ludCA9IHZlYzQudHJhbnNmb3JtTWF0NChwLCBwLCB0aGlzLnBpeGVsTWF0cml4KTtcbiAgICAgICAgcmV0dXJuIHRvcFBvaW50WzNdIC8gdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNmb3JtO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgYmluZEFsbCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93JztcbmltcG9ydCB0aHJvdHRsZSBmcm9tICcuLi91dGlsL3Rocm90dGxlJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4vbWFwJztcblxuLypcbiAqIEFkZHMgdGhlIG1hcCdzIHBvc2l0aW9uIHRvIGl0cyBwYWdlJ3MgbG9jYXRpb24gaGFzaC5cbiAqIFBhc3NlZCBhcyBhbiBvcHRpb24gdG8gdGhlIG1hcCBvYmplY3QuXG4gKlxuICogQHJldHVybnMge0hhc2h9IGB0aGlzYFxuICovXG5jbGFzcyBIYXNoIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX3VwZGF0ZUhhc2g6ICgpID0+IFRpbWVvdXRJRDtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25IYXNoQ2hhbmdlJyxcbiAgICAgICAgICAgICdfdXBkYXRlSGFzaCdcbiAgICAgICAgXSwgdGhpcyk7XG5cbiAgICAgICAgLy8gTW9iaWxlIFNhZmFyaSBkb2Vzbid0IGFsbG93IHVwZGF0aW5nIHRoZSBoYXNoIG1vcmUgdGhhbiAxMDAgdGltZXMgcGVyIDMwIHNlY29uZHMuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUhhc2ggPSB0aHJvdHRsZSh0aGlzLl91cGRhdGVIYXNoVW50aHJvdHRsZWQuYmluZCh0aGlzKSwgMzAgKiAxMDAwIC8gMTAwKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIE1hcCBlbGVtZW50IHRvIGxpc3RlbiBmb3IgY29vcmRpbmF0ZSBjaGFuZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwXG4gICAgICogQHJldHVybnMge0hhc2h9IGB0aGlzYFxuICAgICAqL1xuICAgIGFkZFRvKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCB0aGlzLl9vbkhhc2hDaGFuZ2UsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5fbWFwLm9uKCdtb3ZlZW5kJywgdGhpcy5fdXBkYXRlSGFzaCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogUmVtb3ZlcyBoYXNoXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCB0aGlzLl9vbkhhc2hDaGFuZ2UsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5fbWFwLm9mZignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZUhhc2gpO1xuICAgICAgICBkZWxldGUgdGhpcy5fbWFwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRIYXNoU3RyaW5nKG1hcEZlZWRiYWNrPzogYm9vbGVhbikge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLl9tYXAuZ2V0Q2VudGVyKCksXG4gICAgICAgICAgICB6b29tID0gTWF0aC5yb3VuZCh0aGlzLl9tYXAuZ2V0Wm9vbSgpICogMTAwKSAvIDEwMCxcbiAgICAgICAgICAgIC8vIGRlcml2ZWQgZnJvbSBlcXVhdGlvbjogNTEycHggKiAyXnogLyAzNjAgLyAxMF5kIDwgMC41cHhcbiAgICAgICAgICAgIHByZWNpc2lvbiA9IE1hdGguY2VpbCgoem9vbSAqIE1hdGguTE4yICsgTWF0aC5sb2coNTEyIC8gMzYwIC8gMC41KSkgLyBNYXRoLkxOMTApLFxuICAgICAgICAgICAgbSA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24pLFxuICAgICAgICAgICAgbG5nID0gTWF0aC5yb3VuZChjZW50ZXIubG5nICogbSkgLyBtLFxuICAgICAgICAgICAgbGF0ID0gTWF0aC5yb3VuZChjZW50ZXIubGF0ICogbSkgLyBtLFxuICAgICAgICAgICAgYmVhcmluZyA9IHRoaXMuX21hcC5nZXRCZWFyaW5nKCksXG4gICAgICAgICAgICBwaXRjaCA9IHRoaXMuX21hcC5nZXRQaXRjaCgpO1xuICAgICAgICBsZXQgaGFzaCA9ICcnO1xuICAgICAgICBpZiAobWFwRmVlZGJhY2spIHtcbiAgICAgICAgICAgIC8vIG5ldyBtYXAgZmVlZGJhY2sgc2l0ZSBoYXMgc29tZSBjb25zdHJhaW50cyB0aGF0IGRvbid0IGFsbG93XG4gICAgICAgICAgICAvLyB1cyB0byB1c2UgdGhlIHNhbWUgaGFzaCBmb3JtYXQgYXMgd2UgZG8gZm9yIHRoZSBNYXAgaGFzaCBvcHRpb24uXG4gICAgICAgICAgICBoYXNoICs9IGAjLyR7bG5nfS8ke2xhdH0vJHt6b29tfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYXNoICs9IGAjJHt6b29tfS8ke2xhdH0vJHtsbmd9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiZWFyaW5nIHx8IHBpdGNoKSBoYXNoICs9IChgLyR7TWF0aC5yb3VuZChiZWFyaW5nICogMTApIC8gMTB9YCk7XG4gICAgICAgIGlmIChwaXRjaCkgaGFzaCArPSAoYC8ke01hdGgucm91bmQocGl0Y2gpfWApO1xuICAgICAgICByZXR1cm4gaGFzaDtcbiAgICB9XG5cbiAgICBfb25IYXNoQ2hhbmdlKCkge1xuICAgICAgICBjb25zdCBsb2MgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpLnNwbGl0KCcvJyk7XG4gICAgICAgIGlmIChsb2MubGVuZ3RoID49IDMpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5qdW1wVG8oe1xuICAgICAgICAgICAgICAgIGNlbnRlcjogWytsb2NbMl0sICtsb2NbMV1dLFxuICAgICAgICAgICAgICAgIHpvb206ICtsb2NbMF0sXG4gICAgICAgICAgICAgICAgYmVhcmluZzogKyhsb2NbM10gfHwgMCksXG4gICAgICAgICAgICAgICAgcGl0Y2g6ICsobG9jWzRdIHx8IDApXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfdXBkYXRlSGFzaFVudGhyb3R0bGVkKCkge1xuICAgICAgICBjb25zdCBoYXNoID0gdGhpcy5nZXRIYXNoU3RyaW5nKCk7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh3aW5kb3cuaGlzdG9yeS5zdGF0ZSwgJycsIGhhc2gpO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBIYXNoO1xuIiwiLy8gQGZsb3dcblxuLyoqXG4gKiBUaHJvdHRsZSB0aGUgZ2l2ZW4gZnVuY3Rpb24gdG8gcnVuIGF0IG1vc3QgZXZlcnkgYHBlcmlvZGAgbWlsbGlzZWNvbmRzLlxuIFRocm90dGxlIHRoZSBnaXZlbiBmdW5jdGlvbiB0byBydW4gYXQgbW9zdCBldmVyeSBwZXJpb2QgbWlsbGlzZWNvbmRzLlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGhyb3R0bGUoZm46ICgpID0+IHZvaWQsIHRpbWU6IG51bWJlcik6ICgpID0+IFRpbWVvdXRJRCB7XG4gICAgbGV0IHBlbmRpbmcgPSBmYWxzZTtcbiAgICBsZXQgdGltZXJJZDogVGltZW91dElEID0gKDA6IGFueSk7XG5cbiAgICBjb25zdCBsYXRlciA9ICgpID0+IHtcbiAgICAgICAgdGltZXJJZCA9ICgwOiBhbnkpO1xuICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KGxhdGVyLCB0aW1lKTtcbiAgICAgICAgICAgIHBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBwZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aW1lcklkKSB7XG4gICAgICAgICAgICBsYXRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aW1lcklkO1xuICAgIH07XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBFdmVudCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5cbmltcG9ydCBET00gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4vbWFwJztcbmltcG9ydCB0eXBlIExuZ0xhdCBmcm9tICcuLi9nZW8vbG5nX2xhdCc7XG5pbXBvcnQgdHlwZSBMbmdMYXRCb3VuZHMgZnJvbSAnLi4vZ2VvL2xuZ19sYXRfYm91bmRzJztcblxuLyoqXG4gKiBgTWFwTW91c2VFdmVudGAgaXMgdGhlIGV2ZW50IHR5cGUgZm9yIG1vdXNlLXJlbGF0ZWQgbWFwIGV2ZW50cy5cbiAqIEBleHRlbmRzIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBjbGFzcyBNYXBNb3VzZUV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAgIC8qKlxuICAgICAqIFRoZSBldmVudCB0eXBlLlxuICAgICAqL1xuICAgIHR5cGU6ICdtb3VzZWRvd24nXG4gICAgICAgIHwgJ21vdXNldXAnXG4gICAgICAgIHwgJ2NsaWNrJ1xuICAgICAgICB8ICdkYmxjbGljaydcbiAgICAgICAgfCAnbW91c2Vtb3ZlJ1xuICAgICAgICB8ICdtb3VzZW92ZXInXG4gICAgICAgIHwgJ21vdXNlZW50ZXInXG4gICAgICAgIHwgJ21vdXNlbGVhdmUnXG4gICAgICAgIHwgJ21vdXNlb3ZlcidcbiAgICAgICAgfCAnbW91c2VvdXQnXG4gICAgICAgIHwgJ2NvbnRleHRtZW51JztcblxuICAgIC8qKlxuICAgICAqIFRoZSBgTWFwYCBvYmplY3QgdGhhdCBmaXJlZCB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgbWFwOiBNYXA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgRE9NIGV2ZW50IHdoaWNoIGNhdXNlZCB0aGUgbWFwIGV2ZW50LlxuICAgICAqL1xuICAgIG9yaWdpbmFsRXZlbnQ6IE1vdXNlRXZlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGl4ZWwgY29vcmRpbmF0ZXMgb2YgdGhlIG1vdXNlIGN1cnNvciwgcmVsYXRpdmUgdG8gdGhlIG1hcCBhbmQgbWVhc3VyZWQgZnJvbSB0aGUgdG9wIGxlZnQgY29ybmVyLlxuICAgICAqL1xuICAgIHBvaW50OiBQb2ludDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBnZW9ncmFwaGljIGxvY2F0aW9uIG9uIHRoZSBtYXAgb2YgdGhlIG1vdXNlIGN1cnNvci5cbiAgICAgKi9cbiAgICBsbmdMYXQ6IExuZ0xhdDtcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHN1YnNlcXVlbnQgZGVmYXVsdCBwcm9jZXNzaW5nIG9mIHRoZSBldmVudCBieSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIHByZXZlbnQgdGhlIGZvbGxvd2luZyBkZWZhdWx0IG1hcCBiZWhhdmlvcnM6XG4gICAgICpcbiAgICAgKiAgICogT24gYG1vdXNlZG93bmAgZXZlbnRzLCB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIERyYWdQYW5IYW5kbGVyfVxuICAgICAqICAgKiBPbiBgbW91c2Vkb3duYCBldmVudHMsIHRoZSBiZWhhdmlvciBvZiB7QGxpbmsgRHJhZ1JvdGF0ZUhhbmRsZXJ9XG4gICAgICogICAqIE9uIGBtb3VzZWRvd25gIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBCb3hab29tSGFuZGxlcn1cbiAgICAgKiAgICogT24gYGRibGNsaWNrYCBldmVudHMsIHRoZSBiZWhhdmlvciBvZiB7QGxpbmsgRG91YmxlQ2xpY2tab29tSGFuZGxlcn1cbiAgICAgKlxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgYHByZXZlbnREZWZhdWx0YCBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICovXG4gICAgZ2V0IGRlZmF1bHRQcmV2ZW50ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkO1xuICAgIH1cblxuICAgIF9kZWZhdWx0UHJldmVudGVkOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcsIG1hcDogTWFwLCBvcmlnaW5hbEV2ZW50OiBNb3VzZUV2ZW50LCBkYXRhOiBPYmplY3QgPSB7fSkge1xuICAgICAgICBjb25zdCBwb2ludCA9IERPTS5tb3VzZVBvcyhtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCksIG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICBjb25zdCBsbmdMYXQgPSBtYXAudW5wcm9qZWN0KHBvaW50KTtcbiAgICAgICAgc3VwZXIodHlwZSwgZXh0ZW5kKHsgcG9pbnQsIGxuZ0xhdCwgb3JpZ2luYWxFdmVudCB9LCBkYXRhKSk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICB9XG59XG5cbi8qKlxuICogYE1hcFRvdWNoRXZlbnRgIGlzIHRoZSBldmVudCB0eXBlIGZvciB0b3VjaC1yZWxhdGVkIG1hcCBldmVudHMuXG4gKiBAZXh0ZW5kcyB7T2JqZWN0fVxuICovXG5leHBvcnQgY2xhc3MgTWFwVG91Y2hFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgICAvKipcbiAgICAgKiBUaGUgZXZlbnQgdHlwZS5cbiAgICAgKi9cbiAgICB0eXBlOiAndG91Y2hzdGFydCdcbiAgICAgICAgfCAndG91Y2hlbmQnXG4gICAgICAgIHwgJ3RvdWNoY2FuY2VsJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBgTWFwYCBvYmplY3QgdGhhdCBmaXJlZCB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgbWFwOiBNYXA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgRE9NIGV2ZW50IHdoaWNoIGNhdXNlZCB0aGUgbWFwIGV2ZW50LlxuICAgICAqL1xuICAgIG9yaWdpbmFsRXZlbnQ6IFRvdWNoRXZlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ2VvZ3JhcGhpYyBsb2NhdGlvbiBvbiB0aGUgbWFwIG9mIHRoZSBjZW50ZXIgb2YgdGhlIHRvdWNoIGV2ZW50IHBvaW50cy5cbiAgICAgKi9cbiAgICBsbmdMYXQ6IExuZ0xhdDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXhlbCBjb29yZGluYXRlcyBvZiB0aGUgY2VudGVyIG9mIHRoZSB0b3VjaCBldmVudCBwb2ludHMsIHJlbGF0aXZlIHRvIHRoZSBtYXAgYW5kIG1lYXN1cmVkIGZyb20gdGhlIHRvcCBsZWZ0XG4gICAgICogY29ybmVyLlxuICAgICAqL1xuICAgIHBvaW50OiBQb2ludDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiBwaXhlbCBjb29yZGluYXRlcyBjb3JyZXNwb25kaW5nIHRvIGFcbiAgICAgKiBbdG91Y2ggZXZlbnQncyBgdG91Y2hlc2BdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50L3RvdWNoZXMpIHByb3BlcnR5LlxuICAgICAqL1xuICAgIHBvaW50czogQXJyYXk8UG9pbnQ+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbnMgb24gdGhlIG1hcCBjb3JyZXNwb25kaW5nIHRvIGFcbiAgICAgKiBbdG91Y2ggZXZlbnQncyBgdG91Y2hlc2BdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50L3RvdWNoZXMpIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGxuZ0xhdHM6IEFycmF5PExuZ0xhdD47XG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50cyBzdWJzZXF1ZW50IGRlZmF1bHQgcHJvY2Vzc2luZyBvZiB0aGUgZXZlbnQgYnkgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBwcmV2ZW50IHRoZSBmb2xsb3dpbmcgZGVmYXVsdCBtYXAgYmVoYXZpb3JzOlxuICAgICAqXG4gICAgICogICAqIE9uIGB0b3VjaHN0YXJ0YCBldmVudHMsIHRoZSBiZWhhdmlvciBvZiB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9XG4gICAgICogICAqIE9uIGB0b3VjaHN0YXJ0YCBldmVudHMsIHRoZSBiZWhhdmlvciBvZiB7QGxpbmsgVG91Y2hab29tUm90YXRlSGFuZGxlcn1cbiAgICAgKlxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgYHByZXZlbnREZWZhdWx0YCBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICovXG4gICAgZ2V0IGRlZmF1bHRQcmV2ZW50ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkO1xuICAgIH1cblxuICAgIF9kZWZhdWx0UHJldmVudGVkOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcsIG1hcDogTWFwLCBvcmlnaW5hbEV2ZW50OiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IERPTS50b3VjaFBvcyhtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCksIG9yaWdpbmFsRXZlbnQpO1xuICAgICAgICBjb25zdCBsbmdMYXRzID0gcG9pbnRzLm1hcCgodCkgPT4gbWFwLnVucHJvamVjdCh0KSk7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzLnJlZHVjZSgocHJldiwgY3VyciwgaSwgYXJyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcHJldi5hZGQoY3Vyci5kaXYoYXJyLmxlbmd0aCkpO1xuICAgICAgICB9LCBuZXcgUG9pbnQoMCwgMCkpO1xuICAgICAgICBjb25zdCBsbmdMYXQgPSBtYXAudW5wcm9qZWN0KHBvaW50KTtcbiAgICAgICAgc3VwZXIodHlwZSwgeyBwb2ludHMsIHBvaW50LCBsbmdMYXRzLCBsbmdMYXQsIG9yaWdpbmFsRXZlbnQgfSk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICB9XG59XG5cblxuLyoqXG4gKiBgTWFwV2hlZWxFdmVudGAgaXMgdGhlIGV2ZW50IHR5cGUgZm9yIHRoZSBgd2hlZWxgIG1hcCBldmVudC5cbiAqIEBleHRlbmRzIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBjbGFzcyBNYXBXaGVlbEV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAgIC8qKlxuICAgICAqIFRoZSBldmVudCB0eXBlLlxuICAgICAqL1xuICAgIHR5cGU6ICd3aGVlbCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYE1hcGAgb2JqZWN0IHRoYXQgZmlyZWQgdGhlIGV2ZW50LlxuICAgICAqL1xuICAgIG1hcDogTWFwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIERPTSBldmVudCB3aGljaCBjYXVzZWQgdGhlIG1hcCBldmVudC5cbiAgICAgKi9cbiAgICBvcmlnaW5hbEV2ZW50OiBXaGVlbEV2ZW50O1xuXG4gICAgLyoqXG4gICAgICogUHJldmVudHMgc3Vic2VxdWVudCBkZWZhdWx0IHByb2Nlc3Npbmcgb2YgdGhlIGV2ZW50IGJ5IHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIHdpbGwgcHJldmVudCB0aGUgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBTY3JvbGxab29tSGFuZGxlcn0uXG4gICAgICovXG4gICAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiBgcHJldmVudERlZmF1bHRgIGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgKi9cbiAgICBnZXQgZGVmYXVsdFByZXZlbnRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgfVxuXG4gICAgX2RlZmF1bHRQcmV2ZW50ZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgbWFwOiBNYXAsIG9yaWdpbmFsRXZlbnQ6IFdoZWVsRXZlbnQpIHtcbiAgICAgICAgc3VwZXIodHlwZSwgeyBvcmlnaW5hbEV2ZW50IH0pO1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcEJveFpvb21FdmVudFxuICogQHByb3BlcnR5IHtNb3VzZUV2ZW50fSBvcmlnaW5hbEV2ZW50XG4gKiBAcHJvcGVydHkge0xuZ0xhdEJvdW5kc30gYm94Wm9vbUJvdW5kcyBUaGUgYm91bmRpbmcgYm94IG9mIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24uXG4gKiAgIFRoaXMgcHJvcGVydHkgaXMgb25seSBwcm92aWRlZCBmb3IgYGJveHpvb21lbmRgIGV2ZW50cy5cbiAqL1xuZXhwb3J0IHR5cGUgTWFwQm94Wm9vbUV2ZW50ID0ge1xuICAgIHR5cGU6ICdib3h6b29tc3RhcnQnXG4gICAgICAgIHwgJ2JveHpvb21lbmQnXG4gICAgICAgIHwgJ2JveHpvb21jYW5jZWwnLFxuICAgIG1hcDogTWFwLFxuICAgIG9yaWdpbmFsRXZlbnQ6IE1vdXNlRXZlbnQsXG4gICAgYm94Wm9vbUJvdW5kczogTG5nTGF0Qm91bmRzXG59O1xuXG4vKipcbiAqIEEgYE1hcERhdGFFdmVudGAgb2JqZWN0IGlzIGVtaXR0ZWQgd2l0aCB0aGUge0BsaW5rIE1hcC5ldmVudDpkYXRhfVxuICogYW5kIHtAbGluayBNYXAuZXZlbnQ6ZGF0YWxvYWRpbmd9IGV2ZW50cy4gUG9zc2libGUgdmFsdWVzIGZvclxuICogYGRhdGFUeXBlYHMgYXJlOlxuICpcbiAqIC0gYCdzb3VyY2UnYDogVGhlIG5vbi10aWxlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIGFueSBzb3VyY2VcbiAqIC0gYCdzdHlsZSdgOiBUaGUgW3N0eWxlXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLykgdXNlZCBieSB0aGUgbWFwXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gTWFwRGF0YUV2ZW50XG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkYXRhVHlwZSBUaGUgdHlwZSBvZiBkYXRhIHRoYXQgaGFzIGNoYW5nZWQuIE9uZSBvZiBgJ3NvdXJjZSdgLCBgJ3N0eWxlJ2AuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpc1NvdXJjZUxvYWRlZF0gVHJ1ZSBpZiB0aGUgZXZlbnQgaGFzIGEgYGRhdGFUeXBlYCBvZiBgc291cmNlYCBhbmQgdGhlIHNvdXJjZSBoYXMgbm8gb3V0c3RhbmRpbmcgbmV0d29yayByZXF1ZXN0cy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbc291cmNlXSBUaGUgW3N0eWxlIHNwZWMgcmVwcmVzZW50YXRpb24gb2YgdGhlIHNvdXJjZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jc291cmNlcykgaWYgdGhlIGV2ZW50IGhhcyBhIGBkYXRhVHlwZWAgb2YgYHNvdXJjZWAuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3NvdXJjZURhdGFUeXBlXSBJbmNsdWRlZCBpZiB0aGUgZXZlbnQgaGFzIGEgYGRhdGFUeXBlYCBvZiBgc291cmNlYCBhbmQgdGhlIGV2ZW50IHNpZ25hbHNcbiAqIHRoYXQgaW50ZXJuYWwgZGF0YSBoYXMgYmVlbiByZWNlaXZlZCBvciBjaGFuZ2VkLiBQb3NzaWJsZSB2YWx1ZXMgYXJlIGBtZXRhZGF0YWAgYW5kIGBjb250ZW50YC5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbdGlsZV0gVGhlIHRpbGUgYmVpbmcgbG9hZGVkIG9yIGNoYW5nZWQsIGlmIHRoZSBldmVudCBoYXMgYSBgZGF0YVR5cGVgIG9mIGBzb3VyY2VgIGFuZFxuICogdGhlIGV2ZW50IGlzIHJlbGF0ZWQgdG8gbG9hZGluZyBvZiBhIHRpbGUuXG4gKiBAcHJvcGVydHkge0Nvb3JkaW5hdGV9IFtjb29yZF0gVGhlIGNvb3JkaW5hdGUgb2YgdGhlIHRpbGUgaWYgdGhlIGV2ZW50IGhhcyBhIGBkYXRhVHlwZWAgb2YgYHNvdXJjZWAgYW5kXG4gKiB0aGUgZXZlbnQgaXMgcmVsYXRlZCB0byBsb2FkaW5nIG9mIGEgdGlsZS5cbiAqL1xuZXhwb3J0IHR5cGUgTWFwRGF0YUV2ZW50ID0ge1xuICAgIHR5cGU6IHN0cmluZyxcbiAgICBkYXRhVHlwZTogc3RyaW5nXG59O1xuXG5leHBvcnQgdHlwZSBNYXBDb250ZXh0RXZlbnQgPSB7XG4gICAgdHlwZTogJ3dlYmdsY29udGV4dGxvc3QnIHwgJ3dlYmdsY29udGV4dHJlc3RvcmVkJyxcbiAgICBvcmlnaW5hbEV2ZW50OiBXZWJHTENvbnRleHRFdmVudFxufVxuXG5leHBvcnQgdHlwZSBNYXBFdmVudCA9XG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50aW5nIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBwcmVzc2VkIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlZG93blxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKiBAc2VlIFtIaWdobGlnaHQgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3VzaW5nLWJveC1xdWVyeXJlbmRlcmVkZmVhdHVyZXMvKVxuICAgICAqIEBzZWUgW0NyZWF0ZSBhIGRyYWdnYWJsZSBwb2ludF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHwgJ21vdXNlZG93bidcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgcmVsZWFzZWQgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW91c2V1cFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKiBAc2VlIFtIaWdobGlnaHQgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3VzaW5nLWJveC1xdWVyeXJlbmRlcmVkZmVhdHVyZXMvKVxuICAgICAqIEBzZWUgW0NyZWF0ZSBhIGRyYWdnYWJsZSBwb2ludF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHwgJ21vdXNldXAnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlb3ZlclxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKiBAc2VlIFtHZXQgY29vcmRpbmF0ZXMgb2YgdGhlIG1vdXNlIHBvaW50ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbW91c2UtcG9zaXRpb24vKVxuICAgICAqIEBzZWUgW0hpZ2hsaWdodCBmZWF0dXJlcyB1bmRlciB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9ob3Zlci1zdHlsZXMvKVxuICAgICAqIEBzZWUgW0Rpc3BsYXkgYSBwb3B1cCBvbiBob3Zlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1ob3Zlci8pXG4gICAgICovXG4gICAgfCAnbW91c2VvdmVyJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50aW5nIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZW1vdmVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50fSBkYXRhXG4gICAgICogQHNlZSBbR2V0IGNvb3JkaW5hdGVzIG9mIHRoZSBtb3VzZSBwb2ludGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL21vdXNlLXBvc2l0aW9uLylcbiAgICAgKiBAc2VlIFtIaWdobGlnaHQgZmVhdHVyZXMgdW5kZXIgdGhlIG1vdXNlIHBvaW50ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvaG92ZXItc3R5bGVzLylcbiAgICAgKiBAc2VlIFtEaXNwbGF5IGEgcG9wdXAgb24gb3Zlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1ob3Zlci8pXG4gICAgICovXG4gICAgfCAnbW91c2Vtb3ZlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50aW5nIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBhdCB0aGUgc2FtZSBwb2ludCBvbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IGNsaWNrXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqIEBzZWUgW01lYXN1cmUgZGlzdGFuY2VzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL21lYXN1cmUvKVxuICAgICAqIEBzZWUgW0NlbnRlciB0aGUgbWFwIG9uIGEgY2xpY2tlZCBzeW1ib2xdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY2VudGVyLW9uLXN5bWJvbC8pXG4gICAgICovXG4gICAgfCAnY2xpY2snXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIGNsaWNrZWQgdHdpY2UgYXQgdGhlIHNhbWUgcG9pbnQgb24gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCBkYmxjbGlja1xuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdkYmxjbGljaydcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgZW50ZXJzIGEgdmlzaWJsZSBwb3J0aW9uIG9mIGEgc3BlY2lmaWVkIGxheWVyIGZyb21cbiAgICAgKiBvdXRzaWRlIHRoYXQgbGF5ZXIgb3Igb3V0c2lkZSB0aGUgbWFwIGNhbnZhcy4gVGhpcyBldmVudCBjYW4gb25seSBiZSBsaXN0ZW5lZCBmb3IgdmlhIHRoZSB0aHJlZS1hcmd1bWVudFxuICAgICAqIHZlcnNpb24gb2Yge0BsaW5rIE1hcCNvbn0sIHdoZXJlIHRoZSBzZWNvbmQgYXJndW1lbnQgc3BlY2lmaWVzIHRoZSBkZXNpcmVkIGxheWVyLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlZW50ZXJcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnbW91c2VlbnRlcidcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgbGVhdmVzIGEgdmlzaWJsZSBwb3J0aW9uIG9mIGEgc3BlY2lmaWVkIGxheWVyLCBvciBsZWF2ZXNcbiAgICAgKiB0aGUgbWFwIGNhbnZhcy4gVGhpcyBldmVudCBjYW4gb25seSBiZSBsaXN0ZW5lZCBmb3IgdmlhIHRoZSB0aHJlZS1hcmd1bWVudCB2ZXJzaW9uIG9mIHtAbGluayBNYXAjb259LFxuICAgICAqIHdoZXJlIHRoZSBzZWNvbmQgYXJndW1lbnQgc3BlY2lmaWVzIHRoZSBkZXNpcmVkIGxheWVyLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlbGVhdmVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50fSBkYXRhXG4gICAgICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIHVuZGVyIHRoZSBtb3VzZSBwb2ludGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2hvdmVyLXN0eWxlcy8pXG4gICAgICovXG4gICAgfCAnbW91c2VsZWF2ZSdcblxuICAgIC8qKlxuICAgICAqIFN5bm9ueW0gZm9yIGBtb3VzZWVudGVyYC5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZW92ZXJcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnbW91c2VvdmVyJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50IGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBsZWF2ZXMgdGhlIG1hcCdzIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZW91dFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdtb3VzZW91dCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIHJpZ2h0IGJ1dHRvbiBvZiB0aGUgbW91c2UgaXMgY2xpY2tlZCBvciB0aGUgY29udGV4dCBtZW51IGtleSBpcyBwcmVzc2VkIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IGNvbnRleHRtZW51XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2NvbnRleHRtZW51J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFtgd2hlZWxgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvd2hlZWwpIGV2ZW50IG9jY3VycyB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCB3aGVlbFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcFdoZWVsRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICd3aGVlbCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBbYHRvdWNoc3RhcnRgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvdG91Y2hzdGFydCkgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IHRvdWNoc3RhcnRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAndG91Y2hzdGFydCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBbYHRvdWNoZW5kYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3RvdWNoZW5kKSBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgdG91Y2hlbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAndG91Y2hlbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgW2B0b3VjaG1vdmVgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvdG91Y2htb3ZlKSBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgdG91Y2htb3ZlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwVG91Y2hFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3RvdWNobW92ZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBbYHRvdWNoY2FuY2VsYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3RvdWNoY2FuY2VsKSBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgdG91Y2hjYW5jZWxcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAndG91Y2hjYW5jZWwnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBqdXN0IGJlZm9yZSB0aGUgbWFwIGJlZ2lucyBhIHRyYW5zaXRpb24gZnJvbSBvbmVcbiAgICAgKiB2aWV3IHRvIGFub3RoZXIsIGFzIHRoZSByZXN1bHQgb2YgZWl0aGVyIHVzZXIgaW50ZXJhY3Rpb24gb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjanVtcFRvfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3Zlc3RhcnRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHt7b3JpZ2luYWxFdmVudDogRHJhZ0V2ZW50fX0gZGF0YVxuICAgICAqL1xuICAgIHwgJ21vdmVzdGFydCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHJlcGVhdGVkbHkgZHVyaW5nIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24gZnJvbSBvbmUgdmlldyB0b1xuICAgICAqIGFub3RoZXIsIGFzIHRoZSByZXN1bHQgb2YgZWl0aGVyIHVzZXIgaW50ZXJhY3Rpb24gb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZmx5VG99LlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdmVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ21vdmUnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBqdXN0IGFmdGVyIHRoZSBtYXAgY29tcGxldGVzIGEgdHJhbnNpdGlvbiBmcm9tIG9uZVxuICAgICAqIHZpZXcgdG8gYW5vdGhlciwgYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNqdW1wVG99LlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdmVlbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHt7b3JpZ2luYWxFdmVudDogRHJhZ0V2ZW50fX0gZGF0YVxuICAgICAqIEBzZWUgW1BsYXkgbWFwIGxvY2F0aW9ucyBhcyBhIHNsaWRlc2hvd10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wbGF5YmFjay1sb2NhdGlvbnMvKVxuICAgICAqIEBzZWUgW0ZpbHRlciBmZWF0dXJlcyB3aXRoaW4gbWFwIHZpZXddKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLWZlYXR1cmVzLXdpdGhpbi1tYXAtdmlldy8pXG4gICAgICovXG4gICAgfCAnbW92ZWVuZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gc3RhcnRzLiBTZWUge0BsaW5rIERyYWdQYW5IYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBkcmFnc3RhcnRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHt7b3JpZ2luYWxFdmVudDogRHJhZ0V2ZW50fX0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2RyYWdzdGFydCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHJlcGVhdGVkbHkgZHVyaW5nIGEgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uLiBTZWUge0BsaW5rIERyYWdQYW5IYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBkcmFnXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdkcmFnJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBlbmRzLiBTZWUge0BsaW5rIERyYWdQYW5IYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBkcmFnZW5kXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7e29yaWdpbmFsRXZlbnQ6IERyYWdFdmVudH19IGRhdGFcbiAgICAgKi9cbiAgICB8ICdkcmFnZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQganVzdCBiZWZvcmUgdGhlIG1hcCBiZWdpbnMgYSB0cmFuc2l0aW9uIGZyb20gb25lIHpvb20gbGV2ZWwgdG8gYW5vdGhlcixcbiAgICAgKiBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2ZseVRvfS5cbiAgICAgKlxuICAgICAqIEBldmVudCB6b29tc3RhcnRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3pvb21zdGFydCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHJlcGVhdGVkbHkgZHVyaW5nIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24gZnJvbSBvbmUgem9vbSBsZXZlbCB0byBhbm90aGVyLFxuICAgICAqIGFzIHRoZSByZXN1bHQgb2YgZWl0aGVyIHVzZXIgaW50ZXJhY3Rpb24gb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZmx5VG99LlxuICAgICAqXG4gICAgICogQGV2ZW50IHpvb21cbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH0gZGF0YVxuICAgICAqIEBzZWUgW1VwZGF0ZSBhIGNob3JvcGxldGggbGF5ZXIgYnkgem9vbSBsZXZlbF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91cGRhdGluZy1jaG9yb3BsZXRoLylcbiAgICAgKi9cbiAgICB8ICd6b29tJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQganVzdCBhZnRlciB0aGUgbWFwIGNvbXBsZXRlcyBhIHRyYW5zaXRpb24gZnJvbSBvbmUgem9vbSBsZXZlbCB0byBhbm90aGVyLFxuICAgICAqIGFzIHRoZSByZXN1bHQgb2YgZWl0aGVyIHVzZXIgaW50ZXJhY3Rpb24gb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZmx5VG99LlxuICAgICAqXG4gICAgICogQGV2ZW50IHpvb21lbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3pvb21lbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIHN0YXJ0cy4gU2VlIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcm90YXRlc3RhcnRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3JvdGF0ZXN0YXJ0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgcmVwZWF0ZWRseSBkdXJpbmcgYSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24uIFNlZSB7QGxpbmsgRHJhZ1JvdGF0ZUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IHJvdGF0ZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAncm90YXRlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBlbmRzLiBTZWUge0BsaW5rIERyYWdSb3RhdGVIYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCByb3RhdGVlbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3JvdGF0ZWVuZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW5ldmVyIHRoZSBtYXAncyBwaXRjaCAodGlsdCkgYmVnaW5zIGEgY2hhbmdlIGFzXG4gICAgICogdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30gLlxuICAgICAqXG4gICAgICogQGV2ZW50IHBpdGNoc3RhcnRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBFdmVudERhdGF9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdwaXRjaHN0YXJ0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbmV2ZXIgdGhlIG1hcCdzIHBpdGNoICh0aWx0KSBjaGFuZ2VzIGFzLlxuICAgICAqIHRoZSByZXN1bHQgb2YgZWl0aGVyIHVzZXIgaW50ZXJhY3Rpb24gb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZmx5VG99LlxuICAgICAqXG4gICAgICogQGV2ZW50IHBpdGNoXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwRXZlbnREYXRhfSBkYXRhXG4gICAgICovXG4gICAgfCAncGl0Y2gnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgbWFwJ3MgcGl0Y2ggKHRpbHQpIGZpbmlzaGVzIGNoYW5naW5nIGFzXG4gICAgICogdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcGl0Y2hlbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBFdmVudERhdGF9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdwaXRjaGVuZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gc3RhcnRzLiBTZWUge0BsaW5rIEJveFpvb21IYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBib3h6b29tc3RhcnRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBCb3hab29tRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdib3h6b29tc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGVuZHMuICBTZWUge0BsaW5rIEJveFpvb21IYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBib3h6b29tZW5kXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtNYXBCb3hab29tRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdib3h6b29tZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgdXNlciBjYW5jZWxzIGEgXCJib3ggem9vbVwiIGludGVyYWN0aW9uLCBvciB3aGVuIHRoZSBib3VuZGluZyBib3ggZG9lcyBub3QgbWVldCB0aGUgbWluaW11bSBzaXplIHRocmVzaG9sZC5cbiAgICAgKiBTZWUge0BsaW5rIEJveFpvb21IYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBib3h6b29tY2FuY2VsXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwQm94Wm9vbUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnYm94em9vbWNhbmNlbCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBtYXAgaGFzIGJlZW4gcmVzaXplZC5cbiAgICAgKlxuICAgICAqIEBldmVudCByZXNpemVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgfCAncmVzaXplJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgV2ViR0wgY29udGV4dCBpcyBsb3N0LlxuICAgICAqXG4gICAgICogQGV2ZW50IHdlYmdsY29udGV4dGxvc3RcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgfCAnd2ViZ2xjb250ZXh0bG9zdCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgcmVzdG9yZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgd2ViZ2xjb250ZXh0cmVzdG9yZWRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgfCAnd2ViZ2xjb250ZXh0cmVzdG9yZWQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBpbW1lZGlhdGVseSBhZnRlciBhbGwgbmVjZXNzYXJ5IHJlc291cmNlcyBoYXZlIGJlZW4gZG93bmxvYWRlZFxuICAgICAqIGFuZCB0aGUgZmlyc3QgdmlzdWFsbHkgY29tcGxldGUgcmVuZGVyaW5nIG9mIHRoZSBtYXAgaGFzIG9jY3VycmVkLlxuICAgICAqXG4gICAgICogQGV2ZW50IGxvYWRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAc2VlIFtEcmF3IEdlb0pTT04gcG9pbnRzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dlb2pzb24tbWFya2Vycy8pXG4gICAgICogQHNlZSBbQWRkIGxpdmUgcmVhbHRpbWUgZGF0YV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9saXZlLWdlb2pzb24vKVxuICAgICAqIEBzZWUgW0FuaW1hdGUgYSBwb2ludF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hbmltYXRlLXBvaW50LWFsb25nLWxpbmUvKVxuICAgICAqL1xuICAgIHwgJ2xvYWQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuZXZlciB0aGUgbWFwIGlzIGRyYXduIHRvIHRoZSBzY3JlZW4sIGFzIHRoZSByZXN1bHQgb2ZcbiAgICAgKlxuICAgICAqIC0gYSBjaGFuZ2UgdG8gdGhlIG1hcCdzIHBvc2l0aW9uLCB6b29tLCBwaXRjaCwgb3IgYmVhcmluZ1xuICAgICAqIC0gYSBjaGFuZ2UgdG8gdGhlIG1hcCdzIHN0eWxlXG4gICAgICogLSBhIGNoYW5nZSB0byBhIEdlb0pTT04gc291cmNlXG4gICAgICogLSB0aGUgbG9hZGluZyBvZiBhIHZlY3RvciB0aWxlLCBHZW9KU09OIGZpbGUsIGdseXBoLCBvciBzcHJpdGVcbiAgICAgKlxuICAgICAqIEBldmVudCByZW5kZXJcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgfCAncmVuZGVyJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIG1hcCBoYXMgYmVlbiByZW1vdmVkIHdpdGgge0BsaW5rIE1hcC5ldmVudDpyZW1vdmV9LlxuICAgICAqXG4gICAgICogQGV2ZW50IHJlbW92ZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB8ICdyZW1vdmUnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGFuIGVycm9yIG9jY3Vycy4gVGhpcyBpcyBHTCBKUydzIHByaW1hcnkgZXJyb3IgcmVwb3J0aW5nXG4gICAgICogbWVjaGFuaXNtLiBXZSB1c2UgYW4gZXZlbnQgaW5zdGVhZCBvZiBgdGhyb3dgIHRvIGJldHRlciBhY2NvbW1vZGF0ZVxuICAgICAqIGFzeW5jcm9ub3VzIG9wZXJhdGlvbnMuIElmIG5vIGxpc3RlbmVycyBhcmUgYm91bmQgdG8gdGhlIGBlcnJvcmAgZXZlbnQsIHRoZVxuICAgICAqIGVycm9yIHdpbGwgYmUgcHJpbnRlZCB0byB0aGUgY29uc29sZS5cbiAgICAgKlxuICAgICAqIEBldmVudCBlcnJvclxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge3tlcnJvcjoge21lc3NhZ2U6IHN0cmluZ319fSBkYXRhXG4gICAgICovXG4gICAgfCAnZXJyb3InXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGFueSBtYXAgZGF0YSBsb2FkcyBvciBjaGFuZ2VzLiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH1cbiAgICAgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBkYXRhXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwRGF0YUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnZGF0YSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIG1hcCdzIHN0eWxlIGxvYWRzIG9yIGNoYW5nZXMuIFNlZVxuICAgICAqIHtAbGluayBNYXBEYXRhRXZlbnR9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQGV2ZW50IHN0eWxlZGF0YVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcERhdGFFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3N0eWxlZGF0YSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gb25lIG9mIHRoZSBtYXAncyBzb3VyY2VzIGxvYWRzIG9yIGNoYW5nZXMsIGluY2x1ZGluZyBpZiBhIHRpbGUgYmVsb25naW5nXG4gICAgICogdG8gYSBzb3VyY2UgbG9hZHMgb3IgY2hhbmdlcy4gU2VlIHtAbGluayBNYXBEYXRhRXZlbnR9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQGV2ZW50IHNvdXJjZWRhdGFcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBEYXRhRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdzb3VyY2VkYXRhJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhbnkgbWFwIGRhdGEgKHN0eWxlLCBzb3VyY2UsIHRpbGUsIGV0YykgYmVnaW5zIGxvYWRpbmcgb3JcbiAgICAgKiBjaGFuZ2luZyBhc3luY3Jvbm91c2x5LiBBbGwgYGRhdGFsb2FkaW5nYCBldmVudHMgYXJlIGZvbGxvd2VkIGJ5IGEgYGRhdGFgXG4gICAgICogb3IgYGVycm9yYCBldmVudC4gU2VlIHtAbGluayBNYXBEYXRhRXZlbnR9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQGV2ZW50IGRhdGFsb2FkaW5nXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwRGF0YUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnZGF0YWxvYWRpbmcnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSBtYXAncyBzdHlsZSBiZWdpbnMgbG9hZGluZyBvciBjaGFuZ2luZyBhc3luY3Jvbm91c2x5LlxuICAgICAqIEFsbCBgc3R5bGVkYXRhbG9hZGluZ2AgZXZlbnRzIGFyZSBmb2xsb3dlZCBieSBhIGBzdHlsZWRhdGFgXG4gICAgICogb3IgYGVycm9yYCBldmVudC4gU2VlIHtAbGluayBNYXBEYXRhRXZlbnR9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQGV2ZW50IHN0eWxlZGF0YWxvYWRpbmdcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBEYXRhRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdzdHlsZWRhdGFsb2FkaW5nJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBvbmUgb2YgdGhlIG1hcCdzIHNvdXJjZXMgYmVnaW5zIGxvYWRpbmcgb3IgY2hhbmdpbmcgYXN5bmNyb25vdXNseS5cbiAgICAgKiBBbGwgYHNvdXJjZWRhdGFsb2FkaW5nYCBldmVudHMgYXJlIGZvbGxvd2VkIGJ5IGEgYHNvdXJjZWRhdGFgIG9yIGBlcnJvcmAgZXZlbnQuXG4gICAgICogU2VlIHtAbGluayBNYXBEYXRhRXZlbnR9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQGV2ZW50IHNvdXJjZWRhdGFsb2FkaW5nXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwRGF0YUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnc291cmNlZGF0YWxvYWRpbmcnXG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQgc3R5bGUubG9hZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHwgJ3N0eWxlLmxvYWQnO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5cbmltcG9ydCB7IGVhc2UgYXMgX2Vhc2UsIGJpbmRBbGwsIGJlemllciB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi8uLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgeyBudW1iZXIgYXMgaW50ZXJwb2xhdGUgfSBmcm9tICcuLi8uLi9zdHlsZS1zcGVjL3V0aWwvaW50ZXJwb2xhdGUnO1xuaW1wb3J0IExuZ0xhdCBmcm9tICcuLi8uLi9nZW8vbG5nX2xhdCc7XG5pbXBvcnQgeyBFdmVudCB9IGZyb20gJy4uLy4uL3V0aWwvZXZlbnRlZCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuaW1wb3J0IHR5cGUgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSB7VGFza0lEfSBmcm9tICcuLi8uLi91dGlsL3Rhc2tfcXVldWUnO1xuXG4vLyBkZWx0YVkgdmFsdWUgZm9yIG1vdXNlIHNjcm9sbCB3aGVlbCBpZGVudGlmaWNhdGlvblxuY29uc3Qgd2hlZWxab29tRGVsdGEgPSA0LjAwMDI0NDE0MDYyNTtcbi8vIFRoZXNlIG1hZ2ljIG51bWJlcnMgY29udHJvbCB0aGUgcmF0ZSBvZiB6b29tLiBUcmFja3BhZCBldmVudHMgZmlyZSBhdCBhIGdyZWF0ZXJcbi8vIGZyZXF1ZW5jeSB0aGFuIG1vdXNlIHNjcm9sbCB3aGVlbCwgc28gcmVkdWNlIHRoZSB6b29tIHJhdGUgcGVyIHdoZWVsIHRpY2tcbmNvbnN0IGRlZmF1bHRab29tUmF0ZSA9IDEgLyAxMDA7XG5jb25zdCB3aGVlbFpvb21SYXRlID0gMSAvIDQ1MDtcblxuLy8gdXBwZXIgYm91bmQgb24gaG93IG11Y2ggd2Ugc2NhbGUgdGhlIG1hcCBpbiBhbnkgc2luZ2xlIHJlbmRlciBmcmFtZTsgdGhpc1xuLy8gaXMgdXNlZCB0byBsaW1pdCB6b29tIHJhdGUgaW4gdGhlIGNhc2Ugb2YgdmVyeSBmYXN0IHNjcm9sbGluZ1xuY29uc3QgbWF4U2NhbGVQZXJGcmFtZSA9IDI7XG5cbi8qKlxuICogVGhlIGBTY3JvbGxab29tSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBieSBzY3JvbGxpbmcuXG4gKi9cbmNsYXNzIFNjcm9sbFpvb21IYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfZW5hYmxlZDogYm9vbGVhbjtcbiAgICBfYWN0aXZlOiBib29sZWFuO1xuICAgIF9hcm91bmRDZW50ZXI6IGJvb2xlYW47XG4gICAgX2Fyb3VuZDogUG9pbnQ7XG4gICAgX2Fyb3VuZFBvaW50OiBQb2ludDtcbiAgICBfdHlwZTogJ3doZWVsJyB8ICd0cmFja3BhZCcgfCBudWxsO1xuICAgIF9sYXN0VmFsdWU6IG51bWJlcjtcbiAgICBfdGltZW91dDogP1RpbWVvdXRJRDsgLy8gdXNlZCBmb3IgZGVsYXllZC1oYW5kbGluZyBvZiBhIHNpbmdsZSB3aGVlbCBtb3ZlbWVudFxuICAgIF9maW5pc2hUaW1lb3V0OiA/VGltZW91dElEOyAvLyB1c2VkIHRvIGRlbGF5IGZpbmFsICd7bW92ZSx6b29tfWVuZCcgZXZlbnRzXG5cbiAgICBfbGFzdFdoZWVsRXZlbnQ6IGFueTtcbiAgICBfbGFzdFdoZWVsRXZlbnRUaW1lOiBudW1iZXI7XG5cbiAgICBfc3RhcnRab29tOiBudW1iZXI7XG4gICAgX3RhcmdldFpvb206IG51bWJlcjtcbiAgICBfZGVsdGE6IG51bWJlcjtcbiAgICBfZWFzaW5nOiAobnVtYmVyKSA9PiBudW1iZXI7XG4gICAgX3ByZXZFYXNlOiB7c3RhcnQ6IG51bWJlciwgZHVyYXRpb246IG51bWJlciwgZWFzaW5nOiAobnVtYmVyKSA9PiBudW1iZXJ9O1xuXG4gICAgX2ZyYW1lSWQ6ID9UYXNrSUQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fZWwgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG5cbiAgICAgICAgdGhpcy5fZGVsdGEgPSAwO1xuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbldoZWVsJyxcbiAgICAgICAgICAgICdfb25UaW1lb3V0JyxcbiAgICAgICAgICAgICdfb25TY3JvbGxGcmFtZScsXG4gICAgICAgICAgICAnX29uU2Nyb2xsRmluaXNoZWQnXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJzY3JvbGwgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcInNjcm9sbCB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgaXNBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2FjdGl2ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcInNjcm9sbCB0byB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmFyb3VuZF0gSWYgXCJjZW50ZXJcIiBpcyBwYXNzZWQsIG1hcCB3aWxsIHpvb20gYXJvdW5kIGNlbnRlciBvZiBtYXBcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICBtYXAuc2Nyb2xsWm9vbS5lbmFibGUoKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICBtYXAuc2Nyb2xsWm9vbS5lbmFibGUoeyBhcm91bmQ6ICdjZW50ZXInIH0pXG4gICAgICovXG4gICAgZW5hYmxlKG9wdGlvbnM6IGFueSkge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fYXJvdW5kQ2VudGVyID0gb3B0aW9ucyAmJiBvcHRpb25zLmFyb3VuZCA9PT0gJ2NlbnRlcic7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIFwic2Nyb2xsIHRvIHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICBtYXAuc2Nyb2xsWm9vbS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvbldoZWVsKGU6IFdoZWVsRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG5cbiAgICAgICAgLy8gUmVtb3ZlIGBhbnlgIGNhc3Qgd2hlbiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmxvdy9pc3N1ZXMvNDg3OSBpcyBmaXhlZC5cbiAgICAgICAgbGV0IHZhbHVlID0gZS5kZWx0YU1vZGUgPT09ICh3aW5kb3cuV2hlZWxFdmVudDogYW55KS5ET01fREVMVEFfTElORSA/IGUuZGVsdGFZICogNDAgOiBlLmRlbHRhWTtcbiAgICAgICAgY29uc3Qgbm93ID0gYnJvd3Nlci5ub3coKSxcbiAgICAgICAgICAgIHRpbWVEZWx0YSA9IG5vdyAtICh0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWUgfHwgMCk7XG5cbiAgICAgICAgdGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lID0gbm93O1xuXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gMCAmJiAodmFsdWUgJSB3aGVlbFpvb21EZWx0YSkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIFRoaXMgb25lIGlzIGRlZmluaXRlbHkgYSBtb3VzZSB3aGVlbCBldmVudC5cbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSAnd2hlZWwnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IDAgJiYgTWF0aC5hYnModmFsdWUpIDwgNCkge1xuICAgICAgICAgICAgLy8gVGhpcyBvbmUgaXMgZGVmaW5pdGVseSBhIHRyYWNrcGFkIGV2ZW50IGJlY2F1c2UgaXQgaXMgc28gc21hbGwuXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gJ3RyYWNrcGFkJztcblxuICAgICAgICB9IGVsc2UgaWYgKHRpbWVEZWx0YSA+IDQwMCkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBsaWtlbHkgYSBuZXcgc2Nyb2xsIGFjdGlvbi5cbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbGFzdFZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgICAgIC8vIFN0YXJ0IGEgdGltZW91dCBpbiBjYXNlIHRoaXMgd2FzIGEgc2luZ3VsYXIgZXZlbnQsIGFuZCBkZWx5IGl0IGJ5IHVwIHRvIDQwbXMuXG4gICAgICAgICAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLl9vblRpbWVvdXQsIDQwLCBlKTtcblxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl90eXBlKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgcmVwZWF0aW5nIGV2ZW50LCBidXQgd2UgZG9uJ3Qga25vdyB0aGUgdHlwZSBvZiBldmVudCBqdXN0IHlldC5cbiAgICAgICAgICAgIC8vIElmIHRoZSBkZWx0YSBwZXIgdGltZSBpcyBzbWFsbCwgd2UgYXNzdW1lIGl0J3MgYSBmYXN0IHRyYWNrcGFkOyBvdGhlcndpc2Ugd2Ugc3dpdGNoIGludG8gd2hlZWwgbW9kZS5cbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSAoTWF0aC5hYnModGltZURlbHRhICogdmFsdWUpIDwgMjAwKSA/ICd0cmFja3BhZCcgOiAnd2hlZWwnO1xuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgb3VyIGRlbGF5ZWQgZXZlbnQgaXNuJ3QgZmlyZWQgYWdhaW4sIGJlY2F1c2Ugd2UgYWNjdW11bGF0ZVxuICAgICAgICAgICAgLy8gdGhlIHByZXZpb3VzIGV2ZW50ICh3aGljaCB3YXMgbGVzcyB0aGFuIDQwbXMgYWdvKSBpbnRvIHRoaXMgZXZlbnQuXG4gICAgICAgICAgICBpZiAodGhpcy5fdGltZW91dCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSB0aGlzLl9sYXN0VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTbG93IGRvd24gem9vbSBpZiBzaGlmdCBrZXkgaXMgaGVsZCBmb3IgbW9yZSBwcmVjaXNlIHpvb21pbmdcbiAgICAgICAgaWYgKGUuc2hpZnRLZXkgJiYgdmFsdWUpIHZhbHVlID0gdmFsdWUgLyA0O1xuXG4gICAgICAgIC8vIE9ubHkgZmlyZSB0aGUgY2FsbGJhY2sgaWYgd2UgYWN0dWFsbHkga25vdyB3aGF0IHR5cGUgb2Ygc2Nyb2xsaW5nIGRldmljZSB0aGUgdXNlciB1c2VzLlxuICAgICAgICBpZiAodGhpcy5fdHlwZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdFdoZWVsRXZlbnQgPSBlO1xuICAgICAgICAgICAgdGhpcy5fZGVsdGEgLT0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIF9vblRpbWVvdXQoaW5pdGlhbEV2ZW50OiBhbnkpIHtcbiAgICAgICAgdGhpcy5fdHlwZSA9ICd3aGVlbCc7XG4gICAgICAgIHRoaXMuX2RlbHRhIC09IHRoaXMuX2xhc3RWYWx1ZTtcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0KGluaXRpYWxFdmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc3RhcnQoZTogYW55KSB7XG4gICAgICAgIGlmICghdGhpcy5fZGVsdGEpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9mcmFtZUlkKTtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KCdtb3Zlc3RhcnQnLCB7b3JpZ2luYWxFdmVudDogZX0pKTtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KCd6b29tc3RhcnQnLCB7b3JpZ2luYWxFdmVudDogZX0pKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZpbmlzaFRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9maW5pc2hUaW1lb3V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvcyA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZSk7XG5cbiAgICAgICAgdGhpcy5fYXJvdW5kID0gTG5nTGF0LmNvbnZlcnQodGhpcy5fYXJvdW5kQ2VudGVyID8gdGhpcy5fbWFwLmdldENlbnRlcigpIDogdGhpcy5fbWFwLnVucHJvamVjdChwb3MpKTtcbiAgICAgICAgdGhpcy5fYXJvdW5kUG9pbnQgPSB0aGlzLl9tYXAudHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQodGhpcy5fYXJvdW5kKTtcbiAgICAgICAgaWYgKCF0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gdGhpcy5fbWFwLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fb25TY3JvbGxGcmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25TY3JvbGxGcmFtZSgpIHtcbiAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKCkpIHJldHVybjtcbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLl9tYXAudHJhbnNmb3JtO1xuXG4gICAgICAgIC8vIGlmIHdlJ3ZlIGhhZCBzY3JvbGwgZXZlbnRzIHNpbmNlIHRoZSBsYXN0IHJlbmRlciBmcmFtZSwgY29uc3VtZSB0aGVcbiAgICAgICAgLy8gYWNjdW11bGF0ZWQgZGVsdGEsIGFuZCB1cGRhdGUgdGhlIHRhcmdldCB6b29tIGxldmVsIGFjY29yZGluZ2x5XG4gICAgICAgIGlmICh0aGlzLl9kZWx0YSAhPT0gMCkge1xuICAgICAgICAgICAgLy8gRm9yIHRyYWNrcGFkIGV2ZW50cyBhbmQgc2luZ2xlIG1vdXNlIHdoZWVsIHRpY2tzLCB1c2UgdGhlIGRlZmF1bHQgem9vbSByYXRlXG4gICAgICAgICAgICBjb25zdCB6b29tUmF0ZSA9ICh0aGlzLl90eXBlID09PSAnd2hlZWwnICYmIE1hdGguYWJzKHRoaXMuX2RlbHRhKSA+IHdoZWVsWm9vbURlbHRhKSA/IHdoZWVsWm9vbVJhdGUgOiBkZWZhdWx0Wm9vbVJhdGU7XG4gICAgICAgICAgICAvLyBTY2FsZSBieSBzaWdtb2lkIG9mIHNjcm9sbCB3aGVlbCBkZWx0YS5cbiAgICAgICAgICAgIGxldCBzY2FsZSA9IG1heFNjYWxlUGVyRnJhbWUgLyAoMSArIE1hdGguZXhwKC1NYXRoLmFicyh0aGlzLl9kZWx0YSAqIHpvb21SYXRlKSkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZGVsdGEgPCAwICYmIHNjYWxlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgc2NhbGUgPSAxIC8gc2NhbGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZyb21TY2FsZSA9IHR5cGVvZiB0aGlzLl90YXJnZXRab29tID09PSAnbnVtYmVyJyA/IHRyLnpvb21TY2FsZSh0aGlzLl90YXJnZXRab29tKSA6IHRyLnNjYWxlO1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0Wm9vbSA9IE1hdGgubWluKHRyLm1heFpvb20sIE1hdGgubWF4KHRyLm1pblpvb20sIHRyLnNjYWxlWm9vbShmcm9tU2NhbGUgKiBzY2FsZSkpKTtcblxuICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIG1vdXNlIHdoZWVsLCByZWZyZXNoIHRoZSBzdGFydGluZyB6b29tIGFuZCBlYXNpbmdcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uIHdlJ3JlIHVzaW5nIHRvIHNtb290aCBvdXQgdGhlIHpvb21pbmcgYmV0d2VlbiB3aGVlbFxuICAgICAgICAgICAgLy8gZXZlbnRzXG4gICAgICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gJ3doZWVsJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0Wm9vbSA9IHRyLnpvb207XG4gICAgICAgICAgICAgICAgdGhpcy5fZWFzaW5nID0gdGhpcy5fc21vb3RoT3V0RWFzaW5nKDIwMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2RlbHRhID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmaW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gJ3doZWVsJykge1xuICAgICAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKChicm93c2VyLm5vdygpIC0gdGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lKSAvIDIwMCwgMSk7XG4gICAgICAgICAgICBjb25zdCBrID0gdGhpcy5fZWFzaW5nKHQpO1xuICAgICAgICAgICAgdHIuem9vbSA9IGludGVycG9sYXRlKHRoaXMuX3N0YXJ0Wm9vbSwgdGhpcy5fdGFyZ2V0Wm9vbSwgayk7XG4gICAgICAgICAgICBpZiAodCA8IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IHRoaXMuX21hcC5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX29uU2Nyb2xsRnJhbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHIuem9vbSA9IHRoaXMuX3RhcmdldFpvb207XG4gICAgICAgICAgICBmaW5pc2hlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0ci5zZXRMb2NhdGlvbkF0UG9pbnQodGhpcy5fYXJvdW5kLCB0aGlzLl9hcm91bmRQb2ludCk7XG5cbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KCdtb3ZlJywge29yaWdpbmFsRXZlbnQ6IHRoaXMuX2xhc3RXaGVlbEV2ZW50fSkpO1xuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ3pvb20nLCB7b3JpZ2luYWxFdmVudDogdGhpcy5fbGFzdFdoZWVsRXZlbnR9KSk7XG5cbiAgICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2ZpbmlzaFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ3pvb21lbmQnLCB7b3JpZ2luYWxFdmVudDogdGhpcy5fbGFzdFdoZWVsRXZlbnR9KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KCdtb3ZlZW5kJywge29yaWdpbmFsRXZlbnQ6IHRoaXMuX2xhc3RXaGVlbEV2ZW50fSkpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl90YXJnZXRab29tO1xuICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zbW9vdGhPdXRFYXNpbmcoZHVyYXRpb246IG51bWJlcikge1xuICAgICAgICBsZXQgZWFzaW5nID0gX2Vhc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuX3ByZXZFYXNlKSB7XG4gICAgICAgICAgICBjb25zdCBlYXNlID0gdGhpcy5fcHJldkVhc2UsXG4gICAgICAgICAgICAgICAgdCA9IChicm93c2VyLm5vdygpIC0gZWFzZS5zdGFydCkgLyBlYXNlLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHNwZWVkID0gZWFzZS5lYXNpbmcodCArIDAuMDEpIC0gZWFzZS5lYXNpbmcodCksXG5cbiAgICAgICAgICAgICAgICAvLyBRdWljayBoYWNrIHRvIG1ha2UgbmV3IGJlemllciB0aGF0IGlzIGNvbnRpbnVvdXMgd2l0aCBsYXN0XG4gICAgICAgICAgICAgICAgeCA9IDAuMjcgLyBNYXRoLnNxcnQoc3BlZWQgKiBzcGVlZCArIDAuMDAwMSkgKiAwLjAxLFxuICAgICAgICAgICAgICAgIHkgPSBNYXRoLnNxcnQoMC4yNyAqIDAuMjcgLSB4ICogeCk7XG5cbiAgICAgICAgICAgIGVhc2luZyA9IGJlemllcih4LCB5LCAwLjI1LCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3ByZXZFYXNlID0ge1xuICAgICAgICAgICAgc3RhcnQ6IGJyb3dzZXIubm93KCksXG4gICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgICBlYXNpbmc6IGVhc2luZ1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBlYXNpbmc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTY3JvbGxab29tSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuXG5pbXBvcnQgTG5nTGF0Qm91bmRzIGZyb20gJy4uLy4uL2dlby9sbmdfbGF0X2JvdW5kcyc7XG5pbXBvcnQgeyBiaW5kQWxsIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vLi4vdXRpbC93aW5kb3cnO1xuaW1wb3J0IHsgRXZlbnQgfSBmcm9tICcuLi8uLi91dGlsL2V2ZW50ZWQnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcblxuLyoqXG4gKiBUaGUgYEJveFpvb21IYW5kbGVyYCBhbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIHRvIGZpdCB3aXRoaW4gYSBib3VuZGluZyBib3guXG4gKiBUaGUgYm91bmRpbmcgYm94IGlzIGRlZmluZWQgYnkgY2xpY2tpbmcgYW5kIGhvbGRpbmcgYHNoaWZ0YCB3aGlsZSBkcmFnZ2luZyB0aGUgY3Vyc29yLlxuICovXG5jbGFzcyBCb3hab29tSGFuZGxlciB7XG4gICAgX21hcDogTWFwO1xuICAgIF9lbDogSFRNTEVsZW1lbnQ7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2FjdGl2ZTogYm9vbGVhbjtcbiAgICBfc3RhcnRQb3M6IGFueTtcbiAgICBfYm94OiBIVE1MRWxlbWVudDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IG1hcC5nZXRDYW52YXNDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gbWFwLmdldENvbnRhaW5lcigpO1xuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbk1vdXNlTW92ZScsXG4gICAgICAgICAgICAnX29uTW91c2VVcCcsXG4gICAgICAgICAgICAnX29uS2V5RG93bidcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUsIGkuZS4gY3VycmVudGx5IGJlaW5nIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLlxuICAgICAqL1xuICAgIGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9hY3RpdmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC5ib3hab29tLmVuYWJsZSgpO1xuICAgICAqL1xuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICBtYXAuYm94Wm9vbS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvbk1vdXNlRG93bihlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICBpZiAoIShlLnNoaWZ0S2V5ICYmIGUuYnV0dG9uID09PSAwKSkgcmV0dXJuO1xuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgZmFsc2UpO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX29uTW91c2VVcCwgZmFsc2UpO1xuXG4gICAgICAgIERPTS5kaXNhYmxlRHJhZygpO1xuICAgICAgICB0aGlzLl9zdGFydFBvcyA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZSk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgX29uTW91c2VNb3ZlKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgY29uc3QgcDAgPSB0aGlzLl9zdGFydFBvcyxcbiAgICAgICAgICAgIHAxID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlKTtcblxuICAgICAgICBpZiAoIXRoaXMuX2JveCkge1xuICAgICAgICAgICAgdGhpcy5fYm94ID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWJveHpvb20nLCB0aGlzLl9jb250YWluZXIpO1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWNyb3NzaGFpcicpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdib3h6b29tc3RhcnQnLCBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pblggPSBNYXRoLm1pbihwMC54LCBwMS54KSxcbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChwMC54LCBwMS54KSxcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihwMC55LCBwMS55KSxcbiAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChwMC55LCBwMS55KTtcblxuICAgICAgICBET00uc2V0VHJhbnNmb3JtKHRoaXMuX2JveCwgYHRyYW5zbGF0ZSgke21pblh9cHgsJHttaW5ZfXB4KWApO1xuXG4gICAgICAgIHRoaXMuX2JveC5zdHlsZS53aWR0aCA9IGAke21heFggLSBtaW5YfXB4YDtcbiAgICAgICAgdGhpcy5fYm94LnN0eWxlLmhlaWdodCA9IGAke21heFkgLSBtaW5ZfXB4YDtcbiAgICB9XG5cbiAgICBfb25Nb3VzZVVwKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKGUuYnV0dG9uICE9PSAwKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcDAgPSB0aGlzLl9zdGFydFBvcyxcbiAgICAgICAgICAgIHAxID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlKSxcbiAgICAgICAgICAgIGJvdW5kcyA9IG5ldyBMbmdMYXRCb3VuZHMoKVxuICAgICAgICAgICAgICAgIC5leHRlbmQodGhpcy5fbWFwLnVucHJvamVjdChwMCkpXG4gICAgICAgICAgICAgICAgLmV4dGVuZCh0aGlzLl9tYXAudW5wcm9qZWN0KHAxKSk7XG5cbiAgICAgICAgdGhpcy5fZmluaXNoKCk7XG5cbiAgICAgICAgRE9NLnN1cHByZXNzQ2xpY2soKTtcblxuICAgICAgICBpZiAocDAueCA9PT0gcDEueCAmJiBwMC55ID09PSBwMS55KSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ2JveHpvb21jYW5jZWwnLCBlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21hcFxuICAgICAgICAgICAgICAgIC5maXRCb3VuZHMoYm91bmRzLCB7bGluZWFyOiB0cnVlfSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ2JveHpvb21lbmQnLCB7IG9yaWdpbmFsRXZlbnQ6IGUsIGJveFpvb21Cb3VuZHM6IGJvdW5kcyB9KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25LZXlEb3duKGU6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbmlzaCgpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdib3h6b29tY2FuY2VsJywgZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZmluaXNoKCkge1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGZhbHNlKTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXAsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3Jvc3NoYWlyJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2JveCkge1xuICAgICAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9ib3gpO1xuICAgICAgICAgICAgdGhpcy5fYm94ID0gKG51bGw6IGFueSk7XG4gICAgICAgIH1cblxuICAgICAgICBET00uZW5hYmxlRHJhZygpO1xuICAgIH1cblxuICAgIF9maXJlRXZlbnQodHlwZTogc3RyaW5nLCBlOiAqKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQodHlwZSwgeyBvcmlnaW5hbEV2ZW50OiBlIH0pKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJveFpvb21IYW5kbGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5cbmltcG9ydCB7IGJlemllciwgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uLy4uL3V0aWwvd2luZG93JztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uLy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgeyBFdmVudCB9IGZyb20gJy4uLy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuaW1wb3J0IHR5cGUgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSB7VGFza0lEfSBmcm9tICcuLi8uLi91dGlsL3Rhc2tfcXVldWUnO1xuXG5jb25zdCBpbmVydGlhTGluZWFyaXR5ID0gMC4yNSxcbiAgICBpbmVydGlhRWFzaW5nID0gYmV6aWVyKDAsIDAsIGluZXJ0aWFMaW5lYXJpdHksIDEpLFxuICAgIGluZXJ0aWFNYXhTcGVlZCA9IDE4MCwgLy8gZGVnL3NcbiAgICBpbmVydGlhRGVjZWxlcmF0aW9uID0gNzIwOyAvLyBkZWcvc14yXG5cbi8qKlxuICogVGhlIGBEcmFnUm90YXRlSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHJvdGF0ZSB0aGUgbWFwIGJ5IGNsaWNraW5nIGFuZFxuICogZHJhZ2dpbmcgdGhlIGN1cnNvciB3aGlsZSBob2xkaW5nIHRoZSByaWdodCBtb3VzZSBidXR0b24gb3IgYGN0cmxgIGtleS5cbiAqL1xuY2xhc3MgRHJhZ1JvdGF0ZUhhbmRsZXIge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfZWw6IEhUTUxFbGVtZW50O1xuICAgIF9zdGF0ZTogJ2Rpc2FibGVkJyB8ICdlbmFibGVkJyB8ICdwZW5kaW5nJyB8ICdhY3RpdmUnO1xuICAgIF9idXR0b246ICdyaWdodCcgfCAnbGVmdCc7XG4gICAgX2V2ZW50QnV0dG9uOiBudW1iZXI7XG4gICAgX2JlYXJpbmdTbmFwOiBudW1iZXI7XG4gICAgX3BpdGNoV2l0aFJvdGF0ZTogYm9vbGVhbjtcblxuICAgIF9sYXN0TW92ZUV2ZW50OiBNb3VzZUV2ZW50O1xuICAgIF9wb3M6IFBvaW50O1xuICAgIF9wcmV2aW91c1BvczogUG9pbnQ7XG4gICAgX2luZXJ0aWE6IEFycmF5PFtudW1iZXIsIG51bWJlcl0+O1xuICAgIF9jZW50ZXI6IFBvaW50O1xuICAgIF9mcmFtZUlkOiA/VGFza0lEO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtNYXB9IG1hcCBUaGUgTWFwYm94IEdMIEpTIG1hcCB0byBhZGQgdGhlIGhhbmRsZXIgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iZWFyaW5nU25hcF0gVGhlIHRocmVzaG9sZCwgbWVhc3VyZWQgaW4gZGVncmVlcywgdGhhdCBkZXRlcm1pbmVzIHdoZW4gdGhlIG1hcCdzXG4gICAgICogICBiZWFyaW5nIHdpbGwgc25hcCB0byBub3J0aC5cbiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtvcHRpb25zLnBpdGNoV2l0aFJvdGF0ZT10cnVlXSBDb250cm9sIHRoZSBtYXAgcGl0Y2ggaW4gYWRkaXRpb24gdG8gdGhlIGJlYXJpbmdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwLCBvcHRpb25zOiB7XG4gICAgICAgIGJ1dHRvbj86ICdyaWdodCcgfCAnbGVmdCcsXG4gICAgICAgIGVsZW1lbnQ/OiBIVE1MRWxlbWVudCxcbiAgICAgICAgYmVhcmluZ1NuYXA/OiBudW1iZXIsXG4gICAgICAgIHBpdGNoV2l0aFJvdGF0ZT86IGJvb2xlYW5cbiAgICB9KSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fZWwgPSBvcHRpb25zLmVsZW1lbnQgfHwgbWFwLmdldENhbnZhc0NvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9ICdkaXNhYmxlZCc7XG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IG9wdGlvbnMuYnV0dG9uIHx8ICdyaWdodCc7XG4gICAgICAgIHRoaXMuX2JlYXJpbmdTbmFwID0gb3B0aW9ucy5iZWFyaW5nU25hcCB8fCAwO1xuICAgICAgICB0aGlzLl9waXRjaFdpdGhSb3RhdGUgPSBvcHRpb25zLnBpdGNoV2l0aFJvdGF0ZSAhPT0gZmFsc2U7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uTW91c2VNb3ZlJyxcbiAgICAgICAgICAgICdfb25Nb3VzZVVwJyxcbiAgICAgICAgICAgICdfb25CbHVyJyxcbiAgICAgICAgICAgICdfb25EcmFnRnJhbWUnXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZSAhPT0gJ2Rpc2FibGVkJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUsIGkuZS4gY3VycmVudGx5IGJlaW5nIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLlxuICAgICAqL1xuICAgIGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUgPT09ICdhY3RpdmUnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmRyYWdSb3RhdGUuZW5hYmxlKCk7XG4gICAgICovXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuZHJhZ1JvdGF0ZS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdyb3RhdGVlbmQnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9waXRjaFdpdGhSb3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ3BpdGNoZW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmVlbmQnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdkaXNhYmxlZCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VEb3duKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlICE9PSAnZW5hYmxlZCcpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5fYnV0dG9uID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICB0aGlzLl9ldmVudEJ1dHRvbiA9IERPTS5tb3VzZUJ1dHRvbihlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9ldmVudEJ1dHRvbiAhPT0gKGUuY3RybEtleSA/IDAgOiAyKSkgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGUuY3RybEtleSB8fCBET00ubW91c2VCdXR0b24oZSkgIT09IDApIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50QnV0dG9uID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIERPTS5kaXNhYmxlRHJhZygpO1xuXG4gICAgICAgIC8vIEJpbmQgd2luZG93LWxldmVsIGV2ZW50IGxpc3RlbmVycyBmb3IgbW92ZSBhbmQgdXAvZW5kIGV2ZW50cy4gSW4gdGhlIGFic2VuY2Ugb2ZcbiAgICAgICAgLy8gdGhlIHBvaW50ZXIgY2FwdHVyZSBBUEksIHdoaWNoIGlzIG5vdCBzdXBwb3J0ZWQgYnkgYWxsIG5lY2Vzc2FyeSBwbGF0Zm9ybXMsXG4gICAgICAgIC8vIHdpbmRvdy1sZXZlbCBldmVudCBsaXN0ZW5lcnMgZ2l2ZSB1cyB0aGUgYmVzdCBzaG90IGF0IGNhcHR1cmluZyBldmVudHMgdGhhdFxuICAgICAgICAvLyBmYWxsIG91dHNpZGUgdGhlIG1hcCBjYW52YXMgZWxlbWVudC4gVXNlIGB7Y2FwdHVyZTogdHJ1ZX1gIGZvciB0aGUgbW92ZSBldmVudFxuICAgICAgICAvLyB0byBwcmV2ZW50IG1hcCBtb3ZlIGV2ZW50cyBmcm9tIGJlaW5nIGZpcmVkIGR1cmluZyBhIGRyYWcuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwge2NhcHR1cmU6IHRydWV9KTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXApO1xuXG4gICAgICAgIC8vIERlYWN0aXZhdGUgd2hlbiB0aGUgd2luZG93IGxvc2VzIGZvY3VzLiBPdGhlcndpc2UgaWYgYSBtb3VzZXVwIG9jY3VycyB3aGVuIHRoZSB3aW5kb3dcbiAgICAgICAgLy8gaXNuJ3QgaW4gZm9jdXMsIGRyYWdnaW5nIHdpbGwgY29udGludWUgZXZlbiB0aG91Z2ggdGhlIG1vdXNlIGlzIG5vIGxvbmdlciBwcmVzc2VkLlxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX29uQmx1cik7XG5cbiAgICAgICAgdGhpcy5fc3RhdGUgPSAncGVuZGluZyc7XG4gICAgICAgIHRoaXMuX2luZXJ0aWEgPSBbW2Jyb3dzZXIubm93KCksIHRoaXMuX21hcC5nZXRCZWFyaW5nKCldXTtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNQb3MgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUpO1xuICAgICAgICB0aGlzLl9jZW50ZXIgPSB0aGlzLl9tYXAudHJhbnNmb3JtLmNlbnRlclBvaW50OyAgLy8gQ2VudGVyIG9mIHJvdGF0aW9uXG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIF9vbk1vdXNlTW92ZShlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2xhc3RNb3ZlRXZlbnQgPSBlO1xuICAgICAgICB0aGlzLl9wb3MgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdhY3RpdmUnO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdyb3RhdGVzdGFydCcsIGUpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3Zlc3RhcnQnLCBlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9waXRjaFdpdGhSb3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ3BpdGNoc3RhcnQnLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IHRoaXMuX21hcC5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX29uRHJhZ0ZyYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkRyYWdGcmFtZSgpIHtcbiAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG5cbiAgICAgICAgY29uc3QgZSA9IHRoaXMuX2xhc3RNb3ZlRXZlbnQ7XG4gICAgICAgIGlmICghZSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB0ciA9IHRoaXMuX21hcC50cmFuc2Zvcm07XG5cbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLl9wcmV2aW91c1BvcyxcbiAgICAgICAgICAgIHAyID0gdGhpcy5fcG9zLFxuICAgICAgICAgICAgYmVhcmluZ0RpZmYgPSAocDEueCAtIHAyLngpICogMC44LFxuICAgICAgICAgICAgcGl0Y2hEaWZmID0gKHAxLnkgLSBwMi55KSAqIC0wLjUsXG4gICAgICAgICAgICBiZWFyaW5nID0gdHIuYmVhcmluZyAtIGJlYXJpbmdEaWZmLFxuICAgICAgICAgICAgcGl0Y2ggPSB0ci5waXRjaCAtIHBpdGNoRGlmZixcbiAgICAgICAgICAgIGluZXJ0aWEgPSB0aGlzLl9pbmVydGlhLFxuICAgICAgICAgICAgbGFzdCA9IGluZXJ0aWFbaW5lcnRpYS5sZW5ndGggLSAxXTtcblxuICAgICAgICB0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKTtcbiAgICAgICAgaW5lcnRpYS5wdXNoKFticm93c2VyLm5vdygpLCB0aGlzLl9tYXAuX25vcm1hbGl6ZUJlYXJpbmcoYmVhcmluZywgbGFzdFsxXSldKTtcblxuICAgICAgICB0ci5iZWFyaW5nID0gYmVhcmluZztcbiAgICAgICAgaWYgKHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdwaXRjaCcsIGUpO1xuICAgICAgICAgICAgdHIucGl0Y2ggPSBwaXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZpcmVFdmVudCgncm90YXRlJywgZSk7XG4gICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZScsIGUpO1xuXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sYXN0TW92ZUV2ZW50O1xuICAgICAgICB0aGlzLl9wcmV2aW91c1BvcyA9IHRoaXMuX3BvcztcbiAgICB9XG5cbiAgICBfb25Nb3VzZVVwKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKERPTS5tb3VzZUJ1dHRvbihlKSAhPT0gdGhpcy5fZXZlbnRCdXR0b24pIHJldHVybjtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICBjYXNlICdhY3RpdmUnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgICAgICAgICBET00uc3VwcHJlc3NDbGljaygpO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICB0aGlzLl9kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9pbmVydGlhbFJvdGF0ZShlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFzc2VydChmYWxzZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkJsdXIoZTogRm9jdXNFdmVudCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdyb3RhdGVlbmQnLCBlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9waXRjaFdpdGhSb3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ3BpdGNoZW5kJywgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmVlbmQnLCBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFzc2VydChmYWxzZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91bmJpbmQoKSB7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwge2NhcHR1cmU6IHRydWV9KTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX29uQmx1cik7XG4gICAgICAgIERPTS5lbmFibGVEcmFnKCk7XG4gICAgfVxuXG4gICAgX2RlYWN0aXZhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuX2NhbmNlbFJlbmRlckZyYW1lKHRoaXMuX2ZyYW1lSWQpO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuX2xhc3RNb3ZlRXZlbnQ7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9wcmV2aW91c1BvcztcbiAgICB9XG5cbiAgICBfaW5lcnRpYWxSb3RhdGUoZTogTW91c2VFdmVudCkge1xuICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ3JvdGF0ZWVuZCcsIGUpO1xuICAgICAgICB0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKTtcblxuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXAsXG4gICAgICAgICAgICBtYXBCZWFyaW5nID0gbWFwLmdldEJlYXJpbmcoKSxcbiAgICAgICAgICAgIGluZXJ0aWEgPSB0aGlzLl9pbmVydGlhO1xuXG4gICAgICAgIGNvbnN0IGZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhtYXBCZWFyaW5nKSA8IHRoaXMuX2JlYXJpbmdTbmFwKSB7XG4gICAgICAgICAgICAgICAgbWFwLnJlc2V0Tm9ydGgoe25vTW92ZVN0YXJ0OiB0cnVlfSwgeyBvcmlnaW5hbEV2ZW50OiBlIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmVlbmQnLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9waXRjaFdpdGhSb3RhdGUpIHRoaXMuX2ZpcmVFdmVudCgncGl0Y2hlbmQnLCBlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaW5lcnRpYS5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICBmaW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0ID0gaW5lcnRpYVswXSxcbiAgICAgICAgICAgIGxhc3QgPSBpbmVydGlhW2luZXJ0aWEubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBwcmV2aW91cyA9IGluZXJ0aWFbaW5lcnRpYS5sZW5ndGggLSAyXTtcbiAgICAgICAgbGV0IGJlYXJpbmcgPSBtYXAuX25vcm1hbGl6ZUJlYXJpbmcobWFwQmVhcmluZywgcHJldmlvdXNbMV0pO1xuICAgICAgICBjb25zdCBmbGluZ0RpZmYgPSBsYXN0WzFdIC0gZmlyc3RbMV0sXG4gICAgICAgICAgICBzaWduID0gZmxpbmdEaWZmIDwgMCA/IC0xIDogMSxcbiAgICAgICAgICAgIGZsaW5nRHVyYXRpb24gPSAobGFzdFswXSAtIGZpcnN0WzBdKSAvIDEwMDA7XG5cbiAgICAgICAgaWYgKGZsaW5nRGlmZiA9PT0gMCB8fCBmbGluZ0R1cmF0aW9uID09PSAwKSB7XG4gICAgICAgICAgICBmaW5pc2goKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzcGVlZCA9IE1hdGguYWJzKGZsaW5nRGlmZiAqIChpbmVydGlhTGluZWFyaXR5IC8gZmxpbmdEdXJhdGlvbikpOyAgLy8gZGVnL3NcbiAgICAgICAgaWYgKHNwZWVkID4gaW5lcnRpYU1heFNwZWVkKSB7XG4gICAgICAgICAgICBzcGVlZCA9IGluZXJ0aWFNYXhTcGVlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gc3BlZWQgLyAoaW5lcnRpYURlY2VsZXJhdGlvbiAqIGluZXJ0aWFMaW5lYXJpdHkpLFxuICAgICAgICAgICAgb2Zmc2V0ID0gc2lnbiAqIHNwZWVkICogKGR1cmF0aW9uIC8gMik7XG5cbiAgICAgICAgYmVhcmluZyArPSBvZmZzZXQ7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKG1hcC5fbm9ybWFsaXplQmVhcmluZyhiZWFyaW5nLCAwKSkgPCB0aGlzLl9iZWFyaW5nU25hcCkge1xuICAgICAgICAgICAgYmVhcmluZyA9IG1hcC5fbm9ybWFsaXplQmVhcmluZygwLCBiZWFyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcC5yb3RhdGVUbyhiZWFyaW5nLCB7XG4gICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24gKiAxMDAwLFxuICAgICAgICAgICAgZWFzaW5nOiBpbmVydGlhRWFzaW5nLFxuICAgICAgICAgICAgbm9Nb3ZlU3RhcnQ6IHRydWVcbiAgICAgICAgfSwgeyBvcmlnaW5hbEV2ZW50OiBlIH0pO1xuICAgIH1cblxuICAgIF9maXJlRXZlbnQodHlwZTogc3RyaW5nLCBlOiAqKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQodHlwZSwgZSA/IHsgb3JpZ2luYWxFdmVudDogZSB9IDoge30pKTtcbiAgICB9XG5cbiAgICBfZHJhaW5JbmVydGlhQnVmZmVyKCkge1xuICAgICAgICBjb25zdCBpbmVydGlhID0gdGhpcy5faW5lcnRpYSxcbiAgICAgICAgICAgIG5vdyA9IGJyb3dzZXIubm93KCksXG4gICAgICAgICAgICBjdXRvZmYgPSAxNjA7ICAgLy9tc2VjXG5cbiAgICAgICAgd2hpbGUgKGluZXJ0aWEubGVuZ3RoID4gMCAmJiBub3cgLSBpbmVydGlhWzBdWzBdID4gY3V0b2ZmKVxuICAgICAgICAgICAgaW5lcnRpYS5zaGlmdCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRHJhZ1JvdGF0ZUhhbmRsZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGJlemllciwgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uLy4uL3V0aWwvd2luZG93JztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uLy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgeyBFdmVudCB9IGZyb20gJy4uLy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuaW1wb3J0IHR5cGUgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSB7VGFza0lEfSBmcm9tICcuLi8uLi91dGlsL3Rhc2tfcXVldWUnO1xuXG5jb25zdCBpbmVydGlhTGluZWFyaXR5ID0gMC4zLFxuICAgIGluZXJ0aWFFYXNpbmcgPSBiZXppZXIoMCwgMCwgaW5lcnRpYUxpbmVhcml0eSwgMSksXG4gICAgaW5lcnRpYU1heFNwZWVkID0gMTQwMCwgLy8gcHgvc1xuICAgIGluZXJ0aWFEZWNlbGVyYXRpb24gPSAyNTAwOyAvLyBweC9zXjJcblxuLyoqXG4gKiBUaGUgYERyYWdQYW5IYW5kbGVyYCBhbGxvd3MgdGhlIHVzZXIgdG8gcGFuIHRoZSBtYXAgYnkgY2xpY2tpbmcgYW5kIGRyYWdnaW5nXG4gKiB0aGUgY3Vyc29yLlxuICovXG5jbGFzcyBEcmFnUGFuSGFuZGxlciB7XG4gICAgX21hcDogTWFwO1xuICAgIF9lbDogSFRNTEVsZW1lbnQ7XG4gICAgX3N0YXRlOiAnZGlzYWJsZWQnIHwgJ2VuYWJsZWQnIHwgJ3BlbmRpbmcnIHwgJ2FjdGl2ZSc7XG4gICAgX3BvczogUG9pbnQ7XG4gICAgX3ByZXZpb3VzUG9zOiBQb2ludDtcbiAgICBfaW5lcnRpYTogQXJyYXk8W251bWJlciwgUG9pbnRdPjtcbiAgICBfbGFzdE1vdmVFdmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQgfCB2b2lkO1xuICAgIF9mcmFtZUlkOiA/VGFza0lEO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2VsID0gbWFwLmdldENhbnZhc0NvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9ICdkaXNhYmxlZCc7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uTW92ZScsXG4gICAgICAgICAgICAnX29uTW91c2VVcCcsXG4gICAgICAgICAgICAnX29uVG91Y2hFbmQnLFxuICAgICAgICAgICAgJ19vbkJsdXInLFxuICAgICAgICAgICAgJ19vbkRyYWdGcmFtZSdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlICE9PSAnZGlzYWJsZWQnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZSwgaS5lLiBjdXJyZW50bHkgYmVpbmcgdXNlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUuXG4gICAgICovXG4gICAgaXNBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gJ2FjdGl2ZSc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuZHJhZ1Bhbi5lbmFibGUoKTtcbiAgICAgKi9cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLXRvdWNoLWRyYWctcGFuJyk7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5kcmFnUGFuLmRpc2FibGUoKTtcbiAgICAgKi9cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZWwuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4nKTtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICBjYXNlICdhY3RpdmUnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZGlzYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICB0aGlzLl9kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ2RyYWdlbmQnKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZWVuZCcpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BlbmRpbmcnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZGlzYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZURvd24oZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgIT09ICdlbmFibGVkJykgcmV0dXJuO1xuICAgICAgICBpZiAoZS5jdHJsS2V5IHx8IERPTS5tb3VzZUJ1dHRvbihlKSAhPT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIEJpbmQgd2luZG93LWxldmVsIGV2ZW50IGxpc3RlbmVycyBmb3IgbW91c2Vtb3ZlL3VwIGV2ZW50cy4gSW4gdGhlIGFic2VuY2Ugb2ZcbiAgICAgICAgLy8gdGhlIHBvaW50ZXIgY2FwdHVyZSBBUEksIHdoaWNoIGlzIG5vdCBzdXBwb3J0ZWQgYnkgYWxsIG5lY2Vzc2FyeSBwbGF0Zm9ybXMsXG4gICAgICAgIC8vIHdpbmRvdy1sZXZlbCBldmVudCBsaXN0ZW5lcnMgZ2l2ZSB1cyB0aGUgYmVzdCBzaG90IGF0IGNhcHR1cmluZyBldmVudHMgdGhhdFxuICAgICAgICAvLyBmYWxsIG91dHNpZGUgdGhlIG1hcCBjYW52YXMgZWxlbWVudC4gVXNlIGB7Y2FwdHVyZTogdHJ1ZX1gIGZvciB0aGUgbW92ZSBldmVudFxuICAgICAgICAvLyB0byBwcmV2ZW50IG1hcCBtb3ZlIGV2ZW50cyBmcm9tIGJlaW5nIGZpcmVkIGR1cmluZyBhIGRyYWcuXG4gICAgICAgIERPTS5hZGRFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX29uTW92ZSwge2NhcHR1cmU6IHRydWV9KTtcbiAgICAgICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX29uTW91c2VVcCk7XG5cbiAgICAgICAgdGhpcy5fc3RhcnQoZSk7XG4gICAgfVxuXG4gICAgb25Ub3VjaFN0YXJ0KGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlICE9PSAnZW5hYmxlZCcpIHJldHVybjtcbiAgICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPiAxKSByZXR1cm47XG5cbiAgICAgICAgLy8gQmluZCB3aW5kb3ctbGV2ZWwgZXZlbnQgbGlzdGVuZXJzIGZvciB0b3VjaG1vdmUvZW5kIGV2ZW50cy4gSW4gdGhlIGFic2VuY2Ugb2ZcbiAgICAgICAgLy8gdGhlIHBvaW50ZXIgY2FwdHVyZSBBUEksIHdoaWNoIGlzIG5vdCBzdXBwb3J0ZWQgYnkgYWxsIG5lY2Vzc2FyeSBwbGF0Zm9ybXMsXG4gICAgICAgIC8vIHdpbmRvdy1sZXZlbCBldmVudCBsaXN0ZW5lcnMgZ2l2ZSB1cyB0aGUgYmVzdCBzaG90IGF0IGNhcHR1cmluZyBldmVudHMgdGhhdFxuICAgICAgICAvLyBmYWxsIG91dHNpZGUgdGhlIG1hcCBjYW52YXMgZWxlbWVudC4gVXNlIGB7Y2FwdHVyZTogdHJ1ZX1gIGZvciB0aGUgbW92ZSBldmVudFxuICAgICAgICAvLyB0byBwcmV2ZW50IG1hcCBtb3ZlIGV2ZW50cyBmcm9tIGJlaW5nIGZpcmVkIGR1cmluZyBhIGRyYWcuXG4gICAgICAgIERPTS5hZGRFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uTW92ZSwge2NhcHR1cmU6IHRydWUsIHBhc3NpdmU6IGZhbHNlfSk7XG4gICAgICAgIERPTS5hZGRFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ub3VjaEVuZCk7XG5cbiAgICAgICAgdGhpcy5fc3RhcnQoZSk7XG4gICAgfVxuXG4gICAgX3N0YXJ0KGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSB7XG4gICAgICAgIC8vIERlYWN0aXZhdGUgd2hlbiB0aGUgd2luZG93IGxvc2VzIGZvY3VzLiBPdGhlcndpc2UgaWYgYSBtb3VzZXVwIG9jY3VycyB3aGVuIHRoZSB3aW5kb3dcbiAgICAgICAgLy8gaXNuJ3QgaW4gZm9jdXMsIGRyYWdnaW5nIHdpbGwgY29udGludWUgZXZlbiB0aG91Z2ggdGhlIG1vdXNlIGlzIG5vIGxvbmdlciBwcmVzc2VkLlxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX29uQmx1cik7XG5cbiAgICAgICAgdGhpcy5fc3RhdGUgPSAncGVuZGluZyc7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzUG9zID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlKTtcbiAgICAgICAgdGhpcy5faW5lcnRpYSA9IFtbYnJvd3Nlci5ub3coKSwgdGhpcy5fcHJldmlvdXNQb3NdXTtcbiAgICB9XG5cbiAgICBfb25Nb3ZlKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2xhc3RNb3ZlRXZlbnQgPSBlO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdGhpcy5fcG9zID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlKTtcbiAgICAgICAgdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX2luZXJ0aWEucHVzaChbYnJvd3Nlci5ub3coKSwgdGhpcy5fcG9zXSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSAncGVuZGluZycpIHtcbiAgICAgICAgICAgIC8vIHdlIHRyZWF0IHRoZSBmaXJzdCBtb3ZlIGV2ZW50IChyYXRoZXIgdGhhbiB0aGUgbW91c2Vkb3duIGV2ZW50KVxuICAgICAgICAgICAgLy8gYXMgdGhlIHN0YXJ0IG9mIHRoZSBkcmFnXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdhY3RpdmUnO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdkcmFnc3RhcnQnLCBlKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZXN0YXJ0JywgZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSB0aGlzLl9tYXAuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9vbkRyYWdGcmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaW4gZWFjaCByZW5kZXIgZnJhbWUgd2hpbGUgZHJhZ2dpbmcgaXMgaGFwcGVuaW5nLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uRHJhZ0ZyYW1lKCkge1xuICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcblxuICAgICAgICBjb25zdCBlID0gdGhpcy5fbGFzdE1vdmVFdmVudDtcbiAgICAgICAgaWYgKCFlKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy5fbWFwLnRyYW5zZm9ybTtcbiAgICAgICAgdHIuc2V0TG9jYXRpb25BdFBvaW50KHRyLnBvaW50TG9jYXRpb24odGhpcy5fcHJldmlvdXNQb3MpLCB0aGlzLl9wb3MpO1xuICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ2RyYWcnLCBlKTtcbiAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3ZlJywgZSk7XG5cbiAgICAgICAgdGhpcy5fcHJldmlvdXNQb3MgPSB0aGlzLl9wb3M7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sYXN0TW92ZUV2ZW50O1xuICAgIH1cblxuICAgIF9vbk1vdXNlVXAoZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAoRE9NLm1vdXNlQnV0dG9uKGUpICE9PSAwKSByZXR1cm47XG4gICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgRE9NLnN1cHByZXNzQ2xpY2soKTtcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5faW5lcnRpYWxQYW4oZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Ub3VjaEVuZChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICB0aGlzLl9kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9pbmVydGlhbFBhbihlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFzc2VydChmYWxzZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkJsdXIoZTogRm9jdXNFdmVudCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdkcmFnZW5kJywgZSk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmVlbmQnLCBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFzc2VydChmYWxzZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91bmJpbmQoKSB7XG4gICAgICAgIERPTS5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uTW92ZSwge2NhcHR1cmU6IHRydWUsIHBhc3NpdmU6IGZhbHNlfSk7XG4gICAgICAgIERPTS5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ub3VjaEVuZCk7XG4gICAgICAgIERPTS5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ21vdXNlbW92ZScsIHRoaXMuX29uTW92ZSwge2NhcHR1cmU6IHRydWV9KTtcbiAgICAgICAgRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX29uTW91c2VVcCk7XG4gICAgICAgIERPTS5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgJ2JsdXInLCB0aGlzLl9vbkJsdXIpO1xuICAgIH1cblxuICAgIF9kZWFjdGl2YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9mcmFtZUlkKTtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sYXN0TW92ZUV2ZW50O1xuICAgICAgICBkZWxldGUgdGhpcy5fcHJldmlvdXNQb3M7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9wb3M7XG4gICAgfVxuXG4gICAgX2luZXJ0aWFsUGFuKGU6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnZHJhZ2VuZCcsIGUpO1xuXG4gICAgICAgIHRoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpO1xuICAgICAgICBjb25zdCBpbmVydGlhID0gdGhpcy5faW5lcnRpYTtcbiAgICAgICAgaWYgKGluZXJ0aWEubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3ZlZW5kJywgZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsYXN0ID0gaW5lcnRpYVtpbmVydGlhLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgZmlyc3QgPSBpbmVydGlhWzBdLFxuICAgICAgICAgICAgZmxpbmdPZmZzZXQgPSBsYXN0WzFdLnN1YihmaXJzdFsxXSksXG4gICAgICAgICAgICBmbGluZ0R1cmF0aW9uID0gKGxhc3RbMF0gLSBmaXJzdFswXSkgLyAxMDAwO1xuXG4gICAgICAgIGlmIChmbGluZ0R1cmF0aW9uID09PSAwIHx8IGxhc3RbMV0uZXF1YWxzKGZpcnN0WzFdKSkge1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3ZlZW5kJywgZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYWxjdWxhdGUgcHgvcyB2ZWxvY2l0eSAmIGFkanVzdCBmb3IgaW5jcmVhc2VkIGluaXRpYWwgYW5pbWF0aW9uIHNwZWVkIHdoZW4gZWFzaW5nIG91dFxuICAgICAgICBjb25zdCB2ZWxvY2l0eSA9IGZsaW5nT2Zmc2V0Lm11bHQoaW5lcnRpYUxpbmVhcml0eSAvIGZsaW5nRHVyYXRpb24pO1xuICAgICAgICBsZXQgc3BlZWQgPSB2ZWxvY2l0eS5tYWcoKTsgLy8gcHgvc1xuXG4gICAgICAgIGlmIChzcGVlZCA+IGluZXJ0aWFNYXhTcGVlZCkge1xuICAgICAgICAgICAgc3BlZWQgPSBpbmVydGlhTWF4U3BlZWQ7XG4gICAgICAgICAgICB2ZWxvY2l0eS5fdW5pdCgpLl9tdWx0KHNwZWVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gc3BlZWQgLyAoaW5lcnRpYURlY2VsZXJhdGlvbiAqIGluZXJ0aWFMaW5lYXJpdHkpLFxuICAgICAgICAgICAgb2Zmc2V0ID0gdmVsb2NpdHkubXVsdCgtZHVyYXRpb24gLyAyKTtcblxuICAgICAgICB0aGlzLl9tYXAucGFuQnkob2Zmc2V0LCB7XG4gICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24gKiAxMDAwLFxuICAgICAgICAgICAgZWFzaW5nOiBpbmVydGlhRWFzaW5nLFxuICAgICAgICAgICAgbm9Nb3ZlU3RhcnQ6IHRydWVcbiAgICAgICAgfSwgeyBvcmlnaW5hbEV2ZW50OiBlIH0pO1xuICAgIH1cblxuICAgIF9maXJlRXZlbnQodHlwZTogc3RyaW5nLCBlOiAqKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQodHlwZSwgZSA/IHsgb3JpZ2luYWxFdmVudDogZSB9IDoge30pKTtcbiAgICB9XG5cbiAgICBfZHJhaW5JbmVydGlhQnVmZmVyKCkge1xuICAgICAgICBjb25zdCBpbmVydGlhID0gdGhpcy5faW5lcnRpYSxcbiAgICAgICAgICAgIG5vdyA9IGJyb3dzZXIubm93KCksXG4gICAgICAgICAgICBjdXRvZmYgPSAxNjA7ICAgLy8gbXNlY1xuXG4gICAgICAgIHdoaWxlIChpbmVydGlhLmxlbmd0aCA+IDAgJiYgbm93IC0gaW5lcnRpYVswXVswXSA+IGN1dG9mZikgaW5lcnRpYS5zaGlmdCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRHJhZ1BhbkhhbmRsZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBiaW5kQWxsIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5cbmNvbnN0IHBhblN0ZXAgPSAxMDAsXG4gICAgYmVhcmluZ1N0ZXAgPSAxNSxcbiAgICBwaXRjaFN0ZXAgPSAxMDtcblxuLyoqXG4gKiBUaGUgYEtleWJvYXJkSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20sIHJvdGF0ZSwgYW5kIHBhbiB0aGUgbWFwIHVzaW5nXG4gKiB0aGUgZm9sbG93aW5nIGtleWJvYXJkIHNob3J0Y3V0czpcbiAqXG4gKiAtIGA9YCAvIGArYDogSW5jcmVhc2UgdGhlIHpvb20gbGV2ZWwgYnkgMS5cbiAqIC0gYFNoaWZ0LT1gIC8gYFNoaWZ0LStgOiBJbmNyZWFzZSB0aGUgem9vbSBsZXZlbCBieSAyLlxuICogLSBgLWA6IERlY3JlYXNlIHRoZSB6b29tIGxldmVsIGJ5IDEuXG4gKiAtIGBTaGlmdC0tYDogRGVjcmVhc2UgdGhlIHpvb20gbGV2ZWwgYnkgMi5cbiAqIC0gQXJyb3cga2V5czogUGFuIGJ5IDEwMCBwaXhlbHMuXG4gKiAtIGBTaGlmdCvih6JgOiBJbmNyZWFzZSB0aGUgcm90YXRpb24gYnkgMTUgZGVncmVlcy5cbiAqIC0gYFNoaWZ0K+KHoGA6IERlY3JlYXNlIHRoZSByb3RhdGlvbiBieSAxNSBkZWdyZWVzLlxuICogLSBgU2hpZnQr4oehYDogSW5jcmVhc2UgdGhlIHBpdGNoIGJ5IDEwIGRlZ3JlZXMuXG4gKiAtIGBTaGlmdCvih6NgOiBEZWNyZWFzZSB0aGUgcGl0Y2ggYnkgMTAgZGVncmVlcy5cbiAqL1xuY2xhc3MgS2V5Ym9hcmRIYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfZW5hYmxlZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IG1hcC5nZXRDYW52YXNDb250YWluZXIoKTtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25LZXlEb3duJ1xuICAgICAgICBdLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIga2V5Ym9hcmQgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYga2V5Ym9hcmQgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBrZXlib2FyZCBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmtleWJvYXJkLmVuYWJsZSgpO1xuICAgICAqL1xuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyBrZXlib2FyZCBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmtleWJvYXJkLmRpc2FibGUoKTtcbiAgICAgKi9cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bik7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBfb25LZXlEb3duKGU6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgaWYgKGUuYWx0S2V5IHx8IGUuY3RybEtleSB8fCBlLm1ldGFLZXkpIHJldHVybjtcblxuICAgICAgICBsZXQgem9vbURpciA9IDA7XG4gICAgICAgIGxldCBiZWFyaW5nRGlyID0gMDtcbiAgICAgICAgbGV0IHBpdGNoRGlyID0gMDtcbiAgICAgICAgbGV0IHhEaXIgPSAwO1xuICAgICAgICBsZXQgeURpciA9IDA7XG5cbiAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgY2FzZSA2MTpcbiAgICAgICAgY2FzZSAxMDc6XG4gICAgICAgIGNhc2UgMTcxOlxuICAgICAgICBjYXNlIDE4NzpcbiAgICAgICAgICAgIHpvb21EaXIgPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAxODk6XG4gICAgICAgIGNhc2UgMTA5OlxuICAgICAgICBjYXNlIDE3MzpcbiAgICAgICAgICAgIHpvb21EaXIgPSAtMTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGJlYXJpbmdEaXIgPSAtMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHhEaXIgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGJlYXJpbmdEaXIgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgeERpciA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBwaXRjaERpciA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB5RGlyID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBwaXRjaERpciA9IC0xO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB5RGlyID0gMTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBjb25zdCB6b29tID0gbWFwLmdldFpvb20oKTtcblxuICAgICAgICBjb25zdCBlYXNlT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgICBkZWxheUVuZEV2ZW50czogNTAwLFxuICAgICAgICAgICAgZWFzaW5nOiBlYXNlT3V0LFxuXG4gICAgICAgICAgICB6b29tOiB6b29tRGlyID8gTWF0aC5yb3VuZCh6b29tKSArIHpvb21EaXIgKiAoZS5zaGlmdEtleSA/IDIgOiAxKSA6IHpvb20sXG4gICAgICAgICAgICBiZWFyaW5nOiBtYXAuZ2V0QmVhcmluZygpICsgYmVhcmluZ0RpciAqIGJlYXJpbmdTdGVwLFxuICAgICAgICAgICAgcGl0Y2g6IG1hcC5nZXRQaXRjaCgpICsgcGl0Y2hEaXIgKiBwaXRjaFN0ZXAsXG4gICAgICAgICAgICBvZmZzZXQ6IFsteERpciAqIHBhblN0ZXAsIC15RGlyICogcGFuU3RlcF0sXG4gICAgICAgICAgICBjZW50ZXI6IG1hcC5nZXRDZW50ZXIoKVxuICAgICAgICB9O1xuXG4gICAgICAgIG1hcC5lYXNlVG8oZWFzZU9wdGlvbnMsIHtvcmlnaW5hbEV2ZW50OiBlfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBlYXNlT3V0KHQpIHtcbiAgICByZXR1cm4gdCAqICgyIC0gdCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEtleWJvYXJkSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcbmltcG9ydCB0eXBlIHtNYXBNb3VzZUV2ZW50LCBNYXBUb3VjaEV2ZW50fSBmcm9tICcuLi9ldmVudHMnO1xuXG4vKipcbiAqIFRoZSBgRG91YmxlQ2xpY2tab29tSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCBhdCBhIHBvaW50IGJ5XG4gKiBkb3VibGUgY2xpY2tpbmcgb3IgZG91YmxlIHRhcHBpbmcuXG4gKi9cbmNsYXNzIERvdWJsZUNsaWNrWm9vbUhhbmRsZXIge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfZW5hYmxlZDogYm9vbGVhbjtcbiAgICBfYWN0aXZlOiBib29sZWFuO1xuICAgIF90YXBwZWQ6ID9UaW1lb3V0SUQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25EYmxDbGljaycsXG4gICAgICAgICAgICAnX29uWm9vbUVuZCdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRvdWJsZSBjbGljayB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwiZG91YmxlIGNsaWNrIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiZG91YmxlIGNsaWNrIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUsIGkuZS4gY3VycmVudGx5IGJlaW5nIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcImRvdWJsZSBjbGljayB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLlxuICAgICAqL1xuICAgIGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9hY3RpdmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuZG91YmxlQ2xpY2tab29tLmVuYWJsZSgpO1xuICAgICAqL1xuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIFwiZG91YmxlIGNsaWNrIHRvIHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmRvdWJsZUNsaWNrWm9vbS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvblRvdWNoU3RhcnQoZTogTWFwVG91Y2hFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgaWYgKGUucG9pbnRzLmxlbmd0aCA+IDEpIHJldHVybjtcblxuICAgICAgICBpZiAoIXRoaXMuX3RhcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5fdGFwcGVkID0gc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuX3RhcHBlZCA9IG51bGw7IH0sIDMwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGFwcGVkKTtcbiAgICAgICAgICAgIHRoaXMuX3RhcHBlZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl96b29tKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25EYmxDbGljayhlOiBNYXBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICBlLm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fem9vbShlKTtcbiAgICB9XG5cbiAgICBfem9vbShlOiBNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudCkge1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9tYXAub24oJ3pvb21lbmQnLCB0aGlzLl9vblpvb21FbmQpO1xuICAgICAgICB0aGlzLl9tYXAuem9vbVRvKFxuICAgICAgICAgICAgdGhpcy5fbWFwLmdldFpvb20oKSArIChlLm9yaWdpbmFsRXZlbnQuc2hpZnRLZXkgPyAtMSA6IDEpLFxuICAgICAgICAgICAge2Fyb3VuZDogZS5sbmdMYXR9LFxuICAgICAgICAgICAgZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIF9vblpvb21FbmQoKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCd6b29tZW5kJywgdGhpcy5fb25ab29tRW5kKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERvdWJsZUNsaWNrWm9vbUhhbmRsZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGJlemllciwgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uLy4uL3V0aWwvd2luZG93JztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uLy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgeyBFdmVudCB9IGZyb20gJy4uLy4uL3V0aWwvZXZlbnRlZCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuaW1wb3J0IHR5cGUgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgdHlwZSB7VGFza0lEfSBmcm9tICcuLi8uLi91dGlsL3Rhc2tfcXVldWUnO1xuXG5jb25zdCBpbmVydGlhTGluZWFyaXR5ID0gMC4xNSxcbiAgICBpbmVydGlhRWFzaW5nID0gYmV6aWVyKDAsIDAsIGluZXJ0aWFMaW5lYXJpdHksIDEpLFxuICAgIGluZXJ0aWFEZWNlbGVyYXRpb24gPSAxMiwgLy8gc2NhbGUgLyBzXjJcbiAgICBpbmVydGlhTWF4U3BlZWQgPSAyLjUsIC8vIHNjYWxlIC8gc1xuICAgIHNpZ25pZmljYW50U2NhbGVUaHJlc2hvbGQgPSAwLjE1LFxuICAgIHNpZ25pZmljYW50Um90YXRlVGhyZXNob2xkID0gMTA7XG5cbi8qKlxuICogVGhlIGBUb3VjaFpvb21Sb3RhdGVIYW5kbGVyYCBhbGxvd3MgdGhlIHVzZXIgdG8gem9vbSBhbmQgcm90YXRlIHRoZSBtYXAgYnlcbiAqIHBpbmNoaW5nIG9uIGEgdG91Y2hzY3JlZW4uXG4gKi9cbmNsYXNzIFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXIge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfZWw6IEhUTUxFbGVtZW50O1xuICAgIF9lbmFibGVkOiBib29sZWFuO1xuICAgIF9hcm91bmRDZW50ZXI6IGJvb2xlYW47XG4gICAgX3JvdGF0aW9uRGlzYWJsZWQ6IGJvb2xlYW47XG4gICAgX3N0YXJ0VmVjOiBQb2ludDtcbiAgICBfc3RhcnRTY2FsZTogbnVtYmVyO1xuICAgIF9zdGFydEJlYXJpbmc6IG51bWJlcjtcbiAgICBfZ2VzdHVyZUludGVudDogJ3JvdGF0ZScgfCAnem9vbScgfCB2b2lkO1xuICAgIF9pbmVydGlhOiBBcnJheTxbbnVtYmVyLCBudW1iZXIsIFBvaW50XT47XG4gICAgX2xhc3RUb3VjaEV2ZW50OiBUb3VjaEV2ZW50O1xuICAgIF9mcmFtZUlkOiA/VGFza0lEO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2VsID0gbWFwLmdldENhbnZhc0NvbnRhaW5lcigpO1xuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbk1vdmUnLFxuICAgICAgICAgICAgJ19vbkVuZCcsXG4gICAgICAgICAgICAnX29uVG91Y2hGcmFtZSdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcInBpbmNoIHRvIHJvdGF0ZSBhbmQgem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcInBpbmNoIHRvIHJvdGF0ZSBhbmQgem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgaXNFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmFibGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwicGluY2ggdG8gcm90YXRlIGFuZCB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmFyb3VuZF0gSWYgXCJjZW50ZXJcIiBpcyBwYXNzZWQsIG1hcCB3aWxsIHpvb20gYXJvdW5kIHRoZSBjZW50ZXJcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICBtYXAudG91Y2hab29tUm90YXRlLmVuYWJsZSgpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogICBtYXAudG91Y2hab29tUm90YXRlLmVuYWJsZSh7IGFyb3VuZDogJ2NlbnRlcicgfSk7XG4gICAgICovXG4gICAgZW5hYmxlKG9wdGlvbnM6ID97YXJvdW5kPzogJ2NlbnRlcid9KSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlJyk7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9hcm91bmRDZW50ZXIgPSAhIW9wdGlvbnMgJiYgb3B0aW9ucy5hcm91bmQgPT09ICdjZW50ZXInO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSBcInBpbmNoIHRvIHJvdGF0ZSBhbmQgem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC50b3VjaFpvb21Sb3RhdGUuZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZScpO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIFwicGluY2ggdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24sIGxlYXZpbmcgdGhlIFwicGluY2ggdG8gem9vbVwiXG4gICAgICogaW50ZXJhY3Rpb24gZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICBtYXAudG91Y2hab29tUm90YXRlLmRpc2FibGVSb3RhdGlvbigpO1xuICAgICAqL1xuICAgIGRpc2FibGVSb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fcm90YXRpb25EaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJwaW5jaCB0byByb3RhdGVcIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICBtYXAudG91Y2hab29tUm90YXRlLmVuYWJsZSgpO1xuICAgICAqICAgbWFwLnRvdWNoWm9vbVJvdGF0ZS5lbmFibGVSb3RhdGlvbigpO1xuICAgICAqL1xuICAgIGVuYWJsZVJvdGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9yb3RhdGlvbkRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgb25TdGFydChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCAhPT0gMikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHAwID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlLnRvdWNoZXNbMF0pLFxuICAgICAgICAgICAgcDEgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUudG91Y2hlc1sxXSk7XG5cbiAgICAgICAgdGhpcy5fc3RhcnRWZWMgPSBwMC5zdWIocDEpO1xuICAgICAgICB0aGlzLl9nZXN0dXJlSW50ZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9pbmVydGlhID0gW107XG5cbiAgICAgICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3ZlLCB7cGFzc2l2ZTogZmFsc2V9KTtcbiAgICAgICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vbkVuZCk7XG4gICAgfVxuXG4gICAgX2dldFRvdWNoRXZlbnREYXRhKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgY29uc3QgcDAgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUudG91Y2hlc1swXSksXG4gICAgICAgICAgICBwMSA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZS50b3VjaGVzWzFdKTtcblxuICAgICAgICBjb25zdCB2ZWMgPSBwMC5zdWIocDEpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmVjLFxuICAgICAgICAgICAgY2VudGVyOiBwMC5hZGQocDEpLmRpdigyKSxcbiAgICAgICAgICAgIHNjYWxlOiB2ZWMubWFnKCkgLyB0aGlzLl9zdGFydFZlYy5tYWcoKSxcbiAgICAgICAgICAgIGJlYXJpbmc6IHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQgPyAwIDogdmVjLmFuZ2xlV2l0aCh0aGlzLl9zdGFydFZlYykgKiAxODAgLyBNYXRoLlBJXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX29uTW92ZShlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoICE9PSAyKSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qge3ZlYywgc2NhbGUsIGJlYXJpbmd9ID0gdGhpcy5fZ2V0VG91Y2hFdmVudERhdGEoZSk7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lICdpbnRlbnQnIGJ5IHdoaWNoZXZlciB0aHJlc2hvbGQgaXMgc3VycGFzc2VkIGZpcnN0LFxuICAgICAgICAvLyB0aGVuIGtlZXAgdGhhdCBzdGF0ZSBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoaXMgZ2VzdHVyZS5cbiAgICAgICAgaWYgKCF0aGlzLl9nZXN0dXJlSW50ZW50KSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsaW5nU2lnbmlmaWNhbnRseSA9IChNYXRoLmFicygxIC0gc2NhbGUpID4gc2lnbmlmaWNhbnRTY2FsZVRocmVzaG9sZCksXG4gICAgICAgICAgICAgICAgcm90YXRpbmdTaWduaWZpY2FudGx5ID0gKE1hdGguYWJzKGJlYXJpbmcpID4gc2lnbmlmaWNhbnRSb3RhdGVUaHJlc2hvbGQpO1xuXG4gICAgICAgICAgICBpZiAocm90YXRpbmdTaWduaWZpY2FudGx5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VzdHVyZUludGVudCA9ICdyb3RhdGUnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzY2FsaW5nU2lnbmlmaWNhbnRseSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlc3R1cmVJbnRlbnQgPSAnem9vbSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9nZXN0dXJlSW50ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KGAke3RoaXMuX2dlc3R1cmVJbnRlbnR9c3RhcnRgLCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCgnbW92ZXN0YXJ0JywgeyBvcmlnaW5hbEV2ZW50OiBlIH0pKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydFZlYyA9IHZlYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RUb3VjaEV2ZW50ID0gZTtcbiAgICAgICAgaWYgKCF0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gdGhpcy5fbWFwLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fb25Ub3VjaEZyYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBfb25Ub3VjaEZyYW1lKCkge1xuICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcblxuICAgICAgICBjb25zdCBnZXN0dXJlSW50ZW50ID0gdGhpcy5fZ2VzdHVyZUludGVudDtcbiAgICAgICAgaWYgKCFnZXN0dXJlSW50ZW50KSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLl9tYXAudHJhbnNmb3JtO1xuXG4gICAgICAgIGlmICghdGhpcy5fc3RhcnRTY2FsZSkge1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRTY2FsZSA9IHRyLnNjYWxlO1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRCZWFyaW5nID0gdHIuYmVhcmluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHtjZW50ZXIsIGJlYXJpbmcsIHNjYWxlfSA9IHRoaXMuX2dldFRvdWNoRXZlbnREYXRhKHRoaXMuX2xhc3RUb3VjaEV2ZW50KTtcbiAgICAgICAgY29uc3QgYXJvdW5kID0gdHIucG9pbnRMb2NhdGlvbihjZW50ZXIpO1xuICAgICAgICBjb25zdCBhcm91bmRQb2ludCA9IHRyLmxvY2F0aW9uUG9pbnQoYXJvdW5kKTtcblxuICAgICAgICBpZiAoZ2VzdHVyZUludGVudCA9PT0gJ3JvdGF0ZScpIHtcbiAgICAgICAgICAgIHRyLmJlYXJpbmcgPSB0aGlzLl9zdGFydEJlYXJpbmcgKyBiZWFyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgdHIuem9vbSA9IHRyLnNjYWxlWm9vbSh0aGlzLl9zdGFydFNjYWxlICogc2NhbGUpO1xuXG4gICAgICAgIHRyLnNldExvY2F0aW9uQXRQb2ludChhcm91bmQsIGFyb3VuZFBvaW50KTtcblxuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoZ2VzdHVyZUludGVudCwge29yaWdpbmFsRXZlbnQ6IHRoaXMuX2xhc3RUb3VjaEV2ZW50fSkpO1xuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ21vdmUnLCB7b3JpZ2luYWxFdmVudDogdGhpcy5fbGFzdFRvdWNoRXZlbnR9KSk7XG5cbiAgICAgICAgdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX2luZXJ0aWEucHVzaChbYnJvd3Nlci5ub3coKSwgc2NhbGUsIGNlbnRlcl0pO1xuICAgIH1cblxuICAgIF9vbkVuZChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIERPTS5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uTW92ZSwge3Bhc3NpdmU6IGZhbHNlfSk7XG4gICAgICAgIERPTS5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25FbmQpO1xuXG4gICAgICAgIGNvbnN0IGdlc3R1cmVJbnRlbnQgPSB0aGlzLl9nZXN0dXJlSW50ZW50O1xuICAgICAgICBjb25zdCBzdGFydFNjYWxlID0gdGhpcy5fc3RhcnRTY2FsZTtcblxuICAgICAgICBpZiAodGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9mcmFtZUlkKTtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9nZXN0dXJlSW50ZW50O1xuICAgICAgICBkZWxldGUgdGhpcy5fc3RhcnRTY2FsZTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3N0YXJ0QmVhcmluZztcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xhc3RUb3VjaEV2ZW50O1xuXG4gICAgICAgIGlmICghZ2VzdHVyZUludGVudCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudChgJHtnZXN0dXJlSW50ZW50fWVuZGAsIHsgb3JpZ2luYWxFdmVudDogZSB9KSk7XG5cbiAgICAgICAgdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7XG5cbiAgICAgICAgY29uc3QgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWEsXG4gICAgICAgICAgICBtYXAgPSB0aGlzLl9tYXA7XG5cbiAgICAgICAgaWYgKGluZXJ0aWEubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgbWFwLnNuYXBUb05vcnRoKHt9LCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsYXN0ID0gaW5lcnRpYVtpbmVydGlhLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgZmlyc3QgPSBpbmVydGlhWzBdLFxuICAgICAgICAgICAgbGFzdFNjYWxlID0gbWFwLnRyYW5zZm9ybS5zY2FsZVpvb20oc3RhcnRTY2FsZSAqIGxhc3RbMV0pLFxuICAgICAgICAgICAgZmlyc3RTY2FsZSA9IG1hcC50cmFuc2Zvcm0uc2NhbGVab29tKHN0YXJ0U2NhbGUgKiBmaXJzdFsxXSksXG4gICAgICAgICAgICBzY2FsZU9mZnNldCA9IGxhc3RTY2FsZSAtIGZpcnN0U2NhbGUsXG4gICAgICAgICAgICBzY2FsZUR1cmF0aW9uID0gKGxhc3RbMF0gLSBmaXJzdFswXSkgLyAxMDAwLFxuICAgICAgICAgICAgcCA9IGxhc3RbMl07XG5cbiAgICAgICAgaWYgKHNjYWxlRHVyYXRpb24gPT09IDAgfHwgbGFzdFNjYWxlID09PSBmaXJzdFNjYWxlKSB7XG4gICAgICAgICAgICBtYXAuc25hcFRvTm9ydGgoe30sIHsgb3JpZ2luYWxFdmVudDogZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBzY2FsZS9zIHNwZWVkIGFuZCBhZGp1c3QgZm9yIGluY3JlYXNlZCBpbml0aWFsIGFuaW1hdGlvbiBzcGVlZCB3aGVuIGVhc2luZ1xuICAgICAgICBsZXQgc3BlZWQgPSBzY2FsZU9mZnNldCAqIGluZXJ0aWFMaW5lYXJpdHkgLyBzY2FsZUR1cmF0aW9uOyAvLyBzY2FsZS9zXG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHNwZWVkKSA+IGluZXJ0aWFNYXhTcGVlZCkge1xuICAgICAgICAgICAgaWYgKHNwZWVkID4gMCkge1xuICAgICAgICAgICAgICAgIHNwZWVkID0gaW5lcnRpYU1heFNwZWVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzcGVlZCA9IC1pbmVydGlhTWF4U3BlZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IE1hdGguYWJzKHNwZWVkIC8gKGluZXJ0aWFEZWNlbGVyYXRpb24gKiBpbmVydGlhTGluZWFyaXR5KSkgKiAxMDAwO1xuICAgICAgICBsZXQgdGFyZ2V0U2NhbGUgPSBsYXN0U2NhbGUgKyBzcGVlZCAqIGR1cmF0aW9uIC8gMjAwMDtcblxuICAgICAgICBpZiAodGFyZ2V0U2NhbGUgPCAwKSB7XG4gICAgICAgICAgICB0YXJnZXRTY2FsZSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBtYXAuZWFzZVRvKHtcbiAgICAgICAgICAgIHpvb206IHRhcmdldFNjYWxlLFxuICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgICAgZWFzaW5nOiBpbmVydGlhRWFzaW5nLFxuICAgICAgICAgICAgYXJvdW5kOiB0aGlzLl9hcm91bmRDZW50ZXIgPyBtYXAuZ2V0Q2VudGVyKCkgOiBtYXAudW5wcm9qZWN0KHApLFxuICAgICAgICAgICAgbm9Nb3ZlU3RhcnQ6IHRydWVcbiAgICAgICAgfSwgeyBvcmlnaW5hbEV2ZW50OiBlIH0pO1xuICAgIH1cblxuICAgIF9kcmFpbkluZXJ0aWFCdWZmZXIoKSB7XG4gICAgICAgIGNvbnN0IGluZXJ0aWEgPSB0aGlzLl9pbmVydGlhLFxuICAgICAgICAgICAgbm93ID0gYnJvd3Nlci5ub3coKSxcbiAgICAgICAgICAgIGN1dG9mZiA9IDE2MDsgLy8gbXNlY1xuXG4gICAgICAgIHdoaWxlIChpbmVydGlhLmxlbmd0aCA+IDIgJiYgbm93IC0gaW5lcnRpYVswXVswXSA+IGN1dG9mZikgaW5lcnRpYS5zaGlmdCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVG91Y2hab29tUm90YXRlSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IE1hcE1vdXNlRXZlbnQsIE1hcFRvdWNoRXZlbnQsIE1hcFdoZWVsRXZlbnQgfSBmcm9tICcuLi91aS9ldmVudHMnO1xuaW1wb3J0IERPTSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHNjcm9sbFpvb20gZnJvbSAnLi9oYW5kbGVyL3Njcm9sbF96b29tJztcbmltcG9ydCBib3hab29tIGZyb20gJy4vaGFuZGxlci9ib3hfem9vbSc7XG5pbXBvcnQgZHJhZ1JvdGF0ZSBmcm9tICcuL2hhbmRsZXIvZHJhZ19yb3RhdGUnO1xuaW1wb3J0IGRyYWdQYW4gZnJvbSAnLi9oYW5kbGVyL2RyYWdfcGFuJztcbmltcG9ydCBrZXlib2FyZCBmcm9tICcuL2hhbmRsZXIva2V5Ym9hcmQnO1xuaW1wb3J0IGRvdWJsZUNsaWNrWm9vbSBmcm9tICcuL2hhbmRsZXIvZGJsY2xpY2tfem9vbSc7XG5pbXBvcnQgdG91Y2hab29tUm90YXRlIGZyb20gJy4vaGFuZGxlci90b3VjaF96b29tX3JvdGF0ZSc7XG5cbmNvbnN0IGhhbmRsZXJzID0ge1xuICAgIHNjcm9sbFpvb20sXG4gICAgYm94Wm9vbSxcbiAgICBkcmFnUm90YXRlLFxuICAgIGRyYWdQYW4sXG4gICAga2V5Ym9hcmQsXG4gICAgZG91YmxlQ2xpY2tab29tLFxuICAgIHRvdWNoWm9vbVJvdGF0ZVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmluZEhhbmRsZXJzKG1hcDogTWFwLCBvcHRpb25zOiB7fSkge1xuICAgIGNvbnN0IGVsID0gbWFwLmdldENhbnZhc0NvbnRhaW5lcigpO1xuICAgIGxldCBjb250ZXh0TWVudUV2ZW50ID0gbnVsbDtcbiAgICBsZXQgbW91c2VEb3duID0gZmFsc2U7XG5cbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gaGFuZGxlcnMpIHtcbiAgICAgICAgKG1hcDogYW55KVtuYW1lXSA9IG5ldyBoYW5kbGVyc1tuYW1lXShtYXAsIG9wdGlvbnMpO1xuICAgICAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGl2ZSAmJiBvcHRpb25zW25hbWVdKSB7XG4gICAgICAgICAgICAobWFwOiBhbnkpW25hbWVdLmVuYWJsZShvcHRpb25zW25hbWVdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAnbW91c2VvdXQnLCBvbk1vdXNlT3V0KTtcbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ21vdXNlZG93bicsIG9uTW91c2VEb3duKTtcbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ21vdXNldXAnLCBvbk1vdXNlVXApO1xuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAnbW91c2VvdmVyJywgb25Nb3VzZU92ZXIpO1xuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCwge3Bhc3NpdmU6IGZhbHNlfSk7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwge3Bhc3NpdmU6IHRydWV9KTsgLy8gYHBhc3NpdmU6IHRydWVgIGJlY2F1c2Ugb25Ub3VjaE1vdmUgb25seSBzZW5kcyBhIG1hcCBldmVudC5cbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCk7ICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcmVhbCBhY3Rpb24gaXMgaW4gRHJhZ1BhbkhhbmRsZXIgYW5kIFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXIuXG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICd0b3VjaGNhbmNlbCcsIG9uVG91Y2hDYW5jZWwpO1xuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAnY2xpY2snLCBvbkNsaWNrKTtcbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2RibGNsaWNrJywgb25EYmxDbGljayk7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICdjb250ZXh0bWVudScsIG9uQ29udGV4dE1lbnUpO1xuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAnd2hlZWwnLCBvbldoZWVsLCB7cGFzc2l2ZTogZmFsc2V9KTtcblxuICAgIGZ1bmN0aW9uIG9uTW91c2VEb3duKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgbW91c2VEb3duID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBtYXBFdmVudCA9IG5ldyBNYXBNb3VzZUV2ZW50KCdtb3VzZWRvd24nLCBtYXAsIGUpO1xuICAgICAgICBtYXAuZmlyZShtYXBFdmVudCk7XG5cbiAgICAgICAgaWYgKG1hcEV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmludGVyYWN0aXZlICYmICFtYXAuZG91YmxlQ2xpY2tab29tLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIG1hcC5zdG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBtYXAuYm94Wm9vbS5vbk1vdXNlRG93bihlKTtcblxuICAgICAgICBpZiAoIW1hcC5ib3hab29tLmlzQWN0aXZlKCkgJiYgIW1hcC5kcmFnUGFuLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIG1hcC5kcmFnUm90YXRlLm9uTW91c2VEb3duKGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFtYXAuYm94Wm9vbS5pc0FjdGl2ZSgpICYmICFtYXAuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICBtYXAuZHJhZ1Bhbi5vbk1vdXNlRG93bihlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTW91c2VVcChlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHJvdGF0aW5nID0gbWFwLmRyYWdSb3RhdGUuaXNBY3RpdmUoKTtcblxuICAgICAgICBpZiAoY29udGV4dE1lbnVFdmVudCAmJiAhcm90YXRpbmcpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBiZSB0aGUgY2FzZSBmb3IgTWFjXG4gICAgICAgICAgICBtYXAuZmlyZShuZXcgTWFwTW91c2VFdmVudCgnY29udGV4dG1lbnUnLCBtYXAsIGNvbnRleHRNZW51RXZlbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHRNZW51RXZlbnQgPSBudWxsO1xuICAgICAgICBtb3VzZURvd24gPSBmYWxzZTtcblxuICAgICAgICBtYXAuZmlyZShuZXcgTWFwTW91c2VFdmVudCgnbW91c2V1cCcsIG1hcCwgZSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKG1hcC5kcmFnUGFuLmlzQWN0aXZlKCkpIHJldHVybjtcbiAgICAgICAgaWYgKG1hcC5kcmFnUm90YXRlLmlzQWN0aXZlKCkpIHJldHVybjtcblxuICAgICAgICBsZXQgdGFyZ2V0OiBhbnkgPSBlLnRvRWxlbWVudCB8fCBlLnRhcmdldDtcbiAgICAgICAgd2hpbGUgKHRhcmdldCAmJiB0YXJnZXQgIT09IGVsKSB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgICAgaWYgKHRhcmdldCAhPT0gZWwpIHJldHVybjtcblxuICAgICAgICBtYXAuZmlyZShuZXcgTWFwTW91c2VFdmVudCgnbW91c2Vtb3ZlJywgbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3VzZU92ZXIoZTogTW91c2VFdmVudCkge1xuICAgICAgICBsZXQgdGFyZ2V0OiBhbnkgPSBlLnRvRWxlbWVudCB8fCBlLnRhcmdldDtcbiAgICAgICAgd2hpbGUgKHRhcmdldCAmJiB0YXJnZXQgIT09IGVsKSB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgICAgaWYgKHRhcmdldCAhPT0gZWwpIHJldHVybjtcblxuICAgICAgICBtYXAuZmlyZShuZXcgTWFwTW91c2VFdmVudCgnbW91c2VvdmVyJywgbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3VzZU91dChlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIG1hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KCdtb3VzZW91dCcsIG1hcCwgZSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uVG91Y2hTdGFydChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IG1hcEV2ZW50ID0gbmV3IE1hcFRvdWNoRXZlbnQoJ3RvdWNoc3RhcnQnLCBtYXAsIGUpO1xuICAgICAgICBtYXAuZmlyZShtYXBFdmVudCk7XG5cbiAgICAgICAgaWYgKG1hcEV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBtYXAuc3RvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFtYXAuYm94Wm9vbS5pc0FjdGl2ZSgpICYmICFtYXAuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICBtYXAuZHJhZ1Bhbi5vblRvdWNoU3RhcnQoZSk7XG4gICAgICAgIH1cblxuICAgICAgICBtYXAudG91Y2hab29tUm90YXRlLm9uU3RhcnQoZSk7XG4gICAgICAgIG1hcC5kb3VibGVDbGlja1pvb20ub25Ub3VjaFN0YXJ0KG1hcEV2ZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblRvdWNoTW92ZShlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIG1hcC5maXJlKG5ldyBNYXBUb3VjaEV2ZW50KCd0b3VjaG1vdmUnLCBtYXAsIGUpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblRvdWNoRW5kKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgbWFwLmZpcmUobmV3IE1hcFRvdWNoRXZlbnQoJ3RvdWNoZW5kJywgbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Ub3VjaENhbmNlbChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIG1hcC5maXJlKG5ldyBNYXBUb3VjaEV2ZW50KCd0b3VjaGNhbmNlbCcsIG1hcCwgZSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQ2xpY2soZTogTW91c2VFdmVudCkge1xuICAgICAgICBtYXAuZmlyZShuZXcgTWFwTW91c2VFdmVudCgnY2xpY2snLCBtYXAsIGUpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkRibENsaWNrKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgY29uc3QgbWFwRXZlbnQgPSBuZXcgTWFwTW91c2VFdmVudCgnZGJsY2xpY2snLCBtYXAsIGUpO1xuICAgICAgICBtYXAuZmlyZShtYXBFdmVudCk7XG5cbiAgICAgICAgaWYgKG1hcEV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcC5kb3VibGVDbGlja1pvb20ub25EYmxDbGljayhtYXBFdmVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Db250ZXh0TWVudShlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHJvdGF0aW5nID0gbWFwLmRyYWdSb3RhdGUuaXNBY3RpdmUoKTtcbiAgICAgICAgaWYgKCFtb3VzZURvd24gJiYgIXJvdGF0aW5nKSB7XG4gICAgICAgICAgICAvLyBXaW5kb3dzOiBjb250ZXh0bWVudSBmaXJlZCBvbiBtb3VzZXVwLCBzbyBmaXJlIGV2ZW50IG5vd1xuICAgICAgICAgICAgbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoJ2NvbnRleHRtZW51JywgbWFwLCBlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAobW91c2VEb3duKSB7XG4gICAgICAgICAgICAvLyBNYWM6IGNvbnRleHRtZW51IGZpcmVkIG9uIG1vdXNlZG93bjsgd2Ugc2F2ZSBpdCB1bnRpbCBtb3VzZXVwIGZvciBjb25zaXN0ZW5jeSdzIHNha2VcbiAgICAgICAgICAgIGNvbnRleHRNZW51RXZlbnQgPSBlO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uV2hlZWwoZTogV2hlZWxFdmVudCkge1xuICAgICAgICBjb25zdCBtYXBFdmVudCA9IG5ldyBNYXBXaGVlbEV2ZW50KCd3aGVlbCcsIG1hcCwgZSk7XG4gICAgICAgIG1hcC5maXJlKG1hcEV2ZW50KTtcblxuICAgICAgICBpZiAobWFwRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFwLnNjcm9sbFpvb20ub25XaGVlbChlKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIGJpbmRBbGwsXG4gICAgZXh0ZW5kLFxuICAgIGRlZXBFcXVhbCxcbiAgICB3YXJuT25jZSxcbiAgICBjbGFtcCxcbiAgICB3cmFwLFxuICAgIGVhc2UgYXMgZGVmYXVsdEVhc2luZ1xufSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgbnVtYmVyIGFzIGludGVycG9sYXRlIH0gZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2ludGVycG9sYXRlJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCBMbmdMYXRCb3VuZHMgZnJvbSAnLi4vZ2VvL2xuZ19sYXRfYm91bmRzJztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7IEV2ZW50LCBFdmVudGVkIH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcblxuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUge0xuZ0xhdExpa2V9IGZyb20gJy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCB0eXBlIHtMbmdMYXRCb3VuZHNMaWtlfSBmcm9tICcuLi9nZW8vbG5nX2xhdF9ib3VuZHMnO1xuaW1wb3J0IHR5cGUge1Rhc2tJRH0gZnJvbSAnLi4vdXRpbC90YXNrX3F1ZXVlJztcblxuLyoqXG4gKiBPcHRpb25zIGNvbW1vbiB0byB7QGxpbmsgTWFwI2p1bXBUb30sIHtAbGluayBNYXAjZWFzZVRvfSwgYW5kIHtAbGluayBNYXAjZmx5VG99LCBjb250cm9sbGluZyB0aGUgZGVzaXJlZCBsb2NhdGlvbixcbiAqIHpvb20sIGJlYXJpbmcsIGFuZCBwaXRjaCBvZiB0aGUgY2FtZXJhLiBBbGwgcHJvcGVydGllcyBhcmUgb3B0aW9uYWwsIGFuZCB3aGVuIGEgcHJvcGVydHkgaXMgb21pdHRlZCwgdGhlIGN1cnJlbnRcbiAqIGNhbWVyYSB2YWx1ZSBmb3IgdGhhdCBwcm9wZXJ0eSB3aWxsIHJlbWFpbiB1bmNoYW5nZWQuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gQ2FtZXJhT3B0aW9uc1xuICogQHByb3BlcnR5IHtMbmdMYXRMaWtlfSBjZW50ZXIgVGhlIGRlc2lyZWQgY2VudGVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHpvb20gVGhlIGRlc2lyZWQgem9vbSBsZXZlbC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiZWFyaW5nIFRoZSBkZXNpcmVkIGJlYXJpbmcsIGluIGRlZ3JlZXMuIFRoZSBiZWFyaW5nIGlzIHRoZSBjb21wYXNzIGRpcmVjdGlvbiB0aGF0XG4gKiBpcyBcInVwXCI7IGZvciBleGFtcGxlLCBhIGJlYXJpbmcgb2YgOTDCsCBvcmllbnRzIHRoZSBtYXAgc28gdGhhdCBlYXN0IGlzIHVwLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBpdGNoIFRoZSBkZXNpcmVkIHBpdGNoLCBpbiBkZWdyZWVzLlxuICogQHByb3BlcnR5IHtMbmdMYXRMaWtlfSBhcm91bmQgSWYgYHpvb21gIGlzIHNwZWNpZmllZCwgYGFyb3VuZGAgZGV0ZXJtaW5lcyB0aGUgcG9pbnQgYXJvdW5kIHdoaWNoIHRoZSB6b29tIGlzIGNlbnRlcmVkLlxuICovXG5leHBvcnQgdHlwZSBDYW1lcmFPcHRpb25zID0ge1xuICAgIGNlbnRlcj86IExuZ0xhdExpa2UsXG4gICAgem9vbT86IG51bWJlcixcbiAgICBiZWFyaW5nPzogbnVtYmVyLFxuICAgIHBpdGNoPzogbnVtYmVyLFxuICAgIGFyb3VuZD86IExuZ0xhdExpa2Vcbn07XG5cbi8qKlxuICogT3B0aW9ucyBjb21tb24gdG8gbWFwIG1vdmVtZW50IG1ldGhvZHMgdGhhdCBpbnZvbHZlIGFuaW1hdGlvbiwgc3VjaCBhcyB7QGxpbmsgTWFwI3BhbkJ5fSBhbmRcbiAqIHtAbGluayBNYXAjZWFzZVRvfSwgY29udHJvbGxpbmcgdGhlIGR1cmF0aW9uIGFuZCBlYXNpbmcgZnVuY3Rpb24gb2YgdGhlIGFuaW1hdGlvbi4gQWxsIHByb3BlcnRpZXNcbiAqIGFyZSBvcHRpb25hbC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmltYXRpb25PcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb24gVGhlIGFuaW1hdGlvbidzIGR1cmF0aW9uLCBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBlYXNpbmcgQSBmdW5jdGlvbiB0YWtpbmcgYSB0aW1lIGluIHRoZSByYW5nZSAwLi4xIGFuZCByZXR1cm5pbmcgYSBudW1iZXIgd2hlcmUgMCBpc1xuICogICB0aGUgaW5pdGlhbCBzdGF0ZSBhbmQgMSBpcyB0aGUgZmluYWwgc3RhdGUuXG4gKiBAcHJvcGVydHkge1BvaW50TGlrZX0gb2Zmc2V0IG9mIHRoZSB0YXJnZXQgY2VudGVyIHJlbGF0aXZlIHRvIHJlYWwgbWFwIGNvbnRhaW5lciBjZW50ZXIgYXQgdGhlIGVuZCBvZiBhbmltYXRpb24uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGUgSWYgYGZhbHNlYCwgbm8gYW5pbWF0aW9uIHdpbGwgb2NjdXIuXG4gKi9cbmV4cG9ydCB0eXBlIEFuaW1hdGlvbk9wdGlvbnMgPSB7XG4gICAgZHVyYXRpb24/OiBudW1iZXIsXG4gICAgZWFzaW5nPzogKG51bWJlcikgPT4gbnVtYmVyLFxuICAgIG9mZnNldD86IFBvaW50TGlrZSxcbiAgICBhbmltYXRlPzogYm9vbGVhblxufTtcblxuLyoqXG4gKiBPcHRpb25zIGZvciBzZXR0aW5nIHBhZGRpbmcgb24gYSBjYWxsIHRvIHtAbGluayBNYXAjZml0Qm91bmRzfS4gQWxsIHByb3BlcnRpZXMgb2YgdGhpcyBvYmplY3QgbXVzdCBiZVxuICogbm9uLW5lZ2F0aXZlIGludGVnZXJzLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBhZGRpbmdPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gdG9wIFBhZGRpbmcgaW4gcGl4ZWxzIGZyb20gdGhlIHRvcCBvZiB0aGUgbWFwIGNhbnZhcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBib3R0b20gUGFkZGluZyBpbiBwaXhlbHMgZnJvbSB0aGUgYm90dG9tIG9mIHRoZSBtYXAgY2FudmFzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxlZnQgUGFkZGluZyBpbiBwaXhlbHMgZnJvbSB0aGUgbGVmdCBvZiB0aGUgbWFwIGNhbnZhcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByaWdodCBQYWRkaW5nIGluIHBpeGVscyBmcm9tIHRoZSByaWdodCBvZiB0aGUgbWFwIGNhbnZhcy5cbiAqL1xuXG5jbGFzcyBDYW1lcmEgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybTtcbiAgICBfbW92aW5nOiBib29sZWFuO1xuICAgIF96b29taW5nOiBib29sZWFuO1xuICAgIF9yb3RhdGluZzogYm9vbGVhbjtcbiAgICBfcGl0Y2hpbmc6IGJvb2xlYW47XG5cbiAgICBfYmVhcmluZ1NuYXA6IG51bWJlcjtcbiAgICBfZWFzZUVuZFRpbWVvdXRJRDogVGltZW91dElEO1xuICAgIF9lYXNlU3RhcnQ6IG51bWJlcjtcbiAgICBfZWFzZU9wdGlvbnM6IHtkdXJhdGlvbjogbnVtYmVyLCBlYXNpbmc6IChudW1iZXIpID0+IG51bWJlcn07XG5cbiAgICBfb25FYXNlRnJhbWU6IChudW1iZXIpID0+IHZvaWQ7XG4gICAgX29uRWFzZUVuZDogKCkgPT4gdm9pZDtcbiAgICBfZWFzZUZyYW1lSWQ6ID9UYXNrSUQ7XG5cbiAgICArX3JlcXVlc3RSZW5kZXJGcmFtZTogKCgpID0+IHZvaWQpID0+IFRhc2tJRDtcbiAgICArX2NhbmNlbFJlbmRlckZyYW1lOiAoVGFza0lEKSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIG9wdGlvbnM6IHtiZWFyaW5nU25hcDogbnVtYmVyfSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9tb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fem9vbWluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgdGhpcy5fYmVhcmluZ1NuYXAgPSBvcHRpb25zLmJlYXJpbmdTbmFwO1xuXG4gICAgICAgIGJpbmRBbGwoWydfcmVuZGVyRnJhbWVDYWxsYmFjayddLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBnZW9ncmFwaGljYWwgY2VudGVycG9pbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEByZXR1cm5zIFRoZSBtYXAncyBnZW9ncmFwaGljYWwgY2VudGVycG9pbnQuXG4gICAgICovXG4gICAgZ2V0Q2VudGVyKCk6IExuZ0xhdCB7IHJldHVybiB0aGlzLnRyYW5zZm9ybS5jZW50ZXI7IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBjZW50ZXJwb2ludC4gRXF1aXZhbGVudCB0byBganVtcFRvKHtjZW50ZXI6IGNlbnRlcn0pYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIGNlbnRlciBUaGUgY2VudGVycG9pbnQgdG8gc2V0LlxuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRDZW50ZXIoWy03NCwgMzhdKTtcbiAgICAgKiBAc2VlIFtNb3ZlIHN5bWJvbCB3aXRoIHRoZSBrZXlib2FyZF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9yb3RhdGluZy1jb250cm9sbGFibGUtbWFya2VyLylcbiAgICAgKi9cbiAgICBzZXRDZW50ZXIoY2VudGVyOiBMbmdMYXRMaWtlLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuanVtcFRvKHtjZW50ZXI6IGNlbnRlcn0sIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFucyB0aGUgbWFwIGJ5IHRoZSBzcGVjaWZpZWQgb2ZmZXN0LlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzIGJ5IHdoaWNoIHRvIHBhbiB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBzZWUgW05hdmlnYXRlIHRoZSBtYXAgd2l0aCBnYW1lLWxpa2UgY29udHJvbHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2FtZS1jb250cm9scy8pXG4gICAgICovXG4gICAgcGFuQnkob2Zmc2V0OiBQb2ludExpa2UsIG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgb2Zmc2V0ID0gUG9pbnQuY29udmVydChvZmZzZXQpLm11bHQoLTEpO1xuICAgICAgICByZXR1cm4gdGhpcy5wYW5Ubyh0aGlzLnRyYW5zZm9ybS5jZW50ZXIsIGV4dGVuZCh7b2Zmc2V0fSwgb3B0aW9ucyksIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFucyB0aGUgbWFwIHRvIHRoZSBzcGVjaWZpZWQgbG9jYXRpb24sIHdpdGggYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIGxuZ2xhdCBUaGUgbG9jYXRpb24gdG8gcGFuIHRoZSBtYXAgdG8uXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgcGFuVG8obG5nbGF0OiBMbmdMYXRMaWtlLCBvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhc2VUbyhleHRlbmQoe1xuICAgICAgICAgICAgY2VudGVyOiBsbmdsYXRcbiAgICAgICAgfSwgb3B0aW9ucyksIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcmV0dXJucyBUaGUgbWFwJ3MgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqL1xuICAgIGdldFpvb20oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnpvb207IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCdzIHpvb20gbGV2ZWwuIEVxdWl2YWxlbnQgdG8gYGp1bXBUbyh7em9vbTogem9vbX0pYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHpvb20gVGhlIHpvb20gbGV2ZWwgdG8gc2V0ICgwLTIwKS5cbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyB6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZVxuICAgICAqIEBmaXJlcyB6b29tXG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAZmlyZXMgem9vbWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gem9vbSB0aGUgbWFwIHRvIDVcbiAgICAgKiBtYXAuc2V0Wm9vbSg1KTtcbiAgICAgKi9cbiAgICBzZXRab29tKHpvb206IG51bWJlciwgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuanVtcFRvKHt6b29tOiB6b29tfSwgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWm9vbXMgdGhlIG1hcCB0byB0aGUgc3BlY2lmaWVkIHpvb20gbGV2ZWwsIHdpdGggYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHpvb20gVGhlIHpvb20gbGV2ZWwgdG8gdHJhbnNpdGlvbiB0by5cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIHpvb21zdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlXG4gICAgICogQGZpcmVzIHpvb21cbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEBmaXJlcyB6b29tZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgem9vbVRvKHpvb206IG51bWJlciwgb3B0aW9uczogPyBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFzZVRvKGV4dGVuZCh7XG4gICAgICAgICAgICB6b29tOiB6b29tXG4gICAgICAgIH0sIG9wdGlvbnMpLCBldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluY3JlYXNlcyB0aGUgbWFwJ3Mgem9vbSBsZXZlbCBieSAxLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIHpvb21zdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlXG4gICAgICogQGZpcmVzIHpvb21cbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEBmaXJlcyB6b29tZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgem9vbUluKG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy56b29tVG8odGhpcy5nZXRab29tKCkgKyAxLCBvcHRpb25zLCBldmVudERhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWNyZWFzZXMgdGhlIG1hcCdzIHpvb20gbGV2ZWwgYnkgMS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyB6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZVxuICAgICAqIEBmaXJlcyB6b29tXG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAZmlyZXMgem9vbWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHpvb21PdXQob3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICB0aGlzLnpvb21Ubyh0aGlzLmdldFpvb20oKSAtIDEsIG9wdGlvbnMsIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGN1cnJlbnQgYmVhcmluZy4gVGhlIGJlYXJpbmcgaXMgdGhlIGNvbXBhc3MgZGlyZWN0aW9uIHRoYXQgaXMgXFxcInVwXFxcIjsgZm9yIGV4YW1wbGUsIGEgYmVhcmluZ1xuICAgICAqIG9mIDkwwrAgb3JpZW50cyB0aGUgbWFwIHNvIHRoYXQgZWFzdCBpcyB1cC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHJldHVybnMgVGhlIG1hcCdzIGN1cnJlbnQgYmVhcmluZy5cbiAgICAgKiBAc2VlIFtOYXZpZ2F0ZSB0aGUgbWFwIHdpdGggZ2FtZS1saWtlIGNvbnRyb2xzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dhbWUtY29udHJvbHMvKVxuICAgICAqL1xuICAgIGdldEJlYXJpbmcoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmJlYXJpbmc7IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCdzIGJlYXJpbmcgKHJvdGF0aW9uKS4gVGhlIGJlYXJpbmcgaXMgdGhlIGNvbXBhc3MgZGlyZWN0aW9uIHRoYXQgaXMgXFxcInVwXFxcIjsgZm9yIGV4YW1wbGUsIGEgYmVhcmluZ1xuICAgICAqIG9mIDkwwrAgb3JpZW50cyB0aGUgbWFwIHNvIHRoYXQgZWFzdCBpcyB1cC5cbiAgICAgKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gYGp1bXBUbyh7YmVhcmluZzogYmVhcmluZ30pYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIGJlYXJpbmcgVGhlIGRlc2lyZWQgYmVhcmluZy5cbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyByb3RhdGUgdGhlIG1hcCB0byA5MCBkZWdyZWVzXG4gICAgICogbWFwLnNldEJlYXJpbmcoOTApO1xuICAgICAqL1xuICAgIHNldEJlYXJpbmcoYmVhcmluZzogbnVtYmVyLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5qdW1wVG8oe2JlYXJpbmc6IGJlYXJpbmd9LCBldmVudERhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoZSBtYXAgdG8gdGhlIHNwZWNpZmllZCBiZWFyaW5nLCB3aXRoIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uIFRoZSBiZWFyaW5nIGlzIHRoZSBjb21wYXNzIGRpcmVjdGlvblxuICAgICAqIHRoYXQgaXMgXFxcInVwXFxcIjsgZm9yIGV4YW1wbGUsIGEgYmVhcmluZyBvZiA5MMKwIG9yaWVudHMgdGhlIG1hcCBzbyB0aGF0IGVhc3QgaXMgdXAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBiZWFyaW5nIFRoZSBkZXNpcmVkIGJlYXJpbmcuXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgcm90YXRlVG8oYmVhcmluZzogbnVtYmVyLCBvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhc2VUbyhleHRlbmQoe1xuICAgICAgICAgICAgYmVhcmluZzogYmVhcmluZ1xuICAgICAgICB9LCBvcHRpb25zKSwgZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoZSBtYXAgc28gdGhhdCBub3J0aCBpcyB1cCAoMMKwIGJlYXJpbmcpLCB3aXRoIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHJlc2V0Tm9ydGgob3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICB0aGlzLnJvdGF0ZVRvKDAsIGV4dGVuZCh7ZHVyYXRpb246IDEwMDB9LCBvcHRpb25zKSwgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU25hcHMgdGhlIG1hcCBzbyB0aGF0IG5vcnRoIGlzIHVwICgwwrAgYmVhcmluZyksIGlmIHRoZSBjdXJyZW50IGJlYXJpbmcgaXMgY2xvc2UgZW5vdWdoIHRvIGl0IChpLmUuIHdpdGhpbiB0aGVcbiAgICAgKiBgYmVhcmluZ1NuYXBgIHRocmVzaG9sZCkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHNuYXBUb05vcnRoKG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuZ2V0QmVhcmluZygpKSA8IHRoaXMuX2JlYXJpbmdTbmFwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNldE5vcnRoKG9wdGlvbnMsIGV2ZW50RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgY3VycmVudCBwaXRjaCAodGlsdCkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEByZXR1cm5zIFRoZSBtYXAncyBjdXJyZW50IHBpdGNoLCBtZWFzdXJlZCBpbiBkZWdyZWVzIGF3YXkgZnJvbSB0aGUgcGxhbmUgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICBnZXRQaXRjaCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl0Y2g7IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCdzIHBpdGNoICh0aWx0KS4gRXF1aXZhbGVudCB0byBganVtcFRvKHtwaXRjaDogcGl0Y2h9KWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBwaXRjaCBUaGUgcGl0Y2ggdG8gc2V0LCBtZWFzdXJlZCBpbiBkZWdyZWVzIGF3YXkgZnJvbSB0aGUgcGxhbmUgb2YgdGhlIHNjcmVlbiAoMC02MCkuXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBwaXRjaHN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0UGl0Y2gocGl0Y2g6IG51bWJlciwgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuanVtcFRvKHtwaXRjaDogcGl0Y2h9LCBldmVudERhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFBhbnMgYW5kIHpvb21zIHRoZSBtYXAgdG8gY29udGFpbiBpdHMgdmlzaWJsZSBhcmVhIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGdlb2dyYXBoaWNhbCBib3VuZHMuXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIGFsc28gcmVzZXQgdGhlIG1hcCdzIGJlYXJpbmcgdG8gMCBpZiBiZWFyaW5nIGlzIG5vbnplcm8uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBib3VuZHMgQ2VudGVyIHRoZXNlIGJvdW5kcyBpbiB0aGUgdmlld3BvcnQgYW5kIHVzZSB0aGUgaGlnaGVzdFxuICAgICAqICAgICAgem9vbSBsZXZlbCB1cCB0byBhbmQgaW5jbHVkaW5nIGBNYXAjZ2V0TWF4Wm9vbSgpYCB0aGF0IGZpdHMgdGhlbSBpbiB0aGUgdmlld3BvcnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlciB8IFBhZGRpbmdPcHRpb25zfSBbb3B0aW9ucy5wYWRkaW5nXSBUaGUgYW1vdW50IG9mIHBhZGRpbmcgaW4gcGl4ZWxzIHRvIGFkZCB0byB0aGUgZ2l2ZW4gYm91bmRzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGluZWFyPWZhbHNlXSBJZiBgdHJ1ZWAsIHRoZSBtYXAgdHJhbnNpdGlvbnMgdXNpbmdcbiAgICAgKiAgICAge0BsaW5rIE1hcCNlYXNlVG99LiBJZiBgZmFsc2VgLCB0aGUgbWFwIHRyYW5zaXRpb25zIHVzaW5nIHtAbGluayBNYXAjZmx5VG99LiBTZWVcbiAgICAgKiAgICAgdGhvc2UgZnVuY3Rpb25zIGFuZCB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30gZm9yIGluZm9ybWF0aW9uIGFib3V0IG9wdGlvbnMgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmVhc2luZ10gQW4gZWFzaW5nIGZ1bmN0aW9uIGZvciB0aGUgYW5pbWF0ZWQgdHJhbnNpdGlvbi4gU2VlIHtAbGluayBBbmltYXRpb25PcHRpb25zfS5cbiAgICAgKiBAcGFyYW0ge1BvaW50TGlrZX0gW29wdGlvbnMub2Zmc2V0PVswLCAwXV0gVGhlIGNlbnRlciBvZiB0aGUgZ2l2ZW4gYm91bmRzIHJlbGF0aXZlIHRvIHRoZSBtYXAncyBjZW50ZXIsIG1lYXN1cmVkIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Wm9vbV0gVGhlIG1heGltdW0gem9vbSBsZXZlbCB0byBhbGxvdyB3aGVuIHRoZSBtYXAgdmlldyB0cmFuc2l0aW9ucyB0byB0aGUgc3BlY2lmaWVkIGJvdW5kcy5cbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG5cdCAqIEBleGFtcGxlXG4gICAgICogdmFyIGJib3ggPSBbWy03OSwgNDNdLCBbLTczLCA0NV1dO1xuICAgICAqIG1hcC5maXRCb3VuZHMoYmJveCwge1xuICAgICAqICAgcGFkZGluZzoge3RvcDogMTAsIGJvdHRvbToyNSwgbGVmdDogMTUsIHJpZ2h0OiA1fVxuICAgICAqIH0pO1xuICAgICAqIEBzZWUgW0ZpdCBhIG1hcCB0byBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9maXRib3VuZHMvKVxuICAgICAqL1xuICAgIGZpdEJvdW5kcyhib3VuZHM6IExuZ0xhdEJvdW5kc0xpa2UsIG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zICYgQ2FtZXJhT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KSB7XG5cbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb2Zmc2V0OiBbMCwgMF0sXG4gICAgICAgICAgICBtYXhab29tOiB0aGlzLnRyYW5zZm9ybS5tYXhab29tXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wYWRkaW5nID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29uc3QgcCA9IG9wdGlvbnMucGFkZGluZztcbiAgICAgICAgICAgIG9wdGlvbnMucGFkZGluZyA9IHtcbiAgICAgICAgICAgICAgICB0b3A6IHAsXG4gICAgICAgICAgICAgICAgYm90dG9tOiBwLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWVwRXF1YWwoT2JqZWN0LmtleXMob3B0aW9ucy5wYWRkaW5nKS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYSA8IGIpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChhID4gYikgcmV0dXJuIDE7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSksIFtcImJvdHRvbVwiLCBcImxlZnRcIiwgXCJyaWdodFwiLCBcInRvcFwiXSkpIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKFxuICAgICAgICAgICAgICAgIFwib3B0aW9ucy5wYWRkaW5nIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIsIG9yIGFuIE9iamVjdCB3aXRoIGtleXMgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0JywgJ3RvcCdcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgYm91bmRzID0gTG5nTGF0Qm91bmRzLmNvbnZlcnQoYm91bmRzKTtcblxuICAgICAgICAvLyB3ZSBzZXBhcmF0ZSB0aGUgcGFzc2VkIHBhZGRpbmcgb3B0aW9uIGludG8gdHdvIHBhcnRzLCB0aGUgcGFydCB0aGF0IGRvZXMgbm90IGFmZmVjdCB0aGUgbWFwJ3MgY2VudGVyXG4gICAgICAgIC8vIChsYXRlcmFsIGFuZCB2ZXJ0aWNhbCBwYWRkaW5nKSwgYW5kIHRoZSBwYXJ0IHRoYXQgZG9lcyAocGFkZGluZ09mZnNldCkuIFdlIGFkZCB0aGUgcGFkZGluZyBvZmZzZXRcbiAgICAgICAgLy8gdG8gdGhlIG9wdGlvbnMgYG9mZnNldGAgb2JqZWN0IHdoZXJlIGl0IGNhbiBhbHRlciB0aGUgbWFwJ3MgY2VudGVyIGluIHRoZSBzdWJzZXF1ZW50IGNhbGxzIHRvXG4gICAgICAgIC8vIGBlYXNlVG9gIGFuZCBgZmx5VG9gLlxuICAgICAgICBjb25zdCBwYWRkaW5nT2Zmc2V0ID0gWyhvcHRpb25zLnBhZGRpbmcubGVmdCAtIG9wdGlvbnMucGFkZGluZy5yaWdodCkgLyAyLCAob3B0aW9ucy5wYWRkaW5nLnRvcCAtIG9wdGlvbnMucGFkZGluZy5ib3R0b20pIC8gMl0sXG4gICAgICAgICAgICBsYXRlcmFsUGFkZGluZyA9IE1hdGgubWluKG9wdGlvbnMucGFkZGluZy5yaWdodCwgb3B0aW9ucy5wYWRkaW5nLmxlZnQpLFxuICAgICAgICAgICAgdmVydGljYWxQYWRkaW5nID0gTWF0aC5taW4ob3B0aW9ucy5wYWRkaW5nLnRvcCwgb3B0aW9ucy5wYWRkaW5nLmJvdHRvbSk7XG4gICAgICAgIG9wdGlvbnMub2Zmc2V0ID0gW29wdGlvbnMub2Zmc2V0WzBdICsgcGFkZGluZ09mZnNldFswXSwgb3B0aW9ucy5vZmZzZXRbMV0gKyBwYWRkaW5nT2Zmc2V0WzFdXTtcblxuICAgICAgICBjb25zdCBvZmZzZXQgPSBQb2ludC5jb252ZXJ0KG9wdGlvbnMub2Zmc2V0KSxcbiAgICAgICAgICAgIHRyID0gdGhpcy50cmFuc2Zvcm0sXG4gICAgICAgICAgICBudyA9IHRyLnByb2plY3QoYm91bmRzLmdldE5vcnRoV2VzdCgpKSxcbiAgICAgICAgICAgIHNlID0gdHIucHJvamVjdChib3VuZHMuZ2V0U291dGhFYXN0KCkpLFxuICAgICAgICAgICAgc2l6ZSA9IHNlLnN1YihudyksXG4gICAgICAgICAgICBzY2FsZVggPSAodHIud2lkdGggLSBsYXRlcmFsUGFkZGluZyAqIDIgLSBNYXRoLmFicyhvZmZzZXQueCkgKiAyKSAvIHNpemUueCxcbiAgICAgICAgICAgIHNjYWxlWSA9ICh0ci5oZWlnaHQgLSB2ZXJ0aWNhbFBhZGRpbmcgKiAyIC0gTWF0aC5hYnMob2Zmc2V0LnkpICogMikgLyBzaXplLnk7XG5cbiAgICAgICAgaWYgKHNjYWxlWSA8IDAgfHwgc2NhbGVYIDwgMCkge1xuICAgICAgICAgICAgd2Fybk9uY2UoXG4gICAgICAgICAgICAgICAgJ01hcCBjYW5ub3QgZml0IHdpdGhpbiBjYW52YXMgd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLCBwYWRkaW5nLCBhbmQvb3Igb2Zmc2V0LidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMuY2VudGVyID0gdHIudW5wcm9qZWN0KG53LmFkZChzZSkuZGl2KDIpKTtcbiAgICAgICAgb3B0aW9ucy56b29tID0gTWF0aC5taW4odHIuc2NhbGVab29tKHRyLnNjYWxlICogTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpKSwgb3B0aW9ucy5tYXhab29tKTtcbiAgICAgICAgb3B0aW9ucy5iZWFyaW5nID0gMDtcblxuICAgICAgICByZXR1cm4gb3B0aW9ucy5saW5lYXIgP1xuICAgICAgICAgICAgdGhpcy5lYXNlVG8ob3B0aW9ucywgZXZlbnREYXRhKSA6XG4gICAgICAgICAgICB0aGlzLmZseVRvKG9wdGlvbnMsIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBhbnkgY29tYmluYXRpb24gb2YgY2VudGVyLCB6b29tLCBiZWFyaW5nLCBhbmQgcGl0Y2gsIHdpdGhvdXRcbiAgICAgKiBhbiBhbmltYXRlZCB0cmFuc2l0aW9uLiBUaGUgbWFwIHdpbGwgcmV0YWluIGl0cyBjdXJyZW50IHZhbHVlcyBmb3IgYW55XG4gICAgICogZGV0YWlscyBub3Qgc3BlY2lmaWVkIGluIGBvcHRpb25zYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyB6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgcGl0Y2hzdGFydFxuICAgICAqIEBmaXJlcyByb3RhdGVcbiAgICAgKiBAZmlyZXMgbW92ZVxuICAgICAqIEBmaXJlcyB6b29tXG4gICAgICogQGZpcmVzIHBpdGNoXG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAZmlyZXMgem9vbWVuZFxuICAgICAqIEBmaXJlcyBwaXRjaGVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIGp1bXBUbyhvcHRpb25zOiBDYW1lcmFPcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgbGV0IHpvb21DaGFuZ2VkID0gZmFsc2UsXG4gICAgICAgICAgICBiZWFyaW5nQ2hhbmdlZCA9IGZhbHNlLFxuICAgICAgICAgICAgcGl0Y2hDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCd6b29tJyBpbiBvcHRpb25zICYmIHRyLnpvb20gIT09ICtvcHRpb25zLnpvb20pIHtcbiAgICAgICAgICAgIHpvb21DaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyLnpvb20gPSArb3B0aW9ucy56b29tO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2VudGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRyLmNlbnRlciA9IExuZ0xhdC5jb252ZXJ0KG9wdGlvbnMuY2VudGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgnYmVhcmluZycgaW4gb3B0aW9ucyAmJiB0ci5iZWFyaW5nICE9PSArb3B0aW9ucy5iZWFyaW5nKSB7XG4gICAgICAgICAgICBiZWFyaW5nQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB0ci5iZWFyaW5nID0gK29wdGlvbnMuYmVhcmluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgncGl0Y2gnIGluIG9wdGlvbnMgJiYgdHIucGl0Y2ggIT09ICtvcHRpb25zLnBpdGNoKSB7XG4gICAgICAgICAgICBwaXRjaENoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHIucGl0Y2ggPSArb3B0aW9ucy5waXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmVzdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ21vdmUnLCBldmVudERhdGEpKTtcblxuICAgICAgICBpZiAoem9vbUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb21zdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCd6b29tJywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3pvb21lbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiZWFyaW5nQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncm90YXRlc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncm90YXRlJywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBpdGNoQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncGl0Y2hzdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdwaXRjaCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdwaXRjaGVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmVlbmQnLCBldmVudERhdGEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGFueSBjb21iaW5hdGlvbiBvZiBjZW50ZXIsIHpvb20sIGJlYXJpbmcsIGFuZCBwaXRjaCwgd2l0aCBhbiBhbmltYXRlZCB0cmFuc2l0aW9uXG4gICAgICogYmV0d2VlbiBvbGQgYW5kIG5ldyB2YWx1ZXMuIFRoZSBtYXAgd2lsbCByZXRhaW4gaXRzIGN1cnJlbnQgdmFsdWVzIGZvciBhbnlcbiAgICAgKiBkZXRhaWxzIG5vdCBzcGVjaWZpZWQgaW4gYG9wdGlvbnNgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGRlc2NyaWJpbmcgdGhlIGRlc3RpbmF0aW9uIGFuZCBhbmltYXRpb24gb2YgdGhlIHRyYW5zaXRpb24uXG4gICAgICogICAgICAgICAgICBBY2NlcHRzIHtAbGluayBDYW1lcmFPcHRpb25zfSBhbmQge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9LlxuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIHpvb21zdGFydFxuICAgICAqIEBmaXJlcyBwaXRjaHN0YXJ0XG4gICAgICogQGZpcmVzIHJvdGF0ZVxuICAgICAqIEBmaXJlcyBtb3ZlXG4gICAgICogQGZpcmVzIHpvb21cbiAgICAgKiBAZmlyZXMgcGl0Y2hcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEBmaXJlcyB6b29tZW5kXG4gICAgICogQGZpcmVzIHBpdGNoZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQHNlZSBbTmF2aWdhdGUgdGhlIG1hcCB3aXRoIGdhbWUtbGlrZSBjb250cm9sc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nYW1lLWNvbnRyb2xzLylcbiAgICAgKi9cbiAgICBlYXNlVG8ob3B0aW9uczogQ2FtZXJhT3B0aW9ucyAmIEFuaW1hdGlvbk9wdGlvbnMgJiB7ZGVsYXlFbmRFdmVudHM/OiBudW1iZXJ9LCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgICAgICAgICBvZmZzZXQ6IFswLCAwXSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgICAgICAgICBlYXNpbmc6IGRlZmF1bHRFYXNpbmdcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0ZSA9PT0gZmFsc2UpIG9wdGlvbnMuZHVyYXRpb24gPSAwO1xuXG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy50cmFuc2Zvcm0sXG4gICAgICAgICAgICBzdGFydFpvb20gPSB0aGlzLmdldFpvb20oKSxcbiAgICAgICAgICAgIHN0YXJ0QmVhcmluZyA9IHRoaXMuZ2V0QmVhcmluZygpLFxuICAgICAgICAgICAgc3RhcnRQaXRjaCA9IHRoaXMuZ2V0UGl0Y2goKSxcblxuICAgICAgICAgICAgem9vbSA9ICd6b29tJyBpbiBvcHRpb25zID8gK29wdGlvbnMuem9vbSA6IHN0YXJ0Wm9vbSxcbiAgICAgICAgICAgIGJlYXJpbmcgPSAnYmVhcmluZycgaW4gb3B0aW9ucyA/IHRoaXMuX25vcm1hbGl6ZUJlYXJpbmcob3B0aW9ucy5iZWFyaW5nLCBzdGFydEJlYXJpbmcpIDogc3RhcnRCZWFyaW5nLFxuICAgICAgICAgICAgcGl0Y2ggPSAncGl0Y2gnIGluIG9wdGlvbnMgPyArb3B0aW9ucy5waXRjaCA6IHN0YXJ0UGl0Y2g7XG5cbiAgICAgICAgY29uc3QgcG9pbnRBdE9mZnNldCA9IHRyLmNlbnRlclBvaW50LmFkZChQb2ludC5jb252ZXJ0KG9wdGlvbnMub2Zmc2V0KSk7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uQXRPZmZzZXQgPSB0ci5wb2ludExvY2F0aW9uKHBvaW50QXRPZmZzZXQpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBMbmdMYXQuY29udmVydChvcHRpb25zLmNlbnRlciB8fCBsb2NhdGlvbkF0T2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fbm9ybWFsaXplQ2VudGVyKGNlbnRlcik7XG5cbiAgICAgICAgY29uc3QgZnJvbSA9IHRyLnByb2plY3QobG9jYXRpb25BdE9mZnNldCk7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gdHIucHJvamVjdChjZW50ZXIpLnN1Yihmcm9tKTtcbiAgICAgICAgY29uc3QgZmluYWxTY2FsZSA9IHRyLnpvb21TY2FsZSh6b29tIC0gc3RhcnRab29tKTtcblxuICAgICAgICBsZXQgYXJvdW5kLCBhcm91bmRQb2ludDtcblxuICAgICAgICBpZiAob3B0aW9ucy5hcm91bmQpIHtcbiAgICAgICAgICAgIGFyb3VuZCA9IExuZ0xhdC5jb252ZXJ0KG9wdGlvbnMuYXJvdW5kKTtcbiAgICAgICAgICAgIGFyb3VuZFBvaW50ID0gdHIubG9jYXRpb25Qb2ludChhcm91bmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fem9vbWluZyA9ICh6b29tICE9PSBzdGFydFpvb20pO1xuICAgICAgICB0aGlzLl9yb3RhdGluZyA9IChzdGFydEJlYXJpbmcgIT09IGJlYXJpbmcpO1xuICAgICAgICB0aGlzLl9waXRjaGluZyA9IChwaXRjaCAhPT0gc3RhcnRQaXRjaCk7XG5cbiAgICAgICAgdGhpcy5fcHJlcGFyZUVhc2UoZXZlbnREYXRhLCBvcHRpb25zLm5vTW92ZVN0YXJ0KTtcblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fZWFzZUVuZFRpbWVvdXRJRCk7XG5cbiAgICAgICAgdGhpcy5fZWFzZSgoaykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3pvb21pbmcpIHtcbiAgICAgICAgICAgICAgICB0ci56b29tID0gaW50ZXJwb2xhdGUoc3RhcnRab29tLCB6b29tLCBrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3RhdGluZykge1xuICAgICAgICAgICAgICAgIHRyLmJlYXJpbmcgPSBpbnRlcnBvbGF0ZShzdGFydEJlYXJpbmcsIGJlYXJpbmcsIGspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3BpdGNoaW5nKSB7XG4gICAgICAgICAgICAgICAgdHIucGl0Y2ggPSBpbnRlcnBvbGF0ZShzdGFydFBpdGNoLCBwaXRjaCwgayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhcm91bmQpIHtcbiAgICAgICAgICAgICAgICB0ci5zZXRMb2NhdGlvbkF0UG9pbnQoYXJvdW5kLCBhcm91bmRQb2ludCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdHIuem9vbVNjYWxlKHRyLnpvb20gLSBzdGFydFpvb20pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB6b29tID4gc3RhcnRab29tID9cbiAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oMiwgZmluYWxTY2FsZSkgOlxuICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCgwLjUsIGZpbmFsU2NhbGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwZWVkdXAgPSBNYXRoLnBvdyhiYXNlLCAxIC0gayk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q2VudGVyID0gdHIudW5wcm9qZWN0KGZyb20uYWRkKGRlbHRhLm11bHQoayAqIHNwZWVkdXApKS5tdWx0KHNjYWxlKSk7XG4gICAgICAgICAgICAgICAgdHIuc2V0TG9jYXRpb25BdFBvaW50KHRyLnJlbmRlcldvcmxkQ29waWVzID8gbmV3Q2VudGVyLndyYXAoKSA6IG5ld0NlbnRlciwgcG9pbnRBdE9mZnNldCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2ZpcmVNb3ZlRXZlbnRzKGV2ZW50RGF0YSk7XG5cbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVsYXlFbmRFdmVudHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lYXNlRW5kVGltZW91dElEID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLl9hZnRlckVhc2UoZXZlbnREYXRhKSwgb3B0aW9ucy5kZWxheUVuZEV2ZW50cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FmdGVyRWFzZShldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfcHJlcGFyZUVhc2UoZXZlbnREYXRhPzogT2JqZWN0LCBub01vdmVTdGFydDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9tb3ZpbmcgPSB0cnVlO1xuXG4gICAgICAgIGlmICghbm9Nb3ZlU3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmVzdGFydCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl96b29taW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd6b29tc3RhcnQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcm90YXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZXN0YXJ0JywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3BpdGNoaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdwaXRjaHN0YXJ0JywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZmlyZU1vdmVFdmVudHMoZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmUnLCBldmVudERhdGEpKTtcbiAgICAgICAgaWYgKHRoaXMuX3pvb21pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb20nLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcm90YXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZScsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9waXRjaGluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncGl0Y2gnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9hZnRlckVhc2UoZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IHdhc1pvb21pbmcgPSB0aGlzLl96b29taW5nO1xuICAgICAgICBjb25zdCB3YXNSb3RhdGluZyA9IHRoaXMuX3JvdGF0aW5nO1xuICAgICAgICBjb25zdCB3YXNQaXRjaGluZyA9IHRoaXMuX3BpdGNoaW5nO1xuICAgICAgICB0aGlzLl9tb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fem9vbWluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yb3RhdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9waXRjaGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh3YXNab29taW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd6b29tZW5kJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhc1JvdGF0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdyb3RhdGVlbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2FzUGl0Y2hpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3BpdGNoZW5kJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnbW92ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgYW55IGNvbWJpbmF0aW9uIG9mIGNlbnRlciwgem9vbSwgYmVhcmluZywgYW5kIHBpdGNoLCBhbmltYXRpbmcgdGhlIHRyYW5zaXRpb24gYWxvbmcgYSBjdXJ2ZSB0aGF0XG4gICAgICogZXZva2VzIGZsaWdodC4gVGhlIGFuaW1hdGlvbiBzZWFtbGVzc2x5IGluY29ycG9yYXRlcyB6b29taW5nIGFuZCBwYW5uaW5nIHRvIGhlbHBcbiAgICAgKiB0aGUgdXNlciBtYWludGFpbiBoZXIgYmVhcmluZ3MgZXZlbiBhZnRlciB0cmF2ZXJzaW5nIGEgZ3JlYXQgZGlzdGFuY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgZGVzY3JpYmluZyB0aGUgZGVzdGluYXRpb24gYW5kIGFuaW1hdGlvbiBvZiB0aGUgdHJhbnNpdGlvbi5cbiAgICAgKiAgICAgQWNjZXB0cyB7QGxpbmsgQ2FtZXJhT3B0aW9uc30sIHtAbGluayBBbmltYXRpb25PcHRpb25zfSxcbiAgICAgKiAgICAgYW5kIHRoZSBmb2xsb3dpbmcgYWRkaXRpb25hbCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jdXJ2ZT0xLjQyXSBUaGUgem9vbWluZyBcImN1cnZlXCIgdGhhdCB3aWxsIG9jY3VyIGFsb25nIHRoZVxuICAgICAqICAgICBmbGlnaHQgcGF0aC4gQSBoaWdoIHZhbHVlIG1heGltaXplcyB6b29taW5nIGZvciBhbiBleGFnZ2VyYXRlZCBhbmltYXRpb24sIHdoaWxlIGEgbG93XG4gICAgICogICAgIHZhbHVlIG1pbmltaXplcyB6b29taW5nIGZvciBhbiBlZmZlY3QgY2xvc2VyIHRvIHtAbGluayBNYXAjZWFzZVRvfS4gMS40MiBpcyB0aGUgYXZlcmFnZVxuICAgICAqICAgICB2YWx1ZSBzZWxlY3RlZCBieSBwYXJ0aWNpcGFudHMgaW4gdGhlIHVzZXIgc3R1ZHkgZGlzY3Vzc2VkIGluXG4gICAgICogICAgIFt2YW4gV2lqayAoMjAwMyldKGh0dHBzOi8vd3d3Lndpbi50dWUubmwvfnZhbndpamsvem9vbXBhbi5wZGYpLiBBIHZhbHVlIG9mXG4gICAgICogICAgIGBNYXRoLnBvdyg2LCAwLjI1KWAgd291bGQgYmUgZXF1aXZhbGVudCB0byB0aGUgcm9vdCBtZWFuIHNxdWFyZWQgYXZlcmFnZSB2ZWxvY2l0eS4gQVxuICAgICAqICAgICB2YWx1ZSBvZiAxIHdvdWxkIHByb2R1Y2UgYSBjaXJjdWxhciBtb3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1pblpvb21dIFRoZSB6ZXJvLWJhc2VkIHpvb20gbGV2ZWwgYXQgdGhlIHBlYWsgb2YgdGhlIGZsaWdodCBwYXRoLiBJZlxuICAgICAqICAgICBgb3B0aW9ucy5jdXJ2ZWAgaXMgc3BlY2lmaWVkLCB0aGlzIG9wdGlvbiBpcyBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zcGVlZD0xLjJdIFRoZSBhdmVyYWdlIHNwZWVkIG9mIHRoZSBhbmltYXRpb24gZGVmaW5lZCBpbiByZWxhdGlvbiB0b1xuICAgICAqICAgICBgb3B0aW9ucy5jdXJ2ZWAuIEEgc3BlZWQgb2YgMS4yIG1lYW5zIHRoYXQgdGhlIG1hcCBhcHBlYXJzIHRvIG1vdmUgYWxvbmcgdGhlIGZsaWdodCBwYXRoXG4gICAgICogICAgIGJ5IDEuMiB0aW1lcyBgb3B0aW9ucy5jdXJ2ZWAgc2NyZWVuZnVscyBldmVyeSBzZWNvbmQuIEEgX3NjcmVlbmZ1bF8gaXMgdGhlIG1hcCdzIHZpc2libGUgc3Bhbi5cbiAgICAgKiAgICAgSXQgZG9lcyBub3QgY29ycmVzcG9uZCB0byBhIGZpeGVkIHBoeXNpY2FsIGRpc3RhbmNlLCBidXQgdmFyaWVzIGJ5IHpvb20gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjcmVlblNwZWVkXSBUaGUgYXZlcmFnZSBzcGVlZCBvZiB0aGUgYW5pbWF0aW9uIG1lYXN1cmVkIGluIHNjcmVlbmZ1bHNcbiAgICAgKiAgICAgcGVyIHNlY29uZCwgYXNzdW1pbmcgYSBsaW5lYXIgdGltaW5nIGN1cnZlLiBJZiBgb3B0aW9ucy5zcGVlZGAgaXMgc3BlY2lmaWVkLCB0aGlzIG9wdGlvbiBpcyBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhEdXJhdGlvbl0gVGhlIGFuaW1hdGlvbidzIG1heGltdW0gZHVyYXRpb24sIG1lYXN1cmVkIGluIG1pbGxpc2Vjb25kcy5cbiAgICAgKiAgICAgSWYgZHVyYXRpb24gZXhjZWVkcyBtYXhpbXVtIGR1cmF0aW9uLCBpdCByZXNldHMgdG8gMC5cbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyB6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgcGl0Y2hzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlXG4gICAgICogQGZpcmVzIHpvb21cbiAgICAgKiBAZmlyZXMgcm90YXRlXG4gICAgICogQGZpcmVzIHBpdGNoXG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAZmlyZXMgem9vbWVuZFxuICAgICAqIEBmaXJlcyBwaXRjaGVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gZmx5IHdpdGggZGVmYXVsdCBvcHRpb25zIHRvIG51bGwgaXNsYW5kXG4gICAgICogbWFwLmZseVRvKHtjZW50ZXI6IFswLCAwXSwgem9vbTogOX0pO1xuICAgICAqIC8vIHVzaW5nIGZseVRvIG9wdGlvbnNcbiAgICAgKiBtYXAuZmx5VG8oe1xuICAgICAqICAgY2VudGVyOiBbMCwgMF0sXG4gICAgICogICB6b29tOiA5LFxuICAgICAqICAgc3BlZWQ6IDAuMixcbiAgICAgKiAgIGN1cnZlOiAxLFxuICAgICAqICAgZWFzaW5nKHQpIHtcbiAgICAgKiAgICAgcmV0dXJuIHQ7XG4gICAgICogICB9XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRmx5IHRvIGEgbG9jYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmx5dG8vKVxuICAgICAqIEBzZWUgW1Nsb3dseSBmbHkgdG8gYSBsb2NhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9mbHl0by1vcHRpb25zLylcbiAgICAgKiBAc2VlIFtGbHkgdG8gYSBsb2NhdGlvbiBiYXNlZCBvbiBzY3JvbGwgcG9zaXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2Nyb2xsLWZseS10by8pXG4gICAgICovXG4gICAgZmx5VG8ob3B0aW9uczogT2JqZWN0LCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgLy8gVGhpcyBtZXRob2QgaW1wbGVtZW50cyBhbiDigJxvcHRpbWFsIHBhdGjigJ0gYW5pbWF0aW9uLCBhcyBkZXRhaWxlZCBpbjpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gVmFuIFdpamssIEphcmtlIEouOyBOdWlqLCBXaW0gQS4gQS4g4oCcU21vb3RoIGFuZCBlZmZpY2llbnQgem9vbWluZyBhbmQgcGFubmluZy7igJ0gSU5GT1ZJU1xuICAgICAgICAvLyAgIOKAmTAzLiBwcC4gMTXigJMyMi4gPGh0dHBzOi8vd3d3Lndpbi50dWUubmwvfnZhbndpamsvem9vbXBhbi5wZGYjcGFnZT01Pi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2hlcmUgYXBwbGljYWJsZSwgbG9jYWwgdmFyaWFibGUgZG9jdW1lbnRhdGlvbiBiZWdpbnMgd2l0aCB0aGUgYXNzb2NpYXRlZCB2YXJpYWJsZSBvclxuICAgICAgICAvLyBmdW5jdGlvbiBpbiB2YW4gV2lqayAoMjAwMykuXG5cbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgICAgICAgICBvZmZzZXQ6IFswLCAwXSxcbiAgICAgICAgICAgIHNwZWVkOiAxLjIsXG4gICAgICAgICAgICBjdXJ2ZTogMS40MixcbiAgICAgICAgICAgIGVhc2luZzogZGVmYXVsdEVhc2luZ1xuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCB0ciA9IHRoaXMudHJhbnNmb3JtLFxuICAgICAgICAgICAgc3RhcnRab29tID0gdGhpcy5nZXRab29tKCksXG4gICAgICAgICAgICBzdGFydEJlYXJpbmcgPSB0aGlzLmdldEJlYXJpbmcoKSxcbiAgICAgICAgICAgIHN0YXJ0UGl0Y2ggPSB0aGlzLmdldFBpdGNoKCk7XG5cbiAgICAgICAgY29uc3Qgem9vbSA9ICd6b29tJyBpbiBvcHRpb25zID8gY2xhbXAoK29wdGlvbnMuem9vbSwgdHIubWluWm9vbSwgdHIubWF4Wm9vbSkgOiBzdGFydFpvb207XG4gICAgICAgIGNvbnN0IGJlYXJpbmcgPSAnYmVhcmluZycgaW4gb3B0aW9ucyA/IHRoaXMuX25vcm1hbGl6ZUJlYXJpbmcob3B0aW9ucy5iZWFyaW5nLCBzdGFydEJlYXJpbmcpIDogc3RhcnRCZWFyaW5nO1xuICAgICAgICBjb25zdCBwaXRjaCA9ICdwaXRjaCcgaW4gb3B0aW9ucyA/ICtvcHRpb25zLnBpdGNoIDogc3RhcnRQaXRjaDtcblxuICAgICAgICBjb25zdCBzY2FsZSA9IHRyLnpvb21TY2FsZSh6b29tIC0gc3RhcnRab29tKTtcbiAgICAgICAgY29uc3QgcG9pbnRBdE9mZnNldCA9IHRyLmNlbnRlclBvaW50LmFkZChQb2ludC5jb252ZXJ0KG9wdGlvbnMub2Zmc2V0KSk7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uQXRPZmZzZXQgPSB0ci5wb2ludExvY2F0aW9uKHBvaW50QXRPZmZzZXQpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBMbmdMYXQuY29udmVydChvcHRpb25zLmNlbnRlciB8fCBsb2NhdGlvbkF0T2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fbm9ybWFsaXplQ2VudGVyKGNlbnRlcik7XG5cbiAgICAgICAgY29uc3QgZnJvbSA9IHRyLnByb2plY3QobG9jYXRpb25BdE9mZnNldCk7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gdHIucHJvamVjdChjZW50ZXIpLnN1Yihmcm9tKTtcblxuICAgICAgICBsZXQgcmhvID0gb3B0aW9ucy5jdXJ2ZTtcblxuICAgICAgICAvLyB34oKAOiBJbml0aWFsIHZpc2libGUgc3BhbiwgbWVhc3VyZWQgaW4gcGl4ZWxzIGF0IHRoZSBpbml0aWFsIHNjYWxlLlxuICAgICAgICBjb25zdCB3MCA9IE1hdGgubWF4KHRyLndpZHRoLCB0ci5oZWlnaHQpLFxuICAgICAgICAgICAgLy8gd+KCgTogRmluYWwgdmlzaWJsZSBzcGFuLCBtZWFzdXJlZCBpbiBwaXhlbHMgd2l0aCByZXNwZWN0IHRvIHRoZSBpbml0aWFsIHNjYWxlLlxuICAgICAgICAgICAgdzEgPSB3MCAvIHNjYWxlLFxuICAgICAgICAgICAgLy8gTGVuZ3RoIG9mIHRoZSBmbGlnaHQgcGF0aCBhcyBwcm9qZWN0ZWQgb250byB0aGUgZ3JvdW5kIHBsYW5lLCBtZWFzdXJlZCBpbiBwaXhlbHMgZnJvbVxuICAgICAgICAgICAgLy8gdGhlIHdvcmxkIGltYWdlIG9yaWdpbiBhdCB0aGUgaW5pdGlhbCBzY2FsZS5cbiAgICAgICAgICAgIHUxID0gZGVsdGEubWFnKCk7XG5cbiAgICAgICAgaWYgKCdtaW5ab29tJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBtaW5ab29tID0gY2xhbXAoTWF0aC5taW4ob3B0aW9ucy5taW5ab29tLCBzdGFydFpvb20sIHpvb20pLCB0ci5taW5ab29tLCB0ci5tYXhab29tKTtcbiAgICAgICAgICAgIC8vIHc8c3ViPm08L3N1Yj46IE1heGltdW0gdmlzaWJsZSBzcGFuLCBtZWFzdXJlZCBpbiBwaXhlbHMgd2l0aCByZXNwZWN0IHRvIHRoZSBpbml0aWFsXG4gICAgICAgICAgICAvLyBzY2FsZS5cbiAgICAgICAgICAgIGNvbnN0IHdNYXggPSB3MCAvIHRyLnpvb21TY2FsZShtaW5ab29tIC0gc3RhcnRab29tKTtcbiAgICAgICAgICAgIHJobyA9IE1hdGguc3FydCh3TWF4IC8gdTEgKiAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIM+BwrJcbiAgICAgICAgY29uc3QgcmhvMiA9IHJobyAqIHJobztcblxuICAgICAgICAvKipcbiAgICAgICAgICogcuG1ojogUmV0dXJucyB0aGUgem9vbS1vdXQgZmFjdG9yIGF0IG9uZSBlbmQgb2YgdGhlIGFuaW1hdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGkgMCBmb3IgdGhlIGFzY2VudCBvciAxIGZvciB0aGUgZGVzY2VudC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHIoaSkge1xuICAgICAgICAgICAgY29uc3QgYiA9ICh3MSAqIHcxIC0gdzAgKiB3MCArIChpID8gLTEgOiAxKSAqIHJobzIgKiByaG8yICogdTEgKiB1MSkgLyAoMiAqIChpID8gdzEgOiB3MCkgKiByaG8yICogdTEpO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubG9nKE1hdGguc3FydChiICogYiArIDEpIC0gYik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzaW5oKG4pIHsgcmV0dXJuIChNYXRoLmV4cChuKSAtIE1hdGguZXhwKC1uKSkgLyAyOyB9XG4gICAgICAgIGZ1bmN0aW9uIGNvc2gobikgeyByZXR1cm4gKE1hdGguZXhwKG4pICsgTWF0aC5leHAoLW4pKSAvIDI7IH1cbiAgICAgICAgZnVuY3Rpb24gdGFuaChuKSB7IHJldHVybiBzaW5oKG4pIC8gY29zaChuKTsgfVxuXG4gICAgICAgIC8vIHLigoA6IFpvb20tb3V0IGZhY3RvciBkdXJpbmcgYXNjZW50LlxuICAgICAgICBjb25zdCByMCA9IHIoMCk7XG5cbiAgICAgICAgLy8gdyhzKTogUmV0dXJucyB0aGUgdmlzaWJsZSBzcGFuIG9uIHRoZSBncm91bmQsIG1lYXN1cmVkIGluIHBpeGVscyB3aXRoIHJlc3BlY3QgdG8gdGhlXG4gICAgICAgIC8vIGluaXRpYWwgc2NhbGUuIEFzc3VtZXMgYW4gYW5ndWxhciBmaWVsZCBvZiB2aWV3IG9mIDIgYXJjdGFuIMK9IOKJiCA1M8KwLlxuICAgICAgICBsZXQgdzogKG51bWJlcikgPT4gbnVtYmVyID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiAoY29zaChyMCkgLyBjb3NoKHIwICsgcmhvICogcykpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHUocyk6IFJldHVybnMgdGhlIGRpc3RhbmNlIGFsb25nIHRoZSBmbGlnaHQgcGF0aCBhcyBwcm9qZWN0ZWQgb250byB0aGUgZ3JvdW5kIHBsYW5lLFxuICAgICAgICAvLyBtZWFzdXJlZCBpbiBwaXhlbHMgZnJvbSB0aGUgd29ybGQgaW1hZ2Ugb3JpZ2luIGF0IHRoZSBpbml0aWFsIHNjYWxlLlxuICAgICAgICBsZXQgdTogKG51bWJlcikgPT4gbnVtYmVyID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiB3MCAqICgoY29zaChyMCkgKiB0YW5oKHIwICsgcmhvICogcykgLSBzaW5oKHIwKSkgLyByaG8yKSAvIHUxO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFM6IFRvdGFsIGxlbmd0aCBvZiB0aGUgZmxpZ2h0IHBhdGgsIG1lYXN1cmVkIGluIM+BLXNjcmVlbmZ1bHMuXG4gICAgICAgIGxldCBTID0gKHIoMSkgLSByMCkgLyByaG87XG5cbiAgICAgICAgLy8gV2hlbiB14oKAID0gdeKCgSwgdGhlIG9wdGltYWwgcGF0aCBkb2VzbuKAmXQgcmVxdWlyZSBib3RoIGFzY2VudCBhbmQgZGVzY2VudC5cbiAgICAgICAgaWYgKE1hdGguYWJzKHUxKSA8IDAuMDAwMDAxIHx8ICFpc0Zpbml0ZShTKSkge1xuICAgICAgICAgICAgLy8gUGVyZm9ybSBhIG1vcmUgb3IgbGVzcyBpbnN0YW50YW5lb3VzIHRyYW5zaXRpb24gaWYgdGhlIHBhdGggaXMgdG9vIHNob3J0LlxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHcwIC0gdzEpIDwgMC4wMDAwMDEpIHJldHVybiB0aGlzLmVhc2VUbyhvcHRpb25zLCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICBjb25zdCBrID0gdzEgPCB3MCA/IC0xIDogMTtcbiAgICAgICAgICAgIFMgPSBNYXRoLmFicyhNYXRoLmxvZyh3MSAvIHcwKSkgLyByaG87XG5cbiAgICAgICAgICAgIHUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4gICAgICAgICAgICB3ID0gZnVuY3Rpb24ocykgeyByZXR1cm4gTWF0aC5leHAoayAqIHJobyAqIHMpOyB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdkdXJhdGlvbicgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9ICtvcHRpb25zLmR1cmF0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgViA9ICdzY3JlZW5TcGVlZCcgaW4gb3B0aW9ucyA/ICtvcHRpb25zLnNjcmVlblNwZWVkIC8gcmhvIDogK29wdGlvbnMuc3BlZWQ7XG4gICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gMTAwMCAqIFMgLyBWO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWF4RHVyYXRpb24gJiYgb3B0aW9ucy5kdXJhdGlvbiA+IG9wdGlvbnMubWF4RHVyYXRpb24pIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fem9vbWluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuX3JvdGF0aW5nID0gKHN0YXJ0QmVhcmluZyAhPT0gYmVhcmluZyk7XG4gICAgICAgIHRoaXMuX3BpdGNoaW5nID0gKHBpdGNoICE9PSBzdGFydFBpdGNoKTtcblxuICAgICAgICB0aGlzLl9wcmVwYXJlRWFzZShldmVudERhdGEsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLl9lYXNlKChrKSA9PiB7XG4gICAgICAgICAgICAvLyBzOiBUaGUgZGlzdGFuY2UgdHJhdmVsZWQgYWxvbmcgdGhlIGZsaWdodCBwYXRoLCBtZWFzdXJlZCBpbiDPgS1zY3JlZW5mdWxzLlxuICAgICAgICAgICAgY29uc3QgcyA9IGsgKiBTO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSAxIC8gdyhzKTtcbiAgICAgICAgICAgIHRyLnpvb20gPSBzdGFydFpvb20gKyB0ci5zY2FsZVpvb20oc2NhbGUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fcm90YXRpbmcpIHtcbiAgICAgICAgICAgICAgICB0ci5iZWFyaW5nID0gaW50ZXJwb2xhdGUoc3RhcnRCZWFyaW5nLCBiZWFyaW5nLCBrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9waXRjaGluZykge1xuICAgICAgICAgICAgICAgIHRyLnBpdGNoID0gaW50ZXJwb2xhdGUoc3RhcnRQaXRjaCwgcGl0Y2gsIGspO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBuZXdDZW50ZXIgPSB0ci51bnByb2plY3QoZnJvbS5hZGQoZGVsdGEubXVsdCh1KHMpKSkubXVsdChzY2FsZSkpO1xuICAgICAgICAgICAgdHIuc2V0TG9jYXRpb25BdFBvaW50KHRyLnJlbmRlcldvcmxkQ29waWVzID8gbmV3Q2VudGVyLndyYXAoKSA6IG5ld0NlbnRlciwgcG9pbnRBdE9mZnNldCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2ZpcmVNb3ZlRXZlbnRzKGV2ZW50RGF0YSk7XG5cbiAgICAgICAgfSwgKCkgPT4gdGhpcy5fYWZ0ZXJFYXNlKGV2ZW50RGF0YSksIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlzRWFzaW5nKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lYXNlRnJhbWVJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyBhbnkgYW5pbWF0ZWQgdHJhbnNpdGlvbiB1bmRlcndheS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgc3RvcCgpOiB0aGlzIHtcbiAgICAgICAgaWYgKHRoaXMuX2Vhc2VGcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9lYXNlRnJhbWVJZCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZWFzZUZyYW1lSWQ7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fb25FYXNlRnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fb25FYXNlRW5kKSB7XG4gICAgICAgICAgICAvLyBUaGUgX29uRWFzZUVuZCBmdW5jdGlvbiBtaWdodCBlbWl0IGV2ZW50cyB3aGljaCB0cmlnZ2VyIG5ld1xuICAgICAgICAgICAgLy8gYW5pbWF0aW9uLCB3aGljaCBzZXRzIGEgbmV3IF9vbkVhc2VFbmQuIEVuc3VyZSB3ZSBkb24ndCBkZWxldGVcbiAgICAgICAgICAgIC8vIGl0IHVuaW50ZW50aW9uYWxseS5cbiAgICAgICAgICAgIGNvbnN0IG9uRWFzZUVuZCA9IHRoaXMuX29uRWFzZUVuZDtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9vbkVhc2VFbmQ7XG4gICAgICAgICAgICBvbkVhc2VFbmQuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfZWFzZShmcmFtZTogKG51bWJlcikgPT4gdm9pZCxcbiAgICAgICAgICBmaW5pc2g6ICgpID0+IHZvaWQsXG4gICAgICAgICAgb3B0aW9uczoge2FuaW1hdGU6IGJvb2xlYW4sIGR1cmF0aW9uOiBudW1iZXIsIGVhc2luZzogKG51bWJlcikgPT4gbnVtYmVyfSkge1xuICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRlID09PSBmYWxzZSB8fCBvcHRpb25zLmR1cmF0aW9uID09PSAwKSB7XG4gICAgICAgICAgICBmcmFtZSgxKTtcbiAgICAgICAgICAgIGZpbmlzaCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZWFzZVN0YXJ0ID0gYnJvd3Nlci5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuX2Vhc2VPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMuX29uRWFzZUZyYW1lID0gZnJhbWU7XG4gICAgICAgICAgICB0aGlzLl9vbkVhc2VFbmQgPSBmaW5pc2g7XG4gICAgICAgICAgICB0aGlzLl9lYXNlRnJhbWVJZCA9IHRoaXMuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9yZW5kZXJGcmFtZUNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENhbGxiYWNrIGZvciBtYXAuX3JlcXVlc3RSZW5kZXJGcmFtZVxuICAgIF9yZW5kZXJGcmFtZUNhbGxiYWNrKCkge1xuICAgICAgICBjb25zdCB0ID0gTWF0aC5taW4oKGJyb3dzZXIubm93KCkgLSB0aGlzLl9lYXNlU3RhcnQpIC8gdGhpcy5fZWFzZU9wdGlvbnMuZHVyYXRpb24sIDEpO1xuICAgICAgICB0aGlzLl9vbkVhc2VGcmFtZSh0aGlzLl9lYXNlT3B0aW9ucy5lYXNpbmcodCkpO1xuICAgICAgICBpZiAodCA8IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2Vhc2VGcmFtZUlkID0gdGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb252ZXJ0IGJlYXJpbmcgc28gdGhhdCBpdCdzIG51bWVyaWNhbGx5IGNsb3NlIHRvIHRoZSBjdXJyZW50IG9uZSBzbyB0aGF0IGl0IGludGVycG9sYXRlcyBwcm9wZXJseVxuICAgIF9ub3JtYWxpemVCZWFyaW5nKGJlYXJpbmc6IG51bWJlciwgY3VycmVudEJlYXJpbmc6IG51bWJlcikge1xuICAgICAgICBiZWFyaW5nID0gd3JhcChiZWFyaW5nLCAtMTgwLCAxODApO1xuICAgICAgICBjb25zdCBkaWZmID0gTWF0aC5hYnMoYmVhcmluZyAtIGN1cnJlbnRCZWFyaW5nKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGJlYXJpbmcgLSAzNjAgLSBjdXJyZW50QmVhcmluZykgPCBkaWZmKSBiZWFyaW5nIC09IDM2MDtcbiAgICAgICAgaWYgKE1hdGguYWJzKGJlYXJpbmcgKyAzNjAgLSBjdXJyZW50QmVhcmluZykgPCBkaWZmKSBiZWFyaW5nICs9IDM2MDtcbiAgICAgICAgcmV0dXJuIGJlYXJpbmc7XG4gICAgfVxuXG4gICAgLy8gSWYgYSBwYXRoIGNyb3NzaW5nIHRoZSBhbnRpbWVyaWRpYW4gd291bGQgYmUgc2hvcnRlciwgZXh0ZW5kIHRoZSBmaW5hbCBjb29yZGluYXRlIHNvIHRoYXRcbiAgICAvLyBpbnRlcnBvbGF0aW5nIGJldHdlZW4gdGhlIHR3byBlbmRwb2ludHMgd2lsbCBjcm9zcyBpdC5cbiAgICBfbm9ybWFsaXplQ2VudGVyKGNlbnRlcjogTG5nTGF0KSB7XG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIGlmICghdHIucmVuZGVyV29ybGRDb3BpZXMgfHwgdHIubG5nUmFuZ2UpIHJldHVybjtcblxuICAgICAgICBjb25zdCBkZWx0YSA9IGNlbnRlci5sbmcgLSB0ci5jZW50ZXIubG5nO1xuICAgICAgICBjZW50ZXIubG5nICs9XG4gICAgICAgICAgICBkZWx0YSA+IDE4MCA/IC0zNjAgOlxuICAgICAgICAgICAgZGVsdGEgPCAtMTgwID8gMzYwIDogMDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbWVyYTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4uLy4uL3V0aWwvY29uZmlnJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5cbnR5cGUgT3B0aW9ucyA9IHtcbiAgICBjb21wYWN0PzogYm9vbGVhblxufTtcblxuLyoqXG4gKiBBbiBgQXR0cmlidXRpb25Db250cm9sYCBjb250cm9sIHByZXNlbnRzIHRoZSBtYXAncyBbYXR0cmlidXRpb24gaW5mb3JtYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vaGVscC9hdHRyaWJ1dGlvbi8pLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtJQ29udHJvbH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY29tcGFjdF0gSWYgYHRydWVgIGZvcmNlIGEgY29tcGFjdCBhdHRyaWJ1dGlvbiB0aGF0IHNob3dzIHRoZSBmdWxsIGF0dHJpYnV0aW9uIG9uIG1vdXNlIGhvdmVyLCBvciBpZiBgZmFsc2VgIGZvcmNlIHRoZSBmdWxsIGF0dHJpYnV0aW9uIGNvbnRyb2wuIFRoZSBkZWZhdWx0IGlzIGEgcmVzcG9uc2l2ZSBhdHRyaWJ1dGlvbiB0aGF0IGNvbGxhcHNlcyB3aGVuIHRoZSBtYXAgaXMgbGVzcyB0aGFuIDY0MCBwaXhlbHMgd2lkZS5cbiAqIEBleGFtcGxlXG4gKiB2YXIgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7YXR0cmlidXRpb25Db250cm9sOiBmYWxzZX0pXG4gKiAgICAgLmFkZENvbnRyb2wobmV3IG1hcGJveGdsLkF0dHJpYnV0aW9uQ29udHJvbCh7XG4gKiAgICAgICAgIGNvbXBhY3Q6IHRydWVcbiAqICAgICB9KSk7XG4gKi9cbmNsYXNzIEF0dHJpYnV0aW9uQ29udHJvbCB7XG4gICAgb3B0aW9uczogT3B0aW9ucztcbiAgICBfbWFwOiBNYXA7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2VkaXRMaW5rOiA/SFRNTEFuY2hvckVsZW1lbnQ7XG4gICAgc3R5bGVJZDogc3RyaW5nO1xuICAgIHN0eWxlT3duZXI6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ191cGRhdGVFZGl0TGluaycsXG4gICAgICAgICAgICAnX3VwZGF0ZURhdGEnLFxuICAgICAgICAgICAgJ191cGRhdGVDb21wYWN0J1xuICAgICAgICBdLCB0aGlzKTtcbiAgICB9XG5cbiAgICBnZXREZWZhdWx0UG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLXJpZ2h0JztcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICBjb25zdCBjb21wYWN0ID0gdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5jb21wYWN0O1xuXG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1hdHRyaWInKTtcblxuICAgICAgICBpZiAoY29tcGFjdCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWNvbXBhY3QnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUF0dHJpYnV0aW9ucygpO1xuICAgICAgICB0aGlzLl91cGRhdGVFZGl0TGluaygpO1xuXG4gICAgICAgIHRoaXMuX21hcC5vbignc291cmNlZGF0YScsIHRoaXMuX3VwZGF0ZURhdGEpO1xuICAgICAgICB0aGlzLl9tYXAub24oJ21vdmVlbmQnLCB0aGlzLl91cGRhdGVFZGl0TGluayk7XG5cbiAgICAgICAgaWYgKGNvbXBhY3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9uKCdyZXNpemUnLCB0aGlzLl91cGRhdGVDb21wYWN0KTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbXBhY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIERPTS5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLl9tYXAub2ZmKCdzb3VyY2VkYXRhJywgdGhpcy5fdXBkYXRlRGF0YSk7XG4gICAgICAgIHRoaXMuX21hcC5vZmYoJ21vdmVlbmQnLCB0aGlzLl91cGRhdGVFZGl0TGluayk7XG4gICAgICAgIHRoaXMuX21hcC5vZmYoJ3Jlc2l6ZScsIHRoaXMuX3VwZGF0ZUNvbXBhY3QpO1xuXG4gICAgICAgIHRoaXMuX21hcCA9ICh1bmRlZmluZWQ6IGFueSk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUVkaXRMaW5rKCkge1xuICAgICAgICBsZXQgZWRpdExpbmsgPSB0aGlzLl9lZGl0TGluaztcbiAgICAgICAgaWYgKCFlZGl0TGluaykge1xuICAgICAgICAgICAgZWRpdExpbmsgPSB0aGlzLl9lZGl0TGluayA9ICh0aGlzLl9jb250YWluZXIucXVlcnlTZWxlY3RvcignLm1hcGJveC1pbXByb3ZlLW1hcCcpOiBhbnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFyYW1zID0gW1xuICAgICAgICAgICAge2tleTogXCJvd25lclwiLCB2YWx1ZTogdGhpcy5zdHlsZU93bmVyfSxcbiAgICAgICAgICAgIHtrZXk6IFwiaWRcIiwgdmFsdWU6IHRoaXMuc3R5bGVJZH0sXG4gICAgICAgICAgICB7a2V5OiBcImFjY2Vzc190b2tlblwiLCB2YWx1ZTogY29uZmlnLkFDQ0VTU19UT0tFTn1cbiAgICAgICAgXTtcblxuICAgICAgICBpZiAoZWRpdExpbmspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtU3RyaW5nID0gcGFyYW1zLnJlZHVjZSgoYWNjLCBuZXh0LCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjICs9IGAke25leHQua2V5fT0ke25leHQudmFsdWV9JHtpIDwgcGFyYW1zLmxlbmd0aCAtIDEgPyAnJicgOiAnJ31gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwgYD9gKTtcbiAgICAgICAgICAgIGVkaXRMaW5rLmhyZWYgPSBgaHR0cHM6Ly93d3cubWFwYm94LmNvbS9mZWVkYmFjay8ke3BhcmFtU3RyaW5nfSR7dGhpcy5fbWFwLl9oYXNoID8gdGhpcy5fbWFwLl9oYXNoLmdldEhhc2hTdHJpbmcodHJ1ZSkgOiAnJ31gO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZURhdGEoZTogYW55KSB7XG4gICAgICAgIGlmIChlICYmIGUuc291cmNlRGF0YVR5cGUgPT09ICdtZXRhZGF0YScpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUF0dHJpYnV0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRWRpdExpbmsoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVBdHRyaWJ1dGlvbnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFwLnN0eWxlKSByZXR1cm47XG4gICAgICAgIGxldCBhdHRyaWJ1dGlvbnM6IEFycmF5PHN0cmluZz4gPSBbXTtcblxuICAgICAgICBpZiAodGhpcy5fbWFwLnN0eWxlLnN0eWxlc2hlZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlc2hlZXQ6IGFueSA9IHRoaXMuX21hcC5zdHlsZS5zdHlsZXNoZWV0O1xuICAgICAgICAgICAgdGhpcy5zdHlsZU93bmVyID0gc3R5bGVzaGVldC5vd25lcjtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJZCA9IHN0eWxlc2hlZXQuaWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZXMgPSB0aGlzLl9tYXAuc3R5bGUuc291cmNlQ2FjaGVzO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlQ2FjaGVzW2lkXS5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UuYXR0cmlidXRpb24gJiYgYXR0cmlidXRpb25zLmluZGV4T2Yoc291cmNlLmF0dHJpYnV0aW9uKSA8IDApIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGlvbnMucHVzaChzb3VyY2UuYXR0cmlidXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGFueSBlbnRyaWVzIHRoYXQgYXJlIHN1YnN0cmluZ3Mgb2YgYW5vdGhlciBlbnRyeS5cbiAgICAgICAgLy8gZmlyc3Qgc29ydCBieSBsZW5ndGggc28gdGhhdCBzdWJzdHJpbmdzIGNvbWUgZmlyc3RcbiAgICAgICAgYXR0cmlidXRpb25zLnNvcnQoKGEsIGIpID0+IGEubGVuZ3RoIC0gYi5sZW5ndGgpO1xuICAgICAgICBhdHRyaWJ1dGlvbnMgPSBhdHRyaWJ1dGlvbnMuZmlsdGVyKChhdHRyaWIsIGkpID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGF0dHJpYnV0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGlvbnNbal0uaW5kZXhPZihhdHRyaWIpID49IDApIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChhdHRyaWJ1dGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gYXR0cmlidXRpb25zLmpvaW4oJyB8ICcpO1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWF0dHJpYi1lbXB0eScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWF0dHJpYi1lbXB0eScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSBvbGQgRE9NIG5vZGUgZnJvbSBfZWRpdExpbmtcbiAgICAgICAgdGhpcy5fZWRpdExpbmsgPSBudWxsO1xuICAgIH1cblxuICAgIF91cGRhdGVDb21wYWN0KCkge1xuICAgICAgICBpZiAodGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLm9mZnNldFdpZHRoIDw9IDY0MCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWNvbXBhY3QnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jb21wYWN0Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXR0cmlidXRpb25Db250cm9sO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5cbmltcG9ydCB7IGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcblxuLyoqXG4gKiBBIGBMb2dvQ29udHJvbGAgaXMgYSBjb250cm9sIHRoYXQgYWRkcyB0aGUgTWFwYm94IHdhdGVybWFya1xuICogdG8gdGhlIG1hcCBhcyByZXF1aXJlZCBieSB0aGUgW3Rlcm1zIG9mIHNlcnZpY2VdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vdG9zLykgZm9yIE1hcGJveFxuICogdmVjdG9yIHRpbGVzIGFuZCBjb3JlIHN0eWxlcy5cbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAcHJpdmF0ZVxuKiovXG5cbmNsYXNzIExvZ29Db250cm9sIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgYmluZEFsbChbJ191cGRhdGVMb2dvJ10sIHRoaXMpO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWN0cmwnKTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gRE9NLmNyZWF0ZSgnYScsICdtYXBib3hnbC1jdHJsLWxvZ28nKTtcbiAgICAgICAgYW5jaG9yLnRhcmdldCA9IFwiX2JsYW5rXCI7XG4gICAgICAgIGFuY2hvci5ocmVmID0gXCJodHRwczovL3d3dy5tYXBib3guY29tL1wiO1xuICAgICAgICBhbmNob3Iuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIk1hcGJveCBsb2dvXCIpO1xuICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQoYW5jaG9yKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdzb3VyY2VkYXRhJywgdGhpcy5fdXBkYXRlTG9nbyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUxvZ28oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCdzb3VyY2VkYXRhJywgdGhpcy5fdXBkYXRlTG9nbyk7XG4gICAgfVxuXG4gICAgZ2V0RGVmYXVsdFBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ2JvdHRvbS1sZWZ0JztcbiAgICB9XG5cbiAgICBfdXBkYXRlTG9nbyhlOiBhbnkpIHtcbiAgICAgICAgaWYgKCFlIHx8IGUuc291cmNlRGF0YVR5cGUgPT09ICdtZXRhZGF0YScpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gdGhpcy5fbG9nb1JlcXVpcmVkKCkgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2xvZ29SZXF1aXJlZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXAuc3R5bGUpIHJldHVybjtcblxuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZXMgPSB0aGlzLl9tYXAuc3R5bGUuc291cmNlQ2FjaGVzO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlQ2FjaGVzW2lkXS5nZXRTb3VyY2UoKTtcbiAgICAgICAgICAgIGlmIChzb3VyY2UubWFwYm94X2xvZ28pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBMb2dvQ29udHJvbDtcbiIsIi8vIEBmbG93XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmV4cG9ydCB0eXBlIFRhc2tJRCA9IG51bWJlcjsgLy8gY2FuJ3QgbWFyayBvcGFxdWUgZHVlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9mbG93dHlwZS9mbG93LXJlbW92ZS10eXBlcy9wdWxsLzYxXG50eXBlIFRhc2sgPSB7XG4gICAgY2FsbGJhY2s6ICgpID0+IHZvaWQ7XG4gICAgaWQ6IFRhc2tJRDtcbiAgICBjYW5jZWxsZWQ6IGJvb2xlYW47XG59O1xuXG5jbGFzcyBUYXNrUXVldWUge1xuICAgIF9xdWV1ZTogQXJyYXk8VGFzaz47XG4gICAgX2lkOiBUYXNrSUQ7XG4gICAgX2NsZWFyZWQ6IGJvb2xlYW47XG4gICAgX2N1cnJlbnRseVJ1bm5pbmc6IEFycmF5PFRhc2s+IHwgZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcigpICB7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgICAgIHRoaXMuX2lkID0gMDtcbiAgICAgICAgdGhpcy5fY2xlYXJlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jdXJyZW50bHlSdW5uaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYWRkKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogVGFza0lEIHtcbiAgICAgICAgY29uc3QgaWQgPSArK3RoaXMuX2lkO1xuICAgICAgICBjb25zdCBxdWV1ZSA9IHRoaXMuX3F1ZXVlO1xuICAgICAgICBxdWV1ZS5wdXNoKHtjYWxsYmFjaywgaWQsIGNhbmNlbGxlZDogZmFsc2V9KTtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIHJlbW92ZShpZDogVGFza0lEKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5pbmcgPSB0aGlzLl9jdXJyZW50bHlSdW5uaW5nO1xuICAgICAgICBjb25zdCBxdWV1ZSA9IHJ1bm5pbmcgPyB0aGlzLl9xdWV1ZS5jb25jYXQocnVubmluZykgOiB0aGlzLl9xdWV1ZTtcbiAgICAgICAgZm9yIChjb25zdCB0YXNrIG9mIHF1ZXVlKSB7XG4gICAgICAgICAgICBpZiAodGFzay5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICB0YXNrLmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcnVuKCkge1xuICAgICAgICBhc3NlcnQoIXRoaXMuX2N1cnJlbnRseVJ1bm5pbmcpO1xuICAgICAgICBjb25zdCBxdWV1ZSA9IHRoaXMuX2N1cnJlbnRseVJ1bm5pbmcgPSB0aGlzLl9xdWV1ZTtcblxuICAgICAgICAvLyBUYXNrcyBxdWV1ZWQgYnkgY2FsbGJhY2tzIGluIHRoZSBjdXJyZW50IHF1ZXVlIHNob3VsZCBiZSBleGVjdXRlZFxuICAgICAgICAvLyBvbiB0aGUgbmV4dCBydW4sIG5vdCB0aGUgY3VycmVudCBydW4uXG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCB0YXNrIG9mIHF1ZXVlKSB7XG4gICAgICAgICAgICBpZiAodGFzay5jYW5jZWxsZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGFzay5jYWxsYmFjaygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NsZWFyZWQpIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2xlYXJlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jdXJyZW50bHlSdW5uaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50bHlSdW5uaW5nKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGVhcmVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGFza1F1ZXVlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgZXh0ZW5kLCBiaW5kQWxsLCB3YXJuT25jZSB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93JztcbmNvbnN0IHsgSFRNTEltYWdlRWxlbWVudCwgSFRNTEVsZW1lbnQgfSA9IHdpbmRvdztcbmltcG9ydCBET00gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgZ2V0SW1hZ2UsIFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgU3R5bGUgZnJvbSAnLi4vc3R5bGUvc3R5bGUnO1xuaW1wb3J0IEV2YWx1YXRpb25QYXJhbWV0ZXJzIGZyb20gJy4uL3N0eWxlL2V2YWx1YXRpb25fcGFyYW1ldGVycyc7XG5pbXBvcnQgUGFpbnRlciBmcm9tICcuLi9yZW5kZXIvcGFpbnRlcic7XG5pbXBvcnQgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IEhhc2ggZnJvbSAnLi9oYXNoJztcbmltcG9ydCBiaW5kSGFuZGxlcnMgZnJvbSAnLi9iaW5kX2hhbmRsZXJzJztcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9jYW1lcmEnO1xuaW1wb3J0IExuZ0xhdCBmcm9tICcuLi9nZW8vbG5nX2xhdCc7XG5pbXBvcnQgTG5nTGF0Qm91bmRzIGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgQXR0cmlidXRpb25Db250cm9sIGZyb20gJy4vY29udHJvbC9hdHRyaWJ1dGlvbl9jb250cm9sJztcbmltcG9ydCBMb2dvQ29udHJvbCBmcm9tICcuL2NvbnRyb2wvbG9nb19jb250cm9sJztcbmltcG9ydCBpc1N1cHBvcnRlZCBmcm9tICdAbWFwYm94L21hcGJveC1nbC1zdXBwb3J0ZWQnO1xuaW1wb3J0IHsgUkdCQUltYWdlIH0gZnJvbSAnLi4vdXRpbC9pbWFnZSc7XG5pbXBvcnQgeyBFdmVudCwgRXJyb3JFdmVudCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgeyBNYXBNb3VzZUV2ZW50IH0gZnJvbSAnLi9ldmVudHMnO1xuaW1wb3J0IFRhc2tRdWV1ZSBmcm9tICcuLi91dGlsL3Rhc2tfcXVldWUnO1xuXG5pbXBvcnQgdHlwZSB7TG5nTGF0TGlrZX0gZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IHR5cGUge0xuZ0xhdEJvdW5kc0xpa2V9IGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcyc7XG5pbXBvcnQgdHlwZSB7UmVxdWVzdFBhcmFtZXRlcnN9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgdHlwZSB7U3R5bGVPcHRpb25zfSBmcm9tICcuLi9zdHlsZS9zdHlsZSc7XG5pbXBvcnQgdHlwZSB7TWFwRXZlbnQsIE1hcERhdGFFdmVudH0gZnJvbSAnLi9ldmVudHMnO1xuXG5pbXBvcnQgdHlwZSBTY3JvbGxab29tSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvc2Nyb2xsX3pvb20nO1xuaW1wb3J0IHR5cGUgQm94Wm9vbUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL2JveF96b29tJztcbmltcG9ydCB0eXBlIERyYWdSb3RhdGVIYW5kbGVyIGZyb20gJy4vaGFuZGxlci9kcmFnX3JvdGF0ZSc7XG5pbXBvcnQgdHlwZSBEcmFnUGFuSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvZHJhZ19wYW4nO1xuaW1wb3J0IHR5cGUgS2V5Ym9hcmRIYW5kbGVyIGZyb20gJy4vaGFuZGxlci9rZXlib2FyZCc7XG5pbXBvcnQgdHlwZSBEb3VibGVDbGlja1pvb21IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9kYmxjbGlja196b29tJztcbmltcG9ydCB0eXBlIFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL3RvdWNoX3pvb21fcm90YXRlJztcbmltcG9ydCB0eXBlIHtUYXNrSUR9IGZyb20gJy4uL3V0aWwvdGFza19xdWV1ZSc7XG5cbnR5cGUgQ29udHJvbFBvc2l0aW9uID0gJ3RvcC1sZWZ0JyB8ICd0b3AtcmlnaHQnIHwgJ2JvdHRvbS1sZWZ0JyB8ICdib3R0b20tcmlnaHQnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xudHlwZSBJQ29udHJvbCA9IHtcbiAgICBvbkFkZChtYXA6IE1hcCk6IEhUTUxFbGVtZW50O1xuICAgIG9uUmVtb3ZlKG1hcDogTWFwKTogdm9pZDtcblxuICAgICtnZXREZWZhdWx0UG9zaXRpb24/OiAoKSA9PiBDb250cm9sUG9zaXRpb247XG59XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXG5cbnR5cGUgUmVzb3VyY2VUeXBlRW51bSA9ICRLZXlzPHR5cGVvZiBSZXNvdXJjZVR5cGU+O1xuZXhwb3J0IHR5cGUgUmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9uID0gKHVybDogc3RyaW5nLCByZXNvdXJjZVR5cGU/OiBSZXNvdXJjZVR5cGVFbnVtKSA9PiBSZXF1ZXN0UGFyYW1ldGVycztcblxudHlwZSBNYXBPcHRpb25zID0ge1xuICAgIGhhc2g/OiBib29sZWFuLFxuICAgIGludGVyYWN0aXZlPzogYm9vbGVhbixcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50IHwgc3RyaW5nLFxuICAgIGJlYXJpbmdTbmFwPzogbnVtYmVyLFxuICAgIGNsYXNzZXM/OiBBcnJheTxzdHJpbmc+LFxuICAgIGF0dHJpYnV0aW9uQ29udHJvbD86IGJvb2xlYW4sXG4gICAgbG9nb1Bvc2l0aW9uPzogQ29udHJvbFBvc2l0aW9uLFxuICAgIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ/OiBib29sZWFuLFxuICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcj86IGJvb2xlYW4sXG4gICAgcmVmcmVzaEV4cGlyZWRUaWxlcz86IGJvb2xlYW4sXG4gICAgbWF4Qm91bmRzPzogTG5nTGF0Qm91bmRzTGlrZSxcbiAgICBzY3JvbGxab29tPzogYm9vbGVhbixcbiAgICBtaW5ab29tPzogP251bWJlcixcbiAgICBtYXhab29tPzogP251bWJlcixcbiAgICBib3hab29tPzogYm9vbGVhbixcbiAgICBkcmFnUm90YXRlPzogYm9vbGVhbixcbiAgICBkcmFnUGFuPzogYm9vbGVhbixcbiAgICBrZXlib2FyZD86IGJvb2xlYW4sXG4gICAgZG91YmxlQ2xpY2tab29tPzogYm9vbGVhbixcbiAgICB0b3VjaFpvb21Sb3RhdGU/OiBib29sZWFuLFxuICAgIHRyYWNrUmVzaXplPzogYm9vbGVhbixcbiAgICBjZW50ZXI/OiBMbmdMYXRMaWtlLFxuICAgIHpvb20/OiBudW1iZXIsXG4gICAgYmVhcmluZz86IG51bWJlcixcbiAgICBwaXRjaD86IG51bWJlcixcbiAgICByZW5kZXJXb3JsZENvcGllcz86IGJvb2xlYW4sXG4gICAgbWF4VGlsZUNhY2hlU2l6ZT86IG51bWJlcixcbiAgICB0cmFuc2Zvcm1SZXF1ZXN0PzogUmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9uXG59O1xuXG5jb25zdCBkZWZhdWx0TWluWm9vbSA9IDA7XG5jb25zdCBkZWZhdWx0TWF4Wm9vbSA9IDIyO1xuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgY2VudGVyOiBbMCwgMF0sXG4gICAgem9vbTogMCxcbiAgICBiZWFyaW5nOiAwLFxuICAgIHBpdGNoOiAwLFxuXG4gICAgbWluWm9vbTogZGVmYXVsdE1pblpvb20sXG4gICAgbWF4Wm9vbTogZGVmYXVsdE1heFpvb20sXG5cbiAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcblxuICAgIHNjcm9sbFpvb206IHRydWUsXG4gICAgYm94Wm9vbTogdHJ1ZSxcbiAgICBkcmFnUm90YXRlOiB0cnVlLFxuICAgIGRyYWdQYW46IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgZG91YmxlQ2xpY2tab29tOiB0cnVlLFxuICAgIHRvdWNoWm9vbVJvdGF0ZTogdHJ1ZSxcblxuICAgIGJlYXJpbmdTbmFwOiA3LFxuXG4gICAgaGFzaDogZmFsc2UsXG5cbiAgICBhdHRyaWJ1dGlvbkNvbnRyb2w6IHRydWUsXG5cbiAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBmYWxzZSxcbiAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGZhbHNlLFxuXG4gICAgdHJhY2tSZXNpemU6IHRydWUsXG5cbiAgICByZW5kZXJXb3JsZENvcGllczogdHJ1ZSxcblxuICAgIHJlZnJlc2hFeHBpcmVkVGlsZXM6IHRydWUsXG5cbiAgICBtYXhUaWxlQ2FjaGVTaXplOiBudWxsLFxuXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogbnVsbCxcbiAgICBmYWRlRHVyYXRpb246IDMwMFxufTtcblxuLyoqXG4gKiBUaGUgYE1hcGAgb2JqZWN0IHJlcHJlc2VudHMgdGhlIG1hcCBvbiB5b3VyIHBhZ2UuIEl0IGV4cG9zZXMgbWV0aG9kc1xuICogYW5kIHByb3BlcnRpZXMgdGhhdCBlbmFibGUgeW91IHRvIHByb2dyYW1tYXRpY2FsbHkgY2hhbmdlIHRoZSBtYXAsXG4gKiBhbmQgZmlyZXMgZXZlbnRzIGFzIHVzZXJzIGludGVyYWN0IHdpdGggaXQuXG4gKlxuICogWW91IGNyZWF0ZSBhIGBNYXBgIGJ5IHNwZWNpZnlpbmcgYSBgY29udGFpbmVyYCBhbmQgb3RoZXIgb3B0aW9ucy5cbiAqIFRoZW4gTWFwYm94IEdMIEpTIGluaXRpYWxpemVzIHRoZSBtYXAgb24gdGhlIHBhZ2UgYW5kIHJldHVybnMgeW91ciBgTWFwYFxuICogb2JqZWN0LlxuICpcbiAqIEBleHRlbmRzIEV2ZW50ZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fHN0cmluZ30gb3B0aW9ucy5jb250YWluZXIgVGhlIEhUTUwgZWxlbWVudCBpbiB3aGljaCBNYXBib3ggR0wgSlMgd2lsbCByZW5kZXIgdGhlIG1hcCwgb3IgdGhlIGVsZW1lbnQncyBzdHJpbmcgYGlkYC4gVGhlIHNwZWNpZmllZCBlbGVtZW50IG11c3QgaGF2ZSBubyBjaGlsZHJlbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5taW5ab29tPTBdIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgb2YgdGhlIG1hcCAoMC0yNCkuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Wm9vbT0yMl0gVGhlIG1heGltdW0gem9vbSBsZXZlbCBvZiB0aGUgbWFwICgwLTI0KS5cbiAqIEBwYXJhbSB7T2JqZWN0fHN0cmluZ30gW29wdGlvbnMuc3R5bGVdIFRoZSBtYXAncyBNYXBib3ggc3R5bGUuIFRoaXMgbXVzdCBiZSBhbiBhIEpTT04gb2JqZWN0IGNvbmZvcm1pbmcgdG9cbiAqIHRoZSBzY2hlbWEgZGVzY3JpYmVkIGluIHRoZSBbTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vbWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8pLCBvciBhIFVSTCB0b1xuICogc3VjaCBKU09OLlxuICpcbiAqIFRvIGxvYWQgYSBzdHlsZSBmcm9tIHRoZSBNYXBib3ggQVBJLCB5b3UgY2FuIHVzZSBhIFVSTCBvZiB0aGUgZm9ybSBgbWFwYm94Oi8vc3R5bGVzLzpvd25lci86c3R5bGVgLFxuICogd2hlcmUgYDpvd25lcmAgaXMgeW91ciBNYXBib3ggYWNjb3VudCBuYW1lIGFuZCBgOnN0eWxlYCBpcyB0aGUgc3R5bGUgSUQuIE9yIHlvdSBjYW4gdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nXG4gKiBbdGhlIHByZWRlZmluZWQgTWFwYm94IHN0eWxlc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBzLyk6XG4gKlxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvc3RyZWV0cy12OWBcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L291dGRvb3JzLXY5YFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvbGlnaHQtdjlgXG4gKiAgKiBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9kYXJrLXY5YFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvc2F0ZWxsaXRlLXY5YFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvc2F0ZWxsaXRlLXN0cmVldHMtdjlgXG4gKlxuICogVGlsZXNldHMgaG9zdGVkIHdpdGggTWFwYm94IGNhbiBiZSBzdHlsZS1vcHRpbWl6ZWQgaWYgeW91IGFwcGVuZCBgP29wdGltaXplPXRydWVgIHRvIHRoZSBlbmQgb2YgeW91ciBzdHlsZSBVUkwsIGxpa2UgYG1hcGJveDovL3N0eWxlcy9tYXBib3gvc3RyZWV0cy12OT9vcHRpbWl6ZT10cnVlYC5cbiAqIExlYXJuIG1vcmUgYWJvdXQgc3R5bGUtb3B0aW1pemVkIHZlY3RvciB0aWxlcyBpbiBvdXIgW0FQSSBkb2N1bWVudGF0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL2FwaS1kb2N1bWVudGF0aW9uLyNyZXRyaWV2ZS10aWxlcykuXG4gKlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5oYXNoPWZhbHNlXSBJZiBgdHJ1ZWAsIHRoZSBtYXAncyBwb3NpdGlvbiAoem9vbSwgY2VudGVyIGxhdGl0dWRlLCBjZW50ZXIgbG9uZ2l0dWRlLCBiZWFyaW5nLCBhbmQgcGl0Y2gpIHdpbGwgYmUgc3luY2VkIHdpdGggdGhlIGhhc2ggZnJhZ21lbnQgb2YgdGhlIHBhZ2UncyBVUkwuXG4gKiAgIEZvciBleGFtcGxlLCBgaHR0cDovL3BhdGgvdG8vbXkvcGFnZS5odG1sIzIuNTkvMzkuMjYvNTMuMDcvLTI0LjEvNjBgLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pbnRlcmFjdGl2ZT10cnVlXSBJZiBgZmFsc2VgLCBubyBtb3VzZSwgdG91Y2gsIG9yIGtleWJvYXJkIGxpc3RlbmVycyB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBtYXAsIHNvIGl0IHdpbGwgbm90IHJlc3BvbmQgdG8gaW50ZXJhY3Rpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmVhcmluZ1NuYXA9N10gVGhlIHRocmVzaG9sZCwgbWVhc3VyZWQgaW4gZGVncmVlcywgdGhhdCBkZXRlcm1pbmVzIHdoZW4gdGhlIG1hcCdzXG4gKiAgIGJlYXJpbmcgd2lsbCBzbmFwIHRvIG5vcnRoLiBGb3IgZXhhbXBsZSwgd2l0aCBhIGBiZWFyaW5nU25hcGAgb2YgNywgaWYgdGhlIHVzZXIgcm90YXRlc1xuICogICB0aGUgbWFwIHdpdGhpbiA3IGRlZ3JlZXMgb2Ygbm9ydGgsIHRoZSBtYXAgd2lsbCBhdXRvbWF0aWNhbGx5IHNuYXAgdG8gZXhhY3Qgbm9ydGguXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnBpdGNoV2l0aFJvdGF0ZT10cnVlXSBJZiBgZmFsc2VgLCB0aGUgbWFwJ3MgcGl0Y2ggKHRpbHQpIGNvbnRyb2wgd2l0aCBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gd2lsbCBiZSBkaXNhYmxlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXR0cmlidXRpb25Db250cm9sPXRydWVdIElmIGB0cnVlYCwgYW4ge0BsaW5rIEF0dHJpYnV0aW9uQ29udHJvbH0gd2lsbCBiZSBhZGRlZCB0byB0aGUgbWFwLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxvZ29Qb3NpdGlvbj0nYm90dG9tLWxlZnQnXSBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBNYXBib3ggd29yZG1hcmsgb24gdGhlIG1hcC4gVmFsaWQgb3B0aW9ucyBhcmUgYHRvcC1sZWZ0YCxgdG9wLXJpZ2h0YCwgYGJvdHRvbS1sZWZ0YCwgYGJvdHRvbS1yaWdodGAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9ZmFsc2VdIElmIGB0cnVlYCwgbWFwIGNyZWF0aW9uIHdpbGwgZmFpbCBpZiB0aGUgcGVyZm9ybWFuY2Ugb2YgTWFwYm94XG4gKiAgIEdMIEpTIHdvdWxkIGJlIGRyYW1hdGljYWxseSB3b3JzZSB0aGFuIGV4cGVjdGVkIChpLmUuIGEgc29mdHdhcmUgcmVuZGVyZXIgd291bGQgYmUgdXNlZCkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gSWYgYHRydWVgLCB0aGUgbWFwJ3MgY2FudmFzIGNhbiBiZSBleHBvcnRlZCB0byBhIFBORyB1c2luZyBgbWFwLmdldENhbnZhcygpLnRvRGF0YVVSTCgpYC4gVGhpcyBpcyBgZmFsc2VgIGJ5IGRlZmF1bHQgYXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJlZnJlc2hFeHBpcmVkVGlsZXM9dHJ1ZV0gSWYgYGZhbHNlYCwgdGhlIG1hcCB3b24ndCBhdHRlbXB0IHRvIHJlLXJlcXVlc3QgdGlsZXMgb25jZSB0aGV5IGV4cGlyZSBwZXIgdGhlaXIgSFRUUCBgY2FjaGVDb250cm9sYC9gZXhwaXJlc2AgaGVhZGVycy5cbiAqIEBwYXJhbSB7TG5nTGF0Qm91bmRzTGlrZX0gW29wdGlvbnMubWF4Qm91bmRzXSBJZiBzZXQsIHRoZSBtYXAgd2lsbCBiZSBjb25zdHJhaW5lZCB0byB0aGUgZ2l2ZW4gYm91bmRzLlxuICogQHBhcmFtIHtib29sZWFufE9iamVjdH0gW29wdGlvbnMuc2Nyb2xsWm9vbT10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBcInNjcm9sbCB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC4gQW4gYE9iamVjdGAgdmFsdWUgaXMgcGFzc2VkIGFzIG9wdGlvbnMgdG8ge0BsaW5rIFNjcm9sbFpvb21IYW5kbGVyI2VuYWJsZX0uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJveFpvb209dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQgKHNlZSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9KS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZHJhZ1JvdGF0ZT10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZCAoc2VlIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0pLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kcmFnUGFuPXRydWVdIElmIGB0cnVlYCwgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkIChzZWUge0BsaW5rIERyYWdQYW5IYW5kbGVyfSkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmtleWJvYXJkPXRydWVdIElmIGB0cnVlYCwga2V5Ym9hcmQgc2hvcnRjdXRzIGFyZSBlbmFibGVkIChzZWUge0BsaW5rIEtleWJvYXJkSGFuZGxlcn0pLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kb3VibGVDbGlja1pvb209dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQgKHNlZSB7QGxpbmsgRG91YmxlQ2xpY2tab29tSGFuZGxlcn0pLlxuICogQHBhcmFtIHtib29sZWFufE9iamVjdH0gW29wdGlvbnMudG91Y2hab29tUm90YXRlPXRydWVdIElmIGB0cnVlYCwgdGhlIFwicGluY2ggdG8gcm90YXRlIGFuZCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC4gQW4gYE9iamVjdGAgdmFsdWUgaXMgcGFzc2VkIGFzIG9wdGlvbnMgdG8ge0BsaW5rIFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXIjZW5hYmxlfS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhY2tSZXNpemU9dHJ1ZV0gIElmIGB0cnVlYCwgdGhlIG1hcCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVzaXplIHdoZW4gdGhlIGJyb3dzZXIgd2luZG93IHJlc2l6ZXMuXG4gKiBAcGFyYW0ge0xuZ0xhdExpa2V9IFtvcHRpb25zLmNlbnRlcj1bMCwgMF1dIFRoZSBpbml0YWwgZ2VvZ3JhcGhpY2FsIGNlbnRlcnBvaW50IG9mIHRoZSBtYXAuIElmIGBjZW50ZXJgIGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIGNvbnN0cnVjdG9yIG9wdGlvbnMsIE1hcGJveCBHTCBKUyB3aWxsIGxvb2sgZm9yIGl0IGluIHRoZSBtYXAncyBzdHlsZSBvYmplY3QuIElmIGl0IGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIHN0eWxlLCBlaXRoZXIsIGl0IHdpbGwgZGVmYXVsdCB0byBgWzAsIDBdYCBOb3RlOiBNYXBib3ggR0wgdXNlcyBsb25naXR1ZGUsIGxhdGl0dWRlIGNvb3JkaW5hdGUgb3JkZXIgKGFzIG9wcG9zZWQgdG8gbGF0aXR1ZGUsIGxvbmdpdHVkZSkgdG8gbWF0Y2ggR2VvSlNPTi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy56b29tPTBdIFRoZSBpbml0aWFsIHpvb20gbGV2ZWwgb2YgdGhlIG1hcC4gSWYgYHpvb21gIGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIGNvbnN0cnVjdG9yIG9wdGlvbnMsIE1hcGJveCBHTCBKUyB3aWxsIGxvb2sgZm9yIGl0IGluIHRoZSBtYXAncyBzdHlsZSBvYmplY3QuIElmIGl0IGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIHN0eWxlLCBlaXRoZXIsIGl0IHdpbGwgZGVmYXVsdCB0byBgMGAuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmVhcmluZz0wXSBUaGUgaW5pdGlhbCBiZWFyaW5nIChyb3RhdGlvbikgb2YgdGhlIG1hcCwgbWVhc3VyZWQgaW4gZGVncmVlcyBjb3VudGVyLWNsb2Nrd2lzZSBmcm9tIG5vcnRoLiBJZiBgYmVhcmluZ2AgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgY29uc3RydWN0b3Igb3B0aW9ucywgTWFwYm94IEdMIEpTIHdpbGwgbG9vayBmb3IgaXQgaW4gdGhlIG1hcCdzIHN0eWxlIG9iamVjdC4gSWYgaXQgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgc3R5bGUsIGVpdGhlciwgaXQgd2lsbCBkZWZhdWx0IHRvIGAwYC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5waXRjaD0wXSBUaGUgaW5pdGlhbCBwaXRjaCAodGlsdCkgb2YgdGhlIG1hcCwgbWVhc3VyZWQgaW4gZGVncmVlcyBhd2F5IGZyb20gdGhlIHBsYW5lIG9mIHRoZSBzY3JlZW4gKDAtNjApLiBJZiBgcGl0Y2hgIGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIGNvbnN0cnVjdG9yIG9wdGlvbnMsIE1hcGJveCBHTCBKUyB3aWxsIGxvb2sgZm9yIGl0IGluIHRoZSBtYXAncyBzdHlsZSBvYmplY3QuIElmIGl0IGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIHN0eWxlLCBlaXRoZXIsIGl0IHdpbGwgZGVmYXVsdCB0byBgMGAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJlbmRlcldvcmxkQ29waWVzPXRydWVdICBJZiBgdHJ1ZWAsIG11bHRpcGxlIGNvcGllcyBvZiB0aGUgd29ybGQgd2lsbCBiZSByZW5kZXJlZCwgd2hlbiB6b29tZWQgb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFRpbGVDYWNoZVNpemU9bnVsbF0gIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aWxlcyBzdG9yZWQgaW4gdGhlIHRpbGUgY2FjaGUgZm9yIGEgZ2l2ZW4gc291cmNlLiBJZiBvbWl0dGVkLCB0aGUgY2FjaGUgd2lsbCBiZSBkeW5hbWljYWxseSBzaXplZCBiYXNlZCBvbiB0aGUgY3VycmVudCB2aWV3cG9ydC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9bnVsbF0gSWYgc3BlY2lmaWVkLCBkZWZpbmVzIGEgQ1NTIGZvbnQtZmFtaWx5XG4gKiAgIGZvciBsb2NhbGx5IG92ZXJyaWRpbmcgZ2VuZXJhdGlvbiBvZiBnbHlwaHMgaW4gdGhlICdDSksgVW5pZmllZCBJZGVvZ3JhcGhzJyBhbmQgJ0hhbmd1bCBTeWxsYWJsZXMnIHJhbmdlcy5cbiAqICAgSW4gdGhlc2UgcmFuZ2VzLCBmb250IHNldHRpbmdzIGZyb20gdGhlIG1hcCdzIHN0eWxlIHdpbGwgYmUgaWdub3JlZCwgZXhjZXB0IGZvciBmb250LXdlaWdodCBrZXl3b3JkcyAobGlnaHQvcmVndWxhci9tZWRpdW0vYm9sZCkuXG4gKiAgIFRoZSBwdXJwb3NlIG9mIHRoaXMgb3B0aW9uIGlzIHRvIGF2b2lkIGJhbmR3aWR0aC1pbnRlbnNpdmUgZ2x5cGggc2VydmVyIHJlcXVlc3RzLiAoc2VlIFtVc2UgbG9jYWxseSBnZW5lcmF0ZWQgaWRlb2dyYXBoc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9sb2NhbC1pZGVvZ3JhcGhzKSlcbiAqIEBwYXJhbSB7UmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9ufSBbb3B0aW9ucy50cmFuc2Zvcm1SZXF1ZXN0PW51bGxdIEEgY2FsbGJhY2sgcnVuIGJlZm9yZSB0aGUgTWFwIG1ha2VzIGEgcmVxdWVzdCBmb3IgYW4gZXh0ZXJuYWwgVVJMLiBUaGUgY2FsbGJhY2sgY2FuIGJlIHVzZWQgdG8gbW9kaWZ5IHRoZSB1cmwsIHNldCBoZWFkZXJzLCBvciBzZXQgdGhlIGNyZWRlbnRpYWxzIHByb3BlcnR5IGZvciBjcm9zcy1vcmlnaW4gcmVxdWVzdHMuXG4gKiAgIEV4cGVjdGVkIHRvIHJldHVybiBhbiBvYmplY3Qgd2l0aCBhIGB1cmxgIHByb3BlcnR5IGFuZCBvcHRpb25hbGx5IGBoZWFkZXJzYCBhbmQgYGNyZWRlbnRpYWxzYCBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ZmFsc2VdIElmIGB0cnVlYCwgUmVzb3VyY2UgVGltaW5nIEFQSSBpbmZvcm1hdGlvbiB3aWxsIGJlIGNvbGxlY3RlZCBmb3IgcmVxdWVzdHMgbWFkZSBieSBHZW9KU09OIGFuZCBWZWN0b3IgVGlsZSB3ZWIgd29ya2VycyAodGhpcyBpbmZvcm1hdGlvbiBpcyBub3JtYWxseSBpbmFjY2Vzc2libGUgZnJvbSB0aGUgbWFpbiBKYXZhc2NyaXB0IHRocmVhZCkuIEluZm9ybWF0aW9uIHdpbGwgYmUgcmV0dXJuZWQgaW4gYSBgcmVzb3VyY2VUaW1pbmdgIHByb3BlcnR5IG9mIHJlbGV2YW50IGBkYXRhYCBldmVudHMuXG4gKiBAZXhhbXBsZVxuICogdmFyIG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe1xuICogICBjb250YWluZXI6ICdtYXAnLFxuICogICBjZW50ZXI6IFstMTIyLjQyMDY3OSwgMzcuNzcyNTM3XSxcbiAqICAgem9vbTogMTMsXG4gKiAgIHN0eWxlOiBzdHlsZV9vYmplY3QsXG4gKiAgIGhhc2g6IHRydWUsXG4gKiAgIHRyYW5zZm9ybVJlcXVlc3Q6ICh1cmwsIHJlc291cmNlVHlwZSk9PiB7XG4gKiAgICAgaWYocmVzb3VyY2VUeXBlID09ICdTb3VyY2UnICYmIHVybC5zdGFydHNXaXRoKCdodHRwOi8vbXlIb3N0JykpIHtcbiAqICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgdXJsOiB1cmwucmVwbGFjZSgnaHR0cCcsICdodHRwcycpLFxuICogICAgICAgIGhlYWRlcnM6IHsgJ215LWN1c3RvbS1oZWFkZXInOiB0cnVlfSxcbiAqICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnICAvLyBJbmNsdWRlIGNvb2tpZXMgZm9yIGNyb3NzLW9yaWdpbiByZXF1ZXN0c1xuICogICAgICB9XG4gKiAgICAgfVxuICogICB9XG4gKiB9KTtcbiAqIEBzZWUgW0Rpc3BsYXkgYSBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGVzLylcbiAqL1xuY2xhc3MgTWFwIGV4dGVuZHMgQ2FtZXJhIHtcbiAgICBzdHlsZTogU3R5bGU7XG4gICAgcGFpbnRlcjogUGFpbnRlcjtcblxuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9taXNzaW5nQ1NTQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfY2FudmFzQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfY29udHJvbENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2NvbnRyb2xQb3NpdGlvbnM6IHtbc3RyaW5nXTogSFRNTEVsZW1lbnR9O1xuICAgIF9pbnRlcmFjdGl2ZTogP2Jvb2xlYW47XG4gICAgX3Nob3dUaWxlQm91bmRhcmllczogP2Jvb2xlYW47XG4gICAgX3Nob3dDb2xsaXNpb25Cb3hlczogP2Jvb2xlYW47XG4gICAgX3Nob3dPdmVyZHJhd0luc3BlY3RvcjogYm9vbGVhbjtcbiAgICBfcmVwYWludDogP2Jvb2xlYW47XG4gICAgX3ZlcnRpY2VzOiA/Ym9vbGVhbjtcbiAgICBfY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBfdHJhbnNmb3JtUmVxdWVzdDogUmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9uO1xuICAgIF9tYXhUaWxlQ2FjaGVTaXplOiBudW1iZXI7XG4gICAgX2ZyYW1lSWQ6IGFueTtcbiAgICBfc3R5bGVEaXJ0eTogP2Jvb2xlYW47XG4gICAgX3NvdXJjZXNEaXJ0eTogP2Jvb2xlYW47XG4gICAgX3BsYWNlbWVudERpcnR5OiA/Ym9vbGVhbjtcbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF90cmFja1Jlc2l6ZTogYm9vbGVhbjtcbiAgICBfcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBib29sZWFuO1xuICAgIF9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBib29sZWFuO1xuICAgIF9yZWZyZXNoRXhwaXJlZFRpbGVzOiBib29sZWFuO1xuICAgIF9oYXNoOiBIYXNoO1xuICAgIF9kZWxlZ2F0ZWRMaXN0ZW5lcnM6IGFueTtcbiAgICBfZmFkZUR1cmF0aW9uOiBudW1iZXI7XG4gICAgX2Nyb3NzRmFkaW5nRmFjdG9yOiBudW1iZXI7XG4gICAgX2NvbGxlY3RSZXNvdXJjZVRpbWluZzogYm9vbGVhbjtcbiAgICBfcmVuZGVyVGFza1F1ZXVlOiBUYXNrUXVldWU7XG5cbiAgICBzY3JvbGxab29tOiBTY3JvbGxab29tSGFuZGxlcjtcbiAgICBib3hab29tOiBCb3hab29tSGFuZGxlcjtcbiAgICBkcmFnUm90YXRlOiBEcmFnUm90YXRlSGFuZGxlcjtcbiAgICBkcmFnUGFuOiBEcmFnUGFuSGFuZGxlcjtcbiAgICBrZXlib2FyZDogS2V5Ym9hcmRIYW5kbGVyO1xuICAgIGRvdWJsZUNsaWNrWm9vbTogRG91YmxlQ2xpY2tab29tSGFuZGxlcjtcbiAgICB0b3VjaFpvb21Sb3RhdGU6IFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBNYXBPcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5taW5ab29tICE9IG51bGwgJiYgb3B0aW9ucy5tYXhab29tICE9IG51bGwgJiYgb3B0aW9ucy5taW5ab29tID4gb3B0aW9ucy5tYXhab29tKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gbWluWm9vbWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybShvcHRpb25zLm1pblpvb20sIG9wdGlvbnMubWF4Wm9vbSwgb3B0aW9ucy5yZW5kZXJXb3JsZENvcGllcyk7XG4gICAgICAgIHN1cGVyKHRyYW5zZm9ybSwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5faW50ZXJhY3RpdmUgPSBvcHRpb25zLmludGVyYWN0aXZlO1xuICAgICAgICB0aGlzLl9tYXhUaWxlQ2FjaGVTaXplID0gb3B0aW9ucy5tYXhUaWxlQ2FjaGVTaXplO1xuICAgICAgICB0aGlzLl9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0ID0gb3B0aW9ucy5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0O1xuICAgICAgICB0aGlzLl9wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcjtcbiAgICAgICAgdGhpcy5fdHJhY2tSZXNpemUgPSBvcHRpb25zLnRyYWNrUmVzaXplO1xuICAgICAgICB0aGlzLl9iZWFyaW5nU25hcCA9IG9wdGlvbnMuYmVhcmluZ1NuYXA7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hFeHBpcmVkVGlsZXMgPSBvcHRpb25zLnJlZnJlc2hFeHBpcmVkVGlsZXM7XG4gICAgICAgIHRoaXMuX2ZhZGVEdXJhdGlvbiA9IG9wdGlvbnMuZmFkZUR1cmF0aW9uO1xuICAgICAgICB0aGlzLl9jcm9zc0ZhZGluZ0ZhY3RvciA9IDE7XG4gICAgICAgIHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyA9IG9wdGlvbnMuY29sbGVjdFJlc291cmNlVGltaW5nO1xuICAgICAgICB0aGlzLl9yZW5kZXJUYXNrUXVldWUgPSBuZXcgVGFza1F1ZXVlKCk7XG5cbiAgICAgICAgY29uc3QgdHJhbnNmb3JtUmVxdWVzdEZuID0gb3B0aW9ucy50cmFuc2Zvcm1SZXF1ZXN0O1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0ID0gdHJhbnNmb3JtUmVxdWVzdEZuID8gICh1cmwsIHR5cGUpID0+IHRyYW5zZm9ybVJlcXVlc3RGbih1cmwsIHR5cGUpIHx8ICh7IHVybCB9KSA6ICh1cmwpID0+ICh7IHVybCB9KTtcblxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY29udGFpbmVyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gd2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9wdGlvbnMuY29udGFpbmVyKTtcbiAgICAgICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb250YWluZXIgJyR7b3B0aW9ucy5jb250YWluZXJ9JyBub3QgZm91bmQuYCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0eXBlOiAnY29udGFpbmVyJyBtdXN0IGJlIGEgU3RyaW5nIG9yIEhUTUxFbGVtZW50LmApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWF4Qm91bmRzKSB7XG4gICAgICAgICAgICB0aGlzLnNldE1heEJvdW5kcyhvcHRpb25zLm1heEJvdW5kcyk7XG4gICAgICAgIH1cblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25XaW5kb3dPbmxpbmUnLFxuICAgICAgICAgICAgJ19vbldpbmRvd1Jlc2l6ZScsXG4gICAgICAgICAgICAnX2NvbnRleHRMb3N0JyxcbiAgICAgICAgICAgICdfY29udGV4dFJlc3RvcmVkJyxcbiAgICAgICAgICAgICdfdXBkYXRlJyxcbiAgICAgICAgICAgICdfcmVuZGVyJyxcbiAgICAgICAgICAgICdfb25EYXRhJyxcbiAgICAgICAgICAgICdfb25EYXRhTG9hZGluZydcbiAgICAgICAgXSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fc2V0dXBDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5fc2V0dXBQYWludGVyKCk7XG5cbiAgICAgICAgdGhpcy5vbignbW92ZScsIHRoaXMuX3VwZGF0ZS5iaW5kKHRoaXMsIGZhbHNlKSk7XG4gICAgICAgIHRoaXMub24oJ3pvb20nLCB0aGlzLl91cGRhdGUuYmluZCh0aGlzLCB0cnVlKSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgdGhpcy5fb25XaW5kb3dPbmxpbmUsIGZhbHNlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9vbldpbmRvd1Jlc2l6ZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmluZEhhbmRsZXJzKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2hhc2ggPSBvcHRpb25zLmhhc2ggJiYgKG5ldyBIYXNoKCkpLmFkZFRvKHRoaXMpO1xuICAgICAgICAvLyBkb24ndCBzZXQgcG9zaXRpb24gZnJvbSBvcHRpb25zIGlmIHNldCB0aHJvdWdoIGhhc2hcbiAgICAgICAgaWYgKCF0aGlzLl9oYXNoIHx8ICF0aGlzLl9oYXNoLl9vbkhhc2hDaGFuZ2UoKSkge1xuICAgICAgICAgICAgdGhpcy5qdW1wVG8oe1xuICAgICAgICAgICAgICAgIGNlbnRlcjogb3B0aW9ucy5jZW50ZXIsXG4gICAgICAgICAgICAgICAgem9vbTogb3B0aW9ucy56b29tLFxuICAgICAgICAgICAgICAgIGJlYXJpbmc6IG9wdGlvbnMuYmVhcmluZyxcbiAgICAgICAgICAgICAgICBwaXRjaDogb3B0aW9ucy5waXRjaFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnN0eWxlKSB0aGlzLnNldFN0eWxlKG9wdGlvbnMuc3R5bGUsIHsgbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiBvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSB9KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hdHRyaWJ1dGlvbkNvbnRyb2wpIHRoaXMuYWRkQ29udHJvbChuZXcgQXR0cmlidXRpb25Db250cm9sKCkpO1xuICAgICAgICB0aGlzLmFkZENvbnRyb2wobmV3IExvZ29Db250cm9sKCksIG9wdGlvbnMubG9nb1Bvc2l0aW9uKTtcblxuICAgICAgICB0aGlzLm9uKCdzdHlsZS5sb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0udW5tb2RpZmllZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuanVtcFRvKHRoaXMuc3R5bGUuc3R5bGVzaGVldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub24oJ2RhdGEnLCB0aGlzLl9vbkRhdGEpO1xuICAgICAgICB0aGlzLm9uKCdkYXRhbG9hZGluZycsIHRoaXMuX29uRGF0YUxvYWRpbmcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSB7QGxpbmsgSUNvbnRyb2x9IHRvIHRoZSBtYXAsIGNhbGxpbmcgYGNvbnRyb2wub25BZGQodGhpcylgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtJQ29udHJvbH0gY29udHJvbCBUaGUge0BsaW5rIElDb250cm9sfSB0byBhZGQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwb3NpdGlvbl0gcG9zaXRpb24gb24gdGhlIG1hcCB0byB3aGljaCB0aGUgY29udHJvbCB3aWxsIGJlIGFkZGVkLlxuICAgICAqIFZhbGlkIHZhbHVlcyBhcmUgYCd0b3AtbGVmdCdgLCBgJ3RvcC1yaWdodCdgLCBgJ2JvdHRvbS1sZWZ0J2AsIGFuZCBgJ2JvdHRvbS1yaWdodCdgLiBEZWZhdWx0cyB0byBgJ3RvcC1yaWdodCdgLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBzZWUgW0Rpc3BsYXkgbWFwIG5hdmlnYXRpb24gY29udHJvbHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbmF2aWdhdGlvbi8pXG4gICAgICovXG4gICAgYWRkQ29udHJvbChjb250cm9sOiBJQ29udHJvbCwgcG9zaXRpb24/OiBDb250cm9sUG9zaXRpb24pIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgJiYgY29udHJvbC5nZXREZWZhdWx0UG9zaXRpb24pIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gY29udHJvbC5nZXREZWZhdWx0UG9zaXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSAndG9wLXJpZ2h0JztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250cm9sRWxlbWVudCA9IGNvbnRyb2wub25BZGQodGhpcyk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uQ29udGFpbmVyID0gdGhpcy5fY29udHJvbFBvc2l0aW9uc1twb3NpdGlvbl07XG4gICAgICAgIGlmIChwb3NpdGlvbi5pbmRleE9mKCdib3R0b20nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uQ29udGFpbmVyLmluc2VydEJlZm9yZShjb250cm9sRWxlbWVudCwgcG9zaXRpb25Db250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3NpdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChjb250cm9sRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgY29udHJvbCBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0lDb250cm9sfSBjb250cm9sIFRoZSB7QGxpbmsgSUNvbnRyb2x9IHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICByZW1vdmVDb250cm9sKGNvbnRyb2w6IElDb250cm9sKSB7XG4gICAgICAgIGNvbnRyb2wub25SZW1vdmUodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIG1hcCBhY2NvcmRpbmcgdG8gdGhlIGRpbWVuc2lvbnMgb2YgaXRzXG4gICAgICogYGNvbnRhaW5lcmAgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG11c3QgYmUgY2FsbGVkIGFmdGVyIHRoZSBtYXAncyBgY29udGFpbmVyYCBpcyByZXNpemVkIGJ5IGFub3RoZXIgc2NyaXB0LFxuICAgICAqIG9yIHdoZW4gdGhlIG1hcCBpcyBzaG93biBhZnRlciBiZWluZyBpbml0aWFsbHkgaGlkZGVuIHdpdGggQ1NTLlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHJlc2l6ZShldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMuX2NvbnRhaW5lckRpbWVuc2lvbnMoKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBkaW1lbnNpb25zWzBdO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBkaW1lbnNpb25zWzFdO1xuXG4gICAgICAgIHRoaXMuX3Jlc2l6ZUNhbnZhcyh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLnBhaW50ZXIucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ21vdmVzdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ21vdmUnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdyZXNpemUnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdtb3ZlZW5kJywgZXZlbnREYXRhKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgZ2VvZ3JhcGhpY2FsIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXRCb3VuZHN9IFRoZSBtYXAncyBnZW9ncmFwaGljYWwgYm91bmRzLlxuICAgICAqL1xuICAgIGdldEJvdW5kcygpIHtcbiAgICAgICAgY29uc3QgYm91bmRzID0gbmV3IExuZ0xhdEJvdW5kcyhcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24obmV3IFBvaW50KDAsIHRoaXMudHJhbnNmb3JtLmhlaWdodCkpLFxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbihuZXcgUG9pbnQodGhpcy50cmFuc2Zvcm0ud2lkdGgsIDApKSk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLmFuZ2xlIHx8IHRoaXMudHJhbnNmb3JtLnBpdGNoKSB7XG4gICAgICAgICAgICBib3VuZHMuZXh0ZW5kKHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24obmV3IFBvaW50KHRoaXMudHJhbnNmb3JtLnNpemUueCwgMCkpKTtcbiAgICAgICAgICAgIGJvdW5kcy5leHRlbmQodGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbihuZXcgUG9pbnQoMCwgdGhpcy50cmFuc2Zvcm0uc2l6ZS55KSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXAncyBnZW9ncmFwaGljYWwgYm91bmRzLlxuICAgICAqXG4gICAgICogUmV0dXJucyB0aGUgTG5nTGF0Qm91bmRzIGJ5IHdoaWNoIHBhbiBhbmQgem9vbSBvcGVyYXRpb25zIG9uIHRoZSBtYXAgYXJlIGNvbnN0cmFpbmVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kcyB8IG51bGx9IFRoZSBtYXhpbXVtIGJvdW5kcyB0aGUgbWFwIGlzIGNvbnN0cmFpbmVkIHRvLCBvciBgbnVsbGAgaWYgbm9uZSBzZXQuXG4gICAgICovXG4gICAgZ2V0TWF4Qm91bmRzICgpIHtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLmxhdFJhbmdlICYmIHRoaXMudHJhbnNmb3JtLmxhdFJhbmdlLmxlbmd0aCA9PT0gMiAmJlxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubG5nUmFuZ2UgJiYgdGhpcy50cmFuc2Zvcm0ubG5nUmFuZ2UubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExuZ0xhdEJvdW5kcyhbdGhpcy50cmFuc2Zvcm0ubG5nUmFuZ2VbMF0sIHRoaXMudHJhbnNmb3JtLmxhdFJhbmdlWzBdXSxcbiAgICAgICAgICAgICAgICBbdGhpcy50cmFuc2Zvcm0ubG5nUmFuZ2VbMV0sIHRoaXMudHJhbnNmb3JtLmxhdFJhbmdlWzFdXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgb3IgY2xlYXJzIHRoZSBtYXAncyBnZW9ncmFwaGljYWwgYm91bmRzLlxuICAgICAqXG4gICAgICogUGFuIGFuZCB6b29tIG9wZXJhdGlvbnMgYXJlIGNvbnN0cmFpbmVkIHdpdGhpbiB0aGVzZSBib3VuZHMuXG4gICAgICogSWYgYSBwYW4gb3Igem9vbSBpcyBwZXJmb3JtZWQgdGhhdCB3b3VsZFxuICAgICAqIGRpc3BsYXkgcmVnaW9ucyBvdXRzaWRlIHRoZXNlIGJvdW5kcywgdGhlIG1hcCB3aWxsXG4gICAgICogaW5zdGVhZCBkaXNwbGF5IGEgcG9zaXRpb24gYW5kIHpvb20gbGV2ZWxcbiAgICAgKiBhcyBjbG9zZSBhcyBwb3NzaWJsZSB0byB0aGUgb3BlcmF0aW9uJ3MgcmVxdWVzdCB3aGlsZSBzdGlsbFxuICAgICAqIHJlbWFpbmluZyB3aXRoaW4gdGhlIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0Qm91bmRzTGlrZSB8IG51bGwgfCB1bmRlZmluZWR9IGxuZ2xhdGJvdW5kcyBUaGUgbWF4aW11bSBib3VuZHMgdG8gc2V0LiBJZiBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgaXMgcHJvdmlkZWQsIHRoZSBmdW5jdGlvbiByZW1vdmVzIHRoZSBtYXAncyBtYXhpbXVtIGJvdW5kcy5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRNYXhCb3VuZHMobG5nbGF0Ym91bmRzOiBMbmdMYXRCb3VuZHNMaWtlKSB7XG4gICAgICAgIGlmIChsbmdsYXRib3VuZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGIgPSBMbmdMYXRCb3VuZHMuY29udmVydChsbmdsYXRib3VuZHMpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubG5nUmFuZ2UgPSBbYi5nZXRXZXN0KCksIGIuZ2V0RWFzdCgpXTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmxhdFJhbmdlID0gW2IuZ2V0U291dGgoKSwgYi5nZXROb3J0aCgpXTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLl9jb25zdHJhaW4oKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGxuZ2xhdGJvdW5kcyA9PT0gbnVsbCB8fCBsbmdsYXRib3VuZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubG5nUmFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubGF0UmFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIGNsZWFycyB0aGUgbWFwJ3MgbWluaW11bSB6b29tIGxldmVsLlxuICAgICAqIElmIHRoZSBtYXAncyBjdXJyZW50IHpvb20gbGV2ZWwgaXMgbG93ZXIgdGhhbiB0aGUgbmV3IG1pbmltdW0sXG4gICAgICogdGhlIG1hcCB3aWxsIHpvb20gdG8gdGhlIG5ldyBtaW5pbXVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkfSBtaW5ab29tIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgdG8gc2V0ICgwLTI0KS5cbiAgICAgKiAgIElmIGBudWxsYCBvciBgdW5kZWZpbmVkYCBpcyBwcm92aWRlZCwgdGhlIGZ1bmN0aW9uIHJlbW92ZXMgdGhlIGN1cnJlbnQgbWluaW11bSB6b29tIChpLmUuIHNldHMgaXQgdG8gMCkuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0TWluWm9vbShtaW5ab29tPzogP251bWJlcikge1xuXG4gICAgICAgIG1pblpvb20gPSBtaW5ab29tID09PSBudWxsIHx8IG1pblpvb20gPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRNaW5ab29tIDogbWluWm9vbTtcblxuICAgICAgICBpZiAobWluWm9vbSA+PSBkZWZhdWx0TWluWm9vbSAmJiBtaW5ab29tIDw9IHRoaXMudHJhbnNmb3JtLm1heFpvb20pIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1pblpvb20gPSBtaW5ab29tO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmdldFpvb20oKSA8IG1pblpvb20pIHRoaXMuc2V0Wm9vbShtaW5ab29tKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihgbWluWm9vbSBtdXN0IGJlIGJldHdlZW4gJHtkZWZhdWx0TWluWm9vbX0gYW5kIHRoZSBjdXJyZW50IG1heFpvb20sIGluY2x1c2l2ZWApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIG1pbmltdW0gYWxsb3dhYmxlIHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBtaW5ab29tXG4gICAgICovXG4gICAgZ2V0TWluWm9vbSgpIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblpvb207IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgb3IgY2xlYXJzIHRoZSBtYXAncyBtYXhpbXVtIHpvb20gbGV2ZWwuXG4gICAgICogSWYgdGhlIG1hcCdzIGN1cnJlbnQgem9vbSBsZXZlbCBpcyBoaWdoZXIgdGhhbiB0aGUgbmV3IG1heGltdW0sXG4gICAgICogdGhlIG1hcCB3aWxsIHpvb20gdG8gdGhlIG5ldyBtYXhpbXVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkfSBtYXhab29tIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdG8gc2V0LlxuICAgICAqICAgSWYgYG51bGxgIG9yIGB1bmRlZmluZWRgIGlzIHByb3ZpZGVkLCB0aGUgZnVuY3Rpb24gcmVtb3ZlcyB0aGUgY3VycmVudCBtYXhpbXVtIHpvb20gKHNldHMgaXQgdG8gMjIpLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldE1heFpvb20obWF4Wm9vbT86ID9udW1iZXIpIHtcblxuICAgICAgICBtYXhab29tID0gbWF4Wm9vbSA9PT0gbnVsbCB8fCBtYXhab29tID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TWF4Wm9vbSA6IG1heFpvb207XG5cbiAgICAgICAgaWYgKG1heFpvb20gPj0gdGhpcy50cmFuc2Zvcm0ubWluWm9vbSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbSA9IG1heFpvb207XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Wm9vbSgpID4gbWF4Wm9vbSkgdGhpcy5zZXRab29tKG1heFpvb20pO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKGBtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1pblpvb21gKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzdGF0ZSBvZiByZW5kZXJXb3JsZENvcGllcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSByZW5kZXJXb3JsZENvcGllc1xuICAgICAqL1xuICAgIGdldFJlbmRlcldvcmxkQ29waWVzKCkgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXM7IH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YXRlIG9mIHJlbmRlcldvcmxkQ29waWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZW5kZXJXb3JsZENvcGllcyBJZiBgdHJ1ZWAsIG11bHRpcGxlIGNvcGllcyBvZiB0aGUgd29ybGQgd2lsbCBiZSByZW5kZXJlZCwgd2hlbiB6b29tZWQgb3V0LiBgdW5kZWZpbmVkYCBpcyB0cmVhdGVkIGFzIGB0cnVlYCwgYG51bGxgIGlzIHRyZWF0ZWQgYXMgYGZhbHNlYC5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRSZW5kZXJXb3JsZENvcGllcyhyZW5kZXJXb3JsZENvcGllcz86ID9ib29sZWFuKSB7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMgPSByZW5kZXJXb3JsZENvcGllcztcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgbWF4aW11bSBhbGxvd2FibGUgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IG1heFpvb21cbiAgICAgKi9cbiAgICBnZXRNYXhab29tKCkgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbTsgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHtAbGluayBQb2ludH0gcmVwcmVzZW50aW5nIHBpeGVsIGNvb3JkaW5hdGVzLCByZWxhdGl2ZSB0byB0aGUgbWFwJ3MgYGNvbnRhaW5lcmAsXG4gICAgICogdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBzcGVjaWZpZWQgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtMbmdMYXRMaWtlfSBsbmdsYXQgVGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbiB0byBwcm9qZWN0LlxuICAgICAqIEByZXR1cm5zIHtQb2ludH0gVGhlIHtAbGluayBQb2ludH0gY29ycmVzcG9uZGluZyB0byBgbG5nbGF0YCwgcmVsYXRpdmUgdG8gdGhlIG1hcCdzIGBjb250YWluZXJgLlxuICAgICAqL1xuICAgIHByb2plY3QobG5nbGF0OiBMbmdMYXRMaWtlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhdGlvblBvaW50KExuZ0xhdC5jb252ZXJ0KGxuZ2xhdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB7QGxpbmsgTG5nTGF0fSByZXByZXNlbnRpbmcgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzIHRoYXQgY29ycmVzcG9uZFxuICAgICAqIHRvIHRoZSBzcGVjaWZpZWQgcGl4ZWwgY29vcmRpbmF0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BvaW50TGlrZX0gcG9pbnQgVGhlIHBpeGVsIGNvb3JkaW5hdGVzIHRvIHVucHJvamVjdC5cbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0fSBUaGUge0BsaW5rIExuZ0xhdH0gY29ycmVzcG9uZGluZyB0byBgcG9pbnRgLlxuICAgICAqIEBzZWUgW1Nob3cgcG9seWdvbiBpbmZvcm1hdGlvbiBvbiBjbGlja10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb2x5Z29uLXBvcHVwLW9uLWNsaWNrLylcbiAgICAgKi9cbiAgICB1bnByb2plY3QocG9pbnQ6IFBvaW50TGlrZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbihQb2ludC5jb252ZXJ0KHBvaW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBtYXAgaXMgcGFubmluZywgem9vbWluZywgcm90YXRpbmcsIG9yIHBpdGNoaW5nIGR1ZSB0byBhIGNhbWVyYSBhbmltYXRpb24gb3IgdXNlciBnZXN0dXJlLlxuICAgICAqL1xuICAgIGlzTW92aW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW92aW5nIHx8XG4gICAgICAgICAgICB0aGlzLmRyYWdQYW4uaXNBY3RpdmUoKSB8fFxuICAgICAgICAgICAgdGhpcy5kcmFnUm90YXRlLmlzQWN0aXZlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsWm9vbS5pc0FjdGl2ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbWFwIGlzIHpvb21pbmcgZHVlIHRvIGEgY2FtZXJhIGFuaW1hdGlvbiBvciB1c2VyIGdlc3R1cmUuXG4gICAgICovXG4gICAgaXNab29taW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fem9vbWluZyB8fFxuICAgICAgICAgICAgdGhpcy5zY3JvbGxab29tLmlzQWN0aXZlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBtYXAgaXMgcm90YXRpbmcgZHVlIHRvIGEgY2FtZXJhIGFuaW1hdGlvbiBvciB1c2VyIGdlc3R1cmUuXG4gICAgICovXG4gICAgaXNSb3RhdGluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW5nIHx8XG4gICAgICAgICAgICB0aGlzLmRyYWdSb3RhdGUuaXNBY3RpdmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgZm9yIGV2ZW50cyBvZiBhIHNwZWNpZmllZCB0eXBlLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIG9uXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlIHRvIGFkZCBhIGxpc3RlbiBmb3IuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBmaXJlZC5cbiAgICAgKiAgIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCB0aGUgZGF0YSBvYmplY3QgcGFzc2VkIHRvIGBmaXJlYCxcbiAgICAgKiAgIGV4dGVuZGVkIHdpdGggYHRhcmdldGAgYW5kIGB0eXBlYCBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIGZvciBldmVudHMgb2YgYSBzcGVjaWZpZWQgdHlwZSBvY2N1cnJpbmcgb24gZmVhdHVyZXMgaW4gYSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZSB0byBsaXN0ZW4gZm9yOyBvbmUgb2YgYCdtb3VzZWRvd24nYCwgYCdtb3VzZXVwJ2AsIGAnY2xpY2snYCwgYCdkYmxjbGljaydgLFxuICAgICAqIGAnbW91c2Vtb3ZlJ2AsIGAnbW91c2VlbnRlcidgLCBgJ21vdXNlbGVhdmUnYCwgYCdtb3VzZW92ZXInYCwgYCdtb3VzZW91dCdgLCBgJ2NvbnRleHRtZW51J2AsIGAndG91Y2hzdGFydCdgLFxuICAgICAqIGAndG91Y2hlbmQnYCwgb3IgYCd0b3VjaGNhbmNlbCdgLiBgbW91c2VlbnRlcmAgYW5kIGBtb3VzZW92ZXJgIGV2ZW50cyBhcmUgdHJpZ2dlcmVkIHdoZW4gdGhlIGN1cnNvciBlbnRlcnNcbiAgICAgKiBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgc3BlY2lmaWVkIGxheWVyIGZyb20gb3V0c2lkZSB0aGF0IGxheWVyIG9yIG91dHNpZGUgdGhlIG1hcCBjYW52YXMuIGBtb3VzZWxlYXZlYFxuICAgICAqIGFuZCBgbW91c2VvdXRgIGV2ZW50cyBhcmUgdHJpZ2dlcmVkIHdoZW4gdGhlIGN1cnNvciBsZWF2ZXMgYSB2aXNpYmxlIHBvcnRpb24gb2YgdGhlIHNwZWNpZmllZCBsYXllciwgb3IgbGVhdmVzXG4gICAgICogdGhlIG1hcCBjYW52YXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIFRoZSBJRCBvZiBhIHN0eWxlIGxheWVyLiBPbmx5IGV2ZW50cyB3aG9zZSBsb2NhdGlvbiBpcyB3aXRoaW4gYSB2aXNpYmxlXG4gICAgICogZmVhdHVyZSBpbiB0aGlzIGxheWVyIHdpbGwgdHJpZ2dlciB0aGUgbGlzdGVuZXIuIFRoZSBldmVudCB3aWxsIGhhdmUgYSBgZmVhdHVyZXNgIHByb3BlcnR5IGNvbnRhaW5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgbWF0Y2hpbmcgZmVhdHVyZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBmaXJlZC5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBvbih0eXBlOiBNYXBFdmVudCwgbGF5ZXI6IGFueSwgbGlzdGVuZXI6IGFueSkge1xuICAgICAgICBpZiAobGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLm9uKHR5cGUsIGxheWVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRlbGVnYXRlZExpc3RlbmVyID0gKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbW91c2VlbnRlcicgfHwgdHlwZSA9PT0gJ21vdXNlb3ZlcicpIHtcbiAgICAgICAgICAgICAgICBsZXQgbW91c2VpbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlbW92ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5nZXRMYXllcihsYXllcikgPyB0aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50LCB7bGF5ZXJzOiBbbGF5ZXJdfSkgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghbW91c2Vpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIG5ldyBNYXBNb3VzZUV2ZW50KHR5cGUsIHRoaXMsIGUub3JpZ2luYWxFdmVudCwge2ZlYXR1cmVzfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3VzZW91dCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtsYXllciwgbGlzdGVuZXIsIGRlbGVnYXRlczoge21vdXNlbW92ZSwgbW91c2VvdXR9fTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21vdXNlbGVhdmUnIHx8IHR5cGUgPT09ICdtb3VzZW91dCcpIHtcbiAgICAgICAgICAgICAgICBsZXQgbW91c2VpbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlbW92ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5nZXRMYXllcihsYXllcikgPyB0aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50LCB7bGF5ZXJzOiBbbGF5ZXJdfSkgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW91c2Vpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBuZXcgTWFwTW91c2VFdmVudCh0eXBlLCB0aGlzLCBlLm9yaWdpbmFsRXZlbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbW91c2VvdXQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW91c2Vpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBuZXcgTWFwTW91c2VFdmVudCh0eXBlLCB0aGlzLCBlLm9yaWdpbmFsRXZlbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtsYXllciwgbGlzdGVuZXIsIGRlbGVnYXRlczoge21vdXNlbW92ZSwgbW91c2VvdXR9fTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZWdhdGUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXIpID8gdGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCwge2xheWVyczogW2xheWVyXX0pIDogW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhlcmUgd2UgbmVlZCB0byBtdXRhdGUgdGhlIG9yaWdpbmFsIGV2ZW50LCBzbyB0aGF0IHByZXZlbnREZWZhdWx0IHdvcmtzIGFzIGV4cGVjdGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgZS5mZWF0dXJlcyA9IGZlYXR1cmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlLmZlYXR1cmVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge2xheWVyLCBsaXN0ZW5lciwgZGVsZWdhdGVzOiB7W3R5cGVdOiBkZWxlZ2F0ZX19O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuXG4gICAgICAgIHRoaXMuX2RlbGVnYXRlZExpc3RlbmVycyA9IHRoaXMuX2RlbGVnYXRlZExpc3RlbmVycyB8fCB7fTtcbiAgICAgICAgdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3R5cGVdID0gdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3R5cGVdIHx8IFtdO1xuICAgICAgICB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdHlwZV0ucHVzaChkZWxlZ2F0ZWRMaXN0ZW5lcik7XG5cbiAgICAgICAgZm9yIChjb25zdCBldmVudCBpbiBkZWxlZ2F0ZWRMaXN0ZW5lci5kZWxlZ2F0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMub24oKGV2ZW50OiBhbnkpLCBkZWxlZ2F0ZWRMaXN0ZW5lci5kZWxlZ2F0ZXNbZXZlbnRdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgcHJldmlvdXNseSBhZGRlZCB3aXRoIGBNYXAjb25gLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIG9mZlxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZSBwcmV2aW91c2x5IHVzZWQgdG8gaW5zdGFsbCB0aGUgbGlzdGVuZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGZ1bmN0aW9uIHByZXZpb3VzbHkgaW5zdGFsbGVkIGFzIGEgbGlzdGVuZXIuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIGZvciBsYXllci1zcGVjaWZpYyBldmVudHMgcHJldmlvdXNseSBhZGRlZCB3aXRoIGBNYXAjb25gLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUgcHJldmlvdXNseSB1c2VkIHRvIGluc3RhbGwgdGhlIGxpc3RlbmVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciBUaGUgbGF5ZXIgSUQgcHJldmlvdXNseSB1c2VkIHRvIGluc3RhbGwgdGhlIGxpc3RlbmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBmdW5jdGlvbiBwcmV2aW91c2x5IGluc3RhbGxlZCBhcyBhIGxpc3RlbmVyLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIG9mZih0eXBlOiBNYXBFdmVudCwgbGF5ZXI6IGFueSwgbGlzdGVuZXI6IGFueSkge1xuICAgICAgICBpZiAobGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLm9mZih0eXBlLCBsYXllcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzICYmIHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0eXBlXSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3R5cGVdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxlZ2F0ZWRMaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoZGVsZWdhdGVkTGlzdGVuZXIubGF5ZXIgPT09IGxheWVyICYmIGRlbGVnYXRlZExpc3RlbmVyLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IGluIGRlbGVnYXRlZExpc3RlbmVyLmRlbGVnYXRlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmYoKGV2ZW50OiBhbnkpLCBkZWxlZ2F0ZWRMaXN0ZW5lci5kZWxlZ2F0ZXNbZXZlbnRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIFtHZW9KU09OXShodHRwOi8vZ2VvanNvbi5vcmcvKVxuICAgICAqIFtGZWF0dXJlIG9iamVjdHNdKGh0dHA6Ly9nZW9qc29uLm9yZy9nZW9qc29uLXNwZWMuaHRtbCNmZWF0dXJlLW9iamVjdHMpXG4gICAgICogcmVwcmVzZW50aW5nIHZpc2libGUgZmVhdHVyZXMgdGhhdCBzYXRpc2Z5IHRoZSBxdWVyeSBwYXJhbWV0ZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V8QXJyYXk8UG9pbnRMaWtlPn0gW2dlb21ldHJ5XSAtIFRoZSBnZW9tZXRyeSBvZiB0aGUgcXVlcnkgcmVnaW9uOlxuICAgICAqIGVpdGhlciBhIHNpbmdsZSBwb2ludCBvciBzb3V0aHdlc3QgYW5kIG5vcnRoZWFzdCBwb2ludHMgZGVzY3JpYmluZyBhIGJvdW5kaW5nIGJveC5cbiAgICAgKiBPbWl0dGluZyB0aGlzIHBhcmFtZXRlciAoaS5lLiBjYWxsaW5nIHtAbGluayBNYXAjcXVlcnlSZW5kZXJlZEZlYXR1cmVzfSB3aXRoIHplcm8gYXJndW1lbnRzLFxuICAgICAqIG9yIHdpdGggb25seSBhIGBvcHRpb25zYCBhcmd1bWVudCkgaXMgZXF1aXZhbGVudCB0byBwYXNzaW5nIGEgYm91bmRpbmcgYm94IGVuY29tcGFzc2luZyB0aGUgZW50aXJlXG4gICAgICogbWFwIHZpZXdwb3J0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IFtvcHRpb25zLmxheWVyc10gQW4gYXJyYXkgb2Ygc3R5bGUgbGF5ZXIgSURzIGZvciB0aGUgcXVlcnkgdG8gaW5zcGVjdC5cbiAgICAgKiAgIE9ubHkgZmVhdHVyZXMgd2l0aGluIHRoZXNlIGxheWVycyB3aWxsIGJlIHJldHVybmVkLiBJZiB0aGlzIHBhcmFtZXRlciBpcyB1bmRlZmluZWQsIGFsbCBsYXllcnMgd2lsbCBiZSBjaGVja2VkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmZpbHRlcl0gQSBbZmlsdGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNvdGhlci1maWx0ZXIpXG4gICAgICogICB0byBsaW1pdCBxdWVyeSByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5PE9iamVjdD59IEFuIGFycmF5IG9mIFtHZW9KU09OXShodHRwOi8vZ2VvanNvbi5vcmcvKVxuICAgICAqIFtmZWF0dXJlIG9iamVjdHNdKGh0dHA6Ly9nZW9qc29uLm9yZy9nZW9qc29uLXNwZWMuaHRtbCNmZWF0dXJlLW9iamVjdHMpLlxuICAgICAqXG4gICAgICogVGhlIGBwcm9wZXJ0aWVzYCB2YWx1ZSBvZiBlYWNoIHJldHVybmVkIGZlYXR1cmUgb2JqZWN0IGNvbnRhaW5zIHRoZSBwcm9wZXJ0aWVzIG9mIGl0cyBzb3VyY2UgZmVhdHVyZS4gRm9yIEdlb0pTT04gc291cmNlcywgb25seVxuICAgICAqIHN0cmluZyBhbmQgbnVtZXJpYyBwcm9wZXJ0eSB2YWx1ZXMgYXJlIHN1cHBvcnRlZCAoaS5lLiBgbnVsbGAsIGBBcnJheWAsIGFuZCBgT2JqZWN0YCB2YWx1ZXMgYXJlIG5vdCBzdXBwb3J0ZWQpLlxuICAgICAqXG4gICAgICogRWFjaCBmZWF0dXJlIGluY2x1ZGVzIGEgdG9wLWxldmVsIGBsYXllcmAgcHJvcGVydHkgd2hvc2UgdmFsdWUgaXMgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3R5bGUgbGF5ZXIgdG9cbiAgICAgKiB3aGljaCB0aGUgZmVhdHVyZSBiZWxvbmdzLiBMYXlvdXQgYW5kIHBhaW50IHByb3BlcnRpZXMgaW4gdGhpcyBvYmplY3QgY29udGFpbiB2YWx1ZXMgd2hpY2ggYXJlIGZ1bGx5IGV2YWx1YXRlZFxuICAgICAqIGZvciB0aGUgZ2l2ZW4gem9vbSBsZXZlbCBhbmQgZmVhdHVyZS5cbiAgICAgKlxuICAgICAqIEZlYXR1cmVzIGZyb20gbGF5ZXJzIHdob3NlIGB2aXNpYmlsaXR5YCBwcm9wZXJ0eSBpcyBgXCJub25lXCJgLCBvciBmcm9tIGxheWVycyB3aG9zZSB6b29tIHJhbmdlIGV4Y2x1ZGVzIHRoZVxuICAgICAqIGN1cnJlbnQgem9vbSBsZXZlbCBhcmUgbm90IGluY2x1ZGVkLiBTeW1ib2wgZmVhdHVyZXMgdGhhdCBoYXZlIGJlZW4gaGlkZGVuIGR1ZSB0byB0ZXh0IG9yIGljb24gY29sbGlzaW9uIGFyZVxuICAgICAqIG5vdCBpbmNsdWRlZC4gRmVhdHVyZXMgZnJvbSBhbGwgb3RoZXIgbGF5ZXJzIGFyZSBpbmNsdWRlZCwgaW5jbHVkaW5nIGZlYXR1cmVzIHRoYXQgbWF5IGhhdmUgbm8gdmlzaWJsZVxuICAgICAqIGNvbnRyaWJ1dGlvbiB0byB0aGUgcmVuZGVyZWQgcmVzdWx0OyBmb3IgZXhhbXBsZSwgYmVjYXVzZSB0aGUgbGF5ZXIncyBvcGFjaXR5IG9yIGNvbG9yIGFscGhhIGNvbXBvbmVudCBpcyBzZXQgdG9cbiAgICAgKiAwLlxuICAgICAqXG4gICAgICogVGhlIHRvcG1vc3QgcmVuZGVyZWQgZmVhdHVyZSBhcHBlYXJzIGZpcnN0IGluIHRoZSByZXR1cm5lZCBhcnJheSwgYW5kIHN1YnNlcXVlbnQgZmVhdHVyZXMgYXJlIHNvcnRlZCBieVxuICAgICAqIGRlc2NlbmRpbmcgei1vcmRlci4gRmVhdHVyZXMgdGhhdCBhcmUgcmVuZGVyZWQgbXVsdGlwbGUgdGltZXMgKGR1ZSB0byB3cmFwcGluZyBhY3Jvc3MgdGhlIGFudGltZXJpZGlhbiBhdCBsb3dcbiAgICAgKiB6b29tIGxldmVscykgYXJlIHJldHVybmVkIG9ubHkgb25jZSAodGhvdWdoIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjYXZlYXQpLlxuICAgICAqXG4gICAgICogQmVjYXVzZSBmZWF0dXJlcyBjb21lIGZyb20gdGlsZWQgdmVjdG9yIGRhdGEgb3IgR2VvSlNPTiBkYXRhIHRoYXQgaXMgY29udmVydGVkIHRvIHRpbGVzIGludGVybmFsbHksIGZlYXR1cmVcbiAgICAgKiBnZW9tZXRyaWVzIG1heSBiZSBzcGxpdCBvciBkdXBsaWNhdGVkIGFjcm9zcyB0aWxlIGJvdW5kYXJpZXMgYW5kLCBhcyBhIHJlc3VsdCwgZmVhdHVyZXMgbWF5IGFwcGVhciBtdWx0aXBsZVxuICAgICAqIHRpbWVzIGluIHF1ZXJ5IHJlc3VsdHMuIEZvciBleGFtcGxlLCBzdXBwb3NlIHRoZXJlIGlzIGEgaGlnaHdheSBydW5uaW5nIHRocm91Z2ggdGhlIGJvdW5kaW5nIHJlY3RhbmdsZSBvZiBhIHF1ZXJ5LlxuICAgICAqIFRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeSB3aWxsIGJlIHRob3NlIHBhcnRzIG9mIHRoZSBoaWdod2F5IHRoYXQgbGllIHdpdGhpbiB0aGUgbWFwIHRpbGVzIGNvdmVyaW5nIHRoZSBib3VuZGluZ1xuICAgICAqIHJlY3RhbmdsZSwgZXZlbiBpZiB0aGUgaGlnaHdheSBleHRlbmRzIGludG8gb3RoZXIgdGlsZXMsIGFuZCB0aGUgcG9ydGlvbiBvZiB0aGUgaGlnaHdheSB3aXRoaW4gZWFjaCBtYXAgdGlsZVxuICAgICAqIHdpbGwgYmUgcmV0dXJuZWQgYXMgYSBzZXBhcmF0ZSBmZWF0dXJlLiBTaW1pbGFybHksIGEgcG9pbnQgZmVhdHVyZSBuZWFyIGEgdGlsZSBib3VuZGFyeSBtYXkgYXBwZWFyIGluIG11bHRpcGxlXG4gICAgICogdGlsZXMgZHVlIHRvIHRpbGUgYnVmZmVyaW5nLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBGaW5kIGFsbCBmZWF0dXJlcyBhdCBhIHBvaW50XG4gICAgICogdmFyIGZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgKiAgIFsyMCwgMzVdLFxuICAgICAqICAgeyBsYXllcnM6IFsnbXktbGF5ZXItbmFtZSddIH1cbiAgICAgKiApO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBGaW5kIGFsbCBmZWF0dXJlcyB3aXRoaW4gYSBzdGF0aWMgYm91bmRpbmcgYm94XG4gICAgICogdmFyIGZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgKiAgIFtbMTAsIDIwXSwgWzMwLCA1MF1dLFxuICAgICAqICAgeyBsYXllcnM6IFsnbXktbGF5ZXItbmFtZSddIH1cbiAgICAgKiApO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBGaW5kIGFsbCBmZWF0dXJlcyB3aXRoaW4gYSBib3VuZGluZyBib3ggYXJvdW5kIGEgcG9pbnRcbiAgICAgKiB2YXIgd2lkdGggPSAxMDtcbiAgICAgKiB2YXIgaGVpZ2h0ID0gMjA7XG4gICAgICogdmFyIGZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhbXG4gICAgICogICBbcG9pbnQueCAtIHdpZHRoIC8gMiwgcG9pbnQueSAtIGhlaWdodCAvIDJdLFxuICAgICAqICAgW3BvaW50LnggKyB3aWR0aCAvIDIsIHBvaW50LnkgKyBoZWlnaHQgLyAyXVxuICAgICAqIF0sIHsgbGF5ZXJzOiBbJ215LWxheWVyLW5hbWUnXSB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gUXVlcnkgYWxsIHJlbmRlcmVkIGZlYXR1cmVzIGZyb20gYSBzaW5nbGUgbGF5ZXJcbiAgICAgKiB2YXIgZmVhdHVyZXMgPSBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHsgbGF5ZXJzOiBbJ215LWxheWVyLW5hbWUnXSB9KTtcbiAgICAgKiBAc2VlIFtHZXQgZmVhdHVyZXMgdW5kZXIgdGhlIG1vdXNlIHBvaW50ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAgICAgKiBAc2VlIFtIaWdobGlnaHQgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3VzaW5nLWJveC1xdWVyeXJlbmRlcmVkZmVhdHVyZXMvKVxuICAgICAqIEBzZWUgW0NlbnRlciB0aGUgbWFwIG9uIGEgY2xpY2tlZCBzeW1ib2xdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY2VudGVyLW9uLXN5bWJvbC8pXG4gICAgICovXG4gICAgcXVlcnlSZW5kZXJlZEZlYXR1cmVzKGdlb21ldHJ5PzogUG9pbnRMaWtlIHwgW1BvaW50TGlrZSwgUG9pbnRMaWtlXSwgb3B0aW9ucz86IE9iamVjdCkge1xuICAgICAgICAvLyBUaGUgZmlyc3QgcGFyYW1ldGVyIGNhbiBiZSBvbWl0dGVkIGVudGlyZWx5LCBtYWtpbmcgdGhpcyBlZmZlY3RpdmVseSBhbiBvdmVybG9hZGVkIG1ldGhvZFxuICAgICAgICAvLyB3aXRoIHR3byBzaWduYXR1cmVzOlxuICAgICAgICAvL1xuICAgICAgICAvLyAgICAgcXVlcnlSZW5kZXJlZEZlYXR1cmVzKGdlb21ldHJ5OiBQb2ludExpa2UgfCBbUG9pbnRMaWtlLCBQb2ludExpa2VdLCBvcHRpb25zPzogT2JqZWN0KVxuICAgICAgICAvLyAgICAgcXVlcnlSZW5kZXJlZEZlYXR1cmVzKG9wdGlvbnM/OiBPYmplY3QpXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZXJlIG5vIHdheSB0byBleHByZXNzIHRoYXQgaW4gYSB3YXkgdGhhdCdzIGNvbXBhdGlibGUgd2l0aCBib3RoIGZsb3cgYW5kIGRvY3VtZW50YXRpb24uanMuXG4gICAgICAgIC8vIFJlbGF0ZWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy8xNTU2XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiBpc1BvaW50TGlrZShhcmd1bWVudHNbMF0pKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBhcmd1bWVudHNbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdHlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzKFxuICAgICAgICAgICAgdGhpcy5fbWFrZVF1ZXJ5R2VvbWV0cnkoZ2VvbWV0cnkpLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtXG4gICAgICAgICk7XG5cbiAgICAgICAgZnVuY3Rpb24gaXNQb2ludExpa2UoaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIFBvaW50IHx8IEFycmF5LmlzQXJyYXkoaW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21ha2VRdWVyeUdlb21ldHJ5KHBvaW50T3JCb3g/OiBQb2ludExpa2UgfCBbUG9pbnRMaWtlLCBQb2ludExpa2VdKSB7XG4gICAgICAgIGlmIChwb2ludE9yQm94ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGJvdW5kcyB3YXMgb21pdHRlZDogdXNlIGZ1bGwgdmlld3BvcnRcbiAgICAgICAgICAgIHBvaW50T3JCb3ggPSBbXG4gICAgICAgICAgICAgICAgUG9pbnQuY29udmVydChbMCwgMF0pLFxuICAgICAgICAgICAgICAgIFBvaW50LmNvbnZlcnQoW3RoaXMudHJhbnNmb3JtLndpZHRoLCB0aGlzLnRyYW5zZm9ybS5oZWlnaHRdKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBxdWVyeUdlb21ldHJ5O1xuXG4gICAgICAgIGlmIChwb2ludE9yQm94IGluc3RhbmNlb2YgUG9pbnQgfHwgdHlwZW9mIHBvaW50T3JCb3hbMF0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IFBvaW50LmNvbnZlcnQocG9pbnRPckJveCk7XG4gICAgICAgICAgICBxdWVyeUdlb21ldHJ5ID0gW3BvaW50XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IFtQb2ludC5jb252ZXJ0KHBvaW50T3JCb3hbMF0pLCBQb2ludC5jb252ZXJ0KHBvaW50T3JCb3hbMV0pXTtcbiAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnkgPSBbXG4gICAgICAgICAgICAgICAgYm94WzBdLFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludChib3hbMV0ueCwgYm94WzBdLnkpLFxuICAgICAgICAgICAgICAgIGJveFsxXSxcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoYm94WzBdLngsIGJveFsxXS55KSxcbiAgICAgICAgICAgICAgICBib3hbMF1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICBxdWVyeUdlb21ldHJ5ID0gcXVlcnlHZW9tZXRyeS5tYXAoKHApID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb2ludENvb3JkaW5hdGUocCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBxdWVyeUdlb21ldHJ5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgW0dlb0pTT05dKGh0dHA6Ly9nZW9qc29uLm9yZy8pXG4gICAgICogW0ZlYXR1cmUgb2JqZWN0c10oaHR0cDovL2dlb2pzb24ub3JnL2dlb2pzb24tc3BlYy5odG1sI2ZlYXR1cmUtb2JqZWN0cylcbiAgICAgKiByZXByZXNlbnRpbmcgZmVhdHVyZXMgd2l0aGluIHRoZSBzcGVjaWZpZWQgdmVjdG9yIHRpbGUgb3IgR2VvSlNPTiBzb3VyY2UgdGhhdCBzYXRpc2Z5IHRoZSBxdWVyeSBwYXJhbWV0ZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZUlEIFRoZSBJRCBvZiB0aGUgdmVjdG9yIHRpbGUgb3IgR2VvSlNPTiBzb3VyY2UgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwYXJhbWV0ZXJzXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcGFyYW1ldGVycy5zb3VyY2VMYXllcl0gVGhlIG5hbWUgb2YgdGhlIHZlY3RvciB0aWxlIGxheWVyIHRvIHF1ZXJ5LiAqRm9yIHZlY3RvciB0aWxlXG4gICAgICogICBzb3VyY2VzLCB0aGlzIHBhcmFtZXRlciBpcyByZXF1aXJlZC4qIEZvciBHZW9KU09OIHNvdXJjZXMsIGl0IGlzIGlnbm9yZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcmFtZXRlcnMuZmlsdGVyXSBBIFtmaWx0ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvI290aGVyLWZpbHRlcilcbiAgICAgKiAgIHRvIGxpbWl0IHF1ZXJ5IHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8T2JqZWN0Pn0gQW4gYXJyYXkgb2YgW0dlb0pTT05dKGh0dHA6Ly9nZW9qc29uLm9yZy8pXG4gICAgICogW0ZlYXR1cmUgb2JqZWN0c10oaHR0cDovL2dlb2pzb24ub3JnL2dlb2pzb24tc3BlYy5odG1sI2ZlYXR1cmUtb2JqZWN0cykuXG4gICAgICpcbiAgICAgKiBJbiBjb250cmFzdCB0byB7QGxpbmsgTWFwI3F1ZXJ5UmVuZGVyZWRGZWF0dXJlc30sIHRoaXMgZnVuY3Rpb25cbiAgICAgKiByZXR1cm5zIGFsbCBmZWF0dXJlcyBtYXRjaGluZyB0aGUgcXVlcnkgcGFyYW1ldGVycyxcbiAgICAgKiB3aGV0aGVyIG9yIG5vdCB0aGV5IGFyZSByZW5kZXJlZCBieSB0aGUgY3VycmVudCBzdHlsZSAoaS5lLiB2aXNpYmxlKS4gVGhlIGRvbWFpbiBvZiB0aGUgcXVlcnkgaW5jbHVkZXMgYWxsIGN1cnJlbnRseS1sb2FkZWRcbiAgICAgKiB2ZWN0b3IgdGlsZXMgYW5kIEdlb0pTT04gc291cmNlIHRpbGVzOiB0aGlzIGZ1bmN0aW9uIGRvZXMgbm90IGNoZWNrIHRpbGVzIG91dHNpZGUgdGhlIGN1cnJlbnRseVxuICAgICAqIHZpc2libGUgdmlld3BvcnQuXG4gICAgICpcbiAgICAgKiBCZWNhdXNlIGZlYXR1cmVzIGNvbWUgZnJvbSB0aWxlZCB2ZWN0b3IgZGF0YSBvciBHZW9KU09OIGRhdGEgdGhhdCBpcyBjb252ZXJ0ZWQgdG8gdGlsZXMgaW50ZXJuYWxseSwgZmVhdHVyZVxuICAgICAqIGdlb21ldHJpZXMgbWF5IGJlIHNwbGl0IG9yIGR1cGxpY2F0ZWQgYWNyb3NzIHRpbGUgYm91bmRhcmllcyBhbmQsIGFzIGEgcmVzdWx0LCBmZWF0dXJlcyBtYXkgYXBwZWFyIG11bHRpcGxlXG4gICAgICogdGltZXMgaW4gcXVlcnkgcmVzdWx0cy4gRm9yIGV4YW1wbGUsIHN1cHBvc2UgdGhlcmUgaXMgYSBoaWdod2F5IHJ1bm5pbmcgdGhyb3VnaCB0aGUgYm91bmRpbmcgcmVjdGFuZ2xlIG9mIGEgcXVlcnkuXG4gICAgICogVGhlIHJlc3VsdHMgb2YgdGhlIHF1ZXJ5IHdpbGwgYmUgdGhvc2UgcGFydHMgb2YgdGhlIGhpZ2h3YXkgdGhhdCBsaWUgd2l0aGluIHRoZSBtYXAgdGlsZXMgY292ZXJpbmcgdGhlIGJvdW5kaW5nXG4gICAgICogcmVjdGFuZ2xlLCBldmVuIGlmIHRoZSBoaWdod2F5IGV4dGVuZHMgaW50byBvdGhlciB0aWxlcywgYW5kIHRoZSBwb3J0aW9uIG9mIHRoZSBoaWdod2F5IHdpdGhpbiBlYWNoIG1hcCB0aWxlXG4gICAgICogd2lsbCBiZSByZXR1cm5lZCBhcyBhIHNlcGFyYXRlIGZlYXR1cmUuIFNpbWlsYXJseSwgYSBwb2ludCBmZWF0dXJlIG5lYXIgYSB0aWxlIGJvdW5kYXJ5IG1heSBhcHBlYXIgaW4gbXVsdGlwbGVcbiAgICAgKiB0aWxlcyBkdWUgdG8gdGlsZSBidWZmZXJpbmcuXG4gICAgICogQHNlZSBbRmlsdGVyIGZlYXR1cmVzIHdpdGhpbiBtYXAgdmlld10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9maWx0ZXItZmVhdHVyZXMtd2l0aGluLW1hcC12aWV3LylcbiAgICAgKiBAc2VlIFtIaWdobGlnaHQgZmVhdHVyZXMgY29udGFpbmluZyBzaW1pbGFyIGRhdGFdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcXVlcnktc2ltaWxhci1mZWF0dXJlcy8pXG4gICAgICovXG4gICAgcXVlcnlTb3VyY2VGZWF0dXJlcyhzb3VyY2VJRDogc3RyaW5nLCBwYXJhbWV0ZXJzOiA/e3NvdXJjZUxheWVyOiA/c3RyaW5nLCBmaWx0ZXI6ID9BcnJheTxhbnk+fSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5xdWVyeVNvdXJjZUZlYXR1cmVzKHNvdXJjZUlELCBwYXJhbWV0ZXJzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBtYXAncyBNYXBib3ggc3R5bGUgb2JqZWN0IHdpdGggYSBuZXcgdmFsdWUuICBJZiB0aGUgZ2l2ZW5cbiAgICAgKiB2YWx1ZSBpcyBzdHlsZSBKU09OIG9iamVjdCwgY29tcGFyZXMgaXQgYWdhaW5zdCB0aGUgdGhlIG1hcCdzIGN1cnJlbnRcbiAgICAgKiBzdGF0ZSBhbmQgcGVyZm9ybSBvbmx5IHRoZSBjaGFuZ2VzIG5lY2Vzc2FyeSB0byBtYWtlIHRoZSBtYXAgc3R5bGUgbWF0Y2hcbiAgICAgKiB0aGUgZGVzaXJlZCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdHlsZSBBIEpTT04gb2JqZWN0IGNvbmZvcm1pbmcgdG8gdGhlIHNjaGVtYSBkZXNjcmliZWQgaW4gdGhlXG4gICAgICogICBbTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vbWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8pLCBvciBhIFVSTCB0byBzdWNoIEpTT04uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZGlmZj10cnVlXSBJZiBmYWxzZSwgZm9yY2UgYSAnZnVsbCcgdXBkYXRlLCByZW1vdmluZyB0aGUgY3VycmVudCBzdHlsZVxuICAgICAqICAgYW5kIGFkZGluZyBidWlsZGluZyB0aGUgZ2l2ZW4gb25lIGluc3RlYWQgb2YgYXR0ZW1wdGluZyBhIGRpZmYtYmFzZWQgdXBkYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9bnVsbF0gSWYgbm9uLW51bGwsIGRlZmluZXMgYSBjc3MgZm9udC1mYW1pbHlcbiAgICAgKiAgIGZvciBsb2NhbGx5IG92ZXJyaWRpbmcgZ2VuZXJhdGlvbiBvZiBnbHlwaHMgaW4gdGhlICdDSksgVW5pZmllZCBJZGVvZ3JhcGhzJyBhbmQgJ0hhbmd1bCBTeWxsYWJsZXMnXG4gICAgICogICByYW5nZXMuIEZvcmNlcyBhIGZ1bGwgdXBkYXRlLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBzZWUgW0NoYW5nZSBhIG1hcCdzIHN0eWxlXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3NldHN0eWxlLylcbiAgICAgKi9cbiAgICBzZXRTdHlsZShzdHlsZTogU3R5bGVTcGVjaWZpY2F0aW9uIHwgc3RyaW5nIHwgbnVsbCwgb3B0aW9ucz86IHtkaWZmPzogYm9vbGVhbn0gJiBTdHlsZU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkVHJ5RGlmZiA9ICghb3B0aW9ucyB8fCAob3B0aW9ucy5kaWZmICE9PSBmYWxzZSAmJiAhb3B0aW9ucy5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHkpKSAmJiB0aGlzLnN0eWxlO1xuICAgICAgICBpZiAoc2hvdWxkVHJ5RGlmZiAmJiBzdHlsZSAmJiB0eXBlb2Ygc3R5bGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0eWxlLnNldFN0YXRlKHN0eWxlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHdhcm5PbmNlKFxuICAgICAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIHBlcmZvcm0gc3R5bGUgZGlmZjogJHtlLm1lc3NhZ2UgfHwgZS5lcnJvciB8fCBlfS4gIFJlYnVpbGRpbmcgdGhlIHN0eWxlIGZyb20gc2NyYXRjaC5gXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLl9yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3R5bGUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0eWxlID0gbmV3IFN0eWxlKHRoaXMsIG9wdGlvbnMgfHwge30pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KHRoaXMsIHtzdHlsZTogdGhpcy5zdHlsZX0pO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLmxvYWRVUkwoc3R5bGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5sb2FkSlNPTihzdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBNYXBib3ggc3R5bGUgb2JqZWN0LCB3aGljaCBjYW4gYmUgdXNlZCB0byByZWNyZWF0ZSB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgbWFwJ3Mgc3R5bGUgb2JqZWN0LlxuICAgICAqL1xuICAgIGdldFN0eWxlKCkge1xuICAgICAgICBpZiAodGhpcy5zdHlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuc2VyaWFsaXplKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCdzIHN0eWxlIGlzIGZ1bGx5IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBBIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBzdHlsZSBpcyBmdWxseSBsb2FkZWQuXG4gICAgICovXG4gICAgaXNTdHlsZUxvYWRlZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0eWxlKSByZXR1cm4gd2Fybk9uY2UoJ1RoZXJlIGlzIG5vIHN0eWxlIGFkZGVkIHRvIHRoZSBtYXAuJyk7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmxvYWRlZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBzb3VyY2UgdG8gdGhlIG1hcCdzIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgc291cmNlIHRvIGFkZC4gTXVzdCBub3QgY29uZmxpY3Qgd2l0aCBleGlzdGluZyBzb3VyY2VzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QsIGNvbmZvcm1pbmcgdG8gdGhlXG4gICAgICogTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb24ncyBbc291cmNlIGRlZmluaXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvI3NvdXJjZXMpLlxuICAgICAqIEBmaXJlcyBzb3VyY2UuYWRkXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQHNlZSBbRHJhdyBHZW9KU09OIHBvaW50c10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nZW9qc29uLW1hcmtlcnMvKVxuICAgICAqIEBzZWUgW1N0eWxlIGNpcmNsZXMgdXNpbmcgZGF0YS1kcml2ZW4gc3R5bGluZ10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kYXRhLWRyaXZlbi1jaXJjbGUtY29sb3JzLylcbiAgICAgKiBAc2VlIFtTZXQgYSBwb2ludCBhZnRlciBHZW9jb2RlciByZXN1bHRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9pbnQtZnJvbS1nZW9jb2Rlci1yZXN1bHQvKVxuICAgICAqL1xuICAgIGFkZFNvdXJjZShpZDogc3RyaW5nLCBzb3VyY2U6IFNvdXJjZVNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgdGhpcy5zdHlsZS5hZGRTb3VyY2UoaWQsIHNvdXJjZSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgc291cmNlIHRvIGJlIGNoZWNrZWQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IEEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICovXG4gICAgaXNTb3VyY2VMb2FkZWQoaWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnN0eWxlICYmIHRoaXMuc3R5bGUuc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgaWYgKHNvdXJjZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGVyZSBpcyBubyBzb3VyY2Ugd2l0aCBJRCAnJHtpZH0nYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlLmxvYWRlZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciBhbGwgdGlsZXMgaW4gdGhlIHZpZXdwb3J0IGZyb20gYWxsIHNvdXJjZXMgb25cbiAgICAgKiB0aGUgc3R5bGUgYXJlIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBBIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIGFsbCB0aWxlcyBhcmUgbG9hZGVkLlxuICAgICAqL1xuXG4gICAgYXJlVGlsZXNMb2FkZWQoKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLnN0eWxlICYmIHRoaXMuc3R5bGUuc291cmNlQ2FjaGVzO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZXNbaWRdO1xuICAgICAgICAgICAgY29uc3QgdGlsZXMgPSBzb3VyY2UuX3RpbGVzO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0IGluIHRpbGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRpbGVzW3RdO1xuICAgICAgICAgICAgICAgIGlmICghKHRpbGUuc3RhdGUgPT09ICdsb2FkZWQnIHx8IHRpbGUuc3RhdGUgPT09ICdlcnJvcmVkJykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgW2N1c3RvbSBzb3VyY2UgdHlwZV0oI0N1c3RvbSBTb3VyY2VzKSwgbWFraW5nIGl0IGF2YWlsYWJsZSBmb3IgdXNlIHdpdGhcbiAgICAgKiB7QGxpbmsgTWFwI2FkZFNvdXJjZX0uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc291cmNlIHR5cGU7IHNvdXJjZSBkZWZpbml0aW9uIG9iamVjdHMgdXNlIHRoaXMgbmFtZSBpbiB0aGUgYHt0eXBlOiAuLi59YCBmaWVsZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBTb3VyY2VUeXBlIEEge0BsaW5rIFNvdXJjZX0gY29uc3RydWN0b3IuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIHdoZW4gdGhlIHNvdXJjZSB0eXBlIGlzIHJlYWR5IG9yIHdpdGggYW4gZXJyb3IgYXJndW1lbnQgaWYgdGhlcmUgaXMgYW4gZXJyb3IuXG4gICAgICovXG4gICAgYWRkU291cmNlVHlwZShuYW1lOiBzdHJpbmcsIFNvdXJjZVR5cGU6IGFueSwgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmFkZFNvdXJjZVR5cGUobmFtZSwgU291cmNlVHlwZSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBzb3VyY2UgZnJvbSB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBzb3VyY2UgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHJlbW92ZVNvdXJjZShpZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3R5bGUucmVtb3ZlU291cmNlKGlkKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzb3VyY2Ugd2l0aCB0aGUgc3BlY2lmaWVkIElEIGluIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIHNvdXJjZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgez9PYmplY3R9IFRoZSBzdHlsZSBzb3VyY2Ugd2l0aCB0aGUgc3BlY2lmaWVkIElELCBvciBgdW5kZWZpbmVkYFxuICAgICAqICAgaWYgdGhlIElEIGNvcnJlc3BvbmRzIHRvIG5vIGV4aXN0aW5nIHNvdXJjZXMuXG4gICAgICogQHNlZSBbQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICogQHNlZSBbQW5pbWF0ZSBhIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2FuaW1hdGUtcG9pbnQtYWxvbmctbGluZS8pXG4gICAgICogQHNlZSBbQWRkIGxpdmUgcmVhbHRpbWUgZGF0YV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9saXZlLWdlb2pzb24vKVxuICAgICAqL1xuICAgIGdldFNvdXJjZShpZDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldFNvdXJjZShpZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGFuIGltYWdlIHRvIHRoZSBzdHlsZS4gVGhpcyBpbWFnZSBjYW4gYmUgdXNlZCBpbiBgaWNvbi1pbWFnZWAsXG4gICAgICogYGJhY2tncm91bmQtcGF0dGVybmAsIGBmaWxsLXBhdHRlcm5gLCBhbmQgYGxpbmUtcGF0dGVybmAuIEFuXG4gICAgICoge0BsaW5rIE1hcCNlcnJvcn0gZXZlbnQgd2lsbCBiZSBmaXJlZCBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIHNwYWNlIGluIHRoZVxuICAgICAqIHNwcml0ZSB0byBhZGQgdGhpcyBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBzZWUgW0FkZCBhbiBpY29uIHRvIHRoZSBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRkLWltYWdlLylcbiAgICAgKiBAc2VlIFtBZGQgYSBnZW5lcmF0ZWQgaWNvbiB0byB0aGUgbWFwXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2FkZC1pbWFnZS1nZW5lcmF0ZWQvKVxuICAgICAqIEBwYXJhbSBpZCBUaGUgSUQgb2YgdGhlIGltYWdlLlxuICAgICAqIEBwYXJhbSBpbWFnZSBUaGUgaW1hZ2UgYXMgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBgSW1hZ2VEYXRhYCwgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWBcbiAgICAgKiBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgLlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIG9wdGlvbnMucGl4ZWxSYXRpbyBUaGUgcmF0aW8gb2YgcGl4ZWxzIGluIHRoZSBpbWFnZSB0byBwaHlzaWNhbCBwaXhlbHMgb24gdGhlIHNjcmVlblxuICAgICAqIEBwYXJhbSBvcHRpb25zLnNkZiBXaGV0aGVyIHRoZSBpbWFnZSBzaG91bGQgYmUgaW50ZXJwcmV0ZWQgYXMgYW4gU0RGIGltYWdlXG4gICAgICovXG4gICAgYWRkSW1hZ2UoaWQ6IHN0cmluZyxcbiAgICAgICAgICAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudCB8IEltYWdlRGF0YSB8IHt3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgZGF0YTogVWludDhBcnJheSB8IFVpbnQ4Q2xhbXBlZEFycmF5fSxcbiAgICAgICAgICAgICB7cGl4ZWxSYXRpbyA9IDEsIHNkZiA9IGZhbHNlfToge3BpeGVsUmF0aW8/OiBudW1iZXIsIHNkZj86IGJvb2xlYW59ID0ge30pIHtcbiAgICAgICAgaWYgKGltYWdlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHQsIGRhdGF9ID0gYnJvd3Nlci5nZXRJbWFnZURhdGEoaW1hZ2UpO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5hZGRJbWFnZShpZCwgeyBkYXRhOiBuZXcgUkdCQUltYWdlKHt3aWR0aCwgaGVpZ2h0fSwgZGF0YSksIHBpeGVsUmF0aW8sIHNkZiB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZS53aWR0aCA9PT0gdW5kZWZpbmVkIHx8IGltYWdlLmhlaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAnSW52YWxpZCBhcmd1bWVudHMgdG8gbWFwLmFkZEltYWdlKCkuIFRoZSBzZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhbiBgSFRNTEltYWdlRWxlbWVudGAsIGBJbWFnZURhdGFgLCAnICtcbiAgICAgICAgICAgICAgICAnb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWAgcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyBgSW1hZ2VEYXRhYCcpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB7d2lkdGgsIGhlaWdodCwgZGF0YX0gPSBpbWFnZTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuYWRkSW1hZ2UoaWQsIHsgZGF0YTogbmV3IFJHQkFJbWFnZSh7d2lkdGgsIGhlaWdodH0sIGRhdGEuc2xpY2UoMCkpLCBwaXhlbFJhdGlvLCBzZGYgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgd2V0aGVyIHRoZSBpbWFnZSBoYXMgYmVlbiBhZGRlZCBvciBub3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCBUaGUgSUQgb2YgdGhlIGltYWdlLlxuICAgICAqL1xuICAgIGhhc0ltYWdlKGlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBpbWFnZSBpZCcpKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISF0aGlzLnN0eWxlLmdldEltYWdlKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gaW1hZ2UgZnJvbSB0aGUgc3R5bGUgKHN1Y2ggYXMgb25lIHVzZWQgYnkgYGljb24taW1hZ2VgIG9yIGBiYWNrZ3JvdW5kLXBhdHRlcm5gKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCBUaGUgSUQgb2YgdGhlIGltYWdlLlxuICAgICAqL1xuICAgIHJlbW92ZUltYWdlKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5yZW1vdmVJbWFnZShpZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZCBhbiBpbWFnZSBmcm9tIGFuIGV4dGVybmFsIFVSTCBmb3IgdXNlIHdpdGggYE1hcCNhZGRJbWFnZWAuIEV4dGVybmFsXG4gICAgICogZG9tYWlucyBtdXN0IHN1cHBvcnQgW0NPUlNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvQWNjZXNzX2NvbnRyb2xfQ09SUykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgb2YgdGhlIGltYWdlIGZpbGUuIEltYWdlIGZpbGUgbXVzdCBiZSBpbiBwbmcsIHdlYnAsIG9yIGpwZyBmb3JtYXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgRXhwZWN0aW5nIGBjYWxsYmFjayhlcnJvciwgZGF0YSlgLiBDYWxsZWQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZCBvciB3aXRoIGFuIGVycm9yIGFyZ3VtZW50IGlmIHRoZXJlIGlzIGFuIGVycm9yLlxuICAgICAqIEBzZWUgW0FkZCBhbiBpY29uIHRvIHRoZSBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRkLWltYWdlLylcbiAgICAgKi9cbiAgICBsb2FkSW1hZ2UodXJsOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikge1xuICAgICAgICBnZXRJbWFnZSh0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLkltYWdlKSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBbTWFwYm94IHN0eWxlIGxheWVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNsYXllcnMpXG4gICAgICogdG8gdGhlIG1hcCdzIHN0eWxlLlxuICAgICAqXG4gICAgICogQSBsYXllciBkZWZpbmVzIHN0eWxpbmcgZm9yIGRhdGEgZnJvbSBhIHNwZWNpZmllZCBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbGF5ZXIgVGhlIHN0eWxlIGxheWVyIHRvIGFkZCwgY29uZm9ybWluZyB0byB0aGUgTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb24nc1xuICAgICAqICAgW2xheWVyIGRlZmluaXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvI2xheWVycykuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiZWZvcmVdIFRoZSBJRCBvZiBhbiBleGlzdGluZyBsYXllciB0byBpbnNlcnQgdGhlIG5ldyBsYXllciBiZWZvcmUuXG4gICAgICogICBJZiB0aGlzIGFyZ3VtZW50IGlzIG9taXR0ZWQsIHRoZSBsYXllciB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGxheWVycyBhcnJheS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAc2VlIFtDcmVhdGUgYW5kIHN0eWxlIGNsdXN0ZXJzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NsdXN0ZXIvKVxuICAgICAqIEBzZWUgW0FkZCBhIHZlY3RvciB0aWxlIHNvdXJjZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS92ZWN0b3Itc291cmNlLylcbiAgICAgKiBAc2VlIFtBZGQgYSBXTVMgc291cmNlXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3dtcy8pXG4gICAgICovXG4gICAgYWRkTGF5ZXIobGF5ZXI6IExheWVyU3BlY2lmaWNhdGlvbiwgYmVmb3JlPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3R5bGUuYWRkTGF5ZXIobGF5ZXIsIGJlZm9yZSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYSBsYXllciB0byBhIGRpZmZlcmVudCB6LXBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gbW92ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2JlZm9yZUlkXSBUaGUgSUQgb2YgYW4gZXhpc3RpbmcgbGF5ZXIgdG8gaW5zZXJ0IHRoZSBuZXcgbGF5ZXIgYmVmb3JlLlxuICAgICAqICAgSWYgdGhpcyBhcmd1bWVudCBpcyBvbWl0dGVkLCB0aGUgbGF5ZXIgd2lsbCBiZSBhcHBlbmRlZCB0byB0aGUgZW5kIG9mIHRoZSBsYXllcnMgYXJyYXkuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgbW92ZUxheWVyKGlkOiBzdHJpbmcsIGJlZm9yZUlkPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3R5bGUubW92ZUxheWVyKGlkLCBiZWZvcmVJZCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGF5ZXIgd2l0aCB0aGUgZ2l2ZW4gaWQgZnJvbSB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBJZiBubyBzdWNoIGxheWVyIGV4aXN0cywgYW4gYGVycm9yYCBldmVudCBpcyBmaXJlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBpZCBvZiB0aGUgbGF5ZXIgdG8gcmVtb3ZlXG4gICAgICogQGZpcmVzIGVycm9yXG4gICAgICovXG4gICAgcmVtb3ZlTGF5ZXIoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZUxheWVyKGlkKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXllciB3aXRoIHRoZSBzcGVjaWZpZWQgSUQgaW4gdGhlIG1hcCdzIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHs/T2JqZWN0fSBUaGUgbGF5ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIElELCBvciBgdW5kZWZpbmVkYFxuICAgICAqICAgaWYgdGhlIElEIGNvcnJlc3BvbmRzIHRvIG5vIGV4aXN0aW5nIGxheWVycy5cbiAgICAgKiBAc2VlIFtGaWx0ZXIgc3ltYm9scyBieSB0b2dnbGluZyBhIGxpc3RdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLW1hcmtlcnMvKVxuICAgICAqIEBzZWUgW0ZpbHRlciBzeW1ib2xzIGJ5IHRleHQgaW5wdXRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLW1hcmtlcnMtYnktaW5wdXQvKVxuICAgICAqL1xuICAgIGdldExheWVyKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5ZXIoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGZpbHRlciBmb3IgdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIHdoaWNoIHRoZSBmaWx0ZXIgd2lsbCBiZSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXkgfCBudWxsIHwgdW5kZWZpbmVkfSBmaWx0ZXIgVGhlIGZpbHRlciwgY29uZm9ybWluZyB0byB0aGUgTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb24nc1xuICAgICAqICAgW2ZpbHRlciBkZWZpbml0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNvdGhlci1maWx0ZXIpLiAgSWYgYG51bGxgIG9yIGB1bmRlZmluZWRgIGlzIHByb3ZpZGVkLCB0aGUgZnVuY3Rpb24gcmVtb3ZlcyBhbnkgZXhpc3RpbmcgZmlsdGVyIGZyb20gdGhlIGxheWVyLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldEZpbHRlcignbXktbGF5ZXInLCBbJz09JywgJ25hbWUnLCAnVVNBJ10pO1xuICAgICAqIEBzZWUgW0ZpbHRlciBmZWF0dXJlcyB3aXRoaW4gbWFwIHZpZXddKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLWZlYXR1cmVzLXdpdGhpbi1tYXAtdmlldy8pXG4gICAgICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIGNvbnRhaW5pbmcgc2ltaWxhciBkYXRhXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3F1ZXJ5LXNpbWlsYXItZmVhdHVyZXMvKVxuICAgICAqIEBzZWUgW0NyZWF0ZSBhIHRpbWVsaW5lIGFuaW1hdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90aW1lbGluZS1hbmltYXRpb24vKVxuICAgICAqL1xuICAgIHNldEZpbHRlcihsYXllcjogc3RyaW5nLCBmaWx0ZXI6ID9GaWx0ZXJTcGVjaWZpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuc3R5bGUuc2V0RmlsdGVyKGxheWVyLCBmaWx0ZXIpO1xuICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHpvb20gZXh0ZW50IGZvciB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVySWQgVGhlIElEIG9mIHRoZSBsYXllciB0byB3aGljaCB0aGUgem9vbSBleHRlbnQgd2lsbCBiZSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW56b29tIFRoZSBtaW5pbXVtIHpvb20gdG8gc2V0ICgwLTI0KS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4em9vbSBUaGUgbWF4aW11bSB6b29tIHRvIHNldCAoMC0yNCkuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TGF5ZXJab29tUmFuZ2UoJ215LWxheWVyJywgMiwgNSk7XG4gICAgICovXG4gICAgc2V0TGF5ZXJab29tUmFuZ2UobGF5ZXJJZDogc3RyaW5nLCBtaW56b29tOiBudW1iZXIsIG1heHpvb206IG51bWJlcikge1xuICAgICAgICB0aGlzLnN0eWxlLnNldExheWVyWm9vbVJhbmdlKGxheWVySWQsIG1pbnpvb20sIG1heHpvb20pO1xuICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZpbHRlciBhcHBsaWVkIHRvIHRoZSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXIgVGhlIElEIG9mIHRoZSBzdHlsZSBsYXllciB3aG9zZSBmaWx0ZXIgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIGxheWVyJ3MgZmlsdGVyLlxuICAgICAqL1xuICAgIGdldEZpbHRlcihsYXllcjogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldEZpbHRlcihsYXllcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgb2YgYSBwYWludCBwcm9wZXJ0eSBpbiB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gc2V0IHRoZSBwYWludCBwcm9wZXJ0eSBpbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgcGFpbnQgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBwYWludCBwcm9wZXJ5IHRvIHNldC5cbiAgICAgKiAgIE11c3QgYmUgb2YgYSB0eXBlIGFwcHJvcHJpYXRlIGZvciB0aGUgcHJvcGVydHksIGFzIGRlZmluZWQgaW4gdGhlIFtNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8pLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldFBhaW50UHJvcGVydHkoJ215LWxheWVyJywgJ2ZpbGwtY29sb3InLCAnI2ZhYWZlZScpO1xuICAgICAqIEBzZWUgW0NoYW5nZSBhIGxheWVyJ3MgY29sb3Igd2l0aCBidXR0b25zXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NvbG9yLXN3aXRjaGVyLylcbiAgICAgKiBAc2VlIFtBZGp1c3QgYSBsYXllcidzIG9wYWNpdHldKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRqdXN0LWxheWVyLW9wYWNpdHkvKVxuICAgICAqIEBzZWUgW0NyZWF0ZSBhIGRyYWdnYWJsZSBwb2ludF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqL1xuICAgIHNldFBhaW50UHJvcGVydHkobGF5ZXI6IHN0cmluZywgbmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICAgIHRoaXMuc3R5bGUuc2V0UGFpbnRQcm9wZXJ0eShsYXllciwgbmFtZSwgdmFsdWUpO1xuICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgcGFpbnQgcHJvcGVydHkgaW4gdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIGdldCB0aGUgcGFpbnQgcHJvcGVydHkgZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiBhIHBhaW50IHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIG9mIHRoZSBzcGVjaWZpZWQgcGFpbnQgcHJvcGVydHkuXG4gICAgICovXG4gICAgZ2V0UGFpbnRQcm9wZXJ0eShsYXllcjogc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZ2V0UGFpbnRQcm9wZXJ0eShsYXllciwgbmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgb2YgYSBsYXlvdXQgcHJvcGVydHkgaW4gdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIHNldCB0aGUgbGF5b3V0IHByb3BlcnR5IGluLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBsYXlvdXQgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBsYXlvdXQgcHJvcGVyeS4gTXVzdCBiZSBvZiBhIHR5cGUgYXBwcm9wcmlhdGUgZm9yIHRoZSBwcm9wZXJ0eSwgYXMgZGVmaW5lZCBpbiB0aGUgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLykuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0TGF5b3V0UHJvcGVydHkoJ215LWxheWVyJywgJ3Zpc2liaWxpdHknLCAnbm9uZScpO1xuICAgICAqL1xuICAgIHNldExheW91dFByb3BlcnR5KGxheWVyOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzLnN0eWxlLnNldExheW91dFByb3BlcnR5KGxheWVyLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBsYXlvdXQgcHJvcGVydHkgaW4gdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIGdldCB0aGUgbGF5b3V0IHByb3BlcnR5IGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGxheW91dCBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSBvZiB0aGUgc3BlY2lmaWVkIGxheW91dCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBnZXRMYXlvdXRQcm9wZXJ0eShsYXllcjogc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5b3V0UHJvcGVydHkobGF5ZXIsIG5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFueSBjb21iaW5hdGlvbiBvZiBsaWdodCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlnaHQgTGlnaHQgcHJvcGVydGllcyB0byBzZXQuIE11c3QgY29uZm9ybSB0byB0aGUgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLykuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0TGlnaHQobGlnaHQ6IExpZ2h0U3BlY2lmaWNhdGlvbikge1xuICAgICAgICB0aGlzLnN0eWxlLnNldExpZ2h0KGxpZ2h0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgbGlnaHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMge09iamVjdH0gbGlnaHQgTGlnaHQgcHJvcGVydGllcyBvZiB0aGUgc3R5bGUuXG4gICAgICovXG4gICAgZ2V0TGlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldExpZ2h0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgY29udGFpbmluZyBIVE1MIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFRoZSBtYXAncyBjb250YWluZXIuXG4gICAgICovXG4gICAgZ2V0Q29udGFpbmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEhUTUwgZWxlbWVudCBjb250YWluaW5nIHRoZSBtYXAncyBgPGNhbnZhcz5gIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2FudCB0byBhZGQgbm9uLUdMIG92ZXJsYXlzIHRvIHRoZSBtYXAsIHlvdSBzaG91bGQgYXBwZW5kIHRoZW0gdG8gdGhpcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogVGhpcyBpcyB0aGUgZWxlbWVudCB0byB3aGljaCBldmVudCBiaW5kaW5ncyBmb3IgbWFwIGludGVyYWN0aXZpdHkgKHN1Y2ggYXMgcGFubmluZyBhbmQgem9vbWluZykgYXJlXG4gICAgICogYXR0YWNoZWQuIEl0IHdpbGwgcmVjZWl2ZSBidWJibGVkIGV2ZW50cyBmcm9tIGNoaWxkIGVsZW1lbnRzIHN1Y2ggYXMgdGhlIGA8Y2FudmFzPmAsIGJ1dCBub3QgZnJvbVxuICAgICAqIG1hcCBjb250cm9scy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gVGhlIGNvbnRhaW5lciBvZiB0aGUgbWFwJ3MgYDxjYW52YXM+YC5cbiAgICAgKiBAc2VlIFtDcmVhdGUgYSBkcmFnZ2FibGUgcG9pbnRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZHJhZy1hLXBvaW50LylcbiAgICAgKiBAc2VlIFtIaWdobGlnaHQgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3VzaW5nLWJveC1xdWVyeXJlbmRlcmVkZmVhdHVyZXMvKVxuICAgICAqL1xuICAgIGdldENhbnZhc0NvbnRhaW5lcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhc0NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBgPGNhbnZhcz5gIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTENhbnZhc0VsZW1lbnR9IFRoZSBtYXAncyBgPGNhbnZhcz5gIGVsZW1lbnQuXG4gICAgICogQHNlZSBbTWVhc3VyZSBkaXN0YW5jZXNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbWVhc3VyZS8pXG4gICAgICogQHNlZSBbRGlzcGxheSBhIHBvcHVwIG9uIGhvdmVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWhvdmVyLylcbiAgICAgKiBAc2VlIFtDZW50ZXIgdGhlIG1hcCBvbiBhIGNsaWNrZWQgc3ltYm9sXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NlbnRlci1vbi1zeW1ib2wvKVxuICAgICAqL1xuICAgIGdldENhbnZhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhcztcbiAgICB9XG5cbiAgICBfY29udGFpbmVyRGltZW5zaW9ucygpIHtcbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgbGV0IGhlaWdodCA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lcikge1xuICAgICAgICAgICAgd2lkdGggPSB0aGlzLl9jb250YWluZXIub2Zmc2V0V2lkdGggfHwgNDAwO1xuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5fY29udGFpbmVyLm9mZnNldEhlaWdodCB8fCAzMDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xuICAgIH1cblxuICAgIF9zZXR1cENvbnRhaW5lcigpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyO1xuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtbWFwJyk7XG5cbiAgICAgICAgY29uc3QgbWlzc2luZ0NTU0NvbnRhaW5lciA9IHRoaXMuX21pc3NpbmdDU1NDb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtbWlzc2luZy1jc3MnLCBjb250YWluZXIpO1xuICAgICAgICBtaXNzaW5nQ1NTQ29udGFpbmVyLmlubmVySFRNTCA9ICdNaXNzaW5nIE1hcGJveCBHTCBKUyBDU1MnO1xuXG4gICAgICAgIGNvbnN0IGNhbnZhc0NvbnRhaW5lciA9IHRoaXMuX2NhbnZhc0NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1jYW52YXMtY29udGFpbmVyJywgY29udGFpbmVyKTtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVyYWN0aXZlKSB7XG4gICAgICAgICAgICBjYW52YXNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtaW50ZXJhY3RpdmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IERPTS5jcmVhdGUoJ2NhbnZhcycsICdtYXBib3hnbC1jYW52YXMnLCBjYW52YXNDb250YWluZXIpO1xuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMuX2NvbnRleHRMb3N0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuX2NvbnRleHRSZXN0b3JlZCwgZmFsc2UpO1xuICAgICAgICB0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnTWFwJyk7XG5cbiAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMuX2NvbnRhaW5lckRpbWVuc2lvbnMoKTtcbiAgICAgICAgdGhpcy5fcmVzaXplQ2FudmFzKGRpbWVuc2lvbnNbMF0sIGRpbWVuc2lvbnNbMV0pO1xuXG4gICAgICAgIGNvbnN0IGNvbnRyb2xDb250YWluZXIgPSB0aGlzLl9jb250cm9sQ29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWNvbnRyb2wtY29udGFpbmVyJywgY29udGFpbmVyKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gdGhpcy5fY29udHJvbFBvc2l0aW9ucyA9IHt9O1xuICAgICAgICBbJ3RvcC1sZWZ0JywgJ3RvcC1yaWdodCcsICdib3R0b20tbGVmdCcsICdib3R0b20tcmlnaHQnXS5mb3JFYWNoKChwb3NpdGlvbk5hbWUpID0+IHtcbiAgICAgICAgICAgIHBvc2l0aW9uc1twb3NpdGlvbk5hbWVdID0gRE9NLmNyZWF0ZSgnZGl2JywgYG1hcGJveGdsLWN0cmwtJHtwb3NpdGlvbk5hbWV9YCwgY29udHJvbENvbnRhaW5lcik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9yZXNpemVDYW52YXMod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgcGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG5cbiAgICAgICAgLy8gUmVxdWVzdCB0aGUgcmVxdWlyZWQgY2FudmFzIHNpemUgdGFraW5nIHRoZSBwaXhlbHJhdGlvIGludG8gYWNjb3VudC5cbiAgICAgICAgdGhpcy5fY2FudmFzLndpZHRoID0gcGl4ZWxSYXRpbyAqIHdpZHRoO1xuICAgICAgICB0aGlzLl9jYW52YXMuaGVpZ2h0ID0gcGl4ZWxSYXRpbyAqIGhlaWdodDtcblxuICAgICAgICAvLyBNYWludGFpbiB0aGUgc2FtZSBjYW52YXMgc2l6ZSwgcG90ZW50aWFsbHkgZG93bnNjYWxpbmcgaXQgZm9yIEhpRFBJIGRpc3BsYXlzXG4gICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG4gICAgfVxuXG4gICAgX3NldHVwUGFpbnRlcigpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGV4dGVuZCh7XG4gICAgICAgICAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiB0aGlzLl9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LFxuICAgICAgICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB0aGlzLl9wcmVzZXJ2ZURyYXdpbmdCdWZmZXJcbiAgICAgICAgfSwgaXNTdXBwb3J0ZWQud2ViR0xDb250ZXh0QXR0cmlidXRlcyk7XG5cbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBhdHRyaWJ1dGVzKSB8fFxuICAgICAgICAgICAgdGhpcy5fY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMJykpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGFpbnRlciA9IG5ldyBQYWludGVyKGdsLCB0aGlzLnRyYW5zZm9ybSk7XG4gICAgfVxuXG4gICAgX2NvbnRleHRMb3N0KGV2ZW50OiAqKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICBicm93c2VyLmNhbmNlbEZyYW1lKHRoaXMuX2ZyYW1lSWQpO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnd2ViZ2xjb250ZXh0bG9zdCcsIHtvcmlnaW5hbEV2ZW50OiBldmVudH0pKTtcbiAgICB9XG5cbiAgICBfY29udGV4dFJlc3RvcmVkKGV2ZW50OiAqKSB7XG4gICAgICAgIHRoaXMuX3NldHVwUGFpbnRlcigpO1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB7b3JpZ2luYWxFdmVudDogZXZlbnR9KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXAgaXMgZnVsbHkgbG9hZGVkLlxuICAgICAqXG4gICAgICogUmV0dXJucyBgZmFsc2VgIGlmIHRoZSBzdHlsZSBpcyBub3QgeWV0IGZ1bGx5IGxvYWRlZCxcbiAgICAgKiBvciBpZiB0aGVyZSBoYXMgYmVlbiBhIGNoYW5nZSB0byB0aGUgc291cmNlcyBvciBzdHlsZSB0aGF0XG4gICAgICogaGFzIG5vdCB5ZXQgZnVsbHkgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IEEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCBpcyBmdWxseSBsb2FkZWQuXG4gICAgICovXG4gICAgbG9hZGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fc3R5bGVEaXJ0eSB8fCB0aGlzLl9zb3VyY2VzRGlydHkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy5zdHlsZSB8fCAhdGhpcy5zdHlsZS5sb2FkZWQoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoaXMgbWFwJ3Mgc3R5bGUgYW5kIHNvdXJjZXMsIGFuZCByZS1yZW5kZXIgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdXBkYXRlU3R5bGUgbWFyayB0aGUgbWFwJ3Mgc3R5bGUgZm9yIHJlcHJvY2Vzc2luZyBhc1xuICAgICAqIHdlbGwgYXMgaXRzIHNvdXJjZXNcbiAgICAgKiBAcmV0dXJucyB7TWFwfSB0aGlzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdXBkYXRlKHVwZGF0ZVN0eWxlPzogYm9vbGVhbikge1xuICAgICAgICBpZiAoIXRoaXMuc3R5bGUpIHJldHVybjtcblxuICAgICAgICB0aGlzLl9zdHlsZURpcnR5ID0gdGhpcy5fc3R5bGVEaXJ0eSB8fCB1cGRhdGVTdHlsZTtcbiAgICAgICAgdGhpcy5fc291cmNlc0RpcnR5ID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl9yZXJlbmRlcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgdGhhdCB0aGUgZ2l2ZW4gY2FsbGJhY2sgYmUgZXhlY3V0ZWQgZHVyaW5nIHRoZSBuZXh0IHJlbmRlclxuICAgICAqIGZyYW1lLiAgU2NoZWR1bGUgYSByZW5kZXIgZnJhbWUgaWYgb25lIGlzIG5vdCBhbHJlYWR5IHNjaGVkdWxlZC5cbiAgICAgKiBAcmV0dXJucyBBbiBpZCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgY2FsbGJhY2tcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZXF1ZXN0UmVuZGVyRnJhbWUoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBUYXNrSUQge1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5hZGQoY2FsbGJhY2spO1xuICAgIH1cblxuICAgIF9jYW5jZWxSZW5kZXJGcmFtZShpZDogVGFza0lEKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5yZW1vdmUoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGwgd2hlbiBhIChyZS0pcmVuZGVyIG9mIHRoZSBtYXAgaXMgcmVxdWlyZWQ6XG4gICAgICogLSBUaGUgc3R5bGUgaGFzIGNoYW5nZWQgKGBzZXRQYWludFByb3BlcnR5KClgLCBldGMuKVxuICAgICAqIC0gU291cmNlIGRhdGEgaGFzIGNoYW5nZWQgKGUuZy4gdGlsZXMgaGF2ZSBmaW5pc2hlZCBsb2FkaW5nKVxuICAgICAqIC0gVGhlIG1hcCBoYXMgaXMgbW92aW5nIChvciBqdXN0IGZpbmlzaGVkIG1vdmluZylcbiAgICAgKiAtIEEgdHJhbnNpdGlvbiBpcyBpbiBwcm9ncmVzc1xuICAgICAqXG4gICAgICogQHJldHVybnMge01hcH0gdGhpc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbmRlcigpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyVGFza1F1ZXVlLnJ1bigpO1xuXG4gICAgICAgIGxldCBjcm9zc0ZhZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIElmIHRoZSBzdHlsZSBoYXMgY2hhbmdlZCwgdGhlIG1hcCBpcyBiZWluZyB6b29tZWQsIG9yIGEgdHJhbnNpdGlvbiBvciBmYWRlIGlzIGluIHByb2dyZXNzOlxuICAgICAgICAvLyAgLSBBcHBseSBzdHlsZSBjaGFuZ2VzIChpbiBhIGJhdGNoKVxuICAgICAgICAvLyAgLSBSZWNhbGN1bGF0ZSBwYWludCBwcm9wZXJ0aWVzLlxuICAgICAgICBpZiAodGhpcy5zdHlsZSAmJiB0aGlzLl9zdHlsZURpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLl9zdHlsZURpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGNvbnN0IHpvb20gPSB0aGlzLnRyYW5zZm9ybS56b29tO1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gYnJvd3Nlci5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuem9vbUhpc3RvcnkudXBkYXRlKHpvb20sIG5vdyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBuZXcgRXZhbHVhdGlvblBhcmFtZXRlcnMoem9vbSwge1xuICAgICAgICAgICAgICAgIG5vdyxcbiAgICAgICAgICAgICAgICBmYWRlRHVyYXRpb246IHRoaXMuX2ZhZGVEdXJhdGlvbixcbiAgICAgICAgICAgICAgICB6b29tSGlzdG9yeTogdGhpcy5zdHlsZS56b29tSGlzdG9yeSxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB0aGlzLnN0eWxlLmdldFRyYW5zaXRpb24oKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGZhY3RvciA9IHBhcmFtZXRlcnMuY3Jvc3NGYWRpbmdGYWN0b3IoKTtcbiAgICAgICAgICAgIGlmIChmYWN0b3IgIT09IDEgfHwgZmFjdG9yICE9PSB0aGlzLl9jcm9zc0ZhZGluZ0ZhY3Rvcikge1xuICAgICAgICAgICAgICAgIGNyb3NzRmFkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jcm9zc0ZhZGluZ0ZhY3RvciA9IGZhY3RvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zdHlsZS51cGRhdGUocGFyYW1ldGVycyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBhcmUgaW4gX3JlbmRlciBmb3IgYW55IHJlYXNvbiBvdGhlciB0aGFuIGFuIGluLXByb2dyZXNzIHBhaW50XG4gICAgICAgIC8vIHRyYW5zaXRpb24sIHVwZGF0ZSBzb3VyY2UgY2FjaGVzIHRvIGNoZWNrIGZvciBhbmQgbG9hZCBhbnkgdGlsZXMgd2VcbiAgICAgICAgLy8gbmVlZCBmb3IgdGhlIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAgICAgIGlmICh0aGlzLnN0eWxlICYmIHRoaXMuX3NvdXJjZXNEaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlc0RpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLl91cGRhdGVTb3VyY2VzKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3BsYWNlbWVudERpcnR5ID0gdGhpcy5zdHlsZSAmJiB0aGlzLnN0eWxlLl91cGRhdGVQbGFjZW1lbnQodGhpcy5wYWludGVyLnRyYW5zZm9ybSwgdGhpcy5zaG93Q29sbGlzaW9uQm94ZXMsIHRoaXMuX2ZhZGVEdXJhdGlvbik7XG5cbiAgICAgICAgLy8gQWN0dWFsbHkgZHJhd1xuICAgICAgICB0aGlzLnBhaW50ZXIucmVuZGVyKHRoaXMuc3R5bGUsIHtcbiAgICAgICAgICAgIHNob3dUaWxlQm91bmRhcmllczogdGhpcy5zaG93VGlsZUJvdW5kYXJpZXMsXG4gICAgICAgICAgICBzaG93T3ZlcmRyYXdJbnNwZWN0b3I6IHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvcixcbiAgICAgICAgICAgIHJvdGF0aW5nOiB0aGlzLmlzUm90YXRpbmcoKSxcbiAgICAgICAgICAgIHpvb21pbmc6IHRoaXMuaXNab29taW5nKCksXG4gICAgICAgICAgICBmYWRlRHVyYXRpb246IHRoaXMuX2ZhZGVEdXJhdGlvblxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdyZW5kZXInKSk7XG5cbiAgICAgICAgaWYgKHRoaXMubG9hZGVkKCkgJiYgIXRoaXMuX2xvYWRlZCkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2xvYWQnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdHlsZSAmJiAodGhpcy5zdHlsZS5oYXNUcmFuc2l0aW9ucygpIHx8IGNyb3NzRmFkaW5nKSkge1xuICAgICAgICAgICAgdGhpcy5fc3R5bGVEaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTY2hlZHVsZSBhbm90aGVyIHJlbmRlciBmcmFtZSBpZiBpdCdzIG5lZWRlZC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRXZlbiB0aG91Z2ggYF9zdHlsZURpcnR5YCBhbmQgYF9zb3VyY2VzRGlydHlgIGFyZSByZXNldCBpbiB0aGlzXG4gICAgICAgIC8vIG1ldGhvZCwgc3luY2hyb25vdXMgZXZlbnRzIGZpcmVkIGR1cmluZyBTdHlsZSN1cGRhdGUgb3JcbiAgICAgICAgLy8gU3R5bGUjX3VwZGF0ZVNvdXJjZXMgY291bGQgaGF2ZSBjYXVzZWQgdGhlbSB0byBiZSBzZXQgYWdhaW4uXG4gICAgICAgIGlmICh0aGlzLl9zb3VyY2VzRGlydHkgfHwgdGhpcy5fcmVwYWludCB8fCB0aGlzLl9zdHlsZURpcnR5IHx8IHRoaXMuX3BsYWNlbWVudERpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLl9yZXJlbmRlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgYW5kIHJlbGVhc2UgYWxsIGludGVybmFsIHJlc291cmNlcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBtYXAuXG4gICAgICpcbiAgICAgKiBUaGlzIGluY2x1ZGVzIERPTSBlbGVtZW50cywgZXZlbnQgYmluZGluZ3MsIHdlYiB3b3JrZXJzLCBhbmQgV2ViR0wgcmVzb3VyY2VzLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgbWV0aG9kIHdoZW4geW91IGFyZSBkb25lIHVzaW5nIHRoZSBtYXAgYW5kIHdpc2ggdG8gZW5zdXJlIHRoYXQgaXQgbm9cbiAgICAgKiBsb25nZXIgY29uc3VtZXMgYnJvd3NlciByZXNvdXJjZXMuIEFmdGVyd2FyZHMsIHlvdSBtdXN0IG5vdCBjYWxsIGFueSBvdGhlclxuICAgICAqIG1ldGhvZHMgb24gdGhlIG1hcC5cbiAgICAgKi9cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNoKSB0aGlzLl9oYXNoLnJlbW92ZSgpO1xuICAgICAgICBicm93c2VyLmNhbmNlbEZyYW1lKHRoaXMuX2ZyYW1lSWQpO1xuICAgICAgICB0aGlzLl9yZW5kZXJUYXNrUXVldWUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2V0U3R5bGUobnVsbCk7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX29uV2luZG93UmVzaXplLCBmYWxzZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb25saW5lJywgdGhpcy5fb25XaW5kb3dPbmxpbmUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHRlbnNpb24gPSB0aGlzLnBhaW50ZXIuY29udGV4dC5nbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpO1xuICAgICAgICBpZiAoZXh0ZW5zaW9uKSBleHRlbnNpb24ubG9zZUNvbnRleHQoKTtcbiAgICAgICAgcmVtb3ZlTm9kZSh0aGlzLl9jYW52YXNDb250YWluZXIpO1xuICAgICAgICByZW1vdmVOb2RlKHRoaXMuX2NvbnRyb2xDb250YWluZXIpO1xuICAgICAgICByZW1vdmVOb2RlKHRoaXMuX21pc3NpbmdDU1NDb250YWluZXIpO1xuICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtbWFwJyk7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JlbW92ZScpKTtcbiAgICB9XG5cbiAgICBfcmVyZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0eWxlICYmICF0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gYnJvd3Nlci5mcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbldpbmRvd09ubGluZSgpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgX29uV2luZG93UmVzaXplKCkge1xuICAgICAgICBpZiAodGhpcy5fdHJhY2tSZXNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpLnJlc2l6ZSgpLl91cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwIHdpbGwgcmVuZGVyIGFuIG91dGxpbmVcbiAgICAgKiBhcm91bmQgZWFjaCB0aWxlLiBUaGVzZSB0aWxlIGJvdW5kYXJpZXMgYXJlIHVzZWZ1bCBmb3IgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogQG5hbWUgc2hvd1RpbGVCb3VuZGFyaWVzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqL1xuICAgIGdldCBzaG93VGlsZUJvdW5kYXJpZXMoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3Nob3dUaWxlQm91bmRhcmllczsgfVxuICAgIHNldCBzaG93VGlsZUJvdW5kYXJpZXModmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dUaWxlQm91bmRhcmllcyA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgdGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwIHdpbGwgcmVuZGVyIGJveGVzXG4gICAgICogYXJvdW5kIGFsbCBzeW1ib2xzIGluIHRoZSBkYXRhIHNvdXJjZSwgcmV2ZWFsaW5nIHdoaWNoIHN5bWJvbHNcbiAgICAgKiB3ZXJlIHJlbmRlcmVkIG9yIHdoaWNoIHdlcmUgaGlkZGVuIGR1ZSB0byBjb2xsaXNpb25zLlxuICAgICAqIFRoaXMgaW5mb3JtYXRpb24gaXMgdXNlZnVsIGZvciBkZWJ1Z2dpbmcuXG4gICAgICpcbiAgICAgKiBAbmFtZSBzaG93Q29sbGlzaW9uQm94ZXNcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICovXG4gICAgZ2V0IHNob3dDb2xsaXNpb25Cb3hlcygpOiBib29sZWFuIHsgcmV0dXJuICEhdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzOyB9XG4gICAgc2V0IHNob3dDb2xsaXNpb25Cb3hlcyh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzID09PSB2YWx1ZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIHR1cm4gY29sbGlzaW9uIGJveGVzIG9uIHdlIGhhdmUgdG8gZ2VuZXJhdGUgdGhlbSBmb3IgZXhpc3RpbmcgdGlsZXNcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgdHVybiB0aGVtIG9mZiwgdGhlcmUncyBubyBjb3N0IHRvIGxlYXZpbmcgZXhpc3RpbmcgYm94ZXMgaW4gcGxhY2VcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgY2FsbCBhbiB1cGRhdGUgdG8gcmVtb3ZlIGNvbGxpc2lvbiBib3hlc1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAqIEdldHMgYW5kIHNldHMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwIHNob3VsZCBjb2xvci1jb2RlXG4gICAgICogZWFjaCBmcmFnbWVudCB0byBzaG93IGhvdyBtYW55IHRpbWVzIGl0IGhhcyBiZWVuIHNoYWRlZC5cbiAgICAgKiBXaGl0ZSBmcmFnbWVudHMgaGF2ZSBiZWVuIHNoYWRlZCA4IG9yIG1vcmUgdGltZXMuXG4gICAgICogQmxhY2sgZnJhZ21lbnRzIGhhdmUgYmVlbiBzaGFkZWQgMCB0aW1lcy5cbiAgICAgKiBUaGlzIGluZm9ybWF0aW9uIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogQG5hbWUgc2hvd092ZXJkcmF3XG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqL1xuICAgIGdldCBzaG93T3ZlcmRyYXdJbnNwZWN0b3IoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvcjsgfVxuICAgIHNldCBzaG93T3ZlcmRyYXdJbnNwZWN0b3IodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwIHdpbGxcbiAgICAgKiBjb250aW51b3VzbHkgcmVwYWludC4gVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VmdWwgZm9yIGFuYWx5emluZyBwZXJmb3JtYW5jZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHJlcGFpbnRcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICovXG4gICAgZ2V0IHJlcGFpbnQoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3JlcGFpbnQ7IH1cbiAgICBzZXQgcmVwYWludCh2YWx1ZTogYm9vbGVhbikgeyB0aGlzLl9yZXBhaW50ID0gdmFsdWU7IHRoaXMuX3VwZGF0ZSgpOyB9XG5cbiAgICAvLyBzaG93IHZlcnRpY2VzXG4gICAgZ2V0IHZlcnRpY2VzKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl92ZXJ0aWNlczsgfVxuICAgIHNldCB2ZXJ0aWNlcyh2YWx1ZTogYm9vbGVhbikgeyB0aGlzLl92ZXJ0aWNlcyA9IHZhbHVlOyB0aGlzLl91cGRhdGUoKTsgfVxuXG4gICAgX29uRGF0YShldmVudDogTWFwRGF0YUV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZShldmVudC5kYXRhVHlwZSA9PT0gJ3N0eWxlJyk7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoYCR7ZXZlbnQuZGF0YVR5cGV9ZGF0YWAsIGV2ZW50KSk7XG4gICAgfVxuXG4gICAgX29uRGF0YUxvYWRpbmcoZXZlbnQ6IE1hcERhdGFFdmVudCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KGAke2V2ZW50LmRhdGFUeXBlfWRhdGFsb2FkaW5nYCwgZXZlbnQpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1hcDtcblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7XG4gICAgaWYgKG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgaW50ZXJhY3RpdmUgY29udHJvbHMgYWRkZWQgdG8gdGhlIG1hcC4gVGhpcyBpcyBhblxuICogc3BlY2lmaWNhdGlvbiBmb3IgaW1wbGVtZW50ZXJzIHRvIG1vZGVsOiBpdCBpcyBub3RcbiAqIGFuIGV4cG9ydGVkIG1ldGhvZCBvciBjbGFzcy5cbiAqXG4gKiBDb250cm9scyBtdXN0IGltcGxlbWVudCBgb25BZGRgIGFuZCBgb25SZW1vdmVgLCBhbmQgbXVzdCBvd24gYW5cbiAqIGVsZW1lbnQsIHdoaWNoIGlzIG9mdGVuIGEgYGRpdmAgZWxlbWVudC4gVG8gdXNlIE1hcGJveCBHTCBKUydzXG4gKiBkZWZhdWx0IGNvbnRyb2wgc3R5bGluZywgYWRkIHRoZSBgbWFwYm94Z2wtY3RybGAgY2xhc3MgdG8geW91ciBjb250cm9sJ3NcbiAqIG5vZGUuXG4gKlxuICogQGludGVyZmFjZSBJQ29udHJvbFxuICogQGV4YW1wbGVcbiAqIC8vIENvbnRyb2wgaW1wbGVtZW50ZWQgYXMgRVM2IGNsYXNzXG4gKiBjbGFzcyBIZWxsb1dvcmxkQ29udHJvbCB7XG4gKiAgICAgb25BZGQobWFwKSB7XG4gKiAgICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAqICAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gKiAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc05hbWUgPSAnbWFwYm94Z2wtY3RybCc7XG4gKiAgICAgICAgIHRoaXMuX2NvbnRhaW5lci50ZXh0Q29udGVudCA9ICdIZWxsbywgd29ybGQnO1xuICogICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICogICAgIH1cbiAqXG4gKiAgICAgb25SZW1vdmUoKSB7XG4gKiAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lcik7XG4gKiAgICAgICAgIHRoaXMuX21hcCA9IHVuZGVmaW5lZDtcbiAqICAgICB9XG4gKiB9XG4gKlxuICogLy8gQ29udHJvbCBpbXBsZW1lbnRlZCBhcyBFUzUgcHJvdG90eXBpY2FsIGNsYXNzXG4gKiBmdW5jdGlvbiBIZWxsb1dvcmxkQ29udHJvbCgpIHsgfVxuICpcbiAqIEhlbGxvV29ybGRDb250cm9sLnByb3RvdHlwZS5vbkFkZCA9IGZ1bmN0aW9uKG1hcCkge1xuICogICAgIHRoaXMuX21hcCA9IG1hcDtcbiAqICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAqICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NOYW1lID0gJ21hcGJveGdsLWN0cmwnO1xuICogICAgIHRoaXMuX2NvbnRhaW5lci50ZXh0Q29udGVudCA9ICdIZWxsbywgd29ybGQnO1xuICogICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gKiB9O1xuICpcbiAqIEhlbGxvV29ybGRDb250cm9sLnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAqICAgICAgdGhpcy5fY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKTtcbiAqICAgICAgdGhpcy5fbWFwID0gdW5kZWZpbmVkO1xuICogfTtcbiAqL1xuXG4vKipcbiAqIFJlZ2lzdGVyIGEgY29udHJvbCBvbiB0aGUgbWFwIGFuZCBnaXZlIGl0IGEgY2hhbmNlIHRvIHJlZ2lzdGVyIGV2ZW50IGxpc3RlbmVyc1xuICogYW5kIHJlc291cmNlcy4gVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IHtAbGluayBNYXAjYWRkQ29udHJvbH1cbiAqIGludGVybmFsbHkuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgSUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgb25BZGRcbiAqIEBwYXJhbSB7TWFwfSBtYXAgdGhlIE1hcCB0aGlzIGNvbnRyb2wgd2lsbCBiZSBhZGRlZCB0b1xuICogQHJldHVybnMge0hUTUxFbGVtZW50fSBUaGUgY29udHJvbCdzIGNvbnRhaW5lciBlbGVtZW50LiBUaGlzIHNob3VsZFxuICogYmUgY3JlYXRlZCBieSB0aGUgY29udHJvbCBhbmQgcmV0dXJuZWQgYnkgb25BZGQgd2l0aG91dCBiZWluZyBhdHRhY2hlZFxuICogdG8gdGhlIERPTTogdGhlIG1hcCB3aWxsIGluc2VydCB0aGUgY29udHJvbCdzIGVsZW1lbnQgaW50byB0aGUgRE9NXG4gKiBhcyBuZWNlc3NhcnkuXG4gKi9cblxuLyoqXG4gKiBVbnJlZ2lzdGVyIGEgY29udHJvbCBvbiB0aGUgbWFwIGFuZCBnaXZlIGl0IGEgY2hhbmNlIHRvIGRldGFjaCBldmVudCBsaXN0ZW5lcnNcbiAqIGFuZCByZXNvdXJjZXMuIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSB7QGxpbmsgTWFwI3JlbW92ZUNvbnRyb2x9XG4gKiBpbnRlcm5hbGx5LlxuICpcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIElDb250cm9sXG4gKiBAaW5zdGFuY2VcbiAqIEBuYW1lIG9uUmVtb3ZlXG4gKiBAcGFyYW0ge01hcH0gbWFwIHRoZSBNYXAgdGhpcyBjb250cm9sIHdpbGwgYmUgcmVtb3ZlZCBmcm9tXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfSB0aGVyZSBpcyBubyByZXF1aXJlZCByZXR1cm4gdmFsdWUgZm9yIHRoaXMgbWV0aG9kXG4gKi9cblxuLyoqXG4gKiBPcHRpb25hbGx5IHByb3ZpZGUgYSBkZWZhdWx0IHBvc2l0aW9uIGZvciB0aGlzIGNvbnRyb2wuIElmIHRoaXMgbWV0aG9kXG4gKiBpcyBpbXBsZW1lbnRlZCBhbmQge0BsaW5rIE1hcCNhZGRDb250cm9sfSBpcyBjYWxsZWQgd2l0aG91dCB0aGUgYHBvc2l0aW9uYFxuICogcGFyYW1ldGVyLCB0aGUgdmFsdWUgcmV0dXJuZWQgYnkgZ2V0RGVmYXVsdFBvc2l0aW9uIHdpbGwgYmUgdXNlZCBhcyB0aGVcbiAqIGNvbnRyb2wncyBwb3NpdGlvbi5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBJQ29udHJvbFxuICogQGluc3RhbmNlXG4gKiBAbmFtZSBnZXREZWZhdWx0UG9zaXRpb25cbiAqIEByZXR1cm5zIHtzdHJpbmd9IGEgY29udHJvbCBwb3NpdGlvbiwgb25lIG9mIHRoZSB2YWx1ZXMgdmFsaWQgaW4gYWRkQ29udHJvbC5cbiAqL1xuXG4vKipcbiAqIEEgW2BQb2ludGAgZ2VvbWV0cnldKGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvcG9pbnQtZ2VvbWV0cnkpIG9iamVjdCwgd2hpY2ggaGFzXG4gKiBgeGAgYW5kIGB5YCBwcm9wZXJ0aWVzIHJlcHJlc2VudGluZyBzY3JlZW4gY29vcmRpbmF0ZXMgaW4gcGl4ZWxzLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBvaW50XG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBQb2ludH0gb3IgYW4gYXJyYXkgb2YgdHdvIG51bWJlcnMgcmVwcmVzZW50aW5nIGB4YCBhbmQgYHlgIHNjcmVlbiBjb29yZGluYXRlcyBpbiBwaXhlbHMuXG4gKlxuICogQHR5cGVkZWYgeyhQb2ludCB8IEFycmF5PG51bWJlcj4pfSBQb2ludExpa2VcbiAqL1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBleHRlbmQsIGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IERyYWdSb3RhdGVIYW5kbGVyIGZyb20gJy4uL2hhbmRsZXIvZHJhZ19yb3RhdGUnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcblxudHlwZSBPcHRpb25zID0ge1xuICAgIHNob3dDb21wYXNzPzogYm9vbGVhbixcbiAgICBzaG93Wm9vbT86IGJvb2xlYW5cbn07XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zOiBPcHRpb25zID0ge1xuICAgIHNob3dDb21wYXNzOiB0cnVlLFxuICAgIHNob3dab29tOiB0cnVlXG59O1xuXG4vKipcbiAqIEEgYE5hdmlnYXRpb25Db250cm9sYCBjb250cm9sIGNvbnRhaW5zIHpvb20gYnV0dG9ucyBhbmQgYSBjb21wYXNzLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtJQ29udHJvbH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc2hvd0NvbXBhc3M9dHJ1ZV0gSWYgYHRydWVgIHRoZSBjb21wYXNzIGJ1dHRvbiBpcyBpbmNsdWRlZC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc2hvd1pvb209dHJ1ZV0gSWYgYHRydWVgIHRoZSB6b29tLWluIGFuZCB6b29tLW91dCBidXR0b25zIGFyZSBpbmNsdWRlZC5cbiAqIEBleGFtcGxlXG4gKiB2YXIgbmF2ID0gbmV3IG1hcGJveGdsLk5hdmlnYXRpb25Db250cm9sKCk7XG4gKiBtYXAuYWRkQ29udHJvbChuYXYsICd0b3AtbGVmdCcpO1xuICogQHNlZSBbRGlzcGxheSBtYXAgbmF2aWdhdGlvbiBjb250cm9sc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9uYXZpZ2F0aW9uLylcbiAqIEBzZWUgW0FkZCBhIHRoaXJkIHBhcnR5IHZlY3RvciB0aWxlIHNvdXJjZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90aGlyZC1wYXJ0eS8pXG4gKi9cbmNsYXNzIE5hdmlnYXRpb25Db250cm9sIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgb3B0aW9uczogT3B0aW9ucztcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfem9vbUluQnV0dG9uOiBIVE1MRWxlbWVudDtcbiAgICBfem9vbU91dEJ1dHRvbjogSFRNTEVsZW1lbnQ7XG4gICAgX2NvbXBhc3M6IEhUTUxFbGVtZW50O1xuICAgIF9jb21wYXNzQXJyb3c6IEhUTUxFbGVtZW50O1xuICAgIF9oYW5kbGVyOiBEcmFnUm90YXRlSGFuZGxlcjtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cCcpO1xuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dab29tKSB7XG4gICAgICAgICAgICB0aGlzLl96b29tSW5CdXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24oJ21hcGJveGdsLWN0cmwtaWNvbiBtYXBib3hnbC1jdHJsLXpvb20taW4nLCAnWm9vbSBJbicsICgpID0+IHRoaXMuX21hcC56b29tSW4oKSk7XG4gICAgICAgICAgICB0aGlzLl96b29tT3V0QnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKCdtYXBib3hnbC1jdHJsLWljb24gbWFwYm94Z2wtY3RybC16b29tLW91dCcsICdab29tIE91dCcsICgpID0+IHRoaXMuX21hcC56b29tT3V0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MpIHtcbiAgICAgICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgICAgICdfcm90YXRlQ29tcGFzc0Fycm93J1xuICAgICAgICAgICAgXSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9jb21wYXNzID0gdGhpcy5fY3JlYXRlQnV0dG9uKCdtYXBib3hnbC1jdHJsLWljb24gbWFwYm94Z2wtY3RybC1jb21wYXNzJywgJ1Jlc2V0IE5vcnRoJywgKCkgPT4gdGhpcy5fbWFwLnJlc2V0Tm9ydGgoKSk7XG4gICAgICAgICAgICB0aGlzLl9jb21wYXNzQXJyb3cgPSBET00uY3JlYXRlKCdzcGFuJywgJ21hcGJveGdsLWN0cmwtY29tcGFzcy1hcnJvdycsIHRoaXMuX2NvbXBhc3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3JvdGF0ZUNvbXBhc3NBcnJvdygpIHtcbiAgICAgICAgY29uc3Qgcm90YXRlID0gYHJvdGF0ZSgke3RoaXMuX21hcC50cmFuc2Zvcm0uYW5nbGUgKiAoMTgwIC8gTWF0aC5QSSl9ZGVnKWA7XG4gICAgICAgIHRoaXMuX2NvbXBhc3NBcnJvdy5zdHlsZS50cmFuc2Zvcm0gPSByb3RhdGU7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDb21wYXNzKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAub24oJ3JvdGF0ZScsIHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyk7XG4gICAgICAgICAgICB0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3coKTtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXIgPSBuZXcgRHJhZ1JvdGF0ZUhhbmRsZXIobWFwLCB7YnV0dG9uOiAnbGVmdCcsIGVsZW1lbnQ6IHRoaXMuX2NvbXBhc3N9KTtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXIuZW5hYmxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDb21wYXNzKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAub2ZmKCdyb3RhdGUnLCB0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpO1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlci5kaXNhYmxlKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5faGFuZGxlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9tYXA7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUJ1dHRvbihjbGFzc05hbWU6IHN0cmluZywgYXJpYUxhYmVsOiBzdHJpbmcsIGZuOiAoKSA9PiBtaXhlZCkge1xuICAgICAgICBjb25zdCBhID0gRE9NLmNyZWF0ZSgnYnV0dG9uJywgY2xhc3NOYW1lLCB0aGlzLl9jb250YWluZXIpO1xuICAgICAgICBhLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgYS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBhcmlhTGFiZWwpO1xuICAgICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZm4pO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5hdmlnYXRpb25Db250cm9sO1xuIiwiLy8gQGZsb3dcblxuZXhwb3J0IHR5cGUgQW5jaG9yID1cbiAgICB8ICdjZW50ZXInXG4gICAgfCAndG9wJ1xuICAgIHwgJ2JvdHRvbSdcbiAgICB8ICdsZWZ0J1xuICAgIHwgJ3JpZ2h0J1xuICAgIHwgJ3RvcC1sZWZ0J1xuICAgIHwgJ3RvcC1yaWdodCdcbiAgICB8ICdib3R0b20tbGVmdCdcbiAgICB8ICdib3R0b20tcmlnaHQnO1xuXG5leHBvcnQgY29uc3QgYW5jaG9yVHJhbnNsYXRlOiB7W0FuY2hvcl06IHN0cmluZ30gPSB7XG4gICAgJ2NlbnRlcic6ICd0cmFuc2xhdGUoLTUwJSwtNTAlKScsXG4gICAgJ3RvcCc6ICd0cmFuc2xhdGUoLTUwJSwwKScsXG4gICAgJ3RvcC1sZWZ0JzogJ3RyYW5zbGF0ZSgwLDApJyxcbiAgICAndG9wLXJpZ2h0JzogJ3RyYW5zbGF0ZSgtMTAwJSwwKScsXG4gICAgJ2JvdHRvbSc6ICd0cmFuc2xhdGUoLTUwJSwtMTAwJSknLFxuICAgICdib3R0b20tbGVmdCc6ICd0cmFuc2xhdGUoMCwtMTAwJSknLFxuICAgICdib3R0b20tcmlnaHQnOiAndHJhbnNsYXRlKC0xMDAlLC0xMDAlKScsXG4gICAgJ2xlZnQnOiAndHJhbnNsYXRlKDAsLTUwJSknLFxuICAgICdyaWdodCc6ICd0cmFuc2xhdGUoLTEwMCUsLTUwJSknXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlBbmNob3JDbGFzcyhlbGVtZW50OiBIVE1MRWxlbWVudCwgYW5jaG9yOiBBbmNob3IsIHByZWZpeDogc3RyaW5nKSB7XG4gICAgY29uc3QgY2xhc3NMaXN0ID0gZWxlbWVudC5jbGFzc0xpc3Q7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYW5jaG9yVHJhbnNsYXRlKSB7XG4gICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoYG1hcGJveGdsLSR7cHJlZml4fS1hbmNob3ItJHtrZXl9YCk7XG4gICAgfVxuICAgIGNsYXNzTGlzdC5hZGQoYG1hcGJveGdsLSR7cHJlZml4fS1hbmNob3ItJHthbmNob3J9YCk7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vdXRpbC93aW5kb3cnO1xuaW1wb3J0IExuZ0xhdCBmcm9tICcuLi9nZW8vbG5nX2xhdCc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgc21hcnRXcmFwIGZyb20gJy4uL3V0aWwvc21hcnRfd3JhcCc7XG5pbXBvcnQgeyBiaW5kQWxsLCBleHRlbmQgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgdHlwZSBBbmNob3IsIGFuY2hvclRyYW5zbGF0ZSwgYXBwbHlBbmNob3JDbGFzcyB9IGZyb20gJy4vYW5jaG9yJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4vbWFwJztcbmltcG9ydCB0eXBlIFBvcHVwIGZyb20gJy4vcG9wdXAnO1xuaW1wb3J0IHR5cGUge0xuZ0xhdExpa2V9IGZyb20gXCIuLi9nZW8vbG5nX2xhdFwiO1xuaW1wb3J0IHR5cGUge01hcE1vdXNlRXZlbnR9IGZyb20gJy4vZXZlbnRzJztcblxudHlwZSBPcHRpb25zID0ge1xuICAgIGVsZW1lbnQ/OiBIVE1MRWxlbWVudCxcbiAgICBvZmZzZXQ/OiBQb2ludExpa2UsXG4gICAgYW5jaG9yPzogQW5jaG9yXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXJrZXIgY29tcG9uZW50XG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIG9wdGlvbnMuZWxlbWVudCBET00gZWxlbWVudCB0byB1c2UgYXMgYSBtYXJrZXIuIFRoZSBkZWZhdWx0IGlzIGEgbGlnaHQgYmx1ZSwgZHJvcGxldC1zaGFwZWQgU1ZHIG1hcmtlci5cbiAqIEBwYXJhbSBvcHRpb25zLmFuY2hvciBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBwYXJ0IG9mIHRoZSBNYXJrZXIgdGhhdCBzaG91bGQgYmUgcG9zaXRpb25lZCBjbG9zZXN0IHRvIHRoZSBjb29yZGluYXRlIHNldCB2aWEge0BsaW5rIE1hcmtlciNzZXRMbmdMYXR9LlxuICogICBPcHRpb25zIGFyZSBgJ2NlbnRlcidgLCBgJ3RvcCdgLCBgJ2JvdHRvbSdgLCBgJ2xlZnQnYCwgYCdyaWdodCdgLCBgJ3RvcC1sZWZ0J2AsIGAndG9wLXJpZ2h0J2AsIGAnYm90dG9tLWxlZnQnYCwgYW5kIGAnYm90dG9tLXJpZ2h0J2AuXG4gKiAgIFRoZSBkZWZhdWx0IGlzIGAnY2VudGVyJ2AuXG4gKiBAcGFyYW0gb3B0aW9ucy5vZmZzZXQgVGhlIG9mZnNldCBpbiBwaXhlbHMgYXMgYSB7QGxpbmsgUG9pbnRMaWtlfSBvYmplY3QgdG8gYXBwbHkgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQncyBjZW50ZXIuIE5lZ2F0aXZlcyBpbmRpY2F0ZSBsZWZ0IGFuZCB1cC5cbiAqIEBleGFtcGxlXG4gKiB2YXIgbWFya2VyID0gbmV3IG1hcGJveGdsLk1hcmtlcigpXG4gKiAgIC5zZXRMbmdMYXQoWzMwLjUsIDUwLjVdKVxuICogICAuYWRkVG8obWFwKTtcbiAqIEBzZWUgW0FkZCBjdXN0b20gaWNvbnMgd2l0aCBNYXJrZXJzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2N1c3RvbS1tYXJrZXItaWNvbnMvKVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXJrZXIge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfYW5jaG9yOiBBbmNob3I7XG4gICAgX29mZnNldDogUG9pbnQ7XG4gICAgX2VsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIF9wb3B1cDogP1BvcHVwO1xuICAgIF9sbmdMYXQ6IExuZ0xhdDtcbiAgICBfcG9zOiA/UG9pbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogT3B0aW9ucykge1xuICAgICAgICAvLyBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSAtLSB0aGUgY29uc3RydWN0b3IgdXNlZCB0byBhY2NlcHQgdGhlIGVsZW1lbnQgYXMgYVxuICAgICAgICAvLyByZXF1aXJlZCBmaXJzdCBhcmd1bWVudCwgYmVmb3JlIGl0IHdhcyBtYWRlIG9wdGlvbmFsLlxuICAgICAgICBpZiAoYXJndW1lbnRzWzBdIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50IHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe2VsZW1lbnQ6IG9wdGlvbnN9LCBhcmd1bWVudHNbMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYmluZEFsbChbJ191cGRhdGUnLCAnX29uTWFwQ2xpY2snXSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fYW5jaG9yID0gb3B0aW9ucyAmJiBvcHRpb25zLmFuY2hvciB8fCAnY2VudGVyJztcblxuICAgICAgICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IERPTS5jcmVhdGUoJ2RpdicpO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgZGVmYXVsdCBtYXAgbWFya2VyIFNWR1xuICAgICAgICAgICAgY29uc3Qgc3ZnID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnaGVpZ2h0JywgJzQxcHgnKTtcbiAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCAnMjdweCcpO1xuICAgICAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICd2aWV3Qm94JywgJzAgMCAyNyA0MScpO1xuXG4gICAgICAgICAgICBjb25zdCBtYXJrZXJMYXJnZSA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICAgICAgICAgICAgbWFya2VyTGFyZ2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0cm9rZScsICdub25lJyk7XG4gICAgICAgICAgICBtYXJrZXJMYXJnZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnc3Ryb2tlLXdpZHRoJywgJzEnKTtcbiAgICAgICAgICAgIG1hcmtlckxhcmdlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgJ25vbmUnKTtcbiAgICAgICAgICAgIG1hcmtlckxhcmdlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsLXJ1bGUnLCAnZXZlbm9kZCcpO1xuXG4gICAgICAgICAgICBjb25zdCBwYWdlMSA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICAgICAgICAgICAgcGFnZTEuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwtcnVsZScsICdub256ZXJvJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNoYWRvdyA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICAgICAgICAgICAgc2hhZG93LnNldEF0dHJpYnV0ZU5TKG51bGwsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDMuMCwgMjkuMCknKTtcbiAgICAgICAgICAgIHNoYWRvdy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsICcjMDAwMDAwJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGVsbGlwc2VzID0gW1xuICAgICAgICAgICAgICAgIHsncngnOiAnMTAuNScsICdyeSc6ICc1LjI1MDAyMjczJ30sXG4gICAgICAgICAgICAgICAgeydyeCc6ICcxMC41JywgJ3J5JzogJzUuMjUwMDIyNzMnfSxcbiAgICAgICAgICAgICAgICB7J3J4JzogJzkuNScsICdyeSc6ICc0Ljc3Mjc1MDA3J30sXG4gICAgICAgICAgICAgICAgeydyeCc6ICc4LjUnLCAncnknOiAnNC4yOTU0OTkzNid9LFxuICAgICAgICAgICAgICAgIHsncngnOiAnNy41JywgJ3J5JzogJzMuODE4MjIzMDgnfSxcbiAgICAgICAgICAgICAgICB7J3J4JzogJzYuNScsICdyeSc6ICczLjM0MDk0Njc5J30sXG4gICAgICAgICAgICAgICAgeydyeCc6ICc1LjUnLCAncnknOiAnMi44NjM2NzA1MSd9LFxuICAgICAgICAgICAgICAgIHsncngnOiAnNC41JywgJ3J5JzogJzIuMzg2MzY4NjQnfVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBkYXRhIG9mIGVsbGlwc2VzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxsaXBzZSA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZWxsaXBzZScpO1xuICAgICAgICAgICAgICAgIGVsbGlwc2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgJ29wYWNpdHknLCAnMC4wNCcpO1xuICAgICAgICAgICAgICAgIGVsbGlwc2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2N4JywgJzEwLjUnKTtcbiAgICAgICAgICAgICAgICBlbGxpcHNlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeScsICc1LjgwMDI5MDA4Jyk7XG4gICAgICAgICAgICAgICAgZWxsaXBzZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncngnLCBkYXRhWydyeCddKTtcbiAgICAgICAgICAgICAgICBlbGxpcHNlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdyeScsIGRhdGFbJ3J5J10pO1xuICAgICAgICAgICAgICAgIHNoYWRvdy5hcHBlbmRDaGlsZChlbGxpcHNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICAgICAgICAgICAgYmFja2dyb3VuZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsICcjM0ZCMUNFJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGJnUGF0aCA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuICAgICAgICAgICAgYmdQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgJ00yNywxMy41IEMyNywxOS4wNzQ2NDQgMjAuMjUwMDAxLDI3LjAwMDAwMiAxNC43NSwzNC41MDAwMDIgQzE0LjAxNjY2NSwzNS41MDAwMDQgMTIuOTgzMzM1LDM1LjUwMDAwNCAxMi4yNSwzNC41MDAwMDIgQzYuNzQ5OTk5MywyNy4wMDAwMDIgMCwxOS4yMjI1NjIgMCwxMy41IEMwLDYuMDQ0MTU1OSA2LjA0NDE1NTksMCAxMy41LDAgQzIwLjk1NTg0NCwwIDI3LDYuMDQ0MTU1OSAyNywxMy41IFonKTtcblxuICAgICAgICAgICAgYmFja2dyb3VuZC5hcHBlbmRDaGlsZChiZ1BhdGgpO1xuXG4gICAgICAgICAgICBjb25zdCBib3JkZXIgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgICAgICAgICAgIGJvcmRlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnb3BhY2l0eScsICcwLjI1Jyk7XG4gICAgICAgICAgICBib3JkZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCAnIzAwMDAwMCcpO1xuXG4gICAgICAgICAgICBjb25zdCBib3JkZXJQYXRoID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG4gICAgICAgICAgICBib3JkZXJQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgJ00xMy41LDAgQzYuMDQ0MTU1OSwwIDAsNi4wNDQxNTU5IDAsMTMuNSBDMCwxOS4yMjI1NjIgNi43NDk5OTkzLDI3IDEyLjI1LDM0LjUgQzEzLDM1LjUyMjcyNyAxNC4wMTY2NjQsMzUuNTAwMDA0IDE0Ljc1LDM0LjUgQzIwLjI1MDAwMSwyNyAyNywxOS4wNzQ2NDQgMjcsMTMuNSBDMjcsNi4wNDQxNTU5IDIwLjk1NTg0NCwwIDEzLjUsMCBaIE0xMy41LDEgQzIwLjQxNTQwNCwxIDI2LDYuNTg0NTk2IDI2LDEzLjUgQzI2LDE1Ljg5ODY1NyAyNC40OTU1ODQsMTkuMTgxNDMxIDIyLjIyMDcwMywyMi43MzgyODEgQzE5Ljk0NTgyMywyNi4yOTUxMzIgMTYuNzA1MTE5LDMwLjE0MjE2NyAxMy45NDMzNTksMzMuOTA4MjAzIEMxMy43NDM0NDUsMzQuMTgwODE0IDEzLjYxMjcxNSwzNC4zMjI3MzggMTMuNSwzNC40NDE0MDYgQzEzLjM4NzI4NSwzNC4zMjI3MzggMTMuMjU2NTU1LDM0LjE4MDgxNCAxMy4wNTY2NDEsMzMuOTA4MjAzIEMxMC4yODQ0ODEsMzAuMTI3OTg1IDcuNDE0ODY4NCwyNi4zMTQxNTkgNS4wMTU2MjUsMjIuNzczNDM4IEMyLjYxNjM4MTYsMTkuMjMyNzE1IDEsMTUuOTUzNTM4IDEsMTMuNSBDMSw2LjU4NDU5NiA2LjU4NDU5NiwxIDEzLjUsMSBaJyk7XG5cbiAgICAgICAgICAgIGJvcmRlci5hcHBlbmRDaGlsZChib3JkZXJQYXRoKTtcblxuICAgICAgICAgICAgY29uc3QgbWFraSA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICAgICAgICAgICAgbWFraS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg2LjAsIDcuMCknKTtcbiAgICAgICAgICAgIG1ha2kuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCAnI0ZGRkZGRicpO1xuXG4gICAgICAgICAgICBjb25zdCBjaXJjbGVDb250YWluZXIgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgICAgICAgICAgIGNpcmNsZUNvbnRhaW5lci5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg4LjAsIDguMCknKTtcblxuICAgICAgICAgICAgY29uc3QgY2lyY2xlMSA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnY2lyY2xlJyk7XG4gICAgICAgICAgICBjaXJjbGUxLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgJyMwMDAwMDAnKTtcbiAgICAgICAgICAgIGNpcmNsZTEuc2V0QXR0cmlidXRlTlMobnVsbCwgJ29wYWNpdHknLCAnMC4yNScpO1xuICAgICAgICAgICAgY2lyY2xlMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3gnLCAnNS41Jyk7XG4gICAgICAgICAgICBjaXJjbGUxLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeScsICc1LjUnKTtcbiAgICAgICAgICAgIGNpcmNsZTEuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3InLCAnNS40OTk5OTYyJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZTIgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xuICAgICAgICAgICAgY2lyY2xlMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsICcjRkZGRkZGJyk7XG4gICAgICAgICAgICBjaXJjbGUyLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeCcsICc1LjUnKTtcbiAgICAgICAgICAgIGNpcmNsZTIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2N5JywgJzUuNScpO1xuICAgICAgICAgICAgY2lyY2xlMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncicsICc1LjQ5OTk5NjInKTtcblxuICAgICAgICAgICAgY2lyY2xlQ29udGFpbmVyLmFwcGVuZENoaWxkKGNpcmNsZTEpO1xuICAgICAgICAgICAgY2lyY2xlQ29udGFpbmVyLmFwcGVuZENoaWxkKGNpcmNsZTIpO1xuXG4gICAgICAgICAgICBwYWdlMS5hcHBlbmRDaGlsZChzaGFkb3cpO1xuICAgICAgICAgICAgcGFnZTEuYXBwZW5kQ2hpbGQoYmFja2dyb3VuZCk7XG4gICAgICAgICAgICBwYWdlMS5hcHBlbmRDaGlsZChib3JkZXIpO1xuICAgICAgICAgICAgcGFnZTEuYXBwZW5kQ2hpbGQobWFraSk7XG4gICAgICAgICAgICBwYWdlMS5hcHBlbmRDaGlsZChjaXJjbGVDb250YWluZXIpO1xuXG4gICAgICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocGFnZTEpO1xuXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKHN2Zyk7XG5cbiAgICAgICAgICAgIC8vIGlmIG5vIGVsZW1lbnQgYW5kIG5vIG9mZnNldCBvcHRpb24gZ2l2ZW4gYXBwbHkgYW4gb2Zmc2V0IGZvciB0aGUgZGVmYXVsdCBtYXJrZXJcbiAgICAgICAgICAgIC8vIHRoZSAtMTQgYXMgdGhlIHkgdmFsdWUgb2YgdGhlIGRlZmF1bHQgbWFya2VyIG9mZnNldCB3YXMgZGV0ZXJtaW5lZCBhcyBmb2xsb3dzXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gdGhlIG1hcmtlciB0aXAgaXMgYXQgdGhlIGNlbnRlciBvZiB0aGUgc2hhZG93IGVsbGlwc2UgZnJvbSB0aGUgZGVmYXVsdCBzdmdcbiAgICAgICAgICAgIC8vIHRoZSB5IHZhbHVlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIHNoYWRvdyBlbGxpcHNlIHJlbGF0aXZlIHRvIHRoZSBzdmcgdG9wIGxlZnQgaXMgXCJzaGFkb3cgdHJhbnNmb3JtIHRyYW5zbGF0ZS15ICgyOS4wKSArIGVsbGlwc2UgY3kgKDUuODAwMjkwMDgpXCJcbiAgICAgICAgICAgIC8vIG9mZnNldCB0byB0aGUgc3ZnIGNlbnRlciBcImhlaWdodCAoNDEgLyAyKVwiIGdpdmVzICgyOS4wICsgNS44MDAyOTAwOCkgLSAoNDEgLyAyKSBhbmQgcm91bmRlZCBmb3IgYW4gaW50ZWdlciBwaXhlbCBvZmZzZXQgZ2l2ZXMgMTRcbiAgICAgICAgICAgIC8vIG5lZ2F0aXZlIGlzIHVzZWQgdG8gbW92ZSB0aGUgbWFya2VyIHVwIGZyb20gdGhlIGNlbnRlciBzbyB0aGUgdGlwIGlzIGF0IHRoZSBNYXJrZXIgbG5nTGF0XG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBQb2ludC5jb252ZXJ0KG9wdGlvbnMgJiYgb3B0aW9ucy5vZmZzZXQgfHwgWzAsIC0xNF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuX29mZnNldCA9IFBvaW50LmNvbnZlcnQob3B0aW9ucyAmJiBvcHRpb25zLm9mZnNldCB8fCBbMCwgMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1tYXJrZXInKTtcblxuICAgICAgICB0aGlzLl9wb3B1cCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgdGhlIG1hcmtlciB0byBhIG1hcFxuICAgICAqIEBwYXJhbSB7TWFwfSBtYXBcbiAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBgdGhpc2BcbiAgICAgKi9cbiAgICBhZGRUbyhtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIG1hcC5nZXRDYW52YXNDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgbWFwLm9uKCdtb3ZlJywgdGhpcy5fdXBkYXRlKTtcbiAgICAgICAgbWFwLm9uKCdtb3ZlZW5kJywgdGhpcy5fdXBkYXRlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG5cbiAgICAgICAgLy8gSWYgd2UgYXR0YWNoZWQgdGhlIGBjbGlja2AgbGlzdGVuZXIgdG8gdGhlIG1hcmtlciBlbGVtZW50LCB0aGUgcG9wdXBcbiAgICAgICAgLy8gd291bGQgY2xvc2Ugb25jZSB0aGUgZXZlbnQgcHJvcG9nYXRlZCB0byBgbWFwYCBkdWUgdG8gdGhlXG4gICAgICAgIC8vIGBQb3B1cCNfb25DbGlja0Nsb3NlYCBsaXN0ZW5lci5cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdjbGljaycsIHRoaXMuX29uTWFwQ2xpY2spO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIG1hcmtlciBmcm9tIGEgbWFwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgbWFya2VyID0gbmV3IG1hcGJveGdsLk1hcmtlcigpLmFkZFRvKG1hcCk7XG4gICAgICogbWFya2VyLnJlbW92ZSgpO1xuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IGB0aGlzYFxuICAgICAqL1xuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21hcCkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9mZignY2xpY2snLCB0aGlzLl9vbk1hcENsaWNrKTtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vZmYoJ21vdmUnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9mZignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fbWFwO1xuICAgICAgICB9XG4gICAgICAgIERPTS5yZW1vdmUodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIGlmICh0aGlzLl9wb3B1cCkgdGhpcy5fcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWFya2VyJ3MgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uLlxuICAgICAqXG4gICAgICogVGhlIGxvbmdpdHVkZSBvZiB0aGUgcmVzdWx0IG1heSBkaWZmZXIgYnkgYSBtdWx0aXBsZSBvZiAzNjAgZGVncmVlcyBmcm9tIHRoZSBsb25naXR1ZGUgcHJldmlvdXNseVxuICAgICAqIHNldCBieSBgc2V0TG5nTGF0YCBiZWNhdXNlIGBNYXJrZXJgIHdyYXBzIHRoZSBhbmNob3IgbG9uZ2l0dWRlIGFjcm9zcyBjb3BpZXMgb2YgdGhlIHdvcmxkIHRvIGtlZXBcbiAgICAgKiB0aGUgbWFya2VyIG9uIHNjcmVlbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9XG4gICAgICovXG4gICAgZ2V0TG5nTGF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG5nTGF0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbWFya2VyJ3MgZ2VvZ3JhcGhpY2FsIHBvc2l0aW9uIGFuZCBtb3ZlIGl0LlxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldExuZ0xhdChsbmdsYXQ6IExuZ0xhdExpa2UpIHtcbiAgICAgICAgdGhpcy5fbG5nTGF0ID0gTG5nTGF0LmNvbnZlcnQobG5nbGF0KTtcbiAgICAgICAgdGhpcy5fcG9zID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3BvcHVwKSB0aGlzLl9wb3B1cC5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGBNYXJrZXJgJ3MgSFRNTCBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgICAqL1xuICAgIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmRzIGEgUG9wdXAgdG8gdGhlIE1hcmtlclxuICAgICAqIEBwYXJhbSBwb3B1cCBhbiBpbnN0YW5jZSBvZiB0aGUgYFBvcHVwYCBjbGFzcy4gSWYgdW5kZWZpbmVkIG9yIG51bGwsIGFueSBwb3B1cFxuICAgICAqIHNldCBvbiB0aGlzIGBNYXJrZXJgIGluc3RhbmNlIGlzIHVuc2V0XG4gICAgICogQHJldHVybnMge01hcmtlcn0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0UG9wdXAocG9wdXA6ID9Qb3B1cCkge1xuICAgICAgICBpZiAodGhpcy5fcG9wdXApIHtcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5fcG9wdXAgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvcHVwKSB7XG4gICAgICAgICAgICBpZiAoISgnb2Zmc2V0JyBpbiBwb3B1cC5vcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIHBvcHVwLm9wdGlvbnMub2Zmc2V0ID0gdGhpcy5fb2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcG9wdXAgPSBwb3B1cDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sbmdMYXQpIHRoaXMuX3BvcHVwLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX29uTWFwQ2xpY2soZXZlbnQ6IE1hcE1vdXNlRXZlbnQpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQudGFyZ2V0O1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fZWxlbWVudDtcblxuICAgICAgICBpZiAodGhpcy5fcG9wdXAgJiYgKHRhcmdldEVsZW1lbnQgPT09IGVsZW1lbnQgfHwgZWxlbWVudC5jb250YWlucygodGFyZ2V0RWxlbWVudDogYW55KSkpKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBvcHVwKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBQb3B1cCBpbnN0YW5jZSB0aGF0IGlzIGJvdW5kIHRvIHRoZSBNYXJrZXJcbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IHBvcHVwXG4gICAgICovXG4gICAgZ2V0UG9wdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb3B1cDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPcGVucyBvciBjbG9zZXMgdGhlIGJvdW5kIHBvcHVwLCBkZXBlbmRpbmcgb24gdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBgdGhpc2BcbiAgICAgKi9cbiAgICB0b2dnbGVQb3B1cCgpIHtcbiAgICAgICAgY29uc3QgcG9wdXAgPSB0aGlzLl9wb3B1cDtcblxuICAgICAgICBpZiAoIXBvcHVwKSByZXR1cm4gdGhpcztcbiAgICAgICAgZWxzZSBpZiAocG9wdXAuaXNPcGVuKCkpIHBvcHVwLnJlbW92ZSgpO1xuICAgICAgICBlbHNlIHBvcHVwLmFkZFRvKHRoaXMuX21hcCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF91cGRhdGUoZT86IHt0eXBlOiAnbW92ZScgfCAnbW92ZWVuZCd9KSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFwKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMuX21hcC50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2xuZ0xhdCA9IHNtYXJ0V3JhcCh0aGlzLl9sbmdMYXQsIHRoaXMuX3BvcywgdGhpcy5fbWFwLnRyYW5zZm9ybSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wb3MgPSB0aGlzLl9tYXAucHJvamVjdCh0aGlzLl9sbmdMYXQpLl9hZGQodGhpcy5fb2Zmc2V0KTtcblxuICAgICAgICAvLyBiZWNhdXNlIHJvdW5kaW5nIHRoZSBjb29yZGluYXRlcyBhdCBldmVyeSBgbW92ZWAgZXZlbnQgY2F1c2VzIHN0dXR0ZXJlZCB6b29taW5nXG4gICAgICAgIC8vIHdlIG9ubHkgcm91bmQgdGhlbSB3aGVuIF91cGRhdGUgaXMgY2FsbGVkIHdpdGggYG1vdmVlbmRgIG9yIHdoZW4gaXRzIGNhbGxlZCB3aXRoXG4gICAgICAgIC8vIG5vIGFyZ3VtZW50cyAod2hlbiB0aGUgTWFya2VyIGlzIGluaXRpYWxpemVkIG9yIE1hcmtlciNzZXRMbmdMYXQgaXMgaW52b2tlZCkuXG4gICAgICAgIGlmICghZSB8fCBlLnR5cGUgPT09IFwibW92ZWVuZFwiKSB7XG4gICAgICAgICAgICB0aGlzLl9wb3MgPSB0aGlzLl9wb3Mucm91bmQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIERPTS5zZXRUcmFuc2Zvcm0odGhpcy5fZWxlbWVudCwgYCR7YW5jaG9yVHJhbnNsYXRlW3RoaXMuX2FuY2hvcl19IHRyYW5zbGF0ZSgke3RoaXMuX3Bvcy54fXB4LCAke3RoaXMuX3Bvcy55fXB4KWApO1xuICAgICAgICBhcHBseUFuY2hvckNsYXNzKHRoaXMuX2VsZW1lbnQsIHRoaXMuX2FuY2hvciwgJ21hcmtlcicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWFya2VyJ3Mgb2Zmc2V0LlxuICAgICAqIEByZXR1cm5zIHtQb2ludH1cbiAgICAgKi9cbiAgICBnZXRPZmZzZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vZmZzZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgb2Zmc2V0IG9mIHRoZSBtYXJrZXJcbiAgICAgKiBAcGFyYW0ge1BvaW50TGlrZX0gb2Zmc2V0IFRoZSBvZmZzZXQgaW4gcGl4ZWxzIGFzIGEge0BsaW5rIFBvaW50TGlrZX0gb2JqZWN0IHRvIGFwcGx5IHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50J3MgY2VudGVyLiBOZWdhdGl2ZXMgaW5kaWNhdGUgbGVmdCBhbmQgdXAuXG4gICAgICogQHJldHVybnMge01hcmtlcn0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0T2Zmc2V0KG9mZnNldDogUG9pbnRMaWtlKSB7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IFBvaW50LmNvbnZlcnQob2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IEV2ZW50LCBFdmVudGVkIH0gZnJvbSAnLi4vLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgeyBleHRlbmQsIGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IExuZ0xhdCBmcm9tICcuLi8uLi9nZW8vbG5nX2xhdCc7XG5pbXBvcnQgTWFya2VyIGZyb20gJy4uL21hcmtlcic7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuaW1wb3J0IHR5cGUgeyBBbmltYXRpb25PcHRpb25zLCBDYW1lcmFPcHRpb25zIH0gZnJvbSAnLi4vY2FtZXJhJztcblxudHlwZSBPcHRpb25zID0ge1xuICAgIHBvc2l0aW9uT3B0aW9ucz86IFBvc2l0aW9uT3B0aW9ucyxcbiAgICBmaXRCb3VuZHNPcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucyAmIENhbWVyYU9wdGlvbnMsXG4gICAgdHJhY2tVc2VyTG9jYXRpb24/OiBib29sZWFuLFxuICAgIHNob3dVc2VyTG9jYXRpb24/OiBib29sZWFuXG59O1xuXG5jb25zdCBkZWZhdWx0T3B0aW9uczogT3B0aW9ucyA9IHtcbiAgICBwb3NpdGlvbk9wdGlvbnM6IHtcbiAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiBmYWxzZSxcbiAgICAgICAgbWF4aW11bUFnZTogMCxcbiAgICAgICAgdGltZW91dDogNjAwMCAvKiA2IHNlYyAqL1xuICAgIH0sXG4gICAgZml0Qm91bmRzT3B0aW9uczoge1xuICAgICAgICBtYXhab29tOiAxNVxuICAgIH0sXG4gICAgdHJhY2tVc2VyTG9jYXRpb246IGZhbHNlLFxuICAgIHNob3dVc2VyTG9jYXRpb246IHRydWVcbn07XG5jb25zdCBjbGFzc05hbWUgPSAnbWFwYm94Z2wtY3RybCc7XG5cbmxldCBzdXBwb3J0c0dlb2xvY2F0aW9uO1xuXG5mdW5jdGlvbiBjaGVja0dlb2xvY2F0aW9uU3VwcG9ydChjYWxsYmFjaykge1xuICAgIGlmIChzdXBwb3J0c0dlb2xvY2F0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2FsbGJhY2soc3VwcG9ydHNHZW9sb2NhdGlvbik7XG5cbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5uYXZpZ2F0b3IucGVybWlzc2lvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBuYXZpZ2F0b3IucGVybWlzc2lvbnMgaGFzIGluY29tcGxldGUgYnJvd3NlciBzdXBwb3J0XG4gICAgICAgIC8vIGh0dHA6Ly9jYW5pdXNlLmNvbS8jZmVhdD1wZXJtaXNzaW9ucy1hcGlcbiAgICAgICAgLy8gVGVzdCBmb3IgdGhlIGNhc2Ugd2hlcmUgYSBicm93c2VyIGRpc2FibGVzIEdlb2xvY2F0aW9uIGJlY2F1c2Ugb2YgYW5cbiAgICAgICAgLy8gaW5zZWN1cmUgb3JpZ2luXG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoeyBuYW1lOiAnZ2VvbG9jYXRpb24nIH0pLnRoZW4oKHApID0+IHtcbiAgICAgICAgICAgIHN1cHBvcnRzR2VvbG9jYXRpb24gPSBwLnN0YXRlICE9PSAnZGVuaWVkJztcbiAgICAgICAgICAgIGNhbGxiYWNrKHN1cHBvcnRzR2VvbG9jYXRpb24pO1xuICAgICAgICB9KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHN1cHBvcnRzR2VvbG9jYXRpb24gPSAhIXdpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb247XG4gICAgICAgIGNhbGxiYWNrKHN1cHBvcnRzR2VvbG9jYXRpb24pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGBHZW9sb2NhdGVDb250cm9sYCBjb250cm9sIHByb3ZpZGVzIGEgYnV0dG9uIHRoYXQgdXNlcyB0aGUgYnJvd3NlcidzIGdlb2xvY2F0aW9uXG4gKiBBUEkgdG8gbG9jYXRlIHRoZSB1c2VyIG9uIHRoZSBtYXAuXG4gKlxuICogTm90IGFsbCBicm93c2VycyBzdXBwb3J0IGdlb2xvY2F0aW9uLFxuICogYW5kIHNvbWUgdXNlcnMgbWF5IGRpc2FibGUgdGhlIGZlYXR1cmUuIEdlb2xvY2F0aW9uIHN1cHBvcnQgZm9yIG1vZGVyblxuICogYnJvd3NlcnMgaW5jbHVkaW5nIENocm9tZSByZXF1aXJlcyBzaXRlcyB0byBiZSBzZXJ2ZWQgb3ZlciBIVFRQUy4gSWZcbiAqIGdlb2xvY2F0aW9uIHN1cHBvcnQgaXMgbm90IGF2YWlsYWJsZSwgdGhlIEdlb2xvY2F0ZUNvbnRyb2wgd2lsbCBub3RcbiAqIGJlIHZpc2libGUuXG4gKlxuICogVGhlIHpvb20gbGV2ZWwgYXBwbGllZCB3aWxsIGRlcGVuZCBvbiB0aGUgYWNjdXJhY3kgb2YgdGhlIGdlb2xvY2F0aW9uIHByb3ZpZGVkIGJ5IHRoZSBkZXZpY2UuXG4gKlxuICogVGhlIEdlb2xvY2F0ZUNvbnRyb2wgaGFzIHR3byBtb2Rlcy4gSWYgYHRyYWNrVXNlckxvY2F0aW9uYCBpcyBgZmFsc2VgIChkZWZhdWx0KSB0aGUgY29udHJvbCBhY3RzIGFzIGEgYnV0dG9uLCB3aGljaCB3aGVuIHByZXNzZWQgd2lsbCBzZXQgdGhlIG1hcCdzIGNhbWVyYSB0byB0YXJnZXQgdGhlIHVzZXIgbG9jYXRpb24uIElmIHRoZSB1c2VyIG1vdmVzLCB0aGUgbWFwIHdvbid0IHVwZGF0ZS4gVGhpcyBpcyBtb3N0IHN1aXRlZCBmb3IgdGhlIGRlc2t0b3AuIElmIGB0cmFja1VzZXJMb2NhdGlvbmAgaXMgYHRydWVgIHRoZSBjb250cm9sIGFjdHMgYXMgYSB0b2dnbGUgYnV0dG9uIHRoYXQgd2hlbiBhY3RpdmUgdGhlIHVzZXIncyBsb2NhdGlvbiBpcyBhY3RpdmVseSBtb25pdG9yZWQgZm9yIGNoYW5nZXMuIEluIHRoaXMgbW9kZSB0aGUgR2VvbG9jYXRlQ29udHJvbCBoYXMgdGhyZWUgc3RhdGVzOlxuICogKiBhY3RpdmUgLSB0aGUgbWFwJ3MgY2FtZXJhIGF1dG9tYXRpY2FsbHkgdXBkYXRlcyBhcyB0aGUgdXNlcidzIGxvY2F0aW9uIGNoYW5nZXMsIGtlZXBpbmcgdGhlIGxvY2F0aW9uIGRvdCBpbiB0aGUgY2VudGVyLlxuICogKiBwYXNzaXZlIC0gdGhlIHVzZXIncyBsb2NhdGlvbiBkb3QgYXV0b21hdGljYWxseSB1cGRhdGVzLCBidXQgdGhlIG1hcCdzIGNhbWVyYSBkb2VzIG5vdC5cbiAqICogZGlzYWJsZWRcbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucG9zaXRpb25PcHRpb25zPXtlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlLCB0aW1lb3V0OiA2MDAwfV0gQSBHZW9sb2NhdGlvbiBBUEkgW1Bvc2l0aW9uT3B0aW9uc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Bvc2l0aW9uT3B0aW9ucykgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmZpdEJvdW5kc09wdGlvbnM9e21heFpvb206IDE1fV0gQSBbYGZpdEJvdW5kc2BdKCNNYXAjZml0Qm91bmRzKSBvcHRpb25zIG9iamVjdCB0byB1c2Ugd2hlbiB0aGUgbWFwIGlzIHBhbm5lZCBhbmQgem9vbWVkIHRvIHRoZSB1c2VyJ3MgbG9jYXRpb24uIFRoZSBkZWZhdWx0IGlzIHRvIHVzZSBhIGBtYXhab29tYCBvZiAxNSB0byBsaW1pdCBob3cgZmFyIHRoZSBtYXAgd2lsbCB6b29tIGluIGZvciB2ZXJ5IGFjY3VyYXRlIGxvY2F0aW9ucy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbj1mYWxzZV0gSWYgYHRydWVgIHRoZSBHZW9sb2NhdGUgQ29udHJvbCBiZWNvbWVzIGEgdG9nZ2xlIGJ1dHRvbiBhbmQgd2hlbiBhY3RpdmUgdGhlIG1hcCB3aWxsIHJlY2VpdmUgdXBkYXRlcyB0byB0aGUgdXNlcidzIGxvY2F0aW9uIGFzIGl0IGNoYW5nZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbj10cnVlXSBCeSBkZWZhdWx0IGEgZG90IHdpbGwgYmUgc2hvd24gb24gdGhlIG1hcCBhdCB0aGUgdXNlcidzIGxvY2F0aW9uLiBTZXQgdG8gYGZhbHNlYCB0byBkaXNhYmxlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBtYXAuYWRkQ29udHJvbChuZXcgbWFwYm94Z2wuR2VvbG9jYXRlQ29udHJvbCh7XG4gKiAgICAgcG9zaXRpb25PcHRpb25zOiB7XG4gKiAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZVxuICogICAgIH0sXG4gKiAgICAgdHJhY2tVc2VyTG9jYXRpb246IHRydWVcbiAqIH0pKTtcbiAqL1xuY2xhc3MgR2VvbG9jYXRlQ29udHJvbCBleHRlbmRzIEV2ZW50ZWQge1xuICAgIF9tYXA6IE1hcDtcbiAgICBvcHRpb25zOiBPcHRpb25zO1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9kb3RFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBfZ2VvbG9jYXRlQnV0dG9uOiBIVE1MRWxlbWVudDtcbiAgICBfZ2VvbG9jYXRpb25XYXRjaElEOiBudW1iZXI7XG4gICAgX3RpbWVvdXRJZDogP1RpbWVvdXRJRDtcbiAgICBfd2F0Y2hTdGF0ZTogc3RyaW5nO1xuICAgIF9sYXN0S25vd25Qb3NpdGlvbjogYW55O1xuICAgIF91c2VyTG9jYXRpb25Eb3RNYXJrZXI6IE1hcmtlcjtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uU3VjY2VzcycsXG4gICAgICAgICAgICAnX29uRXJyb3InLFxuICAgICAgICAgICAgJ19maW5pc2gnLFxuICAgICAgICAgICAgJ19zZXR1cFVJJyxcbiAgICAgICAgICAgICdfdXBkYXRlQ2FtZXJhJyxcbiAgICAgICAgICAgICdfdXBkYXRlTWFya2VyJyxcbiAgICAgICAgICAgICdfb25DbGlja0dlb2xvY2F0ZSdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCBgJHtjbGFzc05hbWV9ICR7Y2xhc3NOYW1lfS1ncm91cGApO1xuICAgICAgICBjaGVja0dlb2xvY2F0aW9uU3VwcG9ydCh0aGlzLl9zZXR1cFVJKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgLy8gY2xlYXIgdGhlIGdlb2xvY2F0aW9uIHdhdGNoIGlmIGV4aXN0c1xuICAgICAgICBpZiAodGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpO1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEID0gKHVuZGVmaW5lZDogYW55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFyIHRoZSBtYXJrZXIgZnJvbSB0aGUgbWFwXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuICAgICAgICB0aGlzLl9tYXAgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgIH1cblxuICAgIF9vblN1Y2Nlc3MocG9zaXRpb246IFBvc2l0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIC8vIGtlZXAgYSByZWNvcmQgb2YgdGhlIHBvc2l0aW9uIHNvIHRoYXQgaWYgdGhlIHN0YXRlIGlzIEJBQ0tHUk9VTkQgYW5kIHRoZSB1c2VyXG4gICAgICAgICAgICAvLyBjbGlja3MgdGhlIGJ1dHRvbiwgd2UgY2FuIG1vdmUgdG8gQUNUSVZFX0xPQ0sgaW1tZWRpYXRlbHkgd2l0aG91dCB3YWl0aW5nIGZvclxuICAgICAgICAgICAgLy8gd2F0Y2hQb3NpdGlvbiB0byB0cmlnZ2VyIF9vblN1Y2Nlc3NcbiAgICAgICAgICAgIHRoaXMuX2xhc3RLbm93blBvc2l0aW9uID0gcG9zaXRpb247XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fd2F0Y2hTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnV0FJVElOR19BQ1RJVkUnOlxuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0xPQ0snOlxuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0VSUk9SJzpcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0FDVElWRV9MT0NLJztcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdCQUNLR1JPVU5EJzpcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkRfRVJST1InOlxuICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQkFDS0dST1VORCc7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSwgYFVuZXhwZWN0ZWQgd2F0Y2hTdGF0ZSAke3RoaXMuX3dhdGNoU3RhdGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBzaG93VXNlckxvY2F0aW9uIGFuZCB0aGUgd2F0Y2ggc3RhdGUgaXNuJ3Qgb2ZmIHRoZW4gdXBkYXRlIHRoZSBtYXJrZXIgbG9jYXRpb25cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uICYmIHRoaXMuX3dhdGNoU3RhdGUgIT09ICdPRkYnKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVNYXJrZXIocG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgaW4gbm9ybWFsIG1vZGUgKG5vdCB3YXRjaCBtb2RlKSwgb3IgaWYgaW4gd2F0Y2ggbW9kZSBhbmQgdGhlIHN0YXRlIGlzIGFjdGl2ZSB3YXRjaFxuICAgICAgICAvLyB0aGVuIHVwZGF0ZSB0aGUgY2FtZXJhXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uIHx8IHRoaXMuX3dhdGNoU3RhdGUgPT09ICdBQ1RJVkVfTE9DSycpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNhbWVyYShwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2dlb2xvY2F0ZScsIHBvc2l0aW9uKSk7XG4gICAgICAgIHRoaXMuX2ZpbmlzaCgpO1xuICAgIH1cblxuICAgIF91cGRhdGVDYW1lcmEocG9zaXRpb246IFBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IG5ldyBMbmdMYXQocG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlKTtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gcG9zaXRpb24uY29vcmRzLmFjY3VyYWN5O1xuXG4gICAgICAgIHRoaXMuX21hcC5maXRCb3VuZHMoY2VudGVyLnRvQm91bmRzKHJhZGl1cyksIHRoaXMub3B0aW9ucy5maXRCb3VuZHNPcHRpb25zLCB7XG4gICAgICAgICAgICBnZW9sb2NhdGVTb3VyY2U6IHRydWUgLy8gdGFnIHRoaXMgY2FtZXJhIGNoYW5nZSBzbyBpdCB3b24ndCBjYXVzZSB0aGUgY29udHJvbCB0byBjaGFuZ2UgdG8gYmFja2dyb3VuZCBzdGF0ZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfdXBkYXRlTWFya2VyKHBvc2l0aW9uOiA/UG9zaXRpb24pIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0TG5nTGF0KFtwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLCBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGVdKS5hZGRUbyh0aGlzLl9tYXApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uRXJyb3IoZXJyb3I6IFBvc2l0aW9uRXJyb3IpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBQRVJNSVNTSU9OX0RFTklFRFxuICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnT0ZGJztcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvcicpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyV2F0Y2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fd2F0Y2hTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ1dBSVRJTkdfQUNUSVZFJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdBQ1RJVkVfRVJST1InO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0xPQ0snOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0FDVElWRV9FUlJPUic7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0dXJuIG1hcmtlciBncmV5XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkQnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0JBQ0tHUk9VTkRfRVJST1InO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvcicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0dXJuIG1hcmtlciBncmV5XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0FDVElWRV9FUlJPUic6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSwgYFVuZXhwZWN0ZWQgd2F0Y2hTdGF0ZSAke3RoaXMuX3dhdGNoU3RhdGV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3dhdGNoU3RhdGUgIT09ICdPRkYnICYmIHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdlcnJvcicsIGVycm9yKSk7XG5cbiAgICAgICAgdGhpcy5fZmluaXNoKCk7XG4gICAgfVxuXG4gICAgX2ZpbmlzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RpbWVvdXRJZCkgeyBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dElkKTsgfVxuICAgICAgICB0aGlzLl90aW1lb3V0SWQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgX3NldHVwVUkoc3VwcG9ydGVkOiBib29sZWFuKSB7XG4gICAgICAgIGlmIChzdXBwb3J0ZWQgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlOiBNb3VzZUV2ZW50KSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24gPSBET00uY3JlYXRlKCdidXR0b24nLFxuICAgICAgICAgICAgYCR7Y2xhc3NOYW1lfS1pY29uICR7Y2xhc3NOYW1lfS1nZW9sb2NhdGVgLFxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdHZW9sb2NhdGUnKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnT0ZGJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoZW4gc2hvd1VzZXJMb2NhdGlvbiBpcyBlbmFibGVkLCBrZWVwIHRoZSBHZW9sb2NhdGUgYnV0dG9uIGRpc2FibGVkIHVudGlsIHRoZSBkZXZpY2UgbG9jYXRpb24gbWFya2VyIGlzIHNldHVwIG9uIHRoZSBtYXBcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9kb3RFbGVtZW50ID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLXVzZXItbG9jYXRpb24tZG90Jyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlciA9IG5ldyBNYXJrZXIodGhpcy5fZG90RWxlbWVudCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pIHRoaXMuX3dhdGNoU3RhdGUgPSAnT0ZGJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsXG4gICAgICAgICAgICB0aGlzLl9vbkNsaWNrR2VvbG9jYXRlLmJpbmQodGhpcykpO1xuXG4gICAgICAgIC8vIHdoZW4gdGhlIGNhbWVyYSBpcyBjaGFuZ2VkIChhbmQgaXQncyBub3QgYXMgYSByZXN1bHQgb2YgdGhlIEdlb2xvY2F0aW9uIENvbnRyb2wpIGNoYW5nZVxuICAgICAgICAvLyB0aGUgd2F0Y2ggbW9kZSB0byBiYWNrZ3JvdW5kIHdhdGNoLCBzbyB0aGF0IHRoZSBtYXJrZXIgaXMgdXBkYXRlZCBidXQgbm90IHRoZSBjYW1lcmEuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vbignbW92ZXN0YXJ0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVudC5nZW9sb2NhdGVTb3VyY2UgJiYgdGhpcy5fd2F0Y2hTdGF0ZSA9PT0gJ0FDVElWRV9MT0NLJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0JBQ0tHUk9VTkQnO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgndHJhY2t1c2VybG9jYXRpb25lbmQnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25DbGlja0dlb2xvY2F0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHdhdGNoU3RhdGUgYW5kIGRvIGFueSBvdXRnb2luZyBzdGF0ZSBjbGVhbnVwXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3dhdGNoU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ09GRic6XG4gICAgICAgICAgICAgICAgLy8gdHVybiBvbiB0aGUgR2VvbG9jYXRlIENvbnRyb2xcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ1dBSVRJTkdfQUNUSVZFJztcblxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3RyYWNrdXNlcmxvY2F0aW9uc3RhcnQnKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdXQUlUSU5HX0FDVElWRSc6XG4gICAgICAgICAgICBjYXNlICdBQ1RJVkVfTE9DSyc6XG4gICAgICAgICAgICBjYXNlICdBQ1RJVkVfRVJST1InOlxuICAgICAgICAgICAgY2FzZSAnQkFDS0dST1VORF9FUlJPUic6XG4gICAgICAgICAgICAgICAgLy8gdHVybiBvZmYgdGhlIEdlb2xvY2F0ZSBDb250cm9sXG4gICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdPRkYnO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd0cmFja3VzZXJsb2NhdGlvbmVuZCcpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkQnOlxuICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQUNUSVZFX0xPQ0snO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgLy8gc2V0IGNhbWVyYSB0byBsYXN0IGtub3duIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uKSB0aGlzLl91cGRhdGVDYW1lcmEodGhpcy5fbGFzdEtub3duUG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgndHJhY2t1c2VybG9jYXRpb25zdGFydCcpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGZhbHNlLCBgVW5leHBlY3RlZCB3YXRjaFN0YXRlICR7dGhpcy5fd2F0Y2hTdGF0ZX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaW5jb21pbmcgc3RhdGUgc2V0dXBcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fd2F0Y2hTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnV0FJVElOR19BQ1RJVkUnOlxuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0xPQ0snOlxuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FDVElWRV9FUlJPUic6XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdCQUNLR1JPVU5EJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQkFDS0dST1VORF9FUlJPUic6XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvcicpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnT0ZGJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGZhbHNlLCBgVW5leHBlY3RlZCB3YXRjaFN0YXRlICR7dGhpcy5fd2F0Y2hTdGF0ZX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbWFuYWdlIGdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24gLyBnZW9sb2NhdGlvbi5jbGVhcldhdGNoXG4gICAgICAgICAgICBpZiAodGhpcy5fd2F0Y2hTdGF0ZSA9PT0gJ09GRicgJiYgdGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBjbGVhciB3YXRjaFBvc2l0aW9uIGFzIHdlJ3ZlIGNoYW5nZWQgdG8gYW4gT0ZGIHN0YXRlXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJXYXRjaCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIGVuYWJsZSB3YXRjaFBvc2l0aW9uIHNpbmNlIHdhdGNoU3RhdGUgaXMgbm90IE9GRiBhbmQgdGhlcmUgaXMgbm8gd2F0Y2hQb3NpdGlvbiBhbHJlYWR5IHJ1bm5pbmdcblxuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgJ3RydWUnKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCA9IHdpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25TdWNjZXNzLCB0aGlzLl9vbkVycm9yLCB0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKFxuICAgICAgICAgICAgICAgIHRoaXMuX29uU3VjY2VzcywgdGhpcy5fb25FcnJvciwgdGhpcy5vcHRpb25zLnBvc2l0aW9uT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIFRoaXMgdGltZW91dCBlbnN1cmVzIHRoYXQgd2Ugc3RpbGwgY2FsbCBmaW5pc2goKSBldmVuIGlmXG4gICAgICAgICAgICAvLyB0aGUgdXNlciBkZWNsaW5lcyB0byBzaGFyZSB0aGVpciBsb2NhdGlvbiBpbiBGaXJlZm94XG4gICAgICAgICAgICB0aGlzLl90aW1lb3V0SWQgPSBzZXRUaW1lb3V0KHRoaXMuX2ZpbmlzaCwgMTAwMDAgLyogMTBzZWMgKi8pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NsZWFyV2F0Y2goKSB7XG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpO1xuXG4gICAgICAgIHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCA9ICh1bmRlZmluZWQ6IGFueSk7XG4gICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsICdmYWxzZScpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlTWFya2VyKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHZW9sb2NhdGVDb250cm9sO1xuXG4vKiBHZW9sb2NhdGUgQ29udHJvbCBXYXRjaCBTdGF0ZXNcbiAqIFRoaXMgaXMgdGhlIHByaXZhdGUgc3RhdGUgb2YgdGhlIGNvbnRyb2wuXG4gKlxuICogT0ZGXG4gKiAgICBvZmYvaW5hY3RpdmVcbiAqIFdBSVRJTkdfQUNUSVZFXG4gKiAgICBHZW9sb2NhdGUgQ29udHJvbCB3YXMgY2xpY2tlZCBidXQgc3RpbGwgd2FpdGluZyBmb3IgR2VvbG9jYXRpb24gQVBJIHJlc3BvbnNlIHdpdGggdXNlciBsb2NhdGlvblxuICogQUNUSVZFX0xPQ0tcbiAqICAgIFNob3dpbmcgdGhlIHVzZXIgbG9jYXRpb24gYXMgYSBkb3QgQU5EIHRyYWNraW5nIHRoZSBjYW1lcmEgdG8gYmUgZml4ZWQgdG8gdGhlaXIgbG9jYXRpb24uIElmIHRoZWlyIGxvY2F0aW9uIGNoYW5nZXMgdGhlIG1hcCBtb3ZlcyB0byBmb2xsb3cuXG4gKiBBQ1RJVkVfRVJST1JcbiAqICAgIFRoZXJlIHdhcyBlbiBlcnJvciBmcm9tIHRoZSBHZW9sb2NhdGlvbiBBUEkgd2hpbGUgdHJ5aW5nIHRvIHNob3cgYW5kIHRyYWNrIHRoZSB1c2VyIGxvY2F0aW9uLlxuICogQkFDS0dST1VORFxuICogICAgU2hvd2luZyB0aGUgdXNlciBsb2NhdGlvbiBhcyBhIGRvdCBidXQgdGhlIGNhbWVyYSBkb2Vzbid0IGZvbGxvdyB0aGVpciBsb2NhdGlvbiBhcyBpdCBjaGFuZ2VzLlxuICogQkFDS0dST1VORF9FUlJPUlxuICogICAgVGhlcmUgd2FzIGFuIGVycm9yIGZyb20gdGhlIEdlb2xvY2F0aW9uIEFQSSB3aGlsZSB0cnlpbmcgdG8gc2hvdyAoYnV0IG5vdCB0cmFjaykgdGhlIHVzZXIgbG9jYXRpb24uXG4gKi9cblxuXG4vKipcbiAqIEZpcmVkIG9uIGVhY2ggR2VvbG9jYXRpb24gQVBJIHBvc2l0aW9uIHVwZGF0ZSB3aGljaCByZXR1cm5lZCBhcyBzdWNjZXNzLlxuICpcbiAqIEBldmVudCBnZW9sb2NhdGVcbiAqIEBtZW1iZXJvZiBHZW9sb2NhdGVDb250cm9sXG4gKiBAaW5zdGFuY2VcbiAqIEBwcm9wZXJ0eSB7UG9zaXRpb259IGRhdGEgVGhlIHJldHVybmVkIFtQb3NpdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Bvc2l0aW9uKSBvYmplY3QgZnJvbSB0aGUgY2FsbGJhY2sgaW4gW0dlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvR2VvbG9jYXRpb24vZ2V0Q3VycmVudFBvc2l0aW9uKSBvciBbR2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbigpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvR2VvbG9jYXRpb24vd2F0Y2hQb3NpdGlvbikuXG4gKlxuICovXG5cbi8qKlxuICogRmlyZWQgb24gZWFjaCBHZW9sb2NhdGlvbiBBUEkgcG9zaXRpb24gdXBkYXRlIHdoaWNoIHJldHVybmVkIGFzIGFuIGVycm9yLlxuICpcbiAqIEBldmVudCBlcnJvclxuICogQG1lbWJlcm9mIEdlb2xvY2F0ZUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQHByb3BlcnR5IHtQb3NpdGlvbkVycm9yfSBkYXRhIFRoZSByZXR1cm5lZCBbUG9zaXRpb25FcnJvcl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Bvc2l0aW9uRXJyb3IpIG9iamVjdCBmcm9tIHRoZSBjYWxsYmFjayBpbiBbR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9HZW9sb2NhdGlvbi9nZXRDdXJyZW50UG9zaXRpb24pIG9yIFtHZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9HZW9sb2NhdGlvbi93YXRjaFBvc2l0aW9uKS5cbiAqXG4gKi9cblxuLyoqXG4gKiBGaXJlZCB3aGVuIHRoZSBHZW9sb2NhdGUgQ29udHJvbCBjaGFuZ2VzIHRvIHRoZSBhY3RpdmUgbG9jayBzdGF0ZSwgd2hpY2ggaGFwcGVucyBlaXRoZXIgdXBvbiBmaXJzdCBvYnRhaW5pbmcgYSBzdWNjZXNzZnVsIEdlb2xvY2F0aW9uIEFQSSBwb3NpdGlvbiBmb3IgdGhlIHVzZXIgKGEgZ2VvbG9jYXRlIGV2ZW50IHdpbGwgZm9sbG93KSwgb3IgdGhlIHVzZXIgY2xpY2tzIHRoZSBnZW9sb2NhdGUgYnV0dG9uIHdoZW4gaW4gdGhlIGJhY2tncm91bmQgc3RhdGUgd2hpY2ggdXNlcyB0aGUgbGFzdCBrbm93biBwb3NpdGlvbiB0byByZWNlbnRlciB0aGUgbWFwIGFuZCBlbnRlciBhY3RpdmUgbG9jayBzdGF0ZSAobm8gZ2VvbG9jYXRlIGV2ZW50IHdpbGwgZm9sbG93IHVubGVzcyB0aGUgdXNlcnMncyBsb2NhdGlvbiBjaGFuZ2VzKS5cbiAqXG4gKiBAZXZlbnQgdHJhY2t1c2VybG9jYXRpb25zdGFydFxuICogQG1lbWJlcm9mIEdlb2xvY2F0ZUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICpcbiAqL1xuXG4vKipcbiAqIEZpcmVkIHdoZW4gdGhlIEdlb2xvY2F0ZSBDb250cm9sIGNoYW5nZXMgdG8gdGhlIGJhY2tncm91bmQgc3RhdGUsIHdoaWNoIGhhcHBlbnMgd2hlbiBhIHVzZXIgY2hhbmdlcyB0aGUgY2FtZXJhIGR1cmluZyBhbiBhY3RpdmUgcG9zaXRpb24gbG9jay4gVGhpcyBvbmx5IGFwcGxpZXMgd2hlbiB0cmFja1VzZXJMb2NhdGlvbiBpcyB0cnVlLiBJbiB0aGUgYmFja2dyb3VuZCBzdGF0ZSwgdGhlIGRvdCBvbiB0aGUgbWFwIHdpbGwgdXBkYXRlIHdpdGggbG9jYXRpb24gdXBkYXRlcyBidXQgdGhlIGNhbWVyYSB3aWxsIG5vdC5cbiAqXG4gKiBAZXZlbnQgdHJhY2t1c2VybG9jYXRpb25lbmRcbiAqIEBtZW1iZXJvZiBHZW9sb2NhdGVDb250cm9sXG4gKiBAaW5zdGFuY2VcbiAqXG4gKi9cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgZXh0ZW5kLCBiaW5kQWxsIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5cbnR5cGUgVW5pdCA9ICdpbXBlcmlhbCcgfCAnbWV0cmljJyB8ICduYXV0aWNhbCc7XG5cbnR5cGUgT3B0aW9ucyA9IHtcbiAgICBtYXhXaWR0aD86IG51bWJlcixcbiAgICB1bml0PzogVW5pdDtcbn07XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zOiBPcHRpb25zID0ge1xuICAgIG1heFdpZHRoOiAxMDAsXG4gICAgdW5pdDogJ21ldHJpYydcbn07XG5cbi8qKlxuICogQSBgU2NhbGVDb250cm9sYCBjb250cm9sIGRpc3BsYXlzIHRoZSByYXRpbyBvZiBhIGRpc3RhbmNlIG9uIHRoZSBtYXAgdG8gdGhlIGNvcnJlc3BvbmRpbmcgZGlzdGFuY2Ugb24gdGhlIGdyb3VuZC5cbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2lkdGg9JzEwMCddIFRoZSBtYXhpbXVtIGxlbmd0aCBvZiB0aGUgc2NhbGUgY29udHJvbCBpbiBwaXhlbHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudW5pdD0nbWV0cmljJ10gVW5pdCBvZiB0aGUgZGlzdGFuY2UgKGAnaW1wZXJpYWwnYCwgYCdtZXRyaWMnYCBvciBgJ25hdXRpY2FsJ2ApLlxuICogQGV4YW1wbGVcbiAqIHZhciBzY2FsZSA9IG5ldyBtYXBib3hnbC5TY2FsZUNvbnRyb2woe1xuICogICAgIG1heFdpZHRoOiA4MCxcbiAqICAgICB1bml0OiAnaW1wZXJpYWwnXG4gKiB9KTtcbiAqIG1hcC5hZGRDb250cm9sKHNjYWxlKTtcbiAqXG4gKiBzY2FsZS5zZXRVbml0KCdtZXRyaWMnKTtcbiAqL1xuY2xhc3MgU2NhbGVDb250cm9sIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgb3B0aW9uczogT3B0aW9ucztcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uTW92ZScsXG4gICAgICAgICAgICAnc2V0VW5pdCdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgZ2V0RGVmYXVsdFBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ2JvdHRvbS1sZWZ0JztcbiAgICB9XG5cbiAgICBfb25Nb3ZlKCkge1xuICAgICAgICB1cGRhdGVTY2FsZSh0aGlzLl9tYXAsIHRoaXMuX2NvbnRhaW5lciwgdGhpcy5vcHRpb25zKTtcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtc2NhbGUnLCBtYXAuZ2V0Q29udGFpbmVyKCkpO1xuXG4gICAgICAgIHRoaXMuX21hcC5vbignbW92ZScsIHRoaXMuX29uTW92ZSk7XG4gICAgICAgIHRoaXMuX29uTW92ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIERPTS5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5fbWFwLm9mZignbW92ZScsIHRoaXMuX29uTW92ZSk7XG4gICAgICAgIHRoaXMuX21hcCA9ICh1bmRlZmluZWQ6IGFueSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzY2FsZSdzIHVuaXQgb2YgdGhlIGRpc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdW5pdCBVbml0IG9mIHRoZSBkaXN0YW5jZSAoYCdpbXBlcmlhbCdgLCBgJ21ldHJpYydgIG9yIGAnbmF1dGljYWwnYCkuXG4gICAgICovXG4gICAgc2V0VW5pdCh1bml0OiBVbml0KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy51bml0ID0gdW5pdDtcbiAgICAgICAgdXBkYXRlU2NhbGUodGhpcy5fbWFwLCB0aGlzLl9jb250YWluZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTY2FsZUNvbnRyb2w7XG5cbmZ1bmN0aW9uIHVwZGF0ZVNjYWxlKG1hcCwgY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgLy8gQSBob3Jpem9udGFsIHNjYWxlIGlzIGltYWdpbmVkIHRvIGJlIHByZXNlbnQgYXQgY2VudGVyIG9mIHRoZSBtYXBcbiAgICAvLyBjb250YWluZXIgd2l0aCBtYXhpbXVtIGxlbmd0aCAoRGVmYXVsdCkgYXMgMTAwcHguXG4gICAgLy8gVXNpbmcgc3BoZXJpY2FsIGxhdyBvZiBjb3NpbmVzIGFwcHJveGltYXRpb24sIHRoZSByZWFsIGRpc3RhbmNlIGlzXG4gICAgLy8gZm91bmQgYmV0d2VlbiB0aGUgdHdvIGNvb3JkaW5hdGVzLlxuICAgIGNvbnN0IG1heFdpZHRoID0gb3B0aW9ucyAmJiBvcHRpb25zLm1heFdpZHRoIHx8IDEwMDtcblxuICAgIGNvbnN0IHkgPSBtYXAuX2NvbnRhaW5lci5jbGllbnRIZWlnaHQgLyAyO1xuICAgIGNvbnN0IG1heE1ldGVycyA9IGdldERpc3RhbmNlKG1hcC51bnByb2plY3QoWzAsIHldKSwgbWFwLnVucHJvamVjdChbbWF4V2lkdGgsIHldKSk7XG4gICAgLy8gVGhlIHJlYWwgZGlzdGFuY2UgY29ycmVzcG9uZGluZyB0byAxMDBweCBzY2FsZSBsZW5ndGggaXMgcm91bmRlZCBvZmYgdG9cbiAgICAvLyBuZWFyIHByZXR0eSBudW1iZXIgYW5kIHRoZSBzY2FsZSBsZW5ndGggZm9yIHRoZSBzYW1lIGlzIGZvdW5kIG91dC5cbiAgICAvLyBEZWZhdWx0IHVuaXQgb2YgdGhlIHNjYWxlIGlzIGJhc2VkIG9uIFVzZXIncyBsb2NhbGUuXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy51bml0ID09PSAnaW1wZXJpYWwnKSB7XG4gICAgICAgIGNvbnN0IG1heEZlZXQgPSAzLjI4MDggKiBtYXhNZXRlcnM7XG4gICAgICAgIGlmIChtYXhGZWV0ID4gNTI4MCkge1xuICAgICAgICAgICAgY29uc3QgbWF4TWlsZXMgPSBtYXhGZWV0IC8gNTI4MDtcbiAgICAgICAgICAgIHNldFNjYWxlKGNvbnRhaW5lciwgbWF4V2lkdGgsIG1heE1pbGVzLCAnbWknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFNjYWxlKGNvbnRhaW5lciwgbWF4V2lkdGgsIG1heEZlZXQsICdmdCcpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChvcHRpb25zICYmIG9wdGlvbnMudW5pdCA9PT0gJ25hdXRpY2FsJykge1xuICAgICAgICBjb25zdCBtYXhOYXV0aWNhbHMgPSBtYXhNZXRlcnMgLyAxODUyO1xuICAgICAgICBzZXRTY2FsZShjb250YWluZXIsIG1heFdpZHRoLCBtYXhOYXV0aWNhbHMsICdubScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFNjYWxlKGNvbnRhaW5lciwgbWF4V2lkdGgsIG1heE1ldGVycywgJ20nKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldFNjYWxlKGNvbnRhaW5lciwgbWF4V2lkdGgsIG1heERpc3RhbmNlLCB1bml0KSB7XG4gICAgbGV0IGRpc3RhbmNlID0gZ2V0Um91bmROdW0obWF4RGlzdGFuY2UpO1xuICAgIGNvbnN0IHJhdGlvID0gZGlzdGFuY2UgLyBtYXhEaXN0YW5jZTtcblxuICAgIGlmICh1bml0ID09PSAnbScgJiYgZGlzdGFuY2UgPj0gMTAwMCkge1xuICAgICAgICBkaXN0YW5jZSA9IGRpc3RhbmNlIC8gMTAwMDtcbiAgICAgICAgdW5pdCA9ICdrbSc7XG4gICAgfVxuXG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gYCR7bWF4V2lkdGggKiByYXRpb31weGA7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IGRpc3RhbmNlICsgdW5pdDtcbn1cblxuZnVuY3Rpb24gZ2V0RGlzdGFuY2UobGF0bG5nMSwgbGF0bG5nMikge1xuICAgIC8vIFVzZXMgc3BoZXJpY2FsIGxhdyBvZiBjb3NpbmVzIGFwcHJveGltYXRpb24uXG4gICAgY29uc3QgUiA9IDYzNzEwMDA7XG5cbiAgICBjb25zdCByYWQgPSBNYXRoLlBJIC8gMTgwLFxuICAgICAgICBsYXQxID0gbGF0bG5nMS5sYXQgKiByYWQsXG4gICAgICAgIGxhdDIgPSBsYXRsbmcyLmxhdCAqIHJhZCxcbiAgICAgICAgYSA9IE1hdGguc2luKGxhdDEpICogTWF0aC5zaW4obGF0MikgK1xuICAgICAgICAgIE1hdGguY29zKGxhdDEpICogTWF0aC5jb3MobGF0MikgKiBNYXRoLmNvcygobGF0bG5nMi5sbmcgLSBsYXRsbmcxLmxuZykgKiByYWQpO1xuXG4gICAgY29uc3QgbWF4TWV0ZXJzID0gUiAqIE1hdGguYWNvcyhNYXRoLm1pbihhLCAxKSk7XG4gICAgcmV0dXJuIG1heE1ldGVycztcblxufVxuXG5mdW5jdGlvbiBnZXRSb3VuZE51bShudW0pIHtcbiAgICBjb25zdCBwb3cxMCA9IE1hdGgucG93KDEwLCAoYCR7TWF0aC5mbG9vcihudW0pfWApLmxlbmd0aCAtIDEpO1xuICAgIGxldCBkID0gbnVtIC8gcG93MTA7XG5cbiAgICBkID0gZCA+PSAxMCA/IDEwIDpcbiAgICAgICAgZCA+PSA1ID8gNSA6XG4gICAgICAgIGQgPj0gMyA/IDMgOlxuICAgICAgICBkID49IDIgPyAyIDogMTtcblxuICAgIHJldHVybiBwb3cxMCAqIGQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcblxuaW1wb3J0IHsgYmluZEFsbCwgd2Fybk9uY2UgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdyc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuXG4vKipcbiAqIEEgYEZ1bGxzY3JlZW5Db250cm9sYCBjb250cm9sIGNvbnRhaW5zIGEgYnV0dG9uIGZvciB0b2dnbGluZyB0aGUgbWFwIGluIGFuZCBvdXQgb2YgZnVsbHNjcmVlbiBtb2RlLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtJQ29udHJvbH1cbiAqIEBleGFtcGxlXG4gKiBtYXAuYWRkQ29udHJvbChuZXcgbWFwYm94Z2wuRnVsbHNjcmVlbkNvbnRyb2woKSk7XG4gKiBAc2VlIFtWaWV3IGEgZnVsbHNjcmVlbiBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZnVsbHNjcmVlbi8pXG4gKi9cblxuY2xhc3MgRnVsbHNjcmVlbkNvbnRyb2wge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfbWFwQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfZnVsbHNjcmVlbjogYm9vbGVhbjtcbiAgICBfZnVsbHNjcmVlbmNoYW5nZTogc3RyaW5nO1xuICAgIF9mdWxsc2NyZWVuQnV0dG9uOiBIVE1MRWxlbWVudDtcbiAgICBfY2xhc3NOYW1lOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fZnVsbHNjcmVlbiA9IGZhbHNlO1xuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25DbGlja0Z1bGxzY3JlZW4nLFxuICAgICAgICAgICAgJ19jaGFuZ2VJY29uJ1xuICAgICAgICBdLCB0aGlzKTtcbiAgICAgICAgaWYgKCdvbmZ1bGxzY3JlZW5jaGFuZ2UnIGluIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbmNoYW5nZSA9ICdmdWxsc2NyZWVuY2hhbmdlJztcbiAgICAgICAgfSBlbHNlIGlmICgnb25tb3pmdWxsc2NyZWVuY2hhbmdlJyBpbiB3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UgPSAnbW96ZnVsbHNjcmVlbmNoYW5nZSc7XG4gICAgICAgIH0gZWxzZSBpZiAoJ29ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZScgaW4gd2luZG93LmRvY3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxsc2NyZWVuY2hhbmdlID0gJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnO1xuICAgICAgICB9IGVsc2UgaWYgKCdvbm1zZnVsbHNjcmVlbmNoYW5nZScgaW4gd2luZG93LmRvY3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxsc2NyZWVuY2hhbmdlID0gJ01TRnVsbHNjcmVlbkNoYW5nZSc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2xhc3NOYW1lID0gJ21hcGJveGdsLWN0cmwnO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fbWFwQ29udGFpbmVyID0gdGhpcy5fbWFwLmdldENvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCBgJHt0aGlzLl9jbGFzc05hbWV9IG1hcGJveGdsLWN0cmwtZ3JvdXBgKTtcbiAgICAgICAgaWYgKHRoaXMuX2NoZWNrRnVsbHNjcmVlblN1cHBvcnQoKSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0dXBVSSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB3YXJuT25jZSgnVGhpcyBkZXZpY2UgZG9lcyBub3Qgc3VwcG9ydCBmdWxsc2NyZWVuIG1vZGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuICAgICAgICB0aGlzLl9tYXAgPSAobnVsbDogYW55KTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSwgdGhpcy5fY2hhbmdlSWNvbik7XG4gICAgfVxuXG4gICAgX2NoZWNrRnVsbHNjcmVlblN1cHBvcnQoKSB7XG4gICAgICAgIHJldHVybiAhIShcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5mdWxsc2NyZWVuRW5hYmxlZCB8fFxuICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS5tb3pGdWxsU2NyZWVuRW5hYmxlZCB8fFxuICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS5tc0Z1bGxzY3JlZW5FbmFibGVkIHx8XG4gICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgX3NldHVwVUkoKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24gPSBET00uY3JlYXRlKCdidXR0b24nLCAoYCR7dGhpcy5fY2xhc3NOYW1lfS1pY29uICR7dGhpcy5fY2xhc3NOYW1lfS1mdWxsc2NyZWVuYCksIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwiVG9nZ2xlIGZ1bGxzY3JlZW5cIik7XG4gICAgICAgIGJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrRnVsbHNjcmVlbik7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UsIHRoaXMuX2NoYW5nZUljb24pO1xuICAgIH1cblxuICAgIF9pc0Z1bGxzY3JlZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mdWxsc2NyZWVuO1xuICAgIH1cblxuICAgIF9jaGFuZ2VJY29uKCkge1xuICAgICAgICBjb25zdCBmdWxsc2NyZWVuRWxlbWVudCA9XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgfHxcbiAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkubW96RnVsbFNjcmVlbkVsZW1lbnQgfHxcbiAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgfHxcbiAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkubXNGdWxsc2NyZWVuRWxlbWVudDtcblxuICAgICAgICBpZiAoKGZ1bGxzY3JlZW5FbGVtZW50ID09PSB0aGlzLl9tYXBDb250YWluZXIpICE9PSB0aGlzLl9mdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxsc2NyZWVuID0gIXRoaXMuX2Z1bGxzY3JlZW47XG4gICAgICAgICAgICB0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoYCR7dGhpcy5fY2xhc3NOYW1lfS1zaHJpbmtgKTtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShgJHt0aGlzLl9jbGFzc05hbWV9LWZ1bGxzY3JlZW5gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkNsaWNrRnVsbHNjcmVlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzRnVsbHNjcmVlbigpKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LmRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkubW96Q2FuY2VsRnVsbFNjcmVlbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkubXNFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX21hcENvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgdGhpcy5fbWFwQ29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbWFwQ29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAodGhpcy5fbWFwQ29udGFpbmVyOiBhbnkpLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbWFwQ29udGFpbmVyLm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICh0aGlzLl9tYXBDb250YWluZXI6IGFueSkubXNSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX21hcENvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgKHRoaXMuX21hcENvbnRhaW5lcjogYW55KS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGdWxsc2NyZWVuQ29udHJvbDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGV4dGVuZCwgYmluZEFsbCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgRE9NIGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCBMbmdMYXQgZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgc21hcnRXcmFwIGZyb20gJy4uL3V0aWwvc21hcnRfd3JhcCc7XG5pbXBvcnQgeyB0eXBlIEFuY2hvciwgYW5jaG9yVHJhbnNsYXRlLCBhcHBseUFuY2hvckNsYXNzIH0gZnJvbSAnLi9hbmNob3InO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHR5cGUge0xuZ0xhdExpa2V9IGZyb20gJy4uL2dlby9sbmdfbGF0JztcblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgY2xvc2VCdXR0b246IHRydWUsXG4gICAgY2xvc2VPbkNsaWNrOiB0cnVlXG59O1xuXG5leHBvcnQgdHlwZSBPZmZzZXQgPSBudW1iZXIgfCBQb2ludExpa2UgfCB7W0FuY2hvcl06IFBvaW50TGlrZX07XG5cbmV4cG9ydCB0eXBlIFBvcHVwT3B0aW9ucyA9IHtcbiAgICBjbG9zZUJ1dHRvbjogYm9vbGVhbixcbiAgICBjbG9zZU9uQ2xpY2s6IGJvb2xlYW4sXG4gICAgYW5jaG9yOiBBbmNob3IsXG4gICAgb2Zmc2V0OiBPZmZzZXRcbn07XG5cbi8qKlxuICogQSBwb3B1cCBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbG9zZUJ1dHRvbj10cnVlXSBJZiBgdHJ1ZWAsIGEgY2xvc2UgYnV0dG9uIHdpbGwgYXBwZWFyIGluIHRoZVxuICogICB0b3AgcmlnaHQgY29ybmVyIG9mIHRoZSBwb3B1cC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xvc2VPbkNsaWNrPXRydWVdIElmIGB0cnVlYCwgdGhlIHBvcHVwIHdpbGwgY2xvc2VkIHdoZW4gdGhlXG4gKiAgIG1hcCBpcyBjbGlja2VkLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmFuY2hvcl0gLSBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBwYXJ0IG9mIHRoZSBQb3B1cCB0aGF0IHNob3VsZFxuICogICBiZSBwb3NpdGlvbmVkIGNsb3Nlc3QgdG8gdGhlIGNvb3JkaW5hdGUgc2V0IHZpYSB7QGxpbmsgUG9wdXAjc2V0TG5nTGF0fS5cbiAqICAgT3B0aW9ucyBhcmUgYCd0b3AnYCwgYCdib3R0b20nYCwgYCdsZWZ0J2AsIGAncmlnaHQnYCwgYCd0b3AtbGVmdCdgLFxuICogICBgJ3RvcC1yaWdodCdgLCBgJ2JvdHRvbS1sZWZ0J2AsIGFuZCBgJ2JvdHRvbS1yaWdodCdgLiBJZiB1bnNldCB0aGUgYW5jaG9yIHdpbGwgYmVcbiAqICAgZHluYW1pY2FsbHkgc2V0IHRvIGVuc3VyZSB0aGUgcG9wdXAgZmFsbHMgd2l0aGluIHRoZSBtYXAgY29udGFpbmVyIHdpdGggYSBwcmVmZXJlbmNlXG4gKiAgIGZvciBgJ2JvdHRvbSdgLlxuICogQHBhcmFtIHtudW1iZXJ8UG9pbnRMaWtlfE9iamVjdH0gW29wdGlvbnMub2Zmc2V0XSAtXG4gKiAgQSBwaXhlbCBvZmZzZXQgYXBwbGllZCB0byB0aGUgcG9wdXAncyBsb2NhdGlvbiBzcGVjaWZpZWQgYXM6XG4gKiAgIC0gYSBzaW5nbGUgbnVtYmVyIHNwZWNpZnlpbmcgYSBkaXN0YW5jZSBmcm9tIHRoZSBwb3B1cCdzIGxvY2F0aW9uXG4gKiAgIC0gYSB7QGxpbmsgUG9pbnRMaWtlfSBzcGVjaWZ5aW5nIGEgY29uc3RhbnQgb2Zmc2V0XG4gKiAgIC0gYW4gb2JqZWN0IG9mIHtAbGluayBQb2ludH1zIHNwZWNpZmluZyBhbiBvZmZzZXQgZm9yIGVhY2ggYW5jaG9yIHBvc2l0aW9uXG4gKiAgTmVnYXRpdmUgb2Zmc2V0cyBpbmRpY2F0ZSBsZWZ0IGFuZCB1cC5cbiAqIEBleGFtcGxlXG4gKiB2YXIgbWFya2VySGVpZ2h0ID0gNTAsIG1hcmtlclJhZGl1cyA9IDEwLCBsaW5lYXJPZmZzZXQgPSAyNTtcbiAqIHZhciBwb3B1cE9mZnNldHMgPSB7XG4gKiAgJ3RvcCc6IFswLCAwXSxcbiAqICAndG9wLWxlZnQnOiBbMCwwXSxcbiAqICAndG9wLXJpZ2h0JzogWzAsMF0sXG4gKiAgJ2JvdHRvbSc6IFswLCAtbWFya2VySGVpZ2h0XSxcbiAqICAnYm90dG9tLWxlZnQnOiBbbGluZWFyT2Zmc2V0LCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzICsgbGluZWFyT2Zmc2V0KSAqIC0xXSxcbiAqICAnYm90dG9tLXJpZ2h0JzogWy1saW5lYXJPZmZzZXQsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMgKyBsaW5lYXJPZmZzZXQpICogLTFdLFxuICogICdsZWZ0JzogW21hcmtlclJhZGl1cywgKG1hcmtlckhlaWdodCAtIG1hcmtlclJhZGl1cykgKiAtMV0sXG4gKiAgJ3JpZ2h0JzogWy1tYXJrZXJSYWRpdXMsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMpICogLTFdXG4gKiAgfTtcbiAqIHZhciBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCh7b2Zmc2V0OnBvcHVwT2Zmc2V0c30pXG4gKiAgIC5zZXRMbmdMYXQoZS5sbmdMYXQpXG4gKiAgIC5zZXRIVE1MKFwiPGgxPkhlbGxvIFdvcmxkITwvaDE+XCIpXG4gKiAgIC5hZGRUbyhtYXApO1xuICogQHNlZSBbRGlzcGxheSBhIHBvcHVwXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLylcbiAqIEBzZWUgW0Rpc3BsYXkgYSBwb3B1cCBvbiBob3Zlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1ob3Zlci8pXG4gKiBAc2VlIFtEaXNwbGF5IGEgcG9wdXAgb24gY2xpY2tdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAtb24tY2xpY2svKVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCBleHRlbmRzIEV2ZW50ZWQge1xuICAgIF9tYXA6IE1hcDtcbiAgICBvcHRpb25zOiBQb3B1cE9wdGlvbnM7XG4gICAgX2NvbnRlbnQ6IEhUTUxFbGVtZW50O1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9jbG9zZUJ1dHRvbjogSFRNTEVsZW1lbnQ7XG4gICAgX3RpcDogSFRNTEVsZW1lbnQ7XG4gICAgX2xuZ0xhdDogTG5nTGF0O1xuICAgIF9wb3M6ID9Qb2ludDtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFBvcHVwT3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoT2JqZWN0LmNyZWF0ZShkZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICBiaW5kQWxsKFsnX3VwZGF0ZScsICdfb25DbGlja0Nsb3NlJ10sIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHBvcHVwIHRvIGEgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtNYXB9IG1hcCBUaGUgTWFwYm94IEdMIEpTIG1hcCB0byBhZGQgdGhlIHBvcHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gYHRoaXNgXG4gICAgICovXG4gICAgYWRkVG8obWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9tYXAub24oJ21vdmUnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNsb3NlT25DbGljaykge1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9uKCdjbGljaycsIHRoaXMuX29uQ2xpY2tDbG9zZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIHBvcHVwIGlzIG9wZW5lZCBtYW51YWxseSBvciBwcm9ncmFtYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBvcGVuXG4gICAgICAgICAqIEBtZW1iZXJvZiBQb3B1cFxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtQb3B1cH0gcG9wdXAgb2JqZWN0IHRoYXQgd2FzIG9wZW5lZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnb3BlbicpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBwb3B1cCBpcyBvcGVuLCBgZmFsc2VgIGlmIGl0IGlzIGNsb3NlZC5cbiAgICAgKi9cbiAgICBpc09wZW4oKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX21hcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwb3B1cCBmcm9tIHRoZSBtYXAgaXQgaGFzIGJlZW4gYWRkZWQgdG8uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpLmFkZFRvKG1hcCk7XG4gICAgICogcG9wdXAucmVtb3ZlKCk7XG4gICAgICogQHJldHVybnMge1BvcHVwfSBgdGhpc2BcbiAgICAgKi9cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lcikge1xuICAgICAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NvbnRhaW5lcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tYXApIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vZmYoJ21vdmUnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9mZignY2xpY2snLCB0aGlzLl9vbkNsaWNrQ2xvc2UpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX21hcDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBwb3B1cCBpcyBjbG9zZWQgbWFudWFsbHkgb3IgcHJvZ3JhbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgY2xvc2VcbiAgICAgICAgICogQG1lbWJlcm9mIFBvcHVwXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJvcGVydHkge1BvcHVwfSBwb3B1cCBvYmplY3QgdGhhdCB3YXMgY2xvc2VkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdjbG9zZScpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBnZW9ncmFwaGljYWwgbG9jYXRpb24gb2YgdGhlIHBvcHVwJ3MgYW5jaG9yLlxuICAgICAqXG4gICAgICogVGhlIGxvbmdpdHVkZSBvZiB0aGUgcmVzdWx0IG1heSBkaWZmZXIgYnkgYSBtdWx0aXBsZSBvZiAzNjAgZGVncmVlcyBmcm9tIHRoZSBsb25naXR1ZGUgcHJldmlvdXNseVxuICAgICAqIHNldCBieSBgc2V0TG5nTGF0YCBiZWNhdXNlIGBQb3B1cGAgd3JhcHMgdGhlIGFuY2hvciBsb25naXR1ZGUgYWNyb3NzIGNvcGllcyBvZiB0aGUgd29ybGQgdG8ga2VlcFxuICAgICAqIHRoZSBwb3B1cCBvbiBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0fSBUaGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uIG9mIHRoZSBwb3B1cCdzIGFuY2hvci5cbiAgICAgKi9cbiAgICBnZXRMbmdMYXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sbmdMYXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uIG9mIHRoZSBwb3B1cCdzIGFuY2hvciwgYW5kIG1vdmVzIHRoZSBwb3B1cCB0byBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsbmdsYXQgVGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbiB0byBzZXQgYXMgdGhlIHBvcHVwJ3MgYW5jaG9yLlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0TG5nTGF0KGxuZ2xhdDogTG5nTGF0TGlrZSkge1xuICAgICAgICB0aGlzLl9sbmdMYXQgPSBMbmdMYXQuY29udmVydChsbmdsYXQpO1xuICAgICAgICB0aGlzLl9wb3MgPSBudWxsO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9wdXAncyBjb250ZW50IHRvIGEgc3RyaW5nIG9mIHRleHQuXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYSBbVGV4dF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RleHQpIG5vZGUgaW4gdGhlIERPTSxcbiAgICAgKiBzbyBpdCBjYW5ub3QgaW5zZXJ0IHJhdyBIVE1MLiBVc2UgdGhpcyBtZXRob2QgZm9yIHNlY3VyaXR5IGFnYWluc3QgWFNTXG4gICAgICogaWYgdGhlIHBvcHVwIGNvbnRlbnQgaXMgdXNlci1wcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0ZXh0IFRleHR1YWwgY29udGVudCBmb3IgdGhlIHBvcHVwLlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcG9wdXAgPSBuZXcgbWFwYm94Z2wuUG9wdXAoKVxuICAgICAqICAgLnNldExuZ0xhdChlLmxuZ0xhdClcbiAgICAgKiAgIC5zZXRUZXh0KCdIZWxsbywgd29ybGQhJylcbiAgICAgKiAgIC5hZGRUbyhtYXApO1xuICAgICAqL1xuICAgIHNldFRleHQodGV4dDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldERPTUNvbnRlbnQod2luZG93LmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb3B1cCdzIGNvbnRlbnQgdG8gdGhlIEhUTUwgcHJvdmlkZWQgYXMgYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCBwZXJmb3JtIEhUTUwgZmlsdGVyaW5nIG9yIHNhbml0aXphdGlvbiwgYW5kIG11c3QgYmVcbiAgICAgKiB1c2VkIG9ubHkgd2l0aCB0cnVzdGVkIGNvbnRlbnQuIENvbnNpZGVyIHtAbGluayBQb3B1cCNzZXRUZXh0fSBpZlxuICAgICAqIHRoZSBjb250ZW50IGlzIGFuIHVudHJ1c3RlZCB0ZXh0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBodG1sIEEgc3RyaW5nIHJlcHJlc2VudGluZyBIVE1MIGNvbnRlbnQgZm9yIHRoZSBwb3B1cC5cbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldEhUTUwoaHRtbDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGZyYWcgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICBjb25zdCB0ZW1wID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JvZHknKTtcbiAgICAgICAgbGV0IGNoaWxkO1xuICAgICAgICB0ZW1wLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjaGlsZCA9IHRlbXAuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIGlmICghY2hpbGQpIGJyZWFrO1xuICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zZXRET01Db250ZW50KGZyYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvcHVwJ3MgY29udGVudCB0byB0aGUgZWxlbWVudCBwcm92aWRlZCBhcyBhIERPTSBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGh0bWxOb2RlIEEgRE9NIG5vZGUgdG8gYmUgdXNlZCBhcyBjb250ZW50IGZvciB0aGUgcG9wdXAuXG4gICAgICogQHJldHVybnMge1BvcHVwfSBgdGhpc2BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGNyZWF0ZSBhbiBlbGVtZW50IHdpdGggdGhlIHBvcHVwIGNvbnRlbnRcbiAgICAgKiB2YXIgZGl2ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAqIGRpdi5pbm5lckhUTUwgPSAnSGVsbG8sIHdvcmxkISc7XG4gICAgICogdmFyIHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKClcbiAgICAgKiAgIC5zZXRMbmdMYXQoZS5sbmdMYXQpXG4gICAgICogICAuc2V0RE9NQ29udGVudChkaXYpXG4gICAgICogICAuYWRkVG8obWFwKTtcbiAgICAgKi9cbiAgICBzZXRET01Db250ZW50KGh0bWxOb2RlOiBOb2RlKSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUNvbnRlbnQoKTtcbiAgICAgICAgdGhpcy5fY29udGVudC5hcHBlbmRDaGlsZChodG1sTm9kZSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ29udGVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICAgIERPTS5yZW1vdmUodGhpcy5fY29udGVudCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb250ZW50ID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLXBvcHVwLWNvbnRlbnQnLCB0aGlzLl9jb250YWluZXIpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VCdXR0b24pIHtcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gRE9NLmNyZWF0ZSgnYnV0dG9uJywgJ21hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbicsIHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0Nsb3NlIHBvcHVwJyk7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSAnJiMyMTU7JztcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGlja0Nsb3NlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFwIHx8ICF0aGlzLl9sbmdMYXQgfHwgIXRoaXMuX2NvbnRlbnQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9jb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1wb3B1cCcsIHRoaXMuX21hcC5nZXRDb250YWluZXIoKSk7XG4gICAgICAgICAgICB0aGlzLl90aXAgICAgICAgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtcG9wdXAtdGlwJywgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9jb250ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tYXAudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9sbmdMYXQgPSBzbWFydFdyYXAodGhpcy5fbG5nTGF0LCB0aGlzLl9wb3MsIHRoaXMuX21hcC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5fcG9zID0gdGhpcy5fbWFwLnByb2plY3QodGhpcy5fbG5nTGF0KTtcblxuICAgICAgICBsZXQgYW5jaG9yOiBBbmNob3IgPSB0aGlzLm9wdGlvbnMuYW5jaG9yO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBub3JtYWxpemVPZmZzZXQodGhpcy5vcHRpb25zLm9mZnNldCk7XG5cbiAgICAgICAgaWYgKCFhbmNob3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5fY29udGFpbmVyLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIGxldCBhbmNob3JDb21wb25lbnRzO1xuXG4gICAgICAgICAgICBpZiAocG9zLnkgKyBvZmZzZXQuYm90dG9tLnkgPCBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBhbmNob3JDb21wb25lbnRzID0gWyd0b3AnXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zLnkgPiB0aGlzLl9tYXAudHJhbnNmb3JtLmhlaWdodCAtIGhlaWdodCkge1xuICAgICAgICAgICAgICAgIGFuY2hvckNvbXBvbmVudHMgPSBbJ2JvdHRvbSddO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmNob3JDb21wb25lbnRzID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwb3MueCA8IHdpZHRoIC8gMikge1xuICAgICAgICAgICAgICAgIGFuY2hvckNvbXBvbmVudHMucHVzaCgnbGVmdCcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwb3MueCA+IHRoaXMuX21hcC50cmFuc2Zvcm0ud2lkdGggLSB3aWR0aCAvIDIpIHtcbiAgICAgICAgICAgICAgICBhbmNob3JDb21wb25lbnRzLnB1c2goJ3JpZ2h0Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhbmNob3JDb21wb25lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFuY2hvciA9ICdib3R0b20nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmNob3IgPSAoYW5jaG9yQ29tcG9uZW50cy5qb2luKCctJyk6IGFueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvZmZzZXRlZFBvcyA9IHBvcy5hZGQob2Zmc2V0W2FuY2hvcl0pLnJvdW5kKCk7XG5cbiAgICAgICAgRE9NLnNldFRyYW5zZm9ybSh0aGlzLl9jb250YWluZXIsIGAke2FuY2hvclRyYW5zbGF0ZVthbmNob3JdfSB0cmFuc2xhdGUoJHtvZmZzZXRlZFBvcy54fXB4LCR7b2Zmc2V0ZWRQb3MueX1weClgKTtcbiAgICAgICAgYXBwbHlBbmNob3JDbGFzcyh0aGlzLl9jb250YWluZXIsIGFuY2hvciwgJ3BvcHVwJyk7XG4gICAgfVxuXG4gICAgX29uQ2xpY2tDbG9zZSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU9mZnNldChvZmZzZXQ6ID9PZmZzZXQpIHtcbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplT2Zmc2V0KG5ldyBQb2ludCgwLCAwKSk7XG5cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvZmZzZXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIC8vIGlucHV0IHNwZWNpZmllcyBhIHJhZGl1cyBmcm9tIHdoaWNoIHRvIGNhbGN1bGF0ZSBvZmZzZXRzIGF0IGFsbCBwb3NpdGlvbnNcbiAgICAgICAgY29uc3QgY29ybmVyT2Zmc2V0ID0gTWF0aC5yb3VuZChNYXRoLnNxcnQoMC41ICogTWF0aC5wb3cob2Zmc2V0LCAyKSkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ2NlbnRlcic6IG5ldyBQb2ludCgwLCAwKSxcbiAgICAgICAgICAgICd0b3AnOiBuZXcgUG9pbnQoMCwgb2Zmc2V0KSxcbiAgICAgICAgICAgICd0b3AtbGVmdCc6IG5ldyBQb2ludChjb3JuZXJPZmZzZXQsIGNvcm5lck9mZnNldCksXG4gICAgICAgICAgICAndG9wLXJpZ2h0JzogbmV3IFBvaW50KC1jb3JuZXJPZmZzZXQsIGNvcm5lck9mZnNldCksXG4gICAgICAgICAgICAnYm90dG9tJzogbmV3IFBvaW50KDAsIC1vZmZzZXQpLFxuICAgICAgICAgICAgJ2JvdHRvbS1sZWZ0JzogbmV3IFBvaW50KGNvcm5lck9mZnNldCwgLWNvcm5lck9mZnNldCksXG4gICAgICAgICAgICAnYm90dG9tLXJpZ2h0JzogbmV3IFBvaW50KC1jb3JuZXJPZmZzZXQsIC1jb3JuZXJPZmZzZXQpLFxuICAgICAgICAgICAgJ2xlZnQnOiBuZXcgUG9pbnQob2Zmc2V0LCAwKSxcbiAgICAgICAgICAgICdyaWdodCc6IG5ldyBQb2ludCgtb2Zmc2V0LCAwKVxuICAgICAgICB9O1xuXG4gICAgfSBlbHNlIGlmIChvZmZzZXQgaW5zdGFuY2VvZiBQb2ludCB8fCBBcnJheS5pc0FycmF5KG9mZnNldCkpIHtcbiAgICAgICAgLy8gaW5wdXQgc3BlY2lmaWVzIGEgc2luZ2xlIG9mZnNldCB0byBiZSBhcHBsaWVkIHRvIGFsbCBwb3NpdGlvbnNcbiAgICAgICAgY29uc3QgY29udmVydGVkT2Zmc2V0ID0gUG9pbnQuY29udmVydChvZmZzZXQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ2NlbnRlcic6IGNvbnZlcnRlZE9mZnNldCxcbiAgICAgICAgICAgICd0b3AnOiBjb252ZXJ0ZWRPZmZzZXQsXG4gICAgICAgICAgICAndG9wLWxlZnQnOiBjb252ZXJ0ZWRPZmZzZXQsXG4gICAgICAgICAgICAndG9wLXJpZ2h0JzogY29udmVydGVkT2Zmc2V0LFxuICAgICAgICAgICAgJ2JvdHRvbSc6IGNvbnZlcnRlZE9mZnNldCxcbiAgICAgICAgICAgICdib3R0b20tbGVmdCc6IGNvbnZlcnRlZE9mZnNldCxcbiAgICAgICAgICAgICdib3R0b20tcmlnaHQnOiBjb252ZXJ0ZWRPZmZzZXQsXG4gICAgICAgICAgICAnbGVmdCc6IGNvbnZlcnRlZE9mZnNldCxcbiAgICAgICAgICAgICdyaWdodCc6IGNvbnZlcnRlZE9mZnNldFxuICAgICAgICB9O1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW5wdXQgc3BlY2lmaWVzIGFuIG9mZnNldCBwZXIgcG9zaXRpb25cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdjZW50ZXInOiBQb2ludC5jb252ZXJ0KG9mZnNldFsnY2VudGVyJ10gfHwgWzAsIDBdKSxcbiAgICAgICAgICAgICd0b3AnOiBQb2ludC5jb252ZXJ0KG9mZnNldFsndG9wJ10gfHwgWzAsIDBdKSxcbiAgICAgICAgICAgICd0b3AtbGVmdCc6IFBvaW50LmNvbnZlcnQob2Zmc2V0Wyd0b3AtbGVmdCddIHx8IFswLCAwXSksXG4gICAgICAgICAgICAndG9wLXJpZ2h0JzogUG9pbnQuY29udmVydChvZmZzZXRbJ3RvcC1yaWdodCddIHx8IFswLCAwXSksXG4gICAgICAgICAgICAnYm90dG9tJzogUG9pbnQuY29udmVydChvZmZzZXRbJ2JvdHRvbSddIHx8IFswLCAwXSksXG4gICAgICAgICAgICAnYm90dG9tLWxlZnQnOiBQb2ludC5jb252ZXJ0KG9mZnNldFsnYm90dG9tLWxlZnQnXSB8fCBbMCwgMF0pLFxuICAgICAgICAgICAgJ2JvdHRvbS1yaWdodCc6IFBvaW50LmNvbnZlcnQob2Zmc2V0Wydib3R0b20tcmlnaHQnXSB8fCBbMCwgMF0pLFxuICAgICAgICAgICAgJ2xlZnQnOiBQb2ludC5jb252ZXJ0KG9mZnNldFsnbGVmdCddIHx8IFswLCAwXSksXG4gICAgICAgICAgICAncmlnaHQnOiBQb2ludC5jb252ZXJ0KG9mZnNldFsncmlnaHQnXSB8fCBbMCwgMF0pXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHN1cHBvcnRlZCBmcm9tICdAbWFwYm94L21hcGJveC1nbC1zdXBwb3J0ZWQnO1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi4vcGFja2FnZS5qc29uJztcbmltcG9ydCBNYXAgZnJvbSAnLi91aS9tYXAnO1xuaW1wb3J0IE5hdmlnYXRpb25Db250cm9sIGZyb20gJy4vdWkvY29udHJvbC9uYXZpZ2F0aW9uX2NvbnRyb2wnO1xuaW1wb3J0IEdlb2xvY2F0ZUNvbnRyb2wgZnJvbSAnLi91aS9jb250cm9sL2dlb2xvY2F0ZV9jb250cm9sJztcbmltcG9ydCBBdHRyaWJ1dGlvbkNvbnRyb2wgZnJvbSAnLi91aS9jb250cm9sL2F0dHJpYnV0aW9uX2NvbnRyb2wnO1xuaW1wb3J0IFNjYWxlQ29udHJvbCBmcm9tICcuL3VpL2NvbnRyb2wvc2NhbGVfY29udHJvbCc7XG5pbXBvcnQgRnVsbHNjcmVlbkNvbnRyb2wgZnJvbSAnLi91aS9jb250cm9sL2Z1bGxzY3JlZW5fY29udHJvbCc7XG5pbXBvcnQgUG9wdXAgZnJvbSAnLi91aS9wb3B1cCc7XG5pbXBvcnQgTWFya2VyIGZyb20gJy4vdWkvbWFya2VyJztcbmltcG9ydCBTdHlsZSBmcm9tICcuL3N0eWxlL3N0eWxlJztcbmltcG9ydCBMbmdMYXQgZnJvbSAnLi9nZW8vbG5nX2xhdCc7XG5pbXBvcnQgTG5nTGF0Qm91bmRzIGZyb20gJy4vZ2VvL2xuZ19sYXRfYm91bmRzJztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCBjb25maWcgZnJvbSAnLi91dGlsL2NvbmZpZyc7XG5pbXBvcnQge3NldFJUTFRleHRQbHVnaW59IGZyb20gJy4vc291cmNlL3J0bF90ZXh0X3BsdWdpbic7XG5cbmNvbnN0IGV4cG9ydGVkID0ge1xuICAgIHZlcnNpb24sXG4gICAgc3VwcG9ydGVkLFxuICAgIHdvcmtlckNvdW50OiBNYXRoLm1heChNYXRoLmZsb29yKGJyb3dzZXIuaGFyZHdhcmVDb25jdXJyZW5jeSAvIDIpLCAxKSxcbiAgICBzZXRSVExUZXh0UGx1Z2luOiBzZXRSVExUZXh0UGx1Z2luLFxuICAgIE1hcCxcbiAgICBOYXZpZ2F0aW9uQ29udHJvbCxcbiAgICBHZW9sb2NhdGVDb250cm9sLFxuICAgIEF0dHJpYnV0aW9uQ29udHJvbCxcbiAgICBTY2FsZUNvbnRyb2wsXG4gICAgRnVsbHNjcmVlbkNvbnRyb2wsXG4gICAgUG9wdXAsXG4gICAgTWFya2VyLFxuICAgIFN0eWxlLFxuICAgIExuZ0xhdCxcbiAgICBMbmdMYXRCb3VuZHMsXG4gICAgUG9pbnQsXG4gICAgY29uZmlnLFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbmQgc2V0cyB0aGUgbWFwJ3MgW2FjY2VzcyB0b2tlbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9oZWxwL2RlZmluZS1hY2Nlc3MtdG9rZW4vKS5cbiAgICAgKlxuICAgICAqIEB2YXIge3N0cmluZ30gYWNjZXNzVG9rZW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcGJveGdsLmFjY2Vzc1Rva2VuID0gbXlBY2Nlc3NUb2tlbjtcbiAgICAgKiBAc2VlIFtEaXNwbGF5IGEgbWFwXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlcy8pXG4gICAgICovXG4gICAgZ2V0IGFjY2Vzc1Rva2VuKCkge1xuICAgICAgICByZXR1cm4gY29uZmlnLkFDQ0VTU19UT0tFTjtcbiAgICB9LFxuXG4gICAgc2V0IGFjY2Vzc1Rva2VuKHRva2VuOiBzdHJpbmcpIHtcbiAgICAgICAgY29uZmlnLkFDQ0VTU19UT0tFTiA9IHRva2VuO1xuICAgIH0sXG5cbiAgICB3b3JrZXJVcmw6ICcnXG59O1xuXG4vKipcbiAqIFRoZSB2ZXJzaW9uIG9mIE1hcGJveCBHTCBKUyBpbiB1c2UgYXMgc3BlY2lmaWVkIGluIGBwYWNrYWdlLmpzb25gLFxuICogYENIQU5HRUxPRy5tZGAsIGFuZCB0aGUgR2l0SHViIHJlbGVhc2UuXG4gKlxuICogQHZhciB7c3RyaW5nfSB2ZXJzaW9uXG4gKi9cblxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgdGhlIGJyb3dzZXIgW3N1cHBvcnRzIE1hcGJveCBHTCBKU10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9oZWxwL21hcGJveC1icm93c2VyLXN1cHBvcnQvI21hcGJveC1nbC1qcykuXG4gKlxuICogQGZ1bmN0aW9uIHN1cHBvcnRlZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PWZhbHNlXSBJZiBgdHJ1ZWAsXG4gKiAgIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiBgZmFsc2VgIGlmIHRoZSBwZXJmb3JtYW5jZSBvZiBNYXBib3ggR0wgSlMgd291bGRcbiAqICAgYmUgZHJhbWF0aWNhbGx5IHdvcnNlIHRoYW4gZXhwZWN0ZWQgKGUuZy4gYSBzb2Z0d2FyZSBXZWJHTCByZW5kZXJlciB3b3VsZCBiZSB1c2VkKS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiBAZXhhbXBsZVxuICogbWFwYm94Z2wuc3VwcG9ydGVkKCkgLy8gPSB0cnVlXG4gKiBAc2VlIFtDaGVjayBmb3IgYnJvd3NlciBzdXBwb3J0XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NoZWNrLWZvci1zdXBwb3J0LylcbiAqL1xuXG4vKipcbiAqIFNldHMgdGhlIG1hcCdzIFtSVEwgdGV4dCBwbHVnaW5dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3BsdWdpbnMvI21hcGJveC1nbC1ydGwtdGV4dCkuXG4gKiBOZWNlc3NhcnkgZm9yIHN1cHBvcnRpbmcgbGFuZ3VhZ2VzIGxpa2UgQXJhYmljIGFuZCBIZWJyZXcgdGhhdCBhcmUgd3JpdHRlbiByaWdodC10by1sZWZ0LlxuICpcbiAqIEBmdW5jdGlvbiBzZXRSVExUZXh0UGx1Z2luXG4gKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luVVJMIFVSTCBwb2ludGluZyB0byB0aGUgTWFwYm94IFJUTCB0ZXh0IHBsdWdpbiBzb3VyY2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgd2l0aCBhbiBlcnJvciBhcmd1bWVudCBpZiB0aGVyZSBpcyBhbiBlcnJvci5cbiAqIEBleGFtcGxlXG4gKiBtYXBib3hnbC5zZXRSVExUZXh0UGx1Z2luKCdodHRwczovL2FwaS5tYXBib3guY29tL21hcGJveC1nbC1qcy9wbHVnaW5zL21hcGJveC1nbC1ydGwtdGV4dC92MC4xLjEvbWFwYm94LWdsLXJ0bC10ZXh0LmpzJyk7XG4gKiBAc2VlIFtBZGQgc3VwcG9ydCBmb3IgcmlnaHQtdG8tbGVmdCBzY3JpcHRzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL21hcGJveC1nbC1ydGwtdGV4dC8pXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZXhwb3J0ZWQ7XG5cbi8vIGNhbmFyeSBhc3NlcnQ6IHVzZWQgdG8gY29uZmlybSB0aGF0IGFzc2VydHMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSBwcm9kdWN0aW9uIGJ1aWxkXG5hc3NlcnQodHJ1ZSwgJ2NhbmFyeSBhc3NlcnQnKTtcbiJdLCJuYW1lcyI6WyJpc1N1cHBvcnRlZCIsIm9wdGlvbnMiLCJ3aW5kb3ciLCJkb2N1bWVudCIsIkFycmF5IiwicHJvdG90eXBlIiwiZXZlcnkiLCJmaWx0ZXIiLCJmb3JFYWNoIiwiaW5kZXhPZiIsImxhc3RJbmRleE9mIiwibWFwIiwic29tZSIsInJlZHVjZSIsInJlZHVjZVJpZ2h0IiwiaXNBcnJheSIsIkZ1bmN0aW9uIiwiYmluZCIsIk9iamVjdCIsImtleXMiLCJjcmVhdGUiLCJnZXRQcm90b3R5cGVPZiIsImdldE93blByb3BlcnR5TmFtZXMiLCJpc1NlYWxlZCIsImlzRnJvemVuIiwiaXNFeHRlbnNpYmxlIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZGVmaW5lUHJvcGVydHkiLCJkZWZpbmVQcm9wZXJ0aWVzIiwic2VhbCIsImZyZWV6ZSIsInByZXZlbnRFeHRlbnNpb25zIiwiSlNPTiIsInN1cHBvcnRlZCIsIndvcmtlciIsImJsb2IiLCJCbG9iIiwidHlwZSIsIndvcmtlclVSTCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIldvcmtlciIsImUiLCJ0ZXJtaW5hdGUiLCJyZXZva2VPYmplY3RVUkwiLCJpc1dvcmtlclN1cHBvcnRlZCIsImZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQiLCJ1bmRlZmluZWQiLCJpc1dlYkdMU3VwcG9ydGVkQ2FjaGUiLCJjYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIndlYkdMQ29udGV4dEF0dHJpYnV0ZXMiLCJwcm9iYWJseVN1cHBvcnRzQ29udGV4dCIsInN1cHBvcnRzQ29udGV4dCIsImdldENvbnRleHQiLCJpc1dlYkdMU3VwcG9ydGVkIiwiaXNXZWJHTFN1cHBvcnRlZENhY2hlZCIsIm1vZHVsZSIsImV4cG9ydHMiLCJtYXBib3hnbCIsImFudGlhbGlhcyIsImFscGhhIiwic3RlbmNpbCIsImRlcHRoIiwibm93IiwicGVyZm9ybWFuY2UiLCJEYXRlIiwicmFmIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWwiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtc0NhbmNlbEFuaW1hdGlvbkZyYW1lIiwiZXhwb3J0ZWQiLCJmcmFtZSIsImZuIiwiY2FuY2VsRnJhbWUiLCJpZCIsImdldEltYWdlRGF0YSIsImltZyIsImNvbnN0IiwiY29udGV4dCIsIkVycm9yIiwid2lkdGgiLCJoZWlnaHQiLCJkcmF3SW1hZ2UiLCJoYXJkd2FyZUNvbmN1cnJlbmN5IiwibmF2aWdhdG9yIiwiZGV2aWNlUGl4ZWxSYXRpbyIsInN1cHBvcnRzV2VicCIsIndlYnBJbWdUZXN0Iiwib25sb2FkIiwic3JjIiwiRE9NIiwidGFnTmFtZSIsImNsYXNzTmFtZSIsImNvbnRhaW5lciIsImVsIiwiYXBwZW5kQ2hpbGQiLCJuYW1lc3BhY2VVUkkiLCJjcmVhdGVFbGVtZW50TlMiLCJkb2NTdHlsZSIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwidGVzdFByb3AiLCJwcm9wcyIsImxldCIsImkiLCJsZW5ndGgiLCJ1c2VyU2VsZWN0Iiwic2VsZWN0UHJvcCIsImRpc2FibGVEcmFnIiwiZW5hYmxlRHJhZyIsInRyYW5zZm9ybVByb3AiLCJzZXRUcmFuc2Zvcm0iLCJ2YWx1ZSIsInBhc3NpdmVTdXBwb3J0ZWQiLCJnZXQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImVyciIsInRhcmdldCIsImNhbGxiYWNrIiwiY2FwdHVyZSIsInN1cHByZXNzQ2xpY2siLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInNldFRpbWVvdXQiLCJtb3VzZVBvcyIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3VjaGVzIiwiUG9pbnQiLCJjbGllbnRYIiwibGVmdCIsImNsaWVudExlZnQiLCJjbGllbnRZIiwidG9wIiwiY2xpZW50VG9wIiwidG91Y2hQb3MiLCJwb2ludHMiLCJjaGFuZ2VkVG91Y2hlcyIsInB1c2giLCJtb3VzZUJ1dHRvbiIsIkluc3RhbGxUcmlnZ2VyIiwiYnV0dG9uIiwiY3RybEtleSIsInBsYXRmb3JtIiwidG9VcHBlckNhc2UiLCJyZW1vdmUiLCJub2RlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiY29uZmlnIiwiQVBJX1VSTCIsIlJFUVVJUkVfQUNDRVNTX1RPS0VOIiwiQUNDRVNTX1RPS0VOIiwiaGVscCIsIm1ha2VBUElVUkwiLCJ1cmxPYmplY3QiLCJhY2Nlc3NUb2tlbiIsImFwaVVybE9iamVjdCIsInBhcnNlVXJsIiwicHJvdG9jb2wiLCJhdXRob3JpdHkiLCJwYXRoIiwiZm9ybWF0VXJsIiwicGFyYW1zIiwiaXNNYXBib3hVUkwiLCJ1cmwiLCJub3JtYWxpemVHbHlwaHNVUkwiLCJub3JtYWxpemVTb3VyY2VVUkwiLCJub3JtYWxpemVTcHJpdGVVUkwiLCJmb3JtYXQiLCJleHRlbnNpb24iLCJpbWFnZUV4dGVuc2lvblJlIiwibm9ybWFsaXplVGlsZVVSTCIsInRpbGVVUkwiLCJzb3VyY2VVUkwiLCJ0aWxlU2l6ZSIsInN1ZmZpeCIsImJyb3dzZXIiLCJyZXBsYWNlIiwicmVwbGFjZVRlbXBBY2Nlc3NUb2tlbiIsInVybFJlIiwicGFydHMiLCJtYXRjaCIsInNwbGl0Iiwib2JqIiwiam9pbiIsIkhUTUxJbWFnZUVsZW1lbnQiLCJIVE1MQ2FudmFzRWxlbWVudCIsIkhUTUxWaWRlb0VsZW1lbnQiLCJJbWFnZURhdGEiLCJUZXh0dXJlIiwiaW1hZ2UiLCJwcmVtdWx0aXBseSIsInRoaXMiLCJzaXplIiwidGV4dHVyZSIsImdsIiwiY3JlYXRlVGV4dHVyZSIsInVwZGF0ZSIsImJpbmRUZXh0dXJlIiwiVEVYVFVSRV8yRCIsInBpeGVsU3RvcmVVbnBhY2siLCJzZXQiLCJSR0JBIiwicGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEiLCJ0ZXhJbWFnZTJEIiwiVU5TSUdORURfQllURSIsImRhdGEiLCJ3cmFwIiwibWluRmlsdGVyIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIlRFWFRVUkVfTUlOX0ZJTFRFUiIsIlRFWFRVUkVfV1JBUF9TIiwiVEVYVFVSRV9XUkFQX1QiLCJkZXN0cm95IiwiZGVsZXRlVGV4dHVyZSIsIkltYWdlTWFuYWdlciIsImltYWdlcyIsImxvYWRlZCIsInJlcXVlc3RvcnMiLCJzaGVsZlBhY2siLCJTaGVsZlBhY2siLCJhdXRvUmVzaXplIiwicGF0dGVybnMiLCJhdGxhc0ltYWdlIiwiUkdCQUltYWdlIiwiZGlydHkiLCJpc0xvYWRlZCIsInNldExvYWRlZCIsInJlZiIsImlkcyIsIl9ub3RpZnkiLCJnZXRJbWFnZSIsImFkZEltYWdlIiwicmVtb3ZlSW1hZ2UiLCJwYXR0ZXJuIiwidW5yZWYiLCJiaW4iLCJnZXRJbWFnZXMiLCJoYXNBbGxEZXBlbmRlbmNpZXMiLCJyZXNwb25zZSIsImNsb25lIiwicGl4ZWxSYXRpbyIsInNkZiIsImdldFBpeGVsU2l6ZSIsInciLCJoIiwiZ2V0UGF0dGVybiIsInBvc2l0aW9uIiwicGFkZGluZyIsInBhY2tPbmUiLCJyZXNpemUiLCJkc3QiLCJ4IiwieSIsImNvcHkiLCJJbWFnZVBvc2l0aW9uIiwiYXRsYXNUZXh0dXJlIiwiTElORUFSIiwiQ0xBTVBfVE9fRURHRSIsIlRpbnlTREYiLCJJTkYiLCJmb250U2l6ZSIsImJ1ZmZlciIsInJhZGl1cyIsImN1dG9mZiIsImZvbnRGYW1pbHkiLCJmb250V2VpZ2h0IiwiY3R4IiwiZm9udCIsInRleHRCYXNlbGluZSIsImZpbGxTdHlsZSIsImdyaWRPdXRlciIsIkZsb2F0NjRBcnJheSIsImdyaWRJbm5lciIsImYiLCJkIiwieiIsInYiLCJJbnQxNkFycmF5IiwibWlkZGxlIiwiTWF0aCIsInJvdW5kIiwidXNlckFnZW50IiwiZWR0IiwiZWR0MWQiLCJzcXJ0IiwibiIsInEiLCJrIiwicyIsImRyYXciLCJjaGFyIiwiY2xlYXJSZWN0IiwiZmlsbFRleHQiLCJpbWdEYXRhIiwiYWxwaGFDaGFubmVsIiwiVWludDhDbGFtcGVkQXJyYXkiLCJhIiwicG93IiwibWF4IiwibWluIiwiR2x5cGhNYW5hZ2VyIiwicmVxdWVzdFRyYW5zZm9ybSIsImxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSIsImVudHJpZXMiLCJzZXRVUkwiLCJnZXRHbHlwaHMiLCJnbHlwaHMiLCJhbGwiLCJzdGFjayIsImFzeW5jQWxsIiwiZW50cnkiLCJyZXF1ZXN0cyIsImdseXBoIiwiX3RpbnlTREYiLCJyYW5nZSIsImZsb29yIiwibG9hZEdseXBoUmFuZ2UiLCJjYiIsInJlc3VsdCIsImJpdG1hcCIsIm1ldHJpY3MiLCJmYW1pbHkiLCJpc0NoYXIiLCJ0aW55U0RGIiwidGVzdCIsIkFscGhhSW1hZ2UiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJhZHZhbmNlIiwiTGlnaHRQb3NpdGlvblByb3BlcnR5Iiwic3BlY2lmaWNhdGlvbiIsInN0eWxlU3BlYyIsImxpZ2h0IiwicG9zc2libHlFdmFsdWF0ZSIsInBhcmFtZXRlcnMiLCJzcGhlcmljYWxUb0NhcnRlc2lhbiIsImV4cHJlc3Npb24iLCJldmFsdWF0ZSIsImludGVycG9sYXRlIiwiYiIsInQiLCJwcm9wZXJ0aWVzIiwiUHJvcGVydGllcyIsImFuY2hvciIsIkRhdGFDb25zdGFudFByb3BlcnR5IiwiY29sb3IiLCJpbnRlbnNpdHkiLCJMaWdodCIsImxpZ2h0T3B0aW9ucyIsInN1cGVyIiwiX3RyYW5zaXRpb25hYmxlIiwiVHJhbnNpdGlvbmFibGUiLCJzZXRMaWdodCIsIl90cmFuc2l0aW9uaW5nIiwidW50cmFuc2l0aW9uZWQiLCJnZXRMaWdodCIsInNlcmlhbGl6ZSIsIl92YWxpZGF0ZSIsInZhbGlkYXRlTGlnaHQiLCJuYW1lIiwiZW5kc1dpdGgiLCJzZXRUcmFuc2l0aW9uIiwic2xpY2UiLCJzZXRWYWx1ZSIsInVwZGF0ZVRyYW5zaXRpb25zIiwidHJhbnNpdGlvbmVkIiwiaGFzVHJhbnNpdGlvbiIsInJlY2FsY3VsYXRlIiwidmFsaWRhdGUiLCJlbWl0VmFsaWRhdGlvbkVycm9ycyIsImNhbGwiLCJ2YWxpZGF0ZVN0eWxlIiwiZXh0ZW5kIiwic3ByaXRlIiwiRXZlbnRlZCIsIkxpbmVBdGxhcyIsIm5leHRSb3ciLCJieXRlcyIsIlVpbnQ4QXJyYXkiLCJwb3NpdGlvbnMiLCJnZXREYXNoIiwiZGFzaGFycmF5Iiwia2V5IiwiYWRkRGFzaCIsIndhcm5PbmNlIiwic3RyZXRjaCIsImhhbGZXaWR0aCIsIm9kZExlbmd0aCIsInJvdyIsImluZGV4IiwicmlnaHQiLCJwYXJ0SW5kZXgiLCJkaXN0TGVmdCIsImFicyIsImRpc3RSaWdodCIsImRpc3QiLCJpbnNpZGUiLCJzaWduZWREaXN0YW5jZSIsImRpc3RNaWRkbGUiLCJkaXN0RWRnZSIsInBvcyIsInRleFN1YkltYWdlMkQiLCJSRVBFQVQiLCJEaXNwYXRjaGVyIiwid29ya2VyUG9vbCIsInBhcmVudCIsImFjdG9ycyIsImN1cnJlbnRBY3RvciIsInVuaXF1ZUlkIiwid29ya2VycyIsImFjcXVpcmUiLCJhY3RvciIsIkFjdG9yIiwiYnJvYWRjYXN0IiwiZG9uZSIsInNlbmQiLCJ0YXJnZXRJRCIsImlzTmFOIiwicmVsZWFzZSIsIkxuZ0xhdCIsImxuZyIsImxhdCIsInRvQXJyYXkiLCJ0b1N0cmluZyIsInRvQm91bmRzIiwibGF0QWNjdXJhY3kiLCJsbmdBY2N1cmFjeSIsImNvcyIsIlBJIiwiTG5nTGF0Qm91bmRzIiwiY29udmVydCIsImlucHV0IiwiTnVtYmVyIiwic3ciLCJuZSIsInNldFNvdXRoV2VzdCIsInNldE5vcnRoRWFzdCIsIl9uZSIsIl9zdyIsInN3MiIsIm5lMiIsImdldENlbnRlciIsImdldFNvdXRoV2VzdCIsImdldE5vcnRoRWFzdCIsImdldE5vcnRoV2VzdCIsImdldFdlc3QiLCJnZXROb3J0aCIsImdldFNvdXRoRWFzdCIsImdldEVhc3QiLCJnZXRTb3V0aCIsImlzRW1wdHkiLCJUaWxlQm91bmRzIiwiYm91bmRzIiwibWluem9vbSIsIm1heHpvb20iLCJ2YWxpZGF0ZUJvdW5kcyIsImNvbnRhaW5zIiwidGlsZUlEIiwibGV2ZWwiLCJsbmdYIiwibGF0WSIsImNlaWwiLCJ6b29tIiwiY2xhbXAiLCJzaW4iLCJzY2FsZSIsImxvZyIsIlZlY3RvclRpbGVTb3VyY2UiLCJkaXNwYXRjaGVyIiwiZXZlbnRlZFBhcmVudCIsInNjaGVtZSIsInJlcGFyc2VPdmVyc2NhbGVkIiwiaXNUaWxlQ2xpcHBlZCIsInBpY2siLCJfb3B0aW9ucyIsIl9jb2xsZWN0UmVzb3VyY2VUaW1pbmciLCJjb2xsZWN0UmVzb3VyY2VUaW1pbmciLCJzZXRFdmVudGVkUGFyZW50IiwibG9hZCIsImZpcmUiLCJFdmVudCIsImRhdGFUeXBlIiwibG9hZFRpbGVKU09OIiwiX3RyYW5zZm9ybVJlcXVlc3QiLCJ0aWxlSlNPTiIsIkVycm9yRXZlbnQiLCJ0aWxlQm91bmRzIiwic291cmNlRGF0YVR5cGUiLCJoYXNUaWxlIiwiY2Fub25pY2FsIiwib25BZGQiLCJsb2FkVGlsZSIsInRpbGUiLCJvdmVyc2NhbGluZyIsIm92ZXJzY2FsZUZhY3RvciIsIm5vcm1hbGl6ZVVSTCIsInRpbGVzIiwicmVxdWVzdCIsIlJlc291cmNlVHlwZSIsIlRpbGUiLCJ1aWQiLCJvdmVyc2NhbGVkWiIsInNvdXJjZSIsInNob3dDb2xsaXNpb25Cb3hlcyIsImFib3J0ZWQiLCJyZXNvdXJjZVRpbWluZyIsIl9yZWZyZXNoRXhwaXJlZFRpbGVzIiwic2V0RXhwaXJ5RGF0YSIsImxvYWRWZWN0b3JEYXRhIiwicGFpbnRlciIsInJlbG9hZENhbGxiYWNrIiwid29ya2VySUQiLCJzdGF0ZSIsImFib3J0VGlsZSIsInVubG9hZFRpbGUiLCJ1bmxvYWRWZWN0b3JEYXRhIiwiUmFzdGVyVGlsZVNvdXJjZSIsInJvdW5kWm9vbSIsIl9sb2FkZWQiLCJjYWNoZUNvbnRyb2wiLCJleHBpcmVzIiwiZ2V0VGlsZVRleHR1cmUiLCJMSU5FQVJfTUlQTUFQX05FQVJFU1QiLCJleHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMiLCJ0ZXhQYXJhbWV0ZXJmIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJleHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXgiLCJnZW5lcmF0ZU1pcG1hcCIsImFib3J0Iiwic2F2ZVRpbGVUZXh0dXJlIiwiUmFzdGVyREVNVGlsZVNvdXJjZSIsImVuY29kaW5nIiwicmF3SW1hZ2VEYXRhIiwiY29vcmQiLCJkZW0iLCJuZWVkc0hpbGxzaGFkZVByZXBhcmUiLCJuZWlnaGJvcmluZ1RpbGVzIiwiX2dldE5laWdoYm9yaW5nVGlsZXMiLCJkaW0iLCJweCIsInB4dyIsIm54Iiwibnh3IiwiT3ZlcnNjYWxlZFRpbGVJRCIsImJhY2tmaWxsZWQiLCJkZW1UZXh0dXJlIiwiZmJvIiwiR2VvSlNPTlNvdXJjZSIsIl9yZW1vdmVkIiwiX2RhdGEiLCJfcmVzb3VyY2VUaW1pbmciLCJFWFRFTlQiLCJ3b3JrZXJPcHRpb25zIiwiY2x1c3RlciIsImdlb2pzb25WdE9wdGlvbnMiLCJ0b2xlcmFuY2UiLCJleHRlbnQiLCJtYXhab29tIiwic3VwZXJjbHVzdGVyT3B0aW9ucyIsImNsdXN0ZXJNYXhab29tIiwiY2x1c3RlclJhZGl1cyIsIl91cGRhdGVXb3JrZXJEYXRhIiwic2V0RGF0YSIsImhyZWYiLCJTb3VyY2UiLCJzdHJpbmdpZnkiLCJhYmFuZG9uZWQiLCJtZXNzYWdlIiwib25SZW1vdmUiLCJWZXJ0ZXhBcnJheU9iamVjdCIsImJvdW5kUHJvZ3JhbSIsImJvdW5kTGF5b3V0VmVydGV4QnVmZmVyIiwiYm91bmRQYWludFZlcnRleEJ1ZmZlcnMiLCJib3VuZEluZGV4QnVmZmVyIiwiYm91bmRWZXJ0ZXhPZmZzZXQiLCJib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXIiLCJ2YW8iLCJwcm9ncmFtIiwibGF5b3V0VmVydGV4QnVmZmVyIiwicGFpbnRWZXJ0ZXhCdWZmZXJzIiwiaW5kZXhCdWZmZXIiLCJ2ZXJ0ZXhPZmZzZXQiLCJkeW5hbWljVmVydGV4QnVmZmVyIiwiZHluYW1pY1ZlcnRleEJ1ZmZlcjIiLCJwYWludEJ1ZmZlcnNEaWZmZXIiLCJpc0ZyZXNoQmluZFJlcXVpcmVkIiwiYm91bmREeW5hbWljVmVydGV4QnVmZmVyMiIsImV4dFZlcnRleEFycmF5T2JqZWN0IiwiZnJlc2hCaW5kIiwiYmluZFZlcnRleEFycmF5T0VTIiwiZHluYW1pY0RyYXciLCJudW1QcmV2QXR0cmlidXRlcyIsIm51bU5leHRBdHRyaWJ1dGVzIiwibnVtQXR0cmlidXRlcyIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwiY3VycmVudE51bUF0dHJpYnV0ZXMiLCJkaXNhYmxlVmVydGV4QXR0cmliQXJyYXkiLCJlbmFibGVBdHRyaWJ1dGVzIiwic2V0VmVydGV4QXR0cmliUG9pbnRlcnMiLCJ2ZXJ0ZXhCdWZmZXIiLCJ2ZXJ0ZXhCdWZmZXIkMSIsImRlbGV0ZVZlcnRleEFycmF5T0VTIiwiSW1hZ2VTb3VyY2UiLCJjb29yZGluYXRlcyIsIkltYWdlIiwiX2ZpbmlzaExvYWRpbmciLCJzZXRDb29yZGluYXRlcyIsImNvcm5lclowQ29vcmRzIiwidHJhbnNmb3JtIiwibG9jYXRpb25Db29yZGluYXRlIiwiem9vbVRvIiwiY2VudGVyQ29vcmQiLCJnZXRDb29yZGluYXRlc0NlbnRlciIsImNvbHVtbiIsIkNhbm9uaWNhbFRpbGVJRCIsInRpbGVDb29yZHMiLCJ6b29tZWRDb29yZCIsIl9ib3VuZHNBcnJheSIsIlJhc3RlckJvdW5kc0FycmF5IiwiZW1wbGFjZUJhY2siLCJib3VuZHNCdWZmZXIiLCJwcmVwYXJlIiwiY3JlYXRlVmVydGV4QnVmZmVyIiwicmFzdGVyQm91bmRzQXR0cmlidXRlcyIsIm1lbWJlcnMiLCJib3VuZHNWQU8iLCJlcXVhbHMiLCJidWNrZXRzIiwiVmlkZW9Tb3VyY2UiLCJ1cmxzIiwiZ2V0VmlkZW8iLCJ2aWRlbyIsImxvb3AiLCJfcmVyZW5kZXIiLCJwbGF5IiwicmVhZHlTdGF0ZSIsInBhdXNlZCIsIkNhbnZhc1NvdXJjZSIsImFuaW1hdGUiLCJnZXRFbGVtZW50QnlJZCIsIl9oYXNJbnZhbGlkRGltZW5zaW9ucyIsIl9wbGF5aW5nIiwicGF1c2UiLCJnZXRDYW52YXMiLCJzb3VyY2VUeXBlcyIsInZlY3RvciIsInJhc3RlciIsInJhc3Rlci1kZW0iLCJyYXN0ZXJEZW0iLCJnZW9qc29uIiwiYmluZEFsbCIsInF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyIsInNvdXJjZUNhY2hlIiwic3R5bGVMYXllcnMiLCJxdWVyeUdlb21ldHJ5IiwiY29sbGlzaW9uSW5kZXgiLCJtYXhQaXRjaFNjYWxlRmFjdG9yIiwidGlsZXNJbiIsInNvcnQiLCJzb3J0VGlsZXNJbiIsInJlbmRlcmVkRmVhdHVyZUxheWVycyIsInRpbGVJbiIsIndyYXBwZWRUaWxlSUQiLCJ3cmFwcGVkIiwicXVlcnlSZXN1bHRzIiwiY2FsY3VsYXRlUG9zTWF0cml4IiwidG9VbndyYXBwZWQiLCJ3cmFwcGVkSURMYXllck1hcCIsIndyYXBwZWRJRCIsIndyYXBwZWRJRExheWVycyIsImxheWVySUQiLCJ0aWxlRmVhdHVyZXMiLCJ3cmFwcGVkSURGZWF0dXJlcyIsInJlc3VsdEZlYXR1cmVzIiwidGlsZUZlYXR1cmUiLCJmZWF0dXJlSW5kZXgiLCJmZWF0dXJlIiwibWVyZ2VSZW5kZXJlZEZlYXR1cmVMYXllcnMiLCJpZEEiLCJpZEIiLCJHcmlkSW5kZXgiLCJjZWxsU2l6ZSIsImJveENlbGxzIiwiY2lyY2xlQ2VsbHMiLCJ4Q2VsbENvdW50IiwieUNlbGxDb3VudCIsImNpcmNsZUtleXMiLCJib3hLZXlzIiwiYmJveGVzIiwiY2lyY2xlcyIsInhTY2FsZSIsInlTY2FsZSIsImJveFVpZCIsImNpcmNsZVVpZCIsImtleXNMZW5ndGgiLCJpbnNlcnQiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIl9mb3JFYWNoQ2VsbCIsIl9pbnNlcnRCb3hDZWxsIiwiaW5zZXJ0Q2lyY2xlIiwiX2luc2VydENpcmNsZUNlbGwiLCJjZWxsSW5kZXgiLCJfcXVlcnkiLCJoaXRUZXN0IiwiY29uY2F0IiwicXVlcnlBcmdzIiwic2VlblVpZHMiLCJib3giLCJjaXJjbGUiLCJfcXVlcnlDZWxsIiwiX3F1ZXJ5Q2lyY2xlIiwiX3F1ZXJ5Q2VsbENpcmNsZSIsInF1ZXJ5IiwiaGl0VGVzdENpcmNsZSIsImJveENlbGwiLCJvZmZzZXQiLCJjaXJjbGVDZWxsIiwiX2NpcmNsZUFuZFJlY3RDb2xsaWRlIiwiX2NpcmNsZXNDb2xsaWRlIiwiYXJnMSIsImFyZzIiLCJjeDEiLCJfY29udmVydFRvWENlbGxDb29yZCIsImN5MSIsIl9jb252ZXJ0VG9ZQ2VsbENvb3JkIiwiY3gyIiwiY3kyIiwicjEiLCJyMiIsImR4IiwiZHkiLCJib3RoUmFkaWkiLCJjaXJjbGVYIiwiY2lyY2xlWSIsImhhbGZSZWN0V2lkdGgiLCJkaXN0WCIsImhhbGZSZWN0SGVpZ2h0IiwiZGlzdFkiLCJzeW1ib2xMYXlvdXRQcm9wZXJ0aWVzIiwibGF5b3V0IiwiZ2V0TGFiZWxQbGFuZU1hdHJpeCIsInBvc01hdHJpeCIsInBpdGNoV2l0aE1hcCIsInJvdGF0ZVdpdGhNYXAiLCJwaXhlbHNUb1RpbGVVbml0cyIsIm0iLCJtYXQ0IiwiaWRlbnRpdHkiLCJGbG9hdDMyQXJyYXkiLCJyb3RhdGVaIiwiYW5nbGUiLCJ0cmFuc2xhdGUiLCJtdWx0aXBseSIsImdldEdsQ29vcmRNYXRyaXgiLCJwcm9qZWN0IiwicG9pbnQiLCJtYXRyaXgiLCJ4eVRyYW5zZm9ybU1hdDQiLCJzaWduZWREaXN0YW5jZUZyb21DYW1lcmEiLCJpc1Zpc2libGUiLCJhbmNob3JQb3MiLCJjbGlwcGluZ0J1ZmZlciIsInVwZGF0ZUxpbmVMYWJlbHMiLCJidWNrZXQiLCJpc1RleHQiLCJsYWJlbFBsYW5lTWF0cml4IiwiZ2xDb29yZE1hdHJpeCIsImtlZXBVcHJpZ2h0Iiwic2l6ZURhdGEiLCJ0ZXh0U2l6ZURhdGEiLCJpY29uU2l6ZURhdGEiLCJwYXJ0aWFsbHlFdmFsdWF0ZWRTaXplIiwic3ltYm9sU2l6ZSIsImR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSIsInRleHQiLCJpY29uIiwiY2xlYXIiLCJsaW5lVmVydGV4QXJyYXkiLCJwbGFjZWRTeW1ib2xzIiwicGxhY2VkU3ltYm9sQXJyYXkiLCJhc3BlY3RSYXRpbyIsInVzZVZlcnRpY2FsIiwic3ltYm9sIiwiaGlkZGVuIiwid3JpdGluZ01vZGUiLCJXcml0aW5nTW9kZSIsInZlcnRpY2FsIiwiaGlkZUdseXBocyIsIm51bUdseXBocyIsImFuY2hvclgiLCJhbmNob3JZIiwidmVjNCIsInRyYW5zZm9ybU1hdDQiLCJwZXJzcGVjdGl2ZVJhdGlvIiwiY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSIsInBpdGNoU2NhbGVkRm9udFNpemUiLCJ0aWxlQW5jaG9yUG9pbnQiLCJhbmNob3JQb2ludCIsInByb2plY3Rpb25DYWNoZSIsInBsYWNlVW5mbGlwcGVkIiwicGxhY2VHbHlwaHNBbG9uZ0xpbmUiLCJnbHlwaE9mZnNldEFycmF5Iiwibm90RW5vdWdoUm9vbSIsIm5lZWRzRmxpcHBpbmciLCJkeW5hbWljTGF5b3V0VmVydGV4QnVmZmVyIiwidXBkYXRlRGF0YSIsInBsYWNlRmlyc3RBbmRMYXN0R2x5cGgiLCJmb250U2NhbGUiLCJsaW5lT2Zmc2V0WCIsImxpbmVPZmZzZXRZIiwiZmxpcCIsInJldHVyblRpbGVEaXN0YW5jZSIsImdseXBoRW5kSW5kZXgiLCJnbHlwaFN0YXJ0SW5kZXgiLCJsaW5lU3RhcnRJbmRleCIsImxpbmVFbmRJbmRleCIsImxpbmVMZW5ndGgiLCJmaXJzdEdseXBoT2Zmc2V0IiwiZ2V0b2Zmc2V0WCIsImxhc3RHbHlwaE9mZnNldCIsImZpcnN0UGxhY2VkR2x5cGgiLCJwbGFjZUdseXBoQWxvbmdMaW5lIiwic2VnbWVudCIsImxhc3RQbGFjZWRHbHlwaCIsImZpcnN0IiwibGFzdCIsInJlcXVpcmVzT3JpZW50YXRpb25DaGFuZ2UiLCJmaXJzdFBvaW50IiwibGFzdFBvaW50IiwiaG9yaXpvbnRhbCIsInBsYWNlZEdseXBocyIsImZpcnN0QW5kTGFzdEdseXBoIiwib3JpZW50YXRpb25DaGFuZ2UiLCJnbHlwaEluZGV4IiwidGlsZVZlcnRleEluZGV4IiwidGlsZVNlZ21lbnRFbmQiLCJnZXR4IiwiZ2V0eSIsInByb2plY3RlZFZlcnRleCIsInByb2plY3RUcnVuY2F0ZWRMaW5lU2VnbWVudCIsInNpbmdsZUdseXBoIiwiYWRkRHluYW1pY0F0dHJpYnV0ZXMiLCJwcmV2aW91c1RpbGVQb2ludCIsImN1cnJlbnRUaWxlUG9pbnQiLCJwcmV2aW91c1Byb2plY3RlZFBvaW50IiwibWluaW11bUxlbmd0aCIsInByb2plY3Rpb25NYXRyaXgiLCJwcm9qZWN0ZWRVbml0VmVydGV4IiwiYWRkIiwic3ViIiwiX3VuaXQiLCJwcm9qZWN0ZWRVbml0U2VnbWVudCIsIl9tdWx0IiwibWFnIiwib2Zmc2V0WCIsImFuY2hvclNlZ21lbnQiLCJjb21iaW5lZE9mZnNldFgiLCJkaXIiLCJjdXJyZW50SW5kZXgiLCJpbml0aWFsSW5kZXgiLCJjdXJyZW50IiwicHJldiIsImRpc3RhbmNlVG9QcmV2IiwiY3VycmVudFNlZ21lbnREaXN0YW5jZSIsImFic09mZnNldFgiLCJjdXJyZW50VmVydGV4IiwicHJvamVjdGlvbiIsInByZXZpb3VzTGluZVZlcnRleEluZGV4Iiwic2VnbWVudEludGVycG9sYXRpb25UIiwicHJldlRvQ3VycmVudCIsInAiLCJtdWx0IiwiX2FkZCIsIl9wZXJwIiwiYXRhbjIiLCJ0aWxlRGlzdGFuY2UiLCJwcmV2VGlsZURpc3RhbmNlIiwiZ2V0dGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3IiLCJsYXN0U2VnbWVudFZpZXdwb3J0RGlzdGFuY2UiLCJoaWRkZW5HbHlwaEF0dHJpYnV0ZXMiLCJJbmZpbml0eSIsIm51bSIsImZsb2F0MzIiLCJvdXQiLCJnbG1hdHJpeCIsIkNvbGxpc2lvbkluZGV4IiwiZ3JpZCIsImlnbm9yZWRHcmlkIiwiR3JpZCIsInBpdGNoZmFjdG9yIiwiX3BpdGNoIiwic2NyZWVuUmlnaHRCb3VuZGFyeSIsInNjcmVlbkJvdHRvbUJvdW5kYXJ5IiwibWFya0NvbGxpc2lvbkNpcmNsZVVzZWQiLCJjb2xsaXNpb25DaXJjbGVzIiwidXNlZCIsInBsYWNlQ29sbGlzaW9uQm94IiwiY29sbGlzaW9uQm94IiwiYWxsb3dPdmVybGFwIiwidGV4dFBpeGVsUmF0aW8iLCJwcm9qZWN0ZWRQb2ludCIsInByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvIiwiYW5jaG9yUG9pbnRYIiwiYW5jaG9yUG9pbnRZIiwidGlsZVRvVmlld3BvcnQiLCJ0bFgiLCJ0bFkiLCJiclgiLCJiclkiLCJvZmZzY3JlZW4iLCJpc09mZnNjcmVlbiIsImFwcHJveGltYXRlVGlsZURpc3RhbmNlIiwibGFzdFNlZ21lbnRBbmdsZSIsImNhbWVyYVRvQW5jaG9yRGlzdGFuY2UiLCJpbmNpZGVuY2VTdHJldGNoIiwibGFzdFNlZ21lbnRUaWxlIiwicGxhY2VDb2xsaXNpb25DaXJjbGVzIiwic2hvd0NvbGxpc2lvbkNpcmNsZXMiLCJwbGFjZWRDb2xsaXNpb25DaXJjbGVzIiwicHJvamVjdGVkQW5jaG9yIiwicHJvamVjdEFuY2hvciIsInRpbGVVbml0QW5jaG9yUG9pbnQiLCJjb2xsaXNpb25EZXRlY3RlZCIsImVudGlyZWx5T2Zmc2NyZWVuIiwiZmlyc3RUaWxlRGlzdGFuY2UiLCJsYXN0VGlsZURpc3RhbmNlIiwiY2FtZXJhRGlzdGFuY2UiLCJ0aWxlVW5pdFJhZGl1cyIsImJveFNpZ25lZERpc3RhbmNlRnJvbUFuY2hvciIsInByb2plY3RQb2ludCIsIm5leHRCb3hEaXN0YW5jZVRvQW5jaG9yIiwiY29sbGlzaW9uQm94QXJyYXlJbmRleCIsInF1ZXJ5UmVuZGVyZWRTeW1ib2xzIiwidGlsZUNvb3JkIiwiY29sbGlzaW9uQm94QXJyYXkiLCJzb3VyY2VJRCIsImJ1Y2tldEluc3RhbmNlSWRzIiwic291cmNlTGF5ZXJGZWF0dXJlcyIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJyaW5nIiwidGhpc1RpbGVGZWF0dXJlcyIsImZlYXR1cmVzIiwiYnVja2V0SW5zdGFuY2VJZCIsImJveEluZGV4IiwiaWdub3JlZEZlYXR1cmVzIiwiYmxvY2tpbmciLCJzb3VyY2VMYXllciIsInNvdXJjZUxheWVySW5kZXgiLCJidWNrZXRJbmRleCIsImJib3giLCJpbnRlcnNlY3Rpb25UZXN0cyIsImluc2VydENvbGxpc2lvbkJveCIsImlnbm9yZVBsYWNlbWVudCIsImJveFN0YXJ0SW5kZXgiLCJpbnNlcnRDb2xsaXNpb25DaXJjbGVzIiwidXNlcyIsImV4cGlyYXRpb25UaW1lIiwicXVlcnlQYWRkaW5nIiwiZXhwaXJlZFJlcXVlc3RDb3VudCIsInJlZ2lzdGVyRmFkZUR1cmF0aW9uIiwiZHVyYXRpb24iLCJmYWRlRW5kVGltZSIsInRpbWVBZGRlZCIsIndhc1JlcXVlc3RlZCIsImp1c3RSZWxvYWRlZCIsImhhc0RhdGEiLCJyYXdUaWxlRGF0YSIsIm91dHB1dCIsImxheWVycyIsImxheWVySWRzIiwiZ2V0TGF5ZXIiLCJCb29sZWFuIiwiZGVzZXJpYWxpemVCdWNrZXQiLCJTeW1ib2xCdWNrZXQiLCJxdWVyeVJhZGl1cyIsImljb25BdGxhc0ltYWdlIiwiZ2x5cGhBdGxhc0ltYWdlIiwiQ29sbGlzaW9uQm94QXJyYXkiLCJpY29uQXRsYXNUZXh0dXJlIiwiZ2x5cGhBdGxhc1RleHR1cmUiLCJ1bmxvYWRERU1EYXRhIiwiZ2V0QnVja2V0IiwibGF5ZXIiLCJ1cGxvYWQiLCJ1cGxvYWRlZCIsIkFMUEhBIiwicXVlcnlTb3VyY2VGZWF0dXJlcyIsInZ0TGF5ZXJzIiwidnQiLCJWZWN0b3JUaWxlIiwiUHJvdG9idWYiLCJfZ2VvanNvblRpbGVMYXllciIsImZlYXR1cmVGaWx0ZXIiLCJnZW9qc29uRmVhdHVyZSIsIkdlb0pTT05GZWF0dXJlIiwiY2xlYXJNYXNrIiwic2VnbWVudHMiLCJtYXNrZWRCb3VuZHNCdWZmZXIiLCJtYXNrZWRJbmRleEJ1ZmZlciIsInNldE1hc2siLCJtYXNrIiwiZGVlcEVxdWFsIiwiMCIsIm1hc2tlZEJvdW5kc0FycmF5IiwiaW5kZXhBcnJheSIsIlRyaWFuZ2xlSW5kZXhBcnJheSIsIlNlZ21lbnRWZWN0b3IiLCJwcmVwYXJlU2VnbWVudCIsIm1hc2tBcnJheSIsIm1hc2tDb29yZCIsInZlcnRleEV4dGVudCIsInRsVmVydGV4IiwiYnJWZXJ0ZXgiLCJ2ZXJ0ZXhMZW5ndGgiLCJwcmltaXRpdmVMZW5ndGgiLCJjcmVhdGVJbmRleEJ1ZmZlciIsInByaW9yIiwicGFyc2VkQ0MiLCJwYXJzZUNhY2hlQ29udHJvbCIsImdldFRpbWUiLCJpc0V4cGlyZWQiLCJkZWx0YSIsImdldEV4cGlyeVRpbWVvdXQiLCJMUlVDYWNoZSIsInJlc2V0Iiwib3JkZXIiLCJoYXMiLCJzcGxpY2UiLCJyZW1vdmVkRGF0YSIsImdldEFuZFJlbW92ZSIsInNldE1heFNpemUiLCJJbmRleEJ1ZmZlciIsImFycmF5IiwiY3JlYXRlQnVmZmVyIiwidW5iaW5kVkFPIiwiYmluZEVsZW1lbnRCdWZmZXIiLCJidWZmZXJEYXRhIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJhcnJheUJ1ZmZlciIsIkRZTkFNSUNfRFJBVyIsIlNUQVRJQ19EUkFXIiwiYnVmZmVyU3ViRGF0YSIsImRlbGV0ZUJ1ZmZlciIsIkF0dHJpYnV0ZVR5cGUiLCJJbnQ4IiwiVWludDgiLCJJbnQxNiIsIlVpbnQxNiIsIkludDMyIiwiVWludDMyIiwiRmxvYXQzMiIsIlZlcnRleEJ1ZmZlciIsIml0ZW1TaXplIiwiYnl0ZXNQZXJFbGVtZW50IiwiYmluZFZlcnRleEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsImoiLCJtZW1iZXIiLCJhdHRyaWJJbmRleCIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwidmVydGV4QXR0cmliUG9pbnRlciIsImNvbXBvbmVudHMiLCJDbGVhckNvbG9yIiwiQ29sb3IiLCJ0cmFuc3BhcmVudCIsImMiLCJyIiwiZyIsImNsZWFyQ29sb3IiLCJDbGVhckRlcHRoIiwiY2xlYXJEZXB0aCIsIkNsZWFyU3RlbmNpbCIsImNsZWFyU3RlbmNpbCIsIkNvbG9yTWFzayIsImNvbG9yTWFzayIsIkRlcHRoTWFzayIsImRlcHRoTWFzayIsIlN0ZW5jaWxNYXNrIiwic3RlbmNpbE1hc2siLCJTdGVuY2lsRnVuYyIsImZ1bmMiLCJBTFdBWVMiLCJzdGVuY2lsRnVuYyIsIlN0ZW5jaWxPcCIsIktFRVAiLCJzdGVuY2lsT3AiLCJTdGVuY2lsVGVzdCIsImVuYWJsZSIsIlNURU5DSUxfVEVTVCIsImRpc2FibGUiLCJEZXB0aFJhbmdlIiwiZGVwdGhSYW5nZSIsIkRlcHRoVGVzdCIsIkRFUFRIX1RFU1QiLCJEZXB0aEZ1bmMiLCJMRVNTIiwiZGVwdGhGdW5jIiwiQmxlbmQiLCJCTEVORCIsIkJsZW5kRnVuYyIsIk9ORSIsIlpFUk8iLCJibGVuZEZ1bmMiLCJCbGVuZENvbG9yIiwiYmxlbmRDb2xvciIsIlByb2dyYW0iLCJ1c2VQcm9ncmFtIiwiTGluZVdpZHRoIiwibGluZVdpZHRoUmFuZ2UiLCJjbGFtcGVkIiwibGluZVdpZHRoIiwiQWN0aXZlVGV4dHVyZVVuaXQiLCJURVhUVVJFMCIsImFjdGl2ZVRleHR1cmUiLCJWaWV3cG9ydCIsImRyYXdpbmdCdWZmZXJXaWR0aCIsImRyYXdpbmdCdWZmZXJIZWlnaHQiLCJ2aWV3cG9ydCIsIkJpbmRGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwiQmluZFJlbmRlcmJ1ZmZlciIsImJpbmRSZW5kZXJidWZmZXIiLCJSRU5ERVJCVUZGRVIiLCJCaW5kVGV4dHVyZSIsIkJpbmRWZXJ0ZXhCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQmluZEVsZW1lbnRCdWZmZXIiLCJCaW5kVmVydGV4QXJyYXlPRVMiLCJQaXhlbFN0b3JlVW5wYWNrIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfQUxJR05NRU5UIiwiUGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJGcmFtZWJ1ZmZlclZhbHVlIiwiQ29sb3JBdHRhY2htZW50IiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsInNldERpcnR5IiwiRGVwdGhBdHRhY2htZW50IiwiZnJhbWVidWZmZXJSZW5kZXJidWZmZXIiLCJERVBUSF9BVFRBQ0hNRU5UIiwiZnJhbWVidWZmZXIiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImNvbG9yQXR0YWNobWVudCIsImRlcHRoQXR0YWNobWVudCIsIkZyYW1lYnVmZmVyIiwicmVuZGVyYnVmZmVyIiwiZGVsZXRlUmVuZGVyYnVmZmVyIiwiZGVsZXRlRnJhbWVidWZmZXIiLCJEZXB0aE1vZGUiLCJSZWFkT25seSIsIlJlYWRXcml0ZSIsImRpc2FibGVkIiwiU3RlbmNpbE1vZGUiLCJmYWlsIiwiZGVwdGhGYWlsIiwicGFzcyIsIkNvbG9yTW9kZSIsImJsZW5kRnVuY3Rpb24iLCJSZXBsYWNlIiwidW5ibGVuZGVkIiwiYWxwaGFCbGVuZGVkIiwiQ29udGV4dCIsImdldEV4dGVuc2lvbiIsImdldFBhcmFtZXRlciIsIkFMSUFTRURfTElORV9XSURUSF9SQU5HRSIsInN0ZW5jaWxUZXN0IiwiZGVwdGhUZXN0IiwiYmxlbmQiLCJNQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJleHRUZXh0dXJlSGFsZkZsb2F0IiwiY3JlYXRlUmVuZGVyYnVmZmVyIiwic3RvcmFnZUZvcm1hdCIsInJibyIsInJlbmRlcmJ1ZmZlclN0b3JhZ2UiLCJDT0xPUl9CVUZGRVJfQklUIiwiREVQVEhfQlVGRkVSX0JJVCIsInNldERlcHRoTW9kZSIsImRlcHRoTW9kZSIsInNldFN0ZW5jaWxNb2RlIiwic3RlbmNpbE1vZGUiLCJzZXRDb2xvck1vZGUiLCJjb2xvck1vZGUiLCJTb3VyY2VDYWNoZSIsIm9uIiwiX3NvdXJjZUxvYWRlZCIsIl9wYXVzZWQiLCJyZWxvYWQiLCJfc291cmNlRXJyb3JlZCIsIl9zb3VyY2UiLCJjcmVhdGVTb3VyY2UiLCJfdGlsZXMiLCJfY2FjaGUiLCJDYWNoZSIsIl91bmxvYWRUaWxlIiwiX3RpbWVycyIsIl9jYWNoZVRpbWVycyIsIl9tYXhUaWxlQ2FjaGVTaXplIiwiX2lzSWRSZW5kZXJhYmxlIiwiX2NvdmVyZWRUaWxlcyIsImdldFNvdXJjZSIsInJlc3VtZSIsInNob3VsZFJlbG9hZCIsIl9zaG91bGRSZWxvYWRPblJlc3VtZSIsIl9sb2FkVGlsZSIsIl9hYm9ydFRpbGUiLCJnZXRJZHMiLCJhXyIsImJfIiwicm90YXRlZEEiLCJyb3RhdGUiLCJyb3RhdGVkQiIsImdldFJlbmRlcmFibGVJZHMiLCJoYXNSZW5kZXJhYmxlUGFyZW50IiwicGFyZW50VGlsZSIsImZpbmRMb2FkZWRQYXJlbnQiLCJfcmVzZXRDYWNoZSIsIl9yZWxvYWRUaWxlIiwiX3RpbGVMb2FkZWQiLCJwcmV2aW91c1N0YXRlIiwic3RhdHVzIiwicmVmcmVzaGVkVXBvbkV4cGlyYXRpb24iLCJfc2V0VGlsZVJlbG9hZFRpbWVyIiwiX2JhY2tmaWxsREVNIiwidGlsZUV4dGVudFZBTyIsInJlbmRlcmFibGVzIiwiYm9yZGVySWQiLCJib3JkZXJUaWxlIiwiZ2V0VGlsZUJ5SUQiLCJmaWxsQm9yZGVyIiwiYmFja2ZpbGxCb3JkZXIiLCJnZXRUaWxlIiwiZ2V0Wm9vbSIsInNjYWxlWm9vbSIsIl9maW5kTG9hZGVkQ2hpbGRyZW4iLCJtYXhDb3ZlcmluZ1pvb20iLCJyZXRhaW4iLCJmb3VuZCIsInoyIiwic2NhbGVkVG8iLCJtaW5Db3ZlcmluZ1pvb20iLCJ1cGRhdGVDYWNoZVNpemUiLCJhcHByb3hUaWxlc0luVmlldyIsInZpZXdEZXBlbmRlbnRNYXhTaXplIiwibWF4U2l6ZSIsImlkZWFsVGlsZUlEcyIsImdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyIsInVud3JhcHBlZCIsImNvdmVyaW5nVGlsZXMiLCJmYWRlZFBhcmVudCIsIm1heE92ZXJ6b29taW5nIiwibWF4VW5kZXJ6b29taW5nIiwiX3VwZGF0ZVJldGFpbmVkVGlsZXMiLCJwYXJlbnRzRm9yRmFkaW5nIiwiaXNSYXN0ZXJUeXBlIiwiX2FkZFRpbGUiLCJrZXlzRGlmZmVyZW5jZSIsIl9yZW1vdmVUaWxlIiwiY2hlY2tlZCIsInBhcmVudFdhc1JlcXVlc3RlZCIsImNvdmVyZWQiLCJjaGlsZENvb3JkIiwiY2hpbGRyZW4iLCJjaGlsZFRpbGUiLCJwYXJlbnRJZCIsImNsZWFyVGltZW91dCIsImNhY2hlZCIsImV4cGlyeVRpbWVvdXQiLCJfc2V0Q2FjaGVJbnZhbGlkYXRpb25UaW1lciIsIndyYXBwZWRJZCIsImNsZWFyVGlsZXMiLCJ0aWxlUmVzdWx0cyIsInRpbGVTcGFjZUJvdW5kcyIsImNvb3JkaW5hdGVUb1RpbGVQb2ludCIsIkNvb3JkaW5hdGUiLCJ0aWxlU3BhY2VRdWVyeUdlb21ldHJ5IiwiZ2V0VmlzaWJsZUNvb3JkaW5hdGVzIiwiY29vcmRzIiwiZ2xvYmFsV29ya2VyUG9vbCIsIldvcmtlclBvb2wiLCJhY3RpdmUiLCJkZXJlZiIsInJlZlByb3BlcnRpZXMiLCJkZXJlZkxheWVycyIsIm1hcElkIiwid29ya2VyQ291bnQiLCJXZWJXb3JrZXIiLCJvcGVyYXRpb25zIiwic2V0U3R5bGUiLCJhZGRMYXllciIsInJlbW92ZUxheWVyIiwic2V0UGFpbnRQcm9wZXJ0eSIsInNldExheW91dFByb3BlcnR5Iiwic2V0RmlsdGVyIiwiYWRkU291cmNlIiwicmVtb3ZlU291cmNlIiwic2V0R2VvSlNPTlNvdXJjZURhdGEiLCJzZXRMYXllclpvb21SYW5nZSIsInNldExheWVyUHJvcGVydHkiLCJzZXRDZW50ZXIiLCJzZXRab29tIiwic2V0QmVhcmluZyIsInNldFBpdGNoIiwic2V0U3ByaXRlIiwic2V0R2x5cGhzIiwic291cmNlSWQiLCJhZnRlciIsImNvbW1hbmRzIiwiY29tbWFuZCIsImFyZ3MiLCJzb3VyY2VzUmVtb3ZlZCIsInVwZGF0ZVNvdXJjZSIsImNhblVwZGF0ZUdlb0pTT04iLCJiZWZvcmUiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJpc0VxdWFsIiwiZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzIiwibGF5ZXJJZCIsImtsYXNzIiwicGx1Y2tJZCIsImluZGV4QnlJZCIsImdyb3VwIiwiZGlmZlN0eWxlcyIsInZlcnNpb24iLCJjZW50ZXIiLCJiZWFyaW5nIiwicGl0Y2giLCJ0cmFuc2l0aW9uIiwicmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcyIsImRpZmZTb3VyY2VzIiwic291cmNlcyIsImJlZm9yZUxheWVycyIsImJlZm9yZUxheWVyIiwiYWZ0ZXJMYXllciIsImluc2VydEJlZm9yZUxheWVySWQiLCJiZWZvcmVPcmRlciIsImFmdGVyT3JkZXIiLCJiZWZvcmVJbmRleCIsImFmdGVySW5kZXgiLCJ0cmFja2VyIiwiY2xlYW4iLCJwYWludCIsImRpZmZMYXllcnMiLCJjb25zb2xlIiwid2FybiIsIk9wYWNpdHlTdGF0ZSIsInByZXZTdGF0ZSIsImluY3JlbWVudCIsInBsYWNlZCIsInNraXBGYWRlIiwib3BhY2l0eSIsImlzSGlkZGVuIiwiSm9pbnRPcGFjaXR5U3RhdGUiLCJwbGFjZWRUZXh0IiwicGxhY2VkSWNvbiIsIkpvaW50UGxhY2VtZW50IiwiUGxhY2VtZW50IiwiZmFkZUR1cmF0aW9uIiwicGxhY2VtZW50cyIsIm9wYWNpdGllcyIsInN0YWxlIiwidXBkYXRlQ29sbGlzaW9uVmVydGljZXMiLCJjb2xsaXNpb25WZXJ0ZXhBcnJheSIsIm5vdFVzZWQiLCJwbGFjZUxheWVyVGlsZSIsInN0eWxlTGF5ZXIiLCJzZWVuQ3Jvc3NUaWxlSURzIiwic3ltYm9sQnVja2V0IiwidGV4dExhYmVsUGxhbmVNYXRyaXgiLCJpY29uTGFiZWxQbGFuZU1hdHJpeCIsInBsYWNlTGF5ZXJCdWNrZXQiLCJ0aWxlS2V5IiwicGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemUiLCJpY29uV2l0aG91dFRleHQiLCJoYXNUZXh0RGF0YSIsInRleHRXaXRob3V0SWNvbiIsImhhc0ljb25EYXRhIiwic3ltYm9sSW5zdGFuY2VzIiwic3ltYm9sSW5zdGFuY2UiLCJjcm9zc1RpbGVJRCIsInBsYWNlVGV4dCIsInBsYWNlSWNvbiIsInBsYWNlZEdseXBoQm94ZXMiLCJwbGFjZWRHbHlwaENpcmNsZXMiLCJwbGFjZWRJY29uQm94ZXMiLCJjb2xsaXNpb25BcnJheXMiLCJkZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzIiwidGV4dEJveFN0YXJ0SW5kZXgiLCJ0ZXh0Qm94RW5kSW5kZXgiLCJpY29uQm94U3RhcnRJbmRleCIsImljb25Cb3hFbmRJbmRleCIsInRleHRCb3giLCJ0ZXh0Q2lyY2xlcyIsInBsYWNlZFN5bWJvbCIsInBsYWNlZFRleHRTeW1ib2xJbmRpY2VzIiwiaWNvbkJveCIsImNvbW1pdCIsInByZXZQbGFjZW1lbnQiLCJjb21taXRUaW1lIiwicGxhY2VtZW50Q2hhbmdlZCIsInByZXZPcGFjaXRpZXMiLCJqb2ludFBsYWNlbWVudCIsInByZXZPcGFjaXR5Iiwiam9pbnRPcGFjaXR5IiwibGFzdFBsYWNlbWVudENoYW5nZVRpbWUiLCJ1cGRhdGVMYXllck9wYWNpdGllcyIsInVwZGF0ZUJ1Y2tldE9wYWNpdGllcyIsIm9wYWNpdHlWZXJ0ZXhBcnJheSIsImhhc0NvbGxpc2lvbkJveERhdGEiLCJoYXNDb2xsaXNpb25DaXJjbGVEYXRhIiwiY29sbGlzaW9uQ2lyY2xlIiwiZHVwbGljYXRlT3BhY2l0eVN0YXRlIiwiZGVmYXVsdE9wYWNpdHlTdGF0ZSIsImlzRHVwbGljYXRlIiwib3BhY2l0eVN0YXRlIiwiaGFzVGV4dCIsIm51bUdseXBoVmVydGljZXMiLCJudW1WZXJ0aWNhbEdseXBoVmVydGljZXMiLCJoYXNJY29uIiwibnVtSWNvblZlcnRpY2VzIiwicGFja2VkT3BhY2l0eSIsInBhY2tPcGFjaXR5Iiwib3BhY2l0eUVudHJ5Q291bnQiLCJwbGFjZWRUZXh0U3ltYm9sSW5kZXgiLCJzb3J0RmVhdHVyZXMiLCJvcGFjaXR5VmVydGV4QnVmZmVyIiwiY29sbGlzaW9uVmVydGV4QnVmZmVyIiwic3ltYm9sRmFkZUNoYW5nZSIsImhhc1RyYW5zaXRpb25zIiwic3RpbGxSZWNlbnQiLCJzZXRTdGFsZSIsInNoaWZ0MjUiLCJzaGlmdDI0Iiwic2hpZnQxNyIsInNoaWZ0MTYiLCJzaGlmdDkiLCJzaGlmdDgiLCJzaGlmdDEiLCJ0YXJnZXRCaXQiLCJvcGFjaXR5Qml0cyIsIkxheWVyUGxhY2VtZW50IiwiX2N1cnJlbnRUaWxlSW5kZXgiLCJfc2VlbkNyb3NzVGlsZUlEcyIsImNvbnRpbnVlUGxhY2VtZW50IiwicGxhY2VtZW50Iiwic2hvdWxkUGF1c2VQbGFjZW1lbnQiLCJQYXVzZWFibGVQbGFjZW1lbnQiLCJmb3JjZUZ1bGxQbGFjZW1lbnQiLCJfY3VycmVudFBsYWNlbWVudEluZGV4IiwiX2ZvcmNlRnVsbFBsYWNlbWVudCIsIl9zaG93Q29sbGlzaW9uQm94ZXMiLCJfZG9uZSIsImlzRG9uZSIsImxheWVyVGlsZXMiLCJzdGFydFRpbWUiLCJlbGFwc2VkVGltZSIsInBsYWNlbWVudFpvb20iLCJfaW5Qcm9ncmVzc0xheWVyIiwidGhpcyQxIiwicHJldmlvdXNQbGFjZW1lbnQiLCJyb3VuZGluZ0ZhY3RvciIsIlRpbGVMYXllckluZGV4IiwiaW5kZXhlZFN5bWJvbEluc3RhbmNlcyIsImdldFNjYWxlZENvb3JkaW5hdGVzIiwiY2hpbGRUaWxlSUQiLCJ6RGlmZmVyZW5jZSIsImZpbmRNYXRjaGVzIiwibmV3VGlsZUlEIiwiem9vbUNyb3NzVGlsZUlEcyIsImluZGV4ZWRJbnN0YW5jZXMiLCJzY2FsZWRTeW1ib2xDb29yZCIsInRoaXNUaWxlU3ltYm9sIiwiQ3Jvc3NUaWxlSURzIiwibWF4Q3Jvc3NUaWxlSUQiLCJnZW5lcmF0ZSIsIkNyb3NzVGlsZVN5bWJvbExheWVySW5kZXgiLCJpbmRleGVzIiwidXNlZENyb3NzVGlsZUlEcyIsImFkZEJ1Y2tldCIsImNyb3NzVGlsZUlEcyIsInJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyIsInpvb21JbmRleGVzIiwiY2hpbGRJbmRleCIsImlzQ2hpbGRPZiIsInBhcmVudEluZGV4Iiwic3ltYm9sSW5zdGFuY2UkMSIsInJlbW92ZWRCdWNrZXQiLCJyZW1vdmVTdGFsZUJ1Y2tldHMiLCJjdXJyZW50SURzIiwidGlsZXNDaGFuZ2VkIiwiQ3Jvc3NUaWxlU3ltYm9sSW5kZXgiLCJsYXllckluZGV4ZXMiLCJtYXhCdWNrZXRJbnN0YW5jZUlkIiwibGF5ZXJJbmRleCIsInN5bWJvbEJ1Y2tldHNDaGFuZ2VkIiwiY3VycmVudEJ1Y2tldElEcyIsInBydW5lVW51c2VkTGF5ZXJzIiwidXNlZExheWVycyIsInVzZWRMYXllck1hcCIsInVzZWRMYXllciIsInN1cHBvcnRlZERpZmZPcGVyYXRpb25zIiwiZGlmZk9wZXJhdGlvbnMiLCJpZ25vcmVkRGlmZk9wZXJhdGlvbnMiLCJTdHlsZSIsImltYWdlTWFuYWdlciIsImdseXBoTWFuYWdlciIsImxpbmVBdGxhcyIsImNyb3NzVGlsZVN5bWJvbEluZGV4IiwiX2xheWVycyIsIl9vcmRlciIsInNvdXJjZUNhY2hlcyIsInpvb21IaXN0b3J5IiwiWm9vbUhpc3RvcnkiLCJfcmVzZXRVcGRhdGVzIiwic2VsZiIsIl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2siLCJyZWdpc3RlckZvclBsdWdpbkF2YWlsYWJpbGl0eSIsInBsdWdpblVSTCIsImVycm9yQ2FsbGJhY2siLCJldmVudCIsInZlY3RvckxheWVySWRzIiwiX3ZhbGlkYXRlTGF5ZXIiLCJsb2FkVVJMIiwibm9ybWFsaXplU3R5bGVVUkwiLCJnZXRKU09OIiwiZXJyb3IiLCJqc29uIiwiX2xvYWQiLCJsb2FkSlNPTiIsInN0eWxlc2hlZXQiLCJsb2FkU3ByaXRlIiwiY3JlYXRlU3R5bGVMYXllciIsIl9zZXJpYWxpemVMYXllcnMiLCJfdXBkYXRlZFNvdXJjZXMiLCJfY2hlY2tMb2FkZWQiLCJfY2hhbmdlZCIsInVwZGF0ZWRJZHMiLCJfdXBkYXRlZExheWVycyIsInJlbW92ZWRJZHMiLCJfcmVtb3ZlZExheWVycyIsIl91cGRhdGVXb3JrZXJMYXllcnMiLCJhY3Rpb24iLCJfcmVsb2FkU291cmNlIiwiX2NsZWFyU291cmNlIiwiX3VwZGF0ZWRQYWludFByb3BzIiwic2V0U3RhdGUiLCJuZXh0U3RhdGUiLCJjaGFuZ2VzIiwib3AiLCJ1bmltcGxlbWVudGVkT3BzIiwiYXBwbHkiLCJpc1NvdXJjZUxvYWRlZCIsImxheWVyT2JqZWN0IiwiYXJyYXlJbmRleCIsIl9sYXllck9yZGVyQ2hhbmdlZCIsInJlbW92ZWQiLCJfdXBkYXRlTGF5ZXIiLCJtb3ZlTGF5ZXIiLCJuZXdJbmRleCIsImdldEZpbHRlciIsImdldExheW91dFByb3BlcnR5IiwiZ2V0UGFpbnRQcm9wZXJ0eSIsIndhc0RhdGFEcml2ZW4iLCJfdHJhbnNpdGlvbmFibGVQYWludCIsIl92YWx1ZXMiLCJpc0RhdGFEcml2ZW4iLCJnZXRUcmFuc2l0aW9uIiwiZGVsYXkiLCJmaWx0ZXJPYmplY3QiLCJtZXRhZGF0YSIsIm1hcE9iamVjdCIsIl9mbGF0dGVuUmVuZGVyZWRGZWF0dXJlcyIsInNvdXJjZVJlc3VsdHMiLCJsIiwibGF5ZXJGZWF0dXJlcyIsImluY2x1ZGVkU291cmNlcyIsInJlc3VsdHMiLCJkYXRhVGlsZXMiLCJkYXRhSUQiLCJhZGRTb3VyY2VUeXBlIiwiU291cmNlVHlwZSIsImdldFNvdXJjZVR5cGUiLCJzZXRTb3VyY2VUeXBlIiwid29ya2VyU291cmNlVVJMIiwiX3VwZGF0ZSIsIl9yZW1vdmUiLCJydGxUZXh0UGx1Z2luRXZlbnRlZCIsIm9mZiIsIl91cGRhdGVTb3VyY2VzIiwiX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMiLCJfdXBkYXRlUGxhY2VtZW50IiwicGxhY2VtZW50Q29tbWl0dGVkIiwiaXNMZXNzVGhhbiIsImxheWVyQnVja2V0c0NoYW5nZWQiLCJwYXVzZWFibGVQbGFjZW1lbnQiLCJpY29ucyIsInN0YWNrcyIsInNoYWRlcnMiLCJwcmVsdWRlIiwiZnJhZ21lbnRTb3VyY2UiLCJmcyIsInZlcnRleFNvdXJjZSIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kUGF0dGVybiIsImNsaXBwaW5nTWFzayIsImhlYXRtYXAiLCJoZWF0bWFwVGV4dHVyZSIsImRlYnVnIiwiZmlsbCIsImZpbGxPdXRsaW5lIiwiZmlsbE91dGxpbmVQYXR0ZXJuIiwiZmlsbFBhdHRlcm4iLCJmaWxsRXh0cnVzaW9uIiwiZmlsbEV4dHJ1c2lvblBhdHRlcm4iLCJleHRydXNpb25UZXh0dXJlIiwiaGlsbHNoYWRlUHJlcGFyZSIsImhpbGxzaGFkZSIsImxpbmUiLCJsaW5lUGF0dGVybiIsImxpbmVTREYiLCJzeW1ib2xJY29uIiwic3ltYm9sU0RGIiwicmUiLCJwcm9ncmFtTmFtZSIsImZyYWdtZW50UHJhZ21hcyIsIm9wZXJhdGlvbiIsInByZWNpc2lvbiIsImF0dHJUeXBlIiwiY29uZmlndXJhdGlvbiIsInNob3dPdmVyZHJhd0luc3BlY3RvciIsImNyZWF0ZVByb2dyYW0iLCJkZWZpbmVzIiwidG9GaXhlZCIsImZyYWdtZW50U2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVNoYWRlciIsImF0dGFjaFNoYWRlciIsInZlcnRleFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJsYXlvdXRBdHRyaWJ1dGVzIiwiYmluZEF0dHJpYkxvY2F0aW9uIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJ1bmlmb3JtcyIsImF0dHJpYnV0ZSIsImdldEFjdGl2ZUF0dHJpYiIsImdldEF0dHJpYkxvY2F0aW9uIiwibnVtVW5pZm9ybXMiLCJBQ1RJVkVfVU5JRk9STVMiLCJ1bmlmb3JtIiwiZ2V0QWN0aXZlVW5pZm9ybSIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImNvbXB1dGVUaWxlTWFza3MiLCJyb290VGlsZSIsImNoaWxkQXJyYXkiLCJsb3dlckJvdW5kIiwiZGlmZloiLCJtYXNrVGlsZUlkIiwiZHJhd0NvbGxpc2lvbkRlYnVnR2VvbWV0cnkiLCJkcmF3Q2lyY2xlcyIsImNvbG9yTW9kZUZvclJlbmRlclBhc3MiLCJidWZmZXJzIiwidW5pZm9ybU1hdHJpeDRmdiIsInVfbWF0cml4IiwidW5pZm9ybTFmIiwidV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIiwidV9waXhlbHNfdG9fdGlsZV91bml0cyIsInVuaWZvcm0yZiIsInVfZXh0cnVkZV9zY2FsZSIsInBpeGVsc1RvR0xVbml0cyIsInVfb3ZlcnNjYWxlX2ZhY3RvciIsIlRSSUFOR0xFUyIsIkxJTkVTIiwiZHJhd01vZGUiLCJkeW5hbWljTGF5b3V0QnVmZmVyIiwiZHluYW1pY0xheW91dEJ1ZmZlcjIiLCJwcmltaXRpdmVTaXplIiwidmFvcyIsImdldFBhaW50VmVydGV4QnVmZmVycyIsImRyYXdFbGVtZW50cyIsIlVOU0lHTkVEX1NIT1JUIiwicHJpbWl0aXZlT2Zmc2V0IiwiaWRlbnRpdHlNYXQ0IiwiZHJhd0xheWVyU3ltYm9scyIsInRyYW5zbGF0ZUFuY2hvciIsInJvdGF0aW9uQWxpZ25tZW50IiwicGl0Y2hBbGlnbm1lbnQiLCJ0ciIsImFsb25nTGluZSIsInJvdGF0ZUluU2hhZGVyIiwiZGVwdGhPbiIsImRlcHRoTW9kZUZvclN1YmxheWVyIiwicHJvZ3JhbUNvbmZpZ3VyYXRpb24iLCJwcm9ncmFtQ29uZmlndXJhdGlvbnMiLCJpc1NERiIsInNkZkljb25zIiwic2V0VW5pZm9ybXMiLCJzZXRTeW1ib2xEcmF3U3RhdGUiLCJ1bmlmb3JtMWkiLCJ1X3RleHR1cmUiLCJ1bmlmb3JtMmZ2IiwidV90ZXhzaXplIiwiaWNvblNjYWxlZCIsImNvbnN0YW50T3IiLCJpY29uc05lZWRMaW5lYXIiLCJpY29uVHJhbnNmb3JtZWQiLCJyb3RhdGluZyIsInpvb21pbmciLCJORUFSRVNUIiwidHJhbnNsYXRlUG9zTWF0cml4Iiwic3ltYm9sUHJvamVjdGlvbiIsInVfZ2xfY29vcmRfbWF0cml4IiwidV9sYWJlbF9wbGFuZV9tYXRyaXgiLCJ1X2ZhZGVfY2hhbmdlIiwiZHJhd1RpbGVTeW1ib2xzIiwidV9waXRjaF93aXRoX21hcCIsInVfaXNfdGV4dCIsInVfcGl0Y2giLCJpc1pvb21Db25zdGFudCIsImZ1bmN0aW9uVHlwZSIsImlzRmVhdHVyZUNvbnN0YW50IiwidV9pc19zaXplX3pvb21fY29uc3RhbnQiLCJ1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCIsInVTaXplVCIsInVfc2l6ZV90IiwidVNpemUiLCJ1X3NpemUiLCJ1X2FzcGVjdF9yYXRpbyIsInVfcm90YXRlX3N5bWJvbCIsImhhc0hhbG8iLCJnYW1tYVNjYWxlIiwidV9nYW1tYV9zY2FsZSIsInVfaXNfaGFsbyIsImRyYXdTeW1ib2xFbGVtZW50cyIsImRyYXdMaW5lVGlsZSIsInByb2dyYW1DaGFuZ2VkIiwidGlsZVJhdGlvQ2hhbmdlZCIsInBvc0EiLCJwb3NCIiwiaW1hZ2VQb3NBIiwiaW1hZ2VQb3NCIiwidGlsZVJhdGlvIiwidGlsZVpvb20iLCJmcm9tIiwidG8iLCJ3aWR0aEEiLCJmcm9tU2NhbGUiLCJ3aWR0aEIiLCJ0b1NjYWxlIiwidV9wYXR0ZXJuc2NhbGVfYSIsInVfcGF0dGVybnNjYWxlX2IiLCJ1X3NkZmdhbW1hIiwidV9wYXR0ZXJuX3NpemVfYSIsImRpc3BsYXlTaXplIiwidV9wYXR0ZXJuX3NpemVfYiIsInVfZ2xfdW5pdHNfdG9fcGl4ZWxzIiwidV9pbWFnZSIsInVfdGV4X3lfYSIsInVfdGV4X3lfYiIsInVfbWl4IiwidV9wYXR0ZXJuX3RsX2EiLCJ0bCIsInVfcGF0dGVybl9icl9hIiwiYnIiLCJ1X3BhdHRlcm5fdGxfYiIsInVfcGF0dGVybl9icl9iIiwidV9mYWRlIiwic3RlbmNpbE1vZGVGb3JDbGlwcGluZyIsInVfcmF0aW8iLCJpc1BhdHRlcm5NaXNzaW5nIiwidV9zY2FsZV9hIiwidV9zY2FsZV9iIiwic2V0UGF0dGVyblVuaWZvcm1zIiwidV90aWxlX3VuaXRzX3RvX3BpeGVscyIsIm51bVRpbGVzIiwidGlsZVNpemVBdE5lYXJlc3Rab29tIiwicGl4ZWxYIiwicGl4ZWxZIiwidV9waXhlbF9jb29yZF91cHBlciIsInVfcGl4ZWxfY29vcmRfbG93ZXIiLCJkcmF3RmlsbFRpbGVzIiwiZHJhd0ZuIiwiZmlyc3RUaWxlIiwiZHJhd0ZpbGxUaWxlIiwic2V0RmlsbFByb2dyYW0iLCJkcmF3U3Ryb2tlVGlsZSIsInVfd29ybGQiLCJpbmRleEJ1ZmZlcjIiLCJzZWdtZW50czIiLCJwcm9ncmFtSWQiLCJwYXQiLCJwcmV2UHJvZ3JhbSIsInByZXBhcmVQYXR0ZXJuIiwibWF0MyIsImdsTWF0cml4IiwidmVjMyIsImRyYXdFeHRydXNpb24iLCJ1X2hlaWdodF9mYWN0b3IiLCJfbHAiLCJsaWdodFBvcyIsImxpZ2h0TWF0IiwiZnJvbVJvdGF0aW9uIiwidHJhbnNmb3JtTWF0MyIsInVuaWZvcm0zZnYiLCJ1X2xpZ2h0cG9zIiwidV9saWdodGludGVuc2l0eSIsInVuaWZvcm0zZiIsInVfbGlnaHRjb2xvciIsInJlbmRlckhpbGxzaGFkZSIsImF6aW11dGhhbCIsInVfbGlnaHQiLCJsYXRSYW5nZSIsImNvb3JkaW5hdGUwIiwidG9Db29yZGluYXRlIiwiY29vcmRpbmF0ZTEiLCJjb29yZGluYXRlTG9jYXRpb24iLCJnZXRUaWxlTGF0UmFuZ2UiLCJ1X2xhdHJhbmdlIiwic2hhZG93Q29sb3IiLCJ1bmlmb3JtNGYiLCJ1X3NoYWRvdyIsImhpZ2hsaWdodENvbG9yIiwidV9oaWdobGlnaHQiLCJhY2NlbnRDb2xvciIsInVfYWNjZW50IiwicmFzdGVyQm91bmRzQnVmZmVyIiwicmFzdGVyQm91bmRzVkFPIiwiZHJhd0FycmF5cyIsIlRSSUFOR0xFX1NUUklQIiwicHJlcGFyZUhpbGxzaGFkZSIsInNvdXJjZU1heFpvb20iLCJwaXhlbERhdGEiLCJnZXRQaXhlbHMiLCJURVhUVVJFMSIsInJlbmRlclRleHR1cmUiLCJvcnRobyIsInVfem9vbSIsInVfZGltZW5zaW9uIiwidV9tYXh6b29tIiwiZ2V0RmFkZVZhbHVlcyIsInNpbmNlVGlsZSIsInNpbmNlUGFyZW50IiwiaWRlYWxaIiwiY292ZXJpbmdab29tTGV2ZWwiLCJmYWRlSW4iLCJjaGlsZE9wYWNpdHkiLCJtaXgiLCJkcmF3RGVidWdUaWxlIiwidV9jb2xvciIsImRlYnVnVkFPIiwiZGVidWdCdWZmZXIiLCJMSU5FX1NUUklQIiwidmVydGljZXMiLCJiYXNlbGluZSIsImxlbiIsImxlbjIiLCJzdHJva2VzIiwic2ltcGxleEZvbnQiLCJjcmVhdGVUZXh0VmVydGljaWVzIiwiZGVidWdUZXh0QXJyYXkiLCJQb3NBcnJheSIsImRlYnVnVGV4dEJ1ZmZlciIsInBvc0F0dHJpYnV0ZXMiLCJvbmVQaXhlbCIsInRyYW5zbGF0aW9ucyIsInRyYW5zbGF0aW9uIiwiICIsIiEiLCJcIiIsIiMiLCIkIiwiJSIsIiYiLCInIiwiKCIsIikiLCIqIiwiKyIsIiwiLCItIiwiLiIsIi8iLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiLCI6IiwiOyIsIjwiLCI9IiwiPiIsIj8iLCJAIiwiQSIsIkIiLCJDIiwiRCIsIkUiLCJGIiwiRyIsIkgiLCJJIiwiSiIsIksiLCJMIiwiTSIsIk4iLCJPIiwiUCIsIlEiLCJSIiwiUyIsIlQiLCJVIiwiViIsIlciLCJYIiwiWSIsIloiLCJbIiwiXFwiLCJdIiwiXiIsIl8iLCJgIiwibyIsInUiLCJ7IiwifCIsIn0iLCJ+IiwicmVuZGVyUGFzcyIsImRyYXdDb2xsaXNpb25EZWJ1ZyIsInN0cm9rZVdpZHRoIiwic3Ryb2tlT3BhY2l0eSIsInVfc2NhbGVfd2l0aF9tYXAiLCJoZWF0bWFwRmJvIiwiYmluZFRleHR1cmVUb0ZyYW1lYnVmZmVyIiwiSEFMRl9GTE9BVF9PRVMiLCJjaGVja0ZyYW1lYnVmZmVyU3RhdHVzIiwiRlJBTUVCVUZGRVJfQ09NUExFVEUiLCJ1X2ludGVuc2l0eSIsImNvbG9yUmFtcFRleHR1cmUiLCJjb2xvclJhbXAiLCJ1X29wYWNpdHkiLCJ1X2NvbG9yX3JhbXAiLCJ2aWV3cG9ydFZBTyIsInZpZXdwb3J0QnVmZmVyIiwicmVuZGVyVGV4dHVyZVRvTWFwIiwicHJldlRpbGVab29tIiwiZmlsbC1leHRydXNpb24iLCJyZW5kZXJUYXJnZXQiLCJ2aWV3cG9ydEZyYW1lIiwiZGVwdGhSYm9OZWVkc0NsZWFyIiwic2V0dXBPZmZzY3JlZW5EZXB0aFJlbmRlcmJ1ZmZlciIsImRlcHRoUmJvIiwiTEVRVUFMIiwiZHJhd1RvRXh0cnVzaW9uRnJhbWVidWZmZXIiLCJyZW5kZXJlZFRleHR1cmUiLCJkcmF3RXh0cnVzaW9uVGV4dHVyZSIsInRpbGVJRHMiLCJzYXR1cmF0aW9uIiwiY29udHJhc3QiLCJ1X2JyaWdodG5lc3NfbG93IiwidV9icmlnaHRuZXNzX2hpZ2giLCJ1X3NhdHVyYXRpb25fZmFjdG9yIiwidV9jb250cmFzdF9mYWN0b3IiLCJ1X3NwaW5fd2VpZ2h0cyIsInNwaW5XZWlnaHRzIiwidV9idWZmZXJfc2NhbGUiLCJ1X2ltYWdlMCIsInVfaW1hZ2UxIiwibWluVGlsZVoiLCJmYWRlIiwicGFyZW50U2NhbGVCeSIsInBhcmVudFRMIiwidV90bF9wYXJlbnQiLCJ1X3NjYWxlX3BhcmVudCIsInVfZmFkZV90IiwidGlsZUV4dGVudFBhdHRlcm5WQU8iLCJ0aWxlRXh0ZW50QnVmZmVyIiwidW5pZm9ybTRmdiIsIlBhaW50ZXIiLCJfdGlsZVRleHR1cmVzIiwic2V0dXAiLCJudW1TdWJsYXllcnMiLCJkZXB0aEVwc2lsb24iLCJlbXB0eVByb2dyYW1Db25maWd1cmF0aW9uIiwiUHJvZ3JhbUNvbmZpZ3VyYXRpb24iLCJlZGdlIiwieDAiLCJ5MCIsInNjYW5TcGFucyIsImUwIiwiZTEiLCJ5bWluIiwieW1heCIsInNjYW5MaW5lIiwibTAiLCJtMSIsImQwIiwiZDEiLCJzY2FuVHJpYW5nbGUiLCJhYiIsImJjIiwiY2EiLCJ0aWxlRXh0ZW50QXJyYXkiLCJkZWJ1Z0FycmF5IiwicmFzdGVyQm91bmRzQXJyYXkiLCJ2aWV3cG9ydEFycmF5IiwiX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzIiwiaWROZXh0IiwiX3RpbGVDbGlwcGluZ01hc2tJRHMiLCJSRVBMQUNFIiwiRVFVQUwiLCJfc2hvd092ZXJkcmF3SW5zcGVjdG9yIiwiQ09OU1RBTlRfQ09MT1IiLCJmYXJEZXB0aCIsImN1cnJlbnRMYXllciIsIm5lYXJEZXB0aCIsInJlbmRlciIsInJhc3RlclNvdXJjZXMiLCJzYyIsInVwZGF0ZVRpbGVNYXNrcyIsImhhc09mZnNjcmVlblBhc3MiLCJjb29yZHMkMSIsInNvdXJjZUNhY2hlJDIiLCJyZXZlcnNlIiwicmVuZGVyTGF5ZXIiLCJibGFjayIsImNvb3JkcyQyIiwic291cmNlQ2FjaGUkMyIsImNvb3JkcyQzIiwic291cmNlQ2FjaGUkNCIsInNob3dUaWxlQm91bmRhcmllcyIsIkRFUFRIX0NPTVBPTkVOVDE2IiwiaW5WaWV3cG9ydFBpeGVsVW5pdHNVbml0cyIsInNpbkEiLCJjb3NBIiwidHJhbnNsYXRlZE1hdHJpeCIsInRleHR1cmVzIiwicG9wIiwiX2NyZWF0ZVByb2dyYW1DYWNoZWQiLCJjYWNoZSIsImNhY2hlS2V5IiwibmV4dFByb2dyYW0iLCJtYXQyIiwiVHJhbnNmb3JtIiwibWluWm9vbSIsInJlbmRlcldvcmxkQ29waWVzIiwiX3JlbmRlcldvcmxkQ29waWVzIiwiX21pblpvb20iLCJfbWF4Wm9vbSIsIl9jZW50ZXIiLCJfZm92IiwiX3VubW9kaWZpZWQiLCJfcG9zTWF0cml4Q2FjaGUiLCJfYWxpZ25lZFBvc01hdHJpeENhY2hlIiwiX2NhbGNNYXRyaWNlcyIsInByb3RvdHlwZUFjY2Vzc29ycyIsIndvcmxkU2l6ZSIsImNlbnRlclBvaW50IiwiX2RpdiIsInJvdGF0aW9uTWF0cml4IiwiZm92IiwiX3pvb20iLCJ6b29tU2NhbGUiLCJ6b29tRnJhY3Rpb24iLCJfY29uc3RyYWluIiwidWwiLCJwb2ludENvb3JkaW5hdGUiLCJ1ciIsIncwIiwidzEiLCJVbndyYXBwZWRUaWxlSUQiLCJhY3R1YWxaIiwid3giLCJ0aWxlQ292ZXIiLCJ1bm1vZGlmaWVkIiwiTE4yIiwibG5nbGF0IiwidW5wcm9qZWN0IiwieExuZyIsInlMYXQiLCJ0YW4iLCJhdGFuIiwiZXhwIiwic2V0TG9jYXRpb25BdFBvaW50IiwiX3N1YiIsImxvY2F0aW9uUG9pbnQiLCJjb29yZGluYXRlUG9pbnQiLCJwb2ludExvY2F0aW9uIiwiY29vcmQwIiwiY29vcmQxIiwicGl4ZWxNYXRyaXhJbnZlcnNlIiwiejAiLCJ6MSIsIl96b29tVG8iLCJwaXhlbE1hdHJpeCIsInVud3JhcHBlZFRpbGVJRCIsImFsaWduZWQiLCJwb3NNYXRyaXhLZXkiLCJ1bndyYXBwZWRYIiwiYWxpZ25lZFByb2pNYXRyaXgiLCJwcm9qTWF0cml4IiwiX2NvbnN0cmFpbmluZyIsInN5Iiwic3giLCJsbmdSYW5nZSIsImgyIiwidzIiLCJoYWxmRm92IiwiZ3JvdW5kQW5nbGUiLCJ0b3BIYWxmU3VyZmFjZURpc3RhbmNlIiwiZmFyWiIsInBlcnNwZWN0aXZlIiwicm90YXRlWCIsInZlcnRpY2FsU2NhbGUiLCJ4U2hpZnQiLCJ5U2hpZnQiLCJhbmdsZUNvcyIsImFuZ2xlU2luIiwiYWxpZ25lZE0iLCJpbnZlcnQiLCJIYXNoIiwidGltZSIsInBlbmRpbmciLCJ0aW1lcklkIiwibGF0ZXIiLCJfdXBkYXRlSGFzaCIsIl91cGRhdGVIYXNoVW50aHJvdHRsZWQiLCJhZGRUbyIsIl9tYXAiLCJfb25IYXNoQ2hhbmdlIiwiZ2V0SGFzaFN0cmluZyIsIm1hcEZlZWRiYWNrIiwiTE4xMCIsImdldEJlYXJpbmciLCJnZXRQaXRjaCIsImhhc2giLCJsb2MiLCJsb2NhdGlvbiIsImp1bXBUbyIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJNYXBNb3VzZUV2ZW50Iiwib3JpZ2luYWxFdmVudCIsImdldENhbnZhc0NvbnRhaW5lciIsImxuZ0xhdCIsIl9kZWZhdWx0UHJldmVudGVkIiwiZGVmYXVsdFByZXZlbnRlZCIsIk1hcFRvdWNoRXZlbnQiLCJsbmdMYXRzIiwiY3VyciIsImFyciIsImRpdiIsInByb3RvdHlwZUFjY2Vzc29ycyQxIiwiTWFwV2hlZWxFdmVudCIsInByb3RvdHlwZUFjY2Vzc29ycyQyIiwiU2Nyb2xsWm9vbUhhbmRsZXIiLCJfZWwiLCJfZGVsdGEiLCJpc0VuYWJsZWQiLCJfZW5hYmxlZCIsImlzQWN0aXZlIiwiX2FjdGl2ZSIsIl9hcm91bmRDZW50ZXIiLCJhcm91bmQiLCJvbldoZWVsIiwiZGVsdGFNb2RlIiwiV2hlZWxFdmVudCIsIkRPTV9ERUxUQV9MSU5FIiwiZGVsdGFZIiwidGltZURlbHRhIiwiX2xhc3RXaGVlbEV2ZW50VGltZSIsIl90eXBlIiwiX2xhc3RWYWx1ZSIsIl90aW1lb3V0IiwiX29uVGltZW91dCIsInNoaWZ0S2V5IiwiX2xhc3RXaGVlbEV2ZW50IiwiX3N0YXJ0IiwiaW5pdGlhbEV2ZW50IiwiX2ZyYW1lSWQiLCJfY2FuY2VsUmVuZGVyRnJhbWUiLCJfZmluaXNoVGltZW91dCIsIl9hcm91bmQiLCJfYXJvdW5kUG9pbnQiLCJfcmVxdWVzdFJlbmRlckZyYW1lIiwiX29uU2Nyb2xsRnJhbWUiLCJ6b29tUmF0ZSIsIl90YXJnZXRab29tIiwiX3N0YXJ0Wm9vbSIsIl9lYXNpbmciLCJfc21vb3RoT3V0RWFzaW5nIiwiZmluaXNoZWQiLCJlYXNpbmciLCJfZWFzZSIsIl9wcmV2RWFzZSIsImVhc2UiLCJzdGFydCIsInNwZWVkIiwiYmV6aWVyIiwiQm94Wm9vbUhhbmRsZXIiLCJfY29udGFpbmVyIiwiZ2V0Q29udGFpbmVyIiwib25Nb3VzZURvd24iLCJfb25Nb3VzZU1vdmUiLCJfb25LZXlEb3duIiwiX29uTW91c2VVcCIsIl9zdGFydFBvcyIsInAwIiwicDEiLCJfYm94IiwiY2xhc3NMaXN0IiwiX2ZpcmVFdmVudCIsIl9maW5pc2giLCJmaXRCb3VuZHMiLCJsaW5lYXIiLCJib3hab29tQm91bmRzIiwia2V5Q29kZSIsImluZXJ0aWFFYXNpbmciLCJEcmFnUm90YXRlSGFuZGxlciIsImVsZW1lbnQiLCJfc3RhdGUiLCJfYnV0dG9uIiwiX2JlYXJpbmdTbmFwIiwiYmVhcmluZ1NuYXAiLCJfcGl0Y2hXaXRoUm90YXRlIiwicGl0Y2hXaXRoUm90YXRlIiwiX3VuYmluZCIsIl9kZWFjdGl2YXRlIiwiX2V2ZW50QnV0dG9uIiwiX29uQmx1ciIsIl9pbmVydGlhIiwiX3ByZXZpb3VzUG9zIiwiX2xhc3RNb3ZlRXZlbnQiLCJfcG9zIiwiX29uRHJhZ0ZyYW1lIiwicDIiLCJiZWFyaW5nRGlmZiIsInBpdGNoRGlmZiIsImluZXJ0aWEiLCJfZHJhaW5JbmVydGlhQnVmZmVyIiwiX25vcm1hbGl6ZUJlYXJpbmciLCJfaW5lcnRpYWxSb3RhdGUiLCJtYXBCZWFyaW5nIiwiZmluaXNoIiwicmVzZXROb3J0aCIsIm5vTW92ZVN0YXJ0IiwicHJldmlvdXMiLCJmbGluZ0RpZmYiLCJzaWduIiwiZmxpbmdEdXJhdGlvbiIsInJvdGF0ZVRvIiwic2hpZnQiLCJEcmFnUGFuSGFuZGxlciIsIl9vbk1vdmUiLCJvblRvdWNoU3RhcnQiLCJwYXNzaXZlIiwiX29uVG91Y2hFbmQiLCJfaW5lcnRpYWxQYW4iLCJmbGluZ09mZnNldCIsInZlbG9jaXR5IiwicGFuQnkiLCJLZXlib2FyZEhhbmRsZXIiLCJlYXNlT3V0IiwiYWx0S2V5IiwibWV0YUtleSIsInpvb21EaXIiLCJiZWFyaW5nRGlyIiwicGl0Y2hEaXIiLCJ4RGlyIiwieURpciIsImVhc2VPcHRpb25zIiwiZGVsYXlFbmRFdmVudHMiLCJlYXNlVG8iLCJEb3VibGVDbGlja1pvb21IYW5kbGVyIiwiX3RhcHBlZCIsIm9uRGJsQ2xpY2siLCJfb25ab29tRW5kIiwiVG91Y2hab29tUm90YXRlSGFuZGxlciIsImRpc2FibGVSb3RhdGlvbiIsIl9yb3RhdGlvbkRpc2FibGVkIiwiZW5hYmxlUm90YXRpb24iLCJvblN0YXJ0IiwiX3N0YXJ0VmVjIiwiX2dlc3R1cmVJbnRlbnQiLCJfb25FbmQiLCJfZ2V0VG91Y2hFdmVudERhdGEiLCJ2ZWMiLCJhbmdsZVdpdGgiLCJzY2FsaW5nU2lnbmlmaWNhbnRseSIsIl9sYXN0VG91Y2hFdmVudCIsIl9vblRvdWNoRnJhbWUiLCJnZXN0dXJlSW50ZW50IiwiX3N0YXJ0U2NhbGUiLCJfc3RhcnRCZWFyaW5nIiwiYXJvdW5kUG9pbnQiLCJzdGFydFNjYWxlIiwic25hcFRvTm9ydGgiLCJsYXN0U2NhbGUiLCJmaXJzdFNjYWxlIiwic2NhbGVPZmZzZXQiLCJzY2FsZUR1cmF0aW9uIiwidGFyZ2V0U2NhbGUiLCJoYW5kbGVycyIsInNjcm9sbFpvb20iLCJib3hab29tIiwiZHJhZ1JvdGF0ZSIsImRyYWdQYW4iLCJrZXlib2FyZCIsImRvdWJsZUNsaWNrWm9vbSIsInRvdWNoWm9vbVJvdGF0ZSIsIkNhbWVyYSIsIl9tb3ZpbmciLCJfem9vbWluZyIsImV2ZW50RGF0YSIsInBhblRvIiwiem9vbUluIiwiem9vbU91dCIsImJvdHRvbSIsInBhZGRpbmdPZmZzZXQiLCJsYXRlcmFsUGFkZGluZyIsInZlcnRpY2FsUGFkZGluZyIsIm53Iiwic2UiLCJzY2FsZVgiLCJzY2FsZVkiLCJmbHlUbyIsInN0b3AiLCJ6b29tQ2hhbmdlZCIsImJlYXJpbmdDaGFuZ2VkIiwicGl0Y2hDaGFuZ2VkIiwiZGVmYXVsdEVhc2luZyIsInN0YXJ0Wm9vbSIsInN0YXJ0QmVhcmluZyIsInN0YXJ0UGl0Y2giLCJwb2ludEF0T2Zmc2V0IiwibG9jYXRpb25BdE9mZnNldCIsIl9ub3JtYWxpemVDZW50ZXIiLCJmaW5hbFNjYWxlIiwiX3JvdGF0aW5nIiwiX3BpdGNoaW5nIiwiX3ByZXBhcmVFYXNlIiwiX2Vhc2VFbmRUaW1lb3V0SUQiLCJiYXNlIiwic3BlZWR1cCIsIm5ld0NlbnRlciIsIl9maXJlTW92ZUV2ZW50cyIsIl9hZnRlckVhc2UiLCJ3YXNab29taW5nIiwid2FzUm90YXRpbmciLCJ3YXNQaXRjaGluZyIsImN1cnZlIiwicmhvIiwidTEiLCJ3TWF4IiwicmhvMiIsInNpbmgiLCJjb3NoIiwicjAiLCJpc0Zpbml0ZSIsInNjcmVlblNwZWVkIiwibWF4RHVyYXRpb24iLCJpc0Vhc2luZyIsIl9lYXNlRnJhbWVJZCIsIl9vbkVhc2VGcmFtZSIsIl9vbkVhc2VFbmQiLCJvbkVhc2VFbmQiLCJfZWFzZVN0YXJ0IiwiX2Vhc2VPcHRpb25zIiwiX3JlbmRlckZyYW1lQ2FsbGJhY2siLCJjdXJyZW50QmVhcmluZyIsImRpZmYiLCJBdHRyaWJ1dGlvbkNvbnRyb2wiLCJnZXREZWZhdWx0UG9zaXRpb24iLCJjb21wYWN0IiwiX3VwZGF0ZUF0dHJpYnV0aW9ucyIsIl91cGRhdGVFZGl0TGluayIsIl91cGRhdGVEYXRhIiwiX3VwZGF0ZUNvbXBhY3QiLCJlZGl0TGluayIsIl9lZGl0TGluayIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZU93bmVyIiwic3R5bGVJZCIsInBhcmFtU3RyaW5nIiwiYWNjIiwibmV4dCIsIl9oYXNoIiwiYXR0cmlidXRpb25zIiwib3duZXIiLCJhdHRyaWJ1dGlvbiIsImF0dHJpYiIsImlubmVySFRNTCIsIm9mZnNldFdpZHRoIiwiTG9nb0NvbnRyb2wiLCJzZXRBdHRyaWJ1dGUiLCJkaXNwbGF5IiwiX3VwZGF0ZUxvZ28iLCJfbG9nb1JlcXVpcmVkIiwibWFwYm94X2xvZ28iLCJUYXNrUXVldWUiLCJfcXVldWUiLCJfaWQiLCJfY2xlYXJlZCIsIl9jdXJyZW50bHlSdW5uaW5nIiwiY2FuY2VsbGVkIiwicnVubmluZyIsInRhc2siLCJydW4iLCJxdWV1ZSIsIkhUTUxFbGVtZW50IiwiZGVmYXVsdE9wdGlvbnMiLCJpbnRlcmFjdGl2ZSIsImF0dHJpYnV0aW9uQ29udHJvbCIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsInRyYWNrUmVzaXplIiwicmVmcmVzaEV4cGlyZWRUaWxlcyIsIm1heFRpbGVDYWNoZVNpemUiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiTWFwIiwiX2ludGVyYWN0aXZlIiwiX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQiLCJfcHJlc2VydmVEcmF3aW5nQnVmZmVyIiwiX3RyYWNrUmVzaXplIiwiX2ZhZGVEdXJhdGlvbiIsIl9jcm9zc0ZhZGluZ0ZhY3RvciIsIl9yZW5kZXJUYXNrUXVldWUiLCJ0cmFuc2Zvcm1SZXF1ZXN0Rm4iLCJtYXhCb3VuZHMiLCJzZXRNYXhCb3VuZHMiLCJfc2V0dXBDb250YWluZXIiLCJfc2V0dXBQYWludGVyIiwiX29uV2luZG93T25saW5lIiwiX29uV2luZG93UmVzaXplIiwiY29udGV4dE1lbnVFdmVudCIsIm1vdXNlRG93biIsIm1hcEV2ZW50IiwidG9FbGVtZW50IiwiYmluZEhhbmRsZXJzIiwiYWRkQ29udHJvbCIsImxvZ29Qb3NpdGlvbiIsIl9vbkRhdGEiLCJfb25EYXRhTG9hZGluZyIsImNvbnRyb2wiLCJjb250cm9sRWxlbWVudCIsInBvc2l0aW9uQ29udGFpbmVyIiwiX2NvbnRyb2xQb3NpdGlvbnMiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ29udHJvbCIsImRpbWVuc2lvbnMiLCJfY29udGFpbmVyRGltZW5zaW9ucyIsIl9yZXNpemVDYW52YXMiLCJnZXRCb3VuZHMiLCJnZXRNYXhCb3VuZHMiLCJsbmdsYXRib3VuZHMiLCJzZXRNaW5ab29tIiwiZ2V0TWluWm9vbSIsInNldE1heFpvb20iLCJnZXRSZW5kZXJXb3JsZENvcGllcyIsInNldFJlbmRlcldvcmxkQ29waWVzIiwiZ2V0TWF4Wm9vbSIsImlzTW92aW5nIiwiaXNab29taW5nIiwiaXNSb3RhdGluZyIsImxpc3RlbmVyIiwiZGVsZWdhdGVkTGlzdGVuZXIiLCJtb3VzZWluIiwiZGVsZWdhdGVzIiwiX2RlbGVnYXRlZExpc3RlbmVycyIsImxpc3RlbmVycyIsImdlb21ldHJ5IiwiYXJndW1lbnRzIiwiX21ha2VRdWVyeUdlb21ldHJ5IiwicG9pbnRPckJveCIsImdldFN0eWxlIiwiaXNTdHlsZUxvYWRlZCIsImFyZVRpbGVzTG9hZGVkIiwiaGFzSW1hZ2UiLCJsb2FkSW1hZ2UiLCJiZWZvcmVJZCIsIl9jYW52YXNDb250YWluZXIiLCJfY2FudmFzIiwib2Zmc2V0SGVpZ2h0IiwiX21pc3NpbmdDU1NDb250YWluZXIiLCJjYW52YXNDb250YWluZXIiLCJfY29udGV4dExvc3QiLCJfY29udGV4dFJlc3RvcmVkIiwiY29udHJvbENvbnRhaW5lciIsIl9jb250cm9sQ29udGFpbmVyIiwicG9zaXRpb25OYW1lIiwiX3N0eWxlRGlydHkiLCJfc291cmNlc0RpcnR5IiwidXBkYXRlU3R5bGUiLCJfcmVuZGVyIiwiY3Jvc3NGYWRpbmciLCJFdmFsdWF0aW9uUGFyYW1ldGVycyIsImZhY3RvciIsImNyb3NzRmFkaW5nRmFjdG9yIiwiX3BsYWNlbWVudERpcnR5IiwiX3JlcGFpbnQiLCJsb3NlQ29udGV4dCIsInJlbW92ZU5vZGUiLCJfc2hvd1RpbGVCb3VuZGFyaWVzIiwicmVwYWludCIsIl92ZXJ0aWNlcyIsInNob3dDb21wYXNzIiwic2hvd1pvb20iLCJOYXZpZ2F0aW9uQ29udHJvbCIsIl96b29tSW5CdXR0b24iLCJfY3JlYXRlQnV0dG9uIiwiX3pvb21PdXRCdXR0b24iLCJfY29tcGFzcyIsIl9jb21wYXNzQXJyb3ciLCJfcm90YXRlQ29tcGFzc0Fycm93IiwiX2hhbmRsZXIiLCJhcmlhTGFiZWwiLCJhbmNob3JUcmFuc2xhdGUiLCJ0b3AtbGVmdCIsInRvcC1yaWdodCIsImJvdHRvbS1sZWZ0IiwiYm90dG9tLXJpZ2h0IiwiYXBwbHlBbmNob3JDbGFzcyIsInByZWZpeCIsIk1hcmtlciIsIl9hbmNob3IiLCJfZWxlbWVudCIsIl9vZmZzZXQiLCJzdmciLCJjcmVhdGVOUyIsInNldEF0dHJpYnV0ZU5TIiwibWFya2VyTGFyZ2UiLCJwYWdlMSIsInNoYWRvdyIsInJ4IiwicnkiLCJlbGxpcHNlIiwiYmdQYXRoIiwiYm9yZGVyIiwiYm9yZGVyUGF0aCIsIm1ha2kiLCJjaXJjbGVDb250YWluZXIiLCJjaXJjbGUxIiwiY2lyY2xlMiIsIl9wb3B1cCIsIl9vbk1hcENsaWNrIiwiZ2V0TG5nTGF0IiwiX2xuZ0xhdCIsInNldExuZ0xhdCIsImdldEVsZW1lbnQiLCJzZXRQb3B1cCIsInBvcHVwIiwidGFyZ2V0RWxlbWVudCIsInRvZ2dsZVBvcHVwIiwiZ2V0UG9wdXAiLCJpc09wZW4iLCJzbWFydFdyYXAiLCJnZXRPZmZzZXQiLCJzZXRPZmZzZXQiLCJzdXBwb3J0c0dlb2xvY2F0aW9uIiwicG9zaXRpb25PcHRpb25zIiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwibWF4aW11bUFnZSIsInRpbWVvdXQiLCJmaXRCb3VuZHNPcHRpb25zIiwidHJhY2tVc2VyTG9jYXRpb24iLCJzaG93VXNlckxvY2F0aW9uIiwiR2VvbG9jYXRlQ29udHJvbCIsIl9zZXR1cFVJIiwicGVybWlzc2lvbnMiLCJ0aGVuIiwiZ2VvbG9jYXRpb24iLCJfZ2VvbG9jYXRpb25XYXRjaElEIiwiY2xlYXJXYXRjaCIsIl91c2VyTG9jYXRpb25Eb3RNYXJrZXIiLCJfb25TdWNjZXNzIiwiX2xhc3RLbm93blBvc2l0aW9uIiwiX3dhdGNoU3RhdGUiLCJfZ2VvbG9jYXRlQnV0dG9uIiwiX3VwZGF0ZU1hcmtlciIsIl91cGRhdGVDYW1lcmEiLCJfZG90RWxlbWVudCIsImxvbmdpdHVkZSIsImxhdGl0dWRlIiwiYWNjdXJhY3kiLCJnZW9sb2NhdGVTb3VyY2UiLCJfb25FcnJvciIsImNvZGUiLCJfY2xlYXJXYXRjaCIsIl90aW1lb3V0SWQiLCJfb25DbGlja0dlb2xvY2F0ZSIsIndhdGNoUG9zaXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJtYXhXaWR0aCIsInVuaXQiLCJTY2FsZUNvbnRyb2wiLCJ1cGRhdGVTY2FsZSIsImxhdGxuZzEiLCJsYXRsbmcyIiwicmFkIiwibGF0MSIsImxhdDIiLCJjbGllbnRIZWlnaHQiLCJtYXhNZXRlcnMiLCJhY29zIiwibWF4RmVldCIsInNldFNjYWxlIiwibWF4RGlzdGFuY2UiLCJwb3cxMCIsImRpc3RhbmNlIiwicmF0aW8iLCJzZXRVbml0IiwiRnVsbHNjcmVlbkNvbnRyb2wiLCJfZnVsbHNjcmVlbiIsIl9mdWxsc2NyZWVuY2hhbmdlIiwiX2NsYXNzTmFtZSIsIl9tYXBDb250YWluZXIiLCJfY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCIsIl9jaGFuZ2VJY29uIiwiZnVsbHNjcmVlbkVuYWJsZWQiLCJtb3pGdWxsU2NyZWVuRW5hYmxlZCIsIm1zRnVsbHNjcmVlbkVuYWJsZWQiLCJ3ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCIsIl9mdWxsc2NyZWVuQnV0dG9uIiwiX29uQ2xpY2tGdWxsc2NyZWVuIiwiX2lzRnVsbHNjcmVlbiIsImZ1bGxzY3JlZW5FbGVtZW50IiwibW96RnVsbFNjcmVlbkVsZW1lbnQiLCJ3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCIsIm1zRnVsbHNjcmVlbkVsZW1lbnQiLCJ0b2dnbGUiLCJleGl0RnVsbHNjcmVlbiIsIm1vekNhbmNlbEZ1bGxTY3JlZW4iLCJtc0V4aXRGdWxsc2NyZWVuIiwid2Via2l0Q2FuY2VsRnVsbFNjcmVlbiIsInJlcXVlc3RGdWxsc2NyZWVuIiwibW96UmVxdWVzdEZ1bGxTY3JlZW4iLCJtc1JlcXVlc3RGdWxsc2NyZWVuIiwid2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4iLCJjbG9zZUJ1dHRvbiIsImNsb3NlT25DbGljayIsIlBvcHVwIiwiX29uQ2xpY2tDbG9zZSIsIl9jb250ZW50Iiwic2V0VGV4dCIsInNldERPTUNvbnRlbnQiLCJjcmVhdGVUZXh0Tm9kZSIsInNldEhUTUwiLCJodG1sIiwiY2hpbGQiLCJmcmFnIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsInRlbXAiLCJodG1sTm9kZSIsIl9jcmVhdGVDb250ZW50IiwiX2Nsb3NlQnV0dG9uIiwiX3RpcCIsIm5vcm1hbGl6ZU9mZnNldCIsImNvcm5lck9mZnNldCIsImNvbnZlcnRlZE9mZnNldCIsImFuY2hvckNvbXBvbmVudHMiLCJvZmZzZXRlZFBvcyIsInNldFJUTFRleHRQbHVnaW4iLCJ0b2tlbiIsIndvcmtlclVybCJdLCJtYXBwaW5ncyI6InlGQWlCQSxTQUFTQSxFQUFZQyxHQUNqQixTQWF5QixvQkFBWEMsUUFBOEMsb0JBQWJDLFVBSzNDQyxNQUFNQyxXQUNORCxNQUFNQyxVQUFVQyxPQUNoQkYsTUFBTUMsVUFBVUUsUUFDaEJILE1BQU1DLFVBQVVHLFNBQ2hCSixNQUFNQyxVQUFVSSxTQUNoQkwsTUFBTUMsVUFBVUssYUFDaEJOLE1BQU1DLFVBQVVNLEtBQ2hCUCxNQUFNQyxVQUFVTyxNQUNoQlIsTUFBTUMsVUFBVVEsUUFDaEJULE1BQU1DLFVBQVVTLGFBQ2hCVixNQUFNVyxTQUtIQyxTQUFTWCxXQUFhVyxTQUFTWCxVQUFVWSxNQUs1Q0MsT0FBT0MsTUFDUEQsT0FBT0UsUUFDUEYsT0FBT0csZ0JBQ1BILE9BQU9JLHFCQUNQSixPQUFPSyxVQUNQTCxPQUFPTSxVQUNQTixPQUFPTyxjQUNQUCxPQUFPUSwwQkFDUFIsT0FBT1MsZ0JBQ1BULE9BQU9VLGtCQUNQVixPQUFPVyxNQUNQWCxPQUFPWSxRQUNQWixPQUFPYSxtQkFLSixTQUFVN0IsUUFBVSxVQUFXOEIsTUFBUSxjQUFlQSxNQUdqRSxXQUNJLGdCQUFrQjlCLFFBQVUsU0FBVUEsUUFBVSxRQUFTQSxRQUNyRCxPQUFPLEVBR1gsSUFFSStCLEVBQ0FDLEVBSEFDLEVBQU8sSUFBSUMsTUFBTSxLQUFPQyxLQUFNLG9CQUM5QkMsRUFBWUMsSUFBSUMsZ0JBQWdCTCxHQUlwQyxJQUNJRCxFQUFTLElBQUlPLE9BQU9ILEdBQ3BCTCxHQUFZLEVBQ2QsTUFBT1MsR0FDTFQsR0FBWSxFQUdaQyxHQUNBQSxFQUFPUyxZQUlYLE9BRkFKLElBQUlLLGdCQUFnQk4sR0FFYkwsRUExRUhZLElBZ0ZHLHNCQUF1QjNDLFFBSWxDLFNBQWdDNEMsUUFFZ0NDLElBQXhEQyxFQUFzQkYsS0FDdEJFLEVBQXNCRixHQWE5QixTQUEwQkEsR0FFdEIsSUFBSUcsRUFBUzlDLFNBQVMrQyxjQUFjLFVBRWhDQyxFQUFhakMsT0FBT0UsT0FBT3BCLEVBQVlvRCx3QkFHM0MsT0FGQUQsRUFBV0wsNkJBQStCQSxFQUV0Q0csRUFBT0ksd0JBRUhKLEVBQU9JLHdCQUF3QixRQUFTRixJQUN4Q0YsRUFBT0ksd0JBQXdCLHFCQUFzQkYsR0FHbERGLEVBQU9LLGdCQUVWTCxFQUFPSyxnQkFBZ0IsUUFBU0gsSUFDaENGLEVBQU9LLGdCQUFnQixxQkFBc0JILEdBSzdDRixFQUFPTSxXQUFXLFFBQVNKLElBQzNCRixFQUFPTSxXQUFXLHFCQUFzQkosR0FuQ1VLLENBQWlCVixJQUczRSxPQUFPRSxFQUFzQkYsR0F4RnpCVyxDQUF1QnhELEdBQVdBLEVBQVE2QywrQkF4QmJZLEVBQU9DLFFBQ3hDRCxVQUFpQjFELEVBQ1ZFLFNBQ1BBLE9BQU8wRCxTQUFXMUQsT0FBTzBELGFBQ3pCMUQsT0FBTzBELFNBQVMzQixVQUFZakMsR0FxR2hDLElBQUlnRCxLQVVKaEQsRUFBWW9ELHdCQUNSUyxXQUFXLEVBQ1hDLE9BQU8sRUFDUEMsU0FBUyxFQUNUQyxPQUFPLEtDckhMQyxFQUFNL0QsVUFBT2dFLGFBQWVoRSxVQUFPZ0UsWUFBWUQsSUFDakQvRCxVQUFPZ0UsWUFBWUQsSUFBSWhELEtBQUtmLFVBQU9nRSxhQUNuQ0MsS0FBS0YsSUFBSWhELEtBQUtrRCxNQUVaQyxFQUFNbEUsVUFBT21FLHVCQUNmbkUsVUFBT29FLDBCQUNQcEUsVUFBT3FFLDZCQUNQckUsVUFBT3NFLHdCQUVMQyxFQUFTdkUsVUFBT3dFLHNCQUNsQnhFLFVBQU95RSx5QkFDUHpFLFVBQU8wRSw0QkFDUDFFLFVBQU8yRSx1QkFLTEMsT0FLRmIsRUFFQWMsZUFBTUMsR0FDRixPQUFPWixFQUFJWSxJQUdmQyxxQkFBWUMsR0FDUixPQUFPVCxFQUFPUyxJQUdsQkMsc0JBQWFDLEdBQ1RDLElBQU1wQyxFQUFTL0MsVUFBT0MsU0FBUytDLGNBQWMsVUFDdkNvQyxFQUFVckMsRUFBT00sV0FBVyxNQUNsQyxJQUFLK0IsRUFDRCxNQUFNLElBQUlDLE1BQU0sc0NBS3BCLE9BSEF0QyxFQUFPdUMsTUFBUUosRUFBSUksTUFDbkJ2QyxFQUFPd0MsT0FBU0wsRUFBSUssT0FDcEJILEVBQVFJLFVBQVVOLEVBQUssRUFBRyxFQUFHQSxFQUFJSSxNQUFPSixFQUFJSyxRQUNyQ0gsRUFBUUgsYUFBYSxFQUFHLEVBQUdDLEVBQUlJLE1BQU9KLEVBQUlLLFNBR3JERSxvQkFBcUJ6RixVQUFPMEYsVUFBVUQscUJBQXVCLEVBQzdERSx1QkFBeUIsT0FBTzNGLFVBQU8yRixrQkFDdkNDLGNBQWMsR0FHbEIsR0FFSTVGLFVBQU9DLFNBQVUsQ0FDakJrRixJQUFNVSxFQUFjN0YsVUFBT0MsU0FBUytDLGNBQWMsT0FDbEQ2QyxFQUFZQyxPQUFTLFdBQ2pCbEIsRUFBU2dCLGNBQWUsR0FFNUJDLEVBQVlFLElBQU0sa0ZDckRoQkMsR0FDTjlFLE9BRWEsU0FBVStFLEVBQVlDLEVBQW9CQyxHQUNuRGhCLElBQU1pQixFQUFLcEcsVUFBT0MsU0FBUytDLGNBQWNpRCxHQUd6QyxPQUZJQyxJQUFXRSxFQUFHRixVQUFZQSxHQUMxQkMsR0FBV0EsRUFBVUUsWUFBWUQsR0FDOUJBLEdBR1hKLFNBQWUsU0FBVU0sRUFBc0JMLEdBRTNDLE9BRFdqRyxVQUFPQyxTQUFTc0csZ0JBQWdCRCxFQUFjTCxLQUl2RE8sRUFBV3hHLFVBQU9DLFNBQ25CRCxVQUFPQyxTQUFTd0csZ0JBQXNCQyxNQUN2QyxLQUVKLFNBQVNDLEVBQVNDLEdBQ2QsSUFBS0osRUFBVSxPQUFPLEtBQ3RCLElBQUtLLElBQUlDLEVBQUksRUFBR0EsRUFBSUYsRUFBTUcsT0FBUUQsSUFDOUIsR0FBSUYsRUFBTUUsS0FBTU4sRUFDWixPQUFPSSxFQUFNRSxHQUdyQixPQUFPRixFQUFNLEdBR2pCekIsSUFDSTZCLEVBREVDLEVBQWFOLEdBQVUsYUFBYyxnQkFBaUIsbUJBQW9CLGlCQUdoRlgsRUFBSWtCLFlBQWMsV0FDVlYsR0FBWVMsSUFDWkQsRUFBYVIsRUFBU1MsR0FDdEJULEVBQVNTLEdBQWMsU0FJL0JqQixFQUFJbUIsV0FBYSxXQUNUWCxHQUFZUyxJQUNaVCxFQUFTUyxHQUFjRCxJQUkvQjdCLElBQU1pQyxFQUFnQlQsR0FBVSxZQUFhLG9CQUU3Q1gsRUFBSXFCLGFBQWUsU0FBU2pCLEVBQWlCa0IsR0FDeENsQixFQUFHTSxNQUFZVSxHQUFpQkUsR0FJckNULElBQUlVLEdBQW1CLEVBRXZCLElBQ0lwQyxJQUFNcEYsRUFBV2lCLE9BQU9TLGtCQUF5QixXQUM3QytGLElBQUssV0FDREQsR0FBbUIsS0FHMUJ2SCxVQUFPeUgsaUJBQXVCLE9BQVExSCxFQUFTQSxHQUMvQ0MsVUFBTzBILG9CQUEwQixPQUFRM0gsRUFBU0EsR0FDckQsTUFBTzRILEdBQ0xKLEdBQW1CLEVBR3ZCdkIsRUFBSXlCLGlCQUFtQixTQUFTRyxFQUFXekYsRUFBUzBGLEVBQWE5SCxzQkFDekQsWUFBYUEsR0FBV3dILEVBQ3hCSyxFQUFPSCxpQkFBaUJ0RixFQUFNMEYsRUFBVzlILEdBRXpDNkgsRUFBT0gsaUJBQWlCdEYsRUFBTTBGLEVBQVU5SCxFQUFRK0gsVUFJeEQ5QixFQUFJMEIsb0JBQXNCLFNBQVNFLEVBQVd6RixFQUFTMEYsRUFBYTlILHNCQUM1RCxZQUFhQSxHQUFXd0gsRUFDeEJLLEVBQU9GLG9CQUFvQnZGLEVBQU0wRixFQUFXOUgsR0FFNUM2SCxFQUFPRixvQkFBb0J2RixFQUFNMEYsRUFBVTlILEVBQVErSCxVQUszRDNDLElBQU00QyxFQUFvQyxTQUFVdkYsR0FDaERBLEVBQUV3RixpQkFDRnhGLEVBQUV5RixrQkFDRmpJLFVBQU8wSCxvQkFBb0IsUUFBU0ssR0FBZSxJQUd2RC9CLEVBQUkrQixjQUFnQixXQUNoQi9ILFVBQU95SCxpQkFBaUIsUUFBU00sR0FBZSxHQUNoRC9ILFVBQU9rSSxzQkFDSGxJLFVBQU8wSCxvQkFBb0IsUUFBU0ssR0FBZSxJQUNwRCxJQUdQL0IsRUFBSW1DLFNBQVcsU0FBVS9CLEVBQWlCNUQsR0FDdEMyQyxJQUFNaUQsRUFBT2hDLEVBQUdpQyx3QkFFaEIsT0FEQTdGLEVBQUlBLEVBQUU4RixRQUFVOUYsRUFBRThGLFFBQVEsR0FBSzlGLEVBQ3hCLElBQUkrRixZQUNQL0YsRUFBRWdHLFFBQVVKLEVBQUtLLEtBQU9yQyxFQUFHc0MsV0FDM0JsRyxFQUFFbUcsUUFBVVAsRUFBS1EsSUFBTXhDLEVBQUd5QyxZQUlsQzdDLEVBQUk4QyxTQUFXLFNBQVUxQyxFQUFpQjVELEdBSXRDLElBSEEyQyxJQUFNaUQsRUFBT2hDLEVBQUdpQyx3QkFDWlUsS0FDRVQsRUFBc0IsYUFBWDlGLEVBQUVMLEtBQXVCSyxFQUFFd0csZUFBaUJ4RyxFQUFFOEYsUUFDdER4QixFQUFJLEVBQUdBLEVBQUl3QixFQUFRdkIsT0FBUUQsSUFDaENpQyxFQUFPRSxLQUFLLElBQUlWLFlBQ1pELEVBQVF4QixHQUFHMEIsUUFBVUosRUFBS0ssS0FBT3JDLEVBQUdzQyxXQUNwQ0osRUFBUXhCLEdBQUc2QixRQUFVUCxFQUFLUSxJQUFNeEMsRUFBR3lDLFlBRzNDLE9BQU9FLEdBR1gvQyxFQUFJa0QsWUFBYyxTQUFVMUcsR0FFeEIsWUFBcUMsSUFBMUJ4QyxVQUFPbUosZ0JBQStDLElBQWIzRyxFQUFFNEcsUUFBZ0I1RyxFQUFFNkcsU0FDcEVySixVQUFPMEYsVUFBVTRELFNBQVNDLGNBQWNoSixRQUFRLFFBQVUsRUFJbkQsRUFFSmlDLEVBQUU0RyxRQUdicEQsRUFBSXdELE9BQVMsU0FBU0MsR0FDZEEsRUFBS0MsWUFDTEQsRUFBS0MsV0FBV0MsWUFBWUYsSUNuSXBDdEUsSUFBTXlFLEdBQ0ZDLFFBQVMseUJBQ1RDLHNCQUFzQixFQUN0QkMsYUFBYyxNQ0xaQyxFQUFPLDhEQVNiLFNBQVNDLEVBQVdDLEVBQXNCQyxHQUN0Q2hGLElBQU1pRixFQUFlQyxFQUFTVCxFQUFPQyxTQVFyQyxHQVBBSyxFQUFVSSxTQUFXRixFQUFhRSxTQUNsQ0osRUFBVUssVUFBWUgsRUFBYUcsVUFFVCxNQUF0QkgsRUFBYUksT0FDYk4sRUFBVU0sS0FBTyxHQUFHSixFQUFhSSxLQUFPTixFQUFVTSxPQUdqRFosRUFBT0UscUJBQXNCLE9BQU9XLEVBQVVQLEdBR25ELEtBREFDLEVBQWNBLEdBQWVQLEVBQU9HLGNBRWhDLE1BQU0sSUFBSTFFLDJEQUEyRDJFLEdBQ3pFLEdBQXVCLE1BQW5CRyxFQUFZLEdBQ1osTUFBTSxJQUFJOUUsNEZBQTRGMkUsR0FHMUcsT0FEQUUsRUFBVVEsT0FBT3pCLHFCQUFxQmtCLEdBQy9CTSxFQUFVUCxHQUdyQixTQUFTUyxFQUFZQyxHQUNqQixPQUFrQyxJQUEzQkEsRUFBSXJLLFFBQVEsV0FHdkIsSUFTYXNLLEVBQXFCLFNBQVNELEVBQWFULEdBQ3BELElBQUtRLEVBQVlDLEdBQU0sT0FBT0EsRUFDOUJ6RixJQUFNK0UsRUFBWUcsRUFBU08sR0FFM0IsT0FEQVYsRUFBVU0sS0FBTyxZQUFZTixFQUFVTSxLQUNoQ1AsRUFBV0MsRUFBV0MsSUFHcEJXLEVBQXFCLFNBQVNGLEVBQWFULEdBQ3BELElBQUtRLEVBQVlDLEdBQU0sT0FBT0EsRUFDOUJ6RixJQUFNK0UsRUFBWUcsRUFBU08sR0FLM0IsT0FKQVYsRUFBVU0sS0FBTyxPQUFPTixFQUFVSyxrQkFHbENMLEVBQVVRLE9BQU96QixLQUFLLFVBQ2ZnQixFQUFXQyxFQUFXQyxJQUdwQlksRUFBcUIsU0FBU0gsRUFBYUksRUFBZ0JDLEVBQW1CZCxHQUN2RmhGLElBQU0rRSxFQUFZRyxFQUFTTyxHQUMzQixPQUFLRCxFQUFZQyxJQUlqQlYsRUFBVU0sS0FBTyxhQUFhTixFQUFVTSxlQUFjUSxFQUFTQyxFQUN4RGhCLEVBQVdDLEVBQVdDLEtBSnpCRCxFQUFVTSxNQUFRLEdBQUdRLEVBQVNDLEVBQ3ZCUixFQUFVUCxLQU1uQmdCLEVBQW1CLHdCQUVaQyxFQUFtQixTQUFTQyxFQUFpQkMsRUFBcUJDLEdBQzNFLElBQUtELElBQWNWLEVBQVlVLEdBQVksT0FBT0QsRUFFbERqRyxJQUFNK0UsRUFBWUcsRUFBU2UsR0FLckJHLEVBQVNDLEVBQVE3RixrQkFBb0IsR0FBa0IsTUFBYjJGLEVBQW1CLE1BQVEsR0FDckVMLEVBQVlPLEVBQVE1RixhQUFlLFFBQVUsS0FJbkQsT0FIQXNFLEVBQVVNLEtBQU9OLEVBQVVNLEtBQUtpQixRQUFRUCxLQUFxQkssRUFBU04sR0FNMUUsU0FBZ0NQLEdBQzVCLElBQUs3RCxJQUFJQyxFQUFJLEVBQUdBLEVBQUk0RCxFQUFPM0QsT0FBUUQsSUFDZSxJQUExQzRELEVBQU81RCxHQUFHdkcsUUFBUSxzQkFDbEJtSyxFQUFPNUQsR0FBSyxpQkFBZ0I4QyxFQUFPRyxjQUFnQixLQVAzRDJCLENBQXVCeEIsRUFBVVEsUUFDMUJELEVBQVVQLElBV3JCL0UsSUFBTXdHLEVBQVEsd0NBRWQsU0FBU3RCLEVBQVNPLEdBQ2R6RixJQUFNeUcsRUFBUWhCLEVBQUlpQixNQUFNRixHQUN4QixJQUFLQyxFQUNELE1BQU0sSUFBSXZHLE1BQU0sOEJBRXBCLE9BQ0lpRixTQUFVc0IsRUFBTSxHQUNoQnJCLFVBQVdxQixFQUFNLEdBQ2pCcEIsS0FBTW9CLEVBQU0sSUFBTSxJQUNsQmxCLE9BQVFrQixFQUFNLEdBQUtBLEVBQU0sR0FBR0UsTUFBTSxTQUkxQyxTQUFTckIsRUFBVXNCLEdBQ2Y1RyxJQUFNdUYsRUFBU3FCLEVBQUlyQixPQUFPM0QsV0FBYWdGLEVBQUlyQixPQUFPc0IsS0FBSyxLQUFTLEdBQ2hFLE9BQVVELEVBQUl6QixlQUFjeUIsRUFBSXhCLFVBQVl3QixFQUFJdkIsS0FBT0UsRUNwSDNELElBQVF1Qiw2QkFBa0JDLDhCQUFtQkMsNkJBQWtCQyxzQkFnQ3pEQyxFQVFGLFNBQVlqSCxFQUFrQmtILEVBQXFCdEIsRUFBdUJ1QixHQUMxRUMsS0FBU3BILFFBQVVBLEVBRW5CLElBQVdFLFVBQU9DLFdBQ2xCaUgsS0FBU0MsTUFBUW5ILEVBQU9DLEdBQ3hCaUgsS0FBU3hCLE9BQVNBLEVBRWxCd0IsS0FBU0UsUUFBVXRILEVBQVF1SCxHQUFHQyxnQkFDOUJKLEtBQVNLLE9BQU9QLEVBQU9DLElBRzNCRixZQUFJUSxnQkFBT1AsRUFBcUJDLEdBQzVCLElBQVdqSCxVQUFPQyxXQUNsQmlILEtBQVNDLE1BQVFuSCxFQUFPQyxHQUV4QixJQUFXSCxFQUFXb0gsYUFDWEcsT0FDWEEsRUFBT0csWUFBWUgsRUFBR0ksV0FBWVAsS0FBS0UsU0FDdkN0SCxFQUFZNEgsaUJBQWlCQyxJQUFJLEdBRXpCVCxLQUFLeEIsU0FBVzJCLEVBQUdPLE9BQXdCLElBQWhCWCxHQUMvQm5ILEVBQVkrSCxpQ0FBaUNGLEtBQUksR0FHN0NYLGFBQWlCTCxHQUFvQkssYUFBaUJKLEdBQXFCSSxhQUFpQkgsR0FBb0JHLGFBQWlCRixFQUNySU8sRUFBT1MsV0FBV1QsRUFBR0ksV0FBWSxFQUFHUCxLQUFLeEIsT0FBUXdCLEtBQUt4QixPQUFRMkIsRUFBR1UsY0FBZWYsR0FFaEZLLEVBQU9TLFdBQVdULEVBQUdJLFdBQVksRUFBR1AsS0FBS3hCLE9BQVExRixFQUFPQyxFQUFRLEVBQUdpSCxLQUFLeEIsT0FBUTJCLEVBQUdVLGNBQWVmLEVBQU1nQixPQUloSGpCLFlBQUl0TCxjQUFLVixFQUF1QmtOLEVBQW1CQyxHQUMvQyxJQUNXYixFQURXSCxnQkFFdEJHLEVBQU9HLFlBQVlILEVBQUdJLFdBQVlQLEtBQUtFLFNBRS9Cck0sSUFBV21NLEtBQUtuTSxTQUNwQnNNLEVBQU9jLGNBQWNkLEVBQUdJLFdBQVlKLEVBQUdlLG1CQUFvQnJOLEdBQzNEc00sRUFBT2MsY0FBY2QsRUFBR0ksV0FBWUosRUFBR2dCLG1CQUFvQkgsR0FBYW5OLEdBQ3hFbU0sS0FBU25NLE9BQVNBLEdBR2RrTixJQUFTZixLQUFLZSxPQUNsQlosRUFBT2MsY0FBY2QsRUFBR0ksV0FBWUosRUFBR2lCLGVBQWdCTCxHQUN2RFosRUFBT2MsY0FBY2QsRUFBR0ksV0FBWUosRUFBR2tCLGVBQWdCTixHQUN2RGYsS0FBU2UsS0FBT0EsSUFJeEJsQixZQUFJeUIsbUJBQ2lCdEIsS0FBS3BILFdBQ2YySSxjQUFjdkIsS0FBS0UsU0FDMUJGLEtBQVNFLFFBQVcsTUN4RXhCdkgsSUFZTTZJLEVBV0YsV0FDRXhCLEtBQU95QixVQUNQekIsS0FBTzBCLFFBQVMsRUFDaEIxQixLQUFPMkIsY0FFUDNCLEtBQU80QixVQUFZLElBQUlDLFlBQVUsR0FBSSxJQUFLQyxZQUFZLElBQ3REOUIsS0FBTytCLFlBQ1AvQixLQUFPZ0MsV0FBYSxJQUFJQyxhQUFXbkosTUFBTyxHQUFJQyxPQUFRLEtBQ3REaUgsS0FBT2tDLE9BQVEsR0FHbkJWLFlBQUVXLG9CQUNFLE9BQVNuQyxLQUFLMEIsUUFHbEJGLFlBQUVZLG1CQUFVVixHQUNSLEdBQU0xQixLQUFLMEIsU0FBV0EsSUFJdEIxQixLQUFPMEIsT0FBU0EsRUFFVkEsR0FBUSxDQUNWLElBQU8sZUFBOEJDLDJCQUFZLENBQzdDLElBRFNVLE9BQUNDLFFBQUtqSCxrQkFDUmtILFFBQVFELEVBQUtqSCxHQUV4QjJFLEtBQU8yQixnQkFJZkgsWUFBRWdCLGtCQUFTaEssR0FDUCxPQUFTd0gsS0FBS3lCLE9BQU9qSixJQUd6QmdKLFlBQUVpQixrQkFBU2pLLEVBQVlzSCxHQUVuQkUsS0FBT3lCLE9BQU9qSixHQUFNc0gsR0FHeEIwQixZQUFFa0IscUJBQVlsSyxVQUVEd0gsS0FBS3lCLE9BQU9qSixHQUVyQixJQUFRbUssRUFBVTNDLEtBQUsrQixTQUFTdkosR0FDMUJtSyxJQUNGM0MsS0FBTzRCLFVBQVVnQixNQUFNRCxFQUFRRSxZQUN0QjdDLEtBQUsrQixTQUFTdkosS0FJL0JnSixZQUFFc0IsbUJBQVVSLEVBQW9CakgsT0FLdEIwSCxHQUFxQixFQUMzQixJQUFPL0MsS0FBS21DLFdBQ1IsSUFBTyxVQUFZRyxrQkFBSyxDQUNwQixJQURTOUosWUFDR2lKLE9BQU9qSixLQUNmdUssR0FBdUIsR0FJN0IvQyxLQUFLbUMsWUFBY1ksRUFDckIvQyxLQUFPdUMsUUFBUUQsRUFBS2pILEdBRXBCMkUsS0FBTzJCLFdBQVdsRixVQUFNNkYsV0FBS2pILEtBSXJDbUcsWUFBRWUsaUJBQVFELEVBQW9CakgsR0FHMUIsUUFGUTJILFdBRVdWLGtCQUFLLENBQ3BCLElBRFM5SixPQUNEc0gsT0FBYTJCLE9BQU9qSixHQUN0QnNILElBRUZrRCxFQUFXeEssSUFDUHNJLEtBQVFoQixFQUFNZ0IsS0FBS21DLFFBQ25CQyxXQUFjcEQsRUFBTW9ELFdBQ3BCQyxJQUFPckQsRUFBTXFELE1BS3pCOUgsRUFBVyxLQUFNMkgsSUFLckJ4QixZQUFFNEIsd0JBQ0UsT0FDSXRLLE1BQVNrSCxLQUFLNEIsVUFBVXlCLEVBQ3hCdEssT0FBVWlILEtBQUs0QixVQUFVMEIsSUFJakM5QixZQUFFK0Isb0JBQVcvSyxHQUNULElBQVFtSyxFQUFVM0MsS0FBSytCLFNBQVN2SixHQUNoQyxHQUFNbUssRUFDRixPQUFTQSxFQUFRYSxTQUdyQixJQUFRMUQsRUFBUUUsS0FBS3dDLFNBQVNoSyxHQUM5QixJQUFPc0gsRUFDSCxPQUFTLEtBR2IsSUFBUWhILEVBQVFnSCxFQUFNZ0IsS0FBS2hJLE1BQVEySyxFQUMzQjFLLEVBQVMrRyxFQUFNZ0IsS0FBSy9ILE9BQVMwSyxFQUU3QlosRUFBTTdDLEtBQUs0QixVQUFVOEIsUUFBUTVLLEVBQU9DLEdBQzVDLElBQU84SixFQUNILE9BQVMsS0FHYjdDLEtBQU9nQyxXQUFXMkIsT0FBTzNELEtBQUtvRCxnQkFFOUIsSUFBUTdKLEVBQU11RyxFQUFNZ0IsS0FDWjhDLEVBQU01RCxLQUFLZ0MsV0FFWDZCLEVBQUloQixFQUFJZ0IsRUFoSk4sRUFpSkZDLEVBQUlqQixFQUFJaUIsRUFqSk4sRUFrSkZULEVBQUk5SixFQUFJVCxNQUNSd0ssRUFBSS9KLEVBQUlSLE9BRWhCa0osWUFBWThCLEtBQUt4SyxFQUFLcUssR0FBT0MsRUFBRyxFQUFHQyxFQUFHLE1BQU9ELElBQUdDLElBQU9oTCxNQUFPdUssRUFBR3RLLE9BQVF1SyxJQUd6RXJCLFlBQVk4QixLQUFLeEssRUFBS3FLLEdBQU9DLEVBQUcsRUFBR0MsRUFBR1IsRUFBSSxJQUFPTyxFQUFHQSxFQUFHQyxFQUFHQSxFQUFJLElBQU9oTCxNQUFPdUssRUFBR3RLLE9BQVEsSUFDdkZrSixZQUFZOEIsS0FBS3hLLEVBQUtxSyxHQUFPQyxFQUFHLEVBQUdDLEVBQUssSUFBU0QsRUFBR0EsRUFBR0MsRUFBR0EsRUFBSVIsSUFBT3hLLE1BQU91SyxFQUFHdEssT0FBUSxJQUN2RmtKLFlBQVk4QixLQUFLeEssRUFBS3FLLEdBQU9DLEVBQUdSLEVBQUksRUFBR1MsRUFBRyxJQUFPRCxFQUFHQSxFQUFJLEVBQUdDLEVBQUdBLElBQU9oTCxNQUFPLEVBQUdDLE9BQVF1SyxJQUN2RnJCLFlBQVk4QixLQUFLeEssRUFBS3FLLEdBQU9DLEVBQUcsRUFBS0MsRUFBSyxJQUFPRCxFQUFHQSxFQUFJUixFQUFHUyxFQUFHQSxJQUFPaEwsTUFBTyxFQUFHQyxPQUFRdUssSUFFdkZ0RCxLQUFPa0MsT0FBUSxFQUVmLElBQVFzQixFQUFXLElBQUlRLGdCQUFjbkIsRUFBSy9DLEdBRTFDLE9BREFFLEtBQU8rQixTQUFTdkosUUFBUXFLLFdBQUtXLEdBQ3BCQSxHQUdiaEMsWUFBRWpOLGNBQUtxRSxHQUNILElBQVF1SCxFQUFLdkgsRUFBUXVILEdBQ2RILEtBQUtpRSxhQUVDakUsS0FBS2tDLFFBQ2RsQyxLQUFPaUUsYUFBYTVELE9BQU9MLEtBQUtnQyxZQUNoQ2hDLEtBQU9rQyxPQUFRLEdBSGZsQyxLQUFPaUUsYUFBZSxJQUFJcEUsRUFBUWpILEVBQVNvSCxLQUFLZ0MsV0FBWTdCLEVBQUdPLE1BTW5FVixLQUFPaUUsYUFBYTFQLEtBQUs0TCxFQUFHK0QsT0FBUS9ELEVBQUdnRSxnQkNsTTdDbk4sTUFBaUJvTixFQUViQyxFQUFNLEtBRVYsU0FBU0QsRUFBUUUsRUFBVUMsRUFBUUMsRUFBUUMsRUFBUUMsRUFBWUMsR0FDM0QzRSxLQUFLc0UsU0FBV0EsR0FBWSxHQUM1QnRFLEtBQUt1RSxZQUFvQmxPLElBQVhrTyxFQUF1QixFQUFJQSxFQUN6Q3ZFLEtBQUt5RSxPQUFTQSxHQUFVLElBQ3hCekUsS0FBSzBFLFdBQWFBLEdBQWMsYUFDaEMxRSxLQUFLMkUsV0FBYUEsR0FBYyxTQUNoQzNFLEtBQUt3RSxPQUFTQSxHQUFVLEVBQ3hCLElBQUl2RSxFQUFPRCxLQUFLQyxLQUFPRCxLQUFLc0UsU0FBeUIsRUFBZHRFLEtBQUt1RSxPQUU1Q3ZFLEtBQUt6SixPQUFTOUMsU0FBUytDLGNBQWMsVUFDckN3SixLQUFLekosT0FBT3VDLE1BQVFrSCxLQUFLekosT0FBT3dDLE9BQVNrSCxFQUV6Q0QsS0FBSzRFLElBQU01RSxLQUFLekosT0FBT00sV0FBVyxNQUNsQ21KLEtBQUs0RSxJQUFJQyxLQUFPN0UsS0FBSzJFLFdBQWEsSUFBTTNFLEtBQUtzRSxTQUFXLE1BQVF0RSxLQUFLMEUsV0FDckUxRSxLQUFLNEUsSUFBSUUsYUFBZSxTQUN4QjlFLEtBQUs0RSxJQUFJRyxVQUFZLFFBR3JCL0UsS0FBS2dGLFVBQVksSUFBSUMsYUFBYWhGLEVBQU9BLEdBQ3pDRCxLQUFLa0YsVUFBWSxJQUFJRCxhQUFhaEYsRUFBT0EsR0FDekNELEtBQUttRixFQUFJLElBQUlGLGFBQWFoRixHQUMxQkQsS0FBS29GLEVBQUksSUFBSUgsYUFBYWhGLEdBQzFCRCxLQUFLcUYsRUFBSSxJQUFJSixhQUFhaEYsRUFBTyxHQUNqQ0QsS0FBS3NGLEVBQUksSUFBSUMsV0FBV3RGLEdBR3hCRCxLQUFLd0YsT0FBU0MsS0FBS0MsTUFBT3pGLEVBQU8sR0FBTS9HLFVBQVV5TSxVQUFVNVIsUUFBUSxXQUFhLEVBQUksSUFBTSxJQTRCOUYsU0FBUzZSLEVBQUk5RSxFQUFNaEksRUFBT0MsRUFBUW9NLEVBQUdDLEVBQUdFLEVBQUdELEdBQ3ZDLElBQUssSUFBSXhCLEVBQUksRUFBR0EsRUFBSS9LLEVBQU8rSyxJQUFLLENBQzVCLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJL0ssRUFBUStLLElBQ3hCcUIsRUFBRXJCLEdBQUtoRCxFQUFLZ0QsRUFBSWhMLEVBQVErSyxHQUc1QixJQURBZ0MsRUFBTVYsRUFBR0MsRUFBR0UsRUFBR0QsRUFBR3RNLEdBQ2IrSyxFQUFJLEVBQUdBLEVBQUkvSyxFQUFRK0ssSUFDcEJoRCxFQUFLZ0QsRUFBSWhMLEVBQVErSyxHQUFLdUIsRUFBRXRCLEdBR2hDLElBQUtBLEVBQUksRUFBR0EsRUFBSS9LLEVBQVErSyxJQUFLLENBQ3pCLElBQUtELEVBQUksRUFBR0EsRUFBSS9LLEVBQU8rSyxJQUNuQnNCLEVBQUV0QixHQUFLL0MsRUFBS2dELEVBQUloTCxFQUFRK0ssR0FHNUIsSUFEQWdDLEVBQU1WLEVBQUdDLEVBQUdFLEVBQUdELEVBQUd2TSxHQUNiK0ssRUFBSSxFQUFHQSxFQUFJL0ssRUFBTytLLElBQ25CL0MsRUFBS2dELEVBQUloTCxFQUFRK0ssR0FBSzRCLEtBQUtLLEtBQUtWLEVBQUV2QixLQU05QyxTQUFTZ0MsRUFBTVYsRUFBR0MsRUFBR0UsRUFBR0QsRUFBR1UsR0FDdkJULEVBQUUsR0FBSyxFQUNQRCxFQUFFLElBQU1oQixFQUNSZ0IsRUFBRSxJQUFNaEIsRUFFUixJQUFLLElBQUkyQixFQUFJLEVBQUdDLEVBQUksRUFBR0QsRUFBSUQsRUFBR0MsSUFBSyxDQUUvQixJQURBLElBQUlFLEdBQU1mLEVBQUVhLEdBQUtBLEVBQUlBLEdBQU1iLEVBQUVHLEVBQUVXLElBQU1YLEVBQUVXLEdBQUtYLEVBQUVXLFFBQVlELEVBQUksRUFBSVYsRUFBRVcsSUFDN0RDLEdBQUtiLEVBQUVZLElBQ1ZBLElBQ0FDLEdBQU1mLEVBQUVhLEdBQUtBLEVBQUlBLEdBQU1iLEVBQUVHLEVBQUVXLElBQU1YLEVBQUVXLEdBQUtYLEVBQUVXLFFBQVlELEVBQUksRUFBSVYsRUFBRVcsSUFHcEVYLElBREFXLEdBQ09ELEVBQ1BYLEVBQUVZLEdBQUtDLEVBQ1BiLEVBQUVZLEVBQUksSUFBTTVCLEVBR2hCLElBQUsyQixFQUFJLEVBQUdDLEVBQUksRUFBR0QsRUFBSUQsRUFBR0MsSUFBSyxDQUMzQixLQUFPWCxFQUFFWSxFQUFJLEdBQUtELEdBQUdDLElBQ3JCYixFQUFFWSxJQUFNQSxFQUFJVixFQUFFVyxLQUFPRCxFQUFJVixFQUFFVyxJQUFNZCxFQUFFRyxFQUFFVyxLQWxFN0M3QixFQUFRelEsVUFBVXdTLEtBQU8sU0FBVUMsR0FDL0JwRyxLQUFLNEUsSUFBSXlCLFVBQVUsRUFBRyxFQUFHckcsS0FBS0MsS0FBTUQsS0FBS0MsTUFDekNELEtBQUs0RSxJQUFJMEIsU0FBU0YsRUFBTXBHLEtBQUt1RSxPQUFRdkUsS0FBS3dGLFFBSzFDLElBSEEsSUFBSWUsRUFBVXZHLEtBQUs0RSxJQUFJbk0sYUFBYSxFQUFHLEVBQUd1SCxLQUFLQyxLQUFNRCxLQUFLQyxNQUN0RHVHLEVBQWUsSUFBSUMsa0JBQWtCekcsS0FBS0MsS0FBT0QsS0FBS0MsTUFFakQzRixFQUFJLEVBQUdBLEVBQUkwRixLQUFLQyxLQUFPRCxLQUFLQyxLQUFNM0YsSUFBSyxDQUM1QyxJQUFJb00sRUFBSUgsRUFBUXpGLEtBQVMsRUFBSnhHLEVBQVEsR0FBSyxTQUM3QjBLLFVBQVUxSyxHQUFXLElBQU5vTSxFQUFVLEVBQVUsSUFBTkEsRUFBVXJDLEVBQU1vQixLQUFLa0IsSUFBSWxCLEtBQUttQixJQUFJLEVBQUcsR0FBTUYsR0FBSSxRQUM1RXhCLFVBQVU1SyxHQUFXLElBQU5vTSxFQUFVckMsRUFBWSxJQUFOcUMsRUFBVSxFQUFJakIsS0FBS2tCLElBQUlsQixLQUFLbUIsSUFBSSxFQUFHRixFQUFJLElBQU0sR0FNckYsSUFIQWQsRUFBSTVGLEtBQUtnRixVQUFXaEYsS0FBS0MsS0FBTUQsS0FBS0MsS0FBTUQsS0FBS21GLEVBQUduRixLQUFLb0YsRUFBR3BGLEtBQUtzRixFQUFHdEYsS0FBS3FGLEdBQ3ZFTyxFQUFJNUYsS0FBS2tGLFVBQVdsRixLQUFLQyxLQUFNRCxLQUFLQyxLQUFNRCxLQUFLbUYsRUFBR25GLEtBQUtvRixFQUFHcEYsS0FBS3NGLEVBQUd0RixLQUFLcUYsR0FFbEUvSyxFQUFJLEVBQUdBLEVBQUkwRixLQUFLQyxLQUFPRCxLQUFLQyxLQUFNM0YsSUFBSyxDQUN4QyxJQUFJOEssT0FBU0osVUFBVTFLLFFBQVU0SyxVQUFVNUssR0FDM0NrTSxFQUFhbE0sR0FBS21MLEtBQUttQixJQUFJLEVBQUduQixLQUFLb0IsSUFBSSxJQUFLcEIsS0FBS0MsTUFBTSxJQUFNLEtBQU9OLE9BQVNaLFlBQWNDLFdBRy9GLE9BQU8rQixHQ3BDWCxJQUFNTSxFQVVGLFNBQVlDLEVBQTRDQyxHQUN0RGhILEtBQU8rRyxpQkFBbUJBLEVBQzFCL0csS0FBT2dILHlCQUEyQkEsRUFDbENoSCxLQUFPaUgsWUFHWEgsWUFBRUksZ0JBQU85SSxHQUNMNEIsS0FBTzVCLElBQU1BLEdBR2pCMEksWUFBRUssbUJBQVVDLEVBQTBDL0wsY0FDMUNnTSxLQUVSLFFBQWFDLEtBQVNGLEVBQ2xCLElBQU8sVUFBWUEsRUFBT0UsbUJBQVEsQ0FDOUIsSUFEUzlPLE9BQ1A2TyxFQUFJNUssWUFBTTZLLEtBQU85TyxJQUkzQitPLFdBQVdGLFdBQU1oRixFQUFhaEgsT0FBWmlNLFVBQU85TyxPQUNmZ1AsRUFBUXhILEVBQUtpSCxRQUFRSyxHQUNwQkUsSUFDSEEsRUFBVXhILEVBQUtpSCxRQUFRSyxJQUNuQkYsVUFDQUssY0FJUixJQUFNQyxFQUFRRixFQUFNSixPQUFPNU8sR0FDM0IsUUFBZ0JuQyxJQUFWcVIsRUFNTixHQURBQSxFQUFVMUgsRUFBSzJILFNBQVNILEVBQU9GLEVBQU85TyxHQUVsQzZDLEVBQVcsWUFBT2lNLEtBQU85TyxRQUFJa1AsUUFEakMsQ0FLQSxJQUFRRSxFQUFRbkMsS0FBS29DLE1BQU1yUCxFQUFLLEtBQ2hDLEdBQWMsSUFBUm9QLEVBQWMsTUFDaEJ2TSxFQUFXLElBQUl4QyxNQUFNLHFDQUR6QixDQUtBLElBQU00TyxFQUFXRCxFQUFNQyxTQUFTRyxHQUN6QkgsSUFDSEEsRUFBYUQsRUFBTUMsU0FBU0csTUFDNUJkLEVBQWVnQixlQUFlUixFQUFPTSxFQUFRNUgsRUFBSzVCLElBQVc0QixFQUFLK0csaUJBQzlELFNBQUc1TCxFQUFLNkgsR0FDSixHQUFNQSxFQUNGLFFBQWF4SyxLQUFNd0ssRUFDZndFLEVBQVFKLFFBQVE1TyxHQUFNd0ssR0FBVXhLLEdBR3hDLElBQU8sVUFBWWlQLGtCQUFVLEVBQ3ZCTSxRQUFHNU0sRUFBSzZILFVBRUx3RSxFQUFNQyxTQUFTRyxNQUlwQ0gsRUFBV2hMLGNBQU10QixFQUFLNk0sR0FDWjdNLEVBQ0ZFLEVBQVdGLEdBQ0Y2TSxHQUNUM00sRUFBVyxZQUFPaU0sS0FBTzlPLEVBQUlrUCxNQUFPTSxFQUFPeFAsSUFBTyxlQXJDdEQ2QyxFQUFXLFlBQU9pTSxLQUFPOU8sUUFBSWtQLGNBd0MvQnZNLEVBQUtpTSxHQUNQLEdBQU1qTSxFQUNGRSxFQUFXRixRQUNOLEdBQUlpTSxFQUFRLENBR2pCLElBRkEsSUFBUVksV0FFMkJaLGtCQUFRLENBRXZDLElBRlMvRSxPQUFDaUYsVUFBTzlPLE9BQUlrUCxXQUVsQk0sRUFBT1YsS0FBV1UsRUFBT1YsUUFBYzlPLEdBQU1rUCxJQUM1Q2xQLEdBQU1rUCxFQUFNbFAsR0FDWnlQLE9BQVVQLEVBQU1PLE9BQU9oRixRQUN2QmlGLFFBQVdSLEVBQU1RLFNBSXpCN00sRUFBVyxLQUFNMk0sT0FLN0JsQixZQUFFYSxrQkFBU0gsRUFBY0YsRUFBZTlPLEdBQ3BDLElBQVEyUCxFQUFTbkksS0FBS2dILHlCQUN0QixHQUFPbUIsSUFJQUMsWUFBTywwQkFBMEI1UCxJQUFRNFAsWUFBTyxvQkFBb0I1UCxJQUEzRSxDQUlBLElBQU02UCxFQUFVYixFQUFNYSxRQUN0QixJQUFPQSxFQUFTLENBQ1osSUFBTTFELEVBQWEsTUFDYixRQUFRMkQsS0FBS2hCLEdBQ2YzQyxFQUFlLE1BQ04sVUFBVTJELEtBQUtoQixHQUN4QjNDLEVBQWUsTUFDTixTQUFTMkQsS0FBS2hCLEtBQ3ZCM0MsRUFBZSxPQUVuQjBELEVBQVliLEVBQU1hLFFBQVUsSUFBSXZCLEVBQWExQyxRQUFRLEdBQUksRUFBRyxFQUFHLElBQUsrRCxFQUFReEQsR0FHaEYsT0FDSW5NLEdBQUVBLEVBQ0Z5UCxPQUFVLElBQUlNLGNBQVl6UCxNQUFPLEdBQUlDLE9BQVEsSUFBS3NQLEVBQVFsQyxLQUFLcUMsT0FBT0MsYUFBYWpRLEtBQ25GMFAsU0FDSXBQLE1BQVMsR0FDVEMsT0FBVSxHQUNWa0QsS0FBUSxFQUNSRyxLQUFRLEVBQ1JzTSxRQUFXLE9BTXpCNUIsRUFBYWdCLDRSQUNiaEIsRUFBYTFDLFFBQVVBLEVDL0h2QixJQUFNdUUsRUFHRixXQUNFM0ksS0FBTzRJLGNBQWdCQyxZQUFVQyxNQUFNdEYsVUFHM0NtRixZQUFFSSwwQkFBaUJqTyxFQUErRGtPLEdBQzlFLE9BQVNDLHVCQUFxQm5PLEVBQU1vTyxXQUFXQyxTQUFTSCxLQUc1REwsWUFBRVMscUJBQVkxQyxFQUFrQjJDLEVBQWtCQyxHQUM5QyxPQUNJekYsRUFBS3VGLFNBQVkxQyxFQUFFN0MsRUFBR3dGLEVBQUV4RixFQUFHeUYsR0FDM0J4RixFQUFLc0YsU0FBWTFDLEVBQUU1QyxFQUFHdUYsRUFBRXZGLEVBQUd3RixHQUMzQmpFLEVBQUsrRCxTQUFZMUMsRUFBRXJCLEVBQUdnRSxFQUFFaEUsRUFBR2lFLEtBWXJDM1EsSUFBTTRRLEVBQWdDLElBQUlDLGNBQ3RDQyxPQUFVLElBQUlDLHVCQUFxQmIsWUFBVUMsTUFBTVcsUUFDbkRqRyxTQUFZLElBQUltRixFQUNoQmdCLE1BQVMsSUFBSUQsdUJBQXFCYixZQUFVQyxNQUFNYSxPQUNsREMsVUFBYSxJQUFJRix1QkFBcUJiLFlBQVVDLE1BQU1jLGFBUXBEQyxjQUtGLFdBQVlDLEdBQ1JDLGFBQ0EvSixLQUFLZ0ssZ0JBQWtCLElBQUlDLGlCQUFlVixHQUMxQ3ZKLEtBQUtrSyxTQUFTSixHQUNkOUosS0FBS21LLGVBQWlCbkssS0FBS2dLLGdCQUFnQkksMkhBRy9DQyxvQkFDSSxPQUFPckssS0FBS2dLLGdCQUFnQk0seUJBR2hDSixrQkFBUzNXLEdBQ0wsSUFBSXlNLEtBQUt1SyxVQUFVQyxnQkFBZWpYLEdBSWxDLFFBQVdrWCxLQUFRbFgsRUFBUyxDQUN4Qm9GLElBQU1tQyxFQUFRdkgsRUFBUWtYLEdBQ2xCQyxXQUFTRCxFQTVCQyxvQkE2QkxULGdCQUFnQlcsY0FBY0YsRUFBS0csTUFBTSxHQTdCcEMsY0E2QjBEclEsUUFBU08sUUFFeEVrUCxnQkFBZ0JhLFNBQVNKLEVBQU0zUCxpQkFLaERnUSwyQkFBa0I5QixHQUNkaEosS0FBS21LLGVBQWlCbkssS0FBS2dLLGdCQUFnQmUsYUFBYS9CLEVBQVloSixLQUFLbUssNkJBRzdFYSx5QkFDSSxPQUFPaEwsS0FBS21LLGVBQWVhLDZCQUcvQkMscUJBQVlqQyxHQUNSaEosS0FBS3VKLFdBQWF2SixLQUFLbUssZUFBZXBCLGlCQUFpQkMsZ0JBRzNEdUIsbUJBQVVXLEVBQW9CcFEsR0FDMUIsT0FBT3FRLHVCQUFxQm5MLEtBQU1rTCxFQUFTRSxLQUFLQyxnQkFBZUMsVUFDM0R4USxNQUFPQSxFQUVQWixPQUFRa04sUUFBUSxFQUFNbUUsUUFBUSxHQUM5QjFDLFVBQVdBLG9CQWhESDJDLFdDdkRkQyxFQVVGLFNBQVkzUyxFQUFlQyxHQUMzQmlILEtBQVNsSCxNQUFRQSxFQUNqQmtILEtBQVNqSCxPQUFTQSxFQUNsQmlILEtBQVMwTCxRQUFVLEVBRW5CMUwsS0FBUzJMLE1BQVEsRUFDakIzTCxLQUFTYyxLQUFPLElBQUk4SyxXQUFXNUwsS0FBS2xILE1BQVFrSCxLQUFLakgsT0FBU2lILEtBQUsyTCxPQUUvRDNMLEtBQVM2TCxjQVdiSixZQUFJSyxpQkFBUUMsRUFBMEJyRyxHQUNsQyxJQUFVc0csRUFBTUQsRUFBVXZNLEtBQUssS0FBT2dKLE9BQU85QyxHQUs3QyxPQUhTMUYsS0FBSzZMLFVBQVVHLEtBQ3BCaE0sS0FBUzZMLFVBQVVHLEdBQU9oTSxLQUFLaU0sUUFBUUYsRUFBV3JHLElBRTNDMUYsS0FBSzZMLFVBQVVHLElBRzlCUCxZQUFJUSxpQkFBUUYsRUFBMEJyRyxPQUV4QkssRUFBSUwsRUFBUSxFQUFJLEVBQ2hCM00sRUFBUyxFQUFJZ04sRUFBSSxFQUczQixHQUFRL0YsS0FBSzBMLFFBQVUzUyxFQUFTaUgsS0FBS2pILE9BRWpDLE9BREFtVCxXQUFhLDBCQUNGLEtBSWYsSUFEQSxJQUFRM1IsRUFBUyxFQUNKRCxFQUFJLEVBQUdBLEVBQUl5UixFQUFVeFIsT0FBUUQsSUFDdENDLEdBQWN3UixFQUFVelIsR0FVNUIsSUFQQSxJQUFVNlIsRUFBVW5NLEtBQUtsSCxNQUFReUIsRUFDdkI2UixFQUFZRCxFQUFVLEVBSXRCRSxFQUFZTixFQUFVeFIsT0FBUyxHQUFNLEVBRWxDdUosR0FBS2lDLEVBQUdqQyxHQUFLaUMsRUFBR2pDLElBUXpCLElBUEEsSUFBVXdJLE9BQVdaLFFBQVUzRixFQUFJakMsRUFDekJ5SSxPQUFhelQsTUFBUXdULEVBRXZCclEsRUFBT29RLEdBQWFOLEVBQVVBLEVBQVV4UixPQUFTLEdBQUssRUFDdERpUyxFQUFRVCxFQUFVLEdBQ2xCVSxFQUFZLEVBRVA1SSxFQUFJLEVBQUdBLEVBQUk3RCxLQUFLbEgsTUFBTytLLElBQUssQ0FFckMsS0FBVzJJLEVBQVEzSSxFQUFJc0ksR0FDbkJsUSxFQUFXdVEsRUFDWEEsR0FBb0JULEVBQVVVLEdBRXRCSixHQUFhSSxJQUFjVixFQUFVeFIsT0FBUyxJQUNsRGlTLEdBQWFULEVBQVUsSUFHM0JVLElBR0osSUFBVUMsRUFBV2pILEtBQUtrSCxJQUFJOUksRUFBSTVILEVBQU9rUSxHQUMvQlMsRUFBWW5ILEtBQUtrSCxJQUFJOUksRUFBSTJJLEVBQVFMLEdBQ2pDVSxFQUFPcEgsS0FBS29CLElBQUk2RixFQUFVRSxHQUMxQkUsRUFBVUwsRUFBWSxHQUFPLEVBQy9CTSxTQUVSLEdBQVFySCxFQUFPLENBRVgsSUFBVXNILEVBQWFqSCxFQUFJakMsRUFBSWlDLEdBQUtxRyxFQUFZLEdBQUssRUFDckQsR0FBUVUsRUFBUSxDQUNaLElBQVVHLEVBQVdiLEVBQVkzRyxLQUFLa0gsSUFBSUssR0FDMUNELEVBQXFCdEgsS0FBS0ssS0FBSytHLEVBQU9BLEVBQU9JLEVBQVdBLFFBRXhERixFQUFxQlgsRUFBWTNHLEtBQUtLLEtBQUsrRyxFQUFPQSxFQUFPRyxFQUFhQSxRQUcxRUQsR0FBc0JELEVBQVMsR0FBSyxHQUFLRCxPQUdwQy9MLEtBQUssRUFBa0IsR0FBYnlMLEVBQVExSSxJQUFVNEIsS0FBS21CLElBQUksRUFBR25CLEtBQUtvQixJQUFJLElBQUtrRyxFQTNEcEQsTUErRG5CLElBQVVHLEdBQ05wSixRQUFhNEgsUUFBVTNGLEVBQUksSUFBTy9GLEtBQUtqSCxPQUN2Q0EsT0FBWSxFQUFJZ04sRUFBSS9GLEtBQUtqSCxPQUN6QkQsTUFBV3lCLEdBTWYsT0FIQXlGLEtBQVMwTCxTQUFXM1MsRUFDcEJpSCxLQUFTa0MsT0FBUSxFQUVOZ0wsR0FHZnpCLFlBQUlsWCxjQUFLcUUsR0FDTCxJQUFVdUgsRUFBS3ZILEVBQVF1SCxHQUNkSCxLQUFLRSxTQVVWQyxFQUFPRyxZQUFZSCxFQUFHSSxXQUFZUCxLQUFLRSxTQUUvQkYsS0FBS2tDLFFBQ1RsQyxLQUFTa0MsT0FBUSxFQUNqQi9CLEVBQU9nTixjQUFjaE4sRUFBR0ksV0FBWSxFQUFHLEVBQUcsRUFBR1AsS0FBS2xILE1BQU9rSCxLQUFLakgsT0FBUW9ILEVBQUdPLEtBQU1QLEVBQUdVLGNBQWViLEtBQUtjLFNBYjFHZCxLQUFTRSxRQUFVQyxFQUFHQyxnQkFDdEJELEVBQU9HLFlBQVlILEVBQUdJLFdBQVlQLEtBQUtFLFNBQ3ZDQyxFQUFPYyxjQUFjZCxFQUFHSSxXQUFZSixFQUFHaUIsZUFBZ0JqQixFQUFHaU4sUUFDMURqTixFQUFPYyxjQUFjZCxFQUFHSSxXQUFZSixFQUFHa0IsZUFBZ0JsQixFQUFHaU4sUUFDMURqTixFQUFPYyxjQUFjZCxFQUFHSSxXQUFZSixFQUFHZ0IsbUJBQW9CaEIsRUFBRytELFFBQzlEL0QsRUFBT2MsY0FBY2QsRUFBR0ksV0FBWUosRUFBR2UsbUJBQW9CZixFQUFHK0QsUUFDOUQvRCxFQUFPUyxXQUFXVCxFQUFHSSxXQUFZLEVBQUdKLEVBQUdPLEtBQU1WLEtBQUtsSCxNQUFPa0gsS0FBS2pILE9BQVEsRUFBR29ILEVBQUdPLEtBQU1QLEVBQUdVLGNBQWViLEtBQUtjLFFDaElqSCxJQUFNdU0sRUFTRixXQUFZQyxFQUF3QkMsR0FDcEN2TixLQUFTc04sV0FBYUEsRUFDdEJ0TixLQUFTd04sVUFDVHhOLEtBQVN5TixhQUFlLEVBQ3hCek4sS0FBU3hILEdBQUtrVixhQUVkLElBREEsSUFBVUMsRUFBVTNOLEtBQUtzTixXQUFXTSxRQUFRNU4sS0FBS3hILElBQ3BDOEIsRUFBSSxFQUFHQSxFQUFJcVQsRUFBUXBULE9BQVFELElBQUssQ0FDekMsSUFBVTlFLEVBQVNtWSxFQUFRclQsR0FDakJ1VCxFQUFRLElBQUlSLEVBQVdTLE1BQU10WSxFQUFRK1gsT0FBYS9VLElBQzVEcVYsRUFBVXBELEtBQU8sVUFBVW5RLE9BQ2xCa1QsT0FBTy9RLEtBQUtvUiw0V0FPN0JSLFlBQUlVLG1CQUFVcFksRUFBY21MLEVBQWFpSCxHQUNyQ0EsRUFBU0EsR0FBTSxhQUNmUixXQUFhdkgsS0FBS3dOLGdCQUFTSyxFQUFPRyxHQUM5QkgsRUFBVUksS0FBS3RZLEVBQU1tTCxFQUFNa04sSUFDeEJqRyxJQVFYc0YsWUFBSVksY0FBS3RZLEVBQWNtTCxFQUFhekYsRUFBc0I2UyxHQU90RCxPQU40QixpQkFBYkEsR0FBeUJDLE1BQU1ELE1BRTFDQSxFQUFlbE8sS0FBS3lOLG1CQUFxQkEsYUFBZSxHQUFLek4sS0FBS3dOLE9BQU9qVCxRQUc3RXlGLEtBQVN3TixPQUFPVSxHQUFVRCxLQUFLdFksRUFBTW1MLEVBQU16RixHQUNoQzZTLEdBR2ZiLFlBQUlyUSxrQkFDQWdELEtBQVN3TixPQUFPMVosaUJBQVMrWixHQUFZQSxFQUFNN1EsV0FDM0NnRCxLQUFTd04sVUFDVHhOLEtBQVNzTixXQUFXYyxRQUFRcE8sS0FBS3hILEtBSXJDNlUsRUFBV1MsTUFBUUEsWUM3Q25CLElBQU1PLEVBSUYsU0FBWUMsRUFBYUMsR0FDekIsR0FBUUosTUFBTUcsSUFBUUgsTUFBTUksR0FDeEIsTUFBVSxJQUFJMVYsaUNBQWlDeVYsT0FBUUMsT0FJM0QsR0FGQXZPLEtBQVNzTyxLQUFPQSxFQUNoQnRPLEtBQVN1TyxLQUFPQSxFQUNSdk8sS0FBS3VPLElBQU0sSUFBTXZPLEtBQUt1TyxLQUFPLEdBQ2pDLE1BQVUsSUFBSTFWLE1BQU0sOERBYTVCd1YsWUFBSXROLGdCQUNBLE9BQVcsSUFBSXNOLEVBQU90TixPQUFLZixLQUFLc08sS0FBTSxJQUFLLEtBQU10TyxLQUFLdU8sTUFXMURGLFlBQUlHLG1CQUNBLE9BQVl4TyxLQUFLc08sSUFBS3RPLEtBQUt1TyxNQVcvQkYsWUFBSUksb0JBQ0EsZ0JBQXFCek8sS0FBS3NPLFNBQVF0TyxLQUFLdU8sU0FZM0NGLFlBQUlLLGtCQUFTbEssR0FDVCxJQUNVbUssRUFBYyxJQUFNbkssRUFEa0IsU0FFNUNvSyxFQUFrQkQsRUFBY2xKLEtBQUtvSixJQUFLcEosS0FBS3FKLEdBQUssSUFBTzlPLEtBQUt1TyxLQUVwRSxPQUFXLElBQUlRLEVBQWEsSUFBSVYsRUFBT3JPLEtBQUtzTyxJQUFNTSxFQUFhNU8sS0FBS3VPLElBQU1JLEdBQ3RFLElBQVFOLEVBQU9yTyxLQUFLc08sSUFBTU0sRUFBYTVPLEtBQUt1TyxJQUFNSSxLQWUxRE4sRUFBV1csaUJBQVFDLEdBQ2YsR0FBUUEsYUFBaUJaLEVBQ3JCLE9BQVdZLEVBRWYsR0FBUXZiLE1BQU1XLFFBQVE0YSxLQUE0QixJQUFqQkEsRUFBTTFVLFFBQWlDLElBQWpCMFUsRUFBTTFVLFFBQ3pELE9BQVcsSUFBSThULEVBQU9hLE9BQU9ELEVBQU0sSUFBS0MsT0FBT0QsRUFBTSxLQUV6RCxJQUFTdmIsTUFBTVcsUUFBUTRhLElBQTJCLGlCQUFWQSxHQUFnQyxPQUFWQSxFQUMxRCxPQUFXLElBQUlaLEVBQU9hLE9BQU9ELEVBQU1YLEtBQU1ZLE9BQU9ELEVBQU1WLE1BRTFELE1BQVUsSUFBSTFWLE1BQU0sb0lDNUZ4QixJQUFNa1csRUFLRixTQUFZSSxFQUFTQyxHQUNaRCxJQUVNQyxFQUNYcFAsS0FBU3FQLGFBQWFGLEdBQUlHLGFBQWFGLEdBQ2QsSUFBZEQsRUFBRzVVLE9BQ2R5RixLQUFTcVAsY0FBY0YsRUFBRyxHQUFJQSxFQUFHLEtBQUtHLGNBQWNILEVBQUcsR0FBSUEsRUFBRyxLQUU5RG5QLEtBQVNxUCxhQUFhRixFQUFHLElBQUlHLGFBQWFILEVBQUcsTUFVckRKLFlBQUlPLHNCQUFhRixHQUViLE9BREFwUCxLQUFTdVAsSUFBTUgsYUFBY2YsRUFBUyxJQUFJQSxFQUFPZSxFQUFHZCxJQUFLYyxFQUFHYixLQUFPRixFQUFPVyxRQUFRSSxHQUN2RXBQLE1BU2YrTyxZQUFJTSxzQkFBYUYsR0FFYixPQURBblAsS0FBU3dQLElBQU1MLGFBQWNkLEVBQVMsSUFBSUEsRUFBT2MsRUFBR2IsSUFBS2EsRUFBR1osS0FBT0YsRUFBT1csUUFBUUcsR0FDdkVuUCxNQVNmK08sWUFBSXpELGdCQUFPL0wsR0FDUCxJQUVRa1EsRUFBS0MsRUFGSFAsRUFBS25QLEtBQUt3UCxJQUNoQkosRUFBU3BQLEtBQUt1UCxJQUdsQixHQUFRaFEsYUFBZThPLEVBQ25Cb0IsRUFBVWxRLEVBQ1ZtUSxFQUFVblEsTUFFSCxDQUFBLEtBQUlBLGFBQWV3UCxHQU8xQixPQUFRcmIsTUFBTVcsUUFBUWtMLEdBQ1ZBLEVBQUkzTCxNQUFNRixNQUFNVyxTQUNUMkwsS0FBS3NMLE9BQU95RCxFQUFhQyxRQUFRelAsSUFFakNTLEtBQUtzTCxPQUFPK0MsRUFBT1csUUFBUXpQLElBR25DUyxLQVZYLEdBSEF5UCxFQUFVbFEsRUFBSWlRLElBQ2RFLEVBQVVuUSxFQUFJZ1EsS0FFTEUsSUFBUUMsRUFBSyxPQUFPMVAsS0F3QmpDLE9BWFNtUCxHQUFPQyxHQUtaRCxFQUFPYixJQUFNN0ksS0FBS29CLElBQUk0SSxFQUFJbkIsSUFBS2EsRUFBR2IsS0FDbENhLEVBQU9aLElBQU05SSxLQUFLb0IsSUFBSTRJLEVBQUlsQixJQUFLWSxFQUFHWixLQUNsQ2EsRUFBT2QsSUFBTTdJLEtBQUttQixJQUFJOEksRUFBSXBCLElBQUtjLEVBQUdkLEtBQ2xDYyxFQUFPYixJQUFNOUksS0FBS21CLElBQUk4SSxFQUFJbkIsSUFBS2EsRUFBR2IsT0FQbEN2TyxLQUFTd1AsSUFBTSxJQUFJbkIsRUFBT29CLEVBQUluQixJQUFLbUIsRUFBSWxCLEtBQ3ZDdk8sS0FBU3VQLElBQU0sSUFBSWxCLEVBQU9xQixFQUFJcEIsSUFBS29CLEVBQUluQixNQVNoQ3ZPLE1BV2YrTyxZQUFJWSxxQkFDQSxPQUFXLElBQUl0QixRQUFhbUIsSUFBSWxCLElBQU10TyxLQUFLdVAsSUFBSWpCLEtBQU8sUUFBU2tCLElBQUlqQixJQUFNdk8sS0FBS3VQLElBQUloQixLQUFPLElBUTdGUSxZQUFJYSx3QkFBeUIsT0FBTzVQLEtBQUt3UCxLQU96Q1QsWUFBSWMsd0JBQXlCLE9BQU83UCxLQUFLdVAsS0FPekNSLFlBQUllLHdCQUF5QixPQUFPLElBQUl6QixFQUFPck8sS0FBSytQLFVBQVcvUCxLQUFLZ1EsYUFPcEVqQixZQUFJa0Isd0JBQXlCLE9BQU8sSUFBSTVCLEVBQU9yTyxLQUFLa1EsVUFBV2xRLEtBQUttUSxhQU9wRXBCLFlBQUlnQixtQkFBb0IsT0FBTy9QLEtBQUt3UCxJQUFJbEIsS0FPeENTLFlBQUlvQixvQkFBcUIsT0FBT25RLEtBQUt3UCxJQUFJakIsS0FPekNRLFlBQUltQixtQkFBb0IsT0FBT2xRLEtBQUt1UCxJQUFJakIsS0FPeENTLFlBQUlpQixvQkFBcUIsT0FBT2hRLEtBQUt1UCxJQUFJaEIsS0FXekNRLFlBQUlQLG1CQUNBLE9BQVl4TyxLQUFLd1AsSUFBSWhCLFVBQVd4TyxLQUFLdVAsSUFBSWYsWUFZN0NPLFlBQUlOLG9CQUNBLHNCQUEyQnpPLEtBQUt3UCxJQUFJZixnQkFBZXpPLEtBQUt1UCxJQUFJZCxnQkFRaEVNLFlBQUlxQixtQkFDQSxhQUFrQlosS0FBT3hQLEtBQUt1UCxNQWlCbENSLEVBQVdDLGlCQUFRQyxHQUNmLE9BQVNBLEdBQVNBLGFBQWlCRixFQUFxQkUsRUFDN0MsSUFBSUYsRUFBYUUsSUMzTmhDLElBQU1vQixFQUtGLFNBQVlDLEVBQTBDQyxFQUFrQkMsR0FDeEV4USxLQUFTc1EsT0FBU3ZCLEVBQWFDLFFBQVFoUCxLQUFLeVEsZUFBZUgsSUFDM0R0USxLQUFTdVEsUUFBVUEsR0FBVyxFQUM5QnZRLEtBQVN3USxRQUFVQSxHQUFXLElBR2xDSCxZQUFJSSx3QkFBZUgsR0FFZixPQUFTNWMsTUFBTVcsUUFBUWljLElBQTZCLElBQWxCQSxFQUFPL1YsUUFDN0JrTCxLQUFLbUIsS0FBSyxJQUFLMEosRUFBTyxJQUFLN0ssS0FBS21CLEtBQUssR0FBSTBKLEVBQU8sSUFBSzdLLEtBQUtvQixJQUFJLElBQUt5SixFQUFPLElBQUs3SyxLQUFLb0IsSUFBSSxHQUFJeUosRUFBTyxPQUQvQyxLQUFNLEdBQUksSUFBSyxLQUluRkQsWUFBSUssa0JBQVNDLEdBQ1QsSUFBVUMsRUFDSW5MLEtBQUtvQyxNQUFNN0gsS0FBSzZRLEtBQUs3USxLQUFLc1EsT0FBT1AsVUFBV1ksRUFBT3RMLElBRHZEdUwsRUFFSW5MLEtBQUtvQyxNQUFNN0gsS0FBSzhRLEtBQUs5USxLQUFLc1EsT0FBT04sV0FBWVcsRUFBT3RMLElBRnhEdUwsRUFHSW5MLEtBQUtzTCxLQUFLL1EsS0FBSzZRLEtBQUs3USxLQUFLc1EsT0FBT0osVUFBV1MsRUFBT3RMLElBSHREdUwsRUFJSW5MLEtBQUtzTCxLQUFLL1EsS0FBSzhRLEtBQUs5USxLQUFLc1EsT0FBT0gsV0FBWVEsRUFBT3RMLElBR2pFLE9BRGdCc0wsRUFBTzlNLEdBQUsrTSxHQUFjRCxFQUFPOU0sRUFBSStNLEdBQWNELEVBQU83TSxHQUFLOE0sR0FBY0QsRUFBTzdNLEVBQUk4TSxHQUk1R1AsWUFBSVEsY0FBS3ZDLEVBQWEwQyxHQUNsQixPQUFZMUMsRUFBTSxNQUFRN0ksS0FBS2tCLElBQUksRUFBR3FLLEdBQVEsTUFHbERYLFlBQUlTLGNBQUt2QyxFQUFheUMsR0FDbEIsSUFBVTdMLEVBQUk4TCxRQUFNeEwsS0FBS3lMLElBQUl6TCxLQUFLcUosR0FBSyxJQUFNUCxJQUFPLE1BQVEsT0FDbEQ0QyxFQUFRMUwsS0FBS2tCLElBQUksRUFBR3FLLE1BQWF2TCxLQUFLcUosSUFDaEQsT0FBV3JKLEtBQUtrQixJQUFJLEVBQUdxSyxFQUFPLEdBQUssR0FBTXZMLEtBQUsyTCxPQUFTak0sTUFBVUEsS0FBT2dNLEdDekI1RSxJQUFNRSxjQW1CRixXQUFZN1ksRUFBWWpGLEVBQXVFK2QsRUFBd0JDLEdBa0JuSCxHQWpCQXhILGFBQ0EvSixLQUFLeEgsR0FBS0EsRUFDVndILEtBQUtzUixXQUFhQSxFQUVsQnRSLEtBQUtySyxLQUFPLFNBQ1pxSyxLQUFLdVEsUUFBVSxFQUNmdlEsS0FBS3dRLFFBQVUsR0FDZnhRLEtBQUt3UixPQUFTLE1BQ2R4UixLQUFLbEIsU0FBVyxJQUNoQmtCLEtBQUt5UixtQkFBb0IsRUFDekJ6UixLQUFLMFIsZUFBZ0IsRUFFckJwRyxTQUFPdEwsS0FBTTJSLE9BQUtwZSxHQUFVLE1BQU8sU0FBVSxjQUM3Q3lNLEtBQUs0UixTQUFXdEcsVUFBUzNWLEtBQU0sVUFBWXBDLEdBRTNDeU0sS0FBSzZSLHVCQUF5QnRlLEVBQVF1ZSxzQkFFaEIsTUFBbEI5UixLQUFLbEIsU0FDTCxNQUFNLElBQUlqRyxNQUFNLG1EQUdwQm1ILEtBQUsrUixpQkFBaUJSLDZHQUcxQlMsMkJBQ0loUyxLQUFLaVMsS0FBSyxJQUFJQyxRQUFNLGVBQWdCQyxTQUFVLFlBRTlDQyxFQUFhcFMsS0FBSzRSLFNBQVU1UixLQUFLL0wsSUFBSW9lLDJCQUFvQmxYLEVBQUttWCxHQUN0RG5YLEVBQ0E2RSxFQUFLaVMsS0FBSyxJQUFJTSxhQUFXcFgsSUFDbEJtWCxJQUNQaEgsU0FBT3RMLEVBQU1zUyxHQUNUQSxFQUFTaEMsU0FBUXRRLEVBQUt3UyxXQUFhLElBQUluQyxFQUFXaUMsRUFBU2hDLE9BQVF0USxFQUFLdVEsUUFBU3ZRLEVBQUt3USxVQUsxRnhRLEVBQUtpUyxLQUFLLElBQUlDLFFBQU0sUUFBU0MsU0FBVSxTQUFVTSxlQUFnQixjQUNqRXpTLEVBQUtpUyxLQUFLLElBQUlDLFFBQU0sUUFBU0MsU0FBVSxTQUFVTSxlQUFnQiw2QkFLN0VDLGlCQUFRL0IsR0FDSixPQUFRM1EsS0FBS3dTLFlBQWN4UyxLQUFLd1MsV0FBVzlCLFNBQVNDLEVBQU9nQyx3QkFHL0RDLGVBQU0zZSxHQUNGK0wsS0FBSy9MLElBQU1BLEVBQ1grTCxLQUFLZ1Msb0JBR1QxSCxxQkFDSSxPQUFPZ0IsWUFBV3RMLEtBQUs0Uix1QkFHM0JpQixrQkFBU0MsRUFBWXpYLEdBQ2pCMUMsSUFBTW9hLEVBQWNELEVBQUtuQyxPQUFPcUMsa0JBQzFCNVUsRUFBTTZVLEVBQWFILEVBQUtuQyxPQUFPZ0MsVUFBVXZVLElBQUk0QixLQUFLa1QsTUFBT2xULEtBQUt3UixRQUFTeFIsS0FBSzVCLEtBQzVFRixHQUNGaVYsUUFBU25ULEtBQUsvTCxJQUFJb2Usa0JBQWtCalUsRUFBS2dWLGVBQWFDLE1BQ3REQyxJQUFLUixFQUFLUSxJQUNWM0MsT0FBUW1DLEVBQUtuQyxPQUNiSyxLQUFNOEIsRUFBS25DLE9BQU80QyxZQUNsQnpVLFNBQVVrQixLQUFLbEIsU0FBV2lVLEVBQzFCcGQsS0FBTXFLLEtBQUtySyxLQUNYNmQsT0FBUXhULEtBQUt4SCxHQUNiMEssV0FBWWxFLEVBQVE3RixpQkFDcEI0WixZQUFhQSxFQUNiVSxtQkFBb0J6VCxLQUFLL0wsSUFBSXdmLG9CQWFqQyxTQUFTekYsRUFBSzdTLEVBQUsyRixHQUNmLE9BQUlnUyxFQUFLWSxRQUNFclksRUFBUyxNQUVoQkYsRUFDT0UsRUFBU0YsSUFHaEIyRixHQUFRQSxFQUFLNlMsaUJBQ2JiLEVBQUthLGVBQWlCN1MsRUFBSzZTLGdCQUUzQjNULEtBQUsvTCxJQUFJMmYsc0JBQXNCZCxFQUFLZSxjQUFjL1MsR0FDdERnUyxFQUFLZ0IsZUFBZWhULEVBQU1kLEtBQUsvTCxJQUFJOGYsU0FFbkMxWSxFQUFTLFdBRUx5WCxFQUFLa0IsaUJBQ0xoVSxLQUFLNlMsU0FBU0MsRUFBTUEsRUFBS2tCLGdCQUN6QmxCLEVBQUtrQixlQUFpQixRQTdCOUI5VixFQUFPaVYsUUFBUXJCLHNCQUF3QjlSLEtBQUs2Uiw0QkFFdEJ4YixJQUFsQnljLEVBQUttQixVQUF5QyxZQUFmbkIsRUFBS29CLE1BQ3BDcEIsRUFBS21CLFNBQVdqVSxLQUFLc1IsV0FBV3JELEtBQUssV0FBWS9QLEVBQVE4UCxFQUFLelosS0FBS3lMLE9BQzdDLFlBQWY4UyxFQUFLb0IsTUFFWnBCLEVBQUtrQixlQUFpQjNZLEVBRXRCMkUsS0FBS3NSLFdBQVdyRCxLQUFLLGFBQWMvUCxFQUFROFAsRUFBS3paLEtBQUt5TCxNQUFPOFMsRUFBS21CLHVCQTBCekVFLG1CQUFVckIsR0FDTjlTLEtBQUtzUixXQUFXckQsS0FBSyxhQUFlcUYsSUFBS1IsRUFBS1EsSUFBSzNkLEtBQU1xSyxLQUFLckssS0FBTTZkLE9BQVF4VCxLQUFLeEgsU0FBTW5DLEVBQVd5YyxFQUFLbUIsdUJBRzNHRyxvQkFBV3RCLEdBQ1BBLEVBQUt1QixtQkFDTHJVLEtBQUtzUixXQUFXckQsS0FBSyxjQUFnQnFGLElBQUtSLEVBQUtRLElBQUszZCxLQUFNcUssS0FBS3JLLEtBQU02ZCxPQUFReFQsS0FBS3hILFNBQU1uQyxFQUFXeWMsRUFBS21CLHVCQUc1R2pKLHlCQUNJLE9BQU8sTUF2SWdCUSxXQ0F6QjhJLGNBbUJGLFdBQVk5YixFQUFZakYsRUFBbUUrZCxFQUF3QkMsR0FDL0d4SCxhQUNBL0osS0FBS3hILEdBQUtBLEVBQ1Z3SCxLQUFLc1IsV0FBYUEsRUFDbEJ0UixLQUFLK1IsaUJBQWlCUixHQUV0QnZSLEtBQUtySyxLQUFPLFNBQ1pxSyxLQUFLdVEsUUFBVSxFQUNmdlEsS0FBS3dRLFFBQVUsR0FDZnhRLEtBQUt1VSxXQUFZLEVBQ2pCdlUsS0FBS3dSLE9BQVMsTUFDZHhSLEtBQUtsQixTQUFXLElBQ2hCa0IsS0FBS3dVLFNBQVUsRUFFZnhVLEtBQUs0UixTQUFXdEcsWUFBVy9YLEdBQzNCK1gsU0FBT3RMLEtBQU0yUixPQUFLcGUsR0FBVSxNQUFPLFNBQVUsd0hBR2pEeWUsMkJBQ0loUyxLQUFLaVMsS0FBSyxJQUFJQyxRQUFNLGVBQWdCQyxTQUFVLFlBQzlDQyxFQUFhcFMsS0FBSzRSLFNBQVU1UixLQUFLL0wsSUFBSW9lLDJCQUFvQmxYLEVBQUttWCxHQUN0RG5YLEVBQ0E2RSxFQUFLaVMsS0FBSyxJQUFJTSxhQUFXcFgsSUFDbEJtWCxJQUNQaEgsU0FBT3RMLEVBQU1zUyxHQUNUQSxFQUFTaEMsU0FBUXRRLEVBQUt3UyxXQUFhLElBQUluQyxFQUFXaUMsRUFBU2hDLE9BQVF0USxFQUFLdVEsUUFBU3ZRLEVBQUt3USxVQUsxRnhRLEVBQUtpUyxLQUFLLElBQUlDLFFBQU0sUUFBU0MsU0FBVSxTQUFVTSxlQUFnQixjQUNqRXpTLEVBQUtpUyxLQUFLLElBQUlDLFFBQU0sUUFBU0MsU0FBVSxTQUFVTSxlQUFnQiw2QkFLN0VHLGVBQU0zZSxHQUNGK0wsS0FBSy9MLElBQU1BLEVBQ1grTCxLQUFLZ1Msb0JBR1QxSCxxQkFDSSxPQUFPZ0IsWUFBV3RMLEtBQUs0Uix1QkFHM0JjLGlCQUFRL0IsR0FDSixPQUFRM1EsS0FBS3dTLFlBQWN4UyxLQUFLd1MsV0FBVzlCLFNBQVNDLEVBQU9nQyx3QkFHL0RFLGtCQUFTQyxFQUFZelgsY0FDWCtDLEVBQU02VSxFQUFhSCxFQUFLbkMsT0FBT2dDLFVBQVV2VSxJQUFJNEIsS0FBS2tULE1BQU9sVCxLQUFLd1IsUUFBU3hSLEtBQUs1QixJQUFLNEIsS0FBS2xCLFVBQzVGZ1UsRUFBS0ssUUFBVTNRLFdBQVN4QyxLQUFLL0wsSUFBSW9lLGtCQUFrQmpVLEVBQUtnVixlQUFhQyxlQUFRbFksRUFBS3pDLEdBRzlFLFVBRk9vYSxFQUFLSyxRQUVSTCxFQUFLWSxRQUNMWixFQUFLb0IsTUFBUSxXQUNiN1ksRUFBUyxXQUNOLEdBQUlGLEVBQ1AyWCxFQUFLb0IsTUFBUSxVQUNiN1ksRUFBU0YsUUFDTixHQUFJekMsRUFBSyxDQUNSc0gsRUFBSy9MLElBQUkyZixzQkFBc0JkLEVBQUtlLGNBQWNuYixVQUM5Q0EsRUFBVStiLG9CQUNWL2IsRUFBVWdjLFFBRWxCL2IsSUFBTUMsRUFBVW9ILEVBQUsvTCxJQUFJOGYsUUFBUW5iLFFBQzNCdUgsRUFBS3ZILEVBQVF1SCxHQUNuQjJTLEVBQUs1UyxRQUFVRixFQUFLL0wsSUFBSThmLFFBQVFZLGVBQWVqYyxFQUFJSSxPQUMvQ2dhLEVBQUs1UyxTQUNMNFMsRUFBSzVTLFFBQVEzTCxLQUFLNEwsRUFBRytELE9BQVEvRCxFQUFHZ0UsY0FBZWhFLEVBQUd5VSx1QkFDbER6VSxFQUFHZ04sY0FBY2hOLEVBQUdJLFdBQVksRUFBRyxFQUFHLEVBQUdKLEVBQUdPLEtBQU1QLEVBQUdVLGNBQWVuSSxLQUVwRW9hLEVBQUs1UyxRQUFVLElBQUlMLEVBQVFqSCxFQUFTRixFQUFLeUgsRUFBR08sTUFDNUNvUyxFQUFLNVMsUUFBUTNMLEtBQUs0TCxFQUFHK0QsT0FBUS9ELEVBQUdnRSxjQUFlaEUsRUFBR3lVLHVCQUU5Q2hjLEVBQVFpYyw2QkFDUjFVLEVBQUcyVSxjQUFjM1UsRUFBR0ksV0FBWTNILEVBQVFpYyw0QkFBNEJFLDJCQUE0Qm5jLEVBQVFvYyxpQ0FHaEg3VSxFQUFHOFUsZUFBZTlVLEVBQUdJLFlBRXJCdVMsRUFBS29CLE1BQVEsU0FFYjdZLEVBQVMsc0JBS3JCOFksbUJBQVVyQixFQUFZelgsR0FDZHlYLEVBQUtLLFVBQ0xMLEVBQUtLLFFBQVErQixlQUNOcEMsRUFBS0ssU0FFaEI5WCxpQkFHSitZLG9CQUFXdEIsRUFBWXpYLEdBQ2Z5WCxFQUFLNVMsU0FBU0YsS0FBSy9MLElBQUk4ZixRQUFRb0IsZ0JBQWdCckMsRUFBSzVTLFNBQ3hEN0UsaUJBR0oyUCx5QkFDSSxPQUFPLE1BekhnQlEsV0NBekI0SixjQUdGLFdBQVk1YyxFQUFZakYsRUFBdUMrZCxFQUF3QkMsR0FDbkZ4SCxZQUFNdlIsRUFBSWpGLEVBQVMrZCxFQUFZQyxHQUMvQnZSLEtBQUtySyxLQUFPLGFBQ1pxSyxLQUFLd1EsUUFBVSxHQUNmeFEsS0FBSzRSLFNBQVd0RyxZQUFXL1gsR0FDM0J5TSxLQUFLcVYsU0FBVzloQixFQUFROGhCLFVBQVksbUhBR3hDL0sscUJBQ0ksT0FDSTNVLEtBQU0sYUFDTnlJLElBQUs0QixLQUFLNUIsSUFDVlUsU0FBVWtCLEtBQUtsQixTQUNmb1UsTUFBT2xULEtBQUtrVCxNQUNaNUMsT0FBUXRRLEtBQUtzUSxPQUNiK0UsU0FBVXJWLEtBQUtxVix1QkFJdkJ4QyxrQkFBU0MsRUFBWXpYLEdBQ2pCMUMsSUFBTXlGLEVBQU02VSxFQUFhSCxFQUFLbkMsT0FBT2dDLFVBQVV2VSxJQUFJNEIsS0FBS2tULE1BQU9sVCxLQUFLd1IsUUFBU3hSLEtBQUs1QixJQUFLNEIsS0FBS2xCLFVBQzVGZ1UsRUFBS0ssUUFBVTNRLFdBQVN4QyxLQUFLL0wsSUFBSW9lLGtCQUFrQmpVLEVBQUtnVixlQUFhQyxNQUdyRSxTQUFxQmxZLEVBQUt6QyxHQUV0QixVQURPb2EsRUFBS0ssUUFDUkwsRUFBS1ksUUFDTFosRUFBS29CLE1BQVEsV0FDYjdZLEVBQVMsV0FDTixHQUFJRixFQUNQMlgsRUFBS29CLE1BQVEsVUFDYjdZLEVBQVNGLFFBQ04sR0FBSXpDLEVBQUssQ0FDUnNILEtBQUsvTCxJQUFJMmYsc0JBQXNCZCxFQUFLZSxjQUFjbmIsVUFDOUNBLEVBQVUrYixvQkFDVi9iLEVBQVVnYyxRQUVsQi9iLElBQU0yYyxFQUFldFcsRUFBUXZHLGFBQWFDLEdBQ3BDd0YsR0FDRm9WLElBQUtSLEVBQUtRLElBQ1ZpQyxNQUFPekMsRUFBS25DLE9BQ1o2QyxPQUFReFQsS0FBS3hILEdBQ2I4YyxhQUFjQSxFQUNkRCxTQUFVclYsS0FBS3FWLFVBR2R2QyxFQUFLbUIsVUFBMkIsWUFBZm5CLEVBQUtvQixRQUN2QnBCLEVBQUttQixTQUFXalUsS0FBS3NSLFdBQVdyRCxLQUFLLGNBQWUvUCxFQUtoRSxTQUFjL0MsRUFBS3FhLEdBQ1hyYSxJQUNBMlgsRUFBS29CLE1BQVEsVUFDYjdZLEVBQVNGLElBR1RxYSxJQUNBMUMsRUFBSzBDLElBQU1BLEVBQ1gxQyxFQUFLMkMsdUJBQXdCLEVBQzdCM0MsRUFBS29CLE1BQVEsU0FDYjdZLEVBQVMsUUFmNEQ5RyxLQUFLeUwsVUExQk16TCxLQUFLeUwsT0FFN0Y4UyxFQUFLNEMsaUJBQW1CMVYsS0FBSzJWLHFCQUFxQjdDLEVBQUtuQyxxQkE2QzNEZ0YsOEJBQXFCaEYsR0FDakJoWSxJQUFNZ2EsRUFBWWhDLEVBQU9nQyxVQUNuQmlELEVBQU1uUSxLQUFLa0IsSUFBSSxFQUFHZ00sRUFBVXROLEdBRTVCd1EsR0FBTWxELEVBQVU5TyxFQUFJLEVBQUkrUixHQUFPQSxFQUMvQkUsRUFBc0IsSUFBaEJuRCxFQUFVOU8sRUFBVThNLEVBQU81UCxLQUFPLEVBQUk0UCxFQUFPNVAsS0FDbkRnVixHQUFNcEQsRUFBVTlPLEVBQUksRUFBSStSLEdBQU9BLEVBQy9CSSxFQUFNckQsRUFBVTlPLEVBQUksSUFBTStSLEVBQU1qRixFQUFPNVAsS0FBTyxFQUFJNFAsRUFBTzVQLEtBRXpEMlUsS0FrQk4sT0FoQkFBLEVBQWlCLElBQUlPLG1CQUFpQnRGLEVBQU80QyxZQUFhdUMsRUFBS25ELEVBQVV0TixFQUFHd1EsRUFBSWxELEVBQVU3TyxHQUFHa0ksTUFBUWtLLFlBQVksR0FDakhSLEVBQWlCLElBQUlPLG1CQUFpQnRGLEVBQU80QyxZQUFheUMsRUFBS3JELEVBQVV0TixFQUFHMFEsRUFBSXBELEVBQVU3TyxHQUFHa0ksTUFBUWtLLFlBQVksR0FHN0d2RCxFQUFVN08sRUFBSSxJQUNkNFIsRUFBaUIsSUFBSU8sbUJBQWlCdEYsRUFBTzRDLFlBQWF1QyxFQUFLbkQsRUFBVXROLEVBQUd3USxFQUFJbEQsRUFBVTdPLEVBQUksR0FBR2tJLE1BQVFrSyxZQUFZLEdBQ3JIUixFQUFpQixJQUFJTyxtQkFBaUJ0RixFQUFPNEMsWUFBYTVDLEVBQU81UCxLQUFNNFIsRUFBVXROLEVBQUdzTixFQUFVOU8sRUFBRzhPLEVBQVU3TyxFQUFJLEdBQUdrSSxNQUFRa0ssWUFBWSxHQUN0SVIsRUFBaUIsSUFBSU8sbUJBQWlCdEYsRUFBTzRDLFlBQWF5QyxFQUFLckQsRUFBVXROLEVBQUcwUSxFQUFJcEQsRUFBVTdPLEVBQUksR0FBR2tJLE1BQVFrSyxZQUFZLElBR3JIdkQsRUFBVTdPLEVBQUksRUFBSThSLElBQ2xCRixFQUFpQixJQUFJTyxtQkFBaUJ0RixFQUFPNEMsWUFBYXVDLEVBQUtuRCxFQUFVdE4sRUFBR3dRLEVBQUlsRCxFQUFVN08sRUFBSSxHQUFHa0ksTUFBUWtLLFlBQVksR0FDckhSLEVBQWlCLElBQUlPLG1CQUFpQnRGLEVBQU80QyxZQUFhNUMsRUFBTzVQLEtBQU00UixFQUFVdE4sRUFBR3NOLEVBQVU5TyxFQUFHOE8sRUFBVTdPLEVBQUksR0FBR2tJLE1BQVFrSyxZQUFZLEdBQ3RJUixFQUFpQixJQUFJTyxtQkFBaUJ0RixFQUFPNEMsWUFBYXlDLEVBQUtyRCxFQUFVdE4sRUFBRzBRLEVBQUlwRCxFQUFVN08sRUFBSSxHQUFHa0ksTUFBUWtLLFlBQVksSUFHbEhSLGVBSVh0QixvQkFBV3RCLEdBQ0hBLEVBQUtxRCxZQUFZblcsS0FBSy9MLElBQUk4ZixRQUFRb0IsZ0JBQWdCckMsRUFBS3FELFlBQ3ZEckQsRUFBS3NELE1BQ0x0RCxFQUFLc0QsSUFBSTlVLGlCQUNGd1IsRUFBS3NELEtBRVp0RCxFQUFLMEMsWUFBWTFDLEVBQUswQyxXQUNuQjFDLEVBQUs0QyxpQkFFWjVDLEVBQUtvQixNQUFRLFdBQ2JsVSxLQUFLc1IsV0FBV3JELEtBQUssaUJBQW1CcUYsSUFBS1IsRUFBS1EsSUFBS0UsT0FBUXhULEtBQUt4SCxTQUFNbkMsRUFBV3ljLEVBQUttQixjQWhIaEVLLEdDNEM1QitCLGNBdUJGLFdBQVk3ZCxFQUFZakYsRUFBNkYrZCxFQUF3QkMsR0FDekl4SCxhQUVBL0osS0FBS3hILEdBQUtBLEVBSVZ3SCxLQUFLckssS0FBTyxVQUVacUssS0FBS3VRLFFBQVUsRUFDZnZRLEtBQUt3USxRQUFVLEdBQ2Z4USxLQUFLbEIsU0FBVyxJQUNoQmtCLEtBQUswUixlQUFnQixFQUNyQjFSLEtBQUt5UixtQkFBb0IsRUFDekJ6UixLQUFLc1csVUFBVyxFQUVoQnRXLEtBQUtzUixXQUFhQSxFQUNsQnRSLEtBQUsrUixpQkFBaUJSLEdBRXRCdlIsS0FBS3VXLE1BQVNoakIsRUFBUXVOLEtBQ3RCZCxLQUFLNFIsU0FBV3RHLFlBQVcvWCxHQUUzQnlNLEtBQUs2Uix1QkFBeUJ0ZSxFQUFRdWUsc0JBQ3RDOVIsS0FBS3dXLHdCQUVtQm5nQixJQUFwQjlDLEVBQVFpZCxVQUF1QnhRLEtBQUt3USxRQUFVamQsRUFBUWlkLFNBQ3REamQsRUFBUW9DLE9BQU1xSyxLQUFLckssS0FBT3BDLEVBQVFvQyxNQUV0Q2dELElBQU13WSxFQUFRc0YsWUFBU3pXLEtBQUtsQixTQU01QmtCLEtBQUswVyxjQUFnQnBMLFVBQ2pCa0ksT0FBUXhULEtBQUt4SCxHQUNibWUsUUFBU3BqQixFQUFRb2pCLFVBQVcsRUFDNUJDLGtCQUNJclMsYUFBNEJsTyxJQUFuQjlDLEVBQVFnUixPQUF1QmhSLEVBQVFnUixPQUFTLEtBQU80TSxFQUNoRTBGLGdCQUFrQ3hnQixJQUF0QjlDLEVBQVFzakIsVUFBMEJ0akIsRUFBUXNqQixVQUFZLE1BQVMxRixFQUMzRTJGLE9BQVFMLFlBQ1JNLFFBQVMvVyxLQUFLd1EsU0FFbEJ3RyxxQkFDSUQsYUFBb0MxZ0IsSUFBM0I5QyxFQUFRMGpCLGVBQ2J4UixLQUFLb0IsSUFBSXRULEVBQVEwakIsZUFBZ0JqWCxLQUFLd1EsUUFBVSxHQUMvQ3hRLEtBQUt3USxRQUFVLEVBQ3BCc0csT0FBUUwsWUFDUmpTLFFBQVNqUixFQUFRMmpCLGVBQWlCLElBQU0vRixFQUN4Q0MsS0FBSyxJQUVWN2QsRUFBUW1qQix5SEFHZjFFLDJCQUNJaFMsS0FBS2lTLEtBQUssSUFBSUMsUUFBTSxlQUFnQkMsU0FBVSxZQUM5Q25TLEtBQUttWCwyQkFBbUJoYyxHQUNwQixHQUFJQSxFQUNBNkUsRUFBS2lTLEtBQUssSUFBSU0sYUFBV3BYLFFBRDdCLENBS0F4QyxJQUFNbUksR0FBaUJxUixTQUFVLFNBQVVNLGVBQWdCLFlBQ3ZEelMsRUFBSzZSLHdCQUEwQjdSLEVBQUt3VyxpQkFBb0J4VyxFQUFLd1csZ0JBQWdCamMsT0FBUyxJQUN0RnVHLEVBQUs2UyxlQUFpQjNULEVBQUt3VyxnQkFDM0J4VyxFQUFLd1csb0JBS1R4VyxFQUFLaVMsS0FBSyxJQUFJQyxRQUFNLE9BQVFwUixvQkFJcEM4UixlQUFNM2UsR0FDRitMLEtBQUsvTCxJQUFNQSxFQUNYK0wsS0FBS2dTLG9CQVNUb0YsaUJBQVF0VyxjQWdCSixPQWZBZCxLQUFLdVcsTUFBUXpWLEVBQ2JkLEtBQUtpUyxLQUFLLElBQUlDLFFBQU0sZUFBZ0JDLFNBQVUsWUFDOUNuUyxLQUFLbVgsMkJBQW1CaGMsR0FDcEIsR0FBSUEsRUFDQSxPQUFPNkUsRUFBS2lTLEtBQUssSUFBSU0sYUFBV3BYLElBR3BDeEMsSUFBTW1JLEdBQWlCcVIsU0FBVSxTQUFVTSxlQUFnQixXQUN2RHpTLEVBQUs2Uix3QkFBMEI3UixFQUFLd1csaUJBQW9CeFcsRUFBS3dXLGdCQUFnQmpjLE9BQVMsSUFDdEZ1RyxFQUFLNlMsZUFBaUIzVCxFQUFLd1csZ0JBQzNCeFcsRUFBS3dXLG9CQUVUeFcsRUFBS2lTLEtBQUssSUFBSUMsUUFBTSxPQUFRcFIsTUFHekJkLGtCQVFYbVgsMkJBQWtCOWIsT0E2RkYrQyxFQUNWc0ksU0E3RkluVCxFQUFVK1gsWUFBV3RMLEtBQUswVyxlQUMxQjVWLEVBQU9kLEtBQUt1VyxNQUNFLGlCQUFUelYsR0FDUHZOLEVBQVE0ZixRQUFVblQsS0FBSy9MLElBQUlvZSxtQkF5Rm5CalUsRUF6RmdEMEMsR0EwRjFENEYsRUFBSWxULFVBQU9DLFNBQVMrQyxjQUFjLE1BQ3RDNmdCLEtBQU9qWixFQUNGc0ksRUFBRTJRLE1BNUY4RGpFLGVBQWFrRSxRQUM1RS9qQixFQUFRNGYsUUFBUXJCLHNCQUF3QjlSLEtBQUs2Uix3QkFFN0N0ZSxFQUFRdU4sS0FBT3hMLEtBQUtpaUIsVUFBVXpXLEdBTWxDZCxLQUFLaVUsU0FBV2pVLEtBQUtzUixXQUFXckQsS0FBUWpPLEtBQUtySyxTQUFRcEMsRUFBUWlnQixtQkFBbUJqZ0IsV0FBVTRILEVBQUs2TSxHQUN2RmhJLEVBQUtzVyxVQUFhdE8sR0FBVUEsRUFBT3dQLFlBSXZDeFgsRUFBS3dVLFNBQVUsRUFFWHhNLEdBQVVBLEVBQU8yTCxnQkFBa0IzTCxFQUFPMkwsZUFBZTNULEVBQUt4SCxNQUM5RHdILEVBQUt3VyxnQkFBa0J4TyxFQUFPMkwsZUFBZTNULEVBQUt4SCxJQUFJb1MsTUFBTSxJQVFoRTVLLEVBQUtzUixXQUFXckQsS0FBUWpPLEVBQUtySyxTQUFRcEMsRUFBUWlnQixtQkFBbUIsS0FBTSxLQUFNeFQsRUFBS2lVLFVBQ2pGNVksRUFBU0YsS0FFVjZFLEtBQUtpVSx1QkFHWnBCLGtCQUFTQyxFQUFZelgsY0FDWG9jLE9BQTRCcGhCLElBQWxCeWMsRUFBS21CLFNBQXlCLFdBQWEsYUFDckQvVixHQUNGdkksS0FBTXFLLEtBQUtySyxLQUNYMmQsSUFBS1IsRUFBS1EsSUFDVjNDLE9BQVFtQyxFQUFLbkMsT0FDYkssS0FBTThCLEVBQUtuQyxPQUFPNEMsWUFDbEJ3RCxRQUFTL1csS0FBS3dRLFFBQ2QxUixTQUFVa0IsS0FBS2xCLFNBQ2YwVSxPQUFReFQsS0FBS3hILEdBQ2IwSyxXQUFZbEUsRUFBUTdGLGlCQUNwQjRaLFlBQWFELEVBQUtuQyxPQUFPcUMsa0JBQ3pCUyxtQkFBb0J6VCxLQUFLL0wsSUFBSXdmLG9CQUdqQ1gsRUFBS21CLFNBQVdqVSxLQUFLc1IsV0FBV3JELEtBQUt3SixFQUFTdlosV0FBUy9DLEVBQUsyRixHQUd4RCxPQUZBZ1MsRUFBS3VCLG1CQUVEdkIsRUFBS1ksUUFDRXJZLEVBQVMsTUFHaEJGLEVBQ09FLEVBQVNGLElBR3BCMlgsRUFBS2dCLGVBQWVoVCxFQUFNZCxFQUFLL0wsSUFBSThmLFFBQXFCLGVBQVowRCxHQUVyQ3BjLEVBQVMsUUFDakIyRSxLQUFLaVUsdUJBR1pFLG1CQUFVckIsR0FDTkEsRUFBS1ksU0FBVSxlQUduQlUsb0JBQVd0QixHQUNQQSxFQUFLdUIsbUJBQ0xyVSxLQUFLc1IsV0FBV3JELEtBQUssY0FBZ0JxRixJQUFLUixFQUFLUSxJQUFLM2QsS0FBTXFLLEtBQUtySyxLQUFNNmQsT0FBUXhULEtBQUt4SCxJQUFNLEtBQU1zYSxFQUFLbUIsdUJBR3ZHeUQsb0JBQ0kxWCxLQUFLc1csVUFBVyxFQUNoQnRXLEtBQUtzUixXQUFXckQsS0FBSyxnQkFBa0J0WSxLQUFNcUssS0FBS3JLLEtBQU02ZCxPQUFReFQsS0FBS3hILElBQU0sS0FBTXdILEtBQUtpVSx1QkFHMUYzSixxQkFDSSxPQUFPZ0IsWUFBV3RMLEtBQUs0UixVQUNuQmpjLEtBQU1xSyxLQUFLckssS0FDWG1MLEtBQU1kLEtBQUt1VyxxQkFJbkJ2TCx5QkFDSSxPQUFPLE1BN05hUSxXQzNENUIsa0hDTU1tTSxHQVdGLFdBQ0EzWCxLQUFTNFgsYUFBZSxLQUN4QjVYLEtBQVM2WCx3QkFBMEIsS0FDbkM3WCxLQUFTOFgsMkJBQ1Q5WCxLQUFTK1gsaUJBQW1CLEtBQzVCL1gsS0FBU2dZLGtCQUFvQixLQUM3QmhZLEtBQVNpWSx5QkFBMkIsS0FDcENqWSxLQUFTa1ksSUFBTSxNQUduQlAsYUFBSXBqQixjQUFLcUUsRUFDSnVmLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBRUR6WSxLQUFTcEgsUUFBVUEsRUFHbkIsSUFEQSxJQUFROGYsRUFBcUIxWSxLQUFLOFgsd0JBQXdCdmQsU0FBVzhkLEVBQW1COWQsT0FDM0VELEVBQUksR0FBSW9lLEdBQXNCcGUsRUFBSStkLEVBQW1COWQsT0FBUUQsU0FDekR3ZCx3QkFBd0J4ZCxLQUFPK2QsRUFBbUIvZCxLQUMzRG9lLEdBQXlCLEdBSWpDLElBQVVDLEdBQ0QzWSxLQUFLa1ksS0FDVmxZLEtBQVM0WCxlQUFpQk8sR0FDMUJuWSxLQUFTNlgsMEJBQTRCTyxHQUNyQ00sR0FDQTFZLEtBQVMrWCxtQkFBcUJPLEdBQzlCdFksS0FBU2dZLG9CQUFzQk8sR0FDL0J2WSxLQUFTaVksMkJBQTZCTyxHQUN0Q3hZLEtBQVM0WSw0QkFBOEJILEdBR2xDN2YsRUFBUWlnQixzQkFBd0JGLEVBQ3JDM1ksS0FBUzhZLFVBQVVYLEVBQVNDLEVBQW9CQyxFQUFvQkMsRUFBYUMsRUFBY0MsRUFBcUJDLElBRXBIN2YsRUFBWW1nQixtQkFBbUJ0WSxJQUFJVCxLQUFLa1ksS0FFaENNLEdBRUpBLEVBQXdCamtCLE9BR3BCK2pCLEdBQWVBLEVBQVlVLGFBQy9CVixFQUFnQi9qQixPQUdaa2tCLEdBQ0pBLEVBQXlCbGtCLFNBS3JDb2pCLGFBQUltQixtQkFBVVgsRUFDSkMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FDTixJQUFRUSxFQUNFQyxFQUFvQmYsRUFBUWdCLGNBRTVCdmdCLEVBQVVvSCxLQUFLcEgsUUFDZnVILEVBQUt2SCxFQUFRdUgsR0FFdkIsR0FBUXZILEVBQVFpZ0IscUJBQ0o3WSxLQUFLa1ksS0FBS2xZLEtBQUtzQixVQUN2QnRCLEtBQVNrWSxJQUFNdGYsRUFBUWlnQixxQkFBcUJPLHVCQUM1Q3hnQixFQUFZbWdCLG1CQUFtQnRZLElBQUlULEtBQUtrWSxLQUN4Q2UsRUFBd0IsRUFHeEJqWixLQUFTNFgsYUFBZU8sRUFDeEJuWSxLQUFTNlgsd0JBQTBCTyxFQUNuQ3BZLEtBQVM4WCx3QkFBMEJPLEVBQ25DclksS0FBUytYLGlCQUFtQk8sRUFDNUJ0WSxLQUFTZ1ksa0JBQW9CTyxFQUM3QnZZLEtBQVNpWSx5QkFBMkJPLEVBQ3BDeFksS0FBUzRZLDBCQUE0QkgsTUFFOUIsQ0FDUFEsRUFBd0JyZ0IsRUFBUXlnQixzQkFBd0IsRUFJeEQsSUFBU2hmLElBQUlDLEVBQUk0ZSxFQUFtQjVlLEVBQUkyZSxFQUFtQjNlLElBSXZENkYsRUFBT21aLHlCQUF5QmhmLEdBSXhDOGQsRUFBdUJtQixpQkFBaUJwWixFQUFJZ1ksR0FDNUMsSUFBUyxVQUFzQkUsa0JBQW9CLE1BQzlCa0IsaUJBQWlCcFosRUFBSWdZLEdBR2xDSyxHQUNKQSxFQUF3QmUsaUJBQWlCcFosRUFBSWdZLEdBRXpDTSxHQUNKQSxFQUF5QmMsaUJBQWlCcFosRUFBSWdZLEdBR2xEQyxFQUF1QjdqQixPQUN2QjZqQixFQUF1Qm9CLHdCQUF3QnJaLEVBQUlnWSxFQUFTSSxHQUM1RCxJQUFTLFVBQXNCRixrQkFBb0IsQ0FDL0MsSUFEV29CLE9BQ1BBLEVBQWFsbEIsT0FDakJtbEIsRUFBaUJGLHdCQUF3QnJaLEVBQUlnWSxFQUFTSSxHQUdsREMsSUFDSkEsRUFBd0Jqa0IsT0FDeEJpa0IsRUFBd0JnQix3QkFBd0JyWixFQUFJZ1ksRUFBU0ksSUFFekRELEdBQ0pBLEVBQWdCL2pCLE9BRVpra0IsSUFDSkEsRUFBeUJsa0IsT0FDekJra0IsRUFBeUJlLHdCQUF3QnJaLEVBQUlnWSxFQUFTSSxJQUdsRTNmLEVBQVl5Z0IscUJBQXVCSCxHQUd2Q3ZCLGFBQUlyVyxtQkFDUXRCLEtBQUtrWSxNQUNUbFksS0FBU3BILFFBQVFpZ0IscUJBQXFCYyxxQkFBcUIzWixLQUFLa1ksS0FDaEVsWSxLQUFTa1ksSUFBTSxPQ3hHdkIsSUFBTTBCLGVBd0JGLFdBQVlwaEIsRUFBWWpGLEVBQTBGK2QsRUFBd0JDLEdBQ3RJeEgsYUFDQS9KLEtBQUt4SCxHQUFLQSxFQUNWd0gsS0FBS3NSLFdBQWFBLEVBQ2xCdFIsS0FBSzZaLFlBQWN0bUIsRUFBUXNtQixZQUUzQjdaLEtBQUtySyxLQUFPLFFBQ1pxSyxLQUFLdVEsUUFBVSxFQUNmdlEsS0FBS3dRLFFBQVUsR0FDZnhRLEtBQUtsQixTQUFXLElBQ2hCa0IsS0FBS2tULFNBRUxsVCxLQUFLK1IsaUJBQWlCUixHQUV0QnZSLEtBQUt6TSxRQUFVQSw0R0FHbkJ5ZSwyQkFDSWhTLEtBQUtpUyxLQUFLLElBQUlDLFFBQU0sZUFBZ0JDLFNBQVUsWUFFOUNuUyxLQUFLNUIsSUFBTTRCLEtBQUt6TSxRQUFRNkssSUFFeEJvRSxXQUFTeEMsS0FBSy9MLElBQUlvZSxrQkFBa0JyUyxLQUFLNUIsSUFBS2dWLGVBQWEwRyxnQkFBUzNlLEVBQUsyRSxHQUNqRTNFLEVBQ0E2RSxFQUFLaVMsS0FBSyxJQUFJTSxhQUFXcFgsSUFDbEIyRSxJQUNQRSxFQUFLRixNQUFRZCxFQUFRdkcsYUFBYXFILEdBQ2xDRSxFQUFLK1osaUNBS2pCQSwwQkFDUS9aLEtBQUsvTCxNQUNMK0wsS0FBS2dhLGVBQWVoYSxLQUFLNlosYUFDekI3WixLQUFLaVMsS0FBSyxJQUFJQyxRQUFNLFFBQVNDLFNBQVUsU0FBVU0sZUFBZ0IsNEJBSXpFRyxlQUFNM2UsR0FDRitMLEtBQUsvTCxJQUFNQSxFQUNYK0wsS0FBS2dTLG9CQVlUZ0ksd0JBQWVILEdBQ1g3WixLQUFLNlosWUFBY0EsRUFNbkJsaEIsSUFBTTFFLEVBQU0rTCxLQUFLL0wsSUFHWGdtQixFQUFpQkosRUFBWTVsQixhQUFLc2hCLEdBQ3BDLE9BQU90aEIsRUFBSWltQixVQUFVQyxtQkFBbUI5TCxFQUFPVyxRQUFRdUcsSUFBUTZFLE9BQU8sS0FLcEVDLEVBQWNyYSxLQUFLcWEsWUFBY0MsdUJBQXFCTCxHQUc1REksRUFBWUUsT0FBUzlVLEtBQUtvQyxNQUFNd1MsRUFBWUUsUUFDNUNGLEVBQVkvTixJQUFNN0csS0FBS29DLE1BQU13UyxFQUFZL04sS0FDekN0TSxLQUFLMlEsT0FBUyxJQUFJNkosa0JBQWdCSCxFQUFZckosS0FBTXFKLEVBQVlFLE9BQVFGLEVBQVkvTixLQUtwRnRNLEtBQUt1USxRQUFVdlEsS0FBS3dRLFFBQVU2SixFQUFZckosS0FJMUNyWSxJQUFNOGhCLEVBQWFSLEVBQWVobUIsYUFBS3NoQixHQUNuQzVjLElBQU0raEIsRUFBY25GLEVBQU02RSxPQUFPQyxFQUFZckosTUFDN0MsT0FBTyxJQUFJalYsWUFDUDBKLEtBQUtDLE9BQU9nVixFQUFZSCxPQUFTRixFQUFZRSxRQUFVOUQsYUFDdkRoUixLQUFLQyxPQUFPZ1YsRUFBWXBPLElBQU0rTixFQUFZL04sS0FBT21LLGdCQWV6RCxPQVpBelcsS0FBSzJhLGFBQWUsSUFBSUMsb0JBQ3hCNWEsS0FBSzJhLGFBQWFFLFlBQVlKLEVBQVcsR0FBRzVXLEVBQUc0VyxFQUFXLEdBQUczVyxFQUFHLEVBQUcsR0FDbkU5RCxLQUFLMmEsYUFBYUUsWUFBWUosRUFBVyxHQUFHNVcsRUFBRzRXLEVBQVcsR0FBRzNXLEVBQUcyUyxZQUFRLEdBQ3hFelcsS0FBSzJhLGFBQWFFLFlBQVlKLEVBQVcsR0FBRzVXLEVBQUc0VyxFQUFXLEdBQUczVyxFQUFHLEVBQUcyUyxhQUNuRXpXLEtBQUsyYSxhQUFhRSxZQUFZSixFQUFXLEdBQUc1VyxFQUFHNFcsRUFBVyxHQUFHM1csRUFBRzJTLFlBQVFBLGFBRXBFelcsS0FBSzhhLGVBQ0w5YSxLQUFLOGEsYUFBYXhaLGlCQUNYdEIsS0FBSzhhLGNBR2hCOWEsS0FBS2lTLEtBQUssSUFBSUMsUUFBTSxRQUFTQyxTQUFTLFNBQVVNLGVBQWdCLGFBQ3pEelMsa0JBR1grYSxtQkFDSSxHQUF1QyxJQUFuQ3ZtQixPQUFPQyxLQUFLdUwsS0FBS2tULE9BQU8zWSxRQUFpQnlGLEtBQUtGLE1BQWxELENBSUFuSCxJQUFNQyxFQUFVb0gsS0FBSy9MLElBQUk4ZixRQUFRbmIsUUFDM0J1SCxFQUFLdkgsRUFBUXVILEdBZW5CLFFBQVdrRCxLQWJOckQsS0FBSzhhLGVBQ045YSxLQUFLOGEsYUFBZWxpQixFQUFRb2lCLG1CQUFtQmhiLEtBQUsyYSxhQUFjTSxFQUF1QkMsVUFHeEZsYixLQUFLbWIsWUFDTm5iLEtBQUttYixVQUFZLElBQUl4RCxJQUdwQjNYLEtBQUtFLFVBQ05GLEtBQUtFLFFBQVUsSUFBSUwsRUFBUWpILEVBQVNvSCxLQUFLRixNQUFPSyxFQUFHTyxNQUNuRFYsS0FBS0UsUUFBUTNMLEtBQUs0TCxFQUFHK0QsT0FBUS9ELEVBQUdnRSxxQkFHZitPLE1BQU8sQ0FDeEJ2YSxJQUFNbWEsT0FBWUksTUFBTTdQLEdBQ0wsV0FBZnlQLEVBQUtvQixRQUNMcEIsRUFBS29CLE1BQVEsU0FDYnBCLEVBQUs1UyxhQUFlQSx3QkFLaEMyUyxrQkFBU0MsRUFBWXpYLEdBT2IyRSxLQUFLMlEsUUFBVTNRLEtBQUsyUSxPQUFPeUssT0FBT3RJLEVBQUtuQyxPQUFPZ0MsWUFDOUMzUyxLQUFLa1QsTUFBTTFLLE9BQU9zSyxFQUFLbkMsT0FBTzVQLE9BQVMrUixFQUN2Q0EsRUFBS3VJLFdBQ0xoZ0IsRUFBUyxRQUVUeVgsRUFBS29CLE1BQVEsVUFDYjdZLEVBQVMsb0JBSWpCaVAscUJBQ0ksT0FDSTNVLEtBQU0sUUFDTnlJLElBQUs0QixLQUFLek0sUUFBUTZLLElBQ2xCeWIsWUFBYTdaLEtBQUs2WiwwQkFJMUI3Tyx5QkFDSSxPQUFPLE1BekxXUSxXQ1BwQjhQLGVBU0YsV0FBWTlpQixFQUFZakYsRUFBbUMrZCxFQUF3QkMsR0FDL0V4SCxZQUFNdlIsRUFBSWpGLEVBQVMrZCxFQUFZQyxHQUMvQnZSLEtBQUt1VSxXQUFZLEVBQ2pCdlUsS0FBS3JLLEtBQU8sUUFDWnFLLEtBQUt6TSxRQUFVQSw0R0FHbkJ5ZSwyQkFDVXplLEVBQVV5TSxLQUFLek0sUUFFckJ5TSxLQUFLdWIsUUFDTCxJQUFLLFVBQWFob0IsRUFBUWdvQixxQkFBTSxDQUEzQjVpQixJQUFNeUYsT0FDUDRCLEVBQUt1YixLQUFLOWUsS0FBS3VELEVBQUsvTCxJQUFJb2Usa0JBQWtCalUsRUFBS2dWLGVBQWFrRSxRQUFRbFosS0FHeEVvZCxXQUFTeGIsS0FBS3ViLGNBQU9wZ0IsRUFBS3NnQixHQUNsQnRnQixFQUNBNkUsRUFBS2lTLEtBQUssSUFBSU0sYUFBV3BYLElBQ2xCc2dCLElBQ1B6YixFQUFLeWIsTUFBUUEsRUFDYnpiLEVBQUt5YixNQUFNQyxNQUFPLEVBSWxCMWIsRUFBS3liLE1BQU14Z0IsaUJBQWlCLHFCQUN4QitFLEVBQUsvTCxJQUFJMG5CLGNBR1QzYixFQUFLL0wsS0FDTCtMLEVBQUt5YixNQUFNRyxPQUdmNWIsRUFBSytaLGlDQVVqQnlCLG9CQUNJLE9BQU94YixLQUFLeWIsbUJBR2hCN0ksZUFBTTNlLEdBQ0UrTCxLQUFLL0wsTUFDVCtMLEtBQUsvTCxJQUFNQSxFQUNYK0wsS0FBS2dTLE9BQ0RoUyxLQUFLeWIsUUFDTHpiLEtBQUt5YixNQUFNRyxPQUNYNWIsS0FBS2dhLGVBQWVoYSxLQUFLNlosNEJBa0JqQ2tCLG1CQUNJLEtBQXVDLElBQW5Ddm1CLE9BQU9DLEtBQUt1TCxLQUFLa1QsT0FBTzNZLFFBQWdCeUYsS0FBS3liLE1BQU1JLFdBQWEsR0FBcEUsQ0FJQWxqQixJQUFNQyxFQUFVb0gsS0FBSy9MLElBQUk4ZixRQUFRbmIsUUFDM0J1SCxFQUFLdkgsRUFBUXVILEdBa0JuQixRQUFXa0QsS0FoQk5yRCxLQUFLOGEsZUFDTjlhLEtBQUs4YSxhQUFlbGlCLEVBQVFvaUIsbUJBQW1CaGIsS0FBSzJhLGFBQWNNLEVBQXVCQyxVQUd4RmxiLEtBQUttYixZQUNObmIsS0FBS21iLFVBQVksSUFBSXhELElBR3BCM1gsS0FBS0UsUUFHRUYsS0FBS3liLE1BQU1LLFNBQ25COWIsS0FBS0UsUUFBUTNMLEtBQUs0TCxFQUFHK0QsT0FBUS9ELEVBQUdnRSxlQUNoQ2hFLEVBQUdnTixjQUFjaE4sRUFBR0ksV0FBWSxFQUFHLEVBQUcsRUFBR0osRUFBR08sS0FBTVAsRUFBR1UsY0FBZWIsS0FBS3liLFNBSnpFemIsS0FBS0UsUUFBVSxJQUFJTCxFQUFRakgsRUFBU29ILEtBQUt5YixNQUFPdGIsRUFBR08sTUFDbkRWLEtBQUtFLFFBQVEzTCxLQUFLNEwsRUFBRytELE9BQVEvRCxFQUFHZ0UscUJBTWYrTyxNQUFPLENBQ3hCdmEsSUFBTW1hLE9BQVlJLE1BQU03UCxHQUNMLFdBQWZ5UCxFQUFLb0IsUUFDTHBCLEVBQUtvQixNQUFRLFNBQ2JwQixFQUFLNVMsYUFBZUEsd0JBS2hDb0sscUJBQ0ksT0FDSTNVLEtBQU0sUUFDTjRsQixLQUFNdmIsS0FBS3ViLEtBQ1gxQixZQUFhN1osS0FBSzZaLDBCQUkxQjdPLHlCQUNJLE9BQU9oTCxLQUFLeWIsUUFBVXpiLEtBQUt5YixNQUFNSyxXQXpIZmxDLElDSHBCbUMsZUFhRixXQUFZdmpCLEVBQVlqRixFQUFvQytkLEVBQXdCQyxHQUNoRnhILFlBQU12UixFQUFJakYsRUFBUytkLEVBQVlDLEdBQy9CdlIsS0FBS3pNLFFBQVVBLEVBQ2Z5TSxLQUFLZ2MsYUFBOEIzbEIsSUFBcEI5QyxFQUFReW9CLFNBQXdCem9CLEVBQVF5b0Isa0hBaUIzRGhLLGdCQUNJaFMsS0FBS3pKLE9BQVN5SixLQUFLekosUUFBVS9DLFVBQU9DLFNBQVN3b0IsZUFBZWpjLEtBQUt6TSxRQUFRZ0QsUUFDekV5SixLQUFLbEgsTUFBUWtILEtBQUt6SixPQUFPdUMsTUFDekJrSCxLQUFLakgsT0FBU2lILEtBQUt6SixPQUFPd0MsT0FFdEJpSCxLQUFLa2Msd0JBQ0xsYyxLQUFLaVMsS0FBSyxJQUFJTSxhQUFXLElBQUkxWixNQUFNLDhEQUl2Q21ILEtBQUs0YixLQUFPLFdBQ1I1YixLQUFLbWMsVUFBVyxFQUNoQm5jLEtBQUsvTCxJQUFJMG5CLGFBR2IzYixLQUFLb2MsTUFBUSxXQUNUcGMsS0FBS21jLFVBQVcsR0FHcEJuYyxLQUFLK1osK0JBUVRzQyxxQkFDSSxPQUFPcmMsS0FBS3pKLG9CQUdoQnFjLGVBQU0zZSxHQUNGK0wsS0FBSy9MLElBQU1BLEVBQ1grTCxLQUFLZ1MsT0FDRGhTLEtBQUt6SixRQUNEeUosS0FBS2djLFNBQVNoYyxLQUFLNGIsb0JBSS9CbEUsb0JBQ0kxWCxLQUFLb2MscUJBaUJUckIsdUJBQ1FwWCxHQUFTLEVBVWIsR0FUSTNELEtBQUt6SixPQUFPdUMsUUFBVWtILEtBQUtsSCxRQUMzQmtILEtBQUtsSCxNQUFRa0gsS0FBS3pKLE9BQU91QyxNQUN6QjZLLEdBQVMsR0FFVDNELEtBQUt6SixPQUFPd0MsU0FBV2lILEtBQUtqSCxTQUM1QmlILEtBQUtqSCxPQUFTaUgsS0FBS3pKLE9BQU93QyxPQUMxQjRLLEdBQVMsSUFHVDNELEtBQUtrYyx5QkFFOEIsSUFBbkMxbkIsT0FBT0MsS0FBS3VMLEtBQUtrVCxPQUFPM1ksT0FBNUIsQ0FFQTVCLElBQU1DLEVBQVVvSCxLQUFLL0wsSUFBSThmLFFBQVFuYixRQUMzQnVILEVBQUt2SCxFQUFRdUgsR0FvQm5CLFFBQVdrRCxLQWxCTnJELEtBQUs4YSxlQUNOOWEsS0FBSzhhLGFBQWVsaUIsRUFBUW9pQixtQkFBbUJoYixLQUFLMmEsYUFBY00sRUFBdUJDLFVBR3hGbGIsS0FBS21iLFlBQ05uYixLQUFLbWIsVUFBWSxJQUFJeEQsSUFHcEIzWCxLQUFLRSxRQUdDeUQsRUFDUDNELEtBQUtFLFFBQVFHLE9BQU9MLEtBQUt6SixRQUNsQnlKLEtBQUttYyxXQUNabmMsS0FBS0UsUUFBUTNMLEtBQUs0TCxFQUFHK0QsT0FBUS9ELEVBQUdnRSxlQUNoQ2hFLEVBQUdnTixjQUFjaE4sRUFBR0ksV0FBWSxFQUFHLEVBQUcsRUFBR0osRUFBR08sS0FBTVAsRUFBR1UsY0FBZWIsS0FBS3pKLFVBTnpFeUosS0FBS0UsUUFBVSxJQUFJTCxFQUFRakgsRUFBU29ILEtBQUt6SixPQUFRNEosRUFBR08sTUFDcERWLEtBQUtFLFFBQVEzTCxLQUFLNEwsRUFBRytELE9BQVEvRCxFQUFHZ0UscUJBUWYrTyxNQUFPLENBQ3hCdmEsSUFBTW1hLE9BQVlJLE1BQU03UCxHQUNMLFdBQWZ5UCxFQUFLb0IsUUFDTHBCLEVBQUtvQixNQUFRLFNBQ2JwQixFQUFLNVMsYUFBZUEsd0JBS2hDb0sscUJBQ0ksT0FDSTNVLEtBQU0sU0FDTlksT0FBUXlKLEtBQUt6SixPQUNic2pCLFlBQWE3WixLQUFLNlosMEJBSTFCN08seUJBQ0ksT0FBT2hMLEtBQUttYyxzQkFHaEJELGlDQUNJLG9CQUFzQjNsQixPQUFPdUMsV0FBWXZDLE9BQU93Qyx3QkFBUyxDQUFwREosSUFBTWtMLE9BQ1AsR0FBSXNLLE1BQU10SyxJQUFNQSxHQUFLLEVBQUcsT0FBTyxFQUVuQyxPQUFPLE1BdkpZK1YsSUM0Q3JCMEMsV0FDRkMsU0FDQUMsRUFDQUMsYUFBY0MsVUFDZEMsUUFDQWxCLFNBQ0EzYixVQUNBdkosSUFhUzdCLEdBQVMsU0FBUzhELEVBQVlvUSxFQUFvQzBJLEVBQXdCQyxHQUNuRzVZLElBQU02YSxFQUFTLElBQUk4SSxHQUFZMVQsRUFBY2pULE1BQU02QyxFQUFLb1EsRUFBcUIwSSxFQUFZQyxHQUV6RixHQUFJaUMsRUFBT2hiLEtBQU9BLEVBQ2QsTUFBTSxJQUFJSyxrQ0FBa0NMLGlCQUFpQmdiLEVBQU9oYixJQUl4RSxPQURBb2tCLFdBQVMsT0FBUSxRQUFTLFNBQVUsWUFBYSxXQUFZcEosR0FDdERBLFlDM0dLcUosR0FBc0JDLEVBQ1ZDLEVBQ0FDLEVBQ0E5ZSxFQUNBZ2MsRUFDQStDLEdBQ3hCdGtCLElBQU11a0IsRUFBc0JoRCxFQUFVZ0Qsc0JBQ2hDQyxFQUFVTCxFQUFZSyxRQUFRSCxFQUFlRSxHQUVuREMsRUFBUUMsS0FBS0MsSUFHYixJQURBMWtCLElBQU0ya0IsV0FDZUgsa0JBQVMsQ0FBekJ4a0IsSUFBTTRrQixPQUNQRCxFQUFzQjdnQixNQUNsQitnQixjQUFlRCxFQUFPNU0sT0FBTzhNLFVBQVV6UixJQUN2QzBSLGFBQWNILEVBQU96SyxLQUFLK0osc0JBQ3RCRSxFQUNBUSxFQUFPUCxjQUNQTyxFQUFPcE0sTUFDUGpULEVBQ0FnYyxFQUNBZ0QsRUFDQUosRUFBWTVDLFVBQVV5RCxtQkFBbUJKLEVBQU81TSxPQUFPaU4sZUFDdkRkLEVBQVl0a0IsR0FDWnlrQixLQUlaLE9BNkJKLFNBQW9DL0osR0FLaEMsSUFGQXZhLElBQU1xUCxLQUNBNlYsV0FDYTNLLGtCQUFPLENBQXJCdmEsSUFBTW1hLE9BQ0Q0SyxFQUFlNUssRUFBSzRLLGFBQ3BCSSxFQUFZaEwsRUFBSzBLLGNBQ2pCTyxFQUFrQkYsRUFBa0JDLEdBQWFELEVBQWtCQyxPQUN6RSxRQUFXRSxLQUFXTixFQUlsQixJQUhBL2tCLElBQU1zbEIsRUFBZVAsRUFBYU0sR0FDNUJFLEVBQW9CSCxFQUFnQkMsR0FBV0QsRUFBZ0JDLE9BQy9ERyxFQUFpQm5XLEVBQU9nVyxHQUFXaFcsRUFBT2dXLGFBQ3RCQyxrQkFBYyxDQUFuQ3RsQixJQUFNeWxCLE9BQ0ZGLEVBQWtCRSxFQUFZQyxnQkFDL0JILEVBQWtCRSxFQUFZQyxlQUFnQixFQUM5Q0YsRUFBZTFoQixLQUFLMmhCLEVBQVlFLFdBS2hELE9BQU90VyxFQWxEQXVXLENBQTJCakIsR0F1QnRDLFNBQVNELEdBQVkzVyxFQUFHMkMsR0FDcEIxUSxJQUFNNmxCLEVBQU05WCxFQUFFaUssT0FDUjhOLEVBQU1wVixFQUFFc0gsT0FDZCxPQUFRNk4sRUFBSWpMLFlBQWNrTCxFQUFJbEwsYUFBaUJpTCxFQUFJN0wsVUFBVTdPLEVBQUkyYSxFQUFJOUwsVUFBVTdPLEdBQU8wYSxFQUFJemQsS0FBTzBkLEVBQUkxZCxNQUFVeWQsRUFBSTdMLFVBQVU5TyxFQUFJNGEsRUFBSTlMLFVBQVU5TyxFQy9DbkosSUFBTTZhLEdBZ0JGLFNBQWE1bEIsRUFBZUMsRUFBZ0I0bEIsR0FDNUMsSUFBVUMsRUFBVzVlLEtBQUs0ZSxZQUNoQkMsRUFBYzdlLEtBQUs2ZSxlQUs3QjdlLEtBQVM4ZSxXQUFhclosS0FBS3NMLEtBQUtqWSxFQUFRNmxCLEdBQ3hDM2UsS0FBUytlLFdBQWF0WixLQUFLc0wsS0FBS2hZLEVBQVM0bEIsR0FFekMsSUFBU3RrQixJQUFJQyxFQUFJLEVBQUdBLEVBQUkwRixLQUFLOGUsV0FBYTllLEtBQUsrZSxXQUFZemtCLElBQ3ZEc2tCLEVBQWFuaUIsU0FDYm9pQixFQUFnQnBpQixTQUVwQnVELEtBQVNnZixjQUNUaGYsS0FBU2lmLFdBQ1RqZixLQUFTa2YsVUFDVGxmLEtBQVNtZixXQUVUbmYsS0FBU2xILE1BQVFBLEVBQ2pCa0gsS0FBU2pILE9BQVNBLEVBQ2xCaUgsS0FBU29mLE9BQVNwZixLQUFLOGUsV0FBYWhtQixFQUNwQ2tILEtBQVNxZixPQUFTcmYsS0FBSytlLFdBQWFobUIsRUFDcENpSCxLQUFTc2YsT0FBUyxFQUNsQnRmLEtBQVN1ZixVQUFZLEdBR3pCYixhQUFJYyxzQkFDQSxPQUFXeGYsS0FBS2lmLFFBQVExa0IsT0FBU3lGLEtBQUtnZixXQUFXemtCLFFBR3JEbWtCLGFBQUllLGdCQUFPelQsRUFBVTBULEVBQVlDLEVBQVlDLEVBQVlDLEdBQ3JEN2YsS0FBUzhmLGFBQWFKLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUk3ZixLQUFLK2YsZUFBZ0IvZixLQUFLc2YsVUFDaEV0ZixLQUFTaWYsUUFBUXhpQixLQUFLdVAsR0FDdEJoTSxLQUFTa2YsT0FBT3ppQixLQUFLaWpCLEdBQ3JCMWYsS0FBU2tmLE9BQU96aUIsS0FBS2tqQixHQUNyQjNmLEtBQVNrZixPQUFPemlCLEtBQUttakIsR0FDckI1ZixLQUFTa2YsT0FBT3ppQixLQUFLb2pCLElBR3pCbkIsYUFBSXNCLHNCQUFhaFUsRUFBVW5JLEVBQVdDLEVBQVdVLEdBRzdDeEUsS0FBUzhmLGFBQWFqYyxFQUFJVyxFQUFRVixFQUFJVSxFQUFRWCxFQUFJVyxFQUFRVixFQUFJVSxFQUFReEUsS0FBS2lnQixrQkFBbUJqZ0IsS0FBS3VmLGFBQ25HdmYsS0FBU2dmLFdBQVd2aUIsS0FBS3VQLEdBQ3pCaE0sS0FBU21mLFFBQVExaUIsS0FBS29ILEdBQ3RCN0QsS0FBU21mLFFBQVExaUIsS0FBS3FILEdBQ3RCOUQsS0FBU21mLFFBQVExaUIsS0FBSytILElBRzFCa2EsYUFBSXFCLHdCQUFlTCxFQUFZQyxFQUFZQyxFQUFZQyxFQUFZSyxFQUFtQjVNLEdBQ2xGdFQsS0FBUzRlLFNBQVNzQixHQUFXempCLEtBQUs2VyxJQUd0Q29MLGFBQUl1QiwyQkFBa0JQLEVBQVlDLEVBQVlDLEVBQVlDLEVBQVlLLEVBQW1CNU0sR0FDckZ0VCxLQUFTNmUsWUFBWXFCLEdBQVd6akIsS0FBSzZXLElBR3pDb0wsYUFBSXlCLGdCQUFPVCxFQUFZQyxFQUFZQyxFQUFZQyxFQUFZTyxHQUN2RCxHQUFRUixFQUFLLEdBQUtGLEVBQUsxZixLQUFLbEgsT0FBUyttQixFQUFLLEdBQUtGLEVBQUszZixLQUFLakgsT0FDckQsT0FBV3FuQixNQUVmLElBQVFwWSxLQUNSLEdBQVEwWCxHQUFNLEdBQUtDLEdBQU0sR0FBSzNmLEtBQUtsSCxPQUFTOG1CLEdBQU01ZixLQUFLakgsUUFBVThtQixFQUk3RDdYLEVBQWF0VSxNQUFNQyxVQUFVaVgsTUFBTVEsS0FBS3BMLEtBQUtpZixTQUFTb0IsT0FBT3JnQixLQUFLZ2YsZ0JBQzNELENBQ1AsSUFBVXNCLEdBQ05GLFFBQUlBLEVBQ0pHLFVBQWdCQyxPQUFTQyxZQUU3QnpnQixLQUFTOGYsYUFBYUosRUFBSUMsRUFBSUMsRUFBSUMsRUFBSTdmLEtBQUswZ0IsV0FBWTFZLEVBQVFzWSxHQUVuRSxPQUFXRixFQUFVcFksRUFBT3pOLE9BQVMsRUFBSXlOLEdBRzdDMFcsYUFBSWlDLHNCQUFhOWMsRUFBV0MsRUFBV1UsRUFBZ0I0YixHQUduRCxJQUFVVixFQUFLN2IsRUFBSVcsRUFDVG9iLEVBQUsvYixFQUFJVyxFQUNUbWIsRUFBSzdiLEVBQUlVLEVBQ1RxYixFQUFLL2IsRUFBSVUsRUFDbkIsR0FBUW9iLEVBQUssR0FBS0YsRUFBSzFmLEtBQUtsSCxPQUFTK21CLEVBQUssR0FBS0YsRUFBSzNmLEtBQUtqSCxPQUNyRCxPQUFXcW5CLE1BTWYsSUFBVXBZLEtBQ0FzWSxHQUNORixRQUFJQSxFQUNKSyxRQUFjNWMsRUFBR0EsRUFBR0MsRUFBR0EsRUFBR1UsT0FBUUEsR0FDbEMrYixVQUFnQkMsT0FBU0MsWUFHN0IsT0FEQXpnQixLQUFTOGYsYUFBYUosRUFBSUMsRUFBSUMsRUFBSUMsRUFBSTdmLEtBQUs0Z0IsaUJBQWtCNVksRUFBUXNZLEdBQzFERixFQUFVcFksRUFBT3pOLE9BQVMsRUFBSXlOLEdBRzdDMFcsYUFBSW1DLGVBQU1uQixFQUFZQyxFQUFZQyxFQUFZQyxHQUMxQyxPQUFZN2YsS0FBS21nQixPQUFPVCxFQUFJQyxFQUFJQyxFQUFJQyxHQUFJLElBRzVDbkIsYUFBSTBCLGlCQUFRVixFQUFZQyxFQUFZQyxFQUFZQyxHQUM1QyxPQUFZN2YsS0FBS21nQixPQUFPVCxFQUFJQyxFQUFJQyxFQUFJQyxHQUFJLElBRzVDbkIsYUFBSW9DLHVCQUFjamQsRUFBV0MsRUFBV1UsR0FDcEMsT0FBWXhFLEtBQUsyZ0IsYUFBYTljLEVBQUdDLEVBQUdVLEdBQVEsSUFHaERrYSxhQUFJZ0Msb0JBQVdoQixFQUFZQyxFQUFZQyxFQUFZQyxFQUFZSyxFQUFtQmxZLEVBQWFzWSxPQUNqRkMsRUFBV0QsRUFBVUMsU0FDckJRLEVBQVUvZ0IsS0FBSzRlLFNBQVNzQixHQUNsQyxHQUFvQixPQUFaYSxFQUVKLElBREEsSUFBVTdCLEVBQVNsZixLQUFLa2YsYUFDQzZCLGtCQUFTLENBQzlCLElBRFd6QixPQUNQLElBQUtpQixFQUFTQyxJQUFJbEIsR0FBUyxDQUMzQmlCLEVBQWFDLElBQUlsQixJQUFVLEVBQzNCLElBQVUwQixFQUFrQixFQUFUMUIsRUFDbkIsR0FBU0ksR0FBTVIsRUFBTzhCLEVBQVMsSUFDdEJyQixHQUFNVCxFQUFPOEIsRUFBUyxJQUN0QnBCLEdBQU1WLEVBQU84QixFQUFTLElBQ3RCbkIsR0FBTVgsRUFBTzhCLEVBQVMsR0FBSyxDQUNoQyxHQUFRVixFQUFVRixRQUVkLE9BREFwWSxFQUFXdkwsTUFBSyxJQUNMLEVBRVh1TCxFQUFXdkwsVUFBVXdpQixRQUFRSyxNQU1qRCxJQUFVMkIsRUFBYWpoQixLQUFLNmUsWUFBWXFCLEdBQ3hDLEdBQXVCLE9BQWZlLEVBRUosSUFEQSxJQUFVOUIsRUFBVW5mLEtBQUttZixjQUNHOEIsa0JBQVksQ0FDcEMsSUFEVzFCLE9BQ1AsSUFBS2dCLEVBQVNFLE9BQU9sQixHQUFZLENBQ2pDZ0IsRUFBYUUsT0FBT2xCLElBQWEsRUFDakMsSUFBVXlCLEVBQXFCLEVBQVp6QixFQUNuQixRQUFhMkIsc0JBQ1QvQixFQUFZNkIsR0FDWjdCLEVBQVk2QixFQUFTLEdBQ3JCN0IsRUFBWTZCLEVBQVMsR0FDckJ0QixFQUNBQyxFQUNBQyxFQUNBQyxHQUFTLENBQ1QsR0FBUVMsRUFBVUYsUUFFZCxPQURBcFksRUFBV3ZMLE1BQUssSUFDTCxFQUVYdUwsRUFBV3ZMLFVBQVV1aUIsV0FBV08sUUFReERiLGFBQUlrQywwQkFBaUJsQixFQUFZQyxFQUFZQyxFQUFZQyxFQUFZSyxFQUFtQmxZLEVBQWFzWSxPQUN2RkcsRUFBU0gsRUFBVUcsT0FDbkJGLEVBQVdELEVBQVVDLFNBQ3JCUSxFQUFVL2dCLEtBQUs0ZSxTQUFTc0IsR0FDbEMsR0FBb0IsT0FBWmEsRUFFSixJQURBLElBQVU3QixFQUFTbGYsS0FBS2tmLGFBQ0M2QixrQkFBUyxDQUM5QixJQURXekIsT0FDUCxJQUFLaUIsRUFBU0MsSUFBSWxCLEdBQVMsQ0FDM0JpQixFQUFhQyxJQUFJbEIsSUFBVSxFQUMzQixJQUFVMEIsRUFBa0IsRUFBVDFCLEVBQ25CLFFBQWE0QixzQkFDVFQsRUFBVzVjLEVBQ1g0YyxFQUFXM2MsRUFDWDJjLEVBQVdqYyxPQUNYMGEsRUFBVzhCLEVBQVMsR0FDcEI5QixFQUFXOEIsRUFBUyxHQUNwQjlCLEVBQVc4QixFQUFTLEdBQ3BCOUIsRUFBVzhCLEVBQVMsSUFFcEIsT0FEQWhaLEVBQVd2TCxNQUFLLElBQ0wsR0FNM0IsSUFBVXdrQixFQUFhamhCLEtBQUs2ZSxZQUFZcUIsR0FDeEMsR0FBdUIsT0FBZmUsRUFFSixJQURBLElBQVU5QixFQUFVbmYsS0FBS21mLGNBQ0c4QixrQkFBWSxDQUNwQyxJQURXMUIsT0FDUCxJQUFLZ0IsRUFBU0UsT0FBT2xCLEdBQVksQ0FDakNnQixFQUFhRSxPQUFPbEIsSUFBYSxFQUNqQyxJQUFVeUIsRUFBcUIsRUFBWnpCLEVBQ25CLFFBQWE0QixnQkFDVGhDLEVBQVk2QixHQUNaN0IsRUFBWTZCLEVBQVMsR0FDckI3QixFQUFZNkIsRUFBUyxHQUNyQlAsRUFBVzVjLEVBQ1g0YyxFQUFXM2MsRUFDWDJjLEVBQVdqYyxRQUVYLE9BREF3RCxFQUFXdkwsTUFBSyxJQUNMLEtBTy9CaWlCLGFBQUlvQixzQkFBYUosRUFBWUMsRUFBWUMsRUFBWUMsRUFBWXZuQixFQUFTOG9CLEVBQVdDLEdBTWpGLFFBTFVDLEVBQU10aEIsS0FBS3VoQixxQkFBcUI3QixHQUNoQzhCLEVBQU14aEIsS0FBS3loQixxQkFBcUI5QixHQUNoQytCLEVBQU0xaEIsS0FBS3VoQixxQkFBcUIzQixHQUNoQytCLEVBQU0zaEIsS0FBS3loQixxQkFBcUI1QixHQUU3QmhjLEVBQUl5ZCxFQUFLemQsR0FBSzZkLEVBQUs3ZCxJQUM1QixJQUFTeEosSUFBSXlKLEVBQUkwZCxFQUFLMWQsR0FBSzZkLEVBQUs3ZCxJQUFLLENBQ2pDLElBQVVvYyxPQUFpQnBCLFdBQWFoYixFQUFJRCxFQUM1QyxHQUFRdkwsRUFBRzhTLFVBQVdzVSxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJSyxFQUFXa0IsRUFBTUMsR0FBTyxTQUsxRTNDLGFBQUk2Qyw4QkFBcUIxZCxHQUNyQixPQUFXNEIsS0FBS21CLElBQUksRUFBR25CLEtBQUtvQixJQUFJN0csS0FBSzhlLFdBQWEsRUFBR3JaLEtBQUtvQyxNQUFNaEUsRUFBSTdELEtBQUtvZixXQUc3RVYsYUFBSStDLDhCQUFxQjNkLEdBQ3JCLE9BQVcyQixLQUFLbUIsSUFBSSxFQUFHbkIsS0FBS29CLElBQUk3RyxLQUFLK2UsV0FBYSxFQUFHdFosS0FBS29DLE1BQU0vRCxFQUFJOUQsS0FBS3FmLFdBRzdFWCxhQUFJeUMseUJBQWdCekIsRUFBWUMsRUFBWWlDLEVBQVloQyxFQUFZQyxFQUFZZ0MsR0FDNUUsSUFBVUMsRUFBS2xDLEVBQUtGLEVBQ1ZxQyxFQUFLbEMsRUFBS0YsRUFDVnFDLEVBQVlKLEVBQUtDLEVBQzNCLE9BQVlHLEVBQVlBLEVBQWNGLEVBQUtBLEVBQUtDLEVBQUtBLEdBR3pEckQsYUFBSXdDLCtCQUFzQmUsRUFBaUJDLEVBQWlCMWQsRUFBZ0JrYixFQUFZQyxFQUFZQyxFQUFZQyxHQUM1RyxJQUFVc0MsR0FBaUJ2QyxFQUFLRixHQUFNLEVBQzVCMEMsRUFBUTNjLEtBQUtrSCxJQUFJc1YsR0FBV3ZDLEVBQUt5QyxJQUMzQyxHQUFRQyxFQUFTRCxFQUFnQjNkLEVBQzdCLE9BQVcsRUFHZixJQUFVNmQsR0FBa0J4QyxFQUFLRixHQUFNLEVBQzdCMkMsRUFBUTdjLEtBQUtrSCxJQUFJdVYsR0FBV3ZDLEVBQUswQyxJQUMzQyxHQUFRQyxFQUFTRCxFQUFpQjdkLEVBQzlCLE9BQVcsRUFHZixHQUFRNGQsR0FBU0QsR0FBaUJHLEdBQVNELEVBQ3ZDLE9BQVcsRUFHZixJQUFVUCxFQUFLTSxFQUFRRCxFQUNiSixFQUFLTyxFQUFRRCxFQUN2QixPQUFZUCxFQUFLQSxFQUFLQyxFQUFLQSxHQUFPdmQsRUFBU0EsR0MxUi9DN0wsSUFBTTRwQixHQUF5QmhaLFlBQVdpWixPQVUxQyxTQW9EU0MsR0FBb0JDLEVBQ0FDLEVBQ0FDLEVBQ0ExSSxFQUNBMkksR0FDekJscUIsSUFBTW1xQixFQUFJQyxPQUFLQyxTQUFTLElBQUlDLGFBQWEsS0FZekMsT0FYSU4sR0FDQUksT0FBS0MsU0FBU0YsR0FDZEMsT0FBSzVSLE1BQU0yUixFQUFHQSxHQUFJLEVBQUlELEVBQW1CLEVBQUlBLEVBQW1CLElBQzNERCxHQUNERyxPQUFLRyxRQUFRSixFQUFHQSxFQUFHNUksRUFBVWlKLFNBR2pDSixPQUFLNVIsTUFBTTJSLEVBQUdBLEdBQUk1SSxFQUFVcGhCLE1BQVEsR0FBSW9oQixFQUFVbmhCLE9BQVMsRUFBRyxJQUM5RGdxQixPQUFLSyxVQUFVTixFQUFHQSxHQUFJLEdBQUksRUFBRyxJQUM3QkMsT0FBS00sU0FBU1AsRUFBR0EsRUFBR0osSUFFakJJLEVBTVgsU0FBU1EsR0FBaUJaLEVBQ0FDLEVBQ0FDLEVBQ0ExSSxFQUNBMkksR0FDdEJscUIsSUFBTW1xQixFQUFJQyxPQUFLQyxTQUFTLElBQUlDLGFBQWEsS0FZekMsT0FYSU4sR0FDQUksT0FBS00sU0FBU1AsRUFBR0EsRUFBR0osR0FDcEJLLE9BQUs1UixNQUFNMlIsRUFBR0EsR0FBSUQsRUFBbUJBLEVBQW1CLElBQ25ERCxHQUNERyxPQUFLRyxRQUFRSixFQUFHQSxHQUFJNUksRUFBVWlKLFNBR2xDSixPQUFLNVIsTUFBTTJSLEVBQUdBLEdBQUksR0FBSSxFQUFHLElBQ3pCQyxPQUFLSyxVQUFVTixFQUFHQSxJQUFLLEdBQUksRUFBRyxJQUM5QkMsT0FBSzVSLE1BQU0yUixFQUFHQSxHQUFJLEVBQUk1SSxFQUFVcGhCLE1BQU8sRUFBSW9oQixFQUFVbmhCLE9BQVEsS0FFMUQrcEIsRUFHWCxTQUFTUyxHQUFRQyxFQUFjQyxHQUMzQjlxQixJQUFNdVUsR0FBT3NXLEVBQU0zZixFQUFHMmYsRUFBTTFmLEVBQUcsRUFBRyxHQUNsQzRmLEdBQWdCeFcsRUFBS0EsRUFBS3VXLEdBQzFCOXFCLElBQU0wSyxFQUFJNkosRUFBSSxHQUNkLE9BQ0lzVyxNQUFPLElBQUl6bkIsWUFBTW1SLEVBQUksR0FBSzdKLEVBQUc2SixFQUFJLEdBQUs3SixHQUN0Q3NnQix5QkFBMEJ0Z0IsR0FJbEMsU0FBU3VnQixHQUFVQyxFQUNBQyxHQUNmbnJCLElBQU1rTCxFQUFJZ2dCLEVBQVUsR0FBS0EsRUFBVSxHQUM3Qi9mLEVBQUkrZixFQUFVLEdBQUtBLEVBQVUsR0FNbkMsT0FKSWhnQixJQUFNaWdCLEVBQWUsSUFDckJqZ0IsR0FBS2lnQixFQUFlLElBQ3BCaGdCLElBQU1nZ0IsRUFBZSxJQUNyQmhnQixHQUFLZ2dCLEVBQWUsR0FRNUIsU0FBU0MsR0FBaUJDLEVBQ0F0QixFQUNBM08sRUFDQWtRLEVBQ0FDLEVBQ0FDLEVBQ0F4QixFQUNBeUIsR0FFdEJ6ckIsSUFBTTByQixFQUFXSixFQUFTRCxFQUFPTSxhQUFlTixFQUFPTyxhQUNqREMsRUFBeUJDLHNCQUErQkosRUFBVXRRLEVBQVFtRyxVQUFVbEosS0FDdEZ1UixHQUF1QmhaLFdBQVcwYSxFQUFTLFlBQWMsY0FFdkRILEdBQWtCLElBQU0vUCxFQUFRamIsTUFBUSxFQUFJLEVBQUcsSUFBTWliLEVBQVFoYixPQUFTLEVBQUksR0FFMUUyckIsRUFBMkJULEVBQzdCRCxFQUFPVyxLQUFLRCx5QkFDWlYsRUFBT1ksS0FBS0YseUJBQ2hCQSxFQUF5QkcsUUFTekIsSUFQQWxzQixJQUFNbXNCLEVBQWtCZCxFQUFPYyxnQkFDekJDLEVBQWdCZCxFQUFTRCxFQUFPVyxLQUFLSyxrQkFBb0JoQixFQUFPWSxLQUFLSSxrQkFFckVDLEVBQWNsUixFQUFRbUcsVUFBVXBoQixNQUFRaWIsRUFBUW1HLFVBQVVuaEIsT0FFNURtc0IsR0FBYyxFQUVUaGYsRUFBSSxFQUFHQSxFQUFJNmUsRUFBY3hxQixPQUFRMkwsSUFBSyxDQUMzQ3ZOLElBQU13c0IsRUFBY0osRUFBYy9wQixJQUFJa0wsR0FJdEMsR0FBSWlmLEVBQU9DLFFBQVVELEVBQU9FLGNBQWdCQyxjQUFZQyxXQUFhTCxFQUNqRU0sR0FBV0wsRUFBT00sVUFBV2YsT0FEakMsQ0FLQVEsR0FBYyxFQUVkdnNCLElBQU1rckIsR0FBYXNCLEVBQU9PLFFBQVNQLEVBQU9RLFFBQVMsRUFBRyxHQUl0RCxHQUhBQyxPQUFLQyxjQUFjaEMsRUFBV0EsRUFBV25CLEdBR3BDa0IsR0FBVUMsRUFBV0MsR0FBMUIsQ0FLQW5yQixJQUNNbXRCLEVBQW1CLEdBRE1qQyxFQUFVLEdBQ3NCOVAsRUFBUW1HLFVBQVU2TCx1QkFBbEQsR0FFekJ6aEIsRUFBV21nQix5QkFBa0NKLEVBQVVHLEVBQXdCVyxHQUMvRWEsRUFBc0JyRCxFQUN4QnJlLEVBQVd3aEIsRUFDWHhoQixFQUFXd2hCLEVBRVRHLEVBQWtCLElBQUlscUIsWUFBTW9wQixFQUFPTyxRQUFTUCxFQUFPUSxTQUNuRE8sRUFBYzNDLEdBQVEwQyxFQUFpQi9CLEdBQWtCVixNQUN6RDJDLEtBRUFDLEVBQXNCQyxHQUFxQmxCLEVBQVFhLEdBQXFCLEVBQXFCNUIsRUFBYTFCLEVBQVd3QixFQUFrQkMsRUFDeklILEVBQU9zQyxpQkFBa0J4QixFQUFpQkosRUFBMEJ3QixFQUFhRCxFQUFpQkUsRUFBaUJsQixHQUV2SEMsRUFBY2tCLEVBQWVsQixhQUV6QmtCLEVBQWVHLGVBQWlCckIsR0FDL0JrQixFQUFlSSxlQUNmSCxHQUFxQmxCLEVBQVFhLEdBQXFCLEVBQWtCNUIsRUFBYTFCLEVBQVd3QixFQUFrQkMsRUFDMUdILEVBQU9zQyxpQkFBa0J4QixFQUFpQkosRUFBMEJ3QixFQUFhRCxFQUFpQkUsRUFBaUJsQixHQUFhc0IsZ0JBQ3JJZixHQUFXTCxFQUFPTSxVQUFXZixRQXpCN0JjLEdBQVdMLEVBQU9NLFVBQVdmLElBNkJqQ1QsRUFDQUQsRUFBT1csS0FBSzhCLDBCQUEwQkMsV0FBV2hDLEdBRWpEVixFQUFPWSxLQUFLNkIsMEJBQTBCQyxXQUFXaEMsR0FJekQsU0FBU2lDLEdBQXVCQyxFQUFtQk4sRUFBb0NPLEVBQXFCQyxFQUFxQkMsRUFBZWIsRUFBb0JELEVBQXdCZCxFQUFhTCxFQUF3Q1osRUFBd0JpQyxFQUFzQmEsR0FDM1JydUIsSUFBTXN1QixFQUFnQjlCLEVBQU8rQixnQkFBa0IvQixFQUFPTSxVQUNoRDBCLEVBQWlCaEMsRUFBT2dDLGVBQ3hCQyxFQUFlakMsRUFBT2dDLGVBQWlCaEMsRUFBT2tDLFdBRTlDQyxFQUFtQmhCLEVBQWlCaUIsV0FBV3BDLEVBQU8rQixpQkFDdERNLEVBQWtCbEIsRUFBaUJpQixXQUFXTixFQUFnQixHQUU5RFEsRUFBbUJDLEdBQW9CZCxFQUFZVSxFQUFrQlQsRUFBYUMsRUFBYUMsRUFBTWIsRUFBYUQsRUFBaUJkLEVBQU93QyxRQUM1SVIsRUFBZ0JDLEVBQWN0QyxFQUFpQlosRUFBa0JpQyxFQUFpQmEsR0FDdEYsSUFBS1MsRUFDRCxPQUFPLEtBRVg5dUIsSUFBTWl2QixFQUFrQkYsR0FBb0JkLEVBQVlZLEVBQWlCWCxFQUFhQyxFQUFhQyxFQUFNYixFQUFhRCxFQUFpQmQsRUFBT3dDLFFBQzFJUixFQUFnQkMsRUFBY3RDLEVBQWlCWixFQUFrQmlDLEVBQWlCYSxHQUN0RixPQUFLWSxHQUdJQyxNQUFPSixFQUFrQkssS0FBTUYsR0FGN0IsS0FLZixTQUFTRyxHQUEwQjFDLEVBQWEyQyxFQUFZQyxFQUFXaEQsR0FDbkUsR0FBSUksSUFBZ0JDLGNBQVk0QyxZQUtmemlCLEtBQUtrSCxJQUFJc2IsRUFBVW5rQixFQUFJa2tCLEVBQVdsa0IsR0FDbkMyQixLQUFLa0gsSUFBSXNiLEVBQVVwa0IsRUFBSW1rQixFQUFXbmtCLEdBQUtvaEIsRUFFL0MsT0FBU0MsYUFBYSxHQUk5QixPQUFJRyxJQUFnQkMsY0FBWUMsU0FBV3lDLEVBQVdsa0IsRUFBSW1rQixFQUFVbmtCLEVBQUlra0IsRUFBV25rQixFQUFJb2tCLEVBQVVwa0IsSUFFcEYyaUIsZUFBZSxHQUdyQixLQUdYLFNBQVNILEdBQXFCbEIsRUFBUTdnQixFQUFVeWlCLEVBQU0zQyxFQUFhMUIsRUFBV3dCLEVBQWtCQyxFQUFlbUMsRUFBa0J4QixFQUFpQkosRUFBMEJ3QixFQUFhRCxFQUFpQkUsRUFBaUJsQixHQUN2TnRzQixJQUlJd3ZCLEVBSkV2QixFQUFZdGlCLEVBQVcsR0FDdkJ1aUIsRUFBYzFCLEVBQU8wQixZQUFjdmlCLEVBQ25Dd2lCLEVBQWMzQixFQUFPMkIsWUFBY3hpQixFQUd6QyxHQUFJNmdCLEVBQU9NLFVBQVksRUFBRyxDQUN0QjlzQixJQUFNc3VCLEVBQWdCOUIsRUFBTytCLGdCQUFrQi9CLEVBQU9NLFVBQ2hEMEIsRUFBaUJoQyxFQUFPZ0MsZUFDeEJDLEVBQWVqQyxFQUFPZ0MsZUFBaUJoQyxFQUFPa0MsV0FJOUNlLEVBQW9CekIsR0FBdUJDLEVBQVdOLEVBQWtCTyxFQUFhQyxFQUFhQyxFQUFNYixFQUFhRCxFQUFpQmQsRUFBUUwsRUFBaUJaLEVBQWtCaUMsR0FBaUIsR0FDeE0sSUFBS2lDLEVBQ0QsT0FBUzdCLGVBQWUsR0FFNUI1dEIsSUFBTXF2QixFQUFhekUsR0FBUTZFLEVBQWtCUCxNQUFNckUsTUFBT1csR0FBZVgsTUFDbkV5RSxFQUFZMUUsR0FBUTZFLEVBQWtCTixLQUFLdEUsTUFBT1csR0FBZVgsTUFFdkUsR0FBSVksSUFBZ0IyQyxFQUFNLENBQ3RCcHVCLElBQU0wdkIsRUFBb0JOLEdBQTBCNUMsRUFBT0UsWUFBYTJDLEVBQVlDLEVBQVdoRCxHQUMvRixHQUFJb0QsRUFDQSxPQUFPQSxFQUlmRixHQUFnQkMsRUFBa0JQLE9BQ2xDLElBQUt4dEIsSUFBSWl1QixFQUFhbkQsRUFBTytCLGdCQUFrQixFQUFHb0IsRUFBYXJCLEVBQWdCLEVBQUdxQixJQUc5RUgsRUFBYTFyQixLQUFLaXJCLEdBQW9CZCxFQUFZTixFQUFpQmlCLFdBQVdlLEdBQWF6QixFQUFhQyxFQUFhQyxFQUFNYixFQUFhRCxFQUFpQmQsRUFBT3dDLFFBQzVKUixFQUFnQkMsRUFBY3RDLEVBQWlCWixFQUFrQmlDLEdBQWlCLElBRTFGZ0MsRUFBYTFyQixLQUFLMnJCLEVBQWtCTixVQUNqQyxDQUdILEdBQUkxRCxJQUFnQjJDLEVBQU0sQ0FDdEJwdUIsSUFBTStOLEVBQUk2YyxHQUFRMEMsRUFBaUJ2RCxHQUFXYyxNQUN4QytFLEVBQW1CcEQsRUFBT2dDLGVBQWlCaEMsRUFBT3dDLFFBQVUsRUFFNURhLEVBQWlCLElBQUl6c0IsWUFBTStvQixFQUFnQjJELEtBQUtGLEdBQWtCekQsRUFBZ0I0RCxLQUFLSCxJQUN2RkksRUFBa0JwRixHQUFRaUYsRUFBZ0I5RixHQUkxQ3JaLEVBQUtzZixFQUFnQmhGLHlCQUEyQixFQUNsRGdGLEVBQWdCbkYsTUFDaEJvRixHQUE0QjNDLEVBQWlCdUMsRUFBZ0I5aEIsRUFBRyxFQUFHZ2MsR0FHakUyRixFQUFvQk4sR0FBMEI1QyxFQUFPRSxZQUFhM2UsRUFBRzJDLEVBQUc0YixHQUM5RSxHQUFJb0QsRUFDQSxPQUFPQSxFQUlmMXZCLElBQU1rd0IsRUFBY25CLEdBQW9CZCxFQUFZTixFQUFpQmlCLFdBQVdwQyxFQUFPK0IsaUJBQWtCTCxFQUFhQyxFQUFhQyxFQUFNYixFQUFhRCxFQUFpQmQsRUFBT3dDLFFBQzFLeEMsRUFBT2dDLGVBQWdCaEMsRUFBT2dDLGVBQWlCaEMsRUFBT2tDLFdBQVl2QyxFQUFpQlosRUFBa0JpQyxHQUFpQixHQUMxSCxJQUFLMEMsRUFDRCxPQUFTdEMsZUFBZSxHQUU1QjRCLEdBQWdCVSxHQUdwQixJQUFLLFVBQW9CVixrQkFBYyxDQUFsQ3h2QixJQUFNK08sT0FDUG9oQix1QkFBcUJwRSxFQUEwQmhkLEVBQU04YixNQUFPOWIsRUFBTXliLE9BRXRFLFNBR0osU0FBU3lGLEdBQTRCRyxFQUEwQkMsRUFBeUJDLEVBQStCQyxFQUF1QkMsR0FLMUl4d0IsSUFBTXl3QixFQUFzQjdGLEdBQVF3RixFQUFrQk0sSUFBSU4sRUFBa0JPLElBQUlOLEdBQWtCTyxTQUFVSixHQUFrQjNGLE1BQ3hIZ0csRUFBdUJQLEVBQXVCSyxJQUFJRixHQUV4RCxPQUFPSCxFQUF1QkksSUFBSUcsRUFBcUJDLE1BQU1QLEVBQWdCTSxFQUFxQkUsUUFHdEcsU0FBU2hDLEdBQW9CaUMsRUFDQTlDLEVBQ0FDLEVBQ0FDLEVBQ0FiLEVBQ0FELEVBQ0EyRCxFQUNBekMsRUFDQUMsRUFDQXRDLEVBQ0FaLEVBQ0FpQyxFQUNBYSxHQUV6QnJ1QixJQUFNa3hCLEVBQWtCOUMsRUFDcEI0QyxFQUFVOUMsRUFDVjhDLEVBQVU5QyxFQUVWaUQsRUFBTUQsRUFBa0IsRUFBSSxHQUFLLEVBRWpDMUcsRUFBUSxFQUNSNEQsSUFHQStDLElBQVEsRUFDUjNHLEVBQVExZCxLQUFLcUosSUFHYmdiLEVBQU0sSUFBRzNHLEdBQVMxZCxLQUFLcUosSUFhM0IsSUFYQXpVLElBQUkwdkIsRUFBZUQsRUFBTSxFQUNyQjNDLEVBQWlCeUMsRUFDakJ6QyxFQUFpQnlDLEVBQWdCLEVBRS9CSSxFQUFlRCxFQUNqQkUsRUFBVS9ELEVBQ1ZnRSxFQUFPaEUsRUFDUGlFLEVBQWlCLEVBQ2pCQyxFQUF5QixFQUN2QkMsRUFBYTVrQixLQUFLa0gsSUFBSWtkLEdBRXJCTSxFQUFpQkMsR0FBMEJDLEdBQVksQ0FJMUQsSUFIQU4sR0FBZ0JELEdBR0czQyxHQUFrQjRDLEdBQWdCM0MsRUFDakQsT0FBTyxLQUtYLEdBSEE4QyxFQUFPRCxPQUdTNXpCLEtBRGhCNHpCLEVBQVU5RCxFQUFnQjRELElBQ0MsQ0FDdkJweEIsSUFBTTJ4QixFQUFnQixJQUFJdnVCLFlBQU0rb0IsRUFBZ0IyRCxLQUFLc0IsR0FBZWpGLEVBQWdCNEQsS0FBS3FCLElBQ25GUSxFQUFhaEgsR0FBUStHLEVBQWVwRyxHQUMxQyxHQUFJcUcsRUFBVzVHLHlCQUEyQixFQUN0Q3NHLEVBQVU5RCxFQUFnQjRELEdBQWdCUSxFQUFXL0csVUFDbEQsQ0FHSDdxQixJQUFNNnhCLEVBQTBCVCxFQUFlRCxFQUsvQ0csRUFBVXJCLEdBSm1DLElBQW5CdUIsRUFDdEJsRSxFQUNBLElBQUlscUIsWUFBTStvQixFQUFnQjJELEtBQUsrQixHQUEwQjFGLEVBQWdCNEQsS0FBSzhCLElBRXpCRixFQUFlSixFQUFNRyxFQUFhRixFQUFpQixFQUFHakcsSUFJdkhpRyxHQUFrQkMsRUFDbEJBLEVBQXlCRixFQUFLcmQsS0FBS29kLEdBSXZDdHhCLElBQU04eEIsR0FBeUJKLEVBQWFGLEdBQWtCQyxFQUN4RE0sRUFBZ0JULEVBQVFYLElBQUlZLEdBQzVCUyxFQUFJRCxFQUFjRSxLQUFLSCxHQUF1QkksS0FBS1gsR0FPekQsT0FKQVMsRUFBRUUsS0FBS0gsRUFBY25CLFFBQVF1QixRQUFRckIsTUFBTTNDLEVBQWNnRCxLQUtyRHRHLE1BQU9tSCxFQUNQeEgsTUFKaUJBLEVBQVExZCxLQUFLc2xCLE1BQU1kLEVBQVFubUIsRUFBSW9tQixFQUFLcG1CLEVBQUdtbUIsRUFBUXBtQixFQUFJcW1CLEVBQUtybUIsR0FLekVtbkIsYUFBY2hFLEdBRU5pRSxpQkFBbUJsQixFQUFlRCxJQUFTRSxFQUFlLEVBQUlsRixFQUFnQm9HLDhCQUE4Qm5CLEVBQWVELEdBQzNIcUIsNEJBQTZCZCxFQUFhRixHQUMxQyxNQUloQnh4QixJQUFNeXlCLEdBQXdCLElBQUluSSxlQUFlb0ksRUFBQUEsR0FBV0EsRUFBQUEsRUFBVSxHQUFJQSxFQUFBQSxHQUFXQSxFQUFBQSxFQUFVLEdBQUlBLEVBQUFBLEdBQVdBLEVBQUFBLEVBQVUsR0FBSUEsRUFBQUEsR0FBV0EsRUFBQUEsRUFBVSxJQUlqSixTQUFTN0YsR0FBVzhGLEVBQWE1RyxHQUM3QixJQUFLcnFCLElBQUlDLEVBQUksRUFBR0EsRUFBSWd4QixFQUFLaHhCLElBQUssQ0FDMUIzQixJQUFNcW9CLEVBQVMwRCxFQUF5Qm5xQixPQUN4Q21xQixFQUF5Qi9nQixPQUFPcWQsRUFBUyxHQUd6QzBELEVBQXlCNkcsUUFBUTlxQixJQUFJMnFCLEdBQWdDLEVBQVRwSyxJQU1wRSxTQUFTMEMsR0FBZ0I4SCxFQUFXOWtCLEVBQVNvYyxHQUN6Q25xQixJQUFNa0wsRUFBSTZDLEVBQUUsR0FBSTVDLEVBQUk0QyxFQUFFLEdBSXRCLE9BSEE4a0IsRUFBSSxHQUFLMUksRUFBRSxHQUFLamYsRUFBSWlmLEVBQUUsR0FBS2hmLEVBQUlnZixFQUFFLElBQ2pDMEksRUFBSSxHQUFLMUksRUFBRSxHQUFLamYsRUFBSWlmLEVBQUUsR0FBS2hmLEVBQUlnZixFQUFFLElBQ2pDMEksRUFBSSxHQUFLMUksRUFBRSxHQUFLamYsRUFBSWlmLEVBQUUsR0FBS2hmLEVBQUlnZixFQUFFLElBQzFCMEksRUNsY0VDLGFBQVMxSSxTQWlDaEIySSxHQVFGLFNBQ0F4UixFQUNBeVIsRUFDQUMsa0JBRGlCLElBQUlDLEdBQUszUixFQUFVcGhCLE1BQVEsSUFBcUJvaEIsRUFBVW5oQixPQUFTLElBQXFCLG9CQUNqRixJQUFJOHlCLEdBQUszUixFQUFVcGhCLE1BQVEsSUFBcUJvaEIsRUFBVW5oQixPQUFTLElBQXFCLEtBRWhIaUgsS0FBU2thLFVBQVlBLEVBRXJCbGEsS0FBUzJyQixLQUFPQSxFQUNoQjNyQixLQUFTNHJCLFlBQWNBLEVBQ3ZCNXJCLEtBQVM4ckIsWUFBY3JtQixLQUFLb0osSUFBSXFMLEVBQVU2UixRQUFVN1IsRUFBVTZMLHVCQUU5RC9sQixLQUFTZ3NCLG9CQUFzQjlSLEVBQVVwaEIsTUFqQ3JCLElBa0NwQmtILEtBQVNpc0IscUJBQXVCL1IsRUFBVW5oQixPQWxDdEIsS0FrWHhCLFNBQVNtekIsR0FBd0JDLEVBQWlDNWYsRUFBZTZmLEdBQzdFRCxFQUFpQjVmLEVBQVEsR0FBSzZmLEVBQU8sRUFBSSxFQTlVN0NWLGFBQUlXLDJCQUFrQkMsRUFBa0NDLEVBQXVCQyxFQUF3QjlKLEdBQ25HLElBQVUrSixFQUFpQnpzQixLQUFLMHNCLDhCQUE4QmhLLEVBQVc0SixFQUFhSyxhQUFjTCxFQUFhTSxjQUN2R0MsRUFBaUJMLEVBQWlCQyxFQUFlM0csaUJBQ2pEZ0gsRUFBTVIsRUFBYTVNLEdBQUttTixFQUFpQkosRUFBZWpKLE1BQU0zZixFQUM5RGtwQixFQUFNVCxFQUFhM00sR0FBS2tOLEVBQWlCSixFQUFlakosTUFBTTFmLEVBQzlEa3BCLEVBQU1WLEVBQWExTSxHQUFLaU4sRUFBaUJKLEVBQWVqSixNQUFNM2YsRUFDOURvcEIsRUFBTVgsRUFBYXpNLEdBQUtnTixFQUFpQkosRUFBZWpKLE1BQU0xZixFQUV4RSxPQUFTeW9CLEdBQ0d2c0IsS0FBSzJyQixLQUFLdkwsUUFBUTBNLEVBQUtDLEVBQUtDLEVBQUtDLElBRWpDek0sT0FDQTBNLFdBQWUsSUFLdkIxTSxLQUFVc00sRUFBS0MsRUFBS0MsRUFBS0MsR0FDekJDLFVBQWVsdEIsS0FBS210QixZQUFZTCxFQUFLQyxFQUFLQyxFQUFLQyxLQUl2RHZCLGFBQUkwQixpQ0FBd0JwQyxFQUFtQnFDLEVBQTBCeEssRUFBMkJ5SyxFQUFnQzNLLEdBY2hJLElBQVU0SyxFQUFtQjVLLEVBQWUsRUFBSTJLLEVBQXlCdHRCLEtBQUs4ckIsWUFDcEUwQixFQUFrQnhDLEVBQWFHLDRCQUE4QnRJLEVBQ3ZFLE9BQVdtSSxFQUFhQyxpQkFDcEJ1QyxHQUNLRCxFQUFtQixHQUFLQyxFQUFrQi9uQixLQUFLa0gsSUFBSWxILEtBQUt5TCxJQUFJbWMsS0FHekUzQixhQUFJK0IsK0JBQXNCdEIsRUFDSkksRUFDQXBiLEVBQ0FxYixFQUNBeGdCLEVBQ0FtWixFQUNBTCxFQUNBd0IsRUFDQWhpQixFQUNBb2UsRUFDQXdCLEVBQ0F3SixFQUNBL0ssT0FDUmdMLEtBRUFDLEVBQWtCNXRCLEtBQUs2dEIsY0FBY25MLEVBQVd5QyxFQUFPTyxRQUFTUCxFQUFPUSxTQUd2RWlCLEVBQVl0aUIsRUFBVyxHQUN2QnVpQixFQUFjMUIsRUFBTzBCLFlBQWN2aUIsRUFDbkN3aUIsRUFBYzNCLEVBQU8yQixZQUFjeGlCLEVBRW5Dd3BCLEVBQXNCLElBQUkveEIsWUFBTW9wQixFQUFPTyxRQUFTUCxFQUFPUSxTQUt2RHlDLEVBQW9CbUMsR0FDMUIzRCxFQUNBTixFQUNBTyxFQUNBQyxHQUNhLEVBTmJ5RCxHQUF1QnVELEVBQXFCNUosR0FBa0JWLE1BUTlEc0ssRUFDQTNJLEVBQ0FMLEVBQ0FaLE1BRTZCLEdBRXpCNkosR0FBb0IsRUFDcEJDLEdBQW9CLEVBRWxCbkIsRUFBaUJlLEVBQWdCOUgsaUJBQW1CMEcsRUFJcEQzSixFQUFvQixHQUFLMkosRUFBaUJyYixHQUU1QzhjLEVBQW9CLEVBQUdDLEVBQW1CLEVBQzFDOUYsSUFDSjZGLEVBQXdCanVCLEtBQUtvdEIsd0JBQXdCaEYsRUFBa0JQLE1BQU1tRCxhQUFjNUMsRUFBa0JQLE1BQU0xRSxNQUFPTixFQUFtQitLLEVBQWdCTyxlQUFnQnhMLEdBQzdLdUwsRUFBdUJsdUIsS0FBS290Qix3QkFBd0JoRixFQUFrQk4sS0FBS2tELGFBQWM1QyxFQUFrQk4sS0FBSzNFLE1BQU9OLEVBQW1CK0ssRUFBZ0JPLGVBQWdCeEwsSUFHOUssSUFBU3RvQixJQUFJNEwsRUFBSSxFQUFHQSxFQUFJa21CLEVBQWlCNXhCLE9BQVEwTCxHQUFLLEVBQUcsQ0FDckQsSUFBVTBtQixFQUFlUixFQUFpQmxtQixHQUNoQzJtQixFQUFlVCxFQUFpQmxtQixFQUFJLEdBQ3BDbW9CLEVBQWlCakMsRUFBaUJsbUIsRUFBSSxHQUN0Q29vQixFQUE4QmxDLEVBQWlCbG1CLEVBQUksR0FDN0QsSUFBU21pQixHQUNBaUcsR0FBK0JKLEdBQy9CSSxFQUE4QkgsRUFJbkNoQyxHQUE0QkMsRUFBa0JsbUIsR0FBRyxPQU5yRCxDQVVBLElBQVV3bUIsT0FBc0I2QixhQUFhNUwsRUFBV2lLLEVBQWNDLEdBQzVEcG9CLEVBQVM0cEIsRUFBaUJ2QixFQUdwQyxHQURtQ2MsRUFBdUJwekIsT0FBUyxFQUNuQyxDQUM1QixJQUFVdW5CLEVBQUsySyxFQUFlNW9CLEVBQUk4cEIsRUFBdUJBLEVBQXVCcHpCLE9BQVMsR0FDL0V3bkIsRUFBSzBLLEVBQWUzb0IsRUFBSTZwQixFQUF1QkEsRUFBdUJwekIsT0FBUyxHQVF6RixHQUQ2QmlLLEVBQVNBLEVBQVMsRUFBSXNkLEVBQUtBLEVBQUtDLEVBQUtBLEVBRzlELEdBRGtDOWIsRUFBSSxFQUFLa21CLEVBQWlCNXhCLE9BQzlCLENBQzFCLElBQVVnMEIsRUFBMEJwQyxFQUFpQmxtQixFQUFJLEdBQ3pELEdBQVNzb0IsR0FBMkJOLEdBQy9CTSxFQUEwQkwsRUFBbUIsQ0FJOUNoQyxHQUE0QkMsRUFBa0JsbUIsR0FBRyxHQUNqRCxXQUtoQixJQUFVdW9CLEVBQXlCdm9CLEVBQUksRUFNdkMsR0FMQTBuQixFQUEyQmx4QixLQUFLZ3dCLEVBQWU1b0IsRUFBRzRvQixFQUFlM29CLEVBQUdVLEVBQVFncUIsR0FDNUV0QyxHQUE0QkMsRUFBa0JsbUIsR0FBRyxHQUVqRCtuQixFQUF3QkEsUUFBMEJiLFlBQVlWLEVBQWU1b0IsRUFBSVcsRUFBUWlvQixFQUFlM29CLEVBQUlVLEVBQVFpb0IsRUFBZTVvQixFQUFJVyxFQUFRaW9CLEVBQWUzb0IsRUFBSVUsSUFFekorbkIsUUFDUVosS0FBSzdLLGNBQWMyTCxFQUFlNW9CLEVBQUc0b0IsRUFBZTNvQixFQUFHVSxHQUFTLENBQ3pFLElBQVNrcEIsRUFDTCxPQUNJdk8sV0FDQStOLFdBQWUsR0FLbkJhLEdBQXdCLElBTXhDLE9BQ0k1TyxRQUFhNE8sS0FBeUJKLEVBQ3RDVCxVQUFlYyxJQWtCdkJ0QyxhQUFJK0MsOEJBQXFCelIsRUFBb0IwUixFQUE2QmxDLEVBQXdCbUMsRUFBc0NDLEVBQWtCQyxPQUM1SUMsS0FDQTltQixLQUVWLEdBQWlDLElBQXpCZ1YsRUFBY3ppQixRQUE0QyxJQUEzQnlGLEtBQUsyckIsS0FBS25NLGNBQXdELElBQWxDeGYsS0FBSzRyQixZQUFZcE0sYUFDcEYsT0FBV3hYLEVBVWYsSUFQQSxJQUFVMGEsRUFBWTFpQixLQUFLa2EsVUFBVXlELG1CQUFtQitRLEVBQVU5USxlQUV4RGlELEtBQ0ZrTyxFQUFPMUQsRUFBQUEsRUFDUDJELEVBQU8zRCxFQUFBQSxFQUNQNEQsR0FBUTVELEVBQUFBLEVBQ1I2RCxHQUFRN0QsRUFBQUEsRUFDSC93QixFQUFJLEVBQUdBLEVBQUkwaUIsRUFBY3ppQixPQUFRRCxJQUUxQyxJQURBLElBQVU2MEIsRUFBT25TLEVBQWMxaUIsR0FDbEIyTCxFQUFJLEVBQUdBLEVBQUlrcEIsRUFBSzUwQixPQUFRMEwsSUFBSyxDQUN0QyxJQUFVMGtCLE9BQVMyRCxhQUFhNUwsRUFBV3lNLEVBQUtscEIsR0FBR3BDLEVBQUdzckIsRUFBS2xwQixHQUFHbkMsR0FDOURpckIsRUFBV3RwQixLQUFLb0IsSUFBSWtvQixFQUFNcEUsRUFBRTltQixHQUM1Qm1yQixFQUFXdnBCLEtBQUtvQixJQUFJbW9CLEVBQU1yRSxFQUFFN21CLEdBQzVCbXJCLEVBQVd4cEIsS0FBS21CLElBQUlxb0IsRUFBTXRFLEVBQUU5bUIsR0FDNUJxckIsRUFBV3pwQixLQUFLbUIsSUFBSXNvQixFQUFNdkUsRUFBRTdtQixHQUM1QitjLEVBQVVwa0IsS0FBS2t1QixHQVF2QixJQUpBLElBQVVoYSxFQUFTK2QsRUFBVTFpQixJQUVuQm9qQixLQUNBQyxFQUFXcnZCLEtBQUsyckIsS0FBSzlLLE1BQU1rTyxFQUFNQyxFQUFNQyxFQUFNQyxHQUMxQzUwQixFQUFJLEVBQUdBLEVBQUkrMEIsRUFBUzkwQixPQUFRRCxJQUU3QiswQixFQUFTLzBCLEdBQUdzMEIsV0FBYUEsR0FDN0JTLEVBQWEvMEIsR0FBR3FXLFNBQVdBLEdBQzNCa2UsRUFBc0JRLEVBQVMvMEIsR0FBR2cxQixtQkFDbENGLEVBQXFCM3lCLEtBQUs0eUIsRUFBUy8wQixHQUFHaTFCLFVBSTlDLElBREEsSUFBVUMsRUFBa0J4dkIsS0FBSzRyQixZQUFZL0ssTUFBTWtPLEVBQU1DLEVBQU1DLEVBQU1DLEdBQ3hENTBCLEVBQUksRUFBR0EsRUFBSWsxQixFQUFnQmoxQixPQUFRRCxJQUNwQ2sxQixFQUFnQmwxQixHQUFHczBCLFdBQWFBLEdBQ3BDWSxFQUFvQmwxQixHQUFHcVcsU0FBV0EsR0FDbENrZSxFQUFzQlcsRUFBZ0JsMUIsR0FBR2cxQixtQkFDekNGLEVBQXFCM3lCLEtBQUsreUIsRUFBZ0JsMUIsR0FBR2kxQixVQUlyRCxJQUFTbDFCLElBQUlDLEVBQUksRUFBR0EsRUFBSTgwQixFQUFpQjcwQixPQUFRRCxJQUFLLENBQ2xELElBQVVtMUIsRUFBV2QsRUFBa0IzekIsSUFBSW8wQixFQUFpQjkwQixJQUNsRG8xQixFQUFjRCxFQUFTRSxpQkFDdkJ0UixFQUFlb1IsRUFBU3BSLGFBQ3hCdVIsRUFBY0gsRUFBU0csWUFTakMsUUFONkN2NUIsSUFBckN5NEIsRUFBb0JZLEtBQ3hCWixFQUF3QlksWUFFK0JyNUIsSUFBbkR5NEIsRUFBb0JZLEdBQWFyUixLQUNyQ3lRLEVBQXdCWSxHQUFhclIsUUFFakN5USxFQUFvQlksR0FBYXJSLEdBQWN1UixHQUF2RCxDQVNBLElBQVVuRCxPQUFzQkMsOEJBQThCaEssRUFBVytNLEVBQVM5QyxhQUFjOEMsRUFBUzdDLGNBQy9GQyxFQUFpQkwsRUFBaUJDLEVBQWUzRyxpQkFDakRwRyxFQUFLK1AsRUFBUy9QLEdBQUttTixFQUFpQkosRUFBZWpKLE1BQU0zZixFQUN6RDhiLEVBQUs4UCxFQUFTOVAsR0FBS2tOLEVBQWlCSixFQUFlakosTUFBTTFmLEVBQ3pEOGIsRUFBSzZQLEVBQVM3UCxHQUFLaU4sRUFBaUJKLEVBQWVqSixNQUFNM2YsRUFDekRnYyxFQUFLNFAsRUFBUzVQLEdBQUtnTixFQUFpQkosRUFBZWpKLE1BQU0xZixFQUN6RCtyQixHQUNOLElBQVE5ekIsWUFBTTJqQixFQUFJQyxHQUNsQixJQUFRNWpCLFlBQU02akIsRUFBSUQsR0FDbEIsSUFBUTVqQixZQUFNNmpCLEVBQUlDLEdBQ2xCLElBQVE5akIsWUFBTTJqQixFQUFJRyxJQUViaVEsMkJBQTJDalAsRUFBT2dQLEtBSTNEZixFQUF3QlksR0FBYXJSLEdBQWN1UixJQUFlLEVBQ2xFNW5CLEVBQVd2TCxLQUFLMnlCLEVBQWlCOTBCLE1BR3JDLE9BQVcwTixHQUdmMGpCLGFBQUlxRSw0QkFBbUJ6RCxFQUE2QjBELEVBQTBCcmYsRUFBZ0JpZSxFQUFrQlUsRUFBMEJXLEdBQ3RJLElBRVVqa0IsR0FBUTJFLE9BQVFBLEVBQVFpZSxTQUFVQSxFQUFVVSxpQkFBa0JBLEVBQWtCQyxTQUFVVSxJQUZuRkQsRUFBa0Jod0IsS0FBSzRyQixZQUFjNXJCLEtBQUsyckIsTUFHbERsTSxPQUFPelQsRUFBS3NnQixFQUFhLEdBQUlBLEVBQWEsR0FBSUEsRUFBYSxHQUFJQSxFQUFhLEtBR3pGWixhQUFJd0UsZ0NBQXVCL0QsRUFBaUM2RCxFQUEwQnJmLEVBQWdCaWUsRUFBa0JVLEVBQTBCVyxHQUc5SSxJQUZBLElBQVV0RSxFQUFPcUUsRUFBa0Jod0IsS0FBSzRyQixZQUFjNXJCLEtBQUsyckIsS0FFOUMxbEIsRUFBSSxFQUFHQSxFQUFJa21CLEVBQWlCNXhCLE9BQVEwTCxHQUFLLEVBQUcsQ0FDckQsSUFBVStGLEdBQVEyRSxPQUFRQSxFQUFRaWUsU0FBVUEsRUFBVVUsaUJBQWtCQSxFQUFrQkMsU0FBVVUsRUFBZ0I5RCxFQUFpQmxtQixFQUFJLElBQ3pJMGxCLEVBQVMzTCxhQUFhaFUsRUFBS21nQixFQUFpQmxtQixHQUFJa21CLEVBQWlCbG1CLEVBQUksR0FBSWttQixFQUFpQmxtQixFQUFJLE1BSXRHeWxCLGFBQUltQyx1QkFBY25MLEVBQWlCN2UsRUFBV0MsR0FDMUMsSUFBVTZtQixHQUFLOW1CLEVBQUdDLEVBQUcsRUFBRyxHQUV4QixPQURBeW1CLEdBQStCSSxFQUFHQSxFQUFHakksSUFFakNvRCxpQkFBc0IsUUFBa0I1TCxVQUFVNkwsdUJBQXlCNEUsRUFBRSxHQUFqRCxHQUM1QndELGVBQW9CeEQsRUFBRSxLQUk5QmUsYUFBSTRDLHNCQUFhNUwsRUFBaUI3ZSxFQUFXQyxHQUN6QyxJQUFVNm1CLEdBQUs5bUIsRUFBR0MsRUFBRyxFQUFHLEdBRXhCLE9BREF5bUIsR0FBK0JJLEVBQUdBLEVBQUdqSSxHQUMxQixJQUFJM21CLGFBQ0o0dUIsRUFBRSxHQUFLQSxFQUFFLEdBQUssR0FBSyxFQUFLM3FCLEtBQUtrYSxVQUFVcGhCLE1BeFY5QixNQXlWUjZ4QixFQUFFLEdBQUtBLEVBQUUsR0FBSyxHQUFLLEVBQUszcUIsS0FBS2thLFVBQVVuaEIsT0F6Vi9CLE1BNlZ4QjJ5QixhQUFJZ0IsdUNBQThCaEssRUFBaUI3ZSxFQUFXQyxHQUMxRCxJQUFVNm1CLEdBQUs5bUIsRUFBR0MsRUFBRyxFQUFHLEdBTXhCLE9BTEF5bUIsR0FBK0JJLEVBQUdBLEVBQUdqSSxJQU1qQ2MsTUFMVSxJQUFJem5CLGFBQ1A0dUIsRUFBRSxHQUFLQSxFQUFFLEdBQUssR0FBSyxFQUFLM3FCLEtBQUtrYSxVQUFVcGhCLE1Balc5QixNQWtXUjZ4QixFQUFFLEdBQUtBLEVBQUUsR0FBSyxHQUFLLEVBQUszcUIsS0FBS2thLFVBQVVuaEIsT0FsVy9CLEtBeVdoQitzQixpQkFBc0IsUUFBa0I1TCxVQUFVNkwsdUJBQXlCNEUsRUFBRSxHQUFqRCxLQUlwQ2UsYUFBSXlCLHFCQUFZek4sRUFBWUMsRUFBWUMsRUFBWUMsR0FDaEQsT0FBV0QsRUE5V1MsS0E4V2VGLEdBQU0xZixLQUFLZ3NCLHFCQUF1Qm5NLEVBOVdqRCxLQThXeUVGLEVBQUszZixLQUFLaXNCLHNCQ3JYM0d0ekIsSUErQk0wYSxHQThDRixTQUFZMUMsRUFBMEIxUSxHQUN0Q0QsS0FBUzJRLE9BQVNBLEVBQ2xCM1EsS0FBU3NULElBQU01RixhQUNmMU4sS0FBU213QixLQUFPLEVBQ2hCbndCLEtBQVNsQixTQUFXbUIsRUFDcEJELEtBQVNxYixXQUNUcmIsS0FBU293QixlQUFpQixLQUMxQnB3QixLQUFTcXdCLGFBQWUsRUFNeEJyd0IsS0FBU3N3QixvQkFBc0IsRUFFL0J0d0IsS0FBU2tVLE1BQVEsV0FHckJiLGFBQUlrZCw4QkFBcUJDLEdBQ3JCLElBQVVDLEVBQWNELEVBQVd4d0IsS0FBSzB3QixVQUNoQ0QsRUFBY3p4QixFQUFRekgsT0FDdEJ5SSxLQUFLeXdCLGFBQWVBLEVBQWN6d0IsS0FBS3l3QixjQUUvQ3p3QixLQUFTeXdCLFlBQWNBLElBRzNCcGQsYUFBSXNkLHdCQUNBLE1BQTBCLFlBQWYzd0IsS0FBS2tVLE9BQXNDLFdBQWZsVSxLQUFLa1UsT0FBcUMsY0FBZmxVLEtBQUtrVSxPQWEzRWIsYUFBSVMsd0JBQWVoVCxFQUF3QmlULEVBQWM2YyxHQVFyRCxHQVBRNXdCLEtBQUs2d0IsV0FDVDd3QixLQUFTcVUsbUJBR2JyVSxLQUFTa1UsTUFBUSxTQUdScFQsRUFBVCxDQWNBLEdBVFFBLEVBQUtnd0IsY0FFVDl3QixLQUFTOHdCLFlBQWNod0IsRUFBS2d3QixhQUVoQzl3QixLQUFTMnVCLGtCQUFvQjd0QixFQUFLNnRCLGtCQUNsQzN1QixLQUFTcWUsYUFBZXZkLEVBQUt1ZCxhQUM3QnJlLEtBQVNxZSxhQUFheVMsWUFBYzl3QixLQUFLOHdCLFlBQ3pDOXdCLEtBQVNxYixpQkN0RmVwTSxFQUFzQi9VLEdBQzlDdkIsSUFBTW80QixLQUlOLElBQUs3MkIsRUFBTyxPQUFPNjJCLEVBRW5CLElBQUssVUFBZ0I5aEIsa0JBQU8sQ0FBdkJ0VyxJQUFNcXJCLE9BQ0RnTixFQUFTaE4sRUFBT2lOLFNBQ2pCaDlCLGFBQUt1RSxVQUFPMEIsRUFBTWczQixTQUFTMTRCLEtBQzNCM0UsT0FBT3M5QixTQUVaLEdBQXNCLElBQWxCSCxFQUFPejJCLE9BQVgsQ0FNQ3lwQixFQUFhZ04sT0FBU0EsRUFFdkIsSUFBSyxVQUFlQSxrQkFDaEJELE9BQWF2NEIsSUFBTXdyQixHQUkzQixPQUFPK00sRUQ2RFlLLENBQWtCdHdCLEVBQUt1YSxRQUFTdEgsRUFBUTdaLE9BRW5EMDJCLEVBQ0osUUFBZXA0QixVQUFXNmlCLFFBQVMsQ0FDL0IsSUFBVTJJLE9BQWMzSSxRQUFRN2lCLEdBQ3hCd3JCLGFBQWtCcU4sZUFDdEJyTixFQUFXNE0sY0FBZSxHQU10QyxRQUFlcDRCLEtBRGZ3SCxLQUFTcXdCLGFBQWUsT0FDRWhWLFFBQVMsQ0FDL0IsSUFBVTJJLE9BQWMzSSxRQUFRN2lCLFFBQ3ZCNjNCLGFBQWU1cUIsS0FBS21CLFNBQVN5cEIsYUFBY3RjLEVBQVE3WixNQUFNZzNCLFNBQVNsTixFQUFPaU4sU0FBUyxJQUFJSyxZQUFZdE4sSUFHdkdsakIsRUFBS3l3QixpQkFDVHZ4QixLQUFTdXhCLGVBQWlCendCLEVBQUt5d0IsZ0JBRTNCendCLEVBQUswd0Isa0JBQ1R4eEIsS0FBU3d4QixnQkFBa0Ixd0IsRUFBSzB3QixzQkFoQ2hDeHhCLEtBQVMydUIsa0JBQW9CLElBQUk4QyxxQkF5Q3pDcGUsYUFBSWdCLDRCQUNBLFFBQWU3YixVQUFXNmlCLGFBQ2JBLFFBQVE3aUIsR0FBSThJLFVBRXpCdEIsS0FBU3FiLFdBRURyYixLQUFLMHhCLGtCQUNUMXhCLEtBQVMweEIsaUJBQWlCcHdCLFVBRXRCdEIsS0FBSzJ4QixtQkFDVDN4QixLQUFTMnhCLGtCQUFrQnJ3QixVQUcvQnRCLEtBQVMydUIsa0JBQW9CLEtBQzdCM3VCLEtBQVNxZSxhQUFlLEtBQ3hCcmUsS0FBU2tVLE1BQVEsWUFHckJiLGFBQUl1ZSx5QkFDQTV4QixLQUFTd1YsSUFBTSxLQUNmeFYsS0FBUzBWLGlCQUFtQixLQUM1QjFWLEtBQVNrVSxNQUFRLFlBR3JCYixhQUFJd2UsbUJBQVVDLEdBQ1YsT0FBVzl4QixLQUFLcWIsUUFBUXlXLEVBQU10NUIsS0FHbEM2YSxhQUFJMGUsZ0JBQU9uNUIsR0FDUCxRQUFlSixVQUFXNmlCLFFBQVMsQ0FDL0IsSUFBVTJJLE9BQWMzSSxRQUFRN2lCLEdBQ3ZCd3JCLEVBQU9nTyxXQUNaaE8sRUFBVytOLE9BQU9uNUIsR0FDbEJvckIsRUFBV2dPLFVBQVcsR0FJOUIsSUFBVTd4QixFQUFLdkgsRUFBUXVILEdBRWZILEtBQUt1eEIsaUJBQ1R2eEIsS0FBUzB4QixpQkFBbUIsSUFBSTd4QixFQUFRakgsRUFBU29ILEtBQUt1eEIsZUFBZ0JweEIsRUFBR08sTUFDekVWLEtBQVN1eEIsZUFBaUIsTUFHdEJ2eEIsS0FBS3d4QixrQkFDVHh4QixLQUFTMnhCLGtCQUFvQixJQUFJOXhCLEVBQVFqSCxFQUFTb0gsS0FBS3d4QixnQkFBaUJyeEIsRUFBRzh4QixPQUMzRWp5QixLQUFTd3hCLGdCQUFrQixPQUluQ25lLGFBQUl3SiwrQkFBc0JtVSxFQUNKaFUsRUFDQTdMLEVBQ0FqVCxFQUNBZ2MsRUFDQWdELEVBQ0F3RixFQUNBa00sRUFDQTNSLEdBQ2xCLElBQVNqZCxLQUFLcWUsZUFBaUJyZSxLQUFLMnVCLGtCQUM1QixTQUdSLElBQVVFLEtBQ1YsUUFBZXIyQixLQUFNdzRCLEVBQVEsQ0FDekIsSUFBVWhOLE9BQWM2TixVQUFVYixFQUFPeDRCLElBQ2pDd3JCLEdBR0lBLGFBQWtCcU4sbUJBQTRDaDdCLElBQTVCMnRCLEVBQU9zTCxtQkFDN0NULEVBQXNCN0ssRUFBT3NMLG1CQUFvQixHQUs3RCxPQUFXdHZCLEtBQUtxZSxhQUFhd0MsT0FDekI3RCxjQUFtQkEsRUFDbkI3TCxNQUFXQSxFQUNYclMsU0FBY2tCLEtBQUtsQixTQUNuQjRqQixVQUFlQSxFQUNmeEksVUFBZUEsRUFDZmhjLE9BQVlBLEVBQ1pteUIsYUFBa0Jyd0IsS0FBS3F3QixhQUFlblQsRUFDdEN5UixrQkFBdUIzdUIsS0FBSzJ1QixrQkFDNUJDLFNBQWNBLEVBQ2QzUixlQUFvQkEsRUFDcEI0UixrQkFBdUJBLEdBQ3BCbUMsSUFHWDNkLGFBQUk2ZSw2QkFBb0JscUIsRUFBK0I5SixHQUNuRCxHQUFTOEIsS0FBSzh3QixZQUFkLENBRVM5d0IsS0FBS215QixXQUNWbnlCLEtBQVNteUIsU0FBVyxJQUFJQyxhQUFHQyxXQUFXLElBQUlDLGFBQVN0eUIsS0FBSzh3QixjQUFjRSxRQUcxRSxJQUFVdEIsRUFBY3h4QixFQUFTQSxFQUFPd3hCLFlBQWMsR0FDNUNvQyxFQUFROXhCLEtBQUtteUIsU0FBU0ksbUJBQXFCdnlCLEtBQUtteUIsU0FBU3pDLEdBRW5FLEdBQVNvQyxFQUtULElBSEEsSUFBVWorQixFQUFTMitCLGFBQWN0MEIsR0FBVUEsRUFBT3JLLFFBQ3hDMGhCLEdBQVVsUSxFQUFHckYsS0FBSzJRLE9BQU80QyxZQUFhMVAsRUFBRzdELEtBQUsyUSxPQUFPZ0MsVUFBVTlPLEVBQUdDLEVBQUc5RCxLQUFLMlEsT0FBT2dDLFVBQVU3TyxHQUV4RnhKLEVBQUksRUFBR0EsRUFBSXczQixFQUFNdjNCLE9BQVFELElBQUssQ0FDdkMsSUFBVWdrQixFQUFVd1QsRUFBTXhULFFBQVFoa0IsR0FDbEMsR0FBUXpHLEdBQVFtZCxVQUFXTCxPQUFPNEMsYUFBYytLLEdBQVUsQ0FDdEQsSUFBVW1VLEVBQWlCLElBQUlDLGFBQWVwVSxFQUFTL0ksRUFBTWxRLEVBQUdrUSxFQUFNMVIsRUFBRzBSLEVBQU16UixHQUMxRTJ1QixFQUFxQjNmLEtBQU95QyxFQUNqQ3ZOLEVBQVd2TCxLQUFLZzJCLE9BSzVCcGYsYUFBSXNmLHFCQUNRM3lCLEtBQUs0eUIsV0FDVDV5QixLQUFTNHlCLFNBQVN0eEIsaUJBQ1B0QixLQUFLNHlCLFVBRVo1eUIsS0FBSzZ5QixxQkFDVDd5QixLQUFTNnlCLG1CQUFtQnZ4QixpQkFDakJ0QixLQUFLNnlCLG9CQUVaN3lCLEtBQUs4eUIsb0JBQ1Q5eUIsS0FBUzh5QixrQkFBa0J4eEIsaUJBQ2hCdEIsS0FBSzh5QixvQkFJeEJ6ZixhQUFJMGYsaUJBQVFDLEVBQVlwNkIsR0FHcEIsSUFBUXE2QixhQUFVanpCLEtBQUtnekIsS0FBTUEsS0FFN0JoekIsS0FBU2d6QixLQUFPQSxFQUNoQmh6QixLQUFTMnlCLGFBSURNLGFBQVVELEdBQU9FLEdBQUssS0FBOUIsQ0FFQSxJQUFVQyxFQUFvQixJQUFJdlksb0JBQ3hCd1ksRUFBYSxJQUFJQyxxQkFFM0JyekIsS0FBUzR5QixTQUFXLElBQUlVLGFBR3hCdHpCLEtBQVM0eUIsU0FBU1csZUFBZSxFQUFHSixFQUFtQkMsR0FHdkQsSUFEQSxJQUFVSSxFQUFZaC9CLE9BQU9DLEtBQUt1K0IsR0FDckIxNEIsRUFBSSxFQUFHQSxFQUFJazVCLEVBQVVqNUIsT0FBUUQsSUFBSyxDQUMzQyxJQUFVbTVCLEVBQVlULEVBQUtRLEVBQVVsNUIsSUFDM0JvNUIsRUFBZWpkLGFBQVVnZCxFQUFVcHVCLEVBQ25Dc3VCLEVBQVcsSUFBSTUzQixZQUFNMDNCLEVBQVU1dkIsRUFBSTZ2QixFQUFjRCxFQUFVM3ZCLEVBQUk0dkIsR0FDL0RFLEVBQVcsSUFBSTczQixZQUFNNDNCLEVBQVM5dkIsRUFBSTZ2QixFQUFjQyxFQUFTN3ZCLEVBQUk0dkIsR0FHN0QvTCxPQUFnQmlMLFNBQWVXLGVBQWUsRUFBR0osRUFBbUJDLEdBRTlFRCxFQUFzQnRZLFlBQVk4WSxFQUFTOXZCLEVBQUc4dkIsRUFBUzd2QixFQUFHNnZCLEVBQVM5dkIsRUFBRzh2QixFQUFTN3ZCLEdBQy9FcXZCLEVBQXNCdFksWUFBWStZLEVBQVMvdkIsRUFBRzh2QixFQUFTN3ZCLEVBQUc4dkIsRUFBUy92QixFQUFHOHZCLEVBQVM3dkIsR0FDL0VxdkIsRUFBc0J0WSxZQUFZOFksRUFBUzl2QixFQUFHK3ZCLEVBQVM5dkIsRUFBRzZ2QixFQUFTOXZCLEVBQUcrdkIsRUFBUzl2QixHQUMvRXF2QixFQUFzQnRZLFlBQVkrWSxFQUFTL3ZCLEVBQUcrdkIsRUFBUzl2QixFQUFHOHZCLEVBQVMvdkIsRUFBRyt2QixFQUFTOXZCLEdBRS9FLElBQVVrZCxFQUFTMkcsRUFBUWtNLGFBRzNCVCxFQUFldlksWUFBWW1HLEVBQVFBLEVBQVMsRUFBR0EsRUFBUyxHQUN4RG9TLEVBQWV2WSxZQUFZbUcsRUFBUyxFQUFHQSxFQUFTLEVBQUdBLEVBQVMsR0FFNUQyRyxFQUFZa00sY0FBZ0IsRUFDNUJsTSxFQUFZbU0saUJBQW1CLEVBR25DOXpCLEtBQVM2eUIsbUJBQXFCajZCLEVBQVFvaUIsbUJBQW1CbVksRUFBbUJsWSxFQUF1QkMsU0FDbkdsYixLQUFTOHlCLGtCQUFvQmw2QixFQUFRbTdCLGtCQUFrQlgsS0FHM0QvZixhQUFJd2QsbUJBQ0EsTUFBMEIsV0FBZjd3QixLQUFLa1UsT0FBcUMsY0FBZmxVLEtBQUtrVSxPQUF3QyxZQUFmbFUsS0FBS2tVLE9BRzdFYixhQUFJUSx1QkFBYy9TLEdBQ2QsSUFBVWt6QixFQUFRaDBCLEtBQUtvd0IsZUFFdkIsR0FBUXR2QixFQUFLMlQsYUFBYyxDQUN2QixJQUFVd2YsRUFBV0Msb0JBQWtCcHpCLEVBQUsyVCxjQUNwQ3dmLEVBQVMsYUFBWWowQixLQUFLb3dCLGVBQWlCMzRCLEtBQUtGLE1BQThCLElBQXRCMDhCLEVBQVMsaUJBQzlEbnpCLEVBQUs0VCxVQUNoQjFVLEtBQVNvd0IsZUFBaUIsSUFBSTM0QixLQUFLcUosRUFBSzRULFNBQVN5ZixXQUdyRCxHQUFRbjBCLEtBQUtvd0IsZUFBZ0IsQ0FDekIsSUFBVTc0QixFQUFNRSxLQUFLRixNQUNiNjhCLEdBQVksRUFFcEIsR0FBUXAwQixLQUFLb3dCLGVBQWlCNzRCLEVBQzFCNjhCLEdBQWdCLE9BQ1QsR0FBS0osRUFFTCxHQUFJaDBCLEtBQUtvd0IsZUFBaUI0RCxFQUdqQ0ksR0FBZ0IsTUFFVCxDQUNQLElBQVVDLEVBQVFyMEIsS0FBS293QixlQUFpQjRELEVBRS9CSyxFQVNMcjBCLEtBQVNvd0IsZUFBaUI3NEIsRUFBTWtPLEtBQUttQixJQUFJeXRCLEVBall4QixLQTJYakJELEdBQWdCLE9BWnBCQSxHQUFnQixFQXVCWkEsR0FDSnAwQixLQUFTc3dCLHNCQUNUdHdCLEtBQVNrVSxNQUFRLFdBRWpCbFUsS0FBU3N3QixvQkFBc0IsSUFLM0NqZCxhQUFJaWhCLDRCQUNBLEdBQVF0MEIsS0FBS293QixlQUNULE9BQVFwd0IsS0FBS3N3QixvQkFDRSxRQUFhN3FCLEtBQUtvQixJQUFJN0csS0FBS3N3QixvQkFBc0IsRUFBRyxLQUdwRDdxQixLQUFLb0IsSUFBSTdHLEtBQUtvd0IsZ0JBQWlCLElBQUkzNEIsTUFBTzA4QixVQUFXMXVCLEtBQUtrQixJQUFJLEVBQUcsSUFBTSxJRWhhOUYsSUFBTTR0QixHQVNGLFNBQVkzdEIsRUFBYThRLEdBQ3pCMVgsS0FBUzRHLElBQU1BLEVBQ2Y1RyxLQUFTMFgsU0FBV0EsRUFDcEIxWCxLQUFTdzBCLFNBU2JELGFBQUlDLGlCQUNBLFFBQWV4b0IsVUFBWWxMLFVBQ2Q0VyxjQUFjNVcsS0FBS2tMLElBTWhDLE9BSEFoTSxLQUFTYyxRQUNUZCxLQUFTeTBCLFNBRUV6MEIsTUFhZnUwQixhQUFJbEwsYUFBSXJkLEVBQWFsTCxHQUVqQixHQUFRZCxLQUFLMDBCLElBQUkxb0IsR0FDYmhNLEtBQVN5MEIsTUFBTUUsT0FBTzMwQixLQUFLeTBCLE1BQU0xZ0MsUUFBUWlZLEdBQU0sR0FDL0NoTSxLQUFTYyxLQUFLa0wsR0FBT2xMLEVBQ3JCZCxLQUFTeTBCLE1BQU1oNEIsS0FBS3VQLFFBTXBCLEdBSEFoTSxLQUFTYyxLQUFLa0wsR0FBT2xMLEVBQ3JCZCxLQUFTeTBCLE1BQU1oNEIsS0FBS3VQLEdBRVpoTSxLQUFLeTBCLE1BQU1sNkIsT0FBU3lGLEtBQUs0RyxJQUFLLENBQ2xDLElBQVVndUIsRUFBYzUwQixLQUFLNjBCLGFBQWE3MEIsS0FBS3kwQixNQUFNLElBQzdDRyxHQUFhNTBCLEtBQUswWCxTQUFTa2QsR0FJM0MsT0FBVzUwQixNQVVmdTBCLGFBQUlHLGFBQUkxb0IsR0FDSixPQUFXQSxLQUFPaE0sS0FBS2MsTUFTM0J5ekIsYUFBSTkvQixnQkFDQSxPQUFXdUwsS0FBS3kwQixPQVdwQkYsYUFBSU0sc0JBQWE3b0IsR0FDYixJQUFTaE0sS0FBSzAwQixJQUFJMW9CLEdBQVEsT0FBTyxLQUVqQyxJQUFVbEwsRUFBT2QsS0FBS2MsS0FBS2tMLEdBSzNCLGNBSFdoTSxLQUFLYyxLQUFLa0wsR0FDckJoTSxLQUFTeTBCLE1BQU1FLE9BQU8zMEIsS0FBS3kwQixNQUFNMWdDLFFBQVFpWSxHQUFNLEdBRXBDbEwsR0FXZnl6QixhQUFJdjVCLGFBQUlnUixHQUNKLE9BQVNoTSxLQUFLMDBCLElBQUkxb0IsR0FFRGhNLEtBQUtjLEtBQUtrTCxHQUZNLE1BYXJDdW9CLGFBQUl2M0IsZ0JBQU9nUCxHQUNQLElBQVNoTSxLQUFLMDBCLElBQUkxb0IsR0FBUSxPQUFPaE0sS0FFakMsSUFBVWMsRUFBT2QsS0FBS2MsS0FBS2tMLEdBSzNCLGNBSldoTSxLQUFLYyxLQUFLa0wsR0FDckJoTSxLQUFTMFgsU0FBUzVXLEdBQ2xCZCxLQUFTeTBCLE1BQU1FLE9BQU8zMEIsS0FBS3kwQixNQUFNMWdDLFFBQVFpWSxHQUFNLEdBRXBDaE0sTUFVZnUwQixhQUFJTyxvQkFBV2x1QixHQUdYLElBRkE1RyxLQUFTNEcsSUFBTUEsRUFFSjVHLEtBQUt5MEIsTUFBTWw2QixPQUFTeUYsS0FBSzRHLEtBQUssQ0FDckMsSUFBVWd1QixPQUFtQkMsa0JBQWtCSixNQUFNLElBQzdDRyxRQUFrQmxkLFNBQVNrZCxHQUd2QyxPQUFXNTBCLE1DdkpmLElBQU0rMEIsR0FLRixTQUFZbjhCLEVBQWtCbzhCLEVBQTRDaGMsR0FDMUVoWixLQUFTcEgsUUFBVUEsRUFDbkIsSUFBVXVILEVBQUt2SCxFQUFRdUgsR0FDdkJILEtBQVN1RSxPQUFTcEUsRUFBRzgwQixlQUNyQmoxQixLQUFTZ1osWUFBY21ZLFFBQVFuWSxHQUUvQmhaLEtBQVNrMUIsWUFFVHQ4QixFQUFZdThCLGtCQUFrQjEwQixJQUFJVCxLQUFLdUUsUUFDdkNwRSxFQUFPaTFCLFdBQVdqMUIsRUFBR2sxQixxQkFBc0JMLEVBQU1NLFlBQWF0MUIsS0FBS2daLFlBQWM3WSxFQUFHbzFCLGFBQWVwMUIsRUFBR3ExQixhQUU3RngxQixLQUFLZ1osb0JBQ0NnYyxFQUFNTSxhQUl6QlAsYUFBSUcscUJBSVFsMUIsS0FBS3BILFFBQVFpZ0Isc0JBQ2pCN1ksS0FBU3BILFFBQVFtZ0IsbUJBQW1CdFksSUFBSSxPQUloRHMwQixhQUFJeGdDLGdCQUNBeUwsS0FBU3BILFFBQVF1OEIsa0JBQWtCMTBCLElBQUlULEtBQUt1RSxTQUdoRHd3QixhQUFJck8sb0JBQVdzTyxHQUNYLElBQVU3MEIsRUFBS0gsS0FBS3BILFFBQVF1SCxHQUk1QkgsS0FBU2sxQixZQUNUbDFCLEtBQVN6TCxPQUNUNEwsRUFBT3MxQixjQUFjdDFCLEVBQUdrMUIscUJBQXNCLEVBQUdMLEVBQU1NLGNBRzNEUCxhQUFJenpCLG1CQUNBLElBQVVuQixFQUFLSCxLQUFLcEgsUUFBUXVILEdBQ3BCSCxLQUFLdUUsU0FDVHBFLEVBQU91MUIsYUFBYTExQixLQUFLdUUsZUFDZHZFLEtBQUt1RSxTQ3ZDeEI1TCxJQUFNZzlCLElBQ0ZDLEtBQVEsT0FDUkMsTUFBUSxnQkFDUkMsTUFBUSxRQUNSQyxPQUFRLGlCQUNSQyxNQUFRLE1BQ1JDLE9BQVEsZUFDUkMsUUFBUyxTQVFQQyxHQVdGLFNBQVl2OUIsRUFBa0JvOEIsRUFBb0J2K0IsRUFBK0N1aUIsR0FDakdoWixLQUFTekYsT0FBU3k2QixFQUFNejZCLE9BQ3hCeUYsS0FBU3ZKLFdBQWFBLEVBQ3RCdUosS0FBU28yQixTQUFXcEIsRUFBTXFCLGdCQUMxQnIyQixLQUFTZ1osWUFBY0EsRUFFdkJoWixLQUFTcEgsUUFBVUEsRUFDbkIsSUFBVXVILEVBQUt2SCxFQUFRdUgsR0FDdkJILEtBQVN1RSxPQUFTcEUsRUFBRzgwQixlQUNyQnI4QixFQUFZMDlCLGlCQUFpQjcxQixJQUFJVCxLQUFLdUUsUUFDdENwRSxFQUFPaTFCLFdBQVdqMUIsRUFBR28yQixhQUFjdkIsRUFBTU0sWUFBYXQxQixLQUFLZ1osWUFBYzdZLEVBQUdvMUIsYUFBZXAxQixFQUFHcTFCLGFBRXJGeDFCLEtBQUtnWixvQkFDQ2djLEVBQU1NLGFBSXpCYSxhQUFJNWhDLGdCQUNBeUwsS0FBU3BILFFBQVEwOUIsaUJBQWlCNzFCLElBQUlULEtBQUt1RSxTQUcvQzR4QixhQUFJelAsb0JBQVdzTyxHQUVYLElBQVU3MEIsRUFBS0gsS0FBS3BILFFBQVF1SCxHQUM1QkgsS0FBU3pMLE9BQ1Q0TCxFQUFPczFCLGNBQWN0MUIsRUFBR28yQixhQUFjLEVBQUd2QixFQUFNTSxjQUduRGEsYUFBSTVjLDBCQUFpQnBaLEVBQTJCZ1ksR0FDNUMsUUFBYXFlLEVBQUksRUFBR0EsRUFBSXgyQixLQUFLdkosV0FBVzhELE9BQVFpOEIsSUFBSyxDQUNqRCxJQUFVQyxPQUFjaGdDLFdBQVcrL0IsR0FDekJFLEVBQTZCdmUsRUFBUTFoQixXQUFXZ2dDLEVBQU9oc0IsV0FDekNwVSxJQUFoQnFnQyxHQUNKdjJCLEVBQU93MkIsd0JBQXdCRCxLQVczQ1AsYUFBSTNjLGlDQUF3QnJaLEVBQTJCZ1ksRUFBa0JJLEdBQ3JFLFFBQWFpZSxFQUFJLEVBQUdBLEVBQUl4MkIsS0FBS3ZKLFdBQVc4RCxPQUFRaThCLElBQUssQ0FDakQsSUFBVUMsT0FBY2hnQyxXQUFXKy9CLEdBQ3pCRSxFQUE2QnZlLEVBQVExaEIsV0FBV2dnQyxFQUFPaHNCLFdBRXpDcFUsSUFBaEJxZ0MsR0FDSnYyQixFQUFPeTJCLG9CQUNIRixFQUNBRCxFQUFXSSxXQUNOMTJCLEVBQVN3MUIsR0FBY2MsRUFBTzlnQyxRQUNuQyxPQUNTeWdDLFNBQ1RLLEVBQVd6VixZQUFlb1YsVUFBWTdkLEdBQWdCLE1BU3RFNGQsYUFBSTcwQixtQkFDQSxJQUFVbkIsRUFBS0gsS0FBS3BILFFBQVF1SCxHQUNwQkgsS0FBS3VFLFNBQ1RwRSxFQUFPdTFCLGFBQWExMUIsS0FBS3VFLGVBQ2R2RSxLQUFLdUUsU0N0RmpCLElBQU11eUIsR0FJVCxTQUFZbCtCLEdBQ1pvSCxLQUFTcEgsUUFBVUEsRUFDbkJvSCxLQUFTaXFCLFFBQVU4TSxZQUFNQyxhQUc3QkYsYUFBSTk3QixlQUFlLE9BQU9nRixLQUFLaXFCLFNBRS9CNk0sYUFBSXIyQixhQUFJNkUsR0FDSixJQUFVMnhCLEVBQUlqM0IsS0FBS2lxQixRQUNYM2tCLEVBQUU0eEIsSUFBTUQsRUFBRUMsR0FBSzV4QixFQUFFNnhCLElBQU1GLEVBQUVFLEdBQUs3eEIsRUFBRStELElBQU00dEIsRUFBRTV0QixHQUFLL0QsRUFBRW9CLElBQU11d0IsRUFBRXZ3QixJQUMzRDFHLEtBQVNwSCxRQUFRdUgsR0FBR2kzQixXQUFXOXhCLEVBQUU0eEIsRUFBRzV4QixFQUFFNnhCLEVBQUc3eEIsRUFBRStELEVBQUcvRCxFQUFFb0IsR0FDaEQxRyxLQUFTaXFCLFFBQVUza0IsSUFLM0IsSUFBYSt4QixHQUlULFNBQVl6K0IsR0FDWm9ILEtBQVNwSCxRQUFVQSxFQUNuQm9ILEtBQVNpcUIsUUFBVSxHQUd2Qm9OLGFBQUlyOEIsZUFBZ0IsT0FBT2dGLEtBQUtpcUIsU0FFaENvTixhQUFJNTJCLGFBQUk2RSxHQUNJdEYsS0FBS2lxQixVQUFZM2tCLElBQ3JCdEYsS0FBU3BILFFBQVF1SCxHQUFHbTNCLFdBQVdoeUIsR0FDL0J0RixLQUFTaXFCLFFBQVUza0IsSUFLM0IsSUFBYWl5QixHQUlULFNBQVkzK0IsR0FDWm9ILEtBQVNwSCxRQUFVQSxFQUNuQm9ILEtBQVNpcUIsUUFBVSxHQUd2QnNOLGFBQUl2OEIsZUFBZ0IsT0FBT2dGLEtBQUtpcUIsU0FFaENzTixhQUFJOTJCLGFBQUk2RSxHQUNJdEYsS0FBS2lxQixVQUFZM2tCLElBQ3JCdEYsS0FBU3BILFFBQVF1SCxHQUFHcTNCLGFBQWFseUIsR0FDakN0RixLQUFTaXFCLFFBQVUza0IsSUFLM0IsSUFBYW15QixHQUlULFNBQVk3K0IsR0FDWm9ILEtBQVNwSCxRQUFVQSxFQUNuQm9ILEtBQVNpcUIsVUFBVyxHQUFNLEdBQU0sR0FBTSxJQUcxQ3dOLGFBQUl6OEIsZUFBdUIsT0FBT2dGLEtBQUtpcUIsU0FFdkN3TixhQUFJaDNCLGFBQUk2RSxHQUNKLElBQVUyeEIsRUFBSWozQixLQUFLaXFCLFFBQ1gza0IsRUFBRSxLQUFPMnhCLEVBQUUsSUFBTTN4QixFQUFFLEtBQU8yeEIsRUFBRSxJQUFNM3hCLEVBQUUsS0FBTzJ4QixFQUFFLElBQU0zeEIsRUFBRSxLQUFPMnhCLEVBQUUsS0FDbEVqM0IsS0FBU3BILFFBQVF1SCxHQUFHdTNCLFVBQVVweUIsRUFBRSxHQUFJQSxFQUFFLEdBQUlBLEVBQUUsR0FBSUEsRUFBRSxJQUNsRHRGLEtBQVNpcUIsUUFBVTNrQixJQUszQixJQUFhcXlCLEdBSVQsU0FBWS8rQixHQUNab0gsS0FBU3BILFFBQVVBLEVBQ25Cb0gsS0FBU2lxQixTQUFVLEdBR3ZCME4sYUFBSTM4QixlQUF1QixPQUFPZ0YsS0FBS2lxQixTQUV2QzBOLGFBQUlsM0IsYUFBSTZFLEdBQ0l0RixLQUFLaXFCLFVBQVkza0IsSUFDckJ0RixLQUFTcEgsUUFBUXVILEdBQUd5M0IsVUFBVXR5QixHQUM5QnRGLEtBQVNpcUIsUUFBVTNrQixJQUszQixJQUFhdXlCLEdBSVQsU0FBWWovQixHQUNab0gsS0FBU3BILFFBQVVBLEVBQ25Cb0gsS0FBU2lxQixRQUFVLEtBR3ZCNE4sYUFBSTc4QixlQUFnQixPQUFPZ0YsS0FBS2lxQixTQUVoQzROLGFBQUlwM0IsYUFBSTZFLEdBQ0l0RixLQUFLaXFCLFVBQVkza0IsSUFDckJ0RixLQUFTcEgsUUFBUXVILEdBQUcyM0IsWUFBWXh5QixHQUNoQ3RGLEtBQVNpcUIsUUFBVTNrQixJQUszQixJQUFheXlCLEdBSVQsU0FBWW4vQixHQUNab0gsS0FBU3BILFFBQVVBLEVBQ25Cb0gsS0FBU2lxQixTQUNMK04sS0FBVXAvQixFQUFRdUgsR0FBRzgzQixPQUNyQjUxQixJQUFTLEVBQ1Qyd0IsS0FBVSxNQUlsQitFLGFBQUkvOEIsZUFBeUIsT0FBT2dGLEtBQUtpcUIsU0FFekM4TixhQUFJdDNCLGFBQUk2RSxHQUNKLElBQVUyeEIsRUFBSWozQixLQUFLaXFCLFFBQ1gza0IsRUFBRTB5QixPQUFTZixFQUFFZSxNQUFRMXlCLEVBQUVqRCxNQUFRNDBCLEVBQUU1MEIsS0FBT2lELEVBQUUwdEIsT0FBU2lFLEVBQUVqRSxPQUN6RGh6QixLQUFTcEgsUUFBUXVILEdBQUcrM0IsWUFBWTV5QixFQUFFMHlCLEtBQU0xeUIsRUFBRWpELElBQUtpRCxFQUFFMHRCLE1BQ2pEaHpCLEtBQVNpcUIsUUFBVTNrQixJQUszQixJQUFhNnlCLEdBSVQsU0FBWXYvQixHQUNab0gsS0FBU3BILFFBQVVBLEVBQ25CLElBQVV1SCxFQUFLSCxLQUFLcEgsUUFBUXVILEdBQzVCSCxLQUFTaXFCLFNBQVc5cEIsRUFBR2k0QixLQUFNajRCLEVBQUdpNEIsS0FBTWo0QixFQUFHaTRCLE9BRzdDRCxhQUFJbjlCLGVBQXVCLE9BQU9nRixLQUFLaXFCLFNBRXZDa08sYUFBSTEzQixhQUFJNkUsR0FDSixJQUFVMnhCLEVBQUlqM0IsS0FBS2lxQixRQUNYM2tCLEVBQUUsS0FBTzJ4QixFQUFFLElBQU0zeEIsRUFBRSxLQUFPMnhCLEVBQUUsSUFBTTN4QixFQUFFLEtBQU8yeEIsRUFBRSxLQUNqRGozQixLQUFTcEgsUUFBUXVILEdBQUdrNEIsVUFBVS95QixFQUFFLEdBQUlBLEVBQUUsR0FBSUEsRUFBRSxJQUM1Q3RGLEtBQVNpcUIsUUFBVTNrQixJQUszQixJQUFhZ3pCLEdBSVQsU0FBWTEvQixHQUNab0gsS0FBU3BILFFBQVVBLEVBQ25Cb0gsS0FBU2lxQixTQUFVLEdBR3ZCcU8sYUFBSXQ5QixlQUFpQixPQUFPZ0YsS0FBS2lxQixTQUVqQ3FPLGFBQUk3M0IsYUFBSTZFLEdBQ0osR0FBUXRGLEtBQUtpcUIsVUFBWTNrQixFQUFHLENBQ3hCLElBQVVuRixFQUFLSCxLQUFLcEgsUUFBUXVILEdBQ3BCbUYsRUFDSm5GLEVBQU9vNEIsT0FBT3A0QixFQUFHcTRCLGNBRWpCcjRCLEVBQU9zNEIsUUFBUXQ0QixFQUFHcTRCLGNBRXRCeDRCLEtBQVNpcUIsUUFBVTNrQixJQUszQixJQUFhb3pCLEdBSVQsU0FBWTkvQixHQUNab0gsS0FBU3BILFFBQVVBLEVBQ25Cb0gsS0FBU2lxQixTQUFXLEVBQUcsSUFHM0J5TyxhQUFJMTlCLGVBQXdCLE9BQU9nRixLQUFLaXFCLFNBRXhDeU8sYUFBSWo0QixhQUFJNkUsR0FDSixJQUFVMnhCLEVBQUlqM0IsS0FBS2lxQixRQUNYM2tCLEVBQUUsS0FBTzJ4QixFQUFFLElBQU0zeEIsRUFBRSxLQUFPMnhCLEVBQUUsS0FDaENqM0IsS0FBU3BILFFBQVF1SCxHQUFHdzRCLFdBQVdyekIsRUFBRSxHQUFJQSxFQUFFLElBQ3ZDdEYsS0FBU2lxQixRQUFVM2tCLElBSzNCLElBQWFzekIsR0FJVCxTQUFZaGdDLEdBQ1pvSCxLQUFTcEgsUUFBVUEsRUFDbkJvSCxLQUFTaXFCLFNBQVUsR0FHdkIyTyxhQUFJNTlCLGVBQWlCLE9BQU9nRixLQUFLaXFCLFNBRWpDMk8sYUFBSW40QixhQUFJNkUsR0FDSixHQUFRdEYsS0FBS2lxQixVQUFZM2tCLEVBQUcsQ0FDeEIsSUFBVW5GLEVBQUtILEtBQUtwSCxRQUFRdUgsR0FDcEJtRixFQUNKbkYsRUFBT280QixPQUFPcDRCLEVBQUcwNEIsWUFFakIxNEIsRUFBT3M0QixRQUFRdDRCLEVBQUcwNEIsWUFFdEI3NEIsS0FBU2lxQixRQUFVM2tCLElBSzNCLElBQWF3ekIsR0FJVCxTQUFZbGdDLEdBQ1pvSCxLQUFTcEgsUUFBVUEsRUFDbkJvSCxLQUFTaXFCLFFBQVVyeEIsRUFBUXVILEdBQUc0NEIsTUFHbENELGFBQUk5OUIsZUFBdUIsT0FBT2dGLEtBQUtpcUIsU0FFdkM2TyxhQUFJcjRCLGFBQUk2RSxHQUNJdEYsS0FBS2lxQixVQUFZM2tCLElBQ3JCdEYsS0FBU3BILFFBQVF1SCxHQUFHNjRCLFVBQVUxekIsR0FDOUJ0RixLQUFTaXFCLFFBQVUza0IsSUFLM0IsSUFBYTJ6QixHQUlULFNBQVlyZ0MsR0FDWm9ILEtBQVNwSCxRQUFVQSxFQUNuQm9ILEtBQVNpcUIsU0FBVSxHQUd2QmdQLGFBQUlqK0IsZUFBaUIsT0FBT2dGLEtBQUtpcUIsU0FFakNnUCxhQUFJeDRCLGFBQUk2RSxHQUNKLEdBQVF0RixLQUFLaXFCLFVBQVkza0IsRUFBRyxDQUN4QixJQUFVbkYsRUFBS0gsS0FBS3BILFFBQVF1SCxHQUNwQm1GLEVBQ0puRixFQUFPbzRCLE9BQU9wNEIsRUFBRys0QixPQUVqQi80QixFQUFPczRCLFFBQVF0NEIsRUFBRys0QixPQUV0Qmw1QixLQUFTaXFCLFFBQVUza0IsSUFLM0IsSUFBYTZ6QixHQUlULFNBQVl2Z0MsR0FDWm9ILEtBQVNwSCxRQUFVQSxFQUNuQixJQUFVdUgsRUFBS0gsS0FBS3BILFFBQVF1SCxHQUM1QkgsS0FBU2lxQixTQUFXOXBCLEVBQUdpNUIsSUFBS2o1QixFQUFHazVCLE9BR25DRixhQUFJbitCLGVBQXVCLE9BQU9nRixLQUFLaXFCLFNBRXZDa1AsYUFBSTE0QixhQUFJNkUsR0FDSixJQUFVMnhCLEVBQUlqM0IsS0FBS2lxQixRQUNYM2tCLEVBQUUsS0FBTzJ4QixFQUFFLElBQU0zeEIsRUFBRSxLQUFPMnhCLEVBQUUsS0FDaENqM0IsS0FBU3BILFFBQVF1SCxHQUFHbTVCLFVBQVVoMEIsRUFBRSxHQUFJQSxFQUFFLElBQ3RDdEYsS0FBU2lxQixRQUFVM2tCLElBSzNCLElBQWFpMEIsR0FJVCxTQUFZM2dDLEdBQ1pvSCxLQUFTcEgsUUFBVUEsRUFDbkJvSCxLQUFTaXFCLFFBQVU4TSxZQUFNQyxhQUc3QnVDLGFBQUl2K0IsZUFBZSxPQUFPZ0YsS0FBS2lxQixTQUUvQnNQLGFBQUk5NEIsYUFBSTZFLEdBQ0osSUFBVTJ4QixFQUFJajNCLEtBQUtpcUIsUUFDWDNrQixFQUFFNHhCLElBQU1ELEVBQUVDLEdBQUs1eEIsRUFBRTZ4QixJQUFNRixFQUFFRSxHQUFLN3hCLEVBQUUrRCxJQUFNNHRCLEVBQUU1dEIsR0FBSy9ELEVBQUVvQixJQUFNdXdCLEVBQUV2d0IsSUFDM0QxRyxLQUFTcEgsUUFBUXVILEdBQUdxNUIsV0FBV2wwQixFQUFFNHhCLEVBQUc1eEIsRUFBRTZ4QixFQUFHN3hCLEVBQUUrRCxFQUFHL0QsRUFBRW9CLEdBQ2hEMUcsS0FBU2lxQixRQUFVM2tCLElBSzNCLElBQWFtMEIsR0FJVCxTQUFZN2dDLEdBQ1pvSCxLQUFTcEgsUUFBVUEsRUFDbkJvSCxLQUFTaXFCLFFBQVUsTUFHdkJ3UCxhQUFJeitCLGVBQXVCLE9BQU9nRixLQUFLaXFCLFNBRXZDd1AsYUFBSWg1QixhQUFJNkUsR0FDSXRGLEtBQUtpcUIsVUFBWTNrQixJQUNyQnRGLEtBQVNwSCxRQUFRdUgsR0FBR3U1QixXQUFXcDBCLEdBQy9CdEYsS0FBU2lxQixRQUFVM2tCLElBSzNCLElBQWFxMEIsR0FJVCxTQUFZL2dDLEdBQ1pvSCxLQUFTcEgsUUFBVUEsRUFDbkJvSCxLQUFTaXFCLFFBQVUsR0FHdkIwUCxhQUFJMytCLGVBQWdCLE9BQU9nRixLQUFLaXFCLFNBRWhDMFAsYUFBSWw1QixhQUFJNkUsR0FDSixJQUFVc0MsRUFBUTVILEtBQUtwSCxRQUFRZ2hDLGVBQ3JCQyxFQUFVNW9CLFFBQU0zTCxFQUFHc0MsRUFBTSxHQUFJQSxFQUFNLElBQ3JDNUgsS0FBS2lxQixVQUFZNFAsSUFDckI3NUIsS0FBU3BILFFBQVF1SCxHQUFHMjVCLFVBQVVELEdBQzlCNzVCLEtBQVNpcUIsUUFBVTNrQixJQUszQixJQUFheTBCLEdBSVQsU0FBWW5oQyxHQUNab0gsS0FBU3BILFFBQVVBLEVBQ25Cb0gsS0FBU2lxQixRQUFVcnhCLEVBQVF1SCxHQUFHNjVCLFVBR2xDRCxhQUFJLytCLGVBQXlCLE9BQU9nRixLQUFLaXFCLFNBRXpDOFAsYUFBSXQ1QixhQUFJNkUsR0FDSXRGLEtBQUtpcUIsVUFBWTNrQixJQUNyQnRGLEtBQVNwSCxRQUFRdUgsR0FBRzg1QixjQUFjMzBCLEdBQ2xDdEYsS0FBU2lxQixRQUFVM2tCLElBSzNCLElBQWE0MEIsR0FJVCxTQUFZdGhDLEdBQ1pvSCxLQUFTcEgsUUFBVUEsRUFDbkIsSUFBVXVILEVBQUtILEtBQUtwSCxRQUFRdUgsR0FDNUJILEtBQVNpcUIsU0FBVyxFQUFHLEVBQUc5cEIsRUFBR2c2QixtQkFBb0JoNkIsRUFBR2k2QixzQkFHeERGLGFBQUlsL0IsZUFBc0IsT0FBT2dGLEtBQUtpcUIsU0FFdENpUSxhQUFJejVCLGFBQUk2RSxHQUNKLElBQVUyeEIsRUFBSWozQixLQUFLaXFCLFFBQ1gza0IsRUFBRSxLQUFPMnhCLEVBQUUsSUFBTTN4QixFQUFFLEtBQU8yeEIsRUFBRSxJQUFNM3hCLEVBQUUsS0FBTzJ4QixFQUFFLElBQU0zeEIsRUFBRSxLQUFPMnhCLEVBQUUsS0FDbEVqM0IsS0FBU3BILFFBQVF1SCxHQUFHazZCLFNBQVMvMEIsRUFBRSxHQUFJQSxFQUFFLEdBQUlBLEVBQUUsR0FBSUEsRUFBRSxJQUNqRHRGLEtBQVNpcUIsUUFBVTNrQixJQUszQixJQUFhZzFCLEdBSVQsU0FBWTFoQyxHQUNab0gsS0FBU3BILFFBQVVBLEVBQ25Cb0gsS0FBU2lxQixRQUFVLE1BR3ZCcVEsYUFBSXQvQixlQUEyQixPQUFPZ0YsS0FBS2lxQixTQUUzQ3FRLGFBQUk3NUIsYUFBSTZFLEdBQ0osR0FBUXRGLEtBQUtpcUIsVUFBWTNrQixFQUFHLENBQ3hCLElBQVVuRixFQUFLSCxLQUFLcEgsUUFBUXVILEdBQzVCQSxFQUFPbzZCLGdCQUFnQnA2QixFQUFHcTZCLFlBQWFsMUIsR0FDdkN0RixLQUFTaXFCLFFBQVUza0IsSUFLM0IsSUFBYW0xQixHQUlULFNBQVk3aEMsR0FDWm9ILEtBQVNwSCxRQUFVQSxFQUNuQm9ILEtBQVNpcUIsUUFBVSxNQUd2QndRLGFBQUl6L0IsZUFBNEIsT0FBT2dGLEtBQUtpcUIsU0FFNUN3USxhQUFJaDZCLGFBQUk2RSxHQUNKLEdBQVF0RixLQUFLaXFCLFVBQVkza0IsRUFBRyxDQUN4QixJQUFVbkYsRUFBS0gsS0FBS3BILFFBQVF1SCxHQUM1QkEsRUFBT3U2QixpQkFBaUJ2NkIsRUFBR3c2QixhQUFjcjFCLEdBQ3pDdEYsS0FBU2lxQixRQUFVM2tCLElBSzNCLElBQWFzMUIsR0FJVCxTQUFZaGlDLEdBQ1pvSCxLQUFTcEgsUUFBVUEsRUFDbkJvSCxLQUFTaXFCLFFBQVUsTUFHdkIyUSxhQUFJNS9CLGVBQXVCLE9BQU9nRixLQUFLaXFCLFNBRXZDMlEsYUFBSW42QixhQUFJNkUsR0FDSixHQUFRdEYsS0FBS2lxQixVQUFZM2tCLEVBQUcsQ0FDeEIsSUFBVW5GLEVBQUtILEtBQUtwSCxRQUFRdUgsR0FDNUJBLEVBQU9HLFlBQVlILEVBQUdJLFdBQVkrRSxHQUNsQ3RGLEtBQVNpcUIsUUFBVTNrQixJQUszQixJQUFhdTFCLEdBSVQsU0FBWWppQyxHQUNab0gsS0FBU3BILFFBQVVBLEVBQ25Cb0gsS0FBU2lxQixRQUFVLE1BR3ZCNFEsYUFBSTcvQixlQUFzQixPQUFPZ0YsS0FBS2lxQixTQUV0QzRRLGFBQUlwNkIsYUFBSTZFLEdBQ0osR0FBUXRGLEtBQUtpcUIsVUFBWTNrQixFQUFHLENBQ3hCLElBQVVuRixFQUFLSCxLQUFLcEgsUUFBUXVILEdBQzVCQSxFQUFPMjZCLFdBQVczNkIsRUFBR28yQixhQUFjanhCLEdBQ25DdEYsS0FBU2lxQixRQUFVM2tCLElBSzNCLElBQWF5MUIsR0FJVCxTQUFZbmlDLEdBQ1pvSCxLQUFTcEgsUUFBVUEsRUFDbkJvSCxLQUFTaXFCLFFBQVUsTUFHdkI4USxhQUFJLy9CLGVBQXNCLE9BQU9nRixLQUFLaXFCLFNBRXRDOFEsYUFBSXQ2QixhQUFJNkUsR0FFSixJQUFVbkYsRUFBS0gsS0FBS3BILFFBQVF1SCxHQUM1QkEsRUFBTzI2QixXQUFXMzZCLEVBQUdrMUIscUJBQXNCL3ZCLEdBQzNDdEYsS0FBU2lxQixRQUFVM2tCLEdBSXZCLElBQWEwMUIsR0FJVCxTQUFZcGlDLEdBQ1pvSCxLQUFTcEgsUUFBVUEsRUFDbkJvSCxLQUFTaXFCLFFBQVUsTUFHdkIrUSxhQUFJaGdDLGVBQWEsT0FBT2dGLEtBQUtpcUIsU0FFN0IrUSxhQUFJdjZCLGFBQUk2RSxHQUNJdEYsS0FBS2lxQixVQUFZM2tCLEdBQUt0RixLQUFLcEgsUUFBUWlnQix1QkFDdkM3WSxLQUFTcEgsUUFBUWlnQixxQkFBcUJFLG1CQUFtQnpULEdBQ3pEdEYsS0FBU2lxQixRQUFVM2tCLElBSzNCLElBQWEyMUIsR0FJVCxTQUFZcmlDLEdBQ1pvSCxLQUFTcEgsUUFBVUEsRUFDbkJvSCxLQUFTaXFCLFFBQVUsR0FHdkJnUixhQUFJamdDLGVBQWdCLE9BQU9nRixLQUFLaXFCLFNBRWhDZ1IsYUFBSXg2QixhQUFJNkUsR0FDSixHQUFRdEYsS0FBS2lxQixVQUFZM2tCLEVBQUcsQ0FDeEIsSUFBVW5GLEVBQUtILEtBQUtwSCxRQUFRdUgsR0FDNUJBLEVBQU8rNkIsWUFBWS82QixFQUFHZzdCLGlCQUFrQjcxQixHQUN4Q3RGLEtBQVNpcUIsUUFBVTNrQixJQUszQixJQUFhODFCLEdBSVQsU0FBWXhpQyxHQUNab0gsS0FBU3BILFFBQVVBLEVBQ25Cb0gsS0FBU2lxQixTQUFVLEdBR3ZCbVIsYUFBSXBnQyxlQUFpQixPQUFPZ0YsS0FBS2lxQixTQUVqQ21SLGFBQUkzNkIsYUFBSTZFLEdBQ0osR0FBUXRGLEtBQUtpcUIsVUFBWTNrQixFQUFHLENBQ3hCLElBQVVuRixFQUFLSCxLQUFLcEgsUUFBUXVILEdBQzVCQSxFQUFPKzZCLFlBQVkvNkIsRUFBR2s3QiwrQkFBaUMvMUIsR0FDdkR0RixLQUFTaXFCLFFBQVUza0IsSUFTM0IsSUFBYWcyQixHQUtULFNBQVkxaUMsRUFBa0IyVSxHQUM5QnZOLEtBQVNwSCxRQUFVQSxFQUNuQm9ILEtBQVNpcUIsUUFBVSxLQUNuQmpxQixLQUFTdU4sT0FBU0EsR0FHdEIrdEIsYUFBSXRnQyxlQUFZLE9BQU9nRixLQUFLaXFCLFNBRzVCLElBQWFzUixlQUdULFdBQVkzaUMsRUFBa0IyVSxHQUMxQnhELFlBQU1uUixFQUFTMlUsR0FDZnZOLEtBQUtrQyxPQUFRLDRHQUdqQnpCLGFBQUk2RSxHQUNBLEdBQUl0RixLQUFLa0MsT0FBU2xDLEtBQUtpcUIsVUFBWTNrQixFQUFHLENBQ2xDM00sSUFBTXdILEVBQUtILEtBQUtwSCxRQUFRdUgsR0FDeEJILEtBQUtwSCxRQUFRMmhDLGdCQUFnQjk1QixJQUFJVCxLQUFLdU4sUUFHdENwTixFQUFHcTdCLHFCQUFxQnI3QixFQUFHcTZCLFlBQWFyNkIsRUFBR3M3QixrQkFBbUJ0N0IsRUFBR0ksV0FBWStFLEVBQUcsR0FDaEZ0RixLQUFLaXFCLFFBQVUza0IsRUFDZnRGLEtBQUtrQyxPQUFRLGdCQUlyQnc1QixvQkFDSTE3QixLQUFLa0MsT0FBUSxNQXJCZ0JvNUIsSUF5QnhCSyw4SkFDVGw3QixhQUFJNkUsR0FDQSxHQUFJdEYsS0FBS2lxQixVQUFZM2tCLEVBQUcsQ0FDcEIzTSxJQUFNd0gsRUFBS0gsS0FBS3BILFFBQVF1SCxHQUN4QkgsS0FBS3BILFFBQVEyaEMsZ0JBQWdCOTVCLElBQUlULEtBQUt1TixRQUd0Q3BOLEVBQUd5N0Isd0JBQXdCejdCLEVBQUdxNkIsWUFBYXI2QixFQUFHMDdCLGlCQUFrQjE3QixFQUFHdzZCLGFBQWNyMUIsR0FDakZ0RixLQUFLaXFCLFFBQVUza0IsT0FSVWcyQixnQkMvbEJyQjFpQyxFQUFrQkUsRUFBZUMsR0FDN0NpSCxLQUFTcEgsUUFBVUEsRUFDbkJvSCxLQUFTbEgsTUFBUUEsRUFDakJrSCxLQUFTakgsT0FBU0EsRUFDbEIsSUFBVW9ILEVBQUt2SCxFQUFRdUgsR0FDYmlXLEVBQU1wVyxLQUFLODdCLFlBQWMzN0IsRUFBRzQ3QixvQkFFdEMvN0IsS0FBU2c4QixnQkFBa0IsSUFBSVQsR0FBZ0IzaUMsRUFBU3dkLEdBQ3hEcFcsS0FBU2k4QixnQkFBa0IsSUFBSU4sR0FBZ0IvaUMsRUFBU3dkLElBRzVEOGxCLGFBQUk1NkIsbUJBQ0EsSUFBVW5CLEVBQUtILEtBQUtwSCxRQUFRdUgsR0FFbEJELEVBQVVGLEtBQUtnOEIsZ0JBQWdCaGhDLE1BQ2pDa0YsR0FBU0MsRUFBR29CLGNBQWNyQixHQUVsQyxJQUFVaThCLEVBQWVuOEIsS0FBS2k4QixnQkFBZ0JqaEMsTUFDdENtaEMsR0FBY2g4QixFQUFHaThCLG1CQUFtQkQsR0FFNUNoOEIsRUFBT2s4QixrQkFBa0JyOEIsS0FBSzg3QixjQzlCbENuakMsSUFFTTJqQyxHQVNGLFNBQVl0RCxFQUEwQnBCLEVBQTBCZSxHQUNoRTM0QixLQUFTZzRCLEtBQU9nQixFQUNoQmg1QixLQUFTZ3pCLEtBQU80RSxFQUNoQjUzQixLQUFTNEgsTUFBUSt3QixHQU1yQjJELEdBQVVDLFVBQVcsRUFDckJELEdBQVVFLFdBQVksRUFFdEJGLEdBQVVHLFNBQVcsSUFBSUgsR0F2QlYsSUF1QjRCQSxHQUFVQyxVQUFXLEVBQUcsSUN2Qm5FNWpDLElBR00rakMsR0FRRixTQUFZcDBCLEVBQW1CakcsRUFBYTJ3QixFQUFjMkosRUFDMURDLEVBQWtDQyxHQUNsQzc4QixLQUFTc0ksS0FBT0EsRUFDaEJ0SSxLQUFTcUMsSUFBTUEsRUFDZnJDLEtBQVNnekIsS0FBT0EsRUFDaEJoekIsS0FBUzI4QixLQUFPQSxFQUNoQjM4QixLQUFTNDhCLFVBQVlBLEVBQ3JCNThCLEtBQVM2OEIsS0FBT0EsR0FNcEJILEdBQVlELFNBQVcsSUFBSUMsSUFBYzFFLEtBeEIxQixJQXdCd0NoRixLQUFNLEdBQUssRUFBRyxFQXZCeEQsS0FBQSxLQUFBLE1DQ2JyNkIsSUFJTW1rQyxHQUtGLFNBQVlDLEVBQThCdkQsRUFBbUJ4RyxHQUM3RGh6QixLQUFTKzhCLGNBQWdCQSxFQUN6Qi84QixLQUFTdzVCLFdBQWFBLEVBQ3RCeDVCLEtBQVNnekIsS0FBT0EsR0FVcEI4SixHQUFVRSxTQXJCRSxFQURDLEdBd0JiRixHQUFVTCxTQUFXLElBQUlLLEdBQVVBLEdBQVVFLFFBQVNqRyxZQUFNQyxjQUFjLEdBQU8sR0FBTyxHQUFPLElBQy9GOEYsR0FBVUcsVUFBWSxJQUFJSCxHQUFVQSxHQUFVRSxRQUFTakcsWUFBTUMsY0FBYyxHQUFNLEdBQU0sR0FBTSxJQUM3RjhGLEdBQVVJLGFBQWUsSUFBSUosSUF6QmpCLEVBQ2dCLEtBd0J1Qy9GLFlBQU1DLGNBQWMsR0FBTSxHQUFNLEdBQU0sSUNMekcsSUFBTW1HLEdBc0NGLFNBQVloOUIsR0FDVkgsS0FBT0csR0FBS0EsRUFDWkgsS0FBTzZZLHFCQUF1QjdZLEtBQUtHLEdBQUdpOUIsYUFBYSwyQkFDbkRwOUIsS0FBTzQ1QixlQUFpQno1QixFQUFHazlCLGFBQWFsOUIsRUFBR205QiwwQkFFM0N0OUIsS0FBT28zQixXQUFhLElBQUlOLEdBQVc5MkIsTUFDbkNBLEtBQU9zM0IsV0FBYSxJQUFJRCxHQUFXcjNCLE1BQ25DQSxLQUFPdzNCLGFBQWUsSUFBSUQsR0FBYXYzQixNQUN2Q0EsS0FBTzAzQixVQUFZLElBQUlELEdBQVV6M0IsTUFDakNBLEtBQU80M0IsVUFBWSxJQUFJRCxHQUFVMzNCLE1BQ2pDQSxLQUFPODNCLFlBQWMsSUFBSUQsR0FBWTczQixNQUNyQ0EsS0FBT2s0QixZQUFjLElBQUlILEdBQVkvM0IsTUFDckNBLEtBQU9xNEIsVUFBWSxJQUFJRixHQUFVbjRCLE1BQ2pDQSxLQUFPdTlCLFlBQWMsSUFBSWpGLEdBQVl0NEIsTUFDckNBLEtBQU8yNEIsV0FBYSxJQUFJRCxHQUFXMTRCLE1BQ25DQSxLQUFPdzlCLFVBQVksSUFBSTVFLEdBQVU1NEIsTUFDakNBLEtBQU9nNUIsVUFBWSxJQUFJRixHQUFVOTRCLE1BQ2pDQSxLQUFPeTlCLE1BQVEsSUFBSXhFLEdBQU1qNUIsTUFDekJBLEtBQU9zNUIsVUFBWSxJQUFJSCxHQUFVbjVCLE1BQ2pDQSxLQUFPdzVCLFdBQWEsSUFBSUQsR0FBV3Y1QixNQUNuQ0EsS0FBT21ZLFFBQVUsSUFBSXNoQixHQUFRejVCLE1BQzdCQSxLQUFPODVCLFVBQVksSUFBSUgsR0FBVTM1QixNQUNqQ0EsS0FBT2k2QixjQUFnQixJQUFJRixHQUFrQi81QixNQUM3Q0EsS0FBT3E2QixTQUFXLElBQUlILEdBQVNsNkIsTUFDL0JBLEtBQU91NkIsZ0JBQWtCLElBQUlELEdBQWdCdDZCLE1BQzdDQSxLQUFPMDZCLGlCQUFtQixJQUFJRCxHQUFpQno2QixNQUMvQ0EsS0FBT00sWUFBYyxJQUFJczZCLEdBQVk1NkIsTUFDckNBLEtBQU9zMkIsaUJBQW1CLElBQUl1RSxHQUFpQjc2QixNQUMvQ0EsS0FBT20xQixrQkFBb0IsSUFBSTRGLEdBQWtCLzZCLE1BQ2pEQSxLQUFPK1ksbUJBQXFCL1ksS0FBSzZZLHNCQUF3QixJQUFJbWlCLEdBQW1CaDdCLE1BQ2hGQSxLQUFPUSxpQkFBbUIsSUFBSXk2QixHQUFpQmo3QixNQUMvQ0EsS0FBT1csaUNBQW1DLElBQUl5NkIsR0FBaUNwN0IsTUFFL0VBLEtBQU82VSw0QkFDSDFVLEVBQUtpOUIsYUFBYSxtQ0FDbEJqOUIsRUFBS2k5QixhQUFhLHVDQUNsQmo5QixFQUFLaTlCLGFBQWEseUNBRWhCcDlCLEtBQUs2VSw4QkFDUDdVLEtBQU9nViwrQkFBaUM3VSxFQUFHazlCLGFBQWFyOUIsS0FBSzZVLDRCQUE0QjZvQixpQ0FHN0YxOUIsS0FBTzI5QixvQkFBc0J4OUIsRUFBR2k5QixhQUFhLDBCQUN2Q3A5QixLQUFLMjlCLHFCQUNQeDlCLEVBQUtpOUIsYUFBYSxrQ0FLMUJELGFBQUVwSiwyQkFBa0JpQixFQUE0Q2hjLEdBQzVELE9BQVMsSUFBSStiLEdBQVkvMEIsS0FBTWcxQixFQUFPaGMsSUFHMUNta0IsYUFBRW5pQiw0QkFBbUJnYSxFQUFvQnYrQixFQUErQ3VpQixHQUNwRixPQUFTLElBQUltZCxHQUFhbjJCLEtBQU1nMUIsRUFBT3YrQixFQUFZdWlCLElBR3ZEbWtCLGFBQUVTLDRCQUFtQkMsRUFBdUIva0MsRUFBZUMsR0FDdkQsSUFBUW9ILEVBQUtILEtBQUtHLEdBRVYyOUIsRUFBTTM5QixFQUFHeTlCLHFCQUtqQixPQUpBNTlCLEtBQU8wNkIsaUJBQWlCajZCLElBQUlxOUIsR0FDNUIzOUIsRUFBSzQ5QixvQkFBb0I1OUIsRUFBR3c2QixhQUFja0QsRUFBZS9rQyxFQUFPQyxHQUNoRWlILEtBQU8wNkIsaUJBQWlCajZCLElBQUksTUFFbkJxOUIsR0FHYlgsYUFBRXBCLDJCQUFrQmpqQyxFQUFlQyxHQUMvQixPQUFTLElBQUltakMsR0FBWWw4QixLQUFNbEgsRUFBT0MsSUFHMUNva0MsYUFBRXRZLGVBQU14aUIsT0FBQ3NILFVBQU9yUyxVQUNKNkksRUFBS0gsS0FBS0csR0FDWjZ5QixFQUFPLEVBRVBycEIsSUFDRnFwQixHQUFVN3lCLEVBQUc2OUIsaUJBQ2JoK0IsS0FBT28zQixXQUFXMzJCLElBQUlrSixHQUN0QjNKLEtBQU8wM0IsVUFBVWozQixNQUFLLEdBQU0sR0FBTSxHQUFNLFVBR3JCLElBQVZuSixJQUNUMDdCLEdBQVU3eUIsRUFBRzg5QixpQkFDYmorQixLQUFPczNCLFdBQVc3MkIsSUFBSW5KLEdBQ3RCMEksS0FBTzQzQixVQUFVbjNCLEtBQUksSUFVekJOLEVBQUswa0IsTUFBTW1PLElBR2ZtSyxhQUFFZSxzQkFBYUMsR0FDTEEsRUFBVW5HLE9BQVNoNEIsS0FBS0csR0FBRzgzQixRQUFXa0csRUFBVW5MLE1BR2xEaHpCLEtBQU93OUIsVUFBVS84QixLQUFJLEdBQ3JCVCxLQUFPZzVCLFVBQVV2NEIsSUFBSTA5QixFQUFVbkcsTUFDL0JoNEIsS0FBTzQzQixVQUFVbjNCLElBQUkwOUIsRUFBVW5MLE1BQy9CaHpCLEtBQU8yNEIsV0FBV2w0QixJQUFJMDlCLEVBQVV2MkIsUUFMaEM1SCxLQUFPdzlCLFVBQVUvOEIsS0FBSSxJQVM3QjA4QixhQUFFaUIsd0JBQWVDLEdBQ1BBLEVBQVkvMUIsS0FBSzB2QixPQUFTaDRCLEtBQUtHLEdBQUc4M0IsUUFBV29HLEVBQVlyTCxNQUczRGh6QixLQUFPdTlCLFlBQVk5OEIsS0FBSSxHQUN2QlQsS0FBTzgzQixZQUFZcjNCLElBQUk0OUIsRUFBWXJMLE1BQ25DaHpCLEtBQU9xNEIsVUFBVTUzQixLQUFLNDlCLEVBQVkxQixLQUFNMEIsRUFBWXpCLFVBQVd5QixFQUFZeEIsT0FDM0U3OEIsS0FBT2s0QixZQUFZejNCLEtBQ2Z1M0IsS0FBUXFHLEVBQVkvMUIsS0FBSzB2QixLQUN6QjMxQixJQUFPZzhCLEVBQVloOEIsSUFDbkIyd0IsS0FBUXFMLEVBQVkvMUIsS0FBSzBxQixRQVI3Qmh6QixLQUFPdTlCLFlBQVk5OEIsS0FBSSxJQWEvQjA4QixhQUFFbUIsc0JBQWFDLEdBQ0x0TCxhQUFVc0wsRUFBVXhCLGNBQWVELEdBQVVFLFNBQy9DaDlCLEtBQU95OUIsTUFBTWg5QixLQUFJLElBRWpCVCxLQUFPeTlCLE1BQU1oOUIsS0FBSSxHQUNqQlQsS0FBT3M1QixVQUFVNzRCLElBQUk4OUIsRUFBVXhCLGVBQy9CLzhCLEtBQU93NUIsV0FBVy80QixJQUFJODlCLEVBQVUvRSxhQUdwQ3g1QixLQUFPMDNCLFVBQVVqM0IsSUFBSTg5QixFQUFVdkwsT0NsS3JDLElBQU13TCxlQXdCRixXQUFZaG1DLEVBQVlqRixFQUE4QitkLGNBQ2xEdkgsYUFDQS9KLEtBQUt4SCxHQUFLQSxFQUNWd0gsS0FBS3NSLFdBQWFBLEVBRWxCdFIsS0FBS3krQixHQUFHLGdCQUFTem9DLEdBSU0sV0FBZkEsRUFBRW1jLFVBQThDLGFBQXJCbmMsRUFBRXljLGlCQUErQnpTLEVBQUswK0IsZUFBZ0IsR0FJakYxK0IsRUFBSzArQixnQkFBa0IxK0IsRUFBSzIrQixTQUEwQixXQUFmM29DLEVBQUVtYyxVQUE4QyxZQUFyQm5jLEVBQUV5YyxpQkFDcEV6UyxFQUFLNCtCLFNBQ0Q1K0IsRUFBS2thLFdBQ0xsYSxFQUFLSyxPQUFPTCxFQUFLa2EsY0FLN0JsYSxLQUFLeStCLEdBQUcsbUJBQ0p6K0IsRUFBSzYrQixnQkFBaUIsSUFHMUI3K0IsS0FBSzgrQixRQUFVQyxHQUFhdm1DLEVBQUlqRixFQUFTK2QsRUFBWXRSLE1BRXJEQSxLQUFLZy9CLFVBQ0xoL0IsS0FBS2kvQixPQUFTLElBQUlDLEdBQU0sRUFBR2wvQixLQUFLbS9CLFlBQVk1cUMsS0FBS3lMLE9BQ2pEQSxLQUFLby9CLFdBQ0xwL0IsS0FBS3EvQixnQkFDTHIvQixLQUFLcy9CLGtCQUFvQixLQUV6QnQvQixLQUFLdS9CLGdCQUFrQnYvQixLQUFLdS9CLGdCQUFnQmhyQyxLQUFLeUwsTUFFakRBLEtBQUt3L0IsMkhBR1Q1c0IsZUFBTTNlLEdBQ0YrTCxLQUFLL0wsSUFBTUEsRUFDWCtMLEtBQUtzL0Isa0JBQW9CcnJDLEVBQU1BLEVBQUlxckMsa0JBQW9CLEtBQ25EdC9CLEtBQUs4K0IsU0FBVzkrQixLQUFLOCtCLFFBQVFsc0IsT0FDN0I1UyxLQUFLOCtCLFFBQVFsc0IsTUFBTTNlLGdCQUkzQnlqQixrQkFBU3pqQixHQUNEK0wsS0FBSzgrQixTQUFXOStCLEtBQUs4K0IsUUFBUXBuQixVQUM3QjFYLEtBQUs4K0IsUUFBUXBuQixTQUFTempCLGdCQVE5QnlOLGtCQUNJLEdBQUkxQixLQUFLNitCLGVBQWtCLE9BQU8sRUFDbEMsSUFBSzcrQixLQUFLMCtCLGNBQWlCLE9BQU8sRUFDbEMsUUFBV3AxQixVQUFVMDFCLE9BQVEsQ0FDekJybUMsSUFBTW1hLE9BQVlrc0IsT0FBTzExQixHQUN6QixHQUFtQixXQUFmd0osRUFBS29CLE9BQXFDLFlBQWZwQixFQUFLb0IsTUFDaEMsT0FBTyxFQUVmLE9BQU8sZUFHWHVyQixxQkFDSSxPQUFPei9CLEtBQUs4K0IscUJBR2hCMWlCLGlCQUNJcGMsS0FBSzIrQixTQUFVLGVBR25CZSxrQkFDSSxHQUFLMS9CLEtBQUsyK0IsUUFBVixDQUNBaG1DLElBQU1nbkMsRUFBZTMvQixLQUFLNC9CLHNCQUMxQjUvQixLQUFLMitCLFNBQVUsRUFDZjMrQixLQUFLNC9CLHVCQUF3QixFQUN6QkQsR0FBYzMvQixLQUFLNCtCLFNBQ25CNStCLEtBQUtrYSxXQUFXbGEsS0FBS0ssT0FBT0wsS0FBS2thLHlCQUd6QzJsQixtQkFBVS9zQixFQUFZelgsR0FDbEIsT0FBTzJFLEtBQUs4K0IsUUFBUWpzQixTQUFTQyxFQUFNelgsZ0JBR3ZDOGpDLHFCQUFZcnNCLEdBQ1IsR0FBSTlTLEtBQUs4K0IsUUFBUTFxQixXQUNiLE9BQU9wVSxLQUFLOCtCLFFBQVExcUIsV0FBV3RCLDZCQUd2Q2d0QixvQkFBV2h0QixHQUNQLEdBQUk5UyxLQUFLOCtCLFFBQVEzcUIsVUFDYixPQUFPblUsS0FBSzgrQixRQUFRM3FCLFVBQVVyQiw2QkFHdEN4SSxxQkFDSSxPQUFPdEssS0FBSzgrQixRQUFReDBCLHlCQUd4QnlRLGlCQUFRbmlCLEdBS0osUUFBVzBCLEtBSk4wRixLQUFLOCtCLFFBQVEvakIsU0FDZC9hLEtBQUs4K0IsUUFBUS9qQixlQUdJaWtCLFlBQ1pBLE9BQU8xa0MsR0FBR3kzQixPQUFPbjVCLGdCQU85Qm1uQyw2QkFVSSxPQUFPdnJDLE9BQU9DLEtBQUt1TCxLQUFLZy9CLFFBQVEvcUMsSUFBSWliLFFBQVFrTyxjQVJwQjRpQixFQUFJQyxHQUN4QnRuQyxJQUFNK04sRUFBSTFHLEVBQUtnL0IsT0FBT2dCLEdBQUlydkIsT0FDcEJ0SCxFQUFJckosRUFBS2cvQixPQUFPaUIsR0FBSXR2QixPQUNwQnV2QixFQUFZLElBQUlua0MsWUFBTTJLLEVBQUVpTSxVQUFVOU8sRUFBRzZDLEVBQUVpTSxVQUFVN08sR0FBSXE4QixPQUFPbmdDLEVBQUtrYSxVQUFVaUosT0FDM0VpZCxFQUFZLElBQUlya0MsWUFBTXNOLEVBQUVzSixVQUFVOU8sRUFBR3dGLEVBQUVzSixVQUFVN08sR0FBSXE4QixPQUFPbmdDLEVBQUtrYSxVQUFVaUosT0FDakYsT0FBT3pjLEVBQUU2TSxZQUFjbEssRUFBRWtLLGFBQWU2c0IsRUFBU3Q4QixFQUFJbzhCLEVBQVNwOEIsR0FBS3M4QixFQUFTdjhCLEVBQUlxOEIsRUFBU3I4QixpQkFNakd3OEIsNEJBQ0ksT0FBT3JnQyxLQUFLKy9CLFNBQVNsc0MsT0FBT21NLEtBQUt1L0IsOEJBR3JDZSw2QkFBb0IzdkIsR0FDaEJoWSxJQUFNNG5DLEVBQWF2Z0MsS0FBS3dnQyxpQkFBaUI3dkIsRUFBUSxNQUNqRCxRQUFJNHZCLEdBQ092Z0MsS0FBS3UvQixnQkFBZ0JnQixFQUFXNXZCLE9BQU8zRSxrQkFLdER1ekIseUJBQWdCL21DLEdBQ1osT0FBT3dILEtBQUtnL0IsT0FBT3htQyxJQUFPd0gsS0FBS2cvQixPQUFPeG1DLEdBQUlxNEIsWUFBYzd3QixLQUFLdy9CLGNBQWNobkMsZ0JBRy9Fb21DLGtCQUNJLEdBQUk1K0IsS0FBSzIrQixRQUNMMytCLEtBQUs0L0IsdUJBQXdCLE9BTWpDLFFBQVd0bEMsS0FGWDBGLEtBQUt5Z0MsbUJBRWdCekIsWUFDWjBCLFlBQVlwbUMsRUFBRywwQkFJNUJvbUMscUJBQVlsb0MsRUFBcUIwYixHQUM3QnZiLElBQU1tYSxFQUFPOVMsS0FBS2cvQixPQUFPeG1DLEdBS3BCc2EsSUFNYyxZQUFmQSxFQUFLb0IsUUFDTHBCLEVBQUtvQixNQUFRQSxHQUdqQmxVLEtBQUs2L0IsVUFBVS9zQixFQUFNOVMsS0FBSzJnQyxZQUFZcHNDLEtBQUt5TCxLQUFNOFMsRUFBTXRhLEVBQUkwYixrQkFHL0R5c0IscUJBQVk3dEIsRUFBWXRhLEVBQXFCb29DLEVBQTBCemxDLEdBQ25FLEdBQUlBLEVBS0EsT0FKQTJYLEVBQUtvQixNQUFRLGVBQ00sTUFBZi9ZLEVBQUkwbEMsT0FBZ0I3Z0MsS0FBSzgrQixRQUFRN3NCLEtBQUssSUFBSU0sYUFBV3BYLFFBQU0yWCxLQUUxRDlTLEtBQUtLLE9BQU9MLEtBQUtrYSxZQUkxQnBILEVBQUs0ZCxVQUFZMXhCLEVBQVF6SCxNQUNILFlBQWxCcXBDLElBQTZCOXRCLEVBQUtndUIseUJBQTBCLEdBQ2hFOWdDLEtBQUsrZ0Msb0JBQW9Cdm9DLEVBQUlzYSxHQUNDLGVBQTFCOVMsS0FBS3kvQixZQUFZOXBDLE1BQXlCbWQsRUFBSzBDLEtBQUt4VixLQUFLZ2hDLGFBQWFsdUIsR0FDMUU5UyxLQUFLOCtCLFFBQVE3c0IsS0FBSyxJQUFJQyxRQUFNLFFBQVNDLFNBQVUsU0FBVVcsS0FBTUEsRUFBTXlDLE1BQU96QyxFQUFLbkMsVUFHN0UzUSxLQUFLL0wsTUFBSytMLEtBQUsvTCxJQUFJOGYsUUFBUWt0QixjQUFjL29CLElBQU0sbUJBT3ZEOG9CLHNCQUFhbHVCLEdBRVQsUUFETW91QixFQUFjbGhDLEtBQUtxZ0MsbUJBQ2hCL2xDLEVBQUksRUFBR0EsRUFBSTRtQyxFQUFZM21DLE9BQVFELElBQUssQ0FDekMzQixJQUFNd29DLEVBQVdELEVBQVk1bUMsR0FDN0IsR0FBSXdZLEVBQUs0QyxrQkFBb0I1QyxFQUFLNEMsaUJBQWlCeXJCLEdBQVcsQ0FDMUR4b0MsSUFBTXlvQyxPQUFrQkMsWUFBWUYsR0FDcENHLEVBQVd4dUIsRUFBTXN1QixHQUNqQkUsRUFBV0YsRUFBWXR1QixJQUkvQixTQUFTd3VCLEVBQVd4dUIsRUFBTXN1QixHQUN0QnR1QixFQUFLMkMsdUJBQXdCLEVBQzdCcGIsSUFBSXluQixFQUFLc2YsRUFBV3p3QixPQUFPZ0MsVUFBVTlPLEVBQUlpUCxFQUFLbkMsT0FBT2dDLFVBQVU5TyxFQUN6RGtlLEVBQUtxZixFQUFXendCLE9BQU9nQyxVQUFVN08sRUFBSWdQLEVBQUtuQyxPQUFPZ0MsVUFBVTdPLEVBQzNEOFIsRUFBTW5RLEtBQUtrQixJQUFJLEVBQUdtTSxFQUFLbkMsT0FBT2dDLFVBQVV0TixHQUN4Qzg3QixFQUFXQyxFQUFXendCLE9BQU8zRSxJQUN4QixJQUFQOFYsR0FBbUIsSUFBUEMsR0FFWnRjLEtBQUtrSCxJQUFJb1YsR0FBTSxJQUdmdGMsS0FBS2tILElBQUltVixHQUFNLElBRVksSUFBdkJyYyxLQUFLa0gsSUFBSW1WLEVBQUtsTSxHQUNka00sR0FBTWxNLEVBQ3dCLElBQXZCblEsS0FBS2tILElBQUltVixFQUFLbE0sS0FDckJrTSxHQUFNbE0sSUFHVHdyQixFQUFXNXJCLEtBQVExQyxFQUFLMEMsTUFDN0IxQyxFQUFLMEMsSUFBSStyQixlQUFlSCxFQUFXNXJCLElBQUtzTSxFQUFJQyxHQUN4Q2pQLEVBQUs0QyxrQkFBb0I1QyxFQUFLNEMsaUJBQWlCeXJCLEtBQy9DcnVCLEVBQUs0QyxpQkFBaUJ5ckIsR0FBVWpyQixZQUFhLG1CQU16RHNyQixpQkFBUTd3QixHQUNKLE9BQU8zUSxLQUFLcWhDLFlBQVkxd0IsRUFBTzNFLGtCQU1uQ3ExQixxQkFBWTdvQyxHQUNSLE9BQU93SCxLQUFLZy9CLE9BQU94bUMsZ0JBTXZCaXBDLGlCQUFRdm5CLEdBQ0osT0FBT0EsRUFBVWxKLEtBQU9rSixFQUFVd25CLFVBQVV4bkIsRUFBVXBiLFNBQVdrQixLQUFLOCtCLFFBQVFoZ0MsdUJBT2xGNmlDLDZCQUFvQmh4QixFQUEwQml4QixFQUF5QkMsT0FDL0RDLEdBQVEsRUFFWixRQUFXdHBDLFVBQVd3bUMsT0FBUSxDQUMxQjNrQyxJQUFJeVksT0FBWWtzQixPQUFPeG1DLEdBR3ZCLEtBQUlxcEMsRUFBT3JwQyxLQUFRc2EsRUFBSytkLFdBQWEvZCxFQUFLbkMsT0FBTzRDLGFBQWU1QyxFQUFPNEMsYUFBZVQsRUFBS25DLE9BQU80QyxZQUFjcXVCLEdBQWhILENBR0FqcEMsSUFBTW9wQyxFQUFLdDhCLEtBQUtrQixJQUFJLEVBQUdtTSxFQUFLbkMsT0FBT2dDLFVBQVV0TixFQUFJc0wsRUFBT2dDLFVBQVV0TixHQUNsRSxHQUFJSSxLQUFLb0MsTUFBTWlMLEVBQUtuQyxPQUFPZ0MsVUFBVTlPLEVBQUlrK0IsS0FBUXB4QixFQUFPZ0MsVUFBVTlPLEdBQzlENEIsS0FBS29DLE1BQU1pTCxFQUFLbkMsT0FBT2dDLFVBQVU3TyxFQUFJaStCLEtBQVFweEIsRUFBT2dDLFVBQVU3TyxFQVFsRSxJQUpBKzlCLEVBQU9ycEMsR0FBTXNhLEVBQUtuQyxPQUNsQm14QixHQUFRLEVBR0RodkIsR0FBUUEsRUFBS25DLE9BQU80QyxZQUFjLEVBQUk1QyxFQUFPNEMsYUFBYSxDQUM3RDVhLElBQU00VSxFQUFTdUYsRUFBS25DLE9BQU9xeEIsU0FBU2x2QixFQUFLbkMsT0FBTzRDLFlBQWMsR0FDOUQsSUFBS2hHLEVBQVEsT0FFYnVGLE9BQVlrc0IsT0FBT3p4QixFQUFPdkIsT0FDZDhHLEVBQUsrZCxtQkFDTmdSLEVBQU9ycEMsR0FDZHFwQyxFQUFPdDBCLEVBQU92QixLQUFPdUIsS0FJakMsT0FBT3UwQixlQU9YdEIsMEJBQWlCN3ZCLEVBQTBCc3hCLEVBQXlCSixHQUNoRSxRQUFTeDhCLEVBQUlzTCxFQUFPNEMsWUFBYyxFQUFHbE8sR0FBSzQ4QixFQUFpQjU4QixJQUFLLENBQzVEMU0sSUFBTTRVLEVBQVNvRCxFQUFPcXhCLFNBQVMzOEIsR0FDL0IsSUFBS2tJLEVBQVEsT0FDYjVVLElBQU1ILEVBQUtnUSxPQUFPK0UsRUFBT3ZCLEtBQ25COEcsT0FBWWtzQixPQUFPeG1DLEdBQ3pCLEdBQUlzYSxHQUFRQSxFQUFLK2QsVUFFYixPQURBZ1IsRUFBT3JwQyxHQUFNK1UsRUFDTnVGLEVBRVgsUUFBU21zQixPQUFPdkssSUFBSWw4QixHQUVoQixPQURBcXBDLEVBQU9ycEMsR0FBTStVLE9BQ0QweEIsT0FBT2prQyxJQUFJeEMsaUJBYW5DMHBDLHlCQUFnQmhvQixHQUNadmhCLElBRU13cEMsR0FGZTE4QixLQUFLc0wsS0FBS21KLEVBQVVwaEIsTUFBUWtILEtBQUs4K0IsUUFBUWhnQyxVQUFZLElBQ3BEMkcsS0FBS3NMLEtBQUttSixFQUFVbmhCLE9BQVNpSCxLQUFLOCtCLFFBQVFoZ0MsVUFBWSxHQUl0RXNqQyxFQUF1QjM4QixLQUFLb0MsTUFGVixFQUVnQnM2QixHQUNsQ0UsRUFBNEMsaUJBQTNCcmlDLEtBQUtzL0Isa0JBQWlDNzVCLEtBQUtvQixJQUFJN0csS0FBS3MvQixrQkFBbUI4QyxHQUF3QkEsRUFFdEhwaUMsS0FBS2kvQixPQUFPbkssV0FBV3VOLGdCQU8zQmhpQyxnQkFBTzZaLGNBRUgsR0FEQWxhLEtBQUtrYSxVQUFZQSxFQUNabGEsS0FBSzArQixnQkFBaUIxK0IsS0FBSzIrQixRQUFoQyxDQU9BdGtDLElBQUlpb0MsRUFMSnRpQyxLQUFLa2lDLGdCQUFnQmhvQixHQUdyQmxhLEtBQUt3L0IsaUJBR0F4L0IsS0FBS29zQixLQUVDcHNCLEtBQUs4K0IsUUFBUW51QixPQUNwQjJ4QixFQUFlcG9CLEVBQVVxb0IsK0JBQWdDdmlDLEtBQUs4K0IsUUFBUW51QixRQUNqRTFjLGFBQUt1dUMsVUFBYyxJQUFJdnNCLG1CQUFpQnVzQixFQUFVN3ZCLFVBQVV0TixFQUFHbTlCLEVBQVV6aEMsS0FBTXloQyxFQUFVN3ZCLFVBQVV0TixFQUFHbTlCLEVBQVU3dkIsVUFBVTlPLEVBQUcyK0IsRUFBVTd2QixVQUFVN08sTUFFdEp3K0IsRUFBZXBvQixFQUFVdW9CLGVBQ3JCM2pDLFNBQVVrQixLQUFLOCtCLFFBQVFoZ0MsU0FDdkJ5UixRQUFTdlEsS0FBSzgrQixRQUFRdnVCLFFBQ3RCQyxRQUFTeFEsS0FBSzgrQixRQUFRdHVCLFFBQ3RCK0QsVUFBV3ZVLEtBQUs4K0IsUUFBUXZxQixVQUN4QjlDLGtCQUFtQnpSLEtBQUs4K0IsUUFBUXJ0QixvQkFHaEN6UixLQUFLOCtCLFFBQVFwc0IsVUFDYjR2QixFQUFlQSxFQUFhenVDLGdCQUFRMGhCLFVBQVd2VixFQUFLOCtCLFFBQVFwc0IsUUFBYzZDLE9BZDlFK3NCLEtBbUJKM3BDLElBb0NJK3BDLEVBcENFMXhCLFFBQWE4dEIsUUFBUXZxQixVQUFZOU8sS0FBS0MsTUFBUUQsS0FBS29DLE9BQU83SCxLQUFLeWhDLFFBQVF2bkIsSUFDdkUrbkIsRUFBa0J4OEIsS0FBS21CLElBQUlvSyxFQUFPd3RCLEVBQVltRSxlQUFnQjNpQyxLQUFLOCtCLFFBQVF2dUIsU0FDM0VxeEIsRUFBa0JuOEIsS0FBS21CLElBQUlvSyxFQUFPd3RCLEVBQVlvRSxnQkFBa0I1aUMsS0FBSzgrQixRQUFRdnVCLFNBSzdFc3hCLEVBQVM3aEMsS0FBSzZpQyxxQkFBcUJQLEVBQWN0eEIsR0FFakQ4eEIsS0FFTixHQUFJQyxHQUFhL2lDLEtBQUs4K0IsUUFBUW5wQyxNQUUxQixJQURBZ0QsSUFBTTJKLEVBQU05TixPQUFPQyxLQUFLb3RDLEdBQ2Y1N0IsRUFBSSxFQUFHQSxFQUFJM0QsRUFBSS9ILE9BQVEwTCxJQUFLLENBQ2pDdE4sSUFBTUgsRUFBSzhKLEVBQUkyRCxHQUNUMEssRUFBU2t4QixFQUFPcnBDLEdBRWhCc2EsRUFBTzlTLEVBQUtnL0IsT0FBT3htQyxHQUN6QixHQUFLc2EsU0FNMkIsSUFBckJBLEVBQUsyZCxhQUErQjNkLEVBQUsyZCxhQUFlenhCLEVBQVF6SCxPQUFPLENBQzFFeUksRUFBSzJoQyxvQkFBb0JoeEIsRUFBUWl4QixFQUFpQkMsS0FDbERBLEVBQU9ycEMsR0FBTW1ZLEdBRWpCaFksSUFBTTRuQyxFQUFhdmdDLEVBQUt3Z0MsaUJBQWlCN3ZCLEVBQVFzeEIsRUFBaUJhLEdBQzlEdkMsR0FDQXZnQyxFQUFLZ2pDLFNBQVN6QyxFQUFXNXZCLFNBT3pDLElBQUsreEIsS0FBZUksRUFDWGpCLEVBQU9hLEtBRVIxaUMsRUFBS3cvQixjQUFja0QsSUFBZSxHQUcxQyxJQUFLQSxLQUFlSSxFQUNoQmpCLEVBQU9hLEdBQWVJLEVBQWlCSixHQUkzQyxJQURBL3BDLElBQU1xRSxFQUFTaW1DLGlCQUFlampDLEtBQUtnL0IsT0FBUTZDLEdBQ2xDdm5DLEVBQUksRUFBR0EsRUFBSTBDLEVBQU96QyxPQUFRRCxJQUMvQjBGLEVBQUtrakMsWUFBWWxtQyxFQUFPMUMsa0JBSWhDdW9DLDhCQUFxQlAsRUFBdUN0eEIsR0FNeEQsUUFMTTZ3QixLQUNBc0IsS0FDQWxCLEVBQWtCeDhCLEtBQUttQixJQUFJb0ssRUFBT3d0QixFQUFZbUUsZUFBZ0IzaUMsS0FBSzgrQixRQUFRdnVCLFNBQzNFcXhCLEVBQWtCbjhCLEtBQUttQixJQUFJb0ssRUFBT3d0QixFQUFZb0UsZ0JBQWtCNWlDLEtBQUs4K0IsUUFBUXZ1QixTQUUxRWpXLEVBQUksRUFBR0EsRUFBSWdvQyxFQUFhL25DLE9BQVFELElBQUssQ0FDMUMzQixJQUFNZ1ksRUFBUzJ4QixFQUFhaG9DLEdBQ3hCd1ksT0FBWWt3QixTQUFTcnlCLEdBQ3JCeXlCLEdBQXFCLEVBQ3pCLEdBQUl0d0IsRUFBSytkLFVBQ0xnUixFQUFPbHhCLEVBQU8zRSxLQUFPMkUsTUFDbEIsQ0FPSHl5QixFQUFxQnR3QixFQUFLNmQsZUFHMUJrUixFQUFPbHhCLEVBQU8zRSxLQUFPMkUsRUFDckJ0VyxJQUFJZ3BDLEdBQVUsRUFFZCxHQURvQnJ5QixFQUFPLE9BQ0o4dEIsUUFBUXR1QixRQUFTLENBRXBDN1gsSUFBTTJxQyxFQUFhM3lCLEVBQU80eUIsY0FBY3pFLFFBQVF0dUIsU0FBUyxHQUNuRGd6QixPQUFpQmhDLFFBQVE4QixHQUN6QkUsR0FBYUEsRUFBVTNTLFVBQ3pCZ1IsRUFBT3lCLEVBQVd0M0IsS0FBT3MzQixFQUV6QkQsR0FBVSxNQUVYLE1BQ0UxQixvQkFBb0JoeEIsRUFBUWl4QixFQUFpQkMsR0FHbEQsSUFEQWxwQyxJQUFNNHFDLEVBQVc1eUIsRUFBTzR5QixjQUFjekUsUUFBUXR1QixTQUNyQ2dtQixFQUFJLEVBQUdBLEVBQUkrTSxFQUFTaHBDLE9BQVFpOEIsSUFDakMsSUFBS3FMLEVBQU8wQixFQUFTL00sR0FBR3hxQixLQUFNLENBQzFCcTNCLEdBQVUsRUFDVixPQUtaLElBQUtBLEVBR0QsSUFBS2hwQyxJQUFJa1osRUFBYzVDLEVBQU80QyxZQUFjLEVBQUdBLEdBQWUwdUIsSUFBbUIxdUIsRUFBYSxDQUUxRjVhLElBQU04cUMsRUFBVzl5QixFQUFPcXhCLFNBQVN6dUIsR0FDakMsR0FBSTR2QixFQUFRTSxFQUFTejNCLEtBRWpCLE1BVUosR0FSSW0zQixFQUFRTSxFQUFTejNCLE1BQU8sSUFHNUI4RyxPQUFZMHVCLFFBQVFpQyxLQUNQTCxJQUNUdHdCLE9BQVlrd0IsU0FBU1MsSUFHckIzd0IsSUFDQSt1QixFQUFPNEIsRUFBU3ozQixLQUFPeTNCLEVBR3ZCTCxFQUFxQnR3QixFQUFLNmQsZUFDdEI3ZCxFQUFLK2QsV0FDTCxRQVF4QixPQUFPZ1IsZUFPWG1CLGtCQUFTcnlCLEdBQ0x0VyxJQUFJeVksRUFBTzlTLEtBQUtnL0IsT0FBT3J1QixFQUFPM0UsS0FDOUIsR0FBSThHLEVBQ0EsT0FBT0EsR0FHWEEsRUFBTzlTLEtBQUtpL0IsT0FBT3BLLGFBQWNsa0IsRUFBTzNFLE9BRWhDaE0sS0FBS3EvQixhQUFhMXVCLEVBQU8zRSxPQUN6QjAzQixhQUFhMWpDLEtBQUtxL0IsYUFBYTF1QixFQUFPM0UsYUFDL0JoTSxLQUFLcS9CLGFBQWExdUIsRUFBTzNFLEtBQ2hDaE0sS0FBSytnQyxvQkFBb0Jwd0IsRUFBTzNFLElBQUs4RyxJQUk3Q25hLElBQU1nckMsRUFBU3hTLFFBQVFyZSxHQU92QixPQU5LNndCLElBQ0Q3d0IsRUFBTyxJQUFJTyxHQUFLMUMsRUFBUTNRLEtBQUs4K0IsUUFBUWhnQyxTQUFXNlIsRUFBT3FDLG1CQUN2RGhULEtBQUs2L0IsVUFBVS9zQixFQUFNOVMsS0FBSzJnQyxZQUFZcHNDLEtBQUt5TCxLQUFNOFMsRUFBTW5DLEVBQU8zRSxJQUFLOEcsRUFBS29CLFNBSXZFcEIsR0FFTEEsRUFBS3FkLE9BQ0xud0IsS0FBS2cvQixPQUFPcnVCLEVBQU8zRSxLQUFPOEcsRUFDckI2d0IsR0FBUTNqQyxLQUFLOCtCLFFBQVE3c0IsS0FBSyxJQUFJQyxRQUFNLGVBQWdCWSxLQUFNQSxFQUFNeUMsTUFBT3pDLEVBQUtuQyxPQUFRd0IsU0FBVSxZQUU1RlcsR0FOWSxrQkFTdkJpdUIsNkJBQW9Cdm9DLEVBQXFCc2EsY0FDakN0YSxLQUFNd0gsS0FBS28vQixVQUNYc0UsYUFBYTFqQyxLQUFLby9CLFFBQVE1bUMsV0FDbkJ3SCxLQUFLby9CLFFBQVE1bUMsSUFHeEJHLElBQU1pckMsRUFBZ0I5d0IsRUFBS3doQixtQkFDdkJzUCxJQUNBNWpDLEtBQUtvL0IsUUFBUTVtQyxHQUFNa0Qsc0JBQ2ZzRSxFQUFLMGdDLFlBQVlsb0MsRUFBSSxrQkFDZHdILEVBQUtvL0IsUUFBUTVtQyxJQUNyQm9yQyxpQkFJWEMsb0NBQTJCcnJDLEVBQXFCc2EsY0FDeEN0YSxLQUFNd0gsS0FBS3EvQixlQUNYcUUsYUFBYTFqQyxLQUFLcS9CLGFBQWE3bUMsV0FDeEJ3SCxLQUFLcS9CLGFBQWE3bUMsSUFHN0JHLElBQU1pckMsRUFBZ0I5d0IsRUFBS3doQixtQkFDdkJzUCxJQUNBNWpDLEtBQUtxL0IsYUFBYTdtQyxHQUFNa0Qsc0JBQ3BCc0UsRUFBS2kvQixPQUFPamlDLE9BQVF4RSxVQUNid0gsRUFBS3EvQixhQUFhN21DLElBQzFCb3JDLGlCQVFYVixxQkFBWTFxQyxHQUNSRyxJQUFNbWEsRUFBTzlTLEtBQUtnL0IsT0FBT3htQyxHQUN6QixHQUFLc2EsSUFHTEEsRUFBS3FkLGNBQ0Vud0IsS0FBS2cvQixPQUFPeG1DLEdBQ2Z3SCxLQUFLby9CLFFBQVE1bUMsS0FDYmtyQyxhQUFhMWpDLEtBQUtvL0IsUUFBUTVtQyxXQUNuQndILEtBQUtvL0IsUUFBUTVtQyxNQUdwQnNhLEVBQUtxZCxLQUFPLElBR2hCLEdBQUlyZCxFQUFLK2QsVUFBVyxDQUNoQi9kLEVBQUtuQyxPQUFTbUMsRUFBS25DLE9BQU84TSxVQUMxQjlrQixJQUFNbXJDLEVBQVloeEIsRUFBS25DLE9BQU8zRSxJQUM5QmhNLEtBQUtpL0IsT0FBTzVWLElBQUt5YSxFQUFpQmh4QixHQUNsQzlTLEtBQUs2akMsMkJBQTJCQyxFQUFXaHhCLFFBRTNDQSxFQUFLWSxTQUFVLEVBQ2YxVCxLQUFLOC9CLFdBQVdodEIsR0FDaEI5UyxLQUFLbS9CLFlBQVlyc0IsZ0JBT3pCaXhCLHNCQUlJLFFBQVd2ckMsS0FIWHdILEtBQUs0L0IsdUJBQXdCLEVBQzdCNS9CLEtBQUsyK0IsU0FBVSxPQUVPSyxZQUNia0UsWUFBWTFxQyxHQUVyQndILEtBQUt5Z0MsMkJBR1RBLHVCQUNJLFFBQVdqb0MsVUFBVzZtQyxhQUNsQnFFLGtCQUFrQnJFLGFBQWE3bUMsSUFFbkN3SCxLQUFLcS9CLGdCQUNMci9CLEtBQUtpL0IsT0FBT3pLLHFCQVNoQnJYLGlCQUFRSCxFQUFrQ0UsR0FVdEMsUUFUTThtQixLQUNBMWhDLEVBQU10QyxLQUFLKy9CLFNBRWJoUixFQUFPMUQsRUFBQUEsRUFDUDJELEVBQU8zRCxFQUFBQSxFQUNQNEQsR0FBUTVELEVBQUFBLEVBQ1I2RCxHQUFRN0QsRUFBQUEsRUFDTmhtQixFQUFJMlgsRUFBYyxHQUFHaE0sS0FFbEIvSyxFQUFJLEVBQUdBLEVBQUkrVyxFQUFjemlCLE9BQVEwTCxJQUFLLENBQzNDdE4sSUFBTWd5QixFQUFJM04sRUFBYy9XLEdBQ3hCOG9CLEVBQU90cEIsS0FBS29CLElBQUlrb0IsRUFBTXBFLEVBQUVwUSxRQUN4QnlVLEVBQU92cEIsS0FBS29CLElBQUltb0IsRUFBTXJFLEVBQUVyZSxLQUN4QjJpQixFQUFPeHBCLEtBQUttQixJQUFJcW9CLEVBQU10RSxFQUFFcFEsUUFDeEIyVSxFQUFPenBCLEtBQUttQixJQUFJc29CLEVBQU12RSxFQUFFcmUsS0FJNUIsSUFBS2pTLElBQUlDLEVBQUksRUFBR0EsRUFBSWdJLEVBQUkvSCxPQUFRRCxJQUFLLENBQ2pDM0IsSUFBTW1hLE9BQVlrc0IsT0FBTzE4QixFQUFJaEksSUFDdkJxVyxFQUFTbUMsRUFBS25DLE9BQ2RRLEVBQVExTCxLQUFLa0IsSUFBSSxPQUFRdVQsVUFBVWxKLEtBQU84QixFQUFLbkMsT0FBTzRDLGFBQ3REOGMsRUFBZW5ULEVBQXNCcEssRUFBS3VkLGFBQWU1WixZQUFTM0QsRUFBS2hVLFNBQVdxUyxFQUVsRjh5QixHQUNGQyxHQUFzQnZ6QixFQUFRLElBQUl3ekIsYUFBV3BWLEVBQU1DLEVBQU0zcEIsSUFDekQ2K0IsR0FBc0J2ekIsRUFBUSxJQUFJd3pCLGFBQVdsVixFQUFNQyxFQUFNN3BCLEtBRzdELEdBQUk0K0IsRUFBZ0IsR0FBR3BnQyxFQUFJd3NCLEVBQWU1WixhQUFVd3RCLEVBQWdCLEdBQUduZ0MsRUFBSXVzQixFQUFlNVosYUFDdEZ3dEIsRUFBZ0IsR0FBR3BnQyxFQUFJd3NCLEdBQWdCLEdBQUs0VCxFQUFnQixHQUFHbmdDLEVBQUl1c0IsR0FBZ0IsRUFBRyxDQUd0RixJQURBMTNCLElBQU15ckMsS0FDRzVOLEVBQUksRUFBR0EsRUFBSXhaLEVBQWN6aUIsT0FBUWk4QixJQUN0QzROLEVBQXVCM25DLEtBQUt5bkMsR0FBc0J2ekIsRUFBUXFNLEVBQWN3WixLQUc1RXdOLEVBQVl2bkMsTUFDUnFXLEtBQU1BLEVBQ05uQyxPQUFRQSxFQUNScU0sZUFBZ0JvbkIsR0FDaEJqekIsTUFBT0EsS0FLbkIsT0FBTzZ5QixlQUdYSyxpQ0FFSSxlQURNQyxFQUFTdGtDLEtBQUtxZ0MsbUJBQW1CcHNDLGFBQUt1RSxVQUFPd0gsRUFBS2cvQixPQUFPeG1DLEdBQUltWSxlQUMvQzJ6QixrQkFBUSxDQUF2QjNyQyxJQUFNNGMsT0FDUEEsRUFBTW1OLFVBQVkxaUIsRUFBS2thLFVBQVV5RCxtQkFBbUJwSSxFQUFNcUksZUFFOUQsT0FBTzBtQixlQUdYdDVCLHlCQUNJLEdBQUloTCxLQUFLOCtCLFFBQVE5ekIsZ0JBQ2IsT0FBTyxFQUdYLEdBQUkrM0IsR0FBYS9pQyxLQUFLOCtCLFFBQVFucEMsTUFDMUIsUUFBVzZDLFVBQVd3bUMsT0FBUSxDQUMxQnJtQyxJQUFNbWEsT0FBWWtzQixPQUFPeG1DLEdBQ3pCLFFBQXlCbkMsSUFBckJ5YyxFQUFLMmQsYUFBNkIzZCxFQUFLMmQsYUFBZXp4QixFQUFRekgsTUFDOUQsT0FBTyxFQUtuQixPQUFPLE1BbHRCV2lVLFdBNnRCMUIsU0FBUzA0QixHQUFzQnZ6QixFQUEwQjRFLEdBQ3JENWMsSUFBTStoQixFQUFjbkYsRUFBTTZFLE9BQU96SixFQUFPZ0MsVUFBVXROLEdBQ2xELE9BQU8sSUFBSXRKLGFBQ04yZSxFQUFZSCxRQUFVNUosRUFBT2dDLFVBQVU5TyxFQUFJOE0sRUFBTzVQLEtBQU8wRSxLQUFLa0IsSUFBSSxFQUFHZ0ssRUFBT2dDLFVBQVV0TixLQUFPb1IsYUFDN0ZpRSxFQUFZcE8sSUFBTXFFLEVBQU9nQyxVQUFVN08sR0FBSzJTLGFBSWpELFNBQVNzc0IsR0FBYXB0QyxHQUNsQixNQUFnQixXQUFUQSxHQUE4QixVQUFUQSxHQUE2QixVQUFUQSwwREFoQnBENm9DLEdBQVltRSxlQUFpQixHQUM3Qm5FLEdBQVlvRSxnQkFBa0IsRUM3dUI5QixJQ1RJMkIsR0RTRUMsR0FJRixXQUNBeGtDLEtBQVN5a0Msb0JFZkpDLEdBQU01UyxFQUFPdmtCLEdBQ2xCNVUsSUFBTXFQLEtBRU4sUUFBVy9CLEtBQUs2ckIsRUFDRixRQUFON3JCLElBQ0ErQixFQUFPL0IsR0FBSzZyQixFQUFNN3JCLElBVTFCLE9BTkEwK0IsYUFBYzd3QyxpQkFBU21TLEdBQ2ZBLEtBQUtzSCxJQUNMdkYsRUFBTy9CLEdBQUtzSCxFQUFPdEgsTUFJcEIrQixFQUdYLFNBZVM0OEIsR0FBWTVULEdBQ2pCQSxFQUFTQSxFQUFPcG1CLFFBR2hCLElBREFqUyxJQUFNMUUsRUFBTU8sT0FBT0UsT0FBTyxNQUNqQjRGLEVBQUksRUFBR0EsRUFBSTAyQixFQUFPejJCLE9BQVFELElBQy9CckcsRUFBSSs4QixFQUFPMTJCLEdBQUc5QixJQUFNdzRCLEVBQU8xMkIsR0FHL0IsSUFBS0QsSUFBSUMsRUFBSSxFQUFHQSxFQUFJMDJCLEVBQU96MkIsT0FBUUQsSUFDM0IsUUFBUzAyQixFQUFPMTJCLEtBQ2hCMDJCLEVBQU8xMkIsR0FBS29xQyxHQUFNMVQsRUFBTzEyQixHQUFJckcsRUFBSSs4QixFQUFPMTJCLEdBQUcrSCxPQUluRCxPQUFPMnVCLEVGN0JYd1QsYUFBSTUyQixpQkFBUWkzQixHQUNSLElBQVM3a0MsS0FBSzJOLFFBQVMsQ0FHbkIsSUFBVW0zQixFQUFjNXRDLEdBQVM0dEMsWUFJakMsSUFEQTlrQyxLQUFTMk4sV0FDRTNOLEtBQUsyTixRQUFRcFQsT0FBU3VxQyxRQUNwQm4zQixRQUFRbFIsS0FBSyxJQUFJc29DLElBS2xDLE9BREEva0MsS0FBU3lrQyxPQUFPSSxJQUFTLEVBQ2Q3a0MsS0FBSzJOLFFBQVEvQyxTQUc1QjQ1QixhQUFJcDJCLGlCQUFReTJCLFVBQ0c3a0MsS0FBS3lrQyxPQUFPSSxHQUNxQixJQUFwQ3J3QyxPQUFPQyxLQUFLdUwsS0FBS3lrQyxRQUFRbHFDLFNBQzdCeUYsS0FBUzJOLFFBQVE3WixpQkFBU3VQLEdBQ3RCQSxFQUFNcE4sY0FFVitKLEtBQVMyTixRQUFXLFdHekN0QnEzQixJQUtGQyxTQUFVLFdBS1ZDLFNBQVUsV0FLVkMsWUFBYSxjQUtiQyxpQkFBa0IsbUJBS2xCQyxrQkFBbUIsb0JBS25CQyxVQUFXLFlBS1hDLFVBQVcsWUFLWEMsYUFBYyxlQUtkQyxxQkFBc0IsdUJBS3RCQyxrQkFBbUIsb0JBS25CQyxpQkFBa0IsbUJBS2xCQyxVQUFXLFlBS1hDLFFBQVMsVUFLVEMsV0FBWSxhQUtaQyxTQUFVLFdBS1ZDLFVBQVcsWUFLWEMsVUFBVyxZQUtYdDdCLGNBQWUsZ0JBS2ZULFNBQVUsWUFJZCxTQUFTcTdCLEdBQVVXLEVBQVVDLEVBQU9DLEdBQ2hDQSxFQUFTM3BDLE1BQU80cEMsUUFBU3JCLEdBQVdPLFVBQVdlLE1BQU9KLEVBQVVDLEVBQU1ELE1BRzFFLFNBQVNWLEdBQWFVLEVBQVVFLEVBQVVHLEdBQ3RDSCxFQUFTM3BDLE1BQU80cEMsUUFBU3JCLEdBQVdRLGFBQWNjLE1BQU9KLEtBQ3pESyxFQUFlTCxJQUFZLEVBRy9CLFNBQVNNLEdBQWFOLEVBQVVDLEVBQU9DLEVBQVVHLEdBQzdDZixHQUFhVSxFQUFVRSxFQUFVRyxHQUNqQ2hCLEdBQVVXLEVBQVVDLEVBQU9DLEdBRy9CLFNBQVNLLEdBQWlCQyxFQUFRUCxFQUFPRCxHQUNyQzdyQyxJQUFJc3NDLEVBQ0osSUFBS0EsS0FBUUQsRUFBT1IsR0FDaEIsR0FBS1EsRUFBT1IsR0FBVVUsZUFBZUQsSUFDeEIsU0FBVEEsSUFBb0JFLGFBQVFILEVBQU9SLEdBQVVTLEdBQU9SLEVBQU1ELEdBQVVTLElBQ3BFLE9BQU8sRUFHZixJQUFLQSxLQUFRUixFQUFNRCxHQUNmLEdBQUtDLEVBQU1ELEdBQVVVLGVBQWVELElBQ3ZCLFNBQVRBLElBQW9CRSxhQUFRSCxFQUFPUixHQUFVUyxHQUFPUixFQUFNRCxHQUFVUyxJQUNwRSxPQUFPLEVBR2YsT0FBTyxFQWlDWCxTQUFTRyxHQUF5QkosRUFBUVAsRUFBT0MsRUFBVVcsRUFBU0MsRUFBT1gsR0FJdkVoc0MsSUFBSXNzQyxFQUVKLElBQUtBLEtBTExELEVBQVNBLE1BQ1RQLEVBQVFBLE1BSUtPLEVBQ0pBLEVBQU9FLGVBQWVELEtBQ3RCRSxhQUFRSCxFQUFPQyxHQUFPUixFQUFNUSxLQUM3QlAsRUFBUzNwQyxNQUFPNHBDLFFBQVNBLEVBQVNDLE1BQU9TLEVBQVNKLEVBQU1SLEVBQU1RLEdBQU9LLE1BRzdFLElBQUtMLEtBQVFSLEVBQ0pBLEVBQU1TLGVBQWVELEtBQVNELEVBQU9FLGVBQWVELEtBQ3BERSxhQUFRSCxFQUFPQyxHQUFPUixFQUFNUSxLQUM3QlAsRUFBUzNwQyxNQUFPNHBDLFFBQVNBLEVBQVNDLE1BQU9TLEVBQVNKLEVBQU1SLEVBQU1RLEdBQU9LLE1BS2pGLFNBQVNDLEdBQVFuVixHQUNiLE9BQU9BLEVBQU10NUIsR0FFakIsU0FBUzB1QyxHQUFVQyxFQUFPclYsR0FFdEIsT0FEQXFWLEVBQU1yVixFQUFNdDVCLElBQU1zNUIsRUFDWHFWLEVBa0lYLFNBQVNDLEdBQVdWLEVBQVFQLEdBQ3hCLElBQUtPLEVBQVEsUUFBVUwsUUFBU3JCLEdBQVdDLFNBQVVxQixNQUFPSCxLQUU1RDlyQyxJQUFJK3JDLEtBRUosSUFFSSxJQUFLUyxhQUFRSCxFQUFPVyxRQUFTbEIsRUFBTWtCLFNBQy9CLFFBQVVoQixRQUFTckIsR0FBV0MsU0FBVXFCLE1BQU9ILEtBRTlDVSxhQUFRSCxFQUFPWSxPQUFRbkIsRUFBTW1CLFNBQzlCbEIsRUFBUzNwQyxNQUFPNHBDLFFBQVNyQixHQUFXWSxVQUFXVSxNQUFPSCxFQUFNbUIsVUFFM0RULGFBQVFILEVBQU8xMUIsS0FBTW0xQixFQUFNbjFCLE9BQzVCbzFCLEVBQVMzcEMsTUFBTzRwQyxRQUFTckIsR0FBV2EsUUFBU1MsTUFBT0gsRUFBTW4xQixRQUV6RDYxQixhQUFRSCxFQUFPYSxRQUFTcEIsRUFBTW9CLFVBQy9CbkIsRUFBUzNwQyxNQUFPNHBDLFFBQVNyQixHQUFXYyxXQUFZUSxNQUFPSCxFQUFNb0IsV0FFNURWLGFBQVFILEVBQU9jLE1BQU9yQixFQUFNcUIsUUFDN0JwQixFQUFTM3BDLE1BQU80cEMsUUFBU3JCLEdBQVdlLFNBQVVPLE1BQU9ILEVBQU1xQixTQUUxRFgsYUFBUUgsRUFBT243QixPQUFRNDZCLEVBQU01NkIsU0FDOUI2NkIsRUFBUzNwQyxNQUFPNHBDLFFBQVNyQixHQUFXZ0IsVUFBV00sTUFBT0gsRUFBTTU2QixVQUUzRHM3QixhQUFRSCxFQUFPdC9CLE9BQVErK0IsRUFBTS8rQixTQUM5QmcvQixFQUFTM3BDLE1BQU80cEMsUUFBU3JCLEdBQVdpQixVQUFXSyxNQUFPSCxFQUFNLytCLFVBRTNEeS9CLGFBQVFILEVBQU9lLFdBQVl0QixFQUFNc0IsYUFDbENyQixFQUFTM3BDLE1BQU80cEMsUUFBU3JCLEdBQVdyNkIsY0FBZTI3QixNQUFPSCxFQUFNc0IsY0FFL0RaLGFBQVFILEVBQU81OUIsTUFBT3E5QixFQUFNcjlCLFFBQzdCczlCLEVBQVMzcEMsTUFBTzRwQyxRQUFTckIsR0FBVzk2QixTQUFVbzhCLE1BQU9ILEVBQU1yOUIsU0FNL0RuUSxJQUFNNHRDLEtBR0FtQixNQWxPZCxTQUFxQmhCLEVBQVFQLEVBQU9DLEVBQVVHLEdBSTFDbHNDLElBQUk2ckMsRUFHSixJQUFLQSxLQU5MUSxFQUFTQSxNQUNUUCxFQUFRQSxNQUtTTyxFQUNSQSxFQUFPRSxlQUFlVixLQUN0QkMsRUFBTVMsZUFBZVYsSUFDdEJWLEdBQWFVLEVBQVVFLEVBQVVHLElBS3pDLElBQUtMLEtBQVlDLEVBQ1JBLEVBQU1TLGVBQWVWLEtBQ3JCUSxFQUFPRSxlQUFlVixHQUVmVyxhQUFRSCxFQUFPUixHQUFXQyxFQUFNRCxNQUNWLFlBQTFCUSxFQUFPUixHQUFVdndDLE1BQStDLFlBQXpCd3dDLEVBQU1ELEdBQVV2d0MsTUFBc0I4d0MsR0FBaUJDLEVBQVFQLEVBQU9ELEdBQzdHRSxFQUFTM3BDLE1BQU80cEMsUUFBU3JCLEdBQVdTLHFCQUFzQmEsTUFBT0osRUFBVUMsRUFBTUQsR0FBVXBsQyxRQUczRjBsQyxHQUFhTixFQUFVQyxFQUFPQyxFQUFVRyxJQU41Q2hCLEdBQVVXLEVBQVVDLEVBQU9DLElBaU4vQnVCLENBQVlqQixFQUFPa0IsUUFBU3pCLEVBQU15QixRQUFTRixFQUEyQm5CLEdBT3RFNXRDLElBQU1rdkMsS0FDRm5CLEVBQU8xVixRQUNQMFYsRUFBTzFWLE9BQU9sOUIsaUJBQVNnK0IsR0FDZnlVLEVBQWV6VSxFQUFNdGUsUUFDckI0eUIsRUFBUzNwQyxNQUFPNHBDLFFBQVNyQixHQUFXRyxZQUFhbUIsTUFBT3hVLEVBQU10NUIsTUFFOURxdkMsRUFBYXByQyxLQUFLcTFCLEtBSTlCc1UsRUFBV0EsRUFBUy9sQixPQUFPcW5CLEdBMUxuQyxTQUFvQmhCLEVBQVFQLEVBQU9DLEdBQy9CTSxFQUFTQSxNQUNUUCxFQUFRQSxNQUdSeHRDLElBYUkyQixFQUFHOEssRUFBRzJoQyxFQUFTZSxFQUFhQyxFQUFZQyxFQUFxQnJCLEVBYjNEc0IsRUFBY3ZCLEVBQU96eUMsSUFBSWd6QyxJQUN6QmlCLEVBQWEvQixFQUFNbHlDLElBQUlnekMsSUFHdkJrQixFQUFjekIsRUFBT3Z5QyxPQUFPK3lDLE9BQzVCa0IsRUFBYWpDLEVBQU1oeUMsT0FBTyt5QyxPQUcxQm1CLEVBQVVKLEVBQVlyOUIsUUFHdEIwOUIsRUFBUTl6QyxPQUFPRSxPQUFPLE1BSzVCLElBQUs0RixFQUFJLEVBQUc4SyxFQUFJLEVBQUc5SyxFQUFJMnRDLEVBQVkxdEMsT0FBUUQsSUFDdkN5c0MsRUFBVWtCLEVBQVkzdEMsR0FDakI4dEMsRUFBV3hCLGVBQWVHLEdBSzNCM2hDLEtBSkFnaEMsRUFBUzNwQyxNQUFPNHBDLFFBQVNyQixHQUFXRyxZQUFhbUIsTUFBT1MsS0FDeERzQixFQUFRMVQsT0FBTzBULEVBQVF0MEMsUUFBUWd6QyxFQUFTM2hDLEdBQUksSUFRcEQsSUFBSzlLLEVBQUksRUFBRzhLLEVBQUksRUFBRzlLLEVBQUk0dEMsRUFBVzN0QyxPQUFRRCxJQUV0Q3lzQyxFQUFVbUIsRUFBV0EsRUFBVzN0QyxPQUFTLEVBQUlELEdBRXpDK3RDLEVBQVFBLEVBQVE5dEMsT0FBUyxFQUFJRCxLQUFPeXNDLElBRXBDb0IsRUFBWXZCLGVBQWVHLElBRTNCWCxFQUFTM3BDLE1BQU80cEMsUUFBU3JCLEdBQVdHLFlBQWFtQixNQUFPUyxLQUN4RHNCLEVBQVExVCxPQUFPMFQsRUFBUXIwQyxZQUFZK3lDLEVBQVNzQixFQUFROXRDLE9BQVM2SyxHQUFJLElBR2pFQSxJQUlKNGlDLEVBQXNCSyxFQUFRQSxFQUFROXRDLE9BQVNELEdBQy9DOHJDLEVBQVMzcEMsTUFBTzRwQyxRQUFTckIsR0FBV0UsU0FBVW9CLE1BQU84QixFQUFXckIsR0FBVWlCLEtBQzFFSyxFQUFRMVQsT0FBTzBULEVBQVE5dEMsT0FBU0QsRUFBRyxFQUFHeXNDLEdBQ3RDdUIsRUFBTXZCLElBQVcsR0FJckIsSUFBS3pzQyxFQUFJLEVBQUdBLEVBQUk0dEMsRUFBVzN0QyxPQUFRRCxJQU0vQixHQUpBd3RDLEVBQWNLLEVBRGRwQixFQUFVbUIsRUFBVzV0QyxJQUVyQnl0QyxFQUFhSyxFQUFXckIsSUFHcEJ1QixFQUFNdkIsS0FBWUYsYUFBUWlCLEVBQWFDLEdBSTNDLEdBQUtsQixhQUFRaUIsRUFBWXQwQixPQUFRdTBCLEVBQVd2MEIsU0FBWXF6QixhQUFRaUIsRUFBWSxnQkFBaUJDLEVBQVcsa0JBQXFCbEIsYUFBUWlCLEVBQVlueUMsS0FBTW95QyxFQUFXcHlDLE1BQWxLLENBb0JBLElBQUtneEMsS0FWTEcsR0FBeUJnQixFQUFZdGxCLE9BQVF1bEIsRUFBV3ZsQixPQUFRNGpCLEVBQVVXLEVBQVMsS0FBTS9CLEdBQVdLLG1CQUNwR3lCLEdBQXlCZ0IsRUFBWVMsTUFBT1IsRUFBV1EsTUFBT25DLEVBQVVXLEVBQVMsS0FBTS9CLEdBQVdJLGtCQUM3RnlCLGFBQVFpQixFQUFZajBDLE9BQVFrMEMsRUFBV2wwQyxTQUN4Q3V5QyxFQUFTM3BDLE1BQU80cEMsUUFBU3JCLEdBQVdNLFVBQVdnQixNQUFPUyxFQUFTZ0IsRUFBV2wwQyxVQUV6RWd6QyxhQUFRaUIsRUFBWXYzQixRQUFTdzNCLEVBQVd4M0IsVUFBYXMyQixhQUFRaUIsRUFBWXQzQixRQUFTdTNCLEVBQVd2M0IsVUFDOUY0MUIsRUFBUzNwQyxNQUFPNHBDLFFBQVNyQixHQUFXVSxrQkFBbUJZLE1BQU9TLEVBQVNnQixFQUFXeDNCLFFBQVN3M0IsRUFBV3YzQixXQUk3RnMzQixFQUNKQSxFQUFZbEIsZUFBZUQsSUFDbkIsV0FBVEEsR0FBOEIsVUFBVEEsR0FBNkIsV0FBVEEsR0FDaEMsYUFBVEEsR0FBZ0MsWUFBVEEsR0FBK0IsWUFBVEEsSUFDbEIsSUFBM0JBLEVBQUs1eUMsUUFBUSxVQUNiK3lDLEdBQXlCZ0IsRUFBWW5CLEdBQU9vQixFQUFXcEIsR0FBT1AsRUFBVVcsRUFBU0osRUFBSy83QixNQUFNLEdBQUlvNkIsR0FBV0ksa0JBQ25HeUIsYUFBUWlCLEVBQVluQixHQUFPb0IsRUFBV3BCLEtBQzlDUCxFQUFTM3BDLE1BQU80cEMsUUFBU3JCLEdBQVdXLGlCQUFrQlcsTUFBT1MsRUFBU0osRUFBTW9CLEVBQVdwQixPQUcvRixJQUFLQSxLQUFRb0IsRUFDSkEsRUFBV25CLGVBQWVELEtBQVNtQixFQUFZbEIsZUFBZUQsSUFDdEQsV0FBVEEsR0FBOEIsVUFBVEEsR0FBNkIsV0FBVEEsR0FDaEMsYUFBVEEsR0FBZ0MsWUFBVEEsR0FBK0IsWUFBVEEsSUFDbEIsSUFBM0JBLEVBQUs1eUMsUUFBUSxVQUNiK3lDLEdBQXlCZ0IsRUFBWW5CLEdBQU9vQixFQUFXcEIsR0FBT1AsRUFBVVcsRUFBU0osRUFBSy83QixNQUFNLEdBQUlvNkIsR0FBV0ksa0JBQ25HeUIsYUFBUWlCLEVBQVluQixHQUFPb0IsRUFBV3BCLEtBQzlDUCxFQUFTM3BDLE1BQU80cEMsUUFBU3JCLEdBQVdXLGlCQUFrQlcsTUFBT1MsRUFBU0osRUFBTW9CLEVBQVdwQixZQXBDM0ZQLEVBQVMzcEMsTUFBTzRwQyxRQUFTckIsR0FBV0csWUFBYW1CLE1BQU9TLEtBR3hEaUIsRUFBc0JLLEVBQVFBLEVBQVFyMEMsWUFBWSt5QyxHQUFXLEdBQzdEWCxFQUFTM3BDLE1BQU80cEMsUUFBU3JCLEdBQVdFLFNBQVVvQixNQUFPeUIsRUFBWUMsS0FzSHJFUSxDQUFXWCxFQUFjMUIsRUFBTW5WLE9BQVFvVixHQUV6QyxNQUFPcHdDLEdBRUx5eUMsUUFBUUMsS0FBSyxnQ0FBaUMxeUMsR0FDOUNvd0MsSUFBY0MsUUFBU3JCLEdBQVdDLFNBQVVxQixNQUFPSCxLQUd2RCxPQUFPQyw0RkM1WFh6dEMsSUFBTTRwQixHQUF5QmhaLFlBQVdpWixPQVdwQ21tQixHQUdGLFNBQVlDLEVBQTBCQyxFQUFtQkMsRUFBaUJDLEdBRXRFL29DLEtBQVNncEMsUUFETEosRUFDZW5qQyxLQUFLbUIsSUFBSSxFQUFHbkIsS0FBS29CLElBQUksRUFBRytoQyxFQUFVSSxTQUFXSixFQUFVRSxPQUFTRCxHQUFhQSxLQUU1RUUsR0FBWUQsRUFBVSxFQUFJLEVBRWxEOW9DLEtBQVM4b0MsT0FBU0EsR0FFdEJILGFBQUlNLG9CQUNBLE9BQTRCLElBQWpCanBDLEtBQUtncEMsVUFBa0JocEMsS0FBSzhvQyxRQUkzQyxJQUFNSSxHQUdGLFNBQVlOLEVBQStCQyxFQUFtQk0sRUFBcUJDLEVBQXFCTCxHQUN4Ry9vQyxLQUFTMmtCLEtBQU8sSUFBSWdrQixHQUFhQyxFQUFZQSxFQUFVamtCLEtBQU8sS0FBTWtrQixFQUFXTSxFQUFZSixHQUMzRi9vQyxLQUFTNGtCLEtBQU8sSUFBSStqQixHQUFhQyxFQUFZQSxFQUFVaGtCLEtBQU8sS0FBTWlrQixFQUFXTyxFQUFZTCxJQUUvRkcsYUFBSUQsb0JBQ0EsT0FBV2pwQyxLQUFLMmtCLEtBQUtza0IsWUFBY2pwQyxLQUFLNGtCLEtBQUtxa0IsWUFJakQsSUFBTUksR0FRRixTQUFZMWtCLEVBQWVDLEVBQWVta0IsR0FDMUMvb0MsS0FBUzJrQixLQUFPQSxFQUNoQjNrQixLQUFTNGtCLEtBQU9BLEVBQ2hCNWtCLEtBQVMrb0MsU0FBV0EsR0FJbEJPLEdBVUYsU0FBWXB2QixFQUFzQnF2QixHQUNsQ3ZwQyxLQUFTa2EsVUFBWUEsRUFBVWpYLFFBQy9CakQsS0FBU2lkLGVBQWlCLElBQUl5TyxHQUFlMXJCLEtBQUtrYSxXQUNsRGxhLEtBQVN3cEMsY0FDVHhwQyxLQUFTeXBDLGFBQ1R6cEMsS0FBUzBwQyxPQUFRLEVBQ2pCMXBDLEtBQVN1cEMsYUFBZUEsR0FzVDVCLFNBQVNJLEdBQXdCQyxFQUE0Q2QsRUFBaUJlLEdBQzFGRCxFQUFxQi91QixZQUFZaXVCLEVBQVMsRUFBSSxFQUFHZSxFQUFVLEVBQUksR0FDL0RELEVBQXFCL3VCLFlBQVlpdUIsRUFBUyxFQUFJLEVBQUdlLEVBQVUsRUFBSSxHQUMvREQsRUFBcUIvdUIsWUFBWWl1QixFQUFTLEVBQUksRUFBR2UsRUFBVSxFQUFJLEdBQy9ERCxFQUFxQi91QixZQUFZaXVCLEVBQVMsRUFBSSxFQUFHZSxFQUFVLEVBQUksR0F2VG5FUCxhQUFJUSx3QkFBZUMsRUFBd0JqM0IsRUFBWVcsRUFBNkJ1MkIsR0FDaEYsSUFBVUMsRUFBaUJuM0IsRUFBSytlLFVBQVVrWSxHQUMxQyxHQUFTRSxFQUFULENBRUEsSUFBVXpuQixFQUFTeW5CLEVBQWFqWixPQUFPLEdBQUd4TyxPQUVoQ3JSLEVBQVExTCxLQUFLa0IsSUFBSSxFQUFHM0csS0FBS2thLFVBQVVsSixLQUFPOEIsRUFBS25DLE9BQU80QyxhQUN0RGlaLEVBQWlCMVosRUFBS2hVLFNBQVcyWCxZQUVqQ2lNLEVBQVkxaUIsS0FBS2thLFVBQVV5RCxtQkFBbUI3SyxFQUFLbkMsT0FBT2lOLGVBRTFEc3NCLEVBQXVCM2YsR0FBK0I3SCxFQUNiLFFBQTNDRixFQUFXeG5CLElBQUksd0JBQytCLFFBQTlDd25CLEVBQVd4bkIsSUFBSSwyQkFDZmdGLEtBQVNrYSxVQUNUMkksR0FBc0IvUCxFQUFNLEVBQUc5UyxLQUFLa2EsVUFBVWxKLE9BRTVDbTVCLEVBQXVCNWYsR0FBK0I3SCxFQUNiLFFBQTNDRixFQUFXeG5CLElBQUksd0JBQytCLFFBQTlDd25CLEVBQVd4bkIsSUFBSSwyQkFDZmdGLEtBQVNrYSxVQUNUMkksR0FBc0IvUCxFQUFNLEVBQUc5UyxLQUFLa2EsVUFBVWxKLE9BRXREaFIsS0FBU29xQyxpQkFBaUJILEVBQWN2bkIsRUFBV3duQixFQUFzQkMsRUFBc0JoNUIsRUFBT3FiLEVBQzlGL1ksRUFBd0J1MkIsRUFBa0JsM0IsRUFBSzZiLGtCQUFtQjdiLEVBQUtuQyxPQUFPM0UsSUFBSys5QixFQUFXdjJCLFVBRzFHODFCLGFBQUljLDBCQUFpQnBtQixFQUFzQnRCLEVBQWlCd25CLEVBQTRCQyxFQUNoRmg1QixFQUFtQnFiLEVBQXdCL1ksRUFBNkJ1MkIsRUFDeEVyYixFQUEyQzBiLEVBQWlCemIsR0FTaEUsUUFQVXBNLEVBQVN3QixFQUFPZ04sT0FBTyxHQUFHeE8sT0FFMUI4bkIsRUFBNkI3bEIsc0JBQStCVCxFQUFPTSxhQUFjdGtCLEtBQUtrYSxVQUFVbEosS0FBTXVSLEdBQXVCaFosV0FBVyxjQUV4SWdoQyxHQUFtQnZtQixFQUFPd21CLGVBQWlCaG9CLEVBQU94bkIsSUFBSSxpQkFDdER5dkMsR0FBbUJ6bUIsRUFBTzBtQixlQUFpQmxvQixFQUFPeG5CLElBQUksdUJBRS9CZ3BCLEVBQU8ybUIsZ0NBQWlCLENBQ3JELElBRFdDLE9BQ1AsSUFBS1osRUFBaUJZLEVBQWVDLGFBQWMsQ0FFbkQsSUFBUUMsT0FBNEN6MEMsSUFBaEN1MEMsRUFBZXRzQixRQUFRcUcsS0FDbkNvbUIsT0FBNEMxMEMsSUFBaEN1MEMsRUFBZXRzQixRQUFRc0csS0FDbkNzSSxHQUFZLEVBRVo4ZCxFQUFtQixLQUNuQkMsRUFBcUIsS0FDckJDLEVBQWtCLEtBRWpCTixFQUFlTyxrQkFDcEJQLEVBQW1CTyxnQkFBa0JubkIsRUFBT29uQiwwQkFDOUJ6YyxFQUNOaWMsRUFBbUJTLGtCQUFtQlQsRUFBZVUsZ0JBQWlCVixFQUFlVyxrQkFBbUJYLEVBQWVZLGtCQUczSFosRUFBZU8sZ0JBQWdCTSxVQUduQ1gsR0FGQUUsT0FBNEIvdEIsZUFBZW9QLGtCQUFrQnVlLEVBQWVPLGdCQUFnQk0sUUFDcEZqcEIsRUFBV3huQixJQUFJLHNCQUF1Qnd4QixFQUFnQjlKLElBQzdCbEMsSUFBSWptQixPQUFTLEVBQzlDMnlCLEVBQWdCQSxHQUFhOGQsRUFBaUI5ZCxXQUVsRCxJQUFVd2UsRUFBY2QsRUFBZU8sZ0JBQWdCTyxZQUN2RCxHQUFRQSxFQUFhLENBQ2pCLElBQVVDLEVBQWUzbkIsRUFBT1csS0FBS0ssa0JBQWtCaHFCLElBQUk0dkMsRUFBZWdCLHdCQUF3QixJQUN4RnRuQyxFQUFXbWdCLHlCQUFrQ1QsRUFBT00sYUFBY2dtQixFQUE0QnFCLEdBQ3hHVixPQUE4Qmh1QixlQUFld1Esc0JBQXNCaWUsRUFDM0RscEIsRUFBV3huQixJQUFJLHNCQUNmbVcsRUFDQXFiLEVBQ0FvZSxFQUFtQjUrQixJQUNuQjIvQixFQUNBM25CLEVBQVdjLGdCQUNYZCxFQUFXc0MsaUJBQ1hoaUIsRUFDQW9lLEVBQ0F3bkIsRUFDQXoyQixFQUMyQyxRQUEzQytPLEVBQVd4bkIsSUFBSSx5QkFLdkI4dkMsRUFBZ0J0b0IsRUFBT3huQixJQUFJLHVCQUF5Qml3QyxFQUFtQjlyQixRQUFRNWtCLE9BQVMsRUFDeEYyeUIsRUFBZ0JBLEdBQWErZCxFQUFtQi9kLFVBRzVDMGQsRUFBZU8sZ0JBQWdCVSxVQUduQ2QsR0FGQUcsT0FBMkJqdUIsZUFBZW9QLGtCQUFrQnVlLEVBQWVPLGdCQUFnQlUsUUFDbkZycEIsRUFBV3huQixJQUFJLHNCQUF1Qnd4QixFQUFnQjlKLElBQzlCbEMsSUFBSWptQixPQUFTLEVBQzdDMnlCLEVBQWdCQSxHQUFhZ2UsRUFBZ0JoZSxXQUl4Q3FkLEdBQW9CRSxFQUViQSxFQUVBRixJQUNaUSxFQUFnQkEsR0FBYUQsR0FGN0JBLEVBQWdCQyxHQUFhRCxFQUY3QkMsRUFBZ0JELEVBQVlDLEdBQWFELEVBT3JDQSxHQUFhRSxRQUNSL3RCLGVBQWU4UyxtQkFBbUJpYixFQUFpQnhxQixJQUFLZ0MsRUFBT3huQixJQUFJLHlCQUNwRXF2QyxFQUFhemIsRUFBVTVLLEVBQU9zTCxpQkFBa0JzYixFQUFlUyxtQkFFbkVOLEdBQWFHLFFBQ1JqdUIsZUFBZThTLG1CQUFtQm1iLEVBQWdCMXFCLElBQUtnQyxFQUFPeG5CLElBQUkseUJBQ25FcXZDLEVBQWF6YixFQUFVNUssRUFBT3NMLGlCQUFrQnNiLEVBQWVXLG1CQUVuRVQsR0FBYUcsUUFDUmh1QixlQUFlaVQsdUJBQXVCK2EsRUFBbUI5ckIsUUFBU3FELEVBQU94bkIsSUFBSSx5QkFDOUVxdkMsRUFBYXpiLEVBQVU1SyxFQUFPc0wsaUJBQWtCc2IsRUFBZVMsd0JBTWxFN0IsV0FBV29CLEVBQWVDLGFBQWUsSUFBSXhCLEdBQWV5QixFQUFXQyxFQUFXN2QsR0FBYWxKLEVBQU80TSxjQUMvR29aLEVBQXFCWSxFQUFlQyxjQUFlLEdBSTNEN21CLEVBQVc0TSxjQUFlLEdBRzlCMFksYUFBSXdDLGdCQUFPQyxFQUEyQngwQyxHQUNsQ3lJLEtBQVNnc0MsV0FBYXowQyxFQUV0QixJQUFRMDBDLEdBQW1CLEVBRWpCcEQsRUFBYWtELEdBQXVDLElBQXRCL3JDLEtBQUt1cEMsbUJBQy9CeUMsV0FBYUQsRUFBY0MsWUFBY2hzQyxLQUFLdXBDLGFBQ3hELEVBRU0yQyxFQUFnQkgsRUFBZ0JBLEVBQWN0QyxhQUd4RCxRQUFlb0IsVUFBb0JyQixXQUFZLENBQzNDLElBQVUyQyxPQUFzQjNDLFdBQVdxQixHQUNqQ3VCLEVBQWNGLEVBQWNyQixHQUM5QnVCLFFBQ0szQyxVQUFVb0IsR0FBZSxJQUFJM0IsR0FBa0JrRCxFQUFhdkQsRUFBV3NELEVBQWV4bkIsS0FBTXduQixFQUFldm5CLE1BQ3BIcW5CLEVBQXVCQSxHQUNuQkUsRUFBbUJ4bkIsT0FBU3luQixFQUFZem5CLEtBQUtta0IsUUFDN0NxRCxFQUFtQnZuQixPQUFTd25CLEVBQVl4bkIsS0FBS2trQixjQUV4Q1csVUFBVW9CLEdBQWUsSUFBSTNCLEdBQWtCLEtBQU1MLEVBQVdzRCxFQUFleG5CLEtBQU13bkIsRUFBZXZuQixLQUFNdW5CLEVBQWVwRCxVQUNsSWtELEVBQXVCQSxHQUFvQkUsRUFBZXhuQixNQUFRd25CLEVBQWV2bkIsTUFLekYsUUFBZWltQixLQUFlcUIsRUFBZSxDQUN6QyxJQUFVRSxFQUFjRixFQUFjckIsR0FDdEMsU0FBY3BCLFVBQVVvQixHQUFjLENBQ2xDLElBQVV3QixFQUFlLElBQUluRCxHQUFrQmtELEVBQWF2RCxHQUFXLEdBQU8sR0FDckV3RCxFQUFhcEQsa0JBQ1RRLFVBQVVvQixHQUFld0IsRUFDbENKLEVBQXVCQSxHQUFvQkcsRUFBWXpuQixLQUFLbWtCLFFBQVVzRCxFQUFZeG5CLEtBQUtra0IsU0FTM0ZtRCxFQUNKanNDLEtBQVNzc0Msd0JBQTBCLzBDLEVBQ2dCLGlCQUFqQ3lJLEtBQUtzc0MsMEJBQ3ZCdHNDLEtBQVNzc0Msd0JBQTBCUCxFQUFnQkEsRUFBY08sd0JBQTBCLzBDLElBSW5HK3hDLGFBQUlpRCw4QkFBcUJ4QyxFQUF3QjcyQixHQUc3QyxRQUZVODJCLFdBRWE5MkIsa0JBQU8sQ0FDMUIsSUFEV0osT0FDRG0zQixFQUFpQm4zQixFQUFLK2UsVUFBVWtZLEdBQ2xDRSxRQUNLdUMsc0JBQXNCdkMsRUFBY0QsRUFBa0JsM0IsRUFBSzZiLHFCQUtoRjJhLGFBQUlrRCwrQkFBc0J4b0IsRUFBc0JnbUIsRUFBa0RyYixHQUN0RjNLLEVBQU93bUIsZUFBZXhtQixFQUFPVyxLQUFLOG5CLG1CQUFtQjVuQixRQUNyRGIsRUFBTzBtQixlQUFlMW1CLEVBQU9ZLEtBQUs2bkIsbUJBQW1CNW5CLFFBQ3JEYixFQUFPMG9CLHVCQUF1QjFvQixFQUFPc0ksYUFBYXNkLHFCQUFxQi9rQixRQUN2RWIsRUFBTzJvQiwwQkFBMEIzb0IsRUFBTzRvQixnQkFBZ0JoRCxxQkFBcUIva0IsUUFRckYsSUFOQSxJQUFVckMsRUFBU3dCLEVBQU9nTixPQUFPLEdBQUd4TyxPQUMxQnFxQixFQUF3QixJQUFJM0QsR0FBa0IsS0FBTSxHQUFHLEdBQU8sR0FBTyxHQUNyRTRELEVBQXNCLElBQUk1RCxHQUFrQixLQUFNLEVBQ3BEMW1CLEVBQVd4bkIsSUFBSSxzQkFDZnduQixFQUFXeG5CLElBQUksdUJBQXVCLEdBRWpDa0wsRUFBSSxFQUFHQSxFQUFJOGQsRUFBTzJtQixnQkFBZ0Jwd0MsT0FBUTJMLElBQUssQ0FDeEQsSUFBVTBrQyxFQUFpQjVtQixFQUFPMm1CLGdCQUFnQnprQyxHQUN4QzZtQyxFQUFjL0MsRUFBaUJZLEVBQWVDLGFBRWhEbUMsT0FBb0J2RCxVQUFVbUIsRUFBZUMsYUFDN0NrQyxFQUNKQyxFQUFtQkgsRUFDUEcsSUFDWkEsRUFBbUJGLE9BRVZyRCxVQUFVbUIsRUFBZUMsYUFBZW1DLEdBR3JEaEQsRUFBcUJZLEVBQWVDLGNBQWUsRUFFbkQsSUFBVW9DLEVBQVVyQyxFQUFlc0MsaUJBQW1CLEdBQUt0QyxFQUFldUMseUJBQTJCLEVBQzNGQyxFQUFVeEMsRUFBZXlDLGdCQUFrQixFQUVyRCxHQUFRSixFQUFTLENBS2IsSUFKQSxJQUFVSyxFQUFnQkMsR0FBWVAsRUFBYXJvQixNQUd6QzZvQixHQUFxQjVDLEVBQWVzQyxpQkFBbUJ0QyxFQUFldUMsMEJBQTRCLEVBQy9GN3lDLEVBQUksRUFBR0EsRUFBSWt6QyxFQUFtQmx6QyxJQUN2QzBwQixFQUFXVyxLQUFLOG5CLG1CQUFtQjV4QixZQUFZeXlCLEdBRW5ELElBQVMsVUFBK0IxQyxFQUFlZ0Isd0NBQXlCLENBQzVFLElBRFc2QixPQUNjenBCLEVBQU9XLEtBQUtLLGtCQUFrQmhxQixJQUFJeXlDLEdBRzFDcm9CLE9BQVU0bkIsRUFBYXJvQixLQUFLc2tCLFlBSXJELEdBQVFtRSxFQUFTLENBRWIsSUFEQSxJQUFVRSxFQUFnQkMsR0FBWVAsRUFBYXBvQixNQUN0Q3RxQixFQUFJLEVBQUdBLEVBQUlzd0MsRUFBZXlDLGdCQUFrQixFQUFHL3lDLElBQ3hEMHBCLEVBQVdZLEtBQUs2bkIsbUJBQW1CNXhCLFlBQVl5eUIsR0FFMUJ0cEIsRUFBT1ksS0FBS0ksa0JBQWtCaHFCLElBQUlrTCxHQUMxQ2tmLE9BQVU0bkIsRUFBYXBvQixLQUFLcWtCLFdBR3hDMkIsRUFBZU8sa0JBQ3BCUCxFQUFtQk8sZ0JBQWtCbm5CLEVBQU9vbkIsMEJBQzlCemMsRUFDTmljLEVBQW1CUyxrQkFBbUJULEVBQWVVLGdCQUFpQlYsRUFBZVcsa0JBQW1CWCxFQUFlWSxrQkFHbkksSUFBVUwsRUFBa0JQLEVBQWVPLGdCQUMzQyxHQUFRQSxFQUFpQixDQUNiQSxFQUFnQk0sU0FBV3puQixFQUFPMG9CLHVCQUN0Qy9DLEdBQTRCM2xCLEVBQU9zSSxhQUFhc2QscUJBQXNCb0QsRUFBYXJvQixLQUFLbWtCLFFBQVEsR0FHNUZxQyxFQUFnQlUsU0FBVzduQixFQUFPMG9CLHVCQUN0Qy9DLEdBQTRCM2xCLEVBQU9zSSxhQUFhc2QscUJBQXNCb0QsRUFBYXBvQixLQUFLa2tCLFFBQVEsR0FHcEcsSUFBVTRDLEVBQWNQLEVBQWdCTyxZQUN4QyxHQUFRQSxHQUFlMW5CLEVBQU8yb0IseUJBQzFCLElBQVN0eUMsSUFBSTRMLEVBQUksRUFBR0EsRUFBSXlsQyxFQUFZbnhDLE9BQVEwTCxHQUFLLEVBQUcsQ0FDaEQsSUFBVTRqQyxFQUFVa0QsR0FBc0MsSUFBdkJyQixFQUFZemxDLEVBQUksR0FDbkQwakMsR0FBNEIzbEIsRUFBTzRvQixnQkFBZ0JoRCxxQkFBc0JvRCxFQUFhcm9CLEtBQUtta0IsT0FBUWUsS0FNbkg3bEIsRUFBVzBwQixhQUFhMXRDLEtBQUtrYSxVQUFVaUosT0FFL0JhLEVBQU93bUIsZUFBaUJ4bUIsRUFBT1csS0FBS2dwQixxQkFDeEMzcEIsRUFBV1csS0FBS2dwQixvQkFBb0JqbkIsV0FBVzFDLEVBQU9XLEtBQUs4bkIsb0JBRXZEem9CLEVBQU8wbUIsZUFBaUIxbUIsRUFBT1ksS0FBSytvQixxQkFDeEMzcEIsRUFBV1ksS0FBSytvQixvQkFBb0JqbkIsV0FBVzFDLEVBQU9ZLEtBQUs2bkIsb0JBRXZEem9CLEVBQU8wb0IsdUJBQXlCMW9CLEVBQU9zSSxhQUFhc2hCLHVCQUN4RDVwQixFQUFXc0ksYUFBYXNoQixzQkFBc0JsbkIsV0FBVzFDLEVBQU9zSSxhQUFhc2Qsc0JBRXpFNWxCLEVBQU8yb0IsMEJBQTRCM29CLEVBQU80b0IsZ0JBQWdCZ0IsdUJBQzlENXBCLEVBQVc0b0IsZ0JBQWdCZ0Isc0JBQXNCbG5CLFdBQVcxQyxFQUFPNG9CLGdCQUFnQmhELHVCQU8zRk4sYUFBSXVFLDBCQUFpQnQyQyxHQUNqQixPQUFpQyxJQUF0QnlJLEtBQUt1cEMsYUFDWixHQUNLaHlDLEVBQU15SSxLQUFLZ3NDLFlBQWNoc0MsS0FBS3VwQyxjQUczQ0QsYUFBSXdFLHdCQUFldjJDLEdBQ2YsT0FBV3lJLEtBQUswcEMsT0FDWm55QyxFQUFVeUksS0FBS3NzQyx3QkFBMEJ0c0MsS0FBS3VwQyxjQUd0REQsYUFBSXlFLHFCQUFZeDJDLEdBQ1osTUFBK0IsY0FBcEJ5SSxLQUFLZ3NDLFlBQ1poc0MsS0FBU2dzQyxXQUFhaHNDLEtBQUt1cEMsYUFBZWh5QyxHQUdsRCt4QyxhQUFJMEUsb0JBQ0FodUMsS0FBUzBwQyxPQUFRLEdBZXJCL3dDLElBQU1zMUMsR0FBVXhvQyxLQUFLa0IsSUFBSSxFQUFHLElBQ3RCdW5DLEdBQVV6b0MsS0FBS2tCLElBQUksRUFBRyxJQUN0QnduQyxHQUFVMW9DLEtBQUtrQixJQUFJLEVBQUcsSUFDdEJ5bkMsR0FBVTNvQyxLQUFLa0IsSUFBSSxFQUFHLElBQ3RCMG5DLEdBQVM1b0MsS0FBS2tCLElBQUksRUFBRyxHQUNyQjJuQyxHQUFTN29DLEtBQUtrQixJQUFJLEVBQUcsR0FDckI0bkMsR0FBUzlvQyxLQUFLa0IsSUFBSSxFQUFHLEdBQzNCLFNBQVM0bUMsR0FBWVAsR0FDakIsR0FBNkIsSUFBekJBLEVBQWFoRSxVQUFrQmdFLEVBQWFsRSxPQUM1QyxPQUFPLEVBQ0osR0FBNkIsSUFBekJrRSxFQUFhaEUsU0FBaUJnRSxFQUFhbEUsT0FDbEQsT0FBTyxXQUVYbndDLElBQU02MUMsRUFBWXhCLEVBQWFsRSxPQUFTLEVBQUksRUFDdEMyRixFQUFjaHBDLEtBQUtvQyxNQUE2QixJQUF2Qm1sQyxFQUFhaEUsU0FDNUMsT0FBT3lGLEVBQWNSLEdBQVVPLEVBQVlOLEdBQ3ZDTyxFQUFjTixHQUFVSyxFQUFZSixHQUNwQ0ssRUFBY0osR0FBU0csRUFBWUYsR0FDbkNHLEVBQWNGLEdBQVNDLEVDdlovQixJQUFNRSxHQUtGLFdBQ0ExdUMsS0FBUzJ1QyxrQkFBb0IsRUFDN0IzdUMsS0FBUzR1QyxzQkFHYkYsYUFBSUcsMkJBQWtCMzdCLEVBQW9CNDdCLEVBQXNCcjdCLEVBQTZCczJCLEVBQXdCZ0YsR0FDakgsS0FBVy91QyxLQUFLMnVDLGtCQUFvQno3QixFQUFNM1ksUUFBUSxDQUM5QyxJQUFVdVksRUFBT0ksT0FBV3k3QixtQkFJNUIsR0FIQUcsRUFBY2hGLGVBQWVDLEVBQVlqM0IsRUFBTVcsT0FBeUJtN0Isd0JBRS9ERCxvQkFDREksSUFDSixPQUFXLElBTXZCLElBQU1DLEdBUUYsU0FBWTkwQixFQUFzQnVhLEVBQzlCd2EsRUFBaUN4N0IsRUFBNkI4MUIsR0FFbEV2cEMsS0FBUzh1QyxVQUFZLElBQUl4RixHQUFVcHZCLEVBQVdxdkIsR0FDOUN2cEMsS0FBU2t2Qyx1QkFBeUJ6YSxFQUFNbDZCLE9BQVMsRUFDakR5RixLQUFTbXZDLG9CQUFzQkYsRUFDL0JqdkMsS0FBU292QyxvQkFBc0IzN0IsRUFDL0J6VCxLQUFTcXZDLE9BQVEsR0FHckJMLGFBQUlNLGtCQUNBLE9BQVd0dkMsS0FBS3F2QyxPQUdwQkwsYUFBSUgsMkJBQWtCcGEsRUFBc0J6RCxFQUFnQ3VlLEdBUXhFLGVBUFVDLEVBQVl4d0MsRUFBUXpILE1BRXBCdzNDLGFBQ04sSUFBVVUsRUFBY3p3QyxFQUFRekgsTUFBUWk0QyxFQUN4QyxPQUFXeHZDLEVBQUttdkMscUJBQThCTSxFQUFjLEdBR3JEenZDLEtBQUtrdkMsd0JBQTBCLEdBQUcsQ0FDekMsSUFDVXBkLEVBQVFkLEVBREV5RCxFQUFNejBCLEVBQUtrdkMseUJBRXJCUSxFQUFnQjF2QyxFQUFLOHVDLFVBQVU3eEIsZUFBZS9DLFVBQVVsSixLQUNsRSxHQUF1QixXQUFmOGdCLEVBQU1uOEIsUUFDSm04QixFQUFNdmhCLFNBQVd1aEIsRUFBTXZoQixTQUFXbS9CLE1BQ2xDNWQsRUFBTXRoQixTQUFXc2hCLEVBQU10aEIsUUFBVWsvQixHQUFnQixDQVF2RCxHQU5TMXZDLEVBQUsydkMsbUJBQ1ZDLEVBQVNELGlCQUFtQixJQUFJakIsSUFHVDF1QyxFQUFLMnZDLGlCQUFpQmQsa0JBQWtCVSxFQUFXemQsRUFBTXRlLFFBQVN4VCxFQUFLOHVDLFVBQVc5dUMsRUFBS292QyxvQkFBcUJ0ZCxFQUFPaWQsR0FNMUksY0FHTy91QyxFQUFLMnZDLGlCQUdwQkMsRUFBU1YseUJBR2JsdkMsS0FBU3F2QyxPQUFRLEdBR3JCTCxhQUFJbEQsZ0JBQU8rRCxFQUErQnQ0QyxHQUV0QyxPQURBeUksS0FBUzh1QyxVQUFVaEQsT0FBTytELEVBQW1CdDRDLEdBQ2xDeUksS0FBSzh1QyxXQ3ZFcEJuMkMsSUFBTW0zQyxHQUFpQixJQUFNcjVCLFlBQVMsRUFFaENzNUIsR0FXRixTQUFZcC9CLEVBQTBCZzZCLEVBQXdDcmIsR0FDOUV0dkIsS0FBUzJRLE9BQVNBLEVBQ2xCM1EsS0FBU2d3QywwQkFDVGh3QyxLQUFTc3ZCLGlCQUFtQkEsRUFFNUIsSUFBUyxVQUF3QnFiLGtCQUFpQixDQUM5QyxJQURXQyxPQUNENStCLEVBQU00K0IsRUFBZTUrQixTQUNqQmdrQyx1QkFBdUJoa0MsVUFDeEJna0MsdUJBQXVCaGtDLFlBSTNCZ2tDLHVCQUF1QmhrQyxHQUFLdlAsTUFDakNvdUMsWUFBaUJELEVBQWVDLFlBQ2hDdDFCLFdBQWdCMDZCLHFCQUFxQnJGLEVBQWdCajZCLE9BV2pFby9CLGFBQUlFLDhCQUFxQnJGLEVBQWdDc0YsR0FDckQsSUFBVUMsRUFBY0QsRUFBWXY5QixVQUFVdE4sRUFBSXJGLEtBQUsyUSxPQUFPZ0MsVUFBVXROLEVBQzlEOEwsRUFBUTIrQixHQUFpQnJxQyxLQUFLa0IsSUFBSSxFQUFHd3BDLEdBQ3JDMW1DLEVBQVNtaEMsRUFBZW5oQyxPQUNsQyxPQUNJNUYsRUFBTzRCLEtBQUtvQyxPQUFPcW9DLEVBQVl2OUIsVUFBVTlPLEVBQUk0UyxZQUFTaE4sRUFBTzVGLEdBQUtzTixHQUNsRXJOLEVBQU8yQixLQUFLb0MsT0FBT3FvQyxFQUFZdjlCLFVBQVU3TyxFQUFJMlMsWUFBU2hOLEVBQU8zRixHQUFLcU4sS0FJMUU0K0IsYUFBSUsscUJBQVl6RixFQUF3QzBGLEVBQTZCQyxHQUdqRixRQUZVejVCLEVBQVk3VyxLQUFLMlEsT0FBT2dDLFVBQVV0TixFQUFJZ3JDLEVBQVUxOUIsVUFBVXROLEVBQUksRUFBSUksS0FBS2tCLElBQUksRUFBRzNHLEtBQUsyUSxPQUFPZ0MsVUFBVXROLEVBQUlnckMsRUFBVTE5QixVQUFVdE4sU0FFckdzbEMsa0JBQWlCLENBQzlDLElBRFdDLE9BQ1AsSUFBSUEsRUFBZUMsWUFBbkIsQ0FLSixJQUFVMEYsT0FBd0JQLHVCQUF1QnBGLEVBQWU1K0IsS0FDeEUsR0FBU3VrQyxFQU9ULElBRkEsSUFBVUMsT0FBeUJQLHFCQUFxQnJGLEVBQWdCeUYsU0FFdkNFLGtCQUFrQixDQUcvQyxJQUhXRSxPQUdQLEdBQUlockMsS0FBS2tILElBQUk4akMsRUFBZWw3QixNQUFNMVIsRUFBSTJzQyxFQUFrQjNzQyxJQUFNZ1QsR0FDOURwUixLQUFTa0gsSUFBSThqQyxFQUFlbDdCLE1BQU16UixFQUFJMHNDLEVBQWtCMXNDLElBQU0rUyxJQUN6RHk1QixFQUFpQkcsRUFBZTVGLGFBQWMsQ0FJbkR5RixFQUFxQkcsRUFBZTVGLGNBQWUsRUFDbkRELEVBQW1CQyxZQUFjNEYsRUFBZTVGLFlBQ2hELFdBT2hCLElBQU02RixHQUVGLFdBQ0Exd0MsS0FBUzJ3QyxlQUFpQixHQUU5QkQsYUFBSUUsb0JBQ0EsUUFBYTV3QyxLQUFLMndDLGdCQUl0QixJQUFNRSxHQUlGLFdBQ0E3d0MsS0FBUzh3QyxXQUNUOXdDLEtBQVMrd0MscUJBR2JGLGFBQUlHLG1CQUFVcmdDLEVBQTBCcVQsRUFBc0JpdEIsR0FDMUQsR0FBUWp4QyxLQUFLOHdDLFFBQVFuZ0MsRUFBTzRDLGNBQ3hCdlQsS0FBUzh3QyxRQUFRbmdDLEVBQU80QyxhQUFhNUMsRUFBTzNFLEtBQU0sQ0FDbEQsR0FBUWhNLEtBQUs4d0MsUUFBUW5nQyxFQUFPNEMsYUFBYTVDLEVBQU8zRSxLQUFLc2pCLG1CQUNqRHRMLEVBQVdzTCxpQkFDWCxPQUFXLEVBT1h0dkIsS0FBU2t4Qyx5QkFBeUJ2Z0MsRUFBTzRDLFlBQ3JDdlQsS0FBUzh3QyxRQUFRbmdDLEVBQU80QyxhQUFhNUMsRUFBTzNFLE1BSXhELElBQVMsVUFBd0JnWSxFQUFPMm1CLGdDQUFpQixNQUNsQ0UsWUFBYyxFQUc1QjdxQyxLQUFLK3dDLGlCQUFpQnBnQyxFQUFPNEMsZUFDbEN2VCxLQUFTK3dDLGlCQUFpQnBnQyxFQUFPNEMsaUJBRXJDLElBQVUrOEIsRUFBbUJ0d0MsS0FBSyt3QyxpQkFBaUJwZ0MsRUFBTzRDLGFBRTFELFFBQWV2QyxVQUFhOC9CLFFBQVMsQ0FDakMsSUFBVUssT0FBbUJMLFFBQVE5L0IsR0FDckMsR0FBUTlCLE9BQU84QixHQUFRTCxFQUFPNEMsWUFDMUIsUUFBZS9hLEtBQU0yNEMsRUFBYSxDQUM5QixJQUFVQyxFQUFhRCxFQUFZMzRDLEdBQzNCNDRDLEVBQVd6Z0MsT0FBTzBnQyxVQUFVMWdDLElBQ2hDeWdDLEVBQWVoQixZQUFZcHNCLEVBQU8ybUIsZ0JBQWlCaDZCLEVBQVEyL0IsT0FHNUQsQ0FDUCxJQUNVZ0IsRUFBY0gsRUFEQXhnQyxFQUFPcXhCLFNBQVM5eUIsT0FBTzhCLElBQ0NoRixLQUN4Q3NsQyxHQUNKQSxFQUFnQmxCLFlBQVlwc0IsRUFBTzJtQixnQkFBaUJoNkIsRUFBUTIvQixJQUt4RSxJQUFTLFVBQXdCdHNCLEVBQU8ybUIsZ0NBQWlCLENBQ3JELElBRFdDLE9BQ0ZBLEVBQWVDLGNBRXBCMEcsRUFBbUIxRyxZQUFjb0csRUFBYUwsV0FDOUNOLEVBQXFCMUYsRUFBZUMsY0FBZSxHQVMzRCxZQUw2Q3gwQyxJQUFyQzJKLEtBQUs4d0MsUUFBUW5nQyxFQUFPNEMsZUFDeEJ2VCxLQUFTOHdDLFFBQVFuZ0MsRUFBTzRDLGlCQUU1QnZULEtBQVM4d0MsUUFBUW5nQyxFQUFPNEMsYUFBYTVDLEVBQU8zRSxLQUFPLElBQUkrakMsR0FBZXAvQixFQUFRcVQsRUFBTzJtQixnQkFBaUIzbUIsRUFBT3NMLG1CQUVsRyxHQUdmdWhCLGFBQUlLLGtDQUF5QmxnQyxFQUF1QndnQyxHQUNoRCxRQUFleGxDLEtBQU93bEMsRUFBY3hCLHVCQUNoQyxJQUFTLFVBQXdCd0IsRUFBY3hCLHVCQUF1QmhrQyxtQkFBTSxDQUN4RSxJQURXNCtCLG1CQUNLbUcsaUJBQWlCLy9CLEdBQU00NUIsRUFBZUMsZUFLbEVnRyxhQUFJWSw0QkFBbUJDLE9BQ1hDLEdBQWUsRUFDdkIsUUFBZXRzQyxVQUFVeXJDLFFBQVMsQ0FDOUIsSUFBVUssT0FBbUJMLFFBQVF6ckMsR0FDckMsUUFBZWdsQyxLQUFXOEcsRUFDYk8sRUFBV1AsRUFBWTlHLEdBQVMvYSx5QkFDNUI0aEIseUJBQXlCN3JDLEVBQUc4ckMsRUFBWTlHLFdBQ3RDOEcsRUFBWTlHLEdBQ3ZCc0gsR0FBbUIsR0FJL0IsT0FBV0EsR0FJZixJQUFNQyxHQUtGLFdBQ0E1eEMsS0FBUzZ4QyxnQkFDVDd4QyxLQUFTaXhDLGFBQWUsSUFBSVAsR0FDNUIxd0MsS0FBUzh4QyxvQkFBc0IsR0FHbkNGLGFBQUkxTSxrQkFBUzZFLEVBQXdCNzJCLE9BQ3pCNitCLEVBQWEveEMsS0FBSzZ4QyxhQUFhOUgsRUFBV3Z4QyxTQUMzQm5DLElBQWYwN0MsSUFDSkEsRUFBaUIveEMsS0FBSzZ4QyxhQUFhOUgsRUFBV3Z4QyxJQUFNLElBQUlxNEMsSUFNNUQsSUFIQSxJQUFRbUIsR0FBdUIsRUFDckJDLFdBRWEvK0Isa0JBQU8sQ0FDMUIsSUFEV0osT0FDRG0zQixFQUFpQm4zQixFQUFLK2UsVUFBVWtZLEdBQ2pDRSxJQUVBQSxFQUFhM2EsbUJBQ2xCMmEsRUFBaUIzYSx3QkFBMEJ3aUIscUJBR3ZDQyxFQUFXZixVQUFVbCtCLEVBQUtuQyxPQUFRczVCLE9BQW1CZ0gsZ0JBQ3pEZSxHQUEyQixHQUUvQkMsRUFBcUJoSSxFQUFhM2EsbUJBQW9CLEdBTzFELE9BSlF5aUIsRUFBV04sbUJBQW1CUSxLQUNsQ0QsR0FBMkIsR0FHcEJBLEdBR2ZKLGFBQUlNLDJCQUFrQkMsT0FDUkMsS0FJVixRQUFlckwsS0FIZm9MLEVBQWVyK0MsaUJBQVN1K0MsR0FDcEJELEVBQWlCQyxJQUFhLFNBRUhSLGFBQ2xCTyxFQUFhckwsZ0JBQ0Y4SyxhQUFhOUssSUNwTnpDcHVDLElBQU0yNUMsR0FBMEIzZ0MsT0FBSzRnQyxJQUNqQyxXQUNBLGNBQ0EsbUJBQ0Esb0JBQ0EsWUFDQSxZQUNBLGVBQ0Esb0JBQ0EsV0FDQSxnQkFDQSx5QkFLRUMsR0FBd0I3Z0MsT0FBSzRnQyxJQUMvQixZQUNBLFVBQ0EsYUFDQSxhQVdFRSxlQWdDRixXQUFZeCtDLEVBQVVWLGlDQUNsQndXLGFBRUEvSixLQUFLL0wsSUFBTUEsRUFDWCtMLEtBQUtzUixXQUFhLElBQUlqRSxHTnJHckJrM0IsS0FDREEsR0FBbUIsSUFBSUMsSUFFcEJELElNa0crQ3ZrQyxNQUNsREEsS0FBSzB5QyxhQUFlLElBQUlseEMsRUFDeEJ4QixLQUFLMnlDLGFBQWUsSUFBSTdyQyxFQUFhN1MsRUFBSW9lLGtCQUFtQjllLEVBQVF5VCwwQkFDcEVoSCxLQUFLNHlDLFVBQVksSUFBSW5uQyxFQUFVLElBQUssS0FDcEN6TCxLQUFLNnlDLHFCQUF1QixJQUFJakIsR0FFaEM1eEMsS0FBSzh5QyxXQUNMOXlDLEtBQUsreUMsVUFDTC95QyxLQUFLZ3pDLGdCQUNMaHpDLEtBQUtpekMsWUFBYyxJQUFJQyxhQUN2Qmx6QyxLQUFLd1UsU0FBVSxFQUVmeFUsS0FBS216QyxnQkFFTHg2QyxJQUFNeTZDLEVBQU9wekMsS0FDYkEsS0FBS3F6Qyx1QkFBeUJaLEVBQU1hLHVDQUErQmhOLEdBRS9ELFFBQVc5dEMsS0FEWDQ2QyxFQUFLOWhDLFdBQVd2RCxVQUFVLG9CQUFxQnU0QixFQUFLaU4sVUFBV2pOLEVBQUtrTixlQUNuREosRUFBS0osYUFDbEJJLEVBQUtKLGFBQWF4NkMsR0FBSW9tQyxXQUk5QjUrQixLQUFLeStCLEdBQUcsZ0JBQVNnVixHQUNiLEdBQXVCLFdBQW5CQSxFQUFNdGhDLFVBQWtELGFBQXpCc2hDLEVBQU1oaEMsZUFBekMsQ0FJQTlaLElBQU1ta0IsRUFBYzljLEVBQUtnekMsYUFBYVMsRUFBTXZOLFVBQzVDLEdBQUtwcEIsRUFBTCxDQUlBbmtCLElBQU02YSxFQUFTc0osRUFBWTJpQixZQUMzQixHQUFLanNCLEdBQVdBLEVBQU9rZ0MsZUFJdkIsUUFBVzNNLEtBQVcvbUMsRUFBSzh5QyxRQUFTLENBQ2hDbjZDLElBQU1tNUIsRUFBUTl4QixFQUFLOHlDLFFBQVEvTCxHQUN2QmpWLEVBQU10ZSxTQUFXQSxFQUFPaGIsSUFDeEJ3SCxFQUFLMnpDLGVBQWU3aEIsa0hBTXBDOGhCLGlCQUFReDFDLEVBQWE3SyxpQ0FJakJ5TSxLQUFLaVMsS0FBSyxJQUFJQyxRQUFNLGVBQWdCQyxTQUFVLFdBRTlDeFosSUFBTXVTLEVBQXVDLGtCQUFyQjNYLEVBQVEyWCxTQUM1QjNYLEVBQVEyWCxVQUFZL00sRUFBWUMsR0FFcENBLEU1QzlIeUIsU0FBU0EsRUFBYVQsR0FDbkQsSUFBS1EsRUFBWUMsR0FBTSxPQUFPQSxFQUM5QnpGLElBQU0rRSxFQUFZRyxFQUFTTyxHQUUzQixPQURBVixFQUFVTSxLQUFPLGFBQWFOLEVBQVVNLEtBQ2pDUCxFQUFXQyxFQUFXQyxHNEMwSG5CazJDLENBQWtCejFDLEVBQUs3SyxFQUFRb0ssYUFDckNoRixJQUFNd2EsRUFBVW5ULEtBQUsvTCxJQUFJb2Usa0JBQWtCalUsRUFBS2dWLGVBQWFxL0IsT0FFN0RxQixVQUFRM2dDLFdBQVU0Z0MsRUFBT0MsR0FDakJELEVBQ0EvekMsRUFBS2lTLEtBQUssSUFBSU0sYUFBV3doQyxJQUNsQkMsR0FDUGgwQyxFQUFLaTBDLE1BQU9ELEVBQVk5b0Msa0JBS3BDZ3BDLGtCQUFTRixFQUEwQnpnRCxpQ0FHL0J5TSxLQUFLaVMsS0FBSyxJQUFJQyxRQUFNLGVBQWdCQyxTQUFVLFdBRTlDblQsRUFBUTNHLGlCQUNKMkgsRUFBS2kwQyxNQUFNRCxHQUEyQixJQUFyQnpnRCxFQUFRMlgseUJBSWpDK29DLGVBQU1ELEVBQTBCOW9DLGNBQzVCLElBQUlBLElBQVlDLHVCQUFxQm5MLEtBQU1xTCxnQkFBYzJvQyxJQUF6RCxDQU9BLFFBQVd4N0MsS0FIWHdILEtBQUt3VSxTQUFVLEVBQ2Z4VSxLQUFLbTBDLFdBQWFILEVBRURBLEVBQUtwTSxRQUNsQjVuQyxFQUFLdWxDLFVBQVUvc0MsRUFBSXc3QyxFQUFLcE0sUUFBUXB2QyxJQUFNMFMsVUFBVSxJQUdoRDhvQyxFQUFLem9DLG9oQkFDTDZvQyxDQUFXSixFQUFLem9DLE9BQVF2TCxLQUFLL0wsSUFBSW9lLDJCQUFvQmxYLEVBQUtzRyxHQUN0RCxHQUFJdEcsRUFDQTZFLEVBQUtpUyxLQUFLLElBQUlNLGFBQVdwWCxTQUN0QixHQUFJc0csRUFDUCxRQUFXakosS0FBTWlKLEVBQ2J6QixFQUFLMHlDLGFBQWFqd0MsU0FBU2pLLEVBQUlpSixFQUFPakosSUFJOUN3SCxFQUFLMHlDLGFBQWF0d0MsV0FBVSxHQUM1QnBDLEVBQUtpUyxLQUFLLElBQUlDLFFBQU0sUUFBU0MsU0FBVSxhQUczQ25TLEtBQUsweUMsYUFBYXR3QyxXQUFVLEdBR2hDcEMsS0FBSzJ5QyxhQUFhenJDLE9BQU84c0MsRUFBSzVzQyxRQUU5QnpPLElBQU1xNEIsRUFBUzBULEdBQU0xa0MsS0FBS20wQyxXQUFXbmpCLFFBRXJDaHhCLEtBQUsreUMsT0FBUy9oQixFQUFPLzhCLGFBQUs2OUIsVUFBVUEsRUFBTXQ1QixLQUUxQ3dILEtBQUs4eUMsV0FDTCxJQUFLLFVBQWE5aEIsa0JBQVEsQ0FBckIzMkIsSUFBSXkzQixRQUNMQSxFQUFRdWlCLGFBQWlCdmlCLElBQ25CL2YsaUJBQWlCL1IsR0FBTzh4QixPQUFRdDVCLEdBQUlzNUIsRUFBTXQ1QixNQUNoRHdILEVBQUs4eUMsUUFBUWhoQixFQUFNdDVCLElBQU1zNUIsRUFHN0I5eEIsS0FBS3NSLFdBQVd2RCxVQUFVLFlBQWEvTixLQUFLczBDLGlCQUFpQnQwQyxLQUFLK3lDLFNBRWxFL3lDLEtBQUs4SSxNQUFRLElBQUllLEVBQU03SixLQUFLbTBDLFdBQVdyckMsT0FFdkM5SSxLQUFLaVMsS0FBSyxJQUFJQyxRQUFNLFFBQVNDLFNBQVUsV0FDdkNuUyxLQUFLaVMsS0FBSyxJQUFJQyxRQUFNLDZCQUd4QnloQyx3QkFBZTdoQixHQUNYbjVCLElBQU1ta0IsRUFBYzljLEtBQUtnekMsYUFBYWxoQixFQUFNdGUsUUFDNUMsR0FBS3NKLEVBQUwsQ0FJQW5rQixJQUFNKzJCLEVBQWNvQyxFQUFNcEMsWUFDMUIsR0FBS0EsRUFBTCxDQUlBLzJCLElBQU02YSxFQUFTc0osRUFBWTJpQixhQUNQLFlBQWhCanNCLEVBQU83ZCxNQUF1QjZkLEVBQU9rZ0MsaUJBQWtFLElBQWhEbGdDLEVBQU9rZ0MsZUFBZTMvQyxRQUFRMjdCLEtBQ3JGMXZCLEtBQUtpUyxLQUFLLElBQUlNLGFBQVcsSUFBSTFaLE1BQ3pCLGlCQUFpQjYyQixpQ0FDWWxjLEVBQU9oYixxQ0FDSnM1QixFQUFNdDVCLHlCQUtsRGtKLGtCQUNJLElBQUsxQixLQUFLd1UsUUFDTixPQUFPLEVBRVgsR0FBSWhnQixPQUFPQyxLQUFLdUwsS0FBS3UwQyxpQkFBaUJoNkMsT0FDbEMsT0FBTyxFQUVYLFFBQVcvQixVQUFXdzZDLGFBQ2xCLFNBQVVBLGFBQWF4NkMsR0FBSWtKLFNBQ3ZCLE9BQU8sRUFFZixRQUFLMUIsS0FBSzB5QyxhQUFhdndDLHdCQU0zQm15QywwQkFBaUJoeUMsY0FDYixPQUFPQSxFQUFJck8sYUFBS3VFLFVBQU93SCxFQUFLOHlDLFFBQVF0NkMsR0FBSThSLDJCQUc1Q3dqQywwQkFDSSxHQUFJOXRDLEtBQUs4SSxPQUFTOUksS0FBSzhJLE1BQU1rQyxnQkFDekIsT0FBTyxFQUdYLFFBQVd4UyxVQUFXdzZDLGFBQ2xCLFFBQVNBLGFBQWF4NkMsR0FBSXdTLGdCQUN0QixPQUFPLEVBSWYsUUFBV3hTLFVBQVdzNkMsUUFDbEIsUUFBU0EsUUFBUXQ2QyxHQUFJd1MsZ0JBQ2pCLE9BQU8sRUFJZixPQUFPLGVBR1h3cEMsd0JBQ0ksSUFBS3gwQyxLQUFLd1UsUUFDTixNQUFNLElBQUkzYixNQUFNLDBDQU94QndILGdCQUFPMkksR0FDSCxHQUFLaEosS0FBS3dVLFFBQVYsQ0FJQSxHQUFJeFUsS0FBS3kwQyxTQUFVLENBQ2Y5N0MsSUFBTSs3QyxFQUFhbGdELE9BQU9DLEtBQUt1TCxLQUFLMjBDLGdCQUM5QkMsRUFBYXBnRCxPQUFPQyxLQUFLdUwsS0FBSzYwQyxnQkFLcEMsUUFBV3I4QyxLQUhQazhDLEVBQVduNkMsUUFBVXE2QyxFQUFXcjZDLFNBQ2hDeUYsS0FBSzgwQyxvQkFBb0JKLEVBQVlFLFFBRW5CTCxnQkFBaUIsQ0FDbkM1N0MsSUFBTW84QyxPQUFjUixnQkFBZ0IvN0MsR0FFckIsV0FBWHU4QyxPQUNLQyxjQUFjeDhDLEdBQ0QsVUFBWHU4QyxRQUNGRSxhQUFhejhDLEdBSTFCLFFBQVdBLFVBQVcwOEMsd0JBQ2JwQyxRQUFRdDZDLEdBQUlzUyxrQkFBa0I5QixHQUd2Q2hKLEtBQUs4SSxNQUFNZ0Msa0JBQWtCOUIsR0FFN0JoSixLQUFLbXpDLGdCQUVMbnpDLEtBQUtpUyxLQUFLLElBQUlDLFFBQU0sUUFBU0MsU0FBVSxXQUczQyxRQUFXK3pCLFVBQWlCOE0sa0JBQ25CQSxhQUFhOU0sR0FBVTlaLE1BQU8sRUFHdkMsSUFBSyxlQUFzQjJtQix1QkFBUSxDQUE5QnA2QyxJQUFNb3VDLE9BQ0RqVixPQUFhZ2hCLFFBQVEvTCxHQUUzQmpWLEVBQU03bUIsWUFBWWpDLElBQ2I4b0IsRUFBTW1YLFNBQVNqZ0MsRUFBV2dJLE9BQVM4Z0IsRUFBTXRlLGNBQ3JDdy9CLGFBQWFsaEIsRUFBTXRlLFFBQVE0WSxNQUFPLEdBSS9DcHNCLEtBQUs4SSxNQUFNbUMsWUFBWWpDLEdBQ3ZCaEosS0FBS3FGLEVBQUkyRCxFQUFXZ0ksbUJBR3hCOGpDLDZCQUFvQkosRUFBMkJFLEdBQzNDNTBDLEtBQUtzUixXQUFXdkQsVUFBVSxnQkFDdEJpakIsT0FBUWh4QixLQUFLczBDLGlCQUFpQkksR0FDOUJFLFdBQVlBLGlCQUlwQnpCLHlCQUNJbnpDLEtBQUt5MEMsVUFBVyxFQUVoQnowQyxLQUFLMjBDLGtCQUNMMzBDLEtBQUs2MEMsa0JBRUw3MEMsS0FBS3UwQyxtQkFDTHYwQyxLQUFLazFDLG1DQWFUQyxrQkFBU0MsY0FHTCxHQUZBcDFDLEtBQUt3MEMsZUFFRHJwQyx1QkFBcUJuTCxLQUFNcUwsZ0JBQWMrcEMsSUFBYSxPQUFPLEdBRWpFQSxFQUFZbnlDLFFBQU1teUMsSUFDUnBrQixPQUFTMFQsR0FBTTBRLEVBQVVwa0IsUUFFbkNyNEIsSUFBTTA4QyxFQUFVak8sR0FBV3BuQyxLQUFLc0ssWUFBYThxQyxHQUN4Q3ZoRCxnQkFBT3loRCxXQUFRQSxFQUFHalAsV0FBV21NLE1BRWxDLEdBQXVCLElBQW5CNkMsRUFBUTk2QyxPQUNSLE9BQU8sRUFHWDVCLElBQU00OEMsRUFBbUJGLEVBQVF4aEQsZ0JBQU95aEQsV0FBUUEsRUFBR2pQLFdBQVdpTSxNQUM5RCxHQUFJaUQsRUFBaUJoN0MsT0FBUyxFQUMxQixNQUFNLElBQUkxQix3QkFBd0IwOEMsRUFBaUJ0aEQsYUFBSXFoRCxVQUFNQSxFQUFHalAsVUFBUzdtQyxLQUFLLFdBY2xGLE9BWEE2MUMsRUFBUXZoRCxpQkFBU3doRCxHQUNNLGtCQUFmQSxFQUFHalAsU0FLTnJtQyxFQUFXczFDLEVBQUdqUCxTQUFTbVAsTUFBTXgxQyxFQUFNczFDLEVBQUdoUCxRQUczQ3RtQyxLQUFLbTBDLFdBQWFpQixHQUVYLGVBR1gzeUMsa0JBQVNqSyxFQUFZc0gsR0FDakIsR0FBSUUsS0FBS3dDLFNBQVNoSyxHQUNkLE9BQU93SCxLQUFLaVMsS0FBSyxJQUFJTSxhQUFXLElBQUkxWixNQUFNLDZDQUU5Q21ILEtBQUsweUMsYUFBYWp3QyxTQUFTakssRUFBSXNILEdBQy9CRSxLQUFLaVMsS0FBSyxJQUFJQyxRQUFNLFFBQVNDLFNBQVUsd0JBRzNDM1Asa0JBQVNoSyxHQUNMLE9BQU93SCxLQUFLMHlDLGFBQWFsd0MsU0FBU2hLLGdCQUd0Q2tLLHFCQUFZbEssR0FDUixJQUFLd0gsS0FBS3dDLFNBQVNoSyxHQUNmLE9BQU93SCxLQUFLaVMsS0FBSyxJQUFJTSxhQUFXLElBQUkxWixNQUFNLHFDQUU5Q21ILEtBQUsweUMsYUFBYWh3QyxZQUFZbEssR0FDOUJ3SCxLQUFLaVMsS0FBSyxJQUFJQyxRQUFNLFFBQVNDLFNBQVUsd0JBRzNDb3pCLG1CQUFVL3NDLEVBQVlnYixFQUE2QmpnQixjQUcvQyxHQUZBeU0sS0FBS3cwQyxvQkFFeUJuK0MsSUFBMUIySixLQUFLZ3pDLGFBQWF4NkMsR0FDbEIsTUFBTSxJQUFJSyxNQUFNLDBDQUdwQixJQUFLMmEsRUFBTzdkLEtBQ1IsTUFBTSxJQUFJa0QsOEZBQThGckUsT0FBT0MsS0FBSytlLEdBQVFoVSxLQUFLLFdBS3JJLE1BRmtCLFNBQVUsU0FBVSxVQUFXLFFBQVMsUUFBUyxVQUNuQ3pMLFFBQVF5ZixFQUFPN2QsT0FBUyxLQUNsQ3FLLEtBQUt1SyxVQUFVYyxnQkFBY21JLGtCQUFtQmhiLEVBQU1nYixFQUFRLEtBQU1qZ0IsR0FBMUYsQ0FFSXlNLEtBQUsvTCxLQUFPK0wsS0FBSy9MLElBQUk0ZCx5QkFBeUIyQixFQUFhMUIsdUJBQXdCLEdBQ3ZGblosSUFBTW1rQixFQUFjOWMsS0FBS2d6QyxhQUFheDZDLEdBQU0sSUFBSWdtQyxHQUFZaG1DLEVBQUlnYixFQUFReFQsS0FBS3NSLFlBQzdFd0wsRUFBWTVpQixNQUFROEYsS0FDcEI4YyxFQUFZL0ssaUJBQWlCL1IsdUJBQ3pCeTFDLGVBQWdCejFDLEVBQUswQixTQUNyQjhSLE9BQVFzSixFQUFZeFMsWUFDcEI0N0IsU0FBVTF0QyxLQUdkc2tCLEVBQVlsSyxNQUFNNVMsS0FBSy9MLEtBQ3ZCK0wsS0FBS3kwQyxVQUFXLGdCQVFwQmpQLHNCQUFhaHRDLEdBR1QsR0FGQXdILEtBQUt3MEMsb0JBRXlCbitDLElBQTFCMkosS0FBS2d6QyxhQUFheDZDLEdBQ2xCLE1BQU0sSUFBSUssTUFBTSxtQ0FFcEIsUUFBV2t1QyxVQUFnQitMLFFBQ3ZCLFFBQVNBLFFBQVEvTCxHQUFTdnpCLFNBQVdoYixFQUNqQyxZQUFZeVosS0FBSyxJQUFJTSxhQUFXLElBQUkxWixpQkFBaUJMLHNDQUFzQ3V1QyxzQkFJbkdwdUMsSUFBTW1rQixFQUFjOWMsS0FBS2d6QyxhQUFheDZDLFVBQy9Cd0gsS0FBS2d6QyxhQUFheDZDLFVBQ2xCd0gsS0FBS3UwQyxnQkFBZ0IvN0MsR0FDNUJza0IsRUFBWTdLLEtBQUssSUFBSUMsUUFBTSxRQUFTTyxlQUFnQixXQUFZTixTQUFTLFNBQVUrekIsU0FBVTF0QyxLQUM3RnNrQixFQUFZL0ssaUJBQWlCLE1BQzdCK0ssRUFBWWluQixhQUVSam5CLEVBQVlwRixVQUFVb0YsRUFBWXBGLFNBQVMxWCxLQUFLL0wsS0FDcEQrTCxLQUFLeTBDLFVBQVcsZUFRcEJoUCw4QkFBcUJqdEMsRUFBWXNJLEdBQzdCZCxLQUFLdzBDLGVBR2lDeDBDLEtBQUtnekMsYUFBYXg2QyxHQUFJaW5DLFlBRzlDcm9CLFFBQVF0VyxHQUN0QmQsS0FBS3kwQyxVQUFXLGVBUXBCaFYsbUJBQVVqbkMsR0FDTixPQUFPd0gsS0FBS2d6QyxhQUFheDZDLElBQU93SCxLQUFLZ3pDLGFBQWF4NkMsR0FBSWluQyx5QkFRMUR5RixrQkFBU3dRLEVBQWlDaFAsRUFBaUJuekMsR0FDdkR5TSxLQUFLdzBDLGVBRUw3N0MsSUFBTUgsRUFBS2s5QyxFQUFZbDlDLEdBRXZCLEdBQUl3SCxLQUFLa3hCLFNBQVMxNEIsR0FDZHdILEtBQUtpUyxLQUFLLElBQUlNLGFBQVcsSUFBSTFaLHdCQUF3QkwseUNBV3pELEdBUGtDLGlCQUF2Qms5QyxFQUFZbGlDLFNBQ25CeFQsS0FBS3VsQyxVQUFVL3NDLEVBQUlrOUMsRUFBWWxpQyxRQUMvQmtpQyxFQUFjenlDLFFBQU15eUMsR0FDcEJBLEVBQWVwcUMsU0FBT29xQyxHQUFjbGlDLE9BQVFoYixNQUk1Q3dILEtBQUt1SyxVQUFVYyxnQkFBY3ltQixnQkFDbkJ0NUIsRUFBTWs5QyxHQUFjQyxZQUFhLEdBQUlwaUQsR0FEbkQsQ0FHQW9GLElBQU1tNUIsRUFBUXVpQixhQUFpQnFCLEdBQy9CMTFDLEtBQUsyekMsZUFBZTdoQixHQUVwQkEsRUFBTS9mLGlCQUFpQi9SLE1BQU84eEIsT0FBUXQ1QixHQUFJQSxLQUcxQ0csSUFBTTRULEVBQVFtNkIsRUFBUzFtQyxLQUFLK3lDLE9BQU9oL0MsUUFBUTJ5QyxHQUFVMW1DLEtBQUsreUMsT0FBT3g0QyxPQUNqRSxHQUFJbXNDLElBQXFCLElBQVhuNkIsRUFDVnZNLEtBQUtpUyxLQUFLLElBQUlNLGFBQVcsSUFBSTFaLHdCQUF3QjZ0Qyx5Q0FEekQsQ0FVQSxHQUxBMW1DLEtBQUsreUMsT0FBT3BlLE9BQU9wb0IsRUFBTyxFQUFHL1QsR0FDN0J3SCxLQUFLNDFDLG9CQUFxQixFQUUxQjUxQyxLQUFLOHlDLFFBQVF0NkMsR0FBTXM1QixFQUVmOXhCLEtBQUs2MEMsZUFBZXI4QyxJQUFPczVCLEVBQU10ZSxPQUFRLENBUXpDN2EsSUFBTWs5QyxFQUFVNzFDLEtBQUs2MEMsZUFBZXI4QyxVQUM3QndILEtBQUs2MEMsZUFBZXI4QyxHQUN2QnE5QyxFQUFRbGdELE9BQVNtOEIsRUFBTW44QixLQUN2QnFLLEtBQUt1MEMsZ0JBQWdCemlCLEVBQU10ZSxRQUFVLFNBRXJDeFQsS0FBS3UwQyxnQkFBZ0J6aUIsRUFBTXRlLFFBQVUsU0FDckN4VCxLQUFLZ3pDLGFBQWFsaEIsRUFBTXRlLFFBQVE0SSxTQUd4Q3BjLEtBQUs4MUMsYUFBYWhrQixrQkFTdEJpa0IsbUJBQVV2OUMsRUFBWWt1QyxHQUtsQixHQUpBMW1DLEtBQUt3MEMsZUFDTHgwQyxLQUFLeTBDLFVBQVcsRUFFRnowQyxLQUFLOHlDLFFBQVF0NkMsR0FDM0IsQ0FLQUcsSUFBTTRULEVBQVF2TSxLQUFLK3lDLE9BQU9oL0MsUUFBUXlFLEdBQ2xDd0gsS0FBSyt5QyxPQUFPcGUsT0FBT3BvQixFQUFPLEdBRTFCNVQsSUFBTXE5QyxFQUFXdFAsRUFBUzFtQyxLQUFLK3lDLE9BQU9oL0MsUUFBUTJ5QyxHQUFVMW1DLEtBQUsreUMsT0FBT3g0QyxPQUNoRW1zQyxJQUF3QixJQUFkc1AsRUFDVmgyQyxLQUFLaVMsS0FBSyxJQUFJTSxhQUFXLElBQUkxWix3QkFBd0I2dEMsc0NBR3pEMW1DLEtBQUsreUMsT0FBT3BlLE9BQU9xaEIsRUFBVSxFQUFHeDlDLEdBRWhDd0gsS0FBSzQxQyxvQkFBcUIsUUFkdEI1MUMsS0FBS2lTLEtBQUssSUFBSU0sYUFBVyxJQUFJMVosb0JBQW9CTCw2RUF5QnpEMnNDLHFCQUFZM3NDLEdBQ1J3SCxLQUFLdzBDLGVBRUw3N0MsSUFBTW01QixFQUFROXhCLEtBQUs4eUMsUUFBUXQ2QyxHQUMzQixHQUFLczVCLEVBQUwsQ0FLQUEsRUFBTS9mLGlCQUFpQixNQUV2QnBaLElBQU00VCxFQUFRdk0sS0FBSyt5QyxPQUFPaC9DLFFBQVF5RSxHQUNsQ3dILEtBQUsreUMsT0FBT3BlLE9BQU9wb0IsRUFBTyxHQUUxQnZNLEtBQUs0MUMsb0JBQXFCLEVBQzFCNTFDLEtBQUt5MEMsVUFBVyxFQUNoQnowQyxLQUFLNjBDLGVBQWVyOEMsR0FBTXM1QixTQUNuQjl4QixLQUFLOHlDLFFBQVF0NkMsVUFDYndILEtBQUsyMEMsZUFBZW44QyxVQUNwQndILEtBQUtrMUMsbUJBQW1CMThDLFFBZDNCd0gsS0FBS2lTLEtBQUssSUFBSU0sYUFBVyxJQUFJMVosb0JBQW9CTCwrRUF1QnpEMDRCLGtCQUFTMTRCLEdBQ0wsT0FBT3dILEtBQUs4eUMsUUFBUXQ2QyxnQkFHeEJrdEMsMkJBQWtCcUIsRUFBaUJ4MkIsRUFBa0JDLEdBQ2pEeFEsS0FBS3cwQyxlQUVMNzdDLElBQU1tNUIsRUFBUTl4QixLQUFLa3hCLFNBQVM2VixHQUN2QmpWLEVBS0RBLEVBQU12aEIsVUFBWUEsR0FBV3VoQixFQUFNdGhCLFVBQVlBLElBRXBDLE1BQVhELElBQ0F1aEIsRUFBTXZoQixRQUFVQSxHQUVMLE1BQVhDLElBQ0FzaEIsRUFBTXRoQixRQUFVQSxHQUVwQnhRLEtBQUs4MUMsYUFBYWhrQixJQVpkOXhCLEtBQUtpUyxLQUFLLElBQUlNLGFBQVcsSUFBSTFaLG9CQUFvQmt1QyxxRkFlekR6QixtQkFBVXlCLEVBQWlCbHpDLEdBQ3ZCbU0sS0FBS3cwQyxlQUVMNzdDLElBQU1tNUIsRUFBUTl4QixLQUFLa3hCLFNBQVM2VixHQUM1QixHQUFLalYsR0FLTCxJQUFJbUIsYUFBVW5CLEVBQU1qK0IsT0FBUUEsR0FJNUIsT0FBZSxPQUFYQSxRQUE4QndDLElBQVh4QyxHQUNuQmkrQixFQUFNaitCLFlBQVN3QyxPQUNmMkosS0FBSzgxQyxhQUFhaGtCLFNBSWxCOXhCLEtBQUt1SyxVQUFVYyxnQkFBY3hYLGlCQUFrQmkrQixFQUFNdDVCLGFBQWEzRSxLQUl0RWkrQixFQUFNaitCLE9BQVNvUCxRQUFNcFAsR0FDckJtTSxLQUFLODFDLGFBQWFoa0IsVUFuQmQ5eEIsS0FBS2lTLEtBQUssSUFBSU0sYUFBVyxJQUFJMVosb0JBQW9Ca3VDLGdGQTJCekRrUCxtQkFBVW5rQixHQUNOLE9BQU83dUIsUUFBTWpELEtBQUtreEIsU0FBU1ksR0FBT2orQixxQkFHdEN3eEMsMkJBQWtCMEIsRUFBaUJ0OEIsRUFBYzNQLEdBQzdDa0YsS0FBS3cwQyxlQUVMNzdDLElBQU1tNUIsRUFBUTl4QixLQUFLa3hCLFNBQVM2VixHQUN2QmpWLEVBS0RtQixhQUFVbkIsRUFBTW9rQixrQkFBa0J6ckMsR0FBTzNQLEtBRTdDZzNCLEVBQU11VCxrQkFBa0I1NkIsRUFBTTNQLEdBQzlCa0YsS0FBSzgxQyxhQUFhaGtCLElBUGQ5eEIsS0FBS2lTLEtBQUssSUFBSU0sYUFBVyxJQUFJMVosb0JBQW9Ca3VDLDhFQWdCekRtUCwyQkFBa0Jwa0IsRUFBZXJuQixHQUM3QixPQUFPekssS0FBS2t4QixTQUFTWSxHQUFPb2tCLGtCQUFrQnpyQyxnQkFHbEQyNkIsMEJBQWlCMkIsRUFBaUJ0OEIsRUFBYzNQLEdBQzVDa0YsS0FBS3cwQyxlQUVMNzdDLElBQU1tNUIsRUFBUTl4QixLQUFLa3hCLFNBQVM2VixHQUM1QixHQUFLalYsR0FLTCxJQUFJbUIsYUFBVW5CLEVBQU1xa0IsaUJBQWlCMXJDLEdBQU8zUCxHQUE1QyxDQUVBbkMsSUFBTXk5QyxFQUFnQnRrQixFQUFNdWtCLHFCQUFxQkMsUUFBUTdyQyxHQUFNM1AsTUFBTXk3QyxlQUNyRXprQixFQUFNc1QsaUJBQWlCMzZCLEVBQU0zUCxJQUNSZzNCLEVBQU11a0IscUJBQXFCQyxRQUFRN3JDLEdBQU0zUCxNQUFNeTdDLGdCQUVoREgsSUFDaEJwMkMsS0FBSzgxQyxhQUFhaGtCLEdBR3RCOXhCLEtBQUt5MEMsVUFBVyxFQUNoQnowQyxLQUFLazFDLG1CQUFtQm5PLElBQVcsUUFmL0IvbUMsS0FBS2lTLEtBQUssSUFBSU0sYUFBVyxJQUFJMVosb0JBQW9Ca3VDLDhFQWtCekRvUCwwQkFBaUJya0IsRUFBZXJuQixHQUM1QixPQUFPekssS0FBS2t4QixTQUFTWSxHQUFPcWtCLGlCQUFpQjFyQyxnQkFHakQrckMseUJBQ0ksT0FBT2xyQyxVQUFTa2xCLFNBQVUsSUFBS2ltQixNQUFPLEdBQUt6MkMsS0FBS20wQyxZQUFjbjBDLEtBQUttMEMsV0FBVzFNLHlCQUdsRm45QixnQ0FDSSxPQUFPb3NDLGdCQUNIclAsUUFBU3JuQyxLQUFLbTBDLFdBQVc5TSxRQUN6QjU4QixLQUFNekssS0FBS20wQyxXQUFXMXBDLEtBQ3RCa3NDLFNBQVUzMkMsS0FBS20wQyxXQUFXd0MsU0FDMUI3dEMsTUFBTzlJLEtBQUttMEMsV0FBV3JyQyxNQUN2QncrQixPQUFRdG5DLEtBQUttMEMsV0FBVzdNLE9BQ3hCdDJCLEtBQU1oUixLQUFLbTBDLFdBQVduakMsS0FDdEJ1MkIsUUFBU3ZuQyxLQUFLbTBDLFdBQVc1TSxRQUN6QkMsTUFBT3huQyxLQUFLbTBDLFdBQVczTSxNQUN2Qmo4QixPQUFRdkwsS0FBS20wQyxXQUFXNW9DLE9BQ3hCbkUsT0FBUXBILEtBQUttMEMsV0FBVy9zQyxPQUN4QnFnQyxXQUFZem5DLEtBQUttMEMsV0FBVzFNLFdBQzVCRyxRQUFTZ1AsWUFBVTUyQyxLQUFLZ3pDLHNCQUFleC9CLFVBQVdBLEVBQU9sSixjQUN6RDBtQixPQUFRaHhCLEtBQUsreUMsT0FBTzkrQyxhQUFLdUUsVUFBT3dILEVBQUs4eUMsUUFBUXQ2QyxHQUFJOFIsd0JBQ2pEeFAsR0FBWSxZQUFpQnpFLElBQVZ5RSxpQkFHM0JnN0Msc0JBQWFoa0IsR0FDVDl4QixLQUFLMjBDLGVBQWU3aUIsRUFBTXQ1QixLQUFNLEVBQzVCczVCLEVBQU10ZSxTQUFXeFQsS0FBS3UwQyxnQkFBZ0J6aUIsRUFBTXRlLFVBQzVDeFQsS0FBS3UwQyxnQkFBZ0J6aUIsRUFBTXRlLFFBQVUsU0FDckN4VCxLQUFLZ3pDLGFBQWFsaEIsRUFBTXRlLFFBQVE0SSxTQUVwQ3BjLEtBQUt5MEMsVUFBVyxlQUdwQm9DLGtDQUF5QkMsR0FFckIsUUFETXpuQixLQUNHMG5CLEVBQUkvMkMsS0FBSyt5QyxPQUFPeDRDLE9BQVMsRUFBR3c4QyxHQUFLLEVBQUdBLElBRXpDLElBREFwK0MsSUFBTW91QyxPQUFlZ00sT0FBT2dFLFNBQ0RELGtCQUFlLENBQXJDbitDLElBQ0txK0MsT0FBNkJqUSxHQUNuQyxHQUFJaVEsRUFDQSxJQUFLLFVBQWlCQSxrQkFBZSxDQUFoQ3IrQyxJQUFNMmxCLE9BQ1ArUSxFQUFTNXlCLEtBQUs2aEIsSUFLOUIsT0FBTytRLGVBR1h4UywrQkFBc0JHLEVBQW9COWUsRUFBYWdjLEdBQy9DaGMsR0FBVUEsRUFBT3JLLFFBQ2pCbU0sS0FBS3VLLFVBQVVjLGdCQUFjeFgsT0FBUSwrQkFBZ0NxSyxFQUFPckssUUFHaEY4RSxJQUFNcytDLEtBQ04sR0FBSS80QyxHQUFVQSxFQUFPOHlCLE9BQVEsQ0FDekIsSUFBS3Q5QixNQUFNVyxRQUFRNkosRUFBTzh5QixRQUV0QixPQURBaHhCLEtBQUtpUyxLQUFLLElBQUlNLGFBQVcsSUFBSTFaLE1BQU0sNENBR3ZDLElBQUssVUFBaUJxRixFQUFPOHlCLHVCQUFRLENBQWhDcjRCLElBQU1vdUMsT0FDRGpWLE9BQWFnaEIsUUFBUS9MLEdBQzNCLElBQUtqVixFQUdELFlBREs3ZixLQUFLLElBQUlNLGFBQVcsSUFBSTFaLG9CQUFvQmt1QyxrRkFHckRrUSxFQUFnQm5sQixFQUFNdGUsU0FBVSxHQUl4QzdhLElBQU1tK0MsS0FDTixRQUFXdCtDLFVBQVd3NkMsYUFDbEIsSUFBSTkwQyxFQUFPOHlCLFFBQVdpbUIsRUFBZ0J6K0MsR0FBdEMsQ0FDQUcsSUFBTXUrQyxFQUFVcjZCLFFBQTJCbTJCLGFBQWF4NkMsUUFBVXM2QyxRQUFTOTFCLEVBQWU5ZSxFQUFRZ2MsT0FBZ0I0MEIsZUFBaUJBLFVBQVU3eEIsZUFBaUIsTUFDOUo2NUIsRUFBY3I2QyxLQUFLeTZDLEdBRXZCLE9BQU9sM0MsS0FBSzYyQyx5QkFBeUJDLGdCQUd6QzVrQiw2QkFBb0J0RCxFQUFrQjF3QixHQUM5QkEsR0FBVUEsRUFBT3JLLFFBQ2pCbU0sS0FBS3VLLFVBQVVjLGdCQUFjeFgsT0FBUSw2QkFBOEJxSyxFQUFPckssUUFFOUU4RSxJQUFNbWtCLEVBQWM5YyxLQUFLZ3pDLGFBQWFwa0IsR0FDdEMsT0FBTzlSLEV2QnR5QmYsU0FBb0NBLEVBQTBCNWUsR0FRMUQsSUFQQXZGLElBQU11YSxFQUFRNEosRUFBWXVqQixtQkFBbUJwc0MsYUFBS3VFLEdBQzlDLE9BQU9za0IsRUFBWXVrQixZQUFZN29DLEtBRzdCd1AsS0FFQW12QyxLQUNHNzhDLEVBQUksRUFBR0EsRUFBSTRZLEVBQU0zWSxPQUFRRCxJQUFLLENBQ25DM0IsSUFBTW1hLEVBQU9JLEVBQU01WSxHQUNiODhDLEVBQVN0a0MsRUFBS25DLE9BQU9nQyxVQUFVM0csSUFDaENtckMsRUFBVUMsS0FDWEQsRUFBVUMsSUFBVSxFQUNwQnRrQyxFQUFLb2Ysb0JBQW9CbHFCLEVBQVE5SixJQUl6QyxPQUFPOEosRXVCcXhCa0JrcUIsQ0FBb0JwVixFQUFhNWUsbUJBRzFEbTVDLHVCQUFjNXNDLEVBQWM2c0MsRUFBMkJqOEMsR0FDbkQsT0FBSW8zQyxFQUFNOEUsY0FBYzlzQyxHQUNicFAsRUFBUyxJQUFJeEMsK0JBQStCNFIseUJBR3ZEZ29DLEVBQU0rRSxjQUFjL3NDLEVBQU02c0MsR0FFckJBLEVBQVdHLHFCQUloQnozQyxLQUFLc1IsV0FBV3ZELFVBQVUsb0JBQ3RCdEQsS0FBTUEsRUFDTnJNLElBQUtrNUMsRUFBV0csaUJBQ2pCcDhDLEdBTlFBLEVBQVMsS0FBTSxvQkFTOUJnUCxvQkFDSSxPQUFPckssS0FBSzhJLE1BQU11Qix3QkFHdEJILGtCQUFTSixHQUNMOUosS0FBS3cwQyxlQUVMNzdDLElBQU1tUSxFQUFROUksS0FBSzhJLE1BQU11QixXQUNyQnF0QyxHQUFVLEVBQ2QsUUFBVzFyQyxLQUFPbEMsRUFDZCxJQUFLbXBCLGFBQVVucEIsRUFBYWtDLEdBQU1sRCxFQUFNa0QsSUFBTyxDQUMzQzByQyxHQUFVLEVBQ1YsTUFHUixHQUFLQSxFQUFMLENBRUEvK0MsSUFBTXFRLEdBQ0Z6UixJQUFLeUgsRUFBUXpILE1BQ2Jrd0MsV0FBWW44QixVQUNSa2xCLFNBQVUsSUFDVmltQixNQUFPLEdBQ1J6MkMsS0FBS20wQyxXQUFXMU0sYUFHdkJ6bkMsS0FBSzhJLE1BQU1vQixTQUFTSixHQUNwQjlKLEtBQUs4SSxNQUFNZ0Msa0JBQWtCOUIsaUJBR2pDdUIsbUJBQVVXLEVBQXdCYyxFQUFhbFIsRUFBWVYsRUFBWTdHLEdBQ25FLFFBQUlBLElBQWdDLElBQXJCQSxFQUFRMlgsV0FHaEJDLHVCQUFxQm5MLEtBQU1rTCxFQUFTRSxLQUFLQyxnQkFBZUMsVUFDM0RVLElBQUtBLEVBQ0w5UixNQUFPOEYsS0FBS3NLLFlBQ1p4UCxNQUFPQSxFQUNQK04sVUFBV0EsYUFDWnpPLGtCQUdQdTlDLG1CQUVJLFFBQVduL0MsS0FEWG8vQyxVQUFxQkMsSUFBSSxrQkFBbUI3M0MsS0FBS3F6Qyw2QkFDM0JMLGtCQUNiQSxhQUFheDZDLEdBQUl1ckMsYUFFMUIvakMsS0FBS3NSLFdBQVd0VSxzQkFHcEJpNEMsc0JBQWF6OEMsR0FDVHdILEtBQUtnekMsYUFBYXg2QyxHQUFJdXJDLDBCQUcxQmlSLHVCQUFjeDhDLEdBQ1Z3SCxLQUFLZ3pDLGFBQWF4NkMsR0FBSWtuQyxTQUN0QjEvQixLQUFLZ3pDLGFBQWF4NkMsR0FBSW9tQyxzQkFHMUJrWix3QkFBZTU5QixHQUNYLFFBQVcxaEIsVUFBV3c2QyxrQkFDYkEsYUFBYXg2QyxHQUFJNkgsT0FBTzZaLGdCQUlyQzY5QixtQ0FDSSxRQUFXdi9DLFVBQVd3NkMsa0JBQ2JnQyxjQUFjeDhDLGdCQUkzQncvQywwQkFBaUI5OUIsRUFBc0J6RyxFQUE2QjgxQixHQU1oRSxRQUxJeUksR0FBdUIsRUFDdkJpRyxHQUFxQixFQUVuQjFJLGdCQUVxQndELHVCQUFRLENBQTlCcDZDLElBQU1xbEIsT0FDRCtyQixPQUFrQitJLFFBQVE5MEIsR0FDaEMsR0FBd0IsV0FBcEIrckIsRUFBV3AwQyxLQUFmLENBRUEsSUFBSzQ1QyxFQUFXeEYsRUFBV3YyQixRQUFTLENBQ2hDN2EsSUFBTW1rQixPQUFtQmsyQixhQUFhakosRUFBV3YyQixRQUNqRCs3QixFQUFXeEYsRUFBV3YyQixRQUFVc0osRUFBWXVqQixtQkFDdkNwc0MsYUFBS3VFLFVBQU9za0IsRUFBWXVrQixZQUFZN29DLEtBQ3BDNGtCLGNBQU0xVyxFQUFHMkMsVUFBT0EsRUFBRXNILE9BQU80QyxZQUFjN00sRUFBRWlLLE9BQU80QyxjQUFpQjdNLEVBQUVpSyxPQUFPdW5DLFdBQVc3dUMsRUFBRXNILFNBQVcsRUFBSSxLQUcvR2hZLElBQU13L0MsT0FBMkJ0RixxQkFBcUIzTixTQUFTNkUsRUFBWXdGLEVBQVd4RixFQUFXdjJCLFNBQ2pHdytCLEVBQXVCQSxHQUF3Qm1HLEdBRW5EbjRDLEtBQUs2eUMscUJBQXFCWCxrQkFBa0JseUMsS0FBSyt5QyxRQU1qRHA2QyxJQUFNczJDLEVBQXFCanZDLEtBQUs0MUMsbUJBNkJoQyxJQTNCSTNHLElBQXVCanZDLEtBQUtvNEMsb0JBQXVCcDRDLEtBQUtvNEMsbUJBQW1COUksV0FBYXR2QyxLQUFLOHVDLFVBQVVmLFlBQVkvdUMsRUFBUXpILFVBQzNIeUksS0FBS280QyxtQkFBcUIsSUFBSXBKLEdBQW1COTBCLEVBQVdsYSxLQUFLK3lDLE9BQVE5RCxFQUFvQng3QixFQUFvQjgxQixHQUNqSHZwQyxLQUFLNDFDLG9CQUFxQixHQUcxQjUxQyxLQUFLbzRDLG1CQUFtQjlJLFNBS3hCdHZDLEtBQUs4dUMsVUFBVWQsWUFFZmh1QyxLQUFLbzRDLG1CQUFtQnZKLGtCQUFrQjd1QyxLQUFLK3lDLE9BQVEveUMsS0FBSzh5QyxRQUFTdkQsR0FFakV2dkMsS0FBS280QyxtQkFBbUI5SSxXQUN4QnR2QyxLQUFLOHVDLFVBQVk5dUMsS0FBS280QyxtQkFBbUJ0TSxPQUFPOXJDLEtBQUs4dUMsVUFBVzl2QyxFQUFRekgsT0FDeEUwZ0QsR0FBcUIsR0FHckJqRyxHQUlBaHlDLEtBQUtvNEMsbUJBQW1CdEosVUFBVWQsWUFJdENpSyxHQUFzQmpHLEVBQ3RCLElBQUssZUFBc0JlLHVCQUFRLENBQTlCcDZDLElBQU1xbEIsT0FDRCtyQixPQUFrQitJLFFBQVE5MEIsR0FDUixXQUFwQityQixFQUFXcDBDLFdBQ1ZtNUMsVUFBVXZDLHFCQUFxQnhDLEVBQVl3RixFQUFXeEYsRUFBV3YyQixTQU05RSxPQUR1QnhULEtBQUtvNEMsbUJBQW1COUksVUFBWXR2QyxLQUFLOHVDLFVBQVVoQixlQUFlOXVDLEVBQVF6SCxvQkFNckd1TCxtQkFBVStoQyxFQUFlM21DLEVBQWdDN0MsR0FDckQyRSxLQUFLMHlDLGFBQWE1dkMsVUFBVTVFLEVBQU9tNkMsTUFBT2g5QyxnQkFHOUM4TCxtQkFBVTA5QixFQUFlM21DLEVBQTZDN0MsR0FDbEUyRSxLQUFLMnlDLGFBQWF4ckMsVUFBVWpKLEVBQU9vNkMsT0FBUWo5QyxPQXI2Qi9CbVEsV0F5NkJwQmluQyxHQUFNOEUsY3hCaDRCaUIsU0FBVTlzQyxHQUM3QixPQUFPNlIsR0FBWTdSLEl3Qmc0QnZCZ29DLEdBQU0rRSxjeEI3M0JpQixTQUFVL3NDLEVBQWM5VSxHQUMzQzJtQixHQUFZN1IsR0FBUTlVLEd3QjYzQnhCODhDLEdBQU1hLDhCQUFnQ0EsZ0NDci9CdEMsa0VDTU1pRixJQUNGQyxTQUNJQyxlQUFnQkMsd01BQ2hCQyxhQUFjRCx5a0ZBRWxCRSxZQUNJSCxlQUFnQkMscUxBQ2hCQyxhQUFjRCwwSEFFbEJHLG1CQUNJSixlQUFnQkMsOHdCQUNoQkMsYUFBY0QsMnBCQUVsQmo0QixRQUNJZzRCLGVBQWdCQyx1ekNBQ2hCQyxhQUFjRCwrb0ZBRWxCSSxjQUNJTCxlQUFnQkMsb0RBQ2hCQyxhQUFjRCwwSEFFbEJLLFNBQ0lOLGVBQWdCQyxra0JBQ2hCQyxhQUFjRCxna0VBRWxCTSxnQkFDSVAsZUFBZ0JDLG1WQUNoQkMsYUFBY0Qsc09BRWxCcHNCLGNBQ0ltc0IsZUFBZ0JDLHliQUNoQkMsYUFBY0QscTFCQUVsQjlMLGlCQUNJNkwsZUFBZ0JDLGs5QkFDaEJDLGFBQWNELGkwQ0FFbEJPLE9BQ0lSLGVBQWdCQyxpRkFDaEJDLGFBQWNELDBIQUVsQlEsTUFDSVQsZUFBZ0JDLDBUQUNoQkMsYUFBY0Qsc1RBRWxCUyxhQUNJVixlQUFnQkMsMmRBQ2hCQyxhQUFjRCx5YkFFbEJVLG9CQUNJWCxlQUFnQkMsd2hDQUNoQkMsYUFBY0QsZzNCQUVsQlcsYUFDSVosZUFBZ0JDLG8xQkFDaEJDLGFBQWNELDZ2QkFFbEJZLGVBQ0liLGVBQWdCQywrWkFDaEJDLGFBQWNELHF3RUFFbEJhLHNCQUNJZCxlQUFnQkMsNCtCQUNoQkMsYUFBY0QsaTZEQUVsQmMsa0JBQ0lmLGVBQWdCQyxpT0FDaEJDLGFBQWNELHNPQUVsQmUsa0JBQ0loQixlQUFnQkMsa2lGQUNoQkMsYUFBY0Qsb09BRWxCZ0IsV0FDSWpCLGVBQWdCQyxrb0ZBQ2hCQyxhQUFjRCxxTkFFbEJpQixNQUNJbEIsZUFBZ0JDLDI3QkFDaEJDLGFBQWNELG1xR0FFbEJrQixhQUNJbkIsZUFBZ0JDLHdwRUFDaEJDLGFBQWNELDI1R0FFbEJtQixTQUNJcEIsZUFBZ0JDLG9nREFDaEJDLGFBQWNELDg1SEFFbEJsOEIsUUFDSWk4QixlQUFnQkMsazdDQUNoQkMsYUFBY0QscTBCQUVsQm9CLFlBQ0lyQixlQUFnQkMsNFhBQ2hCQyxhQUFjRCxvdEdBRWxCcUIsV0FDSXRCLGVBQWdCQyxpbERBQ2hCQyxhQUFjRCx1d0pBTWhCc0IsR0FBSyxrRUFHUHJoRCxJQUFNd2YsRUFBVW9nQyxHQUFRMEIsR0FDbEJDLEtBRU4vaEMsRUFBUXNnQyxlQUFpQnRnQyxFQUFRc2dDLGVBQWV4NUMsUUFBUSs2QyxZQUFLMzZDLEVBQWU4NkMsRUFBbUJDLEVBQW1CemtELEVBQWM4VSxHQUU1SCxPQURBeXZDLEVBQWdCenZDLElBQVEsRUFDTixXQUFkMHZDLDZCQUVZMXZDLGVBQ2QydkMsTUFBYXprRCxNQUFROFUsdUJBRXJCMnZDLE1BQWF6a0QsUUFBVThVLDBDQUtWQSxXQUNqQjJ2QyxNQUFhemtELE1BQVE4VSxVQUFZQSxrQkFNbkMwTixFQUFRd2dDLGFBQWV4Z0MsRUFBUXdnQyxhQUFhMTVDLFFBQVErNkMsWUFBSzM2QyxFQUFlODZDLEVBQW1CQyxFQUFtQnprRCxFQUFjOFUsR0FDeEg5UixJQUFNMGhELEVBQW9CLFVBQVQxa0QsRUFBbUIsT0FBUyxPQUM3QyxPQUFJdWtELEVBQWdCenZDLEdBQ0UsV0FBZDB2Qyw2QkFFUTF2Qyw0QkFDREEsb0JBQ1gydkMsTUFBYUMsUUFBYzV2QyxnQkFDN0IydkMsTUFBYXprRCxNQUFROFUsdUJBRXJCMnZDLE1BQWF6a0QsUUFBVThVLDJDQUtUQSxXQUNsQkEsbUJBQXFCNHZDLFFBQWM1dkMsU0FBV0Esc0JBRTlDMnZDLE1BQWF6a0QsTUFBUThVLFVBQVlBLGdCQUtULFdBQWQwdkMsNkJBRVExdkMsNEJBQ0RBLG9CQUNYMnZDLE1BQWFDLFFBQWM1dkMsdUJBRTdCMnZDLE1BQWF6a0QsUUFBVThVLDJDQUtUQSxXQUNsQjJ2QyxNQUFhemtELE1BQVE4VSxtQkFBcUI0dkMsUUFBYzV2QyxTQUFXQSxzQkFFbkUydkMsTUFBYXprRCxNQUFROFUsVUFBWUEsbUJBNUR2QyxRQUFXd3ZDLE1BQWUxQixVQW9FMUJ2aEQsT0FBaUJ1aEQsR0N0S1g5ZSxHQU1GLFNBQVk3Z0MsRUFDSjRhLEVBQ0E4bUMsRUFDQUMsT0FDRXA2QyxFQUFLdkgsRUFBUXVILEdBQ3ZCSCxLQUFTbVksUUFBVWhZLEVBQUdxNkMsZ0JBRXRCLElBQVVDLEVBQVVILEVBQWNHLFVBQVVwNkIscUNBQ05yaEIsRUFBUTdGLGlCQUFpQnVoRCxRQUFRLElBQy9ESCxHQUNKRSxFQUFZaCtDLEtBQUssK0JBR3JCLElBQVVnOEMsRUFBaUJnQyxFQUFRcDZCLE9BQU9rNEIsR0FBUUMsUUFBUUMsZUFBZ0JqbEMsRUFBT2lsQyxnQkFBZ0JqNUMsS0FBSyxNQUM1Rm01QyxFQUFlOEIsRUFBUXA2QixPQUFPazRCLEdBQVFDLFFBQVFHLGFBQWNubEMsRUFBT21sQyxjQUFjbjVDLEtBQUssTUFFdEZtN0MsRUFBaUJ4NkMsRUFBR3k2QyxhQUFhejZDLEVBQUcwNkMsaUJBQzlDMTZDLEVBQU8yNkMsYUFBYUgsRUFBZ0JsQyxHQUNwQ3Q0QyxFQUFPNDZDLGNBQWNKLEdBRXJCeDZDLEVBQU82NkMsYUFBYWg3QyxLQUFLbVksUUFBU3dpQyxHQUVsQyxJQUFVTSxFQUFlOTZDLEVBQUd5NkMsYUFBYXo2QyxFQUFHKzZDLGVBQzVDLzZDLEVBQU8yNkMsYUFBYUcsRUFBY3RDLEdBQ2xDeDRDLEVBQU80NkMsY0FBY0UsR0FFckI5NkMsRUFBTzY2QyxhQUFhaDdDLEtBQUttWSxRQUFTOGlDLEdBT2xDLElBREEsSUFBVUUsRUFBbUJiLEVBQWNhLHFCQUM5QjdnRCxFQUFJLEVBQUdBLEVBQUk2Z0QsRUFBaUI1Z0QsT0FBUUQsSUFDN0M2RixFQUFPaTdDLHdCQUF3QmpqQyxRQUFTN2QsRUFBRzZnRCxFQUFpQjdnRCxHQUFHbVEsTUFHbkV0SyxFQUFPazdDLFlBQVlyN0MsS0FBS21ZLFNBR3hCblksS0FBU21aLGNBQWdCaFosRUFBR203QyxvQkFBb0J0N0MsS0FBS21ZLFFBQVNoWSxFQUFHbzdDLG1CQUVqRXY3QyxLQUFTdkosY0FDVHVKLEtBQVN3N0MsWUFFVCxJQUFTbmhELElBQUlDLEVBQUksRUFBR0EsRUFBSTBGLEtBQUttWixjQUFlN2UsSUFBSyxDQUM3QyxJQUFVbWhELEVBQVl0N0MsRUFBR3U3QyxxQkFBcUJ2akMsUUFBUzdkLEdBQy9DbWhELFNBQ0tobEQsV0FBV2dsRCxFQUFVaHhDLE1BQVF0SyxFQUFHdzdDLHVCQUF1QnhqQyxRQUFTc2pDLEVBQVVoeEMsT0FLM0YsSUFEQSxJQUFVbXhDLEVBQWN6N0MsRUFBR203QyxvQkFBb0J0N0MsS0FBS21ZLFFBQVNoWSxFQUFHMDdDLGlCQUNuRHZoRCxFQUFJLEVBQUdBLEVBQUlzaEQsRUFBYXRoRCxJQUFLLENBQ3RDLElBQVV3aEQsRUFBVTM3QyxFQUFHNDdDLHNCQUFzQjVqQyxRQUFTN2QsR0FDOUN3aEQsU0FDS04sU0FBU00sRUFBUXJ4QyxNQUFRdEssRUFBRzY3Qyx3QkFBd0I3akMsUUFBUzJqQyxFQUFRcnhDLGtCQ0RqRnd4QyxHQUFpQkMsRUFBNEI3NUMsRUFBdUI4NUMsRUFBeUJDLEVBQThCcHBCLEdBRWhJLElBQUszNEIsSUFBSUMsRUFBSSxFQUFHQSxFQUFJNmhELEVBQVc1aEQsT0FBUUQsSUFBSyxDQUN4QzNCLElBQU02cUMsRUFBWTJZLEVBQVc3aEQsR0FFN0IsR0FBSThoRCxFQUFXbEUsV0FBVzFVLEVBQVU3eUIsUUFBUyxNQUU3QyxHQUFJdE8sRUFBSTJKLE1BQVF3M0IsRUFBVTd5QixPQUFPM0UsSUFDN0IsT0FDRyxHQUFJdzNCLEVBQVU3eUIsT0FBTzBnQyxVQUFVaHZDLEdBQU0sQ0FHeEMsSUFEQTFKLElBQU00cUMsRUFBV2xoQyxFQUFJa2hDLFNBQVNsWSxFQUFBQSxHQUNyQm1MLEVBQUksRUFBR0EsRUFBSStNLEVBQVNocEMsT0FBUWk4QixJQUFLLENBRXRDeWxCLEdBQWlCQyxFQURIM1ksRUFBUy9NLEdBQ1cybEIsRUFBV3Z4QyxNQUFNdFEsR0FBSThoRCxFQUFZcHBCLEdBRXZFLFFBTVJyNkIsSUFBTTBqRCxFQUFRaDZDLEVBQUlrUixZQUFjMm9DLEVBQVMzb0MsWUFDbkMrb0MsRUFBYSxJQUFJOWhDLGtCQUFnQjZoQyxFQUFPaDZDLEVBQUlzUSxVQUFVOU8sR0FBS3E0QyxFQUFTdnBDLFVBQVU5TyxHQUFLdzRDLEdBQVFoNkMsRUFBSXNRLFVBQVU3TyxHQUFLbzRDLEVBQVN2cEMsVUFBVTdPLEdBQUt1NEMsSUFDNUlycEIsRUFBS3NwQixFQUFXdHdDLEtBQU9nbkIsRUFBS3NwQixFQUFXdHdDLE1BQVFzd0MsV0MxRjFDQyxHQUEyQnhvQyxFQUFrQitJLEVBQTBCZ1YsRUFBbUJ3UyxFQUFpQ2tZLEdBQ2hJN2pELElBQU1DLEVBQVVtYixFQUFRbmIsUUFDbEJ1SCxFQUFLdkgsRUFBUXVILEdBQ2JnWSxFQUFVcWtDLEVBQWN6b0MsRUFBUTJsQixXQUFXLG1CQUFxQjNsQixFQUFRMmxCLFdBQVcsZ0JBRXpGOWdDLEVBQVFzbEMsYUFBYTVCLEdBQVVHLFVBQy9CN2pDLEVBQVF3bEMsZUFBZTFCLEdBQVlELFVBQ25DN2pDLEVBQVEwbEMsYUFBYXZxQixFQUFRMG9DLDBCQUU3QixJQUFLcGlELElBQUlDLEVBQUksRUFBR0EsRUFBSWdxQyxFQUFPL3BDLE9BQVFELElBQUssQ0FDcEMzQixJQUFNNGMsRUFBUSt1QixFQUFPaHFDLEdBQ2Z3WSxFQUFPZ0ssRUFBWTBrQixRQUFRanNCLEdBQzNCeU8sRUFBeUJsUixFQUFLK2UsVUFBVUMsR0FDOUMsR0FBSzlOLEVBQUwsQ0FDQXJyQixJQUFNK2pELEVBQVVGLEVBQWN4NEIsRUFBTzRvQixnQkFBa0I1b0IsRUFBT3NJLGFBQzlELEdBQUtvd0IsRUFBTCxDQUdBdjhDLEVBQUd3OEMsaUJBQWlCeGtDLEVBQVFxakMsU0FBU29CLFVBQVUsRUFBT3JuQyxFQUFNbU4sV0FFdkQ4NUIsR0FDRDVqRCxFQUFRa2hDLFVBQVVyNUIsSUFBSSxHQUcxQk4sRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBU3NCLDRCQUE2Qi9vQyxFQUFRbUcsVUFBVTZMLHdCQUM3RXB0QixJQUFNdUssRUFBYTJmLEdBQWtCL1AsRUFBTSxFQUFHaUIsRUFBUW1HLFVBQVVsSixNQUMxREcsRUFBUTFMLEtBQUtrQixJQUFJLEVBQUdvTixFQUFRbUcsVUFBVWxKLEtBQU84QixFQUFLbkMsT0FBTzRDLGFBQy9EcFQsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBU3VCLHVCQUF3Qjc1QyxHQUN0RC9DLEVBQUc2OEMsVUFBVTdrQyxFQUFRcWpDLFNBQVN5QixnQkFDMUJscEMsRUFBUW1HLFVBQVVnakMsZ0JBQWdCLElBQU1oNkMsRUFBYWlPLEdBQ3JENEMsRUFBUW1HLFVBQVVnakMsZ0JBQWdCLElBQU1oNkMsRUFBYWlPLElBQ3pEaFIsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBUzJCLG1CQUFvQnJxQyxFQUFLbkMsT0FBT3FDLG1CQUU5RG1GLEVBQVFoUyxLQUNKdk4sRUFDQTRqRCxFQUFjcjhDLEVBQUdpOUMsVUFBWWo5QyxFQUFHazlDLE1BQ2hDdnJCLEVBQU10NUIsR0FDTmtrRCxFQUFRdGtDLG1CQUNSc2tDLEVBQVFwa0MsWUFDUm9rQyxFQUFROXBCLFNBQ1IsS0FDQThwQixFQUFROU8sc0JBQ1IsU0Y4QlpuVSxhQUFJdHpCLGNBQUt2TixFQUNKMGtELEVBQ0F0L0IsRUFDQTVGLEVBQ0FFLEVBQ0FzYSxFQUNBMG5CLEVBQ0FpRCxFQUNBQyxHQVNELFVBUFVyOUMsRUFBS3ZILEVBQVF1SCxHQUViczlDLFVBQ0R0OUMsRUFBR2s5QyxPQUFRLElBQ1hsOUMsRUFBR2k5QyxXQUFZLEtBQ2xCRSxTQUVvQjFxQixFQUFTNTNCLHNCQUFPLENBQ3RDLElBRFcyc0IsT0FDRCsxQixFQUFPLzFCLEVBQVErMUIsT0FBUy8xQixFQUFRKzFCLFVBQ1BBLEVBQUsxL0IsS0FBYTAvQixFQUFLMS9CLEdBQVcsSUFBSXJHLEtBRWpFcGpCLEtBQ0pxRSxPQUVBd2YsRUFDQWtpQyxFQUFvQkEsRUFBY3FELDJCQUNsQ3JsQyxFQUNBcVAsRUFBWXBQLGFBQ1pnbEMsRUFDQUMsR0FHSnI5QyxFQUFPeTlDLGFBQ0hOLEVBQ0EzMUIsRUFBWW1NLGdCQUFrQjJwQixFQUM5QnQ5QyxFQUFPMDlDLGVBQ1BsMkIsRUFBWW0yQixnQkFBa0JMLEVBQWdCLFNHakhwRE0sR0FBZWg3QixPQUFLQyxTQUFTLElBQUlDLGFBQWEsS0FFOUNWLEdBQXlCaFosWUFBV2laLE9BOEMxQyxTQUFTdzdCLEdBQWlCanFDLEVBQVMrSSxFQUFhZ1YsRUFBT3dTLEVBQVFyZ0IsRUFBUWIsRUFBVzY2QixFQUM5RUMsRUFBbUJDLEVBQWdCLzVCLEdBRW5DenJCLElBZ0JJd2YsRUFoQkV2ZixFQUFVbWIsRUFBUW5iLFFBQ2xCdUgsRUFBS3ZILEVBQVF1SCxHQUNiaStDLEVBQUtycUMsRUFBUW1HLFVBRWIwSSxFQUFzQyxRQUF0QnM3QixFQUNoQnY3QixFQUFrQyxRQUFuQnc3QixFQUNmRSxFQUFZejdCLEdBQTBELFNBQXpDa1AsRUFBTXRQLE9BQU94bkIsSUFBSSxvQkFJOUNzakQsRUFBaUIxN0IsSUFBa0JELElBQWlCMDdCLEVBRXBERSxFQUFVNTdCLEVBRWhCL3BCLEVBQVFzbEMsYUFBYXFnQixFQUFVeHFDLEVBQVF5cUMscUJBQXFCLEVBQUdsaUIsR0FBVUMsVUFBWUQsR0FBVUcsVUFJL0YsSUFBSyxVQUFlNkgsa0JBQVEsQ0FBdkIzckMsSUFBTTRjLE9BQ0R6QyxFQUFPZ0ssRUFBWTBrQixRQUFRanNCLEdBQzNCeU8sRUFBd0JsUixFQUFLK2UsVUFBVUMsR0FDN0MsR0FBSzlOLEVBQUwsQ0FDQXJyQixJQUFNK2pELEVBQVV6NEIsRUFBU0QsRUFBT1csS0FBT1gsRUFBT1ksS0FDOUMsR0FBSzgzQixHQUFZQSxFQUFROXBCLFNBQVM1M0IsTUFBTVQsT0FBeEMsQ0FDQTVCLElBQU04bEQsRUFBdUIvQixFQUFRZ0Msc0JBQXNCMWpELElBQUk4MkIsRUFBTXQ1QixJQUUvRG1tRCxFQUFRMTZCLEdBQVVELEVBQU80NkIsU0FFekJ2NkIsRUFBV0osRUFBU0QsRUFBT00sYUFBZU4sRUFBT08sYUFZdkQsR0FWS3BNLElBQ0RBLEVBQVVwRSxFQUFRMmxCLFdBQVdpbEIsRUFBUSxZQUFjLGFBQWNGLEdBQ2pFQSxFQUFxQkksWUFBWTlxQyxFQUFRbmIsUUFBU3VmLEVBQVMyWixFQUFNeVcsT0FBUXYzQixLQUFNK0MsRUFBUW1HLFVBQVVsSixPQUVqRzh0QyxHQUFtQjNtQyxFQUFTcEUsRUFBUytkLEVBQU83TixFQUFRcTZCLEVBQWdCMzdCLEVBQWMwQixJQUd0RnpyQixFQUFRcWhDLGNBQWN4NUIsSUFBSU4sRUFBRzY1QixVQUM3Qjc1QixFQUFHNCtDLFVBQVU1bUMsRUFBUXFqQyxTQUFTd0QsVUFBVyxHQUVyQy82QixFQUNBblIsRUFBSzZlLGtCQUFrQnA5QixLQUFLNEwsRUFBRytELE9BQVEvRCxFQUFHZ0UsZUFDMUNoRSxFQUFHOCtDLFdBQVc5bUMsRUFBUXFqQyxTQUFTMEQsVUFBV3BzQyxFQUFLNmUsa0JBQWtCMXhCLFVBQzlELENBQ0h0SCxJQUFNd21ELEVBQTZELElBQWhEcnRCLEVBQU10UCxPQUFPeG5CLElBQUksYUFBYW9rRCxXQUFXLElBQVlwN0IsRUFBT3E3QixnQkFDekVDLEVBQWtCMzhCLEdBQTZCLElBQWJ5N0IsRUFBRzVXLE1BRTNDMTBCLEVBQUs0ZSxpQkFBaUJuOUIsS0FBS29xRCxHQUFTNXFDLEVBQVF4Z0IsUUFBUWdzRCxVQUFZeHJDLEVBQVF4Z0IsUUFBUWlzRCxTQUFXTCxHQUFjRyxFQUNyR24vQyxFQUFHK0QsT0FBUy9ELEVBQUdzL0MsUUFBU3QvQyxFQUFHZ0UsZUFDL0JoRSxFQUFHOCtDLFdBQVc5bUMsRUFBUXFqQyxTQUFTMEQsVUFBV3BzQyxFQUFLNGUsaUJBQWlCenhCLE1BR3BFRSxFQUFHdzhDLGlCQUFpQnhrQyxFQUFRcWpDLFNBQVNvQixVQUFVLEVBQU83b0MsRUFBUTJyQyxtQkFBbUJucUMsRUFBTW1OLFVBQVc1UCxFQUFNc1EsRUFBVzY2QixJQUVuSHRsRCxJQUFNdU4sRUFBSTJjLEdBQWtCL1AsRUFBTSxFQUFHaUIsRUFBUW1HLFVBQVVsSixNQUNqRGtULEVBQW1CeTdCLEdBQXFDcHFDLEVBQU1tTixVQUFXQyxFQUFjQyxFQUFlN08sRUFBUW1HLFVBQVdoVSxHQUN6SGllLEVBQWdCdzdCLEdBQWtDcHFDLEVBQU1tTixVQUFXQyxFQUFjQyxFQUFlN08sRUFBUW1HLFVBQVdoVSxHQUN6SC9GLEVBQUd3OEMsaUJBQWlCeGtDLEVBQVFxakMsU0FBU29FLG1CQUFtQixFQUFPN3JDLEVBQVEyckMsbUJBQW1CdjdCLEVBQWVyUixFQUFNc1EsRUFBVzY2QixHQUFpQixJQUV2SUksR0FDQWwrQyxFQUFHdzhDLGlCQUFpQnhrQyxFQUFRcWpDLFNBQVNxRSxzQkFBc0IsRUFBTzlCLElBQ2xFNEIsR0FBa0MzN0IsRUFBUXpPLEVBQU1tTixVQUFXM08sRUFBU2tRLEVBQVFDLEVBQWtCQyxFQUFleEIsRUFBY3lCLElBRTNIamtCLEVBQUd3OEMsaUJBQWlCeGtDLEVBQVFxakMsU0FBU3FFLHNCQUFzQixFQUFPMzdCLEdBR3RFL2pCLEVBQUcwOEMsVUFBVTFrQyxFQUFRcWpDLFNBQVNzRSxjQUFlL3JDLEVBQVF4Z0IsUUFBUWcyQyxhQUFleDFCLEVBQVE4NUIsaUJBQW1CLEdBRXZHa1MsR0FBZ0I1bkMsRUFBU3NtQyxFQUFzQjFxQyxFQUFTK2QsRUFBT2hmLEVBQU00cEMsRUFBU3o0QixFQUFRMDZCLEVBQU9oOEIsTUFJckcsU0FBU204QixHQUFtQjNtQyxFQUFTcEUsRUFBUytkLEVBQU83TixFQUFRcTZCLEVBQWdCMzdCLEVBQWMwQixHQUV2RjFyQixJQUFNd0gsRUFBSzRULEVBQVFuYixRQUFRdUgsR0FDckJpK0MsRUFBS3JxQyxFQUFRbUcsVUFFbkIvWixFQUFHNCtDLFVBQVU1bUMsRUFBUXFqQyxTQUFTd0UsaUJBQWtCcjlCLEVBQWUsRUFBSSxHQUVuRXhpQixFQUFHMDhDLFVBQVUxa0MsRUFBUXFqQyxTQUFTeUUsVUFBV2g4QixFQUFTLEVBQUksR0FFdEQ5akIsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBUzBFLFFBQVM5QixFQUFHNVcsTUFBUSxJQUFNLEVBQUkvaEMsS0FBS3FKLElBRWpFblcsSUFBTXduRCxFQUEyQyxhQUExQjk3QixFQUFTKzdCLGNBQXlELFdBQTFCLzdCLEVBQVMrN0IsYUFDbEVDLEVBQThDLGFBQTFCaDhCLEVBQVMrN0IsY0FBeUQsV0FBMUIvN0IsRUFBUys3QixhQUMzRWpnRCxFQUFHNCtDLFVBQVU1bUMsRUFBUXFqQyxTQUFTOEUsd0JBQXlCSCxFQUFpQixFQUFJLEdBQzVFaGdELEVBQUc0K0MsVUFBVTVtQyxFQUFRcWpDLFNBQVMrRSwyQkFBNEJGLEVBQW9CLEVBQUksR0FFbEZsZ0QsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBU3NCLDRCQUE2QnNCLEVBQUdyNEIsd0JBRTlEcHRCLElBQU1zSCxFQUFPd2tCLHNCQUErQkosRUFBVSs1QixFQUFHcHRDLEtBQU11UixHQUF1QmhaLFdBQVcwYSxFQUFTLFlBQWMsbUJBQ3BHNXRCLElBQWhCNEosRUFBS3VnRCxRQUFzQnJnRCxFQUFHMDhDLFVBQVUxa0MsRUFBUXFqQyxTQUFTaUYsU0FBVXhnRCxFQUFLdWdELGFBQ3pEbnFELElBQWY0SixFQUFLeWdELE9BQXFCdmdELEVBQUcwOEMsVUFBVTFrQyxFQUFRcWpDLFNBQVNtRixPQUFRMWdELEVBQUt5Z0QsT0FFekV2Z0QsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBU29GLGVBQWdCeEMsRUFBR3RsRCxNQUFRc2xELEVBQUdybEQsUUFDNURvSCxFQUFHNCtDLFVBQVU1bUMsRUFBUXFqQyxTQUFTcUYsZ0JBQWlCdkMsRUFBaUIsRUFBSSxHQUd4RSxTQUFTeUIsR0FBZ0I1bkMsRUFBU3NtQyxFQUFzQjFxQyxFQUFTK2QsRUFBT2hmLEVBQU00cEMsRUFBU3o0QixFQUFRMDZCLEVBQU9oOEIsR0FFbEdocUIsSUFBTUMsRUFBVW1iLEVBQVFuYixRQUNsQnVILEVBQUt2SCxFQUFRdUgsR0FDYmkrQyxFQUFLcnFDLEVBQVFtRyxVQUVuQixHQUFJeWtDLEVBQU8sQ0FDUGhtRCxJQUFNbW9ELEVBQTRGLElBQWxGaHZCLEVBQU15VyxNQUFNdnRDLElBQUlpcEIsRUFBUyxrQkFBb0IsbUJBQW1CbTdCLFdBQVcsR0FDckYyQixFQUFjcCtCLEVBQWVsZCxLQUFLb0osSUFBSXV2QyxFQUFHcnlCLFFBQVVxeUIsRUFBR3I0Qix1QkFBeUIsRUFDckY1bEIsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBU3dGLGNBQWVELEdBRXpDRCxJQUNBM2dELEVBQUcwOEMsVUFBVTFrQyxFQUFRcWpDLFNBQVN5RixVQUFXLEdBQ3pDQyxHQUFtQnhFLEVBQVM1cUIsRUFBT2w1QixFQUFTdWYsSUFHaERoWSxFQUFHMDhDLFVBQVUxa0MsRUFBUXFqQyxTQUFTeUYsVUFBVyxHQUc3Q0MsR0FBbUJ4RSxFQUFTNXFCLEVBQU9sNUIsRUFBU3VmLEdBR2hELFNBQVMrb0MsR0FBbUJ4RSxFQUFTNXFCLEVBQU9sNUIsRUFBU3VmLEdBQ2pEQSxFQUFRaFMsS0FDSnZOLEVBQ0FBLEVBQVF1SCxHQUFHaTlDLFVBQ1h0ckIsRUFBTXQ1QixHQUNOa2tELEVBQVF0a0MsbUJBQ1Jza0MsRUFBUXBrQyxZQUNSb2tDLEVBQVE5cEIsU0FDUjhwQixFQUFRZ0Msc0JBQXNCMWpELElBQUk4MkIsRUFBTXQ1QixJQUN4Q2trRCxFQUFRajJCLDBCQUNSaTJCLEVBQVEvTyxxQkMxSWhCLFNBQVN3VCxHQUFhaHBDLEVBQVNwRSxFQUFTakIsRUFBTWtSLEVBQVE4TixFQUFPdmMsRUFBT2twQyxFQUFzQjJDLEVBQWdCQyxHQUN0RzFvRCxJQUtJMm9ELEVBQU1DLEVBQU1DLEVBQVdDLEVBTHJCN29ELEVBQVVtYixFQUFRbmIsUUFDbEJ1SCxFQUFLdkgsRUFBUXVILEdBQ2I0TCxFQUFZK2xCLEVBQU15VyxNQUFNdnRDLElBQUksa0JBQzVCOEUsRUFBUWd5QixFQUFNeVcsTUFBTXZ0QyxJQUFJLGdCQUk5QixHQUFJb21ELEdBQWtCQyxFQUFrQixDQUNwQzFvRCxJQUFNK29ELEVBQVksRUFBSTcrQixHQUFrQi9QLEVBQU0sRUFBR2lCLEVBQVFtRyxVQUFVeW5DLFVBRW5FLEdBQUk1MUMsRUFBVyxDQUNYdTFDLEVBQU92dEMsRUFBUTYrQixVQUFVOW1DLFFBQVFDLEVBQVU2MUMsS0FBdUMsVUFBakM5dkIsRUFBTXRQLE9BQU94bkIsSUFBSSxhQUNsRXVtRCxFQUFPeHRDLEVBQVE2K0IsVUFBVTltQyxRQUFRQyxFQUFVODFDLEdBQXFDLFVBQWpDL3ZCLEVBQU10UCxPQUFPeG5CLElBQUksYUFFaEVyQyxJQUFNbXBELEVBQVNSLEVBQUt4b0QsTUFBUWlULEVBQVVnMkMsVUFDaENDLEVBQVNULEVBQUt6b0QsTUFBUWlULEVBQVVrMkMsUUFFdEM5aEQsRUFBRzY4QyxVQUFVN2tDLEVBQVFxakMsU0FBUzBHLGlCQUFrQlIsRUFBWUksR0FBU1IsRUFBS3ZvRCxPQUFTLEdBQ25Gb0gsRUFBRzY4QyxVQUFVN2tDLEVBQVFxakMsU0FBUzJHLGlCQUFrQlQsRUFBWU0sR0FBU1QsRUFBS3hvRCxPQUFTLEdBQ25Gb0gsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBUzRHLFdBQVlydUMsRUFBUTYrQixVQUFVOTVDLE9BQW9DLElBQTNCMk0sS0FBS29CLElBQUlpN0MsRUFBUUUsR0FBZ0JoakQsRUFBUTdGLGtCQUFvQixRQUUvSCxHQUFJMkcsRUFBTyxDQUdkLEdBRkEwaEQsRUFBWXp0QyxFQUFRMitCLGFBQWFudkMsV0FBV3pELEVBQU04aEQsTUFDbERILEVBQVkxdEMsRUFBUTIrQixhQUFhbnZDLFdBQVd6RCxFQUFNK2hELEtBQzdDTCxJQUFjQyxFQUFXLE9BRTlCdGhELEVBQUc2OEMsVUFBVTdrQyxFQUFRcWpDLFNBQVM2RyxpQkFBa0JiLEVBQVVjLFlBQVksR0FBS3hpRCxFQUFNaWlELFVBQVlMLEVBQVdGLEVBQVVjLFlBQVksSUFDOUhuaUQsRUFBRzY4QyxVQUFVN2tDLEVBQVFxakMsU0FBUytHLGlCQUFrQmQsRUFBVWEsWUFBWSxHQUFLeGlELEVBQU1taUQsUUFBVVAsRUFBV0QsRUFBVWEsWUFBWSxJQUU1SCxNQUF3QnZ1QyxFQUFRMitCLGFBQWF0dkMsZUFBdEN0SyxVQUFPQyxXQUNkb0gsRUFBRzgrQyxXQUFXOW1DLEVBQVFxakMsU0FBUzBELFdBQVlwbUQsRUFBT0MsSUFHdERvSCxFQUFHNjhDLFVBQVU3a0MsRUFBUXFqQyxTQUFTZ0gscUJBQXNCLEVBQUl6dUMsRUFBUW1HLFVBQVVnakMsZ0JBQWdCLEdBQUksRUFBSW5wQyxFQUFRbUcsVUFBVWdqQyxnQkFBZ0IsSUFHcElrRSxJQUVJcjFDLEdBQ0E1TCxFQUFHNCtDLFVBQVU1bUMsRUFBUXFqQyxTQUFTaUgsUUFBUyxHQUN2QzdwRCxFQUFRcWhDLGNBQWN4NUIsSUFBSU4sRUFBRzY1QixVQUM3QmptQixFQUFRNitCLFVBQVVyK0MsS0FBS3FFLEdBRXZCdUgsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBU2tILFVBQVlwQixFQUFXeDlDLEdBQ3JEM0QsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBU21ILFVBQVlwQixFQUFXejlDLEdBQ3JEM0QsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBU29ILE1BQU83MkMsRUFBVXpDLElBRXhDeEosSUFDUEssRUFBRzQrQyxVQUFVNW1DLEVBQVFxakMsU0FBU2lILFFBQVMsR0FDdkM3cEQsRUFBUXFoQyxjQUFjeDVCLElBQUlOLEVBQUc2NUIsVUFDN0JqbUIsRUFBUTIrQixhQUFhbitDLEtBQUtxRSxHQUUxQnVILEVBQUc4K0MsV0FBVzltQyxFQUFRcWpDLFNBQVNxSCxlQUFpQnJCLEVBQWdCc0IsSUFDaEUzaUQsRUFBRzgrQyxXQUFXOW1DLEVBQVFxakMsU0FBU3VILGVBQWlCdkIsRUFBZ0J3QixJQUNoRTdpRCxFQUFHOCtDLFdBQVc5bUMsRUFBUXFqQyxTQUFTeUgsZUFBaUJ4QixFQUFnQnFCLElBQ2hFM2lELEVBQUc4K0MsV0FBVzltQyxFQUFRcWpDLFNBQVMwSCxlQUFpQnpCLEVBQWdCdUIsSUFDaEU3aUQsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBUzJILE9BQVFyakQsRUFBTXdKLEtBSXBEMVEsRUFBUXdsQyxlQUFlcnFCLEVBQVFxdkMsdUJBQXVCN3RDLElBRXRENWMsSUFBTStwQixFQUFZM08sRUFBUTJyQyxtQkFBbUJucUMsRUFBTW1OLFVBQVc1UCxFQUFNZ2YsRUFBTXlXLE1BQU12dEMsSUFBSSxrQkFBbUI4MkIsRUFBTXlXLE1BQU12dEMsSUFBSSwwQkFDdkhtRixFQUFHdzhDLGlCQUFpQnhrQyxFQUFRcWpDLFNBQVNvQixVQUFVLEVBQU9sNkIsR0FFdER2aUIsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBUzZILFFBQVMsRUFBSXhnQyxHQUFrQi9QLEVBQU0sRUFBR2lCLEVBQVFtRyxVQUFVbEosT0FFeEZtSCxFQUFRaFMsS0FDSnZOLEVBQ0F1SCxFQUFHaTlDLFVBQ0h0ckIsRUFBTXQ1QixHQUNOd3JCLEVBQU81TCxtQkFDUDRMLEVBQU8xTCxZQUNQMEwsRUFBTzRPLFNBQ1A2ckIsT0M5R0s2RSxHQUFtQixTQUFTeGpELEVBQTRCaVUsR0FDakUsSUFBS2pVLEVBQU8sT0FBTyxFQUNuQm5ILElBQU02b0QsRUFBWXp0QyxFQUFRMitCLGFBQWFudkMsV0FBV3pELEVBQU04aEQsTUFDbERILEVBQVkxdEMsRUFBUTIrQixhQUFhbnZDLFdBQVd6RCxFQUFNK2hELElBQ3hELE9BQVFMLElBQWNDLEdBR2IxbUMsR0FBVSxTQUFVamIsRUFBMkJpVSxFQUFrQm9FLEdBQzFFeGYsSUFBTUMsRUFBVW1iLEVBQVFuYixRQUNsQnVILEVBQUt2SCxFQUFRdUgsR0FFYnFoRCxFQUFZenRDLEVBQVEyK0IsYUFBYW52QyxXQUFXekQsRUFBTThoRCxNQUNsREgsRUFBWTF0QyxFQUFRMitCLGFBQWFudkMsV0FBV3pELEVBQU0raEQsSUFHeEQxaEQsRUFBRzQrQyxVQUFVNW1DLEVBQVFxakMsU0FBU2lILFFBQVMsR0FDdkN0aUQsRUFBRzgrQyxXQUFXOW1DLEVBQVFxakMsU0FBU3FILGVBQWlCckIsRUFBZ0JzQixJQUNoRTNpRCxFQUFHOCtDLFdBQVc5bUMsRUFBUXFqQyxTQUFTdUgsZUFBaUJ2QixFQUFnQndCLElBQ2hFN2lELEVBQUc4K0MsV0FBVzltQyxFQUFRcWpDLFNBQVN5SCxlQUFpQnhCLEVBQWdCcUIsSUFDaEUzaUQsRUFBRzgrQyxXQUFXOW1DLEVBQVFxakMsU0FBUzBILGVBQWlCekIsRUFBZ0J1QixJQUNoRSxNQUF3Qmp2QyxFQUFRMitCLGFBQWF0dkMsZUFBdEN0SyxVQUFPQyxXQUNkb0gsRUFBRzgrQyxXQUFXOW1DLEVBQVFxakMsU0FBUzBELFdBQVlwbUQsRUFBT0MsSUFDbERvSCxFQUFHMDhDLFVBQVUxa0MsRUFBUXFqQyxTQUFTb0gsTUFBTzlpRCxFQUFNd0osR0FDM0NuSixFQUFHOCtDLFdBQVc5bUMsRUFBUXFqQyxTQUFTNkcsaUJBQW1CYixFQUFnQmMsYUFDbEVuaUQsRUFBRzgrQyxXQUFXOW1DLEVBQVFxakMsU0FBUytHLGlCQUFtQmQsRUFBZ0JhLGFBQ2xFbmlELEVBQUcwOEMsVUFBVTFrQyxFQUFRcWpDLFNBQVMrSCxVQUFXempELEVBQU1paUQsV0FDL0M1aEQsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBU2dJLFVBQVcxakQsRUFBTW1pRCxTQUUvQ3JwRCxFQUFRcWhDLGNBQWN4NUIsSUFBSU4sRUFBRzY1QixVQUM3QmptQixFQUFRMitCLGFBQWFuK0MsS0FBS3dmLEVBQVFuYixVQUd6QjZxRCxHQUFxQixTQUFVM3dDLEVBQW9EaUIsRUFBa0JvRSxHQUM5R3hmLElBQU13SCxFQUFLNFQsRUFBUW5iLFFBQVF1SCxHQUUzQkEsRUFBRzA4QyxVQUFVMWtDLEVBQVFxakMsU0FBU2tJLHVCQUF3QixFQUFJN2dDLEdBQWtCL1AsRUFBTSxFQUFHaUIsRUFBUW1HLFVBQVV5bkMsV0FFdkdocEQsSUFBTWdyRCxFQUFXbCtDLEtBQUtrQixJQUFJLEVBQUdtTSxFQUFLbkMsT0FBTzRDLGFBQ25DcXdDLEVBQXdCOXdDLEVBQUtoVSxTQUFXMkcsS0FBS2tCLElBQUksRUFBR29OLEVBQVFtRyxVQUFVeW5DLFVBQVlnQyxFQUVsRkUsRUFBU0QsR0FBeUI5d0MsRUFBS25DLE9BQU9nQyxVQUFVOU8sRUFBSWlQLEVBQUtuQyxPQUFPNVAsS0FBTzRpRCxHQUMvRUcsRUFBU0YsRUFBd0I5d0MsRUFBS25DLE9BQU9nQyxVQUFVN08sRUFHN0QzRCxFQUFHNjhDLFVBQVU3a0MsRUFBUXFqQyxTQUFTdUksb0JBQXFCRixHQUFVLEdBQUlDLEdBQVUsSUFDM0UzakQsRUFBRzY4QyxVQUFVN2tDLEVBQVFxakMsU0FBU3dJLG9CQUE4QixNQUFUSCxFQUEwQixNQUFUQyxJQ0F4RSxTQUFTRyxHQUFjbHdDLEVBQVMrSSxFQUFhZ1YsRUFBT3dTLEVBQVE0ZixHQUN4RCxJQUFJWixHQUFpQnh4QixFQUFNeVcsTUFBTXZ0QyxJQUFJLGdCQUFpQitZLEdBR3RELElBREExWixJQUFJOHBELEdBQVksUUFDSTdmLGtCQUFRLENBQXZCM3JDLElBQU00YyxPQUNEekMsRUFBT2dLLEVBQVkwa0IsUUFBUWpzQixHQUMzQnlPLEVBQXVCbFIsRUFBSytlLFVBQVVDLEdBQ3ZDOU4sSUFFTGpRLEVBQVFuYixRQUFRd2xDLGVBQWVycUIsRUFBUXF2Qyx1QkFBdUI3dEMsSUFDOUQydUMsRUFBT253QyxFQUFTK0ksRUFBYWdWLEVBQU9oZixFQUFNeUMsRUFBT3lPLEVBQVFtZ0MsR0FDekRBLEdBQVksSUFJcEIsU0FBU0MsR0FBYXJ3QyxFQUFTK0ksRUFBYWdWLEVBQU9oZixFQUFNeUMsRUFBT3lPLEVBQVFtZ0MsR0FDcEV4ckQsSUFBTXdILEVBQUs0VCxFQUFRbmIsUUFBUXVILEdBQ3JCcytDLEVBQXVCejZCLEVBQU8wNkIsc0JBQXNCMWpELElBQUk4MkIsRUFBTXQ1QixJQUVwRDZyRCxHQUFlLE9BQVF2eUIsRUFBTXlXLE1BQU12dEMsSUFBSSxnQkFBaUIrWSxFQUFTMHFDLEVBQXNCM3NCLEVBQU9oZixFQUFNeUMsRUFBTzR1QyxHQUVuSGgrQyxLQUNKNE4sRUFBUW5iLFFBQ1J1SCxFQUFHaTlDLFVBQ0h0ckIsRUFBTXQ1QixHQUNOd3JCLEVBQU81TCxtQkFDUDRMLEVBQU8xTCxZQUNQMEwsRUFBTzRPLFNBQ1A2ckIsR0FHUixTQUFTNkYsR0FBZXZ3QyxFQUFTK0ksRUFBYWdWLEVBQU9oZixFQUFNeUMsRUFBT3lPLEVBQVFtZ0MsR0FDdEV4ckQsSUFBTXdILEVBQUs0VCxFQUFRbmIsUUFBUXVILEdBQ3JCcytDLEVBQXVCejZCLEVBQU8wNkIsc0JBQXNCMWpELElBQUk4MkIsRUFBTXQ1QixJQUc5RDJmLEVBQVVrc0MsR0FBZSxjQUZmdnlCLEVBQU1xa0IsaUJBQWlCLHNCQUF3QixLQUFPcmtCLEVBQU15VyxNQUFNdnRDLElBQUksZ0JBRS9CK1ksRUFBUzBxQyxFQUFzQjNzQixFQUFPaGYsRUFBTXlDLEVBQU80dUMsR0FDMUdoa0QsRUFBRzY4QyxVQUFVN2tDLEVBQVFxakMsU0FBUytJLFFBQVNwa0QsRUFBR2c2QixtQkFBb0JoNkIsRUFBR2k2QixxQkFFakVqaUIsRUFBUWhTLEtBQ0o0TixFQUFRbmIsUUFDUnVILEVBQUdrOUMsTUFDSHZyQixFQUFNdDVCLEdBQ053ckIsRUFBTzVMLG1CQUNQNEwsRUFBT3dnQyxhQUNQeGdDLEVBQU95Z0MsVUFDUGhHLEdBR1IsU0FBUzRGLEdBQWVLLEVBQVdDLEVBQTBCNXdDLEVBQVMwcUMsRUFBc0Izc0IsRUFBT2hmLEVBQU15QyxFQUFPNHVDLEdBQzVHOXBELElBQUk4ZCxFQUNFeXNDLEVBQWM3d0MsRUFBUW5iLFFBQVF1ZixRQUFRbmQsTUFtQjVDLE9BbEJLMnBELEdBTUR4c0MsRUFBVXBFLEVBQVEybEIsV0FBY2dyQixZQUFvQmpHLElBQ2hEMEYsR0FBYWhzQyxFQUFRQSxVQUFZeXNDLEtBQ2pDbkcsRUFBcUJJLFlBQVk5cUMsRUFBUW5iLFFBQVN1ZixFQUFTMlosRUFBTXlXLE9BQVF2M0IsS0FBTStDLEVBQVFtRyxVQUFVbEosT0FDakc2ekMsR0FBZUYsRUFBSzV3QyxFQUFTb0UsSUFFakNzckMsR0FBbUIzd0MsRUFBTWlCLEVBQVNvRSxLQVZsQ0EsRUFBVXBFLEVBQVEybEIsV0FBV2dyQixFQUFXakcsSUFDcEMwRixHQUFhaHNDLEVBQVFBLFVBQVl5c0MsSUFDakNuRyxFQUFxQkksWUFBWTlxQyxFQUFRbmIsUUFBU3VmLEVBQVMyWixFQUFNeVcsT0FBUXYzQixLQUFNK0MsRUFBUW1HLFVBQVVsSixRQVV6RytDLEVBQVFuYixRQUFRdUgsR0FBR3c4QyxpQkFBaUJ4a0MsRUFBUXFqQyxTQUFTb0IsVUFBVSxFQUFPN29DLEVBQVEyckMsbUJBQzFFbnFDLEVBQU1tTixVQUFXNVAsRUFDakJnZixFQUFNeVcsTUFBTXZ0QyxJQUFJLGtCQUNoQjgyQixFQUFNeVcsTUFBTXZ0QyxJQUFJLDJCQUVibWQsTUN2SEwyc0MsR0FBT0MsYUFBU0QsS0FDaEIvaEMsR0FBT2dpQyxhQUFTaGlDLEtBQ2hCaWlDLEdBQU9ELGFBQVNDLEtBOEZ0QixTQUFTQyxHQUFjbHhDLEVBQVNQLEVBQVFzZSxFQUFPaGYsRUFBTXlDLEVBQU95TyxFQUFRNkQsR0FDaEVsdkIsSUFBTUMsRUFBVW1iLEVBQVFuYixRQUNsQnVILEVBQUt2SCxFQUFRdUgsR0FFYkwsRUFBUWd5QixFQUFNeVcsTUFBTXZ0QyxJQUFJLDBCQUV4QjRwRCxFQUFjN3dDLEVBQVFuYixRQUFRdWYsUUFBUW5kLE1BQ3RDeWpELEVBQXVCejZCLEVBQU8wNkIsc0JBQXNCMWpELElBQUk4MkIsRUFBTXQ1QixJQUM5RDJmLEVBQVVwRSxFQUFRMmxCLFdBQVc1NUIsRUFBUSx1QkFBeUIsZ0JBQWlCMitDLEdBS3JGLElBSkk1MkIsR0FBUzFQLEVBQVFBLFVBQVl5c0MsSUFDN0JuRyxFQUFxQkksWUFBWWptRCxFQUFTdWYsRUFBUzJaLEVBQU15VyxPQUFRdjNCLEtBQU0rQyxFQUFRbUcsVUFBVWxKLE9BR3pGbFIsRUFBTyxDQUNQLEdBQUl3akQsR0FBaUJ4akQsRUFBT2lVLEdBQVUsT0FDdEM4d0MsR0FBZS9rRCxFQUFPaVUsRUFBU29FLEdBQy9Cc3JDLEdBQW1CM3dDLEVBQU1pQixFQUFTb0UsR0FDbENoWSxFQUFHMDhDLFVBQVUxa0MsRUFBUXFqQyxTQUFTMEosaUJBQWtCei9DLEtBQUtrQixJQUFJLEVBQUc0TyxFQUFNaEMsYUFBZVQsRUFBS2hVLFNBQVcsR0FHckdpVixFQUFRbmIsUUFBUXVILEdBQUd3OEMsaUJBQWlCeGtDLEVBQVFxakMsU0FBU29CLFVBQVUsRUFBTzdvQyxFQUFRMnJDLG1CQUMxRW5xQyxFQUFNbU4sVUFDTjVQLEVBQ0FnZixFQUFNeVcsTUFBTXZ0QyxJQUFJLDRCQUNoQjgyQixFQUFNeVcsTUFBTXZ0QyxJQUFJLHFDQWV4QixTQUFrQm1kLEVBQVNwRSxHQUN2QnBiLElBQU13SCxFQUFLNFQsRUFBUW5iLFFBQVF1SCxHQUNyQjJJLEVBQVFpTCxFQUFRN1osTUFBTTRPLE1BRXRCcThDLEVBQU1yOEMsRUFBTVMsV0FBV3ZPLElBQUksWUFDM0JvcUQsR0FBWUQsRUFBSXRoRCxFQUFHc2hELEVBQUlyaEQsRUFBR3FoRCxFQUFJOS9DLEdBRTlCZ2dELEVBQVdQLEdBQUtwd0QsU0FDaUIsYUFBbkNvVSxFQUFNUyxXQUFXdk8sSUFBSSxXQUNyQjhwRCxHQUFLUSxhQUFhRCxHQUFXdHhDLEVBQVFtRyxVQUFVaUosT0FFbkQ2aEMsR0FBS08sY0FBY0gsRUFBVUEsRUFBVUMsR0FFdkMxc0QsSUFBTWdSLEVBQVFiLEVBQU1TLFdBQVd2TyxJQUFJLFNBRW5DbUYsRUFBR3FsRCxXQUFXcnRDLEVBQVFxakMsU0FBU2lLLFdBQVlMLEdBQzNDamxELEVBQUcwOEMsVUFBVTFrQyxFQUFRcWpDLFNBQVNrSyxpQkFBa0I1OEMsRUFBTVMsV0FBV3ZPLElBQUksY0FDckVtRixFQUFHd2xELFVBQVV4dEMsRUFBUXFqQyxTQUFTb0ssYUFBY2o4QyxFQUFNdXRCLEVBQUd2dEIsRUFBTXd0QixFQUFHeHRCLEVBQU1OLEdBN0JwRWEsQ0FBU2lPLEVBQVNwRSxHQUVsQm9FLEVBQVFoUyxLQUNKdk4sRUFDQXVILEVBQUdpOUMsVUFDSHRyQixFQUFNdDVCLEdBQ053ckIsRUFBTzVMLG1CQUNQNEwsRUFBTzFMLFlBQ1AwTCxFQUFPNE8sU0FDUDZyQixHQzNGUixTQUFTb0gsR0FBZ0I5eEMsRUFBU2pCLEVBQU1nZixHQUNwQ241QixJQUFNQyxFQUFVbWIsRUFBUW5iLFFBQ2xCdUgsRUFBS3ZILEVBQVF1SCxHQUNiaVcsRUFBTXRELEVBQUtzRCxJQUNqQixHQUFLQSxFQUFMLENBRUF6ZCxJQUFNd2YsRUFBVXBFLEVBQVEybEIsV0FBVyxhQUM3QmhYLEVBQVkzTyxFQUFRbUcsVUFBVXlELG1CQUFtQjdLLEVBQUtuQyxPQUFPaU4sZUFBZSxJQXJCdEYsU0FBa0J6RixFQUFTcEUsRUFBUytkLEdBQ2hDejNCLElBQUl5ckQsRUFBWWgwQixFQUFNeVcsTUFBTXZ0QyxJQUFJLHFDQUF1Q3lLLEtBQUtxSixHQUFLLEtBRXhCLGFBQXJEZ2pCLEVBQU15VyxNQUFNdnRDLElBQUksbUNBQWtEOHFELEdBQWEveEMsRUFBUW1HLFVBQVVpSixPQUNyR3BQLEVBQVFuYixRQUFRdUgsR0FBRzY4QyxVQUFVN2tDLEVBQVFxakMsU0FBU3VLLFFBQVNqMEIsRUFBTXlXLE1BQU12dEMsSUFBSSwwQkFBMkI4cUQsR0FrQmxHNTdDLENBQVNpTyxFQUFTcEUsRUFBUytkLEdBRTNCbjVCLElBQU1xdEQsRUFoQlYsU0FBeUJqeUMsRUFBU3BELEdBQzlCaFksSUFBTXN0RCxFQUFjdDFDLEVBQU91MUMsZUFDckJDLEVBQWMsSUFBSWhpQixhQUFXOGhCLEVBQVkxckMsT0FBUTByQyxFQUFZMzVDLElBQU0sRUFBRzI1QyxFQUFZajFDLE1BQ3hGLE9BQVErQyxFQUFRbUcsVUFBVWtzQyxtQkFBbUJILEdBQWExM0MsSUFBS3dGLEVBQVFtRyxVQUFVa3NDLG1CQUFtQkQsR0FBYTUzQyxLQWFoRzgzQyxDQUFnQnR5QyxFQUFTakIsRUFBS25DLFFBQy9DL1gsRUFBUXFoQyxjQUFjeDVCLElBQUlOLEVBQUc2NUIsVUFFN0I3NUIsRUFBR0csWUFBWUgsRUFBR0ksV0FBWTZWLEVBQUk0bEIsZ0JBQWdCaGhDLE9BRWxEbUYsRUFBR3c4QyxpQkFBaUJ4a0MsRUFBUXFqQyxTQUFTb0IsVUFBVSxFQUFPbDZCLEdBQ3REdmlCLEVBQUc4K0MsV0FBVzltQyxFQUFRcWpDLFNBQVM4SyxXQUFZTixHQUMzQzdsRCxFQUFHNCtDLFVBQVU1bUMsRUFBUXFqQyxTQUFTaUgsUUFBUyxHQUV2QzlwRCxJQUFNNHRELEVBQWN6MEIsRUFBTXlXLE1BQU12dEMsSUFBSSwwQkFDcENtRixFQUFHcW1ELFVBQVVydUMsRUFBUXFqQyxTQUFTaUwsU0FBVUYsRUFBWXJ2QixFQUFHcXZCLEVBQVlwdkIsRUFBR292QixFQUFZbDlDLEVBQUdrOUMsRUFBWTcvQyxHQUNqRy9OLElBQU0rdEQsRUFBaUI1MEIsRUFBTXlXLE1BQU12dEMsSUFBSSw2QkFDdkNtRixFQUFHcW1ELFVBQVVydUMsRUFBUXFqQyxTQUFTbUwsWUFBYUQsRUFBZXh2QixFQUFHd3ZCLEVBQWV2dkIsRUFBR3V2QixFQUFlcjlDLEVBQUdxOUMsRUFBZWhnRCxHQUNoSC9OLElBQU1pdUQsRUFBYzkwQixFQUFNeVcsTUFBTXZ0QyxJQUFJLDBCQUdwQyxHQUZBbUYsRUFBR3FtRCxVQUFVcnVDLEVBQVFxakMsU0FBU3FMLFNBQVVELEVBQVkxdkIsRUFBRzB2QixFQUFZenZCLEVBQUd5dkIsRUFBWXY5QyxFQUFHdTlDLEVBQVlsZ0QsR0FFN0ZvTSxFQUFLK2Ysb0JBQXNCL2YsRUFBS2dnQixtQkFBcUJoZ0IsRUFBSzhmLFNBQzFEemEsRUFBUWhTLEtBQ0p2TixFQUNBdUgsRUFBR2k5QyxVQUNIdHJCLEVBQU10NUIsR0FDTnNhLEVBQUsrZixtQkFDTC9mLEVBQUtnZ0Isa0JBQ0xoZ0IsRUFBSzhmLGNBRU4sQ0FDSGo2QixJQUFNNEwsRUFBU3dQLEVBQVEreUMsbUJBQ1gveUMsRUFBUWd6QyxnQkFDaEJ4eUQsS0FBS3FFLEVBQVN1ZixFQUFTNVQsTUFDM0JwRSxFQUFHNm1ELFdBQVc3bUQsRUFBRzhtRCxlQUFnQixFQUFHMWlELEVBQU9oSyxVQU9uRCxTQUFTMnNELEdBQWlCbnpDLEVBQVNqQixFQUFNcTBDLEdBQ3JDeHVELElBQU1DLEVBQVVtYixFQUFRbmIsUUFDbEJ1SCxFQUFLdkgsRUFBUXVILEdBV25CLEdBQUkyUyxFQUFLMEMsS0FBTzFDLEVBQUswQyxJQUFJNUUsTUFBTyxDQUM1QmpZLElBQU1tRyxFQUFXZ1UsRUFBSzBDLElBQUk1RSxNQUFNZ0YsSUFFMUJ3eEMsRUFBWXQwQyxFQUFLMEMsSUFBSTZ4QyxZQVEzQixHQVBBenVELEVBQVFxaEMsY0FBY3g1QixJQUFJTixFQUFHbW5ELFVBSzdCMXVELEVBQVErSCxpQ0FBaUNGLEtBQUksR0FDN0NxUyxFQUFLcUQsV0FBYXJELEVBQUtxRCxZQUFjcEMsRUFBUVksZUFBZTdCLEVBQUtoVSxVQUM3RGdVLEVBQUtxRCxXQUFZLENBQ2pCeGQsSUFBTXdkLEVBQWFyRCxFQUFLcUQsV0FDeEJBLEVBQVc5VixPQUFPK21ELEdBQVcsR0FDN0JqeEMsRUFBVzVoQixLQUFLNEwsRUFBR3MvQyxRQUFTdC9DLEVBQUdnRSxvQkFFL0IyTyxFQUFLcUQsV0FBYSxJQUFJdFcsRUFBUWpILEVBQVN3dUQsRUFBV2puRCxFQUFHTyxNQUFNLEdBQzNEb1MsRUFBS3FELFdBQVc1aEIsS0FBSzRMLEVBQUdzL0MsUUFBU3QvQyxFQUFHZ0UsZUFHeEN2TCxFQUFRcWhDLGNBQWN4NUIsSUFBSU4sRUFBRzY1QixVQUU3QjMvQixJQUFJK2IsRUFBTXRELEVBQUtzRCxJQUVmLElBQUtBLEVBQUssQ0FDTnpkLElBQU00dUQsRUFBZ0IsSUFBSTFuRCxFQUFRakgsR0FBVUUsTUFBT2dHLEVBQVUvRixPQUFRK0YsRUFBVWdDLEtBQU0sTUFBT1gsRUFBR08sTUFDL0Y2bUQsRUFBY2h6RCxLQUFLNEwsRUFBRytELE9BQVEvRCxFQUFHZ0UsZ0JBRWpDaVMsRUFBTXRELEVBQUtzRCxJQUFNeGQsRUFBUW1qQyxrQkFBa0JqOUIsRUFBVUEsSUFDakRrOUIsZ0JBQWdCdjdCLElBQUk4bUQsRUFBY3JuRCxTQUcxQ3RILEVBQVEyaEMsZ0JBQWdCOTVCLElBQUkyVixFQUFJMGxCLGFBQ2hDbGpDLEVBQVF5aEMsU0FBUzU1QixLQUFLLEVBQUcsRUFBRzNCLEVBQVVBLElBRXRDbkcsSUFBTThxQixFQUFTVixPQUFLcnVCLFNBRXBCcXVCLE9BQUt5a0MsTUFBTS9qQyxFQUFRLEVBQUdoTixhQUFTQSxZQUFRLEVBQUcsRUFBRyxHQUM3Q3NNLE9BQUtLLFVBQVVLLEVBQVFBLEdBQVMsR0FBSWhOLFlBQVEsSUFFNUM5ZCxJQUFNd2YsRUFBVXBFLEVBQVEybEIsV0FBVyxvQkFFbkN2NUIsRUFBR3c4QyxpQkFBaUJ4a0MsRUFBUXFqQyxTQUFTb0IsVUFBVSxFQUFPbjVCLEdBQ3REdGpCLEVBQUcwOEMsVUFBVTFrQyxFQUFRcWpDLFNBQVNpTSxPQUFRMzBDLEVBQUtuQyxPQUFPNEMsYUFDbERwVCxFQUFHOCtDLFdBQVc5bUMsRUFBUXFqQyxTQUFTa00sYUFBeUIsRUFBWDVvRCxFQUF5QixFQUFYQSxJQUMzRHFCLEVBQUc0K0MsVUFBVTVtQyxFQUFRcWpDLFNBQVNpSCxRQUFTLEdBQ3ZDdGlELEVBQUcwOEMsVUFBVTFrQyxFQUFRcWpDLFNBQVNtTSxVQUFXUixHQUV6Q3h1RCxJQUFNNEwsRUFBU3dQLEVBQVEreUMsbUJBQ1gveUMsRUFBUWd6QyxnQkFFaEJ4eUQsS0FBS3FFLEVBQVN1ZixFQUFTNVQsTUFDM0JwRSxFQUFHNm1ELFdBQVc3bUQsRUFBRzhtRCxlQUFnQixFQUFHMWlELEVBQU9oSyxRQUUzQ3VZLEVBQUsyQyx1QkFBd0IsR0N6Q3JDLFNBQVNteUMsR0FBYzkwQyxFQUFNeXRCLEVBQVl6akIsRUFBYWdWLEVBQU81WCxHQUN6RHZoQixJQUFNNHdDLEVBQWV6WCxFQUFNeVcsTUFBTXZ0QyxJQUFJLHdCQUVyQyxHQUFJdXVDLEVBQWUsRUFBRyxDQUNsQjV3QyxJQUFNcEIsRUFBTXlILEVBQVF6SCxNQUNkc3dELEdBQWF0d0QsRUFBTXViLEVBQUs0ZCxXQUFhNlksRUFDckN1ZSxFQUFjdm5CLEdBQWNocEMsRUFBTWdwQyxFQUFXN1AsV0FBYTZZLEdBQWdCLEVBRTFFLzFCLEVBQVNzSixFQUFZMmlCLFlBQ3JCc29CLEVBQVM3dEMsRUFBVTh0QyxtQkFDckJscEQsU0FBVTBVLEVBQU8xVSxTQUNqQnlWLFVBQVdmLEVBQU9lLFlBSWhCMHpDLEdBQVUxbkIsR0FBYzk2QixLQUFLa0gsSUFBSTR6QixFQUFXNXZCLE9BQU80QyxZQUFjdzBDLEdBQVV0aUQsS0FBS2tILElBQUltRyxFQUFLbkMsT0FBTzRDLFlBQWN3MEMsR0FFOUdHLEVBQWdCRCxHQUFVbjFDLEVBQUtndUIsd0JBQTJCLEVBQUk3dkIsUUFBTWczQyxFQUFTSixFQUFZLEVBQUlDLEVBQWEsRUFBRyxHQVFuSCxPQUZJaDFDLEVBQUtndUIseUJBQTJCK21CLEdBQWEsSUFBRy8wQyxFQUFLZ3VCLHlCQUEwQixHQUUvRVAsR0FFSXlJLFFBQVMsRUFDVG1mLElBQUssRUFBSUQsSUFJVGxmLFFBQVNrZixFQUNUQyxJQUFLLEdBSWIsT0FDSW5mLFFBQVMsRUFDVG1mLElBQUssR0M1SWpCLFNBQVNDLEdBQWNyMEMsRUFBUytJLEVBQWF2SCxHQUN6QzVjLElBQU1DLEVBQVVtYixFQUFRbmIsUUFDbEJ1SCxFQUFLdkgsRUFBUXVILEdBRW5CdkgsRUFBUWtoQyxVQUFVcjVCLElBQUksRUFBSXpCLEVBQVE3RixrQkFFbENSLElBQU0rcEIsRUFBWW5OLEVBQU1tTixVQUNsQnZLLEVBQVVwRSxFQUFRMmxCLFdBQVcsU0FFbkM5Z0MsRUFBUXNsQyxhQUFhNUIsR0FBVUcsVUFDL0I3akMsRUFBUXdsQyxlQUFlMUIsR0FBWUQsVUFDbkM3akMsRUFBUTBsQyxhQUFhdnFCLEVBQVEwb0MsMEJBRTdCdDhDLEVBQUd3OEMsaUJBQWlCeGtDLEVBQVFxakMsU0FBU29CLFVBQVUsRUFBT2w2QixHQUN0RHZpQixFQUFHcW1ELFVBQVVydUMsRUFBUXFqQyxTQUFTNk0sUUFBUyxFQUFHLEVBQUcsRUFBRyxHQUNoRHQwQyxFQUFRdTBDLFNBQVMvekQsS0FBS3FFLEVBQVN1ZixFQUFTcEUsRUFBUXcwQyxnQkFDaERwb0QsRUFBRzZtRCxXQUFXN21ELEVBQUdxb0QsV0FBWSxFQUFHejBDLEVBQVF3MEMsWUFBWWh1RCxRQUlwRCxJQUZBNUIsSUFBTTh2RCxFQThIVixTQUE2QjlqQyxFQUFNMW9CLEVBQU15c0QsRUFBVXYzQyxHQUMvQ0EsRUFBUUEsR0FBUyxFQUVqQnhZLElBQ0kyQixFQUFHcXVELEVBQUtueUIsRUFBR295QixFQUFNbGhELEVBQU83RCxFQUFHQyxFQUFHb21CLEVBRDVCMitCLEtBR04sSUFBS3Z1RCxFQUFJLEVBQUdxdUQsRUFBTWhrQyxFQUFLcHFCLE9BQVFELEVBQUlxdUQsRUFBS3J1RCxJQUVwQyxHQURBb04sRUFBUW9oRCxHQUFZbmtDLEVBQUtycUIsSUFDekIsQ0FHQSxJQUZBNHZCLEVBQU8sS0FFRnNNLEVBQUksRUFBR295QixFQUFPbGhELEVBQU0sR0FBR25OLE9BQVFpOEIsRUFBSW95QixFQUFNcHlCLEdBQUssR0FDMUIsSUFBakI5dUIsRUFBTSxHQUFHOHVCLEtBQWtDLElBQXJCOXVCLEVBQU0sR0FBRzh1QixFQUFJLEdBQ25DdE0sRUFBTyxNQUdQcm1CLEVBQUk1SCxFQUFPeUwsRUFBTSxHQUFHOHVCLEdBQUtybEIsRUFDekJyTixFQUFJNGtELEVBQVdoaEQsRUFBTSxHQUFHOHVCLEVBQUksR0FBS3JsQixFQUM3QitZLEdBQ0EyK0IsRUFBUXBzRCxLQUFLeXRCLEVBQUtybUIsRUFBR3FtQixFQUFLcG1CLEVBQUdELEVBQUdDLEdBRXBDb21CLEdBQVFybUIsRUFBR0EsRUFBR0MsRUFBR0EsSUFHekI3SCxHQUFReUwsRUFBTSxHQUFLeUosRUFHdkIsT0FBTzAzQyxFQXpKVUUsQ0FBb0J4ekMsRUFBTTlHLFdBQVksR0FBSSxJQUFLLEdBQzFEdTZDLEVBQWlCLElBQUlDLFdBQ2xCM2pELEVBQUksRUFBR0EsRUFBSW1qRCxFQUFTbHVELE9BQVErSyxHQUFLLEVBQ3RDMGpELEVBQWVudUMsWUFBWTR0QyxFQUFTbmpELEdBQUltakQsRUFBU25qRCxFQUFJLElBRXpEM00sSUFBTXV3RCxFQUFrQnR3RCxFQUFRb2lCLG1CQUFtQmd1QyxFQUFnQkcsR0FBY2p1QyxVQUM1RCxJQUFJdkQsSUFDWnBqQixLQUFLcUUsRUFBU3VmLEVBQVMrd0MsTUFDcEMvb0QsRUFBR3FtRCxVQUFVcnVDLEVBQVFxakMsU0FBUzZNLFFBQVMsRUFBRyxFQUFHLEVBQUcsR0FPaEQsSUFIQTF2RCxJQUFNbUcsRUFBV2dlLEVBQVkwa0IsUUFBUWpzQixHQUFPelcsU0FDdENzcUQsRUFBVzN5QyxhQUFVaFIsS0FBS2tCLElBQUksRUFBR29OLEVBQVFtRyxVQUFVbEosS0FBT3VFLEVBQU1oQyxhQUFlelUsR0FDL0V1cUQsS0FBa0IsR0FBSSxLQUFNLEVBQUcsSUFBSyxHQUFJLElBQUssRUFBRyxJQUM3Qy91RCxFQUFJLEVBQUdBLEVBQUkrdUQsRUFBYTl1RCxPQUFRRCxJQUFLLENBQzFDM0IsSUFBTTJ3RCxFQUFjRCxFQUFhL3VELEdBQ2pDNkYsRUFBR3c4QyxpQkFBaUJ4a0MsRUFBUXFqQyxTQUFTb0IsVUFBVSxFQUFPNzVCLE9BQUtLLGFBQWNWLEdBQVkwbUMsRUFBV0UsRUFBWSxHQUFJRixFQUFXRSxFQUFZLEdBQUksS0FDM0lucEQsRUFBRzZtRCxXQUFXN21ELEVBQUdrOUMsTUFBTyxFQUFHNkwsRUFBZ0IzdUQsUUFHL0M0RixFQUFHcW1ELFVBQVVydUMsRUFBUXFqQyxTQUFTNk0sUUFBUyxFQUFHLEVBQUcsRUFBRyxHQUNoRGxvRCxFQUFHdzhDLGlCQUFpQnhrQyxFQUFRcWpDLFNBQVNvQixVQUFVLEVBQU9sNkIsR0FDdER2aUIsRUFBRzZtRCxXQUFXN21ELEVBQUdrOUMsTUFBTyxFQUFHNkwsRUFBZ0IzdUQsUUFLL0M1QixJQUFNbXdELElBQ0ZTLEtBQU0sT0FDTkMsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQzNEQyxLQUFPLElBQUssRUFBRyxHQUFJLEVBQUcsSUFBSyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksS0FDOUNDLEtBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxJQUMzRkMsR0FBTSxJQUFLLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQ25NQyxLQUFNLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUMxT0MsS0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDNVBDLEtBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEtBQ3hEQyxLQUFNLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFBSyxJQUM5RUMsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDOUVDLEtBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxLQUNsRUMsS0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLElBQzVDQyxLQUFNLElBQUssRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDM0RDLEtBQU0sSUFBSyxFQUFHLEVBQUcsR0FBSSxJQUNyQkMsS0FBTSxJQUFLLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQ3RDQyxLQUFNLElBQUssR0FBSSxHQUFJLEdBQUksSUFDdkJwM0IsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEtBQzlIcTNCLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLElBQ3JDQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksSUFDaEhDLEdBQU0sSUFBSyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDbEhDLEdBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksSUFDcERDLEdBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUMvSEMsR0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQzdLQyxHQUFNLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksS0FDNUNDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxLQUNwTkMsR0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQzFLQyxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFBSyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDakZDLEtBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUN0R0MsS0FBTSxJQUFLLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxJQUM3QkMsS0FBTSxJQUFLLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLElBQzVDQyxLQUFNLElBQUssRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLElBQzVCQyxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEVBQUcsSUFDdkpDLEtBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ3JaQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFDaEVDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxJQUNuTEMsR0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUNySUMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxJQUNySEMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLElBQ3hGQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksS0FDbEVDLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ2xLQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksS0FDbEVDLEdBQU0sR0FBSSxFQUFHLEdBQUksRUFBRyxJQUNwQkMsR0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDekVDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxJQUNqRUMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLElBQzFDQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksSUFDekZDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxJQUNsRUMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxLQUMxSkMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsS0FDMUdDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsSUFBSyxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQUssSUFDbExDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLElBQUssR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLElBQ2xJQyxHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDckpDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxLQUMzQ0MsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksS0FDM0VDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxJQUMzQ0MsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLElBQ3pGQyxHQUFNLElBQUssRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsSUFDNUNDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsS0FDbERDLEdBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxJQUNsRUMsS0FBTSxJQUFLLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLElBQzFGQyxNQUFPLElBQUssRUFBRyxHQUFJLElBQUssSUFDeEJDLEtBQU0sSUFBSyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFBSyxJQUM1RkMsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsSUFDakZDLEdBQU0sSUFBSyxHQUFJLEVBQUcsSUFBSyxJQUN2QkMsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsS0FDeEQ1bUQsR0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQy9IMkMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQy9INHRCLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUN4Rzd4QixHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDL0hwUCxHQUFNLElBQUssRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDN0htUCxHQUFNLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsS0FDaEVneUIsR0FBTSxJQUFLLEdBQUksR0FBSSxJQUFLLEVBQUcsSUFBSyxFQUFHLElBQUssRUFBRyxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDdEs3ekIsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDakZoSixHQUFNLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFBSyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsSUFDL0RrOEIsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQUssR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ3RGdndCLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxJQUNoRTh3QyxHQUFNLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFDcEJqMEIsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUNoSi9jLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQ2pGd25ELEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxLQUM1SDVpQyxHQUFNLElBQUssRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDaEkza0IsR0FBTSxJQUFLLEdBQUksR0FBSSxJQUFLLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ2hJa3hCLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxLQUMvRGh4QixHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDN0hvRCxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsS0FDN0Rra0QsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksSUFDN0Vsb0QsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLElBQzNDakMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLElBQ3pGUSxHQUFNLElBQUssRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsSUFDNUNDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDdkV1QixHQUFNLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFDbEVvb0QsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFBSyxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUNoUkMsS0FBTSxHQUFJLEVBQUcsR0FBSSxHQUFJLElBQ3JCQyxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUks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
