define(["./chunk1.js"],function(t){"use strict";var e=t.createCommonjsModule(function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,i=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(i);try{e=new Worker(n),t=!0}catch(e){t=!1}e&&e.terminate();return URL.revokeObjectURL(n),t}()&&"Uint8ClampedArray"in window&&function(t){void 0===i[t]&&(i[t]=function(t){var i=document.createElement("canvas"),n=Object.create(e.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,i.probablySupportsContext?i.probablySupportsContext("webgl",n)||i.probablySupportsContext("experimental-webgl",n):i.supportsContext?i.supportsContext("webgl",n)||i.supportsContext("experimental-webgl",n):i.getContext("webgl",n)||i.getContext("experimental-webgl",n)}(t));return i[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var i={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),i=t.default.performance&&t.default.performance.now?t.default.performance.now.bind(t.default.performance):Date.now.bind(Date),n=t.default.requestAnimationFrame||t.default.mozRequestAnimationFrame||t.default.webkitRequestAnimationFrame||t.default.msRequestAnimationFrame,o=t.default.cancelAnimationFrame||t.default.mozCancelAnimationFrame||t.default.webkitCancelAnimationFrame||t.default.msCancelAnimationFrame,r={now:i,frame:function(t){return n(t)},cancelFrame:function(t){return o(t)},getImageData:function(e){var i=t.default.document.createElement("canvas"),n=i.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return i.width=e.width,i.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)},hardwareConcurrency:t.default.navigator.hardwareConcurrency||4,get devicePixelRatio(){return t.default.devicePixelRatio},supportsWebp:!1};if(t.default.document){var a=t.default.document.createElement("img");a.onload=function(){r.supportsWebp=!0},a.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="}var s={create:function(e,i,n){var o=t.default.document.createElement(e);return i&&(o.className=i),n&&n.appendChild(o),o},createNS:function(e,i){return t.default.document.createElementNS(e,i)}},l=t.default.document?t.default.document.documentElement.style:null;function c(t){if(!l)return null;for(var e=0;e<t.length;e++)if(t[e]in l)return t[e];return t[0]}var u,h=c(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);s.disableDrag=function(){l&&h&&(u=l[h],l[h]="none")},s.enableDrag=function(){l&&h&&(l[h]=u)};var p=c(["transform","WebkitTransform"]);s.setTransform=function(t,e){t.style[p]=e};var d=!1;try{var f=Object.defineProperty({},"passive",{get:function(){d=!0}});t.default.addEventListener("test",f,f),t.default.removeEventListener("test",f,f)}catch(t){d=!1}s.addEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&d?t.addEventListener(e,i,n):t.addEventListener(e,i,n.capture)},s.removeEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&d?t.removeEventListener(e,i,n):t.removeEventListener(e,i,n.capture)};var m=function(e){e.preventDefault(),e.stopPropagation(),t.default.removeEventListener("click",m,!0)};s.suppressClick=function(){t.default.addEventListener("click",m,!0),t.default.setTimeout(function(){t.default.removeEventListener("click",m,!0)},0)},s.mousePos=function(e,i){var n=e.getBoundingClientRect();return i=i.touches?i.touches[0]:i,new t.default$1(i.clientX-n.left-e.clientLeft,i.clientY-n.top-e.clientTop)},s.touchPos=function(e,i){for(var n=e.getBoundingClientRect(),o=[],r="touchend"===i.type?i.changedTouches:i.touches,a=0;a<r.length;a++)o.push(new t.default$1(r[a].clientX-n.left-e.clientLeft,r[a].clientY-n.top-e.clientTop));return o},s.mouseButton=function(e){return void 0!==t.default.InstallTrigger&&2===e.button&&e.ctrlKey&&t.default.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},s.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var _={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null},g="See https://www.mapbox.com/api-documentation/#access-tokens";function v(t,e){var i=C(_.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"/"!==i.path&&(t.path=""+i.path+t.path),!_.REQUIRE_ACCESS_TOKEN)return S(t);if(!(e=e||_.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+g);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+g);return t.params.push("access_token="+e),S(t)}function y(t){return 0===t.indexOf("mapbox:")}var x=function(t,e){if(!y(t))return t;var i=C(t);return i.path="/fonts/v1"+i.path,v(i,e)},b=function(t,e){if(!y(t))return t;var i=C(t);return i.path="/v4/"+i.authority+".json",i.params.push("secure"),v(i,e)},w=function(t,e,i,n){var o=C(t);return y(t)?(o.path="/styles/v1"+o.path+"/sprite"+e+i,v(o,n)):(o.path+=""+e+i,S(o))},E=/(\.(png|jpg)\d*)(?=$)/,T=function(t,e,i){if(!e||!y(e))return t;var n=C(t),o=r.devicePixelRatio>=2||512===i?"@2x":"",a=r.supportsWebp?".webp":"$1";return n.path=n.path.replace(E,""+o+a),function(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(_.ACCESS_TOKEN||""))}(n.params),S(n)};var I=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function C(t){var e=t.match(I);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function S(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var z=t.default.HTMLImageElement,A=t.default.HTMLCanvasElement,R=t.default.HTMLVideoElement,D=t.default.ImageData,M=function(t,e,i,n){this.context=t;var o=e.width,r=e.height;this.size=[o,r],this.format=i,this.texture=t.gl.createTexture(),this.update(e,n)};M.prototype.update=function(t,e){var i=t.width,n=t.height;this.size=[i,n];var o=this.context,r=o.gl;r.bindTexture(r.TEXTURE_2D,this.texture),o.pixelStoreUnpack.set(1),this.format===r.RGBA&&!1!==e&&o.pixelStoreUnpackPremultiplyAlpha.set(!0),t instanceof z||t instanceof A||t instanceof R||t instanceof D?r.texImage2D(r.TEXTURE_2D,0,this.format,this.format,r.UNSIGNED_BYTE,t):r.texImage2D(r.TEXTURE_2D,0,this.format,i,n,0,this.format,r.UNSIGNED_BYTE,t.data)},M.prototype.bind=function(t,e,i){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),t!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,i||t),this.filter=t),e!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e),this.wrap=e)},M.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var P=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new t.default$2(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=new t.RGBAImage({width:64,height:64}),this.dirty=!0};P.prototype.isLoaded=function(){return this.loaded},P.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,i=this.requestors;e<i.length;e+=1){var n=i[e],o=n.ids,r=n.callback;this._notify(o,r)}this.requestors=[]}},P.prototype.getImage=function(t){return this.images[t]},P.prototype.addImage=function(t,e){this.images[t]=e},P.prototype.removeImage=function(t){delete this.images[t];var e=this.patterns[t];e&&(this.shelfPack.unref(e.bin),delete this.patterns[t])},P.prototype.getImages=function(t,e){var i=!0;if(!this.isLoaded())for(var n=0,o=t;n<o.length;n+=1){var r=o[n];this.images[r]||(i=!1)}this.isLoaded()||i?this._notify(t,e):this.requestors.push({ids:t,callback:e})},P.prototype._notify=function(t,e){for(var i={},n=0,o=t;n<o.length;n+=1){var r=o[n],a=this.images[r];a&&(i[r]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf})}e(null,i)},P.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},P.prototype.getPattern=function(e){var i=this.patterns[e];if(i)return i.position;var n=this.getImage(e);if(!n)return null;var o=n.data.width+2,r=n.data.height+2,a=this.shelfPack.packOne(o,r);if(!a)return null;this.atlasImage.resize(this.getPixelSize());var s=n.data,l=this.atlasImage,c=a.x+1,u=a.y+1,h=s.width,p=s.height;t.RGBAImage.copy(s,l,{x:0,y:0},{x:c,y:u},{width:h,height:p}),t.RGBAImage.copy(s,l,{x:0,y:p-1},{x:c,y:u-1},{width:h,height:1}),t.RGBAImage.copy(s,l,{x:0,y:0},{x:c,y:u+p},{width:h,height:1}),t.RGBAImage.copy(s,l,{x:h-1,y:0},{x:c-1,y:u},{width:1,height:p}),t.RGBAImage.copy(s,l,{x:0,y:0},{x:c+h,y:u},{width:1,height:p}),this.dirty=!0;var d=new t.ImagePosition(a,n);return this.patterns[e]={bin:a,position:d},d},P.prototype.bind=function(t){var e=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new M(t,this.atlasImage,e.RGBA),this.atlasTexture.bind(e.LINEAR,e.CLAMP_TO_EDGE)};var L=B,k=1e20;function B(t,e,i,n,o,r){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=o||"sans-serif",this.fontWeight=r||"normal",this.radius=i||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function O(t,e,i,n,o,r,a){for(var s=0;s<e;s++){for(var l=0;l<i;l++)n[l]=t[l*e+s];for(F(n,o,r,a,i),l=0;l<i;l++)t[l*e+s]=o[l]}for(l=0;l<i;l++){for(s=0;s<e;s++)n[s]=t[l*e+s];for(F(n,o,r,a,e),s=0;s<e;s++)t[l*e+s]=Math.sqrt(o[s])}}function F(t,e,i,n,o){i[0]=0,n[0]=-k,n[1]=+k;for(var r=1,a=0;r<o;r++){for(var s=(t[r]+r*r-(t[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);s<=n[a];)a--,s=(t[r]+r*r-(t[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);i[++a]=r,n[a]=s,n[a+1]=+k}for(r=0,a=0;r<o;r++){for(;n[a+1]<r;)a++;e[r]=(r-i[a])*(r-i[a])+t[i[a]]}}B.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),i=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var o=e.data[4*n+3]/255;this.gridOuter[n]=1===o?0:0===o?k:Math.pow(Math.max(0,.5-o),2),this.gridInner[n]=1===o?k:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(O(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),O(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var r=this.gridOuter[n]-this.gridInner[n];i[n]=Math.max(0,Math.min(255,Math.round(255-255*(r/this.radius+this.cutoff))))}return i};var N=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};N.prototype.setURL=function(t){this.url=t},N.prototype.getGlyphs=function(e,i){var n=this,o=[];for(var r in e)for(var a=0,s=e[r];a<s.length;a+=1){var l=s[a];o.push({stack:r,id:l})}t.asyncAll(o,function(t,e){var i=t.stack,o=t.id,r=n.entries[i];r||(r=n.entries[i]={glyphs:{},requests:{}});var a=r.glyphs[o];if(void 0===a)if(a=n._tinySDF(r,i,o))e(null,{stack:i,id:o,glyph:a});else{var s=Math.floor(o/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var l=r.requests[s];l||(l=r.requests[s]=[],N.loadGlyphRange(i,s,n.url,n.requestTransform,function(t,e){if(e)for(var i in e)r.glyphs[+i]=e[+i];for(var n=0,o=l;n<o.length;n+=1){(0,o[n])(t,e)}delete r.requests[s]})),l.push(function(t,n){t?e(t):n&&e(null,{stack:i,id:o,glyph:n[o]||null})})}}else e(null,{stack:i,id:o,glyph:a})},function(t,e){if(t)i(t);else if(e){for(var n={},o=0,r=e;o<r.length;o+=1){var a=r[o],s=a.stack,l=a.id,c=a.glyph;(n[s]||(n[s]={}))[l]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics}}i(null,n)}})},N.prototype._tinySDF=function(e,i,n){var o=this.localIdeographFontFamily;if(o&&(t.default$4["CJK Unified Ideographs"](n)||t.default$4["Hangul Syllables"](n))){var r=e.tinySDF;if(!r){var a="400";/bold/i.test(i)?a="900":/medium/i.test(i)?a="500":/light/i.test(i)&&(a="200"),r=e.tinySDF=new N.TinySDF(24,3,8,.25,o,a)}return{id:n,bitmap:new t.AlphaImage({width:30,height:30},r.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},N.loadGlyphRange=function(e,i,n,o,r){var a=256*i,s=a+255,l=o(x(n).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(l,function(e,i){if(e)r(e);else if(i){for(var n={},o=0,a=t.default$3(i.data);o<a.length;o+=1){var s=a[o];n[s.id]=s}r(null,n)}})},N.TinySDF=L;var U=function(){this.specification=t.default$5.light.position};U.prototype.possiblyEvaluate=function(e,i){return t.sphericalToCartesian(e.expression.evaluate(i))},U.prototype.interpolate=function(e,i,n){return{x:t.number(e.x,i.x,n),y:t.number(e.y,i.y,n),z:t.number(e.z,i.z,n)}};var Z=new t.Properties({anchor:new t.DataConstantProperty(t.default$5.light.anchor),position:new U,color:new t.DataConstantProperty(t.default$5.light.color),intensity:new t.DataConstantProperty(t.default$5.light.intensity)}),V=function(e){function i(i){e.call(this),this._transitionable=new t.Transitionable(Z),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(e){if(!this._validate(t.validateLight,e))for(var i in e){var n=e[i];t.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-"-transition".length),n):this._transitionable.setValue(i,n)}},i.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},i.prototype._validate=function(e,i){return t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.default$5})))},i}(t.Evented),j=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};j.prototype.getDash=function(t,e){var i=t.join(",")+String(e);return this.positions[i]||(this.positions[i]=this.addDash(t,e)),this.positions[i]},j.prototype.addDash=function(e,i){var n=i?7:0,o=2*n+1;if(this.nextRow+o>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var r=0,a=0;a<e.length;a++)r+=e[a];for(var s=this.width/r,l=s/2,c=e.length%2==1,u=-n;u<=n;u++)for(var h=this.nextRow+n+u,p=this.width*h,d=c?-e[e.length-1]:0,f=e[0],m=1,_=0;_<this.width;_++){for(;f<_/s;)d=f,f+=e[m],c&&m===e.length-1&&(f+=e[0]),m++;var g=Math.abs(_-d*s),v=Math.abs(_-f*s),y=Math.min(g,v),x=m%2==1,b=void 0;if(i){var w=n?u/n*(l+1):0;if(x){var E=l-Math.abs(w);b=Math.sqrt(y*y+E*E)}else b=l-Math.sqrt(y*y+w*w)}else b=(x?1:-1)*y;this.data[3+4*(p+_)]=Math.max(0,Math.min(255,b+128))}var T={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:r};return this.nextRow+=o,this.dirty=!0,T},j.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var $=function e(i,n){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var o=this.workerPool.acquire(this.id),r=0;r<o.length;r++){var a=o[r],s=new e.Actor(a,n,this.id);s.name="Worker "+r,this.actors.push(s)}};function G(e,i,n){var o=function(e,i){if(e)return n(e);if(i){var o=t.pick(i,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);i.vector_layers&&(o.vectorLayers=i.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(t){return t.id})),n(null,o)}};e.url?t.getJSON(i(b(e.url),t.ResourceType.Source),o):r.frame(function(){return o(null,e)})}$.prototype.broadcast=function(e,i,n){n=n||function(){},t.asyncAll(this.actors,function(t,n){t.send(e,i,n)},n)},$.prototype.send=function(t,e,i,n){return("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(t,e,i),n},$.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},$.Actor=t.default$7;var W=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};W.prototype.wrap=function(){return new W(t.wrap(this.lng,-180,180),this.lat)},W.prototype.toArray=function(){return[this.lng,this.lat]},W.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},W.prototype.toBounds=function(t){var e=360*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return new q(new W(this.lng-i,this.lat-e),new W(this.lng+i,this.lat+e))},W.convert=function(t){if(t instanceof W)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new W(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new W(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var q=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};q.prototype.setNorthEast=function(t){return this._ne=t instanceof W?new W(t.lng,t.lat):W.convert(t),this},q.prototype.setSouthWest=function(t){return this._sw=t instanceof W?new W(t.lng,t.lat):W.convert(t),this},q.prototype.extend=function(t){var e,i,n=this._sw,o=this._ne;if(t instanceof W)e=t,i=t;else{if(!(t instanceof q))return Array.isArray(t)?t.every(Array.isArray)?this.extend(q.convert(t)):this.extend(W.convert(t)):this;if(e=t._sw,i=t._ne,!e||!i)return this}return n||o?(n.lng=Math.min(e.lng,n.lng),n.lat=Math.min(e.lat,n.lat),o.lng=Math.max(i.lng,o.lng),o.lat=Math.max(i.lat,o.lat)):(this._sw=new W(e.lng,e.lat),this._ne=new W(i.lng,i.lat)),this},q.prototype.getCenter=function(){return new W((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},q.prototype.getSouthWest=function(){return this._sw},q.prototype.getNorthEast=function(){return this._ne},q.prototype.getNorthWest=function(){return new W(this.getWest(),this.getNorth())},q.prototype.getSouthEast=function(){return new W(this.getEast(),this.getSouth())},q.prototype.getWest=function(){return this._sw.lng},q.prototype.getSouth=function(){return this._sw.lat},q.prototype.getEast=function(){return this._ne.lng},q.prototype.getNorth=function(){return this._ne.lat},q.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},q.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},q.prototype.isEmpty=function(){return!(this._sw&&this._ne)},q.convert=function(t){return!t||t instanceof q?t:new q(t)};var X=function(t,e,i){this.bounds=q.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=i||24};X.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},X.prototype.contains=function(t){var e=Math.floor(this.lngX(this.bounds.getWest(),t.z)),i=Math.floor(this.latY(this.bounds.getNorth(),t.z)),n=Math.ceil(this.lngX(this.bounds.getEast(),t.z)),o=Math.ceil(this.latY(this.bounds.getSouth(),t.z));return t.x>=e&&t.x<n&&t.y>=i&&t.y<o},X.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},X.prototype.latY=function(e,i){var n=t.clamp(Math.sin(Math.PI/180*e),-.9999,.9999),o=Math.pow(2,i)/(2*Math.PI);return Math.pow(2,i-1)+.5*Math.log((1+n)/(1-n))*-o};var H=function(e){function i(i,n,o,r){if(e.call(this),this.id=i,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,t.extend(this,t.pick(n,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),G(this._options,this.map._transformRequest,function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new X(n.bounds,e.minzoom,e.maxzoom)),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.loadTile=function(e,i){var n=e.tileID.overscaleFactor(),o=T(e.tileID.canonical.url(this.tiles,this.scheme),this.url),a={request:this.map._transformRequest(o,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*n,type:this.type,source:this.id,pixelRatio:r.devicePixelRatio,overscaling:n,showCollisionBoxes:this.map.showCollisionBoxes};function s(t,n){return e.aborted?i(null):t?i(t):(n&&n.resourceTiming&&(e.resourceTiming=n.resourceTiming),this.map._refreshExpiredTiles&&e.setExpiryData(n),e.loadVectorData(n,this.map.painter),i(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}a.request.collectResourceTiming=this._collectResourceTiming,void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",a,s.bind(this)):"loading"===e.state?e.reloadCallback=i:this.dispatcher.send("reloadTile",a,s.bind(this),e.workerID)},i.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.hasTransition=function(){return!1},i}(t.Evented),K=function(e){function i(i,n,o,r){e.call(this),this.id=i,this.dispatcher=o,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({},n),t.extend(this,t.pick(n,["url","scheme","tileSize"]))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),G(this._options,this.map._transformRequest,function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new X(n.bounds,e.minzoom,e.maxzoom)),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.loadTile=function(e,i){var n=this,o=T(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(o,t.ResourceType.Tile),function(t,o){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(t)e.state="errored",i(t);else if(o){n.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var r=n.map.painter.context,a=r.gl;e.texture=n.map.painter.getTileTexture(o.width),e.texture?(e.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,o)):(e.texture=new M(r,o,a.RGBA),e.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),r.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax)),a.generateMipmap(a.TEXTURE_2D),e.state="loaded",i(null)}})},i.prototype.abortTile=function(t,e){t.request&&(t.request.abort(),delete t.request),e()},i.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},i.prototype.hasTransition=function(){return!1},i}(t.Evented),Y=function(e){function i(i,n,o,r){e.call(this,i,n,o,r),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({},n),this.encoding=n.encoding||"mapbox"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(e,i){var n=T(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(n,t.ResourceType.Tile),function(t,n){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(t)e.state="errored",i(t);else if(n){this.map._refreshExpiredTiles&&e.setExpiryData(n),delete n.cacheControl,delete n.expires;var o=r.getImageData(n),a={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:o,encoding:this.encoding};e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",a,function(t,n){t&&(e.state="errored",i(t));n&&(e.dem=n,e.needsHillshadePrepare=!0,e.state="loaded",i(null))}.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},i.prototype._getNeighboringTiles=function(e){var i=e.canonical,n=Math.pow(2,i.z),o=(i.x-1+n)%n,r=0===i.x?e.wrap-1:e.wrap,a=(i.x+1+n)%n,s=i.x+1===n?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y).key]={backfilled:!1},i.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y-1).key]={backfilled:!1}),i.y+1<n&&(l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y+1).key]={backfilled:!1}),l},i.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},i}(K),J=function(e){function i(i,n,o,r){e.call(this),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=o,this.setEventedParent(r),this._data=n.data,this._options=t.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var a=t.default$8/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:t.default$8,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.default$8,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(i){if(i)e.fire(new t.ErrorEvent(i));else{var n={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(n.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",n))}})},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setData=function(e){var i=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(e){if(e)return i.fire(new t.ErrorEvent(e));var n={dataType:"source",sourceDataType:"content"};i._collectResourceTiming&&i._resourceTiming&&i._resourceTiming.length>0&&(n.resourceTiming=i._resourceTiming,i._resourceTiming=[]),i.fire(new t.Event("data",n))}),this},i.prototype._updateWorkerData=function(e){var i,n,o=this,r=t.extend({},this.workerOptions),a=this._data;"string"==typeof a?(r.request=this.map._transformRequest((i=a,(n=t.default.document.createElement("a")).href=i,n.href),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(a),this.workerID=this.dispatcher.send(this.type+"."+r.source+".loadData",r,function(t,i){o._removed||i&&i.abandoned||(o._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[o.id]&&(o._resourceTiming=i.resourceTiming[o.id].slice(0)),o.dispatcher.send(o.type+"."+r.source+".coalesce",null,null,o.workerID),e(t))},this.workerID)},i.prototype.loadTile=function(t,e){var i=this,n=void 0===t.workerID?"loadTile":"reloadTile",o={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:r.devicePixelRatio,overscaling:t.tileID.overscaleFactor(),showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(n,o,function(o,r){return t.unloadVectorData(),t.aborted?e(null):o?e(o):(t.loadVectorData(r,i.map.painter,"reloadTile"===n),e(null))},this.workerID)},i.prototype.abortTile=function(t){t.aborted=!0},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},i.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},i.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(t.Evented);var Q=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),tt=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};tt.prototype.bind=function(t,e,i,n,o,r,a,s){this.context=t;for(var l=this.boundPaintVertexBuffers.length!==n.length,c=0;!l&&c<n.length;c++)this.boundPaintVertexBuffers[c]!==n[c]&&(l=!0);var u=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==i||l||this.boundIndexBuffer!==o||this.boundVertexOffset!==r||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||u?this.freshBind(e,i,n,o,r,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),o&&o.dynamicDraw&&o.bind(),s&&s.bind())},tt.prototype.freshBind=function(t,e,i,n,o,r,a){var s,l=t.numAttributes,c=this.context,u=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=n,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=r,this.boundDynamicVertexBuffer2=a;else{s=c.currentNumAttributes||0;for(var h=l;h<s;h++)u.disableVertexAttribArray(h)}e.enableAttributes(u,t);for(var p=0,d=i;p<d.length;p+=1){d[p].enableAttributes(u,t)}r&&r.enableAttributes(u,t),a&&a.enableAttributes(u,t),e.bind(),e.setVertexAttribPointers(u,t,o);for(var f=0,m=i;f<m.length;f+=1){var _=m[f];_.bind(),_.setVertexAttribPointers(u,t,o)}r&&(r.bind(),r.setVertexAttribPointers(u,t,o)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(u,t,o)),c.currentNumAttributes=l},tt.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var et=function(e){function i(t,i,n,o){e.call(this),this.id=t,this.dispatcher=n,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(o),this.options=i}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._transformRequest(this.url,t.ResourceType.Image),function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(e.image=r.getImageData(n),e._finishLoading())})},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setCoordinates=function(e){this.coordinates=e;var i=this.map,n=e.map(function(t){return i.transform.locationCoordinate(W.convert(t)).zoomTo(0)}),o=this.centerCoord=t.getCoordinatesCenter(n);o.column=Math.floor(o.column),o.row=Math.floor(o.row),this.tileID=new t.CanonicalTileID(o.zoom,o.column,o.row),this.minzoom=this.maxzoom=o.zoom;var r=n.map(function(e){var i=e.zoomTo(o.zoom);return new t.default$1(Math.round((i.column-o.column)*t.default$8),Math.round((i.row-o.row)*t.default$8))});return this._boundsArray=new t.RasterBoundsArray,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,t.default$8,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,t.default$8),this._boundsArray.emplaceBack(r[2].x,r[2].y,t.default$8,t.default$8),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,e=t.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,Q.members)),this.boundsVAO||(this.boundsVAO=new tt),this.texture||(this.texture=new M(t,this.image,e.RGBA),this.texture.bind(e.NEAREST,e.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[i];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},i.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(t.Evented),it=function(e){function i(t,i,n,o){e.call(this,t,i,n,o),this.roundZoom=!0,this.type="video",this.options=i}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this,i=this.options;this.urls=[];for(var n=0,o=i.urls;n<o.length;n+=1){var r=o[n];e.urls.push(e.map._transformRequest(r,t.ResourceType.Source).url)}t.getVideo(this.urls,function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(e.video=n,e.video.loop=!0,e.video.addEventListener("playing",function(){e.map._rerender()}),e.map&&e.video.play(),e._finishLoading())})},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,e=t.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,Q.members)),this.boundsVAO||(this.boundsVAO=new tt),this.texture?this.video.paused||(this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this.video)):(this.texture=new M(t,this.video,e.RGBA),this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[i];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(et),nt=function(e){function i(t,i,n,o){e.call(this,t,i,n,o),this.options=i,this.animate=void 0===i.animate||i.animate}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){this.canvas=this.canvas||t.default.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var e=this.map.painter.context,i=e.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,Q.members)),this.boundsVAO||(this.boundsVAO=new tt),this.texture?t?this.texture.update(this.canvas):this._playing&&(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.canvas)):(this.texture=new M(e,this.canvas,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var i=e[t];if(isNaN(i)||i<=0)return!0}return!1},i}(et),ot={vector:H,raster:K,"raster-dem":Y,geojson:J,video:it,image:et,canvas:nt},rt=function(e,i,n,o){var r=new ot[i.type](e,i,n,o);if(r.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+r.id);return t.bindAll(["load","abort","unload","serialize","prepare"],r),r};function at(t,e,i,n,o,r){var a=o.maxPitchScaleFactor(),s=t.tilesIn(i,a);s.sort(st);for(var l=[],c=0,u=s;c<u.length;c+=1){var h=u[c];l.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(e,h.queryGeometry,h.scale,n,o,a,t.transform.calculatePosMatrix(h.tileID.toUnwrapped()),t.id,r)})}return function(t){for(var e={},i={},n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.queryResults,s=r.wrappedTileID,l=i[s]=i[s]||{};for(var c in a)for(var u=a[c],h=l[c]=l[c]||{},p=e[c]=e[c]||[],d=0,f=u;d<f.length;d+=1){var m=f[d];h[m.featureIndex]||(h[m.featureIndex]=!0,p.push(m.feature))}}return e}(l)}function st(t,e){var i=t.tileID,n=e.tileID;return i.overscaledZ-n.overscaledZ||i.canonical.y-n.canonical.y||i.wrap-n.wrap||i.canonical.x-n.canonical.x}var lt=function(t,e,i){var n=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(t/i),this.yCellCount=Math.ceil(e/i);for(var r=0;r<this.xCellCount*this.yCellCount;r++)n.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};lt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},lt.prototype.insert=function(t,e,i,n,o){this._forEachCell(e,i,n,o,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(o)},lt.prototype.insertCircle=function(t,e,i,n){this._forEachCell(e-n,i-n,e+n,i+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(i),this.circles.push(n)},lt.prototype._insertBoxCell=function(t,e,i,n,o,r){this.boxCells[o].push(r)},lt.prototype._insertCircleCell=function(t,e,i,n,o,r){this.circleCells[o].push(r)},lt.prototype._query=function(t,e,i,n,o){if(i<0||t>this.width||n<0||e>this.height)return!o&&[];var r=[];if(t<=0&&e<=0&&this.width<=i&&this.height<=n)r=Array.prototype.slice.call(this.boxKeys).concat(this.circleKeys);else{var a={hitTest:o,seenUids:{box:{},circle:{}}};this._forEachCell(t,e,i,n,this._queryCell,r,a)}return o?r.length>0:r},lt.prototype._queryCircle=function(t,e,i,n){var o=t-i,r=t+i,a=e-i,s=e+i;if(r<0||o>this.width||s<0||a>this.height)return!n&&[];var l=[],c={hitTest:n,circle:{x:t,y:e,radius:i},seenUids:{box:{},circle:{}}};return this._forEachCell(o,a,r,s,this._queryCellCircle,l,c),n?l.length>0:l},lt.prototype.query=function(t,e,i,n){return this._query(t,e,i,n,!1)},lt.prototype.hitTest=function(t,e,i,n){return this._query(t,e,i,n,!0)},lt.prototype.hitTestCircle=function(t,e,i){return this._queryCircle(t,e,i,!0)},lt.prototype._queryCell=function(t,e,i,n,o,r,a){var s=a.seenUids,l=this.boxCells[o];if(null!==l)for(var c=this.bboxes,u=0,h=l;u<h.length;u+=1){var p=h[u];if(!s.box[p]){s.box[p]=!0;var d=4*p;if(t<=c[d+2]&&e<=c[d+3]&&i>=c[d+0]&&n>=c[d+1]){if(a.hitTest)return r.push(!0),!0;r.push(this.boxKeys[p])}}}var f=this.circleCells[o];if(null!==f)for(var m=this.circles,_=0,g=f;_<g.length;_+=1){var v=g[_];if(!s.circle[v]){s.circle[v]=!0;var y=3*v;if(this._circleAndRectCollide(m[y],m[y+1],m[y+2],t,e,i,n)){if(a.hitTest)return r.push(!0),!0;r.push(this.circleKeys[v])}}}},lt.prototype._queryCellCircle=function(t,e,i,n,o,r,a){var s=a.circle,l=a.seenUids,c=this.boxCells[o];if(null!==c)for(var u=this.bboxes,h=0,p=c;h<p.length;h+=1){var d=p[h];if(!l.box[d]){l.box[d]=!0;var f=4*d;if(this._circleAndRectCollide(s.x,s.y,s.radius,u[f+0],u[f+1],u[f+2],u[f+3]))return r.push(!0),!0}}var m=this.circleCells[o];if(null!==m)for(var _=this.circles,g=0,v=m;g<v.length;g+=1){var y=v[g];if(!l.circle[y]){l.circle[y]=!0;var x=3*y;if(this._circlesCollide(_[x],_[x+1],_[x+2],s.x,s.y,s.radius))return r.push(!0),!0}}},lt.prototype._forEachCell=function(t,e,i,n,o,r,a){for(var s=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),c=this._convertToXCellCoord(i),u=this._convertToYCellCoord(n),h=s;h<=c;h++)for(var p=l;p<=u;p++){var d=this.xCellCount*p+h;if(o.call(this,t,e,i,n,d,r,a))return}},lt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},lt.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},lt.prototype._circlesCollide=function(t,e,i,n,o,r){var a=n-t,s=o-e,l=i+r;return l*l>a*a+s*s},lt.prototype._circleAndRectCollide=function(t,e,i,n,o,r,a){var s=(r-n)/2,l=Math.abs(t-(n+s));if(l>s+i)return!1;var c=(a-o)/2,u=Math.abs(e-(o+c));if(u>c+i)return!1;if(l<=s||u<=c)return!0;var h=l-s,p=u-c;return h*h+p*p<=i*i};var ct=t.default$9.layout;function ut(e,i,n,o,r){var a=t.mat4.identity(new Float32Array(16));return i?(t.mat4.identity(a),t.mat4.scale(a,a,[1/r,1/r,1]),n||t.mat4.rotateZ(a,a,o.angle)):(t.mat4.scale(a,a,[o.width/2,-o.height/2,1]),t.mat4.translate(a,a,[1,-1,0]),t.mat4.multiply(a,a,e)),a}function ht(e,i,n,o,r){var a=t.mat4.identity(new Float32Array(16));return i?(t.mat4.multiply(a,a,e),t.mat4.scale(a,a,[r,r,1]),n||t.mat4.rotateZ(a,a,-o.angle)):(t.mat4.scale(a,a,[1,-1,1]),t.mat4.translate(a,a,[-1,-1,0]),t.mat4.scale(a,a,[2/o.width,2/o.height,1])),a}function pt(e,i){var n=[e.x,e.y,0,1];wt(n,n,i);var o=n[3];return{point:new t.default$1(n[0]/o,n[1]/o),signedDistanceFromCamera:o}}function dt(t,e){var i=t[0]/t[3],n=t[1]/t[3];return i>=-e[0]&&i<=e[0]&&n>=-e[1]&&n<=e[1]}function ft(e,i,n,o,r,a,s,l){var c=o?e.textSizeData:e.iconSizeData,u=t.evaluateSizeForZoom(c,n.transform.zoom,ct.properties[o?"text-size":"icon-size"]),h=[256/n.width*2+1,256/n.height*2+1],p=o?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;p.clear();for(var d=e.lineVertexArray,f=o?e.text.placedSymbolArray:e.icon.placedSymbolArray,m=n.transform.width/n.transform.height,_=!1,g=0;g<f.length;g++){var v=f.get(g);if(v.hidden||v.writingMode===t.WritingMode.vertical&&!_)bt(v.numGlyphs,p);else{_=!1;var y=[v.anchorX,v.anchorY,0,1];if(t.vec4.transformMat4(y,y,i),dt(y,h)){var x=.5+y[3]/n.transform.cameraToCenterDistance*.5,b=t.evaluateSizeForFeature(c,u,v),w=s?b*x:b/x,E=new t.default$1(v.anchorX,v.anchorY),T=pt(E,r).point,I={},C=gt(v,w,!1,l,i,r,a,e.glyphOffsetArray,d,p,T,E,I,m);_=C.useVertical,(C.notEnoughRoom||_||C.needsFlipping&&gt(v,w,!0,l,i,r,a,e.glyphOffsetArray,d,p,T,E,I,m).notEnoughRoom)&&bt(v.numGlyphs,p)}else bt(v.numGlyphs,p)}}o?e.text.dynamicLayoutVertexBuffer.updateData(p):e.icon.dynamicLayoutVertexBuffer.updateData(p)}function mt(t,e,i,n,o,r,a,s,l,c,u,h){var p=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),_=e.getoffsetX(p-1),g=yt(t*m,i,n,o,r,a,s.segment,d,f,l,c,u,h);if(!g)return null;var v=yt(t*_,i,n,o,r,a,s.segment,d,f,l,c,u,h);return v?{first:g,last:v}:null}function _t(e,i,n,o){if(e===t.WritingMode.horizontal&&Math.abs(n.y-i.y)>Math.abs(n.x-i.x)*o)return{useVertical:!0};return(e===t.WritingMode.vertical?i.y<n.y:i.x>n.x)?{needsFlipping:!0}:null}function gt(e,i,n,o,r,a,s,l,c,u,h,p,d,f){var m,_=i/24,g=e.lineOffsetX*i,v=e.lineOffsetY*i;if(e.numGlyphs>1){var y=e.glyphStartIndex+e.numGlyphs,x=e.lineStartIndex,b=e.lineStartIndex+e.lineLength,w=mt(_,l,g,v,n,h,p,e,c,a,d,!1);if(!w)return{notEnoughRoom:!0};var E=pt(w.first.point,s).point,T=pt(w.last.point,s).point;if(o&&!n){var I=_t(e.writingMode,E,T,f);if(I)return I}m=[w.first];for(var C=e.glyphStartIndex+1;C<y-1;C++)m.push(yt(_*l.getoffsetX(C),g,v,n,h,p,e.segment,x,b,c,a,d,!1));m.push(w.last)}else{if(o&&!n){var S=pt(p,r).point,z=e.lineStartIndex+e.segment+1,A=new t.default$1(c.getx(z),c.gety(z)),R=pt(A,r),D=R.signedDistanceFromCamera>0?R.point:vt(p,A,S,1,r),M=_t(e.writingMode,S,D,f);if(M)return M}var P=yt(_*l.getoffsetX(e.glyphStartIndex),g,v,n,h,p,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,c,a,d,!1);if(!P)return{notEnoughRoom:!0};m=[P]}for(var L=0,k=m;L<k.length;L+=1){var B=k[L];t.addDynamicAttributes(u,B.point,B.angle)}return{}}function vt(t,e,i,n,o){var r=pt(t.add(t.sub(e)._unit()),o).point,a=i.sub(r);return i.add(a._mult(n/a.mag()))}function yt(e,i,n,o,r,a,s,l,c,u,h,p,d){var f=o?e-i:e+i,m=f>0?1:-1,_=0;o&&(m*=-1,_=Math.PI),m<0&&(_+=Math.PI);for(var g=m>0?l+s:l+s+1,v=g,y=r,x=r,b=0,w=0,E=Math.abs(f);b+w<=E;){if((g+=m)<l||g>=c)return null;if(x=y,void 0===(y=p[g])){var T=new t.default$1(u.getx(g),u.gety(g)),I=pt(T,h);if(I.signedDistanceFromCamera>0)y=p[g]=I.point;else{var C=g-m;y=vt(0===b?a:new t.default$1(u.getx(C),u.gety(C)),T,x,E-b+1,h)}}b+=w,w=x.dist(y)}var S=(E-b)/w,z=y.sub(x),A=z.mult(S)._add(x);return A._add(z._unit()._perp()._mult(n*m)),{point:A,angle:_+Math.atan2(y.y-x.y,y.x-x.x),tileDistance:d?{prevTileDistance:g-m===v?0:u.gettileUnitDistanceFromAnchor(g-m),lastSegmentViewportDistance:E-b}:null}}var xt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function bt(t,e){for(var i=0;i<t;i++){var n=e.length;e.resize(n+4),e.float32.set(xt,3*n)}}function wt(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[4]*o+i[12],t[1]=i[1]*n+i[5]*o+i[13],t[3]=i[3]*n+i[7]*o+i[15],t}t.default$10.mat4;var Et=function(t,e,i){void 0===e&&(e=new lt(t.width+200,t.height+200,25)),void 0===i&&(i=new lt(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=i,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100};function Tt(t,e,i){t[e+4]=i?1:0}Et.prototype.placeCollisionBox=function(t,e,i,n){var o=this.projectAndGetPerspectiveRatio(n,t.anchorPointX,t.anchorPointY),r=i*o.perspectiveRatio,a=t.x1*r+o.point.x,s=t.y1*r+o.point.y,l=t.x2*r+o.point.x,c=t.y2*r+o.point.y;return!e&&this.grid.hitTest(a,s,l,c)?{box:[],offscreen:!1}:{box:[a,s,l,c],offscreen:this.isOffscreen(a,s,l,c)}},Et.prototype.approximateTileDistance=function(t,e,i,n,o){var r=o?1:n/this.pitchfactor,a=t.lastSegmentViewportDistance*i;return t.prevTileDistance+a+(r-1)*a*Math.abs(Math.sin(e))},Et.prototype.placeCollisionCircles=function(e,i,n,o,r,a,s,l,c,u,h,p,d){var f=[],m=this.projectAnchor(u,a.anchorX,a.anchorY),_=c/24,g=a.lineOffsetX*c,v=a.lineOffsetY*c,y=new t.default$1(a.anchorX,a.anchorY),x=mt(_,l,g,v,!1,pt(y,h).point,y,a,s,h,{},!0),b=!1,w=!0,E=m.perspectiveRatio*o,T=1/(o*n),I=0,C=0;x&&(I=this.approximateTileDistance(x.first.tileDistance,x.first.angle,T,m.cameraDistance,d),C=this.approximateTileDistance(x.last.tileDistance,x.last.angle,T,m.cameraDistance,d));for(var S=0;S<e.length;S+=5){var z=e[S],A=e[S+1],R=e[S+2],D=e[S+3];if(!x||D<-I||D>C)Tt(e,S,!1);else{var M=this.projectPoint(u,z,A),P=R*E;if(f.length>0){var L=M.x-f[f.length-4],k=M.y-f[f.length-3];if(P*P*2>L*L+k*k)if(S+8<e.length){var B=e[S+8];if(B>-I&&B<C){Tt(e,S,!1);continue}}}var O=S/5;if(f.push(M.x,M.y,P,O),Tt(e,S,!0),w=w&&this.isOffscreen(M.x-P,M.y-P,M.x+P,M.y+P),!i&&this.grid.hitTestCircle(M.x,M.y,P)){if(!p)return{circles:[],offscreen:!1};b=!0}}}return{circles:b?[]:f,offscreen:w}},Et.prototype.queryRenderedSymbols=function(e,i,n,o,r,a){var s={},l=[];if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return l;for(var c=this.transform.calculatePosMatrix(i.toUnwrapped()),u=[],h=1/0,p=1/0,d=-1/0,f=-1/0,m=0;m<e.length;m++)for(var _=e[m],g=0;g<_.length;g++){var v=this.projectPoint(c,_[g].x,_[g].y);h=Math.min(h,v.x),p=Math.min(p,v.y),d=Math.max(d,v.x),f=Math.max(f,v.y),u.push(v)}for(var y=i.key,x=[],b=this.grid.query(h,p,d,f),w=0;w<b.length;w++)b[w].sourceID===r&&b[w].tileID===y&&a[b[w].bucketInstanceId]&&x.push(b[w].boxIndex);for(var E=this.ignoredGrid.query(h,p,d,f),T=0;T<E.length;T++)E[T].sourceID===r&&E[T].tileID===y&&a[E[T].bucketInstanceId]&&x.push(E[T].boxIndex);for(var I=0;I<x.length;I++){var C=o.get(x[I]),S=C.sourceLayerIndex,z=C.featureIndex,A=C.bucketIndex;if(void 0===s[S]&&(s[S]={}),void 0===s[S][z]&&(s[S][z]={}),!s[S][z][A]){var R=this.projectAndGetPerspectiveRatio(c,C.anchorPointX,C.anchorPointY),D=n*R.perspectiveRatio,M=C.x1*D+R.point.x,P=C.y1*D+R.point.y,L=C.x2*D+R.point.x,k=C.y2*D+R.point.y,B=[new t.default$1(M,P),new t.default$1(L,P),new t.default$1(L,k),new t.default$1(M,k)];t.polygonIntersectsPolygon(u,B)&&(s[S][z][A]=!0,l.push(x[I]))}}return l},Et.prototype.insertCollisionBox=function(t,e,i,n,o,r){var a={tileID:i,sourceID:n,bucketInstanceId:o,boxIndex:r};(e?this.ignoredGrid:this.grid).insert(a,t[0],t[1],t[2],t[3])},Et.prototype.insertCollisionCircles=function(t,e,i,n,o,r){for(var a=e?this.ignoredGrid:this.grid,s=0;s<t.length;s+=4){var l={tileID:i,sourceID:n,bucketInstanceId:o,boxIndex:r+t[s+3]};a.insertCircle(l,t[s],t[s+1],t[s+2])}},Et.prototype.projectAnchor=function(t,e,i){var n=[e,i,0,1];return wt(n,n,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5,cameraDistance:n[3]}},Et.prototype.projectPoint=function(e,i,n){var o=[i,n,0,1];return wt(o,o,e),new t.default$1((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100)},Et.prototype.projectAndGetPerspectiveRatio=function(e,i,n){var o=[i,n,0,1];return wt(o,o,e),{point:new t.default$1((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5}},Et.prototype.isOffscreen=function(t,e,i,n){return i<100||t>=this.screenRightBoundary||n<100||e>this.screenBottomBoundary};var It=function(e,i){this.tileID=e,this.uid=t.uniqueId(),this.uses=0,this.tileSize=i,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.expiredRequestCount=0,this.state="loading"};It.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<r.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},It.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},It.prototype.loadVectorData=function(e,i,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){if(e.rawTileData&&(this.rawTileData=e.rawTileData),this.collisionBoxArray=e.collisionBoxArray,this.featureIndex=e.featureIndex,this.featureIndex.rawTileData=this.rawTileData,this.buckets=function(t,e){var i={};if(!e)return i;for(var n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==a.length){r.layers=a;for(var s=0,l=a;s<l.length;s+=1)i[l[s].id]=r}}return i}(e.buckets,i.style),n)for(var o in this.buckets){var r=this.buckets[o];r instanceof t.default$17&&(r.justReloaded=!0)}for(var a in this.queryPadding=0,this.buckets){var s=this.buckets[a];this.queryPadding=Math.max(this.queryPadding,i.style.getLayer(s.layerIds[0]).queryRadius(s))}e.iconAtlasImage&&(this.iconAtlasImage=e.iconAtlasImage),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new t.CollisionBoxArray},It.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.collisionBoxArray=null,this.featureIndex=null,this.state="unloaded"},It.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},It.prototype.getBucket=function(t){return this.buckets[t.id]},It.prototype.upload=function(t){for(var e in this.buckets){var i=this.buckets[e];i.uploaded||(i.upload(t),i.uploaded=!0)}var n=t.gl;this.iconAtlasImage&&(this.iconAtlasTexture=new M(t,this.iconAtlasImage,n.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new M(t,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},It.prototype.queryRenderedFeatures=function(e,i,n,o,r,a,s,l,c){if(!this.featureIndex||!this.collisionBoxArray)return{};var u={};for(var h in e){var p=this.getBucket(e[h]);p&&p instanceof t.default$17&&void 0!==p.bucketInstanceId&&(u[p.bucketInstanceId]=!0)}return this.featureIndex.query({queryGeometry:i,scale:n,tileSize:this.tileSize,posMatrix:s,transform:r,params:o,queryPadding:this.queryPadding*a,collisionBoxArray:this.collisionBoxArray,sourceID:l,collisionIndex:c,bucketInstanceIds:u},e)},It.prototype.querySourceFeatures=function(e,i){if(this.rawTileData){this.vtLayers||(this.vtLayers=new t.default$13.VectorTile(new t.default$14(this.rawTileData)).layers);var n=i?i.sourceLayer:"",o=this.vtLayers._geojsonTileLayer||this.vtLayers[n];if(o)for(var r=t.default$16(i&&i.filter),a={z:this.tileID.overscaledZ,x:this.tileID.canonical.x,y:this.tileID.canonical.y},s=0;s<o.length;s++){var l=o.feature(s);if(r({zoom:this.tileID.overscaledZ},l)){var c=new t.default$15(l,a.z,a.x,a.y);c.tile=a,e.push(c)}}}},It.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},It.prototype.setMask=function(e,i){if(!t.default$11(this.mask,e)&&(this.mask=e,this.clearMask(),!t.default$11(e,{0:!0}))){var n=new t.RasterBoundsArray,o=new t.TriangleIndexArray;this.segments=new t.default$18,this.segments.prepareSegment(0,n,o);for(var r=Object.keys(e),a=0;a<r.length;a++){var s=e[r[a]],l=t.default$8>>s.z,c=new t.default$1(s.x*l,s.y*l),u=new t.default$1(c.x+l,c.y+l),h=this.segments.prepareSegment(4,n,o);n.emplaceBack(c.x,c.y,c.x,c.y),n.emplaceBack(u.x,c.y,u.x,c.y),n.emplaceBack(c.x,u.y,c.x,u.y),n.emplaceBack(u.x,u.y,u.x,u.y);var p=h.vertexLength;o.emplaceBack(p,p+1,p+2),o.emplaceBack(p+1,p+2,p+3),h.vertexLength+=4,h.primitiveLength+=2}this.maskedBoundsBuffer=i.createVertexBuffer(n,Q.members),this.maskedIndexBuffer=i.createIndexBuffer(o)}},It.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},It.prototype.setExpiryData=function(e){var i=this.expirationTime;if(e.cacheControl){var n=t.parseCacheControl(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var o=Date.now(),r=!1;if(this.expirationTime>o)r=!1;else if(i)if(this.expirationTime<i)r=!0;else{var a=this.expirationTime-i;a?this.expirationTime=o+Math.max(a,3e4):r=!0}else r=!0;r?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},It.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)};var Ct=function(t,e){this.max=t,this.onRemove=e,this.reset()};Ct.prototype.reset=function(){for(var t in this.data)this.onRemove(this.data[t]);return this.data={},this.order=[],this},Ct.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var i=this.getAndRemove(this.order[0]);i&&this.onRemove(i)}return this},Ct.prototype.has=function(t){return t in this.data},Ct.prototype.keys=function(){return this.order},Ct.prototype.getAndRemove=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},Ct.prototype.get=function(t){return this.has(t)?this.data[t]:null},Ct.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},Ct.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this.getAndRemove(this.order[0]);e&&this.onRemove(e)}return this};var St=function(t,e,i){this.context=t;var n=t.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.unbindVAO(),t.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};St.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},St.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},St.prototype.updateData=function(t){var e=this.context.gl;this.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},St.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var zt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},At=function(t,e,i,n){this.length=e.length,this.attributes=i,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.context=t;var o=t.gl;this.buffer=o.createBuffer(),t.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};At.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},At.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},At.prototype.enableAttributes=function(t,e){for(var i=0;i<this.attributes.length;i++){var n=this.attributes[i],o=e.attributes[n.name];void 0!==o&&t.enableVertexAttribArray(o)}},At.prototype.setVertexAttribPointers=function(t,e,i){for(var n=0;n<this.attributes.length;n++){var o=this.attributes[n],r=e.attributes[o.name];void 0!==r&&t.vertexAttribPointer(r,o.components,t[zt[o.type]],!1,this.itemSize,o.offset+this.itemSize*(i||0))}},At.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var Rt=function(e){this.context=e,this.current=t.default$6.transparent};Rt.prototype.get=function(){return this.current},Rt.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t)};var Dt=function(t){this.context=t,this.current=1};Dt.prototype.get=function(){return this.current},Dt.prototype.set=function(t){this.current!==t&&(this.context.gl.clearDepth(t),this.current=t)};var Mt=function(t){this.context=t,this.current=0};Mt.prototype.get=function(){return this.current},Mt.prototype.set=function(t){this.current!==t&&(this.context.gl.clearStencil(t),this.current=t)};var Pt=function(t){this.context=t,this.current=[!0,!0,!0,!0]};Pt.prototype.get=function(){return this.current},Pt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t)};var Lt=function(t){this.context=t,this.current=!0};Lt.prototype.get=function(){return this.current},Lt.prototype.set=function(t){this.current!==t&&(this.context.gl.depthMask(t),this.current=t)};var kt=function(t){this.context=t,this.current=255};kt.prototype.get=function(){return this.current},kt.prototype.set=function(t){this.current!==t&&(this.context.gl.stencilMask(t),this.current=t)};var Bt=function(t){this.context=t,this.current={func:t.gl.ALWAYS,ref:0,mask:255}};Bt.prototype.get=function(){return this.current},Bt.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t)};var Ot=function(t){this.context=t;var e=this.context.gl;this.current=[e.KEEP,e.KEEP,e.KEEP]};Ot.prototype.get=function(){return this.current},Ot.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t)};var Ft=function(t){this.context=t,this.current=!1};Ft.prototype.get=function(){return this.current},Ft.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t}};var Nt=function(t){this.context=t,this.current=[0,1]};Nt.prototype.get=function(){return this.current},Nt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.depthRange(t[0],t[1]),this.current=t)};var Ut=function(t){this.context=t,this.current=!1};Ut.prototype.get=function(){return this.current},Ut.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t}};var Zt=function(t){this.context=t,this.current=t.gl.LESS};Zt.prototype.get=function(){return this.current},Zt.prototype.set=function(t){this.current!==t&&(this.context.gl.depthFunc(t),this.current=t)};var Vt=function(t){this.context=t,this.current=!1};Vt.prototype.get=function(){return this.current},Vt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t}};var jt=function(t){this.context=t;var e=this.context.gl;this.current=[e.ONE,e.ZERO]};jt.prototype.get=function(){return this.current},jt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.blendFunc(t[0],t[1]),this.current=t)};var $t=function(e){this.context=e,this.current=t.default$6.transparent};$t.prototype.get=function(){return this.current},$t.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t)};var Gt=function(t){this.context=t,this.current=null};Gt.prototype.get=function(){return this.current},Gt.prototype.set=function(t){this.current!==t&&(this.context.gl.useProgram(t),this.current=t)};var Wt=function(t){this.context=t,this.current=1};Wt.prototype.get=function(){return this.current},Wt.prototype.set=function(e){var i=this.context.lineWidthRange,n=t.clamp(e,i[0],i[1]);this.current!==n&&(this.context.gl.lineWidth(n),this.current=e)};var qt=function(t){this.context=t,this.current=t.gl.TEXTURE0};qt.prototype.get=function(){return this.current},qt.prototype.set=function(t){this.current!==t&&(this.context.gl.activeTexture(t),this.current=t)};var Xt=function(t){this.context=t;var e=this.context.gl;this.current=[0,0,e.drawingBufferWidth,e.drawingBufferHeight]};Xt.prototype.get=function(){return this.current},Xt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t)};var Ht=function(t){this.context=t,this.current=null};Ht.prototype.get=function(){return this.current},Ht.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t}};var Kt=function(t){this.context=t,this.current=null};Kt.prototype.get=function(){return this.current},Kt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t}};var Yt=function(t){this.context=t,this.current=null};Yt.prototype.get=function(){return this.current},Yt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t}};var Jt=function(t){this.context=t,this.current=null};Jt.prototype.get=function(){return this.current},Jt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t}};var Qt=function(t){this.context=t,this.current=null};Qt.prototype.get=function(){return this.current},Qt.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t};var te=function(t){this.context=t,this.current=null};te.prototype.get=function(){return this.current},te.prototype.set=function(t){this.current!==t&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t)};var ee=function(t){this.context=t,this.current=4};ee.prototype.get=function(){return this.current},ee.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t}};var ie=function(t){this.context=t,this.current=!1};ie.prototype.get=function(){return this.current},ie.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t}};var ne=function(t,e){this.context=t,this.current=null,this.parent=e};ne.prototype.get=function(){return this.current};var oe=function(t){function e(e,i){t.call(this,e,i),this.dirty=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e.prototype.setDirty=function(){this.dirty=!0},e}(ne),re=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t}},e}(ne),ae=function(t,e,i){this.context=t,this.width=e,this.height=i;var n=t.gl,o=this.framebuffer=n.createFramebuffer();this.colorAttachment=new oe(t,o),this.depthAttachment=new re(t,o)};ae.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var i=this.depthAttachment.get();i&&t.deleteRenderbuffer(i),t.deleteFramebuffer(this.framebuffer)};var se=function(t,e,i){this.func=t,this.mask=e,this.range=i};se.ReadOnly=!1,se.ReadWrite=!0,se.disabled=new se(519,se.ReadOnly,[0,1]);var le=function(t,e,i,n,o,r){this.test=t,this.ref=e,this.mask=i,this.fail=n,this.depthFail=o,this.pass=r};le.disabled=new le({func:519,mask:0},0,0,7680,7680,7680);var ce=function(t,e,i){this.blendFunction=t,this.blendColor=e,this.mask=i};ce.Replace=[1,0],ce.disabled=new ce(ce.Replace,t.default$6.transparent,[!1,!1,!1,!1]),ce.unblended=new ce(ce.Replace,t.default$6.transparent,[!0,!0,!0,!0]),ce.alphaBlended=new ce([1,771],t.default$6.transparent,[!0,!0,!0,!0]);var ue=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.clearColor=new Rt(this),this.clearDepth=new Dt(this),this.clearStencil=new Mt(this),this.colorMask=new Pt(this),this.depthMask=new Lt(this),this.stencilMask=new kt(this),this.stencilFunc=new Bt(this),this.stencilOp=new Ot(this),this.stencilTest=new Ft(this),this.depthRange=new Nt(this),this.depthTest=new Ut(this),this.depthFunc=new Zt(this),this.blend=new Vt(this),this.blendFunc=new jt(this),this.blendColor=new $t(this),this.program=new Gt(this),this.lineWidth=new Wt(this),this.activeTexture=new qt(this),this.viewport=new Xt(this),this.bindFramebuffer=new Ht(this),this.bindRenderbuffer=new Kt(this),this.bindTexture=new Yt(this),this.bindVertexBuffer=new Jt(this),this.bindElementBuffer=new Qt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new te(this),this.pixelStoreUnpack=new ee(this),this.pixelStoreUnpackPremultiplyAlpha=new ie(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};ue.prototype.createIndexBuffer=function(t,e){return new St(this,t,e)},ue.prototype.createVertexBuffer=function(t,e,i){return new At(this,t,e,i)},ue.prototype.createRenderbuffer=function(t,e,i){var n=this.gl,o=n.createRenderbuffer();return this.bindRenderbuffer.set(o),n.renderbufferStorage(n.RENDERBUFFER,t,e,i),this.bindRenderbuffer.set(null),o},ue.prototype.createFramebuffer=function(t,e){return new ae(this,t,e)},ue.prototype.clear=function(t){var e=t.color,i=t.depth,n=this.gl,o=0;e&&(o|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==i&&(o|=n.DEPTH_BUFFER_BIT,this.clearDepth.set(i),this.depthMask.set(!0)),n.clear(o)},ue.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},ue.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},ue.prototype.setColorMode=function(e){t.default$11(e.blendFunction,ce.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)};var he=function(e){function i(t,i,n){var o=this;e.call(this),this.id=t,this.dispatcher=n,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))}),this.on("error",function(){o._sourceErrored=!0}),this._source=rt(t,i,n,this),this._tiles={},this._cache=new Ct(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},i.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},i.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},i.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._tiles)this._tiles[e].upload(t)},i.prototype.getIds=function(){var e=this;return Object.keys(this._tiles).map(Number).sort(function(i,n){var o=e._tiles[i].tileID,r=e._tiles[n].tileID,a=new t.default$1(o.canonical.x,o.canonical.y).rotate(e.transform.angle),s=new t.default$1(r.canonical.x,r.canonical.y).rotate(e.transform.angle);return o.overscaledZ-r.overscaledZ||s.y-a.y||s.x-a.x})},i.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},i.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0,{});return!!e&&this._isIdRenderable(e.tileID.key)},i.prototype._isIdRenderable=function(t){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._resetCache(),this._tiles)this._reloadTile(t,"reloading")},i.prototype._reloadTile=function(t,e){var i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)))},i.prototype._tileLoaded=function(e,i,n,o){if(o)return e.state="errored",void(404!==o.status?this._source.fire(new t.ErrorEvent(o,{tile:e})):this.update(this.transform));e.timeAdded=r.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID})),this.map&&(this.map.painter.tileExtentVAO.vao=null)},i.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),i=0;i<e.length;i++){var n=e[i];if(t.neighboringTiles&&t.neighboringTiles[n]){var o=this.getTileByID(n);r(t,o),r(o,t)}}function r(t,e){t.needsHillshadePrepare=!0;var i=e.tileID.canonical.x-t.tileID.canonical.x,n=e.tileID.canonical.y-t.tileID.canonical.y,o=Math.pow(2,t.tileID.canonical.z),r=e.tileID.key;0===i&&0===n||Math.abs(n)>1||(Math.abs(i)>1&&(1===Math.abs(i+o)?i+=o:1===Math.abs(i-o)&&(i-=o)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,i,n),t.neighboringTiles&&t.neighboringTiles[r]&&(t.neighboringTiles[r].backfilled=!0)))}},i.prototype.getTile=function(t){return this.getTileByID(t.key)},i.prototype.getTileByID=function(t){return this._tiles[t]},i.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},i.prototype._findLoadedChildren=function(t,e,i){var n=!1;for(var o in this._tiles){var r=this._tiles[o];if(!(i[o]||!r.hasData()||r.tileID.overscaledZ<=t.overscaledZ||r.tileID.overscaledZ>e)){var a=Math.pow(2,r.tileID.canonical.z-t.canonical.z);if(Math.floor(r.tileID.canonical.x/a)===t.canonical.x&&Math.floor(r.tileID.canonical.y/a)===t.canonical.y)for(i[o]=r.tileID,n=!0;r&&r.tileID.overscaledZ-1>t.overscaledZ;){var s=r.tileID.scaledTo(r.tileID.overscaledZ-1);if(!s)break;(r=this._tiles[s.key])&&r.hasData()&&(delete i[o],i[s.key]=s)}}}return n},i.prototype.findLoadedParent=function(t,e,i){for(var n=t.overscaledZ-1;n>=e;n--){var o=t.scaledTo(n);if(!o)return;var r=String(o.key),a=this._tiles[r];if(a&&a.hasData())return i[r]=o,a;if(this._cache.has(r))return i[r]=o,this._cache.get(r)}},i.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),i=Math.floor(5*e),n="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(n)},i.prototype.update=function(e){var n=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var o;this.updateCacheSize(e),this._coveredTiles={},this.used?this._source.tileID?o=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)}):(o=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(o=o.filter(function(t){return n._source.hasTile(t)}))):o=[];var a,s=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),l=Math.max(s-i.maxOverzooming,this._source.minzoom),c=Math.max(s+i.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(o,s),h={};if(de(this._source.type))for(var p=Object.keys(u),d=0;d<p.length;d++){var f=p[d],m=u[f],_=n._tiles[f];if(_&&(void 0===_.fadeEndTime||_.fadeEndTime>=r.now())){n._findLoadedChildren(m,c,u)&&(u[f]=m);var g=n.findLoadedParent(m,l,h);g&&n._addTile(g.tileID)}}for(a in h)u[a]||(n._coveredTiles[a]=!0);for(a in h)u[a]=h[a];for(var v=t.keysDifference(this._tiles,u),y=0;y<v.length;y++)n._removeTile(v[y])}},i.prototype._updateRetainedTiles=function(t,e){for(var n={},o={},r=Math.max(e-i.maxOverzooming,this._source.minzoom),a=Math.max(e+i.maxUnderzooming,this._source.minzoom),s=0;s<t.length;s++){var l=t[s],c=this._addTile(l),u=!1;if(c.hasData())n[l.key]=l;else{u=c.wasRequested(),n[l.key]=l;var h=!0;if(e+1>this._source.maxzoom){var p=l.children(this._source.maxzoom)[0],d=this.getTile(p);d&&d.hasData()?n[p.key]=p:h=!1}else{this._findLoadedChildren(l,a,n);for(var f=l.children(this._source.maxzoom),m=0;m<f.length;m++)if(!n[f[m].key]){h=!1;break}}if(!h)for(var _=l.overscaledZ-1;_>=r;--_){var g=l.scaledTo(_);if(o[g.key])break;if(o[g.key]=!0,!(c=this.getTile(g))&&u&&(c=this._addTile(g)),c&&(n[g.key]=g,u=c.wasRequested(),c.hasData()))break}}}return n},i.prototype._addTile=function(e){var i=this._tiles[e.key];if(i)return i;(i=this._cache.getAndRemove(e.key))&&this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i));var n=Boolean(i);return n||(i=new It(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(i,this._tileLoaded.bind(this,i,e.key,i.state))),i?(i.uses++,this._tiles[e.key]=i,n||this._source.fire(new t.Event("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i):null},i.prototype._setTileReloadTimer=function(t,e){var i=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var n=e.getExpiryTimeout();n&&(this._timers[t]=setTimeout(function(){i._reloadTile(t,"expired"),delete i._timers[t]},n))},i.prototype._setCacheInvalidationTimer=function(t,e){var i=this;t in this._cacheTimers&&(clearTimeout(this._cacheTimers[t]),delete this._cacheTimers[t]);var n=e.getExpiryTimeout();n&&(this._cacheTimers[t]=setTimeout(function(){i._cache.remove(t),delete i._cacheTimers[t]},n))},i.prototype._removeTile=function(t){var e=this._tiles[t];if(e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),!(e.uses>0)))if(e.hasData()){e.tileID=e.tileID.wrapped();var i=e.tileID.key;this._cache.add(i,e),this._setCacheInvalidationTimer(i,e)}else e.aborted=!0,this._abortTile(e),this._unloadTile(e)},i.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._resetCache()},i.prototype._resetCache=function(){for(var t in this._cacheTimers)clearTimeout(this._cacheTimers[t]);this._cacheTimers={},this._cache.reset()},i.prototype.tilesIn=function(e,i){for(var n=[],o=this.getIds(),r=1/0,a=1/0,s=-1/0,l=-1/0,c=e[0].zoom,u=0;u<e.length;u++){var h=e[u];r=Math.min(r,h.column),a=Math.min(a,h.row),s=Math.max(s,h.column),l=Math.max(l,h.row)}for(var p=0;p<o.length;p++){var d=this._tiles[o[p]],f=d.tileID,m=Math.pow(2,this.transform.zoom-d.tileID.overscaledZ),_=i*d.queryPadding*t.default$8/d.tileSize/m,g=[pe(f,new t.default$19(r,a,c)),pe(f,new t.default$19(s,l,c))];if(g[0].x-_<t.default$8&&g[0].y-_<t.default$8&&g[1].x+_>=0&&g[1].y+_>=0){for(var v=[],y=0;y<e.length;y++)v.push(pe(f,e[y]));n.push({tile:d,tileID:f,queryGeometry:[v],scale:m})}}return n},i.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map(function(e){return t._tiles[e].tileID}),i=0,n=e;i<n.length;i+=1){var o=n[i];o.posMatrix=t.transform.calculatePosMatrix(o.toUnwrapped())}return e},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(de(this._source.type))for(var t in this._tiles){var e=this._tiles[t];if(void 0!==e.fadeEndTime&&e.fadeEndTime>=r.now())return!0}return!1},i}(t.Evented);function pe(e,i){var n=i.zoomTo(e.canonical.z);return new t.default$1((n.column-(e.canonical.x+e.wrap*Math.pow(2,e.canonical.z)))*t.default$8,(n.row-e.canonical.y)*t.default$8)}function de(t){return"raster"===t||"image"===t||"video"===t}function fe(){return new t.default.Worker(An.workerUrl)}he.maxOverzooming=10,he.maxUnderzooming=3;var me,_e=function(){this.active={}};function ge(e,i){var n={};for(var o in e)"ref"!==o&&(n[o]=e[o]);return t.default$20.forEach(function(t){t in i&&(n[t]=i[t])}),n}function ve(t){t=t.slice();for(var e=Object.create(null),i=0;i<t.length;i++)e[t[i].id]=t[i];for(var n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=ge(t[n],e[t[n].ref]));return t}_e.prototype.acquire=function(t){if(!this.workers){var e=An.workerCount;for(this.workers=[];this.workers.length<e;)this.workers.push(new fe)}return this.active[t]=!0,this.workers.slice()},_e.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)};var ye={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function xe(t,e,i){i.push({command:ye.addSource,args:[t,e[t]]})}function be(t,e,i){e.push({command:ye.removeSource,args:[t]}),i[t]=!0}function we(t,e,i,n){be(t,i,n),xe(t,e,i)}function Ee(e,i,n){var o;for(o in e[n])if(e[n].hasOwnProperty(o)&&"data"!==o&&!t.default$11(e[n][o],i[n][o]))return!1;for(o in i[n])if(i[n].hasOwnProperty(o)&&"data"!==o&&!t.default$11(e[n][o],i[n][o]))return!1;return!0}function Te(e,i,n,o,r,a){var s;for(s in e=e||{},i=i||{},e)e.hasOwnProperty(s)&&(t.default$11(e[s],i[s])||n.push({command:a,args:[o,s,i[s],r]}));for(s in i)i.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.default$11(e[s],i[s])||n.push({command:a,args:[o,s,i[s],r]}))}function Ie(t){return t.id}function Ce(t,e){return t[e.id]=e,t}function Se(e,i){if(!e)return[{command:ye.setStyle,args:[i]}];var n=[];try{if(!t.default$11(e.version,i.version))return[{command:ye.setStyle,args:[i]}];t.default$11(e.center,i.center)||n.push({command:ye.setCenter,args:[i.center]}),t.default$11(e.zoom,i.zoom)||n.push({command:ye.setZoom,args:[i.zoom]}),t.default$11(e.bearing,i.bearing)||n.push({command:ye.setBearing,args:[i.bearing]}),t.default$11(e.pitch,i.pitch)||n.push({command:ye.setPitch,args:[i.pitch]}),t.default$11(e.sprite,i.sprite)||n.push({command:ye.setSprite,args:[i.sprite]}),t.default$11(e.glyphs,i.glyphs)||n.push({command:ye.setGlyphs,args:[i.glyphs]}),t.default$11(e.transition,i.transition)||n.push({command:ye.setTransition,args:[i.transition]}),t.default$11(e.light,i.light)||n.push({command:ye.setLight,args:[i.light]});var o={},r=[];!function(e,i,n,o){var r;for(r in e=e||{},i=i||{},e)e.hasOwnProperty(r)&&(i.hasOwnProperty(r)||be(r,n,o));for(r in i)i.hasOwnProperty(r)&&(e.hasOwnProperty(r)?t.default$11(e[r],i[r])||("geojson"===e[r].type&&"geojson"===i[r].type&&Ee(e,i,r)?n.push({command:ye.setGeoJSONSourceData,args:[r,i[r].data]}):we(r,i,n,o)):xe(r,i,n))}(e.sources,i.sources,r,o);var a=[];e.layers&&e.layers.forEach(function(t){o[t.source]?n.push({command:ye.removeLayer,args:[t.id]}):a.push(t)}),n=n.concat(r),function(e,i,n){e=e||[],i=i||[];var o,r,a,s,l,c,u,h=e.map(Ie),p=i.map(Ie),d=e.reduce(Ce,{}),f=i.reduce(Ce,{}),m=h.slice(),_=Object.create(null);for(o=0,r=0;o<h.length;o++)a=h[o],f.hasOwnProperty(a)?r++:(n.push({command:ye.removeLayer,args:[a]}),m.splice(m.indexOf(a,r),1));for(o=0,r=0;o<p.length;o++)a=p[p.length-1-o],m[m.length-1-o]!==a&&(d.hasOwnProperty(a)?(n.push({command:ye.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-r),1)):r++,c=m[m.length-o],n.push({command:ye.addLayer,args:[f[a],c]}),m.splice(m.length-o,0,a),_[a]=!0);for(o=0;o<p.length;o++)if(s=d[a=p[o]],l=f[a],!_[a]&&!t.default$11(s,l))if(t.default$11(s.source,l.source)&&t.default$11(s["source-layer"],l["source-layer"])&&t.default$11(s.type,l.type)){for(u in Te(s.layout,l.layout,n,a,null,ye.setLayoutProperty),Te(s.paint,l.paint,n,a,null,ye.setPaintProperty),t.default$11(s.filter,l.filter)||n.push({command:ye.setFilter,args:[a,l.filter]}),t.default$11(s.minzoom,l.minzoom)&&t.default$11(s.maxzoom,l.maxzoom)||n.push({command:ye.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?Te(s[u],l[u],n,a,u.slice(6),ye.setPaintProperty):t.default$11(s[u],l[u])||n.push({command:ye.setLayerProperty,args:[a,u,l[u]]}));for(u in l)l.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?Te(s[u],l[u],n,a,u.slice(6),ye.setPaintProperty):t.default$11(s[u],l[u])||n.push({command:ye.setLayerProperty,args:[a,u,l[u]]}))}else n.push({command:ye.removeLayer,args:[a]}),c=m[m.lastIndexOf(a)+1],n.push({command:ye.addLayer,args:[l,c]})}(a,i.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:ye.setStyle,args:[i]}]}return n}function ze(e,i,n){return i*(t.default$8/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}var Ae=t.default$9.layout,Re=function(t,e,i,n){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):n&&i?1:0,this.placed=i};Re.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var De=function(t,e,i,n,o){this.text=new Re(t?t.text:null,e,i,o),this.icon=new Re(t?t.icon:null,e,n,o)};De.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Me=function(t,e,i){this.text=t,this.icon=e,this.skipFade=i},Pe=function(t,e){this.transform=t.clone(),this.collisionIndex=new Et(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e};function Le(t,e,i){t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0)}Pe.prototype.placeLayerTile=function(e,i,n,o){var r=i.getBucket(e);if(r){var a=r.layers[0].layout,s=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),l=i.tileSize/t.default$8,c=this.transform.calculatePosMatrix(i.tileID.toUnwrapped()),u=ut(c,"map"===a.get("text-pitch-alignment"),"map"===a.get("text-rotation-alignment"),this.transform,ze(i,1,this.transform.zoom)),h=ut(c,"map"===a.get("icon-pitch-alignment"),"map"===a.get("icon-rotation-alignment"),this.transform,ze(i,1,this.transform.zoom));this.placeLayerBucket(r,c,u,h,s,l,n,o,i.collisionBoxArray,i.tileID.key,e.source)}},Pe.prototype.placeLayerBucket=function(e,i,n,o,r,a,s,l,c,u,h){for(var p=e.layers[0].layout,d=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom,Ae.properties["text-size"]),f=!e.hasTextData()||p.get("text-optional"),m=!e.hasIconData()||p.get("icon-optional"),_=0,g=e.symbolInstances;_<g.length;_+=1){var v=g[_];if(!l[v.crossTileID]){var y=void 0!==v.feature.text,x=void 0!==v.feature.icon,b=!0,w=null,E=null,T=null;v.collisionArrays||(v.collisionArrays=e.deserializeCollisionBoxes(c,v.textBoxStartIndex,v.textBoxEndIndex,v.iconBoxStartIndex,v.iconBoxEndIndex)),v.collisionArrays.textBox&&(y=(w=this.collisionIndex.placeCollisionBox(v.collisionArrays.textBox,p.get("text-allow-overlap"),a,i)).box.length>0,b=b&&w.offscreen);var I=v.collisionArrays.textCircles;if(I){var C=e.text.placedSymbolArray.get(v.placedTextSymbolIndices[0]),S=t.evaluateSizeForFeature(e.textSizeData,d,C);E=this.collisionIndex.placeCollisionCircles(I,p.get("text-allow-overlap"),r,a,v.key,C,e.lineVertexArray,e.glyphOffsetArray,S,i,n,s,"map"===p.get("text-pitch-alignment")),y=p.get("text-allow-overlap")||E.circles.length>0,b=b&&E.offscreen}v.collisionArrays.iconBox&&(x=(T=this.collisionIndex.placeCollisionBox(v.collisionArrays.iconBox,p.get("icon-allow-overlap"),a,i)).box.length>0,b=b&&T.offscreen),f||m?m?f||(x=x&&y):y=x&&y:x=y=x&&y,y&&w&&this.collisionIndex.insertCollisionBox(w.box,p.get("text-ignore-placement"),u,h,e.bucketInstanceId,v.textBoxStartIndex),x&&T&&this.collisionIndex.insertCollisionBox(T.box,p.get("icon-ignore-placement"),u,h,e.bucketInstanceId,v.iconBoxStartIndex),y&&E&&this.collisionIndex.insertCollisionCircles(E.circles,p.get("text-ignore-placement"),u,h,e.bucketInstanceId,v.textBoxStartIndex),this.placements[v.crossTileID]=new Me(y,x,b||e.justReloaded),l[v.crossTileID]=!0}}e.justReloaded=!1},Pe.prototype.commit=function(t,e){this.commitTime=e;var i=!1,n=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,o=t?t.opacities:{};for(var r in this.placements){var a=this.placements[r],s=o[r];s?(this.opacities[r]=new De(s,n,a.text,a.icon),i=i||a.text!==s.text.placed||a.icon!==s.icon.placed):(this.opacities[r]=new De(null,n,a.text,a.icon,a.skipFade),i=i||a.text||a.icon)}for(var l in o){var c=o[l];if(!this.opacities[l]){var u=new De(c,n,!1,!1);u.isHidden()||(this.opacities[l]=u,i=i||c.text.placed||c.icon.placed)}}i?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},Pe.prototype.updateLayerOpacities=function(t,e){for(var i={},n=0,o=e;n<o.length;n+=1){var r=o[n],a=r.getBucket(t);a&&this.updateBucketOpacities(a,i,r.collisionBoxArray)}},Pe.prototype.updateBucketOpacities=function(t,e,i){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();for(var n=t.layers[0].layout,o=new De(null,0,!1,!1,!0),r=new De(null,0,n.get("text-allow-overlap"),n.get("icon-allow-overlap"),!0),a=0;a<t.symbolInstances.length;a++){var s=t.symbolInstances[a],l=e[s.crossTileID],c=this.opacities[s.crossTileID];l?c=o:c||(c=r,this.opacities[s.crossTileID]=c),e[s.crossTileID]=!0;var u=s.numGlyphVertices>0||s.numVerticalGlyphVertices>0,h=s.numIconVertices>0;if(u){for(var p=Ve(c.text),d=(s.numGlyphVertices+s.numVerticalGlyphVertices)/4,f=0;f<d;f++)t.text.opacityVertexArray.emplaceBack(p);for(var m=0,_=s.placedTextSymbolIndices;m<_.length;m+=1){var g=_[m];t.text.placedSymbolArray.get(g).hidden=c.text.isHidden()}}if(h){for(var v=Ve(c.icon),y=0;y<s.numIconVertices/4;y++)t.icon.opacityVertexArray.emplaceBack(v);t.icon.placedSymbolArray.get(a).hidden=c.icon.isHidden()}s.collisionArrays||(s.collisionArrays=t.deserializeCollisionBoxes(i,s.textBoxStartIndex,s.textBoxEndIndex,s.iconBoxStartIndex,s.iconBoxEndIndex));var x=s.collisionArrays;if(x){x.textBox&&t.hasCollisionBoxData()&&Le(t.collisionBox.collisionVertexArray,c.text.placed,!1),x.iconBox&&t.hasCollisionBoxData()&&Le(t.collisionBox.collisionVertexArray,c.icon.placed,!1);var b=x.textCircles;if(b&&t.hasCollisionCircleData())for(var w=0;w<b.length;w+=5){var E=l||0===b[w+4];Le(t.collisionCircle.collisionVertexArray,c.text.placed,E)}}}t.sortFeatures(this.transform.angle),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},Pe.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},Pe.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},Pe.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},Pe.prototype.setStale=function(){this.stale=!0};var ke=Math.pow(2,25),Be=Math.pow(2,24),Oe=Math.pow(2,17),Fe=Math.pow(2,16),Ne=Math.pow(2,9),Ue=Math.pow(2,8),Ze=Math.pow(2,1);function Ve(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,i=Math.floor(127*t.opacity);return i*ke+e*Be+i*Oe+e*Fe+i*Ne+e*Ue+i*Ze+e}var je=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};je.prototype.continuePlacement=function(t,e,i,n,o){for(;this._currentTileIndex<t.length;){var r=t[this._currentTileIndex];if(e.placeLayerTile(n,r,i,this._seenCrossTileIDs),this._currentTileIndex++,o())return!0}};var $e=function(t,e,i,n,o){this.placement=new Pe(t,o),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=n,this._done=!1};$e.prototype.isDone=function(){return this._done},$e.prototype.continuePlacement=function(t,e,i){for(var n=this,o=r.now(),a=function(){var t=r.now()-o;return!n._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=e[t[n._currentPlacementIndex]],l=n.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(n._inProgressLayer||(n._inProgressLayer=new je),n._inProgressLayer.continuePlacement(i[s.source],n.placement,n._showCollisionBoxes,s,a))return;delete n._inProgressLayer}n._currentPlacementIndex--}this._done=!0},$e.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement};var Ge=512/t.default$8/2,We=function(t,e,i){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(var n=0,o=e;n<o.length;n+=1){var r=o[n],a=r.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:r.crossTileID,coord:this.getScaledCoordinates(r,t)})}};We.prototype.getScaledCoordinates=function(e,i){var n=i.canonical.z-this.tileID.canonical.z,o=Ge/Math.pow(2,n),r=e.anchor;return{x:Math.floor((i.canonical.x*t.default$8+r.x)*o),y:Math.floor((i.canonical.y*t.default$8+r.y)*o)}},We.prototype.findMatches=function(t,e,i){for(var n=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),o=0,r=t;o<r.length;o+=1){var a=r[o];if(!a.crossTileID){var s=this.indexedSymbolInstances[a.key];if(s)for(var l=this.getScaledCoordinates(a,e),c=0,u=s;c<u.length;c+=1){var h=u[c];if(Math.abs(h.coord.x-l.x)<=n&&Math.abs(h.coord.y-l.y)<=n&&!i[h.crossTileID]){i[h.crossTileID]=!0,a.crossTileID=h.crossTileID;break}}}}};var qe=function(){this.maxCrossTileID=0};qe.prototype.generate=function(){return++this.maxCrossTileID};var Xe=function(){this.indexes={},this.usedCrossTileIDs={}};Xe.prototype.addBucket=function(t,e,i){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var n=0,o=e.symbolInstances;n<o.length;n+=1){o[n].crossTileID=0}this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var r=this.usedCrossTileIDs[t.overscaledZ];for(var a in this.indexes){var s=this.indexes[a];if(Number(a)>t.overscaledZ)for(var l in s){var c=s[l];c.tileID.isChildOf(t)&&c.findMatches(e.symbolInstances,t,r)}else{var u=s[t.scaledTo(Number(a)).key];u&&u.findMatches(e.symbolInstances,t,r)}}for(var h=0,p=e.symbolInstances;h<p.length;h+=1){var d=p[h];d.crossTileID||(d.crossTileID=i.generate(),r[d.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new We(t,e.symbolInstances,e.bucketInstanceId),!0},Xe.prototype.removeBucketCrossTileIDs=function(t,e){for(var i in e.indexedSymbolInstances)for(var n=0,o=e.indexedSymbolInstances[i];n<o.length;n+=1){var r=o[n];delete this.usedCrossTileIDs[t][r.crossTileID]}},Xe.prototype.removeStaleBuckets=function(t){var e=!1;for(var i in this.indexes){var n=this.indexes[i];for(var o in n)t[n[o].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,n[o]),delete n[o],e=!0)}return e};var He=function(){this.layerIndexes={},this.crossTileIDs=new qe,this.maxBucketInstanceId=0};He.prototype.addLayer=function(t,e){var i=this.layerIndexes[t.id];void 0===i&&(i=this.layerIndexes[t.id]=new Xe);for(var n=!1,o={},r=0,a=e;r<a.length;r+=1){var s=a[r],l=s.getBucket(t);l&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(s.tileID,l,this.crossTileIDs)&&(n=!0),o[l.bucketInstanceId]=!0)}return i.removeStaleBuckets(o)&&(n=!0),n},He.prototype.pruneUnusedLayers=function(t){var e={};for(var i in t.forEach(function(t){e[t]=!0}),this.layerIndexes)e[i]||delete this.layerIndexes[i]};var Ke=t.pick(ye,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ye=t.pick(ye,["setCenter","setZoom","setBearing","setPitch"]),Je=function(e){function i(n,o){var r=this;void 0===o&&(o={}),e.call(this),this.map=n,this.dispatcher=new $((me||(me=new _e),me),this),this.imageManager=new P,this.glyphManager=new N(n._transformRequest,o.localIdeographFontFamily),this.lineAtlas=new j(256,512),this.crossTileSymbolIndex=new He,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.default$23,this._loaded=!1,this._resetUpdates();var a=this;this._rtlTextPluginCallback=i.registerForPluginAvailability(function(t){for(var e in a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.errorCallback),a.sourceCaches)a.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=r.sourceCaches[t.sourceId];if(e){var i=e.getSource();if(i&&i.vectorLayerIds)for(var n in r._layers){var o=r._layers[n];o.source===i.id&&r._validateLayer(o)}}}})}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.loadURL=function(e,i){var n=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var o="boolean"==typeof i.validate?i.validate:!y(e);e=function(t,e){if(!y(t))return t;var i=C(t);return i.path="/styles/v1"+i.path,v(i,e)}(e,i.accessToken);var r=this.map._transformRequest(e,t.ResourceType.Style);t.getJSON(r,function(e,i){e?n.fire(new t.ErrorEvent(e)):i&&n._load(i,o)})},i.prototype.loadJSON=function(e,i){var n=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"})),r.frame(function(){n._load(e,!1!==i.validate)})},i.prototype._load=function(e,i){var n=this;if(!i||!t.emitValidationErrors(this,t.validateStyle(e))){for(var o in this._loaded=!0,this.stylesheet=e,e.sources)n.addSource(o,e.sources[o],{validate:!1});e.sprite?function(e,i,n){var o,a,s,l=r.devicePixelRatio>1?"@2x":"";function c(){if(s)n(s);else if(o&&a){var e=r.getImageData(a),i={};for(var l in o){var c=o[l],u=c.width,h=c.height,p=c.x,d=c.y,f=c.sdf,m=c.pixelRatio,_=new t.RGBAImage({width:u,height:h});t.RGBAImage.copy(e,_,{x:p,y:d},{x:0,y:0},{width:u,height:h}),i[l]={data:_,pixelRatio:m,sdf:f}}n(null,i)}}t.getJSON(i(w(e,l,".json"),t.ResourceType.SpriteJSON),function(t,e){s||(s=t,o=e,c())}),t.getImage(i(w(e,l,".png"),t.ResourceType.SpriteImage),function(t,e){s||(s=t,a=e,c())})}(e.sprite,this.map._transformRequest,function(e,i){if(e)n.fire(new t.ErrorEvent(e));else if(i)for(var o in i)n.imageManager.addImage(o,i[o]);n.imageManager.setLoaded(!0),n.fire(new t.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var a=ve(this.stylesheet.layers);this._order=a.map(function(t){return t.id}),this._layers={};for(var s=0,l=a;s<l.length;s+=1){var c=l[s];(c=t.default$22(c)).setEventedParent(n,{layer:{id:c.id}}),n._layers[c.id]=c}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new V(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},i.prototype._validateLayer=function(e){var i=this.sourceCaches[e.source];if(i){var n=e.sourceLayer;if(n){var o=i.getSource();("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(n))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+o.id+'" as specified by style layer "'+e.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(e){if(this._loaded){if(this._changed){var i=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);for(var o in(i.length||n.length)&&this._updateWorkerLayers(i,n),this._updatedSources){var r=this._updatedSources[o];"reload"===r?this._reloadSource(o):"clear"===r&&this._clearSource(o)}for(var a in this._updatedPaintProps)this._layers[a].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates(),this.fire(new t.Event("data",{dataType:"style"}))}for(var s in this.sourceCaches)this.sourceCaches[s].used=!1;for(var l=0,c=this._order;l<c.length;l+=1){var u=c[l],h=this._layers[u];h.recalculate(e),!h.isHidden(e.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}this.light.recalculate(e),this.z=e.zoom}},i.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},i.prototype.setState=function(e){var i=this;if(this._checkLoaded(),t.emitValidationErrors(this,t.validateStyle(e)))return!1;(e=t.clone(e)).layers=ve(e.layers);var n=Se(this.serialize(),e).filter(function(t){return!(t.command in Ye)});if(0===n.length)return!1;var o=n.filter(function(t){return!(t.command in Ke)});if(o.length>0)throw new Error("Unimplemented: "+o.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&i[t.command].apply(i,t.args)}),this.stylesheet=e,!0},i.prototype.addImage=function(e,i){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,i),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.getImage=function(t){return this.imageManager.getImage(t)},i.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.addSource=function(e,i,n){var o=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!i.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(i).join(", ")+".");if(!(["vector","raster","geojson","video","image","canvas"].indexOf(i.type)>=0)||!this._validate(t.validateStyle.source,"sources."+e,i,null,n)){this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);var r=this.sourceCaches[e]=new he(e,i,this.dispatcher);r.style=this,r.setEventedParent(this,function(){return{isSourceLoaded:o.loaded(),source:r.serialize(),sourceId:e}}),r.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var i in this._layers)if(this._layers[i].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+i+'" is using it.')));var n=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],n.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},i.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},i.prototype.addLayer=function(e,i,n){this._checkLoaded();var o=e.id;if(this.getLayer(o))this.fire(new t.ErrorEvent(new Error('Layer with id "'+o+'" already exists on this map')));else if("object"==typeof e.source&&(this.addSource(o,e.source),e=t.clone(e),e=t.extend(e,{source:o})),!this._validate(t.validateStyle.layer,"layers."+o,e,{arrayIndex:-1},n)){var r=t.default$22(e);this._validateLayer(r),r.setEventedParent(this,{layer:{id:o}});var a=i?this._order.indexOf(i):this._order.length;if(i&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.')));else{if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=r,this._removedLayers[o]&&r.source){var s=this._removedLayers[o];delete this._removedLayers[o],s.type!==r.type?this._updatedSources[r.source]="clear":(this._updatedSources[r.source]="reload",this.sourceCaches[r.source].pause())}this._updateLayer(r)}}},i.prototype.moveLayer=function(e,i){if(this._checkLoaded(),this._changed=!0,this._layers[e]){var n=this._order.indexOf(e);this._order.splice(n,1);var o=i?this._order.indexOf(i):this._order.length;i&&-1===o?this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.'))):(this._order.splice(o,0,e),this._layerOrderChanged=!0)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(e){this._checkLoaded();var i=this._layers[e];if(i){i.setEventedParent(null);var n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e]}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(t){return this._layers[t]},i.prototype.setLayerZoomRange=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);o?o.minzoom===i&&o.maxzoom===n||(null!=i&&(o.minzoom=i),null!=n&&(o.maxzoom=n),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(e,i){this._checkLoaded();var n=this.getLayer(e);if(n){if(!t.default$11(n.filter,i))return null===i||void 0===i?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(t.validateStyle.filter,"layers."+n.id+".filter",i)||(n.filter=t.clone(i),this._updateLayer(n)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(e){return t.clone(this.getLayer(e).filter)},i.prototype.setLayoutProperty=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);o?t.default$11(o.getLayoutProperty(i),n)||(o.setLayoutProperty(i,n),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},i.prototype.setPaintProperty=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);if(o){if(!t.default$11(o.getPaintProperty(i),n)){var r=o._transitionablePaint._values[i].value.isDataDriven();o.setPaintProperty(i,n),(o._transitionablePaint._values[i].value.isDataDriven()||r)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},i.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){var e=this;return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(t){return void 0!==t})},i.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},i.prototype._flattenRenderedFeatures=function(t){for(var e=[],i=this._order.length-1;i>=0;i--)for(var n=this._order[i],o=0,r=t;o<r.length;o+=1){var a=r[o][n];if(a)for(var s=0,l=a;s<l.length;s+=1){var c=l[s];e.push(c)}}return e},i.prototype.queryRenderedFeatures=function(e,i,n){i&&i.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",i.filter);var o={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var r=0,a=i.layers;r<a.length;r+=1){var s=a[r],l=this._layers[s];if(!l)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];o[l.source]=!0}}var c=[];for(var u in this.sourceCaches)if(!i.layers||o[u]){var h=at(this.sourceCaches[u],this._layers,e,i,n,this.placement?this.placement.collisionIndex:null);c.push(h)}return this._flattenRenderedFeatures(c)},i.prototype.querySourceFeatures=function(e,i){i&&i.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",i.filter);var n=this.sourceCaches[e];return n?function(t,e){for(var i=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),n=[],o={},r=0;r<i.length;r++){var a=i[r],s=a.tileID.canonical.key;o[s]||(o[s]=!0,a.querySourceFeatures(n,e))}return n}(n,i):[]},i.prototype.addSourceType=function(t,e,n){return i.getSourceType(t)?n(new Error('A source type called "'+t+'" already exists.')):(i.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(e){this._checkLoaded();var i=this.light.getLight(),n=!1;for(var o in e)if(!t.default$11(e[o],i[o])){n=!0;break}if(n){var a={now:r.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e),this.light.updateTransitions(a)}},i.prototype._validate=function(e,i,n,o,r){return(!r||!1!==r.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({key:i,style:this.serialize(),value:n,styleSpec:t.default$5},o)))},i.prototype._remove=function(){for(var e in t.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[e].clearTiles();this.dispatcher.remove()},i.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},i.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},i.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},i.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},i.prototype._updatePlacement=function(t,e,i){for(var n=!1,o=!1,a={},s=0,l=this._order;s<l.length;s+=1){var c=l[s],u=this._layers[c];if("symbol"===u.type){if(!a[u.source]){var h=this.sourceCaches[u.source];a[u.source]=h.getRenderableIds().map(function(t){return h.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var p=this.crossTileSymbolIndex.addLayer(u,a[u.source]);n=n||p}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var d=this._layerOrderChanged;if((d||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(r.now()))&&(this.pauseablePlacement=new $e(t,this._order,d,e,i),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,a),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,r.now()),o=!0),n&&this.pauseablePlacement.placement.setStale()),o||n)for(var f=0,m=this._order;f<m.length;f+=1){var _=m[f],g=this._layers[_];"symbol"===g.type&&this.placement.updateLayerOpacities(g,a[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(r.now())},i.prototype.getImages=function(t,e,i){this.imageManager.getImages(e.icons,i)},i.prototype.getGlyphs=function(t,e,i){this.glyphManager.getGlyphs(e.stacks,i)},i}(t.Evented);Je.getSourceType=function(t){return ot[t]},Je.setSourceType=function(t,e){ot[t]=e},Je.registerForPluginAvailability=t.registerForPluginAvailability;var Qe=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),ti={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field boxes in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"uniform float u_overscale_factor;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length / u_overscale_factor;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field circles in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - u_maxzoom) * a) where a is an arbitrary value\n    // Here we use a=0.3 which works out to the expression below. see \n    // nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - u_maxzoom) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n\n    // v_normal.y is 0 at the midpoint of the line, -1 at the lower edge, 1 at the upper edge\n    // we clamp the line width outset to be between 0 and half the pattern height plus padding (2.0)\n    // to ensure we don't sample outside the designated symbol on the sprite sheet.\n    // 0.5 is added to shift the component to be bounded between 0 and 1 for interpolation of\n    // the texture coordinate\n    float y_a = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_a.y + 2.0) / 2.0) / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_b.y + 2.0) / 2.0) / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n            0.5 + 0.5 * distance_ratio,\n            0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n            4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n        0.5 + 0.5 * distance_ratio,\n        0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n        4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},ei=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ii=function(t){var e=ti[t],i={};e.fragmentSource=e.fragmentSource.replace(ei,function(t,e,n,o,r){return i[r]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nvarying "+n+" "+o+" "+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n"}),e.vertexSource=e.vertexSource.replace(ei,function(t,e,n,o,r){var a="float"===o?"vec2":"vec4";return i[r]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float a_"+r+"_t;\nattribute "+n+" "+a+" a_"+r+";\nvarying "+n+" "+o+" "+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = unpack_mix_"+a+"(a_"+r+", a_"+r+"_t);\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float a_"+r+"_t;\nattribute "+n+" "+a+" a_"+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = unpack_mix_"+a+"(a_"+r+", a_"+r+"_t);\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n"})};for(var ni in ti)ii(ni);var oi=ti,ri=function(t,e,i,n){var o=t.gl;this.program=o.createProgram();var a=i.defines().concat("#define DEVICE_PIXEL_RATIO "+r.devicePixelRatio.toFixed(1));n&&a.push("#define OVERDRAW_INSPECTOR;");var s=a.concat(oi.prelude.fragmentSource,e.fragmentSource).join("\n"),l=a.concat(oi.prelude.vertexSource,e.vertexSource).join("\n"),c=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(c,s),o.compileShader(c),o.attachShader(this.program,c);var u=o.createShader(o.VERTEX_SHADER);o.shaderSource(u,l),o.compileShader(u),o.attachShader(this.program,u);for(var h=i.layoutAttributes||[],p=0;p<h.length;p++)o.bindAttribLocation(this.program,p,h[p].name);o.linkProgram(this.program),this.numAttributes=o.getProgramParameter(this.program,o.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var d=0;d<this.numAttributes;d++){var f=o.getActiveAttrib(this.program,d);f&&(this.attributes[f.name]=o.getAttribLocation(this.program,f.name))}for(var m=o.getProgramParameter(this.program,o.ACTIVE_UNIFORMS),_=0;_<m;_++){var g=o.getActiveUniform(this.program,_);g&&(this.uniforms[g.name]=o.getUniformLocation(this.program,g.name))}};function ai(e,i,n,o,r){for(var a=0;a<n.length;a++){var s=n[a];if(o.isLessThan(s.tileID))break;if(i.key===s.tileID.key)return;if(s.tileID.isChildOf(i)){for(var l=i.children(1/0),c=0;c<l.length;c++){ai(e,l[c],n.slice(a),o,r)}return}}var u=i.overscaledZ-e.overscaledZ,h=new t.CanonicalTileID(u,i.canonical.x-(e.canonical.x<<u),i.canonical.y-(e.canonical.y<<u));r[h.key]=r[h.key]||h}function si(t,e,i,n,o){var r=t.context,a=r.gl,s=o?t.useProgram("collisionCircle"):t.useProgram("collisionBox");r.setDepthMode(se.disabled),r.setStencilMode(le.disabled),r.setColorMode(t.colorModeForRenderPass());for(var l=0;l<n.length;l++){var c=n[l],u=e.getTile(c),h=u.getBucket(i);if(h){var p=o?h.collisionCircle:h.collisionBox;if(p){a.uniformMatrix4fv(s.uniforms.u_matrix,!1,c.posMatrix),o||r.lineWidth.set(1),a.uniform1f(s.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance);var d=ze(u,1,t.transform.zoom),f=Math.pow(2,t.transform.zoom-u.tileID.overscaledZ);a.uniform1f(s.uniforms.u_pixels_to_tile_units,d),a.uniform2f(s.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits[0]/(d*f),t.transform.pixelsToGLUnits[1]/(d*f)),a.uniform1f(s.uniforms.u_overscale_factor,u.tileID.overscaleFactor()),s.draw(r,o?a.TRIANGLES:a.LINES,i.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,null,p.collisionVertexBuffer,null)}}}}ri.prototype.draw=function(t,e,i,n,o,r,a,s,l){for(var c,u=t.gl,h=(c={},c[u.LINES]=2,c[u.TRIANGLES]=3,c)[e],p=0,d=r.get();p<d.length;p+=1){var f=d[p],m=f.vaos||(f.vaos={});(m[i]||(m[i]=new tt)).bind(t,this,n,a?a.getPaintVertexBuffers():[],o,f.vertexOffset,s,l),u.drawElements(e,f.primitiveLength*h,u.UNSIGNED_SHORT,f.primitiveOffset*h*2)}};var li=t.mat4.identity(new Float32Array(16)),ci=t.default$9.layout;function ui(t,e,i,n,o,r,a,s,l,c){var u,h=t.context,p=h.gl,d=t.transform,f="map"===s,m="map"===l,_=f&&"line"===i.layout.get("symbol-placement"),g=f&&!m&&!_,v=m;h.setDepthMode(v?t.depthModeForSublayer(0,se.ReadOnly):se.disabled);for(var y=0,x=n;y<x.length;y+=1){var b=x[y],w=e.getTile(b),E=w.getBucket(i);if(E){var T=o?E.text:E.icon;if(T&&T.segments.get().length){var I=T.programConfigurations.get(i.id),C=o||E.sdfIcons,S=o?E.textSizeData:E.iconSizeData;if(u||(u=t.useProgram(C?"symbolSDF":"symbolIcon",I),I.setUniforms(t.context,u,i.paint,{zoom:t.transform.zoom}),hi(u,t,i,o,g,m,S)),h.activeTexture.set(p.TEXTURE0),p.uniform1i(u.uniforms.u_texture,0),o)w.glyphAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),p.uniform2fv(u.uniforms.u_texsize,w.glyphAtlasTexture.size);else{var z=1!==i.layout.get("icon-size").constantOr(0)||E.iconsNeedLinear,A=m||0!==d.pitch;w.iconAtlasTexture.bind(C||t.options.rotating||t.options.zooming||z||A?p.LINEAR:p.NEAREST,p.CLAMP_TO_EDGE),p.uniform2fv(u.uniforms.u_texsize,w.iconAtlasTexture.size)}p.uniformMatrix4fv(u.uniforms.u_matrix,!1,t.translatePosMatrix(b.posMatrix,w,r,a));var R=ze(w,1,t.transform.zoom),D=ut(b.posMatrix,m,f,t.transform,R),M=ht(b.posMatrix,m,f,t.transform,R);p.uniformMatrix4fv(u.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(M,w,r,a,!0)),_?(p.uniformMatrix4fv(u.uniforms.u_label_plane_matrix,!1,li),ft(E,b.posMatrix,t,o,D,M,m,c)):p.uniformMatrix4fv(u.uniforms.u_label_plane_matrix,!1,D),p.uniform1f(u.uniforms.u_fade_change,t.options.fadeDuration?t.symbolFadeChange:1),pi(u,I,t,i,w,T,o,C,m)}}}}function hi(e,i,n,o,r,a,s){var l=i.context.gl,c=i.transform;l.uniform1i(e.uniforms.u_pitch_with_map,a?1:0),l.uniform1f(e.uniforms.u_is_text,o?1:0),l.uniform1f(e.uniforms.u_pitch,c.pitch/360*2*Math.PI);var u="constant"===s.functionType||"source"===s.functionType,h="constant"===s.functionType||"camera"===s.functionType;l.uniform1i(e.uniforms.u_is_size_zoom_constant,u?1:0),l.uniform1i(e.uniforms.u_is_size_feature_constant,h?1:0),l.uniform1f(e.uniforms.u_camera_to_center_distance,c.cameraToCenterDistance);var p=t.evaluateSizeForZoom(s,c.zoom,ci.properties[o?"text-size":"icon-size"]);void 0!==p.uSizeT&&l.uniform1f(e.uniforms.u_size_t,p.uSizeT),void 0!==p.uSize&&l.uniform1f(e.uniforms.u_size,p.uSize),l.uniform1f(e.uniforms.u_aspect_ratio,c.width/c.height),l.uniform1i(e.uniforms.u_rotate_symbol,r?1:0)}function pi(t,e,i,n,o,r,a,s,l){var c=i.context,u=c.gl,h=i.transform;if(s){var p=0!==n.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),d=l?Math.cos(h._pitch)*h.cameraToCenterDistance:1;u.uniform1f(t.uniforms.u_gamma_scale,d),p&&(u.uniform1f(t.uniforms.u_is_halo,1),di(r,n,c,t)),u.uniform1f(t.uniforms.u_is_halo,0)}di(r,n,c,t)}function di(t,e,i,n){n.draw(i,i.gl.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function fi(t,e,i,n,o,a,s,l,c){var u,h,p,d,f=e.context,m=f.gl,_=o.paint.get("line-dasharray"),g=o.paint.get("line-pattern");if(l||c){var v=1/ze(i,1,e.transform.tileZoom);if(_){u=e.lineAtlas.getDash(_.from,"round"===o.layout.get("line-cap")),h=e.lineAtlas.getDash(_.to,"round"===o.layout.get("line-cap"));var y=u.width*_.fromScale,x=h.width*_.toScale;m.uniform2f(t.uniforms.u_patternscale_a,v/y,-u.height/2),m.uniform2f(t.uniforms.u_patternscale_b,v/x,-h.height/2),m.uniform1f(t.uniforms.u_sdfgamma,e.lineAtlas.width/(256*Math.min(y,x)*r.devicePixelRatio)/2)}else if(g){if(p=e.imageManager.getPattern(g.from),d=e.imageManager.getPattern(g.to),!p||!d)return;m.uniform2f(t.uniforms.u_pattern_size_a,p.displaySize[0]*g.fromScale/v,p.displaySize[1]),m.uniform2f(t.uniforms.u_pattern_size_b,d.displaySize[0]*g.toScale/v,d.displaySize[1]);var b=e.imageManager.getPixelSize(),w=b.width,E=b.height;m.uniform2fv(t.uniforms.u_texsize,[w,E])}m.uniform2f(t.uniforms.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}l&&(_?(m.uniform1i(t.uniforms.u_image,0),f.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(f),m.uniform1f(t.uniforms.u_tex_y_a,u.y),m.uniform1f(t.uniforms.u_tex_y_b,h.y),m.uniform1f(t.uniforms.u_mix,_.t)):g&&(m.uniform1i(t.uniforms.u_image,0),f.activeTexture.set(m.TEXTURE0),e.imageManager.bind(f),m.uniform2fv(t.uniforms.u_pattern_tl_a,p.tl),m.uniform2fv(t.uniforms.u_pattern_br_a,p.br),m.uniform2fv(t.uniforms.u_pattern_tl_b,d.tl),m.uniform2fv(t.uniforms.u_pattern_br_b,d.br),m.uniform1f(t.uniforms.u_fade,g.t))),f.setStencilMode(e.stencilModeForClipping(a));var T=e.translatePosMatrix(a.posMatrix,i,o.paint.get("line-translate"),o.paint.get("line-translate-anchor"));m.uniformMatrix4fv(t.uniforms.u_matrix,!1,T),m.uniform1f(t.uniforms.u_ratio,1/ze(i,1,e.transform.zoom)),t.draw(f,m.TRIANGLES,o.id,n.layoutVertexBuffer,n.indexBuffer,n.segments,s)}var mi=function(t,e){if(!t)return!1;var i=e.imageManager.getPattern(t.from),n=e.imageManager.getPattern(t.to);return!i||!n},_i=function(t,e,i){var n=e.context,o=n.gl,r=e.imageManager.getPattern(t.from),a=e.imageManager.getPattern(t.to);o.uniform1i(i.uniforms.u_image,0),o.uniform2fv(i.uniforms.u_pattern_tl_a,r.tl),o.uniform2fv(i.uniforms.u_pattern_br_a,r.br),o.uniform2fv(i.uniforms.u_pattern_tl_b,a.tl),o.uniform2fv(i.uniforms.u_pattern_br_b,a.br);var s=e.imageManager.getPixelSize(),l=s.width,c=s.height;o.uniform2fv(i.uniforms.u_texsize,[l,c]),o.uniform1f(i.uniforms.u_mix,t.t),o.uniform2fv(i.uniforms.u_pattern_size_a,r.displaySize),o.uniform2fv(i.uniforms.u_pattern_size_b,a.displaySize),o.uniform1f(i.uniforms.u_scale_a,t.fromScale),o.uniform1f(i.uniforms.u_scale_b,t.toScale),n.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context)},gi=function(t,e,i){var n=e.context.gl;n.uniform1f(i.uniforms.u_tile_units_to_pixels,1/ze(t,1,e.transform.tileZoom));var o=Math.pow(2,t.tileID.overscaledZ),r=t.tileSize*Math.pow(2,e.transform.tileZoom)/o,a=r*(t.tileID.canonical.x+t.tileID.wrap*o),s=r*t.tileID.canonical.y;n.uniform2f(i.uniforms.u_pixel_coord_upper,a>>16,s>>16),n.uniform2f(i.uniforms.u_pixel_coord_lower,65535&a,65535&s)};function vi(t,e,i,n,o){if(!mi(i.paint.get("fill-pattern"),t))for(var r=!0,a=0,s=n;a<s.length;a+=1){var l=s[a],c=e.getTile(l),u=c.getBucket(i);u&&(t.context.setStencilMode(t.stencilModeForClipping(l)),o(t,e,i,c,l,u,r),r=!1)}}function yi(t,e,i,n,o,r,a){var s=t.context.gl,l=r.programConfigurations.get(i.id);bi("fill",i.paint.get("fill-pattern"),t,l,i,n,o,a).draw(t.context,s.TRIANGLES,i.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,l)}function xi(t,e,i,n,o,r,a){var s=t.context.gl,l=r.programConfigurations.get(i.id),c=bi("fillOutline",i.getPaintProperty("fill-outline-color")?null:i.paint.get("fill-pattern"),t,l,i,n,o,a);s.uniform2f(c.uniforms.u_world,s.drawingBufferWidth,s.drawingBufferHeight),c.draw(t.context,s.LINES,i.id,r.layoutVertexBuffer,r.indexBuffer2,r.segments2,l)}function bi(t,e,i,n,o,r,a,s){var l,c=i.context.program.get();return e?(l=i.useProgram(t+"Pattern",n),(s||l.program!==c)&&(n.setUniforms(i.context,l,o.paint,{zoom:i.transform.zoom}),_i(e,i,l)),gi(r,i,l)):(l=i.useProgram(t,n),(s||l.program!==c)&&n.setUniforms(i.context,l,o.paint,{zoom:i.transform.zoom})),i.context.gl.uniformMatrix4fv(l.uniforms.u_matrix,!1,i.translatePosMatrix(a.posMatrix,r,o.paint.get("fill-translate"),o.paint.get("fill-translate-anchor"))),l}var wi=t.default$10.mat3,Ei=t.default$10.mat4,Ti=t.default$10.vec3;function Ii(t,e,i,n,o,r,a){var s=t.context,l=s.gl,c=i.paint.get("fill-extrusion-pattern"),u=t.context.program.get(),h=r.programConfigurations.get(i.id),p=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",h);if((a||p.program!==u)&&h.setUniforms(s,p,i.paint,{zoom:t.transform.zoom}),c){if(mi(c,t))return;_i(c,t,p),gi(n,t,p),l.uniform1f(p.uniforms.u_height_factor,-Math.pow(2,o.overscaledZ)/n.tileSize/8)}t.context.gl.uniformMatrix4fv(p.uniforms.u_matrix,!1,t.translatePosMatrix(o.posMatrix,n,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor"))),function(t,e){var i=e.context.gl,n=e.style.light,o=n.properties.get("position"),r=[o.x,o.y,o.z],a=wi.create();"viewport"===n.properties.get("anchor")&&wi.fromRotation(a,-e.transform.angle);Ti.transformMat3(r,r,a);var s=n.properties.get("color");i.uniform3fv(t.uniforms.u_lightpos,r),i.uniform1f(t.uniforms.u_lightintensity,n.properties.get("intensity")),i.uniform3f(t.uniforms.u_lightcolor,s.r,s.g,s.b)}(p,t),p.draw(s,l.TRIANGLES,i.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,h)}function Ci(e,i,n){var o=e.context,r=o.gl,a=i.fbo;if(a){var s=e.useProgram("hillshade"),l=e.transform.calculatePosMatrix(i.tileID.toUnwrapped(),!0);!function(t,e,i){var n=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(n-=e.transform.angle),e.context.gl.uniform2f(t.uniforms.u_light,i.paint.get("hillshade-exaggeration"),n)}(s,e,n);var c=function(e,i){var n=i.toCoordinate(),o=new t.default$19(n.column,n.row+1,n.zoom);return[e.transform.coordinateLocation(n).lat,e.transform.coordinateLocation(o).lat]}(e,i.tileID);o.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),r.uniformMatrix4fv(s.uniforms.u_matrix,!1,l),r.uniform2fv(s.uniforms.u_latrange,c),r.uniform1i(s.uniforms.u_image,0);var u=n.paint.get("hillshade-shadow-color");r.uniform4f(s.uniforms.u_shadow,u.r,u.g,u.b,u.a);var h=n.paint.get("hillshade-highlight-color");r.uniform4f(s.uniforms.u_highlight,h.r,h.g,h.b,h.a);var p=n.paint.get("hillshade-accent-color");if(r.uniform4f(s.uniforms.u_accent,p.r,p.g,p.b,p.a),i.maskedBoundsBuffer&&i.maskedIndexBuffer&&i.segments)s.draw(o,r.TRIANGLES,n.id,i.maskedBoundsBuffer,i.maskedIndexBuffer,i.segments);else{var d=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(o,s,d,[]),r.drawArrays(r.TRIANGLE_STRIP,0,d.length)}}}function Si(e,i,n){var o=e.context,r=o.gl;if(i.dem&&i.dem.level){var a=i.dem.level.dim,s=i.dem.getPixels();if(o.activeTexture.set(r.TEXTURE1),o.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||e.getTileTexture(i.tileSize),i.demTexture){var l=i.demTexture;l.update(s,!1),l.bind(r.NEAREST,r.CLAMP_TO_EDGE)}else i.demTexture=new M(o,s,r.RGBA,!1),i.demTexture.bind(r.NEAREST,r.CLAMP_TO_EDGE);o.activeTexture.set(r.TEXTURE0);var c=i.fbo;if(!c){var u=new M(o,{width:a,height:a,data:null},r.RGBA);u.bind(r.LINEAR,r.CLAMP_TO_EDGE),(c=i.fbo=o.createFramebuffer(a,a)).colorAttachment.set(u.texture)}o.bindFramebuffer.set(c.framebuffer),o.viewport.set([0,0,a,a]);var h=t.mat4.create();t.mat4.ortho(h,0,t.default$8,-t.default$8,0,0,1),t.mat4.translate(h,h,[0,-t.default$8,0]);var p=e.useProgram("hillshadePrepare");r.uniformMatrix4fv(p.uniforms.u_matrix,!1,h),r.uniform1f(p.uniforms.u_zoom,i.tileID.overscaledZ),r.uniform2fv(p.uniforms.u_dimension,[2*a,2*a]),r.uniform1i(p.uniforms.u_image,1),r.uniform1f(p.uniforms.u_maxzoom,n);var d=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(o,p,d,[]),r.drawArrays(r.TRIANGLE_STRIP,0,d.length),i.needsHillshadePrepare=!1}}function zi(e,i,n,o,a){var s=o.paint.get("raster-fade-duration");if(s>0){var l=r.now(),c=(l-e.timeAdded)/s,u=i?(l-i.timeAdded)/s:-1,h=n.getSource(),p=a.coveringZoomLevel({tileSize:h.tileSize,roundZoom:h.roundZoom}),d=!i||Math.abs(i.tileID.overscaledZ-p)>Math.abs(e.tileID.overscaledZ-p),f=d&&e.refreshedUponExpiration?1:t.clamp(d?c:1-u,0,1);return e.refreshedUponExpiration&&c>=1&&(e.refreshedUponExpiration=!1),i?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}function Ai(e,i,n){var o=e.context,a=o.gl;o.lineWidth.set(1*r.devicePixelRatio);var s=n.posMatrix,l=e.useProgram("debug");o.setDepthMode(se.disabled),o.setStencilMode(le.disabled),o.setColorMode(e.colorModeForRenderPass()),a.uniformMatrix4fv(l.uniforms.u_matrix,!1,s),a.uniform4f(l.uniforms.u_color,1,0,0,1),e.debugVAO.bind(o,l,e.debugBuffer,[]),a.drawArrays(a.LINE_STRIP,0,e.debugBuffer.length);for(var c=function(t,e,i,n){n=n||1;var o,r,a,s,l,c,u,h,p=[];for(o=0,r=t.length;o<r;o++)if(l=Ri[t[o]]){for(h=null,a=0,s=l[1].length;a<s;a+=2)-1===l[1][a]&&-1===l[1][a+1]?h=null:(c=e+l[1][a]*n,u=i-l[1][a+1]*n,h&&p.push(h.x,h.y,c,u),h={x:c,y:u});e+=l[0]*n}return p}(n.toString(),50,200,5),u=new t.PosArray,h=0;h<c.length;h+=2)u.emplaceBack(c[h],c[h+1]);var p=o.createVertexBuffer(u,Qe.members);(new tt).bind(o,l,p,[]),a.uniform4f(l.uniforms.u_color,1,1,1,1);for(var d=i.getTile(n).tileSize,f=t.default$8/(Math.pow(2,e.transform.zoom-n.overscaledZ)*d),m=[[-1,-1],[-1,1],[1,-1],[1,1]],_=0;_<m.length;_++){var g=m[_];a.uniformMatrix4fv(l.uniforms.u_matrix,!1,t.mat4.translate([],s,[f*g[0],f*g[1],0])),a.drawArrays(a.LINES,0,p.length)}a.uniform4f(l.uniforms.u_color,0,0,0,1),a.uniformMatrix4fv(l.uniforms.u_matrix,!1,s),a.drawArrays(a.LINES,0,p.length)}var Ri={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};var Di={symbol:function(t,e,i,n){if("translucent"===t.renderPass){var o=t.context;o.setStencilMode(le.disabled),o.setColorMode(t.colorModeForRenderPass()),0!==i.paint.get("icon-opacity").constantOr(1)&&ui(t,e,i,n,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright")),0!==i.paint.get("text-opacity").constantOr(1)&&ui(t,e,i,n,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright")),e.map.showCollisionBoxes&&function(t,e,i,n){si(t,e,i,n,!1),si(t,e,i,n,!0)}(t,e,i,n)}},circle:function(t,e,i,n){if("translucent"===t.renderPass){var o=i.paint.get("circle-opacity"),r=i.paint.get("circle-stroke-width"),a=i.paint.get("circle-stroke-opacity");if(0!==o.constantOr(1)||0!==r.constantOr(1)&&0!==a.constantOr(1)){var s=t.context,l=s.gl;s.setDepthMode(t.depthModeForSublayer(0,se.ReadOnly)),s.setStencilMode(le.disabled),s.setColorMode(t.colorModeForRenderPass());for(var c=!0,u=0;u<n.length;u++){var h=n[u],p=e.getTile(h),d=p.getBucket(i);if(d){var f=t.context.program.get(),m=d.programConfigurations.get(i.id),_=t.useProgram("circle",m);if((c||_.program!==f)&&(m.setUniforms(s,_,i.paint,{zoom:t.transform.zoom}),c=!1),l.uniform1f(_.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),l.uniform1i(_.uniforms.u_scale_with_map,"map"===i.paint.get("circle-pitch-scale")?1:0),"map"===i.paint.get("circle-pitch-alignment")){l.uniform1i(_.uniforms.u_pitch_with_map,1);var g=ze(p,1,t.transform.zoom);l.uniform2f(_.uniforms.u_extrude_scale,g,g)}else l.uniform1i(_.uniforms.u_pitch_with_map,0),l.uniform2fv(_.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits);l.uniformMatrix4fv(_.uniforms.u_matrix,!1,t.translatePosMatrix(h.posMatrix,p,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor"))),_.draw(s,l.TRIANGLES,i.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,m)}}}}},heatmap:function(e,i,n,o){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var r=e.context,a=r.gl;r.setDepthMode(e.depthModeForSublayer(0,se.ReadOnly)),r.setStencilMode(le.disabled),function(t,e,i){var n=t.gl;t.activeTexture.set(n.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var o=i.heatmapFbo;if(o)n.bindTexture(n.TEXTURE_2D,o.colorAttachment.get()),t.bindFramebuffer.set(o.framebuffer);else{var r=n.createTexture();n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),o=i.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,i,n,o){var r=e.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,i.width/4,i.height/4,0,r.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),o.colorAttachment.set(n),e.extTextureHalfFloat&&r.checkFramebufferStatus(r.FRAMEBUFFER)!==r.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,o.colorAttachment.setDirty(),t(e,i,n,o))}(t,e,r,o)}}(r,e,n),r.clear({color:t.default$6.transparent}),r.setColorMode(new ce([a.ONE,a.ONE],t.default$6.transparent,[!0,!0,!0,!0]));for(var s=!0,l=0;l<o.length;l++){var c=o[l];if(!i.hasRenderableParent(c)){var u=i.getTile(c),h=u.getBucket(n);if(h){var p=e.context.program.get(),d=h.programConfigurations.get(n.id),f=e.useProgram("heatmap",d),m=e.transform.zoom;(s||f.program!==p)&&(d.setUniforms(e.context,f,n.paint,{zoom:m}),s=!1),a.uniform1f(f.uniforms.u_extrude_scale,ze(u,1,m)),a.uniform1f(f.uniforms.u_intensity,n.paint.get("heatmap-intensity")),a.uniformMatrix4fv(f.uniforms.u_matrix,!1,c.posMatrix),f.draw(r,a.TRIANGLES,n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,d)}}}r.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,i){var n=e.context,o=n.gl,r=i.heatmapFbo;if(r){n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.colorAttachment.get()),n.activeTexture.set(o.TEXTURE1);var a=i.colorRampTexture;a||(a=i.colorRampTexture=new M(n,i.colorRamp,o.RGBA)),a.bind(o.LINEAR,o.CLAMP_TO_EDGE),n.setDepthMode(se.disabled);var s=e.useProgram("heatmapTexture"),l=i.paint.get("heatmap-opacity");o.uniform1f(s.uniforms.u_opacity,l),o.uniform1i(s.uniforms.u_image,0),o.uniform1i(s.uniforms.u_color_ramp,1);var c=t.mat4.create();t.mat4.ortho(c,0,e.width,e.height,0,0,1),o.uniformMatrix4fv(s.uniforms.u_matrix,!1,c),o.uniform2f(s.uniforms.u_world,o.drawingBufferWidth,o.drawingBufferHeight),e.viewportVAO.bind(e.context,s,e.viewportBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}(e,n))},line:function(t,e,i,n){if("translucent"===t.renderPass&&0!==i.paint.get("line-opacity").constantOr(1)){var o=t.context;o.setDepthMode(t.depthModeForSublayer(0,se.ReadOnly)),o.setColorMode(t.colorModeForRenderPass());for(var r,a=i.paint.get("line-dasharray")?"lineSDF":i.paint.get("line-pattern")?"linePattern":"line",s=!0,l=0,c=n;l<c.length;l+=1){var u=c[l],h=e.getTile(u),p=h.getBucket(i);if(p){var d=p.programConfigurations.get(i.id),f=t.context.program.get(),m=t.useProgram(a,d),_=s||m.program!==f,g=r!==h.tileID.overscaledZ;_&&d.setUniforms(t.context,m,i.paint,{zoom:t.transform.zoom}),fi(m,t,h,p,i,u,d,_,g),r=h.tileID.overscaledZ,s=!1}}}},fill:function(e,i,n,o){var r=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.context;s.setColorMode(e.colorModeForRenderPass());var l=n.paint.get("fill-pattern")||1!==r.constantOr(t.default$6.transparent).a||1!==a.constantOr(0)?"translucent":"opaque";e.renderPass===l&&(s.setDepthMode(e.depthModeForSublayer(1,"opaque"===e.renderPass?se.ReadWrite:se.ReadOnly)),vi(e,i,n,o,yi)),"translucent"===e.renderPass&&n.paint.get("fill-antialias")&&(s.lineWidth.set(2),s.setDepthMode(e.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,se.ReadOnly)),vi(e,i,n,o,xi))}},"fill-extrusion":function(e,i,n,o){if(0!==n.paint.get("fill-extrusion-opacity"))if("offscreen"===e.renderPass){!function(e,i){var n=e.context,o=n.gl,r=i.viewportFrame;if(e.depthRboNeedsClear&&e.setupOffscreenDepthRenderbuffer(),!r){var a=new M(n,{width:e.width,height:e.height,data:null},o.RGBA);a.bind(o.LINEAR,o.CLAMP_TO_EDGE),(r=i.viewportFrame=n.createFramebuffer(e.width,e.height)).colorAttachment.set(a.texture)}n.bindFramebuffer.set(r.framebuffer),r.depthAttachment.set(e.depthRbo),e.depthRboNeedsClear&&(n.clear({depth:1}),e.depthRboNeedsClear=!1),n.clear({color:t.default$6.transparent}),n.setStencilMode(le.disabled),n.setDepthMode(new se(o.LEQUAL,se.ReadWrite,[0,1])),n.setColorMode(e.colorModeForRenderPass())}(e,n);for(var r=!0,a=0,s=o;a<s.length;a+=1){var l=s[a],c=i.getTile(l),u=c.getBucket(n);u&&(Ii(e,0,n,c,l,u,r),r=!1)}}else"translucent"===e.renderPass&&function(t,e){var i=e.viewportFrame;if(i){var n=t.context,o=n.gl,r=t.useProgram("extrusionTexture");n.setStencilMode(le.disabled),n.setDepthMode(se.disabled),n.setColorMode(t.colorModeForRenderPass()),n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i.colorAttachment.get()),o.uniform1f(r.uniforms.u_opacity,e.paint.get("fill-extrusion-opacity")),o.uniform1i(r.uniforms.u_image,0);var a=Ei.create();Ei.ortho(a,0,t.width,t.height,0,0,1),o.uniformMatrix4fv(r.uniforms.u_matrix,!1,a),o.uniform2f(r.uniforms.u_world,o.drawingBufferWidth,o.drawingBufferHeight),t.viewportVAO.bind(n,r,t.viewportBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}(e,n)},hillshade:function(t,e,i,n){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var o=t.context,r=e.getSource().maxzoom;o.setDepthMode(t.depthModeForSublayer(0,se.ReadOnly)),o.setStencilMode(le.disabled),o.setColorMode(t.colorModeForRenderPass());for(var a=0,s=n;a<s.length;a+=1){var l=s[a],c=e.getTile(l);c.needsHillshadePrepare&&"offscreen"===t.renderPass?Si(t,c,r):"translucent"===t.renderPass&&Ci(t,c,i)}o.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,i,n){if("translucent"===t.renderPass&&0!==i.paint.get("raster-opacity")){var o,r,a=t.context,s=a.gl,l=e.getSource(),c=t.useProgram("raster");a.setStencilMode(le.disabled),a.setColorMode(t.colorModeForRenderPass()),s.uniform1f(c.uniforms.u_brightness_low,i.paint.get("raster-brightness-min")),s.uniform1f(c.uniforms.u_brightness_high,i.paint.get("raster-brightness-max")),s.uniform1f(c.uniforms.u_saturation_factor,(o=i.paint.get("raster-saturation"))>0?1-1/(1.001-o):-o),s.uniform1f(c.uniforms.u_contrast_factor,(r=i.paint.get("raster-contrast"))>0?1/(1-r):1+r),s.uniform3fv(c.uniforms.u_spin_weights,function(t){t*=Math.PI/180;var e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}(i.paint.get("raster-hue-rotate"))),s.uniform1f(c.uniforms.u_buffer_scale,1),s.uniform1i(c.uniforms.u_image0,0),s.uniform1i(c.uniforms.u_image1,1);for(var u=n.length&&n[0].overscaledZ,h=0,p=n;h<p.length;h+=1){var d=p[h];a.setDepthMode(t.depthModeForSublayer(d.overscaledZ-u,1===i.paint.get("raster-opacity")?se.ReadWrite:se.ReadOnly,s.LESS));var f=e.getTile(d),m=t.transform.calculatePosMatrix(d.toUnwrapped(),!0);f.registerFadeDuration(i.paint.get("raster-fade-duration")),s.uniformMatrix4fv(c.uniforms.u_matrix,!1,m);var _=e.findLoadedParent(d,0,{}),g=zi(f,_,e,i,t.transform),v=void 0,y=void 0;if(a.activeTexture.set(s.TEXTURE0),f.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.activeTexture.set(s.TEXTURE1),_?(_.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),v=Math.pow(2,_.tileID.overscaledZ-f.tileID.overscaledZ),y=[f.tileID.canonical.x*v%1,f.tileID.canonical.y*v%1]):f.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),s.uniform2fv(c.uniforms.u_tl_parent,y||[0,0]),s.uniform1f(c.uniforms.u_scale_parent,v||1),s.uniform1f(c.uniforms.u_fade_t,g.mix),s.uniform1f(c.uniforms.u_opacity,g.opacity*i.paint.get("raster-opacity")),l instanceof et){var x=l.boundsBuffer;l.boundsVAO.bind(a,c,x,[]),s.drawArrays(s.TRIANGLE_STRIP,0,x.length)}else if(f.maskedBoundsBuffer&&f.maskedIndexBuffer&&f.segments)c.draw(a,s.TRIANGLES,i.id,f.maskedBoundsBuffer,f.maskedIndexBuffer,f.segments);else{var b=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(a,c,b,[]),s.drawArrays(s.TRIANGLE_STRIP,0,b.length)}}}},background:function(t,e,i){var n=i.paint.get("background-color"),o=i.paint.get("background-opacity");if(0!==o){var r=t.context,a=r.gl,s=t.transform,l=s.tileSize,c=i.paint.get("background-pattern"),u=c||1!==n.a||1!==o?"translucent":"opaque";if(t.renderPass===u){var h;if(r.setStencilMode(le.disabled),r.setDepthMode(t.depthModeForSublayer(0,"opaque"===u?se.ReadWrite:se.ReadOnly)),r.setColorMode(t.colorModeForRenderPass()),c){if(mi(c,t))return;h=t.useProgram("backgroundPattern"),_i(c,t,h),t.tileExtentPatternVAO.bind(r,h,t.tileExtentBuffer,[])}else h=t.useProgram("background"),a.uniform4fv(h.uniforms.u_color,[n.r,n.g,n.b,n.a]),t.tileExtentVAO.bind(r,h,t.tileExtentBuffer,[]);a.uniform1f(h.uniforms.u_opacity,o);for(var p=0,d=s.coveringTiles({tileSize:l});p<d.length;p+=1){var f=d[p];c&&gi({tileID:f,tileSize:l},t,h),a.uniformMatrix4fv(h.uniforms.u_matrix,!1,t.transform.calculatePosMatrix(f.toUnwrapped())),a.drawArrays(a.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}},debug:function(t,e,i){for(var n=0;n<i.length;n++)Ai(t,e,i[n])}},Mi=function(e,i){this.context=new ue(e),this.transform=i,this._tileTextures={},this.setup(),this.numSublayers=he.maxUnderzooming+he.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.default$24,this.crossTileSymbolIndex=new He};function Pi(t,e){if(t.row>e.row){var i=t;t=e,e=i}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function Li(t,e,i,n,o){var r=Math.max(i,Math.floor(e.y0)),a=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,c=e.dx/e.dy,u=t.dx>0,h=e.dx<0,p=r;p<a;p++){var d=l*Math.max(0,Math.min(t.dy,p+u-t.y0))+t.x0,f=c*Math.max(0,Math.min(e.dy,p+h-e.y0))+e.x0;o(Math.floor(f),Math.ceil(d),p)}}function ki(t,e,i,n,o,r){var a,s=Pi(t,e),l=Pi(e,i),c=Pi(i,t);s.dy>l.dy&&(a=s,s=l,l=a),s.dy>c.dy&&(a=s,s=c,c=a),l.dy>c.dy&&(a=l,l=c,c=a),s.dy&&Li(c,s,n,o,r),l.dy&&Li(c,l,n,o,r)}Mi.prototype.resize=function(t,e){var i=this.context.gl;if(this.width=t*r.devicePixelRatio,this.height=e*r.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var n=0,o=this.style._order;n<o.length;n+=1){var a=o[n];this.style._layers[a].resize()}this.depthRbo&&(i.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},Mi.prototype.setup=function(){var e=this.context,i=new t.PosArray;i.emplaceBack(0,0),i.emplaceBack(t.default$8,0),i.emplaceBack(0,t.default$8),i.emplaceBack(t.default$8,t.default$8),this.tileExtentBuffer=e.createVertexBuffer(i,Qe.members),this.tileExtentVAO=new tt,this.tileExtentPatternVAO=new tt;var n=new t.PosArray;n.emplaceBack(0,0),n.emplaceBack(t.default$8,0),n.emplaceBack(t.default$8,t.default$8),n.emplaceBack(0,t.default$8),n.emplaceBack(0,0),this.debugBuffer=e.createVertexBuffer(n,Qe.members),this.debugVAO=new tt;var o=new t.RasterBoundsArray;o.emplaceBack(0,0,0,0),o.emplaceBack(t.default$8,0,t.default$8,0),o.emplaceBack(0,t.default$8,0,t.default$8),o.emplaceBack(t.default$8,t.default$8,t.default$8,t.default$8),this.rasterBoundsBuffer=e.createVertexBuffer(o,Q.members),this.rasterBoundsVAO=new tt;var r=new t.PosArray;r.emplaceBack(0,0),r.emplaceBack(1,0),r.emplaceBack(0,1),r.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(r,Qe.members),this.viewportVAO=new tt},Mi.prototype.clearStencil=function(){var e=this.context,i=e.gl;e.setColorMode(ce.disabled),e.setDepthMode(se.disabled),e.setStencilMode(new le({func:i.ALWAYS,mask:0},0,255,i.ZERO,i.ZERO,i.ZERO));var n=t.mat4.create();t.mat4.ortho(n,0,this.width,this.height,0,0,1),t.mat4.scale(n,n,[i.drawingBufferWidth,i.drawingBufferHeight,0]);var o=this.useProgram("clippingMask");i.uniformMatrix4fv(o.uniforms.u_matrix,!1,n),this.viewportVAO.bind(e,o,this.viewportBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,4)},Mi.prototype._renderTileClippingMasks=function(t){var e=this.context,i=e.gl;e.setColorMode(ce.disabled),e.setDepthMode(se.disabled);var n=1;this._tileClippingMaskIDs={};for(var o=0,r=t;o<r.length;o+=1){var a=r[o],s=this._tileClippingMaskIDs[a.key]=n++;e.setStencilMode(new le({func:i.ALWAYS,mask:0},s,255,i.KEEP,i.KEEP,i.REPLACE));var l=this.useProgram("clippingMask");i.uniformMatrix4fv(l.uniforms.u_matrix,!1,a.posMatrix),this.tileExtentVAO.bind(this.context,l,this.tileExtentBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,this.tileExtentBuffer.length)}},Mi.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new le({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},Mi.prototype.colorModeForRenderPass=function(){var e=this.context.gl;if(this._showOverdrawInspector){return new ce([e.CONSTANT_COLOR,e.ONE],new t.default$6(1/8,1/8,1/8,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?ce.unblended:ce.alphaBlended},Mi.prototype.depthModeForSublayer=function(t,e,i){var n=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,o=n-1+this.depthRange;return new se(i||this.context.gl.LEQUAL,e,[o,n])},Mi.prototype.render=function(e,i){var n=this;for(var o in this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(r.now()),e.sourceCaches){var a=n.style.sourceCaches[o];a.used&&a.prepare(n.context)}var s=this.style._order,l=t.filterObject(this.style.sourceCaches,function(t){return"raster"===t.getSource().type||"raster-dem"===t.getSource().type}),c=function(e){var i=l[e];!function(e,i){for(var n=e.sort(function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0}),o=0;o<n.length;o++){var r={},a=n[o],s=n.slice(o+1);ai(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),r),a.setMask(r,i)}}(i.getVisibleCoordinates().map(function(t){return i.getTile(t)}),n.context)};for(var u in l)c(u);this.renderPass="offscreen";var h,p=[];this.depthRboNeedsClear=!0;for(var d=0;d<s.length;d++){var f=n.style._layers[s[d]];f.hasOffscreenPass()&&!f.isHidden(n.transform.zoom)&&(f.source!==(h&&h.id)&&(p=[],(h=n.style.sourceCaches[f.source])&&(p=h.getVisibleCoordinates()).reverse()),p.length&&n.renderLayer(n,h,f,p))}this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?t.default$6.black:t.default$6.transparent,depth:1}),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var m,_=[];for(this.currentLayer=s.length-1,this.currentLayer;this.currentLayer>=0;this.currentLayer--){var g=n.style._layers[s[n.currentLayer]];g.source!==(m&&m.id)&&(_=[],(m=n.style.sourceCaches[g.source])&&(n.clearStencil(),_=m.getVisibleCoordinates(),m.getSource().isTileClipped&&n._renderTileClippingMasks(_))),n.renderLayer(n,m,g,_)}this.renderPass="translucent";var v,y=[];for(this.currentLayer=0,this.currentLayer;this.currentLayer<s.length;this.currentLayer++){var x=n.style._layers[s[n.currentLayer]];x.source!==(v&&v.id)&&(y=[],(v=n.style.sourceCaches[x.source])&&(n.clearStencil(),y=v.getVisibleCoordinates(),v.getSource().isTileClipped&&n._renderTileClippingMasks(y)),y.reverse()),n.renderLayer(n,v,x,y)}if(this.options.showTileBoundaries){var b=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];b&&Di.debug(this,b,b.getVisibleCoordinates())}},Mi.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},Mi.prototype.renderLayer=function(t,e,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||n.length)&&(this.id=i.id,Di[i.type](t,e,i,n))},Mi.prototype.translatePosMatrix=function(e,i,n,o,r){if(!n[0]&&!n[1])return e;var a=r?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l]}var c=[r?n[0]:ze(i,n[0],this.transform.zoom),r?n[1]:ze(i,n[1],this.transform.zoom),0],u=new Float32Array(16);return t.mat4.translate(u,e,c),u},Mi.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},Mi.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},Mi.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var i=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[i]||(this.cache[i]=new ri(this.context,oi[t],e,this._showOverdrawInspector)),this.cache[i]},Mi.prototype.useProgram=function(t,e){var i=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.context.program.set(i.program),i};var Bi=t.default$10.vec4,Oi=t.default$10.mat4,Fi=t.default$10.mat2,Ni=function(t,e,i){this.tileSize=512,this._renderWorldCopies=void 0===i||i,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new W(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},Ui={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},x:{configurable:!0},y:{configurable:!0},point:{configurable:!0}};Ni.prototype.clone=function(){var t=new Ni(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},Ui.minZoom.get=function(){return this._minZoom},Ui.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},Ui.maxZoom.get=function(){return this._maxZoom},Ui.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},Ui.renderWorldCopies.get=function(){return this._renderWorldCopies},Ui.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},Ui.worldSize.get=function(){return this.tileSize*this.scale},Ui.centerPoint.get=function(){return this.size._div(2)},Ui.size.get=function(){return new t.default$1(this.width,this.height)},Ui.bearing.get=function(){return-this.angle/Math.PI*180},Ui.bearing.set=function(e){var i=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=Fi.create(),Fi.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Ui.pitch.get=function(){return this._pitch/Math.PI*180},Ui.pitch.set=function(e){var i=t.clamp(e,0,60)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())},Ui.fov.get=function(){return this._fov/Math.PI*180},Ui.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},Ui.zoom.get=function(){return this._zoom},Ui.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},Ui.center.get=function(){return this._center},Ui.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Ni.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},Ni.prototype.getVisibleUnwrappedCoordinates=function(e){var i=this.pointCoordinate(new t.default$1(0,0),0),n=this.pointCoordinate(new t.default$1(this.width,0),0),o=Math.floor(i.column),r=Math.floor(n.column),a=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var s=o;s<=r;s++)0!==s&&a.push(new t.UnwrappedTileID(s,e));return a},Ni.prototype.coveringTiles=function(e){var i=this.coveringZoomLevel(e),n=i;if(void 0!==e.minzoom&&i<e.minzoom)return[];void 0!==e.maxzoom&&i>e.maxzoom&&(i=e.maxzoom);var o=this.pointCoordinate(this.centerPoint,i),r=new t.default$1(o.column-.5,o.row-.5);return function(e,i,n,o){void 0===o&&(o=!0);var r=1<<e,a={};function s(i,s,l){var c,u,h,p;if(l>=0&&l<=r)for(c=i;c<s;c++)u=Math.floor(c/r),h=(c%r+r)%r,0!==u&&!0!==o||(p=new t.OverscaledTileID(n,u,e,h,l),a[p.key]=p)}return ki(i[0],i[1],i[2],0,r,s),ki(i[2],i[3],i[0],0,r,s),Object.keys(a).map(function(t){return a[t]})}(i,[this.pointCoordinate(new t.default$1(0,0),i),this.pointCoordinate(new t.default$1(this.width,0),i),this.pointCoordinate(new t.default$1(this.width,this.height),i),this.pointCoordinate(new t.default$1(0,this.height),i)],e.reparseOverscaled?n:i,this._renderWorldCopies).sort(function(t,e){return r.dist(t.canonical)-r.dist(e.canonical)})},Ni.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},Ui.unmodified.get=function(){return this._unmodified},Ni.prototype.zoomScale=function(t){return Math.pow(2,t)},Ni.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},Ni.prototype.project=function(e){return new t.default$1(this.lngX(e.lng),this.latY(e.lat))},Ni.prototype.unproject=function(t){return new W(this.xLng(t.x),this.yLat(t.y))},Ui.x.get=function(){return this.lngX(this.center.lng)},Ui.y.get=function(){return this.latY(this.center.lat)},Ui.point.get=function(){return new t.default$1(this.x,this.y)},Ni.prototype.lngX=function(t){return(180+t)*this.worldSize/360},Ni.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},Ni.prototype.xLng=function(t){return 360*t/this.worldSize-180},Ni.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},Ni.prototype.setLocationAtPoint=function(t,e){var i=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(i)),this._renderWorldCopies&&(this.center=this.center.wrap())},Ni.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},Ni.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},Ni.prototype.locationCoordinate=function(e){return new t.default$19(this.lngX(e.lng)/this.tileSize,this.latY(e.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},Ni.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new W(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},Ni.prototype.pointCoordinate=function(e,i){void 0===i&&(i=this.tileZoom);var n=[e.x,e.y,0,1],o=[e.x,e.y,1,1];Bi.transformMat4(n,n,this.pixelMatrixInverse),Bi.transformMat4(o,o,this.pixelMatrixInverse);var r=n[3],a=o[3],s=n[0]/r,l=o[0]/a,c=n[1]/r,u=o[1]/a,h=n[2]/r,p=o[2]/a,d=h===p?0:(0-h)/(p-h);return new t.default$19(t.number(s,l,d)/this.tileSize,t.number(c,u,d)/this.tileSize,this.zoom)._zoomTo(i)},Ni.prototype.coordinatePoint=function(e){var i=e.zoomTo(this.zoom),n=[i.column*this.tileSize,i.row*this.tileSize,0,1];return Bi.transformMat4(n,n,this.pixelMatrix),new t.default$1(n[0]/n[3],n[1]/n[3])},Ni.prototype.calculatePosMatrix=function(e,i){void 0===i&&(i=!1);var n=e.key,o=i?this._alignedPosMatrixCache:this._posMatrixCache;if(o[n])return o[n];var r=e.canonical,a=this.worldSize/this.zoomScale(r.z),s=r.x+Math.pow(2,r.z)*e.wrap,l=Oi.identity(new Float64Array(16));return Oi.translate(l,l,[s*a,r.y*a,0]),Oi.scale(l,l,[a/t.default$8,a/t.default$8,1]),Oi.multiply(l,i?this.alignedProjMatrix:this.projMatrix,l),o[n]=new Float32Array(l),o[n]},Ni.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,i,n,o,r=-90,a=90,s=-180,l=180,c=this.size,u=this._unmodified;if(this.latRange){var h=this.latRange;r=this.latY(h[1]),e=(a=this.latY(h[0]))-r<c.y?c.y/(a-r):0}if(this.lngRange){var p=this.lngRange;s=this.lngX(p[0]),i=(l=this.lngX(p[1]))-s<c.x?c.x/(l-s):0}var d=Math.max(i||0,e||0);if(d)return this.center=this.unproject(new t.default$1(i?(l+s)/2:this.x,e?(a+r)/2:this.y)),this.zoom+=this.scaleZoom(d),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var f=this.y,m=c.y/2;f-m<r&&(o=r+m),f+m>a&&(o=a-m)}if(this.lngRange){var _=this.x,g=c.x/2;_-g<s&&(n=s+g),_+g>l&&(n=l-g)}void 0===n&&void 0===o||(this.center=this.unproject(new t.default$1(void 0!==n?n:this.x,void 0!==o?o:this.y))),this._unmodified=u,this._constraining=!1}},Ni.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,i=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),n=this.x,o=this.y,r=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),a=new Float64Array(16);Oi.perspective(a,this._fov,this.width/this.height,1,r),Oi.scale(a,a,[1,-1,1]),Oi.translate(a,a,[0,0,-this.cameraToCenterDistance]),Oi.rotateX(a,a,this._pitch),Oi.rotateZ(a,a,this.angle),Oi.translate(a,a,[-n,-o,0]);var s=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));Oi.scale(a,a,[1,1,s,1]),this.projMatrix=a;var l=this.width%2/2,c=this.height%2/2,u=Math.cos(this.angle),h=Math.sin(this.angle),p=n-Math.round(n)+u*l+h*c,d=o-Math.round(o)+u*c+h*l,f=new Float64Array(a);if(Oi.translate(f,f,[p>.5?p-1:p,d>.5?d-1:d,0]),this.alignedProjMatrix=f,a=Oi.create(),Oi.scale(a,a,[this.width/2,-this.height/2,1]),Oi.translate(a,a,[1,-1,0]),this.pixelMatrix=Oi.multiply(new Float64Array(16),a,this.projMatrix),!(a=Oi.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=a,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Ni.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.default$1(0,0)).zoomTo(this.zoom),i=[e.column*this.tileSize,e.row*this.tileSize,0,1];return Bi.transformMat4(i,i,this.pixelMatrix)[3]/this.cameraToCenterDistance},Object.defineProperties(Ni.prototype,Ui);var Zi=function(){var e,i,n,o,r;t.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(e=this._updateHashUnthrottled.bind(this),i=300,n=!1,o=0,r=function(){o=0,n&&(e(),o=setTimeout(r,i),n=!1)},function(){return n=!0,o||r(),o})};Zi.prototype.addTo=function(e){return this._map=e,t.default.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Zi.prototype.remove=function(){return t.default.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},Zi.prototype.getHashString=function(t){var e=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,n=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,n),r=Math.round(e.lng*o)/o,a=Math.round(e.lat*o)/o,s=this._map.getBearing(),l=this._map.getPitch(),c="";return c+=t?"#/"+r+"/"+a+"/"+i:"#"+i+"/"+a+"/"+r,(s||l)&&(c+="/"+Math.round(10*s)/10),l&&(c+="/"+Math.round(l)),c},Zi.prototype._onHashChange=function(){var e=t.default.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},Zi.prototype._updateHashUnthrottled=function(){var e=this.getHashString();t.default.history.replaceState(t.default.history.state,"",e)};var Vi=function(e){function i(i,n,o,r){void 0===r&&(r={});var a=s.mousePos(n.getCanvasContainer(),o),l=n.unproject(a);e.call(this,i,t.extend({point:a,lngLat:l,originalEvent:o},r)),this._defaultPrevented=!1}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var n={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,n),i}(t.Event),ji=function(e){function i(i,n,o){var r=s.touchPos(n.getCanvasContainer(),o),a=r.map(function(t){return n.unproject(t)}),l=r.reduce(function(t,e,i,n){return t.add(e.div(n.length))},new t.default$1(0,0)),c=n.unproject(l);e.call(this,i,{points:r,point:l,lngLats:a,lngLat:c,originalEvent:o}),this._defaultPrevented=!1}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var n={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,n),i}(t.Event),$i=function(t){function e(e,i,n){t.call(this,e,{originalEvent:n}),this._defaultPrevented=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,i),e}(t.Event),Gi=function(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Gi.prototype.isEnabled=function(){return!!this._enabled},Gi.prototype.isActive=function(){return!!this._active},Gi.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},Gi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Gi.prototype.onWheel=function(e){if(this.isEnabled()){var i=e.deltaMode===t.default.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,n=r.now(),o=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==i&&i%4.000244140625==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(o*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this.isActive()||this._start(e)),e.preventDefault()}},Gi.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},Gi.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e})),this._finishTimeout&&clearTimeout(this._finishTimeout);var i=s.mousePos(this._el,e);this._around=W.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(i)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},Gi.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var i=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,o=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==o&&(o=1/o);var a="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(a*o))),"wheel"===this._type&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var s=!1;if("wheel"===this._type){var l=Math.min((r.now()-this._lastWheelEventTime)/200,1),c=this._easing(l);i.zoom=t.number(this._startZoom,this._targetZoom,c),l<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):s=!0}else i.zoom=this._targetZoom,s=!0;i.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),s&&(this._active=!1,this._finishTimeout=setTimeout(function(){e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom},200))}},Gi.prototype._smoothOutEasing=function(e){var i=t.ease;if(this._prevEase){var n=this._prevEase,o=(r.now()-n.start)/n.duration,a=n.easing(o+.01)-n.easing(o),s=.27/Math.sqrt(a*a+1e-4)*.01,l=Math.sqrt(.0729-s*s);i=t.bezier(s,l,.25,1)}return this._prevEase={start:r.now(),duration:e,easing:i},i};var Wi=function(e){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};Wi.prototype.isEnabled=function(){return!!this._enabled},Wi.prototype.isActive=function(){return!!this._active},Wi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Wi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Wi.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.default.document.addEventListener("mousemove",this._onMouseMove,!1),t.default.document.addEventListener("keydown",this._onKeyDown,!1),t.default.document.addEventListener("mouseup",this._onMouseUp,!1),s.disableDrag(),this._startPos=s.mousePos(this._el,e),this._active=!0)},Wi.prototype._onMouseMove=function(t){var e=this._startPos,i=s.mousePos(this._el,t);this._box||(this._box=s.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var n=Math.min(e.x,i.x),o=Math.max(e.x,i.x),r=Math.min(e.y,i.y),a=Math.max(e.y,i.y);s.setTransform(this._box,"translate("+n+"px,"+r+"px)"),this._box.style.width=o-n+"px",this._box.style.height=a-r+"px"},Wi.prototype._onMouseUp=function(e){if(0===e.button){var i=this._startPos,n=s.mousePos(this._el,e),o=(new q).extend(this._map.unproject(i)).extend(this._map.unproject(n));this._finish(),s.suppressClick(),i.x===n.x&&i.y===n.y?this._fireEvent("boxzoomcancel",e):this._map.fitBounds(o,{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e,boxZoomBounds:o}))}},Wi.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},Wi.prototype._finish=function(){this._active=!1,t.default.document.removeEventListener("mousemove",this._onMouseMove,!1),t.default.document.removeEventListener("keydown",this._onKeyDown,!1),t.default.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(s.remove(this._box),this._box=null),s.enableDrag()},Wi.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,{originalEvent:i}))};var qi=t.bezier(0,0,.25,1),Xi=function(e,i){this._map=e,this._el=i.element||e.getCanvasContainer(),this._state="disabled",this._button=i.button||"right",this._bearingSnap=i.bearingSnap||0,this._pitchWithRotate=!1!==i.pitchWithRotate,t.bindAll(["_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};Xi.prototype.isEnabled=function(){return"disabled"!==this._state},Xi.prototype.isActive=function(){return"active"===this._state},Xi.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},Xi.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Xi.prototype.onMouseDown=function(e){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=s.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==s.mouseButton(e))return;this._eventButton=0}s.disableDrag(),t.default.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.default.document.addEventListener("mouseup",this._onMouseUp),t.default.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[r.now(),this._map.getBearing()]],this._previousPos=s.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},Xi.prototype._onMouseMove=function(t){this._lastMoveEvent=t,this._pos=s.mousePos(this._el,t),"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame))},Xi.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform,i=this._previousPos,n=this._pos,o=.8*(i.x-n.x),a=-.5*(i.y-n.y),s=e.bearing-o,l=e.pitch-a,c=this._inertia,u=c[c.length-1];this._drainInertiaBuffer(),c.push([r.now(),this._map._normalizeBearing(s,u[1])]),e.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.pitch=l),this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._previousPos=this._pos}},Xi.prototype._onMouseUp=function(t){if(s.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",s.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},Xi.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},Xi.prototype._unbind=function(){t.default.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.default.document.removeEventListener("mouseup",this._onMouseUp),t.default.removeEventListener("blur",this._onBlur),s.enableDrag()},Xi.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._previousPos},Xi.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var i=this._map,n=i.getBearing(),o=this._inertia,r=function(){Math.abs(n)<e._bearingSnap?i.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(o.length<2)r();else{var a=o[0],s=o[o.length-1],l=o[o.length-2],c=i._normalizeBearing(n,l[1]),u=s[1]-a[1],h=u<0?-1:1,p=(s[0]-a[0])/1e3;if(0!==u&&0!==p){var d=Math.abs(u*(.25/p));d>180&&(d=180);var f=d/180;c+=h*d*(f/2),Math.abs(i._normalizeBearing(c,0))<this._bearingSnap&&(c=i._normalizeBearing(0,c)),i.rotateTo(c,{duration:1e3*f,easing:qi,noMoveStart:!0},{originalEvent:t})}else r()}},Xi.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},Xi.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=r.now();t.length>0&&e-t[0][0]>160;)t.shift()};var Hi=t.bezier(0,0,.3,1),Ki=function(e){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};Ki.prototype.isEnabled=function(){return"disabled"!==this._state},Ki.prototype.isActive=function(){return"active"===this._state},Ki.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},Ki.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Ki.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==s.mouseButton(e)||(s.addEventListener(t.default.document,"mousemove",this._onMove,{capture:!0}),s.addEventListener(t.default.document,"mouseup",this._onMouseUp),this._start(e)))},Ki.prototype.onTouchStart=function(e){"enabled"===this._state&&(e.touches.length>1||(s.addEventListener(t.default.document,"touchmove",this._onMove,{capture:!0,passive:!1}),s.addEventListener(t.default.document,"touchend",this._onTouchEnd),this._start(e)))},Ki.prototype._start=function(e){t.default.addEventListener("blur",this._onBlur),this._state="pending",this._previousPos=s.mousePos(this._el,e),this._inertia=[[r.now(),this._previousPos]]},Ki.prototype._onMove=function(t){this._lastMoveEvent=t,t.preventDefault(),this._pos=s.mousePos(this._el,t),this._drainInertiaBuffer(),this._inertia.push([r.now(),this._pos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",t),this._fireEvent("movestart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame))},Ki.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._previousPos),this._pos),this._fireEvent("drag",t),this._fireEvent("move",t),this._previousPos=this._pos,delete this._lastMoveEvent}},Ki.prototype._onMouseUp=function(t){if(0===s.mouseButton(t))switch(this._state){case"active":this._state="enabled",s.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},Ki.prototype._onTouchEnd=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},Ki.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},Ki.prototype._unbind=function(){s.removeEventListener(t.default.document,"touchmove",this._onMove,{capture:!0,passive:!1}),s.removeEventListener(t.default.document,"touchend",this._onTouchEnd),s.removeEventListener(t.default.document,"mousemove",this._onMove,{capture:!0}),s.removeEventListener(t.default.document,"mouseup",this._onMouseUp),s.removeEventListener(t.default,"blur",this._onBlur)},Ki.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._previousPos,delete this._pos},Ki.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var i=e[e.length-1],n=e[0],o=i[1].sub(n[1]),r=(i[0]-n[0])/1e3;if(0===r||i[1].equals(n[1]))this._fireEvent("moveend",t);else{var a=o.mult(.3/r),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var l=s/750,c=a.mult(-l/2);this._map.panBy(c,{duration:1e3*l,easing:Hi,noMoveStart:!0},{originalEvent:t})}}},Ki.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},Ki.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=r.now();t.length>0&&e-t[0][0]>160;)t.shift()};var Yi=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};function Ji(t){return t*(2-t)}Yi.prototype.isEnabled=function(){return!!this._enabled},Yi.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},Yi.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},Yi.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,i=0,n=0,o=0,r=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?n=1:(t.preventDefault(),r=-1);break;case 40:t.shiftKey?n=-1:(r=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),l={duration:300,delayEndEvents:500,easing:Ji,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*i,pitch:a.getPitch()+10*n,offset:[100*-o,100*-r],center:a.getCenter()};a.easeTo(l,{originalEvent:t})}};var Qi=function(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};Qi.prototype.isEnabled=function(){return!!this._enabled},Qi.prototype.isActive=function(){return!!this._active},Qi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Qi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Qi.prototype.onTouchStart=function(t){var e=this;this.isEnabled()&&(t.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(t)):this._tapped=setTimeout(function(){e._tapped=null},300)))},Qi.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},Qi.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},Qi.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var tn=t.bezier(0,0,.15,1),en=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};en.prototype.isEnabled=function(){return!!this._enabled},en.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},en.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},en.prototype.disableRotation=function(){this._rotationDisabled=!0},en.prototype.enableRotation=function(){this._rotationDisabled=!1},en.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var i=s.mousePos(this._el,e.touches[0]),n=s.mousePos(this._el,e.touches[1]);this._startVec=i.sub(n),this._gestureIntent=void 0,this._inertia=[],s.addEventListener(t.default.document,"touchmove",this._onMove,{passive:!1}),s.addEventListener(t.default.document,"touchend",this._onEnd)}},en.prototype._getTouchEventData=function(t){var e=s.mousePos(this._el,t.touches[0]),i=s.mousePos(this._el,t.touches[1]),n=e.sub(i);return{vec:n,center:e.add(i).div(2),scale:n.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*n.angleWith(this._startVec)/Math.PI}},en.prototype._onMove=function(e){if(2===e.touches.length){var i=this._getTouchEventData(e),n=i.vec,o=i.scale,r=i.bearing;if(!this._gestureIntent){var a=Math.abs(1-o)>.15;Math.abs(r)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=n)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},en.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var i=this._map.transform;this._startScale||(this._startScale=i.scale,this._startBearing=i.bearing);var n=this._getTouchEventData(this._lastTouchEvent),o=n.center,a=n.bearing,s=n.scale,l=i.pointLocation(o),c=i.locationPoint(l);"rotate"===e&&(i.bearing=this._startBearing+a),i.zoom=i.scaleZoom(this._startScale*s),i.setLocationAtPoint(l,c),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([r.now(),s,o])}},en.prototype._onEnd=function(e){s.removeEventListener(t.default.document,"touchmove",this._onMove,{passive:!1}),s.removeEventListener(t.default.document,"touchend",this._onEnd);var i=this._gestureIntent,n=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,i){this._map.fire(new t.Event(i+"end",{originalEvent:e})),this._drainInertiaBuffer();var o=this._inertia,r=this._map;if(o.length<2)r.snapToNorth({},{originalEvent:e});else{var a=o[o.length-1],l=o[0],c=r.transform.scaleZoom(n*a[1]),u=r.transform.scaleZoom(n*l[1]),h=c-u,p=(a[0]-l[0])/1e3,d=a[2];if(0!==p&&c!==u){var f=.15*h/p;Math.abs(f)>2.5&&(f=f>0?2.5:-2.5);var m=1e3*Math.abs(f/(12*.15)),_=c+f*m/2e3;_<0&&(_=0),r.easeTo({zoom:_,duration:m,easing:tn,around:this._aroundCenter?r.getCenter():r.unproject(d),noMoveStart:!0},{originalEvent:e})}else r.snapToNorth({},{originalEvent:e})}}},en.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=r.now();t.length>2&&e-t[0][0]>160;)t.shift()};var nn={scrollZoom:Gi,boxZoom:Wi,dragRotate:Xi,dragPan:Ki,keyboard:Yi,doubleClickZoom:Qi,touchZoomRotate:en};var on=function(e){function i(i,n){e.call(this),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=n.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return this.transform.center},i.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},i.prototype.panBy=function(e,i,n){return e=t.default$1.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},i),n)},i.prototype.panTo=function(e,i,n){return this.easeTo(t.extend({center:e},i),n)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},i.prototype.zoomTo=function(e,i,n){return this.easeTo(t.extend({zoom:e},i),n)},i.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},i.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},i.prototype.rotateTo=function(e,i,n){return this.easeTo(t.extend({bearing:e},i),n)},i.prototype.resetNorth=function(e,i){return this.rotateTo(0,t.extend({duration:1e3},e),i),this},i.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},i.prototype.fitBounds=function(e,i,n){if("number"==typeof(i=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}if(!t.default$11(Object.keys(i.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"]))return t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;e=q.convert(e);var r=[(i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2],a=Math.min(i.padding.right,i.padding.left),s=Math.min(i.padding.top,i.padding.bottom);i.offset=[i.offset[0]+r[0],i.offset[1]+r[1]];var l=t.default$1.convert(i.offset),c=this.transform,u=c.project(e.getNorthWest()),h=c.project(e.getSouthEast()),p=h.sub(u),d=(c.width-2*a-2*Math.abs(l.x))/p.x,f=(c.height-2*s-2*Math.abs(l.y))/p.y;return f<0||d<0?(t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(i.center=c.unproject(u.add(h).div(2)),i.zoom=Math.min(c.scaleZoom(c.scale*Math.min(d,f)),i.maxZoom),i.bearing=0,i.linear?this.easeTo(i,n):this.flyTo(i,n))},i.prototype.jumpTo=function(e,i){this.stop();var n=this.transform,o=!1,r=!1,a=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(o=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=W.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(r=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(a=!0,n.pitch=+e.pitch),this.fire(new t.Event("movestart",i)).fire(new t.Event("move",i)),o&&this.fire(new t.Event("zoomstart",i)).fire(new t.Event("zoom",i)).fire(new t.Event("zoomend",i)),r&&this.fire(new t.Event("rotatestart",i)).fire(new t.Event("rotate",i)).fire(new t.Event("rotateend",i)),a&&this.fire(new t.Event("pitchstart",i)).fire(new t.Event("pitch",i)).fire(new t.Event("pitchend",i)),this.fire(new t.Event("moveend",i))},i.prototype.easeTo=function(e,i){var n=this;this.stop(),!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate&&(e.duration=0);var o=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?+e.zoom:r,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,u="pitch"in e?+e.pitch:s,h=o.centerPoint.add(t.default$1.convert(e.offset)),p=o.pointLocation(h),d=W.convert(e.center||p);this._normalizeCenter(d);var f,m,_=o.project(p),g=o.project(d).sub(_),v=o.zoomScale(l-r);return e.around&&(f=W.convert(e.around),m=o.locationPoint(f)),this._zooming=l!==r,this._rotating=a!==c,this._pitching=u!==s,this._prepareEase(i,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(e){if(n._zooming&&(o.zoom=t.number(r,l,e)),n._rotating&&(o.bearing=t.number(a,c,e)),n._pitching&&(o.pitch=t.number(s,u,e)),f)o.setLocationAtPoint(f,m);else{var p=o.zoomScale(o.zoom-r),d=l>r?Math.min(2,v):Math.max(.5,v),y=Math.pow(d,1-e),x=o.unproject(_.add(g.mult(e*y)).mult(p));o.setLocationAtPoint(o.renderWorldCopies?x.wrap():x,h)}n._fireMoveEvents(i)},function(){e.delayEndEvents?n._easeEndTimeoutID=setTimeout(function(){return n._afterEase(i)},e.delayEndEvents):n._afterEase(i)},e),this},i.prototype._prepareEase=function(e,i){this._moving=!0,i||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},i.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},i.prototype._afterEase=function(e){var i=this._zooming,n=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,i&&this.fire(new t.Event("zoomend",e)),n&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},i.prototype.flyTo=function(e,i){var n=this;this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):r,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,u="pitch"in e?+e.pitch:s,h=o.zoomScale(l-r),p=o.centerPoint.add(t.default$1.convert(e.offset)),d=o.pointLocation(p),f=W.convert(e.center||d);this._normalizeCenter(f);var m=o.project(d),_=o.project(f).sub(m),g=e.curve,v=Math.max(o.width,o.height),y=v/h,x=_.mag();if("minZoom"in e){var b=t.clamp(Math.min(e.minZoom,r,l),o.minZoom,o.maxZoom),w=v/o.zoomScale(b-r);g=Math.sqrt(w/x*2)}var E=g*g;function T(t){var e=(y*y-v*v+(t?-1:1)*E*E*x*x)/(2*(t?y:v)*E*x);return Math.log(Math.sqrt(e*e+1)-e)}function I(t){return(Math.exp(t)-Math.exp(-t))/2}function C(t){return(Math.exp(t)+Math.exp(-t))/2}var S=T(0),z=function(t){return C(S)/C(S+g*t)},A=function(t){return v*((C(S)*(I(e=S+g*t)/C(e))-I(S))/E)/x;var e},R=(T(1)-S)/g;if(Math.abs(x)<1e-6||!isFinite(R)){if(Math.abs(v-y)<1e-6)return this.easeTo(e,i);var D=y<v?-1:1;R=Math.abs(Math.log(y/v))/g,A=function(){return 0},z=function(t){return Math.exp(D*g*t)}}if("duration"in e)e.duration=+e.duration;else{var M="screenSpeed"in e?+e.screenSpeed/g:+e.speed;e.duration=1e3*R/M}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=a!==c,this._pitching=u!==s,this._prepareEase(i,!1),this._ease(function(e){var l=e*R,h=1/z(l);o.zoom=r+o.scaleZoom(h),n._rotating&&(o.bearing=t.number(a,c,e)),n._pitching&&(o.pitch=t.number(s,u,e));var d=o.unproject(m.add(_.mult(A(l))).mult(h));o.setLocationAtPoint(o.renderWorldCopies?d.wrap():d,p),n._fireMoveEvents(i)},function(){return n._afterEase(i)},e),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},i.prototype._ease=function(t,e,i){!1===i.animate||0===i.duration?(t(1),e()):(this._easeStart=r.now(),this._easeOptions=i,this._onEaseFrame=t,this._onEaseEnd=e,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var t=Math.min((r.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(e,i){e=t.wrap(e,-180,180);var n=Math.abs(e-i);return Math.abs(e-360-i)<n&&(e-=360),Math.abs(e+360-i)<n&&(e+=360),e},i.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var i=t.lng-e.center.lng;t.lng+=i>180?-360:i<-180?360:0}},i}(t.Evented),rn=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};rn.prototype.getDefaultPosition=function(){return"bottom-right"},rn.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},rn.prototype.onRemove=function(){s.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},rn.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var e=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:_.ACCESS_TOKEN}];if(t){var i=e.reduce(function(t,i,n){return i.value&&(t+=i.key+"="+i.value+(n<e.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+i+(this._map._hash?this._map._hash.getHashString(!0):"")}},rn.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},rn.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var i=this._map.style.sourceCaches;for(var n in i){var o=i[n].getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}t.sort(function(t,e){return t.length-e.length}),(t=t.filter(function(e,i){for(var n=i+1;n<t.length;n++)if(t[n].indexOf(e)>=0)return!1;return!0})).length?(this._container.innerHTML=t.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},rn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var an=function(){t.bindAll(["_updateLogo"],this)};an.prototype.onAdd=function(t){this._map=t,this._container=s.create("div","mapboxgl-ctrl");var e=s.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},an.prototype.onRemove=function(){s.remove(this._container),this._map.off("sourcedata",this._updateLogo)},an.prototype.getDefaultPosition=function(){return"bottom-left"},an.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},an.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t){if(t[e].getSource().mapbox_logo)return!0}return!1}};var sn=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};sn.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},sn.prototype.remove=function(t){for(var e=this._currentlyRunning,i=0,n=e?this._queue.concat(e):this._queue;i<n.length;i+=1){var o=n[i];if(o.id===t)return void(o.cancelled=!0)}},sn.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(!n.cancelled&&(n.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},sn.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var ln=t.default.HTMLImageElement,cn=t.default.HTMLElement,un={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300},hn=function(i){function n(e){if(null!=(e=t.extend({},un,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var n=new Ni(e.minZoom,e.maxZoom,e.renderWorldCopies);i.call(this,n,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new sn;var o=e.transformRequest;if(this._transformRequest=o?function(t,e){return o(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof e.container){var r=t.default.document.getElementById(e.container);if(!r)throw new Error("Container '"+e.container+"' not found.");this._container=r}else{if(!(e.container instanceof cn))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),void 0!==t.default&&(t.default.addEventListener("online",this._onWindowOnline,!1),t.default.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var i=t.getCanvasContainer(),n=null,o=!1;for(var r in nn)t[r]=new nn[r](t,e),e.interactive&&e[r]&&t[r].enable(e[r]);s.addEventListener(i,"mouseout",function(e){t.fire(new Vi("mouseout",t,e))}),s.addEventListener(i,"mousedown",function(i){o=!0;var n=new Vi("mousedown",t,i);t.fire(n),n.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(i),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(i),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(i))}),s.addEventListener(i,"mouseup",function(e){var i=t.dragRotate.isActive();n&&!i&&t.fire(new Vi("contextmenu",t,n)),n=null,o=!1,t.fire(new Vi("mouseup",t,e))}),s.addEventListener(i,"mousemove",function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var n=e.toElement||e.target;n&&n!==i;)n=n.parentNode;n===i&&t.fire(new Vi("mousemove",t,e))}}),s.addEventListener(i,"mouseover",function(e){for(var n=e.toElement||e.target;n&&n!==i;)n=n.parentNode;n===i&&t.fire(new Vi("mouseover",t,e))}),s.addEventListener(i,"touchstart",function(i){var n=new ji("touchstart",t,i);t.fire(n),n.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(i),t.touchZoomRotate.onStart(i),t.doubleClickZoom.onTouchStart(n))},{passive:!1}),s.addEventListener(i,"touchmove",function(e){t.fire(new ji("touchmove",t,e))},{passive:!0}),s.addEventListener(i,"touchend",function(e){t.fire(new ji("touchend",t,e))}),s.addEventListener(i,"touchcancel",function(e){t.fire(new ji("touchcancel",t,e))}),s.addEventListener(i,"click",function(e){t.fire(new Vi("click",t,e))}),s.addEventListener(i,"dblclick",function(e){var i=new Vi("dblclick",t,e);t.fire(i),i.defaultPrevented||t.doubleClickZoom.onDblClick(i)}),s.addEventListener(i,"contextmenu",function(e){var i=t.dragRotate.isActive();o||i?o&&(n=e):t.fire(new Vi("contextmenu",t,e)),e.preventDefault()}),s.addEventListener(i,"wheel",function(e){var i=new $i("wheel",t,e);t.fire(i),i.defaultPrevented||t.scrollZoom.onWheel(e)},{passive:!1})}(this,e),this._hash=e.hash&&(new Zi).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this.resize(),e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new rn),this.addControl(new an,e.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}i&&(n.__proto__=i),n.prototype=Object.create(i&&i.prototype),n.prototype.constructor=n;var o={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return n.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var i=t.onAdd(this),n=this._controlPositions[e];return-1!==e.indexOf("bottom")?n.insertBefore(i,n.firstChild):n.appendChild(i),this},n.prototype.removeControl=function(t){return t.onRemove(this),this},n.prototype.resize=function(e){var i=this._containerDimensions(),n=i[0],o=i[1];return this._resizeCanvas(n,o),this.transform.resize(n,o),this.painter.resize(n,o),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e))},n.prototype.getBounds=function(){var e=new q(this.transform.pointLocation(new t.default$1(0,this.transform.height)),this.transform.pointLocation(new t.default$1(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(e.extend(this.transform.pointLocation(new t.default$1(this.transform.size.x,0))),e.extend(this.transform.pointLocation(new t.default$1(0,this.transform.size.y)))),e},n.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new q([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},n.prototype.setMaxBounds=function(t){if(t){var e=q.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},n.prototype.setMinZoom=function(t){if((t=null===t||void 0===t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},n.prototype.getMinZoom=function(){return this.transform.minZoom},n.prototype.setMaxZoom=function(t){if((t=null===t||void 0===t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},n.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},n.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update(),this},n.prototype.getMaxZoom=function(){return this.transform.maxZoom},n.prototype.project=function(t){return this.transform.locationPoint(W.convert(t))},n.prototype.unproject=function(e){return this.transform.pointLocation(t.default$1.convert(e))},n.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},n.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isActive()},n.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},n.prototype.on=function(t,e,n){var o,r=this;if(void 0===n)return i.prototype.on.call(this,t,e);var a=function(){if("mouseenter"===t||"mouseover"===t){var i=!1;return{layer:e,listener:n,delegates:{mousemove:function(o){var a=r.getLayer(e)?r.queryRenderedFeatures(o.point,{layers:[e]}):[];a.length?i||(i=!0,n.call(r,new Vi(t,r,o.originalEvent,{features:a}))):i=!1},mouseout:function(){i=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(i){(r.getLayer(e)?r.queryRenderedFeatures(i.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,n.call(r,new Vi(t,r,i.originalEvent)))},mouseout:function(e){a&&(a=!1,n.call(r,new Vi(t,r,e.originalEvent)))}}}}return{layer:e,listener:n,delegates:(o={},o[t]=function(t){var i=r.getLayer(e)?r.queryRenderedFeatures(t.point,{layers:[e]}):[];i.length&&(t.features=i,n.call(r,t),delete t.features)},o)}}();for(var s in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(a),a.delegates)r.on(s,a.delegates[s]);return this},n.prototype.off=function(t,e,n){if(void 0===n)return i.prototype.off.call(this,t,e);if(this._delegatedListeners&&this._delegatedListeners[t])for(var o=this._delegatedListeners[t],r=0;r<o.length;r++){var a=o[r];if(a.layer===e&&a.listener===n){for(var s in a.delegates)this.off(s,a.delegates[s]);return o.splice(r,1),this}}return this},n.prototype.queryRenderedFeatures=function(e,i){var n;return 2===arguments.length?(e=arguments[0],i=arguments[1]):1===arguments.length&&((n=arguments[0])instanceof t.default$1||Array.isArray(n))?(e=arguments[0],i={}):1===arguments.length?(e=void 0,i=arguments[0]):(e=void 0,i={}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(e),i,this.transform):[]},n.prototype._makeQueryGeometry=function(e){var i,n=this;if(void 0===e&&(e=[t.default$1.convert([0,0]),t.default$1.convert([this.transform.width,this.transform.height])]),e instanceof t.default$1||"number"==typeof e[0]){i=[t.default$1.convert(e)]}else{var o=[t.default$1.convert(e[0]),t.default$1.convert(e[1])];i=[o[0],new t.default$1(o[1].x,o[0].y),o[1],new t.default$1(o[0].x,o[1].y),o[0]]}return i=i.map(function(t){return n.transform.pointCoordinate(t)})},n.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},n.prototype.setStyle=function(e,i){if((!i||!1!==i.diff&&!i.localIdeographFontFamily)&&this.style&&e&&"object"==typeof e)try{return this.style.setState(e)&&this._update(!0),this}catch(e){t.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Je(this,i||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},n.prototype.getStyle=function(){if(this.style)return this.style.serialize()},n.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},n.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},n.prototype.isSourceLoaded=function(e){var i=this.style&&this.style.sourceCaches[e];if(void 0!==i)return i.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},n.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var i=t[e]._tiles;for(var n in i){var o=i[n];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},n.prototype.addSourceType=function(t,e,i){return this.style.addSourceType(t,e,i)},n.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},n.prototype.getSource=function(t){return this.style.getSource(t)},n.prototype.addImage=function(e,i,n){void 0===n&&(n={});var o=n.pixelRatio;void 0===o&&(o=1);var a=n.sdf;if(void 0===a&&(a=!1),i instanceof ln){var s=r.getImageData(i),l=s.width,c=s.height,u=s.data;this.style.addImage(e,{data:new t.RGBAImage({width:l,height:c},u),pixelRatio:o,sdf:a})}else{if(void 0===i.width||void 0===i.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var h=i.width,p=i.height,d=i.data;this.style.addImage(e,{data:new t.RGBAImage({width:h,height:p},d.slice(0)),pixelRatio:o,sdf:a})}},n.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},n.prototype.removeImage=function(t){this.style.removeImage(t)},n.prototype.loadImage=function(e,i){t.getImage(this._transformRequest(e,t.ResourceType.Image),i)},n.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},n.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},n.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},n.prototype.getLayer=function(t){return this.style.getLayer(t)},n.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},n.prototype.setLayerZoomRange=function(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0),this},n.prototype.getFilter=function(t){return this.style.getFilter(t)},n.prototype.setPaintProperty=function(t,e,i){return this.style.setPaintProperty(t,e,i),this._update(!0),this},n.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},n.prototype.setLayoutProperty=function(t,e,i){return this.style.setLayoutProperty(t,e,i),this._update(!0),this},n.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},n.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},n.prototype.getLight=function(){return this.style.getLight()},n.prototype.getContainer=function(){return this._container},n.prototype.getCanvasContainer=function(){return this._canvasContainer},n.prototype.getCanvas=function(){return this._canvas},n.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},n.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSContainer=s.create("div","mapboxgl-missing-css",t)).innerHTML="Missing Mapbox GL JS CSS";var e=this._canvasContainer=s.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=s.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var n=this._controlContainer=s.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){o[t]=s.create("div","mapboxgl-ctrl-"+t,n)})},n.prototype._resizeCanvas=function(e,i){var n=t.default.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*i,this._canvas.style.width=e+"px",this._canvas.style.height=i+"px"},n.prototype._setupPainter=function(){var i=t.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},e.webGLContextAttributes),n=this._canvas.getContext("webgl",i)||this._canvas.getContext("experimental-webgl",i);n?this.painter=new Mi(n,this.transform):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},n.prototype._contextLost=function(e){e.preventDefault(),this._frameId&&(r.cancelFrame(this._frameId),this._frameId=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},n.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},n.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},n.prototype._update=function(t){this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender())},n.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},n.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},n.prototype._render=function(){this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var i=this.transform.zoom,n=r.now();this.style.zoomHistory.update(i,n);var o=new t.default$25(i,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),a=o.crossFadingFactor();1===a&&a===this._crossFadingFactor||(e=!0,this._crossFadingFactor=a),this.style.update(o)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},n.prototype.remove=function(){this._hash&&this._hash.remove(),r.cancelFrame(this._frameId),this._renderTaskQueue.clear(),this._frameId=null,this.setStyle(null),void 0!==t.default&&(t.default.removeEventListener("resize",this._onWindowResize,!1),t.default.removeEventListener("online",this._onWindowOnline,!1));var e=this.painter.context.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),pn(this._canvasContainer),pn(this._controlContainer),pn(this._missingCSSContainer),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},n.prototype._rerender=function(){var t=this;this.style&&!this._frameId&&(this._frameId=r.frame(function(){t._frameId=null,t._render()}))},n.prototype._onWindowOnline=function(){this._update()},n.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint=t,this._update()},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},n.prototype._onData=function(e){this._update("style"===e.dataType),this.fire(new t.Event(e.dataType+"data",e))},n.prototype._onDataLoading=function(e){this.fire(new t.Event(e.dataType+"dataloading",e))},Object.defineProperties(n.prototype,o),n}(on);function pn(t){t.parentNode&&t.parentNode.removeChild(t)}var dn={showCompass:!0,showZoom:!0},fn=function(e){var i=this;this.options=t.extend({},dn,e),this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return i._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return i._map.zoomOut()})),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return i._map.resetNorth()}),this._compassArrow=s.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function mn(t,e,i){if(t=new W(t.lng,t.lat),e){var n=new W(t.lng-360,t.lat),o=new W(t.lng+360,t.lat),r=i.locationPoint(t).distSqr(e);i.locationPoint(n).distSqr(e)<r?t=n:i.locationPoint(o).distSqr(e)<r&&(t=o)}for(;Math.abs(t.lng-i.center.lng)>180;){var a=i.locationPoint(t);if(a.x>=0&&a.y>=0&&a.x<=i.width&&a.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}fn.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},fn.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Xi(t,{button:"left",element:this._compass}),this._handler.enable()),this._container},fn.prototype.onRemove=function(){s.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),this._handler.disable(),delete this._handler),delete this._map},fn.prototype._createButton=function(t,e,i){var n=s.create("button",t,this._container);return n.type="button",n.setAttribute("aria-label",e),n.addEventListener("click",i),n};var _n={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function gn(t,e,i){var n=t.classList;for(var o in _n)n.remove("mapboxgl-"+i+"-anchor-"+o);n.add("mapboxgl-"+i+"-anchor-"+e)}var vn=function(e){if((arguments[0]instanceof t.default.HTMLElement||2===arguments.length)&&(e=t.extend({element:e},arguments[1])),t.bindAll(["_update","_onMapClick"],this),this._anchor=e&&e.anchor||"center",e&&e.element)this._element=e.element,this._offset=t.default$1.convert(e&&e.offset||[0,0]);else{this._element=s.create("div");var i=s.createNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"height","41px"),i.setAttributeNS(null,"width","27px"),i.setAttributeNS(null,"viewBox","0 0 27 41");var n=s.createNS("http://www.w3.org/2000/svg","g");n.setAttributeNS(null,"stroke","none"),n.setAttributeNS(null,"stroke-width","1"),n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"fill-rule","evenodd");var o=s.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"fill-rule","nonzero");var r=s.createNS("http://www.w3.org/2000/svg","g");r.setAttributeNS(null,"transform","translate(3.0, 29.0)"),r.setAttributeNS(null,"fill","#000000");for(var a=0,l=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];a<l.length;a+=1){var c=l[a],u=s.createNS("http://www.w3.org/2000/svg","ellipse");u.setAttributeNS(null,"opacity","0.04"),u.setAttributeNS(null,"cx","10.5"),u.setAttributeNS(null,"cy","5.80029008"),u.setAttributeNS(null,"rx",c.rx),u.setAttributeNS(null,"ry",c.ry),r.appendChild(u)}var h=s.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill","#3FB1CE");var p=s.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(p);var d=s.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"fill","#000000");var f=s.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d.appendChild(f);var m=s.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(6.0, 7.0)"),m.setAttributeNS(null,"fill","#FFFFFF");var _=s.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"transform","translate(8.0, 8.0)");var g=s.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");var v=s.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#FFFFFF"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962"),_.appendChild(g),_.appendChild(v),o.appendChild(r),o.appendChild(h),o.appendChild(d),o.appendChild(m),o.appendChild(_),i.appendChild(o),this._element.appendChild(i),this._offset=t.default$1.convert(e&&e.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._popup=null};vn.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},vn.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),s.remove(this._element),this._popup&&this._popup.remove(),this},vn.prototype.getLngLat=function(){return this._lngLat},vn.prototype.setLngLat=function(t){return this._lngLat=W.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},vn.prototype.getElement=function(){return this._element},vn.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&("offset"in t.options||(t.options.offset=this._offset),this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)),this},vn.prototype._onMapClick=function(t){var e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup()},vn.prototype.getPopup=function(){return this._popup},vn.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},vn.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=mn(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),s.setTransform(this._element,_n[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),gn(this._element,this._anchor,"marker"))},vn.prototype.getOffset=function(){return this._offset},vn.prototype.setOffset=function(e){return this._offset=t.default$1.convert(e),this._update(),this};var yn,xn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0};var bn=function(e){function i(i){e.call(this),this.options=t.extend({},xn,i),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker","_onClickGeolocate"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(e){var i;return this._map=e,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==yn?i(yn):void 0!==t.default.navigator.permissions?t.default.navigator.permissions.query({name:"geolocation"}).then(function(t){yn="denied"!==t.state,i(yn)}):(yn=!!t.default.navigator.geolocation,i(yn)),this._container},i.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.default.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),s.remove(this._container),this._map=void 0},i.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},i.prototype._updateCamera=function(t){var e=new W(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy;this._map.fitBounds(e.toBounds(i),this.options.fitBoundsOptions,{geolocateSource:!0})},i.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},i.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},i.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},i.prototype._setupUI=function(e){var i=this;!1!==e&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=s.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=s.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new vn(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),this.options.trackUserLocation&&this._map.on("movestart",function(e){e.geolocateSource||"ACTIVE_LOCK"!==i._watchState||(i._watchState="BACKGROUND",i._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),i._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),i.fire(new t.Event("trackuserlocationend")))}))},i.prototype._onClickGeolocate=function(){if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.default.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.default.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4)},i.prototype._clearWatch=function(){t.default.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},i}(t.Evented),wn={maxWidth:100,unit:"metric"},En=function(e){this.options=t.extend({},wn,e),t.bindAll(["_onMove","setUnit"],this)};function Tn(t,e,i){var n,o,r,a,s,l,c=i&&i.maxWidth||100,u=t._container.clientHeight/2,h=(n=t.unproject([0,u]),o=t.unproject([c,u]),r=Math.PI/180,a=n.lat*r,s=o.lat*r,l=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((o.lng-n.lng)*r),6371e3*Math.acos(Math.min(l,1)));if(i&&"imperial"===i.unit){var p=3.2808*h;if(p>5280)In(e,c,p/5280,"mi");else In(e,c,p,"ft")}else if(i&&"nautical"===i.unit){In(e,c,h/1852,"nm")}else In(e,c,h,"m")}function In(t,e,i,n){var o,r,a,s=(o=i,(r=Math.pow(10,(""+Math.floor(o)).length-1))*(a=(a=o/r)>=10?10:a>=5?5:a>=3?3:a>=2?2:1)),l=s/i;"m"===n&&s>=1e3&&(s/=1e3,n="km"),t.style.width=e*l+"px",t.innerHTML=s+n}En.prototype.getDefaultPosition=function(){return"bottom-left"},En.prototype._onMove=function(){Tn(this._map,this._container,this.options)},En.prototype.onAdd=function(t){return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},En.prototype.onRemove=function(){s.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},En.prototype.setUnit=function(t){this.options.unit=t,Tn(this._map,this._container,this.options)};var Cn=function(){this._fullscreen=!1,t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.default.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.default.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.default.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.default.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Cn.prototype.onAdd=function(e){return this._map=e,this._mapContainer=this._map.getContainer(),this._container=s.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._container},Cn.prototype.onRemove=function(){s.remove(this._container),this._map=null,t.default.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Cn.prototype._checkFullscreenSupport=function(){return!!(t.default.document.fullscreenEnabled||t.default.document.mozFullScreenEnabled||t.default.document.msFullscreenEnabled||t.default.document.webkitFullscreenEnabled)},Cn.prototype._setupUI=function(){var e=this._fullscreenButton=s.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);e.setAttribute("aria-label","Toggle fullscreen"),e.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.default.document.addEventListener(this._fullscreenchange,this._changeIcon)},Cn.prototype._isFullscreen=function(){return this._fullscreen},Cn.prototype._changeIcon=function(){(t.default.document.fullscreenElement||t.default.document.mozFullScreenElement||t.default.document.webkitFullscreenElement||t.default.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},Cn.prototype._onClickFullscreen=function(){this._isFullscreen()?t.default.document.exitFullscreen?t.default.document.exitFullscreen():t.default.document.mozCancelFullScreen?t.default.document.mozCancelFullScreen():t.default.document.msExitFullscreen?t.default.document.msExitFullscreen():t.default.document.webkitCancelFullScreen&&t.default.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()};var Sn={closeButton:!0,closeOnClick:!0},zn=function(e){function i(i){e.call(this),this.options=t.extend(Object.create(Sn),i),t.bindAll(["_update","_onClickClose"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this.fire(new t.Event("open")),this},i.prototype.isOpen=function(){return!!this._map},i.prototype.remove=function(){return this._content&&s.remove(this._content),this._container&&(s.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire(new t.Event("close")),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(t){return this._lngLat=W.convert(t),this._pos=null,this._update(),this},i.prototype.setText=function(e){return this.setDOMContent(t.default.document.createTextNode(e))},i.prototype.setHTML=function(e){var i,n=t.default.document.createDocumentFragment(),o=t.default.document.createElement("body");for(o.innerHTML=e;i=o.firstChild;)n.appendChild(i);return this.setDOMContent(n)},i.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},i.prototype._createContent=function(){this._content&&s.remove(this._content),this._content=s.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=s.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},i.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=s.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=s.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=mn(this._lngLat,this._pos,this._map.transform));var e=this._pos=this._map.project(this._lngLat),i=this.options.anchor,n=function e(i){if(i){if("number"==typeof i){var n=Math.round(Math.sqrt(.5*Math.pow(i,2)));return{center:new t.default$1(0,0),top:new t.default$1(0,i),"top-left":new t.default$1(n,n),"top-right":new t.default$1(-n,n),bottom:new t.default$1(0,-i),"bottom-left":new t.default$1(n,-n),"bottom-right":new t.default$1(-n,-n),left:new t.default$1(i,0),right:new t.default$1(-i,0)}}if(i instanceof t.default$1||Array.isArray(i)){var o=t.default$1.convert(i);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:t.default$1.convert(i.center||[0,0]),top:t.default$1.convert(i.top||[0,0]),"top-left":t.default$1.convert(i["top-left"]||[0,0]),"top-right":t.default$1.convert(i["top-right"]||[0,0]),bottom:t.default$1.convert(i.bottom||[0,0]),"bottom-left":t.default$1.convert(i["bottom-left"]||[0,0]),"bottom-right":t.default$1.convert(i["bottom-right"]||[0,0]),left:t.default$1.convert(i.left||[0,0]),right:t.default$1.convert(i.right||[0,0])}}return e(new t.default$1(0,0))}(this.options.offset);if(!i){var o,r=this._container.offsetWidth,a=this._container.offsetHeight;o=e.y+n.bottom.y<a?["top"]:e.y>this._map.transform.height-a?["bottom"]:[],e.x<r/2?o.push("left"):e.x>this._map.transform.width-r/2&&o.push("right"),i=0===o.length?"bottom":o.join("-")}var l=e.add(n[i]).round();s.setTransform(this._container,_n[i]+" translate("+l.x+"px,"+l.y+"px)"),gn(this._container,i,"popup")}},i.prototype._onClickClose=function(){this.remove()},i}(t.Evented);var An={version:"0.44.1",supported:e,workerCount:Math.max(Math.floor(r.hardwareConcurrency/2),1),setRTLTextPlugin:t.setRTLTextPlugin,Map:hn,NavigationControl:fn,GeolocateControl:bn,AttributionControl:rn,ScaleControl:En,FullscreenControl:Cn,Popup:zn,Marker:vn,Style:Je,LngLat:W,LngLatBounds:q,Point:t.default$1,config:_,get accessToken(){return _.ACCESS_TOKEN},set accessToken(t){_.ACCESS_TOKEN=t},workerUrl:""};return An});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1zdXBwb3J0ZWQvaW5kZXguanMiLCJzcmMvdXRpbC9icm93c2VyLmpzIiwic3JjL3V0aWwvZG9tLmpzIiwic3JjL3V0aWwvY29uZmlnLmpzIiwic3JjL3V0aWwvbWFwYm94LmpzIiwic3JjL3JlbmRlci90ZXh0dXJlLmpzIiwic3JjL3JlbmRlci9pbWFnZV9tYW5hZ2VyLmpzIiwibm9kZV9tb2R1bGVzL0BtYXBib3gvdGlueS1zZGYvaW5kZXguanMiLCJzcmMvcmVuZGVyL2dseXBoX21hbmFnZXIuanMiLCJzcmMvc3R5bGUvbGlnaHQuanMiLCJzcmMvcmVuZGVyL2xpbmVfYXRsYXMuanMiLCJzcmMvdXRpbC9kaXNwYXRjaGVyLmpzIiwic3JjL2dlby9sbmdfbGF0LmpzIiwic3JjL2dlby9sbmdfbGF0X2JvdW5kcy5qcyIsInNyYy9zb3VyY2UvdGlsZV9ib3VuZHMuanMiLCJzcmMvc291cmNlL3ZlY3Rvcl90aWxlX3NvdXJjZS5qcyIsInNyYy9zb3VyY2UvcmFzdGVyX3RpbGVfc291cmNlLmpzIiwic3JjL3NvdXJjZS9yYXN0ZXJfZGVtX3RpbGVfc291cmNlLmpzIiwic3JjL3NvdXJjZS9nZW9qc29uX3NvdXJjZS5qcyIsInNyYy9kYXRhL3Jhc3Rlcl9ib3VuZHNfYXR0cmlidXRlcy5qcyIsInNyYy9yZW5kZXIvdmVydGV4X2FycmF5X29iamVjdC5qcyIsInNyYy9zb3VyY2UvaW1hZ2Vfc291cmNlLmpzIiwic3JjL3NvdXJjZS92aWRlb19zb3VyY2UuanMiLCJzcmMvc291cmNlL2NhbnZhc19zb3VyY2UuanMiLCJzcmMvc291cmNlL3NvdXJjZS5qcyIsInNyYy9zb3VyY2UvcXVlcnlfZmVhdHVyZXMuanMiLCJzcmMvc3ltYm9sL2dyaWRfaW5kZXguanMiLCJzcmMvc3ltYm9sL3Byb2plY3Rpb24uanMiLCJzcmMvc3ltYm9sL2NvbGxpc2lvbl9pbmRleC5qcyIsInNyYy9zb3VyY2UvdGlsZS5qcyIsInNyYy9kYXRhL2J1Y2tldC5qcyIsInNyYy91dGlsL2xydV9jYWNoZS5qcyIsInNyYy9nbC9pbmRleF9idWZmZXIuanMiLCJzcmMvZ2wvdmVydGV4X2J1ZmZlci5qcyIsInNyYy9nbC92YWx1ZS5qcyIsInNyYy9nbC9mcmFtZWJ1ZmZlci5qcyIsInNyYy9nbC9kZXB0aF9tb2RlLmpzIiwic3JjL2dsL3N0ZW5jaWxfbW9kZS5qcyIsInNyYy9nbC9jb2xvcl9tb2RlLmpzIiwic3JjL2dsL2NvbnRleHQuanMiLCJzcmMvc291cmNlL3NvdXJjZV9jYWNoZS5qcyIsInNyYy91dGlsL3dvcmtlcl9wb29sLmpzIiwic3JjL3V0aWwvZ2xvYmFsX3dvcmtlcl9wb29sLmpzIiwic3JjL3N0eWxlLXNwZWMvZGVyZWYuanMiLCJzcmMvc3R5bGUtc3BlYy9kaWZmLmpzIiwic3JjL3N5bWJvbC9wbGFjZW1lbnQuanMiLCJzcmMvc3R5bGUvcGF1c2VhYmxlX3BsYWNlbWVudC5qcyIsInNyYy9zeW1ib2wvY3Jvc3NfdGlsZV9zeW1ib2xfaW5kZXguanMiLCJzcmMvc3R5bGUvc3R5bGUuanMiLCJzcmMvZGF0YS9wb3NfYXR0cmlidXRlcy5qcyIsInNyYy9zaGFkZXJzL2luZGV4LmpzIiwic3JjL3JlbmRlci9wcm9ncmFtLmpzIiwic3JjL3JlbmRlci90aWxlX21hc2suanMiLCJzcmMvcmVuZGVyL2RyYXdfY29sbGlzaW9uX2RlYnVnLmpzIiwic3JjL3JlbmRlci9kcmF3X3N5bWJvbC5qcyIsInNyYy9yZW5kZXIvZHJhd19saW5lLmpzIiwic3JjL3JlbmRlci9wYXR0ZXJuLmpzIiwic3JjL3JlbmRlci9kcmF3X2ZpbGwuanMiLCJzcmMvcmVuZGVyL2RyYXdfZmlsbF9leHRydXNpb24uanMiLCJzcmMvcmVuZGVyL2RyYXdfaGlsbHNoYWRlLmpzIiwic3JjL3JlbmRlci9kcmF3X3Jhc3Rlci5qcyIsInNyYy9yZW5kZXIvZHJhd19kZWJ1Zy5qcyIsInNyYy9yZW5kZXIvcGFpbnRlci5qcyIsInNyYy9yZW5kZXIvZHJhd19jaXJjbGUuanMiLCJzcmMvcmVuZGVyL2RyYXdfaGVhdG1hcC5qcyIsInNyYy9yZW5kZXIvZHJhd19iYWNrZ3JvdW5kLmpzIiwic3JjL3V0aWwvdGlsZV9jb3Zlci5qcyIsInNyYy9nZW8vdHJhbnNmb3JtLmpzIiwic3JjL3VpL2hhc2guanMiLCJzcmMvdXRpbC90aHJvdHRsZS5qcyIsInNyYy91aS9ldmVudHMuanMiLCJzcmMvdWkvaGFuZGxlci9zY3JvbGxfem9vbS5qcyIsInNyYy91aS9oYW5kbGVyL2JveF96b29tLmpzIiwic3JjL3VpL2hhbmRsZXIvZHJhZ19yb3RhdGUuanMiLCJzcmMvdWkvaGFuZGxlci9kcmFnX3Bhbi5qcyIsInNyYy91aS9oYW5kbGVyL2tleWJvYXJkLmpzIiwic3JjL3VpL2hhbmRsZXIvZGJsY2xpY2tfem9vbS5qcyIsInNyYy91aS9oYW5kbGVyL3RvdWNoX3pvb21fcm90YXRlLmpzIiwic3JjL3VpL2JpbmRfaGFuZGxlcnMuanMiLCJzcmMvdWkvY2FtZXJhLmpzIiwic3JjL3VpL2NvbnRyb2wvYXR0cmlidXRpb25fY29udHJvbC5qcyIsInNyYy91aS9jb250cm9sL2xvZ29fY29udHJvbC5qcyIsInNyYy91dGlsL3Rhc2tfcXVldWUuanMiLCJzcmMvdWkvbWFwLmpzIiwic3JjL3VpL2NvbnRyb2wvbmF2aWdhdGlvbl9jb250cm9sLmpzIiwic3JjL3VpL2FuY2hvci5qcyIsInNyYy91aS9tYXJrZXIuanMiLCJzcmMvdWkvY29udHJvbC9nZW9sb2NhdGVfY29udHJvbC5qcyIsInNyYy91aS9jb250cm9sL3NjYWxlX2NvbnRyb2wuanMiLCJzcmMvdWkvY29udHJvbC9mdWxsc2NyZWVuX2NvbnRyb2wuanMiLCJzcmMvdWkvcG9wdXAuanMiLCJzcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGlzU3VwcG9ydGVkO1xufSBlbHNlIGlmICh3aW5kb3cpIHtcbiAgICB3aW5kb3cubWFwYm94Z2wgPSB3aW5kb3cubWFwYm94Z2wgfHwge307XG4gICAgd2luZG93Lm1hcGJveGdsLnN1cHBvcnRlZCA9IGlzU3VwcG9ydGVkO1xufVxuXG4vKipcbiAqIFRlc3Qgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIHN1cHBvcnRzIE1hcGJveCBHTCBKU1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1mYWxzZV0gUmV0dXJuIGBmYWxzZWBcbiAqICAgaWYgdGhlIHBlcmZvcm1hbmNlIG9mIE1hcGJveCBHTCBKUyB3b3VsZCBiZSBkcmFtYXRpY2FsbHkgd29yc2UgdGhhblxuICogICBleHBlY3RlZCAoaS5lLiBhIHNvZnR3YXJlIHJlbmRlcmVyIGlzIHdvdWxkIGJlIHVzZWQpXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1N1cHBvcnRlZChvcHRpb25zKSB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgICBpc0Jyb3dzZXIoKSAmJlxuICAgICAgICBpc0FycmF5U3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNGdW5jdGlvblN1cHBvcnRlZCgpICYmXG4gICAgICAgIGlzT2JqZWN0U3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNKU09OU3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNXb3JrZXJTdXBwb3J0ZWQoKSAmJlxuICAgICAgICBpc1VpbnQ4Q2xhbXBlZEFycmF5U3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNXZWJHTFN1cHBvcnRlZENhY2hlZChvcHRpb25zICYmIG9wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdClcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc0Jyb3dzZXIoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgQXJyYXkucHJvdG90eXBlICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5ldmVyeSAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZmlsdGVyICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5pbmRleE9mICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUubWFwICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5zb21lICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgJiZcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0ICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXlcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUgJiYgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIE9iamVjdC5rZXlzICYmXG4gICAgICAgIE9iamVjdC5jcmVhdGUgJiZcbiAgICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mICYmXG4gICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzICYmXG4gICAgICAgIE9iamVjdC5pc1NlYWxlZCAmJlxuICAgICAgICBPYmplY3QuaXNGcm96ZW4gJiZcbiAgICAgICAgT2JqZWN0LmlzRXh0ZW5zaWJsZSAmJlxuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJlxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyAmJlxuICAgICAgICBPYmplY3Quc2VhbCAmJlxuICAgICAgICBPYmplY3QuZnJlZXplICYmXG4gICAgICAgIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9uc1xuICAgICk7XG59XG5cbmZ1bmN0aW9uIGlzSlNPTlN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gJ0pTT04nIGluIHdpbmRvdyAmJiAncGFyc2UnIGluIEpTT04gJiYgJ3N0cmluZ2lmeScgaW4gSlNPTjtcbn1cblxuZnVuY3Rpb24gaXNXb3JrZXJTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKCEoJ1dvcmtlcicgaW4gd2luZG93ICYmICdCbG9iJyBpbiB3aW5kb3cgJiYgJ1VSTCcgaW4gd2luZG93KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbJyddLCB7IHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnIH0pO1xuICAgIHZhciB3b3JrZXJVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIHZhciBzdXBwb3J0ZWQ7XG4gICAgdmFyIHdvcmtlcjtcblxuICAgIHRyeSB7XG4gICAgICAgIHdvcmtlciA9IG5ldyBXb3JrZXIod29ya2VyVVJMKTtcbiAgICAgICAgc3VwcG9ydGVkID0gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh3b3JrZXIpIHtcbiAgICAgICAgd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgIH1cbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHdvcmtlclVSTCk7XG5cbiAgICByZXR1cm4gc3VwcG9ydGVkO1xufVxuXG4vLyBJRTExIG9ubHkgc3VwcG9ydHMgYFVpbnQ4Q2xhbXBlZEFycmF5YCBhcyBvZiB2ZXJzaW9uXG4vLyBbS0IyOTI5NDM3XShodHRwczovL3N1cHBvcnQubWljcm9zb2Z0LmNvbS9lbi11cy9rYi8yOTI5NDM3KVxuZnVuY3Rpb24gaXNVaW50OENsYW1wZWRBcnJheVN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gJ1VpbnQ4Q2xhbXBlZEFycmF5JyBpbiB3aW5kb3c7XG59XG5cbnZhciBpc1dlYkdMU3VwcG9ydGVkQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZWQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCkge1xuXG4gICAgaWYgKGlzV2ViR0xTdXBwb3J0ZWRDYWNoZVtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZVtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XSA9IGlzV2ViR0xTdXBwb3J0ZWQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZVtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XTtcbn1cblxuaXNTdXBwb3J0ZWQud2ViR0xDb250ZXh0QXR0cmlidXRlcyA9IHtcbiAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgIGFscGhhOiB0cnVlLFxuICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgZGVwdGg6IHRydWVcbn07XG5cbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCkge1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBPYmplY3QuY3JlYXRlKGlzU3VwcG9ydGVkLndlYkdMQ29udGV4dEF0dHJpYnV0ZXMpO1xuICAgIGF0dHJpYnV0ZXMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCA9IGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ7XG5cbiAgICBpZiAoY2FudmFzLnByb2JhYmx5U3VwcG9ydHNDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjYW52YXMucHJvYmFibHlTdXBwb3J0c0NvbnRleHQoJ3dlYmdsJywgYXR0cmlidXRlcykgfHxcbiAgICAgICAgICAgIGNhbnZhcy5wcm9iYWJseVN1cHBvcnRzQ29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgYXR0cmlidXRlcylcbiAgICAgICAgKTtcblxuICAgIH0gZWxzZSBpZiAoY2FudmFzLnN1cHBvcnRzQ29udGV4dCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY2FudmFzLnN1cHBvcnRzQ29udGV4dCgnd2ViZ2wnLCBhdHRyaWJ1dGVzKSB8fFxuICAgICAgICAgICAgY2FudmFzLnN1cHBvcnRzQ29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgYXR0cmlidXRlcylcbiAgICAgICAgKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBhdHRyaWJ1dGVzKSB8fFxuICAgICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGF0dHJpYnV0ZXMpXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuL3dpbmRvdyc7XG5cbmNvbnN0IG5vdyA9IHdpbmRvdy5wZXJmb3JtYW5jZSAmJiB3aW5kb3cucGVyZm9ybWFuY2Uubm93ID9cbiAgICB3aW5kb3cucGVyZm9ybWFuY2Uubm93LmJpbmQod2luZG93LnBlcmZvcm1hbmNlKSA6XG4gICAgRGF0ZS5ub3cuYmluZChEYXRlKTtcblxuY29uc3QgcmFmID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXG5jb25zdCBjYW5jZWwgPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBleHBvcnRlZCA9IHtcbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhIGZ1bmN0aW9uIHRoYXQgb3V0cHV0cyBtaWxsaXNlY29uZHM6IGVpdGhlciBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAqIG9yIGEgZmFsbGJhY2sgdG8gRGF0ZS5ub3coKVxuICAgICAqL1xuICAgIG5vdyxcblxuICAgIGZyYW1lKGZuOiBGdW5jdGlvbikge1xuICAgICAgICByZXR1cm4gcmFmKGZuKTtcbiAgICB9LFxuXG4gICAgY2FuY2VsRnJhbWUoaWQ6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gY2FuY2VsKGlkKTtcbiAgICB9LFxuXG4gICAgZ2V0SW1hZ2VEYXRhKGltZzogQ2FudmFzSW1hZ2VTb3VyY2UpOiBJbWFnZURhdGEge1xuICAgICAgICBjb25zdCBjYW52YXMgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBjcmVhdGUgY2FudmFzIDJkIGNvbnRleHQnKTtcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWcsIDAsIDAsIGltZy53aWR0aCwgaW1nLmhlaWdodCk7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xuICAgIH0sXG5cbiAgICBoYXJkd2FyZUNvbmN1cnJlbmN5OiB3aW5kb3cubmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kgfHwgNCxcbiAgICBnZXQgZGV2aWNlUGl4ZWxSYXRpbygpIHsgcmV0dXJuIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvOyB9LFxuICAgIHN1cHBvcnRzV2VicDogZmFsc2Vcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGV4cG9ydGVkO1xuXG5pZiAod2luZG93LmRvY3VtZW50KSB7XG4gICAgY29uc3Qgd2VicEltZ1Rlc3QgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgd2VicEltZ1Rlc3Qub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cG9ydGVkLnN1cHBvcnRzV2VicCA9IHRydWU7XG4gICAgfTtcbiAgICB3ZWJwSW1nVGVzdC5zcmMgPSAnZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmg0QUFBQlhSVUpRVmxBNFRCRUFBQUF2QVFBQUFBZlEvLzczdi8rQmlPaC9BQUE9Jztcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuL3dpbmRvdyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmNvbnN0IERPTSA9IHt9O1xuZXhwb3J0IGRlZmF1bHQgRE9NO1xuXG5ET00uY3JlYXRlID0gZnVuY3Rpb24gKHRhZ05hbWU6ICosIGNsYXNzTmFtZT86IHN0cmluZywgY29udGFpbmVyPzogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBlbCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIGlmIChjbGFzc05hbWUpIGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICBpZiAoY29udGFpbmVyKSBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIHJldHVybiBlbDtcbn07XG5cbkRPTS5jcmVhdGVOUyA9IGZ1bmN0aW9uIChuYW1lc3BhY2VVUkk6IHN0cmluZywgdGFnTmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3QgZWwgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVSSSwgdGFnTmFtZSk7XG4gICAgcmV0dXJuIGVsO1xufTtcblxuY29uc3QgZG9jU3R5bGUgPSB3aW5kb3cuZG9jdW1lbnQgP1xuICAgICh3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OiBhbnkpLnN0eWxlIDpcbiAgICBudWxsO1xuXG5mdW5jdGlvbiB0ZXN0UHJvcChwcm9wcykge1xuICAgIGlmICghZG9jU3R5bGUpIHJldHVybiBudWxsO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHByb3BzW2ldIGluIGRvY1N0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BzWzBdO1xufVxuXG5jb25zdCBzZWxlY3RQcm9wID0gdGVzdFByb3AoWyd1c2VyU2VsZWN0JywgJ01velVzZXJTZWxlY3QnLCAnV2Via2l0VXNlclNlbGVjdCcsICdtc1VzZXJTZWxlY3QnXSk7XG5sZXQgdXNlclNlbGVjdDtcblxuRE9NLmRpc2FibGVEcmFnID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChkb2NTdHlsZSAmJiBzZWxlY3RQcm9wKSB7XG4gICAgICAgIHVzZXJTZWxlY3QgPSBkb2NTdHlsZVtzZWxlY3RQcm9wXTtcbiAgICAgICAgZG9jU3R5bGVbc2VsZWN0UHJvcF0gPSAnbm9uZSc7XG4gICAgfVxufTtcblxuRE9NLmVuYWJsZURyYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRvY1N0eWxlICYmIHNlbGVjdFByb3ApIHtcbiAgICAgICAgZG9jU3R5bGVbc2VsZWN0UHJvcF0gPSB1c2VyU2VsZWN0O1xuICAgIH1cbn07XG5cbmNvbnN0IHRyYW5zZm9ybVByb3AgPSB0ZXN0UHJvcChbJ3RyYW5zZm9ybScsICdXZWJraXRUcmFuc2Zvcm0nXSk7XG5cbkRPTS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbihlbDogSFRNTEVsZW1lbnQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAoZWwuc3R5bGU6IGFueSlbdHJhbnNmb3JtUHJvcF0gPSB2YWx1ZTtcbn07XG5cbi8vIEZlYXR1cmUgZGV0ZWN0aW9uIGZvciB7cGFzc2l2ZTogZmFsc2V9IHN1cHBvcnQgaW4gYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIuXG5sZXQgcGFzc2l2ZVN1cHBvcnRlZCA9IGZhbHNlO1xuXG50cnkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSAoT2JqZWN0LmRlZmluZVByb3BlcnR5OiBhbnkpKHt9LCBcInBhc3NpdmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcGFzc2l2ZVN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAod2luZG93LmFkZEV2ZW50TGlzdGVuZXI6IGFueSkoXCJ0ZXN0XCIsIG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICh3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcjogYW55KShcInRlc3RcIiwgb3B0aW9ucywgb3B0aW9ucyk7XG59IGNhdGNoIChlcnIpIHtcbiAgICBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG59XG5cbkRPTS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24odGFyZ2V0OiAqLCB0eXBlOiAqLCBjYWxsYmFjazogKiwgb3B0aW9uczoge3Bhc3NpdmU/OiBib29sZWFuLCBjYXB0dXJlPzogYm9vbGVhbn0gPSB7fSkge1xuICAgIGlmICgncGFzc2l2ZScgaW4gb3B0aW9ucyAmJiBwYXNzaXZlU3VwcG9ydGVkKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCAob3B0aW9uczogYW55KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIG9wdGlvbnMuY2FwdHVyZSk7XG4gICAgfVxufTtcblxuRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0YXJnZXQ6ICosIHR5cGU6ICosIGNhbGxiYWNrOiAqLCBvcHRpb25zOiB7cGFzc2l2ZT86IGJvb2xlYW4sIGNhcHR1cmU/OiBib29sZWFufSA9IHt9KSB7XG4gICAgaWYgKCdwYXNzaXZlJyBpbiBvcHRpb25zICYmIHBhc3NpdmVTdXBwb3J0ZWQpIHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIChvcHRpb25zOiBhbnkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaywgb3B0aW9ucy5jYXB0dXJlKTtcbiAgICB9XG59O1xuXG4vLyBTdXBwcmVzcyB0aGUgbmV4dCBjbGljaywgYnV0IG9ubHkgaWYgaXQncyBpbW1lZGlhdGUuXG5jb25zdCBzdXBwcmVzc0NsaWNrOiBNb3VzZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHN1cHByZXNzQ2xpY2ssIHRydWUpO1xufTtcblxuRE9NLnN1cHByZXNzQ2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdXBwcmVzc0NsaWNrLCB0cnVlKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHN1cHByZXNzQ2xpY2ssIHRydWUpO1xuICAgIH0sIDApO1xufTtcblxuRE9NLm1vdXNlUG9zID0gZnVuY3Rpb24gKGVsOiBIVE1MRWxlbWVudCwgZTogYW55KSB7XG4gICAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGUgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0gOiBlO1xuICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgIGUuY2xpZW50WCAtIHJlY3QubGVmdCAtIGVsLmNsaWVudExlZnQsXG4gICAgICAgIGUuY2xpZW50WSAtIHJlY3QudG9wIC0gZWwuY2xpZW50VG9wXG4gICAgKTtcbn07XG5cbkRPTS50b3VjaFBvcyA9IGZ1bmN0aW9uIChlbDogSFRNTEVsZW1lbnQsIGU6IGFueSkge1xuICAgIGNvbnN0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgcG9pbnRzID0gW107XG4gICAgY29uc3QgdG91Y2hlcyA9IChlLnR5cGUgPT09ICd0b3VjaGVuZCcpID8gZS5jaGFuZ2VkVG91Y2hlcyA6IGUudG91Y2hlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcG9pbnRzLnB1c2gobmV3IFBvaW50KFxuICAgICAgICAgICAgdG91Y2hlc1tpXS5jbGllbnRYIC0gcmVjdC5sZWZ0IC0gZWwuY2xpZW50TGVmdCxcbiAgICAgICAgICAgIHRvdWNoZXNbaV0uY2xpZW50WSAtIHJlY3QudG9wIC0gZWwuY2xpZW50VG9wXG4gICAgICAgICkpO1xuICAgIH1cbiAgICByZXR1cm4gcG9pbnRzO1xufTtcblxuRE9NLm1vdXNlQnV0dG9uID0gZnVuY3Rpb24gKGU6IE1vdXNlRXZlbnQpIHtcbiAgICBhc3NlcnQoZS50eXBlID09PSAnbW91c2Vkb3duJyB8fCBlLnR5cGUgPT09ICdtb3VzZXVwJyk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuSW5zdGFsbFRyaWdnZXIgIT09ICd1bmRlZmluZWQnICYmIGUuYnV0dG9uID09PSAyICYmIGUuY3RybEtleSAmJlxuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtLnRvVXBwZXJDYXNlKCkuaW5kZXhPZignTUFDJykgPj0gMCkge1xuICAgICAgICAvLyBGaXggZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8zMTMxOlxuICAgICAgICAvLyBGaXJlZm94IChkZXRlY3RlZCBieSBJbnN0YWxsVHJpZ2dlcikgb24gTWFjIGRldGVybWluZXMgZS5idXR0b24gPSAyIHdoZW5cbiAgICAgICAgLy8gdXNpbmcgQ29udHJvbCArIGxlZnQgY2xpY2tcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBlLmJ1dHRvbjtcbn07XG5cbkRPTS5yZW1vdmUgPSBmdW5jdGlvbihub2RlOiBIVE1MRWxlbWVudCkge1xuICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbn07XG4iLCIvLyBAZmxvd1xuXG50eXBlIENvbmZpZyA9IHt8XG4gIEFQSV9VUkw6IHN0cmluZyxcbiAgUkVRVUlSRV9BQ0NFU1NfVE9LRU46IGJvb2xlYW4sXG4gIEFDQ0VTU19UT0tFTjogP3N0cmluZ1xufH07XG5cbmNvbnN0IGNvbmZpZzogQ29uZmlnID0ge1xuICAgIEFQSV9VUkw6ICdodHRwczovL2FwaS5tYXBib3guY29tJyxcbiAgICBSRVFVSVJFX0FDQ0VTU19UT0tFTjogdHJ1ZSxcbiAgICBBQ0NFU1NfVE9LRU46IG51bGxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuL2Jyb3dzZXInO1xuXG5jb25zdCBoZWxwID0gJ1NlZSBodHRwczovL3d3dy5tYXBib3guY29tL2FwaS1kb2N1bWVudGF0aW9uLyNhY2Nlc3MtdG9rZW5zJztcblxudHlwZSBVcmxPYmplY3QgPSB7fFxuICAgIHByb3RvY29sOiBzdHJpbmcsXG4gICAgYXV0aG9yaXR5OiBzdHJpbmcsXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIHBhcmFtczogQXJyYXk8c3RyaW5nPlxufH07XG5cbmZ1bmN0aW9uIG1ha2VBUElVUkwodXJsT2JqZWN0OiBVcmxPYmplY3QsIGFjY2Vzc1Rva2VuOiBzdHJpbmcgfCBudWxsIHwgdm9pZCk6IHN0cmluZyB7XG4gICAgY29uc3QgYXBpVXJsT2JqZWN0ID0gcGFyc2VVcmwoY29uZmlnLkFQSV9VUkwpO1xuICAgIHVybE9iamVjdC5wcm90b2NvbCA9IGFwaVVybE9iamVjdC5wcm90b2NvbDtcbiAgICB1cmxPYmplY3QuYXV0aG9yaXR5ID0gYXBpVXJsT2JqZWN0LmF1dGhvcml0eTtcblxuICAgIGlmIChhcGlVcmxPYmplY3QucGF0aCAhPT0gJy8nKSB7XG4gICAgICAgIHVybE9iamVjdC5wYXRoID0gYCR7YXBpVXJsT2JqZWN0LnBhdGh9JHt1cmxPYmplY3QucGF0aH1gO1xuICAgIH1cblxuICAgIGlmICghY29uZmlnLlJFUVVJUkVfQUNDRVNTX1RPS0VOKSByZXR1cm4gZm9ybWF0VXJsKHVybE9iamVjdCk7XG5cbiAgICBhY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuIHx8IGNvbmZpZy5BQ0NFU1NfVE9LRU47XG4gICAgaWYgKCFhY2Nlc3NUb2tlbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBbiBBUEkgYWNjZXNzIHRva2VuIGlzIHJlcXVpcmVkIHRvIHVzZSBNYXBib3ggR0wuICR7aGVscH1gKTtcbiAgICBpZiAoYWNjZXNzVG9rZW5bMF0gPT09ICdzJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVc2UgYSBwdWJsaWMgYWNjZXNzIHRva2VuIChway4qKSB3aXRoIE1hcGJveCBHTCwgbm90IGEgc2VjcmV0IGFjY2VzcyB0b2tlbiAoc2suKikuICR7aGVscH1gKTtcblxuICAgIHVybE9iamVjdC5wYXJhbXMucHVzaChgYWNjZXNzX3Rva2VuPSR7YWNjZXNzVG9rZW59YCk7XG4gICAgcmV0dXJuIGZvcm1hdFVybCh1cmxPYmplY3QpO1xufVxuXG5mdW5jdGlvbiBpc01hcGJveFVSTCh1cmw6IHN0cmluZykge1xuICAgIHJldHVybiB1cmwuaW5kZXhPZignbWFwYm94OicpID09PSAwO1xufVxuXG5leHBvcnQgeyBpc01hcGJveFVSTCB9O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplU3R5bGVVUkwgPSBmdW5jdGlvbih1cmw6IHN0cmluZywgYWNjZXNzVG9rZW4/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICghaXNNYXBib3hVUkwodXJsKSkgcmV0dXJuIHVybDtcbiAgICBjb25zdCB1cmxPYmplY3QgPSBwYXJzZVVybCh1cmwpO1xuICAgIHVybE9iamVjdC5wYXRoID0gYC9zdHlsZXMvdjEke3VybE9iamVjdC5wYXRofWA7XG4gICAgcmV0dXJuIG1ha2VBUElVUkwodXJsT2JqZWN0LCBhY2Nlc3NUb2tlbik7XG59O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplR2x5cGhzVVJMID0gZnVuY3Rpb24odXJsOiBzdHJpbmcsIGFjY2Vzc1Rva2VuPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIWlzTWFwYm94VVJMKHVybCkpIHJldHVybiB1cmw7XG4gICAgY29uc3QgdXJsT2JqZWN0ID0gcGFyc2VVcmwodXJsKTtcbiAgICB1cmxPYmplY3QucGF0aCA9IGAvZm9udHMvdjEke3VybE9iamVjdC5wYXRofWA7XG4gICAgcmV0dXJuIG1ha2VBUElVUkwodXJsT2JqZWN0LCBhY2Nlc3NUb2tlbik7XG59O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplU291cmNlVVJMID0gZnVuY3Rpb24odXJsOiBzdHJpbmcsIGFjY2Vzc1Rva2VuPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIWlzTWFwYm94VVJMKHVybCkpIHJldHVybiB1cmw7XG4gICAgY29uc3QgdXJsT2JqZWN0ID0gcGFyc2VVcmwodXJsKTtcbiAgICB1cmxPYmplY3QucGF0aCA9IGAvdjQvJHt1cmxPYmplY3QuYXV0aG9yaXR5fS5qc29uYDtcbiAgICAvLyBUaWxlSlNPTiByZXF1ZXN0cyBuZWVkIGEgc2VjdXJlIGZsYWcgYXBwZW5kZWQgdG8gdGhlaXIgVVJMcyBzb1xuICAgIC8vIHRoYXQgdGhlIHNlcnZlciBrbm93cyB0byBzZW5kIFNTTC1pZmllZCByZXNvdXJjZSByZWZlcmVuY2VzLlxuICAgIHVybE9iamVjdC5wYXJhbXMucHVzaCgnc2VjdXJlJyk7XG4gICAgcmV0dXJuIG1ha2VBUElVUkwodXJsT2JqZWN0LCBhY2Nlc3NUb2tlbik7XG59O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplU3ByaXRlVVJMID0gZnVuY3Rpb24odXJsOiBzdHJpbmcsIGZvcm1hdDogc3RyaW5nLCBleHRlbnNpb246IHN0cmluZywgYWNjZXNzVG9rZW4/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHVybE9iamVjdCA9IHBhcnNlVXJsKHVybCk7XG4gICAgaWYgKCFpc01hcGJveFVSTCh1cmwpKSB7XG4gICAgICAgIHVybE9iamVjdC5wYXRoICs9IGAke2Zvcm1hdH0ke2V4dGVuc2lvbn1gO1xuICAgICAgICByZXR1cm4gZm9ybWF0VXJsKHVybE9iamVjdCk7XG4gICAgfVxuICAgIHVybE9iamVjdC5wYXRoID0gYC9zdHlsZXMvdjEke3VybE9iamVjdC5wYXRofS9zcHJpdGUke2Zvcm1hdH0ke2V4dGVuc2lvbn1gO1xuICAgIHJldHVybiBtYWtlQVBJVVJMKHVybE9iamVjdCwgYWNjZXNzVG9rZW4pO1xufTtcblxuY29uc3QgaW1hZ2VFeHRlbnNpb25SZSA9IC8oXFwuKHBuZ3xqcGcpXFxkKikoPz0kKS87XG5cbmV4cG9ydCBjb25zdCBub3JtYWxpemVUaWxlVVJMID0gZnVuY3Rpb24odGlsZVVSTDogc3RyaW5nLCBzb3VyY2VVUkw/OiA/c3RyaW5nLCB0aWxlU2l6ZT86ID9udW1iZXIpOiBzdHJpbmcge1xuICAgIGlmICghc291cmNlVVJMIHx8ICFpc01hcGJveFVSTChzb3VyY2VVUkwpKSByZXR1cm4gdGlsZVVSTDtcblxuICAgIGNvbnN0IHVybE9iamVjdCA9IHBhcnNlVXJsKHRpbGVVUkwpO1xuXG4gICAgLy8gVGhlIHY0IG1hcGJveCB0aWxlIEFQSSBzdXBwb3J0cyA1MTJ4NTEyIGltYWdlIHRpbGVzIG9ubHkgd2hlbiBAMnhcbiAgICAvLyBpcyBhcHBlbmRlZCB0byB0aGUgdGlsZSBVUkwuIElmIGB0aWxlU2l6ZTogNTEyYCBpcyBzcGVjaWZpZWQgZm9yXG4gICAgLy8gYSBNYXBib3ggcmFzdGVyIHNvdXJjZSBmb3JjZSB0aGUgQDJ4IHN1ZmZpeCBldmVuIGlmIGEgbm9uIGhpZHBpIGRldmljZS5cbiAgICBjb25zdCBzdWZmaXggPSBicm93c2VyLmRldmljZVBpeGVsUmF0aW8gPj0gMiB8fCB0aWxlU2l6ZSA9PT0gNTEyID8gJ0AyeCcgOiAnJztcbiAgICBjb25zdCBleHRlbnNpb24gPSBicm93c2VyLnN1cHBvcnRzV2VicCA/ICcud2VicCcgOiAnJDEnO1xuICAgIHVybE9iamVjdC5wYXRoID0gdXJsT2JqZWN0LnBhdGgucmVwbGFjZShpbWFnZUV4dGVuc2lvblJlLCBgJHtzdWZmaXh9JHtleHRlbnNpb259YCk7XG5cbiAgICByZXBsYWNlVGVtcEFjY2Vzc1Rva2VuKHVybE9iamVjdC5wYXJhbXMpO1xuICAgIHJldHVybiBmb3JtYXRVcmwodXJsT2JqZWN0KTtcbn07XG5cbmZ1bmN0aW9uIHJlcGxhY2VUZW1wQWNjZXNzVG9rZW4ocGFyYW1zOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHBhcmFtc1tpXS5pbmRleE9mKCdhY2Nlc3NfdG9rZW49dGsuJykgPT09IDApIHtcbiAgICAgICAgICAgIHBhcmFtc1tpXSA9IGBhY2Nlc3NfdG9rZW49JHtjb25maWcuQUNDRVNTX1RPS0VOIHx8ICcnfWA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IHVybFJlID0gL14oXFx3Kyk6XFwvXFwvKFteLz9dKikoXFwvW14/XSspP1xcPz8oLispPy87XG5cbmZ1bmN0aW9uIHBhcnNlVXJsKHVybDogc3RyaW5nKTogVXJsT2JqZWN0IHtcbiAgICBjb25zdCBwYXJ0cyA9IHVybC5tYXRjaCh1cmxSZSk7XG4gICAgaWYgKCFwYXJ0cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBVUkwgb2JqZWN0Jyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHByb3RvY29sOiBwYXJ0c1sxXSxcbiAgICAgICAgYXV0aG9yaXR5OiBwYXJ0c1syXSxcbiAgICAgICAgcGF0aDogcGFydHNbM10gfHwgJy8nLFxuICAgICAgICBwYXJhbXM6IHBhcnRzWzRdID8gcGFydHNbNF0uc3BsaXQoJyYnKSA6IFtdXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VXJsKG9iajogVXJsT2JqZWN0KTogc3RyaW5nIHtcbiAgICBjb25zdCBwYXJhbXMgPSBvYmoucGFyYW1zLmxlbmd0aCA/IGA/JHtvYmoucGFyYW1zLmpvaW4oJyYnKX1gIDogJyc7XG4gICAgcmV0dXJuIGAke29iai5wcm90b2NvbH06Ly8ke29iai5hdXRob3JpdHl9JHtvYmoucGF0aH0ke3BhcmFtc31gO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdyc7XG5jb25zdCB7IEhUTUxJbWFnZUVsZW1lbnQsIEhUTUxDYW52YXNFbGVtZW50LCBIVE1MVmlkZW9FbGVtZW50LCBJbWFnZURhdGEgfSA9IHdpbmRvdztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcbmltcG9ydCB0eXBlIHtSR0JBSW1hZ2UsIEFscGhhSW1hZ2V9IGZyb20gJy4uL3V0aWwvaW1hZ2UnO1xuXG5leHBvcnQgdHlwZSBUZXh0dXJlRm9ybWF0ID1cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnUkdCQSc+XG4gICAgfCAkUHJvcGVydHlUeXBlPFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgJ0FMUEhBJz47XG5leHBvcnQgdHlwZSBUZXh0dXJlRmlsdGVyID1cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnTElORUFSJz5cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnTElORUFSX01JUE1BUF9ORUFSRVNUJz5cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnTkVBUkVTVCc+O1xuZXhwb3J0IHR5cGUgVGV4dHVyZVdyYXAgPVxuICAgIHwgJFByb3BlcnR5VHlwZTxXZWJHTFJlbmRlcmluZ0NvbnRleHQsICdSRVBFQVQnPlxuICAgIHwgJFByb3BlcnR5VHlwZTxXZWJHTFJlbmRlcmluZ0NvbnRleHQsICdDTEFNUF9UT19FREdFJz5cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnTUlSUk9SRURfUkVQRUFUJz47XG5cbnR5cGUgRW1wdHlJbWFnZSA9IHtcbiAgICB3aWR0aDogbnVtYmVyLFxuICAgIGhlaWdodDogbnVtYmVyLFxuICAgIGRhdGE6IG51bGxcbn1cblxuZXhwb3J0IHR5cGUgVGV4dHVyZUltYWdlID1cbiAgICB8IFJHQkFJbWFnZVxuICAgIHwgQWxwaGFJbWFnZVxuICAgIHwgSFRNTEltYWdlRWxlbWVudFxuICAgIHwgSFRNTENhbnZhc0VsZW1lbnRcbiAgICB8IEhUTUxWaWRlb0VsZW1lbnRcbiAgICB8IEltYWdlRGF0YVxuICAgIHwgRW1wdHlJbWFnZTtcblxuY2xhc3MgVGV4dHVyZSB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBzaXplOiBBcnJheTxudW1iZXI+O1xuICAgIHRleHR1cmU6IFdlYkdMVGV4dHVyZTtcbiAgICBmb3JtYXQ6IFRleHR1cmVGb3JtYXQ7XG4gICAgZmlsdGVyOiA/VGV4dHVyZUZpbHRlcjtcbiAgICB3cmFwOiA/VGV4dHVyZVdyYXA7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBpbWFnZTogVGV4dHVyZUltYWdlLCBmb3JtYXQ6IFRleHR1cmVGb3JtYXQsIHByZW11bHRpcGx5OiA/Ym9vbGVhbikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGltYWdlO1xuICAgICAgICB0aGlzLnNpemUgPSBbd2lkdGgsIGhlaWdodF07XG4gICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0O1xuXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IGNvbnRleHQuZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZShpbWFnZSwgcHJlbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIHVwZGF0ZShpbWFnZTogVGV4dHVyZUltYWdlLCBwcmVtdWx0aXBseTogP2Jvb2xlYW4pIHtcbiAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gaW1hZ2U7XG4gICAgICAgIHRoaXMuc2l6ZSA9IFt3aWR0aCwgaGVpZ2h0XTtcblxuICAgICAgICBjb25zdCB7Y29udGV4dH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7Z2x9ID0gY29udGV4dDtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlKTtcbiAgICAgICAgY29udGV4dC5waXhlbFN0b3JlVW5wYWNrLnNldCgxKTtcblxuICAgICAgICBpZiAodGhpcy5mb3JtYXQgPT09IGdsLlJHQkEgJiYgcHJlbXVsdGlwbHkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldCh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbWFnZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQgfHwgaW1hZ2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCB8fCBpbWFnZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQgfHwgaW1hZ2UgaW5zdGFuY2VvZiBJbWFnZURhdGEpIHtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgdGhpcy5mb3JtYXQsIHRoaXMuZm9ybWF0LCBnbC5VTlNJR05FRF9CWVRFLCBpbWFnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIHRoaXMuZm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCAwLCB0aGlzLmZvcm1hdCwgZ2wuVU5TSUdORURfQllURSwgaW1hZ2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiaW5kKGZpbHRlcjogVGV4dHVyZUZpbHRlciwgd3JhcDogVGV4dHVyZVdyYXAsIG1pbkZpbHRlcjogP1RleHR1cmVGaWx0ZXIpIHtcbiAgICAgICAgY29uc3Qge2NvbnRleHR9ID0gdGhpcztcbiAgICAgICAgY29uc3Qge2dsfSA9IGNvbnRleHQ7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG5cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdGhpcy5maWx0ZXIpIHtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBmaWx0ZXIpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIG1pbkZpbHRlciB8fCBmaWx0ZXIpO1xuICAgICAgICAgICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod3JhcCAhPT0gdGhpcy53cmFwKSB7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCB3cmFwKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIHdyYXApO1xuICAgICAgICAgICAgdGhpcy53cmFwID0gd3JhcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGNvbnN0IHtnbH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gKG51bGw6IGFueSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0dXJlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFNoZWxmUGFjayBmcm9tICdAbWFwYm94L3NoZWxmLXBhY2snO1xuXG5pbXBvcnQgeyBSR0JBSW1hZ2UgfSBmcm9tICcuLi91dGlsL2ltYWdlJztcbmltcG9ydCB7IEltYWdlUG9zaXRpb24gfSBmcm9tICcuL2ltYWdlX2F0bGFzJztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZSc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZUltYWdlfSBmcm9tICcuLi9zdHlsZS9zdHlsZV9pbWFnZSc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuaW1wb3J0IHR5cGUge0Jpbn0gZnJvbSAnQG1hcGJveC9zaGVsZi1wYWNrJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuXG50eXBlIFBhdHRlcm4gPSB7XG4gICAgYmluOiBCaW4sXG4gICAgcG9zaXRpb246IEltYWdlUG9zaXRpb25cbn07XG5cbi8vIFdoZW4gY29waWVkIGludG8gdGhlIGF0bGFzIHRleHR1cmUsIGltYWdlIGRhdGEgaXMgcGFkZGVkIGJ5IG9uZSBwaXhlbCBvbiBlYWNoIHNpZGUuIEljb25cbi8vIGltYWdlcyBhcmUgcGFkZGVkIHdpdGggZnVsbHkgdHJhbnNwYXJlbnQgcGl4ZWxzLCB3aGlsZSBwYXR0ZXJuIGltYWdlcyBhcmUgcGFkZGVkIHdpdGggYVxuLy8gY29weSBvZiB0aGUgaW1hZ2UgZGF0YSB3cmFwcGVkIGZyb20gdGhlIG9wcG9zaXRlIHNpZGUuIEluIGJvdGggY2FzZXMsIHRoaXMgZW5zdXJlcyB0aGVcbi8vIGNvcnJlY3QgYmVoYXZpb3Igb2YgR0xfTElORUFSIHRleHR1cmUgc2FtcGxpbmcgbW9kZS5cbmNvbnN0IHBhZGRpbmcgPSAxO1xuXG4vKlxuICAgIEltYWdlTWFuYWdlciBkb2VzIHR3byB0aGluZ3M6XG5cbiAgICAgICAgMS4gVHJhY2tzIHJlcXVlc3RzIGZvciBpY29uIGltYWdlcyBmcm9tIHRpbGUgd29ya2VycyBhbmQgc2VuZHMgcmVzcG9uc2VzIHdoZW4gdGhlIHJlcXVlc3RzIGFyZSBmdWxmaWxsZWQuXG4gICAgICAgIDIuIEJ1aWxkcyBhIHRleHR1cmUgYXRsYXMgZm9yIHBhdHRlcm4gaW1hZ2VzLlxuXG4gICAgVGhlc2UgYXJlIGRpc3BhcmF0ZSByZXNwb25zaWJpbGl0aWVzIGFuZCBzaG91bGQgZXZlbnR1YWxseSBiZSBoYW5kbGVkIGJ5IGRpZmZlcmVudCBjbGFzc2VzLiBXaGVuIHdlIGltcGxlbWVudFxuICAgIGRhdGEtZHJpdmVuIHN1cHBvcnQgZm9yIGAqLXBhdHRlcm5gLCB3ZSdsbCBsaWtlbHkgdXNlIHBlci1idWNrZXQgcGF0dGVybiBhdGxhc2VzLCBhbmQgdGhhdCB3b3VsZCBiZSBhIGdvb2QgdGltZVxuICAgIHRvIHJlZmFjdG9yIHRoaXMuXG4qL1xuY2xhc3MgSW1hZ2VNYW5hZ2VyIHtcbiAgICBpbWFnZXM6IHtbc3RyaW5nXTogU3R5bGVJbWFnZX07XG4gICAgbG9hZGVkOiBib29sZWFuO1xuICAgIHJlcXVlc3RvcnM6IEFycmF5PHtpZHM6IEFycmF5PHN0cmluZz4sIGNhbGxiYWNrOiBDYWxsYmFjazx7W3N0cmluZ106IFN0eWxlSW1hZ2V9Pn0+O1xuXG4gICAgc2hlbGZQYWNrOiBTaGVsZlBhY2s7XG4gICAgcGF0dGVybnM6IHtbc3RyaW5nXTogUGF0dGVybn07XG4gICAgYXRsYXNJbWFnZTogUkdCQUltYWdlO1xuICAgIGF0bGFzVGV4dHVyZTogP1RleHR1cmU7XG4gICAgZGlydHk6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbWFnZXMgPSB7fTtcbiAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0b3JzID0gW107XG5cbiAgICAgICAgdGhpcy5zaGVsZlBhY2sgPSBuZXcgU2hlbGZQYWNrKDY0LCA2NCwge2F1dG9SZXNpemU6IHRydWV9KTtcbiAgICAgICAgdGhpcy5wYXR0ZXJucyA9IHt9O1xuICAgICAgICB0aGlzLmF0bGFzSW1hZ2UgPSBuZXcgUkdCQUltYWdlKHt3aWR0aDogNjQsIGhlaWdodDogNjR9KTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgaXNMb2FkZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRlZDtcbiAgICB9XG5cbiAgICBzZXRMb2FkZWQobG9hZGVkOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRlZCA9PT0gbG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvYWRlZCA9IGxvYWRlZDtcblxuICAgICAgICBpZiAobG9hZGVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHtpZHMsIGNhbGxiYWNrfSBvZiB0aGlzLnJlcXVlc3RvcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ub3RpZnkoaWRzLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RvcnMgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEltYWdlKGlkOiBzdHJpbmcpOiA/U3R5bGVJbWFnZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlc1tpZF07XG4gICAgfVxuXG4gICAgYWRkSW1hZ2UoaWQ6IHN0cmluZywgaW1hZ2U6IFN0eWxlSW1hZ2UpIHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLmltYWdlc1tpZF0pO1xuICAgICAgICB0aGlzLmltYWdlc1tpZF0gPSBpbWFnZTtcbiAgICB9XG5cbiAgICByZW1vdmVJbWFnZShpZDogc3RyaW5nKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmltYWdlc1tpZF0pO1xuICAgICAgICBkZWxldGUgdGhpcy5pbWFnZXNbaWRdO1xuXG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLnBhdHRlcm5zW2lkXTtcbiAgICAgICAgaWYgKHBhdHRlcm4pIHtcbiAgICAgICAgICAgIHRoaXMuc2hlbGZQYWNrLnVucmVmKHBhdHRlcm4uYmluKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBhdHRlcm5zW2lkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEltYWdlcyhpZHM6IEFycmF5PHN0cmluZz4sIGNhbGxiYWNrOiBDYWxsYmFjazx7W3N0cmluZ106IFN0eWxlSW1hZ2V9Pikge1xuICAgICAgICAvLyBJZiB0aGUgc3ByaXRlIGhhcyBiZWVuIGxvYWRlZCwgb3IgaWYgYWxsIHRoZSBpY29uIGRlcGVuZGVuY2llcyBhcmUgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgIC8vIChpLmUuIGlmIHRoZXkndmUgYmVlbiBhZGRlZGVkIHZpYSBydW50aW1lIHN0eWxpbmcpLCB0aGVuIG5vdGlmeSB0aGUgcmVxdWVzdG9yIGltbWVkaWF0ZWx5LlxuICAgICAgICAvLyBPdGhlcndpc2UsIGRlbGF5IG5vdGlmaWNhdGlvbiB1bnRpbCB0aGUgc3ByaXRlIGlzIGxvYWRlZC4gQXQgdGhhdCBwb2ludCwgaWYgYW55IG9mIHRoZVxuICAgICAgICAvLyBkZXBlbmRlbmNpZXMgYXJlIHN0aWxsIHVuYXZhaWxhYmxlLCB3ZSdsbCBqdXN0IGFzc3VtZSB0aGV5IGFyZSBwZXJtYW5lbnRseSBtaXNzaW5nLlxuICAgICAgICBsZXQgaGFzQWxsRGVwZW5kZW5jaWVzID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLmlzTG9hZGVkKCkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmltYWdlc1tpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzQWxsRGVwZW5kZW5jaWVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzTG9hZGVkKCkgfHwgaGFzQWxsRGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9ub3RpZnkoaWRzLCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RvcnMucHVzaCh7aWRzLCBjYWxsYmFja30pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX25vdGlmeShpZHM6IEFycmF5PHN0cmluZz4sIGNhbGxiYWNrOiBDYWxsYmFjazx7W3N0cmluZ106IFN0eWxlSW1hZ2V9Pikge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuaW1hZ2VzW2lkXTtcbiAgICAgICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgICAgIC8vIENsb25lIHRoZSBpbWFnZSBzbyB0aGF0IG91ciBvd24gY29weSBvZiBpdHMgQXJyYXlCdWZmZXIgZG9lc24ndCBnZXQgdHJhbnNmZXJyZWQuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VbaWRdID0ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBpbWFnZS5kYXRhLmNsb25lKCksXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW86IGltYWdlLnBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgICAgIHNkZjogaW1hZ2Uuc2RmXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICAvLyBQYXR0ZXJuIHN0dWZmXG5cbiAgICBnZXRQaXhlbFNpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5zaGVsZlBhY2sudyxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5zaGVsZlBhY2suaFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldFBhdHRlcm4oaWQ6IHN0cmluZyk6ID9JbWFnZVBvc2l0aW9uIHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IHRoaXMucGF0dGVybnNbaWRdO1xuICAgICAgICBpZiAocGF0dGVybikge1xuICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm4ucG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuZ2V0SW1hZ2UoaWQpO1xuICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gaW1hZ2UuZGF0YS53aWR0aCArIHBhZGRpbmcgKiAyO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBpbWFnZS5kYXRhLmhlaWdodCArIHBhZGRpbmcgKiAyO1xuXG4gICAgICAgIGNvbnN0IGJpbiA9IHRoaXMuc2hlbGZQYWNrLnBhY2tPbmUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGlmICghYmluKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXRsYXNJbWFnZS5yZXNpemUodGhpcy5nZXRQaXhlbFNpemUoKSk7XG5cbiAgICAgICAgY29uc3Qgc3JjID0gaW1hZ2UuZGF0YTtcbiAgICAgICAgY29uc3QgZHN0ID0gdGhpcy5hdGxhc0ltYWdlO1xuXG4gICAgICAgIGNvbnN0IHggPSBiaW4ueCArIHBhZGRpbmc7XG4gICAgICAgIGNvbnN0IHkgPSBiaW4ueSArIHBhZGRpbmc7XG4gICAgICAgIGNvbnN0IHcgPSBzcmMud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSBzcmMuaGVpZ2h0O1xuXG4gICAgICAgIFJHQkFJbWFnZS5jb3B5KHNyYywgZHN0LCB7IHg6IDAsIHk6IDAgfSwgeyB4LCB5IH0sIHsgd2lkdGg6IHcsIGhlaWdodDogaCB9KTtcblxuICAgICAgICAvLyBBZGQgMSBwaXhlbCB3cmFwcGVkIHBhZGRpbmcgb24gZWFjaCBzaWRlIG9mIHRoZSBpbWFnZS5cbiAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogMCwgeTogaCAtIDEgfSwgeyB4OiB4LCB5OiB5IC0gMSB9LCB7IHdpZHRoOiB3LCBoZWlnaHQ6IDEgfSk7IC8vIFRcbiAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogMCwgeTogICAgIDAgfSwgeyB4OiB4LCB5OiB5ICsgaCB9LCB7IHdpZHRoOiB3LCBoZWlnaHQ6IDEgfSk7IC8vIEJcbiAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogdyAtIDEsIHk6IDAgfSwgeyB4OiB4IC0gMSwgeTogeSB9LCB7IHdpZHRoOiAxLCBoZWlnaHQ6IGggfSk7IC8vIExcbiAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogMCwgICAgIHk6IDAgfSwgeyB4OiB4ICsgdywgeTogeSB9LCB7IHdpZHRoOiAxLCBoZWlnaHQ6IGggfSk7IC8vIFJcblxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IG5ldyBJbWFnZVBvc2l0aW9uKGJpbiwgaW1hZ2UpO1xuICAgICAgICB0aGlzLnBhdHRlcm5zW2lkXSA9IHsgYmluLCBwb3NpdGlvbiB9O1xuICAgICAgICByZXR1cm4gcG9zaXRpb247XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgaWYgKCF0aGlzLmF0bGFzVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5hdGxhc1RleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmF0bGFzSW1hZ2UsIGdsLlJHQkEpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuYXRsYXNUZXh0dXJlLnVwZGF0ZSh0aGlzLmF0bGFzSW1hZ2UpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hdGxhc1RleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRpbnlTREY7XG5cbnZhciBJTkYgPSAxZTIwO1xuXG5mdW5jdGlvbiBUaW55U0RGKGZvbnRTaXplLCBidWZmZXIsIHJhZGl1cywgY3V0b2ZmLCBmb250RmFtaWx5LCBmb250V2VpZ2h0KSB7XG4gICAgdGhpcy5mb250U2l6ZSA9IGZvbnRTaXplIHx8IDI0O1xuICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyID09PSB1bmRlZmluZWQgPyAzIDogYnVmZmVyO1xuICAgIHRoaXMuY3V0b2ZmID0gY3V0b2ZmIHx8IDAuMjU7XG4gICAgdGhpcy5mb250RmFtaWx5ID0gZm9udEZhbWlseSB8fCAnc2Fucy1zZXJpZic7XG4gICAgdGhpcy5mb250V2VpZ2h0ID0gZm9udFdlaWdodCB8fCAnbm9ybWFsJztcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cyB8fCA4O1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplID0gdGhpcy5mb250U2l6ZSArIHRoaXMuYnVmZmVyICogMjtcblxuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5oZWlnaHQgPSBzaXplO1xuXG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHRoaXMuY3R4LmZvbnQgPSB0aGlzLmZvbnRXZWlnaHQgKyAnICcgKyB0aGlzLmZvbnRTaXplICsgJ3B4ICcgKyB0aGlzLmZvbnRGYW1pbHk7XG4gICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcblxuICAgIC8vIHRlbXBvcmFyeSBhcnJheXMgZm9yIHRoZSBkaXN0YW5jZSB0cmFuc2Zvcm1cbiAgICB0aGlzLmdyaWRPdXRlciA9IG5ldyBGbG9hdDY0QXJyYXkoc2l6ZSAqIHNpemUpO1xuICAgIHRoaXMuZ3JpZElubmVyID0gbmV3IEZsb2F0NjRBcnJheShzaXplICogc2l6ZSk7XG4gICAgdGhpcy5mID0gbmV3IEZsb2F0NjRBcnJheShzaXplKTtcbiAgICB0aGlzLmQgPSBuZXcgRmxvYXQ2NEFycmF5KHNpemUpO1xuICAgIHRoaXMueiA9IG5ldyBGbG9hdDY0QXJyYXkoc2l6ZSArIDEpO1xuICAgIHRoaXMudiA9IG5ldyBJbnQxNkFycmF5KHNpemUpO1xuXG4gICAgLy8gaGFjayBhcm91bmQgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NzM3ODUyXG4gICAgdGhpcy5taWRkbGUgPSBNYXRoLnJvdW5kKChzaXplIC8gMikgKiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdHZWNrby8nKSA+PSAwID8gMS4yIDogMSkpO1xufVxuXG5UaW55U0RGLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGNoYXIpIHtcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KGNoYXIsIHRoaXMuYnVmZmVyLCB0aGlzLm1pZGRsZSk7XG5cbiAgICB2YXIgaW1nRGF0YSA9IHRoaXMuY3R4LmdldEltYWdlRGF0YSgwLCAwLCB0aGlzLnNpemUsIHRoaXMuc2l6ZSk7XG4gICAgdmFyIGFscGhhQ2hhbm5lbCA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh0aGlzLnNpemUgKiB0aGlzLnNpemUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNpemUgKiB0aGlzLnNpemU7IGkrKykge1xuICAgICAgICB2YXIgYSA9IGltZ0RhdGEuZGF0YVtpICogNCArIDNdIC8gMjU1OyAvLyBhbHBoYSB2YWx1ZVxuICAgICAgICB0aGlzLmdyaWRPdXRlcltpXSA9IGEgPT09IDEgPyAwIDogYSA9PT0gMCA/IElORiA6IE1hdGgucG93KE1hdGgubWF4KDAsIDAuNSAtIGEpLCAyKTtcbiAgICAgICAgdGhpcy5ncmlkSW5uZXJbaV0gPSBhID09PSAxID8gSU5GIDogYSA9PT0gMCA/IDAgOiBNYXRoLnBvdyhNYXRoLm1heCgwLCBhIC0gMC41KSwgMik7XG4gICAgfVxuXG4gICAgZWR0KHRoaXMuZ3JpZE91dGVyLCB0aGlzLnNpemUsIHRoaXMuc2l6ZSwgdGhpcy5mLCB0aGlzLmQsIHRoaXMudiwgdGhpcy56KTtcbiAgICBlZHQodGhpcy5ncmlkSW5uZXIsIHRoaXMuc2l6ZSwgdGhpcy5zaXplLCB0aGlzLmYsIHRoaXMuZCwgdGhpcy52LCB0aGlzLnopO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuc2l6ZSAqIHRoaXMuc2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBkID0gdGhpcy5ncmlkT3V0ZXJbaV0gLSB0aGlzLmdyaWRJbm5lcltpXTtcbiAgICAgICAgYWxwaGFDaGFubmVsW2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKDI1NSAtIDI1NSAqIChkIC8gdGhpcy5yYWRpdXMgKyB0aGlzLmN1dG9mZikpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFscGhhQ2hhbm5lbDtcbn07XG5cbi8vIDJEIEV1Y2xpZGVhbiBkaXN0YW5jZSB0cmFuc2Zvcm0gYnkgRmVsemVuc3p3YWxiICYgSHV0dGVubG9jaGVyIGh0dHBzOi8vY3MuYnJvd24uZWR1L35wZmYvZHQvXG5mdW5jdGlvbiBlZHQoZGF0YSwgd2lkdGgsIGhlaWdodCwgZiwgZCwgdiwgeikge1xuICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICBmW3ldID0gZGF0YVt5ICogd2lkdGggKyB4XTtcbiAgICAgICAgfVxuICAgICAgICBlZHQxZChmLCBkLCB2LCB6LCBoZWlnaHQpO1xuICAgICAgICBmb3IgKHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIGRhdGFbeSAqIHdpZHRoICsgeF0gPSBkW3ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICBmb3IgKHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgZlt4XSA9IGRhdGFbeSAqIHdpZHRoICsgeF07XG4gICAgICAgIH1cbiAgICAgICAgZWR0MWQoZiwgZCwgdiwgeiwgd2lkdGgpO1xuICAgICAgICBmb3IgKHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgZGF0YVt5ICogd2lkdGggKyB4XSA9IE1hdGguc3FydChkW3hdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gMUQgc3F1YXJlZCBkaXN0YW5jZSB0cmFuc2Zvcm1cbmZ1bmN0aW9uIGVkdDFkKGYsIGQsIHYsIHosIG4pIHtcbiAgICB2WzBdID0gMDtcbiAgICB6WzBdID0gLUlORjtcbiAgICB6WzFdID0gK0lORjtcblxuICAgIGZvciAodmFyIHEgPSAxLCBrID0gMDsgcSA8IG47IHErKykge1xuICAgICAgICB2YXIgcyA9ICgoZltxXSArIHEgKiBxKSAtIChmW3Zba11dICsgdltrXSAqIHZba10pKSAvICgyICogcSAtIDIgKiB2W2tdKTtcbiAgICAgICAgd2hpbGUgKHMgPD0geltrXSkge1xuICAgICAgICAgICAgay0tO1xuICAgICAgICAgICAgcyA9ICgoZltxXSArIHEgKiBxKSAtIChmW3Zba11dICsgdltrXSAqIHZba10pKSAvICgyICogcSAtIDIgKiB2W2tdKTtcbiAgICAgICAgfVxuICAgICAgICBrKys7XG4gICAgICAgIHZba10gPSBxO1xuICAgICAgICB6W2tdID0gcztcbiAgICAgICAgeltrICsgMV0gPSArSU5GO1xuICAgIH1cblxuICAgIGZvciAocSA9IDAsIGsgPSAwOyBxIDwgbjsgcSsrKSB7XG4gICAgICAgIHdoaWxlICh6W2sgKyAxXSA8IHEpIGsrKztcbiAgICAgICAgZFtxXSA9IChxIC0gdltrXSkgKiAocSAtIHZba10pICsgZlt2W2tdXTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgbG9hZEdseXBoUmFuZ2UgZnJvbSAnLi4vc3R5bGUvbG9hZF9nbHlwaF9yYW5nZSc7XG5cbmltcG9ydCBUaW55U0RGIGZyb20gJ0BtYXBib3gvdGlueS1zZGYnO1xuaW1wb3J0IGlzQ2hhciBmcm9tICcuLi91dGlsL2lzX2NoYXJfaW5fdW5pY29kZV9ibG9jayc7XG5pbXBvcnQgeyBhc3luY0FsbCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBBbHBoYUltYWdlIH0gZnJvbSAnLi4vdXRpbC9pbWFnZSc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZUdseXBofSBmcm9tICcuLi9zdHlsZS9zdHlsZV9nbHlwaCc7XG5pbXBvcnQgdHlwZSB7UmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9ufSBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5cbnR5cGUgRW50cnkgPSB7XG4gICAgLy8gbnVsbCBtZWFucyB3ZSd2ZSByZXF1ZXN0ZWQgdGhlIHJhbmdlLCBidXQgdGhlIGdseXBoIHdhc24ndCBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0LlxuICAgIGdseXBoczoge1tpZDogbnVtYmVyXTogU3R5bGVHbHlwaCB8IG51bGx9LFxuICAgIHJlcXVlc3RzOiB7W3JhbmdlOiBudW1iZXJdOiBBcnJheTxDYWxsYmFjazx7W251bWJlcl06IFN0eWxlR2x5cGggfCBudWxsfT4+fSxcbiAgICB0aW55U0RGPzogVGlueVNERlxufTtcblxuY2xhc3MgR2x5cGhNYW5hZ2VyIHtcbiAgICByZXF1ZXN0VHJhbnNmb3JtOiBSZXF1ZXN0VHJhbnNmb3JtRnVuY3Rpb247XG4gICAgbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiA/c3RyaW5nO1xuICAgIGVudHJpZXM6IHtbc3RyaW5nXTogRW50cnl9O1xuICAgIHVybDogP3N0cmluZztcblxuICAgIC8vIGV4cG9zZWQgYXMgc3RhdGljcyB0byBlbmFibGUgc3R1YmJpbmcgaW4gdW5pdCB0ZXN0c1xuICAgIHN0YXRpYyBsb2FkR2x5cGhSYW5nZTogdHlwZW9mIGxvYWRHbHlwaFJhbmdlO1xuICAgIHN0YXRpYyBUaW55U0RGOiBDbGFzczxUaW55U0RGPjtcblxuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3RUcmFuc2Zvcm06IFJlcXVlc3RUcmFuc2Zvcm1GdW5jdGlvbiwgbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiA/c3RyaW5nKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdFRyYW5zZm9ybSA9IHJlcXVlc3RUcmFuc2Zvcm07XG4gICAgICAgIHRoaXMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5ID0gbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5O1xuICAgICAgICB0aGlzLmVudHJpZXMgPSB7fTtcbiAgICB9XG5cbiAgICBzZXRVUkwodXJsOiA/c3RyaW5nKSB7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgIH1cblxuICAgIGdldEdseXBocyhnbHlwaHM6IHtbc3RhY2s6IHN0cmluZ106IEFycmF5PG51bWJlcj59LCBjYWxsYmFjazogQ2FsbGJhY2s8e1tzdGFjazogc3RyaW5nXToge1tpZDogbnVtYmVyXTogP1N0eWxlR2x5cGh9fT4pIHtcbiAgICAgICAgY29uc3QgYWxsID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBzdGFjayBpbiBnbHlwaHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgZ2x5cGhzW3N0YWNrXSkge1xuICAgICAgICAgICAgICAgIGFsbC5wdXNoKHtzdGFjaywgaWR9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGFzeW5jQWxsKGFsbCwgKHtzdGFjaywgaWR9LCBjYWxsYmFjazogQ2FsbGJhY2s8e3N0YWNrOiBzdHJpbmcsIGlkOiBudW1iZXIsIGdseXBoOiA/U3R5bGVHbHlwaH0+KSA9PiB7XG4gICAgICAgICAgICBsZXQgZW50cnkgPSB0aGlzLmVudHJpZXNbc3RhY2tdO1xuICAgICAgICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICAgICAgICAgIGVudHJ5ID0gdGhpcy5lbnRyaWVzW3N0YWNrXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZ2x5cGhzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdHM6IHt9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGdseXBoID0gZW50cnkuZ2x5cGhzW2lkXTtcbiAgICAgICAgICAgIGlmIChnbHlwaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge3N0YWNrLCBpZCwgZ2x5cGh9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdseXBoID0gdGhpcy5fdGlueVNERihlbnRyeSwgc3RhY2ssIGlkKTtcbiAgICAgICAgICAgIGlmIChnbHlwaCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtzdGFjaywgaWQsIGdseXBofSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IE1hdGguZmxvb3IoaWQgLyAyNTYpO1xuICAgICAgICAgICAgaWYgKHJhbmdlICogMjU2ID4gNjU1MzUpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ2dseXBocyA+IDY1NTM1IG5vdCBzdXBwb3J0ZWQnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcmVxdWVzdHMgPSBlbnRyeS5yZXF1ZXN0c1tyYW5nZV07XG4gICAgICAgICAgICBpZiAoIXJlcXVlc3RzKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdHMgPSBlbnRyeS5yZXF1ZXN0c1tyYW5nZV0gPSBbXTtcbiAgICAgICAgICAgICAgICBHbHlwaE1hbmFnZXIubG9hZEdseXBoUmFuZ2Uoc3RhY2ssIHJhbmdlLCAodGhpcy51cmw6IGFueSksIHRoaXMucmVxdWVzdFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgKGVyciwgcmVzcG9uc2U6ID97W251bWJlcl06IFN0eWxlR2x5cGggfCBudWxsfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5nbHlwaHNbK2lkXSA9IHJlc3BvbnNlWytpZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjYiBvZiByZXF1ZXN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiKGVyciwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVudHJ5LnJlcXVlc3RzW3JhbmdlXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcXVlc3RzLnB1c2goKGVyciwgcmVzdWx0OiA/e1tudW1iZXJdOiBTdHlsZUdseXBoIHwgbnVsbH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge3N0YWNrLCBpZCwgZ2x5cGg6IHJlc3VsdFtpZF0gfHwgbnVsbH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCAoZXJyLCBnbHlwaHM6ID9BcnJheTx7c3RhY2s6IHN0cmluZywgaWQ6IG51bWJlciwgZ2x5cGg6ID9TdHlsZUdseXBofT4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChnbHlwaHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qge3N0YWNrLCBpZCwgZ2x5cGh9IG9mIGdseXBocykge1xuICAgICAgICAgICAgICAgICAgICAvLyBDbG9uZSB0aGUgZ2x5cGggc28gdGhhdCBvdXIgb3duIGNvcHkgb2YgaXRzIEFycmF5QnVmZmVyIGRvZXNuJ3QgZ2V0IHRyYW5zZmVycmVkLlxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0W3N0YWNrXSB8fCAocmVzdWx0W3N0YWNrXSA9IHt9KSlbaWRdID0gZ2x5cGggJiYge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGdseXBoLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYml0bWFwOiBnbHlwaC5iaXRtYXAuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldHJpY3M6IGdseXBoLm1ldHJpY3NcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfdGlueVNERihlbnRyeTogRW50cnksIHN0YWNrOiBzdHJpbmcsIGlkOiBudW1iZXIpOiA/U3R5bGVHbHlwaCB7XG4gICAgICAgIGNvbnN0IGZhbWlseSA9IHRoaXMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5O1xuICAgICAgICBpZiAoIWZhbWlseSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc0NoYXJbJ0NKSyBVbmlmaWVkIElkZW9ncmFwaHMnXShpZCkgJiYgIWlzQ2hhclsnSGFuZ3VsIFN5bGxhYmxlcyddKGlkKSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0aW55U0RGID0gZW50cnkudGlueVNERjtcbiAgICAgICAgaWYgKCF0aW55U0RGKSB7XG4gICAgICAgICAgICBsZXQgZm9udFdlaWdodCA9ICc0MDAnO1xuICAgICAgICAgICAgaWYgKC9ib2xkL2kudGVzdChzdGFjaykpIHtcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0ID0gJzkwMCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9tZWRpdW0vaS50ZXN0KHN0YWNrKSkge1xuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQgPSAnNTAwJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL2xpZ2h0L2kudGVzdChzdGFjaykpIHtcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0ID0gJzIwMCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aW55U0RGID0gZW50cnkudGlueVNERiA9IG5ldyBHbHlwaE1hbmFnZXIuVGlueVNERigyNCwgMywgOCwgLjI1LCBmYW1pbHksIGZvbnRXZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgYml0bWFwOiBuZXcgQWxwaGFJbWFnZSh7d2lkdGg6IDMwLCBoZWlnaHQ6IDMwfSwgdGlueVNERi5kcmF3KFN0cmluZy5mcm9tQ2hhckNvZGUoaWQpKSksXG4gICAgICAgICAgICBtZXRyaWNzOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDI0LFxuICAgICAgICAgICAgICAgIGhlaWdodDogMjQsXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICB0b3A6IC04LFxuICAgICAgICAgICAgICAgIGFkdmFuY2U6IDI0XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5HbHlwaE1hbmFnZXIubG9hZEdseXBoUmFuZ2UgPSBsb2FkR2x5cGhSYW5nZTtcbkdseXBoTWFuYWdlci5UaW55U0RGID0gVGlueVNERjtcblxuZXhwb3J0IGRlZmF1bHQgR2x5cGhNYW5hZ2VyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHN0eWxlU3BlYyBmcm9tICcuLi9zdHlsZS1zcGVjL3JlZmVyZW5jZS9sYXRlc3QnO1xuXG5pbXBvcnQgeyBlbmRzV2l0aCwgZXh0ZW5kLCBzcGhlcmljYWxUb0NhcnRlc2lhbiB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBFdmVudGVkIH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCB7XG4gICAgdmFsaWRhdGVTdHlsZSxcbiAgICB2YWxpZGF0ZUxpZ2h0LFxuICAgIGVtaXRWYWxpZGF0aW9uRXJyb3JzXG59IGZyb20gJy4vdmFsaWRhdGVfc3R5bGUnO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5pbXBvcnQgeyBudW1iZXIgYXMgaW50ZXJwb2xhdGUgfSBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvaW50ZXJwb2xhdGUnO1xuXG5pbXBvcnQgdHlwZSB7U3R5bGVQcm9wZXJ0eVNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvc3R5bGUtc3BlYyc7XG5pbXBvcnQgdHlwZSBFdmFsdWF0aW9uUGFyYW1ldGVycyBmcm9tICcuL2V2YWx1YXRpb25fcGFyYW1ldGVycyc7XG5cbmltcG9ydCB7IFByb3BlcnRpZXMsIFRyYW5zaXRpb25hYmxlLCBUcmFuc2l0aW9uaW5nLCBQb3NzaWJseUV2YWx1YXRlZCwgRGF0YUNvbnN0YW50UHJvcGVydHkgfSBmcm9tICcuL3Byb3BlcnRpZXMnO1xuXG5pbXBvcnQgdHlwZSB7XG4gICAgUHJvcGVydHksXG4gICAgUHJvcGVydHlWYWx1ZSxcbiAgICBUcmFuc2l0aW9uUGFyYW1ldGVyc1xufSBmcm9tICcuL3Byb3BlcnRpZXMnO1xuXG50eXBlIExpZ2h0UG9zaXRpb24gPSB7XG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlcixcbiAgICB6OiBudW1iZXJcbn07XG5cbmNsYXNzIExpZ2h0UG9zaXRpb25Qcm9wZXJ0eSBpbXBsZW1lbnRzIFByb3BlcnR5PFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSwgTGlnaHRQb3NpdGlvbj4ge1xuICAgIHNwZWNpZmljYXRpb246IFN0eWxlUHJvcGVydHlTcGVjaWZpY2F0aW9uO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3BlY2lmaWNhdGlvbiA9IHN0eWxlU3BlYy5saWdodC5wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBwb3NzaWJseUV2YWx1YXRlKHZhbHVlOiBQcm9wZXJ0eVZhbHVlPFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSwgTGlnaHRQb3NpdGlvbj4sIHBhcmFtZXRlcnM6IEV2YWx1YXRpb25QYXJhbWV0ZXJzKTogTGlnaHRQb3NpdGlvbiB7XG4gICAgICAgIHJldHVybiBzcGhlcmljYWxUb0NhcnRlc2lhbih2YWx1ZS5leHByZXNzaW9uLmV2YWx1YXRlKHBhcmFtZXRlcnMpKTtcbiAgICB9XG5cbiAgICBpbnRlcnBvbGF0ZShhOiBMaWdodFBvc2l0aW9uLCBiOiBMaWdodFBvc2l0aW9uLCB0OiBudW1iZXIpOiBMaWdodFBvc2l0aW9uIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGludGVycG9sYXRlKGEueCwgYi54LCB0KSxcbiAgICAgICAgICAgIHk6IGludGVycG9sYXRlKGEueSwgYi55LCB0KSxcbiAgICAgICAgICAgIHo6IGludGVycG9sYXRlKGEueiwgYi56LCB0KSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbnR5cGUgUHJvcHMgPSB7fFxuICAgIFwiYW5jaG9yXCI6IERhdGFDb25zdGFudFByb3BlcnR5PFwibWFwXCIgfCBcInZpZXdwb3J0XCI+LFxuICAgIFwicG9zaXRpb25cIjogTGlnaHRQb3NpdGlvblByb3BlcnR5LFxuICAgIFwiY29sb3JcIjogRGF0YUNvbnN0YW50UHJvcGVydHk8Q29sb3I+LFxuICAgIFwiaW50ZW5zaXR5XCI6IERhdGFDb25zdGFudFByb3BlcnR5PG51bWJlcj4sXG58fTtcblxuY29uc3QgcHJvcGVydGllczogUHJvcGVydGllczxQcm9wcz4gPSBuZXcgUHJvcGVydGllcyh7XG4gICAgXCJhbmNob3JcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5saWdodC5hbmNob3IpLFxuICAgIFwicG9zaXRpb25cIjogbmV3IExpZ2h0UG9zaXRpb25Qcm9wZXJ0eSgpLFxuICAgIFwiY29sb3JcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5saWdodC5jb2xvciksXG4gICAgXCJpbnRlbnNpdHlcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5saWdodC5pbnRlbnNpdHkpLFxufSk7XG5cbmNvbnN0IFRSQU5TSVRJT05fU1VGRklYID0gJy10cmFuc2l0aW9uJztcblxuLypcbiAqIFJlcHJlc2VudHMgdGhlIGxpZ2h0IHVzZWQgdG8gbGlnaHQgZXh0cnVkZWQgZmVhdHVyZXMuXG4gKi9cbmNsYXNzIExpZ2h0IGV4dGVuZHMgRXZlbnRlZCB7XG4gICAgX3RyYW5zaXRpb25hYmxlOiBUcmFuc2l0aW9uYWJsZTxQcm9wcz47XG4gICAgX3RyYW5zaXRpb25pbmc6IFRyYW5zaXRpb25pbmc8UHJvcHM+O1xuICAgIHByb3BlcnRpZXM6IFBvc3NpYmx5RXZhbHVhdGVkPFByb3BzPjtcblxuICAgIGNvbnN0cnVjdG9yKGxpZ2h0T3B0aW9ucz86IExpZ2h0U3BlY2lmaWNhdGlvbikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uYWJsZSA9IG5ldyBUcmFuc2l0aW9uYWJsZShwcm9wZXJ0aWVzKTtcbiAgICAgICAgdGhpcy5zZXRMaWdodChsaWdodE9wdGlvbnMpO1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uaW5nID0gdGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKTtcbiAgICB9XG5cbiAgICBnZXRMaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNlcmlhbGl6ZSgpO1xuICAgIH1cblxuICAgIHNldExpZ2h0KG9wdGlvbnM/OiBMaWdodFNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlTGlnaHQsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW25hbWVdO1xuICAgICAgICAgICAgaWYgKGVuZHNXaXRoKG5hbWUsIFRSQU5TSVRJT05fU1VGRklYKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24obmFtZS5zbGljZSgwLCAtVFJBTlNJVElPTl9TVUZGSVgubGVuZ3RoKSwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRWYWx1ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzOiBUcmFuc2l0aW9uUGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uaW5nID0gdGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKHBhcmFtZXRlcnMsIHRoaXMuX3RyYW5zaXRpb25pbmcpO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLmhhc1RyYW5zaXRpb24oKTtcbiAgICB9XG5cbiAgICByZWNhbGN1bGF0ZShwYXJhbWV0ZXJzOiBFdmFsdWF0aW9uUGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUocGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgX3ZhbGlkYXRlKHZhbGlkYXRlOiBGdW5jdGlvbiwgdmFsdWU6IG1peGVkKSB7XG4gICAgICAgIHJldHVybiBlbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLCB2YWxpZGF0ZS5jYWxsKHZhbGlkYXRlU3R5bGUsIGV4dGVuZCh7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMjQwN1xuICAgICAgICAgICAgc3R5bGU6IHtnbHlwaHM6IHRydWUsIHNwcml0ZTogdHJ1ZX0sXG4gICAgICAgICAgICBzdHlsZVNwZWM6IHN0eWxlU3BlY1xuICAgICAgICB9KSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlnaHQ7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyB3YXJuT25jZSB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dCc7XG5cbi8qKlxuICogQSBMaW5lQXRsYXMgbGV0cyB1cyByZXVzZSByZW5kZXJlZCBkYXNoZWQgbGluZXNcbiAqIGJ5IHdyaXRpbmcgbWFueSBvZiB0aGVtIHRvIGEgdGV4dHVyZSBhbmQgdGhlbiBmZXRjaGluZyB0aGVpciBwb3NpdGlvbnNcbiAqIHVzaW5nIC5nZXREYXNoLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgTGluZUF0bGFzIHtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIG5leHRSb3c6IG51bWJlcjtcbiAgICBieXRlczogbnVtYmVyO1xuICAgIGRhdGE6IFVpbnQ4QXJyYXk7XG4gICAgcG9zaXRpb25zOiB7W3N0cmluZ106IGFueX07XG4gICAgZGlydHk6IGJvb2xlYW47XG4gICAgdGV4dHVyZTogV2ViR0xUZXh0dXJlO1xuXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5uZXh0Um93ID0gMDtcblxuICAgICAgICB0aGlzLmJ5dGVzID0gNDtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQ4QXJyYXkodGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0ICogdGhpcy5ieXRlcyk7XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgb3IgY3JlYXRlIGEgZGFzaCBsaW5lIHBhdHRlcm4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGRhc2hhcnJheVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm91bmQgd2hldGhlciB0byBhZGQgY2lyY2xlIGNhcHMgaW4gYmV0d2VlbiBkYXNoIHNlZ21lbnRzXG4gICAgICogQHJldHVybnMge09iamVjdH0gcG9zaXRpb24gb2YgZGFzaCB0ZXh0dXJlIGluIHsgeSwgaGVpZ2h0LCB3aWR0aCB9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXREYXNoKGRhc2hhcnJheTogQXJyYXk8bnVtYmVyPiwgcm91bmQ6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZGFzaGFycmF5LmpvaW4oXCIsXCIpICsgU3RyaW5nKHJvdW5kKTtcblxuICAgICAgICBpZiAoIXRoaXMucG9zaXRpb25zW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25zW2tleV0gPSB0aGlzLmFkZERhc2goZGFzaGFycmF5LCByb3VuZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb25zW2tleV07XG4gICAgfVxuXG4gICAgYWRkRGFzaChkYXNoYXJyYXk6IEFycmF5PG51bWJlcj4sIHJvdW5kOiBib29sZWFuKSB7XG5cbiAgICAgICAgY29uc3QgbiA9IHJvdW5kID8gNyA6IDA7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDIgKiBuICsgMTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gMTI4O1xuXG4gICAgICAgIGlmICh0aGlzLm5leHRSb3cgKyBoZWlnaHQgPiB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgd2Fybk9uY2UoJ0xpbmVBdGxhcyBvdXQgb2Ygc3BhY2UnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGFzaGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gZGFzaGFycmF5W2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RyZXRjaCA9IHRoaXMud2lkdGggLyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHN0cmV0Y2ggLyAyO1xuXG4gICAgICAgIC8vIElmIGRhc2hhcnJheSBoYXMgYW4gb2RkIGxlbmd0aCwgYm90aCB0aGUgZmlyc3QgYW5kIGxhc3QgcGFydHNcbiAgICAgICAgLy8gYXJlIGRhc2hlcyBhbmQgc2hvdWxkIGJlIGpvaW5lZCBzZWFtbGVzc2x5LlxuICAgICAgICBjb25zdCBvZGRMZW5ndGggPSBkYXNoYXJyYXkubGVuZ3RoICUgMiA9PT0gMTtcblxuICAgICAgICBmb3IgKGxldCB5ID0gLW47IHkgPD0gbjsgeSsrKSB7XG4gICAgICAgICAgICBjb25zdCByb3cgPSB0aGlzLm5leHRSb3cgKyBuICsgeTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy53aWR0aCAqIHJvdztcblxuICAgICAgICAgICAgbGV0IGxlZnQgPSBvZGRMZW5ndGggPyAtZGFzaGFycmF5W2Rhc2hhcnJheS5sZW5ndGggLSAxXSA6IDA7XG4gICAgICAgICAgICBsZXQgcmlnaHQgPSBkYXNoYXJyYXlbMF07XG4gICAgICAgICAgICBsZXQgcGFydEluZGV4ID0gMTtcblxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChyaWdodCA8IHggLyBzdHJldGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSByaWdodDtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSByaWdodCArIGRhc2hhcnJheVtwYXJ0SW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvZGRMZW5ndGggJiYgcGFydEluZGV4ID09PSBkYXNoYXJyYXkubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQgKz0gZGFzaGFycmF5WzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdExlZnQgPSBNYXRoLmFicyh4IC0gbGVmdCAqIHN0cmV0Y2gpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RSaWdodCA9IE1hdGguYWJzKHggLSByaWdodCAqIHN0cmV0Y2gpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLm1pbihkaXN0TGVmdCwgZGlzdFJpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNpZGUgPSAocGFydEluZGV4ICUgMikgPT09IDE7XG4gICAgICAgICAgICAgICAgbGV0IHNpZ25lZERpc3RhbmNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBjaXJjbGUgY2Fwc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0TWlkZGxlID0gbiA/IHkgLyBuICogKGhhbGZXaWR0aCArIDEpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc2lkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdEVkZ2UgPSBoYWxmV2lkdGggLSBNYXRoLmFicyhkaXN0TWlkZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25lZERpc3RhbmNlID0gTWF0aC5zcXJ0KGRpc3QgKiBkaXN0ICsgZGlzdEVkZ2UgKiBkaXN0RWRnZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduZWREaXN0YW5jZSA9IGhhbGZXaWR0aCAtIE1hdGguc3FydChkaXN0ICogZGlzdCArIGRpc3RNaWRkbGUgKiBkaXN0TWlkZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25lZERpc3RhbmNlID0gKGluc2lkZSA/IDEgOiAtMSkgKiBkaXN0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVszICsgKGluZGV4ICsgeCkgKiA0XSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgc2lnbmVkRGlzdGFuY2UgKyBvZmZzZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvcyA9IHtcbiAgICAgICAgICAgIHk6ICh0aGlzLm5leHRSb3cgKyBuICsgMC41KSAvIHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgaGVpZ2h0OiAyICogbiAvIHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IGxlbmd0aFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubmV4dFJvdyArPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5SRVBFQVQpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuUkVQRUFUKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0aGlzLmRhdGEpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0aGlzLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMaW5lQXRsYXM7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyB1bmlxdWVJZCwgYXN5bmNBbGwgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IEFjdG9yIGZyb20gJy4vYWN0b3InO1xuXG5pbXBvcnQgdHlwZSBXb3JrZXJQb29sIGZyb20gJy4vd29ya2VyX3Bvb2wnO1xuXG4vKipcbiAqIFJlc3BvbnNpYmxlIGZvciBzZW5kaW5nIG1lc3NhZ2VzIGZyb20gYSB7QGxpbmsgU291cmNlfSB0byBhbiBhc3NvY2lhdGVkXG4gKiB7QGxpbmsgV29ya2VyU291cmNlfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBEaXNwYXRjaGVyIHtcbiAgICB3b3JrZXJQb29sOiBXb3JrZXJQb29sO1xuICAgIGFjdG9yczogQXJyYXk8QWN0b3I+O1xuICAgIGN1cnJlbnRBY3RvcjogbnVtYmVyO1xuICAgIGlkOiBudW1iZXI7XG5cbiAgICAvLyBleHBvc2VkIHRvIGFsbG93IHN0dWJiaW5nIGluIHVuaXQgdGVzdHNcbiAgICBzdGF0aWMgQWN0b3I6IENsYXNzPEFjdG9yPjtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmtlclBvb2w6IFdvcmtlclBvb2wsIHBhcmVudDogYW55KSB7XG4gICAgICAgIHRoaXMud29ya2VyUG9vbCA9IHdvcmtlclBvb2w7XG4gICAgICAgIHRoaXMuYWN0b3JzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudEFjdG9yID0gMDtcbiAgICAgICAgdGhpcy5pZCA9IHVuaXF1ZUlkKCk7XG4gICAgICAgIGNvbnN0IHdvcmtlcnMgPSB0aGlzLndvcmtlclBvb2wuYWNxdWlyZSh0aGlzLmlkKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB3b3JrZXIgPSB3b3JrZXJzW2ldO1xuICAgICAgICAgICAgY29uc3QgYWN0b3IgPSBuZXcgRGlzcGF0Y2hlci5BY3Rvcih3b3JrZXIsIHBhcmVudCwgdGhpcy5pZCk7XG4gICAgICAgICAgICBhY3Rvci5uYW1lID0gYFdvcmtlciAke2l9YDtcbiAgICAgICAgICAgIHRoaXMuYWN0b3JzLnB1c2goYWN0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnJvYWRjYXN0IGEgbWVzc2FnZSB0byBhbGwgV29ya2Vycy5cbiAgICAgKi9cbiAgICBicm9hZGNhc3QodHlwZTogc3RyaW5nLCBkYXRhOiBtaXhlZCwgY2I/OiBGdW5jdGlvbikge1xuICAgICAgICBjYiA9IGNiIHx8IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICBhc3luY0FsbCh0aGlzLmFjdG9ycywgKGFjdG9yLCBkb25lKSA9PiB7XG4gICAgICAgICAgICBhY3Rvci5zZW5kKHR5cGUsIGRhdGEsIGRvbmUpO1xuICAgICAgICB9LCBjYik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBhIG1lc3NhZ2UgdG8gYSBXb3JrZXIuXG4gICAgICogQHBhcmFtIHRhcmdldElEIFRoZSBJRCBvZiB0aGUgV29ya2VyIHRvIHdoaWNoIHRvIHNlbmQgdGhpcyBtZXNzYWdlLiBPbWl0IHRvIGFsbG93IHRoZSBkaXNwYXRjaGVyIHRvIGNob29zZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgSUQgb2YgdGhlIHdvcmtlciB0byB3aGljaCB0aGUgbWVzc2FnZSB3YXMgc2VudC5cbiAgICAgKi9cbiAgICBzZW5kKHR5cGU6IHN0cmluZywgZGF0YTogbWl4ZWQsIGNhbGxiYWNrPzogP0Z1bmN0aW9uLCB0YXJnZXRJRD86IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0SUQgIT09ICdudW1iZXInIHx8IGlzTmFOKHRhcmdldElEKSkge1xuICAgICAgICAgICAgLy8gVXNlIHJvdW5kIHJvYmluIHRvIHNlbmQgcmVxdWVzdHMgdG8gd2ViIHdvcmtlcnMuXG4gICAgICAgICAgICB0YXJnZXRJRCA9IHRoaXMuY3VycmVudEFjdG9yID0gKHRoaXMuY3VycmVudEFjdG9yICsgMSkgJSB0aGlzLmFjdG9ycy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdG9yc1t0YXJnZXRJRF0uc2VuZCh0eXBlLCBkYXRhLCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0YXJnZXRJRDtcbiAgICB9XG5cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuYWN0b3JzLmZvckVhY2goKGFjdG9yKSA9PiB7IGFjdG9yLnJlbW92ZSgpOyB9KTtcbiAgICAgICAgdGhpcy5hY3RvcnMgPSBbXTtcbiAgICAgICAgdGhpcy53b3JrZXJQb29sLnJlbGVhc2UodGhpcy5pZCk7XG4gICAgfVxufVxuXG5EaXNwYXRjaGVyLkFjdG9yID0gQWN0b3I7XG5cbmV4cG9ydCBkZWZhdWx0IERpc3BhdGNoZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCBMbmdMYXRCb3VuZHMgZnJvbSAnLi9sbmdfbGF0X2JvdW5kcyc7XG5cbi8qKlxuICogQSBgTG5nTGF0YCBvYmplY3QgcmVwcmVzZW50cyBhIGdpdmVuIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgY29vcmRpbmF0ZSwgbWVhc3VyZWQgaW4gZGVncmVlcy5cbiAqXG4gKiBNYXBib3ggR0wgdXNlcyBsb25naXR1ZGUsIGxhdGl0dWRlIGNvb3JkaW5hdGUgb3JkZXIgKGFzIG9wcG9zZWQgdG8gbGF0aXR1ZGUsIGxvbmdpdHVkZSkgdG8gbWF0Y2ggR2VvSlNPTi5cbiAqXG4gKiBOb3RlIHRoYXQgYW55IE1hcGJveCBHTCBtZXRob2QgdGhhdCBhY2NlcHRzIGEgYExuZ0xhdGAgb2JqZWN0IGFzIGFuIGFyZ3VtZW50IG9yIG9wdGlvblxuICogY2FuIGFsc28gYWNjZXB0IGFuIGBBcnJheWAgb2YgdHdvIG51bWJlcnMgYW5kIHdpbGwgcGVyZm9ybSBhbiBpbXBsaWNpdCBjb252ZXJzaW9uLlxuICogVGhpcyBmbGV4aWJsZSB0eXBlIGlzIGRvY3VtZW50ZWQgYXMge0BsaW5rIExuZ0xhdExpa2V9LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBsbmcgTG9uZ2l0dWRlLCBtZWFzdXJlZCBpbiBkZWdyZWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IGxhdCBMYXRpdHVkZSwgbWVhc3VyZWQgaW4gZGVncmVlcy5cbiAqIEBleGFtcGxlXG4gKiB2YXIgbGwgPSBuZXcgbWFwYm94Z2wuTG5nTGF0KC03My45NzQ5LCA0MC43NzM2KTtcbiAqIEBzZWUgW0dldCBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tb3VzZS1wb3NpdGlvbi8pXG4gKiBAc2VlIFtEaXNwbGF5IGEgcG9wdXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAvKVxuICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91c2luZy1ib3gtcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAqIEBzZWUgW0NyZWF0ZSBhIHRpbWVsaW5lIGFuaW1hdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90aW1lbGluZS1hbmltYXRpb24vKVxuICovXG5jbGFzcyBMbmdMYXQge1xuICAgIGxuZzogbnVtYmVyO1xuICAgIGxhdDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IobG5nOiBudW1iZXIsIGxhdDogbnVtYmVyKSB7XG4gICAgICAgIGlmIChpc05hTihsbmcpIHx8IGlzTmFOKGxhdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBMbmdMYXQgb2JqZWN0OiAoJHtsbmd9LCAke2xhdH0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sbmcgPSArbG5nO1xuICAgICAgICB0aGlzLmxhdCA9ICtsYXQ7XG4gICAgICAgIGlmICh0aGlzLmxhdCA+IDkwIHx8IHRoaXMubGF0IDwgLTkwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgTG5nTGF0IGxhdGl0dWRlIHZhbHVlOiBtdXN0IGJlIGJldHdlZW4gLTkwIGFuZCA5MCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBgTG5nTGF0YCBvYmplY3Qgd2hvc2UgbG9uZ2l0dWRlIGlzIHdyYXBwZWQgdG8gdGhlIHJhbmdlICgtMTgwLCAxODApLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIHdyYXBwZWQgYExuZ0xhdGAgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsID0gbmV3IG1hcGJveGdsLkxuZ0xhdCgyODYuMDI1MSwgNDAuNzczNik7XG4gICAgICogdmFyIHdyYXBwZWQgPSBsbC53cmFwKCk7XG4gICAgICogd3JhcHBlZC5sbmc7IC8vID0gLTczLjk3NDlcbiAgICAgKi9cbiAgICB3cmFwKCkge1xuICAgICAgICByZXR1cm4gbmV3IExuZ0xhdCh3cmFwKHRoaXMubG5nLCAtMTgwLCAxODApLCB0aGlzLmxhdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZXMgcmVwcmVzZW50ZWQgYXMgYW4gYXJyYXkgb2YgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8bnVtYmVyPn0gVGhlIGNvb3JkaW5hdGVzIHJlcHJlc2V0ZWQgYXMgYW4gYXJyYXkgb2YgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBsbCA9IG5ldyBtYXBib3hnbC5MbmdMYXQoLTczLjk3NDksIDQwLjc3MzYpO1xuICAgICAqIGxsLnRvQXJyYXkoKTsgLy8gPSBbLTczLjk3NDksIDQwLjc3MzZdXG4gICAgICovXG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmxuZywgdGhpcy5sYXRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvb3JkaW5hdGVzIHJlcHJlc2VudCBhcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb29yZGluYXRlcyByZXByZXNlbnRlZCBhcyBhIHN0cmluZyBvZiB0aGUgZm9ybWF0IGAnTG5nTGF0KGxuZywgbGF0KSdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsID0gbmV3IG1hcGJveGdsLkxuZ0xhdCgtNzMuOTc0OSwgNDAuNzczNik7XG4gICAgICogbGwudG9TdHJpbmcoKTsgLy8gPSBcIkxuZ0xhdCgtNzMuOTc0OSwgNDAuNzczNilcIlxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYExuZ0xhdCgke3RoaXMubG5nfSwgJHt0aGlzLmxhdH0pYDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgYExuZ0xhdEJvdW5kc2AgZnJvbSB0aGUgY29vcmRpbmF0ZXMgZXh0ZW5kZWQgYnkgYSBnaXZlbiBgcmFkaXVzYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgRGlzdGFuY2UgaW4gbWV0ZXJzIGZyb20gdGhlIGNvb3JkaW5hdGVzIHRvIGV4dGVuZCB0aGUgYm91bmRzLlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXRCb3VuZHN9IEEgbmV3IGBMbmdMYXRCb3VuZHNgIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGNvb3JkaW5hdGVzIGV4dGVuZGVkIGJ5IHRoZSBgcmFkaXVzYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBsbCA9IG5ldyBtYXBib3hnbC5MbmdMYXQoLTczLjk3NDksIDQwLjc3MzYpO1xuICAgICAqIGxsLnRvQm91bmRzKDEwMCkudG9BcnJheSgpOyAvLyA9IFtbLTczLjk3NTAxODYyMTQxMzI4LCA0MC43NzM1MTAxNjg0NzIyOV0sIFstNzMuOTc0NzgxMzc4NTg2NzMsIDQwLjc3MzY4OTgzMTUyNzcxXV1cbiAgICAgKi9cbiAgICB0b0JvdW5kcyhyYWRpdXM6IG51bWJlcikge1xuICAgICAgICBjb25zdCBlYXJ0aENpcmN1bWZlcmVuY2VJbk1ldGVyc0F0RXF1YXRvciA9IDQwMDc1MDE3O1xuICAgICAgICBjb25zdCBsYXRBY2N1cmFjeSA9IDM2MCAqIHJhZGl1cyAvIGVhcnRoQ2lyY3VtZmVyZW5jZUluTWV0ZXJzQXRFcXVhdG9yLFxuICAgICAgICAgICAgbG5nQWNjdXJhY3kgPSBsYXRBY2N1cmFjeSAvIE1hdGguY29zKChNYXRoLlBJIC8gMTgwKSAqIHRoaXMubGF0KTtcblxuICAgICAgICByZXR1cm4gbmV3IExuZ0xhdEJvdW5kcyhuZXcgTG5nTGF0KHRoaXMubG5nIC0gbG5nQWNjdXJhY3ksIHRoaXMubGF0IC0gbGF0QWNjdXJhY3kpLFxuICAgICAgICAgICAgbmV3IExuZ0xhdCh0aGlzLmxuZyArIGxuZ0FjY3VyYWN5LCB0aGlzLmxhdCArIGxhdEFjY3VyYWN5KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYW4gYXJyYXkgb2YgdHdvIG51bWJlcnMgdG8gYSBgTG5nTGF0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJZiBhIGBMbmdMYXRgIG9iamVjdCBpcyBwYXNzZWQgaW4sIHRoZSBmdW5jdGlvbiByZXR1cm5zIGl0IHVuY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gaW5wdXQgQW4gYXJyYXkgb2YgdHdvIG51bWJlcnMgdG8gY29udmVydCwgb3IgYSBgTG5nTGF0YCBvYmplY3QgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IEEgbmV3IGBMbmdMYXRgIG9iamVjdCwgaWYgYSBjb252ZXJzaW9uIG9jY3VycmVkLCBvciB0aGUgb3JpZ2luYWwgYExuZ0xhdGAgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGFyciA9IFstNzMuOTc0OSwgNDAuNzczNl07XG4gICAgICogdmFyIGxsID0gbWFwYm94Z2wuTG5nTGF0LmNvbnZlcnQoYXJyKTtcbiAgICAgKiBsbDsgICAvLyA9IExuZ0xhdCB7bG5nOiAtNzMuOTc0OSwgbGF0OiA0MC43NzM2fVxuICAgICAqL1xuICAgIHN0YXRpYyBjb252ZXJ0KGlucHV0OiBMbmdMYXRMaWtlKTogTG5nTGF0IHtcbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgTG5nTGF0KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpICYmIChpbnB1dC5sZW5ndGggPT09IDIgfHwgaW5wdXQubGVuZ3RoID09PSAzKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMbmdMYXQoTnVtYmVyKGlucHV0WzBdKSwgTnVtYmVyKGlucHV0WzFdKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSAmJiB0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIGlucHV0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExuZ0xhdChOdW1iZXIoaW5wdXQubG5nKSwgTnVtYmVyKGlucHV0LmxhdCkpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImBMbmdMYXRMaWtlYCBhcmd1bWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIExuZ0xhdCBpbnN0YW5jZSwgYW4gb2JqZWN0IHtsbmc6IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgb3IgYW4gYXJyYXkgb2YgWzxsbmc+LCA8bGF0Pl1cIik7XG4gICAgfVxufVxuXG4vKipcbiAqIEEge0BsaW5rIExuZ0xhdH0gb2JqZWN0LCBhbiBhcnJheSBvZiB0d28gbnVtYmVycyByZXByZXNlbnRpbmcgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSxcbiAqIG9yIGFuIG9iamVjdCB3aXRoIGBsbmdgIGFuZCBgbGF0YCBwcm9wZXJ0aWVzLlxuICpcbiAqIEB0eXBlZGVmIHtMbmdMYXQgfCB7bG5nOiBudW1iZXIsIGxhdDogbnVtYmVyfSB8IFtudW1iZXIsIG51bWJlcl19IExuZ0xhdExpa2VcbiAqIEBleGFtcGxlXG4gKiB2YXIgdjEgPSBuZXcgbWFwYm94Z2wuTG5nTGF0KC0xMjIuNDIwNjc5LCAzNy43NzI1MzcpO1xuICogdmFyIHYyID0gWy0xMjIuNDIwNjc5LCAzNy43NzI1MzddO1xuICovXG5leHBvcnQgdHlwZSBMbmdMYXRMaWtlID0gTG5nTGF0IHwge2xuZzogbnVtYmVyLCBsYXQ6IG51bWJlcn0gfCBbbnVtYmVyLCBudW1iZXJdO1xuXG5leHBvcnQgZGVmYXVsdCBMbmdMYXQ7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTG5nTGF0IGZyb20gJy4vbG5nX2xhdCc7XG5cbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tICcuL2xuZ19sYXQnO1xuXG4vKipcbiAqIEEgYExuZ0xhdEJvdW5kc2Agb2JqZWN0IHJlcHJlc2VudHMgYSBnZW9ncmFwaGljYWwgYm91bmRpbmcgYm94LFxuICogZGVmaW5lZCBieSBpdHMgc291dGh3ZXN0IGFuZCBub3J0aGVhc3QgcG9pbnRzIGluIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUuXG4gKlxuICogSWYgbm8gYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byB0aGUgY29uc3RydWN0b3IsIGEgYG51bGxgIGJvdW5kaW5nIGJveCBpcyBjcmVhdGVkLlxuICpcbiAqIE5vdGUgdGhhdCBhbnkgTWFwYm94IEdMIG1ldGhvZCB0aGF0IGFjY2VwdHMgYSBgTG5nTGF0Qm91bmRzYCBvYmplY3QgYXMgYW4gYXJndW1lbnQgb3Igb3B0aW9uXG4gKiBjYW4gYWxzbyBhY2NlcHQgYW4gYEFycmF5YCBvZiB0d28ge0BsaW5rIExuZ0xhdExpa2V9IGNvbnN0cnVjdHMgYW5kIHdpbGwgcGVyZm9ybSBhbiBpbXBsaWNpdCBjb252ZXJzaW9uLlxuICogVGhpcyBmbGV4aWJsZSB0eXBlIGlzIGRvY3VtZW50ZWQgYXMge0BsaW5rIExuZ0xhdEJvdW5kc0xpa2V9LlxuICpcbiAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gW3N3XSBUaGUgc291dGh3ZXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94LlxuICogQHBhcmFtIHtMbmdMYXRMaWtlfSBbbmVdIFRoZSBub3J0aGVhc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gKiBAZXhhbXBsZVxuICogdmFyIHN3ID0gbmV3IG1hcGJveGdsLkxuZ0xhdCgtNzMuOTg3NiwgNDAuNzY2MSk7XG4gKiB2YXIgbmUgPSBuZXcgbWFwYm94Z2wuTG5nTGF0KC03My45Mzk3LCA0MC44MDAyKTtcbiAqIHZhciBsbGIgPSBuZXcgbWFwYm94Z2wuTG5nTGF0Qm91bmRzKHN3LCBuZSk7XG4gKi9cbmNsYXNzIExuZ0xhdEJvdW5kcyB7XG4gICAgX25lOiBMbmdMYXQ7XG4gICAgX3N3OiBMbmdMYXQ7XG5cbiAgICAvLyBUaGlzIGNvbnN0cnVjdG9yIGlzIHRvbyBmbGV4aWJsZSB0byB0eXBlLiBJdCBzaG91bGQgbm90IGJlIHNvIGZsZXhpYmxlLlxuICAgIGNvbnN0cnVjdG9yKHN3OiBhbnksIG5lOiBhbnkpIHtcbiAgICAgICAgaWYgKCFzdykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKG5lKSB7XG4gICAgICAgICAgICB0aGlzLnNldFNvdXRoV2VzdChzdykuc2V0Tm9ydGhFYXN0KG5lKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdy5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U291dGhXZXN0KFtzd1swXSwgc3dbMV1dKS5zZXROb3J0aEVhc3QoW3N3WzJdLCBzd1szXV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRTb3V0aFdlc3Qoc3dbMF0pLnNldE5vcnRoRWFzdChzd1sxXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG5vcnRoZWFzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveFxuICAgICAqXG4gICAgICogQHBhcmFtIHtMbmdMYXRMaWtlfSBuZVxuICAgICAqIEByZXR1cm5zIHtMbmdMYXRCb3VuZHN9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldE5vcnRoRWFzdChuZTogTG5nTGF0TGlrZSkge1xuICAgICAgICB0aGlzLl9uZSA9IG5lIGluc3RhbmNlb2YgTG5nTGF0ID8gbmV3IExuZ0xhdChuZS5sbmcsIG5lLmxhdCkgOiBMbmdMYXQuY29udmVydChuZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc291dGh3ZXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdExpa2V9IHN3XG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kc30gYHRoaXNgXG4gICAgICovXG4gICAgc2V0U291dGhXZXN0KHN3OiBMbmdMYXRMaWtlKSB7XG4gICAgICAgIHRoaXMuX3N3ID0gc3cgaW5zdGFuY2VvZiBMbmdMYXQgPyBuZXcgTG5nTGF0KHN3LmxuZywgc3cubGF0KSA6IExuZ0xhdC5jb252ZXJ0KHN3KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0ZW5kIHRoZSBib3VuZHMgdG8gaW5jbHVkZSBhIGdpdmVuIExuZ0xhdCBvciBMbmdMYXRCb3VuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdHxMbmdMYXRCb3VuZHN9IG9iaiBvYmplY3QgdG8gZXh0ZW5kIHRvXG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kc30gYHRoaXNgXG4gICAgICovXG4gICAgZXh0ZW5kKG9iajogTG5nTGF0IHwgTG5nTGF0Qm91bmRzKSB7XG4gICAgICAgIGNvbnN0IHN3ID0gdGhpcy5fc3csXG4gICAgICAgICAgICBuZSA9IHRoaXMuX25lO1xuICAgICAgICBsZXQgc3cyLCBuZTI7XG5cbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIExuZ0xhdCkge1xuICAgICAgICAgICAgc3cyID0gb2JqO1xuICAgICAgICAgICAgbmUyID0gb2JqO1xuXG4gICAgICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgTG5nTGF0Qm91bmRzKSB7XG4gICAgICAgICAgICBzdzIgPSBvYmouX3N3O1xuICAgICAgICAgICAgbmUyID0gb2JqLl9uZTtcblxuICAgICAgICAgICAgaWYgKCFzdzIgfHwgIW5lMikgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqLmV2ZXJ5KEFycmF5LmlzQXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuZChMbmdMYXRCb3VuZHMuY29udmVydChvYmopKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbmQoTG5nTGF0LmNvbnZlcnQob2JqKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN3ICYmICFuZSkge1xuICAgICAgICAgICAgdGhpcy5fc3cgPSBuZXcgTG5nTGF0KHN3Mi5sbmcsIHN3Mi5sYXQpO1xuICAgICAgICAgICAgdGhpcy5fbmUgPSBuZXcgTG5nTGF0KG5lMi5sbmcsIG5lMi5sYXQpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdy5sbmcgPSBNYXRoLm1pbihzdzIubG5nLCBzdy5sbmcpO1xuICAgICAgICAgICAgc3cubGF0ID0gTWF0aC5taW4oc3cyLmxhdCwgc3cubGF0KTtcbiAgICAgICAgICAgIG5lLmxuZyA9IE1hdGgubWF4KG5lMi5sbmcsIG5lLmxuZyk7XG4gICAgICAgICAgICBuZS5sYXQgPSBNYXRoLm1heChuZTIubGF0LCBuZS5sYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUgZXF1aWRpc3RhbnQgZnJvbSB0aGUgYm91bmRpbmcgYm94J3MgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IFRoZSBib3VuZGluZyBib3gncyBjZW50ZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgbGxiID0gbmV3IG1hcGJveGdsLkxuZ0xhdEJvdW5kcyhbLTczLjk4NzYsIDQwLjc2NjFdLCBbLTczLjkzOTcsIDQwLjgwMDJdKTtcbiAgICAgKiBsbGIuZ2V0Q2VudGVyKCk7IC8vID0gTG5nTGF0IHtsbmc6IC03My45NjM2NSwgbGF0OiA0MC43ODMxNX1cbiAgICAgKi9cbiAgICBnZXRDZW50ZXIoKTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBMbmdMYXQoKHRoaXMuX3N3LmxuZyArIHRoaXMuX25lLmxuZykgLyAyLCAodGhpcy5fc3cubGF0ICsgdGhpcy5fbmUubGF0KSAvIDIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNvdXRod2VzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IFRoZSBzb3V0aHdlc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgICovXG4gICAgZ2V0U291dGhXZXN0KCk6IExuZ0xhdCB7IHJldHVybiB0aGlzLl9zdzsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBub3J0aGVhc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIG5vcnRoZWFzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXROb3J0aEVhc3QoKTogTG5nTGF0IHsgcmV0dXJuIHRoaXMuX25lOyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIG5vcnRod2VzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7TG5nTGF0fSBUaGUgbm9ydGh3ZXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqL1xuICAgIGdldE5vcnRoV2VzdCgpOiBMbmdMYXQgeyByZXR1cm4gbmV3IExuZ0xhdCh0aGlzLmdldFdlc3QoKSwgdGhpcy5nZXROb3J0aCgpKTsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBzb3V0aGVhc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIHNvdXRoZWFzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXRTb3V0aEVhc3QoKTogTG5nTGF0IHsgcmV0dXJuIG5ldyBMbmdMYXQodGhpcy5nZXRFYXN0KCksIHRoaXMuZ2V0U291dGgoKSk7IH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgd2VzdCBlZGdlIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge251bWJlcn0gVGhlIHdlc3QgZWRnZSBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqL1xuICAgIGdldFdlc3QoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3N3LmxuZzsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBzb3V0aCBlZGdlIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge251bWJlcn0gVGhlIHNvdXRoIGVkZ2Ugb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXRTb3V0aCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fc3cubGF0OyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIGVhc3QgZWRnZSBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICpcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBlYXN0IGVkZ2Ugb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXRFYXN0KCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9uZS5sbmc7IH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgbm9ydGggZWRnZSBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICpcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBub3J0aCBlZGdlIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgICovXG4gICAgZ2V0Tm9ydGgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX25lLmxhdDsgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYm91bmRpbmcgYm94IHJlcHJlc2VudGVkIGFzIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5PEFycmF5PG51bWJlcj4+fSBUaGUgYm91bmRpbmcgYm94IHJlcHJlc2VudGVkIGFzIGFuIGFycmF5LCBjb25zaXN0aW5nIG9mIHRoZVxuICAgICAqICAgc291dGh3ZXN0IGFuZCBub3J0aGVhc3QgY29vcmRpbmF0ZXMgb2YgdGhlIGJvdW5kaW5nIHJlcHJlc2VudGVkIGFzIGFycmF5cyBvZiBudW1iZXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsYiA9IG5ldyBtYXBib3hnbC5MbmdMYXRCb3VuZHMoWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXSk7XG4gICAgICogbGxiLnRvQXJyYXkoKTsgLy8gPSBbWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXV1cbiAgICAgKi9cbiAgICB0b0FycmF5KCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuX3N3LnRvQXJyYXkoKSwgdGhpcy5fbmUudG9BcnJheSgpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGJvdW5kaW5nIGJveCByZXByZXNlbnRlZCBhcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBib3VuZGluZyBib3ggcmVwcmVzZW50cyBhcyBhIHN0cmluZyBvZiB0aGUgZm9ybWF0XG4gICAgICogICBgJ0xuZ0xhdEJvdW5kcyhMbmdMYXQobG5nLCBsYXQpLCBMbmdMYXQobG5nLCBsYXQpKSdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsYiA9IG5ldyBtYXBib3hnbC5MbmdMYXRCb3VuZHMoWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXSk7XG4gICAgICogbGxiLnRvU3RyaW5nKCk7IC8vID0gXCJMbmdMYXRCb3VuZHMoTG5nTGF0KC03My45ODc2LCA0MC43NjYxKSwgTG5nTGF0KC03My45Mzk3LCA0MC44MDAyKSlcIlxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYExuZ0xhdEJvdW5kcygke3RoaXMuX3N3LnRvU3RyaW5nKCl9LCAke3RoaXMuX25lLnRvU3RyaW5nKCl9KWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIGJveCBpcyBhbiBlbXB0eS9gbnVsbGAtdHlwZSBib3guXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBib3VuZHMgaGF2ZSBiZWVuIGRlZmluZWQsIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gISh0aGlzLl9zdyAmJiB0aGlzLl9uZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYW4gYXJyYXkgdG8gYSBgTG5nTGF0Qm91bmRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJZiBhIGBMbmdMYXRCb3VuZHNgIG9iamVjdCBpcyBwYXNzZWQgaW4sIHRoZSBmdW5jdGlvbiByZXR1cm5zIGl0IHVuY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEludGVybmFsbHksIHRoZSBmdW5jdGlvbiBjYWxscyBgTG5nTGF0I2NvbnZlcnRgIHRvIGNvbnZlcnQgYXJyYXlzIHRvIGBMbmdMYXRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0Qm91bmRzTGlrZX0gaW5wdXQgQW4gYXJyYXkgb2YgdHdvIGNvb3JkaW5hdGVzIHRvIGNvbnZlcnQsIG9yIGEgYExuZ0xhdEJvdW5kc2Agb2JqZWN0IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0Qm91bmRzfSBBIG5ldyBgTG5nTGF0Qm91bmRzYCBvYmplY3QsIGlmIGEgY29udmVyc2lvbiBvY2N1cnJlZCwgb3IgdGhlIG9yaWdpbmFsIGBMbmdMYXRCb3VuZHNgIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBhcnIgPSBbWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXV07XG4gICAgICogdmFyIGxsYiA9IG1hcGJveGdsLkxuZ0xhdEJvdW5kcy5jb252ZXJ0KGFycik7XG4gICAgICogbGxiOyAgIC8vID0gTG5nTGF0Qm91bmRzIHtfc3c6IExuZ0xhdCB7bG5nOiAtNzMuOTg3NiwgbGF0OiA0MC43NjYxfSwgX25lOiBMbmdMYXQge2xuZzogLTczLjkzOTcsIGxhdDogNDAuODAwMn19XG4gICAgICovXG4gICAgc3RhdGljIGNvbnZlcnQoaW5wdXQ6IExuZ0xhdEJvdW5kc0xpa2UpOiBMbmdMYXRCb3VuZHMge1xuICAgICAgICBpZiAoIWlucHV0IHx8IGlucHV0IGluc3RhbmNlb2YgTG5nTGF0Qm91bmRzKSByZXR1cm4gaW5wdXQ7XG4gICAgICAgIHJldHVybiBuZXcgTG5nTGF0Qm91bmRzKGlucHV0KTtcbiAgICB9XG59XG5cbi8qKlxuICogQSB7QGxpbmsgTG5nTGF0Qm91bmRzfSBvYmplY3QsIGFuIGFycmF5IG9mIHtAbGluayBMbmdMYXRMaWtlfSBvYmplY3RzIGluIFtzdywgbmVdIG9yZGVyLFxuICogb3IgYW4gYXJyYXkgb2YgbnVtYmVycyBpbiBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBvcmRlci5cbiAqXG4gKiBAdHlwZWRlZiB7TG5nTGF0Qm91bmRzIHwgW0xuZ0xhdExpa2UsIExuZ0xhdExpa2VdIHwgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl19IExuZ0xhdEJvdW5kc0xpa2VcbiAqIEBleGFtcGxlXG4gKiB2YXIgdjEgPSBuZXcgbWFwYm94Z2wuTG5nTGF0Qm91bmRzKFxuICogICBuZXcgbWFwYm94Z2wuTG5nTGF0KC03My45ODc2LCA0MC43NjYxKSxcbiAqICAgbmV3IG1hcGJveGdsLkxuZ0xhdCgtNzMuOTM5NywgNDAuODAwMilcbiAqICk7XG4gKiB2YXIgdjIgPSBuZXcgbWFwYm94Z2wuTG5nTGF0Qm91bmRzKFstNzMuOTg3NiwgNDAuNzY2MV0sIFstNzMuOTM5NywgNDAuODAwMl0pXG4gKiB2YXIgdjMgPSBbWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXV07XG4gKi9cbmV4cG9ydCB0eXBlIExuZ0xhdEJvdW5kc0xpa2UgPSBMbmdMYXRCb3VuZHMgfCBbTG5nTGF0TGlrZSwgTG5nTGF0TGlrZV0gfCBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcblxuZXhwb3J0IGRlZmF1bHQgTG5nTGF0Qm91bmRzO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuLi9nZW8vbG5nX2xhdF9ib3VuZHMnO1xuXG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIHtDYW5vbmljYWxUaWxlSUR9IGZyb20gJy4vdGlsZV9pZCc7XG5cbmNsYXNzIFRpbGVCb3VuZHMge1xuICAgIGJvdW5kczogTG5nTGF0Qm91bmRzO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihib3VuZHM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLCBtaW56b29tOiA/bnVtYmVyLCBtYXh6b29tOiA/bnVtYmVyKSB7XG4gICAgICAgIHRoaXMuYm91bmRzID0gTG5nTGF0Qm91bmRzLmNvbnZlcnQodGhpcy52YWxpZGF0ZUJvdW5kcyhib3VuZHMpKTtcbiAgICAgICAgdGhpcy5taW56b29tID0gbWluem9vbSB8fCAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSBtYXh6b29tIHx8IDI0O1xuICAgIH1cblxuICAgIHZhbGlkYXRlQm91bmRzKGJvdW5kczogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBib3VuZHMgcHJvcGVydHkgY29udGFpbnMgdmFsaWQgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZXNcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGJvdW5kcykgfHwgYm91bmRzLmxlbmd0aCAhPT0gNCkgcmV0dXJuIFstMTgwLCAtOTAsIDE4MCwgOTBdO1xuICAgICAgICByZXR1cm4gW01hdGgubWF4KC0xODAsIGJvdW5kc1swXSksIE1hdGgubWF4KC05MCwgYm91bmRzWzFdKSwgTWF0aC5taW4oMTgwLCBib3VuZHNbMl0pLCBNYXRoLm1pbig5MCwgYm91bmRzWzNdKV07XG4gICAgfVxuXG4gICAgY29udGFpbnModGlsZUlEOiBDYW5vbmljYWxUaWxlSUQpIHtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSB7XG4gICAgICAgICAgICBtaW5YOiBNYXRoLmZsb29yKHRoaXMubG5nWCh0aGlzLmJvdW5kcy5nZXRXZXN0KCksIHRpbGVJRC56KSksXG4gICAgICAgICAgICBtaW5ZOiBNYXRoLmZsb29yKHRoaXMubGF0WSh0aGlzLmJvdW5kcy5nZXROb3J0aCgpLCB0aWxlSUQueikpLFxuICAgICAgICAgICAgbWF4WDogTWF0aC5jZWlsKHRoaXMubG5nWCh0aGlzLmJvdW5kcy5nZXRFYXN0KCksIHRpbGVJRC56KSksXG4gICAgICAgICAgICBtYXhZOiBNYXRoLmNlaWwodGhpcy5sYXRZKHRoaXMuYm91bmRzLmdldFNvdXRoKCksIHRpbGVJRC56KSlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGl0ID0gdGlsZUlELnggPj0gbGV2ZWwubWluWCAmJiB0aWxlSUQueCA8IGxldmVsLm1heFggJiYgdGlsZUlELnkgPj0gbGV2ZWwubWluWSAmJiB0aWxlSUQueSA8IGxldmVsLm1heFk7XG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfVxuXG4gICAgbG5nWChsbmc6IG51bWJlciwgem9vbTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiAobG5nICsgMTgwKSAqIChNYXRoLnBvdygyLCB6b29tKSAvIDM2MCk7XG4gICAgfVxuXG4gICAgbGF0WShsYXQ6IG51bWJlciwgem9vbTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGYgPSBjbGFtcChNYXRoLnNpbihNYXRoLlBJIC8gMTgwICogbGF0KSwgLTAuOTk5OSwgMC45OTk5KTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLnBvdygyLCB6b29tKSAvICgyICogTWF0aC5QSSk7XG4gICAgICAgIHJldHVybiBNYXRoLnBvdygyLCB6b29tIC0gMSkgKyAwLjUgKiBNYXRoLmxvZygoMSArIGYpIC8gKDEgLSBmKSkgKiAtc2NhbGU7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlQm91bmRzO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgRXZlbnQsIEVycm9yRXZlbnQsIEV2ZW50ZWQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuXG5pbXBvcnQgeyBleHRlbmQsIHBpY2sgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IGxvYWRUaWxlSlNPTiBmcm9tICcuL2xvYWRfdGlsZWpzb24nO1xuaW1wb3J0IHsgbm9ybWFsaXplVGlsZVVSTCBhcyBub3JtYWxpemVVUkwgfSBmcm9tICcuLi91dGlsL21hcGJveCc7XG5pbXBvcnQgVGlsZUJvdW5kcyBmcm9tICcuL3RpbGVfYm91bmRzJztcbmltcG9ydCB7IFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlfSBmcm9tICcuL3NvdXJjZSc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5cbmNsYXNzIFZlY3RvclRpbGVTb3VyY2UgZXh0ZW5kcyBFdmVudGVkIGltcGxlbWVudHMgU291cmNlIHtcbiAgICB0eXBlOiAndmVjdG9yJztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgc2NoZW1lOiBzdHJpbmc7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcblxuICAgIF9vcHRpb25zOiBWZWN0b3JTb3VyY2VTcGVjaWZpY2F0aW9uO1xuICAgIF9jb2xsZWN0UmVzb3VyY2VUaW1pbmc6IGJvb2xlYW47XG4gICAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgICBtYXA6IE1hcDtcbiAgICBib3VuZHM6ID9bbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcbiAgICB0aWxlczogQXJyYXk8c3RyaW5nPjtcbiAgICB0aWxlQm91bmRzOiBUaWxlQm91bmRzO1xuICAgIHJlcGFyc2VPdmVyc2NhbGVkOiBib29sZWFuO1xuICAgIGlzVGlsZUNsaXBwZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBWZWN0b3JTb3VyY2VTcGVjaWZpY2F0aW9uICYge2NvbGxlY3RSZXNvdXJjZVRpbWluZzogYm9vbGVhbn0sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuXG4gICAgICAgIHRoaXMudHlwZSA9ICd2ZWN0b3InO1xuICAgICAgICB0aGlzLm1pbnpvb20gPSAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5zY2hlbWUgPSAneHl6JztcbiAgICAgICAgdGhpcy50aWxlU2l6ZSA9IDUxMjtcbiAgICAgICAgdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNUaWxlQ2xpcHBlZCA9IHRydWU7XG5cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHBpY2sob3B0aW9ucywgWyd1cmwnLCAnc2NoZW1lJywgJ3RpbGVTaXplJ10pKTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGV4dGVuZCh7IHR5cGU6ICd2ZWN0b3InIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyA9IG9wdGlvbnMuY29sbGVjdFJlc291cmNlVGltaW5nO1xuXG4gICAgICAgIGlmICh0aGlzLnRpbGVTaXplICE9PSA1MTIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndmVjdG9yIHRpbGUgc291cmNlcyBtdXN0IGhhdmUgYSB0aWxlU2l6ZSBvZiA1MTInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0RXZlbnRlZFBhcmVudChldmVudGVkUGFyZW50KTtcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG5cbiAgICAgICAgbG9hZFRpbGVKU09OKHRoaXMuX29wdGlvbnMsIHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0LCAoZXJyLCB0aWxlSlNPTikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGlsZUpTT04pIHtcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgdGlsZUpTT04pO1xuICAgICAgICAgICAgICAgIGlmICh0aWxlSlNPTi5ib3VuZHMpIHRoaXMudGlsZUJvdW5kcyA9IG5ldyBUaWxlQm91bmRzKHRpbGVKU09OLmJvdW5kcywgdGhpcy5taW56b29tLCB0aGlzLm1heHpvb20pO1xuXG4gICAgICAgICAgICAgICAgLy8gYGNvbnRlbnRgIGlzIGluY2x1ZGVkIGhlcmUgdG8gcHJldmVudCBhIHJhY2UgY29uZGl0aW9uIHdoZXJlIGBTdHlsZSNfdXBkYXRlU291cmNlc2AgaXMgY2FsbGVkXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIHRoZSBUaWxlSlNPTiBhcnJpdmVzLiB0aGlzIG1ha2VzIHN1cmUgdGhlIHRpbGVzIG5lZWRlZCBhcmUgbG9hZGVkIG9uY2UgVGlsZUpTT04gYXJyaXZlc1xuICAgICAgICAgICAgICAgIC8vIHJlZjogaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvcHVsbC80MzQ3I2Rpc2N1c3Npb25fcjEwNDQxODA4OFxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ30pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50J30pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFzVGlsZSh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLnRpbGVCb3VuZHMgfHwgdGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKHRpbGVJRC5jYW5vbmljYWwpO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIHRoaXMuX29wdGlvbnMpO1xuICAgIH1cblxuICAgIGxvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICBjb25zdCBvdmVyc2NhbGluZyA9IHRpbGUudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpO1xuICAgICAgICBjb25zdCB1cmwgPSBub3JtYWxpemVVUkwodGlsZS50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLCB0aGlzLnNjaGVtZSksIHRoaXMudXJsKTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgcmVxdWVzdDogdGhpcy5tYXAuX3RyYW5zZm9ybVJlcXVlc3QodXJsLCBSZXNvdXJjZVR5cGUuVGlsZSksXG4gICAgICAgICAgICB1aWQ6IHRpbGUudWlkLFxuICAgICAgICAgICAgdGlsZUlEOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgIHpvb206IHRpbGUudGlsZUlELm92ZXJzY2FsZWRaLFxuICAgICAgICAgICAgdGlsZVNpemU6IHRoaXMudGlsZVNpemUgKiBvdmVyc2NhbGluZyxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgIHBpeGVsUmF0aW86IGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIG92ZXJzY2FsaW5nOiBvdmVyc2NhbGluZyxcbiAgICAgICAgICAgIHNob3dDb2xsaXNpb25Cb3hlczogdGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzLFxuICAgICAgICB9O1xuICAgICAgICBwYXJhbXMucmVxdWVzdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcgPSB0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc7XG5cbiAgICAgICAgaWYgKHRpbGUud29ya2VySUQgPT09IHVuZGVmaW5lZCB8fCB0aWxlLnN0YXRlID09PSAnZXhwaXJlZCcpIHtcbiAgICAgICAgICAgIHRpbGUud29ya2VySUQgPSB0aGlzLmRpc3BhdGNoZXIuc2VuZCgnbG9hZFRpbGUnLCBwYXJhbXMsIGRvbmUuYmluZCh0aGlzKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGlsZS5zdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICAgICAgICAvLyBzY2hlZHVsZSB0aWxlIHJlbG9hZGluZyBhZnRlciBpdCBoYXMgYmVlbiBsb2FkZWRcbiAgICAgICAgICAgIHRpbGUucmVsb2FkQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zZW5kKCdyZWxvYWRUaWxlJywgcGFyYW1zLCBkb25lLmJpbmQodGhpcyksIHRpbGUud29ya2VySUQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZG9uZShlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmICh0aWxlLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuXG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEucmVzb3VyY2VUaW1pbmcpXG4gICAgICAgICAgICAgICAgdGlsZS5yZXNvdXJjZVRpbWluZyA9IGRhdGEucmVzb3VyY2VUaW1pbmc7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcykgdGlsZS5zZXRFeHBpcnlEYXRhKGRhdGEpO1xuICAgICAgICAgICAgdGlsZS5sb2FkVmVjdG9yRGF0YShkYXRhLCB0aGlzLm1hcC5wYWludGVyKTtcblxuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG5cbiAgICAgICAgICAgIGlmICh0aWxlLnJlbG9hZENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkVGlsZSh0aWxlLCB0aWxlLnJlbG9hZENhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB0aWxlLnJlbG9hZENhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFib3J0VGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zZW5kKCdhYm9ydFRpbGUnLCB7IHVpZDogdGlsZS51aWQsIHR5cGU6IHRoaXMudHlwZSwgc291cmNlOiB0aGlzLmlkIH0sIHVuZGVmaW5lZCwgdGlsZS53b3JrZXJJRCk7XG4gICAgfVxuXG4gICAgdW5sb2FkVGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIHRpbGUudW5sb2FkVmVjdG9yRGF0YSgpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuc2VuZCgncmVtb3ZlVGlsZScsIHsgdWlkOiB0aWxlLnVpZCwgdHlwZTogdGhpcy50eXBlLCBzb3VyY2U6IHRoaXMuaWQgfSwgdW5kZWZpbmVkLCB0aWxlLndvcmtlcklEKTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JUaWxlU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgZXh0ZW5kLCBwaWNrIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHsgZ2V0SW1hZ2UsIFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgeyBFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgbG9hZFRpbGVKU09OIGZyb20gJy4vbG9hZF90aWxlanNvbic7XG5pbXBvcnQgeyBub3JtYWxpemVUaWxlVVJMIGFzIG5vcm1hbGl6ZVVSTCB9IGZyb20gJy4uL3V0aWwvbWFwYm94JztcbmltcG9ydCBUaWxlQm91bmRzIGZyb20gJy4vdGlsZV9ib3VuZHMnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vcmVuZGVyL3RleHR1cmUnO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlfSBmcm9tICcuL3NvdXJjZSc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5cbmNsYXNzIFJhc3RlclRpbGVTb3VyY2UgZXh0ZW5kcyBFdmVudGVkIGltcGxlbWVudHMgU291cmNlIHtcbiAgICB0eXBlOiAncmFzdGVyJyB8ICdyYXN0ZXItZGVtJztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgc2NoZW1lOiBzdHJpbmc7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcblxuICAgIGJvdW5kczogP1tudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICAgIHRpbGVCb3VuZHM6IFRpbGVCb3VuZHM7XG4gICAgcm91bmRab29tOiBib29sZWFuO1xuICAgIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gICAgbWFwOiBNYXA7XG4gICAgdGlsZXM6IEFycmF5PHN0cmluZz47XG5cbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9vcHRpb25zOiBSYXN0ZXJTb3VyY2VTcGVjaWZpY2F0aW9uIHwgUmFzdGVyREVNU291cmNlU3BlY2lmaWNhdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IFJhc3RlclNvdXJjZVNwZWNpZmljYXRpb24gfCBSYXN0ZXJERU1Tb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcbiAgICAgICAgdGhpcy5zZXRFdmVudGVkUGFyZW50KGV2ZW50ZWRQYXJlbnQpO1xuXG4gICAgICAgIHRoaXMudHlwZSA9ICdyYXN0ZXInO1xuICAgICAgICB0aGlzLm1pbnpvb20gPSAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5yb3VuZFpvb20gPSB0cnVlO1xuICAgICAgICB0aGlzLnNjaGVtZSA9ICd4eXonO1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gNTEyO1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9vcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICAgICAgZXh0ZW5kKHRoaXMsIHBpY2sob3B0aW9ucywgWyd1cmwnLCAnc2NoZW1lJywgJ3RpbGVTaXplJ10pKTtcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIGxvYWRUaWxlSlNPTih0aGlzLl9vcHRpb25zLCB0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdCwgKGVyciwgdGlsZUpTT04pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRpbGVKU09OKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsIHRpbGVKU09OKTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZUpTT04uYm91bmRzKSB0aGlzLnRpbGVCb3VuZHMgPSBuZXcgVGlsZUJvdW5kcyh0aWxlSlNPTi5ib3VuZHMsIHRoaXMubWluem9vbSwgdGhpcy5tYXh6b29tKTtcblxuICAgICAgICAgICAgICAgIC8vIGBjb250ZW50YCBpcyBpbmNsdWRlZCBoZXJlIHRvIHByZXZlbnQgYSByYWNlIGNvbmRpdGlvbiB3aGVyZSBgU3R5bGUjX3VwZGF0ZVNvdXJjZXNgIGlzIGNhbGxlZFxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZSB0aGUgVGlsZUpTT04gYXJyaXZlcy4gdGhpcyBtYWtlcyBzdXJlIHRoZSB0aWxlcyBuZWVkZWQgYXJlIGxvYWRlZCBvbmNlIFRpbGVKU09OIGFycml2ZXNcbiAgICAgICAgICAgICAgICAvLyByZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL3B1bGwvNDM0NyNkaXNjdXNzaW9uX3IxMDQ0MTgwODhcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdtZXRhZGF0YSd9KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3NvdXJjZScsIHNvdXJjZURhdGFUeXBlOiAnY29udGVudCd9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIHRoaXMuX29wdGlvbnMpO1xuICAgIH1cblxuICAgIGhhc1RpbGUodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy50aWxlQm91bmRzIHx8IHRoaXMudGlsZUJvdW5kcy5jb250YWlucyh0aWxlSUQuY2Fub25pY2FsKTtcbiAgICB9XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgY29uc3QgdXJsID0gbm9ybWFsaXplVVJMKHRpbGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcywgdGhpcy5zY2hlbWUpLCB0aGlzLnVybCwgdGhpcy50aWxlU2l6ZSk7XG4gICAgICAgIHRpbGUucmVxdWVzdCA9IGdldEltYWdlKHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlRpbGUpLCAoZXJyLCBpbWcpID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aWxlLnJlcXVlc3Q7XG5cbiAgICAgICAgICAgIGlmICh0aWxlLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdlcnJvcmVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbWcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMpIHRpbGUuc2V0RXhwaXJ5RGF0YShpbWcpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAoaW1nOiBhbnkpLmNhY2hlQ29udHJvbDtcbiAgICAgICAgICAgICAgICBkZWxldGUgKGltZzogYW55KS5leHBpcmVzO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMubWFwLnBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gdGhpcy5tYXAucGFpbnRlci5nZXRUaWxlVGV4dHVyZShpbWcud2lkdGgpO1xuICAgICAgICAgICAgICAgIGlmICh0aWxlLnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFLCBnbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO1xuICAgICAgICAgICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGltZyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgaW1nLCBnbC5SR0JBKTtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFLCBnbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyZihnbC5URVhUVVJFXzJELCBjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCwgY29udGV4dC5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xuXG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdsb2FkZWQnO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFib3J0VGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgaWYgKHRpbGUucmVxdWVzdCkge1xuICAgICAgICAgICAgdGlsZS5yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICBkZWxldGUgdGlsZS5yZXF1ZXN0O1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgdW5sb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgaWYgKHRpbGUudGV4dHVyZSkgdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUodGlsZS50ZXh0dXJlKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSYXN0ZXJUaWxlU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgZ2V0SW1hZ2UsIFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgeyBub3JtYWxpemVUaWxlVVJMIGFzIG5vcm1hbGl6ZVVSTCB9IGZyb20gJy4uL3V0aWwvbWFwYm94JztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgeyBPdmVyc2NhbGVkVGlsZUlEIH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCBSYXN0ZXJUaWxlU291cmNlIGZyb20gJy4vcmFzdGVyX3RpbGVfc291cmNlJztcbi8vIGVuc3VyZSBERU1EYXRhIGlzIHJlZ2lzdGVyZWQgZm9yIHdvcmtlciB0cmFuc2ZlciBvbiBtYWluIHRocmVhZDpcbmltcG9ydCAnLi4vZGF0YS9kZW1fZGF0YSc7XG5cbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuXG5cbmNsYXNzIFJhc3RlckRFTVRpbGVTb3VyY2UgZXh0ZW5kcyBSYXN0ZXJUaWxlU291cmNlIGltcGxlbWVudHMgU291cmNlIHtcbiAgICBlbmNvZGluZzogXCJtYXBib3hcIiB8IFwidGVycmFyaXVtXCI7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBSYXN0ZXJERU1Tb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKGlkLCBvcHRpb25zLCBkaXNwYXRjaGVyLCBldmVudGVkUGFyZW50KTtcbiAgICAgICAgdGhpcy50eXBlID0gJ3Jhc3Rlci1kZW0nO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nIHx8IFwibWFwYm94XCI7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3Jhc3Rlci1kZW0nLFxuICAgICAgICAgICAgdXJsOiB0aGlzLnVybCxcbiAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgdGlsZXM6IHRoaXMudGlsZXMsXG4gICAgICAgICAgICBib3VuZHM6IHRoaXMuYm91bmRzLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IHRoaXMuZW5jb2RpbmdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgY29uc3QgdXJsID0gbm9ybWFsaXplVVJMKHRpbGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcywgdGhpcy5zY2hlbWUpLCB0aGlzLnVybCwgdGhpcy50aWxlU2l6ZSk7XG4gICAgICAgIHRpbGUucmVxdWVzdCA9IGdldEltYWdlKHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlRpbGUpLCBpbWFnZUxvYWRlZC5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aWxlLm5laWdoYm9yaW5nVGlsZXMgPSB0aGlzLl9nZXROZWlnaGJvcmluZ1RpbGVzKHRpbGUudGlsZUlEKTtcbiAgICAgICAgZnVuY3Rpb24gaW1hZ2VMb2FkZWQoZXJyLCBpbWcpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aWxlLnJlcXVlc3Q7XG4gICAgICAgICAgICBpZiAodGlsZS5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnZXJyb3JlZCc7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzKSB0aWxlLnNldEV4cGlyeURhdGEoaW1nKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgKGltZzogYW55KS5jYWNoZUNvbnRyb2w7XG4gICAgICAgICAgICAgICAgZGVsZXRlIChpbWc6IGFueSkuZXhwaXJlcztcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJhd0ltYWdlRGF0YSA9IGJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGltZyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICB1aWQ6IHRpbGUudWlkLFxuICAgICAgICAgICAgICAgICAgICBjb29yZDogdGlsZS50aWxlSUQsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICAgICAgcmF3SW1hZ2VEYXRhOiByYXdJbWFnZURhdGEsXG4gICAgICAgICAgICAgICAgICAgIGVuY29kaW5nOiB0aGlzLmVuY29kaW5nXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmICghdGlsZS53b3JrZXJJRCB8fCB0aWxlLnN0YXRlID09PSAnZXhwaXJlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS53b3JrZXJJRCA9IHRoaXMuZGlzcGF0Y2hlci5zZW5kKCdsb2FkREVNVGlsZScsIHBhcmFtcywgZG9uZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkb25lKGVyciwgZGVtKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdlcnJvcmVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGVtKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5kZW0gPSBkZW07XG4gICAgICAgICAgICAgICAgdGlsZS5uZWVkc0hpbGxzaGFkZVByZXBhcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgX2dldE5laWdoYm9yaW5nVGlsZXModGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgICAgIGNvbnN0IGNhbm9uaWNhbCA9IHRpbGVJRC5jYW5vbmljYWw7XG4gICAgICAgIGNvbnN0IGRpbSA9IE1hdGgucG93KDIsIGNhbm9uaWNhbC56KTtcblxuICAgICAgICBjb25zdCBweCA9IChjYW5vbmljYWwueCAtIDEgKyBkaW0pICUgZGltO1xuICAgICAgICBjb25zdCBweHcgPSBjYW5vbmljYWwueCA9PT0gMCA/IHRpbGVJRC53cmFwIC0gMSA6IHRpbGVJRC53cmFwO1xuICAgICAgICBjb25zdCBueCA9IChjYW5vbmljYWwueCArIDEgKyBkaW0pICUgZGltO1xuICAgICAgICBjb25zdCBueHcgPSBjYW5vbmljYWwueCArIDEgPT09IGRpbSA/IHRpbGVJRC53cmFwICsgMSA6IHRpbGVJRC53cmFwO1xuXG4gICAgICAgIGNvbnN0IG5laWdoYm9yaW5nVGlsZXMgPSB7fTtcbiAgICAgICAgLy8gYWRkIGFkamFjZW50IHRpbGVzXG4gICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBweHcsIGNhbm9uaWNhbC56LCBweCwgY2Fub25pY2FsLnkpLmtleV0gPSB7YmFja2ZpbGxlZDogZmFsc2V9O1xuICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgbnh3LCBjYW5vbmljYWwueiwgbngsIGNhbm9uaWNhbC55KS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcblxuICAgICAgICAvLyBBZGQgdXBwZXIgbmVpZ2hib3JpbmdUaWxlc1xuICAgICAgICBpZiAoY2Fub25pY2FsLnkgPiAwKSB7XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgcHh3LCBjYW5vbmljYWwueiwgcHgsIGNhbm9uaWNhbC55IC0gMSkua2V5XSA9IHtiYWNrZmlsbGVkOiBmYWxzZX07XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgdGlsZUlELndyYXAsIGNhbm9uaWNhbC56LCBjYW5vbmljYWwueCwgY2Fub25pY2FsLnkgLSAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBueHcsIGNhbm9uaWNhbC56LCBueCwgY2Fub25pY2FsLnkgLSAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgbG93ZXIgbmVpZ2hib3JpbmdUaWxlc1xuICAgICAgICBpZiAoY2Fub25pY2FsLnkgKyAxIDwgZGltKSB7XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgcHh3LCBjYW5vbmljYWwueiwgcHgsIGNhbm9uaWNhbC55ICsgMSkua2V5XSA9IHtiYWNrZmlsbGVkOiBmYWxzZX07XG4gICAgICAgICAgICBuZWlnaGJvcmluZ1RpbGVzW25ldyBPdmVyc2NhbGVkVGlsZUlEKHRpbGVJRC5vdmVyc2NhbGVkWiwgdGlsZUlELndyYXAsIGNhbm9uaWNhbC56LCBjYW5vbmljYWwueCwgY2Fub25pY2FsLnkgKyAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBueHcsIGNhbm9uaWNhbC56LCBueCwgY2Fub25pY2FsLnkgKyAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZWlnaGJvcmluZ1RpbGVzO1xuICAgIH1cblxuXG4gICAgdW5sb2FkVGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIGlmICh0aWxlLmRlbVRleHR1cmUpIHRoaXMubWFwLnBhaW50ZXIuc2F2ZVRpbGVUZXh0dXJlKHRpbGUuZGVtVGV4dHVyZSk7XG4gICAgICAgIGlmICh0aWxlLmZibykge1xuICAgICAgICAgICAgdGlsZS5mYm8uZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRpbGUuZmJvO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aWxlLmRlbSkgZGVsZXRlIHRpbGUuZGVtO1xuICAgICAgICBkZWxldGUgdGlsZS5uZWlnaGJvcmluZ1RpbGVzO1xuXG4gICAgICAgIHRpbGUuc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuc2VuZCgncmVtb3ZlREVNVGlsZScsIHsgdWlkOiB0aWxlLnVpZCwgc291cmNlOiB0aGlzLmlkIH0sIHVuZGVmaW5lZCwgdGlsZS53b3JrZXJJRCk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhc3RlckRFTVRpbGVTb3VyY2U7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5cbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93JztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuaW1wb3J0IHsgUmVzb3VyY2VUeXBlIH0gZnJvbSAnLi4vdXRpbC9hamF4JztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5cbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5pbXBvcnQgdHlwZSB7UGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZ30gZnJvbSAnLi4vdHlwZXMvcGVyZm9ybWFuY2VfcmVzb3VyY2VfdGltaW5nJztcblxuLyoqXG4gKiBBIHNvdXJjZSBjb250YWluaW5nIEdlb0pTT04uXG4gKiAoU2VlIHRoZSBbU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jc291cmNlcy1nZW9qc29uKSBmb3IgZGV0YWlsZWQgZG9jdW1lbnRhdGlvbiBvZiBvcHRpb25zLilcbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgICB0eXBlOiAnZ2VvanNvbicsXG4gKiAgICAgZGF0YTogJ2h0dHBzOi8vZDJhZDZiNHVyN3l2cHEuY2xvdWRmcm9udC5uZXQvbmF0dXJhbGVhcnRoLTMuMy4wL25lXzEwbV9wb3J0cy5nZW9qc29uJ1xuICogfSk7XG4gKlxuICogQGV4YW1wbGVcbiAqIG1hcC5hZGRTb3VyY2UoJ3NvbWUgaWQnLCB7XG4gKiAgICB0eXBlOiAnZ2VvanNvbicsXG4gKiAgICBkYXRhOiB7XG4gKiAgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIixcbiAqICAgICAgICBcImZlYXR1cmVzXCI6IFt7XG4gKiAgICAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAqICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHt9LFxuICogICAgICAgICAgICBcImdlb21ldHJ5XCI6IHtcbiAqICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG4gKiAgICAgICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6IFtcbiAqICAgICAgICAgICAgICAgICAgICAtNzYuNTMwNjMyOTcyNzE3MjksXG4gKiAgICAgICAgICAgICAgICAgICAgMzkuMTgxNzQwNzc5OTQxMDhcbiAqICAgICAgICAgICAgICAgIF1cbiAqICAgICAgICAgICAgfVxuICogICAgICAgIH1dXG4gKiAgICB9XG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmdldFNvdXJjZSgnc29tZSBpZCcpLnNldERhdGEoe1xuICogICBcInR5cGVcIjogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICogICBcImZlYXR1cmVzXCI6IFt7XG4gKiAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlXCIsXG4gKiAgICAgICBcInByb3BlcnRpZXNcIjogeyBcIm5hbWVcIjogXCJOdWxsIElzbGFuZFwiIH0sXG4gKiAgICAgICBcImdlb21ldHJ5XCI6IHtcbiAqICAgICAgICAgICBcInR5cGVcIjogXCJQb2ludFwiLFxuICogICAgICAgICAgIFwiY29vcmRpbmF0ZXNcIjogWyAwLCAwIF1cbiAqICAgICAgIH1cbiAqICAgfV1cbiAqIH0pO1xuICogQHNlZSBbRHJhdyBHZW9KU09OIHBvaW50c10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nZW9qc29uLW1hcmtlcnMvKVxuICogQHNlZSBbQWRkIGEgR2VvSlNPTiBsaW5lXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dlb2pzb24tbGluZS8pXG4gKiBAc2VlIFtDcmVhdGUgYSBoZWF0bWFwIGZyb20gcG9pbnRzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2hlYXRtYXAvKVxuICovXG5jbGFzcyBHZW9KU09OU291cmNlIGV4dGVuZHMgRXZlbnRlZCBpbXBsZW1lbnRzIFNvdXJjZSB7XG4gICAgdHlwZTogJ2dlb2pzb24nO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWluem9vbTogbnVtYmVyO1xuICAgIG1heHpvb206IG51bWJlcjtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuXG4gICAgaXNUaWxlQ2xpcHBlZDogYm9vbGVhbjtcbiAgICByZXBhcnNlT3ZlcnNjYWxlZDogYm9vbGVhbjtcbiAgICBfZGF0YTogR2VvSlNPTiB8IHN0cmluZztcbiAgICBfb3B0aW9uczogYW55O1xuICAgIHdvcmtlck9wdGlvbnM6IGFueTtcbiAgICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICAgIG1hcDogTWFwO1xuICAgIHdvcmtlcklEOiBudW1iZXI7XG4gICAgX2xvYWRlZDogYm9vbGVhbjtcbiAgICBfY29sbGVjdFJlc291cmNlVGltaW5nOiBib29sZWFuO1xuICAgIF9yZXNvdXJjZVRpbWluZzogQXJyYXk8UGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZz47XG4gICAgX3JlbW92ZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IEdlb2pzb25Tb3VyY2VTcGVjaWZpY2F0aW9uICYge3dvcmtlck9wdGlvbnM/OiBhbnksIGNvbGxlY3RSZXNvdXJjZVRpbWluZzogYm9vbGVhbn0sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmlkID0gaWQ7XG5cbiAgICAgICAgLy8gYHR5cGVgIGlzIGEgcHJvcGVydHkgcmF0aGVyIHRoYW4gYSBjb25zdGFudCB0byBtYWtlIGl0IGVhc3kgZm9yIDNyZFxuICAgICAgICAvLyBwYXJ0aWVzIHRvIHVzZSBHZW9KU09OU291cmNlIHRvIGJ1aWxkIHRoZWlyIG93biBzb3VyY2UgdHlwZXMuXG4gICAgICAgIHRoaXMudHlwZSA9ICdnZW9qc29uJztcblxuICAgICAgICB0aGlzLm1pbnpvb20gPSAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAxODtcbiAgICAgICAgdGhpcy50aWxlU2l6ZSA9IDUxMjtcbiAgICAgICAgdGhpcy5pc1RpbGVDbGlwcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3JlbW92ZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuICAgICAgICB0aGlzLnNldEV2ZW50ZWRQYXJlbnQoZXZlbnRlZFBhcmVudCk7XG5cbiAgICAgICAgdGhpcy5fZGF0YSA9IChvcHRpb25zLmRhdGE6IGFueSk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyA9IG9wdGlvbnMuY29sbGVjdFJlc291cmNlVGltaW5nO1xuICAgICAgICB0aGlzLl9yZXNvdXJjZVRpbWluZyA9IFtdO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm1heHpvb20gIT09IHVuZGVmaW5lZCkgdGhpcy5tYXh6b29tID0gb3B0aW9ucy5tYXh6b29tO1xuICAgICAgICBpZiAob3B0aW9ucy50eXBlKSB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGU7XG5cbiAgICAgICAgY29uc3Qgc2NhbGUgPSBFWFRFTlQgLyB0aGlzLnRpbGVTaXplO1xuXG4gICAgICAgIC8vIHNlbnQgdG8gdGhlIHdvcmtlciwgYWxvbmcgd2l0aCBgdXJsOiAuLi5gIG9yIGBkYXRhOiBsaXRlcmFsIGdlb2pzb25gLFxuICAgICAgICAvLyBzbyB0aGF0IGl0IGNhbiBsb2FkL3BhcnNlL2luZGV4IHRoZSBnZW9qc29uIGRhdGFcbiAgICAgICAgLy8gZXh0ZW5kaW5nIHdpdGggYG9wdGlvbnMud29ya2VyT3B0aW9uc2AgaGVscHMgdG8gbWFrZSBpdCBlYXN5IGZvclxuICAgICAgICAvLyB0aGlyZC1wYXJ0eSBzb3VyY2VzIHRvIGhhY2svcmV1c2UgR2VvSlNPTlNvdXJjZS5cbiAgICAgICAgdGhpcy53b3JrZXJPcHRpb25zID0gZXh0ZW5kKHtcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgIGNsdXN0ZXI6IG9wdGlvbnMuY2x1c3RlciB8fCBmYWxzZSxcbiAgICAgICAgICAgIGdlb2pzb25WdE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBidWZmZXI6IChvcHRpb25zLmJ1ZmZlciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5idWZmZXIgOiAxMjgpICogc2NhbGUsXG4gICAgICAgICAgICAgICAgdG9sZXJhbmNlOiAob3B0aW9ucy50b2xlcmFuY2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudG9sZXJhbmNlIDogMC4zNzUpICogc2NhbGUsXG4gICAgICAgICAgICAgICAgZXh0ZW50OiBFWFRFTlQsXG4gICAgICAgICAgICAgICAgbWF4Wm9vbTogdGhpcy5tYXh6b29tXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwZXJjbHVzdGVyT3B0aW9uczoge1xuICAgICAgICAgICAgICAgIG1heFpvb206IG9wdGlvbnMuY2x1c3Rlck1heFpvb20gIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWluKG9wdGlvbnMuY2x1c3Rlck1heFpvb20sIHRoaXMubWF4em9vbSAtIDEpIDpcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMubWF4em9vbSAtIDEpLFxuICAgICAgICAgICAgICAgIGV4dGVudDogRVhURU5ULFxuICAgICAgICAgICAgICAgIHJhZGl1czogKG9wdGlvbnMuY2x1c3RlclJhZGl1cyB8fCA1MCkgKiBzY2FsZSxcbiAgICAgICAgICAgICAgICBsb2c6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIG9wdGlvbnMud29ya2VyT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgbG9hZCgpIHtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YWxvYWRpbmcnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnfSkpO1xuICAgICAgICB0aGlzLl91cGRhdGVXb3JrZXJEYXRhKChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkYXRhOiBPYmplY3QgPSB7IGRhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdtZXRhZGF0YScgfTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcgJiYgdGhpcy5fcmVzb3VyY2VUaW1pbmcgJiYgKHRoaXMuX3Jlc291cmNlVGltaW5nLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5yZXNvdXJjZVRpbWluZyA9IHRoaXMuX3Jlc291cmNlVGltaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc291cmNlVGltaW5nID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFsdGhvdWdoIEdlb0pTT04gc291cmNlcyBjb250YWluIG5vIG1ldGFkYXRhLCB3ZSBmaXJlIHRoaXMgZXZlbnQgdG8gbGV0IHRoZSBTb3VyY2VDYWNoZVxuICAgICAgICAgICAgLy8ga25vdyBpdHMgb2sgdG8gc3RhcnQgcmVxdWVzdGluZyB0aWxlcy5cbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCBkYXRhKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBHZW9KU09OIGRhdGEgYW5kIHJlLXJlbmRlcnMgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fHN0cmluZ30gZGF0YSBBIEdlb0pTT04gZGF0YSBvYmplY3Qgb3IgYSBVUkwgdG8gb25lLiBUaGUgbGF0dGVyIGlzIHByZWZlcmFibGUgaW4gdGhlIGNhc2Ugb2YgbGFyZ2UgR2VvSlNPTiBmaWxlcy5cbiAgICAgKiBAcmV0dXJucyB7R2VvSlNPTlNvdXJjZX0gdGhpc1xuICAgICAqL1xuICAgIHNldERhdGEoZGF0YTogR2VvSlNPTiB8IHN0cmluZykge1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YWxvYWRpbmcnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnfSkpO1xuICAgICAgICB0aGlzLl91cGRhdGVXb3JrZXJEYXRhKChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KGVycikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkYXRhOiBPYmplY3QgPSB7IGRhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50JyB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyAmJiB0aGlzLl9yZXNvdXJjZVRpbWluZyAmJiAodGhpcy5fcmVzb3VyY2VUaW1pbmcubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnJlc291cmNlVGltaW5nID0gdGhpcy5fcmVzb3VyY2VUaW1pbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2VUaW1pbmcgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCBkYXRhKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogUmVzcG9uc2libGUgZm9yIGludm9raW5nIFdvcmtlclNvdXJjZSdzIGdlb2pzb24ubG9hZERhdGEgdGFyZ2V0LCB3aGljaFxuICAgICAqIGhhbmRsZXMgbG9hZGluZyB0aGUgZ2VvanNvbiBkYXRhIGFuZCBwcmVwYXJpbmcgdG8gc2VydmUgaXQgdXAgYXMgdGlsZXMsXG4gICAgICogdXNpbmcgZ2VvanNvbi12dCBvciBzdXBlcmNsdXN0ZXIgYXMgYXBwcm9wcmlhdGUuXG4gICAgICovXG4gICAgX3VwZGF0ZVdvcmtlckRhdGEoY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBleHRlbmQoe30sIHRoaXMud29ya2VyT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9kYXRhO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRpb25zLnJlcXVlc3QgPSB0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdChyZXNvbHZlVVJMKGRhdGEpLCBSZXNvdXJjZVR5cGUuU291cmNlKTtcbiAgICAgICAgICAgIG9wdGlvbnMucmVxdWVzdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcgPSB0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRhcmdldCB7dGhpcy50eXBlfS57b3B0aW9ucy5zb3VyY2V9LmxvYWREYXRhIHJhdGhlciB0aGFuIGxpdGVyYWxseSBnZW9qc29uLmxvYWREYXRhLFxuICAgICAgICAvLyBzbyB0aGF0IG90aGVyIGdlb2pzb24tbGlrZSBzb3VyY2UgdHlwZXMgY2FuIGVhc2lseSByZXVzZSB0aGlzXG4gICAgICAgIC8vIGltcGxlbWVudGF0aW9uXG4gICAgICAgIHRoaXMud29ya2VySUQgPSB0aGlzLmRpc3BhdGNoZXIuc2VuZChgJHt0aGlzLnR5cGV9LiR7b3B0aW9ucy5zb3VyY2V9LmxvYWREYXRhYCwgb3B0aW9ucywgKGVyciwgcmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVtb3ZlZCB8fCAocmVzdWx0ICYmIHJlc3VsdC5hYmFuZG9uZWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9sb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5yZXNvdXJjZVRpbWluZyAmJiByZXN1bHQucmVzb3VyY2VUaW1pbmdbdGhpcy5pZF0pXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2VUaW1pbmcgPSByZXN1bHQucmVzb3VyY2VUaW1pbmdbdGhpcy5pZF0uc2xpY2UoMCk7XG4gICAgICAgICAgICAvLyBBbnkgYGxvYWREYXRhYCBjYWxscyB0aGF0IHBpbGVkIHVwIHdoaWxlIHdlIHdlcmUgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgLy8gdGhpcyBvbmUgd2lsbCBnZXQgY29hbGVzY2VkIGludG8gYSBzaW5nbGUgY2FsbCB3aGVuIHRoaXNcbiAgICAgICAgICAgIC8vICdjb2FsZXNjZScgbWVzc2FnZSBpcyBwcm9jZXNzZWQuXG4gICAgICAgICAgICAvLyBXZSB3b3VsZCBzZWxmLXNlbmQgZnJvbSB0aGUgd29ya2VyIGlmIHdlIGhhZCBhY2Nlc3MgdG8gaXRzXG4gICAgICAgICAgICAvLyBtZXNzYWdlIHF1ZXVlLiBXYWl0aW5nIGluc3RlYWQgZm9yIHRoZSAnY29hbGVzY2UnIHRvIHJvdW5kLXRyaXBcbiAgICAgICAgICAgIC8vIHRocm91Z2ggdGhlIGZvcmVncm91bmQganVzdCBtZWFucyB3ZSdyZSB0aHJvdHRsaW5nIHRoZSB3b3JrZXJcbiAgICAgICAgICAgIC8vIHRvIHJ1biBhdCBhIGxpdHRsZSBsZXNzIHRoYW4gZnVsbC10aHJvdHRsZS5cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zZW5kKGAke3RoaXMudHlwZX0uJHtvcHRpb25zLnNvdXJjZX0uY29hbGVzY2VgLCBudWxsLCBudWxsLCB0aGlzLndvcmtlcklEKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG5cbiAgICAgICAgfSwgdGhpcy53b3JrZXJJRCk7XG4gICAgfVxuXG4gICAgbG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aWxlLndvcmtlcklEID09PSB1bmRlZmluZWQgPyAnbG9hZFRpbGUnIDogJ3JlbG9hZFRpbGUnO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICB1aWQ6IHRpbGUudWlkLFxuICAgICAgICAgICAgdGlsZUlEOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgIHpvb206IHRpbGUudGlsZUlELm92ZXJzY2FsZWRaLFxuICAgICAgICAgICAgbWF4Wm9vbTogdGhpcy5tYXh6b29tLFxuICAgICAgICAgICAgdGlsZVNpemU6IHRoaXMudGlsZVNpemUsXG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMuaWQsXG4gICAgICAgICAgICBwaXhlbFJhdGlvOiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICBvdmVyc2NhbGluZzogdGlsZS50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksXG4gICAgICAgICAgICBzaG93Q29sbGlzaW9uQm94ZXM6IHRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlc1xuICAgICAgICB9O1xuXG4gICAgICAgIHRpbGUud29ya2VySUQgPSB0aGlzLmRpc3BhdGNoZXIuc2VuZChtZXNzYWdlLCBwYXJhbXMsIChlcnIsIGRhdGEpID0+IHtcbiAgICAgICAgICAgIHRpbGUudW5sb2FkVmVjdG9yRGF0YSgpO1xuXG4gICAgICAgICAgICBpZiAodGlsZS5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRpbGUubG9hZFZlY3RvckRhdGEoZGF0YSwgdGhpcy5tYXAucGFpbnRlciwgbWVzc2FnZSA9PT0gJ3JlbG9hZFRpbGUnKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9LCB0aGlzLndvcmtlcklEKTtcbiAgICB9XG5cbiAgICBhYm9ydFRpbGUodGlsZTogVGlsZSkge1xuICAgICAgICB0aWxlLmFib3J0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHVubG9hZFRpbGUodGlsZTogVGlsZSkge1xuICAgICAgICB0aWxlLnVubG9hZFZlY3RvckRhdGEoKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnNlbmQoJ3JlbW92ZVRpbGUnLCB7IHVpZDogdGlsZS51aWQsIHR5cGU6IHRoaXMudHlwZSwgc291cmNlOiB0aGlzLmlkIH0sIG51bGwsIHRpbGUud29ya2VySUQpO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICB0aGlzLl9yZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnNlbmQoJ3JlbW92ZVNvdXJjZScsIHsgdHlwZTogdGhpcy50eXBlLCBzb3VyY2U6IHRoaXMuaWQgfSwgbnVsbCwgdGhpcy53b3JrZXJJRCk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCB0aGlzLl9vcHRpb25zLCB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLl9kYXRhXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgY29uc3QgYSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgYS5ocmVmID0gdXJsO1xuICAgIHJldHVybiBhLmhyZWY7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdlb0pTT05Tb3VyY2U7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IHsgY3JlYXRlTGF5b3V0IH0gZnJvbSAnLi4vdXRpbC9zdHJ1Y3RfYXJyYXknO1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVMYXlvdXQoW1xuICAgIHsgbmFtZTogJ2FfcG9zJywgdHlwZTogJ0ludDE2JywgY29tcG9uZW50czogMiB9LFxuICAgIHsgbmFtZTogJ2FfdGV4dHVyZV9wb3MnLCB0eXBlOiAnSW50MTYnLCBjb21wb25lbnRzOiAyIH1cbl0pO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSBQcm9ncmFtIGZyb20gJy4vcHJvZ3JhbSc7XG5pbXBvcnQgdHlwZSBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi4vZ2wvdmVydGV4X2J1ZmZlcic7XG5pbXBvcnQgdHlwZSBJbmRleEJ1ZmZlciBmcm9tICcuLi9nbC9pbmRleF9idWZmZXInO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcblxuY2xhc3MgVmVydGV4QXJyYXlPYmplY3Qge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgYm91bmRQcm9ncmFtOiA/UHJvZ3JhbTtcbiAgICBib3VuZExheW91dFZlcnRleEJ1ZmZlcjogP1ZlcnRleEJ1ZmZlcjtcbiAgICBib3VuZFBhaW50VmVydGV4QnVmZmVyczogQXJyYXk8VmVydGV4QnVmZmVyPjtcbiAgICBib3VuZEluZGV4QnVmZmVyOiA/SW5kZXhCdWZmZXI7XG4gICAgYm91bmRWZXJ0ZXhPZmZzZXQ6ID9udW1iZXI7XG4gICAgYm91bmREeW5hbWljVmVydGV4QnVmZmVyOiA/VmVydGV4QnVmZmVyO1xuICAgIGJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcjI6ID9WZXJ0ZXhCdWZmZXI7XG4gICAgdmFvOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ib3VuZFByb2dyYW0gPSBudWxsO1xuICAgICAgICB0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycyA9IFtdO1xuICAgICAgICB0aGlzLmJvdW5kSW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmJvdW5kVmVydGV4T2Zmc2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnZhbyA9IG51bGw7XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBDb250ZXh0LFxuICAgICAgICAgcHJvZ3JhbTogUHJvZ3JhbSxcbiAgICAgICAgIGxheW91dFZlcnRleEJ1ZmZlcjogVmVydGV4QnVmZmVyLFxuICAgICAgICAgcGFpbnRWZXJ0ZXhCdWZmZXJzOiBBcnJheTxWZXJ0ZXhCdWZmZXI+LFxuICAgICAgICAgaW5kZXhCdWZmZXI6ID9JbmRleEJ1ZmZlcixcbiAgICAgICAgIHZlcnRleE9mZnNldDogP251bWJlcixcbiAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXI6ID9WZXJ0ZXhCdWZmZXIsXG4gICAgICAgICBkeW5hbWljVmVydGV4QnVmZmVyMjogP1ZlcnRleEJ1ZmZlcikge1xuXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICAgICAgbGV0IHBhaW50QnVmZmVyc0RpZmZlciA9IHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnMubGVuZ3RoICE9PSBwYWludFZlcnRleEJ1ZmZlcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgIXBhaW50QnVmZmVyc0RpZmZlciAmJiBpIDwgcGFpbnRWZXJ0ZXhCdWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVyc1tpXSAhPT0gcGFpbnRWZXJ0ZXhCdWZmZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgcGFpbnRCdWZmZXJzRGlmZmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzRnJlc2hCaW5kUmVxdWlyZWQgPSAoXG4gICAgICAgICAgICAhdGhpcy52YW8gfHxcbiAgICAgICAgICAgIHRoaXMuYm91bmRQcm9ncmFtICE9PSBwcm9ncmFtIHx8XG4gICAgICAgICAgICB0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyICE9PSBsYXlvdXRWZXJ0ZXhCdWZmZXIgfHxcbiAgICAgICAgICAgIHBhaW50QnVmZmVyc0RpZmZlciB8fFxuICAgICAgICAgICAgdGhpcy5ib3VuZEluZGV4QnVmZmVyICE9PSBpbmRleEJ1ZmZlciB8fFxuICAgICAgICAgICAgdGhpcy5ib3VuZFZlcnRleE9mZnNldCAhPT0gdmVydGV4T2Zmc2V0IHx8XG4gICAgICAgICAgICB0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlciAhPT0gZHluYW1pY1ZlcnRleEJ1ZmZlciB8fFxuICAgICAgICAgICAgdGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXIyICE9PSBkeW5hbWljVmVydGV4QnVmZmVyMlxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdCB8fCBpc0ZyZXNoQmluZFJlcXVpcmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZyZXNoQmluZChwcm9ncmFtLCBsYXlvdXRWZXJ0ZXhCdWZmZXIsIHBhaW50VmVydGV4QnVmZmVycywgaW5kZXhCdWZmZXIsIHZlcnRleE9mZnNldCwgZHluYW1pY1ZlcnRleEJ1ZmZlciwgZHluYW1pY1ZlcnRleEJ1ZmZlcjIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KHRoaXMudmFvKTtcblxuICAgICAgICAgICAgaWYgKGR5bmFtaWNWZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgYnVmZmVyIG1heSBoYXZlIGJlZW4gdXBkYXRlZC4gUmViaW5kIHRvIHVwbG9hZCBkYXRhLlxuICAgICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIuYmluZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaW5kZXhCdWZmZXIgJiYgaW5kZXhCdWZmZXIuZHluYW1pY0RyYXcpIHtcbiAgICAgICAgICAgICAgICBpbmRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkeW5hbWljVmVydGV4QnVmZmVyMikge1xuICAgICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIyLmJpbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZyZXNoQmluZChwcm9ncmFtOiBQcm9ncmFtLFxuICAgICAgICAgICAgICBsYXlvdXRWZXJ0ZXhCdWZmZXI6IFZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgcGFpbnRWZXJ0ZXhCdWZmZXJzOiBBcnJheTxWZXJ0ZXhCdWZmZXI+LFxuICAgICAgICAgICAgICBpbmRleEJ1ZmZlcjogP0luZGV4QnVmZmVyLFxuICAgICAgICAgICAgICB2ZXJ0ZXhPZmZzZXQ6ID9udW1iZXIsXG4gICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXI6ID9WZXJ0ZXhCdWZmZXIsXG4gICAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIyOiA/VmVydGV4QnVmZmVyKSB7XG4gICAgICAgIGxldCBudW1QcmV2QXR0cmlidXRlcztcbiAgICAgICAgY29uc3QgbnVtTmV4dEF0dHJpYnV0ZXMgPSBwcm9ncmFtLm51bUF0dHJpYnV0ZXM7XG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIGlmIChjb250ZXh0LmV4dFZlcnRleEFycmF5T2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy52YW8pIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy52YW8gPSBjb250ZXh0LmV4dFZlcnRleEFycmF5T2JqZWN0LmNyZWF0ZVZlcnRleEFycmF5T0VTKCk7XG4gICAgICAgICAgICBjb250ZXh0LmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pO1xuICAgICAgICAgICAgbnVtUHJldkF0dHJpYnV0ZXMgPSAwO1xuXG4gICAgICAgICAgICAvLyBzdG9yZSB0aGUgYXJndW1lbnRzIHNvIHRoYXQgd2UgY2FuIHZlcmlmeSB0aGVtIHdoZW4gdGhlIHZhbyBpcyBib3VuZCBhZ2FpblxuICAgICAgICAgICAgdGhpcy5ib3VuZFByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICAgICAgdGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlciA9IGxheW91dFZlcnRleEJ1ZmZlcjtcbiAgICAgICAgICAgIHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnMgPSBwYWludFZlcnRleEJ1ZmZlcnM7XG4gICAgICAgICAgICB0aGlzLmJvdW5kSW5kZXhCdWZmZXIgPSBpbmRleEJ1ZmZlcjtcbiAgICAgICAgICAgIHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQgPSB2ZXJ0ZXhPZmZzZXQ7XG4gICAgICAgICAgICB0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlciA9IGR5bmFtaWNWZXJ0ZXhCdWZmZXI7XG4gICAgICAgICAgICB0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcjIgPSBkeW5hbWljVmVydGV4QnVmZmVyMjtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbnVtUHJldkF0dHJpYnV0ZXMgPSBjb250ZXh0LmN1cnJlbnROdW1BdHRyaWJ1dGVzIHx8IDA7XG5cbiAgICAgICAgICAgIC8vIERpc2FibGUgYWxsIGF0dHJpYnV0ZXMgZnJvbSB0aGUgcHJldmlvdXMgcHJvZ3JhbSB0aGF0IGFyZW4ndCB1c2VkIGluXG4gICAgICAgICAgICAvLyB0aGUgbmV3IHByb2dyYW0uIE5vdGU6IGF0dHJpYnV0ZSBpbmRpY2VzIGFyZSAqbm90KiBwcm9ncmFtIHNwZWNpZmljIVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IG51bU5leHRBdHRyaWJ1dGVzOyBpIDwgbnVtUHJldkF0dHJpYnV0ZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIFdlYkdMIGJyZWFrcyBpZiB5b3UgZGlzYWJsZSBhdHRyaWJ1dGUgMC5cbiAgICAgICAgICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIwMzA1MjMxXG4gICAgICAgICAgICAgICAgYXNzZXJ0KGkgIT09IDApO1xuICAgICAgICAgICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxheW91dFZlcnRleEJ1ZmZlci5lbmFibGVBdHRyaWJ1dGVzKGdsLCBwcm9ncmFtKTtcbiAgICAgICAgZm9yIChjb25zdCB2ZXJ0ZXhCdWZmZXIgb2YgcGFpbnRWZXJ0ZXhCdWZmZXJzKSB7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuZW5hYmxlQXR0cmlidXRlcyhnbCwgcHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZHluYW1pY1ZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlci5lbmFibGVBdHRyaWJ1dGVzKGdsLCBwcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZHluYW1pY1ZlcnRleEJ1ZmZlcjIpIHtcbiAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIyLmVuYWJsZUF0dHJpYnV0ZXMoZ2wsIHByb2dyYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGF5b3V0VmVydGV4QnVmZmVyLmJpbmQoKTtcbiAgICAgICAgbGF5b3V0VmVydGV4QnVmZmVyLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGdsLCBwcm9ncmFtLCB2ZXJ0ZXhPZmZzZXQpO1xuICAgICAgICBmb3IgKGNvbnN0IHZlcnRleEJ1ZmZlciBvZiBwYWludFZlcnRleEJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZ2wsIHByb2dyYW0sIHZlcnRleE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZHluYW1pY1ZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgICAgICBkeW5hbWljVmVydGV4QnVmZmVyLnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGdsLCBwcm9ncmFtLCB2ZXJ0ZXhPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIuYmluZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeW5hbWljVmVydGV4QnVmZmVyMikge1xuICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlcjIuYmluZCgpO1xuICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlcjIuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZ2wsIHByb2dyYW0sIHZlcnRleE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmN1cnJlbnROdW1BdHRyaWJ1dGVzID0gbnVtTmV4dEF0dHJpYnV0ZXM7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFvKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QuZGVsZXRlVmVydGV4QXJyYXlPRVModGhpcy52YW8pO1xuICAgICAgICAgICAgdGhpcy52YW8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZXJ0ZXhBcnJheU9iamVjdDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGdldENvb3JkaW5hdGVzQ2VudGVyIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHsgQ2Fub25pY2FsVGlsZUlEIH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCBMbmdMYXQgZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHsgRXZlbnQsIEVycm9yRXZlbnQsIEV2ZW50ZWQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IHsgZ2V0SW1hZ2UsIFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudCc7XG5pbXBvcnQgeyBSYXN0ZXJCb3VuZHNBcnJheSB9IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMnO1xuaW1wb3J0IHJhc3RlckJvdW5kc0F0dHJpYnV0ZXMgZnJvbSAnLi4vZGF0YS9yYXN0ZXJfYm91bmRzX2F0dHJpYnV0ZXMnO1xuaW1wb3J0IFZlcnRleEFycmF5T2JqZWN0IGZyb20gJy4uL3JlbmRlci92ZXJ0ZXhfYXJyYXlfb2JqZWN0JztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4uL3JlbmRlci90ZXh0dXJlJztcblxuaW1wb3J0IHR5cGUge1NvdXJjZX0gZnJvbSAnLi9zb3VyY2UnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcCc7XG5pbXBvcnQgdHlwZSBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlcic7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4vdGlsZSc7XG5pbXBvcnQgdHlwZSBDb29yZGluYXRlIGZyb20gJy4uL2dlby9jb29yZGluYXRlJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXInO1xuXG4vKipcbiAqIEEgZGF0YSBzb3VyY2UgY29udGFpbmluZyBhbiBpbWFnZS5cbiAqIChTZWUgdGhlIFtTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzLWltYWdlKSBmb3IgZGV0YWlsZWQgZG9jdW1lbnRhdGlvbiBvZiBvcHRpb25zLilcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gYWRkIHRvIG1hcFxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgIHR5cGU6ICdpbWFnZScsXG4gKiAgICB1cmw6ICdodHRwczovL3d3dy5tYXBib3guY29tL2ltYWdlcy9mb28ucG5nJyxcbiAqICAgIGNvb3JkaW5hdGVzOiBbXG4gKiAgICAgICAgWy03Ni41NCwgMzkuMThdLFxuICogICAgICAgIFstNzYuNTIsIDM5LjE4XSxcbiAqICAgICAgICBbLTc2LjUyLCAzOS4xN10sXG4gKiAgICAgICAgWy03Ni41NCwgMzkuMTddXG4gKiAgICBdXG4gKiB9KTtcbiAqXG4gKiAvLyB1cGRhdGVcbiAqIHZhciBteVNvdXJjZSA9IG1hcC5nZXRTb3VyY2UoJ3NvbWUgaWQnKTtcbiAqIG15U291cmNlLnNldENvb3JkaW5hdGVzKFtcbiAqICAgICBbLTc2LjU0MzM1NzM3MjI4Mzk0LCAzOS4xODU3OTkwNzIyOTc0OF0sXG4gKiAgICAgWy03Ni41MjgwMzY1OTQzOTA4NywgMzkuMTgzODM2NDg0NzU4N10sXG4gKiAgICAgWy03Ni41Mjk1Mzg2MzE0MzkyLCAzOS4xNzY4MzM5MjUwNzYwNl0sXG4gKiAgICAgWy03Ni41NDUyMDI3MzIwODYxOCwgMzkuMTc4NzYzNDQxMDY2NDJdXG4gKiBdKTtcbiAqXG4gKiBtYXAucmVtb3ZlU291cmNlKCdzb21lIGlkJyk7ICAvLyByZW1vdmVcbiAqIEBzZWUgW0FkZCBhbiBpbWFnZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9pbWFnZS1vbi1hLW1hcC8pXG4gKi9cbmNsYXNzIEltYWdlU291cmNlIGV4dGVuZHMgRXZlbnRlZCBpbXBsZW1lbnRzIFNvdXJjZSB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbWluem9vbTogbnVtYmVyO1xuICAgIG1heHpvb206IG51bWJlcjtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIHVybDogc3RyaW5nO1xuXG4gICAgY29vcmRpbmF0ZXM6IFtbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdXTtcbiAgICB0aWxlczoge1tzdHJpbmddOiBUaWxlfTtcbiAgICBvcHRpb25zOiBhbnk7XG4gICAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgICBtYXA6IE1hcDtcbiAgICB0ZXh0dXJlOiBUZXh0dXJlO1xuICAgIGltYWdlOiBJbWFnZURhdGE7XG4gICAgY2VudGVyQ29vcmQ6IENvb3JkaW5hdGU7XG4gICAgdGlsZUlEOiBDYW5vbmljYWxUaWxlSUQ7XG4gICAgX2JvdW5kc0FycmF5OiBSYXN0ZXJCb3VuZHNBcnJheTtcbiAgICBib3VuZHNCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICBib3VuZHNWQU86IFZlcnRleEFycmF5T2JqZWN0O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBJbWFnZVNvdXJjZVNwZWNpZmljYXRpb24gfCBWaWRlb1NvdXJjZVNwZWNpZmljYXRpb24gfCBDYW52YXNTb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IG9wdGlvbnMuY29vcmRpbmF0ZXM7XG5cbiAgICAgICAgdGhpcy50eXBlID0gJ2ltYWdlJztcbiAgICAgICAgdGhpcy5taW56b29tID0gMDtcbiAgICAgICAgdGhpcy5tYXh6b29tID0gMjI7XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSA1MTI7XG4gICAgICAgIHRoaXMudGlsZXMgPSB7fTtcblxuICAgICAgICB0aGlzLnNldEV2ZW50ZWRQYXJlbnQoZXZlbnRlZFBhcmVudCk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG5cbiAgICAgICAgdGhpcy51cmwgPSB0aGlzLm9wdGlvbnMudXJsO1xuXG4gICAgICAgIGdldEltYWdlKHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHRoaXMudXJsLCBSZXNvdXJjZVR5cGUuSW1hZ2UpLCAoZXJyLCBpbWFnZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlID0gYnJvd3Nlci5nZXRJbWFnZURhdGEoaW1hZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmlzaExvYWRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2ZpbmlzaExvYWRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcCkge1xuICAgICAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ30pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBpbWFnZSdzIGNvb3JkaW5hdGVzIGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlcyBGb3VyIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyxcbiAgICAgKiAgIHJlcHJlc2VudGVkIGFzIGFycmF5cyBvZiBsb25naXR1ZGUgYW5kIGxhdGl0dWRlIG51bWJlcnMsIHdoaWNoIGRlZmluZSB0aGUgY29ybmVycyBvZiB0aGUgaW1hZ2UuXG4gICAgICogICBUaGUgY29vcmRpbmF0ZXMgc3RhcnQgYXQgdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgaW1hZ2UgYW5kIHByb2NlZWQgaW4gY2xvY2t3aXNlIG9yZGVyLlxuICAgICAqICAgVGhleSBkbyBub3QgaGF2ZSB0byByZXByZXNlbnQgYSByZWN0YW5nbGUuXG4gICAgICogQHJldHVybnMge0ltYWdlU291cmNlfSB0aGlzXG4gICAgICovXG4gICAgc2V0Q29vcmRpbmF0ZXMoY29vcmRpbmF0ZXM6IFtbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdXSkge1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHdoaWNoIG1lcmNhdG9yIHRpbGUgaXMgc3VpdGFibGUgZm9yIHJlbmRlcmluZyB0aGUgdmlkZW8gaW5cbiAgICAgICAgLy8gYW5kIGNyZWF0ZSBhIGJ1ZmZlciB3aXRoIHRoZSBjb3JuZXIgY29vcmRpbmF0ZXMuIFRoZXNlIGNvb3JkaW5hdGVzXG4gICAgICAgIC8vIG1heSBiZSBvdXRzaWRlIHRoZSB0aWxlLCBiZWNhdXNlIHJhc3RlciB0aWxlcyBhcmVuJ3QgY2xpcHBlZCB3aGVuIHJlbmRlcmluZy5cblxuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLm1hcDtcblxuICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIGdlbyBjb29yZGluYXRlcyBpbnRvICh6b29tIDApIHRpbGUgc3BhY2UgY29vcmRpbmF0ZXNcbiAgICAgICAgY29uc3QgY29ybmVyWjBDb29yZHMgPSBjb29yZGluYXRlcy5tYXAoKGNvb3JkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbWFwLnRyYW5zZm9ybS5sb2NhdGlvbkNvb3JkaW5hdGUoTG5nTGF0LmNvbnZlcnQoY29vcmQpKS56b29tVG8oMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENvbXB1dGUgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSB0aWxlIHdlJ2xsIHVzZSB0byBob2xkIHRoaXMgaW1hZ2Unc1xuICAgICAgICAvLyByZW5kZXIgZGF0YVxuICAgICAgICBjb25zdCBjZW50ZXJDb29yZCA9IHRoaXMuY2VudGVyQ29vcmQgPSBnZXRDb29yZGluYXRlc0NlbnRlcihjb3JuZXJaMENvb3Jkcyk7XG4gICAgICAgIC8vIGBjb2x1bW5gIGFuZCBgcm93YCBtYXkgYmUgZnJhY3Rpb25hbDsgcm91bmQgdGhlbSBkb3duIHNvIHRoYXQgdGhleVxuICAgICAgICAvLyByZXByZXNlbnQgaW50ZWdlciB0aWxlIGNvb3JkaW5hdGVzXG4gICAgICAgIGNlbnRlckNvb3JkLmNvbHVtbiA9IE1hdGguZmxvb3IoY2VudGVyQ29vcmQuY29sdW1uKTtcbiAgICAgICAgY2VudGVyQ29vcmQucm93ID0gTWF0aC5mbG9vcihjZW50ZXJDb29yZC5yb3cpO1xuICAgICAgICB0aGlzLnRpbGVJRCA9IG5ldyBDYW5vbmljYWxUaWxlSUQoY2VudGVyQ29vcmQuem9vbSwgY2VudGVyQ29vcmQuY29sdW1uLCBjZW50ZXJDb29yZC5yb3cpO1xuXG4gICAgICAgIC8vIENvbnN0cmFpbiBtaW4vbWF4IHpvb20gdG8gb3VyIHRpbGUncyB6b29tIGxldmVsIGluIG9yZGVyIHRvIGZvcmNlXG4gICAgICAgIC8vIFNvdXJjZUNhY2hlIHRvIHJlcXVlc3QgdGhpcyB0aWxlIChubyBtYXR0ZXIgd2hhdCB0aGUgbWFwJ3Mgem9vbVxuICAgICAgICAvLyBsZXZlbClcbiAgICAgICAgdGhpcy5taW56b29tID0gdGhpcy5tYXh6b29tID0gY2VudGVyQ29vcmQuem9vbTtcblxuICAgICAgICAvLyBUcmFuc2Zvcm0gdGhlIGNvcm5lciBjb29yZGluYXRlcyBpbnRvIHRoZSBjb29yZGluYXRlIHNwYWNlIG9mIG91clxuICAgICAgICAvLyB0aWxlLlxuICAgICAgICBjb25zdCB0aWxlQ29vcmRzID0gY29ybmVyWjBDb29yZHMubWFwKChjb29yZCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgem9vbWVkQ29vcmQgPSBjb29yZC56b29tVG8oY2VudGVyQ29vcmQuem9vbSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICAgICAgICAgIE1hdGgucm91bmQoKHpvb21lZENvb3JkLmNvbHVtbiAtIGNlbnRlckNvb3JkLmNvbHVtbikgKiBFWFRFTlQpLFxuICAgICAgICAgICAgICAgIE1hdGgucm91bmQoKHpvb21lZENvb3JkLnJvdyAtIGNlbnRlckNvb3JkLnJvdykgKiBFWFRFTlQpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzQXJyYXkgPSBuZXcgUmFzdGVyQm91bmRzQXJyYXkoKTtcbiAgICAgICAgdGhpcy5fYm91bmRzQXJyYXkuZW1wbGFjZUJhY2sodGlsZUNvb3Jkc1swXS54LCB0aWxlQ29vcmRzWzBdLnksIDAsIDApO1xuICAgICAgICB0aGlzLl9ib3VuZHNBcnJheS5lbXBsYWNlQmFjayh0aWxlQ29vcmRzWzFdLngsIHRpbGVDb29yZHNbMV0ueSwgRVhURU5ULCAwKTtcbiAgICAgICAgdGhpcy5fYm91bmRzQXJyYXkuZW1wbGFjZUJhY2sodGlsZUNvb3Jkc1szXS54LCB0aWxlQ29vcmRzWzNdLnksIDAsIEVYVEVOVCk7XG4gICAgICAgIHRoaXMuX2JvdW5kc0FycmF5LmVtcGxhY2VCYWNrKHRpbGVDb29yZHNbMl0ueCwgdGlsZUNvb3Jkc1syXS55LCBFWFRFTlQsIEVYVEVOVCk7XG5cbiAgICAgICAgaWYgKHRoaXMuYm91bmRzQnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc0J1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5ib3VuZHNCdWZmZXI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOidzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ2NvbnRlbnQnfSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwcmVwYXJlKCkge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RoID09PSAwIHx8ICF0aGlzLmltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5tYXAucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgaWYgKCF0aGlzLmJvdW5kc0J1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLl9ib3VuZHNBcnJheSwgcmFzdGVyQm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5ib3VuZHNWQU8pIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzVkFPID0gbmV3IFZlcnRleEFycmF5T2JqZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgdGhpcy5pbWFnZSwgZ2wuUkdCQSk7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuYmluZChnbC5ORUFSRVNULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgdyBpbiB0aGlzLnRpbGVzKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy50aWxlc1t3XTtcbiAgICAgICAgICAgIGlmICh0aWxlLnN0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgICAgICAgICB0aWxlLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBhIHNpbmdsZSB0aWxlIC0tIHdob29zZSBjb29yZGluYXRlcyBhcmUgdGhpcy50aWxlSUQgLS0gdGhhdFxuICAgICAgICAvLyBjb3ZlcnMgdGhlIGltYWdlIHdlIHdhbnQgdG8gcmVuZGVyLiAgSWYgdGhhdCdzIHRoZSBvbmUgYmVpbmdcbiAgICAgICAgLy8gcmVxdWVzdGVkLCBzZXQgaXQgdXAgd2l0aCB0aGUgaW1hZ2U7IG90aGVyd2lzZSwgbWFyayB0aGUgdGlsZSBhc1xuICAgICAgICAvLyBgZXJyb3JlZGAgdG8gaW5kaWNhdGUgdGhhdCB3ZSBoYXZlIG5vIGRhdGEgZm9yIGl0LlxuICAgICAgICAvLyBJZiB0aGUgd29ybGQgd3JhcHMsIHdlIG1heSBoYXZlIG11bHRpcGxlIFwid3JhcHBlZFwiIGNvcGllcyBvZiB0aGVcbiAgICAgICAgLy8gc2luZ2xlIHRpbGUuXG4gICAgICAgIGlmICh0aGlzLnRpbGVJRCAmJiB0aGlzLnRpbGVJRC5lcXVhbHModGlsZS50aWxlSUQuY2Fub25pY2FsKSkge1xuICAgICAgICAgICAgdGhpcy50aWxlc1tTdHJpbmcodGlsZS50aWxlSUQud3JhcCldID0gdGlsZTtcbiAgICAgICAgICAgIHRpbGUuYnVja2V0cyA9IHt9O1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2Vycm9yZWQnO1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKTogT2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgICAgICB1cmw6IHRoaXMub3B0aW9ucy51cmwsXG4gICAgICAgICAgICBjb29yZGluYXRlczogdGhpcy5jb29yZGluYXRlc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEltYWdlU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgZ2V0VmlkZW8sIFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5cbmltcG9ydCBJbWFnZVNvdXJjZSBmcm9tICcuL2ltYWdlX3NvdXJjZSc7XG5pbXBvcnQgcmFzdGVyQm91bmRzQXR0cmlidXRlcyBmcm9tICcuLi9kYXRhL3Jhc3Rlcl9ib3VuZHNfYXR0cmlidXRlcyc7XG5pbXBvcnQgVmVydGV4QXJyYXlPYmplY3QgZnJvbSAnLi4vcmVuZGVyL3ZlcnRleF9hcnJheV9vYmplY3QnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vcmVuZGVyL3RleHR1cmUnO1xuaW1wb3J0IHsgRXJyb3JFdmVudCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHR5cGUge0V2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5cbi8qKlxuICogQSBkYXRhIHNvdXJjZSBjb250YWluaW5nIHZpZGVvLlxuICogKFNlZSB0aGUgW1N0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvI3NvdXJjZXMtdmlkZW8pIGZvciBkZXRhaWxlZCBkb2N1bWVudGF0aW9uIG9mIG9wdGlvbnMuKVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBhZGQgdG8gbWFwXG4gKiBtYXAuYWRkU291cmNlKCdzb21lIGlkJywge1xuICogICAgdHlwZTogJ3ZpZGVvJyxcbiAqICAgIHVybDogW1xuICogICAgICAgICdodHRwczovL3d3dy5tYXBib3guY29tL2Jsb2cvYXNzZXRzL2JhbHRpbW9yZS1zbW9rZS5tcDQnLFxuICogICAgICAgICdodHRwczovL3d3dy5tYXBib3guY29tL2Jsb2cvYXNzZXRzL2JhbHRpbW9yZS1zbW9rZS53ZWJtJ1xuICogICAgXSxcbiAqICAgIGNvb3JkaW5hdGVzOiBbXG4gKiAgICAgICAgWy03Ni41NCwgMzkuMThdLFxuICogICAgICAgIFstNzYuNTIsIDM5LjE4XSxcbiAqICAgICAgICBbLTc2LjUyLCAzOS4xN10sXG4gKiAgICAgICAgWy03Ni41NCwgMzkuMTddXG4gKiAgICBdXG4gKiB9KTtcbiAqXG4gKiAvLyB1cGRhdGVcbiAqIHZhciBteVNvdXJjZSA9IG1hcC5nZXRTb3VyY2UoJ3NvbWUgaWQnKTtcbiAqIG15U291cmNlLnNldENvb3JkaW5hdGVzKFtcbiAqICAgICBbLTc2LjU0MzM1NzM3MjI4Mzk0LCAzOS4xODU3OTkwNzIyOTc0OF0sXG4gKiAgICAgWy03Ni41MjgwMzY1OTQzOTA4NywgMzkuMTgzODM2NDg0NzU4N10sXG4gKiAgICAgWy03Ni41Mjk1Mzg2MzE0MzkyLCAzOS4xNzY4MzM5MjUwNzYwNl0sXG4gKiAgICAgWy03Ni41NDUyMDI3MzIwODYxOCwgMzkuMTc4NzYzNDQxMDY2NDJdXG4gKiBdKTtcbiAqXG4gKiBtYXAucmVtb3ZlU291cmNlKCdzb21lIGlkJyk7ICAvLyByZW1vdmVcbiAqIEBzZWUgW0FkZCBhIHZpZGVvXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3ZpZGVvLW9uLWEtbWFwLylcbiAqL1xuY2xhc3MgVmlkZW9Tb3VyY2UgZXh0ZW5kcyBJbWFnZVNvdXJjZSB7XG4gICAgb3B0aW9uczogVmlkZW9Tb3VyY2VTcGVjaWZpY2F0aW9uO1xuICAgIHVybHM6IEFycmF5PHN0cmluZz47XG4gICAgdmlkZW86IEhUTUxWaWRlb0VsZW1lbnQ7XG4gICAgcm91bmRab29tOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBWaWRlb1NvdXJjZVNwZWNpZmljYXRpb24sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoaWQsIG9wdGlvbnMsIGRpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQpO1xuICAgICAgICB0aGlzLnJvdW5kWm9vbSA9IHRydWU7XG4gICAgICAgIHRoaXMudHlwZSA9ICd2aWRlbyc7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuXG4gICAgbG9hZCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICB0aGlzLnVybHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB1cmwgb2Ygb3B0aW9ucy51cmxzKSB7XG4gICAgICAgICAgICB0aGlzLnVybHMucHVzaCh0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdCh1cmwsIFJlc291cmNlVHlwZS5Tb3VyY2UpLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRWaWRlbyh0aGlzLnVybHMsIChlcnIsIHZpZGVvKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KGVycikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2aWRlbykge1xuICAgICAgICAgICAgICAgIHRoaXMudmlkZW8gPSB2aWRlbztcbiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLmxvb3AgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgLy8gU3RhcnQgcmVwYWludGluZyB3aGVuIHZpZGVvIHN0YXJ0cyBwbGF5aW5nLiBoYXNUcmFuc2l0aW9uKCkgd2lsbCB0aGVuIHJldHVyblxuICAgICAgICAgICAgICAgIC8vIHRydWUgdG8gdHJpZ2dlciBhZGRpdGlvbmFsIGZyYW1lcyBhcyBsb25nIGFzIHRoZSB2aWRlb3MgY29udGludWVzIHBsYXlpbmcuXG4gICAgICAgICAgICAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdwbGF5aW5nJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5fcmVyZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLnBsYXkoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9maW5pc2hMb2FkaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEhUTUwgYHZpZGVvYCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybnMge0hUTUxWaWRlb0VsZW1lbnR9IFRoZSBIVE1MIGB2aWRlb2AgZWxlbWVudC5cbiAgICAgKi9cbiAgICBnZXRWaWRlbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW87XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgaWYgKHRoaXMubWFwKSByZXR1cm47XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgaWYgKHRoaXMudmlkZW8pIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZpZGVvJ3MgY29vcmRpbmF0ZXMgYW5kIHJlLXJlbmRlcnMgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBtZXRob2Qgc2V0Q29vcmRpbmF0ZXNcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVmlkZW9Tb3VyY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlcyBGb3VyIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyxcbiAgICAgKiAgIHJlcHJlc2VudGVkIGFzIGFycmF5cyBvZiBsb25naXR1ZGUgYW5kIGxhdGl0dWRlIG51bWJlcnMsIHdoaWNoIGRlZmluZSB0aGUgY29ybmVycyBvZiB0aGUgdmlkZW8uXG4gICAgICogICBUaGUgY29vcmRpbmF0ZXMgc3RhcnQgYXQgdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgdmlkZW8gYW5kIHByb2NlZWQgaW4gY2xvY2t3aXNlIG9yZGVyLlxuICAgICAqICAgVGhleSBkbyBub3QgaGF2ZSB0byByZXByZXNlbnQgYSByZWN0YW5nbGUuXG4gICAgICogQHJldHVybnMge1ZpZGVvU291cmNlfSB0aGlzXG4gICAgICovXG4gICAgLy8gc2V0Q29vcmRpbmF0ZXMgaW5oZXJpdGVkIGZyb20gSW1hZ2VTb3VyY2VcblxuICAgIHByZXBhcmUoKSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGggPT09IDAgfHwgdGhpcy52aWRlby5yZWFkeVN0YXRlIDwgMikge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBub3QgZW5vdWdoIGRhdGEgZm9yIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLm1hcC5wYWludGVyLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBpZiAoIXRoaXMuYm91bmRzQnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc0J1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuX2JvdW5kc0FycmF5LCByYXN0ZXJCb3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmJvdW5kc1ZBTykge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNWQU8gPSBuZXcgVmVydGV4QXJyYXlPYmplY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy50ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLnZpZGVvLCBnbC5SR0JBKTtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMudmlkZW8ucGF1c2VkKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0aGlzLnZpZGVvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgdyBpbiB0aGlzLnRpbGVzKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy50aWxlc1t3XTtcbiAgICAgICAgICAgIGlmICh0aWxlLnN0YXRlICE9PSAnbG9hZGVkJykge1xuICAgICAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnbG9hZGVkJztcbiAgICAgICAgICAgICAgICB0aWxlLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAndmlkZW8nLFxuICAgICAgICAgICAgdXJsczogdGhpcy51cmxzLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHRoaXMuY29vcmRpbmF0ZXNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlbyAmJiAhdGhpcy52aWRlby5wYXVzZWQ7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWRlb1NvdXJjZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBJbWFnZVNvdXJjZSBmcm9tICcuL2ltYWdlX3NvdXJjZSc7XG5cbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vdXRpbC93aW5kb3cnO1xuaW1wb3J0IHJhc3RlckJvdW5kc0F0dHJpYnV0ZXMgZnJvbSAnLi4vZGF0YS9yYXN0ZXJfYm91bmRzX2F0dHJpYnV0ZXMnO1xuaW1wb3J0IFZlcnRleEFycmF5T2JqZWN0IGZyb20gJy4uL3JlbmRlci92ZXJ0ZXhfYXJyYXlfb2JqZWN0JztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4uL3JlbmRlci90ZXh0dXJlJztcbmltcG9ydCB7IEVycm9yRXZlbnQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyJztcbmltcG9ydCB0eXBlIHtFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuXG4vKipcbiAqIEEgZGF0YSBzb3VyY2UgY29udGFpbmluZyB0aGUgY29udGVudHMgb2YgYW4gSFRNTCBjYW52YXMuXG4gKiAoU2VlIHRoZSBbU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jc291cmNlcy1jYW52YXMpIGZvciBkZXRhaWxlZCBkb2N1bWVudGF0aW9uIG9mIG9wdGlvbnMuKVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBhZGQgdG8gbWFwXG4gKiBtYXAuYWRkU291cmNlKCdzb21lIGlkJywge1xuICogICAgdHlwZTogJ2NhbnZhcycsXG4gKiAgICBjYW52YXM6ICdpZE9mTXlIVE1MQ2FudmFzJyxcbiAqICAgIGFuaW1hdGU6IHRydWUsXG4gKiAgICBjb29yZGluYXRlczogW1xuICogICAgICAgIFstNzYuNTQsIDM5LjE4XSxcbiAqICAgICAgICBbLTc2LjUyLCAzOS4xOF0sXG4gKiAgICAgICAgWy03Ni41MiwgMzkuMTddLFxuICogICAgICAgIFstNzYuNTQsIDM5LjE3XVxuICogICAgXVxuICogfSk7XG4gKlxuICogLy8gdXBkYXRlXG4gKiB2YXIgbXlTb3VyY2UgPSBtYXAuZ2V0U291cmNlKCdzb21lIGlkJyk7XG4gKiBteVNvdXJjZS5zZXRDb29yZGluYXRlcyhbXG4gKiAgICAgWy03Ni41NDMzNTczNzIyODM5NCwgMzkuMTg1Nzk5MDcyMjk3NDhdLFxuICogICAgIFstNzYuNTI4MDM2NTk0MzkwODcsIDM5LjE4MzgzNjQ4NDc1ODddLFxuICogICAgIFstNzYuNTI5NTM4NjMxNDM5MiwgMzkuMTc2ODMzOTI1MDc2MDZdLFxuICogICAgIFstNzYuNTQ1MjAyNzMyMDg2MTgsIDM5LjE3ODc2MzQ0MTA2NjQyXVxuICogXSk7XG4gKlxuICogbWFwLnJlbW92ZVNvdXJjZSgnc29tZSBpZCcpOyAgLy8gcmVtb3ZlXG4gKi9cbmNsYXNzIENhbnZhc1NvdXJjZSBleHRlbmRzIEltYWdlU291cmNlIHtcbiAgICBvcHRpb25zOiBDYW52YXNTb3VyY2VTcGVjaWZpY2F0aW9uO1xuICAgIGFuaW1hdGU6IGJvb2xlYW47XG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIHBsYXk6ICgpID0+IHZvaWQ7XG4gICAgcGF1c2U6ICgpID0+IHZvaWQ7XG4gICAgX3BsYXlpbmc6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IENhbnZhc1NvdXJjZVNwZWNpZmljYXRpb24sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoaWQsIG9wdGlvbnMsIGRpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmFuaW1hdGUgPSBvcHRpb25zLmFuaW1hdGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5pbWF0ZSA6IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBhbmltYXRpb24uIFRoZSBpbWFnZSB3aWxsIGJlIGNvcGllZCBmcm9tIHRoZSBjYW52YXMgdG8gdGhlIG1hcCBvbiBlYWNoIGZyYW1lLlxuICAgICAqIEBtZXRob2QgcGxheVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBDYW52YXNTb3VyY2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIGFuaW1hdGlvbi4gVGhlIG1hcCB3aWxsIGRpc3BsYXkgYSBzdGF0aWMgY29weSBvZiB0aGUgY2FudmFzIGltYWdlLlxuICAgICAqIEBtZXRob2QgcGF1c2VcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQ2FudmFzU291cmNlXG4gICAgICovXG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IHRoaXMuY2FudmFzIHx8IHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9wdGlvbnMuY2FudmFzKTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodDtcblxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZERpbWVuc2lvbnMoKSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcignQ2FudmFzIGRpbWVuc2lvbnMgY2Fubm90IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB6ZXJvLicpKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX3BsYXlpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYXAuX3JlcmVuZGVyKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fcGxheWluZyA9IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2ZpbmlzaExvYWRpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBIVE1MIGBjYW52YXNgIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTENhbnZhc0VsZW1lbnR9IFRoZSBIVE1MIGBjYW52YXNgIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0Q2FudmFzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXM7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICBpZiAodGhpcy5jYW52YXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGUpIHRoaXMucGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjYW52YXMncyBjb29yZGluYXRlcyBhbmQgcmUtcmVuZGVycyB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBzZXRDb29yZGluYXRlc1xuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBDYW52YXNTb3VyY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5PEFycmF5PG51bWJlcj4+fSBjb29yZGluYXRlcyBGb3VyIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyxcbiAgICAgKiAgIHJlcHJlc2VudGVkIGFzIGFycmF5cyBvZiBsb25naXR1ZGUgYW5kIGxhdGl0dWRlIG51bWJlcnMsIHdoaWNoIGRlZmluZSB0aGUgY29ybmVycyBvZiB0aGUgY2FudmFzLlxuICAgICAqICAgVGhlIGNvb3JkaW5hdGVzIHN0YXJ0IGF0IHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIGNhbnZhcyBhbmQgcHJvY2VlZCBpbiBjbG9ja3dpc2Ugb3JkZXIuXG4gICAgICogICBUaGV5IGRvIG5vdCBoYXZlIHRvIHJlcHJlc2VudCBhIHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJucyB7Q2FudmFzU291cmNlfSB0aGlzXG4gICAgICovXG4gICAgLy8gc2V0Q29vcmRpbmF0ZXMgaW5oZXJpdGVkIGZyb20gSW1hZ2VTb3VyY2VcblxuICAgIHByZXBhcmUoKSB7XG4gICAgICAgIGxldCByZXNpemUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuY2FudmFzLndpZHRoICE9PSB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgICAgICAgICByZXNpemUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNhbnZhcy5oZWlnaHQgIT09IHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodDtcbiAgICAgICAgICAgIHJlc2l6ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZERpbWVuc2lvbnMoKSkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGggPT09IDApIHJldHVybjsgLy8gbm90IGVub3VnaCBkYXRhIGZvciBjdXJyZW50IHBvc2l0aW9uXG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMubWFwLnBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIGlmICghdGhpcy5ib3VuZHNCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzQnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5fYm91bmRzQXJyYXksIHJhc3RlckJvdW5kc0F0dHJpYnV0ZXMubWVtYmVycyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuYm91bmRzVkFPKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc1ZBTyA9IG5ldyBWZXJ0ZXhBcnJheU9iamVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIHRoaXMuY2FudmFzLCBnbC5SR0JBKTtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzaXplKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUudXBkYXRlKHRoaXMuY2FudmFzKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9wbGF5aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0aGlzLmNhbnZhcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHcgaW4gdGhpcy50aWxlcykge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMudGlsZXNbd107XG4gICAgICAgICAgICBpZiAodGlsZS5zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IE9iamVjdCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnY2FudmFzJyxcbiAgICAgICAgICAgIGNhbnZhczogdGhpcy5jYW52YXMsXG4gICAgICAgICAgICBjb29yZGluYXRlczogdGhpcy5jb29yZGluYXRlc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wbGF5aW5nO1xuICAgIH1cblxuICAgIF9oYXNJbnZhbGlkRGltZW5zaW9ucygpIHtcbiAgICAgICAgZm9yIChjb25zdCB4IG9mIFt0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0XSkge1xuICAgICAgICAgICAgaWYgKGlzTmFOKHgpIHx8IHggPD0gMCkgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgYmluZEFsbCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyJztcbmltcG9ydCB0eXBlIHtFdmVudCwgRXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4vdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrJztcblxuLyoqXG4gKiBUaGUgYFNvdXJjZWAgaW50ZXJmYWNlIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBzb3VyY2UgdHlwZSwgaW5jbHVkaW5nIFwiY29yZVwiIHR5cGVzIChgdmVjdG9yYCwgYHJhc3RlcmAsXG4gKiBgdmlkZW9gLCBldGMuKSBhbmQgYWxsIGN1c3RvbSwgdGhpcmQtcGFydHkgdHlwZXMuXG4gKlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGlkIGZvciB0aGUgc291cmNlLiBNdXN0IG5vdCBiZSB1c2VkIGJ5IGFueSBleGlzdGluZyBzb3VyY2UuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBTb3VyY2Ugb3B0aW9ucywgc3BlY2lmaWMgdG8gdGhlIHNvdXJjZSB0eXBlIChleGNlcHQgZm9yIGBvcHRpb25zLnR5cGVgLCB3aGljaCBpcyBhbHdheXNcbiAqIHJlcXVpcmVkKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnR5cGUgVGhlIHNvdXJjZSB0eXBlLCBtYXRjaGluZyB0aGUgdmFsdWUgb2YgYG5hbWVgIHVzZWQgaW4ge0BsaW5rIFN0eWxlI2FkZFNvdXJjZVR5cGV9LlxuICogQHBhcmFtIHtEaXNwYXRjaGVyfSBkaXNwYXRjaGVyIEEge0BsaW5rIERpc3BhdGNoZXJ9IGluc3RhbmNlLCB3aGljaCBjYW4gYmUgdXNlZCB0byBzZW5kIG1lc3NhZ2VzIHRvIHRoZSB3b3JrZXJzLlxuICpcbiAqIEBmaXJlcyBkYXRhIHdpdGggYHtkYXRhVHlwZTogJ3NvdXJjZScsIHNvdXJjZURhdGFUeXBlOiAnbWV0YWRhdGEnfWAgdG8gaW5kaWNhdGUgdGhhdCBhbnkgbmVjZXNzYXJ5IG1ldGFkYXRhXG4gKiBoYXMgYmVlbiBsb2FkZWQgc28gdGhhdCBpdCdzIG9rYXkgdG8gY2FsbCBgbG9hZFRpbGVgOyBhbmQgd2l0aCBge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50J31gXG4gKiB0byBpbmRpY2F0ZSB0aGF0IHRoZSBzb3VyY2UgZGF0YSBoYXMgY2hhbmdlZCwgc28gdGhhdCBhbnkgY3VycmVudCBjYWNoZXMgc2hvdWxkIGJlIGZsdXNoZWQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWQgVGhlIGlkIGZvciB0aGUgc291cmNlLiAgTXVzdCBtYXRjaCB0aGUgaWQgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW56b29tXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4em9vbVxuICogQHByb3BlcnR5IHtib29sZWFufSBpc1RpbGVDbGlwcGVkIGBmYWxzZWAgaWYgdGlsZXMgY2FuIGJlIGRyYXduIG91dHNpZGUgdGhlaXIgYm91bmRhcmllcywgYHRydWVgIGlmIHRoZXkgY2Fubm90LlxuICogQHByb3BlcnR5IHtib29sZWFufSByZXBhcnNlT3ZlcnNjYWxlZCBgdHJ1ZWAgaWYgdGlsZXMgc2hvdWxkIGJlIHNlbnQgYmFjayB0byB0aGUgd29ya2VyIGZvciBlYWNoIG92ZXJ6b29tZWQgem9vbVxuICogbGV2ZWwsIGBmYWxzZWAgaWYgbm90LlxuICogQHByb3BlcnR5IHtib29sZWFufSByb3VuZFpvb20gYHRydWVgIGlmIHpvb20gbGV2ZWxzIGFyZSByb3VuZGVkIHRvIHRoZSBuZWFyZXN0IGludGVnZXIgaW4gdGhlIHNvdXJjZSBkYXRhLCBgZmFsc2VgXG4gKiBpZiB0aGV5IGFyZSBmbG9vci1lZCB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgVVJMIHRvIGEgc2NyaXB0IHdoaWNoLCB3aGVuIHJ1biBieSBhIFdvcmtlciwgcmVnaXN0ZXJzIGEge0BsaW5rIFdvcmtlclNvdXJjZX1cbiAgICAgKiBpbXBsZW1lbnRhdGlvbiBmb3IgdGhpcyBTb3VyY2UgdHlwZSBieSBjYWxsaW5nIGBzZWxmLnJlZ2lzdGVyV29ya2VyU291cmNlKHdvcmtlclNvdXJjZTogV29ya2VyU291cmNlKWAuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICAvLyBTdGF0aWMgaW50ZXJmYWNlIHByb3BlcnRpZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gZmxvdyBhcyBvZiAwLjYyLjAuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzU1OTBcbiAgICAvLyBzdGF0aWMgd29ya2VyU291cmNlVVJMPzogVVJMO1xuXG4gICAgK3R5cGU6IHN0cmluZztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcixcbiAgICBtYXh6b29tOiBudW1iZXIsXG4gICAgdGlsZVNpemU6IG51bWJlcixcbiAgICBhdHRyaWJ1dGlvbj86IHN0cmluZyxcblxuICAgIHJvdW5kWm9vbT86IGJvb2xlYW4sXG4gICAgcmVwYXJzZU92ZXJzY2FsZWQ/OiBib29sZWFuLFxuICAgIHZlY3RvckxheWVySWRzPzogQXJyYXk8c3RyaW5nPixcblxuICAgIGhhc1RyYW5zaXRpb24oKTogYm9vbGVhbjtcblxuICAgIGZpcmUoZXZlbnQ6IEV2ZW50KTogbWl4ZWQ7XG5cbiAgICArb25BZGQ/OiAobWFwOiBNYXApID0+IHZvaWQ7XG4gICAgK29uUmVtb3ZlPzogKG1hcDogTWFwKSA9PiB2b2lkO1xuXG4gICAgbG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KTogdm9pZDtcbiAgICAraGFzVGlsZT86ICh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpID0+IGJvb2xlYW47XG4gICAgK2Fib3J0VGlsZT86ICh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pID0+IHZvaWQ7XG4gICAgK3VubG9hZFRpbGU/OiAodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSA9PiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgQSBwbGFpbiAoc3RyaW5naWZpYWJsZSkgSlMgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgc291cmNlLlxuICAgICAqIENyZWF0aW5nIGEgc291cmNlIHVzaW5nIHRoZSByZXR1cm5lZCBvYmplY3QgYXMgdGhlIGBvcHRpb25zYCBzaG91bGQgcmVzdWx0IGluIGEgU291cmNlIHRoYXQgaXNcbiAgICAgKiBlcXVpdmFsZW50IHRvIHRoaXMgb25lLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc2VyaWFsaXplKCk6IE9iamVjdDtcblxuICAgICtwcmVwYXJlPzogKCkgPT4gdm9pZDtcbn1cblxuaW1wb3J0IHZlY3RvciBmcm9tICcuLi9zb3VyY2UvdmVjdG9yX3RpbGVfc291cmNlJztcbmltcG9ydCByYXN0ZXIgZnJvbSAnLi4vc291cmNlL3Jhc3Rlcl90aWxlX3NvdXJjZSc7XG5pbXBvcnQgcmFzdGVyRGVtIGZyb20gJy4uL3NvdXJjZS9yYXN0ZXJfZGVtX3RpbGVfc291cmNlJztcbmltcG9ydCBnZW9qc29uIGZyb20gJy4uL3NvdXJjZS9nZW9qc29uX3NvdXJjZSc7XG5pbXBvcnQgdmlkZW8gZnJvbSAnLi4vc291cmNlL3ZpZGVvX3NvdXJjZSc7XG5pbXBvcnQgaW1hZ2UgZnJvbSAnLi4vc291cmNlL2ltYWdlX3NvdXJjZSc7XG5pbXBvcnQgY2FudmFzIGZyb20gJy4uL3NvdXJjZS9jYW52YXNfc291cmNlJztcblxuY29uc3Qgc291cmNlVHlwZXMgPSB7XG4gICAgdmVjdG9yLFxuICAgIHJhc3RlcixcbiAgICAncmFzdGVyLWRlbSc6IHJhc3RlckRlbSxcbiAgICBnZW9qc29uLFxuICAgIHZpZGVvLFxuICAgIGltYWdlLFxuICAgIGNhbnZhc1xufTtcblxuLypcbiAqIENyZWF0ZXMgYSB0aWxlZCBkYXRhIHNvdXJjZSBpbnN0YW5jZSBnaXZlbiBhbiBvcHRpb25zIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gaWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgQSBzb3VyY2UgZGVmaW5pdGlvbiBvYmplY3QgY29tcGxpYW50IHdpdGhcbiAqIFtgbWFwYm94LWdsLXN0eWxlLXNwZWNgXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzKSBvciwgZm9yIGEgdGhpcmQtcGFydHkgc291cmNlIHR5cGUsXG4gICogd2l0aCB0aGF0IHR5cGUncyByZXF1aXJlbWVudHMuXG4gKiBAcGFyYW0ge0Rpc3BhdGNoZXJ9IGRpc3BhdGNoZXJcbiAqIEByZXR1cm5zIHtTb3VyY2V9XG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGUgPSBmdW5jdGlvbihpZDogc3RyaW5nLCBzcGVjaWZpY2F0aW9uOiBTb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgY29uc3Qgc291cmNlID0gbmV3IHNvdXJjZVR5cGVzW3NwZWNpZmljYXRpb24udHlwZV0oaWQsIChzcGVjaWZpY2F0aW9uOiBhbnkpLCBkaXNwYXRjaGVyLCBldmVudGVkUGFyZW50KTtcblxuICAgIGlmIChzb3VyY2UuaWQgIT09IGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgU291cmNlIGlkIHRvIGJlICR7aWR9IGluc3RlYWQgb2YgJHtzb3VyY2UuaWR9YCk7XG4gICAgfVxuXG4gICAgYmluZEFsbChbJ2xvYWQnLCAnYWJvcnQnLCAndW5sb2FkJywgJ3NlcmlhbGl6ZScsICdwcmVwYXJlJ10sIHNvdXJjZSk7XG4gICAgcmV0dXJuIHNvdXJjZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRUeXBlID0gZnVuY3Rpb24gKG5hbWU6IHN0cmluZykge1xuICAgIHJldHVybiBzb3VyY2VUeXBlc1tuYW1lXTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRUeXBlID0gZnVuY3Rpb24gKG5hbWU6IHN0cmluZywgdHlwZTogQ2xhc3M8U291cmNlPikge1xuICAgIHNvdXJjZVR5cGVzW25hbWVdID0gdHlwZTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWN0b3Ige1xuICAgIHNlbmQodHlwZTogc3RyaW5nLCBkYXRhOiBPYmplY3QsIGNhbGxiYWNrOiBDYWxsYmFjazxhbnk+KTogdm9pZDtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4vc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgQ29vcmRpbmF0ZSBmcm9tICcuLi9nZW8vY29vcmRpbmF0ZSc7XG5pbXBvcnQgdHlwZSBDb2xsaXNpb25JbmRleCBmcm9tICcuLi9zeW1ib2wvY29sbGlzaW9uX2luZGV4JztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcblxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVMYXllcnM6IHtbc3RyaW5nXTogU3R5bGVMYXllcn0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlHZW9tZXRyeTogQXJyYXk8Q29vcmRpbmF0ZT4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7IGZpbHRlcjogRmlsdGVyU3BlY2lmaWNhdGlvbiwgbGF5ZXJzOiBBcnJheTxzdHJpbmc+IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uSW5kZXg6ID9Db2xsaXNpb25JbmRleCkge1xuICAgIGNvbnN0IG1heFBpdGNoU2NhbGVGYWN0b3IgPSB0cmFuc2Zvcm0ubWF4UGl0Y2hTY2FsZUZhY3RvcigpO1xuICAgIGNvbnN0IHRpbGVzSW4gPSBzb3VyY2VDYWNoZS50aWxlc0luKHF1ZXJ5R2VvbWV0cnksIG1heFBpdGNoU2NhbGVGYWN0b3IpO1xuXG4gICAgdGlsZXNJbi5zb3J0KHNvcnRUaWxlc0luKTtcblxuICAgIGNvbnN0IHJlbmRlcmVkRmVhdHVyZUxheWVycyA9IFtdO1xuICAgIGZvciAoY29uc3QgdGlsZUluIG9mIHRpbGVzSW4pIHtcbiAgICAgICAgcmVuZGVyZWRGZWF0dXJlTGF5ZXJzLnB1c2goe1xuICAgICAgICAgICAgd3JhcHBlZFRpbGVJRDogdGlsZUluLnRpbGVJRC53cmFwcGVkKCkua2V5LFxuICAgICAgICAgICAgcXVlcnlSZXN1bHRzOiB0aWxlSW4udGlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoXG4gICAgICAgICAgICAgICAgc3R5bGVMYXllcnMsXG4gICAgICAgICAgICAgICAgdGlsZUluLnF1ZXJ5R2VvbWV0cnksXG4gICAgICAgICAgICAgICAgdGlsZUluLnNjYWxlLFxuICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgbWF4UGl0Y2hTY2FsZUZhY3RvcixcbiAgICAgICAgICAgICAgICBzb3VyY2VDYWNoZS50cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4KHRpbGVJbi50aWxlSUQudG9VbndyYXBwZWQoKSksXG4gICAgICAgICAgICAgICAgc291cmNlQ2FjaGUuaWQsXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uSW5kZXgpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtZXJnZVJlbmRlcmVkRmVhdHVyZUxheWVycyhyZW5kZXJlZEZlYXR1cmVMYXllcnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlTb3VyY2VGZWF0dXJlcyhzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIHBhcmFtczogYW55KSB7XG4gICAgY29uc3QgdGlsZXMgPSBzb3VyY2VDYWNoZS5nZXRSZW5kZXJhYmxlSWRzKCkubWFwKChpZCkgPT4ge1xuICAgICAgICByZXR1cm4gc291cmNlQ2FjaGUuZ2V0VGlsZUJ5SUQoaWQpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICBjb25zdCBkYXRhVGlsZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB0aWxlc1tpXTtcbiAgICAgICAgY29uc3QgZGF0YUlEID0gdGlsZS50aWxlSUQuY2Fub25pY2FsLmtleTtcbiAgICAgICAgaWYgKCFkYXRhVGlsZXNbZGF0YUlEXSkge1xuICAgICAgICAgICAgZGF0YVRpbGVzW2RhdGFJRF0gPSB0cnVlO1xuICAgICAgICAgICAgdGlsZS5xdWVyeVNvdXJjZUZlYXR1cmVzKHJlc3VsdCwgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHNvcnRUaWxlc0luKGEsIGIpIHtcbiAgICBjb25zdCBpZEEgPSBhLnRpbGVJRDtcbiAgICBjb25zdCBpZEIgPSBiLnRpbGVJRDtcbiAgICByZXR1cm4gKGlkQS5vdmVyc2NhbGVkWiAtIGlkQi5vdmVyc2NhbGVkWikgfHwgKGlkQS5jYW5vbmljYWwueSAtIGlkQi5jYW5vbmljYWwueSkgfHwgKGlkQS53cmFwIC0gaWRCLndyYXApIHx8IChpZEEuY2Fub25pY2FsLnggLSBpZEIuY2Fub25pY2FsLngpO1xufVxuXG5mdW5jdGlvbiBtZXJnZVJlbmRlcmVkRmVhdHVyZUxheWVycyh0aWxlcykge1xuICAgIC8vIE1lcmdlIHJlc3VsdHMgZnJvbSBhbGwgdGlsZXMsIGJ1dCBpZiB0d28gdGlsZXMgc2hhcmUgdGhlIHNhbWVcbiAgICAvLyB3cmFwcGVkIElELCBkb24ndCBkdXBsaWNhdGUgZmVhdHVyZXMgYmV0d2VlbiB0aGUgdHdvIHRpbGVzXG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgY29uc3Qgd3JhcHBlZElETGF5ZXJNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHRpbGUgb2YgdGlsZXMpIHtcbiAgICAgICAgY29uc3QgcXVlcnlSZXN1bHRzID0gdGlsZS5xdWVyeVJlc3VsdHM7XG4gICAgICAgIGNvbnN0IHdyYXBwZWRJRCA9IHRpbGUud3JhcHBlZFRpbGVJRDtcbiAgICAgICAgY29uc3Qgd3JhcHBlZElETGF5ZXJzID0gd3JhcHBlZElETGF5ZXJNYXBbd3JhcHBlZElEXSA9IHdyYXBwZWRJRExheWVyTWFwW3dyYXBwZWRJRF0gfHwge307XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJRCBpbiBxdWVyeVJlc3VsdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVGZWF0dXJlcyA9IHF1ZXJ5UmVzdWx0c1tsYXllcklEXTtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRJREZlYXR1cmVzID0gd3JhcHBlZElETGF5ZXJzW2xheWVySURdID0gd3JhcHBlZElETGF5ZXJzW2xheWVySURdIHx8IHt9O1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0RmVhdHVyZXMgPSByZXN1bHRbbGF5ZXJJRF0gPSByZXN1bHRbbGF5ZXJJRF0gfHwgW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRpbGVGZWF0dXJlIG9mIHRpbGVGZWF0dXJlcykge1xuICAgICAgICAgICAgICAgIGlmICghd3JhcHBlZElERmVhdHVyZXNbdGlsZUZlYXR1cmUuZmVhdHVyZUluZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkSURGZWF0dXJlc1t0aWxlRmVhdHVyZS5mZWF0dXJlSW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0RmVhdHVyZXMucHVzaCh0aWxlRmVhdHVyZS5mZWF0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsIi8vIEBmbG93XG5cbi8qKlxuICogR3JpZEluZGV4IGlzIGEgZGF0YSBzdHJ1Y3R1cmUgZm9yIHRlc3RpbmcgdGhlIGludGVyc2VjdGlvbiBvZlxuICogY2lyY2xlcyBhbmQgcmVjdGFuZ2xlcyBpbiBhIDJkIHBsYW5lLlxuICogSXQgaXMgb3B0aW1pemVkIGZvciByYXBpZCBpbnNlcnRpb24gYW5kIHF1ZXJ5aW5nLlxuICogR3JpZEluZGV4IHNwbGl0cyB0aGUgcGxhbmUgaW50byBhIHNldCBvZiBcImNlbGxzXCIgYW5kIGtlZXBzIHRyYWNrXG4gKiBvZiB3aGljaCBnZW9tZXRyaWVzIGludGVyc2VjdCB3aXRoIGVhY2ggY2VsbC4gQXQgcXVlcnkgdGltZSxcbiAqIGZ1bGwgZ2VvbWV0cnkgY29tcGFyaXNvbnMgYXJlIG9ubHkgZG9uZSBmb3IgaXRlbXMgdGhhdCBzaGFyZVxuICogYXQgbGVhc3Qgb25lIGNlbGwuIEFzIGxvbmcgYXMgdGhlIGdlb21ldHJpZXMgYXJlIHJlbGF0aXZlbHlcbiAqIHVuaWZvcm1seSBkaXN0cmlidXRlZCBhY3Jvc3MgdGhlIHBsYW5lLCB0aGlzIGdyZWF0bHkgcmVkdWNlc1xuICogdGhlIG51bWJlciBvZiBjb21wYXJpc29ucyBuZWNlc3NhcnkuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgR3JpZEluZGV4IHtcbiAgICBjaXJjbGVLZXlzOiBBcnJheTxhbnk+O1xuICAgIGJveEtleXM6IEFycmF5PGFueT47XG4gICAgYm94Q2VsbHM6IEFycmF5PEFycmF5PG51bWJlcj4+O1xuICAgIGNpcmNsZUNlbGxzOiBBcnJheTxBcnJheTxudW1iZXI+PjtcbiAgICBiYm94ZXM6IEFycmF5PG51bWJlcj47XG4gICAgY2lyY2xlczogQXJyYXk8bnVtYmVyPjtcbiAgICB4Q2VsbENvdW50OiBudW1iZXI7XG4gICAgeUNlbGxDb3VudDogbnVtYmVyO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgeFNjYWxlOiBudW1iZXI7XG4gICAgeVNjYWxlOiBudW1iZXI7XG4gICAgYm94VWlkOiBudW1iZXI7XG4gICAgY2lyY2xlVWlkOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvciAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGNlbGxTaXplOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgYm94Q2VsbHMgPSB0aGlzLmJveENlbGxzID0gW107XG4gICAgICAgIGNvbnN0IGNpcmNsZUNlbGxzID0gdGhpcy5jaXJjbGVDZWxscyA9IFtdO1xuXG4gICAgICAgIC8vIE1vcmUgY2VsbHMgLT4gZmV3ZXIgZ2VvbWV0cmllcyB0byBjaGVjayBwZXIgY2VsbCwgYnV0IGl0ZW1zIHRlbmRcbiAgICAgICAgLy8gdG8gYmUgc3BsaXQgYWNyb3NzIG1vcmUgY2VsbHMuXG4gICAgICAgIC8vIFN3ZWV0IHNwb3QgYWxsb3dzIG1vc3Qgc21hbGwgaXRlbXMgdG8gZml0IGluIG9uZSBjZWxsXG4gICAgICAgIHRoaXMueENlbGxDb3VudCA9IE1hdGguY2VpbCh3aWR0aCAvIGNlbGxTaXplKTtcbiAgICAgICAgdGhpcy55Q2VsbENvdW50ID0gTWF0aC5jZWlsKGhlaWdodCAvIGNlbGxTaXplKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMueENlbGxDb3VudCAqIHRoaXMueUNlbGxDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBib3hDZWxscy5wdXNoKFtdKTtcbiAgICAgICAgICAgIGNpcmNsZUNlbGxzLnB1c2goW10pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2lyY2xlS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLmJveEtleXMgPSBbXTtcbiAgICAgICAgdGhpcy5iYm94ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5jaXJjbGVzID0gW107XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy54U2NhbGUgPSB0aGlzLnhDZWxsQ291bnQgLyB3aWR0aDtcbiAgICAgICAgdGhpcy55U2NhbGUgPSB0aGlzLnlDZWxsQ291bnQgLyBoZWlnaHQ7XG4gICAgICAgIHRoaXMuYm94VWlkID0gMDtcbiAgICAgICAgdGhpcy5jaXJjbGVVaWQgPSAwO1xuICAgIH1cblxuICAgIGtleXNMZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJveEtleXMubGVuZ3RoICsgdGhpcy5jaXJjbGVLZXlzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBpbnNlcnQoa2V5OiBhbnksIHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fZm9yRWFjaENlbGwoeDEsIHkxLCB4MiwgeTIsIHRoaXMuX2luc2VydEJveENlbGwsIHRoaXMuYm94VWlkKyspO1xuICAgICAgICB0aGlzLmJveEtleXMucHVzaChrZXkpO1xuICAgICAgICB0aGlzLmJib3hlcy5wdXNoKHgxKTtcbiAgICAgICAgdGhpcy5iYm94ZXMucHVzaCh5MSk7XG4gICAgICAgIHRoaXMuYmJveGVzLnB1c2goeDIpO1xuICAgICAgICB0aGlzLmJib3hlcy5wdXNoKHkyKTtcbiAgICB9XG5cbiAgICBpbnNlcnRDaXJjbGUoa2V5OiBhbnksIHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlcikge1xuICAgICAgICAvLyBJbnNlcnQgY2lyY2xlIGludG8gZ3JpZCBmb3IgYWxsIGNlbGxzIGluIHRoZSBjaXJjdW1zY3JpYmluZyBzcXVhcmVcbiAgICAgICAgLy8gSXQncyBtb3JlIHRoYW4gbmVjZXNzYXJ5IChieSBhIGZhY3RvciBvZiA0L1BJKSwgYnV0IGZhc3QgdG8gaW5zZXJ0XG4gICAgICAgIHRoaXMuX2ZvckVhY2hDZWxsKHggLSByYWRpdXMsIHkgLSByYWRpdXMsIHggKyByYWRpdXMsIHkgKyByYWRpdXMsIHRoaXMuX2luc2VydENpcmNsZUNlbGwsIHRoaXMuY2lyY2xlVWlkKyspO1xuICAgICAgICB0aGlzLmNpcmNsZUtleXMucHVzaChrZXkpO1xuICAgICAgICB0aGlzLmNpcmNsZXMucHVzaCh4KTtcbiAgICAgICAgdGhpcy5jaXJjbGVzLnB1c2goeSk7XG4gICAgICAgIHRoaXMuY2lyY2xlcy5wdXNoKHJhZGl1cyk7XG4gICAgfVxuXG4gICAgX2luc2VydEJveENlbGwoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgY2VsbEluZGV4OiBudW1iZXIsIHVpZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuYm94Q2VsbHNbY2VsbEluZGV4XS5wdXNoKHVpZCk7XG4gICAgfVxuXG4gICAgX2luc2VydENpcmNsZUNlbGwoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgY2VsbEluZGV4OiBudW1iZXIsIHVpZDogbnVtYmVyKSAge1xuICAgICAgICB0aGlzLmNpcmNsZUNlbGxzW2NlbGxJbmRleF0ucHVzaCh1aWQpO1xuICAgIH1cblxuICAgIF9xdWVyeSh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBoaXRUZXN0OiBib29sZWFuKSB7XG4gICAgICAgIGlmICh4MiA8IDAgfHwgeDEgPiB0aGlzLndpZHRoIHx8IHkyIDwgMCB8fCB5MSA+IHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gaGl0VGVzdCA/IGZhbHNlIDogW107XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAoeDEgPD0gMCAmJiB5MSA8PSAwICYmIHRoaXMud2lkdGggPD0geDIgJiYgdGhpcy5oZWlnaHQgPD0geTIpIHtcbiAgICAgICAgICAgIC8vIFdlIHVzZSBgQXJyYXkjc2xpY2VgIGJlY2F1c2UgYHRoaXMua2V5c2AgbWF5IGJlIGEgYEludDMyQXJyYXlgIGFuZFxuICAgICAgICAgICAgLy8gc29tZSBicm93c2VycyAoU2FmYXJpIGFuZCBJRSkgZG8gbm90IHN1cHBvcnQgYFR5cGVkQXJyYXkjc2xpY2VgXG4gICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9UeXBlZEFycmF5L3NsaWNlI0Jyb3dzZXJfY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgcmVzdWx0ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5ib3hLZXlzKS5jb25jYXQodGhpcy5jaXJjbGVLZXlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5QXJncyA9IHtcbiAgICAgICAgICAgICAgICBoaXRUZXN0LFxuICAgICAgICAgICAgICAgIHNlZW5VaWRzOiB7IGJveDoge30sIGNpcmNsZToge30gfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2ZvckVhY2hDZWxsKHgxLCB5MSwgeDIsIHkyLCB0aGlzLl9xdWVyeUNlbGwsIHJlc3VsdCwgcXVlcnlBcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGl0VGVzdCA/IHJlc3VsdC5sZW5ndGggPiAwIDogcmVzdWx0O1xuICAgIH1cblxuICAgIF9xdWVyeUNpcmNsZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIGhpdFRlc3Q6IGJvb2xlYW4pIHtcbiAgICAgICAgLy8gSW5zZXJ0IGNpcmNsZSBpbnRvIGdyaWQgZm9yIGFsbCBjZWxscyBpbiB0aGUgY2lyY3Vtc2NyaWJpbmcgc3F1YXJlXG4gICAgICAgIC8vIEl0J3MgbW9yZSB0aGFuIG5lY2Vzc2FyeSAoYnkgYSBmYWN0b3Igb2YgNC9QSSksIGJ1dCBmYXN0IHRvIGluc2VydFxuICAgICAgICBjb25zdCB4MSA9IHggLSByYWRpdXM7XG4gICAgICAgIGNvbnN0IHgyID0geCArIHJhZGl1cztcbiAgICAgICAgY29uc3QgeTEgPSB5IC0gcmFkaXVzO1xuICAgICAgICBjb25zdCB5MiA9IHkgKyByYWRpdXM7XG4gICAgICAgIGlmICh4MiA8IDAgfHwgeDEgPiB0aGlzLndpZHRoIHx8IHkyIDwgMCB8fCB5MSA+IHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gaGl0VGVzdCA/IGZhbHNlIDogW107XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCb3ggcXVlcnkgZWFybHkgZXhpdHMgaWYgdGhlIGJvdW5kaW5nIGJveCBpcyBsYXJnZXIgdGhhbiB0aGUgZ3JpZCwgYnV0IHdlIGRvbid0IGRvXG4gICAgICAgIC8vIHRoZSBlcXVpdmFsZW50IGNhbGN1bGF0aW9uIGZvciBjaXJjbGUgcXVlcmllcyBiZWNhdXNlIGVhcmx5IGV4aXQgaXMgbGVzcyBsaWtlbHlcbiAgICAgICAgLy8gYW5kIHRoZSBjYWxjdWxhdGlvbiBpcyBtb3JlIGV4cGVuc2l2ZVxuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgY29uc3QgcXVlcnlBcmdzID0ge1xuICAgICAgICAgICAgaGl0VGVzdCxcbiAgICAgICAgICAgIGNpcmNsZTogeyB4OiB4LCB5OiB5LCByYWRpdXM6IHJhZGl1cyB9LFxuICAgICAgICAgICAgc2VlblVpZHM6IHsgYm94OiB7fSwgY2lyY2xlOiB7fSB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2ZvckVhY2hDZWxsKHgxLCB5MSwgeDIsIHkyLCB0aGlzLl9xdWVyeUNlbGxDaXJjbGUsIHJlc3VsdCwgcXVlcnlBcmdzKTtcbiAgICAgICAgcmV0dXJuIGhpdFRlc3QgPyByZXN1bHQubGVuZ3RoID4gMCA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICBxdWVyeSh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogQXJyYXk8YW55PiB7XG4gICAgICAgIHJldHVybiAodGhpcy5fcXVlcnkoeDEsIHkxLCB4MiwgeTIsIGZhbHNlKTogYW55KTtcbiAgICB9XG5cbiAgICBoaXRUZXN0KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBib29sZWFuICB7XG4gICAgICAgIHJldHVybiAodGhpcy5fcXVlcnkoeDEsIHkxLCB4MiwgeTIsIHRydWUpOiBhbnkpO1xuICAgIH1cblxuICAgIGhpdFRlc3RDaXJjbGUoeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAodGhpcy5fcXVlcnlDaXJjbGUoeCwgeSwgcmFkaXVzLCB0cnVlKTogYW55KTtcbiAgICB9XG5cbiAgICBfcXVlcnlDZWxsKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIGNlbGxJbmRleDogbnVtYmVyLCByZXN1bHQ6IGFueSwgcXVlcnlBcmdzOiBhbnkpIHtcbiAgICAgICAgY29uc3Qgc2VlblVpZHMgPSBxdWVyeUFyZ3Muc2VlblVpZHM7XG4gICAgICAgIGNvbnN0IGJveENlbGwgPSB0aGlzLmJveENlbGxzW2NlbGxJbmRleF07XG4gICAgICAgIGlmIChib3hDZWxsICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBiYm94ZXMgPSB0aGlzLmJib3hlcztcbiAgICAgICAgICAgIGZvciAoY29uc3QgYm94VWlkIG9mIGJveENlbGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlZW5VaWRzLmJveFtib3hVaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlZW5VaWRzLmJveFtib3hVaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gYm94VWlkICogNDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh4MSA8PSBiYm94ZXNbb2Zmc2V0ICsgMl0pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoeTEgPD0gYmJveGVzW29mZnNldCArIDNdKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHgyID49IGJib3hlc1tvZmZzZXQgKyAwXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh5MiA+PSBiYm94ZXNbb2Zmc2V0ICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVlcnlBcmdzLmhpdFRlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5ib3hLZXlzW2JveFVpZF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNpcmNsZUNlbGwgPSB0aGlzLmNpcmNsZUNlbGxzW2NlbGxJbmRleF07XG4gICAgICAgIGlmIChjaXJjbGVDZWxsICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjaXJjbGVzID0gdGhpcy5jaXJjbGVzO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjaXJjbGVVaWQgb2YgY2lyY2xlQ2VsbCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VlblVpZHMuY2lyY2xlW2NpcmNsZVVpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VlblVpZHMuY2lyY2xlW2NpcmNsZVVpZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBjaXJjbGVVaWQgKiAzO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGVzW29mZnNldF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGVzW29mZnNldCArIDFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXQgKyAyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHgxLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTEsXG4gICAgICAgICAgICAgICAgICAgICAgICB4MixcbiAgICAgICAgICAgICAgICAgICAgICAgIHkyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXJ5QXJncy5oaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuY2lyY2xlS2V5c1tjaXJjbGVVaWRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9xdWVyeUNlbGxDaXJjbGUoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgY2VsbEluZGV4OiBudW1iZXIsIHJlc3VsdDogYW55LCBxdWVyeUFyZ3M6IGFueSkge1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBxdWVyeUFyZ3MuY2lyY2xlO1xuICAgICAgICBjb25zdCBzZWVuVWlkcyA9IHF1ZXJ5QXJncy5zZWVuVWlkcztcbiAgICAgICAgY29uc3QgYm94Q2VsbCA9IHRoaXMuYm94Q2VsbHNbY2VsbEluZGV4XTtcbiAgICAgICAgaWYgKGJveENlbGwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGJib3hlcyA9IHRoaXMuYmJveGVzO1xuICAgICAgICAgICAgZm9yIChjb25zdCBib3hVaWQgb2YgYm94Q2VsbCkge1xuICAgICAgICAgICAgICAgIGlmICghc2VlblVpZHMuYm94W2JveFVpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VlblVpZHMuYm94W2JveFVpZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBib3hVaWQgKiA0O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS55LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLnJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJib3hlc1tvZmZzZXQgKyAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJib3hlc1tvZmZzZXQgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJib3hlc1tvZmZzZXQgKyAyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJib3hlc1tvZmZzZXQgKyAzXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjaXJjbGVDZWxsID0gdGhpcy5jaXJjbGVDZWxsc1tjZWxsSW5kZXhdO1xuICAgICAgICBpZiAoY2lyY2xlQ2VsbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY2lyY2xlcyA9IHRoaXMuY2lyY2xlcztcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2lyY2xlVWlkIG9mIGNpcmNsZUNlbGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlZW5VaWRzLmNpcmNsZVtjaXJjbGVVaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlZW5VaWRzLmNpcmNsZVtjaXJjbGVVaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gY2lyY2xlVWlkICogMztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NpcmNsZXNDb2xsaWRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXQgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0ICsgMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS55LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLnJhZGl1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZm9yRWFjaENlbGwoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgZm46IGFueSwgYXJnMTogYW55LCBhcmcyPzogYW55KSB7XG4gICAgICAgIGNvbnN0IGN4MSA9IHRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQoeDEpO1xuICAgICAgICBjb25zdCBjeTEgPSB0aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKHkxKTtcbiAgICAgICAgY29uc3QgY3gyID0gdGhpcy5fY29udmVydFRvWENlbGxDb29yZCh4Mik7XG4gICAgICAgIGNvbnN0IGN5MiA9IHRoaXMuX2NvbnZlcnRUb1lDZWxsQ29vcmQoeTIpO1xuXG4gICAgICAgIGZvciAobGV0IHggPSBjeDE7IHggPD0gY3gyOyB4KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSBjeTE7IHkgPD0gY3kyOyB5KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjZWxsSW5kZXggPSB0aGlzLnhDZWxsQ291bnQgKiB5ICsgeDtcbiAgICAgICAgICAgICAgICBpZiAoZm4uY2FsbCh0aGlzLCB4MSwgeTEsIHgyLCB5MiwgY2VsbEluZGV4LCBhcmcxLCBhcmcyKSkgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NvbnZlcnRUb1hDZWxsQ29vcmQoeDogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLnhDZWxsQ291bnQgLSAxLCBNYXRoLmZsb29yKHggKiB0aGlzLnhTY2FsZSkpKTtcbiAgICB9XG5cbiAgICBfY29udmVydFRvWUNlbGxDb29yZCh5OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMueUNlbGxDb3VudCAtIDEsIE1hdGguZmxvb3IoeSAqIHRoaXMueVNjYWxlKSkpO1xuICAgIH1cblxuICAgIF9jaXJjbGVzQ29sbGlkZSh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCByMTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCByMjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGR4ID0geDIgLSB4MTtcbiAgICAgICAgY29uc3QgZHkgPSB5MiAtIHkxO1xuICAgICAgICBjb25zdCBib3RoUmFkaWkgPSByMSArIHIyO1xuICAgICAgICByZXR1cm4gKGJvdGhSYWRpaSAqIGJvdGhSYWRpaSkgPiAoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH1cblxuICAgIF9jaXJjbGVBbmRSZWN0Q29sbGlkZShjaXJjbGVYOiBudW1iZXIsIGNpcmNsZVk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgaGFsZlJlY3RXaWR0aCA9ICh4MiAtIHgxKSAvIDI7XG4gICAgICAgIGNvbnN0IGRpc3RYID0gTWF0aC5hYnMoY2lyY2xlWCAtICh4MSArIGhhbGZSZWN0V2lkdGgpKTtcbiAgICAgICAgaWYgKGRpc3RYID4gKGhhbGZSZWN0V2lkdGggKyByYWRpdXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoYWxmUmVjdEhlaWdodCA9ICh5MiAtIHkxKSAvIDI7XG4gICAgICAgIGNvbnN0IGRpc3RZID0gTWF0aC5hYnMoY2lyY2xlWSAtICh5MSArIGhhbGZSZWN0SGVpZ2h0KSk7XG4gICAgICAgIGlmIChkaXN0WSA+IChoYWxmUmVjdEhlaWdodCArIHJhZGl1cykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXN0WCA8PSBoYWxmUmVjdFdpZHRoIHx8IGRpc3RZIDw9IGhhbGZSZWN0SGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGR4ID0gZGlzdFggLSBoYWxmUmVjdFdpZHRoO1xuICAgICAgICBjb25zdCBkeSA9IGRpc3RZIC0gaGFsZlJlY3RIZWlnaHQ7XG4gICAgICAgIHJldHVybiAoZHggKiBkeCArIGR5ICogZHkgPD0gKHJhZGl1cyAqIHJhZGl1cykpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JpZEluZGV4O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuXG5pbXBvcnQgeyBtYXQ0LCB2ZWM0IH0gZnJvbSAnQG1hcGJveC9nbC1tYXRyaXgnO1xuaW1wb3J0ICogYXMgc3ltYm9sU2l6ZSBmcm9tICcuL3N5bWJvbF9zaXplJztcbmltcG9ydCB7IGFkZER5bmFtaWNBdHRyaWJ1dGVzIH0gZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldCc7XG5pbXBvcnQgcHJvcGVydGllcyBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9zeW1ib2xfc3R5bGVfbGF5ZXJfcHJvcGVydGllcyc7XG5jb25zdCBzeW1ib2xMYXlvdXRQcm9wZXJ0aWVzID0gcHJvcGVydGllcy5sYXlvdXQ7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi4vcmVuZGVyL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUgU3ltYm9sQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQnO1xuaW1wb3J0IHR5cGUge1xuICAgIEdseXBoT2Zmc2V0QXJyYXksXG4gICAgU3ltYm9sTGluZVZlcnRleEFycmF5LFxuICAgIFN5bWJvbER5bmFtaWNMYXlvdXRBcnJheVxufSBmcm9tICcuLi9kYXRhL2FycmF5X3R5cGVzJztcbmltcG9ydCB7IFdyaXRpbmdNb2RlIH0gZnJvbSAnLi4vc3ltYm9sL3NoYXBpbmcnO1xuXG5leHBvcnQgeyB1cGRhdGVMaW5lTGFiZWxzLCBnZXRMYWJlbFBsYW5lTWF0cml4LCBnZXRHbENvb3JkTWF0cml4LCBwcm9qZWN0LCBwbGFjZUZpcnN0QW5kTGFzdEdseXBoLCB4eVRyYW5zZm9ybU1hdDQgfTtcblxuLypcbiAqICMgT3ZlcnZpZXcgb2YgY29vcmRpbmF0ZSBzcGFjZXNcbiAqXG4gKiAjIyBUaWxlIGNvb3JkaW5hdGUgc3BhY2VzXG4gKiBFYWNoIGxhYmVsIGhhcyBhbiBhbmNob3IuIFNvbWUgbGFiZWxzIGhhdmUgY29ycmVzcG9uZGluZyBsaW5lIGdlb21ldHJpZXMuXG4gKiBUaGUgcG9pbnRzIGZvciBib3RoIGFuY2hvcnMgYW5kIGxpbmVzIGFyZSBzdG9yZWQgaW4gdGlsZSB1bml0cy4gRWFjaCB0aWxlIGhhcyBpdCdzIG93blxuICogY29vcmRpbmF0ZSBzcGFjZSBnb2luZyBmcm9tICgwLCAwKSBhdCB0aGUgdG9wIGxlZnQgdG8gKEVYVEVOVCwgRVhURU5UKSBhdCB0aGUgYm90dG9tIHJpZ2h0LlxuICpcbiAqICMjIEdMIGNvb3JkaW5hdGUgc3BhY2VcbiAqIEF0IHRoZSBlbmQgb2YgZXZlcnl0aGluZywgdGhlIHZlcnRleCBzaGFkZXIgbmVlZHMgdG8gcHJvZHVjZSBhIHBvc2l0aW9uIGluIEdMIGNvb3JkaW5hdGUgc3BhY2UsXG4gKiB3aGljaCBpcyAoLTEsIDEpIGF0IHRoZSB0b3AgbGVmdCBhbmQgKDEsIC0xKSBpbiB0aGUgYm90dG9tIHJpZ2h0LlxuICpcbiAqICMjIE1hcCBwaXhlbCBjb29yZGluYXRlIHNwYWNlc1xuICogRWFjaCB0aWxlIGhhcyBhIHBpeGVsIGNvb3JkaW5hdGUgc3BhY2UuIEl0J3MganVzdCB0aGUgdGlsZSB1bml0cyBzY2FsZWQgc28gdGhhdCBvbmUgdW5pdCBpc1xuICogd2hhdGV2ZXIgY291bnRzIGFzIDEgcGl4ZWwgYXQgdGhlIGN1cnJlbnQgem9vbS5cbiAqIFRoaXMgc3BhY2UgaXMgdXNlZCBmb3IgcGl0Y2gtYWxpZ25tZW50PW1hcCwgcm90YXRpb24tYWxpZ25tZW50PW1hcFxuICpcbiAqICMjIFJvdGF0ZWQgbWFwIHBpeGVsIGNvb3JkaW5hdGUgc3BhY2VzXG4gKiBMaWtlIHRoZSBhYm92ZSwgYnV0IHJvdGF0ZWQgc28gYXhpcyBvZiB0aGUgc3BhY2UgYXJlIGFsaWduZWQgd2l0aCB0aGUgdmlld3BvcnQgaW5zdGVhZCBvZiB0aGUgdGlsZS5cbiAqIFRoaXMgc3BhY2UgaXMgdXNlZCBmb3IgcGl0Y2gtYWxpZ25tZW50PW1hcCwgcm90YXRpb24tYWxpZ25tZW50PXZpZXdwb3J0XG4gKlxuICogIyMgVmlld3BvcnQgcGl4ZWwgY29vcmRpbmF0ZSBzcGFjZVxuICogKDAsIDApIGlzIGF0IHRoZSB0b3AgbGVmdCBvZiB0aGUgY2FudmFzIGFuZCAocGl4ZWxXaWR0aCwgcGl4ZWxIZWlnaHQpIGlzIGF0IHRoZSBib3R0b20gcmlnaHQgY29ybmVyXG4gKiBvZiB0aGUgY2FudmFzLiBUaGlzIHNwYWNlIGlzIHVzZWQgZm9yIHBpdGNoLWFsaWdubWVudD12aWV3cG9ydFxuICpcbiAqXG4gKiAjIFZlcnRleCBwcm9qZWN0aW9uXG4gKiBJdCBnb2VzIHJvdWdobHkgbGlrZSB0aGlzOlxuICogMS4gcHJvamVjdCB0aGUgYW5jaG9yIGFuZCBsaW5lIGZyb20gdGlsZSB1bml0cyBpbnRvIHRoZSBjb3JyZWN0IGxhYmVsIGNvb3JkaW5hdGUgc3BhY2VcbiAqICAgICAgLSBtYXAgcGl4ZWwgc3BhY2UgICAgICAgICAgIHBpdGNoLWFsaWdubWVudD1tYXAgICAgICAgICByb3RhdGlvbi1hbGlnbm1lbnQ9bWFwXG4gKiAgICAgIC0gcm90YXRlZCBtYXAgcGl4ZWwgc3BhY2UgICBwaXRjaC1hbGlnbm1lbnQ9bWFwICAgICAgICAgcm90YXRpb24tYWxpZ25tZW50PXZpZXdwb3J0XG4gKiAgICAgIC0gdmlld3BvcnQgcGl4ZWwgc3BhY2UgICAgICBwaXRjaC1hbGlnbm1lbnQ9dmlld3BvcnQgICAgcm90YXRpb24tYWxpZ25tZW50PSpcbiAqIDIuIGlmIHRoZSBsYWJlbCBmb2xsb3dzIGEgbGluZSwgZmluZCB0aGUgcG9pbnQgYWxvbmcgdGhlIGxpbmUgdGhhdCBpcyB0aGUgY29ycmVjdCBkaXN0YW5jZSBmcm9tIHRoZSBhbmNob3IuXG4gKiAzLiBhZGQgdGhlIGdseXBoJ3MgY29ybmVyIG9mZnNldCB0byB0aGUgcG9pbnQgZnJvbSBzdGVwIDNcbiAqIDQuIGNvbnZlcnQgZnJvbSB0aGUgbGFiZWwgY29vcmRpbmF0ZSBzcGFjZSB0byBnbCBjb29yZGluYXRlc1xuICpcbiAqIEZvciBob3Jpem9udGFsIGxhYmVscyB3ZSB3YW50IHRvIGRvIHN0ZXAgMSBpbiB0aGUgc2hhZGVyIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChubyBjcHUgd29yaykuXG4gKiAgICAgIFRoaXMgaXMgd2hhdCBgdV9sYWJlbF9wbGFuZV9tYXRyaXhgIGlzIHVzZWQgZm9yLlxuICogRm9yIGxhYmVscyBhbGlnbmVkIHdpdGggbGluZXMgd2UgaGF2ZSB0byBzdGVwcyAxIGFuZCAyIG9uIHRoZSBjcHUgc2luY2Ugd2UgbmVlZCBhY2Nlc3MgdG8gdGhlIGxpbmUgZ2VvbWV0cnkuXG4gKiAgICAgIFRoaXMgaXMgd2hhdCBgdXBkYXRlTGluZUxhYmVscyguLi4pYCBkb2VzLlxuICogICAgICBTaW5jZSB0aGUgY29udmVyc2lvbiBpcyBoYW5kbGVkIG9uIHRoZSBjcHUgd2UganVzdCBzZXQgYHVfbGFiZWxfcGxhbmVfbWF0cml4YCB0byBhbiBpZGVudGl0eSBtYXRyaXguXG4gKlxuICogU3RlcHMgMyBhbmQgNCBhcmUgZG9uZSBpbiB0aGUgc2hhZGVycyBmb3IgYWxsIGxhYmVscy5cbiAqL1xuXG4vKlxuICogUmV0dXJucyBhIG1hdHJpeCBmb3IgY29udmVydGluZyBmcm9tIHRpbGUgdW5pdHMgdG8gdGhlIGNvcnJlY3QgbGFiZWwgY29vcmRpbmF0ZSBzcGFjZS5cbiAqL1xuZnVuY3Rpb24gZ2V0TGFiZWxQbGFuZU1hdHJpeChwb3NNYXRyaXg6IG1hdDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlV2l0aE1hcDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsc1RvVGlsZVVuaXRzOiBudW1iZXIpIHtcbiAgICBjb25zdCBtID0gbWF0NC5pZGVudGl0eShuZXcgRmxvYXQzMkFycmF5KDE2KSk7XG4gICAgaWYgKHBpdGNoV2l0aE1hcCkge1xuICAgICAgICBtYXQ0LmlkZW50aXR5KG0pO1xuICAgICAgICBtYXQ0LnNjYWxlKG0sIG0sIFsxIC8gcGl4ZWxzVG9UaWxlVW5pdHMsIDEgLyBwaXhlbHNUb1RpbGVVbml0cywgMV0pO1xuICAgICAgICBpZiAoIXJvdGF0ZVdpdGhNYXApIHtcbiAgICAgICAgICAgIG1hdDQucm90YXRlWihtLCBtLCB0cmFuc2Zvcm0uYW5nbGUpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbdHJhbnNmb3JtLndpZHRoIC8gMiwgLXRyYW5zZm9ybS5oZWlnaHQgLyAyLCAxXSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKG0sIG0sIFsxLCAtMSwgMF0pO1xuICAgICAgICBtYXQ0Lm11bHRpcGx5KG0sIG0sIHBvc01hdHJpeCk7XG4gICAgfVxuICAgIHJldHVybiBtO1xufVxuXG4vKlxuICogUmV0dXJucyBhIG1hdHJpeCBmb3IgY29udmVydGluZyBmcm9tIHRoZSBjb3JyZWN0IGxhYmVsIGNvb3JkaW5hdGUgc3BhY2UgdG8gZ2wgY29vcmRzLlxuICovXG5mdW5jdGlvbiBnZXRHbENvb3JkTWF0cml4KHBvc01hdHJpeDogbWF0NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzVG9UaWxlVW5pdHM6IG51bWJlcikge1xuICAgIGNvbnN0IG0gPSBtYXQ0LmlkZW50aXR5KG5ldyBGbG9hdDMyQXJyYXkoMTYpKTtcbiAgICBpZiAocGl0Y2hXaXRoTWFwKSB7XG4gICAgICAgIG1hdDQubXVsdGlwbHkobSwgbSwgcG9zTWF0cml4KTtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbcGl4ZWxzVG9UaWxlVW5pdHMsIHBpeGVsc1RvVGlsZVVuaXRzLCAxXSk7XG4gICAgICAgIGlmICghcm90YXRlV2l0aE1hcCkge1xuICAgICAgICAgICAgbWF0NC5yb3RhdGVaKG0sIG0sIC10cmFuc2Zvcm0uYW5nbGUpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbMSwgLTEsIDFdKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobSwgbSwgWy0xLCAtMSwgMF0pO1xuICAgICAgICBtYXQ0LnNjYWxlKG0sIG0sIFsyIC8gdHJhbnNmb3JtLndpZHRoLCAyIC8gdHJhbnNmb3JtLmhlaWdodCwgMV0pO1xuICAgIH1cbiAgICByZXR1cm4gbTtcbn1cblxuZnVuY3Rpb24gcHJvamVjdChwb2ludDogUG9pbnQsIG1hdHJpeDogbWF0NCkge1xuICAgIGNvbnN0IHBvcyA9IFtwb2ludC54LCBwb2ludC55LCAwLCAxXTtcbiAgICB4eVRyYW5zZm9ybU1hdDQocG9zLCBwb3MsIG1hdHJpeCk7XG4gICAgY29uc3QgdyA9IHBvc1szXTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwb2ludDogbmV3IFBvaW50KHBvc1swXSAvIHcsIHBvc1sxXSAvIHcpLFxuICAgICAgICBzaWduZWREaXN0YW5jZUZyb21DYW1lcmE6IHdcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBpc1Zpc2libGUoYW5jaG9yUG9zOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICAgICAgICAgICAgICAgICBjbGlwcGluZ0J1ZmZlcjogW251bWJlciwgbnVtYmVyXSkge1xuICAgIGNvbnN0IHggPSBhbmNob3JQb3NbMF0gLyBhbmNob3JQb3NbM107XG4gICAgY29uc3QgeSA9IGFuY2hvclBvc1sxXSAvIGFuY2hvclBvc1szXTtcbiAgICBjb25zdCBpblBhZGRlZFZpZXdwb3J0ID0gKFxuICAgICAgICB4ID49IC1jbGlwcGluZ0J1ZmZlclswXSAmJlxuICAgICAgICB4IDw9IGNsaXBwaW5nQnVmZmVyWzBdICYmXG4gICAgICAgIHkgPj0gLWNsaXBwaW5nQnVmZmVyWzFdICYmXG4gICAgICAgIHkgPD0gY2xpcHBpbmdCdWZmZXJbMV0pO1xuICAgIHJldHVybiBpblBhZGRlZFZpZXdwb3J0O1xufVxuXG4vKlxuICogIFVwZGF0ZSB0aGUgYGR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXJgIGZvciB0aGUgYnVmZmVyIHdpdGggdGhlIGNvcnJlY3QgZ2x5cGggcG9zaXRpb25zIGZvciB0aGUgY3VycmVudCBtYXAgdmlldy5cbiAqICBUaGlzIGlzIG9ubHkgcnVuIG9uIGxhYmVscyB0aGF0IGFyZSBhbGlnbmVkIHdpdGggbGluZXMuIEhvcml6b250YWwgbGFiZWxzIGFyZSBoYW5kbGVkIGVudGlyZWx5IGluIHRoZSBzaGFkZXIuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUxpbmVMYWJlbHMoYnVja2V0OiBTeW1ib2xCdWNrZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvc01hdHJpeDogbWF0NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFpbnRlcjogUGFpbnRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNUZXh0OiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFBsYW5lTWF0cml4OiBtYXQ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnbENvb3JkTWF0cml4OiBtYXQ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwaXRjaFdpdGhNYXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBVcHJpZ2h0OiBib29sZWFuKSB7XG5cbiAgICBjb25zdCBzaXplRGF0YSA9IGlzVGV4dCA/IGJ1Y2tldC50ZXh0U2l6ZURhdGEgOiBidWNrZXQuaWNvblNpemVEYXRhO1xuICAgIGNvbnN0IHBhcnRpYWxseUV2YWx1YXRlZFNpemUgPSBzeW1ib2xTaXplLmV2YWx1YXRlU2l6ZUZvclpvb20oc2l6ZURhdGEsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20sXG4gICAgICAgIHN5bWJvbExheW91dFByb3BlcnRpZXMucHJvcGVydGllc1tpc1RleHQgPyAndGV4dC1zaXplJyA6ICdpY29uLXNpemUnXSk7XG5cbiAgICBjb25zdCBjbGlwcGluZ0J1ZmZlciA9IFsyNTYgLyBwYWludGVyLndpZHRoICogMiArIDEsIDI1NiAvIHBhaW50ZXIuaGVpZ2h0ICogMiArIDFdO1xuXG4gICAgY29uc3QgZHluYW1pY0xheW91dFZlcnRleEFycmF5ID0gaXNUZXh0ID9cbiAgICAgICAgYnVja2V0LnRleHQuZHluYW1pY0xheW91dFZlcnRleEFycmF5IDpcbiAgICAgICAgYnVja2V0Lmljb24uZHluYW1pY0xheW91dFZlcnRleEFycmF5O1xuICAgIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheS5jbGVhcigpO1xuXG4gICAgY29uc3QgbGluZVZlcnRleEFycmF5ID0gYnVja2V0LmxpbmVWZXJ0ZXhBcnJheTtcbiAgICBjb25zdCBwbGFjZWRTeW1ib2xzID0gaXNUZXh0ID8gYnVja2V0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkgOiBidWNrZXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheTtcblxuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gcGFpbnRlci50cmFuc2Zvcm0ud2lkdGggLyBwYWludGVyLnRyYW5zZm9ybS5oZWlnaHQ7XG5cbiAgICBsZXQgdXNlVmVydGljYWwgPSBmYWxzZTtcblxuICAgIGZvciAobGV0IHMgPSAwOyBzIDwgcGxhY2VkU3ltYm9scy5sZW5ndGg7IHMrKykge1xuICAgICAgICBjb25zdCBzeW1ib2w6IGFueSA9IHBsYWNlZFN5bWJvbHMuZ2V0KHMpO1xuICAgICAgICAvLyBEb24ndCBkbyBjYWxjdWxhdGlvbnMgZm9yIHZlcnRpY2FsIGdseXBocyB1bmxlc3MgdGhlIHByZXZpb3VzIHN5bWJvbCB3YXMgaG9yaXpvbnRhbFxuICAgICAgICAvLyBhbmQgd2UgZGV0ZXJtaW5lZCB0aGF0IHZlcnRpY2FsIGdseXBocyB3ZXJlIG5lY2Vzc2FyeS5cbiAgICAgICAgLy8gQWxzbyBkb24ndCBkbyBjYWxjdWxhdGlvbnMgZm9yIHN5bWJvbHMgdGhhdCBhcmUgY29sbGlkZWQgYW5kIGZ1bGx5IGZhZGVkIG91dFxuICAgICAgICBpZiAoc3ltYm9sLmhpZGRlbiB8fCBzeW1ib2wud3JpdGluZ01vZGUgPT09IFdyaXRpbmdNb2RlLnZlcnRpY2FsICYmICF1c2VWZXJ0aWNhbCkge1xuICAgICAgICAgICAgaGlkZUdseXBocyhzeW1ib2wubnVtR2x5cGhzLCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXdrd2FyZC4uLiBidXQgd2UncmUgY291bnRpbmcgb24gdGhlIHBhaXJlZCBcInZlcnRpY2FsXCIgc3ltYm9sIGNvbWluZyBpbW1lZGlhdGVseSBhZnRlciBpdHMgaG9yaXpvbnRhbCBjb3VudGVycGFydFxuICAgICAgICB1c2VWZXJ0aWNhbCA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGFuY2hvclBvcyA9IFtzeW1ib2wuYW5jaG9yWCwgc3ltYm9sLmFuY2hvclksIDAsIDFdO1xuICAgICAgICB2ZWM0LnRyYW5zZm9ybU1hdDQoYW5jaG9yUG9zLCBhbmNob3JQb3MsIHBvc01hdHJpeCk7XG5cbiAgICAgICAgLy8gRG9uJ3QgYm90aGVyIGNhbGN1bGF0aW5nIHRoZSBjb3JyZWN0IHBvaW50IGZvciBpbnZpc2libGUgbGFiZWxzLlxuICAgICAgICBpZiAoIWlzVmlzaWJsZShhbmNob3JQb3MsIGNsaXBwaW5nQnVmZmVyKSkge1xuICAgICAgICAgICAgaGlkZUdseXBocyhzeW1ib2wubnVtR2x5cGhzLCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYW1lcmFUb0FuY2hvckRpc3RhbmNlID0gYW5jaG9yUG9zWzNdO1xuICAgICAgICBjb25zdCBwZXJzcGVjdGl2ZVJhdGlvID0gMC41ICsgMC41ICogKGNhbWVyYVRvQW5jaG9yRGlzdGFuY2UgLyBwYWludGVyLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKTtcblxuICAgICAgICBjb25zdCBmb250U2l6ZSA9IHN5bWJvbFNpemUuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShzaXplRGF0YSwgcGFydGlhbGx5RXZhbHVhdGVkU2l6ZSwgc3ltYm9sKTtcbiAgICAgICAgY29uc3QgcGl0Y2hTY2FsZWRGb250U2l6ZSA9IHBpdGNoV2l0aE1hcCA/XG4gICAgICAgICAgICBmb250U2l6ZSAqIHBlcnNwZWN0aXZlUmF0aW8gOlxuICAgICAgICAgICAgZm9udFNpemUgLyBwZXJzcGVjdGl2ZVJhdGlvO1xuXG4gICAgICAgIGNvbnN0IHRpbGVBbmNob3JQb2ludCA9IG5ldyBQb2ludChzeW1ib2wuYW5jaG9yWCwgc3ltYm9sLmFuY2hvclkpO1xuICAgICAgICBjb25zdCBhbmNob3JQb2ludCA9IHByb2plY3QodGlsZUFuY2hvclBvaW50LCBsYWJlbFBsYW5lTWF0cml4KS5wb2ludDtcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbkNhY2hlID0ge307XG5cbiAgICAgICAgY29uc3QgcGxhY2VVbmZsaXBwZWQ6IGFueSA9IHBsYWNlR2x5cGhzQWxvbmdMaW5lKHN5bWJvbCwgcGl0Y2hTY2FsZWRGb250U2l6ZSwgZmFsc2UgLyp1bmZsaXBwZWQqLywga2VlcFVwcmlnaHQsIHBvc01hdHJpeCwgbGFiZWxQbGFuZU1hdHJpeCwgZ2xDb29yZE1hdHJpeCxcbiAgICAgICAgICAgIGJ1Y2tldC5nbHlwaE9mZnNldEFycmF5LCBsaW5lVmVydGV4QXJyYXksIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgcHJvamVjdGlvbkNhY2hlLCBhc3BlY3RSYXRpbyk7XG5cbiAgICAgICAgdXNlVmVydGljYWwgPSBwbGFjZVVuZmxpcHBlZC51c2VWZXJ0aWNhbDtcblxuICAgICAgICBpZiAocGxhY2VVbmZsaXBwZWQubm90RW5vdWdoUm9vbSB8fCB1c2VWZXJ0aWNhbCB8fFxuICAgICAgICAgICAgKHBsYWNlVW5mbGlwcGVkLm5lZWRzRmxpcHBpbmcgJiZcbiAgICAgICAgICAgICBwbGFjZUdseXBoc0Fsb25nTGluZShzeW1ib2wsIHBpdGNoU2NhbGVkRm9udFNpemUsIHRydWUgLypmbGlwcGVkKi8sIGtlZXBVcHJpZ2h0LCBwb3NNYXRyaXgsIGxhYmVsUGxhbmVNYXRyaXgsIGdsQ29vcmRNYXRyaXgsXG4gICAgICAgICAgICAgICAgIGJ1Y2tldC5nbHlwaE9mZnNldEFycmF5LCBsaW5lVmVydGV4QXJyYXksIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgcHJvamVjdGlvbkNhY2hlLCBhc3BlY3RSYXRpbykubm90RW5vdWdoUm9vbSkpIHtcbiAgICAgICAgICAgIGhpZGVHbHlwaHMoc3ltYm9sLm51bUdseXBocywgZHluYW1pY0xheW91dFZlcnRleEFycmF5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1RleHQpIHtcbiAgICAgICAgYnVja2V0LnRleHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYnVja2V0Lmljb24uZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwbGFjZUZpcnN0QW5kTGFzdEdseXBoKGZvbnRTY2FsZTogbnVtYmVyLCBnbHlwaE9mZnNldEFycmF5OiBHbHlwaE9mZnNldEFycmF5LCBsaW5lT2Zmc2V0WDogbnVtYmVyLCBsaW5lT2Zmc2V0WTogbnVtYmVyLCBmbGlwOiBib29sZWFuLCBhbmNob3JQb2ludDogUG9pbnQsIHRpbGVBbmNob3JQb2ludDogUG9pbnQsIHN5bWJvbDogYW55LCBsaW5lVmVydGV4QXJyYXk6IFN5bWJvbExpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeDogbWF0NCwgcHJvamVjdGlvbkNhY2hlOiBhbnksIHJldHVyblRpbGVEaXN0YW5jZTogYm9vbGVhbikge1xuICAgIGNvbnN0IGdseXBoRW5kSW5kZXggPSBzeW1ib2wuZ2x5cGhTdGFydEluZGV4ICsgc3ltYm9sLm51bUdseXBocztcbiAgICBjb25zdCBsaW5lU3RhcnRJbmRleCA9IHN5bWJvbC5saW5lU3RhcnRJbmRleDtcbiAgICBjb25zdCBsaW5lRW5kSW5kZXggPSBzeW1ib2wubGluZVN0YXJ0SW5kZXggKyBzeW1ib2wubGluZUxlbmd0aDtcblxuICAgIGNvbnN0IGZpcnN0R2x5cGhPZmZzZXQgPSBnbHlwaE9mZnNldEFycmF5LmdldG9mZnNldFgoc3ltYm9sLmdseXBoU3RhcnRJbmRleCk7XG4gICAgY29uc3QgbGFzdEdseXBoT2Zmc2V0ID0gZ2x5cGhPZmZzZXRBcnJheS5nZXRvZmZzZXRYKGdseXBoRW5kSW5kZXggLSAxKTtcblxuICAgIGNvbnN0IGZpcnN0UGxhY2VkR2x5cGggPSBwbGFjZUdseXBoQWxvbmdMaW5lKGZvbnRTY2FsZSAqIGZpcnN0R2x5cGhPZmZzZXQsIGxpbmVPZmZzZXRYLCBsaW5lT2Zmc2V0WSwgZmxpcCwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgc3ltYm9sLnNlZ21lbnQsXG4gICAgICAgIGxpbmVTdGFydEluZGV4LCBsaW5lRW5kSW5kZXgsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCByZXR1cm5UaWxlRGlzdGFuY2UpO1xuICAgIGlmICghZmlyc3RQbGFjZWRHbHlwaClcbiAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBsYXN0UGxhY2VkR2x5cGggPSBwbGFjZUdseXBoQWxvbmdMaW5lKGZvbnRTY2FsZSAqIGxhc3RHbHlwaE9mZnNldCwgbGluZU9mZnNldFgsIGxpbmVPZmZzZXRZLCBmbGlwLCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBzeW1ib2wuc2VnbWVudCxcbiAgICAgICAgbGluZVN0YXJ0SW5kZXgsIGxpbmVFbmRJbmRleCwgbGluZVZlcnRleEFycmF5LCBsYWJlbFBsYW5lTWF0cml4LCBwcm9qZWN0aW9uQ2FjaGUsIHJldHVyblRpbGVEaXN0YW5jZSk7XG4gICAgaWYgKCFsYXN0UGxhY2VkR2x5cGgpXG4gICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIHsgZmlyc3Q6IGZpcnN0UGxhY2VkR2x5cGgsIGxhc3Q6IGxhc3RQbGFjZWRHbHlwaCB9O1xufVxuXG5mdW5jdGlvbiByZXF1aXJlc09yaWVudGF0aW9uQ2hhbmdlKHdyaXRpbmdNb2RlLCBmaXJzdFBvaW50LCBsYXN0UG9pbnQsIGFzcGVjdFJhdGlvKSB7XG4gICAgaWYgKHdyaXRpbmdNb2RlID09PSBXcml0aW5nTW9kZS5ob3Jpem9udGFsKSB7XG4gICAgICAgIC8vIE9uIHRvcCBvZiBjaG9vc2luZyB3aGV0aGVyIHRvIGZsaXAsIGNob29zZSB3aGV0aGVyIHRvIHJlbmRlciB0aGlzIHZlcnNpb24gb2YgdGhlIGdseXBocyBvciB0aGUgYWx0ZXJuYXRlXG4gICAgICAgIC8vIHZlcnRpY2FsIGdseXBocy4gV2UgY2FuJ3QganVzdCBmaWx0ZXIgb3V0IHZlcnRpY2FsIGdseXBocyBpbiB0aGUgaG9yaXpvbnRhbCByYW5nZSBiZWNhdXNlIHRoZSBob3Jpem9udGFsXG4gICAgICAgIC8vIGFuZCB2ZXJ0aWNhbCB2ZXJzaW9ucyBjYW4gaGF2ZSBzbGlnaHRseSBkaWZmZXJlbnQgcHJvamVjdGlvbnMgd2hpY2ggY291bGQgbGVhZCB0byBhbmdsZXMgd2hlcmUgYm90aCBvclxuICAgICAgICAvLyBuZWl0aGVyIHNob3dlZC5cbiAgICAgICAgY29uc3QgcmlzZSA9IE1hdGguYWJzKGxhc3RQb2ludC55IC0gZmlyc3RQb2ludC55KTtcbiAgICAgICAgY29uc3QgcnVuID0gTWF0aC5hYnMobGFzdFBvaW50LnggLSBmaXJzdFBvaW50LngpICogYXNwZWN0UmF0aW87XG4gICAgICAgIGlmIChyaXNlID4gcnVuKSB7XG4gICAgICAgICAgICByZXR1cm4geyB1c2VWZXJ0aWNhbDogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHdyaXRpbmdNb2RlID09PSBXcml0aW5nTW9kZS52ZXJ0aWNhbCA/IGZpcnN0UG9pbnQueSA8IGxhc3RQb2ludC55IDogZmlyc3RQb2ludC54ID4gbGFzdFBvaW50LngpIHtcbiAgICAgICAgLy8gSW5jbHVkZXMgXCJob3Jpem9udGFsT25seVwiIGNhc2UgZm9yIGxhYmVscyB3aXRob3V0IHZlcnRpY2FsIGdseXBoc1xuICAgICAgICByZXR1cm4geyBuZWVkc0ZsaXBwaW5nOiB0cnVlIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHBsYWNlR2x5cGhzQWxvbmdMaW5lKHN5bWJvbCwgZm9udFNpemUsIGZsaXAsIGtlZXBVcHJpZ2h0LCBwb3NNYXRyaXgsIGxhYmVsUGxhbmVNYXRyaXgsIGdsQ29vcmRNYXRyaXgsIGdseXBoT2Zmc2V0QXJyYXksIGxpbmVWZXJ0ZXhBcnJheSwgZHluYW1pY0xheW91dFZlcnRleEFycmF5LCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBwcm9qZWN0aW9uQ2FjaGUsIGFzcGVjdFJhdGlvKSB7XG4gICAgY29uc3QgZm9udFNjYWxlID0gZm9udFNpemUgLyAyNDtcbiAgICBjb25zdCBsaW5lT2Zmc2V0WCA9IHN5bWJvbC5saW5lT2Zmc2V0WCAqIGZvbnRTaXplO1xuICAgIGNvbnN0IGxpbmVPZmZzZXRZID0gc3ltYm9sLmxpbmVPZmZzZXRZICogZm9udFNpemU7XG5cbiAgICBsZXQgcGxhY2VkR2x5cGhzO1xuICAgIGlmIChzeW1ib2wubnVtR2x5cGhzID4gMSkge1xuICAgICAgICBjb25zdCBnbHlwaEVuZEluZGV4ID0gc3ltYm9sLmdseXBoU3RhcnRJbmRleCArIHN5bWJvbC5udW1HbHlwaHM7XG4gICAgICAgIGNvbnN0IGxpbmVTdGFydEluZGV4ID0gc3ltYm9sLmxpbmVTdGFydEluZGV4O1xuICAgICAgICBjb25zdCBsaW5lRW5kSW5kZXggPSBzeW1ib2wubGluZVN0YXJ0SW5kZXggKyBzeW1ib2wubGluZUxlbmd0aDtcblxuICAgICAgICAvLyBQbGFjZSB0aGUgZmlyc3QgYW5kIHRoZSBsYXN0IGdseXBoIGluIHRoZSBsYWJlbCBmaXJzdCwgc28gd2UgY2FuIGZpZ3VyZSBvdXRcbiAgICAgICAgLy8gdGhlIG92ZXJhbGwgb3JpZW50YXRpb24gb2YgdGhlIGxhYmVsIGFuZCBkZXRlcm1pbmUgd2hldGhlciBpdCBuZWVkcyB0byBiZSBmbGlwcGVkIGluIGtlZXBVcHJpZ2h0IG1vZGVcbiAgICAgICAgY29uc3QgZmlyc3RBbmRMYXN0R2x5cGggPSBwbGFjZUZpcnN0QW5kTGFzdEdseXBoKGZvbnRTY2FsZSwgZ2x5cGhPZmZzZXRBcnJheSwgbGluZU9mZnNldFgsIGxpbmVPZmZzZXRZLCBmbGlwLCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBzeW1ib2wsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCBmYWxzZSk7XG4gICAgICAgIGlmICghZmlyc3RBbmRMYXN0R2x5cGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG5vdEVub3VnaFJvb206IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaXJzdFBvaW50ID0gcHJvamVjdChmaXJzdEFuZExhc3RHbHlwaC5maXJzdC5wb2ludCwgZ2xDb29yZE1hdHJpeCkucG9pbnQ7XG4gICAgICAgIGNvbnN0IGxhc3RQb2ludCA9IHByb2plY3QoZmlyc3RBbmRMYXN0R2x5cGgubGFzdC5wb2ludCwgZ2xDb29yZE1hdHJpeCkucG9pbnQ7XG5cbiAgICAgICAgaWYgKGtlZXBVcHJpZ2h0ICYmICFmbGlwKSB7XG4gICAgICAgICAgICBjb25zdCBvcmllbnRhdGlvbkNoYW5nZSA9IHJlcXVpcmVzT3JpZW50YXRpb25DaGFuZ2Uoc3ltYm9sLndyaXRpbmdNb2RlLCBmaXJzdFBvaW50LCBsYXN0UG9pbnQsIGFzcGVjdFJhdGlvKTtcbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmllbnRhdGlvbkNoYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHBsYWNlZEdseXBocyA9IFtmaXJzdEFuZExhc3RHbHlwaC5maXJzdF07XG4gICAgICAgIGZvciAobGV0IGdseXBoSW5kZXggPSBzeW1ib2wuZ2x5cGhTdGFydEluZGV4ICsgMTsgZ2x5cGhJbmRleCA8IGdseXBoRW5kSW5kZXggLSAxOyBnbHlwaEluZGV4KyspIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIGZpcnN0IGFuZCBsYXN0IGdseXBoIGZpdCBvbiB0aGUgbGluZSwgd2UncmUgc3VyZSB0aGF0IHRoZSByZXN0IG9mIHRoZSBnbHlwaHMgY2FuIGJlIHBsYWNlZFxuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgcGxhY2VkR2x5cGhzLnB1c2gocGxhY2VHbHlwaEFsb25nTGluZShmb250U2NhbGUgKiBnbHlwaE9mZnNldEFycmF5LmdldG9mZnNldFgoZ2x5cGhJbmRleCksIGxpbmVPZmZzZXRYLCBsaW5lT2Zmc2V0WSwgZmxpcCwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgc3ltYm9sLnNlZ21lbnQsXG4gICAgICAgICAgICAgICAgbGluZVN0YXJ0SW5kZXgsIGxpbmVFbmRJbmRleCwgbGluZVZlcnRleEFycmF5LCBsYWJlbFBsYW5lTWF0cml4LCBwcm9qZWN0aW9uQ2FjaGUsIGZhbHNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcGxhY2VkR2x5cGhzLnB1c2goZmlyc3RBbmRMYXN0R2x5cGgubGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT25seSBhIHNpbmdsZSBnbHlwaCB0byBwbGFjZVxuICAgICAgICAvLyBTbywgZGV0ZXJtaW5lIHdoZXRoZXIgdG8gZmxpcCBiYXNlZCBvbiBwcm9qZWN0ZWQgYW5nbGUgb2YgdGhlIGxpbmUgc2VnbWVudCBpdCdzIG9uXG4gICAgICAgIGlmIChrZWVwVXByaWdodCAmJiAhZmxpcCkge1xuICAgICAgICAgICAgY29uc3QgYSA9IHByb2plY3QodGlsZUFuY2hvclBvaW50LCBwb3NNYXRyaXgpLnBvaW50O1xuICAgICAgICAgICAgY29uc3QgdGlsZVZlcnRleEluZGV4ID0gKHN5bWJvbC5saW5lU3RhcnRJbmRleCArIHN5bWJvbC5zZWdtZW50ICsgMSk7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgICAgICBjb25zdCB0aWxlU2VnbWVudEVuZCA9IG5ldyBQb2ludChsaW5lVmVydGV4QXJyYXkuZ2V0eCh0aWxlVmVydGV4SW5kZXgpLCBsaW5lVmVydGV4QXJyYXkuZ2V0eSh0aWxlVmVydGV4SW5kZXgpKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RlZFZlcnRleCA9IHByb2plY3QodGlsZVNlZ21lbnRFbmQsIHBvc01hdHJpeCk7XG4gICAgICAgICAgICAvLyBXZSBrbm93IHRoZSBhbmNob3Igd2lsbCBiZSBpbiB0aGUgdmlld3BvcnQsIGJ1dCB0aGUgZW5kIG9mIHRoZSBsaW5lIHNlZ21lbnQgbWF5IGJlXG4gICAgICAgICAgICAvLyBiZWhpbmQgdGhlIHBsYW5lIG9mIHRoZSBjYW1lcmEsIGluIHdoaWNoIGNhc2Ugd2UgY2FuIHVzZSBhIHBvaW50IGF0IGFueSBhcmJpdHJhcnkgKGNsb3NlcilcbiAgICAgICAgICAgIC8vIHBvaW50IG9uIHRoZSBzZWdtZW50LlxuICAgICAgICAgICAgY29uc3QgYiA9IChwcm9qZWN0ZWRWZXJ0ZXguc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhID4gMCkgP1xuICAgICAgICAgICAgICAgIHByb2plY3RlZFZlcnRleC5wb2ludCA6XG4gICAgICAgICAgICAgICAgcHJvamVjdFRydW5jYXRlZExpbmVTZWdtZW50KHRpbGVBbmNob3JQb2ludCwgdGlsZVNlZ21lbnRFbmQsIGEsIDEsIHBvc01hdHJpeCk7XG5cblxuICAgICAgICAgICAgY29uc3Qgb3JpZW50YXRpb25DaGFuZ2UgPSByZXF1aXJlc09yaWVudGF0aW9uQ2hhbmdlKHN5bWJvbC53cml0aW5nTW9kZSwgYSwgYiwgYXNwZWN0UmF0aW8pO1xuICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWVudGF0aW9uQ2hhbmdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgY29uc3Qgc2luZ2xlR2x5cGggPSBwbGFjZUdseXBoQWxvbmdMaW5lKGZvbnRTY2FsZSAqIGdseXBoT2Zmc2V0QXJyYXkuZ2V0b2Zmc2V0WChzeW1ib2wuZ2x5cGhTdGFydEluZGV4KSwgbGluZU9mZnNldFgsIGxpbmVPZmZzZXRZLCBmbGlwLCBhbmNob3JQb2ludCwgdGlsZUFuY2hvclBvaW50LCBzeW1ib2wuc2VnbWVudCxcbiAgICAgICAgICAgIHN5bWJvbC5saW5lU3RhcnRJbmRleCwgc3ltYm9sLmxpbmVTdGFydEluZGV4ICsgc3ltYm9sLmxpbmVMZW5ndGgsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCBmYWxzZSk7XG4gICAgICAgIGlmICghc2luZ2xlR2x5cGgpXG4gICAgICAgICAgICByZXR1cm4geyBub3RFbm91Z2hSb29tOiB0cnVlIH07XG5cbiAgICAgICAgcGxhY2VkR2x5cGhzID0gW3NpbmdsZUdseXBoXTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGdseXBoOiBhbnkgb2YgcGxhY2VkR2x5cGhzKSB7XG4gICAgICAgIGFkZER5bmFtaWNBdHRyaWJ1dGVzKGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSwgZ2x5cGgucG9pbnQsIGdseXBoLmFuZ2xlKTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xufVxuXG5mdW5jdGlvbiBwcm9qZWN0VHJ1bmNhdGVkTGluZVNlZ21lbnQocHJldmlvdXNUaWxlUG9pbnQ6IFBvaW50LCBjdXJyZW50VGlsZVBvaW50OiBQb2ludCwgcHJldmlvdXNQcm9qZWN0ZWRQb2ludDogUG9pbnQsIG1pbmltdW1MZW5ndGg6IG51bWJlciwgcHJvamVjdGlvbk1hdHJpeDogbWF0NCkge1xuICAgIC8vIFdlIGFyZSBhc3N1bWluZyBcInByZXZpb3VzVGlsZVBvaW50XCIgd29uJ3QgcHJvamVjdCB0byBhIHBvaW50IHdpdGhpbiBvbmUgdW5pdCBvZiB0aGUgY2FtZXJhIHBsYW5lXG4gICAgLy8gSWYgaXQgZGlkLCB0aGF0IHdvdWxkIG1lYW4gb3VyIGxhYmVsIGV4dGVuZGVkIGFsbCB0aGUgd2F5IG91dCBmcm9tIHdpdGhpbiB0aGUgdmlld3BvcnQgdG8gYSAodmVyeSBkaXN0YW50KVxuICAgIC8vIHBvaW50IG5lYXIgdGhlIHBsYW5lIG9mIHRoZSBjYW1lcmEuIFdlIHdvdWxkbid0IGJlIGFibGUgdG8gcmVuZGVyIHRoZSBsYWJlbCBhbnl3YXkgb25jZSBpdCBjcm9zc2VkIHRoZVxuICAgIC8vIHBsYW5lIG9mIHRoZSBjYW1lcmEuXG4gICAgY29uc3QgcHJvamVjdGVkVW5pdFZlcnRleCA9IHByb2plY3QocHJldmlvdXNUaWxlUG9pbnQuYWRkKHByZXZpb3VzVGlsZVBvaW50LnN1YihjdXJyZW50VGlsZVBvaW50KS5fdW5pdCgpKSwgcHJvamVjdGlvbk1hdHJpeCkucG9pbnQ7XG4gICAgY29uc3QgcHJvamVjdGVkVW5pdFNlZ21lbnQgPSBwcmV2aW91c1Byb2plY3RlZFBvaW50LnN1Yihwcm9qZWN0ZWRVbml0VmVydGV4KTtcblxuICAgIHJldHVybiBwcmV2aW91c1Byb2plY3RlZFBvaW50LmFkZChwcm9qZWN0ZWRVbml0U2VnbWVudC5fbXVsdChtaW5pbXVtTGVuZ3RoIC8gcHJvamVjdGVkVW5pdFNlZ21lbnQubWFnKCkpKTtcbn1cblxuZnVuY3Rpb24gcGxhY2VHbHlwaEFsb25nTGluZShvZmZzZXRYOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVPZmZzZXRYOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVPZmZzZXRZOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsaXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclBvaW50OiBQb2ludCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZUFuY2hvclBvaW50OiBQb2ludCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yU2VnbWVudDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RhcnRJbmRleDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lRW5kSW5kZXg6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVZlcnRleEFycmF5OiBTeW1ib2xMaW5lVmVydGV4QXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsUGxhbmVNYXRyaXg6IG1hdDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb25DYWNoZToge1tudW1iZXJdOiBQb2ludH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblRpbGVEaXN0YW5jZTogYm9vbGVhbikge1xuXG4gICAgY29uc3QgY29tYmluZWRPZmZzZXRYID0gZmxpcCA/XG4gICAgICAgIG9mZnNldFggLSBsaW5lT2Zmc2V0WCA6XG4gICAgICAgIG9mZnNldFggKyBsaW5lT2Zmc2V0WDtcblxuICAgIGxldCBkaXIgPSBjb21iaW5lZE9mZnNldFggPiAwID8gMSA6IC0xO1xuXG4gICAgbGV0IGFuZ2xlID0gMDtcbiAgICBpZiAoZmxpcCkge1xuICAgICAgICAvLyBUaGUgbGFiZWwgbmVlZHMgdG8gYmUgZmxpcHBlZCB0byBrZWVwIHRleHQgdXByaWdodC5cbiAgICAgICAgLy8gSXRlcmF0ZSBpbiB0aGUgcmV2ZXJzZSBkaXJlY3Rpb24uXG4gICAgICAgIGRpciAqPSAtMTtcbiAgICAgICAgYW5nbGUgPSBNYXRoLlBJO1xuICAgIH1cblxuICAgIGlmIChkaXIgPCAwKSBhbmdsZSArPSBNYXRoLlBJO1xuXG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IGRpciA+IDAgP1xuICAgICAgICBsaW5lU3RhcnRJbmRleCArIGFuY2hvclNlZ21lbnQgOlxuICAgICAgICBsaW5lU3RhcnRJbmRleCArIGFuY2hvclNlZ21lbnQgKyAxO1xuXG4gICAgY29uc3QgaW5pdGlhbEluZGV4ID0gY3VycmVudEluZGV4O1xuICAgIGxldCBjdXJyZW50ID0gYW5jaG9yUG9pbnQ7XG4gICAgbGV0IHByZXYgPSBhbmNob3JQb2ludDtcbiAgICBsZXQgZGlzdGFuY2VUb1ByZXYgPSAwO1xuICAgIGxldCBjdXJyZW50U2VnbWVudERpc3RhbmNlID0gMDtcbiAgICBjb25zdCBhYnNPZmZzZXRYID0gTWF0aC5hYnMoY29tYmluZWRPZmZzZXRYKTtcblxuICAgIHdoaWxlIChkaXN0YW5jZVRvUHJldiArIGN1cnJlbnRTZWdtZW50RGlzdGFuY2UgPD0gYWJzT2Zmc2V0WCkge1xuICAgICAgICBjdXJyZW50SW5kZXggKz0gZGlyO1xuXG4gICAgICAgIC8vIG9mZnNldCBkb2VzIG5vdCBmaXQgb24gdGhlIHByb2plY3RlZCBsaW5lXG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPCBsaW5lU3RhcnRJbmRleCB8fCBjdXJyZW50SW5kZXggPj0gbGluZUVuZEluZGV4KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgcHJldiA9IGN1cnJlbnQ7XG5cbiAgICAgICAgY3VycmVudCA9IHByb2plY3Rpb25DYWNoZVtjdXJyZW50SW5kZXhdO1xuICAgICAgICBpZiAoY3VycmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmVydGV4ID0gbmV3IFBvaW50KGxpbmVWZXJ0ZXhBcnJheS5nZXR4KGN1cnJlbnRJbmRleCksIGxpbmVWZXJ0ZXhBcnJheS5nZXR5KGN1cnJlbnRJbmRleCkpO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHByb2plY3QoY3VycmVudFZlcnRleCwgbGFiZWxQbGFuZU1hdHJpeCk7XG4gICAgICAgICAgICBpZiAocHJvamVjdGlvbi5zaWduZWREaXN0YW5jZUZyb21DYW1lcmEgPiAwKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHByb2plY3Rpb25DYWNoZVtjdXJyZW50SW5kZXhdID0gcHJvamVjdGlvbi5wb2ludDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHZlcnRleCBpcyBiZWhpbmQgdGhlIHBsYW5lIG9mIHRoZSBjYW1lcmEsIHNvIHdlIGNhbid0IHByb2plY3QgaXRcbiAgICAgICAgICAgICAgICAvLyBJbnN0ZWFkLCB3ZSdsbCBjcmVhdGUgYSB2ZXJ0ZXggYWxvbmcgdGhlIGxpbmUgdGhhdCdzIGZhciBlbm91Z2ggdG8gaW5jbHVkZSB0aGUgZ2x5cGhcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0xpbmVWZXJ0ZXhJbmRleCA9IGN1cnJlbnRJbmRleCAtIGRpcjtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c1RpbGVQb2ludCA9IGRpc3RhbmNlVG9QcmV2ID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgdGlsZUFuY2hvclBvaW50IDpcbiAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50KGxpbmVWZXJ0ZXhBcnJheS5nZXR4KHByZXZpb3VzTGluZVZlcnRleEluZGV4KSwgbGluZVZlcnRleEFycmF5LmdldHkocHJldmlvdXNMaW5lVmVydGV4SW5kZXgpKTtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBjYWNoZSBiZWNhdXNlIHRoZSBuZXcgdmVydGV4IG1pZ2h0IG5vdCBiZSBmYXIgZW5vdWdoIG91dCBmb3IgZnV0dXJlIGdseXBocyBvbiB0aGUgc2FtZSBzZWdtZW50XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHByb2plY3RUcnVuY2F0ZWRMaW5lU2VnbWVudChwcmV2aW91c1RpbGVQb2ludCwgY3VycmVudFZlcnRleCwgcHJldiwgYWJzT2Zmc2V0WCAtIGRpc3RhbmNlVG9QcmV2ICsgMSwgbGFiZWxQbGFuZU1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkaXN0YW5jZVRvUHJldiArPSBjdXJyZW50U2VnbWVudERpc3RhbmNlO1xuICAgICAgICBjdXJyZW50U2VnbWVudERpc3RhbmNlID0gcHJldi5kaXN0KGN1cnJlbnQpO1xuICAgIH1cblxuICAgIC8vIFRoZSBwb2ludCBpcyBvbiB0aGUgY3VycmVudCBzZWdtZW50LiBJbnRlcnBvbGF0ZSB0byBmaW5kIGl0LlxuICAgIGNvbnN0IHNlZ21lbnRJbnRlcnBvbGF0aW9uVCA9IChhYnNPZmZzZXRYIC0gZGlzdGFuY2VUb1ByZXYpIC8gY3VycmVudFNlZ21lbnREaXN0YW5jZTtcbiAgICBjb25zdCBwcmV2VG9DdXJyZW50ID0gY3VycmVudC5zdWIocHJldik7XG4gICAgY29uc3QgcCA9IHByZXZUb0N1cnJlbnQubXVsdChzZWdtZW50SW50ZXJwb2xhdGlvblQpLl9hZGQocHJldik7XG5cbiAgICAvLyBvZmZzZXQgdGhlIHBvaW50IGZyb20gdGhlIGxpbmUgdG8gdGV4dC1vZmZzZXQgYW5kIGljb24tb2Zmc2V0XG4gICAgcC5fYWRkKHByZXZUb0N1cnJlbnQuX3VuaXQoKS5fcGVycCgpLl9tdWx0KGxpbmVPZmZzZXRZICogZGlyKSk7XG5cbiAgICBjb25zdCBzZWdtZW50QW5nbGUgPSBhbmdsZSArIE1hdGguYXRhbjIoY3VycmVudC55IC0gcHJldi55LCBjdXJyZW50LnggLSBwcmV2LngpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9pbnQ6IHAsXG4gICAgICAgIGFuZ2xlOiBzZWdtZW50QW5nbGUsXG4gICAgICAgIHRpbGVEaXN0YW5jZTogcmV0dXJuVGlsZURpc3RhbmNlID9cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcmV2VGlsZURpc3RhbmNlOiAoY3VycmVudEluZGV4IC0gZGlyKSA9PT0gaW5pdGlhbEluZGV4ID8gMCA6IGxpbmVWZXJ0ZXhBcnJheS5nZXR0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvcihjdXJyZW50SW5kZXggLSBkaXIpLFxuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50Vmlld3BvcnREaXN0YW5jZTogYWJzT2Zmc2V0WCAtIGRpc3RhbmNlVG9QcmV2XG4gICAgICAgICAgICB9IDogbnVsbFxuICAgIH07XG59XG5cbmNvbnN0IGhpZGRlbkdseXBoQXR0cmlidXRlcyA9IG5ldyBGbG9hdDMyQXJyYXkoWy1JbmZpbml0eSwgLUluZmluaXR5LCAwLCAtSW5maW5pdHksIC1JbmZpbml0eSwgMCwgLUluZmluaXR5LCAtSW5maW5pdHksIDAsIC1JbmZpbml0eSwgLUluZmluaXR5LCAwXSk7XG5cbi8vIEhpZGUgdGhlbSBieSBtb3ZpbmcgdGhlbSBvZmZzY3JlZW4uIFdlIHN0aWxsIG5lZWQgdG8gYWRkIHRoZW0gdG8gdGhlIGJ1ZmZlclxuLy8gYmVjYXVzZSB0aGUgZHluYW1pYyBidWZmZXIgaXMgcGFpcmVkIHdpdGggYSBzdGF0aWMgYnVmZmVyIHRoYXQgZG9lc24ndCBnZXQgdXBkYXRlZC5cbmZ1bmN0aW9uIGhpZGVHbHlwaHMobnVtOiBudW1iZXIsIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTogU3ltYm9sRHluYW1pY0xheW91dEFycmF5KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW07IGkrKykge1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoO1xuICAgICAgICBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkucmVzaXplKG9mZnNldCArIDQpO1xuICAgICAgICAvLyBTaW5jZSBhbGwgaGlkZGVuIGdseXBocyBoYXZlIHRoZSBzYW1lIGF0dHJpYnV0ZXMsIHdlIGNhbiBidWlsZCB1cCB0aGUgYXJyYXkgZmFzdGVyIHdpdGggYSBzaW5nbGUgY2FsbCB0byBGbG9hdDMyQXJyYXkuc2V0XG4gICAgICAgIC8vIGZvciBlYWNoIHNldCBvZiBmb3VyIHZlcnRpY2VzLCBpbnN0ZWFkIG9mIGNhbGxpbmcgYWRkRHluYW1pY0F0dHJpYnV0ZXMgZm9yIGVhY2ggdmVydGV4LlxuICAgICAgICBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkuZmxvYXQzMi5zZXQoaGlkZGVuR2x5cGhBdHRyaWJ1dGVzLCBvZmZzZXQgKiAzKTtcbiAgICB9XG59XG5cbi8vIEZvciBsaW5lIGxhYmVsIGxheW91dCwgd2UncmUgbm90IHVzaW5nIHogb3V0cHV0IGFuZCBvdXIgdyBpbnB1dCBpcyBhbHdheXMgMVxuLy8gVGhpcyBjdXN0b20gbWF0cml4IHRyYW5zZm9ybWF0aW9uIGlnbm9yZXMgdGhvc2UgY29tcG9uZW50cyB0byBtYWtlIHByb2plY3Rpb24gZmFzdGVyXG5mdW5jdGlvbiB4eVRyYW5zZm9ybU1hdDQob3V0OiB2ZWM0LCBhOiB2ZWM0LCBtOiBtYXQ0KSB7XG4gICAgY29uc3QgeCA9IGFbMF0sIHkgPSBhWzFdO1xuICAgIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzEyXTtcbiAgICBvdXRbMV0gPSBtWzFdICogeCArIG1bNV0gKiB5ICsgbVsxM107XG4gICAgb3V0WzNdID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTVdO1xuICAgIHJldHVybiBvdXQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5cbmltcG9ydCAqIGFzIGludGVyc2VjdGlvblRlc3RzIGZyb20gJy4uL3V0aWwvaW50ZXJzZWN0aW9uX3Rlc3RzJztcbmltcG9ydCBHcmlkIGZyb20gJy4vZ3JpZF9pbmRleCc7XG5pbXBvcnQgZ2xtYXRyaXggZnJvbSAnQG1hcGJveC9nbC1tYXRyaXgnO1xuXG5jb25zdCBtYXQ0ID0gZ2xtYXRyaXgubWF0NDtcblxuaW1wb3J0ICogYXMgcHJvamVjdGlvbiBmcm9tICcuLi9zeW1ib2wvcHJvamVjdGlvbic7XG5cbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSB7U2luZ2xlQ29sbGlzaW9uQm94fSBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0JztcbmltcG9ydCB0eXBlIHtcbiAgICBDb2xsaXNpb25Cb3hBcnJheSxcbiAgICBHbHlwaE9mZnNldEFycmF5LFxuICAgIFN5bWJvbExpbmVWZXJ0ZXhBcnJheVxufSBmcm9tICcuLi9kYXRhL2FycmF5X3R5cGVzJztcblxuLy8gV2hlbiBhIHN5bWJvbCBjcm9zc2VzIHRoZSBlZGdlIHRoYXQgY2F1c2VzIGl0IHRvIGJlIGluY2x1ZGVkIGluXG4vLyBjb2xsaXNpb24gZGV0ZWN0aW9uLCBpdCB3aWxsIGNhdXNlIGNoYW5nZXMgaW4gdGhlIHN5bWJvbHMgYXJvdW5kXG4vLyBpdC4gVGhpcyBjb25zdGFudCBzcGVjaWZpZXMgaG93IG1hbnkgcGl4ZWxzIHRvIHBhZCB0aGUgZWRnZSBvZlxuLy8gdGhlIHZpZXdwb3J0IGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uIHNvIHRoYXQgdGhlIGJ1bGsgb2YgdGhlIGNoYW5nZXNcbi8vIG9jY3VyIG9mZnNjcmVlbi4gTWFraW5nIHRoaXMgY29uc3RhbnQgZ3JlYXRlciBpbmNyZWFzZXMgbGFiZWxcbi8vIHN0YWJpbGl0eSwgYnV0IGl0J3MgZXhwZW5zaXZlLlxuY29uc3Qgdmlld3BvcnRQYWRkaW5nID0gMTAwO1xuXG4vKipcbiAqIEEgY29sbGlzaW9uIGluZGV4IHVzZWQgdG8gcHJldmVudCBzeW1ib2xzIGZyb20gb3ZlcmxhcHBpbmcuIEl0IGtlZXAgdHJhY2tzIG9mXG4gKiB3aGVyZSBwcmV2aW91cyBzeW1ib2xzIGhhdmUgYmVlbiBwbGFjZWQgYW5kIGlzIHVzZWQgdG8gY2hlY2sgaWYgYSBuZXdcbiAqIHN5bWJvbCBvdmVybGFwcyB3aXRoIGFueSBwcmV2aW91c2x5IGFkZGVkIHN5bWJvbHMuXG4gKlxuICogVGhlcmUgYXJlIHR3byBzdGVwcyB0byBpbnNlcnRpb246IGZpcnN0IHBsYWNlQ29sbGlzaW9uQm94L0NpcmNsZXMgY2hlY2tzIGlmXG4gKiB0aGVyZSdzIHJvb20gZm9yIGEgc3ltYm9sLCB0aGVuIGluc2VydENvbGxpc2lvbkJveC9DaXJjbGVzIGFjdHVhbGx5IHB1dHMgdGhlXG4gKiBzeW1ib2wgaW4gdGhlIGluZGV4LiBUaGUgdHdvIHN0ZXAgcHJvY2VzcyBhbGxvd3MgcGFpcmVkIHN5bWJvbHMgdG8gYmUgaW5zZXJ0ZWRcbiAqIHRvZ2V0aGVyIGV2ZW4gaWYgdGhleSBvdmVybGFwLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIENvbGxpc2lvbkluZGV4IHtcbiAgICBncmlkOiBHcmlkO1xuICAgIGlnbm9yZWRHcmlkOiBHcmlkO1xuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIHBpdGNoZmFjdG9yOiBudW1iZXI7XG4gICAgc2NyZWVuUmlnaHRCb3VuZGFyeTogbnVtYmVyO1xuICAgIHNjcmVlbkJvdHRvbUJvdW5kYXJ5OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sXG4gICAgICAgIGdyaWQ6IEdyaWQgPSBuZXcgR3JpZCh0cmFuc2Zvcm0ud2lkdGggKyAyICogdmlld3BvcnRQYWRkaW5nLCB0cmFuc2Zvcm0uaGVpZ2h0ICsgMiAqIHZpZXdwb3J0UGFkZGluZywgMjUpLFxuICAgICAgICBpZ25vcmVkR3JpZDogR3JpZCA9IG5ldyBHcmlkKHRyYW5zZm9ybS53aWR0aCArIDIgKiB2aWV3cG9ydFBhZGRpbmcsIHRyYW5zZm9ybS5oZWlnaHQgKyAyICogdmlld3BvcnRQYWRkaW5nLCAyNSlcbiAgICApIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG5cbiAgICAgICAgdGhpcy5ncmlkID0gZ3JpZDtcbiAgICAgICAgdGhpcy5pZ25vcmVkR3JpZCA9IGlnbm9yZWRHcmlkO1xuICAgICAgICB0aGlzLnBpdGNoZmFjdG9yID0gTWF0aC5jb3ModHJhbnNmb3JtLl9waXRjaCkgKiB0cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTtcblxuICAgICAgICB0aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnkgPSB0cmFuc2Zvcm0ud2lkdGggKyB2aWV3cG9ydFBhZGRpbmc7XG4gICAgICAgIHRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnkgPSB0cmFuc2Zvcm0uaGVpZ2h0ICsgdmlld3BvcnRQYWRkaW5nO1xuICAgIH1cblxuICAgIHBsYWNlQ29sbGlzaW9uQm94KGNvbGxpc2lvbkJveDogU2luZ2xlQ29sbGlzaW9uQm94LCBhbGxvd092ZXJsYXA6IGJvb2xlYW4sIHRleHRQaXhlbFJhdGlvOiBudW1iZXIsIHBvc01hdHJpeDogbWF0NCk6IHsgYm94OiBBcnJheTxudW1iZXI+LCBvZmZzY3JlZW46IGJvb2xlYW4gfSB7XG4gICAgICAgIGNvbnN0IHByb2plY3RlZFBvaW50ID0gdGhpcy5wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhwb3NNYXRyaXgsIGNvbGxpc2lvbkJveC5hbmNob3JQb2ludFgsIGNvbGxpc2lvbkJveC5hbmNob3JQb2ludFkpO1xuICAgICAgICBjb25zdCB0aWxlVG9WaWV3cG9ydCA9IHRleHRQaXhlbFJhdGlvICogcHJvamVjdGVkUG9pbnQucGVyc3BlY3RpdmVSYXRpbztcbiAgICAgICAgY29uc3QgdGxYID0gY29sbGlzaW9uQm94LngxICogdGlsZVRvVmlld3BvcnQgKyBwcm9qZWN0ZWRQb2ludC5wb2ludC54O1xuICAgICAgICBjb25zdCB0bFkgPSBjb2xsaXNpb25Cb3gueTEgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lnk7XG4gICAgICAgIGNvbnN0IGJyWCA9IGNvbGxpc2lvbkJveC54MiAqIHRpbGVUb1ZpZXdwb3J0ICsgcHJvamVjdGVkUG9pbnQucG9pbnQueDtcbiAgICAgICAgY29uc3QgYnJZID0gY29sbGlzaW9uQm94LnkyICogdGlsZVRvVmlld3BvcnQgKyBwcm9qZWN0ZWRQb2ludC5wb2ludC55O1xuXG4gICAgICAgIGlmICghYWxsb3dPdmVybGFwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ncmlkLmhpdFRlc3QodGxYLCB0bFksIGJyWCwgYnJZKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGJveDogW10sXG4gICAgICAgICAgICAgICAgICAgIG9mZnNjcmVlbjogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib3g6IFt0bFgsIHRsWSwgYnJYLCBiclldLFxuICAgICAgICAgICAgb2Zmc2NyZWVuOiB0aGlzLmlzT2Zmc2NyZWVuKHRsWCwgdGxZLCBiclgsIGJyWSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhcHByb3hpbWF0ZVRpbGVEaXN0YW5jZSh0aWxlRGlzdGFuY2U6IGFueSwgbGFzdFNlZ21lbnRBbmdsZTogbnVtYmVyLCBwaXhlbHNUb1RpbGVVbml0czogbnVtYmVyLCBjYW1lcmFUb0FuY2hvckRpc3RhbmNlOiBudW1iZXIsIHBpdGNoV2l0aE1hcDogYm9vbGVhbik6IG51bWJlciB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBxdWljayBhbmQgZGlydHkgc29sdXRpb24gZm9yIGNob3Npbmcgd2hpY2ggY29sbGlzaW9uIGNpcmNsZXMgdG8gdXNlIChzaW5jZSBjb2xsaXNpb24gY2lyY2xlcyBhcmVcbiAgICAgICAgLy8gbGFpZCBvdXQgaW4gdGlsZSB1bml0cykuIElkZWFsbHksIEkgdGhpbmsgd2Ugc2hvdWxkIGdlbmVyYXRlIGNvbGxpc2lvbiBjaXJjbGVzIG9uIHRoZSBmbHkgaW4gdmlld3BvcnQgY29vcmRpbmF0ZXNcbiAgICAgICAgLy8gYXQgdGhlIHRpbWUgd2UgZG8gY29sbGlzaW9uIGRldGVjdGlvbi5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy81NDc0XG5cbiAgICAgICAgLy8gaW5jaWRlbmNlU3RyZXRjaCBpcyB0aGUgcmF0aW8gb2YgaG93IG11Y2ggeSBzcGFjZSBhIGxhYmVsIHRha2VzIHVwIG9uIGEgdGlsZSB3aGlsZSBkcmF3biBwZXJwZW5kaWN1bGFyIHRvIHRoZSB2aWV3cG9ydCB2c1xuICAgICAgICAvLyAgaG93IG11Y2ggc3BhY2UgaXQgd291bGQgdGFrZSB1cCBpZiBpdCB3ZXJlIGRyYXduIGZsYXQgb24gdGhlIHRpbGVcbiAgICAgICAgLy8gVXNpbmcgbGF3IG9mIHNpbmVzLCBjYW1lcmFfdG9fYW5jaG9yL3Npbihncm91bmRfYW5nbGUpID0gY2FtZXJhX3RvX2NlbnRlci9zaW4oaW5jaWRlbmNlX2FuZ2xlKVxuICAgICAgICAvLyBJbmNpZGVuY2UgYW5nbGUgOTAgLT4gaGVhZCBvbiwgc2luKGluY2lkZW5jZV9hbmdsZSkgPSAxLCBubyBzdHJldGNoXG4gICAgICAgIC8vIEluY2lkZW5jZSBhbmdsZSAxIC0+IHZlcnkgb2JsaXF1ZSwgc2luKGluY2lkZW5jZV9hbmdsZSkgPX4gMCwgbG90cyBvZiBzdHJldGNoXG4gICAgICAgIC8vIGdyb3VuZF9hbmdsZSA9IHVfcGl0Y2ggKyBQSS8yIC0+IHNpbihncm91bmRfYW5nbGUpID0gY29zKHVfcGl0Y2gpXG4gICAgICAgIC8vIGluY2lkZW5jZVN0cmV0Y2ggPSAxIC8gc2luKGluY2lkZW5jZUFuZ2xlKVxuXG4gICAgICAgIGNvbnN0IGluY2lkZW5jZVN0cmV0Y2ggPSBwaXRjaFdpdGhNYXAgPyAxIDogY2FtZXJhVG9BbmNob3JEaXN0YW5jZSAvIHRoaXMucGl0Y2hmYWN0b3I7XG4gICAgICAgIGNvbnN0IGxhc3RTZWdtZW50VGlsZSA9IHRpbGVEaXN0YW5jZS5sYXN0U2VnbWVudFZpZXdwb3J0RGlzdGFuY2UgKiBwaXhlbHNUb1RpbGVVbml0cztcbiAgICAgICAgcmV0dXJuIHRpbGVEaXN0YW5jZS5wcmV2VGlsZURpc3RhbmNlICtcbiAgICAgICAgICAgIGxhc3RTZWdtZW50VGlsZSArXG4gICAgICAgICAgICAoaW5jaWRlbmNlU3RyZXRjaCAtIDEpICogbGFzdFNlZ21lbnRUaWxlICogTWF0aC5hYnMoTWF0aC5zaW4obGFzdFNlZ21lbnRBbmdsZSkpO1xuICAgIH1cblxuICAgIHBsYWNlQ29sbGlzaW9uQ2lyY2xlcyhjb2xsaXNpb25DaXJjbGVzOiBBcnJheTxudW1iZXI+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd092ZXJsYXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRQaXhlbFJhdGlvOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2w6IGFueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVZlcnRleEFycmF5OiBTeW1ib2xMaW5lVmVydGV4QXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdseXBoT2Zmc2V0QXJyYXk6IEdseXBoT2Zmc2V0QXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvc01hdHJpeDogbWF0NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxQbGFuZU1hdHJpeDogbWF0NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbGxpc2lvbkNpcmNsZXM6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbik6IHsgY2lyY2xlczogQXJyYXk8bnVtYmVyPiwgb2Zmc2NyZWVuOiBib29sZWFuIH0ge1xuICAgICAgICBjb25zdCBwbGFjZWRDb2xsaXNpb25DaXJjbGVzID0gW107XG5cbiAgICAgICAgY29uc3QgcHJvamVjdGVkQW5jaG9yID0gdGhpcy5wcm9qZWN0QW5jaG9yKHBvc01hdHJpeCwgc3ltYm9sLmFuY2hvclgsIHN5bWJvbC5hbmNob3JZKTtcblxuICAgICAgICBjb25zdCBwcm9qZWN0aW9uQ2FjaGUgPSB7fTtcbiAgICAgICAgY29uc3QgZm9udFNjYWxlID0gZm9udFNpemUgLyAyNDtcbiAgICAgICAgY29uc3QgbGluZU9mZnNldFggPSBzeW1ib2wubGluZU9mZnNldFggKiBmb250U2l6ZTtcbiAgICAgICAgY29uc3QgbGluZU9mZnNldFkgPSBzeW1ib2wubGluZU9mZnNldFkgKiBmb250U2l6ZTtcblxuICAgICAgICBjb25zdCB0aWxlVW5pdEFuY2hvclBvaW50ID0gbmV3IFBvaW50KHN5bWJvbC5hbmNob3JYLCBzeW1ib2wuYW5jaG9yWSk7XG4gICAgICAgIC8vIHByb2plY3Rpb24ucHJvamVjdCBnZW5lcmF0ZXMgTkRDIGNvb3JkaW5hdGVzLCBhcyBvcHBvc2VkIHRvIHRoZVxuICAgICAgICAvLyBwaXhlbC1iYXNlZCBncmlkIGNvb3JkaW5hdGVzIGdlbmVyYXRlZCBieSB0aGlzLnByb2plY3RQb2ludFxuICAgICAgICBjb25zdCBsYWJlbFBsYW5lQW5jaG9yUG9pbnQgPVxuICAgICAgICAgICAgcHJvamVjdGlvbi5wcm9qZWN0KHRpbGVVbml0QW5jaG9yUG9pbnQsIGxhYmVsUGxhbmVNYXRyaXgpLnBvaW50O1xuICAgICAgICBjb25zdCBmaXJzdEFuZExhc3RHbHlwaCA9IHByb2plY3Rpb24ucGxhY2VGaXJzdEFuZExhc3RHbHlwaChcbiAgICAgICAgICAgIGZvbnRTY2FsZSxcbiAgICAgICAgICAgIGdseXBoT2Zmc2V0QXJyYXksXG4gICAgICAgICAgICBsaW5lT2Zmc2V0WCxcbiAgICAgICAgICAgIGxpbmVPZmZzZXRZLFxuICAgICAgICAgICAgLypmbGlwKi8gZmFsc2UsXG4gICAgICAgICAgICBsYWJlbFBsYW5lQW5jaG9yUG9pbnQsXG4gICAgICAgICAgICB0aWxlVW5pdEFuY2hvclBvaW50LFxuICAgICAgICAgICAgc3ltYm9sLFxuICAgICAgICAgICAgbGluZVZlcnRleEFycmF5LFxuICAgICAgICAgICAgbGFiZWxQbGFuZU1hdHJpeCxcbiAgICAgICAgICAgIHByb2plY3Rpb25DYWNoZSxcbiAgICAgICAgICAgIC8qcmV0dXJuIHRpbGUgZGlzdGFuY2UqLyB0cnVlKTtcblxuICAgICAgICBsZXQgY29sbGlzaW9uRGV0ZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGVudGlyZWx5T2Zmc2NyZWVuID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCB0aWxlVG9WaWV3cG9ydCA9IHByb2plY3RlZEFuY2hvci5wZXJzcGVjdGl2ZVJhdGlvICogdGV4dFBpeGVsUmF0aW87XG4gICAgICAgIC8vIHBpeGVsc1RvVGlsZVVuaXRzIGlzIHVzZWQgZm9yIHRyYW5zbGF0aW5nIGxpbmUgZ2VvbWV0cnkgdG8gdGlsZSB1bml0c1xuICAgICAgICAvLyAuLi4gc28gd2UgY2FyZSBhYm91dCAnc2NhbGUnIGJ1dCBub3QgJ3BlcnNwZWN0aXZlUmF0aW8nXG4gICAgICAgIC8vIGVxdWl2YWxlbnQgdG8gcGl4ZWxfdG9fdGlsZV91bml0c1xuICAgICAgICBjb25zdCBwaXhlbHNUb1RpbGVVbml0cyA9IDEgLyAodGV4dFBpeGVsUmF0aW8gKiBzY2FsZSk7XG5cbiAgICAgICAgbGV0IGZpcnN0VGlsZURpc3RhbmNlID0gMCwgbGFzdFRpbGVEaXN0YW5jZSA9IDA7XG4gICAgICAgIGlmIChmaXJzdEFuZExhc3RHbHlwaCkge1xuICAgICAgICAgICAgZmlyc3RUaWxlRGlzdGFuY2UgPSB0aGlzLmFwcHJveGltYXRlVGlsZURpc3RhbmNlKGZpcnN0QW5kTGFzdEdseXBoLmZpcnN0LnRpbGVEaXN0YW5jZSwgZmlyc3RBbmRMYXN0R2x5cGguZmlyc3QuYW5nbGUsIHBpeGVsc1RvVGlsZVVuaXRzLCBwcm9qZWN0ZWRBbmNob3IuY2FtZXJhRGlzdGFuY2UsIHBpdGNoV2l0aE1hcCk7XG4gICAgICAgICAgICBsYXN0VGlsZURpc3RhbmNlID0gdGhpcy5hcHByb3hpbWF0ZVRpbGVEaXN0YW5jZShmaXJzdEFuZExhc3RHbHlwaC5sYXN0LnRpbGVEaXN0YW5jZSwgZmlyc3RBbmRMYXN0R2x5cGgubGFzdC5hbmdsZSwgcGl4ZWxzVG9UaWxlVW5pdHMsIHByb2plY3RlZEFuY2hvci5jYW1lcmFEaXN0YW5jZSwgcGl0Y2hXaXRoTWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgY29sbGlzaW9uQ2lyY2xlcy5sZW5ndGg7IGsgKz0gNSkge1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yUG9pbnRYID0gY29sbGlzaW9uQ2lyY2xlc1trXTtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvclBvaW50WSA9IGNvbGxpc2lvbkNpcmNsZXNbayArIDFdO1xuICAgICAgICAgICAgY29uc3QgdGlsZVVuaXRSYWRpdXMgPSBjb2xsaXNpb25DaXJjbGVzW2sgKyAyXTtcbiAgICAgICAgICAgIGNvbnN0IGJveFNpZ25lZERpc3RhbmNlRnJvbUFuY2hvciA9IGNvbGxpc2lvbkNpcmNsZXNbayArIDNdO1xuICAgICAgICAgICAgaWYgKCFmaXJzdEFuZExhc3RHbHlwaCB8fFxuICAgICAgICAgICAgICAgIChib3hTaWduZWREaXN0YW5jZUZyb21BbmNob3IgPCAtZmlyc3RUaWxlRGlzdGFuY2UpIHx8XG4gICAgICAgICAgICAgICAgKGJveFNpZ25lZERpc3RhbmNlRnJvbUFuY2hvciA+IGxhc3RUaWxlRGlzdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGxhYmVsIGVpdGhlciBkb2Vzbid0IGZpdCBvbiBpdHMgbGluZSBvciB3ZVxuICAgICAgICAgICAgICAgIC8vIGRvbid0IG5lZWQgdG8gdXNlIHRoaXMgY2lyY2xlIGJlY2F1c2UgdGhlIGxhYmVsXG4gICAgICAgICAgICAgICAgLy8gZG9lc24ndCBleHRlbmQgdGhpcyBmYXIuIEVpdGhlciB3YXksIG1hcmsgdGhlIGNpcmNsZSB1bnVzZWQuXG4gICAgICAgICAgICAgICAgbWFya0NvbGxpc2lvbkNpcmNsZVVzZWQoY29sbGlzaW9uQ2lyY2xlcywgaywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0ZWRQb2ludCA9IHRoaXMucHJvamVjdFBvaW50KHBvc01hdHJpeCwgYW5jaG9yUG9pbnRYLCBhbmNob3JQb2ludFkpO1xuICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gdGlsZVVuaXRSYWRpdXMgKiB0aWxlVG9WaWV3cG9ydDtcblxuICAgICAgICAgICAgY29uc3QgYXRMZWFzdE9uZUNpcmNsZVBsYWNlZCA9IHBsYWNlZENvbGxpc2lvbkNpcmNsZXMubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIGlmIChhdExlYXN0T25lQ2lyY2xlUGxhY2VkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHggPSBwcm9qZWN0ZWRQb2ludC54IC0gcGxhY2VkQ29sbGlzaW9uQ2lyY2xlc1twbGFjZWRDb2xsaXNpb25DaXJjbGVzLmxlbmd0aCAtIDRdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR5ID0gcHJvamVjdGVkUG9pbnQueSAtIHBsYWNlZENvbGxpc2lvbkNpcmNsZXNbcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcy5sZW5ndGggLSAzXTtcbiAgICAgICAgICAgICAgICAvLyBUaGUgY2lyY2xlIGVkZ2VzIHRvdWNoIHdoZW4gdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlaXIgY2VudGVycyBpcyAyeCB0aGUgcmFkaXVzXG4gICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgZGlzdGFuY2UgaXMgMXggdGhlIHJhZGl1cywgdGhleSdyZSBkb3VibGVkIHVwLCBhbmQgd2UgY291bGQgcmVtb3ZlXG4gICAgICAgICAgICAgICAgLy8gZXZlcnkgb3RoZXIgY2lyY2xlIHdoaWxlIGtlZXBpbmcgdGhlbSBhbGwgaW4gdG91Y2guXG4gICAgICAgICAgICAgICAgLy8gV2UgYWN0dWFsbHkgc3RhcnQgcmVtb3ZpbmcgY2lyY2xlcyB3aGVuIHRoZSBkaXN0YW5jZSBpcyDiiJoyeCB0aGUgcmFkaXVzOlxuICAgICAgICAgICAgICAgIC8vICB0aGlubmluZyB0aGUgbnVtYmVyIG9mIGNpcmNsZXMgYXMgbXVjaCBhcyBwb3NzaWJsZSBpcyBhIG1ham9yIHBlcmZvcm1hbmNlIHdpbixcbiAgICAgICAgICAgICAgICAvLyAgYW5kIHRoZSBzbWFsbCBnYXBzIGludHJvZHVjZWQgZG9uJ3QgbWFrZSBhIHZlcnkgbm90aWNlYWJsZSBkaWZmZXJlbmNlLlxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlZFRvb0RlbnNlbHkgPSByYWRpdXMgKiByYWRpdXMgKiAyID4gZHggKiBkeCArIGR5ICogZHk7XG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlZFRvb0RlbnNlbHkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXRMZWFzdE9uZU1vcmVDaXJjbGUgPSAoayArIDgpIDwgY29sbGlzaW9uQ2lyY2xlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdExlYXN0T25lTW9yZUNpcmNsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dEJveERpc3RhbmNlVG9BbmNob3IgPSBjb2xsaXNpb25DaXJjbGVzW2sgKyA4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobmV4dEJveERpc3RhbmNlVG9BbmNob3IgPiAtZmlyc3RUaWxlRGlzdGFuY2UpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAobmV4dEJveERpc3RhbmNlVG9BbmNob3IgPCBsYXN0VGlsZURpc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgc2lnbmlmaWNhbnRseSBvdmVybGFwcGluZyBjaXJjbGVzLCB1bmxlc3MgdGhpcyBpcyB0aGUgbGFzdCBvbmUgd2UgY2FuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlLCBpbiB3aGljaCBjYXNlIHdlIHdhbnQgdG8ga2VlcCBpdCBpbiBwbGFjZSBldmVuIGlmIGl0J3MgdGlnaHRseSBwYWNrZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aXRoIHRoZSBvbmUgYmVmb3JlIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtDb2xsaXNpb25DaXJjbGVVc2VkKGNvbGxpc2lvbkNpcmNsZXMsIGssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbkJveEFycmF5SW5kZXggPSBrIC8gNTtcbiAgICAgICAgICAgIHBsYWNlZENvbGxpc2lvbkNpcmNsZXMucHVzaChwcm9qZWN0ZWRQb2ludC54LCBwcm9qZWN0ZWRQb2ludC55LCByYWRpdXMsIGNvbGxpc2lvbkJveEFycmF5SW5kZXgpO1xuICAgICAgICAgICAgbWFya0NvbGxpc2lvbkNpcmNsZVVzZWQoY29sbGlzaW9uQ2lyY2xlcywgaywgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGVudGlyZWx5T2Zmc2NyZWVuID0gZW50aXJlbHlPZmZzY3JlZW4gJiYgdGhpcy5pc09mZnNjcmVlbihwcm9qZWN0ZWRQb2ludC54IC0gcmFkaXVzLCBwcm9qZWN0ZWRQb2ludC55IC0gcmFkaXVzLCBwcm9qZWN0ZWRQb2ludC54ICsgcmFkaXVzLCBwcm9qZWN0ZWRQb2ludC55ICsgcmFkaXVzKTtcblxuICAgICAgICAgICAgaWYgKCFhbGxvd092ZXJsYXApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncmlkLmhpdFRlc3RDaXJjbGUocHJvamVjdGVkUG9pbnQueCwgcHJvamVjdGVkUG9pbnQueSwgcmFkaXVzKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3dDb2xsaXNpb25DaXJjbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNjcmVlbjogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBlYXJseSBleGl0IGlmIHdlJ3JlIHNob3dpbmcgdGhlIGRlYnVnIGNpcmNsZXMgYmVjYXVzZSB3ZSBzdGlsbCB3YW50IHRvIGNhbGN1bGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggY2lyY2xlcyBhcmUgaW4gdXNlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25EZXRlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2lyY2xlczogY29sbGlzaW9uRGV0ZWN0ZWQgPyBbXSA6IHBsYWNlZENvbGxpc2lvbkNpcmNsZXMsXG4gICAgICAgICAgICBvZmZzY3JlZW46IGVudGlyZWx5T2Zmc2NyZWVuXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmVjYXVzZSB0aGUgZ2VvbWV0cmllcyBpbiB0aGUgQ29sbGlzaW9uSW5kZXggYXJlIGFuIGFwcHJveGltYXRpb24gb2YgdGhlIHNoYXBlIG9mXG4gICAgICogc3ltYm9scyBvbiB0aGUgbWFwLCB3ZSB1c2UgdGhlIENvbGxpc2lvbkluZGV4IHRvIGxvb2sgdXAgdGhlIHN5bWJvbCBwYXJ0IG9mXG4gICAgICogYHF1ZXJ5UmVuZGVyZWRGZWF0dXJlc2AuIE5vbi1zeW1ib2wgZmVhdHVyZXMgYXJlIGxvb2tlZCB1cCB0aWxlLWJ5LXRpbGUsIGFuZFxuICAgICAqIGhpc3RvcmljYWxseSBjb2xsaXNpb25zIHdlcmUgaGFuZGxlZCBwZXItdGlsZS5cbiAgICAgKlxuICAgICAqIEZvciB0aGlzIHJlYXNvbiwgYHF1ZXJ5UmVuZGVyZWRTeW1ib2xzYCBzdGlsbCB0YWtlcyB0aWxlIGNvb3JkaW5hdGUgaW5wdXRzIGFuZFxuICAgICAqIGNvbnZlcnRzIHRoZW0gYmFjayB0byB2aWV3cG9ydCBjb29yZGluYXRlcy4gVGhlIGNoYW5nZSB0byBhIHZpZXdwb3J0IGNvb3JkaW5hdGVcbiAgICAgKiBDb2xsaXNpb25JbmRleCBtZWFucyBpdCdzIG5vdyBwb3NzaWJsZSB0byByZS1kZXNpZ24gcXVlcnlSZW5kZXJlZFN5bWJvbHMgdG9cbiAgICAgKiBydW4gZW50aXJlbHkgaW4gdmlld3BvcnQgY29vcmRpbmF0ZXMsIHNhdmluZyB1bm5lY2Vzc2FyeSBjb252ZXJzaW9ucy5cbiAgICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzU0NzVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcXVlcnlSZW5kZXJlZFN5bWJvbHMocXVlcnlHZW9tZXRyeTogYW55LCB0aWxlQ29vcmQ6IE92ZXJzY2FsZWRUaWxlSUQsIHRleHRQaXhlbFJhdGlvOiBudW1iZXIsIGNvbGxpc2lvbkJveEFycmF5OiBDb2xsaXNpb25Cb3hBcnJheSwgc291cmNlSUQ6IHN0cmluZywgYnVja2V0SW5zdGFuY2VJZHM6IHtbbnVtYmVyXTogYm9vbGVhbn0pIHtcbiAgICAgICAgY29uc3Qgc291cmNlTGF5ZXJGZWF0dXJlcyA9IHt9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgICAgICBpZiAocXVlcnlHZW9tZXRyeS5sZW5ndGggPT09IDAgfHwgKHRoaXMuZ3JpZC5rZXlzTGVuZ3RoKCkgPT09IDAgJiYgdGhpcy5pZ25vcmVkR3JpZC5rZXlzTGVuZ3RoKCkgPT09IDApKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4KHRpbGVDb29yZC50b1Vud3JhcHBlZCgpKTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IFtdO1xuICAgICAgICBsZXQgbWluWCA9IEluZmluaXR5O1xuICAgICAgICBsZXQgbWluWSA9IEluZmluaXR5O1xuICAgICAgICBsZXQgbWF4WCA9IC1JbmZpbml0eTtcbiAgICAgICAgbGV0IG1heFkgPSAtSW5maW5pdHk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVlcnlHZW9tZXRyeS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcmluZyA9IHF1ZXJ5R2VvbWV0cnlbaV07XG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHJpbmcubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gdGhpcy5wcm9qZWN0UG9pbnQocG9zTWF0cml4LCByaW5nW2tdLngsIHJpbmdba10ueSk7XG4gICAgICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIHAueCk7XG4gICAgICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIHAueSk7XG4gICAgICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIHAueCk7XG4gICAgICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIHAueSk7XG4gICAgICAgICAgICAgICAgcXVlcnkucHVzaChwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRpbGVJRCA9IHRpbGVDb29yZC5rZXk7XG5cbiAgICAgICAgY29uc3QgdGhpc1RpbGVGZWF0dXJlcyA9IFtdO1xuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMuZ3JpZC5xdWVyeShtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gT25seSBpbmNsdWRlIHJlc3VsdHMgZnJvbSB0aGUgbWF0Y2hpbmcgc291cmNlLCB0aWxlIGFuZCB2ZXJzaW9uIG9mIHRoZSBidWNrZXQgdGhhdCB3YXMgaW5kZXhlZFxuICAgICAgICAgICAgaWYgKGZlYXR1cmVzW2ldLnNvdXJjZUlEID09PSBzb3VyY2VJRCAmJlxuICAgICAgICAgICAgICAgIGZlYXR1cmVzW2ldLnRpbGVJRCA9PT0gdGlsZUlEICYmXG4gICAgICAgICAgICAgICAgYnVja2V0SW5zdGFuY2VJZHNbZmVhdHVyZXNbaV0uYnVja2V0SW5zdGFuY2VJZF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzVGlsZUZlYXR1cmVzLnB1c2goZmVhdHVyZXNbaV0uYm94SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlnbm9yZWRGZWF0dXJlcyA9IHRoaXMuaWdub3JlZEdyaWQucXVlcnkobWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaWdub3JlZEZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaWdub3JlZEZlYXR1cmVzW2ldLnNvdXJjZUlEID09PSBzb3VyY2VJRCAmJlxuICAgICAgICAgICAgICAgIGlnbm9yZWRGZWF0dXJlc1tpXS50aWxlSUQgPT09IHRpbGVJRCAmJlxuICAgICAgICAgICAgICAgIGJ1Y2tldEluc3RhbmNlSWRzW2lnbm9yZWRGZWF0dXJlc1tpXS5idWNrZXRJbnN0YW5jZUlkXSkge1xuICAgICAgICAgICAgICAgIHRoaXNUaWxlRmVhdHVyZXMucHVzaChpZ25vcmVkRmVhdHVyZXNbaV0uYm94SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzVGlsZUZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBibG9ja2luZyA9IGNvbGxpc2lvbkJveEFycmF5LmdldCh0aGlzVGlsZUZlYXR1cmVzW2ldKTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUxheWVyID0gYmxvY2tpbmcuc291cmNlTGF5ZXJJbmRleDtcbiAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVJbmRleCA9IGJsb2NraW5nLmZlYXR1cmVJbmRleDtcbiAgICAgICAgICAgIGNvbnN0IGJ1Y2tldEluZGV4ID0gYmxvY2tpbmcuYnVja2V0SW5kZXg7XG5cbiAgICAgICAgICAgIC8vIFNraXAgYWxyZWFkeSBzZWVuIGZlYXR1cmVzLlxuICAgICAgICAgICAgaWYgKHNvdXJjZUxheWVyRmVhdHVyZXNbc291cmNlTGF5ZXJdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VMYXllckZlYXR1cmVzW3NvdXJjZUxheWVyXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNvdXJjZUxheWVyRmVhdHVyZXNbc291cmNlTGF5ZXJdW2ZlYXR1cmVJbmRleF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZUxheWVyRmVhdHVyZXNbc291cmNlTGF5ZXJdW2ZlYXR1cmVJbmRleF0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzb3VyY2VMYXllckZlYXR1cmVzW3NvdXJjZUxheWVyXVtmZWF0dXJlSW5kZXhdW2J1Y2tldEluZGV4XSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBxdWVyeSBpbnRlcnNlY3RzIHdpdGggdGhlIGZlYXR1cmUgYm94XG4gICAgICAgICAgICAvLyBcIkNvbGxpc2lvbiBDaXJjbGVzXCIgZm9yIGxpbmUgbGFiZWxzIGFyZSB0cmVhdGVkIGFzIGJveGVzIGhlcmVcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZXJlJ3Mgbm8gYWN0dWFsIGNvbGxpc2lvbiB0YWtpbmcgcGxhY2UsIHRoZSBjaXJjbGUgdnMuIHNxdWFyZVxuICAgICAgICAgICAgLy8gZGlzdGluY3Rpb24gZG9lc24ndCBtYXR0ZXIgYXMgbXVjaCwgYW5kIGJveCBnZW9tZXRyeSBpcyBlYXNpZXJcbiAgICAgICAgICAgIC8vIHRvIHdvcmsgd2l0aC5cbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RlZFBvaW50ID0gdGhpcy5wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhwb3NNYXRyaXgsIGJsb2NraW5nLmFuY2hvclBvaW50WCwgYmxvY2tpbmcuYW5jaG9yUG9pbnRZKTtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVUb1ZpZXdwb3J0ID0gdGV4dFBpeGVsUmF0aW8gKiBwcm9qZWN0ZWRQb2ludC5wZXJzcGVjdGl2ZVJhdGlvO1xuICAgICAgICAgICAgY29uc3QgeDEgPSBibG9ja2luZy54MSAqIHRpbGVUb1ZpZXdwb3J0ICsgcHJvamVjdGVkUG9pbnQucG9pbnQueDtcbiAgICAgICAgICAgIGNvbnN0IHkxID0gYmxvY2tpbmcueTEgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lnk7XG4gICAgICAgICAgICBjb25zdCB4MiA9IGJsb2NraW5nLngyICogdGlsZVRvVmlld3BvcnQgKyBwcm9qZWN0ZWRQb2ludC5wb2ludC54O1xuICAgICAgICAgICAgY29uc3QgeTIgPSBibG9ja2luZy55MiAqIHRpbGVUb1ZpZXdwb3J0ICsgcHJvamVjdGVkUG9pbnQucG9pbnQueTtcbiAgICAgICAgICAgIGNvbnN0IGJib3ggPSBbXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KHgxLCB5MSksXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KHgyLCB5MSksXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KHgyLCB5MiksXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KHgxLCB5MilcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBpZiAoIWludGVyc2VjdGlvblRlc3RzLnBvbHlnb25JbnRlcnNlY3RzUG9seWdvbihxdWVyeSwgYmJveCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc291cmNlTGF5ZXJGZWF0dXJlc1tzb3VyY2VMYXllcl1bZmVhdHVyZUluZGV4XVtidWNrZXRJbmRleF0gPSB0cnVlO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpc1RpbGVGZWF0dXJlc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGluc2VydENvbGxpc2lvbkJveChjb2xsaXNpb25Cb3g6IEFycmF5PG51bWJlcj4sIGlnbm9yZVBsYWNlbWVudDogYm9vbGVhbiwgdGlsZUlEOiBudW1iZXIsIHNvdXJjZUlEOiBzdHJpbmcsIGJ1Y2tldEluc3RhbmNlSWQ6IG51bWJlciwgYm94U3RhcnRJbmRleDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGdyaWQgPSBpZ25vcmVQbGFjZW1lbnQgPyB0aGlzLmlnbm9yZWRHcmlkIDogdGhpcy5ncmlkO1xuXG4gICAgICAgIGNvbnN0IGtleSA9IHsgdGlsZUlEOiB0aWxlSUQsIHNvdXJjZUlEOiBzb3VyY2VJRCwgYnVja2V0SW5zdGFuY2VJZDogYnVja2V0SW5zdGFuY2VJZCwgYm94SW5kZXg6IGJveFN0YXJ0SW5kZXggfTtcbiAgICAgICAgZ3JpZC5pbnNlcnQoa2V5LCBjb2xsaXNpb25Cb3hbMF0sIGNvbGxpc2lvbkJveFsxXSwgY29sbGlzaW9uQm94WzJdLCBjb2xsaXNpb25Cb3hbM10pO1xuICAgIH1cblxuICAgIGluc2VydENvbGxpc2lvbkNpcmNsZXMoY29sbGlzaW9uQ2lyY2xlczogQXJyYXk8bnVtYmVyPiwgaWdub3JlUGxhY2VtZW50OiBib29sZWFuLCB0aWxlSUQ6IG51bWJlciwgc291cmNlSUQ6IHN0cmluZywgYnVja2V0SW5zdGFuY2VJZDogbnVtYmVyLCBib3hTdGFydEluZGV4OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZ3JpZCA9IGlnbm9yZVBsYWNlbWVudCA/IHRoaXMuaWdub3JlZEdyaWQgOiB0aGlzLmdyaWQ7XG5cbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBjb2xsaXNpb25DaXJjbGVzLmxlbmd0aDsgayArPSA0KSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB7IHRpbGVJRDogdGlsZUlELCBzb3VyY2VJRDogc291cmNlSUQsIGJ1Y2tldEluc3RhbmNlSWQ6IGJ1Y2tldEluc3RhbmNlSWQsIGJveEluZGV4OiBib3hTdGFydEluZGV4ICsgY29sbGlzaW9uQ2lyY2xlc1trICsgM10gfTtcbiAgICAgICAgICAgIGdyaWQuaW5zZXJ0Q2lyY2xlKGtleSwgY29sbGlzaW9uQ2lyY2xlc1trXSwgY29sbGlzaW9uQ2lyY2xlc1trICsgMV0sIGNvbGxpc2lvbkNpcmNsZXNbayArIDJdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb2plY3RBbmNob3IocG9zTWF0cml4OiBtYXQ0LCB4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICBjb25zdCBwID0gW3gsIHksIDAsIDFdO1xuICAgICAgICBwcm9qZWN0aW9uLnh5VHJhbnNmb3JtTWF0NChwLCBwLCBwb3NNYXRyaXgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGVyc3BlY3RpdmVSYXRpbzogMC41ICsgMC41ICogKHRoaXMudHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgLyBwWzNdKSxcbiAgICAgICAgICAgIGNhbWVyYURpc3RhbmNlOiBwWzNdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJvamVjdFBvaW50KHBvc01hdHJpeDogbWF0NCwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgcCA9IFt4LCB5LCAwLCAxXTtcbiAgICAgICAgcHJvamVjdGlvbi54eVRyYW5zZm9ybU1hdDQocCwgcCwgcG9zTWF0cml4KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgICAgICAgICgoKHBbMF0gLyBwWzNdICsgMSkgLyAyKSAqIHRoaXMudHJhbnNmb3JtLndpZHRoKSArIHZpZXdwb3J0UGFkZGluZyxcbiAgICAgICAgICAgICgoKC1wWzFdIC8gcFszXSArIDEpIC8gMikgKiB0aGlzLnRyYW5zZm9ybS5oZWlnaHQpICsgdmlld3BvcnRQYWRkaW5nXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8ocG9zTWF0cml4OiBtYXQ0LCB4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICBjb25zdCBwID0gW3gsIHksIDAsIDFdO1xuICAgICAgICBwcm9qZWN0aW9uLnh5VHJhbnNmb3JtTWF0NChwLCBwLCBwb3NNYXRyaXgpO1xuICAgICAgICBjb25zdCBhID0gbmV3IFBvaW50KFxuICAgICAgICAgICAgKCgocFswXSAvIHBbM10gKyAxKSAvIDIpICogdGhpcy50cmFuc2Zvcm0ud2lkdGgpICsgdmlld3BvcnRQYWRkaW5nLFxuICAgICAgICAgICAgKCgoLXBbMV0gLyBwWzNdICsgMSkgLyAyKSAqIHRoaXMudHJhbnNmb3JtLmhlaWdodCkgKyB2aWV3cG9ydFBhZGRpbmdcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvaW50OiBhLFxuICAgICAgICAgICAgLy8gU2VlIHBlcnNwZWN0aXZlIHJhdGlvIGNvbW1lbnQgaW4gc3ltYm9sX3NkZi52ZXJ0ZXhcbiAgICAgICAgICAgIC8vIFdlJ3JlIGRvaW5nIGNvbGxpc2lvbiBkZXRlY3Rpb24gaW4gdmlld3BvcnQgc3BhY2Ugc28gd2UgbmVlZFxuICAgICAgICAgICAgLy8gdG8gc2NhbGUgZG93biBib3hlcyBpbiB0aGUgZGlzdGFuY2VcbiAgICAgICAgICAgIHBlcnNwZWN0aXZlUmF0aW86IDAuNSArIDAuNSAqICh0aGlzLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlIC8gcFszXSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpc09mZnNjcmVlbih4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB4MiA8IHZpZXdwb3J0UGFkZGluZyB8fCB4MSA+PSB0aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnkgfHwgeTIgPCB2aWV3cG9ydFBhZGRpbmcgfHwgeTEgPiB0aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbWFya0NvbGxpc2lvbkNpcmNsZVVzZWQoY29sbGlzaW9uQ2lyY2xlczogQXJyYXk8bnVtYmVyPiwgaW5kZXg6IG51bWJlciwgdXNlZDogYm9vbGVhbikge1xuICAgIGNvbGxpc2lvbkNpcmNsZXNbaW5kZXggKyA0XSA9IHVzZWQgPyAxIDogMDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29sbGlzaW9uSW5kZXg7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyB1bmlxdWVJZCwgZGVlcEVxdWFsLCBwYXJzZUNhY2hlQ29udHJvbCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBkZXNlcmlhbGl6ZSBhcyBkZXNlcmlhbGl6ZUJ1Y2tldCB9IGZyb20gJy4uL2RhdGEvYnVja2V0JztcbmltcG9ydCBGZWF0dXJlSW5kZXggZnJvbSAnLi4vZGF0YS9mZWF0dXJlX2luZGV4JztcbmltcG9ydCB2dCBmcm9tICdAbWFwYm94L3ZlY3Rvci10aWxlJztcbmltcG9ydCBQcm90b2J1ZiBmcm9tICdwYmYnO1xuaW1wb3J0IEdlb0pTT05GZWF0dXJlIGZyb20gJy4uL3V0aWwvdmVjdG9ydGlsZV90b19nZW9qc29uJztcbmltcG9ydCBmZWF0dXJlRmlsdGVyIGZyb20gJy4uL3N0eWxlLXNwZWMvZmVhdHVyZV9maWx0ZXInO1xuaW1wb3J0IENvbGxpc2lvbkluZGV4IGZyb20gJy4uL3N5bWJvbC9jb2xsaXNpb25faW5kZXgnO1xuaW1wb3J0IFN5bWJvbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0JztcbmltcG9ydCB7IFJhc3RlckJvdW5kc0FycmF5LCBDb2xsaXNpb25Cb3hBcnJheSB9IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMnO1xuaW1wb3J0IHJhc3RlckJvdW5kc0F0dHJpYnV0ZXMgZnJvbSAnLi4vZGF0YS9yYXN0ZXJfYm91bmRzX2F0dHJpYnV0ZXMnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudCc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9yZW5kZXIvdGV4dHVyZSc7XG5pbXBvcnQgU2VnbWVudFZlY3RvciBmcm9tICcuLi9kYXRhL3NlZ21lbnQnO1xuaW1wb3J0IHsgVHJpYW5nbGVJbmRleEFycmF5IH0gZnJvbSAnLi4vZGF0YS9pbmRleF9hcnJheV90eXBlJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5cbmNvbnN0IENMT0NLX1NLRVdfUkVUUllfVElNRU9VVCA9IDMwMDAwO1xuXG5pbXBvcnQgdHlwZSB7QnVja2V0fSBmcm9tICcuLi9kYXRhL2J1Y2tldCc7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIHtXb3JrZXJUaWxlUmVzdWx0fSBmcm9tICcuL3dvcmtlcl9zb3VyY2UnO1xuaW1wb3J0IHR5cGUgREVNRGF0YSBmcm9tICcuLi9kYXRhL2RlbV9kYXRhJztcbmltcG9ydCB0eXBlIHtSR0JBSW1hZ2UsIEFscGhhSW1hZ2V9IGZyb20gJy4uL3V0aWwvaW1hZ2UnO1xuaW1wb3J0IHR5cGUgTWFzayBmcm9tICcuLi9yZW5kZXIvdGlsZV9tYXNrJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dCc7XG5pbXBvcnQgdHlwZSBJbmRleEJ1ZmZlciBmcm9tICcuLi9nbC9pbmRleF9idWZmZXInO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXInO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4vdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSBGcmFtZWJ1ZmZlciBmcm9tICcuLi9nbC9mcmFtZWJ1ZmZlcic7XG5pbXBvcnQgdHlwZSB7UGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZ30gZnJvbSAnLi4vdHlwZXMvcGVyZm9ybWFuY2VfcmVzb3VyY2VfdGltaW5nJztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcblxuZXhwb3J0IHR5cGUgVGlsZVN0YXRlID1cbiAgICB8ICdsb2FkaW5nJyAgIC8vIFRpbGUgZGF0YSBpcyBpbiB0aGUgcHJvY2VzcyBvZiBsb2FkaW5nLlxuICAgIHwgJ2xvYWRlZCcgICAgLy8gVGlsZSBkYXRhIGhhcyBiZWVuIGxvYWRlZC4gVGlsZSBjYW4gYmUgcmVuZGVyZWQuXG4gICAgfCAncmVsb2FkaW5nJyAvLyBUaWxlIGRhdGEgaGFzIGJlZW4gbG9hZGVkIGFuZCBpcyBiZWluZyB1cGRhdGVkLiBUaWxlIGNhbiBiZSByZW5kZXJlZC5cbiAgICB8ICd1bmxvYWRlZCcgIC8vIFRpbGUgZGF0YSBoYXMgYmVlbiBkZWxldGVkLlxuICAgIHwgJ2Vycm9yZWQnICAgLy8gVGlsZSBkYXRhIHdhcyBub3QgbG9hZGVkIGJlY2F1c2Ugb2YgYW4gZXJyb3IuXG4gICAgfCAnZXhwaXJlZCc7ICAvKiBUaWxlIGRhdGEgd2FzIHByZXZpb3VzbHkgbG9hZGVkLCBidXQgaGFzIGV4cGlyZWQgcGVyIGl0c1xuICAgICAgICAgICAgICAgICAgICogSFRUUCBoZWFkZXJzIGFuZCBpcyBpbiB0aGUgcHJvY2VzcyBvZiByZWZyZXNoaW5nLiAqL1xuXG4vKipcbiAqIEEgdGlsZSBvYmplY3QgaXMgdGhlIGNvbWJpbmF0aW9uIG9mIGEgQ29vcmRpbmF0ZSwgd2hpY2ggZGVmaW5lc1xuICogaXRzIHBsYWNlLCBhcyB3ZWxsIGFzIGEgdW5pcXVlIElEIGFuZCBkYXRhIHRyYWNraW5nIGZvciBpdHMgY29udGVudFxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFRpbGUge1xuICAgIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRDtcbiAgICB1aWQ6IG51bWJlcjtcbiAgICB1c2VzOiBudW1iZXI7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcbiAgICBidWNrZXRzOiB7W3N0cmluZ106IEJ1Y2tldH07XG4gICAgaWNvbkF0bGFzSW1hZ2U6ID9SR0JBSW1hZ2U7XG4gICAgaWNvbkF0bGFzVGV4dHVyZTogVGV4dHVyZTtcbiAgICBnbHlwaEF0bGFzSW1hZ2U6ID9BbHBoYUltYWdlO1xuICAgIGdseXBoQXRsYXNUZXh0dXJlOiBUZXh0dXJlO1xuICAgIGV4cGlyYXRpb25UaW1lOiBhbnk7XG4gICAgZXhwaXJlZFJlcXVlc3RDb3VudDogbnVtYmVyO1xuICAgIHN0YXRlOiBUaWxlU3RhdGU7XG4gICAgdGltZUFkZGVkOiBhbnk7XG4gICAgZmFkZUVuZFRpbWU6IGFueTtcbiAgICByYXdUaWxlRGF0YTogQXJyYXlCdWZmZXI7XG4gICAgY29sbGlzaW9uQm94QXJyYXk6ID9Db2xsaXNpb25Cb3hBcnJheTtcbiAgICBjb2xsaXNpb25JbmRleDogP0NvbGxpc2lvbkluZGV4O1xuICAgIGZlYXR1cmVJbmRleDogP0ZlYXR1cmVJbmRleDtcbiAgICByZWRvV2hlbkRvbmU6IGJvb2xlYW47XG4gICAgc2hvd0NvbGxpc2lvbkJveGVzOiBib29sZWFuO1xuICAgIHBsYWNlbWVudFNvdXJjZTogYW55O1xuICAgIHdvcmtlcklEOiBudW1iZXIgfCB2b2lkO1xuICAgIHZ0TGF5ZXJzOiB7W3N0cmluZ106IFZlY3RvclRpbGVMYXllcn07XG4gICAgbWFzazogTWFzaztcblxuICAgIG5laWdoYm9yaW5nVGlsZXM6ID9PYmplY3Q7XG4gICAgZGVtOiA/REVNRGF0YTtcbiAgICBhYm9ydGVkOiA/Ym9vbGVhbjtcbiAgICBtYXNrZWRCb3VuZHNCdWZmZXI6ID9WZXJ0ZXhCdWZmZXI7XG4gICAgbWFza2VkSW5kZXhCdWZmZXI6ID9JbmRleEJ1ZmZlcjtcbiAgICBzZWdtZW50czogP1NlZ21lbnRWZWN0b3I7XG4gICAgbmVlZHNIaWxsc2hhZGVQcmVwYXJlOiA/Ym9vbGVhblxuICAgIHJlcXVlc3Q6IGFueTtcbiAgICB0ZXh0dXJlOiBhbnk7XG4gICAgZmJvOiA/RnJhbWVidWZmZXI7XG4gICAgZGVtVGV4dHVyZTogP1RleHR1cmU7XG4gICAgcmVmcmVzaGVkVXBvbkV4cGlyYXRpb246IGJvb2xlYW47XG4gICAgcmVsb2FkQ2FsbGJhY2s6IGFueTtcbiAgICByZXNvdXJjZVRpbWluZzogP0FycmF5PFBlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmc+O1xuICAgIHF1ZXJ5UGFkZGluZzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPdmVyc2NhbGVkVGlsZUlEfSB0aWxlSURcbiAgICAgKiBAcGFyYW0gc2l6ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgc2l6ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudGlsZUlEID0gdGlsZUlEO1xuICAgICAgICB0aGlzLnVpZCA9IHVuaXF1ZUlkKCk7XG4gICAgICAgIHRoaXMudXNlcyA9IDA7XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLmJ1Y2tldHMgPSB7fTtcbiAgICAgICAgdGhpcy5leHBpcmF0aW9uVGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMucXVlcnlQYWRkaW5nID0gMDtcblxuICAgICAgICAvLyBDb3VudHMgdGhlIG51bWJlciBvZiB0aW1lcyBhIHJlc3BvbnNlIHdhcyBhbHJlYWR5IGV4cGlyZWQgd2hlblxuICAgICAgICAvLyByZWNlaXZlZC4gV2UncmUgdXNpbmcgdGhpcyB0byBhZGQgYSBkZWxheSB3aGVuIG1ha2luZyBhIG5ldyByZXF1ZXN0XG4gICAgICAgIC8vIHNvIHdlIGRvbid0IGhhdmUgdG8ga2VlcCByZXRyeWluZyBpbW1lZGlhdGVseSBpbiBjYXNlIG9mIGEgc2VydmVyXG4gICAgICAgIC8vIHNlcnZpbmcgZXhwaXJlZCB0aWxlcy5cbiAgICAgICAgdGhpcy5leHBpcmVkUmVxdWVzdENvdW50ID0gMDtcblxuICAgICAgICB0aGlzLnN0YXRlID0gJ2xvYWRpbmcnO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyRmFkZUR1cmF0aW9uKGR1cmF0aW9uOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZmFkZUVuZFRpbWUgPSBkdXJhdGlvbiArIHRoaXMudGltZUFkZGVkO1xuICAgICAgICBpZiAoZmFkZUVuZFRpbWUgPCBicm93c2VyLm5vdygpKSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmZhZGVFbmRUaW1lICYmIGZhZGVFbmRUaW1lIDwgdGhpcy5mYWRlRW5kVGltZSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuZmFkZUVuZFRpbWUgPSBmYWRlRW5kVGltZTtcbiAgICB9XG5cbiAgICB3YXNSZXF1ZXN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09PSAnZXJyb3JlZCcgfHwgdGhpcy5zdGF0ZSA9PT0gJ2xvYWRlZCcgfHwgdGhpcy5zdGF0ZSA9PT0gJ3JlbG9hZGluZyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBkYXRhIG9iamVjdCB3aXRoIGEgJ2J1ZmZlcnMnIHByb3BlcnR5LCBsb2FkIGl0IGludG9cbiAgICAgKiB0aGlzIHRpbGUncyBlbGVtZW50R3JvdXBzIGFuZCBidWZmZXJzIHByb3BlcnRpZXMgYW5kIHNldCBsb2FkZWRcbiAgICAgKiB0byB0cnVlLiBJZiB0aGUgZGF0YSBpcyBudWxsLCBsaWtlIGluIHRoZSBjYXNlIG9mIGFuIGVtcHR5XG4gICAgICogR2VvSlNPTiB0aWxlLCBuby1vcCBidXQgc3RpbGwgc2V0IGxvYWRlZCB0byB0cnVlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHBhcmFtIHBhaW50ZXJcbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgbG9hZFZlY3RvckRhdGEoZGF0YTogV29ya2VyVGlsZVJlc3VsdCwgcGFpbnRlcjogYW55LCBqdXN0UmVsb2FkZWQ6ID9ib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0RhdGEoKSkge1xuICAgICAgICAgICAgdGhpcy51bmxvYWRWZWN0b3JEYXRhKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlID0gJ2xvYWRlZCc7XG5cbiAgICAgICAgLy8gZW1wdHkgR2VvSlNPTiB0aWxlXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25Cb3hBcnJheSA9IG5ldyBDb2xsaXNpb25Cb3hBcnJheSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEucmF3VGlsZURhdGEpIHtcbiAgICAgICAgICAgIC8vIE9ubHkgdmVjdG9yIHRpbGVzIGhhdmUgcmF3VGlsZURhdGFcbiAgICAgICAgICAgIHRoaXMucmF3VGlsZURhdGEgPSBkYXRhLnJhd1RpbGVEYXRhO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sbGlzaW9uQm94QXJyYXkgPSBkYXRhLmNvbGxpc2lvbkJveEFycmF5O1xuICAgICAgICB0aGlzLmZlYXR1cmVJbmRleCA9IGRhdGEuZmVhdHVyZUluZGV4O1xuICAgICAgICB0aGlzLmZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YSA9IHRoaXMucmF3VGlsZURhdGE7XG4gICAgICAgIHRoaXMuYnVja2V0cyA9IGRlc2VyaWFsaXplQnVja2V0KGRhdGEuYnVja2V0cywgcGFpbnRlci5zdHlsZSk7XG5cbiAgICAgICAgaWYgKGp1c3RSZWxvYWRlZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLmJ1Y2tldHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBidWNrZXQgPSB0aGlzLmJ1Y2tldHNbaWRdO1xuICAgICAgICAgICAgICAgIGlmIChidWNrZXQgaW5zdGFuY2VvZiBTeW1ib2xCdWNrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVja2V0Lmp1c3RSZWxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5xdWVyeVBhZGRpbmcgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuYnVja2V0cykge1xuICAgICAgICAgICAgY29uc3QgYnVja2V0ID0gdGhpcy5idWNrZXRzW2lkXTtcbiAgICAgICAgICAgIHRoaXMucXVlcnlQYWRkaW5nID0gTWF0aC5tYXgodGhpcy5xdWVyeVBhZGRpbmcsIHBhaW50ZXIuc3R5bGUuZ2V0TGF5ZXIoYnVja2V0LmxheWVySWRzWzBdKS5xdWVyeVJhZGl1cyhidWNrZXQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLmljb25BdGxhc0ltYWdlKSB7XG4gICAgICAgICAgICB0aGlzLmljb25BdGxhc0ltYWdlID0gZGF0YS5pY29uQXRsYXNJbWFnZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5nbHlwaEF0bGFzSW1hZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuZ2x5cGhBdGxhc0ltYWdlID0gZGF0YS5nbHlwaEF0bGFzSW1hZ2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIGFueSBkYXRhIG9yIFdlYkdMIHJlc291cmNlcyByZWZlcmVuY2VkIGJ5IHRoaXMgdGlsZS5cbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdW5sb2FkVmVjdG9yRGF0YSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLmJ1Y2tldHMpIHtcbiAgICAgICAgICAgIHRoaXMuYnVja2V0c1tpZF0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVja2V0cyA9IHt9O1xuXG4gICAgICAgIGlmICh0aGlzLmljb25BdGxhc1RleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuaWNvbkF0bGFzVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2x5cGhBdGxhc1RleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2x5cGhBdGxhc1RleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb2xsaXNpb25Cb3hBcnJheSA9IG51bGw7XG4gICAgICAgIHRoaXMuZmVhdHVyZUluZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgfVxuXG4gICAgdW5sb2FkREVNRGF0YSgpIHtcbiAgICAgICAgdGhpcy5kZW0gPSBudWxsO1xuICAgICAgICB0aGlzLm5laWdoYm9yaW5nVGlsZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gJ3VubG9hZGVkJztcbiAgICB9XG5cbiAgICBnZXRCdWNrZXQobGF5ZXI6IFN0eWxlTGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVja2V0c1tsYXllci5pZF07XG4gICAgfVxuXG4gICAgdXBsb2FkKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLmJ1Y2tldHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1Y2tldCA9IHRoaXMuYnVja2V0c1tpZF07XG4gICAgICAgICAgICBpZiAoIWJ1Y2tldC51cGxvYWRlZCkge1xuICAgICAgICAgICAgICAgIGJ1Y2tldC51cGxvYWQoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgYnVja2V0LnVwbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBpZiAodGhpcy5pY29uQXRsYXNJbWFnZSkge1xuICAgICAgICAgICAgdGhpcy5pY29uQXRsYXNUZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgdGhpcy5pY29uQXRsYXNJbWFnZSwgZ2wuUkdCQSk7XG4gICAgICAgICAgICB0aGlzLmljb25BdGxhc0ltYWdlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmdseXBoQXRsYXNJbWFnZSkge1xuICAgICAgICAgICAgdGhpcy5nbHlwaEF0bGFzVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIHRoaXMuZ2x5cGhBdGxhc0ltYWdlLCBnbC5BTFBIQSk7XG4gICAgICAgICAgICB0aGlzLmdseXBoQXRsYXNJbWFnZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBxdWVyeVJlbmRlcmVkRmVhdHVyZXMobGF5ZXJzOiB7W3N0cmluZ106IFN0eWxlTGF5ZXJ9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeUdlb21ldHJ5OiBBcnJheTxBcnJheTxQb2ludD4+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgZmlsdGVyOiBGaWx0ZXJTcGVjaWZpY2F0aW9uLCBsYXllcnM6IEFycmF5PHN0cmluZz4gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1heFBpdGNoU2NhbGVGYWN0b3I6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zTWF0cml4OiBGbG9hdDMyQXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUlEOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkluZGV4OiA/Q29sbGlzaW9uSW5kZXgpOiB7W3N0cmluZ106IEFycmF5PHsgZmVhdHVyZUluZGV4OiBudW1iZXIsIGZlYXR1cmU6IEdlb0pTT05GZWF0dXJlIH0+fSB7XG4gICAgICAgIGlmICghdGhpcy5mZWF0dXJlSW5kZXggfHwgIXRoaXMuY29sbGlzaW9uQm94QXJyYXkpXG4gICAgICAgICAgICByZXR1cm4ge307XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBzZXQgb2YgdGhlIGN1cnJlbnQgYnVja2V0IGluc3RhbmNlIGlkc1xuICAgICAgICBjb25zdCBidWNrZXRJbnN0YW5jZUlkcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIGxheWVycykge1xuICAgICAgICAgICAgY29uc3QgYnVja2V0ID0gdGhpcy5nZXRCdWNrZXQobGF5ZXJzW2lkXSk7XG4gICAgICAgICAgICBpZiAoYnVja2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBidWNrZXQgaW5zdGFuY2UncyBpZCB0byB0aGUgc2V0IG9mIGN1cnJlbnQgaWRzLlxuICAgICAgICAgICAgICAgIC8vIFRoZSBxdWVyeSB3aWxsIG9ubHkgaW5jbHVkZSByZXN1bHRzIGZyb20gY3VycmVudCBidWNrZXRzLlxuICAgICAgICAgICAgICAgIGlmIChidWNrZXQgaW5zdGFuY2VvZiBTeW1ib2xCdWNrZXQgJiYgYnVja2V0LmJ1Y2tldEluc3RhbmNlSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBidWNrZXRJbnN0YW5jZUlkc1tidWNrZXQuYnVja2V0SW5zdGFuY2VJZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVJbmRleC5xdWVyeSh7XG4gICAgICAgICAgICBxdWVyeUdlb21ldHJ5OiBxdWVyeUdlb21ldHJ5LFxuICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICAgICAgdGlsZVNpemU6IHRoaXMudGlsZVNpemUsXG4gICAgICAgICAgICBwb3NNYXRyaXg6IHBvc01hdHJpeCxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtLFxuICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgICAgICAgICBxdWVyeVBhZGRpbmc6IHRoaXMucXVlcnlQYWRkaW5nICogbWF4UGl0Y2hTY2FsZUZhY3RvcixcbiAgICAgICAgICAgIGNvbGxpc2lvbkJveEFycmF5OiB0aGlzLmNvbGxpc2lvbkJveEFycmF5LFxuICAgICAgICAgICAgc291cmNlSUQ6IHNvdXJjZUlELFxuICAgICAgICAgICAgY29sbGlzaW9uSW5kZXg6IGNvbGxpc2lvbkluZGV4LFxuICAgICAgICAgICAgYnVja2V0SW5zdGFuY2VJZHM6IGJ1Y2tldEluc3RhbmNlSWRzXG4gICAgICAgIH0sIGxheWVycyk7XG4gICAgfVxuXG4gICAgcXVlcnlTb3VyY2VGZWF0dXJlcyhyZXN1bHQ6IEFycmF5PEdlb0pTT05GZWF0dXJlPiwgcGFyYW1zOiBhbnkpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJhd1RpbGVEYXRhKSByZXR1cm47XG5cbiAgICAgICAgaWYgKCF0aGlzLnZ0TGF5ZXJzKSB7XG4gICAgICAgICAgICB0aGlzLnZ0TGF5ZXJzID0gbmV3IHZ0LlZlY3RvclRpbGUobmV3IFByb3RvYnVmKHRoaXMucmF3VGlsZURhdGEpKS5sYXllcnM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2VMYXllciA9IHBhcmFtcyA/IHBhcmFtcy5zb3VyY2VMYXllciA6ICcnO1xuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMudnRMYXllcnMuX2dlb2pzb25UaWxlTGF5ZXIgfHwgdGhpcy52dExheWVyc1tzb3VyY2VMYXllcl07XG5cbiAgICAgICAgaWYgKCFsYXllcikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGZpbHRlciA9IGZlYXR1cmVGaWx0ZXIocGFyYW1zICYmIHBhcmFtcy5maWx0ZXIpO1xuICAgICAgICBjb25zdCBjb29yZCA9IHsgejogdGhpcy50aWxlSUQub3ZlcnNjYWxlZFosIHg6IHRoaXMudGlsZUlELmNhbm9uaWNhbC54LCB5OiB0aGlzLnRpbGVJRC5jYW5vbmljYWwueSB9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGZlYXR1cmUgPSBsYXllci5mZWF0dXJlKGkpO1xuICAgICAgICAgICAgaWYgKGZpbHRlcih7em9vbTogdGhpcy50aWxlSUQub3ZlcnNjYWxlZFp9LCBmZWF0dXJlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdlb2pzb25GZWF0dXJlID0gbmV3IEdlb0pTT05GZWF0dXJlKGZlYXR1cmUsIGNvb3JkLnosIGNvb3JkLngsIGNvb3JkLnkpO1xuICAgICAgICAgICAgICAgIChnZW9qc29uRmVhdHVyZTogYW55KS50aWxlID0gY29vcmQ7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZ2VvanNvbkZlYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJNYXNrKCkge1xuICAgICAgICBpZiAodGhpcy5zZWdtZW50cykge1xuICAgICAgICAgICAgdGhpcy5zZWdtZW50cy5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXNrZWRCb3VuZHNCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMubWFza2VkQm91bmRzQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm1hc2tlZEJvdW5kc0J1ZmZlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXNrZWRJbmRleEJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5tYXNrZWRJbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tYXNrZWRJbmRleEJ1ZmZlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldE1hc2sobWFzazogTWFzaywgY29udGV4dDogQ29udGV4dCkge1xuXG4gICAgICAgIC8vIGRvbid0IHJlZG8gYnVmZmVyIHdvcmsgaWYgdGhlIG1hc2sgaXMgdGhlIHNhbWU7XG4gICAgICAgIGlmIChkZWVwRXF1YWwodGhpcy5tYXNrLCBtYXNrKSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMubWFzayA9IG1hc2s7XG4gICAgICAgIHRoaXMuY2xlYXJNYXNrKCk7XG5cbiAgICAgICAgLy8gV2Ugd2FudCB0byByZW5kZXIgdGhlIGZ1bGwgdGlsZSwgYW5kIGtlZXBpbmcgdGhlIHNlZ21lbnRzL3ZlcnRpY2VzL2luZGljZXMgZW1wdHkgbWVhbnNcbiAgICAgICAgLy8gdXNpbmcgdGhlIGdsb2JhbCBzaGFyZWQgYnVmZmVycyBmb3IgY292ZXJpbmcgdGhlIGVudGlyZSB0aWxlLlxuICAgICAgICBpZiAoZGVlcEVxdWFsKG1hc2ssIHsnMCc6IHRydWV9KSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG1hc2tlZEJvdW5kc0FycmF5ID0gbmV3IFJhc3RlckJvdW5kc0FycmF5KCk7XG4gICAgICAgIGNvbnN0IGluZGV4QXJyYXkgPSBuZXcgVHJpYW5nbGVJbmRleEFycmF5KCk7XG5cbiAgICAgICAgdGhpcy5zZWdtZW50cyA9IG5ldyBTZWdtZW50VmVjdG9yKCk7XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBzZWdtZW50IHNvIHRoYXQgd2Ugd2lsbCB1cGxvYWQgKGVtcHR5KSBidWZmZXJzIGV2ZW4gd2hlbiB0aGVyZSBpcyBub3RoaW5nIHRvXG4gICAgICAgIC8vIGRyYXcgZm9yIHRoaXMgdGlsZS5cbiAgICAgICAgdGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCgwLCBtYXNrZWRCb3VuZHNBcnJheSwgaW5kZXhBcnJheSk7XG5cbiAgICAgICAgY29uc3QgbWFza0FycmF5ID0gT2JqZWN0LmtleXMobWFzayk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFza0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBtYXNrQ29vcmQgPSBtYXNrW21hc2tBcnJheVtpXV07XG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhFeHRlbnQgPSBFWFRFTlQgPj4gbWFza0Nvb3JkLno7XG4gICAgICAgICAgICBjb25zdCB0bFZlcnRleCA9IG5ldyBQb2ludChtYXNrQ29vcmQueCAqIHZlcnRleEV4dGVudCwgbWFza0Nvb3JkLnkgKiB2ZXJ0ZXhFeHRlbnQpO1xuICAgICAgICAgICAgY29uc3QgYnJWZXJ0ZXggPSBuZXcgUG9pbnQodGxWZXJ0ZXgueCArIHZlcnRleEV4dGVudCwgdGxWZXJ0ZXgueSArIHZlcnRleEV4dGVudCk7XG5cbiAgICAgICAgICAgIC8vIG5vdCBzdXJlIHdoeSBmbG93IGlzIGNvbXBsYWluaW5nIGhlcmUgYmVjYXVzZSBpdCBkb2Vzbid0IGNvbXBsYWluIGF0IEw0MDFcbiAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSAodGhpcy5zZWdtZW50czogYW55KS5wcmVwYXJlU2VnbWVudCg0LCBtYXNrZWRCb3VuZHNBcnJheSwgaW5kZXhBcnJheSk7XG5cbiAgICAgICAgICAgIG1hc2tlZEJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKHRsVmVydGV4LngsIHRsVmVydGV4LnksIHRsVmVydGV4LngsIHRsVmVydGV4LnkpO1xuICAgICAgICAgICAgbWFza2VkQm91bmRzQXJyYXkuZW1wbGFjZUJhY2soYnJWZXJ0ZXgueCwgdGxWZXJ0ZXgueSwgYnJWZXJ0ZXgueCwgdGxWZXJ0ZXgueSk7XG4gICAgICAgICAgICBtYXNrZWRCb3VuZHNBcnJheS5lbXBsYWNlQmFjayh0bFZlcnRleC54LCBiclZlcnRleC55LCB0bFZlcnRleC54LCBiclZlcnRleC55KTtcbiAgICAgICAgICAgIG1hc2tlZEJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKGJyVmVydGV4LngsIGJyVmVydGV4LnksIGJyVmVydGV4LngsIGJyVmVydGV4LnkpO1xuXG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBzZWdtZW50LnZlcnRleExlbmd0aDtcbiAgICAgICAgICAgIC8vIDAsIDEsIDJcbiAgICAgICAgICAgIC8vIDEsIDIsIDNcbiAgICAgICAgICAgIGluZGV4QXJyYXkuZW1wbGFjZUJhY2sob2Zmc2V0LCBvZmZzZXQgKyAxLCBvZmZzZXQgKyAyKTtcbiAgICAgICAgICAgIGluZGV4QXJyYXkuZW1wbGFjZUJhY2sob2Zmc2V0ICsgMSwgb2Zmc2V0ICsgMiwgb2Zmc2V0ICsgMyk7XG5cbiAgICAgICAgICAgIHNlZ21lbnQudmVydGV4TGVuZ3RoICs9IDQ7XG4gICAgICAgICAgICBzZWdtZW50LnByaW1pdGl2ZUxlbmd0aCArPSAyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tYXNrZWRCb3VuZHNCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcihtYXNrZWRCb3VuZHNBcnJheSwgcmFzdGVyQm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgdGhpcy5tYXNrZWRJbmRleEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlSW5kZXhCdWZmZXIoaW5kZXhBcnJheSk7XG4gICAgfVxuXG4gICAgaGFzRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT09ICdsb2FkZWQnIHx8IHRoaXMuc3RhdGUgPT09ICdyZWxvYWRpbmcnIHx8IHRoaXMuc3RhdGUgPT09ICdleHBpcmVkJztcbiAgICB9XG5cbiAgICBzZXRFeHBpcnlEYXRhKGRhdGE6IGFueSkge1xuICAgICAgICBjb25zdCBwcmlvciA9IHRoaXMuZXhwaXJhdGlvblRpbWU7XG5cbiAgICAgICAgaWYgKGRhdGEuY2FjaGVDb250cm9sKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRDQyA9IHBhcnNlQ2FjaGVDb250cm9sKGRhdGEuY2FjaGVDb250cm9sKTtcbiAgICAgICAgICAgIGlmIChwYXJzZWRDQ1snbWF4LWFnZSddKSB0aGlzLmV4cGlyYXRpb25UaW1lID0gRGF0ZS5ub3coKSArIHBhcnNlZENDWydtYXgtYWdlJ10gKiAxMDAwO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuZXhwaXJlcykge1xuICAgICAgICAgICAgdGhpcy5leHBpcmF0aW9uVGltZSA9IG5ldyBEYXRlKGRhdGEuZXhwaXJlcykuZ2V0VGltZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBsZXQgaXNFeHBpcmVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmV4cGlyYXRpb25UaW1lID4gbm93KSB7XG4gICAgICAgICAgICAgICAgaXNFeHBpcmVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFwcmlvcikge1xuICAgICAgICAgICAgICAgIGlzRXhwaXJlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZXhwaXJhdGlvblRpbWUgPCBwcmlvcikge1xuICAgICAgICAgICAgICAgIC8vIEV4cGlyaW5nIGRhdGUgaXMgZ29pbmcgYmFja3dhcmRzOlxuICAgICAgICAgICAgICAgIC8vIGZhbGwgYmFjayB0byBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICAgICAgICAgICAgaXNFeHBpcmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YSA9IHRoaXMuZXhwaXJhdGlvblRpbWUgLSBwcmlvcjtcblxuICAgICAgICAgICAgICAgIGlmICghZGVsdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VydmVyIGlzIHNlcnZpbmcgdGhlIHNhbWUgZXhwaXJlZCByZXNvdXJjZSBvdmVyIGFuZCBvdmVyOiBmYWxsXG4gICAgICAgICAgICAgICAgICAgIC8vIGJhY2sgdG8gZXhwb25lbnRpYWwgYmFja29mZi5cbiAgICAgICAgICAgICAgICAgICAgaXNFeHBpcmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFzc3VtZSB0aGF0IGVpdGhlciB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIgY2xvY2sgaXMgd3JvbmcgYW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHRyeSB0byBpbnRlcnBvbGF0ZSBhIHZhbGlkIGV4cGlyYXRpb24gZGF0ZSAoZnJvbSB0aGUgY2xpZW50IFBPVilcbiAgICAgICAgICAgICAgICAgICAgLy8gb2JzZXJ2aW5nIGEgbWluaW11bSB0aW1lb3V0LlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cGlyYXRpb25UaW1lID0gbm93ICsgTWF0aC5tYXgoZGVsdGEsIENMT0NLX1NLRVdfUkVUUllfVElNRU9VVCk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0V4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQrKztcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gJ2V4cGlyZWQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0RXhwaXJ5VGltZW91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTAwMCAqICgxIDw8IE1hdGgubWluKHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudCAtIDEsIDMxKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE1heCB2YWx1ZSBmb3IgYHNldFRpbWVvdXRgIGltcGxlbWVudGF0aW9ucyBpcyBhIDMyIGJpdCBpbnRlZ2VyOyBjYXAgdGhpcyBhY2NvcmRpbmdseVxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLmV4cGlyYXRpb25UaW1lIC0gbmV3IERhdGUoKS5nZXRUaW1lKCksIE1hdGgucG93KDIsIDMxKSAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUge0NvbGxpc2lvbkJveEFycmF5fSBmcm9tICcuL2FycmF5X3R5cGVzJztcbmltcG9ydCB0eXBlIFN0eWxlIGZyb20gJy4uL3N0eWxlL3N0eWxlJztcbmltcG9ydCB0eXBlIHtUeXBlZFN0eWxlTGF5ZXJ9IGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL3R5cGVkX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIEZlYXR1cmVJbmRleCBmcm9tICcuL2ZlYXR1cmVfaW5kZXgnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcblxuZXhwb3J0IHR5cGUgQnVja2V0UGFyYW1ldGVyczxMYXllcjogVHlwZWRTdHlsZUxheWVyPiA9IHtcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGxheWVyczogQXJyYXk8TGF5ZXI+LFxuICAgIHpvb206IG51bWJlcixcbiAgICBwaXhlbFJhdGlvOiBudW1iZXIsXG4gICAgb3ZlcnNjYWxpbmc6IG51bWJlcixcbiAgICBjb2xsaXNpb25Cb3hBcnJheTogQ29sbGlzaW9uQm94QXJyYXlcbn1cblxuZXhwb3J0IHR5cGUgUG9wdWxhdGVQYXJhbWV0ZXJzID0ge1xuICAgIGZlYXR1cmVJbmRleDogRmVhdHVyZUluZGV4LFxuICAgIGljb25EZXBlbmRlbmNpZXM6IHt9LFxuICAgIGdseXBoRGVwZW5kZW5jaWVzOiB7fVxufVxuXG5leHBvcnQgdHlwZSBJbmRleGVkRmVhdHVyZSA9IHtcbiAgICBmZWF0dXJlOiBWZWN0b3JUaWxlRmVhdHVyZSxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHNvdXJjZUxheWVySW5kZXg6IG51bWJlcixcbn1cblxuLyoqXG4gKiBUaGUgYEJ1Y2tldGAgaW50ZXJmYWNlIGlzIHRoZSBzaW5nbGUgcG9pbnQgb2Yga25vd2xlZGdlIGFib3V0IHR1cm5pbmcgdmVjdG9yXG4gKiB0aWxlcyBpbnRvIFdlYkdMIGJ1ZmZlcnMuXG4gKlxuICogYEJ1Y2tldGAgaXMgYW4gYWJzdHJhY3QgaW50ZXJmYWNlLiBBbiBpbXBsZW1lbnRhdGlvbiBleGlzdHMgZm9yIGVhY2ggc3R5bGUgbGF5ZXIgdHlwZS5cbiAqIENyZWF0ZSBhIGJ1Y2tldCB2aWEgdGhlIGBTdHlsZUxheWVyI2NyZWF0ZUJ1Y2tldGAgbWV0aG9kLlxuICpcbiAqIFRoZSBjb25jcmV0ZSBidWNrZXQgdHlwZXMsIHVzaW5nIGxheW91dCBvcHRpb25zIGZyb20gdGhlIHN0eWxlIGxheWVyLFxuICogdHJhbnNmb3JtIGZlYXR1cmUgZ2VvbWV0cmllcyBpbnRvIHZlcnRleCBhbmQgaW5kZXggZGF0YSBmb3IgdXNlIGJ5IHRoZVxuICogdmVydGV4IHNoYWRlci4gIFRoZXkgYWxzbyAodmlhIGBQcm9ncmFtQ29uZmlndXJhdGlvbmApIHVzZSBmZWF0dXJlXG4gKiBwcm9wZXJ0aWVzIGFuZCB0aGUgem9vbSBsZXZlbCB0byBwb3B1bGF0ZSB0aGUgYXR0cmlidXRlcyBuZWVkZWQgZm9yXG4gKiBkYXRhLWRyaXZlbiBzdHlsaW5nLlxuICpcbiAqIEJ1Y2tldHMgYXJlIGRlc2lnbmVkIHRvIGJlIGJ1aWx0IG9uIGEgd29ya2VyIHRocmVhZCBhbmQgdGhlbiBzZXJpYWxpemVkIGFuZFxuICogdHJhbnNmZXJyZWQgYmFjayB0byB0aGUgbWFpbiB0aHJlYWQgZm9yIHJlbmRlcmluZy4gIE9uIHRoZSB3b3JrZXIgc2lkZSwgYVxuICogYnVja2V0J3MgdmVydGV4LCBpbmRleCwgYW5kIGF0dHJpYnV0ZSBkYXRhIGlzIHN0b3JlZCBpbiBgYnVja2V0LmFycmF5czpcbiAqIEFycmF5R3JvdXBgLiAgV2hlbiBhIGJ1Y2tldCdzIGRhdGEgaXMgc2VyaWFsaXplZCBhbmQgc2VudCBiYWNrIHRvIHRoZSBtYWluXG4gKiB0aHJlYWQsIGlzIGdldHMgZGVzZXJpYWxpemVkICh1c2luZyBgbmV3IEJ1Y2tldChzZXJpYWxpemVkQnVja2V0RGF0YSlgLCB3aXRoXG4gKiB0aGUgYXJyYXkgZGF0YSBub3cgc3RvcmVkIGluIGBidWNrZXQuYnVmZmVyczogQnVmZmVyR3JvdXBgLiAgQnVmZmVyR3JvdXBzXG4gKiBob2xkIHRoZSBzYW1lIGRhdGEgYXMgQXJyYXlHcm91cHMsIGJ1dCBhcmUgdHVuZWQgZm9yIGNvbnN1bXB0aW9uIGJ5IFdlYkdMLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnVja2V0IHtcbiAgICBsYXllcklkczogQXJyYXk8c3RyaW5nPjtcblxuICAgIHBvcHVsYXRlKGZlYXR1cmVzOiBBcnJheTxJbmRleGVkRmVhdHVyZT4sIG9wdGlvbnM6IFBvcHVsYXRlUGFyYW1ldGVycyk6IHZvaWQ7XG4gICAgaXNFbXB0eSgpOiBib29sZWFuO1xuXG4gICAgdXBsb2FkKGNvbnRleHQ6IENvbnRleHQpOiB2b2lkO1xuICAgIHVwbG9hZGVkOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogUmVsZWFzZSB0aGUgV2ViR0wgcmVzb3VyY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgYnVmZmVycy4gTm90ZSB0aGF0IGJlY2F1c2VcbiAgICAgKiBidWNrZXRzIGFyZSBzaGFyZWQgYmV0d2VlbiBsYXllcnMgaGF2aW5nIHRoZSBzYW1lIGxheW91dCBwcm9wZXJ0aWVzLCB0aGV5XG4gICAgICogbXVzdCBiZSBkZXN0cm95ZWQgaW4gZ3JvdXBzIChhbGwgYnVja2V0cyBmb3IgYSB0aWxlLCBvciBhbGwgc3ltYm9sIGJ1Y2tldHMpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZShpbnB1dDogQXJyYXk8QnVja2V0Piwgc3R5bGU6IFN0eWxlKToge1tzdHJpbmddOiBCdWNrZXR9IHtcbiAgICBjb25zdCBvdXRwdXQgPSB7fTtcblxuICAgIC8vIEd1YXJkIGFnYWluc3QgdGhlIGNhc2Ugd2hlcmUgdGhlIG1hcCdzIHN0eWxlIGhhcyBiZWVuIHNldCB0byBudWxsIHdoaWxlXG4gICAgLy8gdGhpcyBidWNrZXQgaGFzIGJlZW4gcGFyc2luZy5cbiAgICBpZiAoIXN0eWxlKSByZXR1cm4gb3V0cHV0O1xuXG4gICAgZm9yIChjb25zdCBidWNrZXQgb2YgaW5wdXQpIHtcbiAgICAgICAgY29uc3QgbGF5ZXJzID0gYnVja2V0LmxheWVySWRzXG4gICAgICAgICAgICAubWFwKChpZCkgPT4gc3R5bGUuZ2V0TGF5ZXIoaWQpKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKTtcblxuICAgICAgICBpZiAobGF5ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsb29rIHVwIFN0eWxlTGF5ZXIgb2JqZWN0cyBmcm9tIGxheWVyIGlkcyAoc2luY2Ugd2UgZG9uJ3RcbiAgICAgICAgLy8gd2FudCB0byB3YXN0ZSB0aW1lIHNlcmlhbGl6aW5nL2NvcHlpbmcgdGhlbSBmcm9tIHRoZSB3b3JrZXIpXG4gICAgICAgIChidWNrZXQ6IGFueSkubGF5ZXJzID0gbGF5ZXJzO1xuXG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXIgb2YgbGF5ZXJzKSB7XG4gICAgICAgICAgICBvdXRwdXRbbGF5ZXIuaWRdID0gYnVja2V0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbn1cbiIsIi8vIEBmbG93XG5cbi8qKlxuICogQSBbbGVhc3QtcmVjZW50bHktdXNlZCBjYWNoZV0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYWNoZV9hbGdvcml0aG1zKVxuICogd2l0aCBoYXNoIGxvb2t1cCBtYWRlIHBvc3NpYmxlIGJ5IGtlZXBpbmcgYSBsaXN0IG9mIGtleXMgaW4gcGFyYWxsZWwgdG9cbiAqIGFuIGFycmF5IG9mIGRpY3Rpb25hcnkgb2YgdmFsdWVzXG4gKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgTFJVQ2FjaGU8VD4ge1xuICAgIG1heDogbnVtYmVyO1xuICAgIGRhdGE6IHtba2V5OiBzdHJpbmddOiBUfTtcbiAgICBvcmRlcjogQXJyYXk8c3RyaW5nPjtcbiAgICBvblJlbW92ZTogKGVsZW1lbnQ6IFQpID0+IHZvaWQ7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heCBudW1iZXIgb2YgcGVybWl0dGVkIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVtb3ZlIGNhbGxiYWNrIGNhbGxlZCB3aXRoIGl0ZW1zIHdoZW4gdGhleSBleHBpcmVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXg6IG51bWJlciwgb25SZW1vdmU6IChlbGVtZW50OiBUKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMubWF4ID0gbWF4O1xuICAgICAgICB0aGlzLm9uUmVtb3ZlID0gb25SZW1vdmU7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgY2FjaGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMUlVDYWNoZX0gdGhpcyBjYWNoZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5vblJlbW92ZSh0aGlzLmRhdGFba2V5XSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5vcmRlciA9IFtdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGtleSwgdmFsdWUgY29tYmluYXRpb24gdG8gdGhlIGNhY2hlLCB0cmltbWluZyBpdHMgc2l6ZSBpZiB0aGlzIHB1c2hlc1xuICAgICAqIGl0IG92ZXIgbWF4IGxlbmd0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgbG9va3VwIGtleSBmb3IgdGhlIGl0ZW1cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgYW55IHZhbHVlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TFJVQ2FjaGV9IHRoaXMgY2FjaGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFkZChrZXk6IHN0cmluZywgZGF0YTogVCkge1xuXG4gICAgICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2Yoa2V5KSwgMSk7XG4gICAgICAgICAgICB0aGlzLmRhdGFba2V5XSA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLm9yZGVyLnB1c2goa2V5KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhW2tleV0gPSBkYXRhO1xuICAgICAgICAgICAgdGhpcy5vcmRlci5wdXNoKGtleSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9yZGVyLmxlbmd0aCA+IHRoaXMubWF4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlZERhdGEgPSB0aGlzLmdldEFuZFJlbW92ZSh0aGlzLm9yZGVyWzBdKTtcbiAgICAgICAgICAgICAgICBpZiAocmVtb3ZlZERhdGEpIHRoaXMub25SZW1vdmUocmVtb3ZlZERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHZhbHVlIGF0dGFjaGVkIHRvIGBrZXlgIGlzIHByZXNlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSB0byBiZSBsb29rZWQtdXBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciB0aGUgY2FjaGUgaGFzIHRoaXMgdmFsdWVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGhhcyhrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4ga2V5IGluIHRoaXMuZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaXN0IGFsbCBrZXlzIGluIHRoZSBjYWNoZVxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5PHN0cmluZz59IGFuIGFycmF5IG9mIGtleXMgaW4gdGhpcyBjYWNoZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGtleXMoKTogQXJyYXk8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yZGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmFsdWUgYXR0YWNoZWQgdG8gYSBzcGVjaWZpYyBrZXkgYW5kIHJlbW92ZSBkYXRhIGZyb20gY2FjaGUuXG4gICAgICogSWYgdGhlIGtleSBpcyBub3QgZm91bmQsIHJldHVybnMgYG51bGxgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgdG8gbG9vayB1cFxuICAgICAqIEByZXR1cm5zIHsqfSB0aGUgZGF0YSwgb3IgbnVsbCBpZiBpdCBpc24ndCBmb3VuZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0QW5kUmVtb3ZlKGtleTogc3RyaW5nKTogP1Qge1xuICAgICAgICBpZiAoIXRoaXMuaGFzKGtleSkpIHsgcmV0dXJuIG51bGw7IH1cblxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhW2tleV07XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuZGF0YVtrZXldO1xuICAgICAgICB0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2Yoa2V5KSwgMSk7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2YWx1ZSBhdHRhY2hlZCB0byBhIHNwZWNpZmljIGtleSB3aXRob3V0IHJlbW92aW5nIGRhdGFcbiAgICAgKiBmcm9tIHRoZSBjYWNoZS4gSWYgdGhlIGtleSBpcyBub3QgZm91bmQsIHJldHVybnMgYG51bGxgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgdG8gbG9vayB1cFxuICAgICAqIEByZXR1cm5zIHsqfSB0aGUgZGF0YSwgb3IgbnVsbCBpZiBpdCBpc24ndCBmb3VuZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0KGtleTogc3RyaW5nKTogP1Qge1xuICAgICAgICBpZiAoIXRoaXMuaGFzKGtleSkpIHsgcmV0dXJuIG51bGw7IH1cblxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhW2tleV07XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGtleS92YWx1ZSBjb21iaW5hdGlvbiBmcm9tIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSBmb3IgdGhlIHBhaXIgdG8gZGVsZXRlXG4gICAgICogQHJldHVybnMge0xSVUNhY2hlfSB0aGlzIGNhY2hlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICByZW1vdmUoa2V5OiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhcyhrZXkpKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YVtrZXldO1xuICAgICAgICBkZWxldGUgdGhpcy5kYXRhW2tleV07XG4gICAgICAgIHRoaXMub25SZW1vdmUoZGF0YSk7XG4gICAgICAgIHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZihrZXkpLCAxKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgdGhlIG1heCBzaXplIG9mIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXggdGhlIG1heCBzaXplIG9mIHRoZSBjYWNoZVxuICAgICAqIEByZXR1cm5zIHtMUlVDYWNoZX0gdGhpcyBjYWNoZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc2V0TWF4U2l6ZShtYXg6IG51bWJlcik6IExSVUNhY2hlPFQ+IHtcbiAgICAgICAgdGhpcy5tYXggPSBtYXg7XG5cbiAgICAgICAgd2hpbGUgKHRoaXMub3JkZXIubGVuZ3RoID4gdGhpcy5tYXgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZWREYXRhID0gdGhpcy5nZXRBbmRSZW1vdmUodGhpcy5vcmRlclswXSk7XG4gICAgICAgICAgICBpZiAocmVtb3ZlZERhdGEpIHRoaXMub25SZW1vdmUocmVtb3ZlZERhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMUlVDYWNoZTtcbiIsIi8vIEBmbG93XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCB0eXBlIHtTdHJ1Y3RBcnJheX0gZnJvbSAnLi4vdXRpbC9zdHJ1Y3RfYXJyYXknO1xuaW1wb3J0IHR5cGUge1RyaWFuZ2xlSW5kZXhBcnJheSwgTGluZUluZGV4QXJyYXl9IGZyb20gJy4uL2RhdGEvaW5kZXhfYXJyYXlfdHlwZSc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuXG5cbmNsYXNzIEluZGV4QnVmZmVyIHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGJ1ZmZlcjogV2ViR0xCdWZmZXI7XG4gICAgZHluYW1pY0RyYXc6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBhcnJheTogVHJpYW5nbGVJbmRleEFycmF5IHwgTGluZUluZGV4QXJyYXksIGR5bmFtaWNEcmF3PzogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0RyYXcgPSBCb29sZWFuKGR5bmFtaWNEcmF3KTtcblxuICAgICAgICB0aGlzLnVuYmluZFZBTygpO1xuXG4gICAgICAgIGNvbnRleHQuYmluZEVsZW1lbnRCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKTtcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgYXJyYXkuYXJyYXlCdWZmZXIsIHRoaXMuZHluYW1pY0RyYXcgPyBnbC5EWU5BTUlDX0RSQVcgOiBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmR5bmFtaWNEcmF3KSB7XG4gICAgICAgICAgICBkZWxldGUgYXJyYXkuYXJyYXlCdWZmZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bmJpbmRWQU8oKSB7XG4gICAgICAgIC8vIFRoZSBib3VuZCBpbmRleCBidWZmZXIgaXMgcGFydCBvZiB2ZXJ0ZXggYXJyYXkgb2JqZWN0IHN0YXRlLiBXZSBkb24ndCB3YW50IHRvXG4gICAgICAgIC8vIG1vZGlmeSB3aGF0ZXZlciBWQU8gaGFwcGVucyB0byBiZSBjdXJyZW50bHkgYm91bmQsIHNvIG1ha2Ugc3VyZSB0aGUgZGVmYXVsdFxuICAgICAgICAvLyB2ZXJ0ZXggYXJyYXkgcHJvdmlkZWQgYnkgdGhlIGNvbnRleHQgaXMgYm91bmQgaW5zdGVhZC5cbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiaW5kKCkge1xuICAgICAgICB0aGlzLmNvbnRleHQuYmluZEVsZW1lbnRCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKTtcbiAgICB9XG5cbiAgICB1cGRhdGVEYXRhKGFycmF5OiBTdHJ1Y3RBcnJheSkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgYXNzZXJ0KHRoaXMuZHluYW1pY0RyYXcpO1xuICAgICAgICAvLyBUaGUgcmlnaHQgVkFPIHdpbGwgZ2V0IHRoaXMgYnVmZmVyIHJlLWJvdW5kIGxhdGVyIGluIFZlcnRleEFycmF5T2JqZWN0I2JpbmRcbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy81NjIwXG4gICAgICAgIHRoaXMudW5iaW5kVkFPKCk7XG4gICAgICAgIHRoaXMuYmluZCgpO1xuICAgICAgICBnbC5idWZmZXJTdWJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCAwLCBhcnJheS5hcnJheUJ1ZmZlcik7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcikge1xuICAgICAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5kZXhCdWZmZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCB0eXBlIHtcbiAgICBTdHJ1Y3RBcnJheSxcbiAgICBTdHJ1Y3RBcnJheU1lbWJlclxufSBmcm9tICcuLi91dGlsL3N0cnVjdF9hcnJheSc7XG5cbmltcG9ydCB0eXBlIFByb2dyYW0gZnJvbSAnLi4vcmVuZGVyL3Byb2dyYW0nO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfSBBdHRyaWJ1dGVUeXBlXG4gKiBAcHJpdmF0ZVxuICogQHJlYWRvbmx5XG4gKi9cbmNvbnN0IEF0dHJpYnV0ZVR5cGUgPSB7XG4gICAgSW50ODogICAnQllURScsXG4gICAgVWludDg6ICAnVU5TSUdORURfQllURScsXG4gICAgSW50MTY6ICAnU0hPUlQnLFxuICAgIFVpbnQxNjogJ1VOU0lHTkVEX1NIT1JUJyxcbiAgICBJbnQzMjogICdJTlQnLFxuICAgIFVpbnQzMjogJ1VOU0lHTkVEX0lOVCcsXG4gICAgRmxvYXQzMjogJ0ZMT0FUJ1xufTtcblxuLyoqXG4gKiBUaGUgYFZlcnRleEJ1ZmZlcmAgY2xhc3MgdHVybnMgYSBgU3RydWN0QXJyYXlgIGludG8gYSBXZWJHTCBidWZmZXIuIEVhY2ggbWVtYmVyIG9mIHRoZSBTdHJ1Y3RBcnJheSdzXG4gKiBTdHJ1Y3QgdHlwZSBpcyBjb252ZXJ0ZWQgdG8gYSBXZWJHTCBhdHJpYnV0ZS5cbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFZlcnRleEJ1ZmZlciB7XG4gICAgbGVuZ3RoOiBudW1iZXI7XG4gICAgYXR0cmlidXRlczogJFJlYWRPbmx5QXJyYXk8U3RydWN0QXJyYXlNZW1iZXI+O1xuICAgIGl0ZW1TaXplOiBudW1iZXI7XG4gICAgZHluYW1pY0RyYXc6ID9ib29sZWFuO1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgYnVmZmVyOiBXZWJHTEJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkeW5hbWljRHJhdyBXaGV0aGVyIHRoaXMgYnVmZmVyIHdpbGwgYmUgcmVwZWF0ZWRseSB1cGRhdGVkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQsIGFycmF5OiBTdHJ1Y3RBcnJheSwgYXR0cmlidXRlczogJFJlYWRPbmx5QXJyYXk8U3RydWN0QXJyYXlNZW1iZXI+LCBkeW5hbWljRHJhdz86IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG4gICAgICAgIHRoaXMuaXRlbVNpemUgPSBhcnJheS5ieXRlc1BlckVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZHluYW1pY0RyYXcgPSBkeW5hbWljRHJhdztcblxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIGNvbnRleHQuYmluZFZlcnRleEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgYXJyYXkuYXJyYXlCdWZmZXIsIHRoaXMuZHluYW1pY0RyYXcgPyBnbC5EWU5BTUlDX0RSQVcgOiBnbC5TVEFUSUNfRFJBVyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmR5bmFtaWNEcmF3KSB7XG4gICAgICAgICAgICBkZWxldGUgYXJyYXkuYXJyYXlCdWZmZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiaW5kKCkge1xuICAgICAgICB0aGlzLmNvbnRleHQuYmluZFZlcnRleEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpO1xuICAgIH1cblxuICAgIHVwZGF0ZURhdGEoYXJyYXk6IFN0cnVjdEFycmF5KSB7XG4gICAgICAgIGFzc2VydChhcnJheS5sZW5ndGggPT09IHRoaXMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIHRoaXMuYmluZCgpO1xuICAgICAgICBnbC5idWZmZXJTdWJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgMCwgYXJyYXkuYXJyYXlCdWZmZXIpO1xuICAgIH1cblxuICAgIGVuYWJsZUF0dHJpYnV0ZXMoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgcHJvZ3JhbTogUHJvZ3JhbSkge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3QgbWVtYmVyID0gdGhpcy5hdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgY29uc3QgYXR0cmliSW5kZXg6IG51bWJlciB8IHZvaWQgPSBwcm9ncmFtLmF0dHJpYnV0ZXNbbWVtYmVyLm5hbWVdO1xuICAgICAgICAgICAgaWYgKGF0dHJpYkluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhdHRyaWJJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGF0dHJpYnV0ZSBwb2ludGVycyBpbiBhIFdlYkdMIGNvbnRleHRcbiAgICAgKiBAcGFyYW0gZ2wgVGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKiBAcGFyYW0gcHJvZ3JhbSBUaGUgYWN0aXZlIFdlYkdMIHByb2dyYW1cbiAgICAgKiBAcGFyYW0gdmVydGV4T2Zmc2V0IEluZGV4IG9mIHRoZSBzdGFydGluZyB2ZXJ0ZXggb2YgdGhlIHNlZ21lbnRcbiAgICAgKi9cbiAgICBzZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBwcm9ncmFtOiBQcm9ncmFtLCB2ZXJ0ZXhPZmZzZXQ6ID9udW1iZXIpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWJlciA9IHRoaXMuYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYkluZGV4OiBudW1iZXIgfCB2b2lkID0gcHJvZ3JhbS5hdHRyaWJ1dGVzW21lbWJlci5uYW1lXTtcblxuICAgICAgICAgICAgaWYgKGF0dHJpYkluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyLmNvbXBvbmVudHMsXG4gICAgICAgICAgICAgICAgICAgIChnbDogYW55KVtBdHRyaWJ1dGVUeXBlW21lbWJlci50eXBlXV0sXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1TaXplLFxuICAgICAgICAgICAgICAgICAgICBtZW1iZXIub2Zmc2V0ICsgKHRoaXMuaXRlbVNpemUgKiAodmVydGV4T2Zmc2V0IHx8IDApKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBHTCBidWZmZXIgYm91bmQgdG8gdGhlIGdpdmVuIFdlYkdMIGNvbnRleHRcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyKSB7XG4gICAgICAgICAgICBnbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYnVmZmVyO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZXJ0ZXhCdWZmZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yJztcblxuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4vY29udGV4dCc7XG5pbXBvcnQgdHlwZSB7XG4gICAgQmxlbmRGdW5jVHlwZSxcbiAgICBDb2xvck1hc2tUeXBlLFxuICAgIERlcHRoUmFuZ2VUeXBlLFxuICAgIERlcHRoTWFza1R5cGUsXG4gICAgU3RlbmNpbEZ1bmNUeXBlLFxuICAgIFN0ZW5jaWxPcFR5cGUsXG4gICAgRGVwdGhGdW5jVHlwZSxcbiAgICBUZXh0dXJlVW5pdFR5cGUsXG4gICAgVmlld3BvcnRUeXBlLFxufSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBWYWx1ZTxUPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBUO1xuICAgIGdldCgpOiBUO1xuICAgIHNldCh2YWx1ZTogVCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBDbGVhckNvbG9yIGltcGxlbWVudHMgVmFsdWU8Q29sb3I+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IENvbG9yO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBDb2xvci50cmFuc3BhcmVudDtcbiAgICB9XG5cbiAgICBnZXQoKTogQ29sb3IgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogQ29sb3IpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHYuciAhPT0gYy5yIHx8IHYuZyAhPT0gYy5nIHx8IHYuYiAhPT0gYy5iIHx8IHYuYSAhPT0gYy5hKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuY2xlYXJDb2xvcih2LnIsIHYuZywgdi5iLCB2LmEpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsZWFyRGVwdGggaW1wbGVtZW50cyBWYWx1ZTxudW1iZXI+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gMTtcbiAgICB9XG5cbiAgICBnZXQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuY2xlYXJEZXB0aCh2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDbGVhclN0ZW5jaWwgaW1wbGVtZW50cyBWYWx1ZTxudW1iZXI+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gMDtcbiAgICB9XG5cbiAgICBnZXQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuY2xlYXJTdGVuY2lsKHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbG9yTWFzayBpbXBsZW1lbnRzIFZhbHVlPENvbG9yTWFza1R5cGU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IENvbG9yTWFza1R5cGU7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXTtcbiAgICB9XG5cbiAgICBnZXQoKTogQ29sb3JNYXNrVHlwZSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBDb2xvck1hc2tUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2WzBdICE9PSBjWzBdIHx8IHZbMV0gIT09IGNbMV0gfHwgdlsyXSAhPT0gY1syXSB8fCB2WzNdICE9PSBjWzNdKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuY29sb3JNYXNrKHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlcHRoTWFzayBpbXBsZW1lbnRzIFZhbHVlPERlcHRoTWFza1R5cGU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IERlcHRoTWFza1R5cGU7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0KCk6IERlcHRoTWFza1R5cGUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogRGVwdGhNYXNrVHlwZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuZGVwdGhNYXNrKHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0ZW5jaWxNYXNrIGltcGxlbWVudHMgVmFsdWU8bnVtYmVyPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IDB4RkY7XG4gICAgfVxuXG4gICAgZ2V0KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLnN0ZW5jaWxNYXNrKHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0ZW5jaWxGdW5jIGltcGxlbWVudHMgVmFsdWU8U3RlbmNpbEZ1bmNUeXBlPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBTdGVuY2lsRnVuY1R5cGU7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHtcbiAgICAgICAgICAgIGZ1bmM6IGNvbnRleHQuZ2wuQUxXQVlTLFxuICAgICAgICAgICAgcmVmOiAwLFxuICAgICAgICAgICAgbWFzazogMHhGRlxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldCgpOiBTdGVuY2lsRnVuY1R5cGUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogU3RlbmNpbEZ1bmNUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2LmZ1bmMgIT09IGMuZnVuYyB8fCB2LnJlZiAhPT0gYy5yZWYgfHwgdi5tYXNrICE9PSBjLm1hc2spIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5zdGVuY2lsRnVuYyh2LmZ1bmMsIHYucmVmLCB2Lm1hc2spO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0ZW5jaWxPcCBpbXBsZW1lbnRzIFZhbHVlPFN0ZW5jaWxPcFR5cGU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IFN0ZW5jaWxPcFR5cGU7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBbZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUF07XG4gICAgfVxuXG4gICAgZ2V0KCk6IFN0ZW5jaWxPcFR5cGUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogU3RlbmNpbE9wVHlwZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodlswXSAhPT0gY1swXSB8fCB2WzFdICE9PSBjWzFdIHx8IHZbMl0gIT09IGNbMl0pIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5zdGVuY2lsT3AodlswXSwgdlsxXSwgdlsyXSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RlbmNpbFRlc3QgaW1wbGVtZW50cyBWYWx1ZTxib29sZWFuPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlcHRoUmFuZ2UgaW1wbGVtZW50cyBWYWx1ZTxEZXB0aFJhbmdlVHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogRGVwdGhSYW5nZVR5cGU7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IFswLCAxXTtcbiAgICB9XG5cbiAgICBnZXQoKTogRGVwdGhSYW5nZVR5cGUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogRGVwdGhSYW5nZVR5cGUpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHZbMF0gIT09IGNbMF0gfHwgdlsxXSAhPT0gY1sxXSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmRlcHRoUmFuZ2UodlswXSwgdlsxXSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhUZXN0IGltcGxlbWVudHMgVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKGdsLkRFUFRIX1RFU1QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlcHRoRnVuYyBpbXBsZW1lbnRzIFZhbHVlPERlcHRoRnVuY1R5cGU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IERlcHRoRnVuY1R5cGU7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IGNvbnRleHQuZ2wuTEVTUztcbiAgICB9XG5cbiAgICBnZXQoKTogRGVwdGhGdW5jVHlwZSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBEZXB0aEZ1bmNUeXBlKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5kZXB0aEZ1bmModik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmxlbmQgaW1wbGVtZW50cyBWYWx1ZTxib29sZWFuPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKGdsLkJMRU5EKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCbGVuZEZ1bmMgaW1wbGVtZW50cyBWYWx1ZTxCbGVuZEZ1bmNUeXBlPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBCbGVuZEZ1bmNUeXBlO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gW2dsLk9ORSwgZ2wuWkVST107XG4gICAgfVxuXG4gICAgZ2V0KCk6IEJsZW5kRnVuY1R5cGUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogQmxlbmRGdW5jVHlwZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodlswXSAhPT0gY1swXSB8fCB2WzFdICE9PSBjWzFdKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuYmxlbmRGdW5jKHZbMF0sIHZbMV0pO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJsZW5kQ29sb3IgaW1wbGVtZW50cyBWYWx1ZTxDb2xvcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogQ29sb3I7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IENvbG9yLnRyYW5zcGFyZW50O1xuICAgIH1cblxuICAgIGdldCgpOiBDb2xvciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBDb2xvcik6IHZvaWQge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodi5yICE9PSBjLnIgfHwgdi5nICE9PSBjLmcgfHwgdi5iICE9PSBjLmIgfHwgdi5hICE9PSBjLmEpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5ibGVuZENvbG9yKHYuciwgdi5nLCB2LmIsIHYuYSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvZ3JhbSBpbXBsZW1lbnRzIFZhbHVlPD9XZWJHTFByb2dyYW0+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6ID9XZWJHTFByb2dyYW07XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0KCk6ID9XZWJHTFByb2dyYW0geyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogP1dlYkdMUHJvZ3JhbSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wudXNlUHJvZ3JhbSh2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaW5lV2lkdGggaW1wbGVtZW50cyBWYWx1ZTxudW1iZXI+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gMTtcbiAgICB9XG5cbiAgICBnZXQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuY29udGV4dC5saW5lV2lkdGhSYW5nZTtcbiAgICAgICAgY29uc3QgY2xhbXBlZCA9IGNsYW1wKHYsIHJhbmdlWzBdLCByYW5nZVsxXSk7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IGNsYW1wZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5saW5lV2lkdGgoY2xhbXBlZCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWN0aXZlVGV4dHVyZVVuaXQgaW1wbGVtZW50cyBWYWx1ZTxUZXh0dXJlVW5pdFR5cGU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IFRleHR1cmVVbml0VHlwZTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gY29udGV4dC5nbC5URVhUVVJFMDtcbiAgICB9XG5cbiAgICBnZXQoKTogVGV4dHVyZVVuaXRUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IFRleHR1cmVVbml0VHlwZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuYWN0aXZlVGV4dHVyZSh2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWaWV3cG9ydCBpbXBsZW1lbnRzIFZhbHVlPFZpZXdwb3J0VHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogVmlld3BvcnRUeXBlO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gWzAsIDAsIGdsLmRyYXdpbmdCdWZmZXJXaWR0aCwgZ2wuZHJhd2luZ0J1ZmZlckhlaWdodF07XG4gICAgfVxuXG4gICAgZ2V0KCk6IFZpZXdwb3J0VHlwZSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBWaWV3cG9ydFR5cGUpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHZbMF0gIT09IGNbMF0gfHwgdlsxXSAhPT0gY1sxXSB8fCB2WzJdICE9PSBjWzJdIHx8IHZbM10gIT09IGNbM10pIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC52aWV3cG9ydCh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kRnJhbWVidWZmZXIgaW1wbGVtZW50cyBWYWx1ZTw/V2ViR0xGcmFtZWJ1ZmZlcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogP1dlYkdMRnJhbWVidWZmZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0KCk6ID9XZWJHTEZyYW1lYnVmZmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6ID9XZWJHTEZyYW1lYnVmZmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kUmVuZGVyYnVmZmVyIGltcGxlbWVudHMgVmFsdWU8P1dlYkdMUmVuZGVyYnVmZmVyPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiA/V2ViR0xSZW5kZXJidWZmZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0KCk6ID9XZWJHTFJlbmRlcmJ1ZmZlciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiA/V2ViR0xSZW5kZXJidWZmZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgdik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluZFRleHR1cmUgaW1wbGVtZW50cyBWYWx1ZTw/V2ViR0xUZXh0dXJlPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiA/V2ViR0xUZXh0dXJlO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cblxuICAgIGdldCgpOiA/V2ViR0xUZXh0dXJlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6ID9XZWJHTFRleHR1cmUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kVmVydGV4QnVmZmVyIGltcGxlbWVudHMgVmFsdWU8P1dlYkdMQnVmZmVyPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiA/V2ViR0xCdWZmZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0KCk6ID9XZWJHTEJ1ZmZlciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiA/V2ViR0xCdWZmZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluZEVsZW1lbnRCdWZmZXIgaW1wbGVtZW50cyBWYWx1ZTw/V2ViR0xCdWZmZXI+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6ID9XZWJHTEJ1ZmZlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXQoKTogP1dlYkdMQnVmZmVyIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6ID9XZWJHTEJ1ZmZlcik6IHZvaWQge1xuICAgICAgICAvLyBBbHdheXMgcmViaW5kXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB2KTtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCaW5kVmVydGV4QXJyYXlPRVMgaW1wbGVtZW50cyBWYWx1ZTxhbnk+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXQoKTogYW55IHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2ICYmIHRoaXMuY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmV4dFZlcnRleEFycmF5T2JqZWN0LmJpbmRWZXJ0ZXhBcnJheU9FUyh2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQaXhlbFN0b3JlVW5wYWNrIGltcGxlbWVudHMgVmFsdWU8bnVtYmVyPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IDQ7XG4gICAgfVxuXG4gICAgZ2V0KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfQUxJR05NRU5ULCB2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYSBpbXBsZW1lbnRzIFZhbHVlPGJvb2xlYW4+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsICh2OiBhbnkpKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogRnJhbWVidWZmZXIgdmFsdWVzXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY2xhc3MgRnJhbWVidWZmZXJWYWx1ZTxUPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBwYXJlbnQ6IFdlYkdMRnJhbWVidWZmZXI7XG4gICAgY3VycmVudDogP1Q7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBwYXJlbnQ6IFdlYkdMRnJhbWVidWZmZXIpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgfVxuXG4gICAgZ2V0KCk6ID9UIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29sb3JBdHRhY2htZW50IGV4dGVuZHMgRnJhbWVidWZmZXJWYWx1ZTw/V2ViR0xUZXh0dXJlPiBpbXBsZW1lbnRzIFZhbHVlPD9XZWJHTFRleHR1cmU+IHtcbiAgICBkaXJ0eTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQsIHBhcmVudDogV2ViR0xGcmFtZWJ1ZmZlcikge1xuICAgICAgICBzdXBlcihjb250ZXh0LCBwYXJlbnQpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgc2V0KHY6ID9XZWJHTFRleHR1cmUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkgfHwgdGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTtcbiAgICAgICAgICAgIC8vIG5vdGU6IGl0J3MgcG9zc2libGUgdG8gYXR0YWNoIGEgcmVuZGVyYnVmZmVyIHRvIHRoZSBjb2xvclxuICAgICAgICAgICAgLy8gYXR0YWNobWVudCBwb2ludCwgYnV0IHRodXMgZmFyIE1CR0wgb25seSB1c2VzIHRleHR1cmVzIGZvciBjb2xvclxuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB2LCAwKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXREaXJ0eSgpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVwdGhBdHRhY2htZW50IGV4dGVuZHMgRnJhbWVidWZmZXJWYWx1ZTw/V2ViR0xSZW5kZXJidWZmZXI+IGltcGxlbWVudHMgVmFsdWU8P1dlYkdMUmVuZGVyYnVmZmVyPiB7XG4gICAgc2V0KHY6ID9XZWJHTFJlbmRlcmJ1ZmZlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTtcbiAgICAgICAgICAgIC8vIG5vdGU6IGl0J3MgcG9zc2libGUgdG8gYXR0YWNoIGEgdGV4dHVyZSB0byB0aGUgZGVwdGggYXR0YWNobWVudFxuICAgICAgICAgICAgLy8gcG9pbnQsIGJ1dCB0aHVzIGZhciBNQkdMIG9ubHkgdXNlcyByZW5kZXJidWZmZXJzIGZvciBkZXB0aFxuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgdik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcbmltcG9ydCB7IENvbG9yQXR0YWNobWVudCwgRGVwdGhBdHRhY2htZW50IH0gZnJvbSAnLi92YWx1ZSc7XG5cbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi9jb250ZXh0JztcblxuY2xhc3MgRnJhbWVidWZmZXIge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICBmcmFtZWJ1ZmZlcjogV2ViR0xGcmFtZWJ1ZmZlcjtcbiAgICBjb2xvckF0dGFjaG1lbnQ6IENvbG9yQXR0YWNobWVudDtcbiAgICBkZXB0aEF0dGFjaG1lbnQ6IERlcHRoQXR0YWNobWVudDtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgY29uc3QgZmJvID0gdGhpcy5mcmFtZWJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG5cbiAgICAgICAgdGhpcy5jb2xvckF0dGFjaG1lbnQgPSBuZXcgQ29sb3JBdHRhY2htZW50KGNvbnRleHQsIGZibyk7XG4gICAgICAgIHRoaXMuZGVwdGhBdHRhY2htZW50ID0gbmV3IERlcHRoQXR0YWNobWVudChjb250ZXh0LCBmYm8pO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLmNvbG9yQXR0YWNobWVudC5nZXQoKTtcbiAgICAgICAgaWYgKHRleHR1cmUpIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgY29uc3QgcmVuZGVyYnVmZmVyID0gdGhpcy5kZXB0aEF0dGFjaG1lbnQuZ2V0KCk7XG4gICAgICAgIGlmIChyZW5kZXJidWZmZXIpIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcihyZW5kZXJidWZmZXIpO1xuXG4gICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZnJhbWVidWZmZXIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRnJhbWVidWZmZXI7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IHR5cGUgeyBEZXB0aEZ1bmNUeXBlLCBEZXB0aE1hc2tUeXBlLCBEZXB0aFJhbmdlVHlwZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBBTFdBWVMgPSAweDAyMDc7XG5cbmNsYXNzIERlcHRoTW9kZSB7XG4gICAgZnVuYzogRGVwdGhGdW5jVHlwZTtcbiAgICBtYXNrOiBEZXB0aE1hc2tUeXBlO1xuICAgIHJhbmdlOiBEZXB0aFJhbmdlVHlwZTtcblxuICAgIC8vIERlcHRoTWFzayBlbnVtc1xuICAgIHN0YXRpYyBSZWFkT25seTogYm9vbGVhbjtcbiAgICBzdGF0aWMgUmVhZFdyaXRlOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoZGVwdGhGdW5jOiBEZXB0aEZ1bmNUeXBlLCBkZXB0aE1hc2s6IERlcHRoTWFza1R5cGUsIGRlcHRoUmFuZ2U6IERlcHRoUmFuZ2VUeXBlKSB7XG4gICAgICAgIHRoaXMuZnVuYyA9IGRlcHRoRnVuYztcbiAgICAgICAgdGhpcy5tYXNrID0gZGVwdGhNYXNrO1xuICAgICAgICB0aGlzLnJhbmdlID0gZGVwdGhSYW5nZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGlzYWJsZWQ6ICRSZWFkT25seTxEZXB0aE1vZGU+O1xufVxuXG5EZXB0aE1vZGUuUmVhZE9ubHkgPSBmYWxzZTtcbkRlcHRoTW9kZS5SZWFkV3JpdGUgPSB0cnVlO1xuXG5EZXB0aE1vZGUuZGlzYWJsZWQgPSBuZXcgRGVwdGhNb2RlKEFMV0FZUywgRGVwdGhNb2RlLlJlYWRPbmx5LCBbMCwgMV0pO1xuXG5leHBvcnQgZGVmYXVsdCBEZXB0aE1vZGU7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IHR5cGUgeyBTdGVuY2lsT3BDb25zdGFudCwgU3RlbmNpbFRlc3QgfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgQUxXQVlTID0gMHgwMjA3O1xuY29uc3QgS0VFUCA9IDB4MUUwMDtcblxuY2xhc3MgU3RlbmNpbE1vZGUge1xuICAgIHRlc3Q6IFN0ZW5jaWxUZXN0O1xuICAgIHJlZjogbnVtYmVyO1xuICAgIG1hc2s6IG51bWJlcjtcbiAgICBmYWlsOiBTdGVuY2lsT3BDb25zdGFudDtcbiAgICBkZXB0aEZhaWw6IFN0ZW5jaWxPcENvbnN0YW50O1xuICAgIHBhc3M6IFN0ZW5jaWxPcENvbnN0YW50O1xuXG4gICAgY29uc3RydWN0b3IodGVzdDogU3RlbmNpbFRlc3QsIHJlZjogbnVtYmVyLCBtYXNrOiBudW1iZXIsIGZhaWw6IFN0ZW5jaWxPcENvbnN0YW50LFxuICAgICAgICBkZXB0aEZhaWw6IFN0ZW5jaWxPcENvbnN0YW50LCBwYXNzOiBTdGVuY2lsT3BDb25zdGFudCkge1xuICAgICAgICB0aGlzLnRlc3QgPSB0ZXN0O1xuICAgICAgICB0aGlzLnJlZiA9IHJlZjtcbiAgICAgICAgdGhpcy5tYXNrID0gbWFzaztcbiAgICAgICAgdGhpcy5mYWlsID0gZmFpbDtcbiAgICAgICAgdGhpcy5kZXB0aEZhaWwgPSBkZXB0aEZhaWw7XG4gICAgICAgIHRoaXMucGFzcyA9IHBhc3M7XG4gICAgfVxuXG4gICAgc3RhdGljIGRpc2FibGVkOiAkUmVhZE9ubHk8U3RlbmNpbE1vZGU+O1xufVxuXG5TdGVuY2lsTW9kZS5kaXNhYmxlZCA9IG5ldyBTdGVuY2lsTW9kZSh7IGZ1bmM6IEFMV0FZUywgbWFzazogMCB9LCAwLCAwLCBLRUVQLCBLRUVQLCBLRUVQKTtcblxuZXhwb3J0IGRlZmF1bHQgU3RlbmNpbE1vZGU7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5cbmltcG9ydCB0eXBlIHtCbGVuZEZ1bmNUeXBlLCBDb2xvck1hc2tUeXBlfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgWkVSTyA9IDB4MDAwMDtcbmNvbnN0IE9ORSA9IDB4MDAwMTtcbmNvbnN0IE9ORV9NSU5VU19TUkNfQUxQSEEgPSAweDAzMDM7XG5cbmNsYXNzIENvbG9yTW9kZSB7XG4gICAgYmxlbmRGdW5jdGlvbjogQmxlbmRGdW5jVHlwZTtcbiAgICBibGVuZENvbG9yOiBDb2xvcjtcbiAgICBtYXNrOiBDb2xvck1hc2tUeXBlO1xuXG4gICAgY29uc3RydWN0b3IoYmxlbmRGdW5jdGlvbjogQmxlbmRGdW5jVHlwZSwgYmxlbmRDb2xvcjogQ29sb3IsIG1hc2s6IENvbG9yTWFza1R5cGUpIHtcbiAgICAgICAgdGhpcy5ibGVuZEZ1bmN0aW9uID0gYmxlbmRGdW5jdGlvbjtcbiAgICAgICAgdGhpcy5ibGVuZENvbG9yID0gYmxlbmRDb2xvcjtcbiAgICAgICAgdGhpcy5tYXNrID0gbWFzaztcbiAgICB9XG5cbiAgICBzdGF0aWMgUmVwbGFjZTogQmxlbmRGdW5jVHlwZTtcblxuICAgIHN0YXRpYyBkaXNhYmxlZDogJFJlYWRPbmx5PENvbG9yTW9kZT47XG4gICAgc3RhdGljIHVuYmxlbmRlZDogJFJlYWRPbmx5PENvbG9yTW9kZT47XG4gICAgc3RhdGljIGFscGhhQmxlbmRlZDogJFJlYWRPbmx5PENvbG9yTW9kZT47XG59XG5cbkNvbG9yTW9kZS5SZXBsYWNlID0gW09ORSwgWkVST107XG5cbkNvbG9yTW9kZS5kaXNhYmxlZCA9IG5ldyBDb2xvck1vZGUoQ29sb3JNb2RlLlJlcGxhY2UsIENvbG9yLnRyYW5zcGFyZW50LCBbZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2VdKTtcbkNvbG9yTW9kZS51bmJsZW5kZWQgPSBuZXcgQ29sb3JNb2RlKENvbG9yTW9kZS5SZXBsYWNlLCBDb2xvci50cmFuc3BhcmVudCwgW3RydWUsIHRydWUsIHRydWUsIHRydWVdKTtcbkNvbG9yTW9kZS5hbHBoYUJsZW5kZWQgPSBuZXcgQ29sb3JNb2RlKFtPTkUsIE9ORV9NSU5VU19TUkNfQUxQSEFdLCBDb2xvci50cmFuc3BhcmVudCwgW3RydWUsIHRydWUsIHRydWUsIHRydWVdKTtcblxuZXhwb3J0IGRlZmF1bHQgQ29sb3JNb2RlO1xuIiwiLy8gQGZsb3dcbmltcG9ydCBJbmRleEJ1ZmZlciBmcm9tICcuL2luZGV4X2J1ZmZlcic7XG5cbmltcG9ydCBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi92ZXJ0ZXhfYnVmZmVyJztcbmltcG9ydCBGcmFtZWJ1ZmZlciBmcm9tICcuL2ZyYW1lYnVmZmVyJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi9kZXB0aF9tb2RlJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgQ29sb3JNb2RlIGZyb20gJy4vY29sb3JfbW9kZSc7XG5pbXBvcnQgeyBkZWVwRXF1YWwgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgQ2xlYXJDb2xvciwgQ2xlYXJEZXB0aCwgQ2xlYXJTdGVuY2lsLCBDb2xvck1hc2ssIERlcHRoTWFzaywgU3RlbmNpbE1hc2ssIFN0ZW5jaWxGdW5jLCBTdGVuY2lsT3AsIFN0ZW5jaWxUZXN0LCBEZXB0aFJhbmdlLCBEZXB0aFRlc3QsIERlcHRoRnVuYywgQmxlbmQsIEJsZW5kRnVuYywgQmxlbmRDb2xvciwgUHJvZ3JhbSwgTGluZVdpZHRoLCBBY3RpdmVUZXh0dXJlVW5pdCwgVmlld3BvcnQsIEJpbmRGcmFtZWJ1ZmZlciwgQmluZFJlbmRlcmJ1ZmZlciwgQmluZFRleHR1cmUsIEJpbmRWZXJ0ZXhCdWZmZXIsIEJpbmRFbGVtZW50QnVmZmVyLCBCaW5kVmVydGV4QXJyYXlPRVMsIFBpeGVsU3RvcmVVbnBhY2ssIFBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhIH0gZnJvbSAnLi92YWx1ZSc7XG5cblxuaW1wb3J0IHR5cGUge1RyaWFuZ2xlSW5kZXhBcnJheSwgTGluZUluZGV4QXJyYXl9IGZyb20gJy4uL2RhdGEvaW5kZXhfYXJyYXlfdHlwZSc7XG5pbXBvcnQgdHlwZSB7XG4gICAgU3RydWN0QXJyYXksXG4gICAgU3RydWN0QXJyYXlNZW1iZXJcbn0gZnJvbSAnLi4vdXRpbC9zdHJ1Y3RfYXJyYXknO1xuaW1wb3J0IHR5cGUgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yJztcblxudHlwZSBDbGVhckFyZ3MgPSB7XG4gICAgY29sb3I/OiBDb2xvcixcbiAgICBkZXB0aD86IG51bWJlcixcbiAgICBzdGVuY2lsPzogbnVtYmVyXG59O1xuXG5cbmNsYXNzIENvbnRleHQge1xuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XG4gICAgZXh0VmVydGV4QXJyYXlPYmplY3Q6IGFueTtcbiAgICBjdXJyZW50TnVtQXR0cmlidXRlczogP251bWJlcjtcbiAgICBsaW5lV2lkdGhSYW5nZTogW251bWJlciwgbnVtYmVyXTtcblxuICAgIGNsZWFyQ29sb3I6IENsZWFyQ29sb3I7XG4gICAgY2xlYXJEZXB0aDogQ2xlYXJEZXB0aDtcbiAgICBjbGVhclN0ZW5jaWw6IENsZWFyU3RlbmNpbDtcbiAgICBjb2xvck1hc2s6IENvbG9yTWFzaztcbiAgICBkZXB0aE1hc2s6IERlcHRoTWFzaztcbiAgICBzdGVuY2lsTWFzazogU3RlbmNpbE1hc2s7XG4gICAgc3RlbmNpbEZ1bmM6IFN0ZW5jaWxGdW5jO1xuICAgIHN0ZW5jaWxPcDogU3RlbmNpbE9wO1xuICAgIHN0ZW5jaWxUZXN0OiBTdGVuY2lsVGVzdDtcbiAgICBkZXB0aFJhbmdlOiBEZXB0aFJhbmdlO1xuICAgIGRlcHRoVGVzdDogRGVwdGhUZXN0O1xuICAgIGRlcHRoRnVuYzogRGVwdGhGdW5jO1xuICAgIGJsZW5kOiBCbGVuZDtcbiAgICBibGVuZEZ1bmM6IEJsZW5kRnVuYztcbiAgICBibGVuZENvbG9yOiBCbGVuZENvbG9yO1xuICAgIHByb2dyYW06IFByb2dyYW07XG4gICAgbGluZVdpZHRoOiBMaW5lV2lkdGg7XG4gICAgYWN0aXZlVGV4dHVyZTogQWN0aXZlVGV4dHVyZVVuaXQ7XG4gICAgdmlld3BvcnQ6IFZpZXdwb3J0O1xuICAgIGJpbmRGcmFtZWJ1ZmZlcjogQmluZEZyYW1lYnVmZmVyO1xuICAgIGJpbmRSZW5kZXJidWZmZXI6IEJpbmRSZW5kZXJidWZmZXI7XG4gICAgYmluZFRleHR1cmU6IEJpbmRUZXh0dXJlO1xuICAgIGJpbmRWZXJ0ZXhCdWZmZXI6IEJpbmRWZXJ0ZXhCdWZmZXI7XG4gICAgYmluZEVsZW1lbnRCdWZmZXI6IEJpbmRFbGVtZW50QnVmZmVyO1xuICAgIGJpbmRWZXJ0ZXhBcnJheU9FUzogQmluZFZlcnRleEFycmF5T0VTO1xuICAgIHBpeGVsU3RvcmVVbnBhY2s6IFBpeGVsU3RvcmVVbnBhY2s7XG4gICAgcGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGE6IFBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhO1xuXG4gICAgZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljOiBhbnk7XG4gICAgZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4OiBhbnk7XG4gICAgZXh0VGV4dHVyZUhhbGZGbG9hdDogYW55O1xuXG4gICAgY29uc3RydWN0b3IoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QgPSB0aGlzLmdsLmdldEV4dGVuc2lvbignT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKTtcbiAgICAgICAgdGhpcy5saW5lV2lkdGhSYW5nZSA9IGdsLmdldFBhcmFtZXRlcihnbC5BTElBU0VEX0xJTkVfV0lEVEhfUkFOR0UpO1xuXG4gICAgICAgIHRoaXMuY2xlYXJDb2xvciA9IG5ldyBDbGVhckNvbG9yKHRoaXMpO1xuICAgICAgICB0aGlzLmNsZWFyRGVwdGggPSBuZXcgQ2xlYXJEZXB0aCh0aGlzKTtcbiAgICAgICAgdGhpcy5jbGVhclN0ZW5jaWwgPSBuZXcgQ2xlYXJTdGVuY2lsKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbG9yTWFzayA9IG5ldyBDb2xvck1hc2sodGhpcyk7XG4gICAgICAgIHRoaXMuZGVwdGhNYXNrID0gbmV3IERlcHRoTWFzayh0aGlzKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsTWFzayA9IG5ldyBTdGVuY2lsTWFzayh0aGlzKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsRnVuYyA9IG5ldyBTdGVuY2lsRnVuYyh0aGlzKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsT3AgPSBuZXcgU3RlbmNpbE9wKHRoaXMpO1xuICAgICAgICB0aGlzLnN0ZW5jaWxUZXN0ID0gbmV3IFN0ZW5jaWxUZXN0KHRoaXMpO1xuICAgICAgICB0aGlzLmRlcHRoUmFuZ2UgPSBuZXcgRGVwdGhSYW5nZSh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXB0aFRlc3QgPSBuZXcgRGVwdGhUZXN0KHRoaXMpO1xuICAgICAgICB0aGlzLmRlcHRoRnVuYyA9IG5ldyBEZXB0aEZ1bmModGhpcyk7XG4gICAgICAgIHRoaXMuYmxlbmQgPSBuZXcgQmxlbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYmxlbmRGdW5jID0gbmV3IEJsZW5kRnVuYyh0aGlzKTtcbiAgICAgICAgdGhpcy5ibGVuZENvbG9yID0gbmV3IEJsZW5kQ29sb3IodGhpcyk7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG5ldyBQcm9ncmFtKHRoaXMpO1xuICAgICAgICB0aGlzLmxpbmVXaWR0aCA9IG5ldyBMaW5lV2lkdGgodGhpcyk7XG4gICAgICAgIHRoaXMuYWN0aXZlVGV4dHVyZSA9IG5ldyBBY3RpdmVUZXh0dXJlVW5pdCh0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBWaWV3cG9ydCh0aGlzKTtcbiAgICAgICAgdGhpcy5iaW5kRnJhbWVidWZmZXIgPSBuZXcgQmluZEZyYW1lYnVmZmVyKHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRSZW5kZXJidWZmZXIgPSBuZXcgQmluZFJlbmRlcmJ1ZmZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5iaW5kVGV4dHVyZSA9IG5ldyBCaW5kVGV4dHVyZSh0aGlzKTtcbiAgICAgICAgdGhpcy5iaW5kVmVydGV4QnVmZmVyID0gbmV3IEJpbmRWZXJ0ZXhCdWZmZXIodGhpcyk7XG4gICAgICAgIHRoaXMuYmluZEVsZW1lbnRCdWZmZXIgPSBuZXcgQmluZEVsZW1lbnRCdWZmZXIodGhpcyk7XG4gICAgICAgIHRoaXMuYmluZFZlcnRleEFycmF5T0VTID0gdGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCAmJiBuZXcgQmluZFZlcnRleEFycmF5T0VTKHRoaXMpO1xuICAgICAgICB0aGlzLnBpeGVsU3RvcmVVbnBhY2sgPSBuZXcgUGl4ZWxTdG9yZVVucGFjayh0aGlzKTtcbiAgICAgICAgdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYSA9IG5ldyBQaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYSh0aGlzKTtcblxuICAgICAgICB0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyA9IChcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykgfHxcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpIHx8XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKVxuICAgICAgICApO1xuICAgICAgICBpZiAodGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMpIHtcbiAgICAgICAgICAgIHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4ID0gZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV4dFRleHR1cmVIYWxmRmxvYXQgPSBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnKTtcbiAgICAgICAgaWYgKHRoaXMuZXh0VGV4dHVyZUhhbGZGbG9hdCkge1xuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhcicpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjcmVhdGVJbmRleEJ1ZmZlcihhcnJheTogVHJpYW5nbGVJbmRleEFycmF5IHwgTGluZUluZGV4QXJyYXksIGR5bmFtaWNEcmF3PzogYm9vbGVhbikge1xuICAgICAgICByZXR1cm4gbmV3IEluZGV4QnVmZmVyKHRoaXMsIGFycmF5LCBkeW5hbWljRHJhdyk7XG4gICAgfVxuXG4gICAgY3JlYXRlVmVydGV4QnVmZmVyKGFycmF5OiBTdHJ1Y3RBcnJheSwgYXR0cmlidXRlczogJFJlYWRPbmx5QXJyYXk8U3RydWN0QXJyYXlNZW1iZXI+LCBkeW5hbWljRHJhdz86IGJvb2xlYW4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZXJ0ZXhCdWZmZXIodGhpcywgYXJyYXksIGF0dHJpYnV0ZXMsIGR5bmFtaWNEcmF3KTtcbiAgICB9XG5cbiAgICBjcmVhdGVSZW5kZXJidWZmZXIoc3RvcmFnZUZvcm1hdDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgY29uc3QgcmJvID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgIHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5zZXQocmJvKTtcbiAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIHN0b3JhZ2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KG51bGwpO1xuXG4gICAgICAgIHJldHVybiByYm87XG4gICAgfVxuXG4gICAgY3JlYXRlRnJhbWVidWZmZXIod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGcmFtZWJ1ZmZlcih0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBjbGVhcih7Y29sb3IsIGRlcHRofTogQ2xlYXJBcmdzKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgbGV0IG1hc2sgPSAwO1xuXG4gICAgICAgIGlmIChjb2xvcikge1xuICAgICAgICAgICAgbWFzayB8PSBnbC5DT0xPUl9CVUZGRVJfQklUO1xuICAgICAgICAgICAgdGhpcy5jbGVhckNvbG9yLnNldChjb2xvcik7XG4gICAgICAgICAgICB0aGlzLmNvbG9yTWFzay5zZXQoW3RydWUsIHRydWUsIHRydWUsIHRydWVdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgZGVwdGggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBtYXNrIHw9IGdsLkRFUFRIX0JVRkZFUl9CSVQ7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRGVwdGguc2V0KGRlcHRoKTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhNYXNrLnNldCh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlZSBub3RlIGluIFBhaW50ZXIjY2xlYXJTdGVuY2lsOiBpbXBsZW1lbnQgdGhpcyB0aGUgZWFzeSB3YXkgb25jZSBHUFUgYnVnL3dvcmthcm91bmQgaXMgZml4ZWQgdXBzdHJlYW1cbiAgICAgICAgLy8gaWYgKHR5cGVvZiBzdGVuY2lsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyAgICAgbWFzayB8PSBnbC5TVEVOQ0lMX0JVRkZFUl9CSVQ7XG4gICAgICAgIC8vICAgICB0aGlzLmNsZWFyU3RlbmNpbC5zZXQoc3RlbmNpbCk7XG4gICAgICAgIC8vICAgICB0aGlzLnN0ZW5jaWxNYXNrLnNldCgweEZGKTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGdsLmNsZWFyKG1hc2spO1xuICAgIH1cblxuICAgIHNldERlcHRoTW9kZShkZXB0aE1vZGU6ICRSZWFkT25seTxEZXB0aE1vZGU+KSB7XG4gICAgICAgIGlmIChkZXB0aE1vZGUuZnVuYyA9PT0gdGhpcy5nbC5BTFdBWVMgJiYgIWRlcHRoTW9kZS5tYXNrKSB7XG4gICAgICAgICAgICB0aGlzLmRlcHRoVGVzdC5zZXQoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRlc3Quc2V0KHRydWUpO1xuICAgICAgICAgICAgdGhpcy5kZXB0aEZ1bmMuc2V0KGRlcHRoTW9kZS5mdW5jKTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhNYXNrLnNldChkZXB0aE1vZGUubWFzayk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoUmFuZ2Uuc2V0KGRlcHRoTW9kZS5yYW5nZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRTdGVuY2lsTW9kZShzdGVuY2lsTW9kZTogJFJlYWRPbmx5PFN0ZW5jaWxNb2RlPikge1xuICAgICAgICBpZiAoc3RlbmNpbE1vZGUudGVzdC5mdW5jID09PSB0aGlzLmdsLkFMV0FZUyAmJiAhc3RlbmNpbE1vZGUubWFzaykge1xuICAgICAgICAgICAgdGhpcy5zdGVuY2lsVGVzdC5zZXQoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGVuY2lsVGVzdC5zZXQodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrLnNldChzdGVuY2lsTW9kZS5tYXNrKTtcbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbE9wLnNldChbc3RlbmNpbE1vZGUuZmFpbCwgc3RlbmNpbE1vZGUuZGVwdGhGYWlsLCBzdGVuY2lsTW9kZS5wYXNzXSk7XG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxGdW5jLnNldCh7XG4gICAgICAgICAgICAgICAgZnVuYzogc3RlbmNpbE1vZGUudGVzdC5mdW5jLFxuICAgICAgICAgICAgICAgIHJlZjogc3RlbmNpbE1vZGUucmVmLFxuICAgICAgICAgICAgICAgIG1hc2s6IHN0ZW5jaWxNb2RlLnRlc3QubWFza1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDb2xvck1vZGUoY29sb3JNb2RlOiAkUmVhZE9ubHk8Q29sb3JNb2RlPikge1xuICAgICAgICBpZiAoZGVlcEVxdWFsKGNvbG9yTW9kZS5ibGVuZEZ1bmN0aW9uLCBDb2xvck1vZGUuUmVwbGFjZSkpIHtcbiAgICAgICAgICAgIHRoaXMuYmxlbmQuc2V0KGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmxlbmQuc2V0KHRydWUpO1xuICAgICAgICAgICAgdGhpcy5ibGVuZEZ1bmMuc2V0KGNvbG9yTW9kZS5ibGVuZEZ1bmN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuYmxlbmRDb2xvci5zZXQoY29sb3JNb2RlLmJsZW5kQ29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb2xvck1hc2suc2V0KGNvbG9yTW9kZS5tYXNrKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRleHQ7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBjcmVhdGUgYXMgY3JlYXRlU291cmNlIH0gZnJvbSAnLi9zb3VyY2UnO1xuXG5pbXBvcnQgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IHsgRXZlbnQsIEVycm9yRXZlbnQsIEV2ZW50ZWQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IENhY2hlIGZyb20gJy4uL3V0aWwvbHJ1X2NhY2hlJztcbmltcG9ydCBDb29yZGluYXRlIGZyb20gJy4uL2dlby9jb29yZGluYXRlJztcbmltcG9ydCB7IGtleXNEaWZmZXJlbmNlIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuaW1wb3J0IENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dCc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IHsgT3ZlcnNjYWxlZFRpbGVJRCB9IGZyb20gJy4vdGlsZV9pZCc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4vc291cmNlJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgU3R5bGUgZnJvbSAnLi4vc3R5bGUvc3R5bGUnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUge1RpbGVTdGF0ZX0gZnJvbSAnLi90aWxlJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuXG4vKipcbiAqIGBTb3VyY2VDYWNoZWAgaXMgcmVzcG9uc2libGUgZm9yXG4gKlxuICogIC0gY3JlYXRpbmcgYW4gaW5zdGFuY2Ugb2YgYFNvdXJjZWBcbiAqICAtIGZvcndhcmRpbmcgZXZlbnRzIGZyb20gYFNvdXJjZWBcbiAqICAtIGNhY2hpbmcgdGlsZXMgbG9hZGVkIGZyb20gYW4gaW5zdGFuY2Ugb2YgYFNvdXJjZWBcbiAqICAtIGxvYWRpbmcgdGhlIHRpbGVzIG5lZWRlZCB0byByZW5kZXIgYSBnaXZlbiB2aWV3cG9ydFxuICogIC0gdW5sb2FkaW5nIHRoZSBjYWNoZWQgdGlsZXMgbm90IG5lZWRlZCB0byByZW5kZXIgYSBnaXZlbiB2aWV3cG9ydFxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFNvdXJjZUNhY2hlIGV4dGVuZHMgRXZlbnRlZCB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICAgIG1hcDogTWFwO1xuICAgIHN0eWxlOiBTdHlsZTtcblxuICAgIF9zb3VyY2U6IFNvdXJjZTtcbiAgICBfc291cmNlTG9hZGVkOiBib29sZWFuO1xuICAgIF9zb3VyY2VFcnJvcmVkOiBib29sZWFuO1xuICAgIF90aWxlczoge1thbnldOiBUaWxlfTtcbiAgICBfY2FjaGU6IENhY2hlPFRpbGU+O1xuICAgIF90aW1lcnM6IHtbYW55XTogVGltZW91dElEfTtcbiAgICBfY2FjaGVUaW1lcnM6IHtbYW55XTogVGltZW91dElEfTtcbiAgICBfbWF4VGlsZUNhY2hlU2l6ZTogP251bWJlcjtcbiAgICBfcGF1c2VkOiBib29sZWFuO1xuICAgIF9zaG91bGRSZWxvYWRPblJlc3VtZTogYm9vbGVhbjtcbiAgICBfY292ZXJlZFRpbGVzOiB7W2FueV06IGJvb2xlYW59O1xuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIF9pc0lkUmVuZGVyYWJsZTogKGlkOiBudW1iZXIpID0+IGJvb2xlYW47XG4gICAgdXNlZDogYm9vbGVhbjtcblxuICAgIHN0YXRpYyBtYXhVbmRlcnpvb21pbmc6IG51bWJlcjtcbiAgICBzdGF0aWMgbWF4T3Zlcnpvb21pbmc6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IFNvdXJjZVNwZWNpZmljYXRpb24sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuXG4gICAgICAgIHRoaXMub24oJ2RhdGEnLCAoZSkgPT4ge1xuICAgICAgICAgICAgLy8gdGhpcy5fc291cmNlTG9hZGVkIHNpZ25pZmllcyB0aGF0IHRoZSBUaWxlSlNPTiBpcyBsb2FkZWQgaWYgYXBwbGljYWJsZS5cbiAgICAgICAgICAgIC8vIGlmIHRoZSBzb3VyY2UgdHlwZSBkb2VzIG5vdCBjb21lIHdpdGggYSBUaWxlSlNPTiwgdGhlIGZsYWcgc2lnbmlmaWVzIHRoZVxuICAgICAgICAgICAgLy8gc291cmNlIGRhdGEgaGFzIGxvYWRlZCAoaS5lIGdlb2pzb24gaGFzIGJlZW4gdGlsZWQgb24gdGhlIHdvcmtlciBhbmQgaXMgcmVhZHkpXG4gICAgICAgICAgICBpZiAoZS5kYXRhVHlwZSA9PT0gJ3NvdXJjZScgJiYgZS5zb3VyY2VEYXRhVHlwZSA9PT0gJ21ldGFkYXRhJykgdGhpcy5fc291cmNlTG9hZGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gZm9yIHNvdXJjZXMgd2l0aCBtdXRhYmxlIGRhdGEsIHRoaXMgZXZlbnQgZmlyZXMgd2hlbiB0aGUgdW5kZXJseWluZyBkYXRhXG4gICAgICAgICAgICAvLyB0byBhIHNvdXJjZSBpcyBjaGFuZ2VkLiAoaS5lLiBHZW9KU09OU291cmNlI3NldERhdGEgYW5kIEltYWdlU291cmNlI3NlckNvb3JkaW5hdGVzKVxuICAgICAgICAgICAgaWYgKHRoaXMuX3NvdXJjZUxvYWRlZCAmJiAhdGhpcy5fcGF1c2VkICYmIGUuZGF0YVR5cGUgPT09IFwic291cmNlXCIgJiYgZS5zb3VyY2VEYXRhVHlwZSA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUodGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5vbignZXJyb3InLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VFcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fc291cmNlID0gY3JlYXRlU291cmNlKGlkLCBvcHRpb25zLCBkaXNwYXRjaGVyLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl90aWxlcyA9IHt9O1xuICAgICAgICB0aGlzLl9jYWNoZSA9IG5ldyBDYWNoZSgwLCB0aGlzLl91bmxvYWRUaWxlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl90aW1lcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fY2FjaGVUaW1lcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5faXNJZFJlbmRlcmFibGUgPSB0aGlzLl9pc0lkUmVuZGVyYWJsZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2NvdmVyZWRUaWxlcyA9IHt9O1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9tYXhUaWxlQ2FjaGVTaXplID0gbWFwID8gbWFwLl9tYXhUaWxlQ2FjaGVTaXplIDogbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3NvdXJjZSAmJiB0aGlzLl9zb3VyY2Uub25BZGQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZS5vbkFkZChtYXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SZW1vdmUobWFwOiBNYXApIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvdXJjZSAmJiB0aGlzLl9zb3VyY2Uub25SZW1vdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZS5vblJlbW92ZShtYXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRydWUgaWYgbm8gdGlsZSBkYXRhIGlzIHBlbmRpbmcsIHRpbGVzIHdpbGwgbm90IGNoYW5nZSB1bmxlc3NcbiAgICAgKiBhbiBhZGRpdGlvbmFsIEFQSSBjYWxsIGlzIHJlY2VpdmVkLlxuICAgICAqL1xuICAgIGxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvdXJjZUVycm9yZWQpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgaWYgKCF0aGlzLl9zb3VyY2VMb2FkZWQpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIGZvciAoY29uc3QgdCBpbiB0aGlzLl90aWxlcykge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX3RpbGVzW3RdO1xuICAgICAgICAgICAgaWYgKHRpbGUuc3RhdGUgIT09ICdsb2FkZWQnICYmIHRpbGUuc3RhdGUgIT09ICdlcnJvcmVkJylcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZ2V0U291cmNlKCk6IFNvdXJjZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2U7XG4gICAgfVxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmVzdW1lKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3BhdXNlZCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBzaG91bGRSZWxvYWQgPSB0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZTtcbiAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lID0gZmFsc2U7XG4gICAgICAgIGlmIChzaG91bGRSZWxvYWQpIHRoaXMucmVsb2FkKCk7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSkgdGhpcy51cGRhdGUodGhpcy50cmFuc2Zvcm0pO1xuICAgIH1cblxuICAgIF9sb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZS5sb2FkVGlsZSh0aWxlLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgX3VubG9hZFRpbGUodGlsZTogVGlsZSkge1xuICAgICAgICBpZiAodGhpcy5fc291cmNlLnVubG9hZFRpbGUpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlLnVubG9hZFRpbGUodGlsZSwgKCkgPT4ge30pO1xuICAgIH1cblxuICAgIF9hYm9ydFRpbGUodGlsZTogVGlsZSkge1xuICAgICAgICBpZiAodGhpcy5fc291cmNlLmFib3J0VGlsZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKHRpbGUsICgpID0+IHt9KTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2Uuc2VyaWFsaXplKCk7XG4gICAgfVxuXG4gICAgcHJlcGFyZShjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIGlmICAodGhpcy5fc291cmNlLnByZXBhcmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZS5wcmVwYXJlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fdGlsZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbGVzW2ldLnVwbG9hZChjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbGwgdGlsZSBpZHMgb3JkZXJlZCB3aXRoIHotb3JkZXIsIGFuZCBjYXN0IHRvIG51bWJlcnNcbiAgICAgKi9cbiAgICBnZXRJZHMoKTogQXJyYXk8bnVtYmVyPiB7XG5cbiAgICAgICAgY29uc3QgY29tcGFyZUtleVpvb20gPSAoYV8sIGJfKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhID0gdGhpcy5fdGlsZXNbYV9dLnRpbGVJRDtcbiAgICAgICAgICAgIGNvbnN0IGIgPSB0aGlzLl90aWxlc1tiX10udGlsZUlEO1xuICAgICAgICAgICAgY29uc3Qgcm90YXRlZEEgPSAobmV3IFBvaW50KGEuY2Fub25pY2FsLngsIGEuY2Fub25pY2FsLnkpKS5yb3RhdGUodGhpcy50cmFuc2Zvcm0uYW5nbGUpO1xuICAgICAgICAgICAgY29uc3Qgcm90YXRlZEIgPSAobmV3IFBvaW50KGIuY2Fub25pY2FsLngsIGIuY2Fub25pY2FsLnkpKS5yb3RhdGUodGhpcy50cmFuc2Zvcm0uYW5nbGUpO1xuICAgICAgICAgICAgcmV0dXJuIGEub3ZlcnNjYWxlZFogLSBiLm92ZXJzY2FsZWRaIHx8IHJvdGF0ZWRCLnkgLSByb3RhdGVkQS55IHx8IHJvdGF0ZWRCLnggLSByb3RhdGVkQS54O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl90aWxlcykubWFwKE51bWJlcikuc29ydChjb21wYXJlS2V5Wm9vbSk7XG4gICAgfVxuXG4gICAgZ2V0UmVuZGVyYWJsZUlkcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SWRzKCkuZmlsdGVyKHRoaXMuX2lzSWRSZW5kZXJhYmxlKTtcbiAgICB9XG5cbiAgICBoYXNSZW5kZXJhYmxlUGFyZW50KHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCkge1xuICAgICAgICBjb25zdCBwYXJlbnRUaWxlID0gdGhpcy5maW5kTG9hZGVkUGFyZW50KHRpbGVJRCwgMCwge30pO1xuICAgICAgICBpZiAocGFyZW50VGlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzSWRSZW5kZXJhYmxlKHBhcmVudFRpbGUudGlsZUlELmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9pc0lkUmVuZGVyYWJsZShpZDogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aWxlc1tpZF0gJiYgdGhpcy5fdGlsZXNbaWRdLmhhc0RhdGEoKSAmJiAhdGhpcy5fY292ZXJlZFRpbGVzW2lkXTtcbiAgICB9XG5cbiAgICByZWxvYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9wYXVzZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Jlc2V0Q2FjaGUoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fdGlsZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbG9hZFRpbGUoaSwgJ3JlbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3JlbG9hZFRpbGUoaWQ6IHN0cmluZyB8IG51bWJlciwgc3RhdGU6IFRpbGVTdGF0ZSkge1xuICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5fdGlsZXNbaWRdO1xuXG4gICAgICAgIC8vIHRoaXMgcG90ZW50aWFsbHkgZG9lcyBub3QgYWRkcmVzcyBhbGwgdW5kZXJseWluZ1xuICAgICAgICAvLyBpc3N1ZXMgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzQyNTJcbiAgICAgICAgLy8gLSBoYXJkIHRvIHRlbGwgd2l0aG91dCByZXBybyBzdGVwc1xuICAgICAgICBpZiAoIXRpbGUpIHJldHVybjtcblxuICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuIFwibG9hZGluZ1wiIHRpbGVzIGFuZCBcInJlbG9hZGluZ1wiIG9yIFwiZXhwaXJlZFwiXG4gICAgICAgIC8vIHRpbGVzIGlzIHRoYXQgXCJyZWxvYWRpbmdcIi9cImV4cGlyZWRcIiB0aWxlcyBhcmUgXCJyZW5kZXJhYmxlXCIuXG4gICAgICAgIC8vIFRoZXJlZm9yZSwgYSBcImxvYWRpbmdcIiB0aWxlIGNhbm5vdCBiZWNvbWUgYSBcInJlbG9hZGluZ1wiIHRpbGUgd2l0aG91dFxuICAgICAgICAvLyBmaXJzdCBiZWNvbWluZyBhIFwibG9hZGVkXCIgdGlsZS5cbiAgICAgICAgaWYgKHRpbGUuc3RhdGUgIT09ICdsb2FkaW5nJykge1xuICAgICAgICAgICAgdGlsZS5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZFRpbGUodGlsZSwgdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsIHRpbGUsIGlkLCBzdGF0ZSkpO1xuICAgIH1cblxuICAgIF90aWxlTG9hZGVkKHRpbGU6IFRpbGUsIGlkOiBzdHJpbmcgfCBudW1iZXIsIHByZXZpb3VzU3RhdGU6IFRpbGVTdGF0ZSwgZXJyOiA/RXJyb3IpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdlcnJvcmVkJztcbiAgICAgICAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHRoaXMuX3NvdXJjZS5maXJlKG5ldyBFcnJvckV2ZW50KGVyciwge3RpbGV9KSk7XG4gICAgICAgICAgICAvLyBjb250aW51ZSB0byB0cnkgbG9hZGluZyBwYXJlbnQvY2hpbGRyZW4gdGlsZXMgaWYgYSB0aWxlIGRvZXNuJ3QgZXhpc3QgKDQwNClcbiAgICAgICAgICAgIGVsc2UgdGhpcy51cGRhdGUodGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGlsZS50aW1lQWRkZWQgPSBicm93c2VyLm5vdygpO1xuICAgICAgICBpZiAocHJldmlvdXNTdGF0ZSA9PT0gJ2V4cGlyZWQnKSB0aWxlLnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGlkLCB0aWxlKTtcbiAgICAgICAgaWYgKHRoaXMuZ2V0U291cmNlKCkudHlwZSA9PT0gJ3Jhc3Rlci1kZW0nICYmIHRpbGUuZGVtKSB0aGlzLl9iYWNrZmlsbERFTSh0aWxlKTtcbiAgICAgICAgdGhpcy5fc291cmNlLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgdGlsZTogdGlsZSwgY29vcmQ6IHRpbGUudGlsZUlEfSkpO1xuXG4gICAgICAgIC8vIEhBQ0sgdGhpcyBpcyBuZWNlc3NhcnkgdG8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8yOTg2XG4gICAgICAgIGlmICh0aGlzLm1hcCkgdGhpcy5tYXAucGFpbnRlci50aWxlRXh0ZW50VkFPLnZhbyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBGb3IgcmFzdGVyIHRlcnJhaW4gc291cmNlLCBiYWNrZmlsbCBERU0gdG8gZWxpbWluYXRlIHZpc2libGUgdGlsZSBib3VuZGFyaWVzXG4gICAgKiBAcHJpdmF0ZVxuICAgICovXG4gICAgX2JhY2tmaWxsREVNKHRpbGU6IFRpbGUpIHtcbiAgICAgICAgY29uc3QgcmVuZGVyYWJsZXMgPSB0aGlzLmdldFJlbmRlcmFibGVJZHMoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYm9yZGVySWQgPSByZW5kZXJhYmxlc1tpXTtcbiAgICAgICAgICAgIGlmICh0aWxlLm5laWdoYm9yaW5nVGlsZXMgJiYgdGlsZS5uZWlnaGJvcmluZ1RpbGVzW2JvcmRlcklkXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvcmRlclRpbGUgPSB0aGlzLmdldFRpbGVCeUlEKGJvcmRlcklkKTtcbiAgICAgICAgICAgICAgICBmaWxsQm9yZGVyKHRpbGUsIGJvcmRlclRpbGUpO1xuICAgICAgICAgICAgICAgIGZpbGxCb3JkZXIoYm9yZGVyVGlsZSwgdGlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaWxsQm9yZGVyKHRpbGUsIGJvcmRlclRpbGUpIHtcbiAgICAgICAgICAgIHRpbGUubmVlZHNIaWxsc2hhZGVQcmVwYXJlID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBkeCA9IGJvcmRlclRpbGUudGlsZUlELmNhbm9uaWNhbC54IC0gdGlsZS50aWxlSUQuY2Fub25pY2FsLng7XG4gICAgICAgICAgICBjb25zdCBkeSA9IGJvcmRlclRpbGUudGlsZUlELmNhbm9uaWNhbC55IC0gdGlsZS50aWxlSUQuY2Fub25pY2FsLnk7XG4gICAgICAgICAgICBjb25zdCBkaW0gPSBNYXRoLnBvdygyLCB0aWxlLnRpbGVJRC5jYW5vbmljYWwueik7XG4gICAgICAgICAgICBjb25zdCBib3JkZXJJZCA9IGJvcmRlclRpbGUudGlsZUlELmtleTtcbiAgICAgICAgICAgIGlmIChkeCA9PT0gMCAmJiBkeSA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZHkpID4gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkeCkgPiAxKSB7XG4gICAgICAgICAgICAgICAgLy8gQWRqdXN0IHRoZSBkZWx0YSBjb29yZGluYXRlIGZvciB3b3JsZCB3cmFwYXJvdW5kLlxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhkeCArIGRpbSkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZHggKz0gZGltO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoZHggLSBkaW0pID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGR4IC09IGRpbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWJvcmRlclRpbGUuZGVtIHx8ICF0aWxlLmRlbSkgcmV0dXJuO1xuICAgICAgICAgICAgdGlsZS5kZW0uYmFja2ZpbGxCb3JkZXIoYm9yZGVyVGlsZS5kZW0sIGR4LCBkeSk7XG4gICAgICAgICAgICBpZiAodGlsZS5uZWlnaGJvcmluZ1RpbGVzICYmIHRpbGUubmVpZ2hib3JpbmdUaWxlc1tib3JkZXJJZF0pXG4gICAgICAgICAgICAgICAgdGlsZS5uZWlnaGJvcmluZ1RpbGVzW2JvcmRlcklkXS5iYWNrZmlsbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBzcGVjaWZpYyB0aWxlIGJ5IFRpbGVJRFxuICAgICAqL1xuICAgIGdldFRpbGUodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKTogVGlsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpbGVCeUlEKHRpbGVJRC5rZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIHNwZWNpZmljIHRpbGUgYnkgaWRcbiAgICAgKi9cbiAgICBnZXRUaWxlQnlJRChpZDogc3RyaW5nIHwgbnVtYmVyKTogVGlsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aWxlc1tpZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IHRoZSB6b29tIGxldmVsIGFkanVzdGVkIGZvciB0aGUgZGlmZmVyZW5jZSBpbiBtYXAgYW5kIHNvdXJjZSB0aWxlc2l6ZXNcbiAgICAgKi9cbiAgICBnZXRab29tKHRyYW5zZm9ybTogVHJhbnNmb3JtKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybS56b29tICsgdHJhbnNmb3JtLnNjYWxlWm9vbSh0cmFuc2Zvcm0udGlsZVNpemUgLyB0aGlzLl9zb3VyY2UudGlsZVNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZpbmQgY2hpbGRyZW4gb2YgdGhlIGdpdmVuIHRpbGUgKHVwIHRvIG1heENvdmVyaW5nWm9vbSkgdGhhdCBhcmUgYWxyZWFkeSBsb2FkZWQ7XG4gICAgICogYWRkcyBmb3VuZCB0aWxlcyB0byByZXRhaW4gb2JqZWN0OyByZXR1cm5zIHRydWUgaWYgYW55IGNoaWxkIGlzIGZvdW5kLlxuICAgICAqL1xuICAgIF9maW5kTG9hZGVkQ2hpbGRyZW4odGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCBtYXhDb3ZlcmluZ1pvb206IG51bWJlciwgcmV0YWluOiB7W2FueV06IE92ZXJzY2FsZWRUaWxlSUR9KTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fdGlsZXMpIHtcbiAgICAgICAgICAgIGxldCB0aWxlID0gdGhpcy5fdGlsZXNbaWRdO1xuXG4gICAgICAgICAgICAvLyBvbmx5IGNvbnNpZGVyIHJlbmRlcmFibGUgdGlsZXMgb24gaGlnaGVyIHpvb20gbGV2ZWxzICh1cCB0byBtYXhDb3ZlcmluZ1pvb20pXG4gICAgICAgICAgICBpZiAocmV0YWluW2lkXSB8fCAhdGlsZS5oYXNEYXRhKCkgfHwgdGlsZS50aWxlSUQub3ZlcnNjYWxlZFogPD0gdGlsZUlELm92ZXJzY2FsZWRaIHx8IHRpbGUudGlsZUlELm92ZXJzY2FsZWRaID4gbWF4Q292ZXJpbmdab29tKSBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gZGlzcmVnYXJkIHRpbGVzIHRoYXQgYXJlIG5vdCBkZXNjZW5kYW50cyBvZiB0aGUgZ2l2ZW4gdGlsZSBjb29yZGluYXRlXG4gICAgICAgICAgICBjb25zdCB6MiA9IE1hdGgucG93KDIsIHRpbGUudGlsZUlELmNhbm9uaWNhbC56IC0gdGlsZUlELmNhbm9uaWNhbC56KTtcbiAgICAgICAgICAgIGlmIChNYXRoLmZsb29yKHRpbGUudGlsZUlELmNhbm9uaWNhbC54IC8gejIpICE9PSB0aWxlSUQuY2Fub25pY2FsLnggfHxcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHRpbGUudGlsZUlELmNhbm9uaWNhbC55IC8gejIpICE9PSB0aWxlSUQuY2Fub25pY2FsLnkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGZvdW5kIGxvYWRlZCBjaGlsZFxuICAgICAgICAgICAgcmV0YWluW2lkXSA9IHRpbGUudGlsZUlEO1xuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggcGFyZW50czsgcmV0YWluIHRoZSB0b3Btb3N0IGxvYWRlZCBvbmUgaWYgZm91bmRcbiAgICAgICAgICAgIHdoaWxlICh0aWxlICYmIHRpbGUudGlsZUlELm92ZXJzY2FsZWRaIC0gMSA+IHRpbGVJRC5vdmVyc2NhbGVkWikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRpbGUudGlsZUlELnNjYWxlZFRvKHRpbGUudGlsZUlELm92ZXJzY2FsZWRaIC0gMSk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJlbnQpIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgdGlsZSA9IHRoaXMuX3RpbGVzW3BhcmVudC5rZXldO1xuICAgICAgICAgICAgICAgIGlmICh0aWxlICYmIHRpbGUuaGFzRGF0YSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXRhaW5baWRdO1xuICAgICAgICAgICAgICAgICAgICByZXRhaW5bcGFyZW50LmtleV0gPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgbG9hZGVkIHBhcmVudCBvZiB0aGUgZ2l2ZW4gdGlsZSAodXAgdG8gbWluQ292ZXJpbmdab29tKTtcbiAgICAgKiBhZGRzIHRoZSBmb3VuZCB0aWxlIHRvIHJldGFpbiBvYmplY3QgYW5kIHJldHVybnMgdGhlIHRpbGUgaWYgZm91bmRcbiAgICAgKi9cbiAgICBmaW5kTG9hZGVkUGFyZW50KHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgbWluQ292ZXJpbmdab29tOiBudW1iZXIsIHJldGFpbjoge1thbnldOiBPdmVyc2NhbGVkVGlsZUlEfSk6ID9UaWxlIHtcbiAgICAgICAgZm9yIChsZXQgeiA9IHRpbGVJRC5vdmVyc2NhbGVkWiAtIDE7IHogPj0gbWluQ292ZXJpbmdab29tOyB6LS0pIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRpbGVJRC5zY2FsZWRUbyh6KTtcbiAgICAgICAgICAgIGlmICghcGFyZW50KSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBpZCA9IFN0cmluZyhwYXJlbnQua2V5KTtcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl90aWxlc1tpZF07XG4gICAgICAgICAgICBpZiAodGlsZSAmJiB0aWxlLmhhc0RhdGEoKSkge1xuICAgICAgICAgICAgICAgIHJldGFpbltpZF0gPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fY2FjaGUuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgIHJldGFpbltpZF0gPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlLmdldChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSB0aWxlIGNhY2hlIGJhc2VkIG9uIHRoZSBjdXJyZW50IHZpZXdwb3J0J3Mgc2l6ZVxuICAgICAqIG9yIHRoZSBtYXhUaWxlQ2FjaGVTaXplIG9wdGlvbiBwYXNzZWQgZHVyaW5nIG1hcCBjcmVhdGlvblxuICAgICAqXG4gICAgICogTGFyZ2VyIHZpZXdwb3J0cyB1c2UgbW9yZSB0aWxlcyBhbmQgbmVlZCBsYXJnZXIgY2FjaGVzLiBMYXJnZXIgdmlld3BvcnRzXG4gICAgICogYXJlIG1vcmUgbGlrZWx5IHRvIGJlIGZvdW5kIG9uIGRldmljZXMgd2l0aCBtb3JlIG1lbW9yeSBhbmQgb24gcGFnZXMgd2hlcmVcbiAgICAgKiB0aGUgbWFwIGlzIG1vcmUgaW1wb3J0YW50LlxuICAgICAqL1xuICAgIHVwZGF0ZUNhY2hlU2l6ZSh0cmFuc2Zvcm06IFRyYW5zZm9ybSkge1xuICAgICAgICBjb25zdCB3aWR0aEluVGlsZXMgPSBNYXRoLmNlaWwodHJhbnNmb3JtLndpZHRoIC8gdGhpcy5fc291cmNlLnRpbGVTaXplKSArIDE7XG4gICAgICAgIGNvbnN0IGhlaWdodEluVGlsZXMgPSBNYXRoLmNlaWwodHJhbnNmb3JtLmhlaWdodCAvIHRoaXMuX3NvdXJjZS50aWxlU2l6ZSkgKyAxO1xuICAgICAgICBjb25zdCBhcHByb3hUaWxlc0luVmlldyA9IHdpZHRoSW5UaWxlcyAqIGhlaWdodEluVGlsZXM7XG4gICAgICAgIGNvbnN0IGNvbW1vblpvb21SYW5nZSA9IDU7XG5cbiAgICAgICAgY29uc3Qgdmlld0RlcGVuZGVudE1heFNpemUgPSBNYXRoLmZsb29yKGFwcHJveFRpbGVzSW5WaWV3ICogY29tbW9uWm9vbVJhbmdlKTtcbiAgICAgICAgY29uc3QgbWF4U2l6ZSA9IHR5cGVvZiB0aGlzLl9tYXhUaWxlQ2FjaGVTaXplID09PSAnbnVtYmVyJyA/IE1hdGgubWluKHRoaXMuX21heFRpbGVDYWNoZVNpemUsIHZpZXdEZXBlbmRlbnRNYXhTaXplKSA6IHZpZXdEZXBlbmRlbnRNYXhTaXplO1xuXG4gICAgICAgIHRoaXMuX2NhY2hlLnNldE1heFNpemUobWF4U2l6ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aWxlcyB0aGF0IGFyZSBvdXRzaWRlIHRoZSB2aWV3cG9ydCBhbmQgYWRkcyBuZXcgdGlsZXMgdGhhdFxuICAgICAqIGFyZSBpbnNpZGUgdGhlIHZpZXdwb3J0LlxuICAgICAqL1xuICAgIHVwZGF0ZSh0cmFuc2Zvcm06IFRyYW5zZm9ybSkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgaWYgKCF0aGlzLl9zb3VyY2VMb2FkZWQgfHwgdGhpcy5fcGF1c2VkKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlQ2FjaGVTaXplKHRyYW5zZm9ybSk7XG4gICAgICAgIC8vIENvdmVyZWQgaXMgYSBsaXN0IG9mIHJldGFpbmVkIHRpbGVzIHdobydzIGFyZWFzIGFyZSBmdWxseSBjb3ZlcmVkIGJ5IG90aGVyLFxuICAgICAgICAvLyBiZXR0ZXIsIHJldGFpbmVkIHRpbGVzLiBUaGV5IGFyZSBub3QgZHJhd24gc2VwYXJhdGVseS5cbiAgICAgICAgdGhpcy5fY292ZXJlZFRpbGVzID0ge307XG5cbiAgICAgICAgbGV0IGlkZWFsVGlsZUlEcztcbiAgICAgICAgaWYgKCF0aGlzLnVzZWQpIHtcbiAgICAgICAgICAgIGlkZWFsVGlsZUlEcyA9IFtdO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3NvdXJjZS50aWxlSUQpIHtcbiAgICAgICAgICAgIGlkZWFsVGlsZUlEcyA9IHRyYW5zZm9ybS5nZXRWaXNpYmxlVW53cmFwcGVkQ29vcmRpbmF0ZXMoKHRoaXMuX3NvdXJjZS50aWxlSUQ6IGFueSkpXG4gICAgICAgICAgICAgICAgLm1hcCgodW53cmFwcGVkKSA9PiBuZXcgT3ZlcnNjYWxlZFRpbGVJRCh1bndyYXBwZWQuY2Fub25pY2FsLnosIHVud3JhcHBlZC53cmFwLCB1bndyYXBwZWQuY2Fub25pY2FsLnosIHVud3JhcHBlZC5jYW5vbmljYWwueCwgdW53cmFwcGVkLmNhbm9uaWNhbC55KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZGVhbFRpbGVJRHMgPSB0cmFuc2Zvcm0uY292ZXJpbmdUaWxlcyh7XG4gICAgICAgICAgICAgICAgdGlsZVNpemU6IHRoaXMuX3NvdXJjZS50aWxlU2l6ZSxcbiAgICAgICAgICAgICAgICBtaW56b29tOiB0aGlzLl9zb3VyY2UubWluem9vbSxcbiAgICAgICAgICAgICAgICBtYXh6b29tOiB0aGlzLl9zb3VyY2UubWF4em9vbSxcbiAgICAgICAgICAgICAgICByb3VuZFpvb206IHRoaXMuX3NvdXJjZS5yb3VuZFpvb20sXG4gICAgICAgICAgICAgICAgcmVwYXJzZU92ZXJzY2FsZWQ6IHRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zb3VyY2UuaGFzVGlsZSkge1xuICAgICAgICAgICAgICAgIGlkZWFsVGlsZUlEcyA9IGlkZWFsVGlsZUlEcy5maWx0ZXIoKGNvb3JkKSA9PiAodGhpcy5fc291cmNlLmhhc1RpbGU6IGFueSkoY29vcmQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVybWluZSB0aGUgb3Zlcnpvb21pbmcvdW5kZXJ6b29taW5nIGFtb3VudHMuXG4gICAgICAgIGNvbnN0IHpvb20gPSAodGhpcy5fc291cmNlLnJvdW5kWm9vbSA/IE1hdGgucm91bmQgOiBNYXRoLmZsb29yKSh0aGlzLmdldFpvb20odHJhbnNmb3JtKSk7XG4gICAgICAgIGNvbnN0IG1pbkNvdmVyaW5nWm9vbSA9IE1hdGgubWF4KHpvb20gLSBTb3VyY2VDYWNoZS5tYXhPdmVyem9vbWluZywgdGhpcy5fc291cmNlLm1pbnpvb20pO1xuICAgICAgICBjb25zdCBtYXhDb3ZlcmluZ1pvb20gPSBNYXRoLm1heCh6b29tICsgU291cmNlQ2FjaGUubWF4VW5kZXJ6b29taW5nLCAgdGhpcy5fc291cmNlLm1pbnpvb20pO1xuXG4gICAgICAgIC8vIFJldGFpbiBpcyBhIGxpc3Qgb2YgdGlsZXMgdGhhdCB3ZSBzaG91bGRuJ3QgZGVsZXRlLCBldmVuIGlmIHRoZXkgYXJlIG5vdFxuICAgICAgICAvLyB0aGUgbW9zdCBpZGVhbCB0aWxlIGZvciB0aGUgY3VycmVudCB2aWV3cG9ydC4gVGhpcyBtYXkgaW5jbHVkZSB0aWxlcyBsaWtlXG4gICAgICAgIC8vIHBhcmVudCBvciBjaGlsZCB0aWxlcyB0aGF0IGFyZSAqYWxyZWFkeSogbG9hZGVkLlxuICAgICAgICBjb25zdCByZXRhaW4gPSB0aGlzLl91cGRhdGVSZXRhaW5lZFRpbGVzKGlkZWFsVGlsZUlEcywgem9vbSk7XG5cbiAgICAgICAgY29uc3QgcGFyZW50c0ZvckZhZGluZyA9IHt9O1xuXG4gICAgICAgIGlmIChpc1Jhc3RlclR5cGUodGhpcy5fc291cmNlLnR5cGUpKSB7XG4gICAgICAgICAgICBjb25zdCBpZHMgPSBPYmplY3Qua2V5cyhyZXRhaW4pO1xuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBpZHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGlkc1trXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlSUQgPSByZXRhaW5baWRdO1xuICAgICAgICAgICAgICAgIGFzc2VydCh0aWxlSUQua2V5ID09PSAraWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl90aWxlc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKCF0aWxlKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBkcmF3UmFzdGVyVGlsZSBoYXMgbmV2ZXIgc2VlbiB0aGlzIHRpbGUsIHRoZW5cbiAgICAgICAgICAgICAgICAvLyB0aWxlLmZhZGVFbmRUaW1lIG1heSBiZSB1bnNldC4gIEluIHRoYXQgY2FzZSwgb3IgaWZcbiAgICAgICAgICAgICAgICAvLyBmYWRlRW5kVGltZSBpcyBpbiB0aGUgZnV0dXJlLCB0aGVuIHRoaXMgdGlsZSBpcyBzdGlsbFxuICAgICAgICAgICAgICAgIC8vIGZhZGluZyBpbi4gRmluZCB0aWxlcyB0byBjcm9zcy1mYWRlIHdpdGggaXQuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aWxlLmZhZGVFbmRUaW1lID09PSAndW5kZWZpbmVkJyB8fCB0aWxlLmZhZGVFbmRUaW1lID49IGJyb3dzZXIubm93KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbmRMb2FkZWRDaGlsZHJlbih0aWxlSUQsIG1heENvdmVyaW5nWm9vbSwgcmV0YWluKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0YWluW2lkXSA9IHRpbGVJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRUaWxlID0gdGhpcy5maW5kTG9hZGVkUGFyZW50KHRpbGVJRCwgbWluQ292ZXJpbmdab29tLCBwYXJlbnRzRm9yRmFkaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFRpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZFRpbGUocGFyZW50VGlsZS50aWxlSUQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZhZGVkUGFyZW50O1xuICAgICAgICBmb3IgKGZhZGVkUGFyZW50IGluIHBhcmVudHNGb3JGYWRpbmcpIHtcbiAgICAgICAgICAgIGlmICghcmV0YWluW2ZhZGVkUGFyZW50XSkge1xuICAgICAgICAgICAgICAgIC8vIElmIGEgdGlsZSBpcyBvbmx5IG5lZWRlZCBmb3IgZmFkaW5nLCBtYXJrIGl0IGFzIGNvdmVyZWQgc28gdGhhdCBpdCBpc24ndCByZW5kZXJlZCBvbiBpdCdzIG93bi5cbiAgICAgICAgICAgICAgICB0aGlzLl9jb3ZlcmVkVGlsZXNbZmFkZWRQYXJlbnRdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGZhZGVkUGFyZW50IGluIHBhcmVudHNGb3JGYWRpbmcpIHtcbiAgICAgICAgICAgIHJldGFpbltmYWRlZFBhcmVudF0gPSBwYXJlbnRzRm9yRmFkaW5nW2ZhZGVkUGFyZW50XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgdGhlIHRpbGVzIHdlIGRvbid0IG5lZWQgYW55bW9yZS5cbiAgICAgICAgY29uc3QgcmVtb3ZlID0ga2V5c0RpZmZlcmVuY2UodGhpcy5fdGlsZXMsIHJldGFpbik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVUaWxlKHJlbW92ZVtpXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlUmV0YWluZWRUaWxlcyhpZGVhbFRpbGVJRHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+LCB6b29tOiBudW1iZXIpOiB7IFtzdHJpbmddOiBPdmVyc2NhbGVkVGlsZUlEfSB7XG4gICAgICAgIGNvbnN0IHJldGFpbiA9IHt9O1xuICAgICAgICBjb25zdCBjaGVja2VkOiB7W251bWJlcl06IGJvb2xlYW4gfSA9IHt9O1xuICAgICAgICBjb25zdCBtaW5Db3ZlcmluZ1pvb20gPSBNYXRoLm1heCh6b29tIC0gU291cmNlQ2FjaGUubWF4T3Zlcnpvb21pbmcsIHRoaXMuX3NvdXJjZS5taW56b29tKTtcbiAgICAgICAgY29uc3QgbWF4Q292ZXJpbmdab29tID0gTWF0aC5tYXgoem9vbSArIFNvdXJjZUNhY2hlLm1heFVuZGVyem9vbWluZywgIHRoaXMuX3NvdXJjZS5taW56b29tKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkZWFsVGlsZUlEcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGlsZUlEID0gaWRlYWxUaWxlSURzW2ldO1xuICAgICAgICAgICAgbGV0IHRpbGUgPSB0aGlzLl9hZGRUaWxlKHRpbGVJRCk7XG4gICAgICAgICAgICBsZXQgcGFyZW50V2FzUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGlsZS5oYXNEYXRhKCkpIHtcbiAgICAgICAgICAgICAgICByZXRhaW5bdGlsZUlELmtleV0gPSB0aWxlSUQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoZSB0aWxlIHdlIHJlcXVpcmUgaXMgbm90IHlldCBsb2FkZWQgb3IgZG9lcyBub3QgZXhpc3QuXG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIG5vdyBhdHRlbXB0aW5nIHRvIGxvYWQgY2hpbGQgYW5kIHBhcmVudCB0aWxlcy5cblxuICAgICAgICAgICAgICAgIC8vIEFzIHdlIGRlc2NlbmQgdXAgYW5kIGRvd24gdGhlIHRpbGUgcHlyYW1pZCBvZiB0aGUgaWRlYWwgdGlsZSwgd2UgY2hlY2sgd2hldGhlciB0aGUgcGFyZW50XG4gICAgICAgICAgICAgICAgLy8gdGlsZSBoYXMgYmVlbiBwcmV2aW91c2x5IHJlcXVlc3RlZCAoYW5kIGVycm9yZWQgaW4gdGhpcyBjYXNlIGR1ZSB0byB0aGUgcHJldmlvdXMgY29uZGl0aW9uYWwpXG4gICAgICAgICAgICAgICAgLy8gaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gcmVxdWVzdCBpdHMgcGFyZW50LlxuICAgICAgICAgICAgICAgIHBhcmVudFdhc1JlcXVlc3RlZCA9IHRpbGUud2FzUmVxdWVzdGVkKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBUaGUgdGlsZSBpc24ndCBsb2FkZWQgeWV0LCBidXQgcmV0YWluIGl0IGFueXdheSBiZWNhdXNlIGl0J3MgYW4gaWRlYWwgdGlsZS5cbiAgICAgICAgICAgICAgICByZXRhaW5bdGlsZUlELmtleV0gPSB0aWxlSUQ7XG4gICAgICAgICAgICAgICAgbGV0IGNvdmVyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJzY2FsZWRaID0gem9vbSArIDE7XG4gICAgICAgICAgICAgICAgaWYgKG92ZXJzY2FsZWRaID4gdGhpcy5fc291cmNlLm1heHpvb20pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UncmUgbG9va2luZyBmb3IgYW4gb3Zlcnpvb21lZCBjaGlsZCB0aWxlLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZENvb3JkID0gdGlsZUlELmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKVswXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRUaWxlID0gdGhpcy5nZXRUaWxlKGNoaWxkQ29vcmQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoISFjaGlsZFRpbGUgJiYgY2hpbGRUaWxlLmhhc0RhdGEoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0YWluW2NoaWxkQ29vcmQua2V5XSA9IGNoaWxkQ29vcmQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9maW5kTG9hZGVkQ2hpbGRyZW4odGlsZUlELCBtYXhDb3ZlcmluZ1pvb20sIHJldGFpbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGFsbCA0IGltbWVkaWF0ZSBjaGlsZHJlbiBhcmUgbG9hZGVkIChpLmUuIHRoZSBtaXNzaW5nIGlkZWFsIHRpbGUgaXMgY292ZXJlZClcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aWxlSUQuY2hpbGRyZW4odGhpcy5fc291cmNlLm1heHpvb20pO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJldGFpbltjaGlsZHJlbltqXS5rZXldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFjb3ZlcmVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgY291bGRuJ3QgZmluZCBjaGlsZCB0aWxlcyB0aGF0IGVudGlyZWx5IGNvdmVyIHRoZSBpZGVhbCB0aWxlLlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBvdmVyc2NhbGVkWiA9IHRpbGVJRC5vdmVyc2NhbGVkWiAtIDE7IG92ZXJzY2FsZWRaID49IG1pbkNvdmVyaW5nWm9vbTsgLS1vdmVyc2NhbGVkWikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJZCA9IHRpbGVJRC5zY2FsZWRUbyhvdmVyc2NhbGVkWik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZFtwYXJlbnRJZC5rZXldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnJlYWsgcGFyZW50IHRpbGUgYXNjZW50LCB0aGlzIHJvdXRlIGhhcyBiZWVuIHByZXZpb3VzbHkgY2hlY2tlZCBieSBhbm90aGVyIGNoaWxkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkW3BhcmVudElkLmtleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aWxlID0gdGhpcy5nZXRUaWxlKHBhcmVudElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGlsZSAmJiBwYXJlbnRXYXNSZXF1ZXN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlID0gdGhpcy5fYWRkVGlsZShwYXJlbnRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0YWluW3BhcmVudElkLmtleV0gPSBwYXJlbnRJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIHRoZSBjdXJyZW50IHZhbHVlcywgc2luY2UgdGhleSdyZSB0aGUgcGFyZW50IG9mIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHRoZSBwYXJlbnQgdGlsZSBhc2NlbnQgbG9vcC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRXYXNSZXF1ZXN0ZWQgPSB0aWxlLndhc1JlcXVlc3RlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aWxlLmhhc0RhdGEoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0YWluO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHRpbGUsIGdpdmVuIGl0cyBjb29yZGluYXRlLCB0byB0aGUgcHlyYW1pZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9hZGRUaWxlKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6IFRpbGUge1xuICAgICAgICBsZXQgdGlsZSA9IHRoaXMuX3RpbGVzW3RpbGVJRC5rZXldO1xuICAgICAgICBpZiAodGlsZSlcbiAgICAgICAgICAgIHJldHVybiB0aWxlO1xuXG5cbiAgICAgICAgdGlsZSA9IHRoaXMuX2NhY2hlLmdldEFuZFJlbW92ZSgodGlsZUlELmtleTogYW55KSk7XG4gICAgICAgIGlmICh0aWxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVUaW1lcnNbdGlsZUlELmtleV0pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fY2FjaGVUaW1lcnNbdGlsZUlELmtleV0pO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWNoZVRpbWVyc1t0aWxlSUQua2V5XTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIodGlsZUlELmtleSwgdGlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYWNoZWQgPSBCb29sZWFuKHRpbGUpO1xuICAgICAgICBpZiAoIWNhY2hlZCkge1xuICAgICAgICAgICAgdGlsZSA9IG5ldyBUaWxlKHRpbGVJRCwgdGhpcy5fc291cmNlLnRpbGVTaXplICogdGlsZUlELm92ZXJzY2FsZUZhY3RvcigpKTtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRUaWxlKHRpbGUsIHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLCB0aWxlLCB0aWxlSUQua2V5LCB0aWxlLnN0YXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbXBvc3NpYmxlLCBidXQgc2lsZW5jZSBmbG93LlxuICAgICAgICBpZiAoIXRpbGUpIHJldHVybiAobnVsbDogYW55KTtcblxuICAgICAgICB0aWxlLnVzZXMrKztcbiAgICAgICAgdGhpcy5fdGlsZXNbdGlsZUlELmtleV0gPSB0aWxlO1xuICAgICAgICBpZiAoIWNhY2hlZCkgdGhpcy5fc291cmNlLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHt0aWxlOiB0aWxlLCBjb29yZDogdGlsZS50aWxlSUQsIGRhdGFUeXBlOiAnc291cmNlJ30pKTtcblxuICAgICAgICByZXR1cm4gdGlsZTtcbiAgICB9XG5cbiAgICBfc2V0VGlsZVJlbG9hZFRpbWVyKGlkOiBzdHJpbmcgfCBudW1iZXIsIHRpbGU6IFRpbGUpIHtcbiAgICAgICAgaWYgKGlkIGluIHRoaXMuX3RpbWVycykge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1tpZF0pO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3RpbWVyc1tpZF07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleHBpcnlUaW1lb3V0ID0gdGlsZS5nZXRFeHBpcnlUaW1lb3V0KCk7XG4gICAgICAgIGlmIChleHBpcnlUaW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLl90aW1lcnNbaWRdID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVsb2FkVGlsZShpZCwgJ2V4cGlyZWQnKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fdGltZXJzW2lkXTtcbiAgICAgICAgICAgIH0sIGV4cGlyeVRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NldENhY2hlSW52YWxpZGF0aW9uVGltZXIoaWQ6IHN0cmluZyB8IG51bWJlciwgdGlsZTogVGlsZSkge1xuICAgICAgICBpZiAoaWQgaW4gdGhpcy5fY2FjaGVUaW1lcnMpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jYWNoZVRpbWVyc1tpZF0pO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NhY2hlVGltZXJzW2lkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4cGlyeVRpbWVvdXQgPSB0aWxlLmdldEV4cGlyeVRpbWVvdXQoKTtcbiAgICAgICAgaWYgKGV4cGlyeVRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlVGltZXJzW2lkXSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlLnJlbW92ZSgoaWQ6IGFueSkpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWNoZVRpbWVyc1tpZF07XG4gICAgICAgICAgICB9LCBleHBpcnlUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHRpbGUsIGdpdmVuIGl0cyBpZCwgZnJvbSB0aGUgcHlyYW1pZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbW92ZVRpbGUoaWQ6IHN0cmluZyB8IG51bWJlcikge1xuICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5fdGlsZXNbaWRdO1xuICAgICAgICBpZiAoIXRpbGUpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGlsZS51c2VzLS07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl90aWxlc1tpZF07XG4gICAgICAgIGlmICh0aGlzLl90aW1lcnNbaWRdKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW2lkXSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fdGltZXJzW2lkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aWxlLnVzZXMgPiAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aWxlLmhhc0RhdGEoKSkge1xuICAgICAgICAgICAgdGlsZS50aWxlSUQgPSB0aWxlLnRpbGVJRC53cmFwcGVkKCk7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVkSWQgPSB0aWxlLnRpbGVJRC5rZXk7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZS5hZGQoKHdyYXBwZWRJZDogYW55KSwgdGlsZSk7XG4gICAgICAgICAgICB0aGlzLl9zZXRDYWNoZUludmFsaWRhdGlvblRpbWVyKHdyYXBwZWRJZCwgdGlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aWxlLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fYWJvcnRUaWxlKHRpbGUpO1xuICAgICAgICAgICAgdGhpcy5fdW5sb2FkVGlsZSh0aWxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgdGlsZXMgZnJvbSB0aGlzIHB5cmFtaWRcbiAgICAgKi9cbiAgICBjbGVhclRpbGVzKCkge1xuICAgICAgICB0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3RpbGVzKVxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlVGlsZShpZCk7XG5cbiAgICAgICAgdGhpcy5fcmVzZXRDYWNoZSgpO1xuICAgIH1cblxuICAgIF9yZXNldENhY2hlKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX2NhY2hlVGltZXJzKVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2NhY2hlVGltZXJzW2lkXSk7XG5cbiAgICAgICAgdGhpcy5fY2FjaGVUaW1lcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fY2FjaGUucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWFyY2ggdGhyb3VnaCBvdXIgY3VycmVudCB0aWxlcyBhbmQgYXR0ZW1wdCB0byBmaW5kIHRoZSB0aWxlcyB0aGF0XG4gICAgICogY292ZXIgdGhlIGdpdmVuIGJvdW5kcy5cbiAgICAgKiBAcGFyYW0gcXVlcnlHZW9tZXRyeSBjb29yZGluYXRlcyBvZiB0aGUgY29ybmVycyBvZiBib3VuZGluZyByZWN0YW5nbGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8T2JqZWN0Pn0gcmVzdWx0IGl0ZW1zIGhhdmUge3RpbGUsIG1pblgsIG1heFgsIG1pblksIG1heFl9LCB3aGVyZSBtaW4vbWF4IGJvdW5kaW5nIHZhbHVlcyBhcmUgdGhlIGdpdmVuIGJvdW5kcyB0cmFuc2Zvcm1lZCBpbiBpbnRvIHRoZSBjb29yZGluYXRlIHNwYWNlIG9mIHRoaXMgdGlsZS5cbiAgICAgKi9cbiAgICB0aWxlc0luKHF1ZXJ5R2VvbWV0cnk6IEFycmF5PENvb3JkaW5hdGU+LCBtYXhQaXRjaFNjYWxlRmFjdG9yOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgdGlsZVJlc3VsdHMgPSBbXTtcbiAgICAgICAgY29uc3QgaWRzID0gdGhpcy5nZXRJZHMoKTtcblxuICAgICAgICBsZXQgbWluWCA9IEluZmluaXR5O1xuICAgICAgICBsZXQgbWluWSA9IEluZmluaXR5O1xuICAgICAgICBsZXQgbWF4WCA9IC1JbmZpbml0eTtcbiAgICAgICAgbGV0IG1heFkgPSAtSW5maW5pdHk7XG4gICAgICAgIGNvbnN0IHogPSBxdWVyeUdlb21ldHJ5WzBdLnpvb207XG5cbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBxdWVyeUdlb21ldHJ5Lmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gcXVlcnlHZW9tZXRyeVtrXTtcbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBwLmNvbHVtbik7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgcC5yb3cpO1xuICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIHAuY29sdW1uKTtcbiAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCBwLnJvdyk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5fdGlsZXNbaWRzW2ldXTtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVJRCA9IHRpbGUudGlsZUlEO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLnBvdygyLCB0aGlzLnRyYW5zZm9ybS56b29tIC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYWRkaW5nID0gbWF4UGl0Y2hTY2FsZUZhY3RvciAqIHRpbGUucXVlcnlQYWRkaW5nICogRVhURU5UIC8gdGlsZS50aWxlU2l6ZSAvIHNjYWxlO1xuXG4gICAgICAgICAgICBjb25zdCB0aWxlU3BhY2VCb3VuZHMgPSBbXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZVRvVGlsZVBvaW50KHRpbGVJRCwgbmV3IENvb3JkaW5hdGUobWluWCwgbWluWSwgeikpLFxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVUb1RpbGVQb2ludCh0aWxlSUQsIG5ldyBDb29yZGluYXRlKG1heFgsIG1heFksIHopKVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgaWYgKHRpbGVTcGFjZUJvdW5kc1swXS54IC0gcXVlcnlQYWRkaW5nIDwgRVhURU5UICYmIHRpbGVTcGFjZUJvdW5kc1swXS55IC0gcXVlcnlQYWRkaW5nIDwgRVhURU5UICYmXG4gICAgICAgICAgICAgICAgdGlsZVNwYWNlQm91bmRzWzFdLnggKyBxdWVyeVBhZGRpbmcgPj0gMCAmJiB0aWxlU3BhY2VCb3VuZHNbMV0ueSArIHF1ZXJ5UGFkZGluZyA+PSAwKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlU3BhY2VRdWVyeUdlb21ldHJ5ID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBxdWVyeUdlb21ldHJ5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVTcGFjZVF1ZXJ5R2VvbWV0cnkucHVzaChjb29yZGluYXRlVG9UaWxlUG9pbnQodGlsZUlELCBxdWVyeUdlb21ldHJ5W2pdKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGlsZVJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpbGU6IHRpbGUsXG4gICAgICAgICAgICAgICAgICAgIHRpbGVJRDogdGlsZUlELFxuICAgICAgICAgICAgICAgICAgICBxdWVyeUdlb21ldHJ5OiBbdGlsZVNwYWNlUXVlcnlHZW9tZXRyeV0sXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlOiBzY2FsZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRpbGVSZXN1bHRzO1xuICAgIH1cblxuICAgIGdldFZpc2libGVDb29yZGluYXRlcygpIHtcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5nZXRSZW5kZXJhYmxlSWRzKCkubWFwKChpZCkgPT4gdGhpcy5fdGlsZXNbaWRdLnRpbGVJRCk7XG4gICAgICAgIGZvciAoY29uc3QgY29vcmQgb2YgY29vcmRzKSB7XG4gICAgICAgICAgICBjb29yZC5wb3NNYXRyaXggPSB0aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoY29vcmQudG9VbndyYXBwZWQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvb3JkcztcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fc291cmNlLmhhc1RyYW5zaXRpb24oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNSYXN0ZXJUeXBlKHRoaXMuX3NvdXJjZS50eXBlKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl90aWxlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl90aWxlc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKHRpbGUuZmFkZUVuZFRpbWUgIT09IHVuZGVmaW5lZCAmJiB0aWxlLmZhZGVFbmRUaW1lID49IGJyb3dzZXIubm93KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuU291cmNlQ2FjaGUubWF4T3Zlcnpvb21pbmcgPSAxMDtcblNvdXJjZUNhY2hlLm1heFVuZGVyem9vbWluZyA9IDM7XG5cbi8qKlxuICogQ29udmVydCBhIGNvb3JkaW5hdGUgdG8gYSBwb2ludCBpbiBhIHRpbGUncyBjb29yZGluYXRlIHNwYWNlLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY29vcmRpbmF0ZVRvVGlsZVBvaW50KHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgY29vcmQ6IENvb3JkaW5hdGUpOiBQb2ludCB7XG4gICAgY29uc3Qgem9vbWVkQ29vcmQgPSBjb29yZC56b29tVG8odGlsZUlELmNhbm9uaWNhbC56KTtcbiAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICAoem9vbWVkQ29vcmQuY29sdW1uIC0gKHRpbGVJRC5jYW5vbmljYWwueCArIHRpbGVJRC53cmFwICogTWF0aC5wb3coMiwgdGlsZUlELmNhbm9uaWNhbC56KSkpICogRVhURU5ULFxuICAgICAgICAoem9vbWVkQ29vcmQucm93IC0gdGlsZUlELmNhbm9uaWNhbC55KSAqIEVYVEVOVFxuICAgICk7XG59XG5cbmZ1bmN0aW9uIGlzUmFzdGVyVHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGUgPT09ICdyYXN0ZXInIHx8IHR5cGUgPT09ICdpbWFnZScgfHwgdHlwZSA9PT0gJ3ZpZGVvJztcbn1cblxuZXhwb3J0IGRlZmF1bHQgU291cmNlQ2FjaGU7XG5cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IFdlYldvcmtlciBmcm9tICcuL3dlYl93b3JrZXInO1xuXG5pbXBvcnQgdHlwZSB7V29ya2VySW50ZXJmYWNlfSBmcm9tICcuL3dlYl93b3JrZXInO1xuaW1wb3J0IG1hcGJveGdsIGZyb20gJy4uLyc7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIHdvcmtlciBwb29sLlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgV29ya2VyUG9vbCB7XG4gICAgYWN0aXZlOiB7W251bWJlcl06IGJvb2xlYW59O1xuICAgIHdvcmtlcnM6IEFycmF5PFdvcmtlckludGVyZmFjZT47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB7fTtcbiAgICB9XG5cbiAgICBhY3F1aXJlKG1hcElkOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLndvcmtlcnMpIHtcbiAgICAgICAgICAgIC8vIExhemlseSBsb29rIHVwIHRoZSB2YWx1ZSBvZiBtYXBib3hnbC53b3JrZXJDb3VudCBzbyB0aGF0XG4gICAgICAgICAgICAvLyBjbGllbnQgY29kZSBoYXMgaGFkIGEgY2hhbmNlIHRvIHNldCBpdC5cbiAgICAgICAgICAgIGNvbnN0IHdvcmtlckNvdW50ID0gbWFwYm94Z2wud29ya2VyQ291bnQ7XG4gICAgICAgICAgICBhc3NlcnQodHlwZW9mIHdvcmtlckNvdW50ID09PSAnbnVtYmVyJyAmJiB3b3JrZXJDb3VudCA8IEluZmluaXR5KTtcblxuICAgICAgICAgICAgdGhpcy53b3JrZXJzID0gW107XG4gICAgICAgICAgICB3aGlsZSAodGhpcy53b3JrZXJzLmxlbmd0aCA8IHdvcmtlckNvdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy53b3JrZXJzLnB1c2gobmV3IFdlYldvcmtlcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aXZlW21hcElkXSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLndvcmtlcnMuc2xpY2UoKTtcbiAgICB9XG5cbiAgICByZWxlYXNlKG1hcElkOiBudW1iZXIpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlW21hcElkXTtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuYWN0aXZlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMud29ya2Vycy5mb3JFYWNoKCh3KSA9PiB7XG4gICAgICAgICAgICAgICAgdy50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy53b3JrZXJzID0gKG51bGw6IGFueSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdvcmtlclBvb2w7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgV29ya2VyUG9vbCBmcm9tICcuL3dvcmtlcl9wb29sJztcblxubGV0IGdsb2JhbFdvcmtlclBvb2w7XG5cbi8qKlxuICogQ3JlYXRlcyAoaWYgbmVjZXNzYXJ5KSBhbmQgcmV0dXJucyB0aGUgc2luZ2xlLCBnbG9iYWwgV29ya2VyUG9vbCBpbnN0YW5jZVxuICogdG8gYmUgc2hhcmVkIGFjcm9zcyBlYWNoIE1hcFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0R2xvYmFsV29ya2VyUG9vbCAoKSB7XG4gICAgaWYgKCFnbG9iYWxXb3JrZXJQb29sKSB7XG4gICAgICAgIGdsb2JhbFdvcmtlclBvb2wgPSBuZXcgV29ya2VyUG9vbCgpO1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsV29ya2VyUG9vbDtcbn1cbiIsIlxuaW1wb3J0IHJlZlByb3BlcnRpZXMgZnJvbSAnLi91dGlsL3JlZl9wcm9wZXJ0aWVzJztcblxuZnVuY3Rpb24gZGVyZWYobGF5ZXIsIHBhcmVudCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBrIGluIGxheWVyKSB7XG4gICAgICAgIGlmIChrICE9PSAncmVmJykge1xuICAgICAgICAgICAgcmVzdWx0W2tdID0gbGF5ZXJba107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZQcm9wZXJ0aWVzLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgaWYgKGsgaW4gcGFyZW50KSB7XG4gICAgICAgICAgICByZXN1bHRba10gPSBwYXJlbnRba107XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRlcmVmTGF5ZXJzO1xuXG4vKipcbiAqIEdpdmVuIGFuIGFycmF5IG9mIGxheWVycywgc29tZSBvZiB3aGljaCBtYXkgY29udGFpbiBgcmVmYCBwcm9wZXJ0aWVzXG4gKiB3aG9zZSB2YWx1ZSBpcyB0aGUgYGlkYCBvZiBhbm90aGVyIHByb3BlcnR5LCByZXR1cm4gYSBuZXcgYXJyYXkgd2hlcmVcbiAqIHN1Y2ggbGF5ZXJzIGhhdmUgYmVlbiBhdWdtZW50ZWQgd2l0aCB0aGUgJ3R5cGUnLCAnc291cmNlJywgZXRjLiBwcm9wZXJ0aWVzXG4gKiBmcm9tIHRoZSBwYXJlbnQgbGF5ZXIsIGFuZCB0aGUgYHJlZmAgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZC5cbiAqXG4gKiBUaGUgaW5wdXQgaXMgbm90IG1vZGlmaWVkLiBUaGUgb3V0cHV0IG1heSBjb250YWluIHJlZmVyZW5jZXMgdG8gcG9ydGlvbnNcbiAqIG9mIHRoZSBpbnB1dC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxMYXllcj59IGxheWVyc1xuICogQHJldHVybnMge0FycmF5PExheWVyPn1cbiAqL1xuZnVuY3Rpb24gZGVyZWZMYXllcnMobGF5ZXJzKSB7XG4gICAgbGF5ZXJzID0gbGF5ZXJzLnNsaWNlKCk7XG5cbiAgICBjb25zdCBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hcFtsYXllcnNbaV0uaWRdID0gbGF5ZXJzW2ldO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICgncmVmJyBpbiBsYXllcnNbaV0pIHtcbiAgICAgICAgICAgIGxheWVyc1tpXSA9IGRlcmVmKGxheWVyc1tpXSwgbWFwW2xheWVyc1tpXS5yZWZdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsYXllcnM7XG59XG4iLCJcbmltcG9ydCBpc0VxdWFsIGZyb20gJy4vdXRpbC9kZWVwX2VxdWFsJztcblxuY29uc3Qgb3BlcmF0aW9ucyA9IHtcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0U3R5bGUnLCBhcmdzOiBbc3R5bGVzaGVldF0gfVxuICAgICAqL1xuICAgIHNldFN0eWxlOiAnc2V0U3R5bGUnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdhZGRMYXllcicsIGFyZ3M6IFtsYXllciwgJ2JlZm9yZUxheWVySWQnXSB9XG4gICAgICovXG4gICAgYWRkTGF5ZXI6ICdhZGRMYXllcicsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3JlbW92ZUxheWVyJywgYXJnczogWydsYXllcklkJ10gfVxuICAgICAqL1xuICAgIHJlbW92ZUxheWVyOiAncmVtb3ZlTGF5ZXInLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRQYWludFByb3BlcnR5JywgYXJnczogWydsYXllcklkJywgJ3Byb3AnLCB2YWx1ZV0gfVxuICAgICAqL1xuICAgIHNldFBhaW50UHJvcGVydHk6ICdzZXRQYWludFByb3BlcnR5JyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0TGF5b3V0UHJvcGVydHknLCBhcmdzOiBbJ2xheWVySWQnLCAncHJvcCcsIHZhbHVlXSB9XG4gICAgICovXG4gICAgc2V0TGF5b3V0UHJvcGVydHk6ICdzZXRMYXlvdXRQcm9wZXJ0eScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldEZpbHRlcicsIGFyZ3M6IFsnbGF5ZXJJZCcsIGZpbHRlcl0gfVxuICAgICAqL1xuICAgIHNldEZpbHRlcjogJ3NldEZpbHRlcicsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ2FkZFNvdXJjZScsIGFyZ3M6IFsnc291cmNlSWQnLCBzb3VyY2VdIH1cbiAgICAgKi9cbiAgICBhZGRTb3VyY2U6ICdhZGRTb3VyY2UnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdyZW1vdmVTb3VyY2UnLCBhcmdzOiBbJ3NvdXJjZUlkJ10gfVxuICAgICAqL1xuICAgIHJlbW92ZVNvdXJjZTogJ3JlbW92ZVNvdXJjZScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldEdlb0pTT05Tb3VyY2VEYXRhJywgYXJnczogWydzb3VyY2VJZCcsIGRhdGFdIH1cbiAgICAgKi9cbiAgICBzZXRHZW9KU09OU291cmNlRGF0YTogJ3NldEdlb0pTT05Tb3VyY2VEYXRhJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0TGF5ZXJab29tUmFuZ2UnLCBhcmdzOiBbJ2xheWVySWQnLCAwLCAyMl0gfVxuICAgICAqL1xuICAgIHNldExheWVyWm9vbVJhbmdlOiAnc2V0TGF5ZXJab29tUmFuZ2UnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRMYXllclByb3BlcnR5JywgYXJnczogWydsYXllcklkJywgJ3Byb3AnLCB2YWx1ZV0gfVxuICAgICAqL1xuICAgIHNldExheWVyUHJvcGVydHk6ICdzZXRMYXllclByb3BlcnR5JyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0Q2VudGVyJywgYXJnczogW1tsb24sIGxhdF1dIH1cbiAgICAgKi9cbiAgICBzZXRDZW50ZXI6ICdzZXRDZW50ZXInLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRab29tJywgYXJnczogW3pvb21dIH1cbiAgICAgKi9cbiAgICBzZXRab29tOiAnc2V0Wm9vbScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldEJlYXJpbmcnLCBhcmdzOiBbYmVhcmluZ10gfVxuICAgICAqL1xuICAgIHNldEJlYXJpbmc6ICdzZXRCZWFyaW5nJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0UGl0Y2gnLCBhcmdzOiBbcGl0Y2hdIH1cbiAgICAgKi9cbiAgICBzZXRQaXRjaDogJ3NldFBpdGNoJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0U3ByaXRlJywgYXJnczogWydzcHJpdGVVcmwnXSB9XG4gICAgICovXG4gICAgc2V0U3ByaXRlOiAnc2V0U3ByaXRlJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0R2x5cGhzJywgYXJnczogWydnbHlwaHNVcmwnXSB9XG4gICAgICovXG4gICAgc2V0R2x5cGhzOiAnc2V0R2x5cGhzJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0VHJhbnNpdGlvbicsIGFyZ3M6IFt0cmFuc2l0aW9uXSB9XG4gICAgICovXG4gICAgc2V0VHJhbnNpdGlvbjogJ3NldFRyYW5zaXRpb24nLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRMaWdodGluZycsIGFyZ3M6IFtsaWdodFByb3BlcnRpZXNdIH1cbiAgICAgKi9cbiAgICBzZXRMaWdodDogJ3NldExpZ2h0J1xuXG59O1xuXG5mdW5jdGlvbiBhZGRTb3VyY2Uoc291cmNlSWQsIGFmdGVyLCBjb21tYW5kcykge1xuICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLmFkZFNvdXJjZSwgYXJnczogW3NvdXJjZUlkLCBhZnRlcltzb3VyY2VJZF1dIH0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTb3VyY2Uoc291cmNlSWQsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCkge1xuICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnJlbW92ZVNvdXJjZSwgYXJnczogW3NvdXJjZUlkXSB9KTtcbiAgICBzb3VyY2VzUmVtb3ZlZFtzb3VyY2VJZF0gPSB0cnVlO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVTb3VyY2Uoc291cmNlSWQsIGFmdGVyLCBjb21tYW5kcywgc291cmNlc1JlbW92ZWQpIHtcbiAgICByZW1vdmVTb3VyY2Uoc291cmNlSWQsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCk7XG4gICAgYWRkU291cmNlKHNvdXJjZUlkLCBhZnRlciwgY29tbWFuZHMpO1xufVxuXG5mdW5jdGlvbiBjYW5VcGRhdGVHZW9KU09OKGJlZm9yZSwgYWZ0ZXIsIHNvdXJjZUlkKSB7XG4gICAgbGV0IHByb3A7XG4gICAgZm9yIChwcm9wIGluIGJlZm9yZVtzb3VyY2VJZF0pIHtcbiAgICAgICAgaWYgKCFiZWZvcmVbc291cmNlSWRdLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgaWYgKHByb3AgIT09ICdkYXRhJyAmJiAhaXNFcXVhbChiZWZvcmVbc291cmNlSWRdW3Byb3BdLCBhZnRlcltzb3VyY2VJZF1bcHJvcF0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChwcm9wIGluIGFmdGVyW3NvdXJjZUlkXSkge1xuICAgICAgICBpZiAoIWFmdGVyW3NvdXJjZUlkXS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgICAgIGlmIChwcm9wICE9PSAnZGF0YScgJiYgIWlzRXF1YWwoYmVmb3JlW3NvdXJjZUlkXVtwcm9wXSwgYWZ0ZXJbc291cmNlSWRdW3Byb3BdKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBkaWZmU291cmNlcyhiZWZvcmUsIGFmdGVyLCBjb21tYW5kcywgc291cmNlc1JlbW92ZWQpIHtcbiAgICBiZWZvcmUgPSBiZWZvcmUgfHwge307XG4gICAgYWZ0ZXIgPSBhZnRlciB8fCB7fTtcblxuICAgIGxldCBzb3VyY2VJZDtcblxuICAgIC8vIGxvb2sgZm9yIHNvdXJjZXMgdG8gcmVtb3ZlXG4gICAgZm9yIChzb3VyY2VJZCBpbiBiZWZvcmUpIHtcbiAgICAgICAgaWYgKCFiZWZvcmUuaGFzT3duUHJvcGVydHkoc291cmNlSWQpKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFhZnRlci5oYXNPd25Qcm9wZXJ0eShzb3VyY2VJZCkpIHtcbiAgICAgICAgICAgIHJlbW92ZVNvdXJjZShzb3VyY2VJZCwgY29tbWFuZHMsIHNvdXJjZXNSZW1vdmVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGxvb2sgZm9yIHNvdXJjZXMgdG8gYWRkL3VwZGF0ZVxuICAgIGZvciAoc291cmNlSWQgaW4gYWZ0ZXIpIHtcbiAgICAgICAgaWYgKCFhZnRlci5oYXNPd25Qcm9wZXJ0eShzb3VyY2VJZCkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWJlZm9yZS5oYXNPd25Qcm9wZXJ0eShzb3VyY2VJZCkpIHtcbiAgICAgICAgICAgIGFkZFNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzKTtcbiAgICAgICAgfSBlbHNlIGlmICghaXNFcXVhbChiZWZvcmVbc291cmNlSWRdLCBhZnRlcltzb3VyY2VJZF0pKSB7XG4gICAgICAgICAgICBpZiAoYmVmb3JlW3NvdXJjZUlkXS50eXBlID09PSAnZ2VvanNvbicgJiYgYWZ0ZXJbc291cmNlSWRdLnR5cGUgPT09ICdnZW9qc29uJyAmJiBjYW5VcGRhdGVHZW9KU09OKGJlZm9yZSwgYWZ0ZXIsIHNvdXJjZUlkKSkge1xuICAgICAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldEdlb0pTT05Tb3VyY2VEYXRhLCBhcmdzOiBbc291cmNlSWQsIGFmdGVyW3NvdXJjZUlkXS5kYXRhXSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gdXBkYXRlIGNvbW1hbmQsIG11c3QgcmVtb3ZlIHRoZW4gYWRkXG4gICAgICAgICAgICAgICAgdXBkYXRlU291cmNlKHNvdXJjZUlkLCBhZnRlciwgY29tbWFuZHMsIHNvdXJjZXNSZW1vdmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzKGJlZm9yZSwgYWZ0ZXIsIGNvbW1hbmRzLCBsYXllcklkLCBrbGFzcywgY29tbWFuZCkge1xuICAgIGJlZm9yZSA9IGJlZm9yZSB8fCB7fTtcbiAgICBhZnRlciA9IGFmdGVyIHx8IHt9O1xuXG4gICAgbGV0IHByb3A7XG5cbiAgICBmb3IgKHByb3AgaW4gYmVmb3JlKSB7XG4gICAgICAgIGlmICghYmVmb3JlLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZVtwcm9wXSwgYWZ0ZXJbcHJvcF0pKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogY29tbWFuZCwgYXJnczogW2xheWVySWQsIHByb3AsIGFmdGVyW3Byb3BdLCBrbGFzc10gfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChwcm9wIGluIGFmdGVyKSB7XG4gICAgICAgIGlmICghYWZ0ZXIuaGFzT3duUHJvcGVydHkocHJvcCkgfHwgYmVmb3JlLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZVtwcm9wXSwgYWZ0ZXJbcHJvcF0pKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogY29tbWFuZCwgYXJnczogW2xheWVySWQsIHByb3AsIGFmdGVyW3Byb3BdLCBrbGFzc10gfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBsdWNrSWQobGF5ZXIpIHtcbiAgICByZXR1cm4gbGF5ZXIuaWQ7XG59XG5mdW5jdGlvbiBpbmRleEJ5SWQoZ3JvdXAsIGxheWVyKSB7XG4gICAgZ3JvdXBbbGF5ZXIuaWRdID0gbGF5ZXI7XG4gICAgcmV0dXJuIGdyb3VwO1xufVxuXG5mdW5jdGlvbiBkaWZmTGF5ZXJzKGJlZm9yZSwgYWZ0ZXIsIGNvbW1hbmRzKSB7XG4gICAgYmVmb3JlID0gYmVmb3JlIHx8IFtdO1xuICAgIGFmdGVyID0gYWZ0ZXIgfHwgW107XG5cbiAgICAvLyBvcmRlciBvZiBsYXllcnMgYnkgaWRcbiAgICBjb25zdCBiZWZvcmVPcmRlciA9IGJlZm9yZS5tYXAocGx1Y2tJZCk7XG4gICAgY29uc3QgYWZ0ZXJPcmRlciA9IGFmdGVyLm1hcChwbHVja0lkKTtcblxuICAgIC8vIGluZGV4IG9mIGxheWVyIGJ5IGlkXG4gICAgY29uc3QgYmVmb3JlSW5kZXggPSBiZWZvcmUucmVkdWNlKGluZGV4QnlJZCwge30pO1xuICAgIGNvbnN0IGFmdGVySW5kZXggPSBhZnRlci5yZWR1Y2UoaW5kZXhCeUlkLCB7fSk7XG5cbiAgICAvLyB0cmFjayBvcmRlciBvZiBsYXllcnMgYXMgaWYgdGhleSBoYXZlIGJlZW4gbXV0YXRlZFxuICAgIGNvbnN0IHRyYWNrZXIgPSBiZWZvcmVPcmRlci5zbGljZSgpO1xuXG4gICAgLy8gbGF5ZXJzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIGRvIG5vdCBuZWVkIHRvIGJlIGRpZmZlZFxuICAgIGNvbnN0IGNsZWFuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIGxldCBpLCBkLCBsYXllcklkLCBiZWZvcmVMYXllciwgYWZ0ZXJMYXllciwgaW5zZXJ0QmVmb3JlTGF5ZXJJZCwgcHJvcDtcblxuICAgIC8vIHJlbW92ZSBsYXllcnNcbiAgICBmb3IgKGkgPSAwLCBkID0gMDsgaSA8IGJlZm9yZU9yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxheWVySWQgPSBiZWZvcmVPcmRlcltpXTtcbiAgICAgICAgaWYgKCFhZnRlckluZGV4Lmhhc093blByb3BlcnR5KGxheWVySWQpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5yZW1vdmVMYXllciwgYXJnczogW2xheWVySWRdIH0pO1xuICAgICAgICAgICAgdHJhY2tlci5zcGxpY2UodHJhY2tlci5pbmRleE9mKGxheWVySWQsIGQpLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxpbWl0IHdoZXJlIGluIHRyYWNrZXIgd2UgbmVlZCB0byBsb29rIGZvciBhIG1hdGNoXG4gICAgICAgICAgICBkKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQvcmVvcmRlciBsYXllcnNcbiAgICBmb3IgKGkgPSAwLCBkID0gMDsgaSA8IGFmdGVyT3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gd29yayBiYWNrd2FyZHMgYXMgaW5zZXJ0IGlzIGJlZm9yZSBhbiBleGlzdGluZyBsYXllclxuICAgICAgICBsYXllcklkID0gYWZ0ZXJPcmRlclthZnRlck9yZGVyLmxlbmd0aCAtIDEgLSBpXTtcblxuICAgICAgICBpZiAodHJhY2tlclt0cmFja2VyLmxlbmd0aCAtIDEgLSBpXSA9PT0gbGF5ZXJJZCkgY29udGludWU7XG5cbiAgICAgICAgaWYgKGJlZm9yZUluZGV4Lmhhc093blByb3BlcnR5KGxheWVySWQpKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIGxheWVyIGJlZm9yZSB3ZSBpbnNlcnQgYXQgdGhlIGNvcnJlY3QgcG9zaXRpb25cbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnJlbW92ZUxheWVyLCBhcmdzOiBbbGF5ZXJJZF0gfSk7XG4gICAgICAgICAgICB0cmFja2VyLnNwbGljZSh0cmFja2VyLmxhc3RJbmRleE9mKGxheWVySWQsIHRyYWNrZXIubGVuZ3RoIC0gZCksIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbGltaXQgd2hlcmUgaW4gdHJhY2tlciB3ZSBuZWVkIHRvIGxvb2sgZm9yIGEgbWF0Y2hcbiAgICAgICAgICAgIGQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBsYXllciBhdCBjb3JyZWN0IHBvc2l0aW9uXG4gICAgICAgIGluc2VydEJlZm9yZUxheWVySWQgPSB0cmFja2VyW3RyYWNrZXIubGVuZ3RoIC0gaV07XG4gICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLmFkZExheWVyLCBhcmdzOiBbYWZ0ZXJJbmRleFtsYXllcklkXSwgaW5zZXJ0QmVmb3JlTGF5ZXJJZF0gfSk7XG4gICAgICAgIHRyYWNrZXIuc3BsaWNlKHRyYWNrZXIubGVuZ3RoIC0gaSwgMCwgbGF5ZXJJZCk7XG4gICAgICAgIGNsZWFuW2xheWVySWRdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgbGF5ZXJzXG4gICAgZm9yIChpID0gMDsgaSA8IGFmdGVyT3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGF5ZXJJZCA9IGFmdGVyT3JkZXJbaV07XG4gICAgICAgIGJlZm9yZUxheWVyID0gYmVmb3JlSW5kZXhbbGF5ZXJJZF07XG4gICAgICAgIGFmdGVyTGF5ZXIgPSBhZnRlckluZGV4W2xheWVySWRdO1xuXG4gICAgICAgIC8vIG5vIG5lZWQgdG8gdXBkYXRlIGlmIHByZXZpb3VzbHkgYWRkZWQgKG5ldyBvciBtb3ZlZClcbiAgICAgICAgaWYgKGNsZWFuW2xheWVySWRdIHx8IGlzRXF1YWwoYmVmb3JlTGF5ZXIsIGFmdGVyTGF5ZXIpKSBjb250aW51ZTtcblxuICAgICAgICAvLyBJZiBzb3VyY2UsIHNvdXJjZS1sYXllciwgb3IgdHlwZSBoYXZlIGNoYW5nZXMsIHRoZW4gcmVtb3ZlIHRoZSBsYXllclxuICAgICAgICAvLyBhbmQgYWRkIGl0IGJhY2sgJ2Zyb20gc2NyYXRjaCcuXG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmVMYXllci5zb3VyY2UsIGFmdGVyTGF5ZXIuc291cmNlKSB8fCAhaXNFcXVhbChiZWZvcmVMYXllclsnc291cmNlLWxheWVyJ10sIGFmdGVyTGF5ZXJbJ3NvdXJjZS1sYXllciddKSB8fCAhaXNFcXVhbChiZWZvcmVMYXllci50eXBlLCBhZnRlckxheWVyLnR5cGUpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5yZW1vdmVMYXllciwgYXJnczogW2xheWVySWRdIH0pO1xuICAgICAgICAgICAgLy8gd2UgYWRkIHRoZSBsYXllciBiYWNrIGF0IHRoZSBzYW1lIHBvc2l0aW9uIGl0IHdhcyBhbHJlYWR5IGluLCBzb1xuICAgICAgICAgICAgLy8gdGhlcmUncyBubyBuZWVkIHRvIHVwZGF0ZSB0aGUgYHRyYWNrZXJgXG4gICAgICAgICAgICBpbnNlcnRCZWZvcmVMYXllcklkID0gdHJhY2tlclt0cmFja2VyLmxhc3RJbmRleE9mKGxheWVySWQpICsgMV07XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5hZGRMYXllciwgYXJnczogW2FmdGVyTGF5ZXIsIGluc2VydEJlZm9yZUxheWVySWRdIH0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsYXlvdXQsIHBhaW50LCBmaWx0ZXIsIG1pbnpvb20sIG1heHpvb21cbiAgICAgICAgZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzKGJlZm9yZUxheWVyLmxheW91dCwgYWZ0ZXJMYXllci5sYXlvdXQsIGNvbW1hbmRzLCBsYXllcklkLCBudWxsLCBvcGVyYXRpb25zLnNldExheW91dFByb3BlcnR5KTtcbiAgICAgICAgZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzKGJlZm9yZUxheWVyLnBhaW50LCBhZnRlckxheWVyLnBhaW50LCBjb21tYW5kcywgbGF5ZXJJZCwgbnVsbCwgb3BlcmF0aW9ucy5zZXRQYWludFByb3BlcnR5KTtcbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZUxheWVyLmZpbHRlciwgYWZ0ZXJMYXllci5maWx0ZXIpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRGaWx0ZXIsIGFyZ3M6IFtsYXllcklkLCBhZnRlckxheWVyLmZpbHRlcl0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZUxheWVyLm1pbnpvb20sIGFmdGVyTGF5ZXIubWluem9vbSkgfHwgIWlzRXF1YWwoYmVmb3JlTGF5ZXIubWF4em9vbSwgYWZ0ZXJMYXllci5tYXh6b29tKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0TGF5ZXJab29tUmFuZ2UsIGFyZ3M6IFtsYXllcklkLCBhZnRlckxheWVyLm1pbnpvb20sIGFmdGVyTGF5ZXIubWF4em9vbV0gfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoYW5kbGUgYWxsIG90aGVyIGxheWVyIHByb3BzLCBpbmNsdWRpbmcgcGFpbnQuKlxuICAgICAgICBmb3IgKHByb3AgaW4gYmVmb3JlTGF5ZXIpIHtcbiAgICAgICAgICAgIGlmICghYmVmb3JlTGF5ZXIuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHByb3AgPT09ICdsYXlvdXQnIHx8IHByb3AgPT09ICdwYWludCcgfHwgcHJvcCA9PT0gJ2ZpbHRlcicgfHxcbiAgICAgICAgICAgICAgICBwcm9wID09PSAnbWV0YWRhdGEnIHx8IHByb3AgPT09ICdtaW56b29tJyB8fCBwcm9wID09PSAnbWF4em9vbScpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHByb3AuaW5kZXhPZigncGFpbnQuJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMoYmVmb3JlTGF5ZXJbcHJvcF0sIGFmdGVyTGF5ZXJbcHJvcF0sIGNvbW1hbmRzLCBsYXllcklkLCBwcm9wLnNsaWNlKDYpLCBvcGVyYXRpb25zLnNldFBhaW50UHJvcGVydHkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNFcXVhbChiZWZvcmVMYXllcltwcm9wXSwgYWZ0ZXJMYXllcltwcm9wXSkpIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRMYXllclByb3BlcnR5LCBhcmdzOiBbbGF5ZXJJZCwgcHJvcCwgYWZ0ZXJMYXllcltwcm9wXV0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChwcm9wIGluIGFmdGVyTGF5ZXIpIHtcbiAgICAgICAgICAgIGlmICghYWZ0ZXJMYXllci5oYXNPd25Qcm9wZXJ0eShwcm9wKSB8fCBiZWZvcmVMYXllci5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2xheW91dCcgfHwgcHJvcCA9PT0gJ3BhaW50JyB8fCBwcm9wID09PSAnZmlsdGVyJyB8fFxuICAgICAgICAgICAgICAgIHByb3AgPT09ICdtZXRhZGF0YScgfHwgcHJvcCA9PT0gJ21pbnpvb20nIHx8IHByb3AgPT09ICdtYXh6b29tJykgY29udGludWU7XG4gICAgICAgICAgICBpZiAocHJvcC5pbmRleE9mKCdwYWludC4nKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRpZmZMYXllclByb3BlcnR5Q2hhbmdlcyhiZWZvcmVMYXllcltwcm9wXSwgYWZ0ZXJMYXllcltwcm9wXSwgY29tbWFuZHMsIGxheWVySWQsIHByb3Auc2xpY2UoNiksIG9wZXJhdGlvbnMuc2V0UGFpbnRQcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0VxdWFsKGJlZm9yZUxheWVyW3Byb3BdLCBhZnRlckxheWVyW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldExheWVyUHJvcGVydHksIGFyZ3M6IFtsYXllcklkLCBwcm9wLCBhZnRlckxheWVyW3Byb3BdXSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBEaWZmIHR3byBzdHlsZXNoZWV0XG4gKlxuICogQ3JlYXRlcyBzZW1hbnRpY2x5IGF3YXJlIGRpZmZzIHRoYXQgY2FuIGVhc2lseSBiZSBhcHBsaWVkIGF0IHJ1bnRpbWUuXG4gKiBPcGVyYXRpb25zIHByb2R1Y2VkIGJ5IHRoZSBkaWZmIGNsb3NlbHkgcmVzZW1ibGUgdGhlIG1hcGJveC1nbC1qcyBBUEkuIEFueVxuICogZXJyb3IgY3JlYXRpbmcgdGhlIGRpZmYgd2lsbCBmYWxsIGJhY2sgdG8gdGhlICdzZXRTdHlsZScgb3BlcmF0aW9uLlxuICpcbiAqIEV4YW1wbGUgZGlmZjpcbiAqIFtcbiAqICAgICB7IGNvbW1hbmQ6ICdzZXRDb25zdGFudCcsIGFyZ3M6IFsnQHdhdGVyJywgJyMwMDAwRkYnXSB9LFxuICogICAgIHsgY29tbWFuZDogJ3NldFBhaW50UHJvcGVydHknLCBhcmdzOiBbJ2JhY2tncm91bmQnLCAnYmFja2dyb3VuZC1jb2xvcicsICdibGFjayddIH1cbiAqIF1cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBbYmVmb3JlXSBzdHlsZXNoZWV0IHRvIGNvbXBhcmUgZnJvbVxuICogQHBhcmFtIHsqfSBhZnRlciBzdHlsZXNoZWV0IHRvIGNvbXBhcmUgdG9cbiAqIEByZXR1cm5zIEFycmF5IGxpc3Qgb2YgY2hhbmdlc1xuICovXG5mdW5jdGlvbiBkaWZmU3R5bGVzKGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICBpZiAoIWJlZm9yZSkgcmV0dXJuIFt7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0U3R5bGUsIGFyZ3M6IFthZnRlcl0gfV07XG5cbiAgICBsZXQgY29tbWFuZHMgPSBbXTtcblxuICAgIHRyeSB7XG4gICAgICAgIC8vIEhhbmRsZSBjaGFuZ2VzIHRvIHRvcC1sZXZlbCBwcm9wZXJ0aWVzXG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUudmVyc2lvbiwgYWZ0ZXIudmVyc2lvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBbeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldFN0eWxlLCBhcmdzOiBbYWZ0ZXJdIH1dO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUuY2VudGVyLCBhZnRlci5jZW50ZXIpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRDZW50ZXIsIGFyZ3M6IFthZnRlci5jZW50ZXJdIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUuem9vbSwgYWZ0ZXIuem9vbSkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldFpvb20sIGFyZ3M6IFthZnRlci56b29tXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmJlYXJpbmcsIGFmdGVyLmJlYXJpbmcpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRCZWFyaW5nLCBhcmdzOiBbYWZ0ZXIuYmVhcmluZ10gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS5waXRjaCwgYWZ0ZXIucGl0Y2gpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRQaXRjaCwgYXJnczogW2FmdGVyLnBpdGNoXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLnNwcml0ZSwgYWZ0ZXIuc3ByaXRlKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0U3ByaXRlLCBhcmdzOiBbYWZ0ZXIuc3ByaXRlXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmdseXBocywgYWZ0ZXIuZ2x5cGhzKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0R2x5cGhzLCBhcmdzOiBbYWZ0ZXIuZ2x5cGhzXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLnRyYW5zaXRpb24sIGFmdGVyLnRyYW5zaXRpb24pKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRUcmFuc2l0aW9uLCBhcmdzOiBbYWZ0ZXIudHJhbnNpdGlvbl0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS5saWdodCwgYWZ0ZXIubGlnaHQpKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRMaWdodCwgYXJnczogW2FmdGVyLmxpZ2h0XSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBjaGFuZ2VzIHRvIGBzb3VyY2VzYFxuICAgICAgICAvLyBJZiBhIHNvdXJjZSBpcyB0byBiZSByZW1vdmVkLCB3ZSBhbHNvLS1iZWZvcmUgdGhlIHJlbW92ZVNvdXJjZVxuICAgICAgICAvLyBjb21tYW5kLS1uZWVkIHRvIHJlbW92ZSBhbGwgdGhlIHN0eWxlIGxheWVycyB0aGF0IGRlcGVuZCBvbiBpdC5cbiAgICAgICAgY29uc3Qgc291cmNlc1JlbW92ZWQgPSB7fTtcblxuICAgICAgICAvLyBGaXJzdCBjb2xsZWN0IHRoZSB7YWRkLHJlbW92ZX1Tb3VyY2UgY29tbWFuZHNcbiAgICAgICAgY29uc3QgcmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcyA9IFtdO1xuICAgICAgICBkaWZmU291cmNlcyhiZWZvcmUuc291cmNlcywgYWZ0ZXIuc291cmNlcywgcmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcywgc291cmNlc1JlbW92ZWQpO1xuXG4gICAgICAgIC8vIFB1c2ggYSByZW1vdmVMYXllciBjb21tYW5kIGZvciBlYWNoIHN0eWxlIGxheWVyIHRoYXQgZGVwZW5kcyBvbiBhXG4gICAgICAgIC8vIHNvdXJjZSB0aGF0J3MgYmVpbmcgcmVtb3ZlZC5cbiAgICAgICAgLy8gQWxzbywgZXhjbHVkZSBhbnkgc3VjaCBsYXllcnMgdGhlbSBmcm9tIHRoZSBpbnB1dCB0byBgZGlmZkxheWVyc2BcbiAgICAgICAgLy8gYmVsb3csIHNvIHRoYXQgZGlmZkxheWVycyBwcm9kdWNlcyB0aGUgYXBwcm9wcmlhdGUgYGFkZExheWVyc2BcbiAgICAgICAgLy8gY29tbWFuZFxuICAgICAgICBjb25zdCBiZWZvcmVMYXllcnMgPSBbXTtcbiAgICAgICAgaWYgKGJlZm9yZS5sYXllcnMpIHtcbiAgICAgICAgICAgIGJlZm9yZS5sYXllcnMuZm9yRWFjaCgobGF5ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlc1JlbW92ZWRbbGF5ZXIuc291cmNlXSkge1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5yZW1vdmVMYXllciwgYXJnczogW2xheWVyLmlkXSB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmVMYXllcnMucHVzaChsYXllcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29tbWFuZHMgPSBjb21tYW5kcy5jb25jYXQocmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcyk7XG5cbiAgICAgICAgLy8gSGFuZGxlIGNoYW5nZXMgdG8gYGxheWVyc2BcbiAgICAgICAgZGlmZkxheWVycyhiZWZvcmVMYXllcnMsIGFmdGVyLmxheWVycywgY29tbWFuZHMpO1xuXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBmYWxsIGJhY2sgdG8gc2V0U3R5bGVcbiAgICAgICAgY29uc29sZS53YXJuKCdVbmFibGUgdG8gY29tcHV0ZSBzdHlsZSBkaWZmOicsIGUpO1xuICAgICAgICBjb21tYW5kcyA9IFt7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0U3R5bGUsIGFyZ3M6IFthZnRlcl0gfV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbW1hbmRzO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkaWZmU3R5bGVzO1xuZXhwb3J0IHsgb3BlcmF0aW9ucyB9O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IENvbGxpc2lvbkluZGV4IGZyb20gJy4vY29sbGlzaW9uX2luZGV4JztcblxuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudCc7XG5pbXBvcnQgKiBhcyBzeW1ib2xTaXplIGZyb20gJy4vc3ltYm9sX3NpemUnO1xuaW1wb3J0ICogYXMgcHJvamVjdGlvbiBmcm9tICcuL3Byb2plY3Rpb24nO1xuaW1wb3J0IHByb3BlcnRpZXMgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvc3ltYm9sX3N0eWxlX2xheWVyX3Byb3BlcnRpZXMnO1xuY29uc3Qgc3ltYm9sTGF5b3V0UHJvcGVydGllcyA9IHByb3BlcnRpZXMubGF5b3V0O1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHBpeGVsc1RvVGlsZVVuaXRzIGZyb20gJy4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cyc7XG5cbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi9zb3VyY2UvdGlsZSc7XG5pbXBvcnQgdHlwZSBTeW1ib2xCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSBtYXQ0IGZyb20gJ0BtYXBib3gvZ2wtbWF0cml4JztcbmltcG9ydCB0eXBlIHtDb2xsaXNpb25Cb3hBcnJheSwgQ29sbGlzaW9uVmVydGV4QXJyYXl9IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMnO1xuXG5jbGFzcyBPcGFjaXR5U3RhdGUge1xuICAgIG9wYWNpdHk6IG51bWJlcjtcbiAgICBwbGFjZWQ6IGJvb2xlYW47XG4gICAgY29uc3RydWN0b3IocHJldlN0YXRlOiA/T3BhY2l0eVN0YXRlLCBpbmNyZW1lbnQ6IG51bWJlciwgcGxhY2VkOiBib29sZWFuLCBza2lwRmFkZTogP2Jvb2xlYW4pIHtcbiAgICAgICAgaWYgKHByZXZTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcHJldlN0YXRlLm9wYWNpdHkgKyAocHJldlN0YXRlLnBsYWNlZCA/IGluY3JlbWVudCA6IC1pbmNyZW1lbnQpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSAoc2tpcEZhZGUgJiYgcGxhY2VkKSA/IDEgOiAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGxhY2VkID0gcGxhY2VkO1xuICAgIH1cbiAgICBpc0hpZGRlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3BhY2l0eSA9PT0gMCAmJiAhdGhpcy5wbGFjZWQ7XG4gICAgfVxufVxuXG5jbGFzcyBKb2ludE9wYWNpdHlTdGF0ZSB7XG4gICAgdGV4dDogT3BhY2l0eVN0YXRlO1xuICAgIGljb246IE9wYWNpdHlTdGF0ZTtcbiAgICBjb25zdHJ1Y3RvcihwcmV2U3RhdGU6ID9Kb2ludE9wYWNpdHlTdGF0ZSwgaW5jcmVtZW50OiBudW1iZXIsIHBsYWNlZFRleHQ6IGJvb2xlYW4sIHBsYWNlZEljb246IGJvb2xlYW4sIHNraXBGYWRlOiA/Ym9vbGVhbikge1xuICAgICAgICB0aGlzLnRleHQgPSBuZXcgT3BhY2l0eVN0YXRlKHByZXZTdGF0ZSA/IHByZXZTdGF0ZS50ZXh0IDogbnVsbCwgaW5jcmVtZW50LCBwbGFjZWRUZXh0LCBza2lwRmFkZSk7XG4gICAgICAgIHRoaXMuaWNvbiA9IG5ldyBPcGFjaXR5U3RhdGUocHJldlN0YXRlID8gcHJldlN0YXRlLmljb24gOiBudWxsLCBpbmNyZW1lbnQsIHBsYWNlZEljb24sIHNraXBGYWRlKTtcbiAgICB9XG4gICAgaXNIaWRkZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQuaXNIaWRkZW4oKSAmJiB0aGlzLmljb24uaXNIaWRkZW4oKTtcbiAgICB9XG59XG5cbmNsYXNzIEpvaW50UGxhY2VtZW50IHtcbiAgICB0ZXh0OiBib29sZWFuO1xuICAgIGljb246IGJvb2xlYW47XG4gICAgLy8gc2tpcEZhZGUgPSBvdXRzaWRlIHZpZXdwb3J0LCBidXQgd2l0aGluIENvbGxpc2lvbkluZGV4Ojp2aWV3cG9ydFBhZGRpbmcgcHggb2YgdGhlIGVkZ2VcbiAgICAvLyBCZWNhdXNlIHRoZXNlIHN5bWJvbHMgYXJlbid0IG9uc2NyZWVuIHlldCwgd2UgY2FuIHNraXAgdGhlIFwiZmFkZSBpblwiIGFuaW1hdGlvbixcbiAgICAvLyBhbmQgaWYgYSBzdWJzZXF1ZW50IHZpZXdwb3J0IGNoYW5nZSBicmluZ3MgdGhlbSBpbnRvIHZpZXcsIHRoZXknbGwgYmUgZnVsbHlcbiAgICAvLyB2aXNpYmxlIHJpZ2h0IGF3YXkuXG4gICAgc2tpcEZhZGU6IGJvb2xlYW47XG4gICAgY29uc3RydWN0b3IodGV4dDogYm9vbGVhbiwgaWNvbjogYm9vbGVhbiwgc2tpcEZhZGU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5pY29uID0gaWNvbjtcbiAgICAgICAgdGhpcy5za2lwRmFkZSA9IHNraXBGYWRlO1xuICAgIH1cbn1cblxuY2xhc3MgUGxhY2VtZW50IHtcbiAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybTtcbiAgICBjb2xsaXNpb25JbmRleDogQ29sbGlzaW9uSW5kZXg7XG4gICAgcGxhY2VtZW50czogeyBbc3RyaW5nIHwgbnVtYmVyXTogSm9pbnRQbGFjZW1lbnQgfTtcbiAgICBvcGFjaXRpZXM6IHsgW3N0cmluZyB8IG51bWJlcl06IEpvaW50T3BhY2l0eVN0YXRlIH07XG4gICAgY29tbWl0VGltZTogbnVtYmVyO1xuICAgIGxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lOiBudW1iZXI7XG4gICAgc3RhbGU6IGJvb2xlYW47XG4gICAgZmFkZUR1cmF0aW9uOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih0cmFuc2Zvcm06IFRyYW5zZm9ybSwgZmFkZUR1cmF0aW9uOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm0uY2xvbmUoKTtcbiAgICAgICAgdGhpcy5jb2xsaXNpb25JbmRleCA9IG5ldyBDb2xsaXNpb25JbmRleCh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgIHRoaXMucGxhY2VtZW50cyA9IHt9O1xuICAgICAgICB0aGlzLm9wYWNpdGllcyA9IHt9O1xuICAgICAgICB0aGlzLnN0YWxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZmFkZUR1cmF0aW9uID0gZmFkZUR1cmF0aW9uO1xuICAgIH1cblxuICAgIHBsYWNlTGF5ZXJUaWxlKHN0eWxlTGF5ZXI6IFN0eWxlTGF5ZXIsIHRpbGU6IFRpbGUsIHNob3dDb2xsaXNpb25Cb3hlczogYm9vbGVhbiwgc2VlbkNyb3NzVGlsZUlEczogeyBbc3RyaW5nIHwgbnVtYmVyXTogYm9vbGVhbiB9KSB7XG4gICAgICAgIGNvbnN0IHN5bWJvbEJ1Y2tldCA9ICgodGlsZS5nZXRCdWNrZXQoc3R5bGVMYXllcik6IGFueSk6IFN5bWJvbEJ1Y2tldCk7XG4gICAgICAgIGlmICghc3ltYm9sQnVja2V0KSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgbGF5b3V0ID0gc3ltYm9sQnVja2V0LmxheWVyc1swXS5sYXlvdXQ7XG5cbiAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLnBvdygyLCB0aGlzLnRyYW5zZm9ybS56b29tIC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgICAgICBjb25zdCB0ZXh0UGl4ZWxSYXRpbyA9IHRpbGUudGlsZVNpemUgLyBFWFRFTlQ7XG5cbiAgICAgICAgY29uc3QgcG9zTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4KHRpbGUudGlsZUlELnRvVW53cmFwcGVkKCkpO1xuXG4gICAgICAgIGNvbnN0IHRleHRMYWJlbFBsYW5lTWF0cml4ID0gcHJvamVjdGlvbi5nZXRMYWJlbFBsYW5lTWF0cml4KHBvc01hdHJpeCxcbiAgICAgICAgICAgICAgICBsYXlvdXQuZ2V0KCd0ZXh0LXBpdGNoLWFsaWdubWVudCcpID09PSAnbWFwJyxcbiAgICAgICAgICAgICAgICBsYXlvdXQuZ2V0KCd0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCcpID09PSAnbWFwJyxcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCAxLCB0aGlzLnRyYW5zZm9ybS56b29tKSk7XG5cbiAgICAgICAgY29uc3QgaWNvbkxhYmVsUGxhbmVNYXRyaXggPSBwcm9qZWN0aW9uLmdldExhYmVsUGxhbmVNYXRyaXgocG9zTWF0cml4LFxuICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ2ljb24tcGl0Y2gtYWxpZ25tZW50JykgPT09ICdtYXAnLFxuICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ2ljb24tcm90YXRpb24tYWxpZ25tZW50JykgPT09ICdtYXAnLFxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIDEsIHRoaXMudHJhbnNmb3JtLnpvb20pKTtcblxuICAgICAgICB0aGlzLnBsYWNlTGF5ZXJCdWNrZXQoc3ltYm9sQnVja2V0LCBwb3NNYXRyaXgsIHRleHRMYWJlbFBsYW5lTWF0cml4LCBpY29uTGFiZWxQbGFuZU1hdHJpeCwgc2NhbGUsIHRleHRQaXhlbFJhdGlvLFxuICAgICAgICAgICAgICAgIHNob3dDb2xsaXNpb25Cb3hlcywgc2VlbkNyb3NzVGlsZUlEcywgdGlsZS5jb2xsaXNpb25Cb3hBcnJheSwgdGlsZS50aWxlSUQua2V5LCBzdHlsZUxheWVyLnNvdXJjZSk7XG4gICAgfVxuXG4gICAgcGxhY2VMYXllckJ1Y2tldChidWNrZXQ6IFN5bWJvbEJ1Y2tldCwgcG9zTWF0cml4OiBtYXQ0LCB0ZXh0TGFiZWxQbGFuZU1hdHJpeDogbWF0NCwgaWNvbkxhYmVsUGxhbmVNYXRyaXg6IG1hdDQsXG4gICAgICAgICAgICBzY2FsZTogbnVtYmVyLCB0ZXh0UGl4ZWxSYXRpbzogbnVtYmVyLCBzaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW4sIHNlZW5Dcm9zc1RpbGVJRHM6IHsgW3N0cmluZyB8IG51bWJlcl06IGJvb2xlYW4gfSxcbiAgICAgICAgICAgIGNvbGxpc2lvbkJveEFycmF5OiA/Q29sbGlzaW9uQm94QXJyYXksIHRpbGVLZXk6IG51bWJlciwgc291cmNlSUQ6IHN0cmluZykge1xuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IGJ1Y2tldC5sYXllcnNbMF0ubGF5b3V0O1xuXG4gICAgICAgIGNvbnN0IHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplID0gc3ltYm9sU2l6ZS5ldmFsdWF0ZVNpemVGb3Jab29tKGJ1Y2tldC50ZXh0U2l6ZURhdGEsIHRoaXMudHJhbnNmb3JtLnpvb20sIHN5bWJvbExheW91dFByb3BlcnRpZXMucHJvcGVydGllc1sndGV4dC1zaXplJ10pO1xuXG4gICAgICAgIGNvbnN0IGljb25XaXRob3V0VGV4dCA9ICFidWNrZXQuaGFzVGV4dERhdGEoKSB8fCBsYXlvdXQuZ2V0KCd0ZXh0LW9wdGlvbmFsJyk7XG4gICAgICAgIGNvbnN0IHRleHRXaXRob3V0SWNvbiA9ICFidWNrZXQuaGFzSWNvbkRhdGEoKSB8fCBsYXlvdXQuZ2V0KCdpY29uLW9wdGlvbmFsJyk7XG5cbiAgICAgICAgZm9yIChjb25zdCBzeW1ib2xJbnN0YW5jZSBvZiBidWNrZXQuc3ltYm9sSW5zdGFuY2VzKSB7XG4gICAgICAgICAgICBpZiAoIXNlZW5Dcm9zc1RpbGVJRHNbc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgcGxhY2VUZXh0ID0gc3ltYm9sSW5zdGFuY2UuZmVhdHVyZS50ZXh0ICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlSWNvbiA9IHN5bWJvbEluc3RhbmNlLmZlYXR1cmUuaWNvbiAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGxldCBvZmZzY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlZEdseXBoQm94ZXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBwbGFjZWRHbHlwaENpcmNsZXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBwbGFjZWRJY29uQm94ZXMgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzeW1ib2xJbnN0YW5jZS5jb2xsaXNpb25BcnJheXMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2UuY29sbGlzaW9uQXJyYXlzID0gYnVja2V0LmRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKChjb2xsaXNpb25Cb3hBcnJheTogYW55KTogQ29sbGlzaW9uQm94QXJyYXkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbEluc3RhbmNlLnRleHRCb3hTdGFydEluZGV4LCBzeW1ib2xJbnN0YW5jZS50ZXh0Qm94RW5kSW5kZXgsIHN5bWJvbEluc3RhbmNlLmljb25Cb3hTdGFydEluZGV4LCBzeW1ib2xJbnN0YW5jZS5pY29uQm94RW5kSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzeW1ib2xJbnN0YW5jZS5jb2xsaXNpb25BcnJheXMudGV4dEJveCkge1xuICAgICAgICAgICAgICAgICAgICBwbGFjZWRHbHlwaEJveGVzID0gdGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChzeW1ib2xJbnN0YW5jZS5jb2xsaXNpb25BcnJheXMudGV4dEJveCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQuZ2V0KCd0ZXh0LWFsbG93LW92ZXJsYXAnKSwgdGV4dFBpeGVsUmF0aW8sIHBvc01hdHJpeCk7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlVGV4dCA9IHBsYWNlZEdseXBoQm94ZXMuYm94Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNjcmVlbiA9IG9mZnNjcmVlbiAmJiBwbGFjZWRHbHlwaEJveGVzLm9mZnNjcmVlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dENpcmNsZXMgPSBzeW1ib2xJbnN0YW5jZS5jb2xsaXNpb25BcnJheXMudGV4dENpcmNsZXM7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRDaXJjbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlZFN5bWJvbCA9IGJ1Y2tldC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChzeW1ib2xJbnN0YW5jZS5wbGFjZWRUZXh0U3ltYm9sSW5kaWNlc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvbnRTaXplID0gc3ltYm9sU2l6ZS5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKGJ1Y2tldC50ZXh0U2l6ZURhdGEsIHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplLCBwbGFjZWRTeW1ib2wpO1xuICAgICAgICAgICAgICAgICAgICBwbGFjZWRHbHlwaENpcmNsZXMgPSB0aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQ2lyY2xlcyh0ZXh0Q2lyY2xlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQuZ2V0KCd0ZXh0LWFsbG93LW92ZXJsYXAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xJbnN0YW5jZS5rZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VkU3ltYm9sLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldC5saW5lVmVydGV4QXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0LmdseXBoT2Zmc2V0QXJyYXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zTWF0cml4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRMYWJlbFBsYW5lTWF0cml4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb2xsaXNpb25Cb3hlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQuZ2V0KCd0ZXh0LXBpdGNoLWFsaWdubWVudCcpID09PSAnbWFwJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRleHQtYWxsb3ctb3ZlcmxhcCBpcyBzZXQsIGZvcmNlIFwicGxhY2VkQ2lyY2xlc1wiIHRvIHRydWVcbiAgICAgICAgICAgICAgICAgICAgLy8gSW4gdGhlb3J5IHRoZXJlIHNob3VsZCBhbHdheXMgYmUgYXQgbGVhc3Qgb25lIGNpcmNsZSBwbGFjZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhpcyBjYXNlLCBidXQgZm9yIG5vdyBxdWlya3MgaW4gdGV4dC1hbmNob3JcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRleHQtb2Zmc2V0IG1heSBwcmV2ZW50IHRoYXQgZnJvbSBiZWluZyB0cnVlLlxuICAgICAgICAgICAgICAgICAgICBwbGFjZVRleHQgPSBsYXlvdXQuZ2V0KCd0ZXh0LWFsbG93LW92ZXJsYXAnKSB8fCBwbGFjZWRHbHlwaENpcmNsZXMuY2lyY2xlcy5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgICAgICBvZmZzY3JlZW4gPSBvZmZzY3JlZW4gJiYgcGxhY2VkR2x5cGhDaXJjbGVzLm9mZnNjcmVlbjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3ltYm9sSW5zdGFuY2UuY29sbGlzaW9uQXJyYXlzLmljb25Cb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VkSWNvbkJveGVzID0gdGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChzeW1ib2xJbnN0YW5jZS5jb2xsaXNpb25BcnJheXMuaWNvbkJveCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQuZ2V0KCdpY29uLWFsbG93LW92ZXJsYXAnKSwgdGV4dFBpeGVsUmF0aW8sIHBvc01hdHJpeCk7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlSWNvbiA9IHBsYWNlZEljb25Cb3hlcy5ib3gubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2NyZWVuID0gb2Zmc2NyZWVuICYmIHBsYWNlZEljb25Cb3hlcy5vZmZzY3JlZW47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ29tYmluZSB0aGUgc2NhbGVzIGZvciBpY29ucyBhbmQgdGV4dC5cbiAgICAgICAgICAgICAgICBpZiAoIWljb25XaXRob3V0VGV4dCAmJiAhdGV4dFdpdGhvdXRJY29uKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlSWNvbiA9IHBsYWNlVGV4dCA9IHBsYWNlSWNvbiAmJiBwbGFjZVRleHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGV4dFdpdGhvdXRJY29uKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlVGV4dCA9IHBsYWNlSWNvbiAmJiBwbGFjZVRleHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaWNvbldpdGhvdXRUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlSWNvbiA9IHBsYWNlSWNvbiAmJiBwbGFjZVRleHQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlVGV4dCAmJiBwbGFjZWRHbHlwaEJveGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQm94KHBsYWNlZEdseXBoQm94ZXMuYm94LCBsYXlvdXQuZ2V0KCd0ZXh0LWlnbm9yZS1wbGFjZW1lbnQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlS2V5LCBzb3VyY2VJRCwgYnVja2V0LmJ1Y2tldEluc3RhbmNlSWQsIHN5bWJvbEluc3RhbmNlLnRleHRCb3hTdGFydEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlSWNvbiAmJiBwbGFjZWRJY29uQm94ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25Cb3gocGxhY2VkSWNvbkJveGVzLmJveCwgbGF5b3V0LmdldCgnaWNvbi1pZ25vcmUtcGxhY2VtZW50JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZUtleSwgc291cmNlSUQsIGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkLCBzeW1ib2xJbnN0YW5jZS5pY29uQm94U3RhcnRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwbGFjZVRleHQgJiYgcGxhY2VkR2x5cGhDaXJjbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcyhwbGFjZWRHbHlwaENpcmNsZXMuY2lyY2xlcywgbGF5b3V0LmdldCgndGV4dC1pZ25vcmUtcGxhY2VtZW50JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZUtleSwgc291cmNlSUQsIGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkLCBzeW1ib2xJbnN0YW5jZS50ZXh0Qm94U3RhcnRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXNzZXJ0KHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEICE9PSAwKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoYnVja2V0LmJ1Y2tldEluc3RhbmNlSWQgIT09IDApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnRzW3N5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEXSA9IG5ldyBKb2ludFBsYWNlbWVudChwbGFjZVRleHQsIHBsYWNlSWNvbiwgb2Zmc2NyZWVuIHx8IGJ1Y2tldC5qdXN0UmVsb2FkZWQpO1xuICAgICAgICAgICAgICAgIHNlZW5Dcm9zc1RpbGVJRHNbc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJ1Y2tldC5qdXN0UmVsb2FkZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb21taXQocHJldlBsYWNlbWVudDogP1BsYWNlbWVudCwgbm93OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb21taXRUaW1lID0gbm93O1xuXG4gICAgICAgIGxldCBwbGFjZW1lbnRDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgaW5jcmVtZW50ID0gKHByZXZQbGFjZW1lbnQgJiYgdGhpcy5mYWRlRHVyYXRpb24gIT09IDApID9cbiAgICAgICAgICAgICh0aGlzLmNvbW1pdFRpbWUgLSBwcmV2UGxhY2VtZW50LmNvbW1pdFRpbWUpIC8gdGhpcy5mYWRlRHVyYXRpb24gOlxuICAgICAgICAgICAgMTtcblxuICAgICAgICBjb25zdCBwcmV2T3BhY2l0aWVzID0gcHJldlBsYWNlbWVudCA/IHByZXZQbGFjZW1lbnQub3BhY2l0aWVzIDoge307XG5cbiAgICAgICAgLy8gYWRkIHRoZSBvcGFjaXRpZXMgZnJvbSB0aGUgY3VycmVudCBwbGFjZW1lbnQsIGFuZCBjb3B5IHRoZWlyIGN1cnJlbnQgdmFsdWVzIGZyb20gdGhlIHByZXZpb3VzIHBsYWNlbWVudFxuICAgICAgICBmb3IgKGNvbnN0IGNyb3NzVGlsZUlEIGluIHRoaXMucGxhY2VtZW50cykge1xuICAgICAgICAgICAgY29uc3Qgam9pbnRQbGFjZW1lbnQgPSB0aGlzLnBsYWNlbWVudHNbY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgY29uc3QgcHJldk9wYWNpdHkgPSBwcmV2T3BhY2l0aWVzW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgIGlmIChwcmV2T3BhY2l0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3BhY2l0aWVzW2Nyb3NzVGlsZUlEXSA9IG5ldyBKb2ludE9wYWNpdHlTdGF0ZShwcmV2T3BhY2l0eSwgaW5jcmVtZW50LCBqb2ludFBsYWNlbWVudC50ZXh0LCBqb2ludFBsYWNlbWVudC5pY29uKTtcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnRDaGFuZ2VkID0gcGxhY2VtZW50Q2hhbmdlZCB8fFxuICAgICAgICAgICAgICAgICAgICBqb2ludFBsYWNlbWVudC50ZXh0ICE9PSBwcmV2T3BhY2l0eS50ZXh0LnBsYWNlZCB8fFxuICAgICAgICAgICAgICAgICAgICBqb2ludFBsYWNlbWVudC5pY29uICE9PSBwcmV2T3BhY2l0eS5pY29uLnBsYWNlZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdID0gbmV3IEpvaW50T3BhY2l0eVN0YXRlKG51bGwsIGluY3JlbWVudCwgam9pbnRQbGFjZW1lbnQudGV4dCwgam9pbnRQbGFjZW1lbnQuaWNvbiwgam9pbnRQbGFjZW1lbnQuc2tpcEZhZGUpO1xuICAgICAgICAgICAgICAgIHBsYWNlbWVudENoYW5nZWQgPSBwbGFjZW1lbnRDaGFuZ2VkIHx8IGpvaW50UGxhY2VtZW50LnRleHQgfHwgam9pbnRQbGFjZW1lbnQuaWNvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvcHkgYW5kIHVwZGF0ZSB2YWx1ZXMgZnJvbSB0aGUgcHJldmlvdXMgcGxhY2VtZW50IHRoYXQgYXJlbid0IGluIHRoZSBjdXJyZW50IHBsYWNlbWVudCBidXQgaGF2ZW4ndCBmaW5pc2hlZCBmYWRpbmdcbiAgICAgICAgZm9yIChjb25zdCBjcm9zc1RpbGVJRCBpbiBwcmV2T3BhY2l0aWVzKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2T3BhY2l0eSA9IHByZXZPcGFjaXRpZXNbY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9wYWNpdGllc1tjcm9zc1RpbGVJRF0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2ludE9wYWNpdHkgPSBuZXcgSm9pbnRPcGFjaXR5U3RhdGUocHJldk9wYWNpdHksIGluY3JlbWVudCwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAoIWpvaW50T3BhY2l0eS5pc0hpZGRlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3BhY2l0aWVzW2Nyb3NzVGlsZUlEXSA9IGpvaW50T3BhY2l0eTtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50Q2hhbmdlZCA9IHBsYWNlbWVudENoYW5nZWQgfHwgcHJldk9wYWNpdHkudGV4dC5wbGFjZWQgfHwgcHJldk9wYWNpdHkuaWNvbi5wbGFjZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSBpcyB0aGUgdGltZSBvZiB0aGUgbGFzdCBjb21taXQoKSB0aGF0XG4gICAgICAgIC8vIHJlc3VsdGVkIGluIGEgcGxhY2VtZW50IGNoYW5nZSAtLSBpbiBvdGhlciB3b3JkcywgdGhlIHN0YXJ0IHRpbWUgb2ZcbiAgICAgICAgLy8gdGhlIGxhc3Qgc3ltYm9sIGZhZGUgYW5pbWF0aW9uXG4gICAgICAgIGFzc2VydCghcHJldlBsYWNlbWVudCB8fCBwcmV2UGxhY2VtZW50Lmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lICE9PSB1bmRlZmluZWQpO1xuICAgICAgICBpZiAocGxhY2VtZW50Q2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSA9IG5vdztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWUgPSBwcmV2UGxhY2VtZW50ID8gcHJldlBsYWNlbWVudC5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSA6IG5vdztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUxheWVyT3BhY2l0aWVzKHN0eWxlTGF5ZXI6IFN0eWxlTGF5ZXIsIHRpbGVzOiBBcnJheTxUaWxlPikge1xuICAgICAgICBjb25zdCBzZWVuQ3Jvc3NUaWxlSURzID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCB0aWxlIG9mIHRpbGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xCdWNrZXQgPSAoKHRpbGUuZ2V0QnVja2V0KHN0eWxlTGF5ZXIpOiBhbnkpOiBTeW1ib2xCdWNrZXQpO1xuICAgICAgICAgICAgaWYgKHN5bWJvbEJ1Y2tldCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQnVja2V0T3BhY2l0aWVzKHN5bWJvbEJ1Y2tldCwgc2VlbkNyb3NzVGlsZUlEcywgdGlsZS5jb2xsaXNpb25Cb3hBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVCdWNrZXRPcGFjaXRpZXMoYnVja2V0OiBTeW1ib2xCdWNrZXQsIHNlZW5Dcm9zc1RpbGVJRHM6IHsgW3N0cmluZyB8IG51bWJlcl06IGJvb2xlYW4gfSwgY29sbGlzaW9uQm94QXJyYXk6ID9Db2xsaXNpb25Cb3hBcnJheSkge1xuICAgICAgICBpZiAoYnVja2V0Lmhhc1RleHREYXRhKCkpIGJ1Y2tldC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpO1xuICAgICAgICBpZiAoYnVja2V0Lmhhc0ljb25EYXRhKCkpIGJ1Y2tldC5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpO1xuICAgICAgICBpZiAoYnVja2V0Lmhhc0NvbGxpc2lvbkJveERhdGEoKSkgYnVja2V0LmNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpO1xuICAgICAgICBpZiAoYnVja2V0Lmhhc0NvbGxpc2lvbkNpcmNsZURhdGEoKSkgYnVja2V0LmNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpO1xuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IGJ1Y2tldC5sYXllcnNbMF0ubGF5b3V0O1xuICAgICAgICBjb25zdCBkdXBsaWNhdGVPcGFjaXR5U3RhdGUgPSBuZXcgSm9pbnRPcGFjaXR5U3RhdGUobnVsbCwgMCwgZmFsc2UsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdE9wYWNpdHlTdGF0ZSA9IG5ldyBKb2ludE9wYWNpdHlTdGF0ZShudWxsLCAwLFxuICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ3RleHQtYWxsb3ctb3ZlcmxhcCcpLFxuICAgICAgICAgICAgICAgIGxheW91dC5nZXQoJ2ljb24tYWxsb3ctb3ZlcmxhcCcpLCB0cnVlKTtcblxuICAgICAgICBmb3IgKGxldCBzID0gMDsgcyA8IGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoOyBzKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHN5bWJvbEluc3RhbmNlID0gYnVja2V0LnN5bWJvbEluc3RhbmNlc1tzXTtcbiAgICAgICAgICAgIGNvbnN0IGlzRHVwbGljYXRlID0gc2VlbkNyb3NzVGlsZUlEc1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF07XG5cbiAgICAgICAgICAgIGxldCBvcGFjaXR5U3RhdGUgPSB0aGlzLm9wYWNpdGllc1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF07XG4gICAgICAgICAgICBpZiAoaXNEdXBsaWNhdGUpIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5U3RhdGUgPSBkdXBsaWNhdGVPcGFjaXR5U3RhdGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFvcGFjaXR5U3RhdGUpIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5U3RhdGUgPSBkZWZhdWx0T3BhY2l0eVN0YXRlO1xuICAgICAgICAgICAgICAgIC8vIHN0b3JlIHRoZSBzdGF0ZSBzbyB0aGF0IGZ1dHVyZSBwbGFjZW1lbnRzIHVzZSBpdCBhcyBhIHN0YXJ0aW5nIHBvaW50XG4gICAgICAgICAgICAgICAgdGhpcy5vcGFjaXRpZXNbc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdID0gb3BhY2l0eVN0YXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWVuQ3Jvc3NUaWxlSURzW3N5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEXSA9IHRydWU7XG5cbiAgICAgICAgICAgIGNvbnN0IGhhc1RleHQgPSBzeW1ib2xJbnN0YW5jZS5udW1HbHlwaFZlcnRpY2VzID4gMCB8fCBzeW1ib2xJbnN0YW5jZS5udW1WZXJ0aWNhbEdseXBoVmVydGljZXMgPiAwO1xuICAgICAgICAgICAgY29uc3QgaGFzSWNvbiA9IHN5bWJvbEluc3RhbmNlLm51bUljb25WZXJ0aWNlcyA+IDA7XG5cbiAgICAgICAgICAgIGlmIChoYXNUZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFja2VkT3BhY2l0eSA9IHBhY2tPcGFjaXR5KG9wYWNpdHlTdGF0ZS50ZXh0KTtcbiAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCB0ZXh0IGZhZGVzIGluL291dCBvbiBjb2xsaXNpb24gdGhlIHNhbWUgd2F5IGFzIGNvcnJlc3BvbmRpbmdcbiAgICAgICAgICAgICAgICAvLyBob3Jpem9udGFsIHRleHQuIFN3aXRjaCBiZXR3ZWVuIHZlcnRpY2FsL2hvcml6b250YWwgc2hvdWxkIGJlIGluc3RhbnRhbmVvdXNcbiAgICAgICAgICAgICAgICBjb25zdCBvcGFjaXR5RW50cnlDb3VudCA9IChzeW1ib2xJbnN0YW5jZS5udW1HbHlwaFZlcnRpY2VzICsgc3ltYm9sSW5zdGFuY2UubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzKSAvIDQ7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcGFjaXR5RW50cnlDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Y2tldC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwYWNrZWRPcGFjaXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwbGFjZWRUZXh0U3ltYm9sSW5kZXggb2Ygc3ltYm9sSW5zdGFuY2UucGxhY2VkVGV4dFN5bWJvbEluZGljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxhY2VkU3ltYm9sID0gYnVja2V0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHBsYWNlZFRleHRTeW1ib2xJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgbGFiZWwgaXMgY29tcGxldGVseSBmYWRlZCwgbWFyayBpdCBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gY2FsY3VsYXRlXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0cyBwb3NpdGlvbiBhdCByZW5kZXIgdGltZVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWRTeW1ib2wuaGlkZGVuID0gKG9wYWNpdHlTdGF0ZS50ZXh0LmlzSGlkZGVuKCk6IGFueSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaGFzSWNvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhY2tlZE9wYWNpdHkgPSBwYWNrT3BhY2l0eShvcGFjaXR5U3RhdGUuaWNvbik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzeW1ib2xJbnN0YW5jZS5udW1JY29uVmVydGljZXMgLyA0OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYnVja2V0Lmljb24ub3BhY2l0eVZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHBhY2tlZE9wYWNpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZWRTeW1ib2wgPSBidWNrZXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5nZXQocyk7XG4gICAgICAgICAgICAgICAgcGxhY2VkU3ltYm9sLmhpZGRlbiA9IChvcGFjaXR5U3RhdGUuaWNvbi5pc0hpZGRlbigpOiBhbnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXN5bWJvbEluc3RhbmNlLmNvbGxpc2lvbkFycmF5cykge1xuICAgICAgICAgICAgICAgIHN5bWJvbEluc3RhbmNlLmNvbGxpc2lvbkFycmF5cyA9IGJ1Y2tldC5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgKChjb2xsaXNpb25Cb3hBcnJheTogYW55KTogQ29sbGlzaW9uQm94QXJyYXkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2UudGV4dEJveFN0YXJ0SW5kZXgsIHN5bWJvbEluc3RhbmNlLnRleHRCb3hFbmRJbmRleCwgc3ltYm9sSW5zdGFuY2UuaWNvbkJveFN0YXJ0SW5kZXgsIHN5bWJvbEluc3RhbmNlLmljb25Cb3hFbmRJbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbkFycmF5cyA9IHN5bWJvbEluc3RhbmNlLmNvbGxpc2lvbkFycmF5cztcbiAgICAgICAgICAgIGlmIChjb2xsaXNpb25BcnJheXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uQXJyYXlzLnRleHRCb3ggJiYgYnVja2V0Lmhhc0NvbGxpc2lvbkJveERhdGEoKSkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb2xsaXNpb25WZXJ0aWNlcyhidWNrZXQuY29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LCBvcGFjaXR5U3RhdGUudGV4dC5wbGFjZWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uQXJyYXlzLmljb25Cb3ggJiYgYnVja2V0Lmhhc0NvbGxpc2lvbkJveERhdGEoKSkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb2xsaXNpb25WZXJ0aWNlcyhidWNrZXQuY29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LCBvcGFjaXR5U3RhdGUuaWNvbi5wbGFjZWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0Q2lyY2xlcyA9IGNvbGxpc2lvbkFycmF5cy50ZXh0Q2lyY2xlcztcbiAgICAgICAgICAgICAgICBpZiAodGV4dENpcmNsZXMgJiYgYnVja2V0Lmhhc0NvbGxpc2lvbkNpcmNsZURhdGEoKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHRleHRDaXJjbGVzLmxlbmd0aDsgayArPSA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RVc2VkID0gaXNEdXBsaWNhdGUgfHwgdGV4dENpcmNsZXNbayArIDRdID09PSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29sbGlzaW9uVmVydGljZXMoYnVja2V0LmNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhBcnJheSwgb3BhY2l0eVN0YXRlLnRleHQucGxhY2VkLCBub3RVc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJ1Y2tldC5zb3J0RmVhdHVyZXModGhpcy50cmFuc2Zvcm0uYW5nbGUpO1xuXG4gICAgICAgIGlmIChidWNrZXQuaGFzVGV4dERhdGEoKSAmJiBidWNrZXQudGV4dC5vcGFjaXR5VmVydGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBidWNrZXQudGV4dC5vcGFjaXR5VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVja2V0Lmhhc0ljb25EYXRhKCkgJiYgYnVja2V0Lmljb24ub3BhY2l0eVZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgYnVja2V0Lmljb24ub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGJ1Y2tldC5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNDb2xsaXNpb25Cb3hEYXRhKCkgJiYgYnVja2V0LmNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGJ1Y2tldC5jb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoYnVja2V0LmNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNDb2xsaXNpb25DaXJjbGVEYXRhKCkgJiYgYnVja2V0LmNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGJ1Y2tldC5jb2xsaXNpb25DaXJjbGUuY29sbGlzaW9uVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoYnVja2V0LmNvbGxpc2lvbkNpcmNsZS5jb2xsaXNpb25WZXJ0ZXhBcnJheSk7XG4gICAgICAgIH1cblxuICAgICAgICBhc3NlcnQoYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEFycmF5Lmxlbmd0aCA9PT0gYnVja2V0LnRleHQubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoIC8gNCk7XG4gICAgICAgIGFzc2VydChidWNrZXQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkubGVuZ3RoID09PSBidWNrZXQuaWNvbi5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGggLyA0KTtcbiAgICB9XG5cbiAgICBzeW1ib2xGYWRlQ2hhbmdlKG5vdzogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhZGVEdXJhdGlvbiA9PT0gMCA/XG4gICAgICAgICAgICAxIDpcbiAgICAgICAgICAgIChub3cgLSB0aGlzLmNvbW1pdFRpbWUpIC8gdGhpcy5mYWRlRHVyYXRpb247XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbnMobm93OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhbGUgfHxcbiAgICAgICAgICAgIG5vdyAtIHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWUgPCB0aGlzLmZhZGVEdXJhdGlvbjtcbiAgICB9XG5cbiAgICBzdGlsbFJlY2VudChub3c6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21taXRUaW1lICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgdGhpcy5jb21taXRUaW1lICsgdGhpcy5mYWRlRHVyYXRpb24gPiBub3c7XG4gICAgfVxuXG4gICAgc2V0U3RhbGUoKSB7XG4gICAgICAgIHRoaXMuc3RhbGUgPSB0cnVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQ29sbGlzaW9uVmVydGljZXMoY29sbGlzaW9uVmVydGV4QXJyYXk6IENvbGxpc2lvblZlcnRleEFycmF5LCBwbGFjZWQ6IGJvb2xlYW4sIG5vdFVzZWQ6IGJvb2xlYW4pIHtcbiAgICBjb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwbGFjZWQgPyAxIDogMCwgbm90VXNlZCA/IDEgOiAwKTtcbiAgICBjb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwbGFjZWQgPyAxIDogMCwgbm90VXNlZCA/IDEgOiAwKTtcbiAgICBjb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwbGFjZWQgPyAxIDogMCwgbm90VXNlZCA/IDEgOiAwKTtcbiAgICBjb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwbGFjZWQgPyAxIDogMCwgbm90VXNlZCA/IDEgOiAwKTtcbn1cblxuLy8gQWxsIGZvdXIgdmVydGljZXMgZm9yIGEgZ2x5cGggd2lsbCBoYXZlIHRoZSBzYW1lIG9wYWNpdHkgc3RhdGVcbi8vIFNvIHdlIHBhY2sgdGhlIG9wYWNpdHkgaW50byBhIHVpbnQ4LCBhbmQgdGhlbiByZXBlYXQgaXQgZm91ciB0aW1lc1xuLy8gdG8gbWFrZSBhIHNpbmdsZSB1aW50MzIgdGhhdCB3ZSBjYW4gdXBsb2FkIGZvciBlYWNoIGdseXBoIGluIHRoZVxuLy8gbGFiZWwuXG5jb25zdCBzaGlmdDI1ID0gTWF0aC5wb3coMiwgMjUpO1xuY29uc3Qgc2hpZnQyNCA9IE1hdGgucG93KDIsIDI0KTtcbmNvbnN0IHNoaWZ0MTcgPSBNYXRoLnBvdygyLCAxNyk7XG5jb25zdCBzaGlmdDE2ID0gTWF0aC5wb3coMiwgMTYpO1xuY29uc3Qgc2hpZnQ5ID0gTWF0aC5wb3coMiwgOSk7XG5jb25zdCBzaGlmdDggPSBNYXRoLnBvdygyLCA4KTtcbmNvbnN0IHNoaWZ0MSA9IE1hdGgucG93KDIsIDEpO1xuZnVuY3Rpb24gcGFja09wYWNpdHkob3BhY2l0eVN0YXRlOiBPcGFjaXR5U3RhdGUpOiBudW1iZXIge1xuICAgIGlmIChvcGFjaXR5U3RhdGUub3BhY2l0eSA9PT0gMCAmJiAhb3BhY2l0eVN0YXRlLnBsYWNlZCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9IGVsc2UgaWYgKG9wYWNpdHlTdGF0ZS5vcGFjaXR5ID09PSAxICYmIG9wYWNpdHlTdGF0ZS5wbGFjZWQpIHtcbiAgICAgICAgcmV0dXJuIDQyOTQ5NjcyOTU7XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldEJpdCA9IG9wYWNpdHlTdGF0ZS5wbGFjZWQgPyAxIDogMDtcbiAgICBjb25zdCBvcGFjaXR5Qml0cyA9IE1hdGguZmxvb3Iob3BhY2l0eVN0YXRlLm9wYWNpdHkgKiAxMjcpO1xuICAgIHJldHVybiBvcGFjaXR5Qml0cyAqIHNoaWZ0MjUgKyB0YXJnZXRCaXQgKiBzaGlmdDI0ICtcbiAgICAgICAgb3BhY2l0eUJpdHMgKiBzaGlmdDE3ICsgdGFyZ2V0Qml0ICogc2hpZnQxNiArXG4gICAgICAgIG9wYWNpdHlCaXRzICogc2hpZnQ5ICsgdGFyZ2V0Qml0ICogc2hpZnQ4ICtcbiAgICAgICAgb3BhY2l0eUJpdHMgKiBzaGlmdDEgKyB0YXJnZXRCaXQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBsYWNlbWVudDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5cbmltcG9ydCBQbGFjZW1lbnQgZnJvbSAnLi4vc3ltYm9sL3BsYWNlbWVudCc7XG5cbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlJztcblxuY2xhc3MgTGF5ZXJQbGFjZW1lbnQge1xuICAgIF9jdXJyZW50VGlsZUluZGV4OiBudW1iZXI7XG4gICAgX3RpbGVzOiBBcnJheTxUaWxlPjtcbiAgICBfc2VlbkNyb3NzVGlsZUlEczogeyBbc3RyaW5nIHwgbnVtYmVyXTogYm9vbGVhbiB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaWxlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzID0ge307XG4gICAgfVxuXG4gICAgY29udGludWVQbGFjZW1lbnQodGlsZXM6IEFycmF5PFRpbGU+LCBwbGFjZW1lbnQ6IFBsYWNlbWVudCwgc2hvd0NvbGxpc2lvbkJveGVzOiBib29sZWFuLCBzdHlsZUxheWVyOiBTdHlsZUxheWVyLCBzaG91bGRQYXVzZVBsYWNlbWVudCkge1xuICAgICAgICB3aGlsZSAodGhpcy5fY3VycmVudFRpbGVJbmRleCA8IHRpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRpbGVzW3RoaXMuX2N1cnJlbnRUaWxlSW5kZXhdO1xuICAgICAgICAgICAgcGxhY2VtZW50LnBsYWNlTGF5ZXJUaWxlKHN0eWxlTGF5ZXIsIHRpbGUsIHNob3dDb2xsaXNpb25Cb3hlcywgdGhpcy5fc2VlbkNyb3NzVGlsZUlEcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaWxlSW5kZXgrKztcbiAgICAgICAgICAgIGlmIChzaG91bGRQYXVzZVBsYWNlbWVudCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIFBhdXNlYWJsZVBsYWNlbWVudCB7XG4gICAgcGxhY2VtZW50OiBQbGFjZW1lbnQ7XG4gICAgX2RvbmU6IGJvb2xlYW47XG4gICAgX2N1cnJlbnRQbGFjZW1lbnRJbmRleDogbnVtYmVyO1xuICAgIF9mb3JjZUZ1bGxQbGFjZW1lbnQ6IGJvb2xlYW47XG4gICAgX3Nob3dDb2xsaXNpb25Cb3hlczogYm9vbGVhbjtcbiAgICBfaW5Qcm9ncmVzc0xheWVyOiA/TGF5ZXJQbGFjZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih0cmFuc2Zvcm06IFRyYW5zZm9ybSwgb3JkZXI6IEFycmF5PHN0cmluZz4sXG4gICAgICAgICAgICBmb3JjZUZ1bGxQbGFjZW1lbnQ6IGJvb2xlYW4sIHNob3dDb2xsaXNpb25Cb3hlczogYm9vbGVhbiwgZmFkZUR1cmF0aW9uOiBudW1iZXIpIHtcblxuICAgICAgICB0aGlzLnBsYWNlbWVudCA9IG5ldyBQbGFjZW1lbnQodHJhbnNmb3JtLCBmYWRlRHVyYXRpb24pO1xuICAgICAgICB0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXggPSBvcmRlci5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLl9mb3JjZUZ1bGxQbGFjZW1lbnQgPSBmb3JjZUZ1bGxQbGFjZW1lbnQ7XG4gICAgICAgIHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyA9IHNob3dDb2xsaXNpb25Cb3hlcztcbiAgICAgICAgdGhpcy5fZG9uZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlzRG9uZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RvbmU7XG4gICAgfVxuXG4gICAgY29udGludWVQbGFjZW1lbnQob3JkZXI6IEFycmF5PHN0cmluZz4sIGxheWVyczoge1tzdHJpbmddOiBTdHlsZUxheWVyfSwgbGF5ZXJUaWxlczoge1tzdHJpbmddOiBBcnJheTxUaWxlPn0pIHtcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gYnJvd3Nlci5ub3coKTtcblxuICAgICAgICBjb25zdCBzaG91bGRQYXVzZVBsYWNlbWVudCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gYnJvd3Nlci5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb3JjZUZ1bGxQbGFjZW1lbnQgPyBmYWxzZSA6IGVsYXBzZWRUaW1lID4gMjtcbiAgICAgICAgfTtcblxuICAgICAgICB3aGlsZSAodGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4ID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGxheWVySWQgPSBvcmRlclt0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSBsYXllcnNbbGF5ZXJJZF07XG4gICAgICAgICAgICBjb25zdCBwbGFjZW1lbnRab29tID0gdGhpcy5wbGFjZW1lbnQuY29sbGlzaW9uSW5kZXgudHJhbnNmb3JtLnpvb207XG4gICAgICAgICAgICBpZiAobGF5ZXIudHlwZSA9PT0gJ3N5bWJvbCcgJiZcbiAgICAgICAgICAgICAgICAoIWxheWVyLm1pbnpvb20gfHwgbGF5ZXIubWluem9vbSA8PSBwbGFjZW1lbnRab29tKSAmJlxuICAgICAgICAgICAgICAgICghbGF5ZXIubWF4em9vbSB8fCBsYXllci5tYXh6b29tID4gcGxhY2VtZW50Wm9vbSkpIHtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5faW5Qcm9ncmVzc0xheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luUHJvZ3Jlc3NMYXllciA9IG5ldyBMYXllclBsYWNlbWVudCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHBhdXNlUGxhY2VtZW50ID0gdGhpcy5faW5Qcm9ncmVzc0xheWVyLmNvbnRpbnVlUGxhY2VtZW50KGxheWVyVGlsZXNbbGF5ZXIuc291cmNlXSwgdGhpcy5wbGFjZW1lbnQsIHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcywgbGF5ZXIsIHNob3VsZFBhdXNlUGxhY2VtZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChwYXVzZVBsYWNlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkaWRuJ3QgZmluaXNoIHBsYWNpbmcgYWxsIGxheWVycyB3aXRoaW4gMm1zLFxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgd2UgY2FuIGtlZXAgcmVuZGVyaW5nIHdpdGggYSBwYXJ0aWFsIHBsYWNlbWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBXZSdsbCByZXN1bWUgaGVyZSBvbiB0aGUgbmV4dCBmcmFtZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2luUHJvZ3Jlc3NMYXllcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4LS07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kb25lID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb21taXQocHJldmlvdXNQbGFjZW1lbnQ6ID9QbGFjZW1lbnQsIG5vdzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucGxhY2VtZW50LmNvbW1pdChwcmV2aW91c1BsYWNlbWVudCwgbm93KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhY2VtZW50O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGF1c2VhYmxlUGxhY2VtZW50O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudCc7XG5cbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSBTeW1ib2xCdWNrZXQsIHtTeW1ib2xJbnN0YW5jZX0gZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vc291cmNlL3RpbGUnO1xuXG4vKlxuICAgIFRoZSBDcm9zc1RpbGVTeW1ib2xJbmRleCBnZW5lcmFsbHkgd29ya3Mgb24gdGhlIGFzc3VtcHRpb24gdGhhdFxuICAgIGEgY29uY2VwdHVhbCBcInVuaXF1ZSBzeW1ib2xcIiBjYW4gYmUgaWRlbnRpZmllZCBieSB0aGUgdGV4dCBvZlxuICAgIHRoZSBsYWJlbCBjb21iaW5lZCB3aXRoIHRoZSBhbmNob3IgcG9pbnQuIFRoZSBnb2FsIGlzIHRvIGFzc2lnblxuICAgIHRoZXNlIGNvbmNlcHR1YWwgXCJ1bmlxdWUgc3ltYm9sc1wiIGEgc2hhcmVkIGNyb3NzVGlsZUlEIHRoYXQgY2FuIGJlXG4gICAgdXNlZCBieSBQbGFjZW1lbnQgdG8ga2VlcCBmYWRpbmcgb3BhY2l0eSBzdGF0ZXMgY29uc2lzdGVudCBhbmQgdG9cbiAgICBkZWR1cGxpY2F0ZSBsYWJlbHMuXG5cbiAgICBUaGUgQ3Jvc3NUaWxlU3ltYm9sSW5kZXggaW5kZXhlcyBhbGwgdGhlIGN1cnJlbnQgc3ltYm9sIGluc3RhbmNlcyBhbmRcbiAgICB0aGVpciBjcm9zc1RpbGVJRHMuIFdoZW4gYSBzeW1ib2wgYnVja2V0IGdldHMgYWRkZWQgb3IgdXBkYXRlZCwgdGhlXG4gICAgaW5kZXggYXNzaWducyBhIGNyb3NzVGlsZUlEIHRvIGVhY2ggb2YgaXQncyBzeW1ib2wgaW5zdGFuY2VzIGJ5IGVpdGhlclxuICAgIG1hdGNoaW5nIGl0IHdpdGggYW4gZXhpc3RpbmcgaWQgb3IgYXNzaWduaW5nIGEgbmV3IG9uZS5cbiovXG5cbi8vIFJvdW5kIGFuY2hvciBwb3NpdGlvbnMgdG8gcm91Z2hseSA0IHBpeGVsIGdyaWRcbmNvbnN0IHJvdW5kaW5nRmFjdG9yID0gNTEyIC8gRVhURU5UIC8gMjtcblxuY2xhc3MgVGlsZUxheWVySW5kZXgge1xuICAgIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRDtcbiAgICBpbmRleGVkU3ltYm9sSW5zdGFuY2VzOiB7W3N0cmluZ106IEFycmF5PHtcbiAgICAgICAgY3Jvc3NUaWxlSUQ6IG51bWJlcixcbiAgICAgICAgY29vcmQ6IHtcbiAgICAgICAgICAgIHg6IG51bWJlcixcbiAgICAgICAgICAgIHk6IG51bWJlclxuICAgICAgICB9XG4gICAgfT59O1xuICAgIGJ1Y2tldEluc3RhbmNlSWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgc3ltYm9sSW5zdGFuY2VzOiBBcnJheTxTeW1ib2xJbnN0YW5jZT4sIGJ1Y2tldEluc3RhbmNlSWQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLnRpbGVJRCA9IHRpbGVJRDtcbiAgICAgICAgdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzID0ge307XG4gICAgICAgIHRoaXMuYnVja2V0SW5zdGFuY2VJZCA9IGJ1Y2tldEluc3RhbmNlSWQ7XG5cbiAgICAgICAgZm9yIChjb25zdCBzeW1ib2xJbnN0YW5jZSBvZiBzeW1ib2xJbnN0YW5jZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHN5bWJvbEluc3RhbmNlLmtleTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2tleV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNba2V5XSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhpcyB0aWxlIG1heSBoYXZlIG11bHRpcGxlIHN5bWJvbCBpbnN0YW5jZXMgd2l0aCB0aGUgc2FtZSBrZXlcbiAgICAgICAgICAgIC8vIFN0b3JlIGVhY2ggb25lIGFsb25nIHdpdGggaXRzIGNvb3JkaW5hdGVzXG4gICAgICAgICAgICB0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNba2V5XS5wdXNoKHtcbiAgICAgICAgICAgICAgICBjcm9zc1RpbGVJRDogc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQsXG4gICAgICAgICAgICAgICAgY29vcmQ6IHRoaXMuZ2V0U2NhbGVkQ29vcmRpbmF0ZXMoc3ltYm9sSW5zdGFuY2UsIHRpbGVJRClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ29udmVydHMgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBpbnB1dCBzeW1ib2wgaW5zdGFuY2UgaW50byBjb29yZGluYXRlcyB0aGF0IGJlIGNhbiBjb21wYXJlZFxuICAgIC8vIGFnYWluc3Qgb3RoZXIgc3ltYm9scyBpbiB0aGlzIGluZGV4LiBDb29yZGluYXRlcyBhcmU6XG4gICAgLy8gKDEpIHdvcmxkLWJhc2VkIChzbyBhZnRlciBjb252ZXJzaW9uIHRoZSBzb3VyY2UgdGlsZSBpcyBpcnJlbGV2YW50KVxuICAgIC8vICgyKSBjb252ZXJ0ZWQgdG8gdGhlIHotc2NhbGUgb2YgdGhpcyBUaWxlTGF5ZXJJbmRleFxuICAgIC8vICgzKSBkb3duLXNhbXBsZWQgYnkgXCJyb3VuZGluZ0ZhY3RvclwiIGZyb20gdGlsZSBjb29yZGluYXRlIHByZWNpc2lvbiBpbiBvcmRlciB0byBiZVxuICAgIC8vICAgICBtb3JlIHRvbGVyYW50IG9mIHNtYWxsIGRpZmZlcmVuY2VzIGJldHdlZW4gdGlsZXMuXG4gICAgZ2V0U2NhbGVkQ29vcmRpbmF0ZXMoc3ltYm9sSW5zdGFuY2U6IFN5bWJvbEluc3RhbmNlLCBjaGlsZFRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCkge1xuICAgICAgICBjb25zdCB6RGlmZmVyZW5jZSA9IGNoaWxkVGlsZUlELmNhbm9uaWNhbC56IC0gdGhpcy50aWxlSUQuY2Fub25pY2FsLno7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gcm91bmRpbmdGYWN0b3IgLyBNYXRoLnBvdygyLCB6RGlmZmVyZW5jZSk7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHN5bWJvbEluc3RhbmNlLmFuY2hvcjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IE1hdGguZmxvb3IoKGNoaWxkVGlsZUlELmNhbm9uaWNhbC54ICogRVhURU5UICsgYW5jaG9yLngpICogc2NhbGUpLFxuICAgICAgICAgICAgeTogTWF0aC5mbG9vcigoY2hpbGRUaWxlSUQuY2Fub25pY2FsLnkgKiBFWFRFTlQgKyBhbmNob3IueSkgKiBzY2FsZSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmaW5kTWF0Y2hlcyhzeW1ib2xJbnN0YW5jZXM6IEFycmF5PFN5bWJvbEluc3RhbmNlPiwgbmV3VGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCB6b29tQ3Jvc3NUaWxlSURzOiB7W2Nyb3NzVGlsZUlEOiBudW1iZXJdOiBib29sZWFufSkge1xuICAgICAgICBjb25zdCB0b2xlcmFuY2UgPSB0aGlzLnRpbGVJRC5jYW5vbmljYWwueiA8IG5ld1RpbGVJRC5jYW5vbmljYWwueiA/IDEgOiBNYXRoLnBvdygyLCB0aGlzLnRpbGVJRC5jYW5vbmljYWwueiAtIG5ld1RpbGVJRC5jYW5vbmljYWwueik7XG5cbiAgICAgICAgZm9yIChjb25zdCBzeW1ib2xJbnN0YW5jZSBvZiBzeW1ib2xJbnN0YW5jZXMpIHtcbiAgICAgICAgICAgIGlmIChzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRCkge1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgaGFzIGEgbWF0Y2gsIHNraXBcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgaW5kZXhlZEluc3RhbmNlcyA9IHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1tzeW1ib2xJbnN0YW5jZS5rZXldO1xuICAgICAgICAgICAgaWYgKCFpbmRleGVkSW5zdGFuY2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gc3ltYm9sIHdpdGggdGhpcyBrZXkgaW4gdGhpcyBidWNrZXRcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc2NhbGVkU3ltYm9sQ29vcmQgPSB0aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKHN5bWJvbEluc3RhbmNlLCBuZXdUaWxlSUQpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRoaXNUaWxlU3ltYm9sIG9mIGluZGV4ZWRJbnN0YW5jZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gYW55IHN5bWJvbCB3aXRoIHRoZSBzYW1lIGtleXMgd2hvc2UgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiAxXG4gICAgICAgICAgICAgICAgLy8gZ3JpZCB1bml0LiAod2l0aCBhIDRweCBncmlkLCB0aGlzIGNvdmVycyBhIDEycHggYnkgMTJweCBhcmVhKVxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzVGlsZVN5bWJvbC5jb29yZC54IC0gc2NhbGVkU3ltYm9sQ29vcmQueCkgPD0gdG9sZXJhbmNlICYmXG4gICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKHRoaXNUaWxlU3ltYm9sLmNvb3JkLnkgLSBzY2FsZWRTeW1ib2xDb29yZC55KSA8PSB0b2xlcmFuY2UgJiZcbiAgICAgICAgICAgICAgICAgICAgIXpvb21Dcm9zc1RpbGVJRHNbdGhpc1RpbGVTeW1ib2wuY3Jvc3NUaWxlSURdKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9uY2Ugd2UndmUgbWFya2VkIG91cnNlbHZlcyBkdXBsaWNhdGUgYWdhaW5zdCB0aGlzIHBhcmVudCBzeW1ib2wsXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGxldCBhbnkgb3RoZXIgc3ltYm9scyBhdCB0aGUgc2FtZSB6b29tIGxldmVsIGR1cGxpY2F0ZSBhZ2FpbnN0XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBzYW1lIHBhcmVudCAoc2VlIGlzc3VlICM1OTkzKVxuICAgICAgICAgICAgICAgICAgICB6b29tQ3Jvc3NUaWxlSURzW3RoaXNUaWxlU3ltYm9sLmNyb3NzVGlsZUlEXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEID0gdGhpc1RpbGVTeW1ib2wuY3Jvc3NUaWxlSUQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQ3Jvc3NUaWxlSURzIHtcbiAgICBtYXhDcm9zc1RpbGVJRDogbnVtYmVyO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1heENyb3NzVGlsZUlEID0gMDtcbiAgICB9XG4gICAgZ2VuZXJhdGUoKSB7XG4gICAgICAgIHJldHVybiArK3RoaXMubWF4Q3Jvc3NUaWxlSUQ7XG4gICAgfVxufVxuXG5jbGFzcyBDcm9zc1RpbGVTeW1ib2xMYXllckluZGV4IHtcbiAgICBpbmRleGVzOiB7W3pvb206IHN0cmluZyB8IG51bWJlcl06IHtbdGlsZUlkOiBzdHJpbmcgfCBudW1iZXJdOiBUaWxlTGF5ZXJJbmRleH19O1xuICAgIHVzZWRDcm9zc1RpbGVJRHM6IHtbem9vbTogc3RyaW5nIHwgbnVtYmVyXToge1tjcm9zc1RpbGVJRDogbnVtYmVyXTogYm9vbGVhbn19O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5kZXhlcyA9IHt9O1xuICAgICAgICB0aGlzLnVzZWRDcm9zc1RpbGVJRHMgPSB7fTtcbiAgICB9XG5cbiAgICBhZGRCdWNrZXQodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCBidWNrZXQ6IFN5bWJvbEJ1Y2tldCwgY3Jvc3NUaWxlSURzOiBDcm9zc1RpbGVJRHMpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdICYmXG4gICAgICAgICAgICB0aGlzLmluZGV4ZXNbdGlsZUlELm92ZXJzY2FsZWRaXVt0aWxlSUQua2V5XSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdW3RpbGVJRC5rZXldLmJ1Y2tldEluc3RhbmNlSWQgPT09XG4gICAgICAgICAgICAgICAgYnVja2V0LmJ1Y2tldEluc3RhbmNlSWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlJ3JlIHJlcGxhY2luZyB0aGlzIGJ1Y2tldCB3aXRoIGFuIHVwZGF0ZWQgdmVyc2lvblxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgb2xkIGJ1Y2tldCdzIFwidXNlZCBjcm9zc1RpbGVJRHNcIiBub3cgc28gdGhhdFxuICAgICAgICAgICAgICAgIC8vIHRoZSBuZXcgYnVja2V0IGNhbiBjbGFpbSB0aGVtLlxuICAgICAgICAgICAgICAgIC8vIFRoZSBvbGQgaW5kZXggZW50cmllcyB0aGVtc2VsdmVzIHN0aWNrIGFyb3VuZCB1bnRpbFxuICAgICAgICAgICAgICAgIC8vICdyZW1vdmVTdGFsZUJ1Y2tldHMnIGlzIGNhbGxlZC5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyh0aWxlSUQub3ZlcnNjYWxlZFosXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdW3RpbGVJRC5rZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3Qgc3ltYm9sSW5zdGFuY2Ugb2YgYnVja2V0LnN5bWJvbEluc3RhbmNlcykge1xuICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnVzZWRDcm9zc1RpbGVJRHNbdGlsZUlELm92ZXJzY2FsZWRaXSkge1xuICAgICAgICAgICAgdGhpcy51c2VkQ3Jvc3NUaWxlSURzW3RpbGVJRC5vdmVyc2NhbGVkWl0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB6b29tQ3Jvc3NUaWxlSURzID0gdGhpcy51c2VkQ3Jvc3NUaWxlSURzW3RpbGVJRC5vdmVyc2NhbGVkWl07XG5cbiAgICAgICAgZm9yIChjb25zdCB6b29tIGluIHRoaXMuaW5kZXhlcykge1xuICAgICAgICAgICAgY29uc3Qgem9vbUluZGV4ZXMgPSB0aGlzLmluZGV4ZXNbem9vbV07XG4gICAgICAgICAgICBpZiAoTnVtYmVyKHpvb20pID4gdGlsZUlELm92ZXJzY2FsZWRaKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiB6b29tSW5kZXhlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEluZGV4ID0gem9vbUluZGV4ZXNbaWRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRJbmRleC50aWxlSUQuaXNDaGlsZE9mKHRpbGVJRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkSW5kZXguZmluZE1hdGNoZXMoYnVja2V0LnN5bWJvbEluc3RhbmNlcywgdGlsZUlELCB6b29tQ3Jvc3NUaWxlSURzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Q29vcmQgPSB0aWxlSUQuc2NhbGVkVG8oTnVtYmVyKHpvb20pKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRJbmRleCA9IHpvb21JbmRleGVzW3BhcmVudENvb3JkLmtleV07XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEluZGV4LmZpbmRNYXRjaGVzKGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMsIHRpbGVJRCwgem9vbUNyb3NzVGlsZUlEcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBzeW1ib2xJbnN0YW5jZSBvZiBidWNrZXQuc3ltYm9sSW5zdGFuY2VzKSB7XG4gICAgICAgICAgICBpZiAoIXN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEKSB7XG4gICAgICAgICAgICAgICAgLy8gc3ltYm9sIGRpZCBub3QgbWF0Y2ggYW55IGtub3duIHN5bWJvbCwgYXNzaWduIGEgbmV3IGlkXG4gICAgICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQgPSBjcm9zc1RpbGVJRHMuZ2VuZXJhdGUoKTtcbiAgICAgICAgICAgICAgICB6b29tQ3Jvc3NUaWxlSURzW3N5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluZGV4ZXNbdGlsZUlELm92ZXJzY2FsZWRaXVt0aWxlSUQua2V5XSA9IG5ldyBUaWxlTGF5ZXJJbmRleCh0aWxlSUQsIGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMsIGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMoem9vbTogc3RyaW5nIHwgbnVtYmVyLCByZW1vdmVkQnVja2V0OiBUaWxlTGF5ZXJJbmRleCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByZW1vdmVkQnVja2V0LmluZGV4ZWRTeW1ib2xJbnN0YW5jZXMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc3ltYm9sSW5zdGFuY2Ugb2YgcmVtb3ZlZEJ1Y2tldC5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2tleV0pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy51c2VkQ3Jvc3NUaWxlSURzW3pvb21dW3N5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZVN0YWxlQnVja2V0cyhjdXJyZW50SURzOiB7IFtzdHJpbmcgfCBudW1iZXJdOiBib29sZWFuIH0pIHtcbiAgICAgICAgbGV0IHRpbGVzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IHogaW4gdGhpcy5pbmRleGVzKSB7XG4gICAgICAgICAgICBjb25zdCB6b29tSW5kZXhlcyA9IHRoaXMuaW5kZXhlc1t6XTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdGlsZUtleSBpbiB6b29tSW5kZXhlcykge1xuICAgICAgICAgICAgICAgIGlmICghY3VycmVudElEc1t6b29tSW5kZXhlc1t0aWxlS2V5XS5idWNrZXRJbnN0YW5jZUlkXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyh6LCB6b29tSW5kZXhlc1t0aWxlS2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB6b29tSW5kZXhlc1t0aWxlS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgdGlsZXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpbGVzQ2hhbmdlZDtcbiAgICB9XG59XG5cbmNsYXNzIENyb3NzVGlsZVN5bWJvbEluZGV4IHtcbiAgICBsYXllckluZGV4ZXM6IHtbbGF5ZXJJZDogc3RyaW5nXTogQ3Jvc3NUaWxlU3ltYm9sTGF5ZXJJbmRleH07XG4gICAgY3Jvc3NUaWxlSURzOiBDcm9zc1RpbGVJRHM7XG4gICAgbWF4QnVja2V0SW5zdGFuY2VJZDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubGF5ZXJJbmRleGVzID0ge307XG4gICAgICAgIHRoaXMuY3Jvc3NUaWxlSURzID0gbmV3IENyb3NzVGlsZUlEcygpO1xuICAgICAgICB0aGlzLm1heEJ1Y2tldEluc3RhbmNlSWQgPSAwO1xuICAgIH1cblxuICAgIGFkZExheWVyKHN0eWxlTGF5ZXI6IFN0eWxlTGF5ZXIsIHRpbGVzOiBBcnJheTxUaWxlPikge1xuICAgICAgICBsZXQgbGF5ZXJJbmRleCA9IHRoaXMubGF5ZXJJbmRleGVzW3N0eWxlTGF5ZXIuaWRdO1xuICAgICAgICBpZiAobGF5ZXJJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsYXllckluZGV4ID0gdGhpcy5sYXllckluZGV4ZXNbc3R5bGVMYXllci5pZF0gPSBuZXcgQ3Jvc3NUaWxlU3ltYm9sTGF5ZXJJbmRleCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN5bWJvbEJ1Y2tldHNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRCdWNrZXRJRHMgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IHRpbGUgb2YgdGlsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHN5bWJvbEJ1Y2tldCA9ICgodGlsZS5nZXRCdWNrZXQoc3R5bGVMYXllcik6IGFueSk6IFN5bWJvbEJ1Y2tldCk7XG4gICAgICAgICAgICBpZiAoIXN5bWJvbEJ1Y2tldCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmICghc3ltYm9sQnVja2V0LmJ1Y2tldEluc3RhbmNlSWQpIHtcbiAgICAgICAgICAgICAgICBzeW1ib2xCdWNrZXQuYnVja2V0SW5zdGFuY2VJZCA9ICsrdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGF5ZXJJbmRleC5hZGRCdWNrZXQodGlsZS50aWxlSUQsIHN5bWJvbEJ1Y2tldCwgdGhpcy5jcm9zc1RpbGVJRHMpKSB7XG4gICAgICAgICAgICAgICAgc3ltYm9sQnVja2V0c0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudEJ1Y2tldElEc1tzeW1ib2xCdWNrZXQuYnVja2V0SW5zdGFuY2VJZF0gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxheWVySW5kZXgucmVtb3ZlU3RhbGVCdWNrZXRzKGN1cnJlbnRCdWNrZXRJRHMpKSB7XG4gICAgICAgICAgICBzeW1ib2xCdWNrZXRzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3ltYm9sQnVja2V0c0NoYW5nZWQ7XG4gICAgfVxuXG4gICAgcHJ1bmVVbnVzZWRMYXllcnModXNlZExheWVyczogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICBjb25zdCB1c2VkTGF5ZXJNYXAgPSB7fTtcbiAgICAgICAgdXNlZExheWVycy5mb3JFYWNoKCh1c2VkTGF5ZXIpID0+IHtcbiAgICAgICAgICAgIHVzZWRMYXllck1hcFt1c2VkTGF5ZXJdID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiB0aGlzLmxheWVySW5kZXhlcykge1xuICAgICAgICAgICAgaWYgKCF1c2VkTGF5ZXJNYXBbbGF5ZXJJZF0pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5sYXllckluZGV4ZXNbbGF5ZXJJZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENyb3NzVGlsZVN5bWJvbEluZGV4O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgeyBFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgU3R5bGVMYXllciBmcm9tICcuL3N0eWxlX2xheWVyJztcbmltcG9ydCBjcmVhdGVTdHlsZUxheWVyIGZyb20gJy4vY3JlYXRlX3N0eWxlX2xheWVyJztcbmltcG9ydCBsb2FkU3ByaXRlIGZyb20gJy4vbG9hZF9zcHJpdGUnO1xuaW1wb3J0IEltYWdlTWFuYWdlciBmcm9tICcuLi9yZW5kZXIvaW1hZ2VfbWFuYWdlcic7XG5pbXBvcnQgR2x5cGhNYW5hZ2VyIGZyb20gJy4uL3JlbmRlci9nbHlwaF9tYW5hZ2VyJztcbmltcG9ydCBMaWdodCBmcm9tICcuL2xpZ2h0JztcbmltcG9ydCBMaW5lQXRsYXMgZnJvbSAnLi4vcmVuZGVyL2xpbmVfYXRsYXMnO1xuaW1wb3J0IHsgcGljaywgY2xvbmUsIGV4dGVuZCwgZGVlcEVxdWFsLCBmaWx0ZXJPYmplY3QsIG1hcE9iamVjdCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBnZXRKU09OLCBSZXNvdXJjZVR5cGUgfSBmcm9tICcuLi91dGlsL2FqYXgnO1xuaW1wb3J0IHsgaXNNYXBib3hVUkwsIG5vcm1hbGl6ZVN0eWxlVVJMIH0gZnJvbSAnLi4vdXRpbC9tYXBib3gnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcbmltcG9ydCBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlcic7XG5pbXBvcnQgeyB2YWxpZGF0ZVN0eWxlLCBlbWl0VmFsaWRhdGlvbkVycm9ycyB9IGZyb20gJy4vdmFsaWRhdGVfc3R5bGUnO1xuaW1wb3J0IHtcbiAgICBnZXRUeXBlIGFzIGdldFNvdXJjZVR5cGUsXG4gICAgc2V0VHlwZSBhcyBzZXRTb3VyY2VUeXBlXG59IGZyb20gJy4uL3NvdXJjZS9zb3VyY2UnO1xuaW1wb3J0IHsgcXVlcnlSZW5kZXJlZEZlYXR1cmVzLCBxdWVyeVNvdXJjZUZlYXR1cmVzIH0gZnJvbSAnLi4vc291cmNlL3F1ZXJ5X2ZlYXR1cmVzJztcbmltcG9ydCBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCBHZW9KU09OU291cmNlIGZyb20gJy4uL3NvdXJjZS9nZW9qc29uX3NvdXJjZSc7XG5pbXBvcnQgc3R5bGVTcGVjIGZyb20gJy4uL3N0eWxlLXNwZWMvcmVmZXJlbmNlL2xhdGVzdCc7XG5pbXBvcnQgZ2V0V29ya2VyUG9vbCBmcm9tICcuLi91dGlsL2dsb2JhbF93b3JrZXJfcG9vbCc7XG5pbXBvcnQgZGVyZWYgZnJvbSAnLi4vc3R5bGUtc3BlYy9kZXJlZic7XG5pbXBvcnQgZGlmZlN0eWxlcywge29wZXJhdGlvbnMgYXMgZGlmZk9wZXJhdGlvbnN9IGZyb20gJy4uL3N0eWxlLXNwZWMvZGlmZic7XG5pbXBvcnQge1xuICAgIHJlZ2lzdGVyRm9yUGx1Z2luQXZhaWxhYmlsaXR5LFxuICAgIGV2ZW50ZWQgYXMgcnRsVGV4dFBsdWdpbkV2ZW50ZWRcbn0gZnJvbSAnLi4vc291cmNlL3J0bF90ZXh0X3BsdWdpbic7XG5pbXBvcnQgUGF1c2VhYmxlUGxhY2VtZW50IGZyb20gJy4vcGF1c2VhYmxlX3BsYWNlbWVudCc7XG5pbXBvcnQgWm9vbUhpc3RvcnkgZnJvbSAnLi96b29tX2hpc3RvcnknO1xuaW1wb3J0IENyb3NzVGlsZVN5bWJvbEluZGV4IGZyb20gJy4uL3N5bWJvbC9jcm9zc190aWxlX3N5bWJvbF9pbmRleCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgVHJhbnNmb3JtIGZyb20gJy4uL2dlby90cmFuc2Zvcm0nO1xuaW1wb3J0IHR5cGUge1NvdXJjZX0gZnJvbSAnLi4vc291cmNlL3NvdXJjZSc7XG5pbXBvcnQgdHlwZSB7U3R5bGVJbWFnZX0gZnJvbSAnLi9zdHlsZV9pbWFnZSc7XG5pbXBvcnQgdHlwZSB7U3R5bGVHbHlwaH0gZnJvbSAnLi9zdHlsZV9nbHlwaCc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrJztcbmltcG9ydCB0eXBlIEV2YWx1YXRpb25QYXJhbWV0ZXJzIGZyb20gJy4vZXZhbHVhdGlvbl9wYXJhbWV0ZXJzJztcbmltcG9ydCB0eXBlIFBsYWNlbWVudCBmcm9tICcuLi9zeW1ib2wvcGxhY2VtZW50JztcblxuY29uc3Qgc3VwcG9ydGVkRGlmZk9wZXJhdGlvbnMgPSBwaWNrKGRpZmZPcGVyYXRpb25zLCBbXG4gICAgJ2FkZExheWVyJyxcbiAgICAncmVtb3ZlTGF5ZXInLFxuICAgICdzZXRQYWludFByb3BlcnR5JyxcbiAgICAnc2V0TGF5b3V0UHJvcGVydHknLFxuICAgICdzZXRGaWx0ZXInLFxuICAgICdhZGRTb3VyY2UnLFxuICAgICdyZW1vdmVTb3VyY2UnLFxuICAgICdzZXRMYXllclpvb21SYW5nZScsXG4gICAgJ3NldExpZ2h0JyxcbiAgICAnc2V0VHJhbnNpdGlvbicsXG4gICAgJ3NldEdlb0pTT05Tb3VyY2VEYXRhJ1xuICAgIC8vICdzZXRHbHlwaHMnLFxuICAgIC8vICdzZXRTcHJpdGUnLFxuXSk7XG5cbmNvbnN0IGlnbm9yZWREaWZmT3BlcmF0aW9ucyA9IHBpY2soZGlmZk9wZXJhdGlvbnMsIFtcbiAgICAnc2V0Q2VudGVyJyxcbiAgICAnc2V0Wm9vbScsXG4gICAgJ3NldEJlYXJpbmcnLFxuICAgICdzZXRQaXRjaCdcbl0pO1xuXG5leHBvcnQgdHlwZSBTdHlsZU9wdGlvbnMgPSB7XG4gICAgdmFsaWRhdGU/OiBib29sZWFuLFxuICAgIGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT86IHN0cmluZ1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBTdHlsZSBleHRlbmRzIEV2ZW50ZWQge1xuICAgIG1hcDogTWFwO1xuICAgIHN0eWxlc2hlZXQ6IFN0eWxlU3BlY2lmaWNhdGlvbjtcbiAgICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICAgIGltYWdlTWFuYWdlcjogSW1hZ2VNYW5hZ2VyO1xuICAgIGdseXBoTWFuYWdlcjogR2x5cGhNYW5hZ2VyO1xuICAgIGxpbmVBdGxhczogTGluZUF0bGFzO1xuICAgIGxpZ2h0OiBMaWdodDtcblxuICAgIF9sYXllcnM6IHtbc3RyaW5nXTogU3R5bGVMYXllcn07XG4gICAgX29yZGVyOiBBcnJheTxzdHJpbmc+O1xuICAgIHNvdXJjZUNhY2hlczoge1tzdHJpbmddOiBTb3VyY2VDYWNoZX07XG4gICAgem9vbUhpc3Rvcnk6IFpvb21IaXN0b3J5O1xuICAgIF9sb2FkZWQ6IGJvb2xlYW47XG4gICAgX3J0bFRleHRQbHVnaW5DYWxsYmFjazogRnVuY3Rpb247XG4gICAgX2NoYW5nZWQ6IGJvb2xlYW47XG4gICAgX3VwZGF0ZWRTb3VyY2VzOiB7W3N0cmluZ106ICdjbGVhcicgfCAncmVsb2FkJ307XG4gICAgX3VwZGF0ZWRMYXllcnM6IHtbc3RyaW5nXTogdHJ1ZX07XG4gICAgX3JlbW92ZWRMYXllcnM6IHtbc3RyaW5nXTogU3R5bGVMYXllcn07XG4gICAgX3VwZGF0ZWRQYWludFByb3BzOiB7W2xheWVyOiBzdHJpbmddOiB0cnVlfTtcbiAgICBfbGF5ZXJPcmRlckNoYW5nZWQ6IGJvb2xlYW47XG5cbiAgICBjcm9zc1RpbGVTeW1ib2xJbmRleDogQ3Jvc3NUaWxlU3ltYm9sSW5kZXg7XG4gICAgcGF1c2VhYmxlUGxhY2VtZW50OiBQYXVzZWFibGVQbGFjZW1lbnQ7XG4gICAgcGxhY2VtZW50OiBQbGFjZW1lbnQ7XG4gICAgejogbnVtYmVyO1xuXG4gICAgLy8gZXhwb3NlZCB0byBhbGxvdyBzdHViYmluZyBieSB1bml0IHRlc3RzXG4gICAgc3RhdGljIGdldFNvdXJjZVR5cGU6IHR5cGVvZiBnZXRTb3VyY2VUeXBlO1xuICAgIHN0YXRpYyBzZXRTb3VyY2VUeXBlOiB0eXBlb2Ygc2V0U291cmNlVHlwZTtcbiAgICBzdGF0aWMgcmVnaXN0ZXJGb3JQbHVnaW5BdmFpbGFiaWxpdHk6IHR5cGVvZiByZWdpc3RlckZvclBsdWdpbkF2YWlsYWJpbGl0eTtcblxuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwLCBvcHRpb25zOiBTdHlsZU9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcihnZXRXb3JrZXJQb29sKCksIHRoaXMpO1xuICAgICAgICB0aGlzLmltYWdlTWFuYWdlciA9IG5ldyBJbWFnZU1hbmFnZXIoKTtcbiAgICAgICAgdGhpcy5nbHlwaE1hbmFnZXIgPSBuZXcgR2x5cGhNYW5hZ2VyKG1hcC5fdHJhbnNmb3JtUmVxdWVzdCwgb3B0aW9ucy5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHkpO1xuICAgICAgICB0aGlzLmxpbmVBdGxhcyA9IG5ldyBMaW5lQXRsYXMoMjU2LCA1MTIpO1xuICAgICAgICB0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4ID0gbmV3IENyb3NzVGlsZVN5bWJvbEluZGV4KCk7XG5cbiAgICAgICAgdGhpcy5fbGF5ZXJzID0ge307XG4gICAgICAgIHRoaXMuX29yZGVyICA9IFtdO1xuICAgICAgICB0aGlzLnNvdXJjZUNhY2hlcyA9IHt9O1xuICAgICAgICB0aGlzLnpvb21IaXN0b3J5ID0gbmV3IFpvb21IaXN0b3J5KCk7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3Jlc2V0VXBkYXRlcygpO1xuXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2sgPSBTdHlsZS5yZWdpc3RlckZvclBsdWdpbkF2YWlsYWJpbGl0eSgoYXJncykgPT4ge1xuICAgICAgICAgICAgc2VsZi5kaXNwYXRjaGVyLmJyb2FkY2FzdCgnbG9hZFJUTFRleHRQbHVnaW4nLCBhcmdzLnBsdWdpblVSTCwgYXJncy5lcnJvckNhbGxiYWNrKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gc2VsZi5zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNvdXJjZUNhY2hlc1tpZF0ucmVsb2FkKCk7IC8vIFNob3VsZCBiZSBhIG5vLW9wIGlmIHRoZSBwbHVnaW4gbG9hZHMgYmVmb3JlIGFueSB0aWxlcyBsb2FkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub24oJ2RhdGEnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhVHlwZSAhPT0gJ3NvdXJjZScgfHwgZXZlbnQuc291cmNlRGF0YVR5cGUgIT09ICdtZXRhZGF0YScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5zb3VyY2VDYWNoZXNbZXZlbnQuc291cmNlSWRdO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2VDYWNoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlQ2FjaGUuZ2V0U291cmNlKCk7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZSB8fCAhc291cmNlLnZlY3RvckxheWVySWRzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJJZF07XG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLnNvdXJjZSA9PT0gc291cmNlLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9hZFVSTCh1cmw6IHN0cmluZywgb3B0aW9uczoge1xuICAgICAgICB2YWxpZGF0ZT86IGJvb2xlYW4sXG4gICAgICAgIGFjY2Vzc1Rva2VuPzogc3RyaW5nXG4gICAgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGFsb2FkaW5nJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuXG4gICAgICAgIGNvbnN0IHZhbGlkYXRlID0gdHlwZW9mIG9wdGlvbnMudmFsaWRhdGUgPT09ICdib29sZWFuJyA/XG4gICAgICAgICAgICBvcHRpb25zLnZhbGlkYXRlIDogIWlzTWFwYm94VVJMKHVybCk7XG5cbiAgICAgICAgdXJsID0gbm9ybWFsaXplU3R5bGVVUkwodXJsLCBvcHRpb25zLmFjY2Vzc1Rva2VuKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlN0eWxlKTtcblxuICAgICAgICBnZXRKU09OKHJlcXVlc3QsIChlcnJvciwganNvbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KGVycm9yKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGpzb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkKChqc29uOiBhbnkpLCB2YWxpZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGxvYWRKU09OKGpzb246IFN0eWxlU3BlY2lmaWNhdGlvbiwgb3B0aW9uczoge1xuICAgICAgICB2YWxpZGF0ZT86IGJvb2xlYW5cbiAgICB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YWxvYWRpbmcnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG5cbiAgICAgICAgYnJvd3Nlci5mcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkKGpzb24sIG9wdGlvbnMudmFsaWRhdGUgIT09IGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2xvYWQoanNvbjogU3R5bGVTcGVjaWZpY2F0aW9uLCB2YWxpZGF0ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodmFsaWRhdGUgJiYgZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcywgdmFsaWRhdGVTdHlsZShqc29uKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc3R5bGVzaGVldCA9IGpzb247XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBqc29uLnNvdXJjZXMpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkU291cmNlKGlkLCBqc29uLnNvdXJjZXNbaWRdLCB7dmFsaWRhdGU6IGZhbHNlfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoanNvbi5zcHJpdGUpIHtcbiAgICAgICAgICAgIGxvYWRTcHJpdGUoanNvbi5zcHJpdGUsIHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0LCAoZXJyLCBpbWFnZXMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGltYWdlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIGltYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIuYWRkSW1hZ2UoaWQsIGltYWdlc1tpZF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIuc2V0TG9hZGVkKHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2x5cGhNYW5hZ2VyLnNldFVSTChqc29uLmdseXBocyk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXJzID0gZGVyZWYodGhpcy5zdHlsZXNoZWV0LmxheWVycyk7XG5cbiAgICAgICAgdGhpcy5fb3JkZXIgPSBsYXllcnMubWFwKChsYXllcikgPT4gbGF5ZXIuaWQpO1xuXG4gICAgICAgIHRoaXMuX2xheWVycyA9IHt9O1xuICAgICAgICBmb3IgKGxldCBsYXllciBvZiBsYXllcnMpIHtcbiAgICAgICAgICAgIGxheWVyID0gY3JlYXRlU3R5bGVMYXllcihsYXllcik7XG4gICAgICAgICAgICBsYXllci5zZXRFdmVudGVkUGFyZW50KHRoaXMsIHtsYXllcjoge2lkOiBsYXllci5pZH19KTtcbiAgICAgICAgICAgIHRoaXMuX2xheWVyc1tsYXllci5pZF0gPSBsYXllcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoJ3NldExheWVycycsIHRoaXMuX3NlcmlhbGl6ZUxheWVycyh0aGlzLl9vcmRlcikpO1xuXG4gICAgICAgIHRoaXMubGlnaHQgPSBuZXcgTGlnaHQodGhpcy5zdHlsZXNoZWV0LmxpZ2h0KTtcblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdzdHlsZS5sb2FkJykpO1xuICAgIH1cblxuICAgIF92YWxpZGF0ZUxheWVyKGxheWVyOiBTdHlsZUxheWVyKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5zb3VyY2VDYWNoZXNbbGF5ZXIuc291cmNlXTtcbiAgICAgICAgaWYgKCFzb3VyY2VDYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlTGF5ZXIgPSBsYXllci5zb3VyY2VMYXllcjtcbiAgICAgICAgaWYgKCFzb3VyY2VMYXllcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlQ2FjaGUuZ2V0U291cmNlKCk7XG4gICAgICAgIGlmIChzb3VyY2UudHlwZSA9PT0gJ2dlb2pzb24nIHx8IChzb3VyY2UudmVjdG9yTGF5ZXJJZHMgJiYgc291cmNlLnZlY3RvckxheWVySWRzLmluZGV4T2Yoc291cmNlTGF5ZXIpID09PSAtMSkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgYFNvdXJjZSBsYXllciBcIiR7c291cmNlTGF5ZXJ9XCIgYCArXG4gICAgICAgICAgICAgICAgYGRvZXMgbm90IGV4aXN0IG9uIHNvdXJjZSBcIiR7c291cmNlLmlkfVwiIGAgK1xuICAgICAgICAgICAgICAgIGBhcyBzcGVjaWZpZWQgYnkgc3R5bGUgbGF5ZXIgXCIke2xheWVyLmlkfVwiYFxuICAgICAgICAgICAgKSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZGVkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xvYWRlZClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5fdXBkYXRlZFNvdXJjZXMpLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuc291cmNlQ2FjaGVzKVxuICAgICAgICAgICAgaWYgKCF0aGlzLnNvdXJjZUNhY2hlc1tpZF0ubG9hZGVkKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmICghdGhpcy5pbWFnZU1hbmFnZXIuaXNMb2FkZWQoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfc2VyaWFsaXplTGF5ZXJzKGlkczogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICByZXR1cm4gaWRzLm1hcCgoaWQpID0+IHRoaXMuX2xheWVyc1tpZF0uc2VyaWFsaXplKCkpO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb25zKCkge1xuICAgICAgICBpZiAodGhpcy5saWdodCAmJiB0aGlzLmxpZ2h0Lmhhc1RyYW5zaXRpb24oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zb3VyY2VDYWNoZXNbaWRdLmhhc1RyYW5zaXRpb24oKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl9sYXllcnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sYXllcnNbaWRdLmhhc1RyYW5zaXRpb24oKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9jaGVja0xvYWRlZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sb2FkZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3R5bGUgaXMgbm90IGRvbmUgbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgcXVldWVkIHN0eWxlIHVwZGF0ZXMgaW4gYSBiYXRjaCBhbmQgcmVjYWxjdWxhdGUgem9vbS1kZXBlbmRlbnQgcGFpbnQgcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICB1cGRhdGUocGFyYW1ldGVyczogRXZhbHVhdGlvblBhcmFtZXRlcnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sb2FkZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jaGFuZ2VkKSB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkSWRzID0gT2JqZWN0LmtleXModGhpcy5fdXBkYXRlZExheWVycyk7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVkSWRzID0gT2JqZWN0LmtleXModGhpcy5fcmVtb3ZlZExheWVycyk7XG5cbiAgICAgICAgICAgIGlmICh1cGRhdGVkSWRzLmxlbmd0aCB8fCByZW1vdmVkSWRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVdvcmtlckxheWVycyh1cGRhdGVkSWRzLCByZW1vdmVkSWRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fdXBkYXRlZFNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB0aGlzLl91cGRhdGVkU291cmNlc1tpZF07XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGFjdGlvbiA9PT0gJ3JlbG9hZCcgfHwgYWN0aW9uID09PSAnY2xlYXInKTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09PSAncmVsb2FkJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWxvYWRTb3VyY2UoaWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAnY2xlYXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyU291cmNlKGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fdXBkYXRlZFBhaW50UHJvcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXllcnNbaWRdLnVwZGF0ZVRyYW5zaXRpb25zKHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxpZ2h0LnVwZGF0ZVRyYW5zaXRpb25zKHBhcmFtZXRlcnMpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZXNldFVwZGF0ZXMoKTtcblxuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3N0eWxlJ30pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3Qgc291cmNlSWQgaW4gdGhpcy5zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW3NvdXJjZUlkXS51c2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgb2YgdGhpcy5fb3JkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySWRdO1xuXG4gICAgICAgICAgICBsYXllci5yZWNhbGN1bGF0ZShwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIGlmICghbGF5ZXIuaXNIaWRkZW4ocGFyYW1ldGVycy56b29tKSAmJiBsYXllci5zb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZUNhY2hlc1tsYXllci5zb3VyY2VdLnVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5saWdodC5yZWNhbGN1bGF0ZShwYXJhbWV0ZXJzKTtcbiAgICAgICAgdGhpcy56ID0gcGFyYW1ldGVycy56b29tO1xuICAgIH1cblxuICAgIF91cGRhdGVXb3JrZXJMYXllcnModXBkYXRlZElkczogQXJyYXk8c3RyaW5nPiwgcmVtb3ZlZElkczogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCd1cGRhdGVMYXllcnMnLCB7XG4gICAgICAgICAgICBsYXllcnM6IHRoaXMuX3NlcmlhbGl6ZUxheWVycyh1cGRhdGVkSWRzKSxcbiAgICAgICAgICAgIHJlbW92ZWRJZHM6IHJlbW92ZWRJZHNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3Jlc2V0VXBkYXRlcygpIHtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZWRMYXllcnMgPSB7fTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlZExheWVycyA9IHt9O1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZWRTb3VyY2VzID0ge307XG4gICAgICAgIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoaXMgc3R5bGUncyBzdGF0ZSB0byBtYXRjaCB0aGUgZ2l2ZW4gc3R5bGUgSlNPTiwgcGVyZm9ybWluZyBvbmx5XG4gICAgICogdGhlIG5lY2Vzc2FyeSBtdXRhdGlvbnMuXG4gICAgICpcbiAgICAgKiBNYXkgdGhyb3cgYW4gRXJyb3IgKCdVbmltcGxlbWVudGVkOiBNRVRIT0QnKSBpZiB0aGUgbWFwYm94LWdsLXN0eWxlLXNwZWNcbiAgICAgKiBkaWZmIGFsZ29yaXRobSBwcm9kdWNlcyBhbiBvcGVyYXRpb24gdGhhdCBpcyBub3Qgc3VwcG9ydGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgYW55IGNoYW5nZXMgd2VyZSBtYWRlOyBmYWxzZSBvdGhlcndpc2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHNldFN0YXRlKG5leHRTdGF0ZTogU3R5bGVTcGVjaWZpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgaWYgKGVtaXRWYWxpZGF0aW9uRXJyb3JzKHRoaXMsIHZhbGlkYXRlU3R5bGUobmV4dFN0YXRlKSkpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBuZXh0U3RhdGUgPSBjbG9uZShuZXh0U3RhdGUpO1xuICAgICAgICBuZXh0U3RhdGUubGF5ZXJzID0gZGVyZWYobmV4dFN0YXRlLmxheWVycyk7XG5cbiAgICAgICAgY29uc3QgY2hhbmdlcyA9IGRpZmZTdHlsZXModGhpcy5zZXJpYWxpemUoKSwgbmV4dFN0YXRlKVxuICAgICAgICAgICAgLmZpbHRlcihvcCA9PiAhKG9wLmNvbW1hbmQgaW4gaWdub3JlZERpZmZPcGVyYXRpb25zKSk7XG5cbiAgICAgICAgaWYgKGNoYW5nZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1bmltcGxlbWVudGVkT3BzID0gY2hhbmdlcy5maWx0ZXIob3AgPT4gIShvcC5jb21tYW5kIGluIHN1cHBvcnRlZERpZmZPcGVyYXRpb25zKSk7XG4gICAgICAgIGlmICh1bmltcGxlbWVudGVkT3BzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5pbXBsZW1lbnRlZDogJHt1bmltcGxlbWVudGVkT3BzLm1hcChvcCA9PiBvcC5jb21tYW5kKS5qb2luKCcsICcpfS5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoYW5nZXMuZm9yRWFjaCgob3ApID0+IHtcbiAgICAgICAgICAgIGlmIChvcC5jb21tYW5kID09PSAnc2V0VHJhbnNpdGlvbicpIHtcbiAgICAgICAgICAgICAgICAvLyBgdHJhbnNpdGlvbmAgaXMgYWx3YXlzIHJlYWQgZGlyZWN0bHkgb2ZmIG9mXG4gICAgICAgICAgICAgICAgLy8gYHRoaXMuc3R5bGVzaGVldGAsIHdoaWNoIHdlIHVwZGF0ZSBiZWxvd1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICh0aGlzOiBhbnkpW29wLmNvbW1hbmRdLmFwcGx5KHRoaXMsIG9wLmFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN0eWxlc2hlZXQgPSBuZXh0U3RhdGU7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgYWRkSW1hZ2UoaWQ6IHN0cmluZywgaW1hZ2U6IFN0eWxlSW1hZ2UpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0SW1hZ2UoaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcignQW4gaW1hZ2Ugd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMuJykpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmltYWdlTWFuYWdlci5hZGRJbWFnZShpZCwgaW1hZ2UpO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuICAgIH1cblxuICAgIGdldEltYWdlKGlkOiBzdHJpbmcpOiA/U3R5bGVJbWFnZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZShpZCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlSW1hZ2UoaWQ6IHN0cmluZykge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0SW1hZ2UoaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcignTm8gaW1hZ2Ugd2l0aCB0aGlzIG5hbWUgZXhpc3RzLicpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIucmVtb3ZlSW1hZ2UoaWQpO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuICAgIH1cblxuICAgIGFkZFNvdXJjZShpZDogc3RyaW5nLCBzb3VyY2U6IFNvdXJjZVNwZWNpZmljYXRpb24sIG9wdGlvbnM/OiB7dmFsaWRhdGU/OiBib29sZWFufSkge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZUNhY2hlc1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBhbHJlYWR5IGEgc291cmNlIHdpdGggdGhpcyBJRCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzb3VyY2UudHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgdHlwZSBwcm9wZXJ0eSBtdXN0IGJlIGRlZmluZWQsIGJ1dCB0aGUgb25seSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgd2VyZSBnaXZlbjogJHtPYmplY3Qua2V5cyhzb3VyY2UpLmpvaW4oJywgJyl9LmApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnVpbHRJbnMgPSBbJ3ZlY3RvcicsICdyYXN0ZXInLCAnZ2VvanNvbicsICd2aWRlbycsICdpbWFnZScsICdjYW52YXMnXTtcbiAgICAgICAgY29uc3Qgc2hvdWxkVmFsaWRhdGUgPSBidWlsdElucy5pbmRleE9mKHNvdXJjZS50eXBlKSA+PSAwO1xuICAgICAgICBpZiAoc2hvdWxkVmFsaWRhdGUgJiYgdGhpcy5fdmFsaWRhdGUodmFsaWRhdGVTdHlsZS5zb3VyY2UsIGBzb3VyY2VzLiR7aWR9YCwgc291cmNlLCBudWxsLCBvcHRpb25zKSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLm1hcCAmJiB0aGlzLm1hcC5fY29sbGVjdFJlc291cmNlVGltaW5nKSAoc291cmNlOiBhbnkpLmNvbGxlY3RSZXNvdXJjZVRpbWluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5zb3VyY2VDYWNoZXNbaWRdID0gbmV3IFNvdXJjZUNhY2hlKGlkLCBzb3VyY2UsIHRoaXMuZGlzcGF0Y2hlcik7XG4gICAgICAgIHNvdXJjZUNhY2hlLnN0eWxlID0gdGhpcztcbiAgICAgICAgc291cmNlQ2FjaGUuc2V0RXZlbnRlZFBhcmVudCh0aGlzLCAoKSA9PiAoe1xuICAgICAgICAgICAgaXNTb3VyY2VMb2FkZWQ6IHRoaXMubG9hZGVkKCksXG4gICAgICAgICAgICBzb3VyY2U6IHNvdXJjZUNhY2hlLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgc291cmNlSWQ6IGlkXG4gICAgICAgIH0pKTtcblxuICAgICAgICBzb3VyY2VDYWNoZS5vbkFkZCh0aGlzLm1hcCk7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHNvdXJjZSBmcm9tIHRoaXMgc3R5bGVzaGVldCwgZ2l2ZW4gaXRzIGlkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBpZCBvZiB0aGUgc291cmNlIHRvIHJlbW92ZVxuICAgICAqIEB0aHJvd3Mge0Vycm9yfSBpZiBubyBzb3VyY2UgaXMgZm91bmQgd2l0aCB0aGUgZ2l2ZW4gSURcbiAgICAgKi9cbiAgICByZW1vdmVTb3VyY2UoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZUNhY2hlc1tpZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBzb3VyY2Ugd2l0aCB0aGlzIElEJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBsYXllcklkIGluIHRoaXMuX2xheWVycykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xheWVyc1tsYXllcklkXS5zb3VyY2UgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFNvdXJjZSBcIiR7aWR9XCIgY2Fubm90IGJlIHJlbW92ZWQgd2hpbGUgbGF5ZXIgXCIke2xheWVySWR9XCIgaXMgdXNpbmcgaXQuYCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5zb3VyY2VDYWNoZXNbaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5zb3VyY2VDYWNoZXNbaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5fdXBkYXRlZFNvdXJjZXNbaWRdO1xuICAgICAgICBzb3VyY2VDYWNoZS5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJywgZGF0YVR5cGU6J3NvdXJjZScsIHNvdXJjZUlkOiBpZH0pKTtcbiAgICAgICAgc291cmNlQ2FjaGUuc2V0RXZlbnRlZFBhcmVudChudWxsKTtcbiAgICAgICAgc291cmNlQ2FjaGUuY2xlYXJUaWxlcygpO1xuXG4gICAgICAgIGlmIChzb3VyY2VDYWNoZS5vblJlbW92ZSkgc291cmNlQ2FjaGUub25SZW1vdmUodGhpcy5tYXApO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFNldCB0aGUgZGF0YSBvZiBhIEdlb0pTT04gc291cmNlLCBnaXZlbiBpdHMgaWQuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgaWQgb2YgdGhlIHNvdXJjZVxuICAgICogQHBhcmFtIHtHZW9KU09OfHN0cmluZ30gZGF0YSBHZW9KU09OIHNvdXJjZVxuICAgICovXG4gICAgc2V0R2VvSlNPTlNvdXJjZURhdGEoaWQ6IHN0cmluZywgZGF0YTogR2VvSlNPTiB8IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGFzc2VydCh0aGlzLnNvdXJjZUNhY2hlc1tpZF0gIT09IHVuZGVmaW5lZCwgJ1RoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIHRoaXMgSUQnKTtcbiAgICAgICAgY29uc3QgZ2VvanNvblNvdXJjZTogR2VvSlNPTlNvdXJjZSA9ICh0aGlzLnNvdXJjZUNhY2hlc1tpZF0uZ2V0U291cmNlKCk6IGFueSk7XG4gICAgICAgIGFzc2VydChnZW9qc29uU291cmNlLnR5cGUgPT09ICdnZW9qc29uJyk7XG5cbiAgICAgICAgZ2VvanNvblNvdXJjZS5zZXREYXRhKGRhdGEpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBzb3VyY2UgYnkgaWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIGlkIG9mIHRoZSBkZXNpcmVkIHNvdXJjZVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IHNvdXJjZVxuICAgICAqL1xuICAgIGdldFNvdXJjZShpZDogc3RyaW5nKTogT2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlQ2FjaGVzW2lkXSAmJiB0aGlzLnNvdXJjZUNhY2hlc1tpZF0uZ2V0U291cmNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbGF5ZXIgdG8gdGhlIG1hcCBzdHlsZS4gVGhlIGxheWVyIHdpbGwgYmUgaW5zZXJ0ZWQgYmVmb3JlIHRoZSBsYXllciB3aXRoXG4gICAgICogSUQgYGJlZm9yZWAsIG9yIGFwcGVuZGVkIGlmIGBiZWZvcmVgIGlzIG9taXR0ZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiZWZvcmVdIElEIG9mIGFuIGV4aXN0aW5nIGxheWVyIHRvIGluc2VydCBiZWZvcmVcbiAgICAgKi9cbiAgICBhZGRMYXllcihsYXllck9iamVjdDogTGF5ZXJTcGVjaWZpY2F0aW9uLCBiZWZvcmU/OiBzdHJpbmcsIG9wdGlvbnM/OiB7dmFsaWRhdGU/OiBib29sZWFufSkge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGlkID0gbGF5ZXJPYmplY3QuaWQ7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0TGF5ZXIoaWQpKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtpZH1cIiBhbHJlYWR5IGV4aXN0cyBvbiB0aGlzIG1hcGApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGxheWVyT2JqZWN0LnNvdXJjZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkU291cmNlKGlkLCBsYXllck9iamVjdC5zb3VyY2UpO1xuICAgICAgICAgICAgbGF5ZXJPYmplY3QgPSBjbG9uZShsYXllck9iamVjdCk7XG4gICAgICAgICAgICBsYXllck9iamVjdCA9IChleHRlbmQobGF5ZXJPYmplY3QsIHtzb3VyY2U6IGlkfSk6IGFueSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGlzIGxheWVyIGlzIG5vdCBpbiB0aGUgc3R5bGUubGF5ZXJzIGFycmF5LCBzbyB3ZSBwYXNzIGFuIGltcG9zc2libGUgYXJyYXkgaW5kZXhcbiAgICAgICAgaWYgKHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlU3R5bGUubGF5ZXIsXG4gICAgICAgICAgICBgbGF5ZXJzLiR7aWR9YCwgbGF5ZXJPYmplY3QsIHthcnJheUluZGV4OiAtMX0sIG9wdGlvbnMpKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSBjcmVhdGVTdHlsZUxheWVyKGxheWVyT2JqZWN0KTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVMYXllcihsYXllcik7XG5cbiAgICAgICAgbGF5ZXIuc2V0RXZlbnRlZFBhcmVudCh0aGlzLCB7bGF5ZXI6IHtpZDogaWR9fSk7XG5cblxuICAgICAgICBjb25zdCBpbmRleCA9IGJlZm9yZSA/IHRoaXMuX29yZGVyLmluZGV4T2YoYmVmb3JlKSA6IHRoaXMuX29yZGVyLmxlbmd0aDtcbiAgICAgICAgaWYgKGJlZm9yZSAmJiBpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYExheWVyIHdpdGggaWQgXCIke2JlZm9yZX1cIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fb3JkZXIuc3BsaWNlKGluZGV4LCAwLCBpZCk7XG4gICAgICAgIHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl9sYXllcnNbaWRdID0gbGF5ZXI7XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlbW92ZWRMYXllcnNbaWRdICYmIGxheWVyLnNvdXJjZSkge1xuICAgICAgICAgICAgLy8gSWYsIGluIHRoZSBjdXJyZW50IGJhdGNoLCB3ZSBoYXZlIGFscmVhZHkgcmVtb3ZlZCB0aGlzIGxheWVyXG4gICAgICAgICAgICAvLyBhbmQgd2UgYXJlIG5vdyByZS1hZGRpbmcgaXQgd2l0aCBhIGRpZmZlcmVudCBgdHlwZWAsIHRoZW4gd2VcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gY2xlYXIgKHJhdGhlciB0aGFuIGp1c3QgcmVsb2FkKSB0aGUgdW5kZXJ5bGluZyBzb3VyY2Unc1xuICAgICAgICAgICAgLy8gdGlsZXMuICBPdGhlcndpc2UsIHRpbGVzIG1hcmtlZCAncmVsb2FkaW5nJyB3aWxsIGhhdmUgYnVja2V0cyAvXG4gICAgICAgICAgICAvLyBidWZmZXJzIHRoYXQgYXJlIHNldCB1cCBmb3IgdGhlIF9wcmV2aW91c18gdmVyc2lvbiBvZiB0aGlzXG4gICAgICAgICAgICAvLyBsYXllciwgY2F1c2luZywgZS5nLjpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8zNjMzXG4gICAgICAgICAgICBjb25zdCByZW1vdmVkID0gdGhpcy5fcmVtb3ZlZExheWVyc1tpZF07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcmVtb3ZlZExheWVyc1tpZF07XG4gICAgICAgICAgICBpZiAocmVtb3ZlZC50eXBlICE9PSBsYXllci50eXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlZFNvdXJjZXNbbGF5ZXIuc291cmNlXSA9ICdjbGVhcic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2xheWVyLnNvdXJjZV0gPSAncmVsb2FkJztcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZUNhY2hlc1tsYXllci5zb3VyY2VdLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXIobGF5ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIGEgbGF5ZXIgdG8gYSBkaWZmZXJlbnQgei1wb3NpdGlvbi4gVGhlIGxheWVyIHdpbGwgYmUgaW5zZXJ0ZWQgYmVmb3JlIHRoZSBsYXllciB3aXRoXG4gICAgICogSUQgYGJlZm9yZWAsIG9yIGFwcGVuZGVkIGlmIGBiZWZvcmVgIGlzIG9taXR0ZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkICBJRCBvZiB0aGUgbGF5ZXIgdG8gbW92ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbYmVmb3JlXSBJRCBvZiBhbiBleGlzdGluZyBsYXllciB0byBpbnNlcnQgYmVmb3JlXG4gICAgICovXG4gICAgbW92ZUxheWVyKGlkOiBzdHJpbmcsIGJlZm9yZT86IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtpZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIG1vdmVkLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX29yZGVyLmluZGV4T2YoaWQpO1xuICAgICAgICB0aGlzLl9vcmRlci5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgICAgIGNvbnN0IG5ld0luZGV4ID0gYmVmb3JlID8gdGhpcy5fb3JkZXIuaW5kZXhPZihiZWZvcmUpIDogdGhpcy5fb3JkZXIubGVuZ3RoO1xuICAgICAgICBpZiAoYmVmb3JlICYmIG5ld0luZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7YmVmb3JlfVwiIGRvZXMgbm90IGV4aXN0IG9uIHRoaXMgbWFwLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3JkZXIuc3BsaWNlKG5ld0luZGV4LCAwLCBpZCk7XG5cbiAgICAgICAgdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgbGF5ZXIgd2l0aCB0aGUgZ2l2ZW4gaWQgZnJvbSB0aGUgc3R5bGUuXG4gICAgICpcbiAgICAgKiBJZiBubyBzdWNoIGxheWVyIGV4aXN0cywgYW4gYGVycm9yYCBldmVudCBpcyBmaXJlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBpZCBvZiB0aGUgbGF5ZXIgdG8gcmVtb3ZlXG4gICAgICogQGZpcmVzIGVycm9yXG4gICAgICovXG4gICAgcmVtb3ZlTGF5ZXIoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5fbGF5ZXJzW2lkXTtcbiAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2lkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgcmVtb3ZlZC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGF5ZXIuc2V0RXZlbnRlZFBhcmVudChudWxsKTtcblxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX29yZGVyLmluZGV4T2YoaWQpO1xuICAgICAgICB0aGlzLl9vcmRlci5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgICAgIHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3JlbW92ZWRMYXllcnNbaWRdID0gbGF5ZXI7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sYXllcnNbaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5fdXBkYXRlZExheWVyc1tpZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl91cGRhdGVkUGFpbnRQcm9wc1tpZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBzdHlsZSBsYXllciBvYmplY3Qgd2l0aCB0aGUgZ2l2ZW4gYGlkYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIGlkIG9mIHRoZSBkZXNpcmVkIGxheWVyXG4gICAgICogQHJldHVybnMgez9PYmplY3R9IGEgbGF5ZXIsIGlmIG9uZSB3aXRoIHRoZSBnaXZlbiBgaWRgIGV4aXN0c1xuICAgICAqL1xuICAgIGdldExheWVyKGlkOiBzdHJpbmcpOiBPYmplY3Qge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGF5ZXJzW2lkXTtcbiAgICB9XG5cbiAgICBzZXRMYXllclpvb21SYW5nZShsYXllcklkOiBzdHJpbmcsIG1pbnpvb206ID9udW1iZXIsIG1heHpvb206ID9udW1iZXIpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCk7XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtsYXllcklkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgaGF2ZSB6b29tIGV4dGVudC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxheWVyLm1pbnpvb20gPT09IG1pbnpvb20gJiYgbGF5ZXIubWF4em9vbSA9PT0gbWF4em9vbSkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChtaW56b29tICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxheWVyLm1pbnpvb20gPSBtaW56b29tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXh6b29tICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxheWVyLm1heHpvb20gPSBtYXh6b29tO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyKGxheWVyKTtcbiAgICB9XG5cbiAgICBzZXRGaWx0ZXIobGF5ZXJJZDogc3RyaW5nLCBmaWx0ZXI6ID9GaWx0ZXJTcGVjaWZpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVySWQpO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7bGF5ZXJJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIGZpbHRlcmVkLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVlcEVxdWFsKGxheWVyLmZpbHRlciwgZmlsdGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlciA9PT0gbnVsbCB8fCBmaWx0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGF5ZXIuZmlsdGVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlU3R5bGUuZmlsdGVyLCBgbGF5ZXJzLiR7bGF5ZXIuaWR9LmZpbHRlcmAsIGZpbHRlcikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxheWVyLmZpbHRlciA9IGNsb25lKGZpbHRlcik7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyKGxheWVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBsYXllcidzIGZpbHRlciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXIgdGhlIGxheWVyIHRvIGluc3BlY3RcbiAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIGxheWVyJ3MgZmlsdGVyLCBpZiBhbnlcbiAgICAgKi9cbiAgICBnZXRGaWx0ZXIobGF5ZXI6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gY2xvbmUodGhpcy5nZXRMYXllcihsYXllcikuZmlsdGVyKTtcbiAgICB9XG5cbiAgICBzZXRMYXlvdXRQcm9wZXJ0eShsYXllcklkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcihsYXllcklkKTtcbiAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2xheWVySWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBzdHlsZWQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWVwRXF1YWwobGF5ZXIuZ2V0TGF5b3V0UHJvcGVydHkobmFtZSksIHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgICAgIGxheWVyLnNldExheW91dFByb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXIobGF5ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIGxheW91dCBwcm9wZXJ0eSdzIHZhbHVlIGZyb20gYSBnaXZlbiBsYXllclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciB0aGUgbGF5ZXIgdG8gaW5zcGVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBsYXlvdXQgcHJvcGVydHlcbiAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIHByb3BlcnR5IHZhbHVlXG4gICAgICovXG4gICAgZ2V0TGF5b3V0UHJvcGVydHkobGF5ZXI6IHN0cmluZywgbmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldExheWVyKGxheWVyKS5nZXRMYXlvdXRQcm9wZXJ0eShuYW1lKTtcbiAgICB9XG5cbiAgICBzZXRQYWludFByb3BlcnR5KGxheWVySWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVySWQpO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7bGF5ZXJJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHN0eWxlZC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZXBFcXVhbChsYXllci5nZXRQYWludFByb3BlcnR5KG5hbWUpLCB2YWx1ZSkpIHJldHVybjtcblxuICAgICAgICBjb25zdCB3YXNEYXRhRHJpdmVuID0gbGF5ZXIuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tuYW1lXS52YWx1ZS5pc0RhdGFEcml2ZW4oKTtcbiAgICAgICAgbGF5ZXIuc2V0UGFpbnRQcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGlzRGF0YURyaXZlbiA9IGxheWVyLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbbmFtZV0udmFsdWUuaXNEYXRhRHJpdmVuKCk7XG5cbiAgICAgICAgaWYgKGlzRGF0YURyaXZlbiB8fCB3YXNEYXRhRHJpdmVuKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbbGF5ZXJJZF0gPSB0cnVlO1xuICAgIH1cblxuICAgIGdldFBhaW50UHJvcGVydHkobGF5ZXI6IHN0cmluZywgbmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldExheWVyKGxheWVyKS5nZXRQYWludFByb3BlcnR5KG5hbWUpO1xuICAgIH1cblxuICAgIGdldFRyYW5zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoeyBkdXJhdGlvbjogMzAwLCBkZWxheTogMCB9LCB0aGlzLnN0eWxlc2hlZXQgJiYgdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24pO1xuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIGZpbHRlck9iamVjdCh7XG4gICAgICAgICAgICB2ZXJzaW9uOiB0aGlzLnN0eWxlc2hlZXQudmVyc2lvbixcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuc3R5bGVzaGVldC5uYW1lLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHRoaXMuc3R5bGVzaGVldC5tZXRhZGF0YSxcbiAgICAgICAgICAgIGxpZ2h0OiB0aGlzLnN0eWxlc2hlZXQubGlnaHQsXG4gICAgICAgICAgICBjZW50ZXI6IHRoaXMuc3R5bGVzaGVldC5jZW50ZXIsXG4gICAgICAgICAgICB6b29tOiB0aGlzLnN0eWxlc2hlZXQuem9vbSxcbiAgICAgICAgICAgIGJlYXJpbmc6IHRoaXMuc3R5bGVzaGVldC5iZWFyaW5nLFxuICAgICAgICAgICAgcGl0Y2g6IHRoaXMuc3R5bGVzaGVldC5waXRjaCxcbiAgICAgICAgICAgIHNwcml0ZTogdGhpcy5zdHlsZXNoZWV0LnNwcml0ZSxcbiAgICAgICAgICAgIGdseXBoczogdGhpcy5zdHlsZXNoZWV0LmdseXBocyxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uLFxuICAgICAgICAgICAgc291cmNlczogbWFwT2JqZWN0KHRoaXMuc291cmNlQ2FjaGVzLCAoc291cmNlKSA9PiBzb3VyY2Uuc2VyaWFsaXplKCkpLFxuICAgICAgICAgICAgbGF5ZXJzOiB0aGlzLl9vcmRlci5tYXAoKGlkKSA9PiB0aGlzLl9sYXllcnNbaWRdLnNlcmlhbGl6ZSgpKVxuICAgICAgICB9LCAodmFsdWUpID0+IHsgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQ7IH0pO1xuICAgIH1cblxuICAgIF91cGRhdGVMYXllcihsYXllcjogU3R5bGVMYXllcikge1xuICAgICAgICB0aGlzLl91cGRhdGVkTGF5ZXJzW2xheWVyLmlkXSA9IHRydWU7XG4gICAgICAgIGlmIChsYXllci5zb3VyY2UgJiYgIXRoaXMuX3VwZGF0ZWRTb3VyY2VzW2xheWVyLnNvdXJjZV0pIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2xheWVyLnNvdXJjZV0gPSAncmVsb2FkJztcbiAgICAgICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW2xheWVyLnNvdXJjZV0ucGF1c2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBfZmxhdHRlblJlbmRlcmVkRmVhdHVyZXMoc291cmNlUmVzdWx0czogQXJyYXk8YW55Pikge1xuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBsID0gdGhpcy5fb3JkZXIubGVuZ3RoIC0gMTsgbCA+PSAwOyBsLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGxheWVySWQgPSB0aGlzLl9vcmRlcltsXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc291cmNlUmVzdWx0IG9mIHNvdXJjZVJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllckZlYXR1cmVzID0gc291cmNlUmVzdWx0W2xheWVySWRdO1xuICAgICAgICAgICAgICAgIGlmIChsYXllckZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmVhdHVyZSBvZiBsYXllckZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlcy5wdXNoKGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmZWF0dXJlcztcbiAgICB9XG5cbiAgICBxdWVyeVJlbmRlcmVkRmVhdHVyZXMocXVlcnlHZW9tZXRyeTogYW55LCBwYXJhbXM6IGFueSwgdHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMuZmlsdGVyKSB7XG4gICAgICAgICAgICB0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLmZpbHRlciwgJ3F1ZXJ5UmVuZGVyZWRGZWF0dXJlcy5maWx0ZXInLCBwYXJhbXMuZmlsdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluY2x1ZGVkU291cmNlcyA9IHt9O1xuICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5sYXllcnMpIHtcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwYXJhbXMubGF5ZXJzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ3BhcmFtZXRlcnMubGF5ZXJzIG11c3QgYmUgYW4gQXJyYXkuJykpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgb2YgcGFyYW1zLmxheWVycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySWRdO1xuICAgICAgICAgICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBsYXllciBpcyBub3QgaW4gdGhlIHN0eWxlLmxheWVycyBhcnJheVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7bGF5ZXJJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHF1ZXJpZWQgZm9yIGZlYXR1cmVzLmApKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5jbHVkZWRTb3VyY2VzW2xheWVyLnNvdXJjZV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlUmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICBpZiAocGFyYW1zLmxheWVycyAmJiAhaW5jbHVkZWRTb3VyY2VzW2lkXSkgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gcXVlcnlSZW5kZXJlZEZlYXR1cmVzKHRoaXMuc291cmNlQ2FjaGVzW2lkXSwgdGhpcy5fbGF5ZXJzLCBxdWVyeUdlb21ldHJ5LCBwYXJhbXMsIHRyYW5zZm9ybSwgdGhpcy5wbGFjZW1lbnQgPyB0aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleCA6IG51bGwpO1xuICAgICAgICAgICAgc291cmNlUmVzdWx0cy5wdXNoKHJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9mbGF0dGVuUmVuZGVyZWRGZWF0dXJlcyhzb3VyY2VSZXN1bHRzKTtcbiAgICB9XG5cbiAgICBxdWVyeVNvdXJjZUZlYXR1cmVzKHNvdXJjZUlEOiBzdHJpbmcsIHBhcmFtczogP3tzb3VyY2VMYXllcjogP3N0cmluZywgZmlsdGVyOiA/QXJyYXk8YW55Pn0pIHtcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMuZmlsdGVyKSB7XG4gICAgICAgICAgICB0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLmZpbHRlciwgJ3F1ZXJ5U291cmNlRmVhdHVyZXMuZmlsdGVyJywgcGFyYW1zLmZpbHRlcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLnNvdXJjZUNhY2hlc1tzb3VyY2VJRF07XG4gICAgICAgIHJldHVybiBzb3VyY2VDYWNoZSA/IHF1ZXJ5U291cmNlRmVhdHVyZXMoc291cmNlQ2FjaGUsIHBhcmFtcykgOiBbXTtcbiAgICB9XG5cbiAgICBhZGRTb3VyY2VUeXBlKG5hbWU6IHN0cmluZywgU291cmNlVHlwZTogQ2xhc3M8U291cmNlPiwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIGlmIChTdHlsZS5nZXRTb3VyY2VUeXBlKG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKGBBIHNvdXJjZSB0eXBlIGNhbGxlZCBcIiR7bmFtZX1cIiBhbHJlYWR5IGV4aXN0cy5gKSk7XG4gICAgICAgIH1cblxuICAgICAgICBTdHlsZS5zZXRTb3VyY2VUeXBlKG5hbWUsIFNvdXJjZVR5cGUpO1xuXG4gICAgICAgIGlmICghU291cmNlVHlwZS53b3JrZXJTb3VyY2VVUkwpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoJ2xvYWRXb3JrZXJTb3VyY2UnLCB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgdXJsOiBTb3VyY2VUeXBlLndvcmtlclNvdXJjZVVSTFxuICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZ2V0TGlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpZ2h0LmdldExpZ2h0KCk7XG4gICAgfVxuXG4gICAgc2V0TGlnaHQobGlnaHRPcHRpb25zOiBMaWdodFNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsaWdodCA9IHRoaXMubGlnaHQuZ2V0TGlnaHQoKTtcbiAgICAgICAgbGV0IF91cGRhdGUgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbGlnaHRPcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoIWRlZXBFcXVhbChsaWdodE9wdGlvbnNba2V5XSwgbGlnaHRba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBfdXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIV91cGRhdGUpIHJldHVybjtcblxuICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0ge1xuICAgICAgICAgICAgbm93OiBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgICAgIGRlbGF5OiAwXG4gICAgICAgICAgICB9LCB0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbilcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmxpZ2h0LnNldExpZ2h0KGxpZ2h0T3B0aW9ucyk7XG4gICAgICAgIHRoaXMubGlnaHQudXBkYXRlVHJhbnNpdGlvbnMocGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgX3ZhbGlkYXRlKHZhbGlkYXRlOiAoe30pID0+IHZvaWQsIGtleTogc3RyaW5nLCB2YWx1ZTogYW55LCBwcm9wczogYW55LCBvcHRpb25zPzoge3ZhbGlkYXRlPzogYm9vbGVhbn0pIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy52YWxpZGF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcywgdmFsaWRhdGUuY2FsbCh2YWxpZGF0ZVN0eWxlLCBleHRlbmQoe1xuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICBzdHlsZTogdGhpcy5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHN0eWxlU3BlYzogc3R5bGVTcGVjXG4gICAgICAgIH0sIHByb3BzKSkpO1xuICAgIH1cblxuICAgIF9yZW1vdmUoKSB7XG4gICAgICAgIHJ0bFRleHRQbHVnaW5FdmVudGVkLm9mZigncGx1Z2luQXZhaWxhYmxlJywgdGhpcy5fcnRsVGV4dFBsdWdpbkNhbGxiYWNrKTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXNbaWRdLmNsZWFyVGlsZXMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3BhdGNoZXIucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgX2NsZWFyU291cmNlKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXNbaWRdLmNsZWFyVGlsZXMoKTtcbiAgICB9XG5cbiAgICBfcmVsb2FkU291cmNlKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXNbaWRdLnJlc3VtZSgpO1xuICAgICAgICB0aGlzLnNvdXJjZUNhY2hlc1tpZF0ucmVsb2FkKCk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVNvdXJjZXModHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXNbaWRdLnVwZGF0ZSh0cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbG9hZFNvdXJjZShpZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlUGxhY2VtZW50KHRyYW5zZm9ybTogVHJhbnNmb3JtLCBzaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW4sIGZhZGVEdXJhdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIGxldCBzeW1ib2xCdWNrZXRzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgcGxhY2VtZW50Q29tbWl0dGVkID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgbGF5ZXJUaWxlcyA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJRCBvZiB0aGlzLl9vcmRlcikge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVMYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklEXTtcbiAgICAgICAgICAgIGlmIChzdHlsZUxheWVyLnR5cGUgIT09ICdzeW1ib2wnKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKCFsYXllclRpbGVzW3N0eWxlTGF5ZXIuc291cmNlXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5zb3VyY2VDYWNoZXNbc3R5bGVMYXllci5zb3VyY2VdO1xuICAgICAgICAgICAgICAgIGxheWVyVGlsZXNbc3R5bGVMYXllci5zb3VyY2VdID0gc291cmNlQ2FjaGUuZ2V0UmVuZGVyYWJsZUlkcygpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGlkKSA9PiBzb3VyY2VDYWNoZS5nZXRUaWxlQnlJRChpZCkpXG4gICAgICAgICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiAoYi50aWxlSUQub3ZlcnNjYWxlZFogLSBhLnRpbGVJRC5vdmVyc2NhbGVkWikgfHwgKGEudGlsZUlELmlzTGVzc1RoYW4oYi50aWxlSUQpID8gLTEgOiAxKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGxheWVyQnVja2V0c0NoYW5nZWQgPSB0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4LmFkZExheWVyKHN0eWxlTGF5ZXIsIGxheWVyVGlsZXNbc3R5bGVMYXllci5zb3VyY2VdKTtcbiAgICAgICAgICAgIHN5bWJvbEJ1Y2tldHNDaGFuZ2VkID0gc3ltYm9sQnVja2V0c0NoYW5nZWQgfHwgbGF5ZXJCdWNrZXRzQ2hhbmdlZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4LnBydW5lVW51c2VkTGF5ZXJzKHRoaXMuX29yZGVyKTtcblxuICAgICAgICAvLyBBbnl0aGluZyB0aGF0IGNoYW5nZXMgb3VyIFwiaW4gcHJvZ3Jlc3NcIiBsYXllciBhbmQgdGlsZSBpbmRpY2VzIHJlcXVpcmVzIHVzXG4gICAgICAgIC8vIHRvIHN0YXJ0IG92ZXIuIFdoZW4gd2Ugc3RhcnQgb3Zlciwgd2UgZG8gYSBmdWxsIHBsYWNlbWVudCBpbnN0ZWFkIG9mIGluY3JlbWVudGFsXG4gICAgICAgIC8vIHRvIHByZXZlbnQgc3RhcnZhdGlvbi5cbiAgICAgICAgLy8gV2UgbmVlZCB0byByZXN0YXJ0IHBsYWNlbWVudCB0byBrZWVwIGxheWVyIGluZGljZXMgaW4gc3luYy5cbiAgICAgICAgY29uc3QgZm9yY2VGdWxsUGxhY2VtZW50ID0gdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ7XG5cbiAgICAgICAgaWYgKGZvcmNlRnVsbFBsYWNlbWVudCB8fCAhdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQgfHwgKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpICYmICF0aGlzLnBsYWNlbWVudC5zdGlsbFJlY2VudChicm93c2VyLm5vdygpKSkpIHtcbiAgICAgICAgICAgIHRoaXMucGF1c2VhYmxlUGxhY2VtZW50ID0gbmV3IFBhdXNlYWJsZVBsYWNlbWVudCh0cmFuc2Zvcm0sIHRoaXMuX29yZGVyLCBmb3JjZUZ1bGxQbGFjZW1lbnQsIHNob3dDb2xsaXNpb25Cb3hlcywgZmFkZUR1cmF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkpIHtcbiAgICAgICAgICAgIC8vIHRoZSBsYXN0IHBsYWNlbWVudCBmaW5pc2hlZCBydW5uaW5nLCBidXQgdGhlIG5leHQgb25lIGhhc27igJl0XG4gICAgICAgICAgICAvLyBzdGFydGVkIHlldCBiZWNhdXNlIG9mIHRoZSBgc3RpbGxSZWNlbnRgIGNoZWNrIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAvLyBhYm92ZSwgc28gbWFyayBpdCBzdGFsZSB0byBlbnN1cmUgdGhhdCB3ZSByZXF1ZXN0IGFub3RoZXJcbiAgICAgICAgICAgIC8vIHJlbmRlciBmcmFtZVxuICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnQuc2V0U3RhbGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmNvbnRpbnVlUGxhY2VtZW50KHRoaXMuX29yZGVyLCB0aGlzLl9sYXllcnMsIGxheWVyVGlsZXMpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlbWVudCA9IHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmNvbW1pdCh0aGlzLnBsYWNlbWVudCwgYnJvd3Nlci5ub3coKSk7XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50Q29tbWl0dGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN5bWJvbEJ1Y2tldHNDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIHBsYWNlbWVudCBnZXRzIHNwbGl0IG92ZXIgbXVsdGlwbGUgZnJhbWVzIGl0IGlzIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgLy8gdGhlc2UgYnVja2V0cyB3ZXJlIHByb2Nlc3NlZCBiZWZvcmUgdGhleSB3ZXJlIGNoYW5nZWQgYW5kIHNvIHRoZVxuICAgICAgICAgICAgICAgIC8vIHBsYWNlbWVudCBpcyBhbHJlYWR5IHN0YWxlIHdoaWxlIGl0IGlzIGluIHByb2dyZXNzXG4gICAgICAgICAgICAgICAgdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQucGxhY2VtZW50LnNldFN0YWxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGxhY2VtZW50Q29tbWl0dGVkIHx8IHN5bWJvbEJ1Y2tldHNDaGFuZ2VkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxheWVySUQgb2YgdGhpcy5fb3JkZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZUxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySURdO1xuICAgICAgICAgICAgICAgIGlmIChzdHlsZUxheWVyLnR5cGUgIT09ICdzeW1ib2wnKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlbWVudC51cGRhdGVMYXllck9wYWNpdGllcyhzdHlsZUxheWVyLCBsYXllclRpbGVzW3N0eWxlTGF5ZXIuc291cmNlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBuZWVkc1JlbmRlciBpcyBmYWxzZSB3aGVuIHdlIGhhdmUganVzdCBmaW5pc2hlZCBhIHBsYWNlbWVudCB0aGF0IGRpZG4ndCBjaGFuZ2UgdGhlIHZpc2liaWxpdHkgb2YgYW55IHN5bWJvbHNcbiAgICAgICAgY29uc3QgbmVlZHNSZXJlbmRlciA9ICF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSB8fCB0aGlzLnBsYWNlbWVudC5oYXNUcmFuc2l0aW9ucyhicm93c2VyLm5vdygpKTtcbiAgICAgICAgcmV0dXJuIG5lZWRzUmVyZW5kZXI7XG4gICAgfVxuXG4gICAgLy8gQ2FsbGJhY2tzIGZyb20gd2ViIHdvcmtlcnNcblxuICAgIGdldEltYWdlcyhtYXBJZDogc3RyaW5nLCBwYXJhbXM6IHtpY29uczogQXJyYXk8c3RyaW5nPn0sIGNhbGxiYWNrOiBDYWxsYmFjazx7W3N0cmluZ106IFN0eWxlSW1hZ2V9Pikge1xuICAgICAgICB0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZXMocGFyYW1zLmljb25zLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZ2V0R2x5cGhzKG1hcElkOiBzdHJpbmcsIHBhcmFtczoge3N0YWNrczoge1tzdHJpbmddOiBBcnJheTxudW1iZXI+fX0sIGNhbGxiYWNrOiBDYWxsYmFjazx7W3N0cmluZ106IHtbbnVtYmVyXTogP1N0eWxlR2x5cGh9fT4pIHtcbiAgICAgICAgdGhpcy5nbHlwaE1hbmFnZXIuZ2V0R2x5cGhzKHBhcmFtcy5zdGFja3MsIGNhbGxiYWNrKTtcbiAgICB9XG59XG5cblN0eWxlLmdldFNvdXJjZVR5cGUgPSBnZXRTb3VyY2VUeXBlO1xuU3R5bGUuc2V0U291cmNlVHlwZSA9IHNldFNvdXJjZVR5cGU7XG5TdHlsZS5yZWdpc3RlckZvclBsdWdpbkF2YWlsYWJpbGl0eSA9IHJlZ2lzdGVyRm9yUGx1Z2luQXZhaWxhYmlsaXR5O1xuXG5leHBvcnQgZGVmYXVsdCBTdHlsZTtcbiIsIi8vIEBmbG93XG5pbXBvcnQgeyBjcmVhdGVMYXlvdXQgfSBmcm9tICcuLi91dGlsL3N0cnVjdF9hcnJheSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUxheW91dChbXG4gICAgeyBuYW1lOiAnYV9wb3MnLCB0eXBlOiAnSW50MTYnLCBjb21wb25lbnRzOiAyIH1cbl0pO1xuIiwiLy8gQGZsb3dcblxuLy8gV2UgdXNlIGJyZnMsIGEgYnJvd3NlcmlmeSB0cmFuc2Zvcm0sIHRvIGlubGluZSBzaGFkZXIgc291cmNlcyBkdXJpbmcgYnVuZGxpbmcuIEFzIGEgcmVzdWx0OlxuLy8gLSByZWFkRmlsZVN5bmMgY2FsbHMgbXVzdCBiZSB3cml0dGVuIG91dCBsb25nLWZvcm1cbi8vIC0gdGhpcyBtb2R1bGUgbXVzdCB1c2UgQ29tbW9uSlMgcmF0aGVyIHRoYW4gRVMyMDE1IHN5bnRheFxuLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXRlbXBsYXRlLCBuby1wYXRoLWNvbmNhdCwgaW1wb3J0L3VuYW1iaWd1b3VzICovXG5cbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcblxuY29uc3Qgc2hhZGVyczoge1tzdHJpbmddOiB7ZnJhZ21lbnRTb3VyY2U6IHN0cmluZywgdmVydGV4U291cmNlOiBzdHJpbmd9fSA9IHtcbiAgICBwcmVsdWRlOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL19wcmVsdWRlLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvX3ByZWx1ZGUudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBiYWNrZ3JvdW5kOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2JhY2tncm91bmQuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9iYWNrZ3JvdW5kLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgYmFja2dyb3VuZFBhdHRlcm46IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvYmFja2dyb3VuZF9wYXR0ZXJuLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvYmFja2dyb3VuZF9wYXR0ZXJuLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgY2lyY2xlOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2NpcmNsZS5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2NpcmNsZS52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGNsaXBwaW5nTWFzazoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9jbGlwcGluZ19tYXNrLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvY2xpcHBpbmdfbWFzay52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGhlYXRtYXA6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvaGVhdG1hcC5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2hlYXRtYXAudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBoZWF0bWFwVGV4dHVyZToge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9oZWF0bWFwX3RleHR1cmUuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9oZWF0bWFwX3RleHR1cmUudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBjb2xsaXNpb25Cb3g6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvY29sbGlzaW9uX2JveC5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2NvbGxpc2lvbl9ib3gudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBjb2xsaXNpb25DaXJjbGU6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvY29sbGlzaW9uX2NpcmNsZS5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2NvbGxpc2lvbl9jaXJjbGUudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBkZWJ1Zzoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9kZWJ1Zy5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2RlYnVnLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgZmlsbDoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9maWxsLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZmlsbC52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGZpbGxPdXRsaW5lOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2ZpbGxfb3V0bGluZS5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2ZpbGxfb3V0bGluZS52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGZpbGxPdXRsaW5lUGF0dGVybjoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9maWxsX291dGxpbmVfcGF0dGVybi5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2ZpbGxfb3V0bGluZV9wYXR0ZXJuLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgZmlsbFBhdHRlcm46IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZmlsbF9wYXR0ZXJuLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZmlsbF9wYXR0ZXJuLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgZmlsbEV4dHJ1c2lvbjoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9maWxsX2V4dHJ1c2lvbi5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2ZpbGxfZXh0cnVzaW9uLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgZmlsbEV4dHJ1c2lvblBhdHRlcm46IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZmlsbF9leHRydXNpb25fcGF0dGVybi5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2ZpbGxfZXh0cnVzaW9uX3BhdHRlcm4udmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBleHRydXNpb25UZXh0dXJlOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2V4dHJ1c2lvbl90ZXh0dXJlLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZXh0cnVzaW9uX3RleHR1cmUudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBoaWxsc2hhZGVQcmVwYXJlOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2hpbGxzaGFkZV9wcmVwYXJlLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvaGlsbHNoYWRlX3ByZXBhcmUudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBoaWxsc2hhZGU6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvaGlsbHNoYWRlLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvaGlsbHNoYWRlLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgbGluZToge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9saW5lLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvbGluZS52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGxpbmVQYXR0ZXJuOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2xpbmVfcGF0dGVybi5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2xpbmVfcGF0dGVybi52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGxpbmVTREY6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvbGluZV9zZGYuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9saW5lX3NkZi52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIHJhc3Rlcjoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9yYXN0ZXIuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9yYXN0ZXIudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBzeW1ib2xJY29uOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL3N5bWJvbF9pY29uLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvc3ltYm9sX2ljb24udmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBzeW1ib2xTREY6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvc3ltYm9sX3NkZi5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL3N5bWJvbF9zZGYudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfVxufTtcblxuLy8gRXhwYW5kICNwcmFnbWFzIHRvICNpZmRlZnMuXG5cbmNvbnN0IHJlID0gLyNwcmFnbWEgbWFwYm94OiAoW1xcd10rKSAoW1xcd10rKSAoW1xcd10rKSAoW1xcd10rKS9nO1xuXG5mb3IgKGNvbnN0IHByb2dyYW1OYW1lIGluIHNoYWRlcnMpIHtcbiAgICBjb25zdCBwcm9ncmFtID0gc2hhZGVyc1twcm9ncmFtTmFtZV07XG4gICAgY29uc3QgZnJhZ21lbnRQcmFnbWFzOiB7W3N0cmluZ106IGJvb2xlYW59ID0ge307XG5cbiAgICBwcm9ncmFtLmZyYWdtZW50U291cmNlID0gcHJvZ3JhbS5mcmFnbWVudFNvdXJjZS5yZXBsYWNlKHJlLCAobWF0Y2g6IHN0cmluZywgb3BlcmF0aW9uOiBzdHJpbmcsIHByZWNpc2lvbjogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIG5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBmcmFnbWVudFByYWdtYXNbbmFtZV0gPSB0cnVlO1xuICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnZGVmaW5lJykge1xuICAgICAgICAgICAgcmV0dXJuIGBcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG52YXJ5aW5nICR7cHJlY2lzaW9ufSAke3R5cGV9ICR7bmFtZX07XG4jZWxzZVxudW5pZm9ybSAke3ByZWNpc2lvbn0gJHt0eXBlfSB1XyR7bmFtZX07XG4jZW5kaWZcbmA7XG4gICAgICAgIH0gZWxzZSAvKiBpZiAob3BlcmF0aW9uID09PSAnaW5pdGlhbGl6ZScpICovIHtcbiAgICAgICAgICAgIHJldHVybiBgXG4jaWZkZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG4gICAgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfSA9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcHJvZ3JhbS52ZXJ0ZXhTb3VyY2UgPSBwcm9ncmFtLnZlcnRleFNvdXJjZS5yZXBsYWNlKHJlLCAobWF0Y2g6IHN0cmluZywgb3BlcmF0aW9uOiBzdHJpbmcsIHByZWNpc2lvbjogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIG5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBhdHRyVHlwZSA9IHR5cGUgPT09ICdmbG9hdCcgPyAndmVjMicgOiAndmVjNCc7XG4gICAgICAgIGlmIChmcmFnbWVudFByYWdtYXNbbmFtZV0pIHtcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdkZWZpbmUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG51bmlmb3JtIGxvd3AgZmxvYXQgYV8ke25hbWV9X3Q7XG5hdHRyaWJ1dGUgJHtwcmVjaXNpb259ICR7YXR0clR5cGV9IGFfJHtuYW1lfTtcbnZhcnlpbmcgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfTtcbiNlbHNlXG51bmlmb3JtICR7cHJlY2lzaW9ufSAke3R5cGV9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgICAgIH0gZWxzZSAvKiBpZiAob3BlcmF0aW9uID09PSAnaW5pdGlhbGl6ZScpICovIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bmFtZX1cbiAgICAke25hbWV9ID0gdW5wYWNrX21peF8ke2F0dHJUeXBlfShhXyR7bmFtZX0sIGFfJHtuYW1lfV90KTtcbiNlbHNlXG4gICAgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfSA9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdkZWZpbmUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG51bmlmb3JtIGxvd3AgZmxvYXQgYV8ke25hbWV9X3Q7XG5hdHRyaWJ1dGUgJHtwcmVjaXNpb259ICR7YXR0clR5cGV9IGFfJHtuYW1lfTtcbiNlbHNlXG51bmlmb3JtICR7cHJlY2lzaW9ufSAke3R5cGV9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgICAgIH0gZWxzZSAvKiBpZiAob3BlcmF0aW9uID09PSAnaW5pdGlhbGl6ZScpICovIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bmFtZX1cbiAgICAke3ByZWNpc2lvbn0gJHt0eXBlfSAke25hbWV9ID0gdW5wYWNrX21peF8ke2F0dHJUeXBlfShhXyR7bmFtZX0sIGFfJHtuYW1lfV90KTtcbiNlbHNlXG4gICAgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfSA9IHVfJHtuYW1lfTtcbiNlbmRpZlxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoYWRlcnM7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuXG5pbXBvcnQgc2hhZGVycyBmcm9tICcuLi9zaGFkZXJzJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCBQcm9ncmFtQ29uZmlndXJhdGlvbiBmcm9tICcuLi9kYXRhL3Byb2dyYW1fY29uZmlndXJhdGlvbic7XG5pbXBvcnQgVmVydGV4QXJyYXlPYmplY3QgZnJvbSAnLi92ZXJ0ZXhfYXJyYXlfb2JqZWN0JztcbmltcG9ydCBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuXG5pbXBvcnQgdHlwZSBTZWdtZW50VmVjdG9yIGZyb20gJy4uL2RhdGEvc2VnbWVudCc7XG5pbXBvcnQgdHlwZSBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi4vZ2wvdmVydGV4X2J1ZmZlcic7XG5pbXBvcnQgdHlwZSBJbmRleEJ1ZmZlciBmcm9tICcuLi9nbC9pbmRleF9idWZmZXInO1xuXG5leHBvcnQgdHlwZSBEcmF3TW9kZSA9XG4gICAgfCAkUHJvcGVydHlUeXBlPFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgJ0xJTkVTJz5cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnVFJJQU5HTEVTJz47XG5cbmNsYXNzIFByb2dyYW0ge1xuICAgIHByb2dyYW06IFdlYkdMUHJvZ3JhbTtcbiAgICB1bmlmb3Jtczoge1tzdHJpbmddOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbn07XG4gICAgYXR0cmlidXRlczoge1tzdHJpbmddOiBudW1iZXJ9O1xuICAgIG51bUF0dHJpYnV0ZXM6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQsXG4gICAgICAgICAgICAgICAgc291cmNlOiB7ZnJhZ21lbnRTb3VyY2U6IHN0cmluZywgdmVydGV4U291cmNlOiBzdHJpbmd9LFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb246IFByb2dyYW1Db25maWd1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHNob3dPdmVyZHJhd0luc3BlY3RvcjogYm9vbGVhbikge1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcblxuICAgICAgICBjb25zdCBkZWZpbmVzID0gY29uZmlndXJhdGlvbi5kZWZpbmVzKCkuY29uY2F0KFxuICAgICAgICAgICAgYCNkZWZpbmUgREVWSUNFX1BJWEVMX1JBVElPICR7YnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvLnRvRml4ZWQoMSl9YCk7XG4gICAgICAgIGlmIChzaG93T3ZlcmRyYXdJbnNwZWN0b3IpIHtcbiAgICAgICAgICAgIGRlZmluZXMucHVzaCgnI2RlZmluZSBPVkVSRFJBV19JTlNQRUNUT1I7Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmcmFnbWVudFNvdXJjZSA9IGRlZmluZXMuY29uY2F0KHNoYWRlcnMucHJlbHVkZS5mcmFnbWVudFNvdXJjZSwgc291cmNlLmZyYWdtZW50U291cmNlKS5qb2luKCdcXG4nKTtcbiAgICAgICAgY29uc3QgdmVydGV4U291cmNlID0gZGVmaW5lcy5jb25jYXQoc2hhZGVycy5wcmVsdWRlLnZlcnRleFNvdXJjZSwgc291cmNlLnZlcnRleFNvdXJjZSkuam9pbignXFxuJyk7XG5cbiAgICAgICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKGZyYWdtZW50U2hhZGVyLCBmcmFnbWVudFNvdXJjZSk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICBhc3NlcnQoZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGZyYWdtZW50U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyksIChnbC5nZXRTaGFkZXJJbmZvTG9nKGZyYWdtZW50U2hhZGVyKTogYW55KSk7XG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcblxuICAgICAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgICAgIGdsLnNoYWRlclNvdXJjZSh2ZXJ0ZXhTaGFkZXIsIHZlcnRleFNvdXJjZSk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIodmVydGV4U2hhZGVyKTtcbiAgICAgICAgYXNzZXJ0KGdsLmdldFNoYWRlclBhcmFtZXRlcih2ZXJ0ZXhTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSwgKGdsLmdldFNoYWRlckluZm9Mb2codmVydGV4U2hhZGVyKTogYW55KSk7XG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sIHZlcnRleFNoYWRlcik7XG5cbiAgICAgICAgLy8gTWFudWFsbHkgYmluZCBsYXlvdXQgYXR0cmlidXRlcyBpbiB0aGUgb3JkZXIgZGVmaW5lZCBieSB0aGVpclxuICAgICAgICAvLyBQcm9ncmFtSW50ZXJmYWNlIHNvIHRoYXQgd2UgZG9uJ3QgZHluYW1pY2FsbHkgbGluayBhbiB1bnVzZWRcbiAgICAgICAgLy8gYXR0cmlidXRlIGF0IHBvc2l0aW9uIDAsIHdoaWNoIGNhbiBjYXVzZSByZW5kZXJpbmcgdG8gZmFpbCBmb3IgYW5cbiAgICAgICAgLy8gZW50aXJlIGxheWVyIChzZWUgIzQ2MDcsICM0NzI4KVxuICAgICAgICBjb25zdCBsYXlvdXRBdHRyaWJ1dGVzID0gY29uZmlndXJhdGlvbi5sYXlvdXRBdHRyaWJ1dGVzIHx8IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheW91dEF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sIGksIGxheW91dEF0dHJpYnV0ZXNbaV0ubmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC5saW5rUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgICAgICBhc3NlcnQoZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSwgKGdsLmdldFByb2dyYW1JbmZvTG9nKHRoaXMucHJvZ3JhbSk6IGFueSkpO1xuXG4gICAgICAgIHRoaXMubnVtQXR0cmlidXRlcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XG5cbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0ge307XG4gICAgICAgIHRoaXMudW5pZm9ybXMgPSB7fTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtQXR0cmlidXRlczsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBnbC5nZXRBY3RpdmVBdHRyaWIodGhpcy5wcm9ncmFtLCBpKTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCBhdHRyaWJ1dGUubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBudW1Vbmlmb3JtcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVVuaWZvcm1zOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHVuaWZvcm0gPSBnbC5nZXRBY3RpdmVVbmlmb3JtKHRoaXMucHJvZ3JhbSwgaSk7XG4gICAgICAgICAgICBpZiAodW5pZm9ybSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXNbdW5pZm9ybS5uYW1lXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sIHVuaWZvcm0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3KGNvbnRleHQ6IENvbnRleHQsXG4gICAgICAgICBkcmF3TW9kZTogRHJhd01vZGUsXG4gICAgICAgICBsYXllcklEOiBzdHJpbmcsXG4gICAgICAgICBsYXlvdXRWZXJ0ZXhCdWZmZXI6IFZlcnRleEJ1ZmZlcixcbiAgICAgICAgIGluZGV4QnVmZmVyOiBJbmRleEJ1ZmZlcixcbiAgICAgICAgIHNlZ21lbnRzOiBTZWdtZW50VmVjdG9yLFxuICAgICAgICAgY29uZmlndXJhdGlvbjogP1Byb2dyYW1Db25maWd1cmF0aW9uLFxuICAgICAgICAgZHluYW1pY0xheW91dEJ1ZmZlcjogP1ZlcnRleEJ1ZmZlcixcbiAgICAgICAgIGR5bmFtaWNMYXlvdXRCdWZmZXIyOiA/VmVydGV4QnVmZmVyKSB7XG5cbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIGNvbnN0IHByaW1pdGl2ZVNpemUgPSB7XG4gICAgICAgICAgICBbZ2wuTElORVNdOiAyLFxuICAgICAgICAgICAgW2dsLlRSSUFOR0xFU106IDNcbiAgICAgICAgfVtkcmF3TW9kZV07XG5cbiAgICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzLmdldCgpKSB7XG4gICAgICAgICAgICBjb25zdCB2YW9zID0gc2VnbWVudC52YW9zIHx8IChzZWdtZW50LnZhb3MgPSB7fSk7XG4gICAgICAgICAgICBjb25zdCB2YW86IFZlcnRleEFycmF5T2JqZWN0ID0gdmFvc1tsYXllcklEXSB8fCAodmFvc1tsYXllcklEXSA9IG5ldyBWZXJ0ZXhBcnJheU9iamVjdCgpKTtcblxuICAgICAgICAgICAgdmFvLmJpbmQoXG4gICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIGxheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uID8gY29uZmlndXJhdGlvbi5nZXRQYWludFZlcnRleEJ1ZmZlcnMoKSA6IFtdLFxuICAgICAgICAgICAgICAgIGluZGV4QnVmZmVyLFxuICAgICAgICAgICAgICAgIHNlZ21lbnQudmVydGV4T2Zmc2V0LFxuICAgICAgICAgICAgICAgIGR5bmFtaWNMYXlvdXRCdWZmZXIsXG4gICAgICAgICAgICAgICAgZHluYW1pY0xheW91dEJ1ZmZlcjJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhcbiAgICAgICAgICAgICAgICBkcmF3TW9kZSxcbiAgICAgICAgICAgICAgICBzZWdtZW50LnByaW1pdGl2ZUxlbmd0aCAqIHByaW1pdGl2ZVNpemUsXG4gICAgICAgICAgICAgICAgZ2wuVU5TSUdORURfU0hPUlQsXG4gICAgICAgICAgICAgICAgc2VnbWVudC5wcmltaXRpdmVPZmZzZXQgKiBwcmltaXRpdmVTaXplICogMik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2dyYW07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBPdmVyc2NhbGVkVGlsZUlELCBDYW5vbmljYWxUaWxlSUQgfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi8uLi9zb3VyY2UvdGlsZSc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuXG50eXBlIE1hc2sgPSB7XG4gICAgW251bWJlcl06IENhbm9uaWNhbFRpbGVJRFxufTtcblxuLy8gVXBkYXRlcyB0aGUgVGlsZU1hc2tzIGZvciBhbGwgcmVuZGVyYWJsZSB0aWxlcy4gQSBUaWxlTWFzayBkZXNjcmliZXMgYWxsIHJlZ2lvbnNcbi8vIHdpdGhpbiB0aGF0IHRpbGUgdGhhdCBhcmUgKm5vdCogY292ZXJlZCBieSBvdGhlciByZW5kZXJhYmxlIHRpbGVzLlxuLy8gRXhhbXBsZTogcmVuZGVyYWJsZVRpbGVzIGluIG91ciBsaXN0IGFyZSAyLzEvMywgMy8zLzYsIGFuZCA0LzUvMTMuIFRoZSBzY2hlbWF0aWMgZm9yIGNyZWF0aW5nIHRoZVxuLy8gVGlsZU1hc2sgZm9yIDIvMS8zIGxvb2tzIGxpa2UgdGhpczpcbi8vXG4vLyAgICDilIzilIDilIDilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbi8vICAgIOKUgiAgICAgICAg4pSCICAgICAgICDilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSCIDQvNC8xMiDilIIgNC81LzEyIOKUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilIIgICAgICAgIOKUgiAgICAgICAg4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUnOKUgOKUgOKUgOKUgOKUgOKUgDMvMi824pSA4pSA4pSA4pSA4pSA4pSA4pSkIyMjIyMzLzMvNiMjIyMjIyPilIJcbi8vICAgIOKUgiAgICAgICAg4pSCIyMjIyMjIyPilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSCIDQvNC8xMyDilIIjNC81LzEzI+KUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilIIgICAgICAgIOKUgiMjIyMjIyMj4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgDIvMS8z4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAzLzIvNyAgICAgIOKUgiAgICAgIDMvMy83ICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilIIgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCXG4vLyAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbi8vXG4vLyBUaGUgVGlsZU1hc2sgZm9yIDIvMS8zIHRodXMgY29uc2lzdHMgb2YgdGhlIHRpbGVzIDQvNC8xMiwgNC81LzEyLCA0LzQvMTMsIDMvMi83LCBhbmQgMy8zLzcsXG4vLyBidXQgaXQgZG9lcyAqbm90KiBpbmNsdWRlIDQvNS8xMywgYW5kIDMvMy82LCBzaW5jZSB0aGVzZSBhcmUgb3RoZXIgcmVuZGVyYWJsZVRpbGVzLlxuLy8gQSBUaWxlTWFzayBhbHdheXMgY29udGFpbnMgVGlsZUlEcyAqcmVsYXRpdmUqIHRvIHRoZSB0aWxlIGl0IGlzIGdlbmVyYXRlZCBmb3IsIHNvIDIvMS8zIGlzXG4vLyBcInN1YnRyYWN0ZWRcIiBmcm9tIHRoZXNlIFRpbGVJRHMuIFRoZSBmaW5hbCBUaWxlTWFzayBmb3IgMi8xLzMgd2lsbCB0aHVzIGJlOlxuLy9cbi8vICAgIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuLy8gICAg4pSCICAgICAgICDilIIgICAgICAgIOKUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilIIgMi8wLzAgIOKUgiAyLzEvMCAg4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUgiAgICAgICAg4pSCICAgICAgICDilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSc4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUgiAgICAgICAg4pSCIyMjIyMjIyPilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSCIDIvMC8xICDilIIjIyMjIyMjI+KUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilIIgICAgICAgIOKUgiMjIyMjIyMj4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgMS8wLzEgICAgICDilIIgICAgICAxLzEvMSAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4vL1xuLy8gT25seSBvdGhlciByZW5kZXJhYmxlIHRpbGVzIHRoYXQgYXJlICpjaGlsZHJlbiogb2YgdGhlIHRpbGUgd2UgYXJlIGdlbmVyYXRpbmcgdGhlIG1hc2sgZm9yIHdpbGxcbi8vIGJlIGNvbnNpZGVyZWQuIEZvciBleGFtcGxlLCBhZGRpbmcgVGlsZUlEIDQvOC8xMyB0byByZW5kZXJhYmxlVGlsZXMgd29uJ3QgYWZmZWN0IHRoZSBUaWxlTWFzayBmb3Jcbi8vIDIvMS8zLCBzaW5jZSBpdCBpcyBub3QgYSBkZXNjZW5kYW50IG9mIGl0LlxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHJlbmRlcmFibGVUaWxlczogQXJyYXk8VGlsZT4sIGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICBjb25zdCBzb3J0ZWRSZW5kZXJhYmxlcyA9IHJlbmRlcmFibGVUaWxlcy5zb3J0KChhLCBiKSA9PiB7IHJldHVybiBhLnRpbGVJRC5pc0xlc3NUaGFuKGIudGlsZUlEKSA/IC0xIDogYi50aWxlSUQuaXNMZXNzVGhhbihhLnRpbGVJRCkgPyAxIDogMDsgfSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRlZFJlbmRlcmFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG1hc2sgPSB7fTtcbiAgICAgICAgY29uc3QgdGlsZSA9ICBzb3J0ZWRSZW5kZXJhYmxlc1tpXTtcbiAgICAgICAgY29uc3QgY2hpbGRBcnJheSA9IHNvcnRlZFJlbmRlcmFibGVzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgLy8gVHJ5IHRvIGFkZCBhbGwgcmVtYWluaW5nIGlkcyBhcyBjaGlsZHJlbi4gV2Ugc29ydGVkIHRoZSB0aWxlIGxpc3RcbiAgICAgICAgLy8gYnkgeiBlYXJsaWVyLCBzbyBhbGwgcHJlY2VkaW5nIGl0ZW1zIGNhbm5vdCBiZSBjaGlsZHJlbiBvZiB0aGUgY3VycmVudFxuICAgICAgICAvLyB0aWxlLiBXZSBhbHNvIGNvbXB1dGUgdGhlIGxvd2VyIGJvdW5kIG9mIHRoZSBuZXh0IHdyYXAsIGJlY2F1c2UgaXRlbXMgb2YgdGhlIG5leHQgd3JhcFxuICAgICAgICAvLyBjYW4gbmV2ZXIgYmUgY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQgd3JhcC5cblxuICAgICAgICBjb21wdXRlVGlsZU1hc2tzKHRpbGUudGlsZUlELndyYXBwZWQoKSwgdGlsZS50aWxlSUQsIGNoaWxkQXJyYXksIG5ldyBPdmVyc2NhbGVkVGlsZUlEKDAsIHRpbGUudGlsZUlELndyYXAgKyAxLCAwLCAwLCAwKSwgbWFzayk7XG4gICAgICAgIHRpbGUuc2V0TWFzayhtYXNrLCBjb250ZXh0KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVUaWxlTWFza3Mocm9vdFRpbGU6IE92ZXJzY2FsZWRUaWxlSUQsIHJlZjogT3ZlcnNjYWxlZFRpbGVJRCwgY2hpbGRBcnJheTogQXJyYXk8VGlsZT4sIGxvd2VyQm91bmQ6IE92ZXJzY2FsZWRUaWxlSUQsIG1hc2s6IE1hc2spIHtcbiAgICAvLyBJZiB0aGUgcmVmZXJlbmNlIG9yIGFueSBvZiBpdHMgY2hpbGRyZW4gaXMgZm91bmQgaW4gdGhlIGxpc3QsIHdlIG5lZWQgdG8gcmVjdXJzZS5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGRUaWxlID0gY2hpbGRBcnJheVtpXTtcbiAgICAgICAgLy8gY2hpbGRUaWxlIGlzIGZyb20gYSBsYXJnZXIgd3JhcCB0aGFuIHRoZSByb290VGlsZSBzbyBpdCBjYW5ub3QgYmUgYSBjaGlsZCB0aWxlXG4gICAgICAgIGlmIChsb3dlckJvdW5kLmlzTGVzc1RoYW4oY2hpbGRUaWxlLnRpbGVJRCkpIGJyZWFrO1xuICAgICAgICAvLyBUaGUgY3VycmVudCB0aWxlIGlzIG1hc2tlZCBvdXQsIHNvIHdlIGRvbid0IG5lZWQgdG8gYWRkIHRoZW0gdG8gdGhlIG1hc2sgc2V0LlxuICAgICAgICBpZiAocmVmLmtleSA9PT0gY2hpbGRUaWxlLnRpbGVJRC5rZXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZFRpbGUudGlsZUlELmlzQ2hpbGRPZihyZWYpKSB7XG4gICAgICAgICAgICAvLyBUaGVyZSdzIGF0IGxlYXN0IG9uZSBjaGlsZCB0aWxlIHRoYXQgaXMgbWFza2VkIG91dCwgc28gcmVjdXJzaXZlbHkgZGVzY2VuZFxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSByZWYuY2hpbGRyZW4oSW5maW5pdHkpO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5bal07XG4gICAgICAgICAgICAgICAgY29tcHV0ZVRpbGVNYXNrcyhyb290VGlsZSwgY2hpbGQsIGNoaWxkQXJyYXkuc2xpY2UoaSksIGxvd2VyQm91bmQsIG1hc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFdlIGNvdWxkbid0IGZpbmQgYSBjaGlsZCwgc28gaXQncyBkZWZpbml0ZWx5IGEgbWFza2VkIHBhcnQuXG4gICAgLy8gQ29tcHV0ZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSByb290IHRpbGUgSUQgYW5kIHRoZSByZWZlcmVuY2UgdGlsZSBJRCwgc2luY2UgVGlsZU1hc2tcbiAgICAvLyBlbGVtZW50cyBhcmUgYWx3YXlzIHJlbGF0aXZlIChzZWUgYmVsb3cgZm9yIGV4cGxhbmF0aW9uKS5cbiAgICBjb25zdCBkaWZmWiA9IHJlZi5vdmVyc2NhbGVkWiAtIHJvb3RUaWxlLm92ZXJzY2FsZWRaO1xuICAgIGNvbnN0IG1hc2tUaWxlSWQgPSBuZXcgQ2Fub25pY2FsVGlsZUlEKGRpZmZaLCByZWYuY2Fub25pY2FsLnggLSAocm9vdFRpbGUuY2Fub25pY2FsLnggPDwgZGlmZlopLCByZWYuY2Fub25pY2FsLnkgLSAocm9vdFRpbGUuY2Fub25pY2FsLnkgPDwgZGlmZlopKTtcbiAgICBtYXNrW21hc2tUaWxlSWQua2V5XSA9IG1hc2tbbWFza1RpbGVJZC5rZXldIHx8IG1hc2tUaWxlSWQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0JztcbmltcG9ydCBwaXhlbHNUb1RpbGVVbml0cyBmcm9tICcuLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3Q29sbGlzaW9uRGVidWc7XG5cbmZ1bmN0aW9uIGRyYXdDb2xsaXNpb25EZWJ1Z0dlb21ldHJ5KHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IFN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4sIGRyYXdDaXJjbGVzOiBib29sZWFuKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3QgcHJvZ3JhbSA9IGRyYXdDaXJjbGVzID8gcGFpbnRlci51c2VQcm9ncmFtKCdjb2xsaXNpb25DaXJjbGUnKSA6IHBhaW50ZXIudXNlUHJvZ3JhbSgnY29sbGlzaW9uQm94Jyk7XG5cbiAgICBjb250ZXh0LnNldERlcHRoTW9kZShEZXB0aE1vZGUuZGlzYWJsZWQpO1xuICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoU3RlbmNpbE1vZGUuZGlzYWJsZWQpO1xuICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkID0gY29vcmRzW2ldO1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogP1N5bWJvbEJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0KSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGRyYXdDaXJjbGVzID8gYnVja2V0LmNvbGxpc2lvbkNpcmNsZSA6IGJ1Y2tldC5jb2xsaXNpb25Cb3g7XG4gICAgICAgIGlmICghYnVmZmVycykgY29udGludWU7XG5cblxuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBjb29yZC5wb3NNYXRyaXgpO1xuXG4gICAgICAgIGlmICghZHJhd0NpcmNsZXMpIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoLnNldCgxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSwgcGFpbnRlci50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSk7XG4gICAgICAgIGNvbnN0IHBpeGVsUmF0aW8gPSBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCAxLCBwYWludGVyLnRyYW5zZm9ybS56b29tKTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLnBvdygyLCBwYWludGVyLnRyYW5zZm9ybS56b29tIC0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3BpeGVsc190b190aWxlX3VuaXRzLCBwaXhlbFJhdGlvKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMudV9leHRydWRlX3NjYWxlLFxuICAgICAgICAgICAgcGFpbnRlci50cmFuc2Zvcm0ucGl4ZWxzVG9HTFVuaXRzWzBdIC8gKHBpeGVsUmF0aW8gKiBzY2FsZSksXG4gICAgICAgICAgICBwYWludGVyLnRyYW5zZm9ybS5waXhlbHNUb0dMVW5pdHNbMV0gLyAocGl4ZWxSYXRpbyAqIHNjYWxlKSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfb3ZlcnNjYWxlX2ZhY3RvciwgdGlsZS50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCkpO1xuXG4gICAgICAgIHByb2dyYW0uZHJhdyhcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICBkcmF3Q2lyY2xlcyA/IGdsLlRSSUFOR0xFUyA6IGdsLkxJTkVTLFxuICAgICAgICAgICAgbGF5ZXIuaWQsXG4gICAgICAgICAgICBidWZmZXJzLmxheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgIGJ1ZmZlcnMuaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICBidWZmZXJzLnNlZ21lbnRzLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGJ1ZmZlcnMuY29sbGlzaW9uVmVydGV4QnVmZmVyLFxuICAgICAgICAgICAgbnVsbCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3Q29sbGlzaW9uRGVidWcocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGRyYXdDb2xsaXNpb25EZWJ1Z0dlb21ldHJ5KHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzLCBmYWxzZSk7XG4gICAgZHJhd0NvbGxpc2lvbkRlYnVnR2VvbWV0cnkocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIHRydWUpO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGRyYXdDb2xsaXNpb25EZWJ1ZyBmcm9tICcuL2RyYXdfY29sbGlzaW9uX2RlYnVnJztcblxuaW1wb3J0IHBpeGVsc1RvVGlsZVVuaXRzIGZyb20gJy4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cyc7XG5pbXBvcnQgKiBhcyBzeW1ib2xQcm9qZWN0aW9uIGZyb20gJy4uL3N5bWJvbC9wcm9qZWN0aW9uJztcbmltcG9ydCAqIGFzIHN5bWJvbFNpemUgZnJvbSAnLi4vc3ltYm9sL3N5bWJvbF9zaXplJztcbmltcG9ydCB7IG1hdDQgfSBmcm9tICdAbWFwYm94L2dsLW1hdHJpeCc7XG5jb25zdCBpZGVudGl0eU1hdDQgPSBtYXQ0LmlkZW50aXR5KG5ldyBGbG9hdDMyQXJyYXkoMTYpKTtcbmltcG9ydCBwcm9wZXJ0aWVzIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL3N5bWJvbF9zdHlsZV9sYXllcl9wcm9wZXJ0aWVzJztcbmNvbnN0IHN5bWJvbExheW91dFByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmxheW91dDtcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBTeW1ib2xTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL3N5bWJvbF9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBTeW1ib2xCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3U3ltYm9scztcblxuZnVuY3Rpb24gZHJhd1N5bWJvbHMocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogU3ltYm9sU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09ICd0cmFuc2x1Y2VudCcpIHJldHVybjtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG5cbiAgICAvLyBEaXNhYmxlIHRoZSBzdGVuY2lsIHRlc3Qgc28gdGhhdCBsYWJlbHMgYXJlbid0IGNsaXBwZWQgdG8gdGlsZSBib3VuZGFyaWVzLlxuICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoU3RlbmNpbE1vZGUuZGlzYWJsZWQpO1xuICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcblxuICAgIGlmIChsYXllci5wYWludC5nZXQoJ2ljb24tb3BhY2l0eScpLmNvbnN0YW50T3IoMSkgIT09IDApIHtcbiAgICAgICAgZHJhd0xheWVyU3ltYm9scyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgZmFsc2UsXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ2ljb24tdHJhbnNsYXRlJyksXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ2ljb24tdHJhbnNsYXRlLWFuY2hvcicpLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgnaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnQnKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ2ljb24tcGl0Y2gtYWxpZ25tZW50JyksXG4gICAgICAgICAgICBsYXllci5sYXlvdXQuZ2V0KCdpY29uLWtlZXAtdXByaWdodCcpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGxheWVyLnBhaW50LmdldCgndGV4dC1vcGFjaXR5JykuY29uc3RhbnRPcigxKSAhPT0gMCkge1xuICAgICAgICBkcmF3TGF5ZXJTeW1ib2xzKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzLCB0cnVlLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCd0ZXh0LXRyYW5zbGF0ZScpLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCd0ZXh0LXRyYW5zbGF0ZS1hbmNob3InKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ3RleHQtcm90YXRpb24tYWxpZ25tZW50JyksXG4gICAgICAgICAgICBsYXllci5sYXlvdXQuZ2V0KCd0ZXh0LXBpdGNoLWFsaWdubWVudCcpLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgndGV4dC1rZWVwLXVwcmlnaHQnKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGlmIChzb3VyY2VDYWNoZS5tYXAuc2hvd0NvbGxpc2lvbkJveGVzKSB7XG4gICAgICAgIGRyYXdDb2xsaXNpb25EZWJ1ZyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3Jkcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3TGF5ZXJTeW1ib2xzKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzLCBpc1RleHQsIHRyYW5zbGF0ZSwgdHJhbnNsYXRlQW5jaG9yLFxuICAgIHJvdGF0aW9uQWxpZ25tZW50LCBwaXRjaEFsaWdubWVudCwga2VlcFVwcmlnaHQpIHtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG5cbiAgICBjb25zdCByb3RhdGVXaXRoTWFwID0gcm90YXRpb25BbGlnbm1lbnQgPT09ICdtYXAnO1xuICAgIGNvbnN0IHBpdGNoV2l0aE1hcCA9IHBpdGNoQWxpZ25tZW50ID09PSAnbWFwJztcbiAgICBjb25zdCBhbG9uZ0xpbmUgPSByb3RhdGVXaXRoTWFwICYmIGxheWVyLmxheW91dC5nZXQoJ3N5bWJvbC1wbGFjZW1lbnQnKSA9PT0gJ2xpbmUnO1xuICAgIC8vIExpbmUgbGFiZWwgcm90YXRpb24gaGFwcGVucyBpbiBgdXBkYXRlTGluZUxhYmVsc2BcbiAgICAvLyBQaXRjaGVkIHBvaW50IGxhYmVscyBhcmUgYXV0b21hdGljYWxseSByb3RhdGVkIGJ5IHRoZSBsYWJlbFBsYW5lTWF0cml4IHByb2plY3Rpb25cbiAgICAvLyBVbnBpdGNoZWQgcG9pbnQgbGFiZWxzIG5lZWQgdG8gaGF2ZSB0aGVpciByb3RhdGlvbiBhcHBsaWVkIGFmdGVyIHByb2plY3Rpb25cbiAgICBjb25zdCByb3RhdGVJblNoYWRlciA9IHJvdGF0ZVdpdGhNYXAgJiYgIXBpdGNoV2l0aE1hcCAmJiAhYWxvbmdMaW5lO1xuXG4gICAgY29uc3QgZGVwdGhPbiA9IHBpdGNoV2l0aE1hcDtcblxuICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKGRlcHRoT24gPyBwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsIERlcHRoTW9kZS5SZWFkT25seSkgOiBEZXB0aE1vZGUuZGlzYWJsZWQpO1xuXG4gICAgbGV0IHByb2dyYW07XG5cbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogU3ltYm9sQnVja2V0ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgaWYgKCFidWNrZXQpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBidWZmZXJzID0gaXNUZXh0ID8gYnVja2V0LnRleHQgOiBidWNrZXQuaWNvbjtcbiAgICAgICAgaWYgKCFidWZmZXJzIHx8ICFidWZmZXJzLnNlZ21lbnRzLmdldCgpLmxlbmd0aCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IHByb2dyYW1Db25maWd1cmF0aW9uID0gYnVmZmVycy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKTtcblxuICAgICAgICBjb25zdCBpc1NERiA9IGlzVGV4dCB8fCBidWNrZXQuc2RmSWNvbnM7XG5cbiAgICAgICAgY29uc3Qgc2l6ZURhdGEgPSBpc1RleHQgPyBidWNrZXQudGV4dFNpemVEYXRhIDogYnVja2V0Lmljb25TaXplRGF0YTtcblxuICAgICAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgICAgICAgIHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oaXNTREYgPyAnc3ltYm9sU0RGJyA6ICdzeW1ib2xJY29uJywgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24uc2V0VW5pZm9ybXMocGFpbnRlci5jb250ZXh0LCBwcm9ncmFtLCBsYXllci5wYWludCwge3pvb206IHBhaW50ZXIudHJhbnNmb3JtLnpvb219KTtcblxuICAgICAgICAgICAgc2V0U3ltYm9sRHJhd1N0YXRlKHByb2dyYW0sIHBhaW50ZXIsIGxheWVyLCBpc1RleHQsIHJvdGF0ZUluU2hhZGVyLCBwaXRjaFdpdGhNYXAsIHNpemVEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgICAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X3RleHR1cmUsIDApO1xuXG4gICAgICAgIGlmIChpc1RleHQpIHtcbiAgICAgICAgICAgIHRpbGUuZ2x5cGhBdGxhc1RleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfdGV4c2l6ZSwgdGlsZS5nbHlwaEF0bGFzVGV4dHVyZS5zaXplKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGljb25TY2FsZWQgPSBsYXllci5sYXlvdXQuZ2V0KCdpY29uLXNpemUnKS5jb25zdGFudE9yKDApICE9PSAxIHx8IGJ1Y2tldC5pY29uc05lZWRMaW5lYXI7XG4gICAgICAgICAgICBjb25zdCBpY29uVHJhbnNmb3JtZWQgPSBwaXRjaFdpdGhNYXAgfHwgdHIucGl0Y2ggIT09IDA7XG5cbiAgICAgICAgICAgIHRpbGUuaWNvbkF0bGFzVGV4dHVyZS5iaW5kKGlzU0RGIHx8IHBhaW50ZXIub3B0aW9ucy5yb3RhdGluZyB8fCBwYWludGVyLm9wdGlvbnMuem9vbWluZyB8fCBpY29uU2NhbGVkIHx8IGljb25UcmFuc2Zvcm1lZCA/XG4gICAgICAgICAgICAgICAgZ2wuTElORUFSIDogZ2wuTkVBUkVTVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV90ZXhzaXplLCB0aWxlLmljb25BdGxhc1RleHR1cmUuc2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeChjb29yZC5wb3NNYXRyaXgsIHRpbGUsIHRyYW5zbGF0ZSwgdHJhbnNsYXRlQW5jaG9yKSk7XG5cbiAgICAgICAgY29uc3QgcyA9IHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIDEsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20pO1xuICAgICAgICBjb25zdCBsYWJlbFBsYW5lTWF0cml4ID0gc3ltYm9sUHJvamVjdGlvbi5nZXRMYWJlbFBsYW5lTWF0cml4KGNvb3JkLnBvc01hdHJpeCwgcGl0Y2hXaXRoTWFwLCByb3RhdGVXaXRoTWFwLCBwYWludGVyLnRyYW5zZm9ybSwgcyk7XG4gICAgICAgIGNvbnN0IGdsQ29vcmRNYXRyaXggPSBzeW1ib2xQcm9qZWN0aW9uLmdldEdsQ29vcmRNYXRyaXgoY29vcmQucG9zTWF0cml4LCBwaXRjaFdpdGhNYXAsIHJvdGF0ZVdpdGhNYXAsIHBhaW50ZXIudHJhbnNmb3JtLCBzKTtcbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfZ2xfY29vcmRfbWF0cml4LCBmYWxzZSwgcGFpbnRlci50cmFuc2xhdGVQb3NNYXRyaXgoZ2xDb29yZE1hdHJpeCwgdGlsZSwgdHJhbnNsYXRlLCB0cmFuc2xhdGVBbmNob3IsIHRydWUpKTtcblxuICAgICAgICBpZiAoYWxvbmdMaW5lKSB7XG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9sYWJlbF9wbGFuZV9tYXRyaXgsIGZhbHNlLCBpZGVudGl0eU1hdDQpO1xuICAgICAgICAgICAgc3ltYm9sUHJvamVjdGlvbi51cGRhdGVMaW5lTGFiZWxzKGJ1Y2tldCwgY29vcmQucG9zTWF0cml4LCBwYWludGVyLCBpc1RleHQsIGxhYmVsUGxhbmVNYXRyaXgsIGdsQ29vcmRNYXRyaXgsIHBpdGNoV2l0aE1hcCwga2VlcFVwcmlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbGFiZWxfcGxhbmVfbWF0cml4LCBmYWxzZSwgbGFiZWxQbGFuZU1hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2ZhZGVfY2hhbmdlLCBwYWludGVyLm9wdGlvbnMuZmFkZUR1cmF0aW9uID8gcGFpbnRlci5zeW1ib2xGYWRlQ2hhbmdlIDogMSk7XG5cbiAgICAgICAgZHJhd1RpbGVTeW1ib2xzKHByb2dyYW0sIHByb2dyYW1Db25maWd1cmF0aW9uLCBwYWludGVyLCBsYXllciwgdGlsZSwgYnVmZmVycywgaXNUZXh0LCBpc1NERiwgcGl0Y2hXaXRoTWFwKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldFN5bWJvbERyYXdTdGF0ZShwcm9ncmFtLCBwYWludGVyLCBsYXllciwgaXNUZXh0LCByb3RhdGVJblNoYWRlciwgcGl0Y2hXaXRoTWFwLCBzaXplRGF0YSkge1xuXG4gICAgY29uc3QgZ2wgPSBwYWludGVyLmNvbnRleHQuZ2w7XG4gICAgY29uc3QgdHIgPSBwYWludGVyLnRyYW5zZm9ybTtcblxuICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfcGl0Y2hfd2l0aF9tYXAsIHBpdGNoV2l0aE1hcCA/IDEgOiAwKTtcblxuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfaXNfdGV4dCwgaXNUZXh0ID8gMSA6IDApO1xuXG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9waXRjaCwgdHIucGl0Y2ggLyAzNjAgKiAyICogTWF0aC5QSSk7XG5cbiAgICBjb25zdCBpc1pvb21Db25zdGFudCA9IHNpemVEYXRhLmZ1bmN0aW9uVHlwZSA9PT0gJ2NvbnN0YW50JyB8fCBzaXplRGF0YS5mdW5jdGlvblR5cGUgPT09ICdzb3VyY2UnO1xuICAgIGNvbnN0IGlzRmVhdHVyZUNvbnN0YW50ID0gc2l6ZURhdGEuZnVuY3Rpb25UeXBlID09PSAnY29uc3RhbnQnIHx8IHNpemVEYXRhLmZ1bmN0aW9uVHlwZSA9PT0gJ2NhbWVyYSc7XG4gICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9pc19zaXplX3pvb21fY29uc3RhbnQsIGlzWm9vbUNvbnN0YW50ID8gMSA6IDApO1xuICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50LCBpc0ZlYXR1cmVDb25zdGFudCA/IDEgOiAwKTtcblxuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSwgdHIuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSk7XG5cbiAgICBjb25zdCBzaXplID0gc3ltYm9sU2l6ZS5ldmFsdWF0ZVNpemVGb3Jab29tKHNpemVEYXRhLCB0ci56b29tLCBzeW1ib2xMYXlvdXRQcm9wZXJ0aWVzLnByb3BlcnRpZXNbaXNUZXh0ID8gJ3RleHQtc2l6ZScgOiAnaWNvbi1zaXplJ10pO1xuICAgIGlmIChzaXplLnVTaXplVCAhPT0gdW5kZWZpbmVkKSBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3NpemVfdCwgc2l6ZS51U2l6ZVQpO1xuICAgIGlmIChzaXplLnVTaXplICE9PSB1bmRlZmluZWQpIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfc2l6ZSwgc2l6ZS51U2l6ZSk7XG5cbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2FzcGVjdF9yYXRpbywgdHIud2lkdGggLyB0ci5oZWlnaHQpO1xuICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfcm90YXRlX3N5bWJvbCwgcm90YXRlSW5TaGFkZXIgPyAxIDogMCk7XG59XG5cbmZ1bmN0aW9uIGRyYXdUaWxlU3ltYm9scyhwcm9ncmFtLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgcGFpbnRlciwgbGF5ZXIsIHRpbGUsIGJ1ZmZlcnMsIGlzVGV4dCwgaXNTREYsIHBpdGNoV2l0aE1hcCkge1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3QgdHIgPSBwYWludGVyLnRyYW5zZm9ybTtcblxuICAgIGlmIChpc1NERikge1xuICAgICAgICBjb25zdCBoYXNIYWxvID0gbGF5ZXIucGFpbnQuZ2V0KGlzVGV4dCA/ICd0ZXh0LWhhbG8td2lkdGgnIDogJ2ljb24taGFsby13aWR0aCcpLmNvbnN0YW50T3IoMSkgIT09IDA7XG4gICAgICAgIGNvbnN0IGdhbW1hU2NhbGUgPSAocGl0Y2hXaXRoTWFwID8gTWF0aC5jb3ModHIuX3BpdGNoKSAqIHRyLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgOiAxKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9nYW1tYV9zY2FsZSwgZ2FtbWFTY2FsZSk7XG5cbiAgICAgICAgaWYgKGhhc0hhbG8pIHsgLy8gRHJhdyBoYWxvIHVuZGVybmVhdGggdGhlIHRleHQuXG4gICAgICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2lzX2hhbG8sIDEpO1xuICAgICAgICAgICAgZHJhd1N5bWJvbEVsZW1lbnRzKGJ1ZmZlcnMsIGxheWVyLCBjb250ZXh0LCBwcm9ncmFtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfaXNfaGFsbywgMCk7XG4gICAgfVxuXG4gICAgZHJhd1N5bWJvbEVsZW1lbnRzKGJ1ZmZlcnMsIGxheWVyLCBjb250ZXh0LCBwcm9ncmFtKTtcbn1cblxuZnVuY3Rpb24gZHJhd1N5bWJvbEVsZW1lbnRzKGJ1ZmZlcnMsIGxheWVyLCBjb250ZXh0LCBwcm9ncmFtKSB7XG4gICAgcHJvZ3JhbS5kcmF3KFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBjb250ZXh0LmdsLlRSSUFOR0xFUyxcbiAgICAgICAgbGF5ZXIuaWQsXG4gICAgICAgIGJ1ZmZlcnMubGF5b3V0VmVydGV4QnVmZmVyLFxuICAgICAgICBidWZmZXJzLmluZGV4QnVmZmVyLFxuICAgICAgICBidWZmZXJzLnNlZ21lbnRzLFxuICAgICAgICBidWZmZXJzLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpLFxuICAgICAgICBidWZmZXJzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIsXG4gICAgICAgIGJ1ZmZlcnMub3BhY2l0eVZlcnRleEJ1ZmZlcik7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuXG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IHR5cGUgTGluZVN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvbGluZV9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBMaW5lQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2xpbmVfYnVja2V0JztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRyYXdMaW5lKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IExpbmVTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyAhPT0gJ3RyYW5zbHVjZW50JykgcmV0dXJuO1xuXG4gICAgY29uc3Qgb3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnbGluZS1vcGFjaXR5Jyk7XG4gICAgaWYgKG9wYWNpdHkuY29uc3RhbnRPcigxKSA9PT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcblxuICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KSk7XG4gICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuXG4gICAgY29uc3QgcHJvZ3JhbUlkID1cbiAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLWRhc2hhcnJheScpID8gJ2xpbmVTREYnIDpcbiAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLXBhdHRlcm4nKSA/ICdsaW5lUGF0dGVybicgOiAnbGluZSc7XG5cbiAgICBsZXQgcHJldlRpbGVab29tO1xuICAgIGxldCBmaXJzdFRpbGUgPSB0cnVlO1xuXG4gICAgZm9yIChjb25zdCBjb29yZCBvZiBjb29yZHMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBjb25zdCBidWNrZXQ6ID9MaW5lQnVja2V0ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgaWYgKCFidWNrZXQpIGNvbnRpbnVlO1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW1Db25maWd1cmF0aW9uID0gYnVja2V0LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpO1xuICAgICAgICBjb25zdCBwcmV2UHJvZ3JhbSA9IHBhaW50ZXIuY29udGV4dC5wcm9ncmFtLmdldCgpO1xuICAgICAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKHByb2dyYW1JZCwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xuICAgICAgICBjb25zdCBwcm9ncmFtQ2hhbmdlZCA9IGZpcnN0VGlsZSB8fCBwcm9ncmFtLnByb2dyYW0gIT09IHByZXZQcm9ncmFtO1xuICAgICAgICBjb25zdCB0aWxlUmF0aW9DaGFuZ2VkID0gcHJldlRpbGVab29tICE9PSB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWjtcblxuICAgICAgICBpZiAocHJvZ3JhbUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uLnNldFVuaWZvcm1zKHBhaW50ZXIuY29udGV4dCwgcHJvZ3JhbSwgbGF5ZXIucGFpbnQsIHt6b29tOiBwYWludGVyLnRyYW5zZm9ybS56b29tfSk7XG4gICAgICAgIH1cbiAgICAgICAgZHJhd0xpbmVUaWxlKHByb2dyYW0sIHBhaW50ZXIsIHRpbGUsIGJ1Y2tldCwgbGF5ZXIsIGNvb3JkLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgcHJvZ3JhbUNoYW5nZWQsIHRpbGVSYXRpb0NoYW5nZWQpO1xuICAgICAgICBwcmV2VGlsZVpvb20gPSB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWjtcbiAgICAgICAgZmlyc3RUaWxlID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3TGluZVRpbGUocHJvZ3JhbSwgcGFpbnRlciwgdGlsZSwgYnVja2V0LCBsYXllciwgY29vcmQsIHByb2dyYW1Db25maWd1cmF0aW9uLCBwcm9ncmFtQ2hhbmdlZCwgdGlsZVJhdGlvQ2hhbmdlZCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IGRhc2hhcnJheSA9IGxheWVyLnBhaW50LmdldCgnbGluZS1kYXNoYXJyYXknKTtcbiAgICBjb25zdCBpbWFnZSA9IGxheWVyLnBhaW50LmdldCgnbGluZS1wYXR0ZXJuJyk7XG5cbiAgICBsZXQgcG9zQSwgcG9zQiwgaW1hZ2VQb3NBLCBpbWFnZVBvc0I7XG5cbiAgICBpZiAocHJvZ3JhbUNoYW5nZWQgfHwgdGlsZVJhdGlvQ2hhbmdlZCkge1xuICAgICAgICBjb25zdCB0aWxlUmF0aW8gPSAxIC8gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgcGFpbnRlci50cmFuc2Zvcm0udGlsZVpvb20pO1xuXG4gICAgICAgIGlmIChkYXNoYXJyYXkpIHtcbiAgICAgICAgICAgIHBvc0EgPSBwYWludGVyLmxpbmVBdGxhcy5nZXREYXNoKGRhc2hhcnJheS5mcm9tLCBsYXllci5sYXlvdXQuZ2V0KCdsaW5lLWNhcCcpID09PSAncm91bmQnKTtcbiAgICAgICAgICAgIHBvc0IgPSBwYWludGVyLmxpbmVBdGxhcy5nZXREYXNoKGRhc2hhcnJheS50bywgbGF5ZXIubGF5b3V0LmdldCgnbGluZS1jYXAnKSA9PT0gJ3JvdW5kJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHdpZHRoQSA9IHBvc0Eud2lkdGggKiBkYXNoYXJyYXkuZnJvbVNjYWxlO1xuICAgICAgICAgICAgY29uc3Qgd2lkdGhCID0gcG9zQi53aWR0aCAqIGRhc2hhcnJheS50b1NjYWxlO1xuXG4gICAgICAgICAgICBnbC51bmlmb3JtMmYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5zY2FsZV9hLCB0aWxlUmF0aW8gLyB3aWR0aEEsIC1wb3NBLmhlaWdodCAvIDIpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuc2NhbGVfYiwgdGlsZVJhdGlvIC8gd2lkdGhCLCAtcG9zQi5oZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfc2RmZ2FtbWEsIHBhaW50ZXIubGluZUF0bGFzLndpZHRoIC8gKE1hdGgubWluKHdpZHRoQSwgd2lkdGhCKSAqIDI1NiAqIGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbykgLyAyKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGltYWdlKSB7XG4gICAgICAgICAgICBpbWFnZVBvc0EgPSBwYWludGVyLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGltYWdlLmZyb20pO1xuICAgICAgICAgICAgaW1hZ2VQb3NCID0gcGFpbnRlci5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihpbWFnZS50byk7XG4gICAgICAgICAgICBpZiAoIWltYWdlUG9zQSB8fCAhaW1hZ2VQb3NCKSByZXR1cm47XG5cbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybl9zaXplX2EsIGltYWdlUG9zQS5kaXNwbGF5U2l6ZVswXSAqIGltYWdlLmZyb21TY2FsZSAvIHRpbGVSYXRpbywgaW1hZ2VQb3NBLmRpc3BsYXlTaXplWzFdKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybl9zaXplX2IsIGltYWdlUG9zQi5kaXNwbGF5U2l6ZVswXSAqIGltYWdlLnRvU2NhbGUgLyB0aWxlUmF0aW8sIGltYWdlUG9zQi5kaXNwbGF5U2l6ZVsxXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmdldFBpeGVsU2l6ZSgpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfdGV4c2l6ZSwgW3dpZHRoLCBoZWlnaHRdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnVfZ2xfdW5pdHNfdG9fcGl4ZWxzLCAxIC8gcGFpbnRlci50cmFuc2Zvcm0ucGl4ZWxzVG9HTFVuaXRzWzBdLCAxIC8gcGFpbnRlci50cmFuc2Zvcm0ucGl4ZWxzVG9HTFVuaXRzWzFdKTtcbiAgICB9XG5cbiAgICBpZiAocHJvZ3JhbUNoYW5nZWQpIHtcblxuICAgICAgICBpZiAoZGFzaGFycmF5KSB7XG4gICAgICAgICAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X2ltYWdlLCAwKTtcbiAgICAgICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgICAgICAgICAgcGFpbnRlci5saW5lQXRsYXMuYmluZChjb250ZXh0KTtcblxuICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV90ZXhfeV9hLCAocG9zQTogYW55KS55KTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfdGV4X3lfYiwgKHBvc0I6IGFueSkueSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X21peCwgZGFzaGFycmF5LnQpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfaW1hZ2UsIDApO1xuICAgICAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgICAgICAgICBwYWludGVyLmltYWdlTWFuYWdlci5iaW5kKGNvbnRleHQpO1xuXG4gICAgICAgICAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuX3RsX2EsIChpbWFnZVBvc0E6IGFueSkudGwpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybl9icl9hLCAoaW1hZ2VQb3NBOiBhbnkpLmJyKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5fdGxfYiwgKGltYWdlUG9zQjogYW55KS50bCk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuX2JyX2IsIChpbWFnZVBvc0I6IGFueSkuYnIpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9mYWRlLCBpbWFnZS50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUocGFpbnRlci5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGNvb3JkKSk7XG5cbiAgICBjb25zdCBwb3NNYXRyaXggPSBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeChjb29yZC5wb3NNYXRyaXgsIHRpbGUsIGxheWVyLnBhaW50LmdldCgnbGluZS10cmFuc2xhdGUnKSwgbGF5ZXIucGFpbnQuZ2V0KCdsaW5lLXRyYW5zbGF0ZS1hbmNob3InKSk7XG4gICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgcG9zTWF0cml4KTtcblxuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfcmF0aW8sIDEgLyBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCAxLCBwYWludGVyLnRyYW5zZm9ybS56b29tKSk7XG5cbiAgICBwcm9ncmFtLmRyYXcoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGdsLlRSSUFOR0xFUyxcbiAgICAgICAgbGF5ZXIuaWQsXG4gICAgICAgIGJ1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXIsXG4gICAgICAgIGJ1Y2tldC5pbmRleEJ1ZmZlcixcbiAgICAgICAgYnVja2V0LnNlZ21lbnRzLFxuICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCBwaXhlbHNUb1RpbGVVbml0cyBmcm9tICcuLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBQcm9ncmFtIGZyb20gJy4vcHJvZ3JhbSc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuaW1wb3J0IHR5cGUge0Nyb3NzRmFkZWR9IGZyb20gJy4uL3N0eWxlL2Nyb3NzX2ZhZGVkJztcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhIHBhdHRlcm4gaW1hZ2UgaXMgbmVlZGVkLCBhbmQgaWYgaXQgaXMsIHdoZXRoZXIgaXQgaXMgbm90IGxvYWRlZC5cbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB0cnVlIGlmIGEgbmVlZGVkIGltYWdlIGlzIG1pc3NpbmcgYW5kIHJlbmRlcmluZyBuZWVkcyB0byBiZSBza2lwcGVkLlxuICovXG5leHBvcnQgY29uc3QgaXNQYXR0ZXJuTWlzc2luZyA9IGZ1bmN0aW9uKGltYWdlOiA/Q3Jvc3NGYWRlZDxzdHJpbmc+LCBwYWludGVyOiBQYWludGVyKTogYm9vbGVhbiB7XG4gICAgaWYgKCFpbWFnZSkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGltYWdlUG9zQSA9IHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oaW1hZ2UuZnJvbSk7XG4gICAgY29uc3QgaW1hZ2VQb3NCID0gcGFpbnRlci5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihpbWFnZS50byk7XG4gICAgcmV0dXJuICFpbWFnZVBvc0EgfHwgIWltYWdlUG9zQjtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmVwYXJlID0gZnVuY3Rpb24gKGltYWdlOiBDcm9zc0ZhZGVkPHN0cmluZz4sIHBhaW50ZXI6IFBhaW50ZXIsIHByb2dyYW06IFByb2dyYW0pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgIGNvbnN0IGltYWdlUG9zQSA9IHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oaW1hZ2UuZnJvbSk7XG4gICAgY29uc3QgaW1hZ2VQb3NCID0gcGFpbnRlci5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihpbWFnZS50byk7XG4gICAgYXNzZXJ0KGltYWdlUG9zQSAmJiBpbWFnZVBvc0IpO1xuXG4gICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9pbWFnZSwgMCk7XG4gICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybl90bF9hLCAoaW1hZ2VQb3NBOiBhbnkpLnRsKTtcbiAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuX2JyX2EsIChpbWFnZVBvc0E6IGFueSkuYnIpO1xuICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5fdGxfYiwgKGltYWdlUG9zQjogYW55KS50bCk7XG4gICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybl9icl9iLCAoaW1hZ2VQb3NCOiBhbnkpLmJyKTtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBwYWludGVyLmltYWdlTWFuYWdlci5nZXRQaXhlbFNpemUoKTtcbiAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV90ZXhzaXplLCBbd2lkdGgsIGhlaWdodF0pO1xuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfbWl4LCBpbWFnZS50KTtcbiAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuX3NpemVfYSwgKGltYWdlUG9zQTogYW55KS5kaXNwbGF5U2l6ZSk7XG4gICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybl9zaXplX2IsIChpbWFnZVBvc0I6IGFueSkuZGlzcGxheVNpemUpO1xuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfc2NhbGVfYSwgaW1hZ2UuZnJvbVNjYWxlKTtcbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3NjYWxlX2IsIGltYWdlLnRvU2NhbGUpO1xuXG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG4gICAgcGFpbnRlci5pbWFnZU1hbmFnZXIuYmluZChwYWludGVyLmNvbnRleHQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldFBhdHRlcm5Vbmlmb3JtcyA9IGZ1bmN0aW9uICh0aWxlOiB7dGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlELCB0aWxlU2l6ZTogbnVtYmVyfSwgcGFpbnRlcjogUGFpbnRlciwgcHJvZ3JhbTogUHJvZ3JhbSkge1xuICAgIGNvbnN0IGdsID0gcGFpbnRlci5jb250ZXh0LmdsO1xuXG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV90aWxlX3VuaXRzX3RvX3BpeGVscywgMSAvIHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIDEsIHBhaW50ZXIudHJhbnNmb3JtLnRpbGVab29tKSk7XG5cbiAgICBjb25zdCBudW1UaWxlcyA9IE1hdGgucG93KDIsIHRpbGUudGlsZUlELm92ZXJzY2FsZWRaKTtcbiAgICBjb25zdCB0aWxlU2l6ZUF0TmVhcmVzdFpvb20gPSB0aWxlLnRpbGVTaXplICogTWF0aC5wb3coMiwgcGFpbnRlci50cmFuc2Zvcm0udGlsZVpvb20pIC8gbnVtVGlsZXM7XG5cbiAgICBjb25zdCBwaXhlbFggPSB0aWxlU2l6ZUF0TmVhcmVzdFpvb20gKiAodGlsZS50aWxlSUQuY2Fub25pY2FsLnggKyB0aWxlLnRpbGVJRC53cmFwICogbnVtVGlsZXMpO1xuICAgIGNvbnN0IHBpeGVsWSA9IHRpbGVTaXplQXROZWFyZXN0Wm9vbSAqIHRpbGUudGlsZUlELmNhbm9uaWNhbC55O1xuXG4gICAgLy8gc3BsaXQgdGhlIHBpeGVsIGNvb3JkIGludG8gdHdvIHBhaXJzIG9mIDE2IGJpdCBudW1iZXJzLiBUaGUgZ2xzbCBzcGVjIG9ubHkgZ3VhcmFudGVlcyAxNiBiaXRzIG9mIHByZWNpc2lvbi5cbiAgICBnbC51bmlmb3JtMmYocHJvZ3JhbS51bmlmb3Jtcy51X3BpeGVsX2Nvb3JkX3VwcGVyLCBwaXhlbFggPj4gMTYsIHBpeGVsWSA+PiAxNik7XG4gICAgZ2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMudV9waXhlbF9jb29yZF9sb3dlciwgcGl4ZWxYICYgMHhGRkZGLCBwaXhlbFkgJiAweEZGRkYpO1xufTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7XG4gICAgaXNQYXR0ZXJuTWlzc2luZyxcbiAgICBzZXRQYXR0ZXJuVW5pZm9ybXMsXG4gICAgcHJlcGFyZSBhcyBwcmVwYXJlUGF0dGVyblxufSBmcm9tICcuL3BhdHRlcm4nO1xuXG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IHR5cGUgRmlsbFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvZmlsbF9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBGaWxsQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2ZpbGxfYnVja2V0JztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSB7Q3Jvc3NGYWRlZH0gZnJvbSAnLi4vc3R5bGUvY3Jvc3NfZmFkZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3RmlsbDtcblxuZnVuY3Rpb24gZHJhd0ZpbGwocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogRmlsbFN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBjb25zdCBjb2xvciA9IGxheWVyLnBhaW50LmdldCgnZmlsbC1jb2xvcicpO1xuICAgIGNvbnN0IG9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2ZpbGwtb3BhY2l0eScpO1xuXG4gICAgaWYgKG9wYWNpdHkuY29uc3RhbnRPcigxKSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG5cbiAgICBjb25zdCBwYXNzID0gKCFsYXllci5wYWludC5nZXQoJ2ZpbGwtcGF0dGVybicpICYmXG4gICAgICAgIGNvbG9yLmNvbnN0YW50T3IoQ29sb3IudHJhbnNwYXJlbnQpLmEgPT09IDEgJiZcbiAgICAgICAgb3BhY2l0eS5jb25zdGFudE9yKDApID09PSAxKSA/ICdvcGFxdWUnIDogJ3RyYW5zbHVjZW50JztcblxuICAgIC8vIERyYXcgZmlsbFxuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09IHBhc3MpIHtcbiAgICAgICAgLy8gT25jZSB3ZSBzd2l0Y2ggdG8gZWFyY3V0IGRyYXdpbmcgd2UgY2FuIHB1bGwgbW9zdCBvZiB0aGUgV2ViR0wgc2V0dXBcbiAgICAgICAgLy8gb3V0c2lkZSBvZiB0aGlzIGNvb3JkcyBsb29wLlxuICAgICAgICBjb250ZXh0LnNldERlcHRoTW9kZShwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDEsIHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ29wYXF1ZScgPyBEZXB0aE1vZGUuUmVhZFdyaXRlIDogRGVwdGhNb2RlLlJlYWRPbmx5KSk7XG4gICAgICAgIGRyYXdGaWxsVGlsZXMocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIGRyYXdGaWxsVGlsZSk7XG4gICAgfVxuXG4gICAgLy8gRHJhdyBzdHJva2VcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAndHJhbnNsdWNlbnQnICYmIGxheWVyLnBhaW50LmdldCgnZmlsbC1hbnRpYWxpYXMnKSkge1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aC5zZXQoMik7XG5cbiAgICAgICAgLy8gSWYgd2UgZGVmaW5lZCBhIGRpZmZlcmVudCBjb2xvciBmb3IgdGhlIGZpbGwgb3V0bGluZSwgd2UgYXJlXG4gICAgICAgIC8vIGdvaW5nIHRvIGlnbm9yZSB0aGUgYml0cyBpbiAweDA3IGFuZCBqdXN0IGNhcmUgYWJvdXQgdGhlIGdsb2JhbFxuICAgICAgICAvLyBjbGlwcGluZyBtYXNrLlxuICAgICAgICAvLyBPdGhlcndpc2UsIHdlIG9ubHkgd2FudCB0byBkcmF3RmlsbCB0aGUgYW50aWFsaWFzZWQgcGFydHMgdGhhdCBhcmVcbiAgICAgICAgLy8gKm91dHNpZGUqIHRoZSBjdXJyZW50IHNoYXBlLiBUaGlzIGlzIGltcG9ydGFudCBpbiBjYXNlIHRoZSBmaWxsXG4gICAgICAgIC8vIG9yIHN0cm9rZSBjb2xvciBpcyB0cmFuc2x1Y2VudC4gSWYgd2Ugd291bGRuJ3QgY2xpcCB0byBvdXRzaWRlXG4gICAgICAgIC8vIHRoZSBjdXJyZW50IHNoYXBlLCBzb21lIHBpeGVscyBmcm9tIHRoZSBvdXRsaW5lIHN0cm9rZSBvdmVybGFwcGVkXG4gICAgICAgIC8vIHRoZSAobm9uLWFudGlhbGlhc2VkKSBmaWxsLlxuICAgICAgICBjb250ZXh0LnNldERlcHRoTW9kZShwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKFxuICAgICAgICAgICAgbGF5ZXIuZ2V0UGFpbnRQcm9wZXJ0eSgnZmlsbC1vdXRsaW5lLWNvbG9yJykgPyAyIDogMCwgRGVwdGhNb2RlLlJlYWRPbmx5KSk7XG4gICAgICAgIGRyYXdGaWxsVGlsZXMocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIGRyYXdTdHJva2VUaWxlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdGaWxsVGlsZXMocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIGRyYXdGbikge1xuICAgIGlmIChpc1BhdHRlcm5NaXNzaW5nKGxheWVyLnBhaW50LmdldCgnZmlsbC1wYXR0ZXJuJyksIHBhaW50ZXIpKSByZXR1cm47XG5cbiAgICBsZXQgZmlyc3RUaWxlID0gdHJ1ZTtcbiAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogP0ZpbGxCdWNrZXQgPSAodGlsZS5nZXRCdWNrZXQobGF5ZXIpOiBhbnkpO1xuICAgICAgICBpZiAoIWJ1Y2tldCkgY29udGludWU7XG5cbiAgICAgICAgcGFpbnRlci5jb250ZXh0LnNldFN0ZW5jaWxNb2RlKHBhaW50ZXIuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhjb29yZCkpO1xuICAgICAgICBkcmF3Rm4ocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCB0aWxlLCBjb29yZCwgYnVja2V0LCBmaXJzdFRpbGUpO1xuICAgICAgICBmaXJzdFRpbGUgPSBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdGaWxsVGlsZShwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIHRpbGUsIGNvb3JkLCBidWNrZXQsIGZpcnN0VGlsZSkge1xuICAgIGNvbnN0IGdsID0gcGFpbnRlci5jb250ZXh0LmdsO1xuICAgIGNvbnN0IHByb2dyYW1Db25maWd1cmF0aW9uID0gYnVja2V0LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpO1xuXG4gICAgY29uc3QgcHJvZ3JhbSA9IHNldEZpbGxQcm9ncmFtKCdmaWxsJywgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLXBhdHRlcm4nKSwgcGFpbnRlciwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIGxheWVyLCB0aWxlLCBjb29yZCwgZmlyc3RUaWxlKTtcblxuICAgIHByb2dyYW0uZHJhdyhcbiAgICAgICAgcGFpbnRlci5jb250ZXh0LFxuICAgICAgICBnbC5UUklBTkdMRVMsXG4gICAgICAgIGxheWVyLmlkLFxuICAgICAgICBidWNrZXQubGF5b3V0VmVydGV4QnVmZmVyLFxuICAgICAgICBidWNrZXQuaW5kZXhCdWZmZXIsXG4gICAgICAgIGJ1Y2tldC5zZWdtZW50cyxcbiAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xufVxuXG5mdW5jdGlvbiBkcmF3U3Ryb2tlVGlsZShwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIHRpbGUsIGNvb3JkLCBidWNrZXQsIGZpcnN0VGlsZSkge1xuICAgIGNvbnN0IGdsID0gcGFpbnRlci5jb250ZXh0LmdsO1xuICAgIGNvbnN0IHByb2dyYW1Db25maWd1cmF0aW9uID0gYnVja2V0LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpO1xuICAgIGNvbnN0IHBhdHRlcm4gPSBsYXllci5nZXRQYWludFByb3BlcnR5KCdmaWxsLW91dGxpbmUtY29sb3InKSA/IG51bGwgOiBsYXllci5wYWludC5nZXQoJ2ZpbGwtcGF0dGVybicpO1xuXG4gICAgY29uc3QgcHJvZ3JhbSA9IHNldEZpbGxQcm9ncmFtKCdmaWxsT3V0bGluZScsIHBhdHRlcm4sIHBhaW50ZXIsIHByb2dyYW1Db25maWd1cmF0aW9uLCBsYXllciwgdGlsZSwgY29vcmQsIGZpcnN0VGlsZSk7XG4gICAgZ2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMudV93b3JsZCwgZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLCBnbC5kcmF3aW5nQnVmZmVySGVpZ2h0KTtcblxuICAgIHByb2dyYW0uZHJhdyhcbiAgICAgICAgcGFpbnRlci5jb250ZXh0LFxuICAgICAgICBnbC5MSU5FUyxcbiAgICAgICAgbGF5ZXIuaWQsXG4gICAgICAgIGJ1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXIsXG4gICAgICAgIGJ1Y2tldC5pbmRleEJ1ZmZlcjIsXG4gICAgICAgIGJ1Y2tldC5zZWdtZW50czIsXG4gICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbn1cblxuZnVuY3Rpb24gc2V0RmlsbFByb2dyYW0ocHJvZ3JhbUlkLCBwYXQ6ID9Dcm9zc0ZhZGVkPHN0cmluZz4sIHBhaW50ZXIsIHByb2dyYW1Db25maWd1cmF0aW9uLCBsYXllciwgdGlsZSwgY29vcmQsIGZpcnN0VGlsZSkge1xuICAgIGxldCBwcm9ncmFtO1xuICAgIGNvbnN0IHByZXZQcm9ncmFtID0gcGFpbnRlci5jb250ZXh0LnByb2dyYW0uZ2V0KCk7XG4gICAgaWYgKCFwYXQpIHtcbiAgICAgICAgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbShwcm9ncmFtSWQsIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICAgICAgaWYgKGZpcnN0VGlsZSB8fCBwcm9ncmFtLnByb2dyYW0gIT09IHByZXZQcm9ncmFtKSB7XG4gICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRVbmlmb3JtcyhwYWludGVyLmNvbnRleHQsIHByb2dyYW0sIGxheWVyLnBhaW50LCB7em9vbTogcGFpbnRlci50cmFuc2Zvcm0uem9vbX0pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbShgJHtwcm9ncmFtSWR9UGF0dGVybmAsIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICAgICAgaWYgKGZpcnN0VGlsZSB8fCBwcm9ncmFtLnByb2dyYW0gIT09IHByZXZQcm9ncmFtKSB7XG4gICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRVbmlmb3JtcyhwYWludGVyLmNvbnRleHQsIHByb2dyYW0sIGxheWVyLnBhaW50LCB7em9vbTogcGFpbnRlci50cmFuc2Zvcm0uem9vbX0pO1xuICAgICAgICAgICAgcHJlcGFyZVBhdHRlcm4ocGF0LCBwYWludGVyLCBwcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRQYXR0ZXJuVW5pZm9ybXModGlsZSwgcGFpbnRlciwgcHJvZ3JhbSk7XG4gICAgfVxuICAgIHBhaW50ZXIuY29udGV4dC5nbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBwYWludGVyLnRyYW5zbGF0ZVBvc01hdHJpeChcbiAgICAgICAgY29vcmQucG9zTWF0cml4LCB0aWxlLFxuICAgICAgICBsYXllci5wYWludC5nZXQoJ2ZpbGwtdHJhbnNsYXRlJyksXG4gICAgICAgIGxheWVyLnBhaW50LmdldCgnZmlsbC10cmFuc2xhdGUtYW5jaG9yJylcbiAgICApKTtcbiAgICByZXR1cm4gcHJvZ3JhbTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBnbE1hdHJpeCBmcm9tICdAbWFwYm94L2dsLW1hdHJpeCc7XG5cbmltcG9ydCB7XG4gICAgaXNQYXR0ZXJuTWlzc2luZyxcbiAgICBzZXRQYXR0ZXJuVW5pZm9ybXMsXG4gICAgcHJlcGFyZSBhcyBwcmVwYXJlUGF0dGVyblxufSBmcm9tICcuL3BhdHRlcm4nO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi90ZXh0dXJlJztcbmltcG9ydCBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3InO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlJztcbmNvbnN0IG1hdDMgPSBnbE1hdHJpeC5tYXQzO1xuY29uc3QgbWF0NCA9IGdsTWF0cml4Lm1hdDQ7XG5jb25zdCB2ZWMzID0gZ2xNYXRyaXgudmVjMztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIEZpbGxFeHRydXNpb25TdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2ZpbGxfZXh0cnVzaW9uX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIEZpbGxFeHRydXNpb25CdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvZmlsbF9leHRydXNpb25fYnVja2V0JztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXc7XG5cbmZ1bmN0aW9uIGRyYXcocGFpbnRlcjogUGFpbnRlciwgc291cmNlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IEZpbGxFeHRydXNpb25TdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgaWYgKGxheWVyLnBhaW50LmdldCgnZmlsbC1leHRydXNpb24tb3BhY2l0eScpID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAnb2Zmc2NyZWVuJykge1xuICAgICAgICBkcmF3VG9FeHRydXNpb25GcmFtZWJ1ZmZlcihwYWludGVyLCBsYXllcik7XG5cbiAgICAgICAgbGV0IGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCBjb29yZCBvZiBjb29yZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2UuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgICAgICBjb25zdCBidWNrZXQ6ID9GaWxsRXh0cnVzaW9uQnVja2V0ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgICAgIGlmICghYnVja2V0KSBjb250aW51ZTtcblxuICAgICAgICAgICAgZHJhd0V4dHJ1c2lvbihwYWludGVyLCBzb3VyY2UsIGxheWVyLCB0aWxlLCBjb29yZCwgYnVja2V0LCBmaXJzdCk7XG4gICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcpIHtcbiAgICAgICAgZHJhd0V4dHJ1c2lvblRleHR1cmUocGFpbnRlciwgbGF5ZXIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd1RvRXh0cnVzaW9uRnJhbWVidWZmZXIocGFpbnRlciwgbGF5ZXIpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgIGxldCByZW5kZXJUYXJnZXQgPSBsYXllci52aWV3cG9ydEZyYW1lO1xuXG4gICAgaWYgKHBhaW50ZXIuZGVwdGhSYm9OZWVkc0NsZWFyKSB7XG4gICAgICAgIHBhaW50ZXIuc2V0dXBPZmZzY3JlZW5EZXB0aFJlbmRlcmJ1ZmZlcigpO1xuICAgIH1cblxuICAgIGlmICghcmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB7d2lkdGg6IHBhaW50ZXIud2lkdGgsIGhlaWdodDogcGFpbnRlci5oZWlnaHQsIGRhdGE6IG51bGx9LCBnbC5SR0JBKTtcbiAgICAgICAgdGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cbiAgICAgICAgcmVuZGVyVGFyZ2V0ID0gbGF5ZXIudmlld3BvcnRGcmFtZSA9IGNvbnRleHQuY3JlYXRlRnJhbWVidWZmZXIocGFpbnRlci53aWR0aCwgcGFpbnRlci5oZWlnaHQpO1xuICAgICAgICByZW5kZXJUYXJnZXQuY29sb3JBdHRhY2htZW50LnNldCh0ZXh0dXJlLnRleHR1cmUpO1xuICAgIH1cblxuICAgIGNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldChyZW5kZXJUYXJnZXQuZnJhbWVidWZmZXIpO1xuICAgIHJlbmRlclRhcmdldC5kZXB0aEF0dGFjaG1lbnQuc2V0KHBhaW50ZXIuZGVwdGhSYm8pO1xuXG4gICAgaWYgKHBhaW50ZXIuZGVwdGhSYm9OZWVkc0NsZWFyKSB7XG4gICAgICAgIGNvbnRleHQuY2xlYXIoeyBkZXB0aDogMSB9KTtcbiAgICAgICAgcGFpbnRlci5kZXB0aFJib05lZWRzQ2xlYXIgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb250ZXh0LmNsZWFyKHsgY29sb3I6IENvbG9yLnRyYW5zcGFyZW50IH0pO1xuXG4gICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShTdGVuY2lsTW9kZS5kaXNhYmxlZCk7XG4gICAgY29udGV4dC5zZXREZXB0aE1vZGUobmV3IERlcHRoTW9kZShnbC5MRVFVQUwsIERlcHRoTW9kZS5SZWFkV3JpdGUsIFswLCAxXSkpO1xuICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcbn1cblxuZnVuY3Rpb24gZHJhd0V4dHJ1c2lvblRleHR1cmUocGFpbnRlciwgbGF5ZXIpIHtcbiAgICBjb25zdCByZW5kZXJlZFRleHR1cmUgPSBsYXllci52aWV3cG9ydEZyYW1lO1xuICAgIGlmICghcmVuZGVyZWRUZXh0dXJlKSByZXR1cm47XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdleHRydXNpb25UZXh0dXJlJyk7XG5cbiAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKFN0ZW5jaWxNb2RlLmRpc2FibGVkKTtcbiAgICBjb250ZXh0LnNldERlcHRoTW9kZShEZXB0aE1vZGUuZGlzYWJsZWQpO1xuICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcblxuICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHJlbmRlcmVkVGV4dHVyZS5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpO1xuXG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9vcGFjaXR5LCBsYXllci5wYWludC5nZXQoJ2ZpbGwtZXh0cnVzaW9uLW9wYWNpdHknKSk7XG4gICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9pbWFnZSwgMCk7XG5cbiAgICBjb25zdCBtYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuICAgIG1hdDQub3J0aG8obWF0cml4LCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodCwgMCwgMCwgMSk7XG4gICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgbWF0cml4KTtcblxuICAgIGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnVfd29ybGQsIGdsLmRyYXdpbmdCdWZmZXJXaWR0aCwgZ2wuZHJhd2luZ0J1ZmZlckhlaWdodCk7XG5cbiAgICBwYWludGVyLnZpZXdwb3J0VkFPLmJpbmQoY29udGV4dCwgcHJvZ3JhbSwgcGFpbnRlci52aWV3cG9ydEJ1ZmZlciwgW10pO1xuICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xufVxuXG5mdW5jdGlvbiBkcmF3RXh0cnVzaW9uKHBhaW50ZXIsIHNvdXJjZSwgbGF5ZXIsIHRpbGUsIGNvb3JkLCBidWNrZXQsIGZpcnN0KSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBjb25zdCBpbWFnZSA9IGxheWVyLnBhaW50LmdldCgnZmlsbC1leHRydXNpb24tcGF0dGVybicpO1xuXG4gICAgY29uc3QgcHJldlByb2dyYW0gPSBwYWludGVyLmNvbnRleHQucHJvZ3JhbS5nZXQoKTtcbiAgICBjb25zdCBwcm9ncmFtQ29uZmlndXJhdGlvbiA9IGJ1Y2tldC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKTtcbiAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKGltYWdlID8gJ2ZpbGxFeHRydXNpb25QYXR0ZXJuJyA6ICdmaWxsRXh0cnVzaW9uJywgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xuICAgIGlmIChmaXJzdCB8fCBwcm9ncmFtLnByb2dyYW0gIT09IHByZXZQcm9ncmFtKSB7XG4gICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uLnNldFVuaWZvcm1zKGNvbnRleHQsIHByb2dyYW0sIGxheWVyLnBhaW50LCB7em9vbTogcGFpbnRlci50cmFuc2Zvcm0uem9vbX0pO1xuICAgIH1cblxuICAgIGlmIChpbWFnZSkge1xuICAgICAgICBpZiAoaXNQYXR0ZXJuTWlzc2luZyhpbWFnZSwgcGFpbnRlcikpIHJldHVybjtcbiAgICAgICAgcHJlcGFyZVBhdHRlcm4oaW1hZ2UsIHBhaW50ZXIsIHByb2dyYW0pO1xuICAgICAgICBzZXRQYXR0ZXJuVW5pZm9ybXModGlsZSwgcGFpbnRlciwgcHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfaGVpZ2h0X2ZhY3RvciwgLU1hdGgucG93KDIsIGNvb3JkLm92ZXJzY2FsZWRaKSAvIHRpbGUudGlsZVNpemUgLyA4KTtcbiAgICB9XG5cbiAgICBwYWludGVyLmNvbnRleHQuZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgcGFpbnRlci50cmFuc2xhdGVQb3NNYXRyaXgoXG4gICAgICAgIGNvb3JkLnBvc01hdHJpeCxcbiAgICAgICAgdGlsZSxcbiAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUnKSxcbiAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yJylcbiAgICApKTtcblxuICAgIHNldExpZ2h0KHByb2dyYW0sIHBhaW50ZXIpO1xuXG4gICAgcHJvZ3JhbS5kcmF3KFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBnbC5UUklBTkdMRVMsXG4gICAgICAgIGxheWVyLmlkLFxuICAgICAgICBidWNrZXQubGF5b3V0VmVydGV4QnVmZmVyLFxuICAgICAgICBidWNrZXQuaW5kZXhCdWZmZXIsXG4gICAgICAgIGJ1Y2tldC5zZWdtZW50cyxcbiAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xufVxuXG5mdW5jdGlvbiBzZXRMaWdodChwcm9ncmFtLCBwYWludGVyKSB7XG4gICAgY29uc3QgZ2wgPSBwYWludGVyLmNvbnRleHQuZ2w7XG4gICAgY29uc3QgbGlnaHQgPSBwYWludGVyLnN0eWxlLmxpZ2h0O1xuXG4gICAgY29uc3QgX2xwID0gbGlnaHQucHJvcGVydGllcy5nZXQoJ3Bvc2l0aW9uJyk7XG4gICAgY29uc3QgbGlnaHRQb3MgPSBbX2xwLngsIF9scC55LCBfbHAuel07XG5cbiAgICBjb25zdCBsaWdodE1hdCA9IG1hdDMuY3JlYXRlKCk7XG4gICAgaWYgKGxpZ2h0LnByb3BlcnRpZXMuZ2V0KCdhbmNob3InKSA9PT0gJ3ZpZXdwb3J0Jykge1xuICAgICAgICBtYXQzLmZyb21Sb3RhdGlvbihsaWdodE1hdCwgLXBhaW50ZXIudHJhbnNmb3JtLmFuZ2xlKTtcbiAgICB9XG4gICAgdmVjMy50cmFuc2Zvcm1NYXQzKGxpZ2h0UG9zLCBsaWdodFBvcywgbGlnaHRNYXQpO1xuXG4gICAgY29uc3QgY29sb3IgPSBsaWdodC5wcm9wZXJ0aWVzLmdldCgnY29sb3InKTtcblxuICAgIGdsLnVuaWZvcm0zZnYocHJvZ3JhbS51bmlmb3Jtcy51X2xpZ2h0cG9zLCBsaWdodFBvcyk7XG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9saWdodGludGVuc2l0eSwgbGlnaHQucHJvcGVydGllcy5nZXQoJ2ludGVuc2l0eScpKTtcbiAgICBnbC51bmlmb3JtM2YocHJvZ3JhbS51bmlmb3Jtcy51X2xpZ2h0Y29sb3IsIGNvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIpO1xufVxuIiwiLy8gQGZsb3dcbmltcG9ydCBDb29yZGluYXRlIGZyb20gJy4uL2dlby9jb29yZGluYXRlJztcblxuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi90ZXh0dXJlJztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuaW1wb3J0IHsgbWF0NCB9IGZyb20gJ0BtYXBib3gvZ2wtbWF0cml4JztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBIaWxsc2hhZGVTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2hpbGxzaGFkZV9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3SGlsbHNoYWRlO1xuXG5mdW5jdGlvbiBkcmF3SGlsbHNoYWRlKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IEhpbGxzaGFkZVN0eWxlTGF5ZXIsIHRpbGVJRHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyAhPT0gJ29mZnNjcmVlbicgJiYgcGFpbnRlci5yZW5kZXJQYXNzICE9PSAndHJhbnNsdWNlbnQnKSByZXR1cm47XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IHNvdXJjZU1heFpvb20gPSBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5tYXh6b29tO1xuXG4gICAgY29udGV4dC5zZXREZXB0aE1vZGUocGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcigwLCBEZXB0aE1vZGUuUmVhZE9ubHkpKTtcbiAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKFN0ZW5jaWxNb2RlLmRpc2FibGVkKTtcbiAgICBjb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG5cbiAgICBmb3IgKGNvbnN0IHRpbGVJRCBvZiB0aWxlSURzKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKHRpbGVJRCk7XG4gICAgICAgIGlmICh0aWxlLm5lZWRzSGlsbHNoYWRlUHJlcGFyZSAmJiBwYWludGVyLnJlbmRlclBhc3MgPT09ICdvZmZzY3JlZW4nKSB7XG4gICAgICAgICAgICBwcmVwYXJlSGlsbHNoYWRlKHBhaW50ZXIsIHRpbGUsIHNvdXJjZU1heFpvb20pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAndHJhbnNsdWNlbnQnKSB7XG4gICAgICAgICAgICByZW5kZXJIaWxsc2hhZGUocGFpbnRlciwgdGlsZSwgbGF5ZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHBhaW50ZXIud2lkdGgsIHBhaW50ZXIuaGVpZ2h0XSk7XG59XG5cbmZ1bmN0aW9uIHNldExpZ2h0KHByb2dyYW0sIHBhaW50ZXIsIGxheWVyKSB7XG4gICAgbGV0IGF6aW11dGhhbCA9IGxheWVyLnBhaW50LmdldCgnaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb24nKSAqIChNYXRoLlBJIC8gMTgwKTtcbiAgICAvLyBtb2RpZnkgYXppbXV0aGFsIGFuZ2xlIGJ5IG1hcCByb3RhdGlvbiBpZiBsaWdodCBpcyBhbmNob3JlZCBhdCB0aGUgdmlld3BvcnRcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvcicpID09PSAndmlld3BvcnQnKSAgYXppbXV0aGFsIC09IHBhaW50ZXIudHJhbnNmb3JtLmFuZ2xlO1xuICAgIHBhaW50ZXIuY29udGV4dC5nbC51bmlmb3JtMmYocHJvZ3JhbS51bmlmb3Jtcy51X2xpZ2h0LCBsYXllci5wYWludC5nZXQoJ2hpbGxzaGFkZS1leGFnZ2VyYXRpb24nKSwgYXppbXV0aGFsKTtcblxufVxuXG5mdW5jdGlvbiBnZXRUaWxlTGF0UmFuZ2UocGFpbnRlciwgdGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgY29uc3QgY29vcmRpbmF0ZTAgPSB0aWxlSUQudG9Db29yZGluYXRlKCk7XG4gICAgY29uc3QgY29vcmRpbmF0ZTEgPSBuZXcgQ29vcmRpbmF0ZShjb29yZGluYXRlMC5jb2x1bW4sIGNvb3JkaW5hdGUwLnJvdyArIDEsIGNvb3JkaW5hdGUwLnpvb20pO1xuICAgIHJldHVybiBbcGFpbnRlci50cmFuc2Zvcm0uY29vcmRpbmF0ZUxvY2F0aW9uKGNvb3JkaW5hdGUwKS5sYXQsIHBhaW50ZXIudHJhbnNmb3JtLmNvb3JkaW5hdGVMb2NhdGlvbihjb29yZGluYXRlMSkubGF0XTtcbn1cblxuZnVuY3Rpb24gcmVuZGVySGlsbHNoYWRlKHBhaW50ZXIsIHRpbGUsIGxheWVyKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3QgZmJvID0gdGlsZS5mYm87XG4gICAgaWYgKCFmYm8pIHJldHVybjtcblxuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2hpbGxzaGFkZScpO1xuICAgIGNvbnN0IHBvc01hdHJpeCA9IHBhaW50ZXIudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeCh0aWxlLnRpbGVJRC50b1Vud3JhcHBlZCgpLCB0cnVlKTtcbiAgICBzZXRMaWdodChwcm9ncmFtLCBwYWludGVyLCBsYXllcik7XG4gICAgLy8gZm9yIHNjYWxpbmcgdGhlIG1hZ25pdHVkZSBvZiBhIHBvaW50cyBzbG9wZSBieSBpdHMgbGF0aXR1ZGVcbiAgICBjb25zdCBsYXRSYW5nZSA9IGdldFRpbGVMYXRSYW5nZShwYWludGVyLCB0aWxlLnRpbGVJRCk7XG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG5cbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBmYm8uY29sb3JBdHRhY2htZW50LmdldCgpKTtcblxuICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIHBvc01hdHJpeCk7XG4gICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfbGF0cmFuZ2UsIGxhdFJhbmdlKTtcbiAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X2ltYWdlLCAwKTtcblxuICAgIGNvbnN0IHNoYWRvd0NvbG9yID0gbGF5ZXIucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiKTtcbiAgICBnbC51bmlmb3JtNGYocHJvZ3JhbS51bmlmb3Jtcy51X3NoYWRvdywgc2hhZG93Q29sb3Iuciwgc2hhZG93Q29sb3IuZywgc2hhZG93Q29sb3IuYiwgc2hhZG93Q29sb3IuYSk7XG4gICAgY29uc3QgaGlnaGxpZ2h0Q29sb3IgPSBsYXllci5wYWludC5nZXQoXCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yXCIpO1xuICAgIGdsLnVuaWZvcm00Zihwcm9ncmFtLnVuaWZvcm1zLnVfaGlnaGxpZ2h0LCBoaWdobGlnaHRDb2xvci5yLCBoaWdobGlnaHRDb2xvci5nLCBoaWdobGlnaHRDb2xvci5iLCBoaWdobGlnaHRDb2xvci5hKTtcbiAgICBjb25zdCBhY2NlbnRDb2xvciA9IGxheWVyLnBhaW50LmdldChcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIik7XG4gICAgZ2wudW5pZm9ybTRmKHByb2dyYW0udW5pZm9ybXMudV9hY2NlbnQsIGFjY2VudENvbG9yLnIsIGFjY2VudENvbG9yLmcsIGFjY2VudENvbG9yLmIsIGFjY2VudENvbG9yLmEpO1xuXG4gICAgaWYgKHRpbGUubWFza2VkQm91bmRzQnVmZmVyICYmIHRpbGUubWFza2VkSW5kZXhCdWZmZXIgJiYgdGlsZS5zZWdtZW50cykge1xuICAgICAgICBwcm9ncmFtLmRyYXcoXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgZ2wuVFJJQU5HTEVTLFxuICAgICAgICAgICAgbGF5ZXIuaWQsXG4gICAgICAgICAgICB0aWxlLm1hc2tlZEJvdW5kc0J1ZmZlcixcbiAgICAgICAgICAgIHRpbGUubWFza2VkSW5kZXhCdWZmZXIsXG4gICAgICAgICAgICB0aWxlLnNlZ21lbnRzXG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gcGFpbnRlci5yYXN0ZXJCb3VuZHNCdWZmZXI7XG4gICAgICAgIGNvbnN0IHZhbyA9IHBhaW50ZXIucmFzdGVyQm91bmRzVkFPO1xuICAgICAgICB2YW8uYmluZChjb250ZXh0LCBwcm9ncmFtLCBidWZmZXIsIFtdKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgYnVmZmVyLmxlbmd0aCk7XG4gICAgfVxufVxuXG5cbi8vIGhpbGxzaGFkZSByZW5kZXJpbmcgaXMgZG9uZSBpbiB0d28gc3RlcHMuIHRoZSBwcmVwYXJlIHN0ZXAgZmlyc3QgY2FsY3VsYXRlcyB0aGUgc2xvcGUgb2YgdGhlIHRlcnJhaW4gaW4gdGhlIHggYW5kIHlcbi8vIGRpcmVjdGlvbnMgZm9yIGVhY2ggcGl4ZWwsIGFuZCBzYXZlcyB0aG9zZSB2YWx1ZXMgdG8gYSBmcmFtZWJ1ZmZlciB0ZXh0dXJlIGluIHRoZSByIGFuZCBnIGNoYW5uZWxzLlxuZnVuY3Rpb24gcHJlcGFyZUhpbGxzaGFkZShwYWludGVyLCB0aWxlLCBzb3VyY2VNYXhab29tKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgLy8gZGVjb2RlIHJnYmEgbGV2ZWxzIGJ5IHVzaW5nIGludGVnZXIgb3ZlcmZsb3cgdG8gY29udmVydCBlYWNoIFVpbnQzMkFycmF5IGVsZW1lbnQgLT4gNCBVaW50OEFycmF5IGVsZW1lbnRzLlxuICAgIC8vIGV4LlxuICAgIC8vIFVpbnQzMjpcbiAgICAvLyBiYXNlIDEwIC0gNjczMDhcbiAgICAvLyBiYXNlIDIgLSAwMDAwIDAwMDAgMDAwMCAwMDAxIDAwMDAgMDExMCAxMTEwIDExMDBcbiAgICAvL1xuICAgIC8vIFVpbnQ4OlxuICAgIC8vIGJhc2UgMTAgLSAwLCAxLCA2LCAyMzYgKHRoaXMgb3JkZXIgaXMgcmV2ZXJzZWQgaW4gdGhlIHJlc3VsdGluZyBhcnJheSB2aWEgdGhlIG92ZXJmbG93LlxuICAgIC8vIGZpcnN0IDggYml0cyByZXByZXNlbnQgMjM2LCBzbyB0aGUgciBjb21wb25lbnQgb2YgdGhlIHRleHR1cmUgcGl4ZWwgd2lsbCBiZSAyMzYgZXRjLilcbiAgICAvLyBiYXNlIDIgLSAwMDAwIDAwMDAsIDAwMDAgMDAwMSwgMDAwMCAwMTEwLCAxMTEwIDExMDBcbiAgICBpZiAodGlsZS5kZW0gJiYgdGlsZS5kZW0ubGV2ZWwpIHtcbiAgICAgICAgY29uc3QgdGlsZVNpemUgPSB0aWxlLmRlbS5sZXZlbC5kaW07XG5cbiAgICAgICAgY29uc3QgcGl4ZWxEYXRhID0gdGlsZS5kZW0uZ2V0UGl4ZWxzKCk7XG4gICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTEpO1xuXG4gICAgICAgIC8vIGlmIFVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCBpcyBzZXQgdG8gdHJ1ZSBwcmlvciB0byBkcmF3SGlsbHNoYWRlIGJlaW5nIGNhbGxlZFxuICAgICAgICAvLyB0aWxlcyB3aWxsIGFwcGVhciBibGFuaywgYmVjYXVzZSBhcyB5b3UgY2FuIHNlZSBhYm92ZSB0aGUgYWxwaGEgdmFsdWUgZm9yIHRoZXNlIHRleHR1cmVzXG4gICAgICAgIC8vIGlzIGFsd2F5cyAwXG4gICAgICAgIGNvbnRleHQucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0KGZhbHNlKTtcbiAgICAgICAgdGlsZS5kZW1UZXh0dXJlID0gdGlsZS5kZW1UZXh0dXJlIHx8IHBhaW50ZXIuZ2V0VGlsZVRleHR1cmUodGlsZS50aWxlU2l6ZSk7XG4gICAgICAgIGlmICh0aWxlLmRlbVRleHR1cmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbVRleHR1cmUgPSB0aWxlLmRlbVRleHR1cmU7XG4gICAgICAgICAgICBkZW1UZXh0dXJlLnVwZGF0ZShwaXhlbERhdGEsIGZhbHNlKTtcbiAgICAgICAgICAgIGRlbVRleHR1cmUuYmluZChnbC5ORUFSRVNULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbGUuZGVtVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIHBpeGVsRGF0YSwgZ2wuUkdCQSwgZmFsc2UpO1xuICAgICAgICAgICAgdGlsZS5kZW1UZXh0dXJlLmJpbmQoZ2wuTkVBUkVTVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcblxuICAgICAgICBsZXQgZmJvID0gdGlsZS5mYm87XG5cbiAgICAgICAgaWYgKCFmYm8pIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlclRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB7d2lkdGg6IHRpbGVTaXplLCBoZWlnaHQ6IHRpbGVTaXplLCBkYXRhOiBudWxsfSwgZ2wuUkdCQSk7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcblxuICAgICAgICAgICAgZmJvID0gdGlsZS5mYm8gPSBjb250ZXh0LmNyZWF0ZUZyYW1lYnVmZmVyKHRpbGVTaXplLCB0aWxlU2l6ZSk7XG4gICAgICAgICAgICBmYm8uY29sb3JBdHRhY2htZW50LnNldChyZW5kZXJUZXh0dXJlLnRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgIGNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCB0aWxlU2l6ZSwgdGlsZVNpemVdKTtcblxuICAgICAgICBjb25zdCBtYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuICAgICAgICAvLyBGbGlwIHJlbmRlcmluZyBhdCB5IGF4aXMuXG4gICAgICAgIG1hdDQub3J0aG8obWF0cml4LCAwLCBFWFRFTlQsIC1FWFRFTlQsIDAsIDAsIDEpO1xuICAgICAgICBtYXQ0LnRyYW5zbGF0ZShtYXRyaXgsIG1hdHJpeCwgWzAsIC1FWFRFTlQsIDBdKTtcblxuICAgICAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdoaWxsc2hhZGVQcmVwYXJlJyk7XG5cbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgbWF0cml4KTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV96b29tLCB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWik7XG4gICAgICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X2RpbWVuc2lvbiwgW3RpbGVTaXplICogMiwgdGlsZVNpemUgKiAyXSk7XG4gICAgICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfaW1hZ2UsIDEpO1xuICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X21heHpvb20sIHNvdXJjZU1heFpvb20pO1xuXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHBhaW50ZXIucmFzdGVyQm91bmRzQnVmZmVyO1xuICAgICAgICBjb25zdCB2YW8gPSBwYWludGVyLnJhc3RlckJvdW5kc1ZBTztcblxuICAgICAgICB2YW8uYmluZChjb250ZXh0LCBwcm9ncmFtLCBidWZmZXIsIFtdKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgYnVmZmVyLmxlbmd0aCk7XG5cbiAgICAgICAgdGlsZS5uZWVkc0hpbGxzaGFkZVByZXBhcmUgPSBmYWxzZTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCBJbWFnZVNvdXJjZSBmcm9tICcuLi9zb3VyY2UvaW1hZ2Vfc291cmNlJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IHR5cGUgUmFzdGVyU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9yYXN0ZXJfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd1Jhc3RlcjtcblxuZnVuY3Rpb24gZHJhd1Jhc3RlcihwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBSYXN0ZXJTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyAhPT0gJ3RyYW5zbHVjZW50JykgcmV0dXJuO1xuICAgIGlmIChsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1vcGFjaXR5JykgPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ3Jhc3RlcicpO1xuXG4gICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShTdGVuY2lsTW9kZS5kaXNhYmxlZCk7XG4gICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuXG4gICAgLy8gQ29uc3RhbnQgcGFyYW1ldGVycy5cbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2JyaWdodG5lc3NfbG93LCBsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1icmlnaHRuZXNzLW1pbicpKTtcbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2JyaWdodG5lc3NfaGlnaCwgbGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItYnJpZ2h0bmVzcy1tYXgnKSk7XG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9zYXR1cmF0aW9uX2ZhY3Rvciwgc2F0dXJhdGlvbkZhY3RvcihsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1zYXR1cmF0aW9uJykpKTtcbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2NvbnRyYXN0X2ZhY3RvciwgY29udHJhc3RGYWN0b3IobGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItY29udHJhc3QnKSkpO1xuICAgIGdsLnVuaWZvcm0zZnYocHJvZ3JhbS51bmlmb3Jtcy51X3NwaW5fd2VpZ2h0cywgc3BpbldlaWdodHMobGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItaHVlLXJvdGF0ZScpKSk7XG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9idWZmZXJfc2NhbGUsIDEpO1xuICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfaW1hZ2UwLCAwKTtcbiAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X2ltYWdlMSwgMSk7XG5cbiAgICBjb25zdCBtaW5UaWxlWiA9IGNvb3Jkcy5sZW5ndGggJiYgY29vcmRzWzBdLm92ZXJzY2FsZWRaO1xuXG4gICAgZm9yIChjb25zdCBjb29yZCBvZiBjb29yZHMpIHtcbiAgICAgICAgLy8gU2V0IHRoZSBsb3dlciB6b29tIGxldmVsIHRvIHN1YmxheWVyIDAsIGFuZCBoaWdoZXIgem9vbSBsZXZlbHMgdG8gaGlnaGVyIHN1YmxheWVyc1xuICAgICAgICAvLyBVc2UgZ2wuTEVTUyB0byBwcmV2ZW50IGRvdWJsZSBkcmF3aW5nIGluIGFyZWFzIHdoZXJlIHRpbGVzIG92ZXJsYXAuXG4gICAgICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoY29vcmQub3ZlcnNjYWxlZFogLSBtaW5UaWxlWixcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgncmFzdGVyLW9wYWNpdHknKSA9PT0gMSA/IERlcHRoTW9kZS5SZWFkV3JpdGUgOiBEZXB0aE1vZGUuUmVhZE9ubHksIGdsLkxFU1MpKTtcblxuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IHBvc01hdHJpeCA9IHBhaW50ZXIudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeChjb29yZC50b1Vud3JhcHBlZCgpLCB0cnVlKTtcblxuICAgICAgICB0aWxlLnJlZ2lzdGVyRmFkZUR1cmF0aW9uKGxheWVyLnBhaW50LmdldCgncmFzdGVyLWZhZGUtZHVyYXRpb24nKSk7XG5cbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgcG9zTWF0cml4KTtcblxuICAgICAgICBjb25zdCBwYXJlbnRUaWxlID0gc291cmNlQ2FjaGUuZmluZExvYWRlZFBhcmVudChjb29yZCwgMCwge30pLFxuICAgICAgICAgICAgZmFkZSA9IGdldEZhZGVWYWx1ZXModGlsZSwgcGFyZW50VGlsZSwgc291cmNlQ2FjaGUsIGxheWVyLCBwYWludGVyLnRyYW5zZm9ybSk7XG5cbiAgICAgICAgbGV0IHBhcmVudFNjYWxlQnksIHBhcmVudFRMO1xuXG4gICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgICAgICB0aWxlLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UsIGdsLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCk7XG5cbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMSk7XG5cbiAgICAgICAgaWYgKHBhcmVudFRpbGUpIHtcbiAgICAgICAgICAgIHBhcmVudFRpbGUudGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSwgZ2wuTElORUFSX01JUE1BUF9ORUFSRVNUKTtcbiAgICAgICAgICAgIHBhcmVudFNjYWxlQnkgPSBNYXRoLnBvdygyLCBwYXJlbnRUaWxlLnRpbGVJRC5vdmVyc2NhbGVkWiAtIHRpbGUudGlsZUlELm92ZXJzY2FsZWRaKTtcbiAgICAgICAgICAgIHBhcmVudFRMID0gW3RpbGUudGlsZUlELmNhbm9uaWNhbC54ICogcGFyZW50U2NhbGVCeSAlIDEsIHRpbGUudGlsZUlELmNhbm9uaWNhbC55ICogcGFyZW50U2NhbGVCeSAlIDFdO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aWxlLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UsIGdsLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcm9zcy1mYWRlIHBhcmFtZXRlcnNcbiAgICAgICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfdGxfcGFyZW50LCBwYXJlbnRUTCB8fCBbMCwgMF0pO1xuICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3NjYWxlX3BhcmVudCwgcGFyZW50U2NhbGVCeSB8fCAxKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9mYWRlX3QsIGZhZGUubWl4KTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9vcGFjaXR5LCBmYWRlLm9wYWNpdHkgKiBsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1vcGFjaXR5JykpO1xuXG5cbiAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlU291cmNlKSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBzb3VyY2UuYm91bmRzQnVmZmVyO1xuICAgICAgICAgICAgY29uc3QgdmFvID0gc291cmNlLmJvdW5kc1ZBTztcbiAgICAgICAgICAgIHZhby5iaW5kKGNvbnRleHQsIHByb2dyYW0sIGJ1ZmZlciwgW10pO1xuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgYnVmZmVyLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGlsZS5tYXNrZWRCb3VuZHNCdWZmZXIgJiYgdGlsZS5tYXNrZWRJbmRleEJ1ZmZlciAmJiB0aWxlLnNlZ21lbnRzKSB7XG4gICAgICAgICAgICBwcm9ncmFtLmRyYXcoXG4gICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICBnbC5UUklBTkdMRVMsXG4gICAgICAgICAgICAgICAgbGF5ZXIuaWQsXG4gICAgICAgICAgICAgICAgdGlsZS5tYXNrZWRCb3VuZHNCdWZmZXIsXG4gICAgICAgICAgICAgICAgdGlsZS5tYXNrZWRJbmRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgICB0aWxlLnNlZ21lbnRzXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gcGFpbnRlci5yYXN0ZXJCb3VuZHNCdWZmZXI7XG4gICAgICAgICAgICBjb25zdCB2YW8gPSBwYWludGVyLnJhc3RlckJvdW5kc1ZBTztcbiAgICAgICAgICAgIHZhby5iaW5kKGNvbnRleHQsIHByb2dyYW0sIGJ1ZmZlciwgW10pO1xuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgYnVmZmVyLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNwaW5XZWlnaHRzKGFuZ2xlKSB7XG4gICAgYW5nbGUgKj0gTWF0aC5QSSAvIDE4MDtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgKDIgKiBjICsgMSkgLyAzLFxuICAgICAgICAoLU1hdGguc3FydCgzKSAqIHMgLSBjICsgMSkgLyAzLFxuICAgICAgICAoTWF0aC5zcXJ0KDMpICogcyAtIGMgKyAxKSAvIDNcbiAgICBdO1xufVxuXG5mdW5jdGlvbiBjb250cmFzdEZhY3Rvcihjb250cmFzdCkge1xuICAgIHJldHVybiBjb250cmFzdCA+IDAgP1xuICAgICAgICAxIC8gKDEgLSBjb250cmFzdCkgOlxuICAgICAgICAxICsgY29udHJhc3Q7XG59XG5cbmZ1bmN0aW9uIHNhdHVyYXRpb25GYWN0b3Ioc2F0dXJhdGlvbikge1xuICAgIHJldHVybiBzYXR1cmF0aW9uID4gMCA/XG4gICAgICAgIDEgLSAxIC8gKDEuMDAxIC0gc2F0dXJhdGlvbikgOlxuICAgICAgICAtc2F0dXJhdGlvbjtcbn1cblxuZnVuY3Rpb24gZ2V0RmFkZVZhbHVlcyh0aWxlLCBwYXJlbnRUaWxlLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIHRyYW5zZm9ybSkge1xuICAgIGNvbnN0IGZhZGVEdXJhdGlvbiA9IGxheWVyLnBhaW50LmdldCgncmFzdGVyLWZhZGUtZHVyYXRpb24nKTtcblxuICAgIGlmIChmYWRlRHVyYXRpb24gPiAwKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IGJyb3dzZXIubm93KCk7XG4gICAgICAgIGNvbnN0IHNpbmNlVGlsZSA9IChub3cgLSB0aWxlLnRpbWVBZGRlZCkgLyBmYWRlRHVyYXRpb247XG4gICAgICAgIGNvbnN0IHNpbmNlUGFyZW50ID0gcGFyZW50VGlsZSA/IChub3cgLSBwYXJlbnRUaWxlLnRpbWVBZGRlZCkgLyBmYWRlRHVyYXRpb24gOiAtMTtcblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKTtcbiAgICAgICAgY29uc3QgaWRlYWxaID0gdHJhbnNmb3JtLmNvdmVyaW5nWm9vbUxldmVsKHtcbiAgICAgICAgICAgIHRpbGVTaXplOiBzb3VyY2UudGlsZVNpemUsXG4gICAgICAgICAgICByb3VuZFpvb206IHNvdXJjZS5yb3VuZFpvb21cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaWYgbm8gcGFyZW50IG9yIHBhcmVudCBpcyBvbGRlciwgZmFkZSBpbjsgaWYgcGFyZW50IGlzIHlvdW5nZXIsIGZhZGUgb3V0XG4gICAgICAgIGNvbnN0IGZhZGVJbiA9ICFwYXJlbnRUaWxlIHx8IE1hdGguYWJzKHBhcmVudFRpbGUudGlsZUlELm92ZXJzY2FsZWRaIC0gaWRlYWxaKSA+IE1hdGguYWJzKHRpbGUudGlsZUlELm92ZXJzY2FsZWRaIC0gaWRlYWxaKTtcblxuICAgICAgICBjb25zdCBjaGlsZE9wYWNpdHkgPSAoZmFkZUluICYmIHRpbGUucmVmcmVzaGVkVXBvbkV4cGlyYXRpb24pID8gMSA6IGNsYW1wKGZhZGVJbiA/IHNpbmNlVGlsZSA6IDEgLSBzaW5jZVBhcmVudCwgMCwgMSk7XG5cbiAgICAgICAgLy8gd2UgZG9uJ3QgY3Jvc3NmYWRlIHRpbGVzIHRoYXQgd2VyZSBqdXN0IHJlZnJlc2hlZCB1cG9uIGV4cGlyaW5nOlxuICAgICAgICAvLyBvbmNlIHRoZXkncmUgb2xkIGVub3VnaCB0byBwYXNzIHRoZSBjcm9zc2ZhZGluZyB0aHJlc2hvbGRcbiAgICAgICAgLy8gKGZhZGVEdXJhdGlvbiksIHVuc2V0IHRoZSBgcmVmcmVzaGVkVXBvbkV4cGlyYXRpb25gIGZsYWcgc28gd2UgZG9uJ3RcbiAgICAgICAgLy8gaW5jb3JyZWN0bHkgZmFpbCB0byBjcm9zc2ZhZGUgdGhlbSB3aGVuIHpvb21pbmdcbiAgICAgICAgaWYgKHRpbGUucmVmcmVzaGVkVXBvbkV4cGlyYXRpb24gJiYgc2luY2VUaWxlID49IDEpIHRpbGUucmVmcmVzaGVkVXBvbkV4cGlyYXRpb24gPSBmYWxzZTtcblxuICAgICAgICBpZiAocGFyZW50VGlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIG1peDogMSAtIGNoaWxkT3BhY2l0eVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogY2hpbGRPcGFjaXR5LFxuICAgICAgICAgICAgICAgIG1peDogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgbWl4OiAwXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcblxuaW1wb3J0IHsgbWF0NCB9IGZyb20gJ0BtYXBib3gvZ2wtbWF0cml4JztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuaW1wb3J0IFZlcnRleEFycmF5T2JqZWN0IGZyb20gJy4vdmVydGV4X2FycmF5X29iamVjdCc7XG5pbXBvcnQgeyBQb3NBcnJheSB9IGZyb20gJy4uL2RhdGEvYXJyYXlfdHlwZXMnO1xuaW1wb3J0IHBvc0F0dHJpYnV0ZXMgZnJvbSAnLi4vZGF0YS9wb3NfYXR0cmlidXRlcyc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0RlYnVnO1xuXG5mdW5jdGlvbiBkcmF3RGVidWcocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZHJhd0RlYnVnVGlsZShwYWludGVyLCBzb3VyY2VDYWNoZSwgY29vcmRzW2ldKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdEZWJ1Z1RpbGUocGFpbnRlciwgc291cmNlQ2FjaGUsIGNvb3JkKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBjb250ZXh0LmxpbmVXaWR0aC5zZXQoMSAqIGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyk7XG5cbiAgICBjb25zdCBwb3NNYXRyaXggPSBjb29yZC5wb3NNYXRyaXg7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnZGVidWcnKTtcblxuICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKERlcHRoTW9kZS5kaXNhYmxlZCk7XG4gICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShTdGVuY2lsTW9kZS5kaXNhYmxlZCk7XG4gICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuXG4gICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgcG9zTWF0cml4KTtcbiAgICBnbC51bmlmb3JtNGYocHJvZ3JhbS51bmlmb3Jtcy51X2NvbG9yLCAxLCAwLCAwLCAxKTtcbiAgICBwYWludGVyLmRlYnVnVkFPLmJpbmQoY29udGV4dCwgcHJvZ3JhbSwgcGFpbnRlci5kZWJ1Z0J1ZmZlciwgW10pO1xuICAgIGdsLmRyYXdBcnJheXMoZ2wuTElORV9TVFJJUCwgMCwgcGFpbnRlci5kZWJ1Z0J1ZmZlci5sZW5ndGgpO1xuXG4gICAgY29uc3QgdmVydGljZXMgPSBjcmVhdGVUZXh0VmVydGljaWVzKGNvb3JkLnRvU3RyaW5nKCksIDUwLCAyMDAsIDUpO1xuICAgIGNvbnN0IGRlYnVnVGV4dEFycmF5ID0gbmV3IFBvc0FycmF5KCk7XG4gICAgZm9yIChsZXQgdiA9IDA7IHYgPCB2ZXJ0aWNlcy5sZW5ndGg7IHYgKz0gMikge1xuICAgICAgICBkZWJ1Z1RleHRBcnJheS5lbXBsYWNlQmFjayh2ZXJ0aWNlc1t2XSwgdmVydGljZXNbdiArIDFdKTtcbiAgICB9XG4gICAgY29uc3QgZGVidWdUZXh0QnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZGVidWdUZXh0QXJyYXksIHBvc0F0dHJpYnV0ZXMubWVtYmVycyk7XG4gICAgY29uc3QgZGVidWdUZXh0VkFPID0gbmV3IFZlcnRleEFycmF5T2JqZWN0KCk7XG4gICAgZGVidWdUZXh0VkFPLmJpbmQoY29udGV4dCwgcHJvZ3JhbSwgZGVidWdUZXh0QnVmZmVyLCBbXSk7XG4gICAgZ2wudW5pZm9ybTRmKHByb2dyYW0udW5pZm9ybXMudV9jb2xvciwgMSwgMSwgMSwgMSk7XG5cbiAgICAvLyBEcmF3IHRoZSBoYWxvIHdpdGggbXVsdGlwbGUgMXB4IGxpbmVzIGluc3RlYWQgb2Ygb25lIHdpZGVyIGxpbmUgYmVjYXVzZVxuICAgIC8vIHRoZSBnbCBzcGVjIGRvZXNuJ3QgZ3VhcmFudGVlIHN1cHBvcnQgZm9yIGxpbmVzIHdpdGggd2lkdGggPiAxLlxuICAgIGNvbnN0IHRpbGVTaXplID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCkudGlsZVNpemU7XG4gICAgY29uc3Qgb25lUGl4ZWwgPSBFWFRFTlQgLyAoTWF0aC5wb3coMiwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSAtIGNvb3JkLm92ZXJzY2FsZWRaKSAqIHRpbGVTaXplKTtcbiAgICBjb25zdCB0cmFuc2xhdGlvbnMgPSBbWy0xLCAtMV0sIFstMSwgMV0sIFsxLCAtMV0sIFsxLCAxXV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFuc2xhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbnNbaV07XG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIG1hdDQudHJhbnNsYXRlKFtdLCBwb3NNYXRyaXgsIFtvbmVQaXhlbCAqIHRyYW5zbGF0aW9uWzBdLCBvbmVQaXhlbCAqIHRyYW5zbGF0aW9uWzFdLCAwXSkpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTLCAwLCBkZWJ1Z1RleHRCdWZmZXIubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBnbC51bmlmb3JtNGYocHJvZ3JhbS51bmlmb3Jtcy51X2NvbG9yLCAwLCAwLCAwLCAxKTtcbiAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBwb3NNYXRyaXgpO1xuICAgIGdsLmRyYXdBcnJheXMoZ2wuTElORVMsIDAsIGRlYnVnVGV4dEJ1ZmZlci5sZW5ndGgpO1xufVxuXG4vLyBGb250IGRhdGEgRnJvbSBIZXJzaGV5IFNpbXBsZXggRm9udFxuLy8gaHR0cDovL3BhdWxib3Vya2UubmV0L2RhdGFmb3JtYXRzL2hlcnNoZXkvXG5jb25zdCBzaW1wbGV4Rm9udCA9IHtcbiAgICBcIiBcIjogWzE2LCBbXV0sXG4gICAgXCIhXCI6IFsxMCwgWzUsIDIxLCA1LCA3LCAtMSwgLTEsIDUsIDIsIDQsIDEsIDUsIDAsIDYsIDEsIDUsIDJdXSxcbiAgICBcIlxcXCJcIjogWzE2LCBbNCwgMjEsIDQsIDE0LCAtMSwgLTEsIDEyLCAyMSwgMTIsIDE0XV0sXG4gICAgXCIjXCI6IFsyMSwgWzExLCAyNSwgNCwgLTcsIC0xLCAtMSwgMTcsIDI1LCAxMCwgLTcsIC0xLCAtMSwgNCwgMTIsIDE4LCAxMiwgLTEsIC0xLCAzLCA2LCAxNywgNl1dLFxuICAgIFwiJFwiOiBbMjAsIFs4LCAyNSwgOCwgLTQsIC0xLCAtMSwgMTIsIDI1LCAxMiwgLTQsIC0xLCAtMSwgMTcsIDE4LCAxNSwgMjAsIDEyLCAyMSwgOCwgMjEsIDUsIDIwLCAzLCAxOCwgMywgMTYsIDQsIDE0LCA1LCAxMywgNywgMTIsIDEzLCAxMCwgMTUsIDksIDE2LCA4LCAxNywgNiwgMTcsIDMsIDE1LCAxLCAxMiwgMCwgOCwgMCwgNSwgMSwgMywgM11dLFxuICAgIFwiJVwiOiBbMjQsIFsyMSwgMjEsIDMsIDAsIC0xLCAtMSwgOCwgMjEsIDEwLCAxOSwgMTAsIDE3LCA5LCAxNSwgNywgMTQsIDUsIDE0LCAzLCAxNiwgMywgMTgsIDQsIDIwLCA2LCAyMSwgOCwgMjEsIDEwLCAyMCwgMTMsIDE5LCAxNiwgMTksIDE5LCAyMCwgMjEsIDIxLCAtMSwgLTEsIDE3LCA3LCAxNSwgNiwgMTQsIDQsIDE0LCAyLCAxNiwgMCwgMTgsIDAsIDIwLCAxLCAyMSwgMywgMjEsIDUsIDE5LCA3LCAxNywgN11dLFxuICAgIFwiJlwiOiBbMjYsIFsyMywgMTIsIDIzLCAxMywgMjIsIDE0LCAyMSwgMTQsIDIwLCAxMywgMTksIDExLCAxNywgNiwgMTUsIDMsIDEzLCAxLCAxMSwgMCwgNywgMCwgNSwgMSwgNCwgMiwgMywgNCwgMywgNiwgNCwgOCwgNSwgOSwgMTIsIDEzLCAxMywgMTQsIDE0LCAxNiwgMTQsIDE4LCAxMywgMjAsIDExLCAyMSwgOSwgMjAsIDgsIDE4LCA4LCAxNiwgOSwgMTMsIDExLCAxMCwgMTYsIDMsIDE4LCAxLCAyMCwgMCwgMjIsIDAsIDIzLCAxLCAyMywgMl1dLFxuICAgIFwiJ1wiOiBbMTAsIFs1LCAxOSwgNCwgMjAsIDUsIDIxLCA2LCAyMCwgNiwgMTgsIDUsIDE2LCA0LCAxNV1dLFxuICAgIFwiKFwiOiBbMTQsIFsxMSwgMjUsIDksIDIzLCA3LCAyMCwgNSwgMTYsIDQsIDExLCA0LCA3LCA1LCAyLCA3LCAtMiwgOSwgLTUsIDExLCAtN11dLFxuICAgIFwiKVwiOiBbMTQsIFszLCAyNSwgNSwgMjMsIDcsIDIwLCA5LCAxNiwgMTAsIDExLCAxMCwgNywgOSwgMiwgNywgLTIsIDUsIC01LCAzLCAtN11dLFxuICAgIFwiKlwiOiBbMTYsIFs4LCAyMSwgOCwgOSwgLTEsIC0xLCAzLCAxOCwgMTMsIDEyLCAtMSwgLTEsIDEzLCAxOCwgMywgMTJdXSxcbiAgICBcIitcIjogWzI2LCBbMTMsIDE4LCAxMywgMCwgLTEsIC0xLCA0LCA5LCAyMiwgOV1dLFxuICAgIFwiLFwiOiBbMTAsIFs2LCAxLCA1LCAwLCA0LCAxLCA1LCAyLCA2LCAxLCA2LCAtMSwgNSwgLTMsIDQsIC00XV0sXG4gICAgXCItXCI6IFsyNiwgWzQsIDksIDIyLCA5XV0sXG4gICAgXCIuXCI6IFsxMCwgWzUsIDIsIDQsIDEsIDUsIDAsIDYsIDEsIDUsIDJdXSxcbiAgICBcIi9cIjogWzIyLCBbMjAsIDI1LCAyLCAtN11dLFxuICAgIFwiMFwiOiBbMjAsIFs5LCAyMSwgNiwgMjAsIDQsIDE3LCAzLCAxMiwgMywgOSwgNCwgNCwgNiwgMSwgOSwgMCwgMTEsIDAsIDE0LCAxLCAxNiwgNCwgMTcsIDksIDE3LCAxMiwgMTYsIDE3LCAxNCwgMjAsIDExLCAyMSwgOSwgMjFdXSxcbiAgICBcIjFcIjogWzIwLCBbNiwgMTcsIDgsIDE4LCAxMSwgMjEsIDExLCAwXV0sXG4gICAgXCIyXCI6IFsyMCwgWzQsIDE2LCA0LCAxNywgNSwgMTksIDYsIDIwLCA4LCAyMSwgMTIsIDIxLCAxNCwgMjAsIDE1LCAxOSwgMTYsIDE3LCAxNiwgMTUsIDE1LCAxMywgMTMsIDEwLCAzLCAwLCAxNywgMF1dLFxuICAgIFwiM1wiOiBbMjAsIFs1LCAyMSwgMTYsIDIxLCAxMCwgMTMsIDEzLCAxMywgMTUsIDEyLCAxNiwgMTEsIDE3LCA4LCAxNywgNiwgMTYsIDMsIDE0LCAxLCAxMSwgMCwgOCwgMCwgNSwgMSwgNCwgMiwgMywgNF1dLFxuICAgIFwiNFwiOiBbMjAsIFsxMywgMjEsIDMsIDcsIDE4LCA3LCAtMSwgLTEsIDEzLCAyMSwgMTMsIDBdXSxcbiAgICBcIjVcIjogWzIwLCBbMTUsIDIxLCA1LCAyMSwgNCwgMTIsIDUsIDEzLCA4LCAxNCwgMTEsIDE0LCAxNCwgMTMsIDE2LCAxMSwgMTcsIDgsIDE3LCA2LCAxNiwgMywgMTQsIDEsIDExLCAwLCA4LCAwLCA1LCAxLCA0LCAyLCAzLCA0XV0sXG4gICAgXCI2XCI6IFsyMCwgWzE2LCAxOCwgMTUsIDIwLCAxMiwgMjEsIDEwLCAyMSwgNywgMjAsIDUsIDE3LCA0LCAxMiwgNCwgNywgNSwgMywgNywgMSwgMTAsIDAsIDExLCAwLCAxNCwgMSwgMTYsIDMsIDE3LCA2LCAxNywgNywgMTYsIDEwLCAxNCwgMTIsIDExLCAxMywgMTAsIDEzLCA3LCAxMiwgNSwgMTAsIDQsIDddXSxcbiAgICBcIjdcIjogWzIwLCBbMTcsIDIxLCA3LCAwLCAtMSwgLTEsIDMsIDIxLCAxNywgMjFdXSxcbiAgICBcIjhcIjogWzIwLCBbOCwgMjEsIDUsIDIwLCA0LCAxOCwgNCwgMTYsIDUsIDE0LCA3LCAxMywgMTEsIDEyLCAxNCwgMTEsIDE2LCA5LCAxNywgNywgMTcsIDQsIDE2LCAyLCAxNSwgMSwgMTIsIDAsIDgsIDAsIDUsIDEsIDQsIDIsIDMsIDQsIDMsIDcsIDQsIDksIDYsIDExLCA5LCAxMiwgMTMsIDEzLCAxNSwgMTQsIDE2LCAxNiwgMTYsIDE4LCAxNSwgMjAsIDEyLCAyMSwgOCwgMjFdXSxcbiAgICBcIjlcIjogWzIwLCBbMTYsIDE0LCAxNSwgMTEsIDEzLCA5LCAxMCwgOCwgOSwgOCwgNiwgOSwgNCwgMTEsIDMsIDE0LCAzLCAxNSwgNCwgMTgsIDYsIDIwLCA5LCAyMSwgMTAsIDIxLCAxMywgMjAsIDE1LCAxOCwgMTYsIDE0LCAxNiwgOSwgMTUsIDQsIDEzLCAxLCAxMCwgMCwgOCwgMCwgNSwgMSwgNCwgM11dLFxuICAgIFwiOlwiOiBbMTAsIFs1LCAxNCwgNCwgMTMsIDUsIDEyLCA2LCAxMywgNSwgMTQsIC0xLCAtMSwgNSwgMiwgNCwgMSwgNSwgMCwgNiwgMSwgNSwgMl1dLFxuICAgIFwiO1wiOiBbMTAsIFs1LCAxNCwgNCwgMTMsIDUsIDEyLCA2LCAxMywgNSwgMTQsIC0xLCAtMSwgNiwgMSwgNSwgMCwgNCwgMSwgNSwgMiwgNiwgMSwgNiwgLTEsIDUsIC0zLCA0LCAtNF1dLFxuICAgIFwiPFwiOiBbMjQsIFsyMCwgMTgsIDQsIDksIDIwLCAwXV0sXG4gICAgXCI9XCI6IFsyNiwgWzQsIDEyLCAyMiwgMTIsIC0xLCAtMSwgNCwgNiwgMjIsIDZdXSxcbiAgICBcIj5cIjogWzI0LCBbNCwgMTgsIDIwLCA5LCA0LCAwXV0sXG4gICAgXCI/XCI6IFsxOCwgWzMsIDE2LCAzLCAxNywgNCwgMTksIDUsIDIwLCA3LCAyMSwgMTEsIDIxLCAxMywgMjAsIDE0LCAxOSwgMTUsIDE3LCAxNSwgMTUsIDE0LCAxMywgMTMsIDEyLCA5LCAxMCwgOSwgNywgLTEsIC0xLCA5LCAyLCA4LCAxLCA5LCAwLCAxMCwgMSwgOSwgMl1dLFxuICAgIFwiQFwiOiBbMjcsIFsxOCwgMTMsIDE3LCAxNSwgMTUsIDE2LCAxMiwgMTYsIDEwLCAxNSwgOSwgMTQsIDgsIDExLCA4LCA4LCA5LCA2LCAxMSwgNSwgMTQsIDUsIDE2LCA2LCAxNywgOCwgLTEsIC0xLCAxMiwgMTYsIDEwLCAxNCwgOSwgMTEsIDksIDgsIDEwLCA2LCAxMSwgNSwgLTEsIC0xLCAxOCwgMTYsIDE3LCA4LCAxNywgNiwgMTksIDUsIDIxLCA1LCAyMywgNywgMjQsIDEwLCAyNCwgMTIsIDIzLCAxNSwgMjIsIDE3LCAyMCwgMTksIDE4LCAyMCwgMTUsIDIxLCAxMiwgMjEsIDksIDIwLCA3LCAxOSwgNSwgMTcsIDQsIDE1LCAzLCAxMiwgMywgOSwgNCwgNiwgNSwgNCwgNywgMiwgOSwgMSwgMTIsIDAsIDE1LCAwLCAxOCwgMSwgMjAsIDIsIDIxLCAzLCAtMSwgLTEsIDE5LCAxNiwgMTgsIDgsIDE4LCA2LCAxOSwgNV1dLFxuICAgIFwiQVwiOiBbMTgsIFs5LCAyMSwgMSwgMCwgLTEsIC0xLCA5LCAyMSwgMTcsIDAsIC0xLCAtMSwgNCwgNywgMTQsIDddXSxcbiAgICBcIkJcIjogWzIxLCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgNCwgMjEsIDEzLCAyMSwgMTYsIDIwLCAxNywgMTksIDE4LCAxNywgMTgsIDE1LCAxNywgMTMsIDE2LCAxMiwgMTMsIDExLCAtMSwgLTEsIDQsIDExLCAxMywgMTEsIDE2LCAxMCwgMTcsIDksIDE4LCA3LCAxOCwgNCwgMTcsIDIsIDE2LCAxLCAxMywgMCwgNCwgMF1dLFxuICAgIFwiQ1wiOiBbMjEsIFsxOCwgMTYsIDE3LCAxOCwgMTUsIDIwLCAxMywgMjEsIDksIDIxLCA3LCAyMCwgNSwgMTgsIDQsIDE2LCAzLCAxMywgMywgOCwgNCwgNSwgNSwgMywgNywgMSwgOSwgMCwgMTMsIDAsIDE1LCAxLCAxNywgMywgMTgsIDVdXSxcbiAgICBcIkRcIjogWzIxLCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgNCwgMjEsIDExLCAyMSwgMTQsIDIwLCAxNiwgMTgsIDE3LCAxNiwgMTgsIDEzLCAxOCwgOCwgMTcsIDUsIDE2LCAzLCAxNCwgMSwgMTEsIDAsIDQsIDBdXSxcbiAgICBcIkVcIjogWzE5LCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgNCwgMjEsIDE3LCAyMSwgLTEsIC0xLCA0LCAxMSwgMTIsIDExLCAtMSwgLTEsIDQsIDAsIDE3LCAwXV0sXG4gICAgXCJGXCI6IFsxOCwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDIxLCAxNywgMjEsIC0xLCAtMSwgNCwgMTEsIDEyLCAxMV1dLFxuICAgIFwiR1wiOiBbMjEsIFsxOCwgMTYsIDE3LCAxOCwgMTUsIDIwLCAxMywgMjEsIDksIDIxLCA3LCAyMCwgNSwgMTgsIDQsIDE2LCAzLCAxMywgMywgOCwgNCwgNSwgNSwgMywgNywgMSwgOSwgMCwgMTMsIDAsIDE1LCAxLCAxNywgMywgMTgsIDUsIDE4LCA4LCAtMSwgLTEsIDEzLCA4LCAxOCwgOF1dLFxuICAgIFwiSFwiOiBbMjIsIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCAxOCwgMjEsIDE4LCAwLCAtMSwgLTEsIDQsIDExLCAxOCwgMTFdXSxcbiAgICBcIklcIjogWzgsIFs0LCAyMSwgNCwgMF1dLFxuICAgIFwiSlwiOiBbMTYsIFsxMiwgMjEsIDEyLCA1LCAxMSwgMiwgMTAsIDEsIDgsIDAsIDYsIDAsIDQsIDEsIDMsIDIsIDIsIDUsIDIsIDddXSxcbiAgICBcIktcIjogWzIxLCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgMTgsIDIxLCA0LCA3LCAtMSwgLTEsIDksIDEyLCAxOCwgMF1dLFxuICAgIFwiTFwiOiBbMTcsIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCA0LCAwLCAxNiwgMF1dLFxuICAgIFwiTVwiOiBbMjQsIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCA0LCAyMSwgMTIsIDAsIC0xLCAtMSwgMjAsIDIxLCAxMiwgMCwgLTEsIC0xLCAyMCwgMjEsIDIwLCAwXV0sXG4gICAgXCJOXCI6IFsyMiwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDIxLCAxOCwgMCwgLTEsIC0xLCAxOCwgMjEsIDE4LCAwXV0sXG4gICAgXCJPXCI6IFsyMiwgWzksIDIxLCA3LCAyMCwgNSwgMTgsIDQsIDE2LCAzLCAxMywgMywgOCwgNCwgNSwgNSwgMywgNywgMSwgOSwgMCwgMTMsIDAsIDE1LCAxLCAxNywgMywgMTgsIDUsIDE5LCA4LCAxOSwgMTMsIDE4LCAxNiwgMTcsIDE4LCAxNSwgMjAsIDEzLCAyMSwgOSwgMjFdXSxcbiAgICBcIlBcIjogWzIxLCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgNCwgMjEsIDEzLCAyMSwgMTYsIDIwLCAxNywgMTksIDE4LCAxNywgMTgsIDE0LCAxNywgMTIsIDE2LCAxMSwgMTMsIDEwLCA0LCAxMF1dLFxuICAgIFwiUVwiOiBbMjIsIFs5LCAyMSwgNywgMjAsIDUsIDE4LCA0LCAxNiwgMywgMTMsIDMsIDgsIDQsIDUsIDUsIDMsIDcsIDEsIDksIDAsIDEzLCAwLCAxNSwgMSwgMTcsIDMsIDE4LCA1LCAxOSwgOCwgMTksIDEzLCAxOCwgMTYsIDE3LCAxOCwgMTUsIDIwLCAxMywgMjEsIDksIDIxLCAtMSwgLTEsIDEyLCA0LCAxOCwgLTJdXSxcbiAgICBcIlJcIjogWzIxLCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgNCwgMjEsIDEzLCAyMSwgMTYsIDIwLCAxNywgMTksIDE4LCAxNywgMTgsIDE1LCAxNywgMTMsIDE2LCAxMiwgMTMsIDExLCA0LCAxMSwgLTEsIC0xLCAxMSwgMTEsIDE4LCAwXV0sXG4gICAgXCJTXCI6IFsyMCwgWzE3LCAxOCwgMTUsIDIwLCAxMiwgMjEsIDgsIDIxLCA1LCAyMCwgMywgMTgsIDMsIDE2LCA0LCAxNCwgNSwgMTMsIDcsIDEyLCAxMywgMTAsIDE1LCA5LCAxNiwgOCwgMTcsIDYsIDE3LCAzLCAxNSwgMSwgMTIsIDAsIDgsIDAsIDUsIDEsIDMsIDNdXSxcbiAgICBcIlRcIjogWzE2LCBbOCwgMjEsIDgsIDAsIC0xLCAtMSwgMSwgMjEsIDE1LCAyMV1dLFxuICAgIFwiVVwiOiBbMjIsIFs0LCAyMSwgNCwgNiwgNSwgMywgNywgMSwgMTAsIDAsIDEyLCAwLCAxNSwgMSwgMTcsIDMsIDE4LCA2LCAxOCwgMjFdXSxcbiAgICBcIlZcIjogWzE4LCBbMSwgMjEsIDksIDAsIC0xLCAtMSwgMTcsIDIxLCA5LCAwXV0sXG4gICAgXCJXXCI6IFsyNCwgWzIsIDIxLCA3LCAwLCAtMSwgLTEsIDEyLCAyMSwgNywgMCwgLTEsIC0xLCAxMiwgMjEsIDE3LCAwLCAtMSwgLTEsIDIyLCAyMSwgMTcsIDBdXSxcbiAgICBcIlhcIjogWzIwLCBbMywgMjEsIDE3LCAwLCAtMSwgLTEsIDE3LCAyMSwgMywgMF1dLFxuICAgIFwiWVwiOiBbMTgsIFsxLCAyMSwgOSwgMTEsIDksIDAsIC0xLCAtMSwgMTcsIDIxLCA5LCAxMV1dLFxuICAgIFwiWlwiOiBbMjAsIFsxNywgMjEsIDMsIDAsIC0xLCAtMSwgMywgMjEsIDE3LCAyMSwgLTEsIC0xLCAzLCAwLCAxNywgMF1dLFxuICAgIFwiW1wiOiBbMTQsIFs0LCAyNSwgNCwgLTcsIC0xLCAtMSwgNSwgMjUsIDUsIC03LCAtMSwgLTEsIDQsIDI1LCAxMSwgMjUsIC0xLCAtMSwgNCwgLTcsIDExLCAtN11dLFxuICAgIFwiXFxcXFwiOiBbMTQsIFswLCAyMSwgMTQsIC0zXV0sXG4gICAgXCJdXCI6IFsxNCwgWzksIDI1LCA5LCAtNywgLTEsIC0xLCAxMCwgMjUsIDEwLCAtNywgLTEsIC0xLCAzLCAyNSwgMTAsIDI1LCAtMSwgLTEsIDMsIC03LCAxMCwgLTddXSxcbiAgICBcIl5cIjogWzE2LCBbNiwgMTUsIDgsIDE4LCAxMCwgMTUsIC0xLCAtMSwgMywgMTIsIDgsIDE3LCAxMywgMTIsIC0xLCAtMSwgOCwgMTcsIDgsIDBdXSxcbiAgICBcIl9cIjogWzE2LCBbMCwgLTIsIDE2LCAtMl1dLFxuICAgIFwiYFwiOiBbMTAsIFs2LCAyMSwgNSwgMjAsIDQsIDE4LCA0LCAxNiwgNSwgMTUsIDYsIDE2LCA1LCAxN11dLFxuICAgIFwiYVwiOiBbMTksIFsxNSwgMTQsIDE1LCAwLCAtMSwgLTEsIDE1LCAxMSwgMTMsIDEzLCAxMSwgMTQsIDgsIDE0LCA2LCAxMywgNCwgMTEsIDMsIDgsIDMsIDYsIDQsIDMsIDYsIDEsIDgsIDAsIDExLCAwLCAxMywgMSwgMTUsIDNdXSxcbiAgICBcImJcIjogWzE5LCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgNCwgMTEsIDYsIDEzLCA4LCAxNCwgMTEsIDE0LCAxMywgMTMsIDE1LCAxMSwgMTYsIDgsIDE2LCA2LCAxNSwgMywgMTMsIDEsIDExLCAwLCA4LCAwLCA2LCAxLCA0LCAzXV0sXG4gICAgXCJjXCI6IFsxOCwgWzE1LCAxMSwgMTMsIDEzLCAxMSwgMTQsIDgsIDE0LCA2LCAxMywgNCwgMTEsIDMsIDgsIDMsIDYsIDQsIDMsIDYsIDEsIDgsIDAsIDExLCAwLCAxMywgMSwgMTUsIDNdXSxcbiAgICBcImRcIjogWzE5LCBbMTUsIDIxLCAxNSwgMCwgLTEsIC0xLCAxNSwgMTEsIDEzLCAxMywgMTEsIDE0LCA4LCAxNCwgNiwgMTMsIDQsIDExLCAzLCA4LCAzLCA2LCA0LCAzLCA2LCAxLCA4LCAwLCAxMSwgMCwgMTMsIDEsIDE1LCAzXV0sXG4gICAgXCJlXCI6IFsxOCwgWzMsIDgsIDE1LCA4LCAxNSwgMTAsIDE0LCAxMiwgMTMsIDEzLCAxMSwgMTQsIDgsIDE0LCA2LCAxMywgNCwgMTEsIDMsIDgsIDMsIDYsIDQsIDMsIDYsIDEsIDgsIDAsIDExLCAwLCAxMywgMSwgMTUsIDNdXSxcbiAgICBcImZcIjogWzEyLCBbMTAsIDIxLCA4LCAyMSwgNiwgMjAsIDUsIDE3LCA1LCAwLCAtMSwgLTEsIDIsIDE0LCA5LCAxNF1dLFxuICAgIFwiZ1wiOiBbMTksIFsxNSwgMTQsIDE1LCAtMiwgMTQsIC01LCAxMywgLTYsIDExLCAtNywgOCwgLTcsIDYsIC02LCAtMSwgLTEsIDE1LCAxMSwgMTMsIDEzLCAxMSwgMTQsIDgsIDE0LCA2LCAxMywgNCwgMTEsIDMsIDgsIDMsIDYsIDQsIDMsIDYsIDEsIDgsIDAsIDExLCAwLCAxMywgMSwgMTUsIDNdXSxcbiAgICBcImhcIjogWzE5LCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgNCwgMTAsIDcsIDEzLCA5LCAxNCwgMTIsIDE0LCAxNCwgMTMsIDE1LCAxMCwgMTUsIDBdXSxcbiAgICBcImlcIjogWzgsIFszLCAyMSwgNCwgMjAsIDUsIDIxLCA0LCAyMiwgMywgMjEsIC0xLCAtMSwgNCwgMTQsIDQsIDBdXSxcbiAgICBcImpcIjogWzEwLCBbNSwgMjEsIDYsIDIwLCA3LCAyMSwgNiwgMjIsIDUsIDIxLCAtMSwgLTEsIDYsIDE0LCA2LCAtMywgNSwgLTYsIDMsIC03LCAxLCAtN11dLFxuICAgIFwia1wiOiBbMTcsIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCAxNCwgMTQsIDQsIDQsIC0xLCAtMSwgOCwgOCwgMTUsIDBdXSxcbiAgICBcImxcIjogWzgsIFs0LCAyMSwgNCwgMF1dLFxuICAgIFwibVwiOiBbMzAsIFs0LCAxNCwgNCwgMCwgLTEsIC0xLCA0LCAxMCwgNywgMTMsIDksIDE0LCAxMiwgMTQsIDE0LCAxMywgMTUsIDEwLCAxNSwgMCwgLTEsIC0xLCAxNSwgMTAsIDE4LCAxMywgMjAsIDE0LCAyMywgMTQsIDI1LCAxMywgMjYsIDEwLCAyNiwgMF1dLFxuICAgIFwiblwiOiBbMTksIFs0LCAxNCwgNCwgMCwgLTEsIC0xLCA0LCAxMCwgNywgMTMsIDksIDE0LCAxMiwgMTQsIDE0LCAxMywgMTUsIDEwLCAxNSwgMF1dLFxuICAgIFwib1wiOiBbMTksIFs4LCAxNCwgNiwgMTMsIDQsIDExLCAzLCA4LCAzLCA2LCA0LCAzLCA2LCAxLCA4LCAwLCAxMSwgMCwgMTMsIDEsIDE1LCAzLCAxNiwgNiwgMTYsIDgsIDE1LCAxMSwgMTMsIDEzLCAxMSwgMTQsIDgsIDE0XV0sXG4gICAgXCJwXCI6IFsxOSwgWzQsIDE0LCA0LCAtNywgLTEsIC0xLCA0LCAxMSwgNiwgMTMsIDgsIDE0LCAxMSwgMTQsIDEzLCAxMywgMTUsIDExLCAxNiwgOCwgMTYsIDYsIDE1LCAzLCAxMywgMSwgMTEsIDAsIDgsIDAsIDYsIDEsIDQsIDNdXSxcbiAgICBcInFcIjogWzE5LCBbMTUsIDE0LCAxNSwgLTcsIC0xLCAtMSwgMTUsIDExLCAxMywgMTMsIDExLCAxNCwgOCwgMTQsIDYsIDEzLCA0LCAxMSwgMywgOCwgMywgNiwgNCwgMywgNiwgMSwgOCwgMCwgMTEsIDAsIDEzLCAxLCAxNSwgM11dLFxuICAgIFwiclwiOiBbMTMsIFs0LCAxNCwgNCwgMCwgLTEsIC0xLCA0LCA4LCA1LCAxMSwgNywgMTMsIDksIDE0LCAxMiwgMTRdXSxcbiAgICBcInNcIjogWzE3LCBbMTQsIDExLCAxMywgMTMsIDEwLCAxNCwgNywgMTQsIDQsIDEzLCAzLCAxMSwgNCwgOSwgNiwgOCwgMTEsIDcsIDEzLCA2LCAxNCwgNCwgMTQsIDMsIDEzLCAxLCAxMCwgMCwgNywgMCwgNCwgMSwgMywgM11dLFxuICAgIFwidFwiOiBbMTIsIFs1LCAyMSwgNSwgNCwgNiwgMSwgOCwgMCwgMTAsIDAsIC0xLCAtMSwgMiwgMTQsIDksIDE0XV0sXG4gICAgXCJ1XCI6IFsxOSwgWzQsIDE0LCA0LCA0LCA1LCAxLCA3LCAwLCAxMCwgMCwgMTIsIDEsIDE1LCA0LCAtMSwgLTEsIDE1LCAxNCwgMTUsIDBdXSxcbiAgICBcInZcIjogWzE2LCBbMiwgMTQsIDgsIDAsIC0xLCAtMSwgMTQsIDE0LCA4LCAwXV0sXG4gICAgXCJ3XCI6IFsyMiwgWzMsIDE0LCA3LCAwLCAtMSwgLTEsIDExLCAxNCwgNywgMCwgLTEsIC0xLCAxMSwgMTQsIDE1LCAwLCAtMSwgLTEsIDE5LCAxNCwgMTUsIDBdXSxcbiAgICBcInhcIjogWzE3LCBbMywgMTQsIDE0LCAwLCAtMSwgLTEsIDE0LCAxNCwgMywgMF1dLFxuICAgIFwieVwiOiBbMTYsIFsyLCAxNCwgOCwgMCwgLTEsIC0xLCAxNCwgMTQsIDgsIDAsIDYsIC00LCA0LCAtNiwgMiwgLTcsIDEsIC03XV0sXG4gICAgXCJ6XCI6IFsxNywgWzE0LCAxNCwgMywgMCwgLTEsIC0xLCAzLCAxNCwgMTQsIDE0LCAtMSwgLTEsIDMsIDAsIDE0LCAwXV0sXG4gICAgXCJ7XCI6IFsxNCwgWzksIDI1LCA3LCAyNCwgNiwgMjMsIDUsIDIxLCA1LCAxOSwgNiwgMTcsIDcsIDE2LCA4LCAxNCwgOCwgMTIsIDYsIDEwLCAtMSwgLTEsIDcsIDI0LCA2LCAyMiwgNiwgMjAsIDcsIDE4LCA4LCAxNywgOSwgMTUsIDksIDEzLCA4LCAxMSwgNCwgOSwgOCwgNywgOSwgNSwgOSwgMywgOCwgMSwgNywgMCwgNiwgLTIsIDYsIC00LCA3LCAtNiwgLTEsIC0xLCA2LCA4LCA4LCA2LCA4LCA0LCA3LCAyLCA2LCAxLCA1LCAtMSwgNSwgLTMsIDYsIC01LCA3LCAtNiwgOSwgLTddXSxcbiAgICBcInxcIjogWzgsIFs0LCAyNSwgNCwgLTddXSxcbiAgICBcIn1cIjogWzE0LCBbNSwgMjUsIDcsIDI0LCA4LCAyMywgOSwgMjEsIDksIDE5LCA4LCAxNywgNywgMTYsIDYsIDE0LCA2LCAxMiwgOCwgMTAsIC0xLCAtMSwgNywgMjQsIDgsIDIyLCA4LCAyMCwgNywgMTgsIDYsIDE3LCA1LCAxNSwgNSwgMTMsIDYsIDExLCAxMCwgOSwgNiwgNywgNSwgNSwgNSwgMywgNiwgMSwgNywgMCwgOCwgLTIsIDgsIC00LCA3LCAtNiwgLTEsIC0xLCA4LCA4LCA2LCA2LCA2LCA0LCA3LCAyLCA4LCAxLCA5LCAtMSwgOSwgLTMsIDgsIC01LCA3LCAtNiwgNSwgLTddXSxcbiAgICBcIn5cIjogWzI0LCBbMywgNiwgMywgOCwgNCwgMTEsIDYsIDEyLCA4LCAxMiwgMTAsIDExLCAxNCwgOCwgMTYsIDcsIDE4LCA3LCAyMCwgOCwgMjEsIDEwLCAtMSwgLTEsIDMsIDgsIDQsIDEwLCA2LCAxMSwgOCwgMTEsIDEwLCAxMCwgMTQsIDcsIDE2LCA2LCAxOCwgNiwgMjAsIDcsIDIxLCAxMCwgMjEsIDEyXV1cbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVRleHRWZXJ0aWNpZXModGV4dCwgbGVmdCwgYmFzZWxpbmUsIHNjYWxlKSB7XG4gICAgc2NhbGUgPSBzY2FsZSB8fCAxO1xuXG4gICAgY29uc3Qgc3Ryb2tlcyA9IFtdO1xuICAgIGxldCBpLCBsZW4sIGosIGxlbjIsIGdseXBoLCB4LCB5LCBwcmV2O1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gdGV4dC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBnbHlwaCA9IHNpbXBsZXhGb250W3RleHRbaV1dO1xuICAgICAgICBpZiAoIWdseXBoKSBjb250aW51ZTtcbiAgICAgICAgcHJldiA9IG51bGw7XG5cbiAgICAgICAgZm9yIChqID0gMCwgbGVuMiA9IGdseXBoWzFdLmxlbmd0aDsgaiA8IGxlbjI7IGogKz0gMikge1xuICAgICAgICAgICAgaWYgKGdseXBoWzFdW2pdID09PSAtMSAmJiBnbHlwaFsxXVtqICsgMV0gPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcHJldiA9IG51bGw7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeCA9IGxlZnQgKyBnbHlwaFsxXVtqXSAqIHNjYWxlO1xuICAgICAgICAgICAgICAgIHkgPSBiYXNlbGluZSAtIGdseXBoWzFdW2ogKyAxXSAqIHNjYWxlO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZXMucHVzaChwcmV2LngsIHByZXYueSwgeCwgeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXYgPSB7eDogeCwgeTogeX07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGVmdCArPSBnbHlwaFswXSAqIHNjYWxlO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJva2VzO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcblxuaW1wb3J0IHsgbWF0NCB9IGZyb20gJ0BtYXBib3gvZ2wtbWF0cml4JztcbmltcG9ydCBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuaW1wb3J0IHBpeGVsc1RvVGlsZVVuaXRzIGZyb20gJy4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cyc7XG5pbXBvcnQgeyBmaWx0ZXJPYmplY3QgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IFZlcnRleEFycmF5T2JqZWN0IGZyb20gJy4vdmVydGV4X2FycmF5X29iamVjdCc7XG5pbXBvcnQgeyBSYXN0ZXJCb3VuZHNBcnJheSwgUG9zQXJyYXkgfSBmcm9tICcuLi9kYXRhL2FycmF5X3R5cGVzJztcbmltcG9ydCByYXN0ZXJCb3VuZHNBdHRyaWJ1dGVzIGZyb20gJy4uL2RhdGEvcmFzdGVyX2JvdW5kc19hdHRyaWJ1dGVzJztcbmltcG9ydCBwb3NBdHRyaWJ1dGVzIGZyb20gJy4uL2RhdGEvcG9zX2F0dHJpYnV0ZXMnO1xuaW1wb3J0IFByb2dyYW1Db25maWd1cmF0aW9uIGZyb20gJy4uL2RhdGEvcHJvZ3JhbV9jb25maWd1cmF0aW9uJztcbmltcG9ydCBDcm9zc1RpbGVTeW1ib2xJbmRleCBmcm9tICcuLi9zeW1ib2wvY3Jvc3NfdGlsZV9zeW1ib2xfaW5kZXgnO1xuaW1wb3J0IHNoYWRlcnMgZnJvbSAnLi4vc2hhZGVycyc7XG5pbXBvcnQgUHJvZ3JhbSBmcm9tICcuL3Byb2dyYW0nO1xuaW1wb3J0IENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dCc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgQ29sb3JNb2RlIGZyb20gJy4uL2dsL2NvbG9yX21vZGUnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi90ZXh0dXJlJztcbmltcG9ydCB1cGRhdGVUaWxlTWFza3MgZnJvbSAnLi90aWxlX21hc2snO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5pbXBvcnQgc3ltYm9sIGZyb20gJy4vZHJhd19zeW1ib2wnO1xuaW1wb3J0IGNpcmNsZSBmcm9tICcuL2RyYXdfY2lyY2xlJztcbmltcG9ydCBoZWF0bWFwIGZyb20gJy4vZHJhd19oZWF0bWFwJztcbmltcG9ydCBsaW5lIGZyb20gJy4vZHJhd19saW5lJztcbmltcG9ydCBmaWxsIGZyb20gJy4vZHJhd19maWxsJztcbmltcG9ydCBmaWxsRXh0cnVzaW9uIGZyb20gJy4vZHJhd19maWxsX2V4dHJ1c2lvbic7XG5pbXBvcnQgaGlsbHNoYWRlIGZyb20gJy4vZHJhd19oaWxsc2hhZGUnO1xuaW1wb3J0IHJhc3RlciBmcm9tICcuL2RyYXdfcmFzdGVyJztcbmltcG9ydCBiYWNrZ3JvdW5kIGZyb20gJy4vZHJhd19iYWNrZ3JvdW5kJztcbmltcG9ydCBkZWJ1ZyBmcm9tICcuL2RyYXdfZGVidWcnO1xuXG5jb25zdCBkcmF3ID0ge1xuICAgIHN5bWJvbCxcbiAgICBjaXJjbGUsXG4gICAgaGVhdG1hcCxcbiAgICBsaW5lLFxuICAgIGZpbGwsXG4gICAgJ2ZpbGwtZXh0cnVzaW9uJzogZmlsbEV4dHJ1c2lvbixcbiAgICBoaWxsc2hhZGUsXG4gICAgcmFzdGVyLFxuICAgIGJhY2tncm91bmQsXG4gICAgZGVidWdcbn07XG5cbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vc291cmNlL3RpbGUnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcbmltcG9ydCB0eXBlIFN0eWxlIGZyb20gJy4uL3N0eWxlL3N0eWxlJztcbmltcG9ydCB0eXBlIFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgTGluZUF0bGFzIGZyb20gJy4vbGluZV9hdGxhcyc7XG5pbXBvcnQgdHlwZSBJbWFnZU1hbmFnZXIgZnJvbSAnLi9pbWFnZV9tYW5hZ2VyJztcbmltcG9ydCB0eXBlIEdseXBoTWFuYWdlciBmcm9tICcuL2dseXBoX21hbmFnZXInO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXInO1xuaW1wb3J0IHR5cGUge0RlcHRoTWFza1R5cGUsIERlcHRoRnVuY1R5cGV9IGZyb20gJy4uL2dsL3R5cGVzJztcblxuZXhwb3J0IHR5cGUgUmVuZGVyUGFzcyA9ICdvZmZzY3JlZW4nIHwgJ29wYXF1ZScgfCAndHJhbnNsdWNlbnQnO1xuXG50eXBlIFBhaW50ZXJPcHRpb25zID0ge1xuICAgIHNob3dPdmVyZHJhd0luc3BlY3RvcjogYm9vbGVhbixcbiAgICBzaG93VGlsZUJvdW5kYXJpZXM6IGJvb2xlYW4sXG4gICAgcm90YXRpbmc6IGJvb2xlYW4sXG4gICAgem9vbWluZzogYm9vbGVhbixcbiAgICBmYWRlRHVyYXRpb246IG51bWJlclxufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgcGFpbnRlciBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtDYW52YXN9IGdsIGFuIGV4cGVyaW1lbnRhbC13ZWJnbCBkcmF3aW5nIGNvbnRleHRcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFBhaW50ZXIge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm07XG4gICAgX3RpbGVUZXh0dXJlczogeyBbbnVtYmVyXTogQXJyYXk8VGV4dHVyZT4gfTtcbiAgICBudW1TdWJsYXllcnM6IG51bWJlcjtcbiAgICBkZXB0aEVwc2lsb246IG51bWJlcjtcbiAgICBlbXB0eVByb2dyYW1Db25maWd1cmF0aW9uOiBQcm9ncmFtQ29uZmlndXJhdGlvbjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIGRlcHRoUmJvOiBXZWJHTFJlbmRlcmJ1ZmZlcjtcbiAgICBkZXB0aFJib05lZWRzQ2xlYXI6IGJvb2xlYW47XG4gICAgdGlsZUV4dGVudEJ1ZmZlcjogVmVydGV4QnVmZmVyO1xuICAgIHRpbGVFeHRlbnRWQU86IFZlcnRleEFycmF5T2JqZWN0O1xuICAgIHRpbGVFeHRlbnRQYXR0ZXJuVkFPOiBWZXJ0ZXhBcnJheU9iamVjdDtcbiAgICBkZWJ1Z0J1ZmZlcjogVmVydGV4QnVmZmVyO1xuICAgIGRlYnVnVkFPOiBWZXJ0ZXhBcnJheU9iamVjdDtcbiAgICByYXN0ZXJCb3VuZHNCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICByYXN0ZXJCb3VuZHNWQU86IFZlcnRleEFycmF5T2JqZWN0O1xuICAgIHZpZXdwb3J0QnVmZmVyOiBWZXJ0ZXhCdWZmZXI7XG4gICAgdmlld3BvcnRWQU86IFZlcnRleEFycmF5T2JqZWN0O1xuICAgIF90aWxlQ2xpcHBpbmdNYXNrSURzOiB7IFtudW1iZXJdOiBudW1iZXIgfTtcbiAgICBzdHlsZTogU3R5bGU7XG4gICAgb3B0aW9uczogUGFpbnRlck9wdGlvbnM7XG4gICAgbGluZUF0bGFzOiBMaW5lQXRsYXM7XG4gICAgaW1hZ2VNYW5hZ2VyOiBJbWFnZU1hbmFnZXI7XG4gICAgZ2x5cGhNYW5hZ2VyOiBHbHlwaE1hbmFnZXI7XG4gICAgZGVwdGhSYW5nZTogbnVtYmVyO1xuICAgIHJlbmRlclBhc3M6IFJlbmRlclBhc3M7XG4gICAgY3VycmVudExheWVyOiBudW1iZXI7XG4gICAgaWQ6IHN0cmluZztcbiAgICBfc2hvd092ZXJkcmF3SW5zcGVjdG9yOiBib29sZWFuO1xuICAgIGNhY2hlOiB7IFtzdHJpbmddOiBQcm9ncmFtIH07XG4gICAgY3Jvc3NUaWxlU3ltYm9sSW5kZXg6IENyb3NzVGlsZVN5bWJvbEluZGV4O1xuICAgIHN5bWJvbEZhZGVDaGFuZ2U6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG5ldyBDb250ZXh0KGdsKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIHRoaXMuX3RpbGVUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIHRoaXMuc2V0dXAoKTtcblxuICAgICAgICAvLyBXaXRoaW4gZWFjaCBsYXllciB0aGVyZSBhcmUgbXVsdGlwbGUgZGlzdGluY3Qgei1wbGFuZXMgdGhhdCBjYW4gYmUgZHJhd24gdG8uXG4gICAgICAgIC8vIFRoaXMgaXMgaW1wbGVtZW50ZWQgdXNpbmcgdGhlIFdlYkdMIGRlcHRoIGJ1ZmZlci5cbiAgICAgICAgdGhpcy5udW1TdWJsYXllcnMgPSBTb3VyY2VDYWNoZS5tYXhVbmRlcnpvb21pbmcgKyBTb3VyY2VDYWNoZS5tYXhPdmVyem9vbWluZyArIDE7XG4gICAgICAgIHRoaXMuZGVwdGhFcHNpbG9uID0gMSAvIE1hdGgucG93KDIsIDE2KTtcblxuICAgICAgICB0aGlzLmRlcHRoUmJvTmVlZHNDbGVhciA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5lbXB0eVByb2dyYW1Db25maWd1cmF0aW9uID0gbmV3IFByb2dyYW1Db25maWd1cmF0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleCA9IG5ldyBDcm9zc1RpbGVTeW1ib2xJbmRleCgpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogVXBkYXRlIHRoZSBHTCB2aWV3cG9ydCwgcHJvamVjdGlvbiBtYXRyaXgsIGFuZCB0cmFuc2Zvcm1zIHRvIGNvbXBlbnNhdGVcbiAgICAgKiBmb3IgYSBuZXcgd2lkdGggYW5kIGhlaWdodCB2YWx1ZS5cbiAgICAgKi9cbiAgICByZXNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoICogYnJvd3Nlci5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCAqIGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5jb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHRdKTtcblxuICAgICAgICBpZiAodGhpcy5zdHlsZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBsYXllcklkIG9mIHRoaXMuc3R5bGUuX29yZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5fbGF5ZXJzW2xheWVySWRdLnJlc2l6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGVwdGhSYm8pIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLmRlcHRoUmJvKTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhSYm8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0dXAoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgICAgY29uc3QgdGlsZUV4dGVudEFycmF5ID0gbmV3IFBvc0FycmF5KCk7XG4gICAgICAgIHRpbGVFeHRlbnRBcnJheS5lbXBsYWNlQmFjaygwLCAwKTtcbiAgICAgICAgdGlsZUV4dGVudEFycmF5LmVtcGxhY2VCYWNrKEVYVEVOVCwgMCk7XG4gICAgICAgIHRpbGVFeHRlbnRBcnJheS5lbXBsYWNlQmFjaygwLCBFWFRFTlQpO1xuICAgICAgICB0aWxlRXh0ZW50QXJyYXkuZW1wbGFjZUJhY2soRVhURU5ULCBFWFRFTlQpO1xuICAgICAgICB0aGlzLnRpbGVFeHRlbnRCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aWxlRXh0ZW50QXJyYXksIHBvc0F0dHJpYnV0ZXMubWVtYmVycyk7XG4gICAgICAgIHRoaXMudGlsZUV4dGVudFZBTyA9IG5ldyBWZXJ0ZXhBcnJheU9iamVjdCgpO1xuICAgICAgICB0aGlzLnRpbGVFeHRlbnRQYXR0ZXJuVkFPID0gbmV3IFZlcnRleEFycmF5T2JqZWN0KCk7XG5cbiAgICAgICAgY29uc3QgZGVidWdBcnJheSA9IG5ldyBQb3NBcnJheSgpO1xuICAgICAgICBkZWJ1Z0FycmF5LmVtcGxhY2VCYWNrKDAsIDApO1xuICAgICAgICBkZWJ1Z0FycmF5LmVtcGxhY2VCYWNrKEVYVEVOVCwgMCk7XG4gICAgICAgIGRlYnVnQXJyYXkuZW1wbGFjZUJhY2soRVhURU5ULCBFWFRFTlQpO1xuICAgICAgICBkZWJ1Z0FycmF5LmVtcGxhY2VCYWNrKDAsIEVYVEVOVCk7XG4gICAgICAgIGRlYnVnQXJyYXkuZW1wbGFjZUJhY2soMCwgMCk7XG4gICAgICAgIHRoaXMuZGVidWdCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcihkZWJ1Z0FycmF5LCBwb3NBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLmRlYnVnVkFPID0gbmV3IFZlcnRleEFycmF5T2JqZWN0KCk7XG5cbiAgICAgICAgY29uc3QgcmFzdGVyQm91bmRzQXJyYXkgPSBuZXcgUmFzdGVyQm91bmRzQXJyYXkoKTtcbiAgICAgICAgcmFzdGVyQm91bmRzQXJyYXkuZW1wbGFjZUJhY2soMCwgMCwgMCwgMCk7XG4gICAgICAgIHJhc3RlckJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKEVYVEVOVCwgMCwgRVhURU5ULCAwKTtcbiAgICAgICAgcmFzdGVyQm91bmRzQXJyYXkuZW1wbGFjZUJhY2soMCwgRVhURU5ULCAwLCBFWFRFTlQpO1xuICAgICAgICByYXN0ZXJCb3VuZHNBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIEVYVEVOVCwgRVhURU5ULCBFWFRFTlQpO1xuICAgICAgICB0aGlzLnJhc3RlckJvdW5kc0J1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKHJhc3RlckJvdW5kc0FycmF5LCByYXN0ZXJCb3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLnJhc3RlckJvdW5kc1ZBTyA9IG5ldyBWZXJ0ZXhBcnJheU9iamVjdCgpO1xuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0QXJyYXkgPSBuZXcgUG9zQXJyYXkoKTtcbiAgICAgICAgdmlld3BvcnRBcnJheS5lbXBsYWNlQmFjaygwLCAwKTtcbiAgICAgICAgdmlld3BvcnRBcnJheS5lbXBsYWNlQmFjaygxLCAwKTtcbiAgICAgICAgdmlld3BvcnRBcnJheS5lbXBsYWNlQmFjaygwLCAxKTtcbiAgICAgICAgdmlld3BvcnRBcnJheS5lbXBsYWNlQmFjaygxLCAxKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKHZpZXdwb3J0QXJyYXksIHBvc0F0dHJpYnV0ZXMubWVtYmVycyk7XG4gICAgICAgIHRoaXMudmlld3BvcnRWQU8gPSBuZXcgVmVydGV4QXJyYXlPYmplY3QoKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFJlc2V0IHRoZSBkcmF3aW5nIGNhbnZhcyBieSBjbGVhcmluZyB0aGUgc3RlbmNpbCBidWZmZXIgc28gdGhhdCB3ZSBjYW4gZHJhd1xuICAgICAqIG5ldyB0aWxlcyBhdCB0aGUgc2FtZSBsb2NhdGlvbiwgd2hpbGUgcmV0YWluaW5nIHByZXZpb3VzbHkgZHJhd24gcGl4ZWxzLlxuICAgICAqL1xuICAgIGNsZWFyU3RlbmNpbCgpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIC8vIEFzIGEgdGVtcG9yYXJ5IHdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy81NDkwLFxuICAgICAgICAvLyBwZW5kaW5nIGFuIHVwc3RyZWFtIGZpeCwgd2UgZHJhdyBhIGZ1bGxzY3JlZW4gc3RlbmNpbD0wIGNsaXBwaW5nIG1hc2sgaGVyZSxcbiAgICAgICAgLy8gZWZmZWN0aXZlbHkgY2xlYXJpbmcgdGhlIHN0ZW5jaWwgYnVmZmVyOiBvbmNlIGFuIHVwc3RyZWFtIHBhdGNoIGxhbmRzLCByZW1vdmVcbiAgICAgICAgLy8gdGhpcyBmdW5jdGlvbiBpbiBmYXZvciBvZiBjb250ZXh0LmNsZWFyKHsgc3RlbmNpbDogMHgwIH0pXG5cbiAgICAgICAgY29udGV4dC5zZXRDb2xvck1vZGUoQ29sb3JNb2RlLmRpc2FibGVkKTtcbiAgICAgICAgY29udGV4dC5zZXREZXB0aE1vZGUoRGVwdGhNb2RlLmRpc2FibGVkKTtcbiAgICAgICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShuZXcgU3RlbmNpbE1vZGUoeyBmdW5jOiBnbC5BTFdBWVMsIG1hc2s6IDAgfSwgMHgwLCAweEZGLCBnbC5aRVJPLCBnbC5aRVJPLCBnbC5aRVJPKSk7XG5cbiAgICAgICAgY29uc3QgbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgbWF0NC5vcnRobyhtYXRyaXgsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLCAwLCAxKTtcbiAgICAgICAgbWF0NC5zY2FsZShtYXRyaXgsIG1hdHJpeCwgW2dsLmRyYXdpbmdCdWZmZXJXaWR0aCwgZ2wuZHJhd2luZ0J1ZmZlckhlaWdodCwgMF0pO1xuXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSB0aGlzLnVzZVByb2dyYW0oJ2NsaXBwaW5nTWFzaycpO1xuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBtYXRyaXgpO1xuXG4gICAgICAgIHRoaXMudmlld3BvcnRWQU8uYmluZChjb250ZXh0LCBwcm9ncmFtLCB0aGlzLnZpZXdwb3J0QnVmZmVyLCBbXSk7XG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgIH1cblxuICAgIF9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyh0aWxlSURzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgY29udGV4dC5zZXRDb2xvck1vZGUoQ29sb3JNb2RlLmRpc2FibGVkKTtcbiAgICAgICAgY29udGV4dC5zZXREZXB0aE1vZGUoRGVwdGhNb2RlLmRpc2FibGVkKTtcblxuICAgICAgICBsZXQgaWROZXh0ID0gMTtcbiAgICAgICAgdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEcyA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgdGlsZUlEIG9mIHRpbGVJRHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1t0aWxlSUQua2V5XSA9IGlkTmV4dCsrO1xuXG4gICAgICAgICAgICAvLyBUZXN0cyB3aWxsIGFsd2F5cyBwYXNzLCBhbmQgcmVmIHZhbHVlIHdpbGwgYmUgd3JpdHRlbiB0byBzdGVuY2lsIGJ1ZmZlci5cbiAgICAgICAgICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUobmV3IFN0ZW5jaWxNb2RlKHsgZnVuYzogZ2wuQUxXQVlTLCBtYXNrOiAwIH0sIGlkLCAweEZGLCBnbC5LRUVQLCBnbC5LRUVQLCBnbC5SRVBMQUNFKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHByb2dyYW0gPSB0aGlzLnVzZVByb2dyYW0oJ2NsaXBwaW5nTWFzaycpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgdGlsZUlELnBvc01hdHJpeCk7XG5cbiAgICAgICAgICAgIC8vIERyYXcgdGhlIGNsaXBwaW5nIG1hc2tcbiAgICAgICAgICAgIHRoaXMudGlsZUV4dGVudFZBTy5iaW5kKHRoaXMuY29udGV4dCwgcHJvZ3JhbSwgdGhpcy50aWxlRXh0ZW50QnVmZmVyLCBbXSk7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCB0aGlzLnRpbGVFeHRlbnRCdWZmZXIubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKTogU3RlbmNpbE1vZGUge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGVuY2lsTW9kZSh7IGZ1bmM6IGdsLkVRVUFMLCBtYXNrOiAweEZGIH0sIHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdGlsZUlELmtleV0sIDB4MDAsIGdsLktFRVAsIGdsLktFRVAsIGdsLlJFUExBQ0UpO1xuICAgIH1cblxuICAgIGNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTogJFJlYWRPbmx5PENvbG9yTW9kZT4ge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcikge1xuICAgICAgICAgICAgY29uc3QgbnVtT3ZlcmRyYXdTdGVwcyA9IDg7XG4gICAgICAgICAgICBjb25zdCBhID0gMSAvIG51bU92ZXJkcmF3U3RlcHM7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3JNb2RlKFtnbC5DT05TVEFOVF9DT0xPUiwgZ2wuT05FXSwgbmV3IENvbG9yKGEsIGEsIGEsIDApLCBbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZV0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVuZGVyUGFzcyA9PT0gJ29wYXF1ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBDb2xvck1vZGUudW5ibGVuZGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIENvbG9yTW9kZS5hbHBoYUJsZW5kZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXB0aE1vZGVGb3JTdWJsYXllcihuOiBudW1iZXIsIG1hc2s6IERlcHRoTWFza1R5cGUsIGZ1bmM6ID9EZXB0aEZ1bmNUeXBlKTogRGVwdGhNb2RlIHtcbiAgICAgICAgY29uc3QgZmFyRGVwdGggPSAxIC0gKCgxICsgdGhpcy5jdXJyZW50TGF5ZXIpICogdGhpcy5udW1TdWJsYXllcnMgKyBuKSAqIHRoaXMuZGVwdGhFcHNpbG9uO1xuICAgICAgICBjb25zdCBuZWFyRGVwdGggPSBmYXJEZXB0aCAtIDEgKyB0aGlzLmRlcHRoUmFuZ2U7XG4gICAgICAgIHJldHVybiBuZXcgRGVwdGhNb2RlKGZ1bmMgfHwgdGhpcy5jb250ZXh0LmdsLkxFUVVBTCwgbWFzaywgW25lYXJEZXB0aCwgZmFyRGVwdGhdKTtcbiAgICB9XG5cbiAgICByZW5kZXIoc3R5bGU6IFN0eWxlLCBvcHRpb25zOiBQYWludGVyT3B0aW9ucykge1xuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5saW5lQXRsYXMgPSBzdHlsZS5saW5lQXRsYXM7XG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyID0gc3R5bGUuaW1hZ2VNYW5hZ2VyO1xuICAgICAgICB0aGlzLmdseXBoTWFuYWdlciA9IHN0eWxlLmdseXBoTWFuYWdlcjtcblxuICAgICAgICB0aGlzLnN5bWJvbEZhZGVDaGFuZ2UgPSBzdHlsZS5wbGFjZW1lbnQuc3ltYm9sRmFkZUNoYW5nZShicm93c2VyLm5vdygpKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHN0eWxlLnNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLnN0eWxlLnNvdXJjZUNhY2hlc1tpZF07XG4gICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUudXNlZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZUNhY2hlLnByZXBhcmUodGhpcy5jb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxheWVySWRzID0gdGhpcy5zdHlsZS5fb3JkZXI7XG5cbiAgICAgICAgY29uc3QgcmFzdGVyU291cmNlcyA9IGZpbHRlck9iamVjdChcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuc291cmNlQ2FjaGVzLFxuICAgICAgICAgICAgKHNjKSA9PiB7IHJldHVybiBzYy5nZXRTb3VyY2UoKS50eXBlID09PSAncmFzdGVyJyB8fCBzYy5nZXRTb3VyY2UoKS50eXBlID09PSAncmFzdGVyLWRlbSc7IH1cbiAgICAgICAgKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmFzdGVyU291cmNlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSByYXN0ZXJTb3VyY2VzW2tleV07XG4gICAgICAgICAgICBjb25zdCBjb29yZHMgPSBzb3VyY2VDYWNoZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgIGNvbnN0IHZpc2libGVUaWxlcyA9IGNvb3Jkcy5tYXAoKGMpPT57IHJldHVybiBzb3VyY2VDYWNoZS5nZXRUaWxlKGMpOyB9KTtcbiAgICAgICAgICAgIHVwZGF0ZVRpbGVNYXNrcyh2aXNpYmxlVGlsZXMsIHRoaXMuY29udGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPZmZzY3JlZW4gcGFzc1xuICAgICAgICAvLyBXZSBmaXJzdCBkbyBhbGwgcmVuZGVyaW5nIHRoYXQgcmVxdWlyZXMgcmVuZGVyaW5nIHRvIGEgc2VwYXJhdGVcbiAgICAgICAgLy8gZnJhbWVidWZmZXIsIGFuZCB0aGVuIHNhdmUgdGhvc2UgZm9yIHJlbmRlcmluZyBiYWNrIHRvIHRoZSBtYXBcbiAgICAgICAgLy8gbGF0ZXI6IGluIGRvaW5nIHRoaXMgd2UgYXZvaWQgZG9pbmcgZXhwZW5zaXZlIGZyYW1lYnVmZmVyIHJlc3RvcmVzLlxuICAgICAgICB0aGlzLnJlbmRlclBhc3MgPSAnb2Zmc2NyZWVuJztcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHNvdXJjZUNhY2hlO1xuICAgICAgICAgICAgbGV0IGNvb3JkcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5kZXB0aFJib05lZWRzQ2xlYXIgPSB0cnVlO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVySWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLnN0eWxlLl9sYXllcnNbbGF5ZXJJZHNbaV1dO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFsYXllci5oYXNPZmZzY3JlZW5QYXNzKCkgfHwgbGF5ZXIuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLnNvdXJjZSAhPT0gKHNvdXJjZUNhY2hlICYmIHNvdXJjZUNhY2hlLmlkKSkge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VDYWNoZSA9IHRoaXMuc3R5bGUuc291cmNlQ2FjaGVzW2xheWVyLnNvdXJjZV07XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzID0gc291cmNlQ2FjaGUuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZHMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFjb29yZHMubGVuZ3RoKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTGF5ZXIodGhpcywgKHNvdXJjZUNhY2hlOiBhbnkpLCBsYXllciwgY29vcmRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmViaW5kIHRoZSBtYWluIGZyYW1lYnVmZmVyIG5vdyB0aGF0IGFsbCBvZmZzY3JlZW4gbGF5ZXJzXG4gICAgICAgICAgICAvLyBoYXZlIGJlZW4gcmVuZGVyZWQ6XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldChudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsZWFyIGJ1ZmZlcnMgaW4gcHJlcGFyYXRpb24gZm9yIGRyYXdpbmcgdG8gdGhlIG1haW4gZnJhbWVidWZmZXJcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyKHsgY29sb3I6IG9wdGlvbnMuc2hvd092ZXJkcmF3SW5zcGVjdG9yID8gQ29sb3IuYmxhY2sgOiBDb2xvci50cmFuc3BhcmVudCwgZGVwdGg6IDEgfSk7XG5cbiAgICAgICAgdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yID0gb3B0aW9ucy5zaG93T3ZlcmRyYXdJbnNwZWN0b3I7XG5cbiAgICAgICAgdGhpcy5kZXB0aFJhbmdlID0gKHN0eWxlLl9vcmRlci5sZW5ndGggKyAyKSAqIHRoaXMubnVtU3VibGF5ZXJzICogdGhpcy5kZXB0aEVwc2lsb247XG5cbiAgICAgICAgLy8gT3BhcXVlIHBhc3NcbiAgICAgICAgLy8gRHJhdyBvcGFxdWUgbGF5ZXJzIHRvcC10by1ib3R0b20gZmlyc3QuXG4gICAgICAgIHRoaXMucmVuZGVyUGFzcyA9ICdvcGFxdWUnO1xuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc291cmNlQ2FjaGU7XG4gICAgICAgICAgICBsZXQgY29vcmRzID0gW107XG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudExheWVyID0gbGF5ZXJJZHMubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgZm9yICh0aGlzLmN1cnJlbnRMYXllcjsgdGhpcy5jdXJyZW50TGF5ZXIgPj0gMDsgdGhpcy5jdXJyZW50TGF5ZXItLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5zdHlsZS5fbGF5ZXJzW2xheWVySWRzW3RoaXMuY3VycmVudExheWVyXV07XG5cbiAgICAgICAgICAgICAgICBpZiAobGF5ZXIuc291cmNlICE9PSAoc291cmNlQ2FjaGUgJiYgc291cmNlQ2FjaGUuaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUNhY2hlID0gdGhpcy5zdHlsZS5zb3VyY2VDYWNoZXNbbGF5ZXIuc291cmNlXTtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyU3RlbmNpbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzID0gc291cmNlQ2FjaGUuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUuZ2V0U291cmNlKCkuaXNUaWxlQ2xpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGNvb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckxheWVyKHRoaXMsIChzb3VyY2VDYWNoZTogYW55KSwgbGF5ZXIsIGNvb3Jkcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcmFuc2x1Y2VudCBwYXNzXG4gICAgICAgIC8vIERyYXcgYWxsIG90aGVyIGxheWVycyBib3R0b20tdG8tdG9wLlxuICAgICAgICB0aGlzLnJlbmRlclBhc3MgPSAndHJhbnNsdWNlbnQnO1xuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc291cmNlQ2FjaGU7XG4gICAgICAgICAgICBsZXQgY29vcmRzID0gW107XG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudExheWVyID0gMDtcblxuICAgICAgICAgICAgZm9yICh0aGlzLmN1cnJlbnRMYXllcjsgdGhpcy5jdXJyZW50TGF5ZXIgPCBsYXllcklkcy5sZW5ndGg7IHRoaXMuY3VycmVudExheWVyKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuc3R5bGUuX2xheWVyc1tsYXllcklkc1t0aGlzLmN1cnJlbnRMYXllcl1dO1xuXG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLnNvdXJjZSAhPT0gKHNvdXJjZUNhY2hlICYmIHNvdXJjZUNhY2hlLmlkKSkge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VDYWNoZSA9IHRoaXMuc3R5bGUuc291cmNlQ2FjaGVzW2xheWVyLnNvdXJjZV07XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhclN0ZW5jaWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkcyA9IHNvdXJjZUNhY2hlLmdldFZpc2libGVDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLmlzVGlsZUNsaXBwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyhjb29yZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29vcmRzLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckxheWVyKHRoaXMsIChzb3VyY2VDYWNoZTogYW55KSwgbGF5ZXIsIGNvb3Jkcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dUaWxlQm91bmRhcmllcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2FjaGUgPSB0aGlzLnN0eWxlLnNvdXJjZUNhY2hlc1tPYmplY3Qua2V5cyh0aGlzLnN0eWxlLnNvdXJjZUNhY2hlcylbMF1dO1xuICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgZHJhdy5kZWJ1Zyh0aGlzLCBzb3VyY2VDYWNoZSwgc291cmNlQ2FjaGUuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0dXBPZmZzY3JlZW5EZXB0aFJlbmRlcmJ1ZmZlcigpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgLy8gQWxsIG9mIHRoZSAzRCB0ZXh0dXJlcyB3aWxsIHVzZSB0aGUgc2FtZSBkZXB0aCByZW5kZXJidWZmZXIuXG4gICAgICAgIGlmICghdGhpcy5kZXB0aFJibykge1xuICAgICAgICAgICAgdGhpcy5kZXB0aFJibyA9IGNvbnRleHQuY3JlYXRlUmVuZGVyYnVmZmVyKGNvbnRleHQuZ2wuREVQVEhfQ09NUE9ORU5UMTYsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlckxheWVyKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IFN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICAgICAgaWYgKGxheWVyLmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pKSByZXR1cm47XG4gICAgICAgIGlmIChsYXllci50eXBlICE9PSAnYmFja2dyb3VuZCcgJiYgIWNvb3Jkcy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgdGhpcy5pZCA9IGxheWVyLmlkO1xuXG4gICAgICAgIGRyYXdbbGF5ZXIudHlwZV0ocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBhIG1hdHJpeCB0byBpbmNvcnBvcmF0ZSB0aGUgKi10cmFuc2xhdGUgYW5kICotdHJhbnNsYXRlLWFuY2hvciBwcm9wZXJ0aWVzIGludG8gaXQuXG4gICAgICogQHBhcmFtIGluVmlld3BvcnRQaXhlbFVuaXRzVW5pdHMgVHJ1ZSB3aGVuIHRoZSB1bml0cyBhY2NlcHRlZCBieSB0aGUgbWF0cml4IGFyZSBpbiB2aWV3cG9ydCBwaXhlbHMgaW5zdGVhZCBvZiB0aWxlIHVuaXRzLlxuICAgICAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IG1hdHJpeFxuICAgICAqL1xuICAgIHRyYW5zbGF0ZVBvc01hdHJpeChtYXRyaXg6IEZsb2F0MzJBcnJheSwgdGlsZTogVGlsZSwgdHJhbnNsYXRlOiBbbnVtYmVyLCBudW1iZXJdLCB0cmFuc2xhdGVBbmNob3I6ICdtYXAnIHwgJ3ZpZXdwb3J0JywgaW5WaWV3cG9ydFBpeGVsVW5pdHNVbml0cz86IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKCF0cmFuc2xhdGVbMF0gJiYgIXRyYW5zbGF0ZVsxXSkgcmV0dXJuIG1hdHJpeDtcblxuICAgICAgICBjb25zdCBhbmdsZSA9IGluVmlld3BvcnRQaXhlbFVuaXRzVW5pdHMgP1xuICAgICAgICAgICAgKHRyYW5zbGF0ZUFuY2hvciA9PT0gJ21hcCcgPyB0aGlzLnRyYW5zZm9ybS5hbmdsZSA6IDApIDpcbiAgICAgICAgICAgICh0cmFuc2xhdGVBbmNob3IgPT09ICd2aWV3cG9ydCcgPyAtdGhpcy50cmFuc2Zvcm0uYW5nbGUgOiAwKTtcblxuICAgICAgICBpZiAoYW5nbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpbkEgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgICAgICBjb25zdCBjb3NBID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICAgICAgdHJhbnNsYXRlID0gW1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVswXSAqIGNvc0EgLSB0cmFuc2xhdGVbMV0gKiBzaW5BLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVswXSAqIHNpbkEgKyB0cmFuc2xhdGVbMV0gKiBjb3NBXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHJhbnNsYXRpb24gPSBbXG4gICAgICAgICAgICBpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzID8gdHJhbnNsYXRlWzBdIDogcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgdHJhbnNsYXRlWzBdLCB0aGlzLnRyYW5zZm9ybS56b29tKSxcbiAgICAgICAgICAgIGluVmlld3BvcnRQaXhlbFVuaXRzVW5pdHMgPyB0cmFuc2xhdGVbMV0gOiBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCB0cmFuc2xhdGVbMV0sIHRoaXMudHJhbnNmb3JtLnpvb20pLFxuICAgICAgICAgICAgMFxuICAgICAgICBdO1xuXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0ZWRNYXRyaXggPSBuZXcgRmxvYXQzMkFycmF5KDE2KTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUodHJhbnNsYXRlZE1hdHJpeCwgbWF0cml4LCB0cmFuc2xhdGlvbik7XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGVkTWF0cml4O1xuICAgIH1cblxuICAgIHNhdmVUaWxlVGV4dHVyZSh0ZXh0dXJlOiBUZXh0dXJlKSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmVzID0gdGhpcy5fdGlsZVRleHR1cmVzW3RleHR1cmUuc2l6ZVswXV07XG4gICAgICAgIGlmICghdGV4dHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbGVUZXh0dXJlc1t0ZXh0dXJlLnNpemVbMF1dID0gW3RleHR1cmVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFRpbGVUZXh0dXJlKHNpemU6IG51bWJlcikge1xuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IHRoaXMuX3RpbGVUZXh0dXJlc1tzaXplXTtcbiAgICAgICAgcmV0dXJuIHRleHR1cmVzICYmIHRleHR1cmVzLmxlbmd0aCA+IDAgPyB0ZXh0dXJlcy5wb3AoKSA6IG51bGw7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVByb2dyYW1DYWNoZWQobmFtZTogc3RyaW5nLCBwcm9ncmFtQ29uZmlndXJhdGlvbjogUHJvZ3JhbUNvbmZpZ3VyYXRpb24pOiBQcm9ncmFtIHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IHRoaXMuY2FjaGUgfHwge307XG4gICAgICAgIGNvbnN0IGtleSA9IGAke25hbWV9JHtwcm9ncmFtQ29uZmlndXJhdGlvbi5jYWNoZUtleSB8fCAnJ30ke3RoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciA/ICcvb3ZlcmRyYXcnIDogJyd9YDtcbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVba2V5XSA9IG5ldyBQcm9ncmFtKHRoaXMuY29udGV4dCwgc2hhZGVyc1tuYW1lXSwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVba2V5XTtcbiAgICB9XG5cbiAgICB1c2VQcm9ncmFtKG5hbWU6IHN0cmluZywgcHJvZ3JhbUNvbmZpZ3VyYXRpb24/OiBQcm9ncmFtQ29uZmlndXJhdGlvbik6IFByb2dyYW0ge1xuICAgICAgICBjb25zdCBuZXh0UHJvZ3JhbSA9IHRoaXMuX2NyZWF0ZVByb2dyYW1DYWNoZWQobmFtZSwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gfHwgdGhpcy5lbXB0eVByb2dyYW1Db25maWd1cmF0aW9uKTtcblxuICAgICAgICB0aGlzLmNvbnRleHQucHJvZ3JhbS5zZXQobmV4dFByb2dyYW0ucHJvZ3JhbSk7XG5cbiAgICAgICAgcmV0dXJuIG5leHRQcm9ncmFtO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGFpbnRlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBwaXhlbHNUb1RpbGVVbml0cyBmcm9tICcuLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMnO1xuXG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IHR5cGUgQ2lyY2xlU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9jaXJjbGVfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgQ2lyY2xlQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2NpcmNsZV9idWNrZXQnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0NpcmNsZXM7XG5cbmZ1bmN0aW9uIGRyYXdDaXJjbGVzKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IENpcmNsZVN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzICE9PSAndHJhbnNsdWNlbnQnKSByZXR1cm47XG5cbiAgICBjb25zdCBvcGFjaXR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtb3BhY2l0eScpO1xuICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gbGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtc3Ryb2tlLXdpZHRoJyk7XG4gICAgY29uc3Qgc3Ryb2tlT3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnY2lyY2xlLXN0cm9rZS1vcGFjaXR5Jyk7XG5cbiAgICBpZiAob3BhY2l0eS5jb25zdGFudE9yKDEpID09PSAwICYmIChzdHJva2VXaWR0aC5jb25zdGFudE9yKDEpID09PSAwIHx8IHN0cm9rZU9wYWNpdHkuY29uc3RhbnRPcigxKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgY29udGV4dC5zZXREZXB0aE1vZGUocGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcigwLCBEZXB0aE1vZGUuUmVhZE9ubHkpKTtcbiAgICAvLyBBbGxvdyBjaXJjbGVzIHRvIGJlIGRyYXduIGFjcm9zcyBib3VuZGFyaWVzLCBzbyB0aGF0XG4gICAgLy8gbGFyZ2UgY2lyY2xlcyBhcmUgbm90IGNsaXBwZWQgdG8gdGlsZXNcbiAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKFN0ZW5jaWxNb2RlLmRpc2FibGVkKTtcbiAgICBjb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG5cbiAgICBsZXQgZmlyc3QgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkID0gY29vcmRzW2ldO1xuXG4gICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgY29uc3QgYnVja2V0OiA/Q2lyY2xlQnVja2V0PCo+ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgaWYgKCFidWNrZXQpIGNvbnRpbnVlO1xuXG4gICAgICAgIGNvbnN0IHByZXZQcm9ncmFtID0gcGFpbnRlci5jb250ZXh0LnByb2dyYW0uZ2V0KCk7XG4gICAgICAgIGNvbnN0IHByb2dyYW1Db25maWd1cmF0aW9uID0gYnVja2V0LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobGF5ZXIuaWQpO1xuICAgICAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdjaXJjbGUnLCBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgICAgIGlmIChmaXJzdCB8fCBwcm9ncmFtLnByb2dyYW0gIT09IHByZXZQcm9ncmFtKSB7XG4gICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRVbmlmb3Jtcyhjb250ZXh0LCBwcm9ncmFtLCBsYXllci5wYWludCwge3pvb206IHBhaW50ZXIudHJhbnNmb3JtLnpvb219KTtcbiAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UsIHBhaW50ZXIudHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UpO1xuICAgICAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X3NjYWxlX3dpdGhfbWFwLCBsYXllci5wYWludC5nZXQoJ2NpcmNsZS1waXRjaC1zY2FsZScpID09PSAnbWFwJyA/IDEgOiAwKTtcbiAgICAgICAgaWYgKGxheWVyLnBhaW50LmdldCgnY2lyY2xlLXBpdGNoLWFsaWdubWVudCcpID09PSAnbWFwJykge1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9waXRjaF93aXRoX21hcCwgMSk7XG4gICAgICAgICAgICBjb25zdCBwaXhlbFJhdGlvID0gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmYocHJvZ3JhbS51bmlmb3Jtcy51X2V4dHJ1ZGVfc2NhbGUsIHBpeGVsUmF0aW8sIHBpeGVsUmF0aW8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9waXRjaF93aXRoX21hcCwgMCk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV9leHRydWRlX3NjYWxlLCBwYWludGVyLnRyYW5zZm9ybS5waXhlbHNUb0dMVW5pdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgcGFpbnRlci50cmFuc2xhdGVQb3NNYXRyaXgoXG4gICAgICAgICAgICBjb29yZC5wb3NNYXRyaXgsXG4gICAgICAgICAgICB0aWxlLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtdHJhbnNsYXRlJyksXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ2NpcmNsZS10cmFuc2xhdGUtYW5jaG9yJylcbiAgICAgICAgKSk7XG5cbiAgICAgICAgcHJvZ3JhbS5kcmF3KFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIGdsLlRSSUFOR0xFUyxcbiAgICAgICAgICAgIGxheWVyLmlkLFxuICAgICAgICAgICAgYnVja2V0LmxheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgIGJ1Y2tldC5pbmRleEJ1ZmZlcixcbiAgICAgICAgICAgIGJ1Y2tldC5zZWdtZW50cyxcbiAgICAgICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBtYXQ0IH0gZnJvbSAnQG1hcGJveC9nbC1tYXRyaXgnO1xuXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL3RleHR1cmUnO1xuaW1wb3J0IHBpeGVsc1RvVGlsZVVuaXRzIGZyb20gJy4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cyc7XG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcbmltcG9ydCBDb2xvck1vZGUgZnJvbSAnLi4vZ2wvY29sb3JfbW9kZSc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IHR5cGUgSGVhdG1hcFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvaGVhdG1hcF9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBIZWF0bWFwQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2hlYXRtYXBfYnVja2V0JztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdIZWF0bWFwO1xuXG5mdW5jdGlvbiBkcmF3SGVhdG1hcChwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBIZWF0bWFwU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChsYXllci5wYWludC5nZXQoJ2hlYXRtYXAtb3BhY2l0eScpID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAnb2Zmc2NyZWVuJykge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgY29udGV4dC5zZXREZXB0aE1vZGUocGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcigwLCBEZXB0aE1vZGUuUmVhZE9ubHkpKTtcblxuICAgICAgICAvLyBBbGxvdyBrZXJuZWxzIHRvIGJlIGRyYXduIGFjcm9zcyBib3VuZGFyaWVzLCBzbyB0aGF0XG4gICAgICAgIC8vIGxhcmdlIGtlcm5lbHMgYXJlIG5vdCBjbGlwcGVkIHRvIHRpbGVzXG4gICAgICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoU3RlbmNpbE1vZGUuZGlzYWJsZWQpO1xuXG4gICAgICAgIGJpbmRGcmFtZWJ1ZmZlcihjb250ZXh0LCBwYWludGVyLCBsYXllcik7XG5cbiAgICAgICAgY29udGV4dC5jbGVhcih7IGNvbG9yOiBDb2xvci50cmFuc3BhcmVudCB9KTtcblxuICAgICAgICAvLyBUdXJuIG9uIGFkZGl0aXZlIGJsZW5kaW5nIGZvciBrZXJuZWxzLCB3aGljaCBpcyBhIGtleSBhc3BlY3Qgb2Yga2VybmVsIGRlbnNpdHkgZXN0aW1hdGlvbiBmb3JtdWxhXG4gICAgICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKG5ldyBDb2xvck1vZGUoW2dsLk9ORSwgZ2wuT05FXSwgQ29sb3IudHJhbnNwYXJlbnQsIFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXSkpO1xuXG4gICAgICAgIGxldCBmaXJzdCA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjb29yZCA9IGNvb3Jkc1tpXTtcblxuICAgICAgICAgICAgLy8gU2tpcCB0aWxlcyB0aGF0IGhhdmUgdW5jb3ZlcmVkIHBhcmVudHMgdG8gYXZvaWQgZmxpY2tlcmluZzsgd2UgZG9uJ3QgbmVlZFxuICAgICAgICAgICAgLy8gdG8gdXNlIGNvbXBsZXggdGlsZSBtYXNraW5nIGhlcmUgYmVjYXVzZSB0aGUgY2hhbmdlIGJldHdlZW4gem9vbSBsZXZlbHMgaXMgc3VidGxlLFxuICAgICAgICAgICAgLy8gc28gaXQncyBmaW5lIHRvIHNpbXBseSByZW5kZXIgdGhlIHBhcmVudCB1bnRpbCBhbGwgaXRzIDQgY2hpbGRyZW4gYXJlIGxvYWRlZFxuICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlLmhhc1JlbmRlcmFibGVQYXJlbnQoY29vcmQpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICAgICAgY29uc3QgYnVja2V0OiA/SGVhdG1hcEJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgICAgICBpZiAoIWJ1Y2tldCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnN0IHByZXZQcm9ncmFtID0gcGFpbnRlci5jb250ZXh0LnByb2dyYW0uZ2V0KCk7XG4gICAgICAgICAgICBjb25zdCBwcm9ncmFtQ29uZmlndXJhdGlvbiA9IGJ1Y2tldC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2hlYXRtYXAnLCBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICBjb25zdCB7em9vbX0gPSBwYWludGVyLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIGlmIChmaXJzdCB8fCBwcm9ncmFtLnByb2dyYW0gIT09IHByZXZQcm9ncmFtKSB7XG4gICAgICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24uc2V0VW5pZm9ybXMocGFpbnRlci5jb250ZXh0LCBwcm9ncmFtLCBsYXllci5wYWludCwge3pvb219KTtcbiAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2V4dHJ1ZGVfc2NhbGUsIHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIDEsIHpvb20pKTtcblxuICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9pbnRlbnNpdHksIGxheWVyLnBhaW50LmdldCgnaGVhdG1hcC1pbnRlbnNpdHknKSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBjb29yZC5wb3NNYXRyaXgpO1xuXG4gICAgICAgICAgICBwcm9ncmFtLmRyYXcoXG4gICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICBnbC5UUklBTkdMRVMsXG4gICAgICAgICAgICAgICAgbGF5ZXIuaWQsXG4gICAgICAgICAgICAgICAgYnVja2V0LmxheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgICBidWNrZXQuaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICAgICAgYnVja2V0LnNlZ21lbnRzLFxuICAgICAgICAgICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodF0pO1xuXG4gICAgfSBlbHNlIGlmIChwYWludGVyLnJlbmRlclBhc3MgPT09ICd0cmFuc2x1Y2VudCcpIHtcbiAgICAgICAgcGFpbnRlci5jb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG4gICAgICAgIHJlbmRlclRleHR1cmVUb01hcChwYWludGVyLCBsYXllcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBiaW5kRnJhbWVidWZmZXIoY29udGV4dCwgcGFpbnRlciwgbGF5ZXIpIHtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMSk7XG5cbiAgICAvLyBVc2UgYSA0eCBkb3duc2NhbGVkIHNjcmVlbiB0ZXh0dXJlIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgcGFpbnRlci53aWR0aCAvIDQsIHBhaW50ZXIuaGVpZ2h0IC8gNF0pO1xuXG4gICAgbGV0IGZibyA9IGxheWVyLmhlYXRtYXBGYm87XG5cbiAgICBpZiAoIWZibykge1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG5cbiAgICAgICAgZmJvID0gbGF5ZXIuaGVhdG1hcEZibyA9IGNvbnRleHQuY3JlYXRlRnJhbWVidWZmZXIocGFpbnRlci53aWR0aCAvIDQsIHBhaW50ZXIuaGVpZ2h0IC8gNCk7XG5cbiAgICAgICAgYmluZFRleHR1cmVUb0ZyYW1lYnVmZmVyKGNvbnRleHQsIHBhaW50ZXIsIHRleHR1cmUsIGZibyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBmYm8uY29sb3JBdHRhY2htZW50LmdldCgpKTtcbiAgICAgICAgY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBiaW5kVGV4dHVyZVRvRnJhbWVidWZmZXIoY29udGV4dCwgcGFpbnRlciwgdGV4dHVyZSwgZmJvKSB7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIC8vIFVzZSB0aGUgaGlnaGVyIHByZWNpc2lvbiBoYWxmLWZsb2F0IHRleHR1cmUgd2hlcmUgYXZhaWxhYmxlIChwcm9kdWNpbmcgbXVjaCBzbW9vdGhlciBsb29raW5nIGhlYXRtYXBzKTtcbiAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHBhaW50ZXIud2lkdGggLyA0LCBwYWludGVyLmhlaWdodCAvIDQsIDAsIGdsLlJHQkEsXG4gICAgICAgIGNvbnRleHQuZXh0VGV4dHVyZUhhbGZGbG9hdCA/IGNvbnRleHQuZXh0VGV4dHVyZUhhbGZGbG9hdC5IQUxGX0ZMT0FUX09FUyA6IGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuXG4gICAgZmJvLmNvbG9yQXR0YWNobWVudC5zZXQodGV4dHVyZSk7XG5cbiAgICAvLyBJZiB1c2luZyBoYWxmLWZsb2F0IHRleHR1cmUgYXMgYSByZW5kZXIgdGFyZ2V0IGlzIG5vdCBzdXBwb3J0ZWQsIGZhbGwgYmFjayB0byBhIGxvdyBwcmVjaXNpb24gdGV4dHVyZVxuICAgIGlmIChjb250ZXh0LmV4dFRleHR1cmVIYWxmRmxvYXQgJiYgZ2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhnbC5GUkFNRUJVRkZFUikgIT09IGdsLkZSQU1FQlVGRkVSX0NPTVBMRVRFKSB7XG4gICAgICAgIGNvbnRleHQuZXh0VGV4dHVyZUhhbGZGbG9hdCA9IG51bGw7XG4gICAgICAgIGZiby5jb2xvckF0dGFjaG1lbnQuc2V0RGlydHkoKTtcbiAgICAgICAgYmluZFRleHR1cmVUb0ZyYW1lYnVmZmVyKGNvbnRleHQsIHBhaW50ZXIsIHRleHR1cmUsIGZibyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJUZXh0dXJlVG9NYXAocGFpbnRlciwgbGF5ZXIpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuXG4gICAgLy8gSGVyZSB3ZSBiaW5kIHR3byBkaWZmZXJlbnQgdGV4dHVyZXMgZnJvbSB3aGljaCB3ZSdsbCBzYW1wbGUgaW4gZHJhd2luZ1xuICAgIC8vIGhlYXRtYXBzOiB0aGUga2VybmVsIHRleHR1cmUsIHByZXBhcmVkIGluIHRoZSBvZmZzY3JlZW4gcGFzcywgYW5kIGFcbiAgICAvLyBjb2xvciByYW1wIHRleHR1cmUuXG4gICAgY29uc3QgZmJvID0gbGF5ZXIuaGVhdG1hcEZibztcbiAgICBpZiAoIWZibykgcmV0dXJuO1xuICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGZiby5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpO1xuXG4gICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMSk7XG4gICAgbGV0IGNvbG9yUmFtcFRleHR1cmUgPSBsYXllci5jb2xvclJhbXBUZXh0dXJlO1xuICAgIGlmICghY29sb3JSYW1wVGV4dHVyZSkge1xuICAgICAgICBjb2xvclJhbXBUZXh0dXJlID0gbGF5ZXIuY29sb3JSYW1wVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIGxheWVyLmNvbG9yUmFtcCwgZ2wuUkdCQSk7XG4gICAgfVxuICAgIGNvbG9yUmFtcFRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgY29udGV4dC5zZXREZXB0aE1vZGUoRGVwdGhNb2RlLmRpc2FibGVkKTtcblxuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2hlYXRtYXBUZXh0dXJlJyk7XG5cbiAgICBjb25zdCBvcGFjaXR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdoZWF0bWFwLW9wYWNpdHknKTtcbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X29wYWNpdHksIG9wYWNpdHkpO1xuICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfaW1hZ2UsIDApO1xuICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfY29sb3JfcmFtcCwgMSk7XG5cbiAgICBjb25zdCBtYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xuICAgIG1hdDQub3J0aG8obWF0cml4LCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodCwgMCwgMCwgMSk7XG4gICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgbWF0cml4KTtcblxuICAgIGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnVfd29ybGQsIGdsLmRyYXdpbmdCdWZmZXJXaWR0aCwgZ2wuZHJhd2luZ0J1ZmZlckhlaWdodCk7XG5cbiAgICBwYWludGVyLnZpZXdwb3J0VkFPLmJpbmQocGFpbnRlci5jb250ZXh0LCBwcm9ncmFtLCBwYWludGVyLnZpZXdwb3J0QnVmZmVyLCBbXSk7XG5cbiAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7XG4gICAgaXNQYXR0ZXJuTWlzc2luZyxcbiAgICBzZXRQYXR0ZXJuVW5pZm9ybXMsXG4gICAgcHJlcGFyZSBhcyBwcmVwYXJlUGF0dGVyblxufSBmcm9tICcuL3BhdHRlcm4nO1xuXG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IHR5cGUgQmFja2dyb3VuZFN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvYmFja2dyb3VuZF9zdHlsZV9sYXllcic7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdCYWNrZ3JvdW5kO1xuXG5mdW5jdGlvbiBkcmF3QmFja2dyb3VuZChwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBCYWNrZ3JvdW5kU3R5bGVMYXllcikge1xuICAgIGNvbnN0IGNvbG9yID0gbGF5ZXIucGFpbnQuZ2V0KCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG4gICAgY29uc3Qgb3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnYmFja2dyb3VuZC1vcGFjaXR5Jyk7XG5cbiAgICBpZiAob3BhY2l0eSA9PT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgY29uc3QgdGlsZVNpemUgPSB0cmFuc2Zvcm0udGlsZVNpemU7XG4gICAgY29uc3QgaW1hZ2UgPSBsYXllci5wYWludC5nZXQoJ2JhY2tncm91bmQtcGF0dGVybicpO1xuXG4gICAgY29uc3QgcGFzcyA9ICghaW1hZ2UgJiYgY29sb3IuYSA9PT0gMSAmJiBvcGFjaXR5ID09PSAxKSA/ICdvcGFxdWUnIDogJ3RyYW5zbHVjZW50JztcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzICE9PSBwYXNzKSByZXR1cm47XG5cbiAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKFN0ZW5jaWxNb2RlLmRpc2FibGVkKTtcbiAgICBjb250ZXh0LnNldERlcHRoTW9kZShwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsIHBhc3MgPT09ICdvcGFxdWUnID8gRGVwdGhNb2RlLlJlYWRXcml0ZSA6IERlcHRoTW9kZS5SZWFkT25seSkpO1xuICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcblxuICAgIGxldCBwcm9ncmFtO1xuICAgIGlmIChpbWFnZSkge1xuICAgICAgICBpZiAoaXNQYXR0ZXJuTWlzc2luZyhpbWFnZSwgcGFpbnRlcikpIHJldHVybjtcbiAgICAgICAgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnYmFja2dyb3VuZFBhdHRlcm4nKTtcbiAgICAgICAgcHJlcGFyZVBhdHRlcm4oaW1hZ2UsIHBhaW50ZXIsIHByb2dyYW0pO1xuICAgICAgICBwYWludGVyLnRpbGVFeHRlbnRQYXR0ZXJuVkFPLmJpbmQoY29udGV4dCwgcHJvZ3JhbSwgcGFpbnRlci50aWxlRXh0ZW50QnVmZmVyLCBbXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnYmFja2dyb3VuZCcpO1xuICAgICAgICBnbC51bmlmb3JtNGZ2KHByb2dyYW0udW5pZm9ybXMudV9jb2xvciwgW2NvbG9yLnIsIGNvbG9yLmcsIGNvbG9yLmIsIGNvbG9yLmFdKTtcbiAgICAgICAgcGFpbnRlci50aWxlRXh0ZW50VkFPLmJpbmQoY29udGV4dCwgcHJvZ3JhbSwgcGFpbnRlci50aWxlRXh0ZW50QnVmZmVyLCBbXSk7XG4gICAgfVxuXG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9vcGFjaXR5LCBvcGFjaXR5KTtcbiAgICBjb25zdCB0aWxlSURzID0gdHJhbnNmb3JtLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplfSk7XG5cbiAgICBmb3IgKGNvbnN0IHRpbGVJRCBvZiB0aWxlSURzKSB7XG4gICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgc2V0UGF0dGVyblVuaWZvcm1zKHt0aWxlSUQsIHRpbGVTaXplfSwgcGFpbnRlciwgcHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgcGFpbnRlci50cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4KHRpbGVJRC50b1Vud3JhcHBlZCgpKSk7XG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIHBhaW50ZXIudGlsZUV4dGVudEJ1ZmZlci5sZW5ndGgpO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBDb29yZGluYXRlIGZyb20gJy4uL2dlby9jb29yZGluYXRlJztcblxuaW1wb3J0IHsgT3ZlcnNjYWxlZFRpbGVJRCB9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcblxuZXhwb3J0IGRlZmF1bHQgdGlsZUNvdmVyO1xuXG5mdW5jdGlvbiB0aWxlQ292ZXIoejogbnVtYmVyLCBib3VuZHM6IFtDb29yZGluYXRlLCBDb29yZGluYXRlLCBDb29yZGluYXRlLCBDb29yZGluYXRlXSxcbiAgICAgICAgYWN0dWFsWjogbnVtYmVyLCByZW5kZXJXb3JsZENvcGllczogYm9vbGVhbiB8IHZvaWQpIHtcbiAgICBpZiAocmVuZGVyV29ybGRDb3BpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZW5kZXJXb3JsZENvcGllcyA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHRpbGVzID0gMSA8PCB6O1xuICAgIGNvbnN0IHQgPSB7fTtcblxuICAgIGZ1bmN0aW9uIHNjYW5MaW5lKHgwLCB4MSwgeSkge1xuICAgICAgICBsZXQgeCwgdywgd3gsIGNvb3JkO1xuICAgICAgICBpZiAoeSA+PSAwICYmIHkgPD0gdGlsZXMpIHtcbiAgICAgICAgICAgIGZvciAoeCA9IHgwOyB4IDwgeDE7IHgrKykge1xuICAgICAgICAgICAgICAgIHcgPSBNYXRoLmZsb29yKHggLyB0aWxlcyk7XG4gICAgICAgICAgICAgICAgd3ggPSAoeCAlIHRpbGVzICsgdGlsZXMpICUgdGlsZXM7XG4gICAgICAgICAgICAgICAgaWYgKHcgPT09IDAgfHwgcmVuZGVyV29ybGRDb3BpZXMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29vcmQgPSBuZXcgT3ZlcnNjYWxlZFRpbGVJRChhY3R1YWxaLCB3LCB6LCB3eCwgeSk7XG4gICAgICAgICAgICAgICAgICAgIHRbY29vcmQua2V5XSA9IGNvb3JkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIERpdmlkZSB0aGUgc2NyZWVuIHVwIGluIHR3byB0cmlhbmdsZXMgYW5kIHNjYW4gZWFjaCBvZiB0aGVtOlxuICAgIC8vICstLS0vXG4gICAgLy8gfCAvIHxcbiAgICAvLyAvLS0tK1xuICAgIHNjYW5UcmlhbmdsZShib3VuZHNbMF0sIGJvdW5kc1sxXSwgYm91bmRzWzJdLCAwLCB0aWxlcywgc2NhbkxpbmUpO1xuICAgIHNjYW5UcmlhbmdsZShib3VuZHNbMl0sIGJvdW5kc1szXSwgYm91bmRzWzBdLCAwLCB0aWxlcywgc2NhbkxpbmUpO1xuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHQpLm1hcCgoaWQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRbaWRdO1xuICAgIH0pO1xufVxuXG5cbi8vIFRha2VuIGZyb20gcG9seW1hcHMgc3JjL0xheWVyLmpzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vc2ltcGxlZ2VvL3BvbHltYXBzL2Jsb2IvbWFzdGVyL3NyYy9MYXllci5qcyNMMzMzLUwzODNcblxuZnVuY3Rpb24gZWRnZShhOiBDb29yZGluYXRlLCBiOiBDb29yZGluYXRlKSB7XG4gICAgaWYgKGEucm93ID4gYi5yb3cpIHsgY29uc3QgdCA9IGE7IGEgPSBiOyBiID0gdDsgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHgwOiBhLmNvbHVtbixcbiAgICAgICAgeTA6IGEucm93LFxuICAgICAgICB4MTogYi5jb2x1bW4sXG4gICAgICAgIHkxOiBiLnJvdyxcbiAgICAgICAgZHg6IGIuY29sdW1uIC0gYS5jb2x1bW4sXG4gICAgICAgIGR5OiBiLnJvdyAtIGEucm93XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gc2NhblNwYW5zKGUwLCBlMSwgeW1pbiwgeW1heCwgc2NhbkxpbmUpIHtcbiAgICBjb25zdCB5MCA9IE1hdGgubWF4KHltaW4sIE1hdGguZmxvb3IoZTEueTApKTtcbiAgICBjb25zdCB5MSA9IE1hdGgubWluKHltYXgsIE1hdGguY2VpbChlMS55MSkpO1xuXG4gICAgLy8gc29ydCBlZGdlcyBieSB4LWNvb3JkaW5hdGVcbiAgICBpZiAoKGUwLngwID09PSBlMS54MCAmJiBlMC55MCA9PT0gZTEueTApID9cbiAgICAgICAgKGUwLngwICsgZTEuZHkgLyBlMC5keSAqIGUwLmR4IDwgZTEueDEpIDpcbiAgICAgICAgKGUwLngxIC0gZTEuZHkgLyBlMC5keSAqIGUwLmR4IDwgZTEueDApKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlMDsgZTAgPSBlMTsgZTEgPSB0O1xuICAgIH1cblxuICAgIC8vIHNjYW4gbGluZXMhXG4gICAgY29uc3QgbTAgPSBlMC5keCAvIGUwLmR5O1xuICAgIGNvbnN0IG0xID0gZTEuZHggLyBlMS5keTtcbiAgICBjb25zdCBkMCA9IGUwLmR4ID4gMDsgLy8gdXNlIHkgKyAxIHRvIGNvbXB1dGUgeDBcbiAgICBjb25zdCBkMSA9IGUxLmR4IDwgMDsgLy8gdXNlIHkgKyAxIHRvIGNvbXB1dGUgeDFcbiAgICBmb3IgKGxldCB5ID0geTA7IHkgPCB5MTsgeSsrKSB7XG4gICAgICAgIGNvbnN0IHgwID0gbTAgKiBNYXRoLm1heCgwLCBNYXRoLm1pbihlMC5keSwgeSArIGQwIC0gZTAueTApKSArIGUwLngwO1xuICAgICAgICBjb25zdCB4MSA9IG0xICogTWF0aC5tYXgoMCwgTWF0aC5taW4oZTEuZHksIHkgKyBkMSAtIGUxLnkwKSkgKyBlMS54MDtcbiAgICAgICAgc2NhbkxpbmUoTWF0aC5mbG9vcih4MSksIE1hdGguY2VpbCh4MCksIHkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2NhblRyaWFuZ2xlKGE6IENvb3JkaW5hdGUsIGI6IENvb3JkaW5hdGUsIGM6IENvb3JkaW5hdGUsIHltaW4sIHltYXgsIHNjYW5MaW5lKSB7XG4gICAgbGV0IGFiID0gZWRnZShhLCBiKSxcbiAgICAgICAgYmMgPSBlZGdlKGIsIGMpLFxuICAgICAgICBjYSA9IGVkZ2UoYywgYSk7XG5cbiAgICBsZXQgdDtcblxuICAgIC8vIHNvcnQgZWRnZXMgYnkgeS1sZW5ndGhcbiAgICBpZiAoYWIuZHkgPiBiYy5keSkgeyB0ID0gYWI7IGFiID0gYmM7IGJjID0gdDsgfVxuICAgIGlmIChhYi5keSA+IGNhLmR5KSB7IHQgPSBhYjsgYWIgPSBjYTsgY2EgPSB0OyB9XG4gICAgaWYgKGJjLmR5ID4gY2EuZHkpIHsgdCA9IGJjOyBiYyA9IGNhOyBjYSA9IHQ7IH1cblxuICAgIC8vIHNjYW4gc3BhbiEgc2NhbiBzcGFuIVxuICAgIGlmIChhYi5keSkgc2NhblNwYW5zKGNhLCBhYiwgeW1pbiwgeW1heCwgc2NhbkxpbmUpO1xuICAgIGlmIChiYy5keSkgc2NhblNwYW5zKGNhLCBiYywgeW1pbiwgeW1heCwgc2NhbkxpbmUpO1xufVxuXG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTG5nTGF0IGZyb20gJy4vbG5nX2xhdCc7XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCBDb29yZGluYXRlIGZyb20gJy4vY29vcmRpbmF0ZSc7XG5pbXBvcnQgeyB3cmFwLCBjbGFtcCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQge251bWJlciBhcyBpbnRlcnBvbGF0ZX0gZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2ludGVycG9sYXRlJztcbmltcG9ydCB0aWxlQ292ZXIgZnJvbSAnLi4vdXRpbC90aWxlX2NvdmVyJztcbmltcG9ydCB7IENhbm9uaWNhbFRpbGVJRCwgVW53cmFwcGVkVGlsZUlEIH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudCc7XG5pbXBvcnQgZ2xtYXRyaXggZnJvbSAnQG1hcGJveC9nbC1tYXRyaXgnO1xuXG5jb25zdCB2ZWM0ID0gZ2xtYXRyaXgudmVjNCxcbiAgICBtYXQ0ID0gZ2xtYXRyaXgubWF0NCxcbiAgICBtYXQyID0gZ2xtYXRyaXgubWF0MjtcblxuLyoqXG4gKiBBIHNpbmdsZSB0cmFuc2Zvcm0sIGdlbmVyYWxseSB1c2VkIGZvciBhIHNpbmdsZSB0aWxlIHRvIGJlXG4gKiBzY2FsZWQsIHJvdGF0ZWQsIGFuZCB6b29tZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBUcmFuc2Zvcm0ge1xuICAgIHRpbGVTaXplOiBudW1iZXI7XG4gICAgdGlsZVpvb206IG51bWJlcjtcbiAgICBsbmdSYW5nZTogP1tudW1iZXIsIG51bWJlcl07XG4gICAgbGF0UmFuZ2U6ID9bbnVtYmVyLCBudW1iZXJdO1xuICAgIHNjYWxlOiBudW1iZXI7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICBhbmdsZTogbnVtYmVyO1xuICAgIHJvdGF0aW9uTWF0cml4OiBGbG9hdDY0QXJyYXk7XG4gICAgem9vbUZyYWN0aW9uOiBudW1iZXI7XG4gICAgcGl4ZWxzVG9HTFVuaXRzOiBBcnJheTxudW1iZXI+O1xuICAgIGNhbWVyYVRvQ2VudGVyRGlzdGFuY2U6IG51bWJlcjtcbiAgICBwcm9qTWF0cml4OiBGbG9hdDY0QXJyYXk7XG4gICAgYWxpZ25lZFByb2pNYXRyaXg6IEZsb2F0NjRBcnJheTtcbiAgICBwaXhlbE1hdHJpeDogRmxvYXQ2NEFycmF5O1xuICAgIHBpeGVsTWF0cml4SW52ZXJzZTogRmxvYXQ2NEFycmF5O1xuICAgIF9mb3Y6IG51bWJlcjtcbiAgICBfcGl0Y2g6IG51bWJlcjtcbiAgICBfem9vbTogbnVtYmVyO1xuICAgIF91bm1vZGlmaWVkOiBib29sZWFuO1xuICAgIF9yZW5kZXJXb3JsZENvcGllczogYm9vbGVhbjtcbiAgICBfbWluWm9vbTogbnVtYmVyO1xuICAgIF9tYXhab29tOiBudW1iZXI7XG4gICAgX2NlbnRlcjogTG5nTGF0O1xuICAgIF9jb25zdHJhaW5pbmc6IGJvb2xlYW47XG4gICAgX3Bvc01hdHJpeENhY2hlOiB7W251bWJlcl06IEZsb2F0MzJBcnJheX07XG4gICAgX2FsaWduZWRQb3NNYXRyaXhDYWNoZToge1tudW1iZXJdOiBGbG9hdDMyQXJyYXl9O1xuXG4gICAgY29uc3RydWN0b3IobWluWm9vbTogP251bWJlciwgbWF4Wm9vbTogP251bWJlciwgcmVuZGVyV29ybGRDb3BpZXM6IGJvb2xlYW4gfCB2b2lkKSB7XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSA1MTI7IC8vIGNvbnN0YW50XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMgPSByZW5kZXJXb3JsZENvcGllcyA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHJlbmRlcldvcmxkQ29waWVzO1xuICAgICAgICB0aGlzLl9taW5ab29tID0gbWluWm9vbSB8fCAwO1xuICAgICAgICB0aGlzLl9tYXhab29tID0gbWF4Wm9vbSB8fCAyMjtcblxuICAgICAgICB0aGlzLmxhdFJhbmdlID0gWy04NS4wNTExMywgODUuMDUxMTNdO1xuXG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IDA7XG4gICAgICAgIHRoaXMuX2NlbnRlciA9IG5ldyBMbmdMYXQoMCwgMCk7XG4gICAgICAgIHRoaXMuem9vbSA9IDA7XG4gICAgICAgIHRoaXMuYW5nbGUgPSAwO1xuICAgICAgICB0aGlzLl9mb3YgPSAwLjY0MzUwMTEwODc5MzI4NDQ7XG4gICAgICAgIHRoaXMuX3BpdGNoID0gMDtcbiAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3Bvc01hdHJpeENhY2hlID0ge307XG4gICAgICAgIHRoaXMuX2FsaWduZWRQb3NNYXRyaXhDYWNoZSA9IHt9O1xuICAgIH1cblxuICAgIGNsb25lKCk6IFRyYW5zZm9ybSB7XG4gICAgICAgIGNvbnN0IGNsb25lID0gbmV3IFRyYW5zZm9ybSh0aGlzLl9taW5ab29tLCB0aGlzLl9tYXhab29tLCB0aGlzLl9yZW5kZXJXb3JsZENvcGllcyk7XG4gICAgICAgIGNsb25lLnRpbGVTaXplID0gdGhpcy50aWxlU2l6ZTtcbiAgICAgICAgY2xvbmUubGF0UmFuZ2UgPSB0aGlzLmxhdFJhbmdlO1xuICAgICAgICBjbG9uZS53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIGNsb25lLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICBjbG9uZS5fY2VudGVyID0gdGhpcy5fY2VudGVyO1xuICAgICAgICBjbG9uZS56b29tID0gdGhpcy56b29tO1xuICAgICAgICBjbG9uZS5hbmdsZSA9IHRoaXMuYW5nbGU7XG4gICAgICAgIGNsb25lLl9mb3YgPSB0aGlzLl9mb3Y7XG4gICAgICAgIGNsb25lLl9waXRjaCA9IHRoaXMuX3BpdGNoO1xuICAgICAgICBjbG9uZS5fdW5tb2RpZmllZCA9IHRoaXMuX3VubW9kaWZpZWQ7XG4gICAgICAgIGNsb25lLl9jYWxjTWF0cmljZXMoKTtcbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cblxuICAgIGdldCBtaW5ab29tKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9taW5ab29tOyB9XG4gICAgc2V0IG1pblpvb20oem9vbTogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9taW5ab29tID09PSB6b29tKSByZXR1cm47XG4gICAgICAgIHRoaXMuX21pblpvb20gPSB6b29tO1xuICAgICAgICB0aGlzLnpvb20gPSBNYXRoLm1heCh0aGlzLnpvb20sIHpvb20pO1xuICAgIH1cblxuICAgIGdldCBtYXhab29tKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9tYXhab29tOyB9XG4gICAgc2V0IG1heFpvb20oem9vbTogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9tYXhab29tID09PSB6b29tKSByZXR1cm47XG4gICAgICAgIHRoaXMuX21heFpvb20gPSB6b29tO1xuICAgICAgICB0aGlzLnpvb20gPSBNYXRoLm1pbih0aGlzLnpvb20sIHpvb20pO1xuICAgIH1cblxuICAgIGdldCByZW5kZXJXb3JsZENvcGllcygpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX3JlbmRlcldvcmxkQ29waWVzOyB9XG4gICAgc2V0IHJlbmRlcldvcmxkQ29waWVzKHJlbmRlcldvcmxkQ29waWVzPzogP2Jvb2xlYW4pIHtcbiAgICAgICAgaWYgKHJlbmRlcldvcmxkQ29waWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlbmRlcldvcmxkQ29waWVzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChyZW5kZXJXb3JsZENvcGllcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmVuZGVyV29ybGRDb3BpZXMgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlbmRlcldvcmxkQ29waWVzID0gcmVuZGVyV29ybGRDb3BpZXM7XG4gICAgfVxuXG4gICAgZ2V0IHdvcmxkU2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlU2l6ZSAqIHRoaXMuc2NhbGU7XG4gICAgfVxuXG4gICAgZ2V0IGNlbnRlclBvaW50KCk6IFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZS5fZGl2KDIpO1xuICAgIH1cblxuICAgIGdldCBzaXplKCk6IFBvaW50IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgZ2V0IGJlYXJpbmcoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIC10aGlzLmFuZ2xlIC8gTWF0aC5QSSAqIDE4MDtcbiAgICB9XG4gICAgc2V0IGJlYXJpbmcoYmVhcmluZzogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGIgPSAtd3JhcChiZWFyaW5nLCAtMTgwLCAxODApICogTWF0aC5QSSAvIDE4MDtcbiAgICAgICAgaWYgKHRoaXMuYW5nbGUgPT09IGIpIHJldHVybjtcbiAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFuZ2xlID0gYjtcbiAgICAgICAgdGhpcy5fY2FsY01hdHJpY2VzKCk7XG5cbiAgICAgICAgLy8gMngyIG1hdHJpeCBmb3Igcm90YXRpbmcgcG9pbnRzXG4gICAgICAgIHRoaXMucm90YXRpb25NYXRyaXggPSBtYXQyLmNyZWF0ZSgpO1xuICAgICAgICBtYXQyLnJvdGF0ZSh0aGlzLnJvdGF0aW9uTWF0cml4LCB0aGlzLnJvdGF0aW9uTWF0cml4LCB0aGlzLmFuZ2xlKTtcbiAgICB9XG5cbiAgICBnZXQgcGl0Y2goKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpdGNoIC8gTWF0aC5QSSAqIDE4MDtcbiAgICB9XG4gICAgc2V0IHBpdGNoKHBpdGNoOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgcCA9IGNsYW1wKHBpdGNoLCAwLCA2MCkgLyAxODAgKiBNYXRoLlBJO1xuICAgICAgICBpZiAodGhpcy5fcGl0Y2ggPT09IHApIHJldHVybjtcbiAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9waXRjaCA9IHA7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgIH1cblxuICAgIGdldCBmb3YoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvdiAvIE1hdGguUEkgKiAxODA7XG4gICAgfVxuICAgIHNldCBmb3YoZm92OiBudW1iZXIpIHtcbiAgICAgICAgZm92ID0gTWF0aC5tYXgoMC4wMSwgTWF0aC5taW4oNjAsIGZvdikpO1xuICAgICAgICBpZiAodGhpcy5fZm92ID09PSBmb3YpIHJldHVybjtcbiAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9mb3YgPSBmb3YgLyAxODAgKiBNYXRoLlBJO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICBnZXQgem9vbSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fem9vbTsgfVxuICAgIHNldCB6b29tKHpvb206IG51bWJlcikge1xuICAgICAgICBjb25zdCB6ID0gTWF0aC5taW4oTWF0aC5tYXgoem9vbSwgdGhpcy5taW5ab29tKSwgdGhpcy5tYXhab29tKTtcbiAgICAgICAgaWYgKHRoaXMuX3pvb20gPT09IHopIHJldHVybjtcbiAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl96b29tID0gejtcbiAgICAgICAgdGhpcy5zY2FsZSA9IHRoaXMuem9vbVNjYWxlKHopO1xuICAgICAgICB0aGlzLnRpbGVab29tID0gTWF0aC5mbG9vcih6KTtcbiAgICAgICAgdGhpcy56b29tRnJhY3Rpb24gPSB6IC0gdGhpcy50aWxlWm9vbTtcbiAgICAgICAgdGhpcy5fY29uc3RyYWluKCk7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgIH1cblxuICAgIGdldCBjZW50ZXIoKTogTG5nTGF0IHsgcmV0dXJuIHRoaXMuX2NlbnRlcjsgfVxuICAgIHNldCBjZW50ZXIoY2VudGVyOiBMbmdMYXQpIHtcbiAgICAgICAgaWYgKGNlbnRlci5sYXQgPT09IHRoaXMuX2NlbnRlci5sYXQgJiYgY2VudGVyLmxuZyA9PT0gdGhpcy5fY2VudGVyLmxuZykgcmV0dXJuO1xuICAgICAgICB0aGlzLl91bm1vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NlbnRlciA9IGNlbnRlcjtcbiAgICAgICAgdGhpcy5fY29uc3RyYWluKCk7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIHpvb20gbGV2ZWwgdGhhdCB3aWxsIGNvdmVyIGFsbCB0aWxlcyB0aGUgdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy50aWxlU2l6ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5yb3VuZFpvb21cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSB6b29tIGxldmVsXG4gICAgICovXG4gICAgY292ZXJpbmdab29tTGV2ZWwob3B0aW9uczoge3JvdW5kWm9vbT86IGJvb2xlYW4sIHRpbGVTaXplOiBudW1iZXJ9KSB7XG4gICAgICAgIHJldHVybiAob3B0aW9ucy5yb3VuZFpvb20gPyBNYXRoLnJvdW5kIDogTWF0aC5mbG9vcikoXG4gICAgICAgICAgICB0aGlzLnpvb20gKyB0aGlzLnNjYWxlWm9vbSh0aGlzLnRpbGVTaXplIC8gb3B0aW9ucy50aWxlU2l6ZSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW55IFwid3JhcHBlZFwiIGNvcGllcyBvZiBhIGdpdmVuIHRpbGUgY29vcmRpbmF0ZSB0aGF0IGFyZSB2aXNpYmxlXG4gICAgICogaW4gdGhlIGN1cnJlbnQgdmlldy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzKHRpbGVJRDogQ2Fub25pY2FsVGlsZUlEKSB7XG4gICAgICAgIGNvbnN0IHVsID0gdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KDAsIDApLCAwKTtcbiAgICAgICAgY29uc3QgdXIgPSB0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQodGhpcy53aWR0aCwgMCksIDApO1xuICAgICAgICBjb25zdCB3MCA9IE1hdGguZmxvb3IodWwuY29sdW1uKTtcbiAgICAgICAgY29uc3QgdzEgPSBNYXRoLmZsb29yKHVyLmNvbHVtbik7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtuZXcgVW53cmFwcGVkVGlsZUlEKDAsIHRpbGVJRCldO1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyV29ybGRDb3BpZXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHcgPSB3MDsgdyA8PSB3MTsgdysrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHcgPT09IDApIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBVbndyYXBwZWRUaWxlSUQodywgdGlsZUlEKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYWxsIGNvb3JkaW5hdGVzIHRoYXQgY291bGQgY292ZXIgdGhpcyB0cmFuc2Zvcm0gZm9yIGEgY292ZXJpbmdcbiAgICAgKiB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMudGlsZVNpemVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5taW56b29tXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMubWF4em9vbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5yb3VuZFpvb21cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMucmVwYXJzZU92ZXJzY2FsZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMucmVuZGVyV29ybGRDb3BpZXNcbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8VGlsZT59IHRpbGVzXG4gICAgICovXG4gICAgY292ZXJpbmdUaWxlcyhcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgdGlsZVNpemU6IG51bWJlcixcbiAgICAgICAgICAgIG1pbnpvb20/OiBudW1iZXIsXG4gICAgICAgICAgICBtYXh6b29tPzogbnVtYmVyLFxuICAgICAgICAgICAgcm91bmRab29tPzogYm9vbGVhbixcbiAgICAgICAgICAgIHJlcGFyc2VPdmVyc2NhbGVkPzogYm9vbGVhbixcbiAgICAgICAgICAgIHJlbmRlcldvcmxkQ29waWVzPzogYm9vbGVhblxuICAgICAgICB9XG4gICAgKSB7XG4gICAgICAgIGxldCB6ID0gdGhpcy5jb3ZlcmluZ1pvb21MZXZlbChvcHRpb25zKTtcbiAgICAgICAgY29uc3QgYWN0dWFsWiA9IHo7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWluem9vbSAhPT0gdW5kZWZpbmVkICYmIHogPCBvcHRpb25zLm1pbnpvb20pIHJldHVybiBbXTtcbiAgICAgICAgaWYgKG9wdGlvbnMubWF4em9vbSAhPT0gdW5kZWZpbmVkICYmIHogPiBvcHRpb25zLm1heHpvb20pIHogPSBvcHRpb25zLm1heHpvb207XG5cbiAgICAgICAgY29uc3QgY2VudGVyQ29vcmQgPSB0aGlzLnBvaW50Q29vcmRpbmF0ZSh0aGlzLmNlbnRlclBvaW50LCB6KTtcbiAgICAgICAgY29uc3QgY2VudGVyUG9pbnQgPSBuZXcgUG9pbnQoY2VudGVyQ29vcmQuY29sdW1uIC0gMC41LCBjZW50ZXJDb29yZC5yb3cgLSAwLjUpO1xuICAgICAgICBjb25zdCBjb3JuZXJDb29yZHMgPSBbXG4gICAgICAgICAgICB0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQoMCwgMCksIHopLFxuICAgICAgICAgICAgdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KHRoaXMud2lkdGgsIDApLCB6KSxcbiAgICAgICAgICAgIHRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBQb2ludCh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCksIHopLFxuICAgICAgICAgICAgdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KDAsIHRoaXMuaGVpZ2h0KSwgeilcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIHRpbGVDb3Zlcih6LCBjb3JuZXJDb29yZHMsIG9wdGlvbnMucmVwYXJzZU92ZXJzY2FsZWQgPyBhY3R1YWxaIDogeiwgdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMpXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gY2VudGVyUG9pbnQuZGlzdChhLmNhbm9uaWNhbCkgLSBjZW50ZXJQb2ludC5kaXN0KGIuY2Fub25pY2FsKSk7XG4gICAgfVxuXG4gICAgcmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5waXhlbHNUb0dMVW5pdHMgPSBbMiAvIHdpZHRoLCAtMiAvIGhlaWdodF07XG4gICAgICAgIHRoaXMuX2NvbnN0cmFpbigpO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICBnZXQgdW5tb2RpZmllZCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX3VubW9kaWZpZWQ7IH1cblxuICAgIHpvb21TY2FsZSh6b29tOiBudW1iZXIpIHsgcmV0dXJuIE1hdGgucG93KDIsIHpvb20pOyB9XG4gICAgc2NhbGVab29tKHNjYWxlOiBudW1iZXIpIHsgcmV0dXJuIE1hdGgubG9nKHNjYWxlKSAvIE1hdGguTE4yOyB9XG5cbiAgICBwcm9qZWN0KGxuZ2xhdDogTG5nTGF0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgICAgICB0aGlzLmxuZ1gobG5nbGF0LmxuZyksXG4gICAgICAgICAgICB0aGlzLmxhdFkobG5nbGF0LmxhdCkpO1xuICAgIH1cblxuICAgIHVucHJvamVjdChwb2ludDogUG9pbnQpOiBMbmdMYXQge1xuICAgICAgICByZXR1cm4gbmV3IExuZ0xhdChcbiAgICAgICAgICAgIHRoaXMueExuZyhwb2ludC54KSxcbiAgICAgICAgICAgIHRoaXMueUxhdChwb2ludC55KSk7XG4gICAgfVxuXG4gICAgZ2V0IHgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMubG5nWCh0aGlzLmNlbnRlci5sbmcpOyB9XG4gICAgZ2V0IHkoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMubGF0WSh0aGlzLmNlbnRlci5sYXQpOyB9XG5cbiAgICBnZXQgcG9pbnQoKTogUG9pbnQgeyByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTsgfVxuXG4gICAgLyoqXG4gICAgICogbGF0aXR1ZGUgdG8gYWJzb2x1dGUgeCBjb29yZFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHBpeGVsIGNvb3JkaW5hdGVcbiAgICAgKi9cbiAgICBsbmdYKGxuZzogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiAoMTgwICsgbG5nKSAqIHRoaXMud29ybGRTaXplIC8gMzYwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBsYXRpdHVkZSB0byBhYnNvbHV0ZSB5IGNvb3JkXG4gICAgICogQHJldHVybnMge251bWJlcn0gcGl4ZWwgY29vcmRpbmF0ZVxuICAgICAqL1xuICAgIGxhdFkobGF0OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgeSA9IDE4MCAvIE1hdGguUEkgKiBNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJIC8gNCArIGxhdCAqIE1hdGguUEkgLyAzNjApKTtcbiAgICAgICAgcmV0dXJuICgxODAgLSB5KSAqIHRoaXMud29ybGRTaXplIC8gMzYwO1xuICAgIH1cblxuICAgIHhMbmcoeDogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB4ICogMzYwIC8gdGhpcy53b3JsZFNpemUgLSAxODA7XG4gICAgfVxuICAgIHlMYXQoeTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHkyID0gMTgwIC0geSAqIDM2MCAvIHRoaXMud29ybGRTaXplO1xuICAgICAgICByZXR1cm4gMzYwIC8gTWF0aC5QSSAqIE1hdGguYXRhbihNYXRoLmV4cCh5MiAqIE1hdGguUEkgLyAxODApKSAtIDkwO1xuICAgIH1cblxuICAgIHNldExvY2F0aW9uQXRQb2ludChsbmdsYXQ6IExuZ0xhdCwgcG9pbnQ6IFBvaW50KSB7XG4gICAgICAgIGNvbnN0IHRyYW5zbGF0ZSA9IHRoaXMucG9pbnRDb29yZGluYXRlKHBvaW50KS5fc3ViKHRoaXMucG9pbnRDb29yZGluYXRlKHRoaXMuY2VudGVyUG9pbnQpKTtcbiAgICAgICAgdGhpcy5jZW50ZXIgPSB0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShsbmdsYXQpLl9zdWIodHJhbnNsYXRlKSk7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJXb3JsZENvcGllcykge1xuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSB0aGlzLmNlbnRlci53cmFwKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGxvY2F0aW9uLCByZXR1cm4gdGhlIHNjcmVlbiBwb2ludCB0aGF0IGNvcnJlc3BvbmRzIHRvIGl0XG4gICAgICogQHBhcmFtIHtMbmdMYXR9IGxuZ2xhdCBsb2NhdGlvblxuICAgICAqIEByZXR1cm5zIHtQb2ludH0gc2NyZWVuIHBvaW50XG4gICAgICovXG4gICAgbG9jYXRpb25Qb2ludChsbmdsYXQ6IExuZ0xhdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb29yZGluYXRlUG9pbnQodGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUobG5nbGF0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBwb2ludCBvbiBzY3JlZW4sIHJldHVybiBpdHMgbG5nbGF0XG4gICAgICogQHBhcmFtIHtQb2ludH0gcCBzY3JlZW4gcG9pbnRcbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0fSBsbmdsYXQgbG9jYXRpb25cbiAgICAgKi9cbiAgICBwb2ludExvY2F0aW9uKHA6IFBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih0aGlzLnBvaW50Q29vcmRpbmF0ZShwKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBnZW9ncmFwaGljYWwgbG5nbGF0LCByZXR1cm4gYW4gdW5yb3VuZGVkXG4gICAgICogY29vcmRpbmF0ZSB0aGF0IHJlcHJlc2VudHMgaXQgYXQgdGhpcyB0cmFuc2Zvcm0ncyB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7TG5nTGF0fSBsbmdsYXRcbiAgICAgKiBAcmV0dXJucyB7Q29vcmRpbmF0ZX1cbiAgICAgKi9cbiAgICBsb2NhdGlvbkNvb3JkaW5hdGUobG5nbGF0OiBMbmdMYXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb29yZGluYXRlKFxuICAgICAgICAgICAgdGhpcy5sbmdYKGxuZ2xhdC5sbmcpIC8gdGhpcy50aWxlU2l6ZSxcbiAgICAgICAgICAgIHRoaXMubGF0WShsbmdsYXQubGF0KSAvIHRoaXMudGlsZVNpemUsXG4gICAgICAgICAgICB0aGlzLnpvb20pLnpvb21Ubyh0aGlzLnRpbGVab29tKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIENvb3JkaW5hdGUsIHJldHVybiBpdHMgZ2VvZ3JhcGhpY2FsIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRcbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0fSBsbmdsYXRcbiAgICAgKi9cbiAgICBjb29yZGluYXRlTG9jYXRpb24oY29vcmQ6IENvb3JkaW5hdGUpIHtcbiAgICAgICAgY29uc3Qgem9vbWVkQ29vcmQgPSBjb29yZC56b29tVG8odGhpcy56b29tKTtcbiAgICAgICAgcmV0dXJuIG5ldyBMbmdMYXQoXG4gICAgICAgICAgICB0aGlzLnhMbmcoem9vbWVkQ29vcmQuY29sdW1uICogdGhpcy50aWxlU2l6ZSksXG4gICAgICAgICAgICB0aGlzLnlMYXQoem9vbWVkQ29vcmQucm93ICogdGhpcy50aWxlU2l6ZSkpO1xuICAgIH1cblxuICAgIHBvaW50Q29vcmRpbmF0ZShwOiBQb2ludCwgem9vbT86IG51bWJlcikge1xuICAgICAgICBpZiAoem9vbSA9PT0gdW5kZWZpbmVkKSB6b29tID0gdGhpcy50aWxlWm9vbTtcblxuICAgICAgICBjb25zdCB0YXJnZXRaID0gMDtcbiAgICAgICAgLy8gc2luY2Ugd2UgZG9uJ3Qga25vdyB0aGUgY29ycmVjdCBwcm9qZWN0ZWQgeiB2YWx1ZSBmb3IgdGhlIHBvaW50LFxuICAgICAgICAvLyB1bnByb2plY3QgdHdvIHBvaW50cyB0byBnZXQgYSBsaW5lIGFuZCB0aGVuIGZpbmQgdGhlIHBvaW50IG9uIHRoYXRcbiAgICAgICAgLy8gbGluZSB3aXRoIHo9MFxuXG4gICAgICAgIGNvbnN0IGNvb3JkMCA9IFtwLngsIHAueSwgMCwgMV07XG4gICAgICAgIGNvbnN0IGNvb3JkMSA9IFtwLngsIHAueSwgMSwgMV07XG5cbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KGNvb3JkMCwgY29vcmQwLCB0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSk7XG4gICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChjb29yZDEsIGNvb3JkMSwgdGhpcy5waXhlbE1hdHJpeEludmVyc2UpO1xuXG4gICAgICAgIGNvbnN0IHcwID0gY29vcmQwWzNdO1xuICAgICAgICBjb25zdCB3MSA9IGNvb3JkMVszXTtcbiAgICAgICAgY29uc3QgeDAgPSBjb29yZDBbMF0gLyB3MDtcbiAgICAgICAgY29uc3QgeDEgPSBjb29yZDFbMF0gLyB3MTtcbiAgICAgICAgY29uc3QgeTAgPSBjb29yZDBbMV0gLyB3MDtcbiAgICAgICAgY29uc3QgeTEgPSBjb29yZDFbMV0gLyB3MTtcbiAgICAgICAgY29uc3QgejAgPSBjb29yZDBbMl0gLyB3MDtcbiAgICAgICAgY29uc3QgejEgPSBjb29yZDFbMl0gLyB3MTtcblxuICAgICAgICBjb25zdCB0ID0gejAgPT09IHoxID8gMCA6ICh0YXJnZXRaIC0gejApIC8gKHoxIC0gejApO1xuXG4gICAgICAgIHJldHVybiBuZXcgQ29vcmRpbmF0ZShcbiAgICAgICAgICAgIGludGVycG9sYXRlKHgwLCB4MSwgdCkgLyB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgaW50ZXJwb2xhdGUoeTAsIHkxLCB0KSAvIHRoaXMudGlsZVNpemUsXG4gICAgICAgICAgICB0aGlzLnpvb20pLl96b29tVG8oem9vbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBjb29yZGluYXRlLCByZXR1cm4gdGhlIHNjcmVlbiBwb2ludCB0aGF0IGNvcnJlc3BvbmRzIHRvIGl0XG4gICAgICogQHBhcmFtIHtDb29yZGluYXRlfSBjb29yZFxuICAgICAqIEByZXR1cm5zIHtQb2ludH0gc2NyZWVuIHBvaW50XG4gICAgICovXG4gICAgY29vcmRpbmF0ZVBvaW50KGNvb3JkOiBDb29yZGluYXRlKSB7XG4gICAgICAgIGNvbnN0IHpvb21lZENvb3JkID0gY29vcmQuem9vbVRvKHRoaXMuem9vbSk7XG4gICAgICAgIGNvbnN0IHAgPSBbem9vbWVkQ29vcmQuY29sdW1uICogdGhpcy50aWxlU2l6ZSwgem9vbWVkQ29vcmQucm93ICogdGhpcy50aWxlU2l6ZSwgMCwgMV07XG4gICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChwLCBwLCB0aGlzLnBpeGVsTWF0cml4KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChwWzBdIC8gcFszXSwgcFsxXSAvIHBbM10pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9zTWF0cml4IHRoYXQsIGdpdmVuIGEgdGlsZSBjb29yZGluYXRlLCB3b3VsZCBiZSB1c2VkIHRvIGRpc3BsYXkgdGhlIHRpbGUgb24gYSBtYXAuXG4gICAgICogQHBhcmFtIHtVbndyYXBwZWRUaWxlSUR9IHVud3JhcHBlZFRpbGVJRDtcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVQb3NNYXRyaXgodW53cmFwcGVkVGlsZUlEOiBVbndyYXBwZWRUaWxlSUQsIGFsaWduZWQ6IGJvb2xlYW4gPSBmYWxzZSk6IEZsb2F0MzJBcnJheSB7XG4gICAgICAgIGNvbnN0IHBvc01hdHJpeEtleSA9IHVud3JhcHBlZFRpbGVJRC5rZXk7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gYWxpZ25lZCA/IHRoaXMuX2FsaWduZWRQb3NNYXRyaXhDYWNoZSA6IHRoaXMuX3Bvc01hdHJpeENhY2hlO1xuICAgICAgICBpZiAoY2FjaGVbcG9zTWF0cml4S2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW3Bvc01hdHJpeEtleV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYW5vbmljYWwgPSB1bndyYXBwZWRUaWxlSUQuY2Fub25pY2FsO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMud29ybGRTaXplIC8gdGhpcy56b29tU2NhbGUoY2Fub25pY2FsLnopO1xuICAgICAgICBjb25zdCB1bndyYXBwZWRYID0gY2Fub25pY2FsLnggKyBNYXRoLnBvdygyLCBjYW5vbmljYWwueikgKiB1bndyYXBwZWRUaWxlSUQud3JhcDtcblxuICAgICAgICBjb25zdCBwb3NNYXRyaXggPSBtYXQ0LmlkZW50aXR5KG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUocG9zTWF0cml4LCBwb3NNYXRyaXgsIFt1bndyYXBwZWRYICogc2NhbGUsIGNhbm9uaWNhbC55ICogc2NhbGUsIDBdKTtcbiAgICAgICAgbWF0NC5zY2FsZShwb3NNYXRyaXgsIHBvc01hdHJpeCwgW3NjYWxlIC8gRVhURU5ULCBzY2FsZSAvIEVYVEVOVCwgMV0pO1xuICAgICAgICBtYXQ0Lm11bHRpcGx5KHBvc01hdHJpeCwgYWxpZ25lZCA/IHRoaXMuYWxpZ25lZFByb2pNYXRyaXggOiB0aGlzLnByb2pNYXRyaXgsIHBvc01hdHJpeCk7XG5cbiAgICAgICAgY2FjaGVbcG9zTWF0cml4S2V5XSA9IG5ldyBGbG9hdDMyQXJyYXkocG9zTWF0cml4KTtcbiAgICAgICAgcmV0dXJuIGNhY2hlW3Bvc01hdHJpeEtleV07XG4gICAgfVxuXG4gICAgX2NvbnN0cmFpbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNlbnRlciB8fCAhdGhpcy53aWR0aCB8fCAhdGhpcy5oZWlnaHQgfHwgdGhpcy5fY29uc3RyYWluaW5nKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fY29uc3RyYWluaW5nID0gdHJ1ZTtcblxuICAgICAgICBsZXQgbWluWSA9IC05MDtcbiAgICAgICAgbGV0IG1heFkgPSA5MDtcbiAgICAgICAgbGV0IG1pblggPSAtMTgwO1xuICAgICAgICBsZXQgbWF4WCA9IDE4MDtcbiAgICAgICAgbGV0IHN5LCBzeCwgeDIsIHkyO1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5zaXplLFxuICAgICAgICAgICAgdW5tb2RpZmllZCA9IHRoaXMuX3VubW9kaWZpZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMubGF0UmFuZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhdFJhbmdlID0gdGhpcy5sYXRSYW5nZTtcbiAgICAgICAgICAgIG1pblkgPSB0aGlzLmxhdFkobGF0UmFuZ2VbMV0pO1xuICAgICAgICAgICAgbWF4WSA9IHRoaXMubGF0WShsYXRSYW5nZVswXSk7XG4gICAgICAgICAgICBzeSA9IG1heFkgLSBtaW5ZIDwgc2l6ZS55ID8gc2l6ZS55IC8gKG1heFkgLSBtaW5ZKSA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5sbmdSYW5nZSkge1xuICAgICAgICAgICAgY29uc3QgbG5nUmFuZ2UgPSB0aGlzLmxuZ1JhbmdlO1xuICAgICAgICAgICAgbWluWCA9IHRoaXMubG5nWChsbmdSYW5nZVswXSk7XG4gICAgICAgICAgICBtYXhYID0gdGhpcy5sbmdYKGxuZ1JhbmdlWzFdKTtcbiAgICAgICAgICAgIHN4ID0gbWF4WCAtIG1pblggPCBzaXplLnggPyBzaXplLnggLyAobWF4WCAtIG1pblgpIDogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhvdyBtdWNoIHRoZSBtYXAgc2hvdWxkIHNjYWxlIHRvIGZpdCB0aGUgc2NyZWVuIGludG8gZ2l2ZW4gbGF0aXR1ZGUvbG9uZ2l0dWRlIHJhbmdlc1xuICAgICAgICBjb25zdCBzID0gTWF0aC5tYXgoc3ggfHwgMCwgc3kgfHwgMCk7XG5cbiAgICAgICAgaWYgKHMpIHtcbiAgICAgICAgICAgIHRoaXMuY2VudGVyID0gdGhpcy51bnByb2plY3QobmV3IFBvaW50KFxuICAgICAgICAgICAgICAgIHN4ID8gKG1heFggKyBtaW5YKSAvIDIgOiB0aGlzLngsXG4gICAgICAgICAgICAgICAgc3kgPyAobWF4WSArIG1pblkpIC8gMiA6IHRoaXMueSkpO1xuICAgICAgICAgICAgdGhpcy56b29tICs9IHRoaXMuc2NhbGVab29tKHMpO1xuICAgICAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IHVubW9kaWZpZWQ7XG4gICAgICAgICAgICB0aGlzLl9jb25zdHJhaW5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmxhdFJhbmdlKSB7XG4gICAgICAgICAgICBjb25zdCB5ID0gdGhpcy55LFxuICAgICAgICAgICAgICAgIGgyID0gc2l6ZS55IC8gMjtcblxuICAgICAgICAgICAgaWYgKHkgLSBoMiA8IG1pblkpIHkyID0gbWluWSArIGgyO1xuICAgICAgICAgICAgaWYgKHkgKyBoMiA+IG1heFkpIHkyID0gbWF4WSAtIGgyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubG5nUmFuZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLngsXG4gICAgICAgICAgICAgICAgdzIgPSBzaXplLnggLyAyO1xuXG4gICAgICAgICAgICBpZiAoeCAtIHcyIDwgbWluWCkgeDIgPSBtaW5YICsgdzI7XG4gICAgICAgICAgICBpZiAoeCArIHcyID4gbWF4WCkgeDIgPSBtYXhYIC0gdzI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYW4gdGhlIG1hcCBpZiB0aGUgc2NyZWVuIGdvZXMgb2ZmIHRoZSByYW5nZVxuICAgICAgICBpZiAoeDIgIT09IHVuZGVmaW5lZCB8fCB5MiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNlbnRlciA9IHRoaXMudW5wcm9qZWN0KG5ldyBQb2ludChcbiAgICAgICAgICAgICAgICB4MiAhPT0gdW5kZWZpbmVkID8geDIgOiB0aGlzLngsXG4gICAgICAgICAgICAgICAgeTIgIT09IHVuZGVmaW5lZCA/IHkyIDogdGhpcy55KSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91bm1vZGlmaWVkID0gdW5tb2RpZmllZDtcbiAgICAgICAgdGhpcy5fY29uc3RyYWluaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX2NhbGNNYXRyaWNlcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhlaWdodCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSA9IDAuNSAvIE1hdGgudGFuKHRoaXMuX2ZvdiAvIDIpICogdGhpcy5oZWlnaHQ7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgY2VudGVyIHBvaW50IFt3aWR0aC8yLCBoZWlnaHQvMl0gdG8gdGhlXG4gICAgICAgIC8vIGNlbnRlciB0b3AgcG9pbnQgW3dpZHRoLzIsIDBdIGluIFogdW5pdHMsIHVzaW5nIHRoZSBsYXcgb2Ygc2luZXMuXG4gICAgICAgIC8vIDEgWiB1bml0IGlzIGVxdWl2YWxlbnQgdG8gMSBob3Jpem9udGFsIHB4IGF0IHRoZSBjZW50ZXIgb2YgdGhlIG1hcFxuICAgICAgICAvLyAodGhlIGRpc3RhbmNlIGJldHdlZW5bd2lkdGgvMiwgaGVpZ2h0LzJdIGFuZCBbd2lkdGgvMiArIDEsIGhlaWdodC8yXSlcbiAgICAgICAgY29uc3QgaGFsZkZvdiA9IHRoaXMuX2ZvdiAvIDI7XG4gICAgICAgIGNvbnN0IGdyb3VuZEFuZ2xlID0gTWF0aC5QSSAvIDIgKyB0aGlzLl9waXRjaDtcbiAgICAgICAgY29uc3QgdG9wSGFsZlN1cmZhY2VEaXN0YW5jZSA9IE1hdGguc2luKGhhbGZGb3YpICogdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlIC8gTWF0aC5zaW4oTWF0aC5QSSAtIGdyb3VuZEFuZ2xlIC0gaGFsZkZvdik7XG4gICAgICAgIGNvbnN0IHggPSB0aGlzLngsIHkgPSB0aGlzLnk7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHogZGlzdGFuY2Ugb2YgdGhlIGZhcnRoZXN0IGZyYWdtZW50IHRoYXQgc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAgICBjb25zdCBmdXJ0aGVzdERpc3RhbmNlID0gTWF0aC5jb3MoTWF0aC5QSSAvIDIgLSB0aGlzLl9waXRjaCkgKiB0b3BIYWxmU3VyZmFjZURpc3RhbmNlICsgdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlO1xuICAgICAgICAvLyBBZGQgYSBiaXQgZXh0cmEgdG8gYXZvaWQgcHJlY2lzaW9uIHByb2JsZW1zIHdoZW4gYSBmcmFnbWVudCdzIGRpc3RhbmNlIGlzIGV4YWN0bHkgYGZ1cnRoZXN0RGlzdGFuY2VgXG4gICAgICAgIGNvbnN0IGZhclogPSBmdXJ0aGVzdERpc3RhbmNlICogMS4wMTtcblxuICAgICAgICAvLyBtYXRyaXggZm9yIGNvbnZlcnNpb24gZnJvbSBsb2NhdGlvbiB0byBHTCBjb29yZGluYXRlcyAoLTEgLi4gMSlcbiAgICAgICAgbGV0IG0gPSBuZXcgRmxvYXQ2NEFycmF5KDE2KTtcbiAgICAgICAgbWF0NC5wZXJzcGVjdGl2ZShtLCB0aGlzLl9mb3YsIHRoaXMud2lkdGggLyB0aGlzLmhlaWdodCwgMSwgZmFyWik7XG5cbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbMSwgLTEsIDFdKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobSwgbSwgWzAsIDAsIC10aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2VdKTtcbiAgICAgICAgbWF0NC5yb3RhdGVYKG0sIG0sIHRoaXMuX3BpdGNoKTtcbiAgICAgICAgbWF0NC5yb3RhdGVaKG0sIG0sIHRoaXMuYW5nbGUpO1xuICAgICAgICBtYXQ0LnRyYW5zbGF0ZShtLCBtLCBbLXgsIC15LCAwXSk7XG5cbiAgICAgICAgLy8gc2NhbGUgdmVydGljYWxseSB0byBtZXRlcnMgcGVyIHBpeGVsIChpbnZlcnNlIG9mIGdyb3VuZCByZXNvbHV0aW9uKTpcbiAgICAgICAgLy8gd29ybGRTaXplIC8gKGNpcmN1bWZlcmVuY2VPZkVhcnRoICogY29zKGxhdCAqIM+AIC8gMTgwKSlcbiAgICAgICAgY29uc3QgdmVydGljYWxTY2FsZSA9IHRoaXMud29ybGRTaXplIC8gKDIgKiBNYXRoLlBJICogNjM3ODEzNyAqIE1hdGguYWJzKE1hdGguY29zKHRoaXMuY2VudGVyLmxhdCAqIChNYXRoLlBJIC8gMTgwKSkpKTtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbMSwgMSwgdmVydGljYWxTY2FsZSwgMV0pO1xuXG4gICAgICAgIHRoaXMucHJvak1hdHJpeCA9IG07XG5cbiAgICAgICAgLy8gTWFrZSBhIHNlY29uZCBwcm9qZWN0aW9uIG1hdHJpeCB0aGF0IGlzIGFsaWduZWQgdG8gYSBwaXhlbCBncmlkIGZvciByZW5kZXJpbmcgcmFzdGVyIHRpbGVzLlxuICAgICAgICAvLyBXZSdyZSByb3VuZGluZyB0aGUgKGZsb2F0aW5nIHBvaW50KSB4L3kgdmFsdWVzIHRvIGFjaGlldmUgdG8gYXZvaWQgcmVuZGVyaW5nIHJhc3RlciBpbWFnZXMgdG8gZnJhY3Rpb25hbFxuICAgICAgICAvLyBjb29yZGluYXRlcy4gQWRkaXRpb25hbGx5LCB3ZSBhZGp1c3QgYnkgaGFsZiBhIHBpeGVsIGluIGVpdGhlciBkaXJlY3Rpb24gaW4gY2FzZSB0aGF0IHZpZXdwb3J0IGRpbWVuc2lvblxuICAgICAgICAvLyBpcyBhbiBvZGQgaW50ZWdlciB0byBwcmVzZXJ2ZSByZW5kZXJpbmcgdG8gdGhlIHBpeGVsIGdyaWQuIFdlJ3JlIHJvdGF0aW5nIHRoaXMgc2hpZnQgYmFzZWQgb24gdGhlIGFuZ2xlXG4gICAgICAgIC8vIG9mIHRoZSB0cmFuc2Zvcm1hdGlvbiBzbyB0aGF0IDDCsCwgOTDCsCwgMTgwwrAsIGFuZCAyNzDCsCByYXN0ZXJzIGFyZSBjcmlzcCwgYW5kIGFkanVzdCB0aGUgc2hpZnQgc28gdGhhdFxuICAgICAgICAvLyBpdCBpcyBhbHdheXMgPD0gMC41IHBpeGVscy5cbiAgICAgICAgY29uc3QgeFNoaWZ0ID0gKHRoaXMud2lkdGggJSAyKSAvIDIsIHlTaGlmdCA9ICh0aGlzLmhlaWdodCAlIDIpIC8gMixcbiAgICAgICAgICAgIGFuZ2xlQ29zID0gTWF0aC5jb3ModGhpcy5hbmdsZSksIGFuZ2xlU2luID0gTWF0aC5zaW4odGhpcy5hbmdsZSksXG4gICAgICAgICAgICBkeCA9IHggLSBNYXRoLnJvdW5kKHgpICsgYW5nbGVDb3MgKiB4U2hpZnQgKyBhbmdsZVNpbiAqIHlTaGlmdCxcbiAgICAgICAgICAgIGR5ID0geSAtIE1hdGgucm91bmQoeSkgKyBhbmdsZUNvcyAqIHlTaGlmdCArIGFuZ2xlU2luICogeFNoaWZ0O1xuICAgICAgICBjb25zdCBhbGlnbmVkTSA9IG5ldyBGbG9hdDY0QXJyYXkobSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKGFsaWduZWRNLCBhbGlnbmVkTSwgWyBkeCA+IDAuNSA/IGR4IC0gMSA6IGR4LCBkeSA+IDAuNSA/IGR5IC0gMSA6IGR5LCAwIF0pO1xuICAgICAgICB0aGlzLmFsaWduZWRQcm9qTWF0cml4ID0gYWxpZ25lZE07XG5cbiAgICAgICAgLy8gbWF0cml4IGZvciBjb252ZXJzaW9uIGZyb20gbG9jYXRpb24gdG8gc2NyZWVuIGNvb3JkaW5hdGVzXG4gICAgICAgIG0gPSBtYXQ0LmNyZWF0ZSgpO1xuICAgICAgICBtYXQ0LnNjYWxlKG0sIG0sIFt0aGlzLndpZHRoIC8gMiwgLXRoaXMuaGVpZ2h0IC8gMiwgMV0pO1xuICAgICAgICBtYXQ0LnRyYW5zbGF0ZShtLCBtLCBbMSwgLTEsIDBdKTtcbiAgICAgICAgdGhpcy5waXhlbE1hdHJpeCA9IG1hdDQubXVsdGlwbHkobmV3IEZsb2F0NjRBcnJheSgxNiksIG0sIHRoaXMucHJvak1hdHJpeCk7XG5cbiAgICAgICAgLy8gaW52ZXJzZSBtYXRyaXggZm9yIGNvbnZlcnNpb24gZnJvbSBzY3JlZW4gY29vcmRpbmFlcyB0byBsb2NhdGlvblxuICAgICAgICBtID0gbWF0NC5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksIHRoaXMucGl4ZWxNYXRyaXgpO1xuICAgICAgICBpZiAoIW0pIHRocm93IG5ldyBFcnJvcihcImZhaWxlZCB0byBpbnZlcnQgbWF0cml4XCIpO1xuICAgICAgICB0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSA9IG07XG5cbiAgICAgICAgdGhpcy5fcG9zTWF0cml4Q2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5fYWxpZ25lZFBvc01hdHJpeENhY2hlID0ge307XG4gICAgfVxuXG4gICAgbWF4UGl0Y2hTY2FsZUZhY3RvcigpIHtcbiAgICAgICAgLy8gY2FsY01hdHJpY2VzIGhhc24ndCBydW4geWV0XG4gICAgICAgIGlmICghdGhpcy5waXhlbE1hdHJpeEludmVyc2UpIHJldHVybiAxO1xuXG4gICAgICAgIGNvbnN0IGNvb3JkID0gdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KDAsIDApKS56b29tVG8odGhpcy56b29tKTtcbiAgICAgICAgY29uc3QgcCA9IFtjb29yZC5jb2x1bW4gKiB0aGlzLnRpbGVTaXplLCBjb29yZC5yb3cgKiB0aGlzLnRpbGVTaXplLCAwLCAxXTtcbiAgICAgICAgY29uc3QgdG9wUG9pbnQgPSB2ZWM0LnRyYW5zZm9ybU1hdDQocCwgcCwgdGhpcy5waXhlbE1hdHJpeCk7XG4gICAgICAgIHJldHVybiB0b3BQb2ludFszXSAvIHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRyYW5zZm9ybTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGJpbmRBbGwgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSAnLi4vdXRpbC90aHJvdHRsZSc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuL21hcCc7XG5cbi8qXG4gKiBBZGRzIHRoZSBtYXAncyBwb3NpdGlvbiB0byBpdHMgcGFnZSdzIGxvY2F0aW9uIGhhc2guXG4gKiBQYXNzZWQgYXMgYW4gb3B0aW9uIHRvIHRoZSBtYXAgb2JqZWN0LlxuICpcbiAqIEByZXR1cm5zIHtIYXNofSBgdGhpc2BcbiAqL1xuY2xhc3MgSGFzaCB7XG4gICAgX21hcDogTWFwO1xuICAgIF91cGRhdGVIYXNoOiAoKSA9PiBUaW1lb3V0SUQ7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uSGFzaENoYW5nZScsXG4gICAgICAgICAgICAnX3VwZGF0ZUhhc2gnXG4gICAgICAgIF0sIHRoaXMpO1xuXG4gICAgICAgIC8vIE1vYmlsZSBTYWZhcmkgZG9lc24ndCBhbGxvdyB1cGRhdGluZyB0aGUgaGFzaCBtb3JlIHRoYW4gMTAwIHRpbWVzIHBlciAzMCBzZWNvbmRzLlxuICAgICAgICB0aGlzLl91cGRhdGVIYXNoID0gdGhyb3R0bGUodGhpcy5fdXBkYXRlSGFzaFVudGhyb3R0bGVkLmJpbmQodGhpcyksIDMwICogMTAwMCAvIDEwMCk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBNYXAgZWxlbWVudCB0byBsaXN0ZW4gZm9yIGNvb3JkaW5hdGUgY2hhbmdlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcFxuICAgICAqIEByZXR1cm5zIHtIYXNofSBgdGhpc2BcbiAgICAgKi9cbiAgICBhZGRUbyhtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5fb25IYXNoQ2hhbmdlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuX21hcC5vbignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZUhhc2gpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFJlbW92ZXMgaGFzaFxuICAgICAqXG4gICAgICogQHJldHVybnMge1BvcHVwfSBgdGhpc2BcbiAgICAgKi9cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5fb25IYXNoQ2hhbmdlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuX21hcC5vZmYoJ21vdmVlbmQnLCB0aGlzLl91cGRhdGVIYXNoKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX21hcDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0SGFzaFN0cmluZyhtYXBGZWVkYmFjaz86IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5fbWFwLmdldENlbnRlcigpLFxuICAgICAgICAgICAgem9vbSA9IE1hdGgucm91bmQodGhpcy5fbWFwLmdldFpvb20oKSAqIDEwMCkgLyAxMDAsXG4gICAgICAgICAgICAvLyBkZXJpdmVkIGZyb20gZXF1YXRpb246IDUxMnB4ICogMl56IC8gMzYwIC8gMTBeZCA8IDAuNXB4XG4gICAgICAgICAgICBwcmVjaXNpb24gPSBNYXRoLmNlaWwoKHpvb20gKiBNYXRoLkxOMiArIE1hdGgubG9nKDUxMiAvIDM2MCAvIDAuNSkpIC8gTWF0aC5MTjEwKSxcbiAgICAgICAgICAgIG0gPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uKSxcbiAgICAgICAgICAgIGxuZyA9IE1hdGgucm91bmQoY2VudGVyLmxuZyAqIG0pIC8gbSxcbiAgICAgICAgICAgIGxhdCA9IE1hdGgucm91bmQoY2VudGVyLmxhdCAqIG0pIC8gbSxcbiAgICAgICAgICAgIGJlYXJpbmcgPSB0aGlzLl9tYXAuZ2V0QmVhcmluZygpLFxuICAgICAgICAgICAgcGl0Y2ggPSB0aGlzLl9tYXAuZ2V0UGl0Y2goKTtcbiAgICAgICAgbGV0IGhhc2ggPSAnJztcbiAgICAgICAgaWYgKG1hcEZlZWRiYWNrKSB7XG4gICAgICAgICAgICAvLyBuZXcgbWFwIGZlZWRiYWNrIHNpdGUgaGFzIHNvbWUgY29uc3RyYWludHMgdGhhdCBkb24ndCBhbGxvd1xuICAgICAgICAgICAgLy8gdXMgdG8gdXNlIHRoZSBzYW1lIGhhc2ggZm9ybWF0IGFzIHdlIGRvIGZvciB0aGUgTWFwIGhhc2ggb3B0aW9uLlxuICAgICAgICAgICAgaGFzaCArPSBgIy8ke2xuZ30vJHtsYXR9LyR7em9vbX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFzaCArPSBgIyR7em9vbX0vJHtsYXR9LyR7bG5nfWA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmVhcmluZyB8fCBwaXRjaCkgaGFzaCArPSAoYC8ke01hdGgucm91bmQoYmVhcmluZyAqIDEwKSAvIDEwfWApO1xuICAgICAgICBpZiAocGl0Y2gpIGhhc2ggKz0gKGAvJHtNYXRoLnJvdW5kKHBpdGNoKX1gKTtcbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuXG4gICAgX29uSGFzaENoYW5nZSgpIHtcbiAgICAgICAgY29uc3QgbG9jID0gd2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgnIycsICcnKS5zcGxpdCgnLycpO1xuICAgICAgICBpZiAobG9jLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuanVtcFRvKHtcbiAgICAgICAgICAgICAgICBjZW50ZXI6IFsrbG9jWzJdLCArbG9jWzFdXSxcbiAgICAgICAgICAgICAgICB6b29tOiArbG9jWzBdLFxuICAgICAgICAgICAgICAgIGJlYXJpbmc6ICsobG9jWzNdIHx8IDApLFxuICAgICAgICAgICAgICAgIHBpdGNoOiArKGxvY1s0XSB8fCAwKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUhhc2hVbnRocm90dGxlZCgpIHtcbiAgICAgICAgY29uc3QgaGFzaCA9IHRoaXMuZ2V0SGFzaFN0cmluZygpO1xuICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUod2luZG93Lmhpc3Rvcnkuc3RhdGUsICcnLCBoYXNoKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGFzaDtcbiIsIi8vIEBmbG93XG5cbi8qKlxuICogVGhyb3R0bGUgdGhlIGdpdmVuIGZ1bmN0aW9uIHRvIHJ1biBhdCBtb3N0IGV2ZXJ5IGBwZXJpb2RgIG1pbGxpc2Vjb25kcy5cbiBUaHJvdHRsZSB0aGUgZ2l2ZW4gZnVuY3Rpb24gdG8gcnVuIGF0IG1vc3QgZXZlcnkgcGVyaW9kIG1pbGxpc2Vjb25kcy5cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRocm90dGxlKGZuOiAoKSA9PiB2b2lkLCB0aW1lOiBudW1iZXIpOiAoKSA9PiBUaW1lb3V0SUQge1xuICAgIGxldCBwZW5kaW5nID0gZmFsc2U7XG4gICAgbGV0IHRpbWVySWQ6IFRpbWVvdXRJRCA9ICgwOiBhbnkpO1xuXG4gICAgY29uc3QgbGF0ZXIgPSAoKSA9PiB7XG4gICAgICAgIHRpbWVySWQgPSAoMDogYW55KTtcbiAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dChsYXRlciwgdGltZSk7XG4gICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgcGVuZGluZyA9IHRydWU7XG4gICAgICAgIGlmICghdGltZXJJZCkge1xuICAgICAgICAgICAgbGF0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGltZXJJZDtcbiAgICB9O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgRXZlbnQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuL21hcCc7XG5pbXBvcnQgdHlwZSBMbmdMYXQgZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IHR5cGUgTG5nTGF0Qm91bmRzIGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcyc7XG5cbi8qKlxuICogYE1hcE1vdXNlRXZlbnRgIGlzIHRoZSBldmVudCB0eXBlIGZvciBtb3VzZS1yZWxhdGVkIG1hcCBldmVudHMuXG4gKiBAZXh0ZW5kcyB7T2JqZWN0fVxuICovXG5leHBvcnQgY2xhc3MgTWFwTW91c2VFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgICAvKipcbiAgICAgKiBUaGUgZXZlbnQgdHlwZS5cbiAgICAgKi9cbiAgICB0eXBlOiAnbW91c2Vkb3duJ1xuICAgICAgICB8ICdtb3VzZXVwJ1xuICAgICAgICB8ICdjbGljaydcbiAgICAgICAgfCAnZGJsY2xpY2snXG4gICAgICAgIHwgJ21vdXNlbW92ZSdcbiAgICAgICAgfCAnbW91c2VvdmVyJ1xuICAgICAgICB8ICdtb3VzZWVudGVyJ1xuICAgICAgICB8ICdtb3VzZWxlYXZlJ1xuICAgICAgICB8ICdtb3VzZW92ZXInXG4gICAgICAgIHwgJ21vdXNlb3V0J1xuICAgICAgICB8ICdjb250ZXh0bWVudSc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYE1hcGAgb2JqZWN0IHRoYXQgZmlyZWQgdGhlIGV2ZW50LlxuICAgICAqL1xuICAgIG1hcDogTWFwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIERPTSBldmVudCB3aGljaCBjYXVzZWQgdGhlIG1hcCBldmVudC5cbiAgICAgKi9cbiAgICBvcmlnaW5hbEV2ZW50OiBNb3VzZUV2ZW50O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBpeGVsIGNvb3JkaW5hdGVzIG9mIHRoZSBtb3VzZSBjdXJzb3IsIHJlbGF0aXZlIHRvIHRoZSBtYXAgYW5kIG1lYXN1cmVkIGZyb20gdGhlIHRvcCBsZWZ0IGNvcm5lci5cbiAgICAgKi9cbiAgICBwb2ludDogUG9pbnQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ2VvZ3JhcGhpYyBsb2NhdGlvbiBvbiB0aGUgbWFwIG9mIHRoZSBtb3VzZSBjdXJzb3IuXG4gICAgICovXG4gICAgbG5nTGF0OiBMbmdMYXQ7XG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50cyBzdWJzZXF1ZW50IGRlZmF1bHQgcHJvY2Vzc2luZyBvZiB0aGUgZXZlbnQgYnkgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBwcmV2ZW50IHRoZSBmb2xsb3dpbmcgZGVmYXVsdCBtYXAgYmVoYXZpb3JzOlxuICAgICAqXG4gICAgICogICAqIE9uIGBtb3VzZWRvd25gIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBEcmFnUGFuSGFuZGxlcn1cbiAgICAgKiAgICogT24gYG1vdXNlZG93bmAgZXZlbnRzLCB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIERyYWdSb3RhdGVIYW5kbGVyfVxuICAgICAqICAgKiBPbiBgbW91c2Vkb3duYCBldmVudHMsIHRoZSBiZWhhdmlvciBvZiB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9XG4gICAgICogICAqIE9uIGBkYmxjbGlja2AgZXZlbnRzLCB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIERvdWJsZUNsaWNrWm9vbUhhbmRsZXJ9XG4gICAgICpcbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIGBwcmV2ZW50RGVmYXVsdGAgaGFzIGJlZW4gY2FsbGVkLlxuICAgICAqL1xuICAgIGdldCBkZWZhdWx0UHJldmVudGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG5cbiAgICBfZGVmYXVsdFByZXZlbnRlZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nLCBtYXA6IE1hcCwgb3JpZ2luYWxFdmVudDogTW91c2VFdmVudCwgZGF0YTogT2JqZWN0ID0ge30pIHtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBET00ubW91c2VQb3MobWFwLmdldENhbnZhc0NvbnRhaW5lcigpLCBvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgY29uc3QgbG5nTGF0ID0gbWFwLnVucHJvamVjdChwb2ludCk7XG4gICAgICAgIHN1cGVyKHR5cGUsIGV4dGVuZCh7IHBvaW50LCBsbmdMYXQsIG9yaWdpbmFsRXZlbnQgfSwgZGF0YSkpO1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIGBNYXBUb3VjaEV2ZW50YCBpcyB0aGUgZXZlbnQgdHlwZSBmb3IgdG91Y2gtcmVsYXRlZCBtYXAgZXZlbnRzLlxuICogQGV4dGVuZHMge09iamVjdH1cbiAqL1xuZXhwb3J0IGNsYXNzIE1hcFRvdWNoRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IHR5cGUuXG4gICAgICovXG4gICAgdHlwZTogJ3RvdWNoc3RhcnQnXG4gICAgICAgIHwgJ3RvdWNoZW5kJ1xuICAgICAgICB8ICd0b3VjaGNhbmNlbCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYE1hcGAgb2JqZWN0IHRoYXQgZmlyZWQgdGhlIGV2ZW50LlxuICAgICAqL1xuICAgIG1hcDogTWFwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIERPTSBldmVudCB3aGljaCBjYXVzZWQgdGhlIG1hcCBldmVudC5cbiAgICAgKi9cbiAgICBvcmlnaW5hbEV2ZW50OiBUb3VjaEV2ZW50O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGdlb2dyYXBoaWMgbG9jYXRpb24gb24gdGhlIG1hcCBvZiB0aGUgY2VudGVyIG9mIHRoZSB0b3VjaCBldmVudCBwb2ludHMuXG4gICAgICovXG4gICAgbG5nTGF0OiBMbmdMYXQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGl4ZWwgY29vcmRpbmF0ZXMgb2YgdGhlIGNlbnRlciBvZiB0aGUgdG91Y2ggZXZlbnQgcG9pbnRzLCByZWxhdGl2ZSB0byB0aGUgbWFwIGFuZCBtZWFzdXJlZCBmcm9tIHRoZSB0b3AgbGVmdFxuICAgICAqIGNvcm5lci5cbiAgICAgKi9cbiAgICBwb2ludDogUG9pbnQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJyYXkgb2YgcGl4ZWwgY29vcmRpbmF0ZXMgY29ycmVzcG9uZGluZyB0byBhXG4gICAgICogW3RvdWNoIGV2ZW50J3MgYHRvdWNoZXNgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2hFdmVudC90b3VjaGVzKSBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBwb2ludHM6IEFycmF5PFBvaW50PjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBnZW9ncmFwaGljYWwgbG9jYXRpb25zIG9uIHRoZSBtYXAgY29ycmVzcG9uZGluZyB0byBhXG4gICAgICogW3RvdWNoIGV2ZW50J3MgYHRvdWNoZXNgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2hFdmVudC90b3VjaGVzKSBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBsbmdMYXRzOiBBcnJheTxMbmdMYXQ+O1xuXG4gICAgLyoqXG4gICAgICogUHJldmVudHMgc3Vic2VxdWVudCBkZWZhdWx0IHByb2Nlc3Npbmcgb2YgdGhlIGV2ZW50IGJ5IHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIHdpbGwgcHJldmVudCB0aGUgZm9sbG93aW5nIGRlZmF1bHQgbWFwIGJlaGF2aW9yczpcbiAgICAgKlxuICAgICAqICAgKiBPbiBgdG91Y2hzdGFydGAgZXZlbnRzLCB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIERyYWdQYW5IYW5kbGVyfVxuICAgICAqICAgKiBPbiBgdG91Y2hzdGFydGAgZXZlbnRzLCB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXJ9XG4gICAgICpcbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIGBwcmV2ZW50RGVmYXVsdGAgaGFzIGJlZW4gY2FsbGVkLlxuICAgICAqL1xuICAgIGdldCBkZWZhdWx0UHJldmVudGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG5cbiAgICBfZGVmYXVsdFByZXZlbnRlZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nLCBtYXA6IE1hcCwgb3JpZ2luYWxFdmVudDogVG91Y2hFdmVudCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBET00udG91Y2hQb3MobWFwLmdldENhbnZhc0NvbnRhaW5lcigpLCBvcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgY29uc3QgbG5nTGF0cyA9IHBvaW50cy5tYXAoKHQpID0+IG1hcC51bnByb2plY3QodCkpO1xuICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50cy5yZWR1Y2UoKHByZXYsIGN1cnIsIGksIGFycikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHByZXYuYWRkKGN1cnIuZGl2KGFyci5sZW5ndGgpKTtcbiAgICAgICAgfSwgbmV3IFBvaW50KDAsIDApKTtcbiAgICAgICAgY29uc3QgbG5nTGF0ID0gbWFwLnVucHJvamVjdChwb2ludCk7XG4gICAgICAgIHN1cGVyKHR5cGUsIHsgcG9pbnRzLCBwb2ludCwgbG5nTGF0cywgbG5nTGF0LCBvcmlnaW5hbEV2ZW50IH0pO1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgfVxufVxuXG5cbi8qKlxuICogYE1hcFdoZWVsRXZlbnRgIGlzIHRoZSBldmVudCB0eXBlIGZvciB0aGUgYHdoZWVsYCBtYXAgZXZlbnQuXG4gKiBAZXh0ZW5kcyB7T2JqZWN0fVxuICovXG5leHBvcnQgY2xhc3MgTWFwV2hlZWxFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgICAvKipcbiAgICAgKiBUaGUgZXZlbnQgdHlwZS5cbiAgICAgKi9cbiAgICB0eXBlOiAnd2hlZWwnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBNYXBgIG9iamVjdCB0aGF0IGZpcmVkIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICBtYXA6IE1hcDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBET00gZXZlbnQgd2hpY2ggY2F1c2VkIHRoZSBtYXAgZXZlbnQuXG4gICAgICovXG4gICAgb3JpZ2luYWxFdmVudDogV2hlZWxFdmVudDtcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHN1YnNlcXVlbnQgZGVmYXVsdCBwcm9jZXNzaW5nIG9mIHRoZSBldmVudCBieSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIHByZXZlbnQgdGhlIHRoZSBiZWhhdmlvciBvZiB7QGxpbmsgU2Nyb2xsWm9vbUhhbmRsZXJ9LlxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgYHByZXZlbnREZWZhdWx0YCBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICovXG4gICAgZ2V0IGRlZmF1bHRQcmV2ZW50ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkO1xuICAgIH1cblxuICAgIF9kZWZhdWx0UHJldmVudGVkOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcsIG1hcDogTWFwLCBvcmlnaW5hbEV2ZW50OiBXaGVlbEV2ZW50KSB7XG4gICAgICAgIHN1cGVyKHR5cGUsIHsgb3JpZ2luYWxFdmVudCB9KTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNYXBCb3hab29tRXZlbnRcbiAqIEBwcm9wZXJ0eSB7TW91c2VFdmVudH0gb3JpZ2luYWxFdmVudFxuICogQHByb3BlcnR5IHtMbmdMYXRCb3VuZHN9IGJveFpvb21Cb3VuZHMgVGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uLlxuICogICBUaGlzIHByb3BlcnR5IGlzIG9ubHkgcHJvdmlkZWQgZm9yIGBib3h6b29tZW5kYCBldmVudHMuXG4gKi9cbmV4cG9ydCB0eXBlIE1hcEJveFpvb21FdmVudCA9IHtcbiAgICB0eXBlOiAnYm94em9vbXN0YXJ0J1xuICAgICAgICB8ICdib3h6b29tZW5kJ1xuICAgICAgICB8ICdib3h6b29tY2FuY2VsJyxcbiAgICBtYXA6IE1hcCxcbiAgICBvcmlnaW5hbEV2ZW50OiBNb3VzZUV2ZW50LFxuICAgIGJveFpvb21Cb3VuZHM6IExuZ0xhdEJvdW5kc1xufTtcblxuLyoqXG4gKiBBIGBNYXBEYXRhRXZlbnRgIG9iamVjdCBpcyBlbWl0dGVkIHdpdGggdGhlIHtAbGluayBNYXAuZXZlbnQ6ZGF0YX1cbiAqIGFuZCB7QGxpbmsgTWFwLmV2ZW50OmRhdGFsb2FkaW5nfSBldmVudHMuIFBvc3NpYmxlIHZhbHVlcyBmb3JcbiAqIGBkYXRhVHlwZWBzIGFyZTpcbiAqXG4gKiAtIGAnc291cmNlJ2A6IFRoZSBub24tdGlsZSBkYXRhIGFzc29jaWF0ZWQgd2l0aCBhbnkgc291cmNlXG4gKiAtIGAnc3R5bGUnYDogVGhlIFtzdHlsZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8pIHVzZWQgYnkgdGhlIG1hcFxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE1hcERhdGFFdmVudFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGF0YVR5cGUgVGhlIHR5cGUgb2YgZGF0YSB0aGF0IGhhcyBjaGFuZ2VkLiBPbmUgb2YgYCdzb3VyY2UnYCwgYCdzdHlsZSdgLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaXNTb3VyY2VMb2FkZWRdIFRydWUgaWYgdGhlIGV2ZW50IGhhcyBhIGBkYXRhVHlwZWAgb2YgYHNvdXJjZWAgYW5kIHRoZSBzb3VyY2UgaGFzIG5vIG91dHN0YW5kaW5nIG5ldHdvcmsgcmVxdWVzdHMuXG4gKiBAcHJvcGVydHkge09iamVjdH0gW3NvdXJjZV0gVGhlIFtzdHlsZSBzcGVjIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBzb3VyY2VdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvI3NvdXJjZXMpIGlmIHRoZSBldmVudCBoYXMgYSBgZGF0YVR5cGVgIG9mIGBzb3VyY2VgLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzb3VyY2VEYXRhVHlwZV0gSW5jbHVkZWQgaWYgdGhlIGV2ZW50IGhhcyBhIGBkYXRhVHlwZWAgb2YgYHNvdXJjZWAgYW5kIHRoZSBldmVudCBzaWduYWxzXG4gKiB0aGF0IGludGVybmFsIGRhdGEgaGFzIGJlZW4gcmVjZWl2ZWQgb3IgY2hhbmdlZC4gUG9zc2libGUgdmFsdWVzIGFyZSBgbWV0YWRhdGFgIGFuZCBgY29udGVudGAuXG4gKiBAcHJvcGVydHkge09iamVjdH0gW3RpbGVdIFRoZSB0aWxlIGJlaW5nIGxvYWRlZCBvciBjaGFuZ2VkLCBpZiB0aGUgZXZlbnQgaGFzIGEgYGRhdGFUeXBlYCBvZiBgc291cmNlYCBhbmRcbiAqIHRoZSBldmVudCBpcyByZWxhdGVkIHRvIGxvYWRpbmcgb2YgYSB0aWxlLlxuICogQHByb3BlcnR5IHtDb29yZGluYXRlfSBbY29vcmRdIFRoZSBjb29yZGluYXRlIG9mIHRoZSB0aWxlIGlmIHRoZSBldmVudCBoYXMgYSBgZGF0YVR5cGVgIG9mIGBzb3VyY2VgIGFuZFxuICogdGhlIGV2ZW50IGlzIHJlbGF0ZWQgdG8gbG9hZGluZyBvZiBhIHRpbGUuXG4gKi9cbmV4cG9ydCB0eXBlIE1hcERhdGFFdmVudCA9IHtcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgZGF0YVR5cGU6IHN0cmluZ1xufTtcblxuZXhwb3J0IHR5cGUgTWFwQ29udGV4dEV2ZW50ID0ge1xuICAgIHR5cGU6ICd3ZWJnbGNvbnRleHRsb3N0JyB8ICd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsXG4gICAgb3JpZ2luYWxFdmVudDogV2ViR0xDb250ZXh0RXZlbnRcbn1cblxuZXhwb3J0IHR5cGUgTWFwRXZlbnQgPVxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgcHJlc3NlZCB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZWRvd25cbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50fSBkYXRhXG4gICAgICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91c2luZy1ib3gtcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAgICAgKiBAc2VlIFtDcmVhdGUgYSBkcmFnZ2FibGUgcG9pbnRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZHJhZy1hLXBvaW50LylcbiAgICAgKi9cbiAgICB8ICdtb3VzZWRvd24nXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIHJlbGVhc2VkIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNldXBcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50fSBkYXRhXG4gICAgICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91c2luZy1ib3gtcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAgICAgKiBAc2VlIFtDcmVhdGUgYSBkcmFnZ2FibGUgcG9pbnRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZHJhZy1hLXBvaW50LylcbiAgICAgKi9cbiAgICB8ICdtb3VzZXVwJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50aW5nIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZW92ZXJcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50fSBkYXRhXG4gICAgICogQHNlZSBbR2V0IGNvb3JkaW5hdGVzIG9mIHRoZSBtb3VzZSBwb2ludGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL21vdXNlLXBvc2l0aW9uLylcbiAgICAgKiBAc2VlIFtIaWdobGlnaHQgZmVhdHVyZXMgdW5kZXIgdGhlIG1vdXNlIHBvaW50ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvaG92ZXItc3R5bGVzLylcbiAgICAgKiBAc2VlIFtEaXNwbGF5IGEgcG9wdXAgb24gaG92ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAtb24taG92ZXIvKVxuICAgICAqL1xuICAgIHwgJ21vdXNlb3ZlcidcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW91c2Vtb3ZlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqIEBzZWUgW0dldCBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tb3VzZS1wb3NpdGlvbi8pXG4gICAgICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIHVuZGVyIHRoZSBtb3VzZSBwb2ludGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2hvdmVyLXN0eWxlcy8pXG4gICAgICogQHNlZSBbRGlzcGxheSBhIHBvcHVwIG9uIG92ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAtb24taG92ZXIvKVxuICAgICAqL1xuICAgIHwgJ21vdXNlbW92ZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgYXQgdGhlIHNhbWUgcG9pbnQgb24gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCBjbGlja1xuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKiBAc2VlIFtNZWFzdXJlIGRpc3RhbmNlc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tZWFzdXJlLylcbiAgICAgKiBAc2VlIFtDZW50ZXIgdGhlIG1hcCBvbiBhIGNsaWNrZWQgc3ltYm9sXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NlbnRlci1vbi1zeW1ib2wvKVxuICAgICAqL1xuICAgIHwgJ2NsaWNrJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50aW5nIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBjbGlja2VkIHR3aWNlIGF0IHRoZSBzYW1lIHBvaW50IG9uIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgZGJsY2xpY2tcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnZGJsY2xpY2snXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGVudGVycyBhIHZpc2libGUgcG9ydGlvbiBvZiBhIHNwZWNpZmllZCBsYXllciBmcm9tXG4gICAgICogb3V0c2lkZSB0aGF0IGxheWVyIG9yIG91dHNpZGUgdGhlIG1hcCBjYW52YXMuIFRoaXMgZXZlbnQgY2FuIG9ubHkgYmUgbGlzdGVuZWQgZm9yIHZpYSB0aGUgdGhyZWUtYXJndW1lbnRcbiAgICAgKiB2ZXJzaW9uIG9mIHtAbGluayBNYXAjb259LCB3aGVyZSB0aGUgc2Vjb25kIGFyZ3VtZW50IHNwZWNpZmllcyB0aGUgZGVzaXJlZCBsYXllci5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZWVudGVyXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ21vdXNlZW50ZXInXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGxlYXZlcyBhIHZpc2libGUgcG9ydGlvbiBvZiBhIHNwZWNpZmllZCBsYXllciwgb3IgbGVhdmVzXG4gICAgICogdGhlIG1hcCBjYW52YXMuIFRoaXMgZXZlbnQgY2FuIG9ubHkgYmUgbGlzdGVuZWQgZm9yIHZpYSB0aGUgdGhyZWUtYXJndW1lbnQgdmVyc2lvbiBvZiB7QGxpbmsgTWFwI29ufSxcbiAgICAgKiB3aGVyZSB0aGUgc2Vjb25kIGFyZ3VtZW50IHNwZWNpZmllcyB0aGUgZGVzaXJlZCBsYXllci5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZWxlYXZlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqIEBzZWUgW0hpZ2hsaWdodCBmZWF0dXJlcyB1bmRlciB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9ob3Zlci1zdHlsZXMvKVxuICAgICAqL1xuICAgIHwgJ21vdXNlbGVhdmUnXG5cbiAgICAvKipcbiAgICAgKiBTeW5vbnltIGZvciBgbW91c2VlbnRlcmAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW91c2VvdmVyXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ21vdXNlb3ZlcidcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludCBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgbGVhdmVzIHRoZSBtYXAncyBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW91c2VvdXRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnbW91c2VvdXQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSByaWdodCBidXR0b24gb2YgdGhlIG1vdXNlIGlzIGNsaWNrZWQgb3IgdGhlIGNvbnRleHQgbWVudSBrZXkgaXMgcHJlc3NlZCB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCBjb250ZXh0bWVudVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdjb250ZXh0bWVudSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBbYHdoZWVsYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3doZWVsKSBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgd2hlZWxcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBXaGVlbEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnd2hlZWwnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgW2B0b3VjaHN0YXJ0YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3RvdWNoc3RhcnQpIGV2ZW50IG9jY3VycyB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCB0b3VjaHN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwVG91Y2hFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3RvdWNoc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgW2B0b3VjaGVuZGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy90b3VjaGVuZCkgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IHRvdWNoZW5kXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwVG91Y2hFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3RvdWNoZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFtgdG91Y2htb3ZlYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3RvdWNobW92ZSkgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IHRvdWNobW92ZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICd0b3VjaG1vdmUnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgW2B0b3VjaGNhbmNlbGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy90b3VjaGNhbmNlbCkgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IHRvdWNoY2FuY2VsXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwVG91Y2hFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3RvdWNoY2FuY2VsJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQganVzdCBiZWZvcmUgdGhlIG1hcCBiZWdpbnMgYSB0cmFuc2l0aW9uIGZyb20gb25lXG4gICAgICogdmlldyB0byBhbm90aGVyLCBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2p1bXBUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW92ZXN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7e29yaWdpbmFsRXZlbnQ6IERyYWdFdmVudH19IGRhdGFcbiAgICAgKi9cbiAgICB8ICdtb3Zlc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhbiBhbmltYXRlZCB0cmFuc2l0aW9uIGZyb20gb25lIHZpZXcgdG9cbiAgICAgKiBhbm90aGVyLCBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2ZseVRvfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3ZlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdtb3ZlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQganVzdCBhZnRlciB0aGUgbWFwIGNvbXBsZXRlcyBhIHRyYW5zaXRpb24gZnJvbSBvbmVcbiAgICAgKiB2aWV3IHRvIGFub3RoZXIsIGFzIHRoZSByZXN1bHQgb2YgZWl0aGVyIHVzZXIgaW50ZXJhY3Rpb24gb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjanVtcFRvfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3ZlZW5kXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7e29yaWdpbmFsRXZlbnQ6IERyYWdFdmVudH19IGRhdGFcbiAgICAgKiBAc2VlIFtQbGF5IG1hcCBsb2NhdGlvbnMgYXMgYSBzbGlkZXNob3ddKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcGxheWJhY2stbG9jYXRpb25zLylcbiAgICAgKiBAc2VlIFtGaWx0ZXIgZmVhdHVyZXMgd2l0aGluIG1hcCB2aWV3XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2ZpbHRlci1mZWF0dXJlcy13aXRoaW4tbWFwLXZpZXcvKVxuICAgICAqL1xuICAgIHwgJ21vdmVlbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIHN0YXJ0cy4gU2VlIHtAbGluayBEcmFnUGFuSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgZHJhZ3N0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7e29yaWdpbmFsRXZlbnQ6IERyYWdFdmVudH19IGRhdGFcbiAgICAgKi9cbiAgICB8ICdkcmFnc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbi4gU2VlIHtAbGluayBEcmFnUGFuSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgZHJhZ1xuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnZHJhZydcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gZW5kcy4gU2VlIHtAbGluayBEcmFnUGFuSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgZHJhZ2VuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge3tvcmlnaW5hbEV2ZW50OiBEcmFnRXZlbnR9fSBkYXRhXG4gICAgICovXG4gICAgfCAnZHJhZ2VuZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGp1c3QgYmVmb3JlIHRoZSBtYXAgYmVnaW5zIGEgdHJhbnNpdGlvbiBmcm9tIG9uZSB6b29tIGxldmVsIHRvIGFub3RoZXIsXG4gICAgICogYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgem9vbXN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICd6b29tc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhbiBhbmltYXRlZCB0cmFuc2l0aW9uIGZyb20gb25lIHpvb20gbGV2ZWwgdG8gYW5vdGhlcixcbiAgICAgKiBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2ZseVRvfS5cbiAgICAgKlxuICAgICAqIEBldmVudCB6b29tXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKiBAc2VlIFtVcGRhdGUgYSBjaG9yb3BsZXRoIGxheWVyIGJ5IHpvb20gbGV2ZWxdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXBkYXRpbmctY2hvcm9wbGV0aC8pXG4gICAgICovXG4gICAgfCAnem9vbSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGp1c3QgYWZ0ZXIgdGhlIG1hcCBjb21wbGV0ZXMgYSB0cmFuc2l0aW9uIGZyb20gb25lIHpvb20gbGV2ZWwgdG8gYW5vdGhlcixcbiAgICAgKiBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2ZseVRvfS5cbiAgICAgKlxuICAgICAqIEBldmVudCB6b29tZW5kXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICd6b29tZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBzdGFydHMuIFNlZSB7QGxpbmsgRHJhZ1JvdGF0ZUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IHJvdGF0ZXN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdyb3RhdGVzdGFydCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHJlcGVhdGVkbHkgZHVyaW5nIGEgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uLiBTZWUge0BsaW5rIERyYWdSb3RhdGVIYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCByb3RhdGVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3JvdGF0ZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gZW5kcy4gU2VlIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcm90YXRlZW5kXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdyb3RhdGVlbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuZXZlciB0aGUgbWFwJ3MgcGl0Y2ggKHRpbHQpIGJlZ2lucyBhIGNoYW5nZSBhc1xuICAgICAqIHRoZSByZXN1bHQgb2YgZWl0aGVyIHVzZXIgaW50ZXJhY3Rpb24gb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZmx5VG99IC5cbiAgICAgKlxuICAgICAqIEBldmVudCBwaXRjaHN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwRXZlbnREYXRhfSBkYXRhXG4gICAgICovXG4gICAgfCAncGl0Y2hzdGFydCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW5ldmVyIHRoZSBtYXAncyBwaXRjaCAodGlsdCkgY2hhbmdlcyBhcy5cbiAgICAgKiB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2ZseVRvfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBwaXRjaFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcEV2ZW50RGF0YX0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3BpdGNoJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIG1hcCdzIHBpdGNoICh0aWx0KSBmaW5pc2hlcyBjaGFuZ2luZyBhc1xuICAgICAqIHRoZSByZXN1bHQgb2YgZWl0aGVyIHVzZXIgaW50ZXJhY3Rpb24gb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZmx5VG99LlxuICAgICAqXG4gICAgICogQGV2ZW50IHBpdGNoZW5kXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwRXZlbnREYXRhfSBkYXRhXG4gICAgICovXG4gICAgfCAncGl0Y2hlbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIHN0YXJ0cy4gU2VlIHtAbGluayBCb3hab29tSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgYm94em9vbXN0YXJ0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwQm94Wm9vbUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnYm94em9vbXN0YXJ0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbiBlbmRzLiAgU2VlIHtAbGluayBCb3hab29tSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgYm94em9vbWVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwQm94Wm9vbUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnYm94em9vbWVuZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIHVzZXIgY2FuY2VscyBhIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbiwgb3Igd2hlbiB0aGUgYm91bmRpbmcgYm94IGRvZXMgbm90IG1lZXQgdGhlIG1pbmltdW0gc2l6ZSB0aHJlc2hvbGQuXG4gICAgICogU2VlIHtAbGluayBCb3hab29tSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgYm94em9vbWNhbmNlbFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcEJveFpvb21FdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2JveHpvb21jYW5jZWwnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgbWFwIGhhcyBiZWVuIHJlc2l6ZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcmVzaXplXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHwgJ3Jlc2l6ZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIFdlYkdMIGNvbnRleHQgaXMgbG9zdC5cbiAgICAgKlxuICAgICAqIEBldmVudCB3ZWJnbGNvbnRleHRsb3N0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHwgJ3dlYmdsY29udGV4dGxvc3QnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSBXZWJHTCBjb250ZXh0IGlzIHJlc3RvcmVkLlxuICAgICAqXG4gICAgICogQGV2ZW50IHdlYmdsY29udGV4dHJlc3RvcmVkXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHwgJ3dlYmdsY29udGV4dHJlc3RvcmVkJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgYWxsIG5lY2Vzc2FyeSByZXNvdXJjZXMgaGF2ZSBiZWVuIGRvd25sb2FkZWRcbiAgICAgKiBhbmQgdGhlIGZpcnN0IHZpc3VhbGx5IGNvbXBsZXRlIHJlbmRlcmluZyBvZiB0aGUgbWFwIGhhcyBvY2N1cnJlZC5cbiAgICAgKlxuICAgICAqIEBldmVudCBsb2FkXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHNlZSBbRHJhdyBHZW9KU09OIHBvaW50c10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nZW9qc29uLW1hcmtlcnMvKVxuICAgICAqIEBzZWUgW0FkZCBsaXZlIHJlYWx0aW1lIGRhdGFdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbGl2ZS1nZW9qc29uLylcbiAgICAgKiBAc2VlIFtBbmltYXRlIGEgcG9pbnRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYW5pbWF0ZS1wb2ludC1hbG9uZy1saW5lLylcbiAgICAgKi9cbiAgICB8ICdsb2FkJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbmV2ZXIgdGhlIG1hcCBpcyBkcmF3biB0byB0aGUgc2NyZWVuLCBhcyB0aGUgcmVzdWx0IG9mXG4gICAgICpcbiAgICAgKiAtIGEgY2hhbmdlIHRvIHRoZSBtYXAncyBwb3NpdGlvbiwgem9vbSwgcGl0Y2gsIG9yIGJlYXJpbmdcbiAgICAgKiAtIGEgY2hhbmdlIHRvIHRoZSBtYXAncyBzdHlsZVxuICAgICAqIC0gYSBjaGFuZ2UgdG8gYSBHZW9KU09OIHNvdXJjZVxuICAgICAqIC0gdGhlIGxvYWRpbmcgb2YgYSB2ZWN0b3IgdGlsZSwgR2VvSlNPTiBmaWxlLCBnbHlwaCwgb3Igc3ByaXRlXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcmVuZGVyXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHwgJ3JlbmRlcidcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBtYXAgaGFzIGJlZW4gcmVtb3ZlZCB3aXRoIHtAbGluayBNYXAuZXZlbnQ6cmVtb3ZlfS5cbiAgICAgKlxuICAgICAqIEBldmVudCByZW1vdmVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICovXG4gICAgfCAncmVtb3ZlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuIFRoaXMgaXMgR0wgSlMncyBwcmltYXJ5IGVycm9yIHJlcG9ydGluZ1xuICAgICAqIG1lY2hhbmlzbS4gV2UgdXNlIGFuIGV2ZW50IGluc3RlYWQgb2YgYHRocm93YCB0byBiZXR0ZXIgYWNjb21tb2RhdGVcbiAgICAgKiBhc3luY3Jvbm91cyBvcGVyYXRpb25zLiBJZiBubyBsaXN0ZW5lcnMgYXJlIGJvdW5kIHRvIHRoZSBgZXJyb3JgIGV2ZW50LCB0aGVcbiAgICAgKiBlcnJvciB3aWxsIGJlIHByaW50ZWQgdG8gdGhlIGNvbnNvbGUuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgZXJyb3JcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHt7ZXJyb3I6IHttZXNzYWdlOiBzdHJpbmd9fX0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2Vycm9yJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhbnkgbWFwIGRhdGEgbG9hZHMgb3IgY2hhbmdlcy4gU2VlIHtAbGluayBNYXBEYXRhRXZlbnR9XG4gICAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgZGF0YVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcERhdGFFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2RhdGEnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSBtYXAncyBzdHlsZSBsb2FkcyBvciBjaGFuZ2VzLiBTZWVcbiAgICAgKiB7QGxpbmsgTWFwRGF0YUV2ZW50fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBzdHlsZWRhdGFcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBEYXRhRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdzdHlsZWRhdGEnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIG9uZSBvZiB0aGUgbWFwJ3Mgc291cmNlcyBsb2FkcyBvciBjaGFuZ2VzLCBpbmNsdWRpbmcgaWYgYSB0aWxlIGJlbG9uZ2luZ1xuICAgICAqIHRvIGEgc291cmNlIGxvYWRzIG9yIGNoYW5nZXMuIFNlZSB7QGxpbmsgTWFwRGF0YUV2ZW50fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBzb3VyY2VkYXRhXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwRGF0YUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnc291cmNlZGF0YSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYW55IG1hcCBkYXRhIChzdHlsZSwgc291cmNlLCB0aWxlLCBldGMpIGJlZ2lucyBsb2FkaW5nIG9yXG4gICAgICogY2hhbmdpbmcgYXN5bmNyb25vdXNseS4gQWxsIGBkYXRhbG9hZGluZ2AgZXZlbnRzIGFyZSBmb2xsb3dlZCBieSBhIGBkYXRhYFxuICAgICAqIG9yIGBlcnJvcmAgZXZlbnQuIFNlZSB7QGxpbmsgTWFwRGF0YUV2ZW50fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBkYXRhbG9hZGluZ1xuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcERhdGFFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2RhdGFsb2FkaW5nJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgbWFwJ3Mgc3R5bGUgYmVnaW5zIGxvYWRpbmcgb3IgY2hhbmdpbmcgYXN5bmNyb25vdXNseS5cbiAgICAgKiBBbGwgYHN0eWxlZGF0YWxvYWRpbmdgIGV2ZW50cyBhcmUgZm9sbG93ZWQgYnkgYSBgc3R5bGVkYXRhYFxuICAgICAqIG9yIGBlcnJvcmAgZXZlbnQuIFNlZSB7QGxpbmsgTWFwRGF0YUV2ZW50fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBzdHlsZWRhdGFsb2FkaW5nXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwRGF0YUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnc3R5bGVkYXRhbG9hZGluZydcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gb25lIG9mIHRoZSBtYXAncyBzb3VyY2VzIGJlZ2lucyBsb2FkaW5nIG9yIGNoYW5naW5nIGFzeW5jcm9ub3VzbHkuXG4gICAgICogQWxsIGBzb3VyY2VkYXRhbG9hZGluZ2AgZXZlbnRzIGFyZSBmb2xsb3dlZCBieSBhIGBzb3VyY2VkYXRhYCBvciBgZXJyb3JgIGV2ZW50LlxuICAgICAqIFNlZSB7QGxpbmsgTWFwRGF0YUV2ZW50fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBzb3VyY2VkYXRhbG9hZGluZ1xuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcERhdGFFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3NvdXJjZWRhdGFsb2FkaW5nJ1xuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IHN0eWxlLmxvYWRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB8ICdzdHlsZS5sb2FkJztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuXG5pbXBvcnQgeyBlYXNlIGFzIF9lYXNlLCBiaW5kQWxsLCBiZXppZXIgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vLi4vdXRpbC9icm93c2VyJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vLi4vdXRpbC93aW5kb3cnO1xuaW1wb3J0IHsgbnVtYmVyIGFzIGludGVycG9sYXRlIH0gZnJvbSAnLi4vLi4vc3R5bGUtc3BlYy91dGlsL2ludGVycG9sYXRlJztcbmltcG9ydCBMbmdMYXQgZnJvbSAnLi4vLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IHsgRXZlbnQgfSBmcm9tICcuLi8uLi91dGlsL2V2ZW50ZWQnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUge1Rhc2tJRH0gZnJvbSAnLi4vLi4vdXRpbC90YXNrX3F1ZXVlJztcblxuLy8gZGVsdGFZIHZhbHVlIGZvciBtb3VzZSBzY3JvbGwgd2hlZWwgaWRlbnRpZmljYXRpb25cbmNvbnN0IHdoZWVsWm9vbURlbHRhID0gNC4wMDAyNDQxNDA2MjU7XG4vLyBUaGVzZSBtYWdpYyBudW1iZXJzIGNvbnRyb2wgdGhlIHJhdGUgb2Ygem9vbS4gVHJhY2twYWQgZXZlbnRzIGZpcmUgYXQgYSBncmVhdGVyXG4vLyBmcmVxdWVuY3kgdGhhbiBtb3VzZSBzY3JvbGwgd2hlZWwsIHNvIHJlZHVjZSB0aGUgem9vbSByYXRlIHBlciB3aGVlbCB0aWNrXG5jb25zdCBkZWZhdWx0Wm9vbVJhdGUgPSAxIC8gMTAwO1xuY29uc3Qgd2hlZWxab29tUmF0ZSA9IDEgLyA0NTA7XG5cbi8vIHVwcGVyIGJvdW5kIG9uIGhvdyBtdWNoIHdlIHNjYWxlIHRoZSBtYXAgaW4gYW55IHNpbmdsZSByZW5kZXIgZnJhbWU7IHRoaXNcbi8vIGlzIHVzZWQgdG8gbGltaXQgem9vbSByYXRlIGluIHRoZSBjYXNlIG9mIHZlcnkgZmFzdCBzY3JvbGxpbmdcbmNvbnN0IG1heFNjYWxlUGVyRnJhbWUgPSAyO1xuXG4vKipcbiAqIFRoZSBgU2Nyb2xsWm9vbUhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgYnkgc2Nyb2xsaW5nLlxuICovXG5jbGFzcyBTY3JvbGxab29tSGFuZGxlciB7XG4gICAgX21hcDogTWFwO1xuICAgIF9lbDogSFRNTEVsZW1lbnQ7XG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2FjdGl2ZTogYm9vbGVhbjtcbiAgICBfYXJvdW5kQ2VudGVyOiBib29sZWFuO1xuICAgIF9hcm91bmQ6IFBvaW50O1xuICAgIF9hcm91bmRQb2ludDogUG9pbnQ7XG4gICAgX3R5cGU6ICd3aGVlbCcgfCAndHJhY2twYWQnIHwgbnVsbDtcbiAgICBfbGFzdFZhbHVlOiBudW1iZXI7XG4gICAgX3RpbWVvdXQ6ID9UaW1lb3V0SUQ7IC8vIHVzZWQgZm9yIGRlbGF5ZWQtaGFuZGxpbmcgb2YgYSBzaW5nbGUgd2hlZWwgbW92ZW1lbnRcbiAgICBfZmluaXNoVGltZW91dDogP1RpbWVvdXRJRDsgLy8gdXNlZCB0byBkZWxheSBmaW5hbCAne21vdmUsem9vbX1lbmQnIGV2ZW50c1xuXG4gICAgX2xhc3RXaGVlbEV2ZW50OiBhbnk7XG4gICAgX2xhc3RXaGVlbEV2ZW50VGltZTogbnVtYmVyO1xuXG4gICAgX3N0YXJ0Wm9vbTogbnVtYmVyO1xuICAgIF90YXJnZXRab29tOiBudW1iZXI7XG4gICAgX2RlbHRhOiBudW1iZXI7XG4gICAgX2Vhc2luZzogKG51bWJlcikgPT4gbnVtYmVyO1xuICAgIF9wcmV2RWFzZToge3N0YXJ0OiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIsIGVhc2luZzogKG51bWJlcikgPT4gbnVtYmVyfTtcblxuICAgIF9mcmFtZUlkOiA/VGFza0lEO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2VsID0gbWFwLmdldENhbnZhc0NvbnRhaW5lcigpO1xuXG4gICAgICAgIHRoaXMuX2RlbHRhID0gMDtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25XaGVlbCcsXG4gICAgICAgICAgICAnX29uVGltZW91dCcsXG4gICAgICAgICAgICAnX29uU2Nyb2xsRnJhbWUnLFxuICAgICAgICAgICAgJ19vblNjcm9sbEZpbmlzaGVkJ1xuICAgICAgICBdLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwic2Nyb2xsIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJzY3JvbGwgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgaXNFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmFibGVkO1xuICAgIH1cblxuICAgIGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9hY3RpdmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJzY3JvbGwgdG8gem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5hcm91bmRdIElmIFwiY2VudGVyXCIgaXMgcGFzc2VkLCBtYXAgd2lsbCB6b29tIGFyb3VuZCBjZW50ZXIgb2YgbWFwXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgbWFwLnNjcm9sbFpvb20uZW5hYmxlKCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgbWFwLnNjcm9sbFpvb20uZW5hYmxlKHsgYXJvdW5kOiAnY2VudGVyJyB9KVxuICAgICAqL1xuICAgIGVuYWJsZShvcHRpb25zOiBhbnkpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2Fyb3VuZENlbnRlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5hcm91bmQgPT09ICdjZW50ZXInO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSBcInNjcm9sbCB0byB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgbWFwLnNjcm9sbFpvb20uZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgb25XaGVlbChlOiBXaGVlbEV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIFJlbW92ZSBgYW55YCBjYXN0IHdoZW4gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzQ4NzkgaXMgZml4ZWQuXG4gICAgICAgIGxldCB2YWx1ZSA9IGUuZGVsdGFNb2RlID09PSAod2luZG93LldoZWVsRXZlbnQ6IGFueSkuRE9NX0RFTFRBX0xJTkUgPyBlLmRlbHRhWSAqIDQwIDogZS5kZWx0YVk7XG4gICAgICAgIGNvbnN0IG5vdyA9IGJyb3dzZXIubm93KCksXG4gICAgICAgICAgICB0aW1lRGVsdGEgPSBub3cgLSAodGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lIHx8IDApO1xuXG4gICAgICAgIHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZSA9IG5vdztcblxuICAgICAgICBpZiAodmFsdWUgIT09IDAgJiYgKHZhbHVlICUgd2hlZWxab29tRGVsdGEpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBUaGlzIG9uZSBpcyBkZWZpbml0ZWx5IGEgbW91c2Ugd2hlZWwgZXZlbnQuXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gJ3doZWVsJztcblxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSAwICYmIE1hdGguYWJzKHZhbHVlKSA8IDQpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgb25lIGlzIGRlZmluaXRlbHkgYSB0cmFja3BhZCBldmVudCBiZWNhdXNlIGl0IGlzIHNvIHNtYWxsLlxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9ICd0cmFja3BhZCc7XG5cbiAgICAgICAgfSBlbHNlIGlmICh0aW1lRGVsdGEgPiA0MDApIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgbGlrZWx5IGEgbmV3IHNjcm9sbCBhY3Rpb24uXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAvLyBTdGFydCBhIHRpbWVvdXQgaW4gY2FzZSB0aGlzIHdhcyBhIHNpbmd1bGFyIGV2ZW50LCBhbmQgZGVseSBpdCBieSB1cCB0byA0MG1zLlxuICAgICAgICAgICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fb25UaW1lb3V0LCA0MCwgZSk7XG5cbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fdHlwZSkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHJlcGVhdGluZyBldmVudCwgYnV0IHdlIGRvbid0IGtub3cgdGhlIHR5cGUgb2YgZXZlbnQganVzdCB5ZXQuXG4gICAgICAgICAgICAvLyBJZiB0aGUgZGVsdGEgcGVyIHRpbWUgaXMgc21hbGwsIHdlIGFzc3VtZSBpdCdzIGEgZmFzdCB0cmFja3BhZDsgb3RoZXJ3aXNlIHdlIHN3aXRjaCBpbnRvIHdoZWVsIG1vZGUuXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gKE1hdGguYWJzKHRpbWVEZWx0YSAqIHZhbHVlKSA8IDIwMCkgPyAndHJhY2twYWQnIDogJ3doZWVsJztcblxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIG91ciBkZWxheWVkIGV2ZW50IGlzbid0IGZpcmVkIGFnYWluLCBiZWNhdXNlIHdlIGFjY3VtdWxhdGVcbiAgICAgICAgICAgIC8vIHRoZSBwcmV2aW91cyBldmVudCAod2hpY2ggd2FzIGxlc3MgdGhhbiA0MG1zIGFnbykgaW50byB0aGlzIGV2ZW50LlxuICAgICAgICAgICAgaWYgKHRoaXMuX3RpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gdGhpcy5fbGFzdFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2xvdyBkb3duIHpvb20gaWYgc2hpZnQga2V5IGlzIGhlbGQgZm9yIG1vcmUgcHJlY2lzZSB6b29taW5nXG4gICAgICAgIGlmIChlLnNoaWZ0S2V5ICYmIHZhbHVlKSB2YWx1ZSA9IHZhbHVlIC8gNDtcblxuICAgICAgICAvLyBPbmx5IGZpcmUgdGhlIGNhbGxiYWNrIGlmIHdlIGFjdHVhbGx5IGtub3cgd2hhdCB0eXBlIG9mIHNjcm9sbGluZyBkZXZpY2UgdGhlIHVzZXIgdXNlcy5cbiAgICAgICAgaWYgKHRoaXMuX3R5cGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RXaGVlbEV2ZW50ID0gZTtcbiAgICAgICAgICAgIHRoaXMuX2RlbHRhIC09IHZhbHVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBfb25UaW1lb3V0KGluaXRpYWxFdmVudDogYW55KSB7XG4gICAgICAgIHRoaXMuX3R5cGUgPSAnd2hlZWwnO1xuICAgICAgICB0aGlzLl9kZWx0YSAtPSB0aGlzLl9sYXN0VmFsdWU7XG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydChpbml0aWFsRXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N0YXJ0KGU6IGFueSkge1xuICAgICAgICBpZiAoIXRoaXMuX2RlbHRhKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZnJhbWVJZCk7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCgnbW92ZXN0YXJ0Jywge29yaWdpbmFsRXZlbnQ6IGV9KSk7XG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCgnem9vbXN0YXJ0Jywge29yaWdpbmFsRXZlbnQ6IGV9KSk7XG4gICAgICAgIGlmICh0aGlzLl9maW5pc2hUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fZmluaXNoVGltZW91dCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3MgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUpO1xuXG4gICAgICAgIHRoaXMuX2Fyb3VuZCA9IExuZ0xhdC5jb252ZXJ0KHRoaXMuX2Fyb3VuZENlbnRlciA/IHRoaXMuX21hcC5nZXRDZW50ZXIoKSA6IHRoaXMuX21hcC51bnByb2plY3QocG9zKSk7XG4gICAgICAgIHRoaXMuX2Fyb3VuZFBvaW50ID0gdGhpcy5fbWFwLnRyYW5zZm9ybS5sb2NhdGlvblBvaW50KHRoaXMuX2Fyb3VuZCk7XG4gICAgICAgIGlmICghdGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IHRoaXMuX21hcC5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX29uU2Nyb2xsRnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uU2Nyb2xsRnJhbWUoKSB7XG4gICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuXG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSgpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy5fbWFwLnRyYW5zZm9ybTtcblxuICAgICAgICAvLyBpZiB3ZSd2ZSBoYWQgc2Nyb2xsIGV2ZW50cyBzaW5jZSB0aGUgbGFzdCByZW5kZXIgZnJhbWUsIGNvbnN1bWUgdGhlXG4gICAgICAgIC8vIGFjY3VtdWxhdGVkIGRlbHRhLCBhbmQgdXBkYXRlIHRoZSB0YXJnZXQgem9vbSBsZXZlbCBhY2NvcmRpbmdseVxuICAgICAgICBpZiAodGhpcy5fZGVsdGEgIT09IDApIHtcbiAgICAgICAgICAgIC8vIEZvciB0cmFja3BhZCBldmVudHMgYW5kIHNpbmdsZSBtb3VzZSB3aGVlbCB0aWNrcywgdXNlIHRoZSBkZWZhdWx0IHpvb20gcmF0ZVxuICAgICAgICAgICAgY29uc3Qgem9vbVJhdGUgPSAodGhpcy5fdHlwZSA9PT0gJ3doZWVsJyAmJiBNYXRoLmFicyh0aGlzLl9kZWx0YSkgPiB3aGVlbFpvb21EZWx0YSkgPyB3aGVlbFpvb21SYXRlIDogZGVmYXVsdFpvb21SYXRlO1xuICAgICAgICAgICAgLy8gU2NhbGUgYnkgc2lnbW9pZCBvZiBzY3JvbGwgd2hlZWwgZGVsdGEuXG4gICAgICAgICAgICBsZXQgc2NhbGUgPSBtYXhTY2FsZVBlckZyYW1lIC8gKDEgKyBNYXRoLmV4cCgtTWF0aC5hYnModGhpcy5fZGVsdGEgKiB6b29tUmF0ZSkpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2RlbHRhIDwgMCAmJiBzY2FsZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHNjYWxlID0gMSAvIHNjYWxlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmcm9tU2NhbGUgPSB0eXBlb2YgdGhpcy5fdGFyZ2V0Wm9vbSA9PT0gJ251bWJlcicgPyB0ci56b29tU2NhbGUodGhpcy5fdGFyZ2V0Wm9vbSkgOiB0ci5zY2FsZTtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldFpvb20gPSBNYXRoLm1pbih0ci5tYXhab29tLCBNYXRoLm1heCh0ci5taW5ab29tLCB0ci5zY2FsZVpvb20oZnJvbVNjYWxlICogc2NhbGUpKSk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBtb3VzZSB3aGVlbCwgcmVmcmVzaCB0aGUgc3RhcnRpbmcgem9vbSBhbmQgZWFzaW5nXG4gICAgICAgICAgICAvLyBmdW5jdGlvbiB3ZSdyZSB1c2luZyB0byBzbW9vdGggb3V0IHRoZSB6b29taW5nIGJldHdlZW4gd2hlZWxcbiAgICAgICAgICAgIC8vIGV2ZW50c1xuICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09ICd3aGVlbCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydFpvb20gPSB0ci56b29tO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Vhc2luZyA9IHRoaXMuX3Ntb290aE91dEVhc2luZygyMDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9kZWx0YSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09ICd3aGVlbCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBNYXRoLm1pbigoYnJvd3Nlci5ub3coKSAtIHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZSkgLyAyMDAsIDEpO1xuICAgICAgICAgICAgY29uc3QgayA9IHRoaXMuX2Vhc2luZyh0KTtcbiAgICAgICAgICAgIHRyLnpvb20gPSBpbnRlcnBvbGF0ZSh0aGlzLl9zdGFydFpvb20sIHRoaXMuX3RhcmdldFpvb20sIGspO1xuICAgICAgICAgICAgaWYgKHQgPCAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSB0aGlzLl9tYXAuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9vblNjcm9sbEZyYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyLnpvb20gPSB0aGlzLl90YXJnZXRab29tO1xuICAgICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdHIuc2V0TG9jYXRpb25BdFBvaW50KHRoaXMuX2Fyb3VuZCwgdGhpcy5fYXJvdW5kUG9pbnQpO1xuXG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCgnbW92ZScsIHtvcmlnaW5hbEV2ZW50OiB0aGlzLl9sYXN0V2hlZWxFdmVudH0pKTtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KCd6b29tJywge29yaWdpbmFsRXZlbnQ6IHRoaXMuX2xhc3RXaGVlbEV2ZW50fSkpO1xuXG4gICAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9maW5pc2hUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KCd6b29tZW5kJywge29yaWdpbmFsRXZlbnQ6IHRoaXMuX2xhc3RXaGVlbEV2ZW50fSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCgnbW92ZWVuZCcsIHtvcmlnaW5hbEV2ZW50OiB0aGlzLl9sYXN0V2hlZWxFdmVudH0pKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fdGFyZ2V0Wm9vbTtcbiAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc21vb3RoT3V0RWFzaW5nKGR1cmF0aW9uOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IGVhc2luZyA9IF9lYXNlO1xuXG4gICAgICAgIGlmICh0aGlzLl9wcmV2RWFzZSkge1xuICAgICAgICAgICAgY29uc3QgZWFzZSA9IHRoaXMuX3ByZXZFYXNlLFxuICAgICAgICAgICAgICAgIHQgPSAoYnJvd3Nlci5ub3coKSAtIGVhc2Uuc3RhcnQpIC8gZWFzZS5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBzcGVlZCA9IGVhc2UuZWFzaW5nKHQgKyAwLjAxKSAtIGVhc2UuZWFzaW5nKHQpLFxuXG4gICAgICAgICAgICAgICAgLy8gUXVpY2sgaGFjayB0byBtYWtlIG5ldyBiZXppZXIgdGhhdCBpcyBjb250aW51b3VzIHdpdGggbGFzdFxuICAgICAgICAgICAgICAgIHggPSAwLjI3IC8gTWF0aC5zcXJ0KHNwZWVkICogc3BlZWQgKyAwLjAwMDEpICogMC4wMSxcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5zcXJ0KDAuMjcgKiAwLjI3IC0geCAqIHgpO1xuXG4gICAgICAgICAgICBlYXNpbmcgPSBiZXppZXIoeCwgeSwgMC4yNSwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcmV2RWFzZSA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgICAgZWFzaW5nOiBlYXNpbmdcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZWFzaW5nO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2Nyb2xsWm9vbUhhbmRsZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcblxuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuLi8uLi9nZW8vbG5nX2xhdF9ib3VuZHMnO1xuaW1wb3J0IHsgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uLy4uL3V0aWwvd2luZG93JztcbmltcG9ydCB7IEV2ZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9ldmVudGVkJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5cbi8qKlxuICogVGhlIGBCb3hab29tSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gdGhlIG1hcCB0byBmaXQgd2l0aGluIGEgYm91bmRpbmcgYm94LlxuICogVGhlIGJvdW5kaW5nIGJveCBpcyBkZWZpbmVkIGJ5IGNsaWNraW5nIGFuZCBob2xkaW5nIGBzaGlmdGAgd2hpbGUgZHJhZ2dpbmcgdGhlIGN1cnNvci5cbiAqL1xuY2xhc3MgQm94Wm9vbUhhbmRsZXIge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfZWw6IEhUTUxFbGVtZW50O1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9lbmFibGVkOiBib29sZWFuO1xuICAgIF9hY3RpdmU6IGJvb2xlYW47XG4gICAgX3N0YXJ0UG9zOiBhbnk7XG4gICAgX2JveDogSFRNTEVsZW1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fZWwgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG1hcC5nZXRDb250YWluZXIoKTtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25Nb3VzZU1vdmUnLFxuICAgICAgICAgICAgJ19vbk1vdXNlVXAnLFxuICAgICAgICAgICAgJ19vbktleURvd24nXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLCBpLmUuIGN1cnJlbnRseSBiZWluZyB1c2VkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZS5cbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fYWN0aXZlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICBtYXAuYm94Wm9vbS5lbmFibGUoKTtcbiAgICAgKi9cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgbWFwLmJveFpvb20uZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgb25Nb3VzZURvd24oZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgaWYgKCEoZS5zaGlmdEtleSAmJiBlLmJ1dHRvbiA9PT0gMCkpIHJldHVybjtcblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGZhbHNlKTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXAsIGZhbHNlKTtcblxuICAgICAgICBET00uZGlzYWJsZURyYWcoKTtcbiAgICAgICAgdGhpcy5fc3RhcnRQb3MgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUpO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgIH1cblxuICAgIF9vbk1vdXNlTW92ZShlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHAwID0gdGhpcy5fc3RhcnRQb3MsXG4gICAgICAgICAgICBwMSA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9ib3gpIHtcbiAgICAgICAgICAgIHRoaXMuX2JveCA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1ib3h6b29tJywgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jcm9zc2hhaXInKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnYm94em9vbXN0YXJ0JywgZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtaW5YID0gTWF0aC5taW4ocDAueCwgcDEueCksXG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgocDAueCwgcDEueCksXG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4ocDAueSwgcDEueSksXG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgocDAueSwgcDEueSk7XG5cbiAgICAgICAgRE9NLnNldFRyYW5zZm9ybSh0aGlzLl9ib3gsIGB0cmFuc2xhdGUoJHttaW5YfXB4LCR7bWluWX1weClgKTtcblxuICAgICAgICB0aGlzLl9ib3guc3R5bGUud2lkdGggPSBgJHttYXhYIC0gbWluWH1weGA7XG4gICAgICAgIHRoaXMuX2JveC5zdHlsZS5oZWlnaHQgPSBgJHttYXhZIC0gbWluWX1weGA7XG4gICAgfVxuXG4gICAgX29uTW91c2VVcChlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmIChlLmJ1dHRvbiAhPT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHAwID0gdGhpcy5fc3RhcnRQb3MsXG4gICAgICAgICAgICBwMSA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZSksXG4gICAgICAgICAgICBib3VuZHMgPSBuZXcgTG5nTGF0Qm91bmRzKClcbiAgICAgICAgICAgICAgICAuZXh0ZW5kKHRoaXMuX21hcC51bnByb2plY3QocDApKVxuICAgICAgICAgICAgICAgIC5leHRlbmQodGhpcy5fbWFwLnVucHJvamVjdChwMSkpO1xuXG4gICAgICAgIHRoaXMuX2ZpbmlzaCgpO1xuXG4gICAgICAgIERPTS5zdXBwcmVzc0NsaWNrKCk7XG5cbiAgICAgICAgaWYgKHAwLnggPT09IHAxLnggJiYgcDAueSA9PT0gcDEueSkge1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdib3h6b29tY2FuY2VsJywgZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBcbiAgICAgICAgICAgICAgICAuZml0Qm91bmRzKGJvdW5kcywge2xpbmVhcjogdHJ1ZX0pXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdib3h6b29tZW5kJywgeyBvcmlnaW5hbEV2ZW50OiBlLCBib3hab29tQm91bmRzOiBib3VuZHMgfSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDI3KSB7XG4gICAgICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnYm94em9vbWNhbmNlbCcsIGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2ZpbmlzaCgpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCBmYWxzZSk7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWNyb3NzaGFpcicpO1xuXG4gICAgICAgIGlmICh0aGlzLl9ib3gpIHtcbiAgICAgICAgICAgIERPTS5yZW1vdmUodGhpcy5fYm94KTtcbiAgICAgICAgICAgIHRoaXMuX2JveCA9IChudWxsOiBhbnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgRE9NLmVuYWJsZURyYWcoKTtcbiAgICB9XG5cbiAgICBfZmlyZUV2ZW50KHR5cGU6IHN0cmluZywgZTogKikge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KHR5cGUsIHsgb3JpZ2luYWxFdmVudDogZSB9KSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCb3hab29tSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuXG5pbXBvcnQgeyBiZXppZXIsIGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi8uLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IHsgRXZlbnQgfSBmcm9tICcuLi8uLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUge1Rhc2tJRH0gZnJvbSAnLi4vLi4vdXRpbC90YXNrX3F1ZXVlJztcblxuY29uc3QgaW5lcnRpYUxpbmVhcml0eSA9IDAuMjUsXG4gICAgaW5lcnRpYUVhc2luZyA9IGJlemllcigwLCAwLCBpbmVydGlhTGluZWFyaXR5LCAxKSxcbiAgICBpbmVydGlhTWF4U3BlZWQgPSAxODAsIC8vIGRlZy9zXG4gICAgaW5lcnRpYURlY2VsZXJhdGlvbiA9IDcyMDsgLy8gZGVnL3NeMlxuXG4vKipcbiAqIFRoZSBgRHJhZ1JvdGF0ZUhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byByb3RhdGUgdGhlIG1hcCBieSBjbGlja2luZyBhbmRcbiAqIGRyYWdnaW5nIHRoZSBjdXJzb3Igd2hpbGUgaG9sZGluZyB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIG9yIGBjdHJsYCBrZXkuXG4gKi9cbmNsYXNzIERyYWdSb3RhdGVIYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfc3RhdGU6ICdkaXNhYmxlZCcgfCAnZW5hYmxlZCcgfCAncGVuZGluZycgfCAnYWN0aXZlJztcbiAgICBfYnV0dG9uOiAncmlnaHQnIHwgJ2xlZnQnO1xuICAgIF9ldmVudEJ1dHRvbjogbnVtYmVyO1xuICAgIF9iZWFyaW5nU25hcDogbnVtYmVyO1xuICAgIF9waXRjaFdpdGhSb3RhdGU6IGJvb2xlYW47XG5cbiAgICBfbGFzdE1vdmVFdmVudDogTW91c2VFdmVudDtcbiAgICBfcG9zOiBQb2ludDtcbiAgICBfcHJldmlvdXNQb3M6IFBvaW50O1xuICAgIF9pbmVydGlhOiBBcnJheTxbbnVtYmVyLCBudW1iZXJdPjtcbiAgICBfY2VudGVyOiBQb2ludDtcbiAgICBfZnJhbWVJZDogP1Rhc2tJRDtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TWFwfSBtYXAgVGhlIE1hcGJveCBHTCBKUyBtYXAgdG8gYWRkIHRoZSBoYW5kbGVyIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmVhcmluZ1NuYXBdIFRoZSB0aHJlc2hvbGQsIG1lYXN1cmVkIGluIGRlZ3JlZXMsIHRoYXQgZGV0ZXJtaW5lcyB3aGVuIHRoZSBtYXAnc1xuICAgICAqICAgYmVhcmluZyB3aWxsIHNuYXAgdG8gbm9ydGguXG4gICAgICogQHBhcmFtIHtib29sfSBbb3B0aW9ucy5waXRjaFdpdGhSb3RhdGU9dHJ1ZV0gQ29udHJvbCB0aGUgbWFwIHBpdGNoIGluIGFkZGl0aW9uIHRvIHRoZSBiZWFyaW5nXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCwgb3B0aW9uczoge1xuICAgICAgICBidXR0b24/OiAncmlnaHQnIHwgJ2xlZnQnLFxuICAgICAgICBlbGVtZW50PzogSFRNTEVsZW1lbnQsXG4gICAgICAgIGJlYXJpbmdTbmFwPzogbnVtYmVyLFxuICAgICAgICBwaXRjaFdpdGhSb3RhdGU/OiBib29sZWFuXG4gICAgfSkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2VsID0gb3B0aW9ucy5lbGVtZW50IHx8IG1hcC5nZXRDYW52YXNDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAnZGlzYWJsZWQnO1xuICAgICAgICB0aGlzLl9idXR0b24gPSBvcHRpb25zLmJ1dHRvbiB8fCAncmlnaHQnO1xuICAgICAgICB0aGlzLl9iZWFyaW5nU25hcCA9IG9wdGlvbnMuYmVhcmluZ1NuYXAgfHwgMDtcbiAgICAgICAgdGhpcy5fcGl0Y2hXaXRoUm90YXRlID0gb3B0aW9ucy5waXRjaFdpdGhSb3RhdGUgIT09IGZhbHNlO1xuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbk1vdXNlTW92ZScsXG4gICAgICAgICAgICAnX29uTW91c2VVcCcsXG4gICAgICAgICAgICAnX29uQmx1cicsXG4gICAgICAgICAgICAnX29uRHJhZ0ZyYW1lJ1xuICAgICAgICBdLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgaXNFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUgIT09ICdkaXNhYmxlZCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLCBpLmUuIGN1cnJlbnRseSBiZWluZyB1c2VkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZS5cbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlID09PSAnYWN0aXZlJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5kcmFnUm90YXRlLmVuYWJsZSgpO1xuICAgICAqL1xuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmRyYWdSb3RhdGUuZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdkaXNhYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIHRoaXMuX2RlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgncm90YXRlZW5kJyk7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGl0Y2hXaXRoUm90YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdwaXRjaGVuZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3ZlZW5kJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdkaXNhYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZGlzYWJsZWQnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdXNlRG93bihlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gJ2VuYWJsZWQnKSByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMuX2J1dHRvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRCdXR0b24gPSBET00ubW91c2VCdXR0b24oZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXZlbnRCdXR0b24gIT09IChlLmN0cmxLZXkgPyAwIDogMikpIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgfHwgRE9NLm1vdXNlQnV0dG9uKGUpICE9PSAwKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLl9ldmVudEJ1dHRvbiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBET00uZGlzYWJsZURyYWcoKTtcblxuICAgICAgICAvLyBCaW5kIHdpbmRvdy1sZXZlbCBldmVudCBsaXN0ZW5lcnMgZm9yIG1vdmUgYW5kIHVwL2VuZCBldmVudHMuIEluIHRoZSBhYnNlbmNlIG9mXG4gICAgICAgIC8vIHRoZSBwb2ludGVyIGNhcHR1cmUgQVBJLCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkIGJ5IGFsbCBuZWNlc3NhcnkgcGxhdGZvcm1zLFxuICAgICAgICAvLyB3aW5kb3ctbGV2ZWwgZXZlbnQgbGlzdGVuZXJzIGdpdmUgdXMgdGhlIGJlc3Qgc2hvdCBhdCBjYXB0dXJpbmcgZXZlbnRzIHRoYXRcbiAgICAgICAgLy8gZmFsbCBvdXRzaWRlIHRoZSBtYXAgY2FudmFzIGVsZW1lbnQuIFVzZSBge2NhcHR1cmU6IHRydWV9YCBmb3IgdGhlIG1vdmUgZXZlbnRcbiAgICAgICAgLy8gdG8gcHJldmVudCBtYXAgbW92ZSBldmVudHMgZnJvbSBiZWluZyBmaXJlZCBkdXJpbmcgYSBkcmFnLlxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHtjYXB0dXJlOiB0cnVlfSk7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwKTtcblxuICAgICAgICAvLyBEZWFjdGl2YXRlIHdoZW4gdGhlIHdpbmRvdyBsb3NlcyBmb2N1cy4gT3RoZXJ3aXNlIGlmIGEgbW91c2V1cCBvY2N1cnMgd2hlbiB0aGUgd2luZG93XG4gICAgICAgIC8vIGlzbid0IGluIGZvY3VzLCBkcmFnZ2luZyB3aWxsIGNvbnRpbnVlIGV2ZW4gdGhvdWdoIHRoZSBtb3VzZSBpcyBubyBsb25nZXIgcHJlc3NlZC5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9vbkJsdXIpO1xuXG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ3BlbmRpbmcnO1xuICAgICAgICB0aGlzLl9pbmVydGlhID0gW1ticm93c2VyLm5vdygpLCB0aGlzLl9tYXAuZ2V0QmVhcmluZygpXV07XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzUG9zID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlKTtcbiAgICAgICAgdGhpcy5fY2VudGVyID0gdGhpcy5fbWFwLnRyYW5zZm9ybS5jZW50ZXJQb2ludDsgIC8vIENlbnRlciBvZiByb3RhdGlvblxuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBfb25Nb3VzZU1vdmUoZTogTW91c2VFdmVudCkge1xuICAgICAgICB0aGlzLl9sYXN0TW92ZUV2ZW50ID0gZTtcbiAgICAgICAgdGhpcy5fcG9zID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlKTtcblxuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09ICdwZW5kaW5nJykge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnYWN0aXZlJztcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgncm90YXRlc3RhcnQnLCBlKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZXN0YXJ0JywgZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGl0Y2hXaXRoUm90YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdwaXRjaHN0YXJ0JywgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSB0aGlzLl9tYXAuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9vbkRyYWdGcmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25EcmFnRnJhbWUoKSB7XG4gICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLl9sYXN0TW92ZUV2ZW50O1xuICAgICAgICBpZiAoIWUpIHJldHVybjtcbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLl9tYXAudHJhbnNmb3JtO1xuXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5fcHJldmlvdXNQb3MsXG4gICAgICAgICAgICBwMiA9IHRoaXMuX3BvcyxcbiAgICAgICAgICAgIGJlYXJpbmdEaWZmID0gKHAxLnggLSBwMi54KSAqIDAuOCxcbiAgICAgICAgICAgIHBpdGNoRGlmZiA9IChwMS55IC0gcDIueSkgKiAtMC41LFxuICAgICAgICAgICAgYmVhcmluZyA9IHRyLmJlYXJpbmcgLSBiZWFyaW5nRGlmZixcbiAgICAgICAgICAgIHBpdGNoID0gdHIucGl0Y2ggLSBwaXRjaERpZmYsXG4gICAgICAgICAgICBpbmVydGlhID0gdGhpcy5faW5lcnRpYSxcbiAgICAgICAgICAgIGxhc3QgPSBpbmVydGlhW2luZXJ0aWEubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7XG4gICAgICAgIGluZXJ0aWEucHVzaChbYnJvd3Nlci5ub3coKSwgdGhpcy5fbWFwLl9ub3JtYWxpemVCZWFyaW5nKGJlYXJpbmcsIGxhc3RbMV0pXSk7XG5cbiAgICAgICAgdHIuYmVhcmluZyA9IGJlYXJpbmc7XG4gICAgICAgIGlmICh0aGlzLl9waXRjaFdpdGhSb3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgncGl0Y2gnLCBlKTtcbiAgICAgICAgICAgIHRyLnBpdGNoID0gcGl0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ3JvdGF0ZScsIGUpO1xuICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmUnLCBlKTtcblxuICAgICAgICBkZWxldGUgdGhpcy5fbGFzdE1vdmVFdmVudDtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNQb3MgPSB0aGlzLl9wb3M7XG4gICAgfVxuXG4gICAgX29uTW91c2VVcChlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmIChET00ubW91c2VCdXR0b24oZSkgIT09IHRoaXMuX2V2ZW50QnV0dG9uKSByZXR1cm47XG4gICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgRE9NLnN1cHByZXNzQ2xpY2soKTtcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5faW5lcnRpYWxSb3RhdGUoZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25CbHVyKGU6IEZvY3VzRXZlbnQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICBjYXNlICdhY3RpdmUnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIHRoaXMuX2RlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgncm90YXRlZW5kJywgZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGl0Y2hXaXRoUm90YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdwaXRjaGVuZCcsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3ZlZW5kJywgZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdW5iaW5kKCkge1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHtjYXB0dXJlOiB0cnVlfSk7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9vbkJsdXIpO1xuICAgICAgICBET00uZW5hYmxlRHJhZygpO1xuICAgIH1cblxuICAgIF9kZWFjdGl2YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9mcmFtZUlkKTtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sYXN0TW92ZUV2ZW50O1xuICAgICAgICBkZWxldGUgdGhpcy5fcHJldmlvdXNQb3M7XG4gICAgfVxuXG4gICAgX2luZXJ0aWFsUm90YXRlKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdyb3RhdGVlbmQnLCBlKTtcbiAgICAgICAgdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7XG5cbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwLFxuICAgICAgICAgICAgbWFwQmVhcmluZyA9IG1hcC5nZXRCZWFyaW5nKCksXG4gICAgICAgICAgICBpbmVydGlhID0gdGhpcy5faW5lcnRpYTtcblxuICAgICAgICBjb25zdCBmaW5pc2ggPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMobWFwQmVhcmluZykgPCB0aGlzLl9iZWFyaW5nU25hcCkge1xuICAgICAgICAgICAgICAgIG1hcC5yZXNldE5vcnRoKHtub01vdmVTdGFydDogdHJ1ZX0sIHsgb3JpZ2luYWxFdmVudDogZSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3ZlZW5kJywgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fcGl0Y2hXaXRoUm90YXRlKSB0aGlzLl9maXJlRXZlbnQoJ3BpdGNoZW5kJywgZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGluZXJ0aWEubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdCA9IGluZXJ0aWFbMF0sXG4gICAgICAgICAgICBsYXN0ID0gaW5lcnRpYVtpbmVydGlhLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgcHJldmlvdXMgPSBpbmVydGlhW2luZXJ0aWEubGVuZ3RoIC0gMl07XG4gICAgICAgIGxldCBiZWFyaW5nID0gbWFwLl9ub3JtYWxpemVCZWFyaW5nKG1hcEJlYXJpbmcsIHByZXZpb3VzWzFdKTtcbiAgICAgICAgY29uc3QgZmxpbmdEaWZmID0gbGFzdFsxXSAtIGZpcnN0WzFdLFxuICAgICAgICAgICAgc2lnbiA9IGZsaW5nRGlmZiA8IDAgPyAtMSA6IDEsXG4gICAgICAgICAgICBmbGluZ0R1cmF0aW9uID0gKGxhc3RbMF0gLSBmaXJzdFswXSkgLyAxMDAwO1xuXG4gICAgICAgIGlmIChmbGluZ0RpZmYgPT09IDAgfHwgZmxpbmdEdXJhdGlvbiA9PT0gMCkge1xuICAgICAgICAgICAgZmluaXNoKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3BlZWQgPSBNYXRoLmFicyhmbGluZ0RpZmYgKiAoaW5lcnRpYUxpbmVhcml0eSAvIGZsaW5nRHVyYXRpb24pKTsgIC8vIGRlZy9zXG4gICAgICAgIGlmIChzcGVlZCA+IGluZXJ0aWFNYXhTcGVlZCkge1xuICAgICAgICAgICAgc3BlZWQgPSBpbmVydGlhTWF4U3BlZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHNwZWVkIC8gKGluZXJ0aWFEZWNlbGVyYXRpb24gKiBpbmVydGlhTGluZWFyaXR5KSxcbiAgICAgICAgICAgIG9mZnNldCA9IHNpZ24gKiBzcGVlZCAqIChkdXJhdGlvbiAvIDIpO1xuXG4gICAgICAgIGJlYXJpbmcgKz0gb2Zmc2V0O1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhtYXAuX25vcm1hbGl6ZUJlYXJpbmcoYmVhcmluZywgMCkpIDwgdGhpcy5fYmVhcmluZ1NuYXApIHtcbiAgICAgICAgICAgIGJlYXJpbmcgPSBtYXAuX25vcm1hbGl6ZUJlYXJpbmcoMCwgYmVhcmluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBtYXAucm90YXRlVG8oYmVhcmluZywge1xuICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uICogMTAwMCxcbiAgICAgICAgICAgIGVhc2luZzogaW5lcnRpYUVhc2luZyxcbiAgICAgICAgICAgIG5vTW92ZVN0YXJ0OiB0cnVlXG4gICAgICAgIH0sIHsgb3JpZ2luYWxFdmVudDogZSB9KTtcbiAgICB9XG5cbiAgICBfZmlyZUV2ZW50KHR5cGU6IHN0cmluZywgZTogKikge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KHR5cGUsIGUgPyB7IG9yaWdpbmFsRXZlbnQ6IGUgfSA6IHt9KSk7XG4gICAgfVxuXG4gICAgX2RyYWluSW5lcnRpYUJ1ZmZlcigpIHtcbiAgICAgICAgY29uc3QgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWEsXG4gICAgICAgICAgICBub3cgPSBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgY3V0b2ZmID0gMTYwOyAgIC8vbXNlY1xuXG4gICAgICAgIHdoaWxlIChpbmVydGlhLmxlbmd0aCA+IDAgJiYgbm93IC0gaW5lcnRpYVswXVswXSA+IGN1dG9mZilcbiAgICAgICAgICAgIGluZXJ0aWEuc2hpZnQoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERyYWdSb3RhdGVIYW5kbGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBiZXppZXIsIGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi8uLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IHsgRXZlbnQgfSBmcm9tICcuLi8uLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUge1Rhc2tJRH0gZnJvbSAnLi4vLi4vdXRpbC90YXNrX3F1ZXVlJztcblxuY29uc3QgaW5lcnRpYUxpbmVhcml0eSA9IDAuMyxcbiAgICBpbmVydGlhRWFzaW5nID0gYmV6aWVyKDAsIDAsIGluZXJ0aWFMaW5lYXJpdHksIDEpLFxuICAgIGluZXJ0aWFNYXhTcGVlZCA9IDE0MDAsIC8vIHB4L3NcbiAgICBpbmVydGlhRGVjZWxlcmF0aW9uID0gMjUwMDsgLy8gcHgvc14yXG5cbi8qKlxuICogVGhlIGBEcmFnUGFuSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHBhbiB0aGUgbWFwIGJ5IGNsaWNraW5nIGFuZCBkcmFnZ2luZ1xuICogdGhlIGN1cnNvci5cbiAqL1xuY2xhc3MgRHJhZ1BhbkhhbmRsZXIge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfZWw6IEhUTUxFbGVtZW50O1xuICAgIF9zdGF0ZTogJ2Rpc2FibGVkJyB8ICdlbmFibGVkJyB8ICdwZW5kaW5nJyB8ICdhY3RpdmUnO1xuICAgIF9wb3M6IFBvaW50O1xuICAgIF9wcmV2aW91c1BvczogUG9pbnQ7XG4gICAgX2luZXJ0aWE6IEFycmF5PFtudW1iZXIsIFBvaW50XT47XG4gICAgX2xhc3RNb3ZlRXZlbnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50IHwgdm9pZDtcbiAgICBfZnJhbWVJZDogP1Rhc2tJRDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IG1hcC5nZXRDYW52YXNDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAnZGlzYWJsZWQnO1xuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbk1vdmUnLFxuICAgICAgICAgICAgJ19vbk1vdXNlVXAnLFxuICAgICAgICAgICAgJ19vblRvdWNoRW5kJyxcbiAgICAgICAgICAgICdfb25CbHVyJyxcbiAgICAgICAgICAgICdfb25EcmFnRnJhbWUnXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZSAhPT0gJ2Rpc2FibGVkJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUsIGkuZS4gY3VycmVudGx5IGJlaW5nIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLlxuICAgICAqL1xuICAgIGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUgPT09ICdhY3RpdmUnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmRyYWdQYW4uZW5hYmxlKCk7XG4gICAgICovXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC10b3VjaC1kcmFnLXBhbicpO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuZHJhZ1Bhbi5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLXRvdWNoLWRyYWctcGFuJyk7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdkcmFnZW5kJyk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmVlbmQnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdkaXNhYmxlZCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VEb3duKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlICE9PSAnZW5hYmxlZCcpIHJldHVybjtcbiAgICAgICAgaWYgKGUuY3RybEtleSB8fCBET00ubW91c2VCdXR0b24oZSkgIT09IDApIHJldHVybjtcblxuICAgICAgICAvLyBCaW5kIHdpbmRvdy1sZXZlbCBldmVudCBsaXN0ZW5lcnMgZm9yIG1vdXNlbW92ZS91cCBldmVudHMuIEluIHRoZSBhYnNlbmNlIG9mXG4gICAgICAgIC8vIHRoZSBwb2ludGVyIGNhcHR1cmUgQVBJLCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkIGJ5IGFsbCBuZWNlc3NhcnkgcGxhdGZvcm1zLFxuICAgICAgICAvLyB3aW5kb3ctbGV2ZWwgZXZlbnQgbGlzdGVuZXJzIGdpdmUgdXMgdGhlIGJlc3Qgc2hvdCBhdCBjYXB0dXJpbmcgZXZlbnRzIHRoYXRcbiAgICAgICAgLy8gZmFsbCBvdXRzaWRlIHRoZSBtYXAgY2FudmFzIGVsZW1lbnQuIFVzZSBge2NhcHR1cmU6IHRydWV9YCBmb3IgdGhlIG1vdmUgZXZlbnRcbiAgICAgICAgLy8gdG8gcHJldmVudCBtYXAgbW92ZSBldmVudHMgZnJvbSBiZWluZyBmaXJlZCBkdXJpbmcgYSBkcmFnLlxuICAgICAgICBET00uYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdmUsIHtjYXB0dXJlOiB0cnVlfSk7XG4gICAgICAgIERPTS5hZGRFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXApO1xuXG4gICAgICAgIHRoaXMuX3N0YXJ0KGUpO1xuICAgIH1cblxuICAgIG9uVG91Y2hTdGFydChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gJ2VuYWJsZWQnKSByZXR1cm47XG4gICAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID4gMSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIEJpbmQgd2luZG93LWxldmVsIGV2ZW50IGxpc3RlbmVycyBmb3IgdG91Y2htb3ZlL2VuZCBldmVudHMuIEluIHRoZSBhYnNlbmNlIG9mXG4gICAgICAgIC8vIHRoZSBwb2ludGVyIGNhcHR1cmUgQVBJLCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkIGJ5IGFsbCBuZWNlc3NhcnkgcGxhdGZvcm1zLFxuICAgICAgICAvLyB3aW5kb3ctbGV2ZWwgZXZlbnQgbGlzdGVuZXJzIGdpdmUgdXMgdGhlIGJlc3Qgc2hvdCBhdCBjYXB0dXJpbmcgZXZlbnRzIHRoYXRcbiAgICAgICAgLy8gZmFsbCBvdXRzaWRlIHRoZSBtYXAgY2FudmFzIGVsZW1lbnQuIFVzZSBge2NhcHR1cmU6IHRydWV9YCBmb3IgdGhlIG1vdmUgZXZlbnRcbiAgICAgICAgLy8gdG8gcHJldmVudCBtYXAgbW92ZSBldmVudHMgZnJvbSBiZWluZyBmaXJlZCBkdXJpbmcgYSBkcmFnLlxuICAgICAgICBET00uYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUsIHtjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiBmYWxzZX0pO1xuICAgICAgICBET00uYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uVG91Y2hFbmQpO1xuXG4gICAgICAgIHRoaXMuX3N0YXJ0KGUpO1xuICAgIH1cblxuICAgIF9zdGFydChlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkge1xuICAgICAgICAvLyBEZWFjdGl2YXRlIHdoZW4gdGhlIHdpbmRvdyBsb3NlcyBmb2N1cy4gT3RoZXJ3aXNlIGlmIGEgbW91c2V1cCBvY2N1cnMgd2hlbiB0aGUgd2luZG93XG4gICAgICAgIC8vIGlzbid0IGluIGZvY3VzLCBkcmFnZ2luZyB3aWxsIGNvbnRpbnVlIGV2ZW4gdGhvdWdoIHRoZSBtb3VzZSBpcyBubyBsb25nZXIgcHJlc3NlZC5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLl9vbkJsdXIpO1xuXG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ3BlbmRpbmcnO1xuICAgICAgICB0aGlzLl9wcmV2aW91c1BvcyA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZSk7XG4gICAgICAgIHRoaXMuX2luZXJ0aWEgPSBbW2Jyb3dzZXIubm93KCksIHRoaXMuX3ByZXZpb3VzUG9zXV07XG4gICAgfVxuXG4gICAgX29uTW92ZShlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkge1xuICAgICAgICB0aGlzLl9sYXN0TW92ZUV2ZW50ID0gZTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMuX3BvcyA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZSk7XG4gICAgICAgIHRoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl9pbmVydGlhLnB1c2goW2Jyb3dzZXIubm93KCksIHRoaXMuX3Bvc10pO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICAgICAgICAvLyB3ZSB0cmVhdCB0aGUgZmlyc3QgbW92ZSBldmVudCAocmF0aGVyIHRoYW4gdGhlIG1vdXNlZG93biBldmVudClcbiAgICAgICAgICAgIC8vIGFzIHRoZSBzdGFydCBvZiB0aGUgZHJhZ1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnYWN0aXZlJztcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnZHJhZ3N0YXJ0JywgZSk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmVzdGFydCcsIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gdGhpcy5fbWFwLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fb25EcmFnRnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGluIGVhY2ggcmVuZGVyIGZyYW1lIHdoaWxlIGRyYWdnaW5nIGlzIGhhcHBlbmluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkRyYWdGcmFtZSgpIHtcbiAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG5cbiAgICAgICAgY29uc3QgZSA9IHRoaXMuX2xhc3RNb3ZlRXZlbnQ7XG4gICAgICAgIGlmICghZSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB0ciA9IHRoaXMuX21hcC50cmFuc2Zvcm07XG4gICAgICAgIHRyLnNldExvY2F0aW9uQXRQb2ludCh0ci5wb2ludExvY2F0aW9uKHRoaXMuX3ByZXZpb3VzUG9zKSwgdGhpcy5fcG9zKTtcbiAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdkcmFnJywgZSk7XG4gICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZScsIGUpO1xuXG4gICAgICAgIHRoaXMuX3ByZXZpb3VzUG9zID0gdGhpcy5fcG9zO1xuICAgICAgICBkZWxldGUgdGhpcy5fbGFzdE1vdmVFdmVudDtcbiAgICB9XG5cbiAgICBfb25Nb3VzZVVwKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKERPTS5tb3VzZUJ1dHRvbihlKSAhPT0gMCkgcmV0dXJuO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIERPTS5zdXBwcmVzc0NsaWNrKCk7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIHRoaXMuX2RlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2luZXJ0aWFsUGFuKGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BlbmRpbmcnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uVG91Y2hFbmQoZTogVG91Y2hFdmVudCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5faW5lcnRpYWxQYW4oZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25CbHVyKGU6IEZvY3VzRXZlbnQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICBjYXNlICdhY3RpdmUnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIHRoaXMuX2RlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnZHJhZ2VuZCcsIGUpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3ZlZW5kJywgZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIHRoaXMuX3VuYmluZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhc3NlcnQoZmFsc2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdW5iaW5kKCkge1xuICAgICAgICBET00ucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUsIHtjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiBmYWxzZX0pO1xuICAgICAgICBET00ucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uVG91Y2hFbmQpO1xuICAgICAgICBET00ucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdmUsIHtjYXB0dXJlOiB0cnVlfSk7XG4gICAgICAgIERPTS5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgICAgICBET00ucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csICdibHVyJywgdGhpcy5fb25CbHVyKTtcbiAgICB9XG5cbiAgICBfZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZnJhbWVJZCk7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5fbGFzdE1vdmVFdmVudDtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3ByZXZpb3VzUG9zO1xuICAgICAgICBkZWxldGUgdGhpcy5fcG9zO1xuICAgIH1cblxuICAgIF9pbmVydGlhbFBhbihlOiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkge1xuICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ2RyYWdlbmQnLCBlKTtcblxuICAgICAgICB0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKTtcbiAgICAgICAgY29uc3QgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWE7XG4gICAgICAgIGlmIChpbmVydGlhLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZWVuZCcsIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFzdCA9IGluZXJ0aWFbaW5lcnRpYS5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgIGZpcnN0ID0gaW5lcnRpYVswXSxcbiAgICAgICAgICAgIGZsaW5nT2Zmc2V0ID0gbGFzdFsxXS5zdWIoZmlyc3RbMV0pLFxuICAgICAgICAgICAgZmxpbmdEdXJhdGlvbiA9IChsYXN0WzBdIC0gZmlyc3RbMF0pIC8gMTAwMDtcblxuICAgICAgICBpZiAoZmxpbmdEdXJhdGlvbiA9PT0gMCB8fCBsYXN0WzFdLmVxdWFscyhmaXJzdFsxXSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZWVuZCcsIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHB4L3MgdmVsb2NpdHkgJiBhZGp1c3QgZm9yIGluY3JlYXNlZCBpbml0aWFsIGFuaW1hdGlvbiBzcGVlZCB3aGVuIGVhc2luZyBvdXRcbiAgICAgICAgY29uc3QgdmVsb2NpdHkgPSBmbGluZ09mZnNldC5tdWx0KGluZXJ0aWFMaW5lYXJpdHkgLyBmbGluZ0R1cmF0aW9uKTtcbiAgICAgICAgbGV0IHNwZWVkID0gdmVsb2NpdHkubWFnKCk7IC8vIHB4L3NcblxuICAgICAgICBpZiAoc3BlZWQgPiBpbmVydGlhTWF4U3BlZWQpIHtcbiAgICAgICAgICAgIHNwZWVkID0gaW5lcnRpYU1heFNwZWVkO1xuICAgICAgICAgICAgdmVsb2NpdHkuX3VuaXQoKS5fbXVsdChzcGVlZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHNwZWVkIC8gKGluZXJ0aWFEZWNlbGVyYXRpb24gKiBpbmVydGlhTGluZWFyaXR5KSxcbiAgICAgICAgICAgIG9mZnNldCA9IHZlbG9jaXR5Lm11bHQoLWR1cmF0aW9uIC8gMik7XG5cbiAgICAgICAgdGhpcy5fbWFwLnBhbkJ5KG9mZnNldCwge1xuICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uICogMTAwMCxcbiAgICAgICAgICAgIGVhc2luZzogaW5lcnRpYUVhc2luZyxcbiAgICAgICAgICAgIG5vTW92ZVN0YXJ0OiB0cnVlXG4gICAgICAgIH0sIHsgb3JpZ2luYWxFdmVudDogZSB9KTtcbiAgICB9XG5cbiAgICBfZmlyZUV2ZW50KHR5cGU6IHN0cmluZywgZTogKikge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KHR5cGUsIGUgPyB7IG9yaWdpbmFsRXZlbnQ6IGUgfSA6IHt9KSk7XG4gICAgfVxuXG4gICAgX2RyYWluSW5lcnRpYUJ1ZmZlcigpIHtcbiAgICAgICAgY29uc3QgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWEsXG4gICAgICAgICAgICBub3cgPSBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgY3V0b2ZmID0gMTYwOyAgIC8vIG1zZWNcblxuICAgICAgICB3aGlsZSAoaW5lcnRpYS5sZW5ndGggPiAwICYmIG5vdyAtIGluZXJ0aWFbMF1bMF0gPiBjdXRvZmYpIGluZXJ0aWEuc2hpZnQoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERyYWdQYW5IYW5kbGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuXG5jb25zdCBwYW5TdGVwID0gMTAwLFxuICAgIGJlYXJpbmdTdGVwID0gMTUsXG4gICAgcGl0Y2hTdGVwID0gMTA7XG5cbi8qKlxuICogVGhlIGBLZXlib2FyZEhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byB6b29tLCByb3RhdGUsIGFuZCBwYW4gdGhlIG1hcCB1c2luZ1xuICogdGhlIGZvbGxvd2luZyBrZXlib2FyZCBzaG9ydGN1dHM6XG4gKlxuICogLSBgPWAgLyBgK2A6IEluY3JlYXNlIHRoZSB6b29tIGxldmVsIGJ5IDEuXG4gKiAtIGBTaGlmdC09YCAvIGBTaGlmdC0rYDogSW5jcmVhc2UgdGhlIHpvb20gbGV2ZWwgYnkgMi5cbiAqIC0gYC1gOiBEZWNyZWFzZSB0aGUgem9vbSBsZXZlbCBieSAxLlxuICogLSBgU2hpZnQtLWA6IERlY3JlYXNlIHRoZSB6b29tIGxldmVsIGJ5IDIuXG4gKiAtIEFycm93IGtleXM6IFBhbiBieSAxMDAgcGl4ZWxzLlxuICogLSBgU2hpZnQr4oeiYDogSW5jcmVhc2UgdGhlIHJvdGF0aW9uIGJ5IDE1IGRlZ3JlZXMuXG4gKiAtIGBTaGlmdCvih6BgOiBEZWNyZWFzZSB0aGUgcm90YXRpb24gYnkgMTUgZGVncmVlcy5cbiAqIC0gYFNoaWZ0K+KHoWA6IEluY3JlYXNlIHRoZSBwaXRjaCBieSAxMCBkZWdyZWVzLlxuICogLSBgU2hpZnQr4oejYDogRGVjcmVhc2UgdGhlIHBpdGNoIGJ5IDEwIGRlZ3JlZXMuXG4gKi9cbmNsYXNzIEtleWJvYXJkSGFuZGxlciB7XG4gICAgX21hcDogTWFwO1xuICAgIF9lbDogSFRNTEVsZW1lbnQ7XG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fZWwgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uS2V5RG93bidcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIGtleWJvYXJkIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGtleWJvYXJkIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgaXNFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmFibGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMga2V5Ym9hcmQgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5rZXlib2FyZC5lbmFibGUoKTtcbiAgICAgKi9cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMga2V5Ym9hcmQgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5rZXlib2FyZC5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24pO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX29uS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmIChlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSByZXR1cm47XG5cbiAgICAgICAgbGV0IHpvb21EaXIgPSAwO1xuICAgICAgICBsZXQgYmVhcmluZ0RpciA9IDA7XG4gICAgICAgIGxldCBwaXRjaERpciA9IDA7XG4gICAgICAgIGxldCB4RGlyID0gMDtcbiAgICAgICAgbGV0IHlEaXIgPSAwO1xuXG4gICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgNjE6XG4gICAgICAgIGNhc2UgMTA3OlxuICAgICAgICBjYXNlIDE3MTpcbiAgICAgICAgY2FzZSAxODc6XG4gICAgICAgICAgICB6b29tRGlyID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTg5OlxuICAgICAgICBjYXNlIDEwOTpcbiAgICAgICAgY2FzZSAxNzM6XG4gICAgICAgICAgICB6b29tRGlyID0gLTE7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBiZWFyaW5nRGlyID0gLTE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB4RGlyID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBiZWFyaW5nRGlyID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHhEaXIgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgcGl0Y2hEaXIgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgeURpciA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgcGl0Y2hEaXIgPSAtMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeURpciA9IDE7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgICAgY29uc3Qgem9vbSA9IG1hcC5nZXRab29tKCk7XG5cbiAgICAgICAgY29uc3QgZWFzZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgZGVsYXlFbmRFdmVudHM6IDUwMCxcbiAgICAgICAgICAgIGVhc2luZzogZWFzZU91dCxcblxuICAgICAgICAgICAgem9vbTogem9vbURpciA/IE1hdGgucm91bmQoem9vbSkgKyB6b29tRGlyICogKGUuc2hpZnRLZXkgPyAyIDogMSkgOiB6b29tLFxuICAgICAgICAgICAgYmVhcmluZzogbWFwLmdldEJlYXJpbmcoKSArIGJlYXJpbmdEaXIgKiBiZWFyaW5nU3RlcCxcbiAgICAgICAgICAgIHBpdGNoOiBtYXAuZ2V0UGl0Y2goKSArIHBpdGNoRGlyICogcGl0Y2hTdGVwLFxuICAgICAgICAgICAgb2Zmc2V0OiBbLXhEaXIgKiBwYW5TdGVwLCAteURpciAqIHBhblN0ZXBdLFxuICAgICAgICAgICAgY2VudGVyOiBtYXAuZ2V0Q2VudGVyKClcbiAgICAgICAgfTtcblxuICAgICAgICBtYXAuZWFzZVRvKGVhc2VPcHRpb25zLCB7b3JpZ2luYWxFdmVudDogZX0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZWFzZU91dCh0KSB7XG4gICAgcmV0dXJuIHQgKiAoMiAtIHQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBLZXlib2FyZEhhbmRsZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBiaW5kQWxsIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5pbXBvcnQgdHlwZSB7TWFwTW91c2VFdmVudCwgTWFwVG91Y2hFdmVudH0gZnJvbSAnLi4vZXZlbnRzJztcblxuLyoqXG4gKiBUaGUgYERvdWJsZUNsaWNrWm9vbUhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgYXQgYSBwb2ludCBieVxuICogZG91YmxlIGNsaWNraW5nIG9yIGRvdWJsZSB0YXBwaW5nLlxuICovXG5jbGFzcyBEb3VibGVDbGlja1pvb21IYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2FjdGl2ZTogYm9vbGVhbjtcbiAgICBfdGFwcGVkOiA/VGltZW91dElEO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uRGJsQ2xpY2snLFxuICAgICAgICAgICAgJ19vblpvb21FbmQnXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBcImRvdWJsZSBjbGljayB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRvdWJsZSBjbGljayB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLCBpLmUuIGN1cnJlbnRseSBiZWluZyB1c2VkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZS5cbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fYWN0aXZlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwiZG91YmxlIGNsaWNrIHRvIHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmRvdWJsZUNsaWNrWm9vbS5lbmFibGUoKTtcbiAgICAgKi9cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSBcImRvdWJsZSBjbGljayB0byB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5kb3VibGVDbGlja1pvb20uZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgb25Ub3VjaFN0YXJ0KGU6IE1hcFRvdWNoRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIGlmIChlLnBvaW50cy5sZW5ndGggPiAxKSByZXR1cm47XG5cbiAgICAgICAgaWYgKCF0aGlzLl90YXBwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RhcHBlZCA9IHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLl90YXBwZWQgPSBudWxsOyB9LCAzMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RhcHBlZCk7XG4gICAgICAgICAgICB0aGlzLl90YXBwZWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fem9vbShlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRGJsQ2xpY2soZTogTWFwTW91c2VFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgZS5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX3pvb20oZSk7XG4gICAgfVxuXG4gICAgX3pvb20oZTogTWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fbWFwLm9uKCd6b29tZW5kJywgdGhpcy5fb25ab29tRW5kKTtcbiAgICAgICAgdGhpcy5fbWFwLnpvb21UbyhcbiAgICAgICAgICAgIHRoaXMuX21hcC5nZXRab29tKCkgKyAoZS5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5ID8gLTEgOiAxKSxcbiAgICAgICAgICAgIHthcm91bmQ6IGUubG5nTGF0fSxcbiAgICAgICAgICAgIGVcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBfb25ab29tRW5kKCkge1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbWFwLm9mZignem9vbWVuZCcsIHRoaXMuX29uWm9vbUVuZCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEb3VibGVDbGlja1pvb21IYW5kbGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBiZXppZXIsIGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi8uLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IHsgRXZlbnQgfSBmcm9tICcuLi8uLi91dGlsL2V2ZW50ZWQnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcbmltcG9ydCB0eXBlIFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHR5cGUge1Rhc2tJRH0gZnJvbSAnLi4vLi4vdXRpbC90YXNrX3F1ZXVlJztcblxuY29uc3QgaW5lcnRpYUxpbmVhcml0eSA9IDAuMTUsXG4gICAgaW5lcnRpYUVhc2luZyA9IGJlemllcigwLCAwLCBpbmVydGlhTGluZWFyaXR5LCAxKSxcbiAgICBpbmVydGlhRGVjZWxlcmF0aW9uID0gMTIsIC8vIHNjYWxlIC8gc14yXG4gICAgaW5lcnRpYU1heFNwZWVkID0gMi41LCAvLyBzY2FsZSAvIHNcbiAgICBzaWduaWZpY2FudFNjYWxlVGhyZXNob2xkID0gMC4xNSxcbiAgICBzaWduaWZpY2FudFJvdGF0ZVRocmVzaG9sZCA9IDEwO1xuXG4vKipcbiAqIFRoZSBgVG91Y2hab29tUm90YXRlSGFuZGxlcmAgYWxsb3dzIHRoZSB1c2VyIHRvIHpvb20gYW5kIHJvdGF0ZSB0aGUgbWFwIGJ5XG4gKiBwaW5jaGluZyBvbiBhIHRvdWNoc2NyZWVuLlxuICovXG5jbGFzcyBUb3VjaFpvb21Sb3RhdGVIYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfZW5hYmxlZDogYm9vbGVhbjtcbiAgICBfYXJvdW5kQ2VudGVyOiBib29sZWFuO1xuICAgIF9yb3RhdGlvbkRpc2FibGVkOiBib29sZWFuO1xuICAgIF9zdGFydFZlYzogUG9pbnQ7XG4gICAgX3N0YXJ0U2NhbGU6IG51bWJlcjtcbiAgICBfc3RhcnRCZWFyaW5nOiBudW1iZXI7XG4gICAgX2dlc3R1cmVJbnRlbnQ6ICdyb3RhdGUnIHwgJ3pvb20nIHwgdm9pZDtcbiAgICBfaW5lcnRpYTogQXJyYXk8W251bWJlciwgbnVtYmVyLCBQb2ludF0+O1xuICAgIF9sYXN0VG91Y2hFdmVudDogVG91Y2hFdmVudDtcbiAgICBfZnJhbWVJZDogP1Rhc2tJRDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IG1hcC5nZXRDYW52YXNDb250YWluZXIoKTtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25Nb3ZlJyxcbiAgICAgICAgICAgICdfb25FbmQnLFxuICAgICAgICAgICAgJ19vblRvdWNoRnJhbWUnXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJwaW5jaCB0byByb3RhdGUgYW5kIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJwaW5jaCB0byByb3RhdGUgYW5kIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcInBpbmNoIHRvIHJvdGF0ZSBhbmQgem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5hcm91bmRdIElmIFwiY2VudGVyXCIgaXMgcGFzc2VkLCBtYXAgd2lsbCB6b29tIGFyb3VuZCB0aGUgY2VudGVyXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgbWFwLnRvdWNoWm9vbVJvdGF0ZS5lbmFibGUoKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgbWFwLnRvdWNoWm9vbVJvdGF0ZS5lbmFibGUoeyBhcm91bmQ6ICdjZW50ZXInIH0pO1xuICAgICAqL1xuICAgIGVuYWJsZShvcHRpb25zOiA/e2Fyb3VuZD86ICdjZW50ZXInfSkge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZScpO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fYXJvdW5kQ2VudGVyID0gISFvcHRpb25zICYmIG9wdGlvbnMuYXJvdW5kID09PSAnY2VudGVyJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJwaW5jaCB0byByb3RhdGUgYW5kIHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICBtYXAudG91Y2hab29tUm90YXRlLmRpc2FibGUoKTtcbiAgICAgKi9cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZWwuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUnKTtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSBcInBpbmNoIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uLCBsZWF2aW5nIHRoZSBcInBpbmNoIHRvIHpvb21cIlxuICAgICAqIGludGVyYWN0aW9uIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgbWFwLnRvdWNoWm9vbVJvdGF0ZS5kaXNhYmxlUm90YXRpb24oKTtcbiAgICAgKi9cbiAgICBkaXNhYmxlUm90YXRpb24oKSB7XG4gICAgICAgIHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwicGluY2ggdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgbWFwLnRvdWNoWm9vbVJvdGF0ZS5lbmFibGUoKTtcbiAgICAgKiAgIG1hcC50b3VjaFpvb21Sb3RhdGUuZW5hYmxlUm90YXRpb24oKTtcbiAgICAgKi9cbiAgICBlbmFibGVSb3RhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fcm90YXRpb25EaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIG9uU3RhcnQoZTogVG91Y2hFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggIT09IDIpIHJldHVybjtcblxuICAgICAgICBjb25zdCBwMCA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZS50b3VjaGVzWzBdKSxcbiAgICAgICAgICAgIHAxID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlLnRvdWNoZXNbMV0pO1xuXG4gICAgICAgIHRoaXMuX3N0YXJ0VmVjID0gcDAuc3ViKHAxKTtcbiAgICAgICAgdGhpcy5fZ2VzdHVyZUludGVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5faW5lcnRpYSA9IFtdO1xuXG4gICAgICAgIERPTS5hZGRFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uTW92ZSwge3Bhc3NpdmU6IGZhbHNlfSk7XG4gICAgICAgIERPTS5hZGRFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25FbmQpO1xuICAgIH1cblxuICAgIF9nZXRUb3VjaEV2ZW50RGF0YShlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHAwID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlLnRvdWNoZXNbMF0pLFxuICAgICAgICAgICAgcDEgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUudG91Y2hlc1sxXSk7XG5cbiAgICAgICAgY29uc3QgdmVjID0gcDAuc3ViKHAxKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZlYyxcbiAgICAgICAgICAgIGNlbnRlcjogcDAuYWRkKHAxKS5kaXYoMiksXG4gICAgICAgICAgICBzY2FsZTogdmVjLm1hZygpIC8gdGhpcy5fc3RhcnRWZWMubWFnKCksXG4gICAgICAgICAgICBiZWFyaW5nOiB0aGlzLl9yb3RhdGlvbkRpc2FibGVkID8gMCA6IHZlYy5hbmdsZVdpdGgodGhpcy5fc3RhcnRWZWMpICogMTgwIC8gTWF0aC5QSVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9vbk1vdmUoZTogVG91Y2hFdmVudCkge1xuICAgICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCAhPT0gMikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHt2ZWMsIHNjYWxlLCBiZWFyaW5nfSA9IHRoaXMuX2dldFRvdWNoRXZlbnREYXRhKGUpO1xuXG4gICAgICAgIC8vIERldGVybWluZSAnaW50ZW50JyBieSB3aGljaGV2ZXIgdGhyZXNob2xkIGlzIHN1cnBhc3NlZCBmaXJzdCxcbiAgICAgICAgLy8gdGhlbiBrZWVwIHRoYXQgc3RhdGUgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGlzIGdlc3R1cmUuXG4gICAgICAgIGlmICghdGhpcy5fZ2VzdHVyZUludGVudCkge1xuICAgICAgICAgICAgY29uc3Qgc2NhbGluZ1NpZ25pZmljYW50bHkgPSAoTWF0aC5hYnMoMSAtIHNjYWxlKSA+IHNpZ25pZmljYW50U2NhbGVUaHJlc2hvbGQpLFxuICAgICAgICAgICAgICAgIHJvdGF0aW5nU2lnbmlmaWNhbnRseSA9IChNYXRoLmFicyhiZWFyaW5nKSA+IHNpZ25pZmljYW50Um90YXRlVGhyZXNob2xkKTtcblxuICAgICAgICAgICAgaWYgKHJvdGF0aW5nU2lnbmlmaWNhbnRseSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlc3R1cmVJbnRlbnQgPSAncm90YXRlJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2NhbGluZ1NpZ25pZmljYW50bHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXN0dXJlSW50ZW50ID0gJ3pvb20nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fZ2VzdHVyZUludGVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudChgJHt0aGlzLl9nZXN0dXJlSW50ZW50fXN0YXJ0YCwgeyBvcmlnaW5hbEV2ZW50OiBlIH0pKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ21vdmVzdGFydCcsIHsgb3JpZ2luYWxFdmVudDogZSB9KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRWZWMgPSB2ZWM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0VG91Y2hFdmVudCA9IGU7XG4gICAgICAgIGlmICghdGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IHRoaXMuX21hcC5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX29uVG91Y2hGcmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgX29uVG91Y2hGcmFtZSgpIHtcbiAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG5cbiAgICAgICAgY29uc3QgZ2VzdHVyZUludGVudCA9IHRoaXMuX2dlc3R1cmVJbnRlbnQ7XG4gICAgICAgIGlmICghZ2VzdHVyZUludGVudCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy5fbWFwLnRyYW5zZm9ybTtcblxuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0U2NhbGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0U2NhbGUgPSB0ci5zY2FsZTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0QmVhcmluZyA9IHRyLmJlYXJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7Y2VudGVyLCBiZWFyaW5nLCBzY2FsZX0gPSB0aGlzLl9nZXRUb3VjaEV2ZW50RGF0YSh0aGlzLl9sYXN0VG91Y2hFdmVudCk7XG4gICAgICAgIGNvbnN0IGFyb3VuZCA9IHRyLnBvaW50TG9jYXRpb24oY2VudGVyKTtcbiAgICAgICAgY29uc3QgYXJvdW5kUG9pbnQgPSB0ci5sb2NhdGlvblBvaW50KGFyb3VuZCk7XG5cbiAgICAgICAgaWYgKGdlc3R1cmVJbnRlbnQgPT09ICdyb3RhdGUnKSB7XG4gICAgICAgICAgICB0ci5iZWFyaW5nID0gdGhpcy5fc3RhcnRCZWFyaW5nICsgYmVhcmluZztcbiAgICAgICAgfVxuXG4gICAgICAgIHRyLnpvb20gPSB0ci5zY2FsZVpvb20odGhpcy5fc3RhcnRTY2FsZSAqIHNjYWxlKTtcblxuICAgICAgICB0ci5zZXRMb2NhdGlvbkF0UG9pbnQoYXJvdW5kLCBhcm91bmRQb2ludCk7XG5cbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KGdlc3R1cmVJbnRlbnQsIHtvcmlnaW5hbEV2ZW50OiB0aGlzLl9sYXN0VG91Y2hFdmVudH0pKTtcbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KCdtb3ZlJywge29yaWdpbmFsRXZlbnQ6IHRoaXMuX2xhc3RUb3VjaEV2ZW50fSkpO1xuXG4gICAgICAgIHRoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLl9pbmVydGlhLnB1c2goW2Jyb3dzZXIubm93KCksIHNjYWxlLCBjZW50ZXJdKTtcbiAgICB9XG5cbiAgICBfb25FbmQoZTogVG91Y2hFdmVudCkge1xuICAgICAgICBET00ucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUsIHtwYXNzaXZlOiBmYWxzZX0pO1xuICAgICAgICBET00ucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uRW5kKTtcblxuICAgICAgICBjb25zdCBnZXN0dXJlSW50ZW50ID0gdGhpcy5fZ2VzdHVyZUludGVudDtcbiAgICAgICAgY29uc3Qgc3RhcnRTY2FsZSA9IHRoaXMuX3N0YXJ0U2NhbGU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZnJhbWVJZCk7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5fZ2VzdHVyZUludGVudDtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3N0YXJ0U2NhbGU7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zdGFydEJlYXJpbmc7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sYXN0VG91Y2hFdmVudDtcblxuICAgICAgICBpZiAoIWdlc3R1cmVJbnRlbnQpIHJldHVybjtcblxuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoYCR7Z2VzdHVyZUludGVudH1lbmRgLCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSkpO1xuXG4gICAgICAgIHRoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpO1xuXG4gICAgICAgIGNvbnN0IGluZXJ0aWEgPSB0aGlzLl9pbmVydGlhLFxuICAgICAgICAgICAgbWFwID0gdGhpcy5fbWFwO1xuXG4gICAgICAgIGlmIChpbmVydGlhLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIG1hcC5zbmFwVG9Ob3J0aCh7fSwgeyBvcmlnaW5hbEV2ZW50OiBlIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFzdCA9IGluZXJ0aWFbaW5lcnRpYS5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgIGZpcnN0ID0gaW5lcnRpYVswXSxcbiAgICAgICAgICAgIGxhc3RTY2FsZSA9IG1hcC50cmFuc2Zvcm0uc2NhbGVab29tKHN0YXJ0U2NhbGUgKiBsYXN0WzFdKSxcbiAgICAgICAgICAgIGZpcnN0U2NhbGUgPSBtYXAudHJhbnNmb3JtLnNjYWxlWm9vbShzdGFydFNjYWxlICogZmlyc3RbMV0pLFxuICAgICAgICAgICAgc2NhbGVPZmZzZXQgPSBsYXN0U2NhbGUgLSBmaXJzdFNjYWxlLFxuICAgICAgICAgICAgc2NhbGVEdXJhdGlvbiA9IChsYXN0WzBdIC0gZmlyc3RbMF0pIC8gMTAwMCxcbiAgICAgICAgICAgIHAgPSBsYXN0WzJdO1xuXG4gICAgICAgIGlmIChzY2FsZUR1cmF0aW9uID09PSAwIHx8IGxhc3RTY2FsZSA9PT0gZmlyc3RTY2FsZSkge1xuICAgICAgICAgICAgbWFwLnNuYXBUb05vcnRoKHt9LCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYWxjdWxhdGUgc2NhbGUvcyBzcGVlZCBhbmQgYWRqdXN0IGZvciBpbmNyZWFzZWQgaW5pdGlhbCBhbmltYXRpb24gc3BlZWQgd2hlbiBlYXNpbmdcbiAgICAgICAgbGV0IHNwZWVkID0gc2NhbGVPZmZzZXQgKiBpbmVydGlhTGluZWFyaXR5IC8gc2NhbGVEdXJhdGlvbjsgLy8gc2NhbGUvc1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhzcGVlZCkgPiBpbmVydGlhTWF4U3BlZWQpIHtcbiAgICAgICAgICAgIGlmIChzcGVlZCA+IDApIHtcbiAgICAgICAgICAgICAgICBzcGVlZCA9IGluZXJ0aWFNYXhTcGVlZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3BlZWQgPSAtaW5lcnRpYU1heFNwZWVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBNYXRoLmFicyhzcGVlZCAvIChpbmVydGlhRGVjZWxlcmF0aW9uICogaW5lcnRpYUxpbmVhcml0eSkpICogMTAwMDtcbiAgICAgICAgbGV0IHRhcmdldFNjYWxlID0gbGFzdFNjYWxlICsgc3BlZWQgKiBkdXJhdGlvbiAvIDIwMDA7XG5cbiAgICAgICAgaWYgKHRhcmdldFNjYWxlIDwgMCkge1xuICAgICAgICAgICAgdGFyZ2V0U2NhbGUgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFwLmVhc2VUbyh7XG4gICAgICAgICAgICB6b29tOiB0YXJnZXRTY2FsZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZzogaW5lcnRpYUVhc2luZyxcbiAgICAgICAgICAgIGFyb3VuZDogdGhpcy5fYXJvdW5kQ2VudGVyID8gbWFwLmdldENlbnRlcigpIDogbWFwLnVucHJvamVjdChwKSxcbiAgICAgICAgICAgIG5vTW92ZVN0YXJ0OiB0cnVlXG4gICAgICAgIH0sIHsgb3JpZ2luYWxFdmVudDogZSB9KTtcbiAgICB9XG5cbiAgICBfZHJhaW5JbmVydGlhQnVmZmVyKCkge1xuICAgICAgICBjb25zdCBpbmVydGlhID0gdGhpcy5faW5lcnRpYSxcbiAgICAgICAgICAgIG5vdyA9IGJyb3dzZXIubm93KCksXG4gICAgICAgICAgICBjdXRvZmYgPSAxNjA7IC8vIG1zZWNcblxuICAgICAgICB3aGlsZSAoaW5lcnRpYS5sZW5ndGggPiAyICYmIG5vdyAtIGluZXJ0aWFbMF1bMF0gPiBjdXRvZmYpIGluZXJ0aWEuc2hpZnQoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBNYXBNb3VzZUV2ZW50LCBNYXBUb3VjaEV2ZW50LCBNYXBXaGVlbEV2ZW50IH0gZnJvbSAnLi4vdWkvZXZlbnRzJztcbmltcG9ydCBET00gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4vbWFwJztcbmltcG9ydCBzY3JvbGxab29tIGZyb20gJy4vaGFuZGxlci9zY3JvbGxfem9vbSc7XG5pbXBvcnQgYm94Wm9vbSBmcm9tICcuL2hhbmRsZXIvYm94X3pvb20nO1xuaW1wb3J0IGRyYWdSb3RhdGUgZnJvbSAnLi9oYW5kbGVyL2RyYWdfcm90YXRlJztcbmltcG9ydCBkcmFnUGFuIGZyb20gJy4vaGFuZGxlci9kcmFnX3Bhbic7XG5pbXBvcnQga2V5Ym9hcmQgZnJvbSAnLi9oYW5kbGVyL2tleWJvYXJkJztcbmltcG9ydCBkb3VibGVDbGlja1pvb20gZnJvbSAnLi9oYW5kbGVyL2RibGNsaWNrX3pvb20nO1xuaW1wb3J0IHRvdWNoWm9vbVJvdGF0ZSBmcm9tICcuL2hhbmRsZXIvdG91Y2hfem9vbV9yb3RhdGUnO1xuXG5jb25zdCBoYW5kbGVycyA9IHtcbiAgICBzY3JvbGxab29tLFxuICAgIGJveFpvb20sXG4gICAgZHJhZ1JvdGF0ZSxcbiAgICBkcmFnUGFuLFxuICAgIGtleWJvYXJkLFxuICAgIGRvdWJsZUNsaWNrWm9vbSxcbiAgICB0b3VjaFpvb21Sb3RhdGVcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJpbmRIYW5kbGVycyhtYXA6IE1hcCwgb3B0aW9uczoge30pIHtcbiAgICBjb25zdCBlbCA9IG1hcC5nZXRDYW52YXNDb250YWluZXIoKTtcbiAgICBsZXQgY29udGV4dE1lbnVFdmVudCA9IG51bGw7XG4gICAgbGV0IG1vdXNlRG93biA9IGZhbHNlO1xuXG4gICAgZm9yIChjb25zdCBuYW1lIGluIGhhbmRsZXJzKSB7XG4gICAgICAgIChtYXA6IGFueSlbbmFtZV0gPSBuZXcgaGFuZGxlcnNbbmFtZV0obWFwLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJhY3RpdmUgJiYgb3B0aW9uc1tuYW1lXSkge1xuICAgICAgICAgICAgKG1hcDogYW55KVtuYW1lXS5lbmFibGUob3B0aW9uc1tuYW1lXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ21vdXNlb3V0Jywgb25Nb3VzZU91dCk7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICdtb3VzZWRvd24nLCBvbk1vdXNlRG93bik7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICdtb3VzZXVwJywgb25Nb3VzZVVwKTtcbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTtcbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ21vdXNlb3ZlcicsIG9uTW91c2VPdmVyKTtcbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQsIHtwYXNzaXZlOiBmYWxzZX0pO1xuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUsIHtwYXNzaXZlOiB0cnVlfSk7IC8vIGBwYXNzaXZlOiB0cnVlYCBiZWNhdXNlIG9uVG91Y2hNb3ZlIG9ubHkgc2VuZHMgYSBtYXAgZXZlbnQuXG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICd0b3VjaGVuZCcsIG9uVG91Y2hFbmQpOyAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlYWwgYWN0aW9uIGlzIGluIERyYWdQYW5IYW5kbGVyIGFuZCBUb3VjaFpvb21Sb3RhdGVIYW5kbGVyLlxuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAndG91Y2hjYW5jZWwnLCBvblRvdWNoQ2FuY2VsKTtcbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NsaWNrJywgb25DbGljayk7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICdkYmxjbGljaycsIG9uRGJsQ2xpY2spO1xuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAnY29udGV4dG1lbnUnLCBvbkNvbnRleHRNZW51KTtcbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ3doZWVsJywgb25XaGVlbCwge3Bhc3NpdmU6IGZhbHNlfSk7XG5cbiAgICBmdW5jdGlvbiBvbk1vdXNlRG93bihlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIG1vdXNlRG93biA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgbWFwRXZlbnQgPSBuZXcgTWFwTW91c2VFdmVudCgnbW91c2Vkb3duJywgbWFwLCBlKTtcbiAgICAgICAgbWFwLmZpcmUobWFwRXZlbnQpO1xuXG4gICAgICAgIGlmIChtYXBFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGl2ZSAmJiAhbWFwLmRvdWJsZUNsaWNrWm9vbS5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICBtYXAuc3RvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFwLmJveFpvb20ub25Nb3VzZURvd24oZSk7XG5cbiAgICAgICAgaWYgKCFtYXAuYm94Wm9vbS5pc0FjdGl2ZSgpICYmICFtYXAuZHJhZ1Bhbi5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICBtYXAuZHJhZ1JvdGF0ZS5vbk1vdXNlRG93bihlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbWFwLmJveFpvb20uaXNBY3RpdmUoKSAmJiAhbWFwLmRyYWdSb3RhdGUuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgbWFwLmRyYWdQYW4ub25Nb3VzZURvd24oZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1vdXNlVXAoZTogTW91c2VFdmVudCkge1xuICAgICAgICBjb25zdCByb3RhdGluZyA9IG1hcC5kcmFnUm90YXRlLmlzQWN0aXZlKCk7XG5cbiAgICAgICAgaWYgKGNvbnRleHRNZW51RXZlbnQgJiYgIXJvdGF0aW5nKSB7XG4gICAgICAgICAgICAvLyBUaGlzIHdpbGwgYmUgdGhlIGNhc2UgZm9yIE1hY1xuICAgICAgICAgICAgbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoJ2NvbnRleHRtZW51JywgbWFwLCBjb250ZXh0TWVudUV2ZW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0TWVudUV2ZW50ID0gbnVsbDtcbiAgICAgICAgbW91c2VEb3duID0gZmFsc2U7XG5cbiAgICAgICAgbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoJ21vdXNldXAnLCBtYXAsIGUpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1vdXNlTW92ZShlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmIChtYXAuZHJhZ1Bhbi5pc0FjdGl2ZSgpKSByZXR1cm47XG4gICAgICAgIGlmIChtYXAuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpKSByZXR1cm47XG5cbiAgICAgICAgbGV0IHRhcmdldDogYW55ID0gZS50b0VsZW1lbnQgfHwgZS50YXJnZXQ7XG4gICAgICAgIHdoaWxlICh0YXJnZXQgJiYgdGFyZ2V0ICE9PSBlbCkgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgICAgIGlmICh0YXJnZXQgIT09IGVsKSByZXR1cm47XG5cbiAgICAgICAgbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoJ21vdXNlbW92ZScsIG1hcCwgZSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTW91c2VPdmVyKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgbGV0IHRhcmdldDogYW55ID0gZS50b0VsZW1lbnQgfHwgZS50YXJnZXQ7XG4gICAgICAgIHdoaWxlICh0YXJnZXQgJiYgdGFyZ2V0ICE9PSBlbCkgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgICAgIGlmICh0YXJnZXQgIT09IGVsKSByZXR1cm47XG5cbiAgICAgICAgbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoJ21vdXNlb3ZlcicsIG1hcCwgZSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTW91c2VPdXQoZTogTW91c2VFdmVudCkge1xuICAgICAgICBtYXAuZmlyZShuZXcgTWFwTW91c2VFdmVudCgnbW91c2VvdXQnLCBtYXAsIGUpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblRvdWNoU3RhcnQoZTogVG91Y2hFdmVudCkge1xuICAgICAgICBjb25zdCBtYXBFdmVudCA9IG5ldyBNYXBUb3VjaEV2ZW50KCd0b3VjaHN0YXJ0JywgbWFwLCBlKTtcbiAgICAgICAgbWFwLmZpcmUobWFwRXZlbnQpO1xuXG4gICAgICAgIGlmIChtYXBFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgbWFwLnN0b3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbWFwLmJveFpvb20uaXNBY3RpdmUoKSAmJiAhbWFwLmRyYWdSb3RhdGUuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgbWFwLmRyYWdQYW4ub25Ub3VjaFN0YXJ0KGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFwLnRvdWNoWm9vbVJvdGF0ZS5vblN0YXJ0KGUpO1xuICAgICAgICBtYXAuZG91YmxlQ2xpY2tab29tLm9uVG91Y2hTdGFydChtYXBFdmVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Ub3VjaE1vdmUoZTogVG91Y2hFdmVudCkge1xuICAgICAgICBtYXAuZmlyZShuZXcgTWFwVG91Y2hFdmVudCgndG91Y2htb3ZlJywgbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Ub3VjaEVuZChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIG1hcC5maXJlKG5ldyBNYXBUb3VjaEV2ZW50KCd0b3VjaGVuZCcsIG1hcCwgZSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uVG91Y2hDYW5jZWwoZTogVG91Y2hFdmVudCkge1xuICAgICAgICBtYXAuZmlyZShuZXcgTWFwVG91Y2hFdmVudCgndG91Y2hjYW5jZWwnLCBtYXAsIGUpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkNsaWNrKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoJ2NsaWNrJywgbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25EYmxDbGljayhlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGNvbnN0IG1hcEV2ZW50ID0gbmV3IE1hcE1vdXNlRXZlbnQoJ2RibGNsaWNrJywgbWFwLCBlKTtcbiAgICAgICAgbWFwLmZpcmUobWFwRXZlbnQpO1xuXG4gICAgICAgIGlmIChtYXBFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBtYXAuZG91YmxlQ2xpY2tab29tLm9uRGJsQ2xpY2sobWFwRXZlbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQ29udGV4dE1lbnUoZTogTW91c2VFdmVudCkge1xuICAgICAgICBjb25zdCByb3RhdGluZyA9IG1hcC5kcmFnUm90YXRlLmlzQWN0aXZlKCk7XG4gICAgICAgIGlmICghbW91c2VEb3duICYmICFyb3RhdGluZykge1xuICAgICAgICAgICAgLy8gV2luZG93czogY29udGV4dG1lbnUgZmlyZWQgb24gbW91c2V1cCwgc28gZmlyZSBldmVudCBub3dcbiAgICAgICAgICAgIG1hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KCdjb250ZXh0bWVudScsIG1hcCwgZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKG1vdXNlRG93bikge1xuICAgICAgICAgICAgLy8gTWFjOiBjb250ZXh0bWVudSBmaXJlZCBvbiBtb3VzZWRvd247IHdlIHNhdmUgaXQgdW50aWwgbW91c2V1cCBmb3IgY29uc2lzdGVuY3kncyBzYWtlXG4gICAgICAgICAgICBjb250ZXh0TWVudUV2ZW50ID0gZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbldoZWVsKGU6IFdoZWVsRXZlbnQpIHtcbiAgICAgICAgY29uc3QgbWFwRXZlbnQgPSBuZXcgTWFwV2hlZWxFdmVudCgnd2hlZWwnLCBtYXAsIGUpO1xuICAgICAgICBtYXAuZmlyZShtYXBFdmVudCk7XG5cbiAgICAgICAgaWYgKG1hcEV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcC5zY3JvbGxab29tLm9uV2hlZWwoZSk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHtcbiAgICBiaW5kQWxsLFxuICAgIGV4dGVuZCxcbiAgICBkZWVwRXF1YWwsXG4gICAgd2Fybk9uY2UsXG4gICAgY2xhbXAsXG4gICAgd3JhcCxcbiAgICBlYXNlIGFzIGRlZmF1bHRFYXNpbmdcbn0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IG51bWJlciBhcyBpbnRlcnBvbGF0ZSB9IGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9pbnRlcnBvbGF0ZSc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IExuZ0xhdCBmcm9tICcuLi9nZW8vbG5nX2xhdCc7XG5pbXBvcnQgTG5nTGF0Qm91bmRzIGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgeyBFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5cbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tICcuLi9nZW8vbG5nX2xhdCc7XG5pbXBvcnQgdHlwZSB7TG5nTGF0Qm91bmRzTGlrZX0gZnJvbSAnLi4vZ2VvL2xuZ19sYXRfYm91bmRzJztcbmltcG9ydCB0eXBlIHtUYXNrSUR9IGZyb20gJy4uL3V0aWwvdGFza19xdWV1ZSc7XG5cbi8qKlxuICogT3B0aW9ucyBjb21tb24gdG8ge0BsaW5rIE1hcCNqdW1wVG99LCB7QGxpbmsgTWFwI2Vhc2VUb30sIGFuZCB7QGxpbmsgTWFwI2ZseVRvfSwgY29udHJvbGxpbmcgdGhlIGRlc2lyZWQgbG9jYXRpb24sXG4gKiB6b29tLCBiZWFyaW5nLCBhbmQgcGl0Y2ggb2YgdGhlIGNhbWVyYS4gQWxsIHByb3BlcnRpZXMgYXJlIG9wdGlvbmFsLCBhbmQgd2hlbiBhIHByb3BlcnR5IGlzIG9taXR0ZWQsIHRoZSBjdXJyZW50XG4gKiBjYW1lcmEgdmFsdWUgZm9yIHRoYXQgcHJvcGVydHkgd2lsbCByZW1haW4gdW5jaGFuZ2VkLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENhbWVyYU9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7TG5nTGF0TGlrZX0gY2VudGVyIFRoZSBkZXNpcmVkIGNlbnRlci5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB6b29tIFRoZSBkZXNpcmVkIHpvb20gbGV2ZWwuXG4gKiBAcHJvcGVydHkge251bWJlcn0gYmVhcmluZyBUaGUgZGVzaXJlZCBiZWFyaW5nLCBpbiBkZWdyZWVzLiBUaGUgYmVhcmluZyBpcyB0aGUgY29tcGFzcyBkaXJlY3Rpb24gdGhhdFxuICogaXMgXCJ1cFwiOyBmb3IgZXhhbXBsZSwgYSBiZWFyaW5nIG9mIDkwwrAgb3JpZW50cyB0aGUgbWFwIHNvIHRoYXQgZWFzdCBpcyB1cC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwaXRjaCBUaGUgZGVzaXJlZCBwaXRjaCwgaW4gZGVncmVlcy5cbiAqIEBwcm9wZXJ0eSB7TG5nTGF0TGlrZX0gYXJvdW5kIElmIGB6b29tYCBpcyBzcGVjaWZpZWQsIGBhcm91bmRgIGRldGVybWluZXMgdGhlIHBvaW50IGFyb3VuZCB3aGljaCB0aGUgem9vbSBpcyBjZW50ZXJlZC5cbiAqL1xuZXhwb3J0IHR5cGUgQ2FtZXJhT3B0aW9ucyA9IHtcbiAgICBjZW50ZXI/OiBMbmdMYXRMaWtlLFxuICAgIHpvb20/OiBudW1iZXIsXG4gICAgYmVhcmluZz86IG51bWJlcixcbiAgICBwaXRjaD86IG51bWJlcixcbiAgICBhcm91bmQ/OiBMbmdMYXRMaWtlXG59O1xuXG4vKipcbiAqIE9wdGlvbnMgY29tbW9uIHRvIG1hcCBtb3ZlbWVudCBtZXRob2RzIHRoYXQgaW52b2x2ZSBhbmltYXRpb24sIHN1Y2ggYXMge0BsaW5rIE1hcCNwYW5CeX0gYW5kXG4gKiB7QGxpbmsgTWFwI2Vhc2VUb30sIGNvbnRyb2xsaW5nIHRoZSBkdXJhdGlvbiBhbmQgZWFzaW5nIGZ1bmN0aW9uIG9mIHRoZSBhbmltYXRpb24uIEFsbCBwcm9wZXJ0aWVzXG4gKiBhcmUgb3B0aW9uYWwuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gQW5pbWF0aW9uT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBhbmltYXRpb24ncyBkdXJhdGlvbiwgbWVhc3VyZWQgaW4gbWlsbGlzZWNvbmRzLlxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gZWFzaW5nIEEgZnVuY3Rpb24gdGFraW5nIGEgdGltZSBpbiB0aGUgcmFuZ2UgMC4uMSBhbmQgcmV0dXJuaW5nIGEgbnVtYmVyIHdoZXJlIDAgaXNcbiAqICAgdGhlIGluaXRpYWwgc3RhdGUgYW5kIDEgaXMgdGhlIGZpbmFsIHN0YXRlLlxuICogQHByb3BlcnR5IHtQb2ludExpa2V9IG9mZnNldCBvZiB0aGUgdGFyZ2V0IGNlbnRlciByZWxhdGl2ZSB0byByZWFsIG1hcCBjb250YWluZXIgY2VudGVyIGF0IHRoZSBlbmQgb2YgYW5pbWF0aW9uLlxuICogQHByb3BlcnR5IHtib29sZWFufSBhbmltYXRlIElmIGBmYWxzZWAsIG5vIGFuaW1hdGlvbiB3aWxsIG9jY3VyLlxuICovXG5leHBvcnQgdHlwZSBBbmltYXRpb25PcHRpb25zID0ge1xuICAgIGR1cmF0aW9uPzogbnVtYmVyLFxuICAgIGVhc2luZz86IChudW1iZXIpID0+IG51bWJlcixcbiAgICBvZmZzZXQ/OiBQb2ludExpa2UsXG4gICAgYW5pbWF0ZT86IGJvb2xlYW5cbn07XG5cbi8qKlxuICogT3B0aW9ucyBmb3Igc2V0dGluZyBwYWRkaW5nIG9uIGEgY2FsbCB0byB7QGxpbmsgTWFwI2ZpdEJvdW5kc30uIEFsbCBwcm9wZXJ0aWVzIG9mIHRoaXMgb2JqZWN0IG11c3QgYmVcbiAqIG5vbi1uZWdhdGl2ZSBpbnRlZ2Vycy5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQYWRkaW5nT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHRvcCBQYWRkaW5nIGluIHBpeGVscyBmcm9tIHRoZSB0b3Agb2YgdGhlIG1hcCBjYW52YXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gYm90dG9tIFBhZGRpbmcgaW4gcGl4ZWxzIGZyb20gdGhlIGJvdHRvbSBvZiB0aGUgbWFwIGNhbnZhcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsZWZ0IFBhZGRpbmcgaW4gcGl4ZWxzIGZyb20gdGhlIGxlZnQgb2YgdGhlIG1hcCBjYW52YXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmlnaHQgUGFkZGluZyBpbiBwaXhlbHMgZnJvbSB0aGUgcmlnaHQgb2YgdGhlIG1hcCBjYW52YXMuXG4gKi9cblxuY2xhc3MgQ2FtZXJhIGV4dGVuZHMgRXZlbnRlZCB7XG4gICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm07XG4gICAgX21vdmluZzogYm9vbGVhbjtcbiAgICBfem9vbWluZzogYm9vbGVhbjtcbiAgICBfcm90YXRpbmc6IGJvb2xlYW47XG4gICAgX3BpdGNoaW5nOiBib29sZWFuO1xuXG4gICAgX2JlYXJpbmdTbmFwOiBudW1iZXI7XG4gICAgX2Vhc2VFbmRUaW1lb3V0SUQ6IFRpbWVvdXRJRDtcbiAgICBfZWFzZVN0YXJ0OiBudW1iZXI7XG4gICAgX2Vhc2VPcHRpb25zOiB7ZHVyYXRpb246IG51bWJlciwgZWFzaW5nOiAobnVtYmVyKSA9PiBudW1iZXJ9O1xuXG4gICAgX29uRWFzZUZyYW1lOiAobnVtYmVyKSA9PiB2b2lkO1xuICAgIF9vbkVhc2VFbmQ6ICgpID0+IHZvaWQ7XG4gICAgX2Vhc2VGcmFtZUlkOiA/VGFza0lEO1xuXG4gICAgK19yZXF1ZXN0UmVuZGVyRnJhbWU6ICgoKSA9PiB2b2lkKSA9PiBUYXNrSUQ7XG4gICAgK19jYW5jZWxSZW5kZXJGcmFtZTogKFRhc2tJRCkgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybTogVHJhbnNmb3JtLCBvcHRpb25zOiB7YmVhcmluZ1NuYXA6IG51bWJlcn0pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fbW92aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3pvb21pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIHRoaXMuX2JlYXJpbmdTbmFwID0gb3B0aW9ucy5iZWFyaW5nU25hcDtcblxuICAgICAgICBiaW5kQWxsKFsnX3JlbmRlckZyYW1lQ2FsbGJhY2snXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgZ2VvZ3JhcGhpY2FsIGNlbnRlcnBvaW50LlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcmV0dXJucyBUaGUgbWFwJ3MgZ2VvZ3JhcGhpY2FsIGNlbnRlcnBvaW50LlxuICAgICAqL1xuICAgIGdldENlbnRlcigpOiBMbmdMYXQgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0uY2VudGVyOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAncyBnZW9ncmFwaGljYWwgY2VudGVycG9pbnQuIEVxdWl2YWxlbnQgdG8gYGp1bXBUbyh7Y2VudGVyOiBjZW50ZXJ9KWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBjZW50ZXIgVGhlIGNlbnRlcnBvaW50IHRvIHNldC5cbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0Q2VudGVyKFstNzQsIDM4XSk7XG4gICAgICogQHNlZSBbTW92ZSBzeW1ib2wgd2l0aCB0aGUga2V5Ym9hcmRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcm90YXRpbmctY29udHJvbGxhYmxlLW1hcmtlci8pXG4gICAgICovXG4gICAgc2V0Q2VudGVyKGNlbnRlcjogTG5nTGF0TGlrZSwgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmp1bXBUbyh7Y2VudGVyOiBjZW50ZXJ9LCBldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhbnMgdGhlIG1hcCBieSB0aGUgc3BlY2lmaWVkIG9mZmVzdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIG9mZnNldCBgeGAgYW5kIGB5YCBjb29yZGluYXRlcyBieSB3aGljaCB0byBwYW4gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAc2VlIFtOYXZpZ2F0ZSB0aGUgbWFwIHdpdGggZ2FtZS1saWtlIGNvbnRyb2xzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dhbWUtY29udHJvbHMvKVxuICAgICAqL1xuICAgIHBhbkJ5KG9mZnNldDogUG9pbnRMaWtlLCBvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIG9mZnNldCA9IFBvaW50LmNvbnZlcnQob2Zmc2V0KS5tdWx0KC0xKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFuVG8odGhpcy50cmFuc2Zvcm0uY2VudGVyLCBleHRlbmQoe29mZnNldH0sIG9wdGlvbnMpLCBldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhbnMgdGhlIG1hcCB0byB0aGUgc3BlY2lmaWVkIGxvY2F0aW9uLCB3aXRoIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBsbmdsYXQgVGhlIGxvY2F0aW9uIHRvIHBhbiB0aGUgbWFwIHRvLlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHBhblRvKGxuZ2xhdDogTG5nTGF0TGlrZSwgb3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lYXNlVG8oZXh0ZW5kKHtcbiAgICAgICAgICAgIGNlbnRlcjogbG5nbGF0XG4gICAgICAgIH0sIG9wdGlvbnMpLCBldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHJldHVybnMgVGhlIG1hcCdzIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKi9cbiAgICBnZXRab29tKCk6IG51bWJlciB7IHJldHVybiB0aGlzLnRyYW5zZm9ybS56b29tOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAncyB6b29tIGxldmVsLiBFcXVpdmFsZW50IHRvIGBqdW1wVG8oe3pvb206IHpvb219KWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB6b29tIFRoZSB6b29tIGxldmVsIHRvIHNldCAoMC0yMCkuXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgem9vbXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVcbiAgICAgKiBAZmlyZXMgem9vbVxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQGZpcmVzIHpvb21lbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHpvb20gdGhlIG1hcCB0byA1XG4gICAgICogbWFwLnNldFpvb20oNSk7XG4gICAgICovXG4gICAgc2V0Wm9vbSh6b29tOiBudW1iZXIsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICB0aGlzLmp1bXBUbyh7em9vbTogem9vbX0sIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFpvb21zIHRoZSBtYXAgdG8gdGhlIHNwZWNpZmllZCB6b29tIGxldmVsLCB3aXRoIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSB6b29tIFRoZSB6b29tIGxldmVsIHRvIHRyYW5zaXRpb24gdG8uXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyB6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZVxuICAgICAqIEBmaXJlcyB6b29tXG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAZmlyZXMgem9vbWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHpvb21Ubyh6b29tOiBudW1iZXIsIG9wdGlvbnM6ID8gQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhc2VUbyhleHRlbmQoe1xuICAgICAgICAgICAgem9vbTogem9vbVxuICAgICAgICB9LCBvcHRpb25zKSwgZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmNyZWFzZXMgdGhlIG1hcCdzIHpvb20gbGV2ZWwgYnkgMS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyB6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZVxuICAgICAqIEBmaXJlcyB6b29tXG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAZmlyZXMgem9vbWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHpvb21JbihvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpICsgMSwgb3B0aW9ucywgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVjcmVhc2VzIHRoZSBtYXAncyB6b29tIGxldmVsIGJ5IDEuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgem9vbXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVcbiAgICAgKiBAZmlyZXMgem9vbVxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQGZpcmVzIHpvb21lbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICB6b29tT3V0KG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy56b29tVG8odGhpcy5nZXRab29tKCkgLSAxLCBvcHRpb25zLCBldmVudERhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBjdXJyZW50IGJlYXJpbmcuIFRoZSBiZWFyaW5nIGlzIHRoZSBjb21wYXNzIGRpcmVjdGlvbiB0aGF0IGlzIFxcXCJ1cFxcXCI7IGZvciBleGFtcGxlLCBhIGJlYXJpbmdcbiAgICAgKiBvZiA5MMKwIG9yaWVudHMgdGhlIG1hcCBzbyB0aGF0IGVhc3QgaXMgdXAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEByZXR1cm5zIFRoZSBtYXAncyBjdXJyZW50IGJlYXJpbmcuXG4gICAgICogQHNlZSBbTmF2aWdhdGUgdGhlIG1hcCB3aXRoIGdhbWUtbGlrZSBjb250cm9sc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nYW1lLWNvbnRyb2xzLylcbiAgICAgKi9cbiAgICBnZXRCZWFyaW5nKCk6IG51bWJlciB7IHJldHVybiB0aGlzLnRyYW5zZm9ybS5iZWFyaW5nOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAncyBiZWFyaW5nIChyb3RhdGlvbikuIFRoZSBiZWFyaW5nIGlzIHRoZSBjb21wYXNzIGRpcmVjdGlvbiB0aGF0IGlzIFxcXCJ1cFxcXCI7IGZvciBleGFtcGxlLCBhIGJlYXJpbmdcbiAgICAgKiBvZiA5MMKwIG9yaWVudHMgdGhlIG1hcCBzbyB0aGF0IGVhc3QgaXMgdXAuXG4gICAgICpcbiAgICAgKiBFcXVpdmFsZW50IHRvIGBqdW1wVG8oe2JlYXJpbmc6IGJlYXJpbmd9KWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBiZWFyaW5nIFRoZSBkZXNpcmVkIGJlYXJpbmcuXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gcm90YXRlIHRoZSBtYXAgdG8gOTAgZGVncmVlc1xuICAgICAqIG1hcC5zZXRCZWFyaW5nKDkwKTtcbiAgICAgKi9cbiAgICBzZXRCZWFyaW5nKGJlYXJpbmc6IG51bWJlciwgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuanVtcFRvKHtiZWFyaW5nOiBiZWFyaW5nfSwgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUm90YXRlcyB0aGUgbWFwIHRvIHRoZSBzcGVjaWZpZWQgYmVhcmluZywgd2l0aCBhbiBhbmltYXRlZCB0cmFuc2l0aW9uLiBUaGUgYmVhcmluZyBpcyB0aGUgY29tcGFzcyBkaXJlY3Rpb25cbiAgICAgKiB0aGF0IGlzIFxcXCJ1cFxcXCI7IGZvciBleGFtcGxlLCBhIGJlYXJpbmcgb2YgOTDCsCBvcmllbnRzIHRoZSBtYXAgc28gdGhhdCBlYXN0IGlzIHVwLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gYmVhcmluZyBUaGUgZGVzaXJlZCBiZWFyaW5nLlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHJvdGF0ZVRvKGJlYXJpbmc6IG51bWJlciwgb3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lYXNlVG8oZXh0ZW5kKHtcbiAgICAgICAgICAgIGJlYXJpbmc6IGJlYXJpbmdcbiAgICAgICAgfSwgb3B0aW9ucyksIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUm90YXRlcyB0aGUgbWFwIHNvIHRoYXQgbm9ydGggaXMgdXAgKDDCsCBiZWFyaW5nKSwgd2l0aCBhbiBhbmltYXRlZCB0cmFuc2l0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICByZXNldE5vcnRoKG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5yb3RhdGVUbygwLCBleHRlbmQoe2R1cmF0aW9uOiAxMDAwfSwgb3B0aW9ucyksIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNuYXBzIHRoZSBtYXAgc28gdGhhdCBub3J0aCBpcyB1cCAoMMKwIGJlYXJpbmcpLCBpZiB0aGUgY3VycmVudCBiZWFyaW5nIGlzIGNsb3NlIGVub3VnaCB0byBpdCAoaS5lLiB3aXRoaW4gdGhlXG4gICAgICogYGJlYXJpbmdTbmFwYCB0aHJlc2hvbGQpLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzbmFwVG9Ob3J0aChvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmdldEJlYXJpbmcoKSkgPCB0aGlzLl9iZWFyaW5nU25hcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzZXROb3J0aChvcHRpb25zLCBldmVudERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGN1cnJlbnQgcGl0Y2ggKHRpbHQpLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcmV0dXJucyBUaGUgbWFwJ3MgY3VycmVudCBwaXRjaCwgbWVhc3VyZWQgaW4gZGVncmVlcyBhd2F5IGZyb20gdGhlIHBsYW5lIG9mIHRoZSBzY3JlZW4uXG4gICAgICovXG4gICAgZ2V0UGl0Y2goKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdGNoOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAncyBwaXRjaCAodGlsdCkuIEVxdWl2YWxlbnQgdG8gYGp1bXBUbyh7cGl0Y2g6IHBpdGNofSlgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gcGl0Y2ggVGhlIHBpdGNoIHRvIHNldCwgbWVhc3VyZWQgaW4gZGVncmVlcyBhd2F5IGZyb20gdGhlIHBsYW5lIG9mIHRoZSBzY3JlZW4gKDAtNjApLlxuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgcGl0Y2hzdGFydFxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldFBpdGNoKHBpdGNoOiBudW1iZXIsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICB0aGlzLmp1bXBUbyh7cGl0Y2g6IHBpdGNofSwgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBQYW5zIGFuZCB6b29tcyB0aGUgbWFwIHRvIGNvbnRhaW4gaXRzIHZpc2libGUgYXJlYSB3aXRoaW4gdGhlIHNwZWNpZmllZCBnZW9ncmFwaGljYWwgYm91bmRzLlxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBhbHNvIHJlc2V0IHRoZSBtYXAncyBiZWFyaW5nIHRvIDAgaWYgYmVhcmluZyBpcyBub256ZXJvLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gYm91bmRzIENlbnRlciB0aGVzZSBib3VuZHMgaW4gdGhlIHZpZXdwb3J0IGFuZCB1c2UgdGhlIGhpZ2hlc3RcbiAgICAgKiAgICAgIHpvb20gbGV2ZWwgdXAgdG8gYW5kIGluY2x1ZGluZyBgTWFwI2dldE1heFpvb20oKWAgdGhhdCBmaXRzIHRoZW0gaW4gdGhlIHZpZXdwb3J0LlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCBQYWRkaW5nT3B0aW9uc30gW29wdGlvbnMucGFkZGluZ10gVGhlIGFtb3VudCBvZiBwYWRkaW5nIGluIHBpeGVscyB0byBhZGQgdG8gdGhlIGdpdmVuIGJvdW5kcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxpbmVhcj1mYWxzZV0gSWYgYHRydWVgLCB0aGUgbWFwIHRyYW5zaXRpb25zIHVzaW5nXG4gICAgICogICAgIHtAbGluayBNYXAjZWFzZVRvfS4gSWYgYGZhbHNlYCwgdGhlIG1hcCB0cmFuc2l0aW9ucyB1c2luZyB7QGxpbmsgTWFwI2ZseVRvfS4gU2VlXG4gICAgICogICAgIHRob3NlIGZ1bmN0aW9ucyBhbmQge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9IGZvciBpbmZvcm1hdGlvbiBhYm91dCBvcHRpb25zIGF2YWlsYWJsZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5lYXNpbmddIEFuIGVhc2luZyBmdW5jdGlvbiBmb3IgdGhlIGFuaW1hdGVkIHRyYW5zaXRpb24uIFNlZSB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30uXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IFtvcHRpb25zLm9mZnNldD1bMCwgMF1dIFRoZSBjZW50ZXIgb2YgdGhlIGdpdmVuIGJvdW5kcyByZWxhdGl2ZSB0byB0aGUgbWFwJ3MgY2VudGVyLCBtZWFzdXJlZCBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFpvb21dIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgdG8gYWxsb3cgd2hlbiB0aGUgbWFwIHZpZXcgdHJhbnNpdGlvbnMgdG8gdGhlIHNwZWNpZmllZCBib3VuZHMuXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuXHQgKiBAZXhhbXBsZVxuICAgICAqIHZhciBiYm94ID0gW1stNzksIDQzXSwgWy03MywgNDVdXTtcbiAgICAgKiBtYXAuZml0Qm91bmRzKGJib3gsIHtcbiAgICAgKiAgIHBhZGRpbmc6IHt0b3A6IDEwLCBib3R0b206MjUsIGxlZnQ6IDE1LCByaWdodDogNX1cbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtGaXQgYSBtYXAgdG8gYSBib3VuZGluZyBib3hdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZml0Ym91bmRzLylcbiAgICAgKi9cbiAgICBmaXRCb3VuZHMoYm91bmRzOiBMbmdMYXRCb3VuZHNMaWtlLCBvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucyAmIENhbWVyYU9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuXG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe1xuICAgICAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9mZnNldDogWzAsIDBdLFxuICAgICAgICAgICAgbWF4Wm9vbTogdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbVxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucGFkZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBvcHRpb25zLnBhZGRpbmc7XG4gICAgICAgICAgICBvcHRpb25zLnBhZGRpbmcgPSB7XG4gICAgICAgICAgICAgICAgdG9wOiBwLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogcCxcbiAgICAgICAgICAgICAgICByaWdodDogcCxcbiAgICAgICAgICAgICAgICBsZWZ0OiBwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVlcEVxdWFsKE9iamVjdC5rZXlzKG9wdGlvbnMucGFkZGluZykuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgaWYgKGEgPCBiKSByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAoYSA+IGIpIHJldHVybiAxO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0pLCBbXCJib3R0b21cIiwgXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIl0pKSB7XG4gICAgICAgICAgICB3YXJuT25jZShcbiAgICAgICAgICAgICAgICBcIm9wdGlvbnMucGFkZGluZyBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLCBvciBhbiBPYmplY3Qgd2l0aCBrZXlzICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcsICd0b3AnXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGJvdW5kcyA9IExuZ0xhdEJvdW5kcy5jb252ZXJ0KGJvdW5kcyk7XG5cbiAgICAgICAgLy8gd2Ugc2VwYXJhdGUgdGhlIHBhc3NlZCBwYWRkaW5nIG9wdGlvbiBpbnRvIHR3byBwYXJ0cywgdGhlIHBhcnQgdGhhdCBkb2VzIG5vdCBhZmZlY3QgdGhlIG1hcCdzIGNlbnRlclxuICAgICAgICAvLyAobGF0ZXJhbCBhbmQgdmVydGljYWwgcGFkZGluZyksIGFuZCB0aGUgcGFydCB0aGF0IGRvZXMgKHBhZGRpbmdPZmZzZXQpLiBXZSBhZGQgdGhlIHBhZGRpbmcgb2Zmc2V0XG4gICAgICAgIC8vIHRvIHRoZSBvcHRpb25zIGBvZmZzZXRgIG9iamVjdCB3aGVyZSBpdCBjYW4gYWx0ZXIgdGhlIG1hcCdzIGNlbnRlciBpbiB0aGUgc3Vic2VxdWVudCBjYWxscyB0b1xuICAgICAgICAvLyBgZWFzZVRvYCBhbmQgYGZseVRvYC5cbiAgICAgICAgY29uc3QgcGFkZGluZ09mZnNldCA9IFsob3B0aW9ucy5wYWRkaW5nLmxlZnQgLSBvcHRpb25zLnBhZGRpbmcucmlnaHQpIC8gMiwgKG9wdGlvbnMucGFkZGluZy50b3AgLSBvcHRpb25zLnBhZGRpbmcuYm90dG9tKSAvIDJdLFxuICAgICAgICAgICAgbGF0ZXJhbFBhZGRpbmcgPSBNYXRoLm1pbihvcHRpb25zLnBhZGRpbmcucmlnaHQsIG9wdGlvbnMucGFkZGluZy5sZWZ0KSxcbiAgICAgICAgICAgIHZlcnRpY2FsUGFkZGluZyA9IE1hdGgubWluKG9wdGlvbnMucGFkZGluZy50b3AsIG9wdGlvbnMucGFkZGluZy5ib3R0b20pO1xuICAgICAgICBvcHRpb25zLm9mZnNldCA9IFtvcHRpb25zLm9mZnNldFswXSArIHBhZGRpbmdPZmZzZXRbMF0sIG9wdGlvbnMub2Zmc2V0WzFdICsgcGFkZGluZ09mZnNldFsxXV07XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gUG9pbnQuY29udmVydChvcHRpb25zLm9mZnNldCksXG4gICAgICAgICAgICB0ciA9IHRoaXMudHJhbnNmb3JtLFxuICAgICAgICAgICAgbncgPSB0ci5wcm9qZWN0KGJvdW5kcy5nZXROb3J0aFdlc3QoKSksXG4gICAgICAgICAgICBzZSA9IHRyLnByb2plY3QoYm91bmRzLmdldFNvdXRoRWFzdCgpKSxcbiAgICAgICAgICAgIHNpemUgPSBzZS5zdWIobncpLFxuICAgICAgICAgICAgc2NhbGVYID0gKHRyLndpZHRoIC0gbGF0ZXJhbFBhZGRpbmcgKiAyIC0gTWF0aC5hYnMob2Zmc2V0LngpICogMikgLyBzaXplLngsXG4gICAgICAgICAgICBzY2FsZVkgPSAodHIuaGVpZ2h0IC0gdmVydGljYWxQYWRkaW5nICogMiAtIE1hdGguYWJzKG9mZnNldC55KSAqIDIpIC8gc2l6ZS55O1xuXG4gICAgICAgIGlmIChzY2FsZVkgPCAwIHx8IHNjYWxlWCA8IDApIHtcbiAgICAgICAgICAgIHdhcm5PbmNlKFxuICAgICAgICAgICAgICAgICdNYXAgY2Fubm90IGZpdCB3aXRoaW4gY2FudmFzIHdpdGggdGhlIGdpdmVuIGJvdW5kcywgcGFkZGluZywgYW5kL29yIG9mZnNldC4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLmNlbnRlciA9IHRyLnVucHJvamVjdChudy5hZGQoc2UpLmRpdigyKSk7XG4gICAgICAgIG9wdGlvbnMuem9vbSA9IE1hdGgubWluKHRyLnNjYWxlWm9vbSh0ci5zY2FsZSAqIE1hdGgubWluKHNjYWxlWCwgc2NhbGVZKSksIG9wdGlvbnMubWF4Wm9vbSk7XG4gICAgICAgIG9wdGlvbnMuYmVhcmluZyA9IDA7XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnMubGluZWFyID9cbiAgICAgICAgICAgIHRoaXMuZWFzZVRvKG9wdGlvbnMsIGV2ZW50RGF0YSkgOlxuICAgICAgICAgICAgdGhpcy5mbHlUbyhvcHRpb25zLCBldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgYW55IGNvbWJpbmF0aW9uIG9mIGNlbnRlciwgem9vbSwgYmVhcmluZywgYW5kIHBpdGNoLCB3aXRob3V0XG4gICAgICogYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbi4gVGhlIG1hcCB3aWxsIHJldGFpbiBpdHMgY3VycmVudCB2YWx1ZXMgZm9yIGFueVxuICAgICAqIGRldGFpbHMgbm90IHNwZWNpZmllZCBpbiBgb3B0aW9uc2AuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgem9vbXN0YXJ0XG4gICAgICogQGZpcmVzIHBpdGNoc3RhcnRcbiAgICAgKiBAZmlyZXMgcm90YXRlXG4gICAgICogQGZpcmVzIG1vdmVcbiAgICAgKiBAZmlyZXMgem9vbVxuICAgICAqIEBmaXJlcyBwaXRjaFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQGZpcmVzIHpvb21lbmRcbiAgICAgKiBAZmlyZXMgcGl0Y2hlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBqdW1wVG8ob3B0aW9uczogQ2FtZXJhT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy50cmFuc2Zvcm07XG4gICAgICAgIGxldCB6b29tQ2hhbmdlZCA9IGZhbHNlLFxuICAgICAgICAgICAgYmVhcmluZ0NoYW5nZWQgPSBmYWxzZSxcbiAgICAgICAgICAgIHBpdGNoQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICgnem9vbScgaW4gb3B0aW9ucyAmJiB0ci56b29tICE9PSArb3B0aW9ucy56b29tKSB7XG4gICAgICAgICAgICB6b29tQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB0ci56b29tID0gK29wdGlvbnMuem9vbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmNlbnRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0ci5jZW50ZXIgPSBMbmdMYXQuY29udmVydChvcHRpb25zLmNlbnRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ2JlYXJpbmcnIGluIG9wdGlvbnMgJiYgdHIuYmVhcmluZyAhPT0gK29wdGlvbnMuYmVhcmluZykge1xuICAgICAgICAgICAgYmVhcmluZ0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHIuYmVhcmluZyA9ICtvcHRpb25zLmJlYXJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ3BpdGNoJyBpbiBvcHRpb25zICYmIHRyLnBpdGNoICE9PSArb3B0aW9ucy5waXRjaCkge1xuICAgICAgICAgICAgcGl0Y2hDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyLnBpdGNoID0gK29wdGlvbnMucGl0Y2g7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3Zlc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdtb3ZlJywgZXZlbnREYXRhKSk7XG5cbiAgICAgICAgaWYgKHpvb21DaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd6b29tc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnem9vbScsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCd6b29tZW5kJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmVhcmluZ0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZXN0YXJ0JywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZScsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdyb3RhdGVlbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwaXRjaENoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3BpdGNoc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncGl0Y2gnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncGl0Y2hlbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3ZlZW5kJywgZXZlbnREYXRhKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBhbnkgY29tYmluYXRpb24gb2YgY2VudGVyLCB6b29tLCBiZWFyaW5nLCBhbmQgcGl0Y2gsIHdpdGggYW4gYW5pbWF0ZWQgdHJhbnNpdGlvblxuICAgICAqIGJldHdlZW4gb2xkIGFuZCBuZXcgdmFsdWVzLiBUaGUgbWFwIHdpbGwgcmV0YWluIGl0cyBjdXJyZW50IHZhbHVlcyBmb3IgYW55XG4gICAgICogZGV0YWlscyBub3Qgc3BlY2lmaWVkIGluIGBvcHRpb25zYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBkZXNjcmliaW5nIHRoZSBkZXN0aW5hdGlvbiBhbmQgYW5pbWF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uLlxuICAgICAqICAgICAgICAgICAgQWNjZXB0cyB7QGxpbmsgQ2FtZXJhT3B0aW9uc30gYW5kIHtAbGluayBBbmltYXRpb25PcHRpb25zfS5cbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyB6b29tc3RhcnRcbiAgICAgKiBAZmlyZXMgcGl0Y2hzdGFydFxuICAgICAqIEBmaXJlcyByb3RhdGVcbiAgICAgKiBAZmlyZXMgbW92ZVxuICAgICAqIEBmaXJlcyB6b29tXG4gICAgICogQGZpcmVzIHBpdGNoXG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAZmlyZXMgem9vbWVuZFxuICAgICAqIEBmaXJlcyBwaXRjaGVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBzZWUgW05hdmlnYXRlIHRoZSBtYXAgd2l0aCBnYW1lLWxpa2UgY29udHJvbHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2FtZS1jb250cm9scy8pXG4gICAgICovXG4gICAgZWFzZVRvKG9wdGlvbnM6IENhbWVyYU9wdGlvbnMgJiBBbmltYXRpb25PcHRpb25zICYge2RlbGF5RW5kRXZlbnRzPzogbnVtYmVyfSwgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe1xuICAgICAgICAgICAgb2Zmc2V0OiBbMCwgMF0sXG4gICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgICAgICAgICAgZWFzaW5nOiBkZWZhdWx0RWFzaW5nXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGUgPT09IGZhbHNlKSBvcHRpb25zLmR1cmF0aW9uID0gMDtcblxuICAgICAgICBjb25zdCB0ciA9IHRoaXMudHJhbnNmb3JtLFxuICAgICAgICAgICAgc3RhcnRab29tID0gdGhpcy5nZXRab29tKCksXG4gICAgICAgICAgICBzdGFydEJlYXJpbmcgPSB0aGlzLmdldEJlYXJpbmcoKSxcbiAgICAgICAgICAgIHN0YXJ0UGl0Y2ggPSB0aGlzLmdldFBpdGNoKCksXG5cbiAgICAgICAgICAgIHpvb20gPSAnem9vbScgaW4gb3B0aW9ucyA/ICtvcHRpb25zLnpvb20gOiBzdGFydFpvb20sXG4gICAgICAgICAgICBiZWFyaW5nID0gJ2JlYXJpbmcnIGluIG9wdGlvbnMgPyB0aGlzLl9ub3JtYWxpemVCZWFyaW5nKG9wdGlvbnMuYmVhcmluZywgc3RhcnRCZWFyaW5nKSA6IHN0YXJ0QmVhcmluZyxcbiAgICAgICAgICAgIHBpdGNoID0gJ3BpdGNoJyBpbiBvcHRpb25zID8gK29wdGlvbnMucGl0Y2ggOiBzdGFydFBpdGNoO1xuXG4gICAgICAgIGNvbnN0IHBvaW50QXRPZmZzZXQgPSB0ci5jZW50ZXJQb2ludC5hZGQoUG9pbnQuY29udmVydChvcHRpb25zLm9mZnNldCkpO1xuICAgICAgICBjb25zdCBsb2NhdGlvbkF0T2Zmc2V0ID0gdHIucG9pbnRMb2NhdGlvbihwb2ludEF0T2Zmc2V0KTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gTG5nTGF0LmNvbnZlcnQob3B0aW9ucy5jZW50ZXIgfHwgbG9jYXRpb25BdE9mZnNldCk7XG4gICAgICAgIHRoaXMuX25vcm1hbGl6ZUNlbnRlcihjZW50ZXIpO1xuXG4gICAgICAgIGNvbnN0IGZyb20gPSB0ci5wcm9qZWN0KGxvY2F0aW9uQXRPZmZzZXQpO1xuICAgICAgICBjb25zdCBkZWx0YSA9IHRyLnByb2plY3QoY2VudGVyKS5zdWIoZnJvbSk7XG4gICAgICAgIGNvbnN0IGZpbmFsU2NhbGUgPSB0ci56b29tU2NhbGUoem9vbSAtIHN0YXJ0Wm9vbSk7XG5cbiAgICAgICAgbGV0IGFyb3VuZCwgYXJvdW5kUG9pbnQ7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXJvdW5kKSB7XG4gICAgICAgICAgICBhcm91bmQgPSBMbmdMYXQuY29udmVydChvcHRpb25zLmFyb3VuZCk7XG4gICAgICAgICAgICBhcm91bmRQb2ludCA9IHRyLmxvY2F0aW9uUG9pbnQoYXJvdW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3pvb21pbmcgPSAoem9vbSAhPT0gc3RhcnRab29tKTtcbiAgICAgICAgdGhpcy5fcm90YXRpbmcgPSAoc3RhcnRCZWFyaW5nICE9PSBiZWFyaW5nKTtcbiAgICAgICAgdGhpcy5fcGl0Y2hpbmcgPSAocGl0Y2ggIT09IHN0YXJ0UGl0Y2gpO1xuXG4gICAgICAgIHRoaXMuX3ByZXBhcmVFYXNlKGV2ZW50RGF0YSwgb3B0aW9ucy5ub01vdmVTdGFydCk7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2Vhc2VFbmRUaW1lb3V0SUQpO1xuXG4gICAgICAgIHRoaXMuX2Vhc2UoKGspID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl96b29taW5nKSB7XG4gICAgICAgICAgICAgICAgdHIuem9vbSA9IGludGVycG9sYXRlKHN0YXJ0Wm9vbSwgem9vbSwgayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fcm90YXRpbmcpIHtcbiAgICAgICAgICAgICAgICB0ci5iZWFyaW5nID0gaW50ZXJwb2xhdGUoc3RhcnRCZWFyaW5nLCBiZWFyaW5nLCBrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9waXRjaGluZykge1xuICAgICAgICAgICAgICAgIHRyLnBpdGNoID0gaW50ZXJwb2xhdGUoc3RhcnRQaXRjaCwgcGl0Y2gsIGspO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXJvdW5kKSB7XG4gICAgICAgICAgICAgICAgdHIuc2V0TG9jYXRpb25BdFBvaW50KGFyb3VuZCwgYXJvdW5kUG9pbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IHRyLnpvb21TY2FsZSh0ci56b29tIC0gc3RhcnRab29tKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlID0gem9vbSA+IHN0YXJ0Wm9vbSA/XG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWluKDIsIGZpbmFsU2NhbGUpIDpcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoMC41LCBmaW5hbFNjYWxlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGVlZHVwID0gTWF0aC5wb3coYmFzZSwgMSAtIGspO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NlbnRlciA9IHRyLnVucHJvamVjdChmcm9tLmFkZChkZWx0YS5tdWx0KGsgKiBzcGVlZHVwKSkubXVsdChzY2FsZSkpO1xuICAgICAgICAgICAgICAgIHRyLnNldExvY2F0aW9uQXRQb2ludCh0ci5yZW5kZXJXb3JsZENvcGllcyA/IG5ld0NlbnRlci53cmFwKCkgOiBuZXdDZW50ZXIsIHBvaW50QXRPZmZzZXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9maXJlTW92ZUV2ZW50cyhldmVudERhdGEpO1xuXG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRlbGF5RW5kRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWFzZUVuZFRpbWVvdXRJRCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5fYWZ0ZXJFYXNlKGV2ZW50RGF0YSksIG9wdGlvbnMuZGVsYXlFbmRFdmVudHMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZnRlckVhc2UoZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX3ByZXBhcmVFYXNlKGV2ZW50RGF0YT86IE9iamVjdCwgbm9Nb3ZlU3RhcnQ6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fbW92aW5nID0gdHJ1ZTtcblxuICAgICAgICBpZiAoIW5vTW92ZVN0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3Zlc3RhcnQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fem9vbWluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnem9vbXN0YXJ0JywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdyb3RhdGVzdGFydCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9waXRjaGluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncGl0Y2hzdGFydCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2ZpcmVNb3ZlRXZlbnRzKGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3ZlJywgZXZlbnREYXRhKSk7XG4gICAgICAgIGlmICh0aGlzLl96b29taW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd6b29tJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdyb3RhdGUnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcGl0Y2hpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3BpdGNoJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfYWZ0ZXJFYXNlKGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICBjb25zdCB3YXNab29taW5nID0gdGhpcy5fem9vbWluZztcbiAgICAgICAgY29uc3Qgd2FzUm90YXRpbmcgPSB0aGlzLl9yb3RhdGluZztcbiAgICAgICAgY29uc3Qgd2FzUGl0Y2hpbmcgPSB0aGlzLl9waXRjaGluZztcbiAgICAgICAgdGhpcy5fbW92aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3pvb21pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcm90YXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGl0Y2hpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAod2FzWm9vbWluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnem9vbWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3YXNSb3RhdGluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncm90YXRlZW5kJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhc1BpdGNoaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdwaXRjaGVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ21vdmVlbmQnLCBldmVudERhdGEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGFueSBjb21iaW5hdGlvbiBvZiBjZW50ZXIsIHpvb20sIGJlYXJpbmcsIGFuZCBwaXRjaCwgYW5pbWF0aW5nIHRoZSB0cmFuc2l0aW9uIGFsb25nIGEgY3VydmUgdGhhdFxuICAgICAqIGV2b2tlcyBmbGlnaHQuIFRoZSBhbmltYXRpb24gc2VhbWxlc3NseSBpbmNvcnBvcmF0ZXMgem9vbWluZyBhbmQgcGFubmluZyB0byBoZWxwXG4gICAgICogdGhlIHVzZXIgbWFpbnRhaW4gaGVyIGJlYXJpbmdzIGV2ZW4gYWZ0ZXIgdHJhdmVyc2luZyBhIGdyZWF0IGRpc3RhbmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIGRlc2NyaWJpbmcgdGhlIGRlc3RpbmF0aW9uIGFuZCBhbmltYXRpb24gb2YgdGhlIHRyYW5zaXRpb24uXG4gICAgICogICAgIEFjY2VwdHMge0BsaW5rIENhbWVyYU9wdGlvbnN9LCB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30sXG4gICAgICogICAgIGFuZCB0aGUgZm9sbG93aW5nIGFkZGl0aW9uYWwgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY3VydmU9MS40Ml0gVGhlIHpvb21pbmcgXCJjdXJ2ZVwiIHRoYXQgd2lsbCBvY2N1ciBhbG9uZyB0aGVcbiAgICAgKiAgICAgZmxpZ2h0IHBhdGguIEEgaGlnaCB2YWx1ZSBtYXhpbWl6ZXMgem9vbWluZyBmb3IgYW4gZXhhZ2dlcmF0ZWQgYW5pbWF0aW9uLCB3aGlsZSBhIGxvd1xuICAgICAqICAgICB2YWx1ZSBtaW5pbWl6ZXMgem9vbWluZyBmb3IgYW4gZWZmZWN0IGNsb3NlciB0byB7QGxpbmsgTWFwI2Vhc2VUb30uIDEuNDIgaXMgdGhlIGF2ZXJhZ2VcbiAgICAgKiAgICAgdmFsdWUgc2VsZWN0ZWQgYnkgcGFydGljaXBhbnRzIGluIHRoZSB1c2VyIHN0dWR5IGRpc2N1c3NlZCBpblxuICAgICAqICAgICBbdmFuIFdpamsgKDIwMDMpXShodHRwczovL3d3dy53aW4udHVlLm5sL352YW53aWprL3pvb21wYW4ucGRmKS4gQSB2YWx1ZSBvZlxuICAgICAqICAgICBgTWF0aC5wb3coNiwgMC4yNSlgIHdvdWxkIGJlIGVxdWl2YWxlbnQgdG8gdGhlIHJvb3QgbWVhbiBzcXVhcmVkIGF2ZXJhZ2UgdmVsb2NpdHkuIEFcbiAgICAgKiAgICAgdmFsdWUgb2YgMSB3b3VsZCBwcm9kdWNlIGEgY2lyY3VsYXIgbW90aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5taW5ab29tXSBUaGUgemVyby1iYXNlZCB6b29tIGxldmVsIGF0IHRoZSBwZWFrIG9mIHRoZSBmbGlnaHQgcGF0aC4gSWZcbiAgICAgKiAgICAgYG9wdGlvbnMuY3VydmVgIGlzIHNwZWNpZmllZCwgdGhpcyBvcHRpb24gaXMgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3BlZWQ9MS4yXSBUaGUgYXZlcmFnZSBzcGVlZCBvZiB0aGUgYW5pbWF0aW9uIGRlZmluZWQgaW4gcmVsYXRpb24gdG9cbiAgICAgKiAgICAgYG9wdGlvbnMuY3VydmVgLiBBIHNwZWVkIG9mIDEuMiBtZWFucyB0aGF0IHRoZSBtYXAgYXBwZWFycyB0byBtb3ZlIGFsb25nIHRoZSBmbGlnaHQgcGF0aFxuICAgICAqICAgICBieSAxLjIgdGltZXMgYG9wdGlvbnMuY3VydmVgIHNjcmVlbmZ1bHMgZXZlcnkgc2Vjb25kLiBBIF9zY3JlZW5mdWxfIGlzIHRoZSBtYXAncyB2aXNpYmxlIHNwYW4uXG4gICAgICogICAgIEl0IGRvZXMgbm90IGNvcnJlc3BvbmQgdG8gYSBmaXhlZCBwaHlzaWNhbCBkaXN0YW5jZSwgYnV0IHZhcmllcyBieSB6b29tIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY3JlZW5TcGVlZF0gVGhlIGF2ZXJhZ2Ugc3BlZWQgb2YgdGhlIGFuaW1hdGlvbiBtZWFzdXJlZCBpbiBzY3JlZW5mdWxzXG4gICAgICogICAgIHBlciBzZWNvbmQsIGFzc3VtaW5nIGEgbGluZWFyIHRpbWluZyBjdXJ2ZS4gSWYgYG9wdGlvbnMuc3BlZWRgIGlzIHNwZWNpZmllZCwgdGhpcyBvcHRpb24gaXMgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4RHVyYXRpb25dIFRoZSBhbmltYXRpb24ncyBtYXhpbXVtIGR1cmF0aW9uLCBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHMuXG4gICAgICogICAgIElmIGR1cmF0aW9uIGV4Y2VlZHMgbWF4aW11bSBkdXJhdGlvbiwgaXQgcmVzZXRzIHRvIDAuXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgem9vbXN0YXJ0XG4gICAgICogQGZpcmVzIHBpdGNoc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZVxuICAgICAqIEBmaXJlcyB6b29tXG4gICAgICogQGZpcmVzIHJvdGF0ZVxuICAgICAqIEBmaXJlcyBwaXRjaFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQGZpcmVzIHpvb21lbmRcbiAgICAgKiBAZmlyZXMgcGl0Y2hlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIGZseSB3aXRoIGRlZmF1bHQgb3B0aW9ucyB0byBudWxsIGlzbGFuZFxuICAgICAqIG1hcC5mbHlUbyh7Y2VudGVyOiBbMCwgMF0sIHpvb206IDl9KTtcbiAgICAgKiAvLyB1c2luZyBmbHlUbyBvcHRpb25zXG4gICAgICogbWFwLmZseVRvKHtcbiAgICAgKiAgIGNlbnRlcjogWzAsIDBdLFxuICAgICAqICAgem9vbTogOSxcbiAgICAgKiAgIHNwZWVkOiAwLjIsXG4gICAgICogICBjdXJ2ZTogMSxcbiAgICAgKiAgIGVhc2luZyh0KSB7XG4gICAgICogICAgIHJldHVybiB0O1xuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqIEBzZWUgW0ZseSB0byBhIGxvY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2ZseXRvLylcbiAgICAgKiBAc2VlIFtTbG93bHkgZmx5IHRvIGEgbG9jYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmx5dG8tb3B0aW9ucy8pXG4gICAgICogQHNlZSBbRmx5IHRvIGEgbG9jYXRpb24gYmFzZWQgb24gc2Nyb2xsIHBvc2l0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3Njcm9sbC1mbHktdG8vKVxuICAgICAqL1xuICAgIGZseVRvKG9wdGlvbnM6IE9iamVjdCwgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIC8vIFRoaXMgbWV0aG9kIGltcGxlbWVudHMgYW4g4oCcb3B0aW1hbCBwYXRo4oCdIGFuaW1hdGlvbiwgYXMgZGV0YWlsZWQgaW46XG4gICAgICAgIC8vXG4gICAgICAgIC8vIFZhbiBXaWprLCBKYXJrZSBKLjsgTnVpaiwgV2ltIEEuIEEuIOKAnFNtb290aCBhbmQgZWZmaWNpZW50IHpvb21pbmcgYW5kIHBhbm5pbmcu4oCdIElORk9WSVNcbiAgICAgICAgLy8gICDigJkwMy4gcHAuIDE14oCTMjIuIDxodHRwczovL3d3dy53aW4udHVlLm5sL352YW53aWprL3pvb21wYW4ucGRmI3BhZ2U9NT4uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdoZXJlIGFwcGxpY2FibGUsIGxvY2FsIHZhcmlhYmxlIGRvY3VtZW50YXRpb24gYmVnaW5zIHdpdGggdGhlIGFzc29jaWF0ZWQgdmFyaWFibGUgb3JcbiAgICAgICAgLy8gZnVuY3Rpb24gaW4gdmFuIFdpamsgKDIwMDMpLlxuXG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBleHRlbmQoe1xuICAgICAgICAgICAgb2Zmc2V0OiBbMCwgMF0sXG4gICAgICAgICAgICBzcGVlZDogMS4yLFxuICAgICAgICAgICAgY3VydmU6IDEuNDIsXG4gICAgICAgICAgICBlYXNpbmc6IGRlZmF1bHRFYXNpbmdcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLnRyYW5zZm9ybSxcbiAgICAgICAgICAgIHN0YXJ0Wm9vbSA9IHRoaXMuZ2V0Wm9vbSgpLFxuICAgICAgICAgICAgc3RhcnRCZWFyaW5nID0gdGhpcy5nZXRCZWFyaW5nKCksXG4gICAgICAgICAgICBzdGFydFBpdGNoID0gdGhpcy5nZXRQaXRjaCgpO1xuXG4gICAgICAgIGNvbnN0IHpvb20gPSAnem9vbScgaW4gb3B0aW9ucyA/IGNsYW1wKCtvcHRpb25zLnpvb20sIHRyLm1pblpvb20sIHRyLm1heFpvb20pIDogc3RhcnRab29tO1xuICAgICAgICBjb25zdCBiZWFyaW5nID0gJ2JlYXJpbmcnIGluIG9wdGlvbnMgPyB0aGlzLl9ub3JtYWxpemVCZWFyaW5nKG9wdGlvbnMuYmVhcmluZywgc3RhcnRCZWFyaW5nKSA6IHN0YXJ0QmVhcmluZztcbiAgICAgICAgY29uc3QgcGl0Y2ggPSAncGl0Y2gnIGluIG9wdGlvbnMgPyArb3B0aW9ucy5waXRjaCA6IHN0YXJ0UGl0Y2g7XG5cbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0ci56b29tU2NhbGUoem9vbSAtIHN0YXJ0Wm9vbSk7XG4gICAgICAgIGNvbnN0IHBvaW50QXRPZmZzZXQgPSB0ci5jZW50ZXJQb2ludC5hZGQoUG9pbnQuY29udmVydChvcHRpb25zLm9mZnNldCkpO1xuICAgICAgICBjb25zdCBsb2NhdGlvbkF0T2Zmc2V0ID0gdHIucG9pbnRMb2NhdGlvbihwb2ludEF0T2Zmc2V0KTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gTG5nTGF0LmNvbnZlcnQob3B0aW9ucy5jZW50ZXIgfHwgbG9jYXRpb25BdE9mZnNldCk7XG4gICAgICAgIHRoaXMuX25vcm1hbGl6ZUNlbnRlcihjZW50ZXIpO1xuXG4gICAgICAgIGNvbnN0IGZyb20gPSB0ci5wcm9qZWN0KGxvY2F0aW9uQXRPZmZzZXQpO1xuICAgICAgICBjb25zdCBkZWx0YSA9IHRyLnByb2plY3QoY2VudGVyKS5zdWIoZnJvbSk7XG5cbiAgICAgICAgbGV0IHJobyA9IG9wdGlvbnMuY3VydmU7XG5cbiAgICAgICAgLy8gd+KCgDogSW5pdGlhbCB2aXNpYmxlIHNwYW4sIG1lYXN1cmVkIGluIHBpeGVscyBhdCB0aGUgaW5pdGlhbCBzY2FsZS5cbiAgICAgICAgY29uc3QgdzAgPSBNYXRoLm1heCh0ci53aWR0aCwgdHIuaGVpZ2h0KSxcbiAgICAgICAgICAgIC8vIHfigoE6IEZpbmFsIHZpc2libGUgc3BhbiwgbWVhc3VyZWQgaW4gcGl4ZWxzIHdpdGggcmVzcGVjdCB0byB0aGUgaW5pdGlhbCBzY2FsZS5cbiAgICAgICAgICAgIHcxID0gdzAgLyBzY2FsZSxcbiAgICAgICAgICAgIC8vIExlbmd0aCBvZiB0aGUgZmxpZ2h0IHBhdGggYXMgcHJvamVjdGVkIG9udG8gdGhlIGdyb3VuZCBwbGFuZSwgbWVhc3VyZWQgaW4gcGl4ZWxzIGZyb21cbiAgICAgICAgICAgIC8vIHRoZSB3b3JsZCBpbWFnZSBvcmlnaW4gYXQgdGhlIGluaXRpYWwgc2NhbGUuXG4gICAgICAgICAgICB1MSA9IGRlbHRhLm1hZygpO1xuXG4gICAgICAgIGlmICgnbWluWm9vbScgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgbWluWm9vbSA9IGNsYW1wKE1hdGgubWluKG9wdGlvbnMubWluWm9vbSwgc3RhcnRab29tLCB6b29tKSwgdHIubWluWm9vbSwgdHIubWF4Wm9vbSk7XG4gICAgICAgICAgICAvLyB3PHN1Yj5tPC9zdWI+OiBNYXhpbXVtIHZpc2libGUgc3BhbiwgbWVhc3VyZWQgaW4gcGl4ZWxzIHdpdGggcmVzcGVjdCB0byB0aGUgaW5pdGlhbFxuICAgICAgICAgICAgLy8gc2NhbGUuXG4gICAgICAgICAgICBjb25zdCB3TWF4ID0gdzAgLyB0ci56b29tU2NhbGUobWluWm9vbSAtIHN0YXJ0Wm9vbSk7XG4gICAgICAgICAgICByaG8gPSBNYXRoLnNxcnQod01heCAvIHUxICogMik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDPgcKyXG4gICAgICAgIGNvbnN0IHJobzIgPSByaG8gKiByaG87XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHLhtaI6IFJldHVybnMgdGhlIHpvb20tb3V0IGZhY3RvciBhdCBvbmUgZW5kIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBpIDAgZm9yIHRoZSBhc2NlbnQgb3IgMSBmb3IgdGhlIGRlc2NlbnQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByKGkpIHtcbiAgICAgICAgICAgIGNvbnN0IGIgPSAodzEgKiB3MSAtIHcwICogdzAgKyAoaSA/IC0xIDogMSkgKiByaG8yICogcmhvMiAqIHUxICogdTEpIC8gKDIgKiAoaSA/IHcxIDogdzApICogcmhvMiAqIHUxKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyhNYXRoLnNxcnQoYiAqIGIgKyAxKSAtIGIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2luaChuKSB7IHJldHVybiAoTWF0aC5leHAobikgLSBNYXRoLmV4cCgtbikpIC8gMjsgfVxuICAgICAgICBmdW5jdGlvbiBjb3NoKG4pIHsgcmV0dXJuIChNYXRoLmV4cChuKSArIE1hdGguZXhwKC1uKSkgLyAyOyB9XG4gICAgICAgIGZ1bmN0aW9uIHRhbmgobikgeyByZXR1cm4gc2luaChuKSAvIGNvc2gobik7IH1cblxuICAgICAgICAvLyBy4oKAOiBab29tLW91dCBmYWN0b3IgZHVyaW5nIGFzY2VudC5cbiAgICAgICAgY29uc3QgcjAgPSByKDApO1xuXG4gICAgICAgIC8vIHcocyk6IFJldHVybnMgdGhlIHZpc2libGUgc3BhbiBvbiB0aGUgZ3JvdW5kLCBtZWFzdXJlZCBpbiBwaXhlbHMgd2l0aCByZXNwZWN0IHRvIHRoZVxuICAgICAgICAvLyBpbml0aWFsIHNjYWxlLiBBc3N1bWVzIGFuIGFuZ3VsYXIgZmllbGQgb2YgdmlldyBvZiAyIGFyY3RhbiDCvSDiiYggNTPCsC5cbiAgICAgICAgbGV0IHc6IChudW1iZXIpID0+IG51bWJlciA9IGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gKGNvc2gocjApIC8gY29zaChyMCArIHJobyAqIHMpKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyB1KHMpOiBSZXR1cm5zIHRoZSBkaXN0YW5jZSBhbG9uZyB0aGUgZmxpZ2h0IHBhdGggYXMgcHJvamVjdGVkIG9udG8gdGhlIGdyb3VuZCBwbGFuZSxcbiAgICAgICAgLy8gbWVhc3VyZWQgaW4gcGl4ZWxzIGZyb20gdGhlIHdvcmxkIGltYWdlIG9yaWdpbiBhdCB0aGUgaW5pdGlhbCBzY2FsZS5cbiAgICAgICAgbGV0IHU6IChudW1iZXIpID0+IG51bWJlciA9IGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gdzAgKiAoKGNvc2gocjApICogdGFuaChyMCArIHJobyAqIHMpIC0gc2luaChyMCkpIC8gcmhvMikgLyB1MTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTOiBUb3RhbCBsZW5ndGggb2YgdGhlIGZsaWdodCBwYXRoLCBtZWFzdXJlZCBpbiDPgS1zY3JlZW5mdWxzLlxuICAgICAgICBsZXQgUyA9IChyKDEpIC0gcjApIC8gcmhvO1xuXG4gICAgICAgIC8vIFdoZW4gdeKCgCA9IHXigoEsIHRoZSBvcHRpbWFsIHBhdGggZG9lc27igJl0IHJlcXVpcmUgYm90aCBhc2NlbnQgYW5kIGRlc2NlbnQuXG4gICAgICAgIGlmIChNYXRoLmFicyh1MSkgPCAwLjAwMDAwMSB8fCAhaXNGaW5pdGUoUykpIHtcbiAgICAgICAgICAgIC8vIFBlcmZvcm0gYSBtb3JlIG9yIGxlc3MgaW5zdGFudGFuZW91cyB0cmFuc2l0aW9uIGlmIHRoZSBwYXRoIGlzIHRvbyBzaG9ydC5cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh3MCAtIHcxKSA8IDAuMDAwMDAxKSByZXR1cm4gdGhpcy5lYXNlVG8ob3B0aW9ucywgZXZlbnREYXRhKTtcblxuICAgICAgICAgICAgY29uc3QgayA9IHcxIDwgdzAgPyAtMSA6IDE7XG4gICAgICAgICAgICBTID0gTWF0aC5hYnMoTWF0aC5sb2codzEgLyB3MCkpIC8gcmhvO1xuXG4gICAgICAgICAgICB1ID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuICAgICAgICAgICAgdyA9IGZ1bmN0aW9uKHMpIHsgcmV0dXJuIE1hdGguZXhwKGsgKiByaG8gKiBzKTsgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgnZHVyYXRpb24nIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSArb3B0aW9ucy5kdXJhdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IFYgPSAnc2NyZWVuU3BlZWQnIGluIG9wdGlvbnMgPyArb3B0aW9ucy5zY3JlZW5TcGVlZCAvIHJobyA6ICtvcHRpb25zLnNwZWVkO1xuICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9IDEwMDAgKiBTIC8gVjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLm1heER1cmF0aW9uICYmIG9wdGlvbnMuZHVyYXRpb24gPiBvcHRpb25zLm1heER1cmF0aW9uKSB7XG4gICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3pvb21pbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yb3RhdGluZyA9IChzdGFydEJlYXJpbmcgIT09IGJlYXJpbmcpO1xuICAgICAgICB0aGlzLl9waXRjaGluZyA9IChwaXRjaCAhPT0gc3RhcnRQaXRjaCk7XG5cbiAgICAgICAgdGhpcy5fcHJlcGFyZUVhc2UoZXZlbnREYXRhLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5fZWFzZSgoaykgPT4ge1xuICAgICAgICAgICAgLy8gczogVGhlIGRpc3RhbmNlIHRyYXZlbGVkIGFsb25nIHRoZSBmbGlnaHQgcGF0aCwgbWVhc3VyZWQgaW4gz4Etc2NyZWVuZnVscy5cbiAgICAgICAgICAgIGNvbnN0IHMgPSBrICogUztcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gMSAvIHcocyk7XG4gICAgICAgICAgICB0ci56b29tID0gc3RhcnRab29tICsgdHIuc2NhbGVab29tKHNjYWxlKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgdHIuYmVhcmluZyA9IGludGVycG9sYXRlKHN0YXJ0QmVhcmluZywgYmVhcmluZywgayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fcGl0Y2hpbmcpIHtcbiAgICAgICAgICAgICAgICB0ci5waXRjaCA9IGludGVycG9sYXRlKHN0YXJ0UGl0Y2gsIHBpdGNoLCBrKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbmV3Q2VudGVyID0gdHIudW5wcm9qZWN0KGZyb20uYWRkKGRlbHRhLm11bHQodShzKSkpLm11bHQoc2NhbGUpKTtcbiAgICAgICAgICAgIHRyLnNldExvY2F0aW9uQXRQb2ludCh0ci5yZW5kZXJXb3JsZENvcGllcyA/IG5ld0NlbnRlci53cmFwKCkgOiBuZXdDZW50ZXIsIHBvaW50QXRPZmZzZXQpO1xuXG4gICAgICAgICAgICB0aGlzLl9maXJlTW92ZUV2ZW50cyhldmVudERhdGEpO1xuXG4gICAgICAgIH0sICgpID0+IHRoaXMuX2FmdGVyRWFzZShldmVudERhdGEpLCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpc0Vhc2luZygpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZWFzZUZyYW1lSWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgYW55IGFuaW1hdGVkIHRyYW5zaXRpb24gdW5kZXJ3YXkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHN0b3AoKTogdGhpcyB7XG4gICAgICAgIGlmICh0aGlzLl9lYXNlRnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZWFzZUZyYW1lSWQpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2Vhc2VGcmFtZUlkO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX29uRWFzZUZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX29uRWFzZUVuZCkge1xuICAgICAgICAgICAgLy8gVGhlIF9vbkVhc2VFbmQgZnVuY3Rpb24gbWlnaHQgZW1pdCBldmVudHMgd2hpY2ggdHJpZ2dlciBuZXdcbiAgICAgICAgICAgIC8vIGFuaW1hdGlvbiwgd2hpY2ggc2V0cyBhIG5ldyBfb25FYXNlRW5kLiBFbnN1cmUgd2UgZG9uJ3QgZGVsZXRlXG4gICAgICAgICAgICAvLyBpdCB1bmludGVudGlvbmFsbHkuXG4gICAgICAgICAgICBjb25zdCBvbkVhc2VFbmQgPSB0aGlzLl9vbkVhc2VFbmQ7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fb25FYXNlRW5kO1xuICAgICAgICAgICAgb25FYXNlRW5kLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2Vhc2UoZnJhbWU6IChudW1iZXIpID0+IHZvaWQsXG4gICAgICAgICAgZmluaXNoOiAoKSA9PiB2b2lkLFxuICAgICAgICAgIG9wdGlvbnM6IHthbmltYXRlOiBib29sZWFuLCBkdXJhdGlvbjogbnVtYmVyLCBlYXNpbmc6IChudW1iZXIpID0+IG51bWJlcn0pIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0ZSA9PT0gZmFsc2UgfHwgb3B0aW9ucy5kdXJhdGlvbiA9PT0gMCkge1xuICAgICAgICAgICAgZnJhbWUoMSk7XG4gICAgICAgICAgICBmaW5pc2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2Vhc2VTdGFydCA9IGJyb3dzZXIubm93KCk7XG4gICAgICAgICAgICB0aGlzLl9lYXNlT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgICAgICB0aGlzLl9vbkVhc2VGcmFtZSA9IGZyYW1lO1xuICAgICAgICAgICAgdGhpcy5fb25FYXNlRW5kID0gZmluaXNoO1xuICAgICAgICAgICAgdGhpcy5fZWFzZUZyYW1lSWQgPSB0aGlzLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fcmVuZGVyRnJhbWVDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDYWxsYmFjayBmb3IgbWFwLl9yZXF1ZXN0UmVuZGVyRnJhbWVcbiAgICBfcmVuZGVyRnJhbWVDYWxsYmFjaygpIHtcbiAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKChicm93c2VyLm5vdygpIC0gdGhpcy5fZWFzZVN0YXJ0KSAvIHRoaXMuX2Vhc2VPcHRpb25zLmR1cmF0aW9uLCAxKTtcbiAgICAgICAgdGhpcy5fb25FYXNlRnJhbWUodGhpcy5fZWFzZU9wdGlvbnMuZWFzaW5nKHQpKTtcbiAgICAgICAgaWYgKHQgPCAxKSB7XG4gICAgICAgICAgICB0aGlzLl9lYXNlRnJhbWVJZCA9IHRoaXMuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9yZW5kZXJGcmFtZUNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29udmVydCBiZWFyaW5nIHNvIHRoYXQgaXQncyBudW1lcmljYWxseSBjbG9zZSB0byB0aGUgY3VycmVudCBvbmUgc28gdGhhdCBpdCBpbnRlcnBvbGF0ZXMgcHJvcGVybHlcbiAgICBfbm9ybWFsaXplQmVhcmluZyhiZWFyaW5nOiBudW1iZXIsIGN1cnJlbnRCZWFyaW5nOiBudW1iZXIpIHtcbiAgICAgICAgYmVhcmluZyA9IHdyYXAoYmVhcmluZywgLTE4MCwgMTgwKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IE1hdGguYWJzKGJlYXJpbmcgLSBjdXJyZW50QmVhcmluZyk7XG4gICAgICAgIGlmIChNYXRoLmFicyhiZWFyaW5nIC0gMzYwIC0gY3VycmVudEJlYXJpbmcpIDwgZGlmZikgYmVhcmluZyAtPSAzNjA7XG4gICAgICAgIGlmIChNYXRoLmFicyhiZWFyaW5nICsgMzYwIC0gY3VycmVudEJlYXJpbmcpIDwgZGlmZikgYmVhcmluZyArPSAzNjA7XG4gICAgICAgIHJldHVybiBiZWFyaW5nO1xuICAgIH1cblxuICAgIC8vIElmIGEgcGF0aCBjcm9zc2luZyB0aGUgYW50aW1lcmlkaWFuIHdvdWxkIGJlIHNob3J0ZXIsIGV4dGVuZCB0aGUgZmluYWwgY29vcmRpbmF0ZSBzbyB0aGF0XG4gICAgLy8gaW50ZXJwb2xhdGluZyBiZXR3ZWVuIHRoZSB0d28gZW5kcG9pbnRzIHdpbGwgY3Jvc3MgaXQuXG4gICAgX25vcm1hbGl6ZUNlbnRlcihjZW50ZXI6IExuZ0xhdCkge1xuICAgICAgICBjb25zdCB0ciA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICBpZiAoIXRyLnJlbmRlcldvcmxkQ29waWVzIHx8IHRyLmxuZ1JhbmdlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZGVsdGEgPSBjZW50ZXIubG5nIC0gdHIuY2VudGVyLmxuZztcbiAgICAgICAgY2VudGVyLmxuZyArPVxuICAgICAgICAgICAgZGVsdGEgPiAxODAgPyAtMzYwIDpcbiAgICAgICAgICAgIGRlbHRhIDwgLTE4MCA/IDM2MCA6IDA7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW1lcmE7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi8uLi91dGlsL2NvbmZpZyc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gICAgY29tcGFjdD86IGJvb2xlYW5cbn07XG5cbi8qKlxuICogQW4gYEF0dHJpYnV0aW9uQ29udHJvbGAgY29udHJvbCBwcmVzZW50cyB0aGUgbWFwJ3MgW2F0dHJpYnV0aW9uIGluZm9ybWF0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL2hlbHAvYXR0cmlidXRpb24vKS5cbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNvbXBhY3RdIElmIGB0cnVlYCBmb3JjZSBhIGNvbXBhY3QgYXR0cmlidXRpb24gdGhhdCBzaG93cyB0aGUgZnVsbCBhdHRyaWJ1dGlvbiBvbiBtb3VzZSBob3Zlciwgb3IgaWYgYGZhbHNlYCBmb3JjZSB0aGUgZnVsbCBhdHRyaWJ1dGlvbiBjb250cm9sLiBUaGUgZGVmYXVsdCBpcyBhIHJlc3BvbnNpdmUgYXR0cmlidXRpb24gdGhhdCBjb2xsYXBzZXMgd2hlbiB0aGUgbWFwIGlzIGxlc3MgdGhhbiA2NDAgcGl4ZWxzIHdpZGUuXG4gKiBAZXhhbXBsZVxuICogdmFyIG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe2F0dHJpYnV0aW9uQ29udHJvbDogZmFsc2V9KVxuICogICAgIC5hZGRDb250cm9sKG5ldyBtYXBib3hnbC5BdHRyaWJ1dGlvbkNvbnRyb2woe1xuICogICAgICAgICBjb21wYWN0OiB0cnVlXG4gKiAgICAgfSkpO1xuICovXG5jbGFzcyBBdHRyaWJ1dGlvbkNvbnRyb2wge1xuICAgIG9wdGlvbnM6IE9wdGlvbnM7XG4gICAgX21hcDogTWFwO1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9lZGl0TGluazogP0hUTUxBbmNob3JFbGVtZW50O1xuICAgIHN0eWxlSWQ6IHN0cmluZztcbiAgICBzdHlsZU93bmVyOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBPcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfdXBkYXRlRWRpdExpbmsnLFxuICAgICAgICAgICAgJ191cGRhdGVEYXRhJyxcbiAgICAgICAgICAgICdfdXBkYXRlQ29tcGFjdCdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgZ2V0RGVmYXVsdFBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ2JvdHRvbS1yaWdodCc7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgY29uc3QgY29tcGFjdCA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuY29tcGFjdDtcblxuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtYXR0cmliJyk7XG5cbiAgICAgICAgaWYgKGNvbXBhY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jb21wYWN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRWRpdExpbmsoKTtcblxuICAgICAgICB0aGlzLl9tYXAub24oJ3NvdXJjZWRhdGEnLCB0aGlzLl91cGRhdGVEYXRhKTtcbiAgICAgICAgdGhpcy5fbWFwLm9uKCdtb3ZlZW5kJywgdGhpcy5fdXBkYXRlRWRpdExpbmspO1xuXG4gICAgICAgIGlmIChjb21wYWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vbigncmVzaXplJywgdGhpcy5fdXBkYXRlQ29tcGFjdCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb21wYWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG5cbiAgICAgICAgdGhpcy5fbWFwLm9mZignc291cmNlZGF0YScsIHRoaXMuX3VwZGF0ZURhdGEpO1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCdtb3ZlZW5kJywgdGhpcy5fdXBkYXRlRWRpdExpbmspO1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCdyZXNpemUnLCB0aGlzLl91cGRhdGVDb21wYWN0KTtcblxuICAgICAgICB0aGlzLl9tYXAgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgIH1cblxuICAgIF91cGRhdGVFZGl0TGluaygpIHtcbiAgICAgICAgbGV0IGVkaXRMaW5rID0gdGhpcy5fZWRpdExpbms7XG4gICAgICAgIGlmICghZWRpdExpbmspIHtcbiAgICAgICAgICAgIGVkaXRMaW5rID0gdGhpcy5fZWRpdExpbmsgPSAodGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5tYXBib3gtaW1wcm92ZS1tYXAnKTogYW55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IFtcbiAgICAgICAgICAgIHtrZXk6IFwib3duZXJcIiwgdmFsdWU6IHRoaXMuc3R5bGVPd25lcn0sXG4gICAgICAgICAgICB7a2V5OiBcImlkXCIsIHZhbHVlOiB0aGlzLnN0eWxlSWR9LFxuICAgICAgICAgICAge2tleTogXCJhY2Nlc3NfdG9rZW5cIiwgdmFsdWU6IGNvbmZpZy5BQ0NFU1NfVE9LRU59XG4gICAgICAgIF07XG5cbiAgICAgICAgaWYgKGVkaXRMaW5rKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbVN0cmluZyA9IHBhcmFtcy5yZWR1Y2UoKGFjYywgbmV4dCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuZXh0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjYyArPSBgJHtuZXh0LmtleX09JHtuZXh0LnZhbHVlfSR7aSA8IHBhcmFtcy5sZW5ndGggLSAxID8gJyYnIDogJyd9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIGA/YCk7XG4gICAgICAgICAgICBlZGl0TGluay5ocmVmID0gYGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vZmVlZGJhY2svJHtwYXJhbVN0cmluZ30ke3RoaXMuX21hcC5faGFzaCA/IHRoaXMuX21hcC5faGFzaC5nZXRIYXNoU3RyaW5nKHRydWUpIDogJyd9YDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVEYXRhKGU6IGFueSkge1xuICAgICAgICBpZiAoZSAmJiBlLnNvdXJjZURhdGFUeXBlID09PSAnbWV0YWRhdGEnKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUVkaXRMaW5rKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlQXR0cmlidXRpb25zKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21hcC5zdHlsZSkgcmV0dXJuO1xuICAgICAgICBsZXQgYXR0cmlidXRpb25zOiBBcnJheTxzdHJpbmc+ID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuX21hcC5zdHlsZS5zdHlsZXNoZWV0KSB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZXNoZWV0OiBhbnkgPSB0aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldDtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVPd25lciA9IHN0eWxlc2hlZXQub3duZXI7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSWQgPSBzdHlsZXNoZWV0LmlkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fbWFwLnN0eWxlLnNvdXJjZUNhY2hlcztcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUNhY2hlc1tpZF0uZ2V0U291cmNlKCk7XG4gICAgICAgICAgICBpZiAoc291cmNlLmF0dHJpYnV0aW9uICYmIGF0dHJpYnV0aW9ucy5pbmRleE9mKHNvdXJjZS5hdHRyaWJ1dGlvbikgPCAwKSB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb25zLnB1c2goc291cmNlLmF0dHJpYnV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSBhbnkgZW50cmllcyB0aGF0IGFyZSBzdWJzdHJpbmdzIG9mIGFub3RoZXIgZW50cnkuXG4gICAgICAgIC8vIGZpcnN0IHNvcnQgYnkgbGVuZ3RoIHNvIHRoYXQgc3Vic3RyaW5ncyBjb21lIGZpcnN0XG4gICAgICAgIGF0dHJpYnV0aW9ucy5zb3J0KChhLCBiKSA9PiBhLmxlbmd0aCAtIGIubGVuZ3RoKTtcbiAgICAgICAgYXR0cmlidXRpb25zID0gYXR0cmlidXRpb25zLmZpbHRlcigoYXR0cmliLCBpKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBhdHRyaWJ1dGlvbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRpb25zW2pdLmluZGV4T2YoYXR0cmliKSA+PSAwKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYXR0cmlidXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IGF0dHJpYnV0aW9ucy5qb2luKCcgfCAnKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1hdHRyaWItZW1wdHknKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1hdHRyaWItZW1wdHknKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgb2xkIERPTSBub2RlIGZyb20gX2VkaXRMaW5rXG4gICAgICAgIHRoaXMuX2VkaXRMaW5rID0gbnVsbDtcbiAgICB9XG5cbiAgICBfdXBkYXRlQ29tcGFjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKS5vZmZzZXRXaWR0aCA8PSA2NDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jb21wYWN0Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY29tcGFjdCcpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEF0dHJpYnV0aW9uQ29udHJvbDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuXG5pbXBvcnQgeyBiaW5kQWxsIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5cbi8qKlxuICogQSBgTG9nb0NvbnRyb2xgIGlzIGEgY29udHJvbCB0aGF0IGFkZHMgdGhlIE1hcGJveCB3YXRlcm1hcmtcbiAqIHRvIHRoZSBtYXAgYXMgcmVxdWlyZWQgYnkgdGhlIFt0ZXJtcyBvZiBzZXJ2aWNlXShodHRwczovL3d3dy5tYXBib3guY29tL3Rvcy8pIGZvciBNYXBib3hcbiAqIHZlY3RvciB0aWxlcyBhbmQgY29yZSBzdHlsZXMuXG4gKlxuICogQGltcGxlbWVudHMge0lDb250cm9sfVxuICogQHByaXZhdGVcbioqL1xuXG5jbGFzcyBMb2dvQ29udHJvbCB7XG4gICAgX21hcDogTWFwO1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGJpbmRBbGwoWydfdXBkYXRlTG9nbyddLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1jdHJsJyk7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IERPTS5jcmVhdGUoJ2EnLCAnbWFwYm94Z2wtY3RybC1sb2dvJyk7XG4gICAgICAgIGFuY2hvci50YXJnZXQgPSBcIl9ibGFua1wiO1xuICAgICAgICBhbmNob3IuaHJlZiA9IFwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9cIjtcbiAgICAgICAgYW5jaG9yLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJNYXBib3ggbG9nb1wiKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKGFuY2hvcik7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIHRoaXMuX21hcC5vbignc291cmNlZGF0YScsIHRoaXMuX3VwZGF0ZUxvZ28pO1xuICAgICAgICB0aGlzLl91cGRhdGVMb2dvKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIERPTS5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5fbWFwLm9mZignc291cmNlZGF0YScsIHRoaXMuX3VwZGF0ZUxvZ28pO1xuICAgIH1cblxuICAgIGdldERlZmF1bHRQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdib3R0b20tbGVmdCc7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUxvZ28oZTogYW55KSB7XG4gICAgICAgIGlmICghZSB8fCBlLnNvdXJjZURhdGFUeXBlID09PSAnbWV0YWRhdGEnKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheSA9IHRoaXMuX2xvZ29SZXF1aXJlZCgpID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9sb2dvUmVxdWlyZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFwLnN0eWxlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgc291cmNlQ2FjaGVzID0gdGhpcy5fbWFwLnN0eWxlLnNvdXJjZUNhY2hlcztcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBzb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUNhY2hlc1tpZF0uZ2V0U291cmNlKCk7XG4gICAgICAgICAgICBpZiAoc291cmNlLm1hcGJveF9sb2dvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgTG9nb0NvbnRyb2w7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5leHBvcnQgdHlwZSBUYXNrSUQgPSBudW1iZXI7IC8vIGNhbid0IG1hcmsgb3BhcXVlIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vZmxvd3R5cGUvZmxvdy1yZW1vdmUtdHlwZXMvcHVsbC82MVxudHlwZSBUYXNrID0ge1xuICAgIGNhbGxiYWNrOiAoKSA9PiB2b2lkO1xuICAgIGlkOiBUYXNrSUQ7XG4gICAgY2FuY2VsbGVkOiBib29sZWFuO1xufTtcblxuY2xhc3MgVGFza1F1ZXVlIHtcbiAgICBfcXVldWU6IEFycmF5PFRhc2s+O1xuICAgIF9pZDogVGFza0lEO1xuICAgIF9jbGVhcmVkOiBib29sZWFuO1xuICAgIF9jdXJyZW50bHlSdW5uaW5nOiBBcnJheTxUYXNrPiB8IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoKSAge1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLl9pZCA9IDA7XG4gICAgICAgIHRoaXMuX2NsZWFyZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY3VycmVudGx5UnVubmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGFkZChjYWxsYmFjazogKCkgPT4gdm9pZCk6IFRhc2tJRCB7XG4gICAgICAgIGNvbnN0IGlkID0gKyt0aGlzLl9pZDtcbiAgICAgICAgY29uc3QgcXVldWUgPSB0aGlzLl9xdWV1ZTtcbiAgICAgICAgcXVldWUucHVzaCh7Y2FsbGJhY2ssIGlkLCBjYW5jZWxsZWQ6IGZhbHNlfSk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICByZW1vdmUoaWQ6IFRhc2tJRCkge1xuICAgICAgICBjb25zdCBydW5uaW5nID0gdGhpcy5fY3VycmVudGx5UnVubmluZztcbiAgICAgICAgY29uc3QgcXVldWUgPSBydW5uaW5nID8gdGhpcy5fcXVldWUuY29uY2F0KHJ1bm5pbmcpIDogdGhpcy5fcXVldWU7XG4gICAgICAgIGZvciAoY29uc3QgdGFzayBvZiBxdWV1ZSkge1xuICAgICAgICAgICAgaWYgKHRhc2suaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgdGFzay5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJ1bigpIHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLl9jdXJyZW50bHlSdW5uaW5nKTtcbiAgICAgICAgY29uc3QgcXVldWUgPSB0aGlzLl9jdXJyZW50bHlSdW5uaW5nID0gdGhpcy5fcXVldWU7XG5cbiAgICAgICAgLy8gVGFza3MgcXVldWVkIGJ5IGNhbGxiYWNrcyBpbiB0aGUgY3VycmVudCBxdWV1ZSBzaG91bGQgYmUgZXhlY3V0ZWRcbiAgICAgICAgLy8gb24gdGhlIG5leHQgcnVuLCBub3QgdGhlIGN1cnJlbnQgcnVuLlxuICAgICAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgdGFzayBvZiBxdWV1ZSkge1xuICAgICAgICAgICAgaWYgKHRhc2suY2FuY2VsbGVkKSBjb250aW51ZTtcbiAgICAgICAgICAgIHRhc2suY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jbGVhcmVkKSBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NsZWFyZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY3VycmVudGx5UnVubmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudGx5UnVubmluZykge1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRhc2tRdWV1ZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGV4dGVuZCwgYmluZEFsbCwgd2Fybk9uY2UgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdyc7XG5jb25zdCB7IEhUTUxJbWFnZUVsZW1lbnQsIEhUTUxFbGVtZW50IH0gPSB3aW5kb3c7XG5pbXBvcnQgRE9NIGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGdldEltYWdlLCBSZXNvdXJjZVR5cGUgfSBmcm9tICcuLi91dGlsL2FqYXgnO1xuaW1wb3J0IFN0eWxlIGZyb20gJy4uL3N0eWxlL3N0eWxlJztcbmltcG9ydCBFdmFsdWF0aW9uUGFyYW1ldGVycyBmcm9tICcuLi9zdHlsZS9ldmFsdWF0aW9uX3BhcmFtZXRlcnMnO1xuaW1wb3J0IFBhaW50ZXIgZnJvbSAnLi4vcmVuZGVyL3BhaW50ZXInO1xuaW1wb3J0IFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcbmltcG9ydCBIYXNoIGZyb20gJy4vaGFzaCc7XG5pbXBvcnQgYmluZEhhbmRsZXJzIGZyb20gJy4vYmluZF9oYW5kbGVycyc7XG5pbXBvcnQgQ2FtZXJhIGZyb20gJy4vY2FtZXJhJztcbmltcG9ydCBMbmdMYXQgZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuLi9nZW8vbG5nX2xhdF9ib3VuZHMnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IEF0dHJpYnV0aW9uQ29udHJvbCBmcm9tICcuL2NvbnRyb2wvYXR0cmlidXRpb25fY29udHJvbCc7XG5pbXBvcnQgTG9nb0NvbnRyb2wgZnJvbSAnLi9jb250cm9sL2xvZ29fY29udHJvbCc7XG5pbXBvcnQgaXNTdXBwb3J0ZWQgZnJvbSAnQG1hcGJveC9tYXBib3gtZ2wtc3VwcG9ydGVkJztcbmltcG9ydCB7IFJHQkFJbWFnZSB9IGZyb20gJy4uL3V0aWwvaW1hZ2UnO1xuaW1wb3J0IHsgRXZlbnQsIEVycm9yRXZlbnQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IHsgTWFwTW91c2VFdmVudCB9IGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCBUYXNrUXVldWUgZnJvbSAnLi4vdXRpbC90YXNrX3F1ZXVlJztcblxuaW1wb3J0IHR5cGUge0xuZ0xhdExpa2V9IGZyb20gJy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCB0eXBlIHtMbmdMYXRCb3VuZHNMaWtlfSBmcm9tICcuLi9nZW8vbG5nX2xhdF9ib3VuZHMnO1xuaW1wb3J0IHR5cGUge1JlcXVlc3RQYXJhbWV0ZXJzfSBmcm9tICcuLi91dGlsL2FqYXgnO1xuaW1wb3J0IHR5cGUge1N0eWxlT3B0aW9uc30gZnJvbSAnLi4vc3R5bGUvc3R5bGUnO1xuaW1wb3J0IHR5cGUge01hcEV2ZW50LCBNYXBEYXRhRXZlbnR9IGZyb20gJy4vZXZlbnRzJztcblxuaW1wb3J0IHR5cGUgU2Nyb2xsWm9vbUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL3Njcm9sbF96b29tJztcbmltcG9ydCB0eXBlIEJveFpvb21IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9ib3hfem9vbSc7XG5pbXBvcnQgdHlwZSBEcmFnUm90YXRlSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvZHJhZ19yb3RhdGUnO1xuaW1wb3J0IHR5cGUgRHJhZ1BhbkhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL2RyYWdfcGFuJztcbmltcG9ydCB0eXBlIEtleWJvYXJkSGFuZGxlciBmcm9tICcuL2hhbmRsZXIva2V5Ym9hcmQnO1xuaW1wb3J0IHR5cGUgRG91YmxlQ2xpY2tab29tSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvZGJsY2xpY2tfem9vbSc7XG5pbXBvcnQgdHlwZSBUb3VjaFpvb21Sb3RhdGVIYW5kbGVyIGZyb20gJy4vaGFuZGxlci90b3VjaF96b29tX3JvdGF0ZSc7XG5pbXBvcnQgdHlwZSB7VGFza0lEfSBmcm9tICcuLi91dGlsL3Rhc2tfcXVldWUnO1xuXG50eXBlIENvbnRyb2xQb3NpdGlvbiA9ICd0b3AtbGVmdCcgfCAndG9wLXJpZ2h0JyB8ICdib3R0b20tbGVmdCcgfCAnYm90dG9tLXJpZ2h0JztcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cbnR5cGUgSUNvbnRyb2wgPSB7XG4gICAgb25BZGQobWFwOiBNYXApOiBIVE1MRWxlbWVudDtcbiAgICBvblJlbW92ZShtYXA6IE1hcCk6IHZvaWQ7XG5cbiAgICArZ2V0RGVmYXVsdFBvc2l0aW9uPzogKCkgPT4gQ29udHJvbFBvc2l0aW9uO1xufVxuLyogZXNsaW50LWVuYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuXG50eXBlIFJlc291cmNlVHlwZUVudW0gPSAkS2V5czx0eXBlb2YgUmVzb3VyY2VUeXBlPjtcbmV4cG9ydCB0eXBlIFJlcXVlc3RUcmFuc2Zvcm1GdW5jdGlvbiA9ICh1cmw6IHN0cmluZywgcmVzb3VyY2VUeXBlPzogUmVzb3VyY2VUeXBlRW51bSkgPT4gUmVxdWVzdFBhcmFtZXRlcnM7XG5cbnR5cGUgTWFwT3B0aW9ucyA9IHtcbiAgICBoYXNoPzogYm9vbGVhbixcbiAgICBpbnRlcmFjdGl2ZT86IGJvb2xlYW4sXG4gICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IHN0cmluZyxcbiAgICBiZWFyaW5nU25hcD86IG51bWJlcixcbiAgICBjbGFzc2VzPzogQXJyYXk8c3RyaW5nPixcbiAgICBhdHRyaWJ1dGlvbkNvbnRyb2w/OiBib29sZWFuLFxuICAgIGxvZ29Qb3NpdGlvbj86IENvbnRyb2xQb3NpdGlvbixcbiAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PzogYm9vbGVhbixcbiAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI/OiBib29sZWFuLFxuICAgIHJlZnJlc2hFeHBpcmVkVGlsZXM/OiBib29sZWFuLFxuICAgIG1heEJvdW5kcz86IExuZ0xhdEJvdW5kc0xpa2UsXG4gICAgc2Nyb2xsWm9vbT86IGJvb2xlYW4sXG4gICAgbWluWm9vbT86ID9udW1iZXIsXG4gICAgbWF4Wm9vbT86ID9udW1iZXIsXG4gICAgYm94Wm9vbT86IGJvb2xlYW4sXG4gICAgZHJhZ1JvdGF0ZT86IGJvb2xlYW4sXG4gICAgZHJhZ1Bhbj86IGJvb2xlYW4sXG4gICAga2V5Ym9hcmQ/OiBib29sZWFuLFxuICAgIGRvdWJsZUNsaWNrWm9vbT86IGJvb2xlYW4sXG4gICAgdG91Y2hab29tUm90YXRlPzogYm9vbGVhbixcbiAgICB0cmFja1Jlc2l6ZT86IGJvb2xlYW4sXG4gICAgY2VudGVyPzogTG5nTGF0TGlrZSxcbiAgICB6b29tPzogbnVtYmVyLFxuICAgIGJlYXJpbmc/OiBudW1iZXIsXG4gICAgcGl0Y2g/OiBudW1iZXIsXG4gICAgcmVuZGVyV29ybGRDb3BpZXM/OiBib29sZWFuLFxuICAgIG1heFRpbGVDYWNoZVNpemU/OiBudW1iZXIsXG4gICAgdHJhbnNmb3JtUmVxdWVzdD86IFJlcXVlc3RUcmFuc2Zvcm1GdW5jdGlvblxufTtcblxuY29uc3QgZGVmYXVsdE1pblpvb20gPSAwO1xuY29uc3QgZGVmYXVsdE1heFpvb20gPSAyMjtcbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIGNlbnRlcjogWzAsIDBdLFxuICAgIHpvb206IDAsXG4gICAgYmVhcmluZzogMCxcbiAgICBwaXRjaDogMCxcblxuICAgIG1pblpvb206IGRlZmF1bHRNaW5ab29tLFxuICAgIG1heFpvb206IGRlZmF1bHRNYXhab29tLFxuXG4gICAgaW50ZXJhY3RpdmU6IHRydWUsXG5cbiAgICBzY3JvbGxab29tOiB0cnVlLFxuICAgIGJveFpvb206IHRydWUsXG4gICAgZHJhZ1JvdGF0ZTogdHJ1ZSxcbiAgICBkcmFnUGFuOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlLFxuICAgIGRvdWJsZUNsaWNrWm9vbTogdHJ1ZSxcbiAgICB0b3VjaFpvb21Sb3RhdGU6IHRydWUsXG5cbiAgICBiZWFyaW5nU25hcDogNyxcblxuICAgIGhhc2g6IGZhbHNlLFxuXG4gICAgYXR0cmlidXRpb25Db250cm9sOiB0cnVlLFxuXG4gICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogZmFsc2UsXG4gICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiBmYWxzZSxcblxuICAgIHRyYWNrUmVzaXplOiB0cnVlLFxuXG4gICAgcmVuZGVyV29ybGRDb3BpZXM6IHRydWUsXG5cbiAgICByZWZyZXNoRXhwaXJlZFRpbGVzOiB0cnVlLFxuXG4gICAgbWF4VGlsZUNhY2hlU2l6ZTogbnVsbCxcblxuICAgIHRyYW5zZm9ybVJlcXVlc3Q6IG51bGwsXG4gICAgZmFkZUR1cmF0aW9uOiAzMDBcbn07XG5cbi8qKlxuICogVGhlIGBNYXBgIG9iamVjdCByZXByZXNlbnRzIHRoZSBtYXAgb24geW91ciBwYWdlLiBJdCBleHBvc2VzIG1ldGhvZHNcbiAqIGFuZCBwcm9wZXJ0aWVzIHRoYXQgZW5hYmxlIHlvdSB0byBwcm9ncmFtbWF0aWNhbGx5IGNoYW5nZSB0aGUgbWFwLFxuICogYW5kIGZpcmVzIGV2ZW50cyBhcyB1c2VycyBpbnRlcmFjdCB3aXRoIGl0LlxuICpcbiAqIFlvdSBjcmVhdGUgYSBgTWFwYCBieSBzcGVjaWZ5aW5nIGEgYGNvbnRhaW5lcmAgYW5kIG90aGVyIG9wdGlvbnMuXG4gKiBUaGVuIE1hcGJveCBHTCBKUyBpbml0aWFsaXplcyB0aGUgbWFwIG9uIHRoZSBwYWdlIGFuZCByZXR1cm5zIHlvdXIgYE1hcGBcbiAqIG9iamVjdC5cbiAqXG4gKiBAZXh0ZW5kcyBFdmVudGVkXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IG9wdGlvbnMuY29udGFpbmVyIFRoZSBIVE1MIGVsZW1lbnQgaW4gd2hpY2ggTWFwYm94IEdMIEpTIHdpbGwgcmVuZGVyIHRoZSBtYXAsIG9yIHRoZSBlbGVtZW50J3Mgc3RyaW5nIGBpZGAuIFRoZSBzcGVjaWZpZWQgZWxlbWVudCBtdXN0IGhhdmUgbm8gY2hpbGRyZW4uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWluWm9vbT0wXSBUaGUgbWluaW11bSB6b29tIGxldmVsIG9mIHRoZSBtYXAgKDAtMjQpLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFpvb209MjJdIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgb2YgdGhlIG1hcCAoMC0yNCkuXG4gKiBAcGFyYW0ge09iamVjdHxzdHJpbmd9IFtvcHRpb25zLnN0eWxlXSBUaGUgbWFwJ3MgTWFwYm94IHN0eWxlLiBUaGlzIG11c3QgYmUgYW4gYSBKU09OIG9iamVjdCBjb25mb3JtaW5nIHRvXG4gKiB0aGUgc2NoZW1hIGRlc2NyaWJlZCBpbiB0aGUgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL21hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvKSwgb3IgYSBVUkwgdG9cbiAqIHN1Y2ggSlNPTi5cbiAqXG4gKiBUbyBsb2FkIGEgc3R5bGUgZnJvbSB0aGUgTWFwYm94IEFQSSwgeW91IGNhbiB1c2UgYSBVUkwgb2YgdGhlIGZvcm0gYG1hcGJveDovL3N0eWxlcy86b3duZXIvOnN0eWxlYCxcbiAqIHdoZXJlIGA6b3duZXJgIGlzIHlvdXIgTWFwYm94IGFjY291bnQgbmFtZSBhbmQgYDpzdHlsZWAgaXMgdGhlIHN0eWxlIElELiBPciB5b3UgY2FuIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZ1xuICogW3RoZSBwcmVkZWZpbmVkIE1hcGJveCBzdHlsZXNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwcy8pOlxuICpcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjlgXG4gKiAgKiBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9vdXRkb29ycy12OWBcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L2xpZ2h0LXY5YFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvZGFyay12OWBcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3NhdGVsbGl0ZS12OWBcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3NhdGVsbGl0ZS1zdHJlZXRzLXY5YFxuICpcbiAqIFRpbGVzZXRzIGhvc3RlZCB3aXRoIE1hcGJveCBjYW4gYmUgc3R5bGUtb3B0aW1pemVkIGlmIHlvdSBhcHBlbmQgYD9vcHRpbWl6ZT10cnVlYCB0byB0aGUgZW5kIG9mIHlvdXIgc3R5bGUgVVJMLCBsaWtlIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjk/b3B0aW1pemU9dHJ1ZWAuXG4gKiBMZWFybiBtb3JlIGFib3V0IHN0eWxlLW9wdGltaXplZCB2ZWN0b3IgdGlsZXMgaW4gb3VyIFtBUEkgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9hcGktZG9jdW1lbnRhdGlvbi8jcmV0cmlldmUtdGlsZXMpLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaGFzaD1mYWxzZV0gSWYgYHRydWVgLCB0aGUgbWFwJ3MgcG9zaXRpb24gKHpvb20sIGNlbnRlciBsYXRpdHVkZSwgY2VudGVyIGxvbmdpdHVkZSwgYmVhcmluZywgYW5kIHBpdGNoKSB3aWxsIGJlIHN5bmNlZCB3aXRoIHRoZSBoYXNoIGZyYWdtZW50IG9mIHRoZSBwYWdlJ3MgVVJMLlxuICogICBGb3IgZXhhbXBsZSwgYGh0dHA6Ly9wYXRoL3RvL215L3BhZ2UuaHRtbCMyLjU5LzM5LjI2LzUzLjA3Ly0yNC4xLzYwYC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaW50ZXJhY3RpdmU9dHJ1ZV0gSWYgYGZhbHNlYCwgbm8gbW91c2UsIHRvdWNoLCBvciBrZXlib2FyZCBsaXN0ZW5lcnMgd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgbWFwLCBzbyBpdCB3aWxsIG5vdCByZXNwb25kIHRvIGludGVyYWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJlYXJpbmdTbmFwPTddIFRoZSB0aHJlc2hvbGQsIG1lYXN1cmVkIGluIGRlZ3JlZXMsIHRoYXQgZGV0ZXJtaW5lcyB3aGVuIHRoZSBtYXAnc1xuICogICBiZWFyaW5nIHdpbGwgc25hcCB0byBub3J0aC4gRm9yIGV4YW1wbGUsIHdpdGggYSBgYmVhcmluZ1NuYXBgIG9mIDcsIGlmIHRoZSB1c2VyIHJvdGF0ZXNcbiAqICAgdGhlIG1hcCB3aXRoaW4gNyBkZWdyZWVzIG9mIG5vcnRoLCB0aGUgbWFwIHdpbGwgYXV0b21hdGljYWxseSBzbmFwIHRvIGV4YWN0IG5vcnRoLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5waXRjaFdpdGhSb3RhdGU9dHJ1ZV0gSWYgYGZhbHNlYCwgdGhlIG1hcCdzIHBpdGNoICh0aWx0KSBjb250cm9sIHdpdGggXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIHdpbGwgYmUgZGlzYWJsZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF0dHJpYnV0aW9uQ29udHJvbD10cnVlXSBJZiBgdHJ1ZWAsIGFuIHtAbGluayBBdHRyaWJ1dGlvbkNvbnRyb2x9IHdpbGwgYmUgYWRkZWQgdG8gdGhlIG1hcC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sb2dvUG9zaXRpb249J2JvdHRvbS1sZWZ0J10gQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgTWFwYm94IHdvcmRtYXJrIG9uIHRoZSBtYXAuIFZhbGlkIG9wdGlvbnMgYXJlIGB0b3AtbGVmdGAsYHRvcC1yaWdodGAsIGBib3R0b20tbGVmdGAsIGBib3R0b20tcmlnaHRgLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PWZhbHNlXSBJZiBgdHJ1ZWAsIG1hcCBjcmVhdGlvbiB3aWxsIGZhaWwgaWYgdGhlIHBlcmZvcm1hbmNlIG9mIE1hcGJveFxuICogICBHTCBKUyB3b3VsZCBiZSBkcmFtYXRpY2FsbHkgd29yc2UgdGhhbiBleHBlY3RlZCAoaS5lLiBhIHNvZnR3YXJlIHJlbmRlcmVyIHdvdWxkIGJlIHVzZWQpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIElmIGB0cnVlYCwgdGhlIG1hcCdzIGNhbnZhcyBjYW4gYmUgZXhwb3J0ZWQgdG8gYSBQTkcgdXNpbmcgYG1hcC5nZXRDYW52YXMoKS50b0RhdGFVUkwoKWAuIFRoaXMgaXMgYGZhbHNlYCBieSBkZWZhdWx0IGFzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZWZyZXNoRXhwaXJlZFRpbGVzPXRydWVdIElmIGBmYWxzZWAsIHRoZSBtYXAgd29uJ3QgYXR0ZW1wdCB0byByZS1yZXF1ZXN0IHRpbGVzIG9uY2UgdGhleSBleHBpcmUgcGVyIHRoZWlyIEhUVFAgYGNhY2hlQ29udHJvbGAvYGV4cGlyZXNgIGhlYWRlcnMuXG4gKiBAcGFyYW0ge0xuZ0xhdEJvdW5kc0xpa2V9IFtvcHRpb25zLm1heEJvdW5kc10gSWYgc2V0LCB0aGUgbWFwIHdpbGwgYmUgY29uc3RyYWluZWQgdG8gdGhlIGdpdmVuIGJvdW5kcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3R9IFtvcHRpb25zLnNjcm9sbFpvb209dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJzY3JvbGwgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuIEFuIGBPYmplY3RgIHZhbHVlIGlzIHBhc3NlZCBhcyBvcHRpb25zIHRvIHtAbGluayBTY3JvbGxab29tSGFuZGxlciNlbmFibGV9LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5ib3hab29tPXRydWVdIElmIGB0cnVlYCwgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkIChzZWUge0BsaW5rIEJveFpvb21IYW5kbGVyfSkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRyYWdSb3RhdGU9dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQgKHNlZSB7QGxpbmsgRHJhZ1JvdGF0ZUhhbmRsZXJ9KS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZHJhZ1Bhbj10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZCAoc2VlIHtAbGluayBEcmFnUGFuSGFuZGxlcn0pLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5rZXlib2FyZD10cnVlXSBJZiBgdHJ1ZWAsIGtleWJvYXJkIHNob3J0Y3V0cyBhcmUgZW5hYmxlZCAoc2VlIHtAbGluayBLZXlib2FyZEhhbmRsZXJ9KS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZG91YmxlQ2xpY2tab29tPXRydWVdIElmIGB0cnVlYCwgdGhlIFwiZG91YmxlIGNsaWNrIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkIChzZWUge0BsaW5rIERvdWJsZUNsaWNrWm9vbUhhbmRsZXJ9KS5cbiAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3R9IFtvcHRpb25zLnRvdWNoWm9vbVJvdGF0ZT10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBcInBpbmNoIHRvIHJvdGF0ZSBhbmQgem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuIEFuIGBPYmplY3RgIHZhbHVlIGlzIHBhc3NlZCBhcyBvcHRpb25zIHRvIHtAbGluayBUb3VjaFpvb21Sb3RhdGVIYW5kbGVyI2VuYWJsZX0uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWNrUmVzaXplPXRydWVdICBJZiBgdHJ1ZWAsIHRoZSBtYXAgd2lsbCBhdXRvbWF0aWNhbGx5IHJlc2l6ZSB3aGVuIHRoZSBicm93c2VyIHdpbmRvdyByZXNpemVzLlxuICogQHBhcmFtIHtMbmdMYXRMaWtlfSBbb3B0aW9ucy5jZW50ZXI9WzAsIDBdXSBUaGUgaW5pdGFsIGdlb2dyYXBoaWNhbCBjZW50ZXJwb2ludCBvZiB0aGUgbWFwLiBJZiBgY2VudGVyYCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBjb25zdHJ1Y3RvciBvcHRpb25zLCBNYXBib3ggR0wgSlMgd2lsbCBsb29rIGZvciBpdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgb2JqZWN0LiBJZiBpdCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBzdHlsZSwgZWl0aGVyLCBpdCB3aWxsIGRlZmF1bHQgdG8gYFswLCAwXWAgTm90ZTogTWFwYm94IEdMIHVzZXMgbG9uZ2l0dWRlLCBsYXRpdHVkZSBjb29yZGluYXRlIG9yZGVyIChhcyBvcHBvc2VkIHRvIGxhdGl0dWRlLCBsb25naXR1ZGUpIHRvIG1hdGNoIEdlb0pTT04uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuem9vbT0wXSBUaGUgaW5pdGlhbCB6b29tIGxldmVsIG9mIHRoZSBtYXAuIElmIGB6b29tYCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBjb25zdHJ1Y3RvciBvcHRpb25zLCBNYXBib3ggR0wgSlMgd2lsbCBsb29rIGZvciBpdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgb2JqZWN0LiBJZiBpdCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBzdHlsZSwgZWl0aGVyLCBpdCB3aWxsIGRlZmF1bHQgdG8gYDBgLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJlYXJpbmc9MF0gVGhlIGluaXRpYWwgYmVhcmluZyAocm90YXRpb24pIG9mIHRoZSBtYXAsIG1lYXN1cmVkIGluIGRlZ3JlZXMgY291bnRlci1jbG9ja3dpc2UgZnJvbSBub3J0aC4gSWYgYGJlYXJpbmdgIGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIGNvbnN0cnVjdG9yIG9wdGlvbnMsIE1hcGJveCBHTCBKUyB3aWxsIGxvb2sgZm9yIGl0IGluIHRoZSBtYXAncyBzdHlsZSBvYmplY3QuIElmIGl0IGlzIG5vdCBzcGVjaWZpZWQgaW4gdGhlIHN0eWxlLCBlaXRoZXIsIGl0IHdpbGwgZGVmYXVsdCB0byBgMGAuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucGl0Y2g9MF0gVGhlIGluaXRpYWwgcGl0Y2ggKHRpbHQpIG9mIHRoZSBtYXAsIG1lYXN1cmVkIGluIGRlZ3JlZXMgYXdheSBmcm9tIHRoZSBwbGFuZSBvZiB0aGUgc2NyZWVuICgwLTYwKS4gSWYgYHBpdGNoYCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBjb25zdHJ1Y3RvciBvcHRpb25zLCBNYXBib3ggR0wgSlMgd2lsbCBsb29rIGZvciBpdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgb2JqZWN0LiBJZiBpdCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBzdHlsZSwgZWl0aGVyLCBpdCB3aWxsIGRlZmF1bHQgdG8gYDBgLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZW5kZXJXb3JsZENvcGllcz10cnVlXSAgSWYgYHRydWVgLCBtdWx0aXBsZSBjb3BpZXMgb2YgdGhlIHdvcmxkIHdpbGwgYmUgcmVuZGVyZWQsIHdoZW4gem9vbWVkIG91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhUaWxlQ2FjaGVTaXplPW51bGxdICBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGlsZXMgc3RvcmVkIGluIHRoZSB0aWxlIGNhY2hlIGZvciBhIGdpdmVuIHNvdXJjZS4gSWYgb21pdHRlZCwgdGhlIGNhY2hlIHdpbGwgYmUgZHluYW1pY2FsbHkgc2l6ZWQgYmFzZWQgb24gdGhlIGN1cnJlbnQgdmlld3BvcnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PW51bGxdIElmIHNwZWNpZmllZCwgZGVmaW5lcyBhIENTUyBmb250LWZhbWlseVxuICogICBmb3IgbG9jYWxseSBvdmVycmlkaW5nIGdlbmVyYXRpb24gb2YgZ2x5cGhzIGluIHRoZSAnQ0pLIFVuaWZpZWQgSWRlb2dyYXBocycgYW5kICdIYW5ndWwgU3lsbGFibGVzJyByYW5nZXMuXG4gKiAgIEluIHRoZXNlIHJhbmdlcywgZm9udCBzZXR0aW5ncyBmcm9tIHRoZSBtYXAncyBzdHlsZSB3aWxsIGJlIGlnbm9yZWQsIGV4Y2VwdCBmb3IgZm9udC13ZWlnaHQga2V5d29yZHMgKGxpZ2h0L3JlZ3VsYXIvbWVkaXVtL2JvbGQpLlxuICogICBUaGUgcHVycG9zZSBvZiB0aGlzIG9wdGlvbiBpcyB0byBhdm9pZCBiYW5kd2lkdGgtaW50ZW5zaXZlIGdseXBoIHNlcnZlciByZXF1ZXN0cy4gKHNlZSBbVXNlIGxvY2FsbHkgZ2VuZXJhdGVkIGlkZW9ncmFwaHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbG9jYWwtaWRlb2dyYXBocykpXG4gKiBAcGFyYW0ge1JlcXVlc3RUcmFuc2Zvcm1GdW5jdGlvbn0gW29wdGlvbnMudHJhbnNmb3JtUmVxdWVzdD1udWxsXSBBIGNhbGxiYWNrIHJ1biBiZWZvcmUgdGhlIE1hcCBtYWtlcyBhIHJlcXVlc3QgZm9yIGFuIGV4dGVybmFsIFVSTC4gVGhlIGNhbGxiYWNrIGNhbiBiZSB1c2VkIHRvIG1vZGlmeSB0aGUgdXJsLCBzZXQgaGVhZGVycywgb3Igc2V0IHRoZSBjcmVkZW50aWFscyBwcm9wZXJ0eSBmb3IgY3Jvc3Mtb3JpZ2luIHJlcXVlc3RzLlxuICogICBFeHBlY3RlZCB0byByZXR1cm4gYW4gb2JqZWN0IHdpdGggYSBgdXJsYCBwcm9wZXJ0eSBhbmQgb3B0aW9uYWxseSBgaGVhZGVyc2AgYW5kIGBjcmVkZW50aWFsc2AgcHJvcGVydGllcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY29sbGVjdFJlc291cmNlVGltaW5nPWZhbHNlXSBJZiBgdHJ1ZWAsIFJlc291cmNlIFRpbWluZyBBUEkgaW5mb3JtYXRpb24gd2lsbCBiZSBjb2xsZWN0ZWQgZm9yIHJlcXVlc3RzIG1hZGUgYnkgR2VvSlNPTiBhbmQgVmVjdG9yIFRpbGUgd2ViIHdvcmtlcnMgKHRoaXMgaW5mb3JtYXRpb24gaXMgbm9ybWFsbHkgaW5hY2Nlc3NpYmxlIGZyb20gdGhlIG1haW4gSmF2YXNjcmlwdCB0aHJlYWQpLiBJbmZvcm1hdGlvbiB3aWxsIGJlIHJldHVybmVkIGluIGEgYHJlc291cmNlVGltaW5nYCBwcm9wZXJ0eSBvZiByZWxldmFudCBgZGF0YWAgZXZlbnRzLlxuICogQGV4YW1wbGVcbiAqIHZhciBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHtcbiAqICAgY29udGFpbmVyOiAnbWFwJyxcbiAqICAgY2VudGVyOiBbLTEyMi40MjA2NzksIDM3Ljc3MjUzN10sXG4gKiAgIHpvb206IDEzLFxuICogICBzdHlsZTogc3R5bGVfb2JqZWN0LFxuICogICBoYXNoOiB0cnVlLFxuICogICB0cmFuc2Zvcm1SZXF1ZXN0OiAodXJsLCByZXNvdXJjZVR5cGUpPT4ge1xuICogICAgIGlmKHJlc291cmNlVHlwZSA9PSAnU291cmNlJyAmJiB1cmwuc3RhcnRzV2l0aCgnaHR0cDovL215SG9zdCcpKSB7XG4gKiAgICAgICByZXR1cm4ge1xuICogICAgICAgIHVybDogdXJsLnJlcGxhY2UoJ2h0dHAnLCAnaHR0cHMnKSxcbiAqICAgICAgICBoZWFkZXJzOiB7ICdteS1jdXN0b20taGVhZGVyJzogdHJ1ZX0sXG4gKiAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyAgLy8gSW5jbHVkZSBjb29raWVzIGZvciBjcm9zcy1vcmlnaW4gcmVxdWVzdHNcbiAqICAgICAgfVxuICogICAgIH1cbiAqICAgfVxuICogfSk7XG4gKiBAc2VlIFtEaXNwbGF5IGEgbWFwXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlcy8pXG4gKi9cbmNsYXNzIE1hcCBleHRlbmRzIENhbWVyYSB7XG4gICAgc3R5bGU6IFN0eWxlO1xuICAgIHBhaW50ZXI6IFBhaW50ZXI7XG5cbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfbWlzc2luZ0NTU0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2NhbnZhc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2NvbnRyb2xDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9jb250cm9sUG9zaXRpb25zOiB7W3N0cmluZ106IEhUTUxFbGVtZW50fTtcbiAgICBfaW50ZXJhY3RpdmU6ID9ib29sZWFuO1xuICAgIF9zaG93VGlsZUJvdW5kYXJpZXM6ID9ib29sZWFuO1xuICAgIF9zaG93Q29sbGlzaW9uQm94ZXM6ID9ib29sZWFuO1xuICAgIF9zaG93T3ZlcmRyYXdJbnNwZWN0b3I6IGJvb2xlYW47XG4gICAgX3JlcGFpbnQ6ID9ib29sZWFuO1xuICAgIF92ZXJ0aWNlczogP2Jvb2xlYW47XG4gICAgX2NhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgX3RyYW5zZm9ybVJlcXVlc3Q6IFJlcXVlc3RUcmFuc2Zvcm1GdW5jdGlvbjtcbiAgICBfbWF4VGlsZUNhY2hlU2l6ZTogbnVtYmVyO1xuICAgIF9mcmFtZUlkOiBhbnk7XG4gICAgX3N0eWxlRGlydHk6ID9ib29sZWFuO1xuICAgIF9zb3VyY2VzRGlydHk6ID9ib29sZWFuO1xuICAgIF9wbGFjZW1lbnREaXJ0eTogP2Jvb2xlYW47XG4gICAgX2xvYWRlZDogYm9vbGVhbjtcbiAgICBfdHJhY2tSZXNpemU6IGJvb2xlYW47XG4gICAgX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcjogYm9vbGVhbjtcbiAgICBfZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogYm9vbGVhbjtcbiAgICBfcmVmcmVzaEV4cGlyZWRUaWxlczogYm9vbGVhbjtcbiAgICBfaGFzaDogSGFzaDtcbiAgICBfZGVsZWdhdGVkTGlzdGVuZXJzOiBhbnk7XG4gICAgX2ZhZGVEdXJhdGlvbjogbnVtYmVyO1xuICAgIF9jcm9zc0ZhZGluZ0ZhY3RvcjogbnVtYmVyO1xuICAgIF9jb2xsZWN0UmVzb3VyY2VUaW1pbmc6IGJvb2xlYW47XG4gICAgX3JlbmRlclRhc2tRdWV1ZTogVGFza1F1ZXVlO1xuXG4gICAgc2Nyb2xsWm9vbTogU2Nyb2xsWm9vbUhhbmRsZXI7XG4gICAgYm94Wm9vbTogQm94Wm9vbUhhbmRsZXI7XG4gICAgZHJhZ1JvdGF0ZTogRHJhZ1JvdGF0ZUhhbmRsZXI7XG4gICAgZHJhZ1BhbjogRHJhZ1BhbkhhbmRsZXI7XG4gICAga2V5Ym9hcmQ6IEtleWJvYXJkSGFuZGxlcjtcbiAgICBkb3VibGVDbGlja1pvb206IERvdWJsZUNsaWNrWm9vbUhhbmRsZXI7XG4gICAgdG91Y2hab29tUm90YXRlOiBUb3VjaFpvb21Sb3RhdGVIYW5kbGVyO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogTWFwT3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWluWm9vbSAhPSBudWxsICYmIG9wdGlvbnMubWF4Wm9vbSAhPSBudWxsICYmIG9wdGlvbnMubWluWm9vbSA+IG9wdGlvbnMubWF4Wm9vbSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIG1pblpvb21gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0ob3B0aW9ucy5taW5ab29tLCBvcHRpb25zLm1heFpvb20sIG9wdGlvbnMucmVuZGVyV29ybGRDb3BpZXMpO1xuICAgICAgICBzdXBlcih0cmFuc2Zvcm0sIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2ludGVyYWN0aXZlID0gb3B0aW9ucy5pbnRlcmFjdGl2ZTtcbiAgICAgICAgdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSA9IG9wdGlvbnMubWF4VGlsZUNhY2hlU2l6ZTtcbiAgICAgICAgdGhpcy5fZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCA9IG9wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDtcbiAgICAgICAgdGhpcy5fcHJlc2VydmVEcmF3aW5nQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG4gICAgICAgIHRoaXMuX3RyYWNrUmVzaXplID0gb3B0aW9ucy50cmFja1Jlc2l6ZTtcbiAgICAgICAgdGhpcy5fYmVhcmluZ1NuYXAgPSBvcHRpb25zLmJlYXJpbmdTbmFwO1xuICAgICAgICB0aGlzLl9yZWZyZXNoRXhwaXJlZFRpbGVzID0gb3B0aW9ucy5yZWZyZXNoRXhwaXJlZFRpbGVzO1xuICAgICAgICB0aGlzLl9mYWRlRHVyYXRpb24gPSBvcHRpb25zLmZhZGVEdXJhdGlvbjtcbiAgICAgICAgdGhpcy5fY3Jvc3NGYWRpbmdGYWN0b3IgPSAxO1xuICAgICAgICB0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcgPSBvcHRpb25zLmNvbGxlY3RSZXNvdXJjZVRpbWluZztcbiAgICAgICAgdGhpcy5fcmVuZGVyVGFza1F1ZXVlID0gbmV3IFRhc2tRdWV1ZSgpO1xuXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybVJlcXVlc3RGbiA9IG9wdGlvbnMudHJhbnNmb3JtUmVxdWVzdDtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtUmVxdWVzdCA9IHRyYW5zZm9ybVJlcXVlc3RGbiA/ICAodXJsLCB0eXBlKSA9PiB0cmFuc2Zvcm1SZXF1ZXN0Rm4odXJsLCB0eXBlKSB8fCAoeyB1cmwgfSkgOiAodXJsKSA9PiAoeyB1cmwgfSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNvbnRhaW5lciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcHRpb25zLmNvbnRhaW5lcik7XG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29udGFpbmVyICcke29wdGlvbnMuY29udGFpbmVyfScgbm90IGZvdW5kLmApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5jb250YWluZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdHlwZTogJ2NvbnRhaW5lcicgbXVzdCBiZSBhIFN0cmluZyBvciBIVE1MRWxlbWVudC5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLm1heEJvdW5kcykge1xuICAgICAgICAgICAgdGhpcy5zZXRNYXhCb3VuZHMob3B0aW9ucy5tYXhCb3VuZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uV2luZG93T25saW5lJyxcbiAgICAgICAgICAgICdfb25XaW5kb3dSZXNpemUnLFxuICAgICAgICAgICAgJ19jb250ZXh0TG9zdCcsXG4gICAgICAgICAgICAnX2NvbnRleHRSZXN0b3JlZCcsXG4gICAgICAgICAgICAnX3VwZGF0ZScsXG4gICAgICAgICAgICAnX3JlbmRlcicsXG4gICAgICAgICAgICAnX29uRGF0YScsXG4gICAgICAgICAgICAnX29uRGF0YUxvYWRpbmcnXG4gICAgICAgIF0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX3NldHVwQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuX3NldHVwUGFpbnRlcigpO1xuXG4gICAgICAgIHRoaXMub24oJ21vdmUnLCB0aGlzLl91cGRhdGUuYmluZCh0aGlzLCBmYWxzZSkpO1xuICAgICAgICB0aGlzLm9uKCd6b29tJywgdGhpcy5fdXBkYXRlLmJpbmQodGhpcywgdHJ1ZSkpO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsIHRoaXMuX29uV2luZG93T25saW5lLCBmYWxzZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpbmRIYW5kbGVycyh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9oYXNoID0gb3B0aW9ucy5oYXNoICYmIChuZXcgSGFzaCgpKS5hZGRUbyh0aGlzKTtcbiAgICAgICAgLy8gZG9uJ3Qgc2V0IHBvc2l0aW9uIGZyb20gb3B0aW9ucyBpZiBzZXQgdGhyb3VnaCBoYXNoXG4gICAgICAgIGlmICghdGhpcy5faGFzaCB8fCAhdGhpcy5faGFzaC5fb25IYXNoQ2hhbmdlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuanVtcFRvKHtcbiAgICAgICAgICAgICAgICBjZW50ZXI6IG9wdGlvbnMuY2VudGVyLFxuICAgICAgICAgICAgICAgIHpvb206IG9wdGlvbnMuem9vbSxcbiAgICAgICAgICAgICAgICBiZWFyaW5nOiBvcHRpb25zLmJlYXJpbmcsXG4gICAgICAgICAgICAgICAgcGl0Y2g6IG9wdGlvbnMucGl0Y2hcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNpemUoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5zdHlsZSkgdGhpcy5zZXRTdHlsZShvcHRpb25zLnN0eWxlLCB7IGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTogb3B0aW9ucy5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHkgfSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXR0cmlidXRpb25Db250cm9sKSB0aGlzLmFkZENvbnRyb2wobmV3IEF0dHJpYnV0aW9uQ29udHJvbCgpKTtcbiAgICAgICAgdGhpcy5hZGRDb250cm9sKG5ldyBMb2dvQ29udHJvbCgpLCBvcHRpb25zLmxvZ29Qb3NpdGlvbik7XG5cbiAgICAgICAgdGhpcy5vbignc3R5bGUubG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnVubW9kaWZpZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmp1bXBUbyh0aGlzLnN0eWxlLnN0eWxlc2hlZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm9uKCdkYXRhJywgdGhpcy5fb25EYXRhKTtcbiAgICAgICAgdGhpcy5vbignZGF0YWxvYWRpbmcnLCB0aGlzLl9vbkRhdGFMb2FkaW5nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEge0BsaW5rIElDb250cm9sfSB0byB0aGUgbWFwLCBjYWxsaW5nIGBjb250cm9sLm9uQWRkKHRoaXMpYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SUNvbnRyb2x9IGNvbnRyb2wgVGhlIHtAbGluayBJQ29udHJvbH0gdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcG9zaXRpb25dIHBvc2l0aW9uIG9uIHRoZSBtYXAgdG8gd2hpY2ggdGhlIGNvbnRyb2wgd2lsbCBiZSBhZGRlZC5cbiAgICAgKiBWYWxpZCB2YWx1ZXMgYXJlIGAndG9wLWxlZnQnYCwgYCd0b3AtcmlnaHQnYCwgYCdib3R0b20tbGVmdCdgLCBhbmQgYCdib3R0b20tcmlnaHQnYC4gRGVmYXVsdHMgdG8gYCd0b3AtcmlnaHQnYC5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAc2VlIFtEaXNwbGF5IG1hcCBuYXZpZ2F0aW9uIGNvbnRyb2xzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL25hdmlnYXRpb24vKVxuICAgICAqL1xuICAgIGFkZENvbnRyb2woY29udHJvbDogSUNvbnRyb2wsIHBvc2l0aW9uPzogQ29udHJvbFBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkICYmIGNvbnRyb2wuZ2V0RGVmYXVsdFBvc2l0aW9uKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGNvbnRyb2wuZ2V0RGVmYXVsdFBvc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gJ3RvcC1yaWdodCc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udHJvbEVsZW1lbnQgPSBjb250cm9sLm9uQWRkKHRoaXMpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbkNvbnRhaW5lciA9IHRoaXMuX2NvbnRyb2xQb3NpdGlvbnNbcG9zaXRpb25dO1xuICAgICAgICBpZiAocG9zaXRpb24uaW5kZXhPZignYm90dG9tJykgIT09IC0xKSB7XG4gICAgICAgICAgICBwb3NpdGlvbkNvbnRhaW5lci5pbnNlcnRCZWZvcmUoY29udHJvbEVsZW1lbnQsIHBvc2l0aW9uQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zaXRpb25Db250YWluZXIuYXBwZW5kQ2hpbGQoY29udHJvbEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGNvbnRyb2wgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtJQ29udHJvbH0gY29udHJvbCBUaGUge0BsaW5rIElDb250cm9sfSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgcmVtb3ZlQ29udHJvbChjb250cm9sOiBJQ29udHJvbCkge1xuICAgICAgICBjb250cm9sLm9uUmVtb3ZlKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBtYXAgYWNjb3JkaW5nIHRvIHRoZSBkaW1lbnNpb25zIG9mIGl0c1xuICAgICAqIGBjb250YWluZXJgIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBtdXN0IGJlIGNhbGxlZCBhZnRlciB0aGUgbWFwJ3MgYGNvbnRhaW5lcmAgaXMgcmVzaXplZCBieSBhbm90aGVyIHNjcmlwdCxcbiAgICAgKiBvciB3aGVuIHRoZSBtYXAgaXMgc2hvd24gYWZ0ZXIgYmVpbmcgaW5pdGlhbGx5IGhpZGRlbiB3aXRoIENTUy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICByZXNpemUoZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB0aGlzLl9jb250YWluZXJEaW1lbnNpb25zKCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gZGltZW5zaW9uc1swXTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gZGltZW5zaW9uc1sxXTtcblxuICAgICAgICB0aGlzLl9yZXNpemVDYW52YXMod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5wYWludGVyLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdtb3Zlc3RhcnQnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdtb3ZlJywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncmVzaXplJywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnbW92ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0Qm91bmRzfSBUaGUgbWFwJ3MgZ2VvZ3JhcGhpY2FsIGJvdW5kcy5cbiAgICAgKi9cbiAgICBnZXRCb3VuZHMoKSB7XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IG5ldyBMbmdMYXRCb3VuZHMoXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKG5ldyBQb2ludCgwLCB0aGlzLnRyYW5zZm9ybS5oZWlnaHQpKSxcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24obmV3IFBvaW50KHRoaXMudHJhbnNmb3JtLndpZHRoLCAwKSkpO1xuXG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5hbmdsZSB8fCB0aGlzLnRyYW5zZm9ybS5waXRjaCkge1xuICAgICAgICAgICAgYm91bmRzLmV4dGVuZCh0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKG5ldyBQb2ludCh0aGlzLnRyYW5zZm9ybS5zaXplLngsIDApKSk7XG4gICAgICAgICAgICBib3VuZHMuZXh0ZW5kKHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24obmV3IFBvaW50KDAsIHRoaXMudHJhbnNmb3JtLnNpemUueSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib3VuZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWFwJ3MgZ2VvZ3JhcGhpY2FsIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIFJldHVybnMgdGhlIExuZ0xhdEJvdW5kcyBieSB3aGljaCBwYW4gYW5kIHpvb20gb3BlcmF0aW9ucyBvbiB0aGUgbWFwIGFyZSBjb25zdHJhaW5lZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXRCb3VuZHMgfCBudWxsfSBUaGUgbWF4aW11bSBib3VuZHMgdGhlIG1hcCBpcyBjb25zdHJhaW5lZCB0bywgb3IgYG51bGxgIGlmIG5vbmUgc2V0LlxuICAgICAqL1xuICAgIGdldE1heEJvdW5kcyAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5sYXRSYW5nZSAmJiB0aGlzLnRyYW5zZm9ybS5sYXRSYW5nZS5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmxuZ1JhbmdlICYmIHRoaXMudHJhbnNmb3JtLmxuZ1JhbmdlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMbmdMYXRCb3VuZHMoW3RoaXMudHJhbnNmb3JtLmxuZ1JhbmdlWzBdLCB0aGlzLnRyYW5zZm9ybS5sYXRSYW5nZVswXV0sXG4gICAgICAgICAgICAgICAgW3RoaXMudHJhbnNmb3JtLmxuZ1JhbmdlWzFdLCB0aGlzLnRyYW5zZm9ybS5sYXRSYW5nZVsxXV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIGNsZWFycyB0aGUgbWFwJ3MgZ2VvZ3JhcGhpY2FsIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIFBhbiBhbmQgem9vbSBvcGVyYXRpb25zIGFyZSBjb25zdHJhaW5lZCB3aXRoaW4gdGhlc2UgYm91bmRzLlxuICAgICAqIElmIGEgcGFuIG9yIHpvb20gaXMgcGVyZm9ybWVkIHRoYXQgd291bGRcbiAgICAgKiBkaXNwbGF5IHJlZ2lvbnMgb3V0c2lkZSB0aGVzZSBib3VuZHMsIHRoZSBtYXAgd2lsbFxuICAgICAqIGluc3RlYWQgZGlzcGxheSBhIHBvc2l0aW9uIGFuZCB6b29tIGxldmVsXG4gICAgICogYXMgY2xvc2UgYXMgcG9zc2libGUgdG8gdGhlIG9wZXJhdGlvbidzIHJlcXVlc3Qgd2hpbGUgc3RpbGxcbiAgICAgKiByZW1haW5pbmcgd2l0aGluIHRoZSBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdEJvdW5kc0xpa2UgfCBudWxsIHwgdW5kZWZpbmVkfSBsbmdsYXRib3VuZHMgVGhlIG1heGltdW0gYm91bmRzIHRvIHNldC4gSWYgYG51bGxgIG9yIGB1bmRlZmluZWRgIGlzIHByb3ZpZGVkLCB0aGUgZnVuY3Rpb24gcmVtb3ZlcyB0aGUgbWFwJ3MgbWF4aW11bSBib3VuZHMuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0TWF4Qm91bmRzKGxuZ2xhdGJvdW5kczogTG5nTGF0Qm91bmRzTGlrZSkge1xuICAgICAgICBpZiAobG5nbGF0Ym91bmRzKSB7XG4gICAgICAgICAgICBjb25zdCBiID0gTG5nTGF0Qm91bmRzLmNvbnZlcnQobG5nbGF0Ym91bmRzKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmxuZ1JhbmdlID0gW2IuZ2V0V2VzdCgpLCBiLmdldEVhc3QoKV07XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5sYXRSYW5nZSA9IFtiLmdldFNvdXRoKCksIGIuZ2V0Tm9ydGgoKV07XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5fY29uc3RyYWluKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChsbmdsYXRib3VuZHMgPT09IG51bGwgfHwgbG5nbGF0Ym91bmRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmxuZ1JhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmxhdFJhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBjbGVhcnMgdGhlIG1hcCdzIG1pbmltdW0gem9vbSBsZXZlbC5cbiAgICAgKiBJZiB0aGUgbWFwJ3MgY3VycmVudCB6b29tIGxldmVsIGlzIGxvd2VyIHRoYW4gdGhlIG5ldyBtaW5pbXVtLFxuICAgICAqIHRoZSBtYXAgd2lsbCB6b29tIHRvIHRoZSBuZXcgbWluaW11bS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZH0gbWluWm9vbSBUaGUgbWluaW11bSB6b29tIGxldmVsIHRvIHNldCAoMC0yNCkuXG4gICAgICogICBJZiBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgaXMgcHJvdmlkZWQsIHRoZSBmdW5jdGlvbiByZW1vdmVzIHRoZSBjdXJyZW50IG1pbmltdW0gem9vbSAoaS5lLiBzZXRzIGl0IHRvIDApLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldE1pblpvb20obWluWm9vbT86ID9udW1iZXIpIHtcblxuICAgICAgICBtaW5ab29tID0gbWluWm9vbSA9PT0gbnVsbCB8fCBtaW5ab29tID09PSB1bmRlZmluZWQgPyBkZWZhdWx0TWluWm9vbSA6IG1pblpvb207XG5cbiAgICAgICAgaWYgKG1pblpvb20gPj0gZGVmYXVsdE1pblpvb20gJiYgbWluWm9vbSA8PSB0aGlzLnRyYW5zZm9ybS5tYXhab29tKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5taW5ab29tID0gbWluWm9vbTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRab29tKCkgPCBtaW5ab29tKSB0aGlzLnNldFpvb20obWluWm9vbSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYG1pblpvb20gbXVzdCBiZSBiZXR3ZWVuICR7ZGVmYXVsdE1pblpvb219IGFuZCB0aGUgY3VycmVudCBtYXhab29tLCBpbmNsdXNpdmVgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBtaW5pbXVtIGFsbG93YWJsZSB6b29tIGxldmVsLlxuICAgICAqXG4gICAgICogQHJldHVybnMge251bWJlcn0gbWluWm9vbVxuICAgICAqL1xuICAgIGdldE1pblpvb20oKSB7IHJldHVybiB0aGlzLnRyYW5zZm9ybS5taW5ab29tOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIGNsZWFycyB0aGUgbWFwJ3MgbWF4aW11bSB6b29tIGxldmVsLlxuICAgICAqIElmIHRoZSBtYXAncyBjdXJyZW50IHpvb20gbGV2ZWwgaXMgaGlnaGVyIHRoYW4gdGhlIG5ldyBtYXhpbXVtLFxuICAgICAqIHRoZSBtYXAgd2lsbCB6b29tIHRvIHRoZSBuZXcgbWF4aW11bS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZH0gbWF4Wm9vbSBUaGUgbWF4aW11bSB6b29tIGxldmVsIHRvIHNldC5cbiAgICAgKiAgIElmIGBudWxsYCBvciBgdW5kZWZpbmVkYCBpcyBwcm92aWRlZCwgdGhlIGZ1bmN0aW9uIHJlbW92ZXMgdGhlIGN1cnJlbnQgbWF4aW11bSB6b29tIChzZXRzIGl0IHRvIDIyKS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRNYXhab29tKG1heFpvb20/OiA/bnVtYmVyKSB7XG5cbiAgICAgICAgbWF4Wm9vbSA9IG1heFpvb20gPT09IG51bGwgfHwgbWF4Wm9vbSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdE1heFpvb20gOiBtYXhab29tO1xuXG4gICAgICAgIGlmIChtYXhab29tID49IHRoaXMudHJhbnNmb3JtLm1pblpvb20pIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLm1heFpvb20gPSBtYXhab29tO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmdldFpvb20oKSA+IG1heFpvb20pIHRoaXMuc2V0Wm9vbShtYXhab29tKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihgbWF4Wm9vbSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB0aGUgY3VycmVudCBtaW5ab29tYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc3RhdGUgb2YgcmVuZGVyV29ybGRDb3BpZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmVuZGVyV29ybGRDb3BpZXNcbiAgICAgKi9cbiAgICBnZXRSZW5kZXJXb3JsZENvcGllcygpIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzOyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGF0ZSBvZiByZW5kZXJXb3JsZENvcGllcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVuZGVyV29ybGRDb3BpZXMgSWYgYHRydWVgLCBtdWx0aXBsZSBjb3BpZXMgb2YgdGhlIHdvcmxkIHdpbGwgYmUgcmVuZGVyZWQsIHdoZW4gem9vbWVkIG91dC4gYHVuZGVmaW5lZGAgaXMgdHJlYXRlZCBhcyBgdHJ1ZWAsIGBudWxsYCBpcyB0cmVhdGVkIGFzIGBmYWxzZWAuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0UmVuZGVyV29ybGRDb3BpZXMocmVuZGVyV29ybGRDb3BpZXM/OiA/Ym9vbGVhbikge1xuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzID0gcmVuZGVyV29ybGRDb3BpZXM7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIG1heGltdW0gYWxsb3dhYmxlIHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBtYXhab29tXG4gICAgICovXG4gICAgZ2V0TWF4Wm9vbSgpIHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFpvb207IH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB7QGxpbmsgUG9pbnR9IHJlcHJlc2VudGluZyBwaXhlbCBjb29yZGluYXRlcywgcmVsYXRpdmUgdG8gdGhlIG1hcCdzIGBjb250YWluZXJgLFxuICAgICAqIHRoYXQgY29ycmVzcG9uZCB0byB0aGUgc3BlY2lmaWVkIGdlb2dyYXBoaWNhbCBsb2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gbG5nbGF0IFRoZSBnZW9ncmFwaGljYWwgbG9jYXRpb24gdG8gcHJvamVjdC5cbiAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFRoZSB7QGxpbmsgUG9pbnR9IGNvcnJlc3BvbmRpbmcgdG8gYGxuZ2xhdGAsIHJlbGF0aXZlIHRvIHRoZSBtYXAncyBgY29udGFpbmVyYC5cbiAgICAgKi9cbiAgICBwcm9qZWN0KGxuZ2xhdDogTG5nTGF0TGlrZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYXRpb25Qb2ludChMbmdMYXQuY29udmVydChsbmdsYXQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEge0BsaW5rIExuZ0xhdH0gcmVwcmVzZW50aW5nIGdlb2dyYXBoaWNhbCBjb29yZGluYXRlcyB0aGF0IGNvcnJlc3BvbmRcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIHBpeGVsIGNvb3JkaW5hdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IHBvaW50IFRoZSBwaXhlbCBjb29yZGluYXRlcyB0byB1bnByb2plY3QuXG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIHtAbGluayBMbmdMYXR9IGNvcnJlc3BvbmRpbmcgdG8gYHBvaW50YC5cbiAgICAgKiBAc2VlIFtTaG93IHBvbHlnb24gaW5mb3JtYXRpb24gb24gY2xpY2tdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9seWdvbi1wb3B1cC1vbi1jbGljay8pXG4gICAgICovXG4gICAgdW5wcm9qZWN0KHBvaW50OiBQb2ludExpa2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24oUG9pbnQuY29udmVydChwb2ludCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbWFwIGlzIHBhbm5pbmcsIHpvb21pbmcsIHJvdGF0aW5nLCBvciBwaXRjaGluZyBkdWUgdG8gYSBjYW1lcmEgYW5pbWF0aW9uIG9yIHVzZXIgZ2VzdHVyZS5cbiAgICAgKi9cbiAgICBpc01vdmluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vdmluZyB8fFxuICAgICAgICAgICAgdGhpcy5kcmFnUGFuLmlzQWN0aXZlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpIHx8XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFpvb20uaXNBY3RpdmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG1hcCBpcyB6b29taW5nIGR1ZSB0byBhIGNhbWVyYSBhbmltYXRpb24gb3IgdXNlciBnZXN0dXJlLlxuICAgICAqL1xuICAgIGlzWm9vbWluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3pvb21pbmcgfHxcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsWm9vbS5pc0FjdGl2ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbWFwIGlzIHJvdGF0aW5nIGR1ZSB0byBhIGNhbWVyYSBhbmltYXRpb24gb3IgdXNlciBnZXN0dXJlLlxuICAgICAqL1xuICAgIGlzUm90YXRpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGluZyB8fFxuICAgICAgICAgICAgdGhpcy5kcmFnUm90YXRlLmlzQWN0aXZlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIGZvciBldmVudHMgb2YgYSBzcGVjaWZpZWQgdHlwZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBvblxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZSB0byBhZGQgYSBsaXN0ZW4gZm9yLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogICBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIGRhdGEgb2JqZWN0IHBhc3NlZCB0byBgZmlyZWAsXG4gICAgICogICBleHRlbmRlZCB3aXRoIGB0YXJnZXRgIGFuZCBgdHlwZWAgcHJvcGVydGllcy5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciBmb3IgZXZlbnRzIG9mIGEgc3BlY2lmaWVkIHR5cGUgb2NjdXJyaW5nIG9uIGZlYXR1cmVzIGluIGEgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUgdG8gbGlzdGVuIGZvcjsgb25lIG9mIGAnbW91c2Vkb3duJ2AsIGAnbW91c2V1cCdgLCBgJ2NsaWNrJ2AsIGAnZGJsY2xpY2snYCxcbiAgICAgKiBgJ21vdXNlbW92ZSdgLCBgJ21vdXNlZW50ZXInYCwgYCdtb3VzZWxlYXZlJ2AsIGAnbW91c2VvdmVyJ2AsIGAnbW91c2VvdXQnYCwgYCdjb250ZXh0bWVudSdgLCBgJ3RvdWNoc3RhcnQnYCxcbiAgICAgKiBgJ3RvdWNoZW5kJ2AsIG9yIGAndG91Y2hjYW5jZWwnYC4gYG1vdXNlZW50ZXJgIGFuZCBgbW91c2VvdmVyYCBldmVudHMgYXJlIHRyaWdnZXJlZCB3aGVuIHRoZSBjdXJzb3IgZW50ZXJzXG4gICAgICogYSB2aXNpYmxlIHBvcnRpb24gb2YgdGhlIHNwZWNpZmllZCBsYXllciBmcm9tIG91dHNpZGUgdGhhdCBsYXllciBvciBvdXRzaWRlIHRoZSBtYXAgY2FudmFzLiBgbW91c2VsZWF2ZWBcbiAgICAgKiBhbmQgYG1vdXNlb3V0YCBldmVudHMgYXJlIHRyaWdnZXJlZCB3aGVuIHRoZSBjdXJzb3IgbGVhdmVzIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSBzcGVjaWZpZWQgbGF5ZXIsIG9yIGxlYXZlc1xuICAgICAqIHRoZSBtYXAgY2FudmFzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciBUaGUgSUQgb2YgYSBzdHlsZSBsYXllci4gT25seSBldmVudHMgd2hvc2UgbG9jYXRpb24gaXMgd2l0aGluIGEgdmlzaWJsZVxuICAgICAqIGZlYXR1cmUgaW4gdGhpcyBsYXllciB3aWxsIHRyaWdnZXIgdGhlIGxpc3RlbmVyLiBUaGUgZXZlbnQgd2lsbCBoYXZlIGEgYGZlYXR1cmVzYCBwcm9wZXJ0eSBjb250YWluaW5nXG4gICAgICogYW4gYXJyYXkgb2YgdGhlIG1hdGNoaW5nIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgb24odHlwZTogTWFwRXZlbnQsIGxheWVyOiBhbnksIGxpc3RlbmVyOiBhbnkpIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5vbih0eXBlLCBsYXllcik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWxlZ2F0ZWRMaXN0ZW5lciA9ICgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21vdXNlZW50ZXInIHx8IHR5cGUgPT09ICdtb3VzZW92ZXInKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3VzZW1vdmUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXIpID8gdGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCwge2xheWVyczogW2xheWVyXX0pIDogW107XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmVhdHVyZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZWluID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIW1vdXNlaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlaW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBuZXcgTWFwTW91c2VFdmVudCh0eXBlLCB0aGlzLCBlLm9yaWdpbmFsRXZlbnQsIHtmZWF0dXJlc30pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbW91c2VvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7bGF5ZXIsIGxpc3RlbmVyLCBkZWxlZ2F0ZXM6IHttb3VzZW1vdmUsIG1vdXNlb3V0fX07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtb3VzZWxlYXZlJyB8fCB0eXBlID09PSAnbW91c2VvdXQnKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3VzZW1vdmUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXIpID8gdGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCwge2xheWVyczogW2xheWVyXX0pIDogW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlaW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vdXNlaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgbmV3IE1hcE1vdXNlRXZlbnQodHlwZSwgdGhpcywgZS5vcmlnaW5hbEV2ZW50KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlb3V0ID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlaW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgbmV3IE1hcE1vdXNlRXZlbnQodHlwZSwgdGhpcywgZS5vcmlnaW5hbEV2ZW50KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7bGF5ZXIsIGxpc3RlbmVyLCBkZWxlZ2F0ZXM6IHttb3VzZW1vdmUsIG1vdXNlb3V0fX07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGVnYXRlID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLmdldExheWVyKGxheWVyKSA/IHRoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQsIHtsYXllcnM6IFtsYXllcl19KSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIZXJlIHdlIG5lZWQgdG8gbXV0YXRlIHRoZSBvcmlnaW5hbCBldmVudCwgc28gdGhhdCBwcmV2ZW50RGVmYXVsdCB3b3JrcyBhcyBleHBlY3RlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGUuZmVhdHVyZXMgPSBmZWF0dXJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZS5mZWF0dXJlcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtsYXllciwgbGlzdGVuZXIsIGRlbGVnYXRlczoge1t0eXBlXTogZGVsZWdhdGV9fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcblxuICAgICAgICB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnMgPSB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnMgfHwge307XG4gICAgICAgIHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0eXBlXSA9IHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0eXBlXSB8fCBbXTtcbiAgICAgICAgdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3R5cGVdLnB1c2goZGVsZWdhdGVkTGlzdGVuZXIpO1xuXG4gICAgICAgIGZvciAoY29uc3QgZXZlbnQgaW4gZGVsZWdhdGVkTGlzdGVuZXIuZGVsZWdhdGVzKSB7XG4gICAgICAgICAgICB0aGlzLm9uKChldmVudDogYW55KSwgZGVsZWdhdGVkTGlzdGVuZXIuZGVsZWdhdGVzW2V2ZW50XSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIHByZXZpb3VzbHkgYWRkZWQgd2l0aCBgTWFwI29uYC5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBvZmZcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUgcHJldmlvdXNseSB1c2VkIHRvIGluc3RhbGwgdGhlIGxpc3RlbmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBmdW5jdGlvbiBwcmV2aW91c2x5IGluc3RhbGxlZCBhcyBhIGxpc3RlbmVyLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lciBmb3IgbGF5ZXItc3BlY2lmaWMgZXZlbnRzIHByZXZpb3VzbHkgYWRkZWQgd2l0aCBgTWFwI29uYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlIHByZXZpb3VzbHkgdXNlZCB0byBpbnN0YWxsIHRoZSBsaXN0ZW5lci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXIgVGhlIGxheWVyIElEIHByZXZpb3VzbHkgdXNlZCB0byBpbnN0YWxsIHRoZSBsaXN0ZW5lci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgZnVuY3Rpb24gcHJldmlvdXNseSBpbnN0YWxsZWQgYXMgYSBsaXN0ZW5lci5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBvZmYodHlwZTogTWFwRXZlbnQsIGxheWVyOiBhbnksIGxpc3RlbmVyOiBhbnkpIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5vZmYodHlwZSwgbGF5ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2RlbGVnYXRlZExpc3RlbmVycyAmJiB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdHlwZV0pIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0eXBlXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZWdhdGVkTGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGRlbGVnYXRlZExpc3RlbmVyLmxheWVyID09PSBsYXllciAmJiBkZWxlZ2F0ZWRMaXN0ZW5lci5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBldmVudCBpbiBkZWxlZ2F0ZWRMaXN0ZW5lci5kZWxlZ2F0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2ZmKChldmVudDogYW55KSwgZGVsZWdhdGVkTGlzdGVuZXIuZGVsZWdhdGVzW2V2ZW50XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBbR2VvSlNPTl0oaHR0cDovL2dlb2pzb24ub3JnLylcbiAgICAgKiBbRmVhdHVyZSBvYmplY3RzXShodHRwOi8vZ2VvanNvbi5vcmcvZ2VvanNvbi1zcGVjLmh0bWwjZmVhdHVyZS1vYmplY3RzKVxuICAgICAqIHJlcHJlc2VudGluZyB2aXNpYmxlIGZlYXR1cmVzIHRoYXQgc2F0aXNmeSB0aGUgcXVlcnkgcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UG9pbnRMaWtlfEFycmF5PFBvaW50TGlrZT59IFtnZW9tZXRyeV0gLSBUaGUgZ2VvbWV0cnkgb2YgdGhlIHF1ZXJ5IHJlZ2lvbjpcbiAgICAgKiBlaXRoZXIgYSBzaW5nbGUgcG9pbnQgb3Igc291dGh3ZXN0IGFuZCBub3J0aGVhc3QgcG9pbnRzIGRlc2NyaWJpbmcgYSBib3VuZGluZyBib3guXG4gICAgICogT21pdHRpbmcgdGhpcyBwYXJhbWV0ZXIgKGkuZS4gY2FsbGluZyB7QGxpbmsgTWFwI3F1ZXJ5UmVuZGVyZWRGZWF0dXJlc30gd2l0aCB6ZXJvIGFyZ3VtZW50cyxcbiAgICAgKiBvciB3aXRoIG9ubHkgYSBgb3B0aW9uc2AgYXJndW1lbnQpIGlzIGVxdWl2YWxlbnQgdG8gcGFzc2luZyBhIGJvdW5kaW5nIGJveCBlbmNvbXBhc3NpbmcgdGhlIGVudGlyZVxuICAgICAqIG1hcCB2aWV3cG9ydC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbb3B0aW9ucy5sYXllcnNdIEFuIGFycmF5IG9mIHN0eWxlIGxheWVyIElEcyBmb3IgdGhlIHF1ZXJ5IHRvIGluc3BlY3QuXG4gICAgICogICBPbmx5IGZlYXR1cmVzIHdpdGhpbiB0aGVzZSBsYXllcnMgd2lsbCBiZSByZXR1cm5lZC4gSWYgdGhpcyBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkLCBhbGwgbGF5ZXJzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5maWx0ZXJdIEEgW2ZpbHRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy8jb3RoZXItZmlsdGVyKVxuICAgICAqICAgdG8gbGltaXQgcXVlcnkgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fSBBbiBhcnJheSBvZiBbR2VvSlNPTl0oaHR0cDovL2dlb2pzb24ub3JnLylcbiAgICAgKiBbZmVhdHVyZSBvYmplY3RzXShodHRwOi8vZ2VvanNvbi5vcmcvZ2VvanNvbi1zcGVjLmh0bWwjZmVhdHVyZS1vYmplY3RzKS5cbiAgICAgKlxuICAgICAqIFRoZSBgcHJvcGVydGllc2AgdmFsdWUgb2YgZWFjaCByZXR1cm5lZCBmZWF0dXJlIG9iamVjdCBjb250YWlucyB0aGUgcHJvcGVydGllcyBvZiBpdHMgc291cmNlIGZlYXR1cmUuIEZvciBHZW9KU09OIHNvdXJjZXMsIG9ubHlcbiAgICAgKiBzdHJpbmcgYW5kIG51bWVyaWMgcHJvcGVydHkgdmFsdWVzIGFyZSBzdXBwb3J0ZWQgKGkuZS4gYG51bGxgLCBgQXJyYXlgLCBhbmQgYE9iamVjdGAgdmFsdWVzIGFyZSBub3Qgc3VwcG9ydGVkKS5cbiAgICAgKlxuICAgICAqIEVhY2ggZmVhdHVyZSBpbmNsdWRlcyBhIHRvcC1sZXZlbCBgbGF5ZXJgIHByb3BlcnR5IHdob3NlIHZhbHVlIGlzIGFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHN0eWxlIGxheWVyIHRvXG4gICAgICogd2hpY2ggdGhlIGZlYXR1cmUgYmVsb25ncy4gTGF5b3V0IGFuZCBwYWludCBwcm9wZXJ0aWVzIGluIHRoaXMgb2JqZWN0IGNvbnRhaW4gdmFsdWVzIHdoaWNoIGFyZSBmdWxseSBldmFsdWF0ZWRcbiAgICAgKiBmb3IgdGhlIGdpdmVuIHpvb20gbGV2ZWwgYW5kIGZlYXR1cmUuXG4gICAgICpcbiAgICAgKiBGZWF0dXJlcyBmcm9tIGxheWVycyB3aG9zZSBgdmlzaWJpbGl0eWAgcHJvcGVydHkgaXMgYFwibm9uZVwiYCwgb3IgZnJvbSBsYXllcnMgd2hvc2Ugem9vbSByYW5nZSBleGNsdWRlcyB0aGVcbiAgICAgKiBjdXJyZW50IHpvb20gbGV2ZWwgYXJlIG5vdCBpbmNsdWRlZC4gU3ltYm9sIGZlYXR1cmVzIHRoYXQgaGF2ZSBiZWVuIGhpZGRlbiBkdWUgdG8gdGV4dCBvciBpY29uIGNvbGxpc2lvbiBhcmVcbiAgICAgKiBub3QgaW5jbHVkZWQuIEZlYXR1cmVzIGZyb20gYWxsIG90aGVyIGxheWVycyBhcmUgaW5jbHVkZWQsIGluY2x1ZGluZyBmZWF0dXJlcyB0aGF0IG1heSBoYXZlIG5vIHZpc2libGVcbiAgICAgKiBjb250cmlidXRpb24gdG8gdGhlIHJlbmRlcmVkIHJlc3VsdDsgZm9yIGV4YW1wbGUsIGJlY2F1c2UgdGhlIGxheWVyJ3Mgb3BhY2l0eSBvciBjb2xvciBhbHBoYSBjb21wb25lbnQgaXMgc2V0IHRvXG4gICAgICogMC5cbiAgICAgKlxuICAgICAqIFRoZSB0b3Btb3N0IHJlbmRlcmVkIGZlYXR1cmUgYXBwZWFycyBmaXJzdCBpbiB0aGUgcmV0dXJuZWQgYXJyYXksIGFuZCBzdWJzZXF1ZW50IGZlYXR1cmVzIGFyZSBzb3J0ZWQgYnlcbiAgICAgKiBkZXNjZW5kaW5nIHotb3JkZXIuIEZlYXR1cmVzIHRoYXQgYXJlIHJlbmRlcmVkIG11bHRpcGxlIHRpbWVzIChkdWUgdG8gd3JhcHBpbmcgYWNyb3NzIHRoZSBhbnRpbWVyaWRpYW4gYXQgbG93XG4gICAgICogem9vbSBsZXZlbHMpIGFyZSByZXR1cm5lZCBvbmx5IG9uY2UgKHRob3VnaCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY2F2ZWF0KS5cbiAgICAgKlxuICAgICAqIEJlY2F1c2UgZmVhdHVyZXMgY29tZSBmcm9tIHRpbGVkIHZlY3RvciBkYXRhIG9yIEdlb0pTT04gZGF0YSB0aGF0IGlzIGNvbnZlcnRlZCB0byB0aWxlcyBpbnRlcm5hbGx5LCBmZWF0dXJlXG4gICAgICogZ2VvbWV0cmllcyBtYXkgYmUgc3BsaXQgb3IgZHVwbGljYXRlZCBhY3Jvc3MgdGlsZSBib3VuZGFyaWVzIGFuZCwgYXMgYSByZXN1bHQsIGZlYXR1cmVzIG1heSBhcHBlYXIgbXVsdGlwbGVcbiAgICAgKiB0aW1lcyBpbiBxdWVyeSByZXN1bHRzLiBGb3IgZXhhbXBsZSwgc3VwcG9zZSB0aGVyZSBpcyBhIGhpZ2h3YXkgcnVubmluZyB0aHJvdWdoIHRoZSBib3VuZGluZyByZWN0YW5nbGUgb2YgYSBxdWVyeS5cbiAgICAgKiBUaGUgcmVzdWx0cyBvZiB0aGUgcXVlcnkgd2lsbCBiZSB0aG9zZSBwYXJ0cyBvZiB0aGUgaGlnaHdheSB0aGF0IGxpZSB3aXRoaW4gdGhlIG1hcCB0aWxlcyBjb3ZlcmluZyB0aGUgYm91bmRpbmdcbiAgICAgKiByZWN0YW5nbGUsIGV2ZW4gaWYgdGhlIGhpZ2h3YXkgZXh0ZW5kcyBpbnRvIG90aGVyIHRpbGVzLCBhbmQgdGhlIHBvcnRpb24gb2YgdGhlIGhpZ2h3YXkgd2l0aGluIGVhY2ggbWFwIHRpbGVcbiAgICAgKiB3aWxsIGJlIHJldHVybmVkIGFzIGEgc2VwYXJhdGUgZmVhdHVyZS4gU2ltaWxhcmx5LCBhIHBvaW50IGZlYXR1cmUgbmVhciBhIHRpbGUgYm91bmRhcnkgbWF5IGFwcGVhciBpbiBtdWx0aXBsZVxuICAgICAqIHRpbGVzIGR1ZSB0byB0aWxlIGJ1ZmZlcmluZy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRmluZCBhbGwgZmVhdHVyZXMgYXQgYSBwb2ludFxuICAgICAqIHZhciBmZWF0dXJlcyA9IG1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoXG4gICAgICogICBbMjAsIDM1XSxcbiAgICAgKiAgIHsgbGF5ZXJzOiBbJ215LWxheWVyLW5hbWUnXSB9XG4gICAgICogKTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRmluZCBhbGwgZmVhdHVyZXMgd2l0aGluIGEgc3RhdGljIGJvdW5kaW5nIGJveFxuICAgICAqIHZhciBmZWF0dXJlcyA9IG1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoXG4gICAgICogICBbWzEwLCAyMF0sIFszMCwgNTBdXSxcbiAgICAgKiAgIHsgbGF5ZXJzOiBbJ215LWxheWVyLW5hbWUnXSB9XG4gICAgICogKTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRmluZCBhbGwgZmVhdHVyZXMgd2l0aGluIGEgYm91bmRpbmcgYm94IGFyb3VuZCBhIHBvaW50XG4gICAgICogdmFyIHdpZHRoID0gMTA7XG4gICAgICogdmFyIGhlaWdodCA9IDIwO1xuICAgICAqIHZhciBmZWF0dXJlcyA9IG1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoW1xuICAgICAqICAgW3BvaW50LnggLSB3aWR0aCAvIDIsIHBvaW50LnkgLSBoZWlnaHQgLyAyXSxcbiAgICAgKiAgIFtwb2ludC54ICsgd2lkdGggLyAyLCBwb2ludC55ICsgaGVpZ2h0IC8gMl1cbiAgICAgKiBdLCB7IGxheWVyczogWydteS1sYXllci1uYW1lJ10gfSk7XG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFF1ZXJ5IGFsbCByZW5kZXJlZCBmZWF0dXJlcyBmcm9tIGEgc2luZ2xlIGxheWVyXG4gICAgICogdmFyIGZlYXR1cmVzID0gbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyh7IGxheWVyczogWydteS1sYXllci1uYW1lJ10gfSk7XG4gICAgICogQHNlZSBbR2V0IGZlYXR1cmVzIHVuZGVyIHRoZSBtb3VzZSBwb2ludGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3F1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gICAgICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91c2luZy1ib3gtcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAgICAgKiBAc2VlIFtDZW50ZXIgdGhlIG1hcCBvbiBhIGNsaWNrZWQgc3ltYm9sXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2NlbnRlci1vbi1zeW1ib2wvKVxuICAgICAqL1xuICAgIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhnZW9tZXRyeT86IFBvaW50TGlrZSB8IFtQb2ludExpa2UsIFBvaW50TGlrZV0sIG9wdGlvbnM/OiBPYmplY3QpIHtcbiAgICAgICAgLy8gVGhlIGZpcnN0IHBhcmFtZXRlciBjYW4gYmUgb21pdHRlZCBlbnRpcmVseSwgbWFraW5nIHRoaXMgZWZmZWN0aXZlbHkgYW4gb3ZlcmxvYWRlZCBtZXRob2RcbiAgICAgICAgLy8gd2l0aCB0d28gc2lnbmF0dXJlczpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhnZW9tZXRyeTogUG9pbnRMaWtlIHwgW1BvaW50TGlrZSwgUG9pbnRMaWtlXSwgb3B0aW9ucz86IE9iamVjdClcbiAgICAgICAgLy8gICAgIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhvcHRpb25zPzogT2JqZWN0KVxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGVyZSBubyB3YXkgdG8gZXhwcmVzcyB0aGF0IGluIGEgd2F5IHRoYXQncyBjb21wYXRpYmxlIHdpdGggYm90aCBmbG93IGFuZCBkb2N1bWVudGF0aW9uLmpzLlxuICAgICAgICAvLyBSZWxhdGVkOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmxvdy9pc3N1ZXMvMTU1NlxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICBvcHRpb25zID0gYXJndW1lbnRzWzFdO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgaXNQb2ludExpa2UoYXJndW1lbnRzWzBdKSkge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBvcHRpb25zID0gYXJndW1lbnRzWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhcbiAgICAgICAgICAgIHRoaXMuX21ha2VRdWVyeUdlb21ldHJ5KGdlb21ldHJ5KSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybVxuICAgICAgICApO1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzUG9pbnRMaWtlKGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBQb2ludCB8fCBBcnJheS5pc0FycmF5KGlucHV0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tYWtlUXVlcnlHZW9tZXRyeShwb2ludE9yQm94PzogUG9pbnRMaWtlIHwgW1BvaW50TGlrZSwgUG9pbnRMaWtlXSkge1xuICAgICAgICBpZiAocG9pbnRPckJveCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBib3VuZHMgd2FzIG9taXR0ZWQ6IHVzZSBmdWxsIHZpZXdwb3J0XG4gICAgICAgICAgICBwb2ludE9yQm94ID0gW1xuICAgICAgICAgICAgICAgIFBvaW50LmNvbnZlcnQoWzAsIDBdKSxcbiAgICAgICAgICAgICAgICBQb2ludC5jb252ZXJ0KFt0aGlzLnRyYW5zZm9ybS53aWR0aCwgdGhpcy50cmFuc2Zvcm0uaGVpZ2h0XSlcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcXVlcnlHZW9tZXRyeTtcblxuICAgICAgICBpZiAocG9pbnRPckJveCBpbnN0YW5jZW9mIFBvaW50IHx8IHR5cGVvZiBwb2ludE9yQm94WzBdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBQb2ludC5jb252ZXJ0KHBvaW50T3JCb3gpO1xuICAgICAgICAgICAgcXVlcnlHZW9tZXRyeSA9IFtwb2ludF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBib3ggPSBbUG9pbnQuY29udmVydChwb2ludE9yQm94WzBdKSwgUG9pbnQuY29udmVydChwb2ludE9yQm94WzFdKV07XG4gICAgICAgICAgICBxdWVyeUdlb21ldHJ5ID0gW1xuICAgICAgICAgICAgICAgIGJveFswXSxcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoYm94WzFdLngsIGJveFswXS55KSxcbiAgICAgICAgICAgICAgICBib3hbMV0sXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KGJveFswXS54LCBib3hbMV0ueSksXG4gICAgICAgICAgICAgICAgYm94WzBdXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG5cbiAgICAgICAgcXVlcnlHZW9tZXRyeSA9IHF1ZXJ5R2VvbWV0cnkubWFwKChwKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9pbnRDb29yZGluYXRlKHApO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcXVlcnlHZW9tZXRyeTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIFtHZW9KU09OXShodHRwOi8vZ2VvanNvbi5vcmcvKVxuICAgICAqIFtGZWF0dXJlIG9iamVjdHNdKGh0dHA6Ly9nZW9qc29uLm9yZy9nZW9qc29uLXNwZWMuaHRtbCNmZWF0dXJlLW9iamVjdHMpXG4gICAgICogcmVwcmVzZW50aW5nIGZlYXR1cmVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHZlY3RvciB0aWxlIG9yIEdlb0pTT04gc291cmNlIHRoYXQgc2F0aXNmeSB0aGUgcXVlcnkgcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VJRCBUaGUgSUQgb2YgdGhlIHZlY3RvciB0aWxlIG9yIEdlb0pTT04gc291cmNlIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1ldGVyc11cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhcmFtZXRlcnMuc291cmNlTGF5ZXJdIFRoZSBuYW1lIG9mIHRoZSB2ZWN0b3IgdGlsZSBsYXllciB0byBxdWVyeS4gKkZvciB2ZWN0b3IgdGlsZVxuICAgICAqICAgc291cmNlcywgdGhpcyBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQuKiBGb3IgR2VvSlNPTiBzb3VyY2VzLCBpdCBpcyBpZ25vcmVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJhbWV0ZXJzLmZpbHRlcl0gQSBbZmlsdGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9zdHlsZS1zcGVjLyNvdGhlci1maWx0ZXIpXG4gICAgICogICB0byBsaW1pdCBxdWVyeSByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5PE9iamVjdD59IEFuIGFycmF5IG9mIFtHZW9KU09OXShodHRwOi8vZ2VvanNvbi5vcmcvKVxuICAgICAqIFtGZWF0dXJlIG9iamVjdHNdKGh0dHA6Ly9nZW9qc29uLm9yZy9nZW9qc29uLXNwZWMuaHRtbCNmZWF0dXJlLW9iamVjdHMpLlxuICAgICAqXG4gICAgICogSW4gY29udHJhc3QgdG8ge0BsaW5rIE1hcCNxdWVyeVJlbmRlcmVkRmVhdHVyZXN9LCB0aGlzIGZ1bmN0aW9uXG4gICAgICogcmV0dXJucyBhbGwgZmVhdHVyZXMgbWF0Y2hpbmcgdGhlIHF1ZXJ5IHBhcmFtZXRlcnMsXG4gICAgICogd2hldGhlciBvciBub3QgdGhleSBhcmUgcmVuZGVyZWQgYnkgdGhlIGN1cnJlbnQgc3R5bGUgKGkuZS4gdmlzaWJsZSkuIFRoZSBkb21haW4gb2YgdGhlIHF1ZXJ5IGluY2x1ZGVzIGFsbCBjdXJyZW50bHktbG9hZGVkXG4gICAgICogdmVjdG9yIHRpbGVzIGFuZCBHZW9KU09OIHNvdXJjZSB0aWxlczogdGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBjaGVjayB0aWxlcyBvdXRzaWRlIHRoZSBjdXJyZW50bHlcbiAgICAgKiB2aXNpYmxlIHZpZXdwb3J0LlxuICAgICAqXG4gICAgICogQmVjYXVzZSBmZWF0dXJlcyBjb21lIGZyb20gdGlsZWQgdmVjdG9yIGRhdGEgb3IgR2VvSlNPTiBkYXRhIHRoYXQgaXMgY29udmVydGVkIHRvIHRpbGVzIGludGVybmFsbHksIGZlYXR1cmVcbiAgICAgKiBnZW9tZXRyaWVzIG1heSBiZSBzcGxpdCBvciBkdXBsaWNhdGVkIGFjcm9zcyB0aWxlIGJvdW5kYXJpZXMgYW5kLCBhcyBhIHJlc3VsdCwgZmVhdHVyZXMgbWF5IGFwcGVhciBtdWx0aXBsZVxuICAgICAqIHRpbWVzIGluIHF1ZXJ5IHJlc3VsdHMuIEZvciBleGFtcGxlLCBzdXBwb3NlIHRoZXJlIGlzIGEgaGlnaHdheSBydW5uaW5nIHRocm91Z2ggdGhlIGJvdW5kaW5nIHJlY3RhbmdsZSBvZiBhIHF1ZXJ5LlxuICAgICAqIFRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeSB3aWxsIGJlIHRob3NlIHBhcnRzIG9mIHRoZSBoaWdod2F5IHRoYXQgbGllIHdpdGhpbiB0aGUgbWFwIHRpbGVzIGNvdmVyaW5nIHRoZSBib3VuZGluZ1xuICAgICAqIHJlY3RhbmdsZSwgZXZlbiBpZiB0aGUgaGlnaHdheSBleHRlbmRzIGludG8gb3RoZXIgdGlsZXMsIGFuZCB0aGUgcG9ydGlvbiBvZiB0aGUgaGlnaHdheSB3aXRoaW4gZWFjaCBtYXAgdGlsZVxuICAgICAqIHdpbGwgYmUgcmV0dXJuZWQgYXMgYSBzZXBhcmF0ZSBmZWF0dXJlLiBTaW1pbGFybHksIGEgcG9pbnQgZmVhdHVyZSBuZWFyIGEgdGlsZSBib3VuZGFyeSBtYXkgYXBwZWFyIGluIG11bHRpcGxlXG4gICAgICogdGlsZXMgZHVlIHRvIHRpbGUgYnVmZmVyaW5nLlxuICAgICAqIEBzZWUgW0ZpbHRlciBmZWF0dXJlcyB3aXRoaW4gbWFwIHZpZXddKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZmlsdGVyLWZlYXR1cmVzLXdpdGhpbi1tYXAtdmlldy8pXG4gICAgICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIGNvbnRhaW5pbmcgc2ltaWxhciBkYXRhXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3F1ZXJ5LXNpbWlsYXItZmVhdHVyZXMvKVxuICAgICAqL1xuICAgIHF1ZXJ5U291cmNlRmVhdHVyZXMoc291cmNlSUQ6IHN0cmluZywgcGFyYW1ldGVyczogP3tzb3VyY2VMYXllcjogP3N0cmluZywgZmlsdGVyOiA/QXJyYXk8YW55Pn0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUucXVlcnlTb3VyY2VGZWF0dXJlcyhzb3VyY2VJRCwgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgbWFwJ3MgTWFwYm94IHN0eWxlIG9iamVjdCB3aXRoIGEgbmV3IHZhbHVlLiAgSWYgdGhlIGdpdmVuXG4gICAgICogdmFsdWUgaXMgc3R5bGUgSlNPTiBvYmplY3QsIGNvbXBhcmVzIGl0IGFnYWluc3QgdGhlIHRoZSBtYXAncyBjdXJyZW50XG4gICAgICogc3RhdGUgYW5kIHBlcmZvcm0gb25seSB0aGUgY2hhbmdlcyBuZWNlc3NhcnkgdG8gbWFrZSB0aGUgbWFwIHN0eWxlIG1hdGNoXG4gICAgICogdGhlIGRlc2lyZWQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3R5bGUgQSBKU09OIG9iamVjdCBjb25mb3JtaW5nIHRvIHRoZSBzY2hlbWEgZGVzY3JpYmVkIGluIHRoZVxuICAgICAqICAgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL21hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvKSwgb3IgYSBVUkwgdG8gc3VjaCBKU09OLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRpZmY9dHJ1ZV0gSWYgZmFsc2UsIGZvcmNlIGEgJ2Z1bGwnIHVwZGF0ZSwgcmVtb3ZpbmcgdGhlIGN1cnJlbnQgc3R5bGVcbiAgICAgKiAgIGFuZCBhZGRpbmcgYnVpbGRpbmcgdGhlIGdpdmVuIG9uZSBpbnN0ZWFkIG9mIGF0dGVtcHRpbmcgYSBkaWZmLWJhc2VkIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PW51bGxdIElmIG5vbi1udWxsLCBkZWZpbmVzIGEgY3NzIGZvbnQtZmFtaWx5XG4gICAgICogICBmb3IgbG9jYWxseSBvdmVycmlkaW5nIGdlbmVyYXRpb24gb2YgZ2x5cGhzIGluIHRoZSAnQ0pLIFVuaWZpZWQgSWRlb2dyYXBocycgYW5kICdIYW5ndWwgU3lsbGFibGVzJ1xuICAgICAqICAgcmFuZ2VzLiBGb3JjZXMgYSBmdWxsIHVwZGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAc2VlIFtDaGFuZ2UgYSBtYXAncyBzdHlsZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9zZXRzdHlsZS8pXG4gICAgICovXG4gICAgc2V0U3R5bGUoc3R5bGU6IFN0eWxlU3BlY2lmaWNhdGlvbiB8IHN0cmluZyB8IG51bGwsIG9wdGlvbnM/OiB7ZGlmZj86IGJvb2xlYW59ICYgU3R5bGVPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNob3VsZFRyeURpZmYgPSAoIW9wdGlvbnMgfHwgKG9wdGlvbnMuZGlmZiAhPT0gZmFsc2UgJiYgIW9wdGlvbnMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5KSkgJiYgdGhpcy5zdHlsZTtcbiAgICAgICAgaWYgKHNob3VsZFRyeURpZmYgJiYgc3R5bGUgJiYgdHlwZW9mIHN0eWxlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdHlsZS5zZXRTdGF0ZShzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB3YXJuT25jZShcbiAgICAgICAgICAgICAgICAgICAgYFVuYWJsZSB0byBwZXJmb3JtIHN0eWxlIGRpZmY6ICR7ZS5tZXNzYWdlIHx8IGUuZXJyb3IgfHwgZX0uICBSZWJ1aWxkaW5nIHRoZSBzdHlsZSBmcm9tIHNjcmF0Y2guYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdHlsZSkge1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KG51bGwpO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5fcmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0eWxlKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zdHlsZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdHlsZSA9IG5ldyBTdHlsZSh0aGlzLCBvcHRpb25zIHx8IHt9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudCh0aGlzLCB7c3R5bGU6IHRoaXMuc3R5bGV9KTtcblxuICAgICAgICBpZiAodHlwZW9mIHN0eWxlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5sb2FkVVJMKHN0eWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUubG9hZEpTT04oc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgTWFwYm94IHN0eWxlIG9iamVjdCwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gcmVjcmVhdGUgdGhlIG1hcCdzIHN0eWxlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge09iamVjdH0gVGhlIG1hcCdzIHN0eWxlIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZXRTdHlsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnNlcmlhbGl6ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXAncyBzdHlsZSBpcyBmdWxseSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgc3R5bGUgaXMgZnVsbHkgbG9hZGVkLlxuICAgICAqL1xuICAgIGlzU3R5bGVMb2FkZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdHlsZSkgcmV0dXJuIHdhcm5PbmNlKCdUaGVyZSBpcyBubyBzdHlsZSBhZGRlZCB0byB0aGUgbWFwLicpO1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5sb2FkZWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgc291cmNlIHRvIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIHNvdXJjZSB0byBhZGQuIE11c3Qgbm90IGNvbmZsaWN0IHdpdGggZXhpc3Rpbmcgc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LCBjb25mb3JtaW5nIHRvIHRoZVxuICAgICAqIE1hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uJ3MgW3NvdXJjZSBkZWZpbml0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzKS5cbiAgICAgKiBAZmlyZXMgc291cmNlLmFkZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBzZWUgW0RyYXcgR2VvSlNPTiBwb2ludHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2VvanNvbi1tYXJrZXJzLylcbiAgICAgKiBAc2VlIFtTdHlsZSBjaXJjbGVzIHVzaW5nIGRhdGEtZHJpdmVuIHN0eWxpbmddKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZGF0YS1kcml2ZW4tY2lyY2xlLWNvbG9ycy8pXG4gICAgICogQHNlZSBbU2V0IGEgcG9pbnQgYWZ0ZXIgR2VvY29kZXIgcmVzdWx0XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvaW50LWZyb20tZ2VvY29kZXItcmVzdWx0LylcbiAgICAgKi9cbiAgICBhZGRTb3VyY2UoaWQ6IHN0cmluZywgc291cmNlOiBTb3VyY2VTcGVjaWZpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuc3R5bGUuYWRkU291cmNlKGlkLCBzb3VyY2UpO1xuICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIHNvdXJjZSB0byBiZSBjaGVja2VkLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBBIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqL1xuICAgIGlzU291cmNlTG9hZGVkKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5zdHlsZSAmJiB0aGlzLnN0eWxlLnNvdXJjZUNhY2hlc1tpZF07XG4gICAgICAgIGlmIChzb3VyY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gc291cmNlIHdpdGggSUQgJyR7aWR9J2ApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5sb2FkZWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgYWxsIHRpbGVzIGluIHRoZSB2aWV3cG9ydCBmcm9tIGFsbCBzb3VyY2VzIG9uXG4gICAgICogdGhlIHN0eWxlIGFyZSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciBhbGwgdGlsZXMgYXJlIGxvYWRlZC5cbiAgICAgKi9cblxuICAgIGFyZVRpbGVzTG9hZGVkKCkge1xuICAgICAgICBjb25zdCBzb3VyY2VzID0gdGhpcy5zdHlsZSAmJiB0aGlzLnN0eWxlLnNvdXJjZUNhY2hlcztcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBzb3VyY2VzKSB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VzW2lkXTtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVzID0gc291cmNlLl90aWxlcztcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBpbiB0aWxlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aWxlc1t0XTtcbiAgICAgICAgICAgICAgICBpZiAoISh0aWxlLnN0YXRlID09PSAnbG9hZGVkJyB8fCB0aWxlLnN0YXRlID09PSAnZXJyb3JlZCcpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIFtjdXN0b20gc291cmNlIHR5cGVdKCNDdXN0b20gU291cmNlcyksIG1ha2luZyBpdCBhdmFpbGFibGUgZm9yIHVzZSB3aXRoXG4gICAgICoge0BsaW5rIE1hcCNhZGRTb3VyY2V9LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHNvdXJjZSB0eXBlOyBzb3VyY2UgZGVmaW5pdGlvbiBvYmplY3RzIHVzZSB0aGlzIG5hbWUgaW4gdGhlIGB7dHlwZTogLi4ufWAgZmllbGQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gU291cmNlVHlwZSBBIHtAbGluayBTb3VyY2V9IGNvbnN0cnVjdG9yLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCB3aGVuIHRoZSBzb3VyY2UgdHlwZSBpcyByZWFkeSBvciB3aXRoIGFuIGVycm9yIGFyZ3VtZW50IGlmIHRoZXJlIGlzIGFuIGVycm9yLlxuICAgICAqL1xuICAgIGFkZFNvdXJjZVR5cGUobmFtZTogc3RyaW5nLCBTb3VyY2VUeXBlOiBhbnksIGNhbGxiYWNrOiBGdW5jdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5hZGRTb3VyY2VUeXBlKG5hbWUsIFNvdXJjZVR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgc291cmNlIGZyb20gdGhlIG1hcCdzIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgc291cmNlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICByZW1vdmVTb3VyY2UoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZVNvdXJjZShpZCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc291cmNlIHdpdGggdGhlIHNwZWNpZmllZCBJRCBpbiB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBzb3VyY2UgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHs/T2JqZWN0fSBUaGUgc3R5bGUgc291cmNlIHdpdGggdGhlIHNwZWNpZmllZCBJRCwgb3IgYHVuZGVmaW5lZGBcbiAgICAgKiAgIGlmIHRoZSBJRCBjb3JyZXNwb25kcyB0byBubyBleGlzdGluZyBzb3VyY2VzLlxuICAgICAqIEBzZWUgW0NyZWF0ZSBhIGRyYWdnYWJsZSBwb2ludF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqIEBzZWUgW0FuaW1hdGUgYSBwb2ludF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hbmltYXRlLXBvaW50LWFsb25nLWxpbmUvKVxuICAgICAqIEBzZWUgW0FkZCBsaXZlIHJlYWx0aW1lIGRhdGFdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbGl2ZS1nZW9qc29uLylcbiAgICAgKi9cbiAgICBnZXRTb3VyY2UoaWQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5nZXRTb3VyY2UoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhbiBpbWFnZSB0byB0aGUgc3R5bGUuIFRoaXMgaW1hZ2UgY2FuIGJlIHVzZWQgaW4gYGljb24taW1hZ2VgLFxuICAgICAqIGBiYWNrZ3JvdW5kLXBhdHRlcm5gLCBgZmlsbC1wYXR0ZXJuYCwgYW5kIGBsaW5lLXBhdHRlcm5gLiBBblxuICAgICAqIHtAbGluayBNYXAjZXJyb3J9IGV2ZW50IHdpbGwgYmUgZmlyZWQgaWYgdGhlcmUgaXMgbm90IGVub3VnaCBzcGFjZSBpbiB0aGVcbiAgICAgKiBzcHJpdGUgdG8gYWRkIHRoaXMgaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAc2VlIFtBZGQgYW4gaWNvbiB0byB0aGUgbWFwXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2FkZC1pbWFnZS8pXG4gICAgICogQHNlZSBbQWRkIGEgZ2VuZXJhdGVkIGljb24gdG8gdGhlIG1hcF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hZGQtaW1hZ2UtZ2VuZXJhdGVkLylcbiAgICAgKiBAcGFyYW0gaWQgVGhlIElEIG9mIHRoZSBpbWFnZS5cbiAgICAgKiBAcGFyYW0gaW1hZ2UgVGhlIGltYWdlIGFzIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIG9yIG9iamVjdCB3aXRoIGB3aWR0aGAsIGBoZWlnaHRgLCBhbmQgYGRhdGFgXG4gICAgICogcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyBgSW1hZ2VEYXRhYC5cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBvcHRpb25zLnBpeGVsUmF0aW8gVGhlIHJhdGlvIG9mIHBpeGVscyBpbiB0aGUgaW1hZ2UgdG8gcGh5c2ljYWwgcGl4ZWxzIG9uIHRoZSBzY3JlZW5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5zZGYgV2hldGhlciB0aGUgaW1hZ2Ugc2hvdWxkIGJlIGludGVycHJldGVkIGFzIGFuIFNERiBpbWFnZVxuICAgICAqL1xuICAgIGFkZEltYWdlKGlkOiBzdHJpbmcsXG4gICAgICAgICAgICAgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgfCBJbWFnZURhdGEgfCB7d2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGRhdGE6IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0sXG4gICAgICAgICAgICAge3BpeGVsUmF0aW8gPSAxLCBzZGYgPSBmYWxzZX06IHtwaXhlbFJhdGlvPzogbnVtYmVyLCBzZGY/OiBib29sZWFufSA9IHt9KSB7XG4gICAgICAgIGlmIChpbWFnZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0LCBkYXRhfSA9IGJyb3dzZXIuZ2V0SW1hZ2VEYXRhKGltYWdlKTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuYWRkSW1hZ2UoaWQsIHsgZGF0YTogbmV3IFJHQkFJbWFnZSh7d2lkdGgsIGhlaWdodH0sIGRhdGEpLCBwaXhlbFJhdGlvLCBzZGYgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW1hZ2Uud2lkdGggPT09IHVuZGVmaW5lZCB8fCBpbWFnZS5oZWlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgJ0ludmFsaWQgYXJndW1lbnRzIHRvIG1hcC5hZGRJbWFnZSgpLiBUaGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBgSW1hZ2VEYXRhYCwgJyArXG4gICAgICAgICAgICAgICAgJ29yIG9iamVjdCB3aXRoIGB3aWR0aGAsIGBoZWlnaHRgLCBhbmQgYGRhdGFgIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWAnKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHQsIGRhdGF9ID0gaW1hZ2U7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLmFkZEltYWdlKGlkLCB7IGRhdGE6IG5ldyBSR0JBSW1hZ2Uoe3dpZHRoLCBoZWlnaHR9LCBkYXRhLnNsaWNlKDApKSwgcGl4ZWxSYXRpbywgc2RmIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIHdldGhlciB0aGUgaW1hZ2UgaGFzIGJlZW4gYWRkZWQgb3Igbm90XG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgVGhlIElEIG9mIHRoZSBpbWFnZS5cbiAgICAgKi9cbiAgICBoYXNJbWFnZShpZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgaW1hZ2UgaWQnKSkpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhdGhpcy5zdHlsZS5nZXRJbWFnZShpZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFuIGltYWdlIGZyb20gdGhlIHN0eWxlIChzdWNoIGFzIG9uZSB1c2VkIGJ5IGBpY29uLWltYWdlYCBvciBgYmFja2dyb3VuZC1wYXR0ZXJuYCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgVGhlIElEIG9mIHRoZSBpbWFnZS5cbiAgICAgKi9cbiAgICByZW1vdmVJbWFnZShpZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3R5bGUucmVtb3ZlSW1hZ2UoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWQgYW4gaW1hZ2UgZnJvbSBhbiBleHRlcm5hbCBVUkwgZm9yIHVzZSB3aXRoIGBNYXAjYWRkSW1hZ2VgLiBFeHRlcm5hbFxuICAgICAqIGRvbWFpbnMgbXVzdCBzdXBwb3J0IFtDT1JTXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0FjY2Vzc19jb250cm9sX0NPUlMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIG9mIHRoZSBpbWFnZSBmaWxlLiBJbWFnZSBmaWxlIG11c3QgYmUgaW4gcG5nLCB3ZWJwLCBvciBqcGcgZm9ybWF0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIEV4cGVjdGluZyBgY2FsbGJhY2soZXJyb3IsIGRhdGEpYC4gQ2FsbGVkIHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWQgb3Igd2l0aCBhbiBlcnJvciBhcmd1bWVudCBpZiB0aGVyZSBpcyBhbiBlcnJvci5cbiAgICAgKiBAc2VlIFtBZGQgYW4gaWNvbiB0byB0aGUgbWFwXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2FkZC1pbWFnZS8pXG4gICAgICovXG4gICAgbG9hZEltYWdlKHVybDogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pIHtcbiAgICAgICAgZ2V0SW1hZ2UodGhpcy5fdHJhbnNmb3JtUmVxdWVzdCh1cmwsIFJlc291cmNlVHlwZS5JbWFnZSksIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgW01hcGJveCBzdHlsZSBsYXllcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jbGF5ZXJzKVxuICAgICAqIHRvIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEEgbGF5ZXIgZGVmaW5lcyBzdHlsaW5nIGZvciBkYXRhIGZyb20gYSBzcGVjaWZpZWQgc291cmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGxheWVyIFRoZSBzdHlsZSBsYXllciB0byBhZGQsIGNvbmZvcm1pbmcgdG8gdGhlIE1hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uJ3NcbiAgICAgKiAgIFtsYXllciBkZWZpbml0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNsYXllcnMpLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbYmVmb3JlXSBUaGUgSUQgb2YgYW4gZXhpc3RpbmcgbGF5ZXIgdG8gaW5zZXJ0IHRoZSBuZXcgbGF5ZXIgYmVmb3JlLlxuICAgICAqICAgSWYgdGhpcyBhcmd1bWVudCBpcyBvbWl0dGVkLCB0aGUgbGF5ZXIgd2lsbCBiZSBhcHBlbmRlZCB0byB0aGUgZW5kIG9mIHRoZSBsYXllcnMgYXJyYXkuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQHNlZSBbQ3JlYXRlIGFuZCBzdHlsZSBjbHVzdGVyc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jbHVzdGVyLylcbiAgICAgKiBAc2VlIFtBZGQgYSB2ZWN0b3IgdGlsZSBzb3VyY2VdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdmVjdG9yLXNvdXJjZS8pXG4gICAgICogQHNlZSBbQWRkIGEgV01TIHNvdXJjZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS93bXMvKVxuICAgICAqL1xuICAgIGFkZExheWVyKGxheWVyOiBMYXllclNwZWNpZmljYXRpb24sIGJlZm9yZT86IHN0cmluZykge1xuICAgICAgICB0aGlzLnN0eWxlLmFkZExheWVyKGxheWVyLCBiZWZvcmUpO1xuICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIGEgbGF5ZXIgdG8gYSBkaWZmZXJlbnQgei1wb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIG1vdmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtiZWZvcmVJZF0gVGhlIElEIG9mIGFuIGV4aXN0aW5nIGxheWVyIHRvIGluc2VydCB0aGUgbmV3IGxheWVyIGJlZm9yZS5cbiAgICAgKiAgIElmIHRoaXMgYXJndW1lbnQgaXMgb21pdHRlZCwgdGhlIGxheWVyIHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIGVuZCBvZiB0aGUgbGF5ZXJzIGFycmF5LlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIG1vdmVMYXllcihpZDogc3RyaW5nLCBiZWZvcmVJZD86IHN0cmluZykge1xuICAgICAgICB0aGlzLnN0eWxlLm1vdmVMYXllcihpZCwgYmVmb3JlSWQpO1xuICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxheWVyIHdpdGggdGhlIGdpdmVuIGlkIGZyb20gdGhlIG1hcCdzIHN0eWxlLlxuICAgICAqXG4gICAgICogSWYgbm8gc3VjaCBsYXllciBleGlzdHMsIGFuIGBlcnJvcmAgZXZlbnQgaXMgZmlyZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgaWQgb2YgdGhlIGxheWVyIHRvIHJlbW92ZVxuICAgICAqIEBmaXJlcyBlcnJvclxuICAgICAqL1xuICAgIHJlbW92ZUxheWVyKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5yZW1vdmVMYXllcihpZCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGF5ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIElEIGluIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7P09iamVjdH0gVGhlIGxheWVyIHdpdGggdGhlIHNwZWNpZmllZCBJRCwgb3IgYHVuZGVmaW5lZGBcbiAgICAgKiAgIGlmIHRoZSBJRCBjb3JyZXNwb25kcyB0byBubyBleGlzdGluZyBsYXllcnMuXG4gICAgICogQHNlZSBbRmlsdGVyIHN5bWJvbHMgYnkgdG9nZ2xpbmcgYSBsaXN0XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2ZpbHRlci1tYXJrZXJzLylcbiAgICAgKiBAc2VlIFtGaWx0ZXIgc3ltYm9scyBieSB0ZXh0IGlucHV0XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2ZpbHRlci1tYXJrZXJzLWJ5LWlucHV0LylcbiAgICAgKi9cbiAgICBnZXRMYXllcihpZDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldExheWVyKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBmaWx0ZXIgZm9yIHRoZSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXIgVGhlIElEIG9mIHRoZSBsYXllciB0byB3aGljaCB0aGUgZmlsdGVyIHdpbGwgYmUgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5IHwgbnVsbCB8IHVuZGVmaW5lZH0gZmlsdGVyIFRoZSBmaWx0ZXIsIGNvbmZvcm1pbmcgdG8gdGhlIE1hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uJ3NcbiAgICAgKiAgIFtmaWx0ZXIgZGVmaW5pdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy8jb3RoZXItZmlsdGVyKS4gIElmIGBudWxsYCBvciBgdW5kZWZpbmVkYCBpcyBwcm92aWRlZCwgdGhlIGZ1bmN0aW9uIHJlbW92ZXMgYW55IGV4aXN0aW5nIGZpbHRlciBmcm9tIHRoZSBsYXllci5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRGaWx0ZXIoJ215LWxheWVyJywgWyc9PScsICduYW1lJywgJ1VTQSddKTtcbiAgICAgKiBAc2VlIFtGaWx0ZXIgZmVhdHVyZXMgd2l0aGluIG1hcCB2aWV3XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2ZpbHRlci1mZWF0dXJlcy13aXRoaW4tbWFwLXZpZXcvKVxuICAgICAqIEBzZWUgW0hpZ2hsaWdodCBmZWF0dXJlcyBjb250YWluaW5nIHNpbWlsYXIgZGF0YV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9xdWVyeS1zaW1pbGFyLWZlYXR1cmVzLylcbiAgICAgKiBAc2VlIFtDcmVhdGUgYSB0aW1lbGluZSBhbmltYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdGltZWxpbmUtYW5pbWF0aW9uLylcbiAgICAgKi9cbiAgICBzZXRGaWx0ZXIobGF5ZXI6IHN0cmluZywgZmlsdGVyOiA/RmlsdGVyU3BlY2lmaWNhdGlvbikge1xuICAgICAgICB0aGlzLnN0eWxlLnNldEZpbHRlcihsYXllciwgZmlsdGVyKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB6b29tIGV4dGVudCBmb3IgdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllcklkIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gd2hpY2ggdGhlIHpvb20gZXh0ZW50IHdpbGwgYmUgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluem9vbSBUaGUgbWluaW11bSB6b29tIHRvIHNldCAoMC0yNCkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heHpvb20gVGhlIG1heGltdW0gem9vbSB0byBzZXQgKDAtMjQpLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldExheWVyWm9vbVJhbmdlKCdteS1sYXllcicsIDIsIDUpO1xuICAgICAqL1xuICAgIHNldExheWVyWm9vbVJhbmdlKGxheWVySWQ6IHN0cmluZywgbWluem9vbTogbnVtYmVyLCBtYXh6b29tOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRMYXllclpvb21SYW5nZShsYXllcklkLCBtaW56b29tLCBtYXh6b29tKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBmaWx0ZXIgYXBwbGllZCB0byB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIFRoZSBJRCBvZiB0aGUgc3R5bGUgbGF5ZXIgd2hvc2UgZmlsdGVyIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBsYXllcidzIGZpbHRlci5cbiAgICAgKi9cbiAgICBnZXRGaWx0ZXIobGF5ZXI6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5nZXRGaWx0ZXIobGF5ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIG9mIGEgcGFpbnQgcHJvcGVydHkgaW4gdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIHNldCB0aGUgcGFpbnQgcHJvcGVydHkgaW4uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHBhaW50IHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgcGFpbnQgcHJvcGVyeSB0byBzZXQuXG4gICAgICogICBNdXN0IGJlIG9mIGEgdHlwZSBhcHByb3ByaWF0ZSBmb3IgdGhlIHByb3BlcnR5LCBhcyBkZWZpbmVkIGluIHRoZSBbTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvKS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRQYWludFByb3BlcnR5KCdteS1sYXllcicsICdmaWxsLWNvbG9yJywgJyNmYWFmZWUnKTtcbiAgICAgKiBAc2VlIFtDaGFuZ2UgYSBsYXllcidzIGNvbG9yIHdpdGggYnV0dG9uc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jb2xvci1zd2l0Y2hlci8pXG4gICAgICogQHNlZSBbQWRqdXN0IGEgbGF5ZXIncyBvcGFjaXR5XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2FkanVzdC1sYXllci1vcGFjaXR5LylcbiAgICAgKiBAc2VlIFtDcmVhdGUgYSBkcmFnZ2FibGUgcG9pbnRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZHJhZy1hLXBvaW50LylcbiAgICAgKi9cbiAgICBzZXRQYWludFByb3BlcnR5KGxheWVyOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzLnN0eWxlLnNldFBhaW50UHJvcGVydHkobGF5ZXIsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiBhIHBhaW50IHByb3BlcnR5IGluIHRoZSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXIgVGhlIElEIG9mIHRoZSBsYXllciB0byBnZXQgdGhlIHBhaW50IHByb3BlcnR5IGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgYSBwYWludCBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSBvZiB0aGUgc3BlY2lmaWVkIHBhaW50IHByb3BlcnR5LlxuICAgICAqL1xuICAgIGdldFBhaW50UHJvcGVydHkobGF5ZXI6IHN0cmluZywgbmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldFBhaW50UHJvcGVydHkobGF5ZXIsIG5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIG9mIGEgbGF5b3V0IHByb3BlcnR5IGluIHRoZSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXIgVGhlIElEIG9mIHRoZSBsYXllciB0byBzZXQgdGhlIGxheW91dCBwcm9wZXJ0eSBpbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbGF5b3V0IHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgbGF5b3V0IHByb3BlcnkuIE11c3QgYmUgb2YgYSB0eXBlIGFwcHJvcHJpYXRlIGZvciB0aGUgcHJvcGVydHksIGFzIGRlZmluZWQgaW4gdGhlIFtNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8pLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldExheW91dFByb3BlcnR5KCdteS1sYXllcicsICd2aXNpYmlsaXR5JywgJ25vbmUnKTtcbiAgICAgKi9cbiAgICBzZXRMYXlvdXRQcm9wZXJ0eShsYXllcjogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRMYXlvdXRQcm9wZXJ0eShsYXllciwgbmFtZSwgdmFsdWUpO1xuICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgbGF5b3V0IHByb3BlcnR5IGluIHRoZSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXIgVGhlIElEIG9mIHRoZSBsYXllciB0byBnZXQgdGhlIGxheW91dCBwcm9wZXJ0eSBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBsYXlvdXQgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgb2YgdGhlIHNwZWNpZmllZCBsYXlvdXQgcHJvcGVydHkuXG4gICAgICovXG4gICAgZ2V0TGF5b3V0UHJvcGVydHkobGF5ZXI6IHN0cmluZywgbmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLmdldExheW91dFByb3BlcnR5KGxheWVyLCBuYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhbnkgY29tYmluYXRpb24gb2YgbGlnaHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxpZ2h0IExpZ2h0IHByb3BlcnRpZXMgdG8gc2V0LiBNdXN0IGNvbmZvcm0gdG8gdGhlIFtNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8pLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldExpZ2h0KGxpZ2h0OiBMaWdodFNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRMaWdodChsaWdodCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGxpZ2h0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IGxpZ2h0IExpZ2h0IHByb3BlcnRpZXMgb2YgdGhlIHN0eWxlLlxuICAgICAqL1xuICAgIGdldExpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5nZXRMaWdodCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGNvbnRhaW5pbmcgSFRNTCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSBUaGUgbWFwJ3MgY29udGFpbmVyLlxuICAgICAqL1xuICAgIGdldENvbnRhaW5lcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBIVE1MIGVsZW1lbnQgY29udGFpbmluZyB0aGUgbWFwJ3MgYDxjYW52YXM+YCBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgeW91IHdhbnQgdG8gYWRkIG5vbi1HTCBvdmVybGF5cyB0byB0aGUgbWFwLCB5b3Ugc2hvdWxkIGFwcGVuZCB0aGVtIHRvIHRoaXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdGhlIGVsZW1lbnQgdG8gd2hpY2ggZXZlbnQgYmluZGluZ3MgZm9yIG1hcCBpbnRlcmFjdGl2aXR5IChzdWNoIGFzIHBhbm5pbmcgYW5kIHpvb21pbmcpIGFyZVxuICAgICAqIGF0dGFjaGVkLiBJdCB3aWxsIHJlY2VpdmUgYnViYmxlZCBldmVudHMgZnJvbSBjaGlsZCBlbGVtZW50cyBzdWNoIGFzIHRoZSBgPGNhbnZhcz5gLCBidXQgbm90IGZyb21cbiAgICAgKiBtYXAgY29udHJvbHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFRoZSBjb250YWluZXIgb2YgdGhlIG1hcCdzIGA8Y2FudmFzPmAuXG4gICAgICogQHNlZSBbQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91c2luZy1ib3gtcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAgICAgKi9cbiAgICBnZXRDYW52YXNDb250YWluZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW52YXNDb250YWluZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgYDxjYW52YXM+YCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybnMge0hUTUxDYW52YXNFbGVtZW50fSBUaGUgbWFwJ3MgYDxjYW52YXM+YCBlbGVtZW50LlxuICAgICAqIEBzZWUgW01lYXN1cmUgZGlzdGFuY2VzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL21lYXN1cmUvKVxuICAgICAqIEBzZWUgW0Rpc3BsYXkgYSBwb3B1cCBvbiBob3Zlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1ob3Zlci8pXG4gICAgICogQHNlZSBbQ2VudGVyIHRoZSBtYXAgb24gYSBjbGlja2VkIHN5bWJvbF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jZW50ZXItb24tc3ltYm9sLylcbiAgICAgKi9cbiAgICBnZXRDYW52YXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW52YXM7XG4gICAgfVxuXG4gICAgX2NvbnRhaW5lckRpbWVuc2lvbnMoKSB7XG4gICAgICAgIGxldCB3aWR0aCA9IDA7XG4gICAgICAgIGxldCBoZWlnaHQgPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb250YWluZXIpIHtcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoIHx8IDQwMDtcbiAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuX2NvbnRhaW5lci5vZmZzZXRIZWlnaHQgfHwgMzAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbiAgICB9XG5cbiAgICBfc2V0dXBDb250YWluZXIoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLW1hcCcpO1xuXG4gICAgICAgIGNvbnN0IG1pc3NpbmdDU1NDb250YWluZXIgPSB0aGlzLl9taXNzaW5nQ1NTQ29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLW1pc3NpbmctY3NzJywgY29udGFpbmVyKTtcbiAgICAgICAgbWlzc2luZ0NTU0NvbnRhaW5lci5pbm5lckhUTUwgPSAnTWlzc2luZyBNYXBib3ggR0wgSlMgQ1NTJztcblxuICAgICAgICBjb25zdCBjYW52YXNDb250YWluZXIgPSB0aGlzLl9jYW52YXNDb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lcicsIGNvbnRhaW5lcik7XG4gICAgICAgIGlmICh0aGlzLl9pbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWludGVyYWN0aXZlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jYW52YXMgPSBET00uY3JlYXRlKCdjYW52YXMnLCAnbWFwYm94Z2wtY2FudmFzJywgY2FudmFzQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLl9jb250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLl9jb250ZXh0UmVzdG9yZWQsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuICAgICAgICB0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ01hcCcpO1xuXG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB0aGlzLl9jb250YWluZXJEaW1lbnNpb25zKCk7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZUNhbnZhcyhkaW1lbnNpb25zWzBdLCBkaW1lbnNpb25zWzFdKTtcblxuICAgICAgICBjb25zdCBjb250cm9sQ29udGFpbmVyID0gdGhpcy5fY29udHJvbENvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1jb250cm9sLWNvbnRhaW5lcicsIGNvbnRhaW5lcik7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IHRoaXMuX2NvbnRyb2xQb3NpdGlvbnMgPSB7fTtcbiAgICAgICAgWyd0b3AtbGVmdCcsICd0b3AtcmlnaHQnLCAnYm90dG9tLWxlZnQnLCAnYm90dG9tLXJpZ2h0J10uZm9yRWFjaCgocG9zaXRpb25OYW1lKSA9PiB7XG4gICAgICAgICAgICBwb3NpdGlvbnNbcG9zaXRpb25OYW1lXSA9IERPTS5jcmVhdGUoJ2RpdicsIGBtYXBib3hnbC1jdHJsLSR7cG9zaXRpb25OYW1lfWAsIGNvbnRyb2xDb250YWluZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfcmVzaXplQ2FudmFzKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuXG4gICAgICAgIC8vIFJlcXVlc3QgdGhlIHJlcXVpcmVkIGNhbnZhcyBzaXplIHRha2luZyB0aGUgcGl4ZWxyYXRpbyBpbnRvIGFjY291bnQuXG4gICAgICAgIHRoaXMuX2NhbnZhcy53aWR0aCA9IHBpeGVsUmF0aW8gKiB3aWR0aDtcbiAgICAgICAgdGhpcy5fY2FudmFzLmhlaWdodCA9IHBpeGVsUmF0aW8gKiBoZWlnaHQ7XG5cbiAgICAgICAgLy8gTWFpbnRhaW4gdGhlIHNhbWUgY2FudmFzIHNpemUsIHBvdGVudGlhbGx5IGRvd25zY2FsaW5nIGl0IGZvciBIaURQSSBkaXNwbGF5c1xuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgIH1cblxuICAgIF9zZXR1cFBhaW50ZXIoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBleHRlbmQoe1xuICAgICAgICAgICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDogdGhpcy5fZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCxcbiAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogdGhpcy5fcHJlc2VydmVEcmF3aW5nQnVmZmVyXG4gICAgICAgIH0sIGlzU3VwcG9ydGVkLndlYkdMQ29udGV4dEF0dHJpYnV0ZXMpO1xuXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5fY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgYXR0cmlidXRlcykgfHxcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBhdHRyaWJ1dGVzKTtcblxuICAgICAgICBpZiAoIWdsKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBXZWJHTCcpKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBhaW50ZXIgPSBuZXcgUGFpbnRlcihnbCwgdGhpcy50cmFuc2Zvcm0pO1xuICAgIH1cblxuICAgIF9jb250ZXh0TG9zdChldmVudDogKikge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgYnJvd3Nlci5jYW5jZWxGcmFtZSh0aGlzLl9mcmFtZUlkKTtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3dlYmdsY29udGV4dGxvc3QnLCB7b3JpZ2luYWxFdmVudDogZXZlbnR9KSk7XG4gICAgfVxuXG4gICAgX2NvbnRleHRSZXN0b3JlZChldmVudDogKikge1xuICAgICAgICB0aGlzLl9zZXR1cFBhaW50ZXIoKTtcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywge29yaWdpbmFsRXZlbnQ6IGV2ZW50fSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwIGlzIGZ1bGx5IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIFJldHVybnMgYGZhbHNlYCBpZiB0aGUgc3R5bGUgaXMgbm90IHlldCBmdWxseSBsb2FkZWQsXG4gICAgICogb3IgaWYgdGhlcmUgaGFzIGJlZW4gYSBjaGFuZ2UgdG8gdGhlIHNvdXJjZXMgb3Igc3R5bGUgdGhhdFxuICAgICAqIGhhcyBub3QgeWV0IGZ1bGx5IGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBBIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXAgaXMgZnVsbHkgbG9hZGVkLlxuICAgICAqL1xuICAgIGxvYWRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlRGlydHkgfHwgdGhpcy5fc291cmNlc0RpcnR5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIXRoaXMuc3R5bGUgfHwgIXRoaXMuc3R5bGUubG9hZGVkKCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGlzIG1hcCdzIHN0eWxlIGFuZCBzb3VyY2VzLCBhbmQgcmUtcmVuZGVyIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVwZGF0ZVN0eWxlIG1hcmsgdGhlIG1hcCdzIHN0eWxlIGZvciByZXByb2Nlc3NpbmcgYXNcbiAgICAgKiB3ZWxsIGFzIGl0cyBzb3VyY2VzXG4gICAgICogQHJldHVybnMge01hcH0gdGhpc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VwZGF0ZSh1cGRhdGVTdHlsZT86IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0eWxlKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fc3R5bGVEaXJ0eSA9IHRoaXMuX3N0eWxlRGlydHkgfHwgdXBkYXRlU3R5bGU7XG4gICAgICAgIHRoaXMuX3NvdXJjZXNEaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fcmVyZW5kZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRoYXQgdGhlIGdpdmVuIGNhbGxiYWNrIGJlIGV4ZWN1dGVkIGR1cmluZyB0aGUgbmV4dCByZW5kZXJcbiAgICAgKiBmcmFtZS4gIFNjaGVkdWxlIGEgcmVuZGVyIGZyYW1lIGlmIG9uZSBpcyBub3QgYWxyZWFkeSBzY2hlZHVsZWQuXG4gICAgICogQHJldHVybnMgQW4gaWQgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIGNhbGxiYWNrXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVxdWVzdFJlbmRlckZyYW1lKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogVGFza0lEIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJUYXNrUXVldWUuYWRkKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBfY2FuY2VsUmVuZGVyRnJhbWUoaWQ6IFRhc2tJRCkge1xuICAgICAgICB0aGlzLl9yZW5kZXJUYXNrUXVldWUucmVtb3ZlKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsIHdoZW4gYSAocmUtKXJlbmRlciBvZiB0aGUgbWFwIGlzIHJlcXVpcmVkOlxuICAgICAqIC0gVGhlIHN0eWxlIGhhcyBjaGFuZ2VkIChgc2V0UGFpbnRQcm9wZXJ0eSgpYCwgZXRjLilcbiAgICAgKiAtIFNvdXJjZSBkYXRhIGhhcyBjaGFuZ2VkIChlLmcuIHRpbGVzIGhhdmUgZmluaXNoZWQgbG9hZGluZylcbiAgICAgKiAtIFRoZSBtYXAgaGFzIGlzIG1vdmluZyAob3IganVzdCBmaW5pc2hlZCBtb3ZpbmcpXG4gICAgICogLSBBIHRyYW5zaXRpb24gaXMgaW4gcHJvZ3Jlc3NcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtNYXB9IHRoaXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5ydW4oKTtcblxuICAgICAgICBsZXQgY3Jvc3NGYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICAvLyBJZiB0aGUgc3R5bGUgaGFzIGNoYW5nZWQsIHRoZSBtYXAgaXMgYmVpbmcgem9vbWVkLCBvciBhIHRyYW5zaXRpb24gb3IgZmFkZSBpcyBpbiBwcm9ncmVzczpcbiAgICAgICAgLy8gIC0gQXBwbHkgc3R5bGUgY2hhbmdlcyAoaW4gYSBiYXRjaClcbiAgICAgICAgLy8gIC0gUmVjYWxjdWxhdGUgcGFpbnQgcHJvcGVydGllcy5cbiAgICAgICAgaWYgKHRoaXMuc3R5bGUgJiYgdGhpcy5fc3R5bGVEaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5fc3R5bGVEaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdCB6b29tID0gdGhpcy50cmFuc2Zvcm0uem9vbTtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IGJyb3dzZXIubm93KCk7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLnpvb21IaXN0b3J5LnVwZGF0ZSh6b29tLCBub3cpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJzID0gbmV3IEV2YWx1YXRpb25QYXJhbWV0ZXJzKHpvb20sIHtcbiAgICAgICAgICAgICAgICBub3csXG4gICAgICAgICAgICAgICAgZmFkZUR1cmF0aW9uOiB0aGlzLl9mYWRlRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgem9vbUhpc3Rvcnk6IHRoaXMuc3R5bGUuem9vbUhpc3RvcnksXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogdGhpcy5zdHlsZS5nZXRUcmFuc2l0aW9uKClcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBmYWN0b3IgPSBwYXJhbWV0ZXJzLmNyb3NzRmFkaW5nRmFjdG9yKCk7XG4gICAgICAgICAgICBpZiAoZmFjdG9yICE9PSAxIHx8IGZhY3RvciAhPT0gdGhpcy5fY3Jvc3NGYWRpbmdGYWN0b3IpIHtcbiAgICAgICAgICAgICAgICBjcm9zc0ZhZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3Jvc3NGYWRpbmdGYWN0b3IgPSBmYWN0b3I7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3R5bGUudXBkYXRlKHBhcmFtZXRlcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgd2UgYXJlIGluIF9yZW5kZXIgZm9yIGFueSByZWFzb24gb3RoZXIgdGhhbiBhbiBpbi1wcm9ncmVzcyBwYWludFxuICAgICAgICAvLyB0cmFuc2l0aW9uLCB1cGRhdGUgc291cmNlIGNhY2hlcyB0byBjaGVjayBmb3IgYW5kIGxvYWQgYW55IHRpbGVzIHdlXG4gICAgICAgIC8vIG5lZWQgZm9yIHRoZSBjdXJyZW50IHRyYW5zZm9ybVxuICAgICAgICBpZiAodGhpcy5zdHlsZSAmJiB0aGlzLl9zb3VyY2VzRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZXNEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5fdXBkYXRlU291cmNlcyh0aGlzLnRyYW5zZm9ybSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wbGFjZW1lbnREaXJ0eSA9IHRoaXMuc3R5bGUgJiYgdGhpcy5zdHlsZS5fdXBkYXRlUGxhY2VtZW50KHRoaXMucGFpbnRlci50cmFuc2Zvcm0sIHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzLCB0aGlzLl9mYWRlRHVyYXRpb24pO1xuXG4gICAgICAgIC8vIEFjdHVhbGx5IGRyYXdcbiAgICAgICAgdGhpcy5wYWludGVyLnJlbmRlcih0aGlzLnN0eWxlLCB7XG4gICAgICAgICAgICBzaG93VGlsZUJvdW5kYXJpZXM6IHRoaXMuc2hvd1RpbGVCb3VuZGFyaWVzLFxuICAgICAgICAgICAgc2hvd092ZXJkcmF3SW5zcGVjdG9yOiB0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IsXG4gICAgICAgICAgICByb3RhdGluZzogdGhpcy5pc1JvdGF0aW5nKCksXG4gICAgICAgICAgICB6b29taW5nOiB0aGlzLmlzWm9vbWluZygpLFxuICAgICAgICAgICAgZmFkZUR1cmF0aW9uOiB0aGlzLl9mYWRlRHVyYXRpb25cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncmVuZGVyJykpO1xuXG4gICAgICAgIGlmICh0aGlzLmxvYWRlZCgpICYmICF0aGlzLl9sb2FkZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdsb2FkJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3R5bGUgJiYgKHRoaXMuc3R5bGUuaGFzVHJhbnNpdGlvbnMoKSB8fCBjcm9zc0ZhZGluZykpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2NoZWR1bGUgYW5vdGhlciByZW5kZXIgZnJhbWUgaWYgaXQncyBuZWVkZWQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEV2ZW4gdGhvdWdoIGBfc3R5bGVEaXJ0eWAgYW5kIGBfc291cmNlc0RpcnR5YCBhcmUgcmVzZXQgaW4gdGhpc1xuICAgICAgICAvLyBtZXRob2QsIHN5bmNocm9ub3VzIGV2ZW50cyBmaXJlZCBkdXJpbmcgU3R5bGUjdXBkYXRlIG9yXG4gICAgICAgIC8vIFN0eWxlI191cGRhdGVTb3VyY2VzIGNvdWxkIGhhdmUgY2F1c2VkIHRoZW0gdG8gYmUgc2V0IGFnYWluLlxuICAgICAgICBpZiAodGhpcy5fc291cmNlc0RpcnR5IHx8IHRoaXMuX3JlcGFpbnQgfHwgdGhpcy5fc3R5bGVEaXJ0eSB8fCB0aGlzLl9wbGFjZW1lbnREaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5fcmVyZW5kZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIGFuZCByZWxlYXNlIGFsbCBpbnRlcm5hbCByZXNvdXJjZXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbWFwLlxuICAgICAqXG4gICAgICogVGhpcyBpbmNsdWRlcyBET00gZWxlbWVudHMsIGV2ZW50IGJpbmRpbmdzLCB3ZWIgd29ya2VycywgYW5kIFdlYkdMIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIG1ldGhvZCB3aGVuIHlvdSBhcmUgZG9uZSB1c2luZyB0aGUgbWFwIGFuZCB3aXNoIHRvIGVuc3VyZSB0aGF0IGl0IG5vXG4gICAgICogbG9uZ2VyIGNvbnN1bWVzIGJyb3dzZXIgcmVzb3VyY2VzLiBBZnRlcndhcmRzLCB5b3UgbXVzdCBub3QgY2FsbCBhbnkgb3RoZXJcbiAgICAgKiBtZXRob2RzIG9uIHRoZSBtYXAuXG4gICAgICovXG4gICAgcmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5faGFzaCkgdGhpcy5faGFzaC5yZW1vdmUoKTtcbiAgICAgICAgYnJvd3Nlci5jYW5jZWxGcmFtZSh0aGlzLl9mcmFtZUlkKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuICAgICAgICB0aGlzLnNldFN0eWxlKG51bGwpO1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9vbldpbmRvd1Jlc2l6ZSwgZmFsc2UpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29ubGluZScsIHRoaXMuX29uV2luZG93T25saW5lLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uID0gdGhpcy5wYWludGVyLmNvbnRleHQuZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKTtcbiAgICAgICAgaWYgKGV4dGVuc2lvbikgZXh0ZW5zaW9uLmxvc2VDb250ZXh0KCk7XG4gICAgICAgIHJlbW92ZU5vZGUodGhpcy5fY2FudmFzQ29udGFpbmVyKTtcbiAgICAgICAgcmVtb3ZlTm9kZSh0aGlzLl9jb250cm9sQ29udGFpbmVyKTtcbiAgICAgICAgcmVtb3ZlTm9kZSh0aGlzLl9taXNzaW5nQ1NTQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLW1hcCcpO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdyZW1vdmUnKSk7XG4gICAgfVxuXG4gICAgX3JlcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5zdHlsZSAmJiAhdGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IGJyb3dzZXIuZnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25XaW5kb3dPbmxpbmUoKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgIH1cblxuICAgIF9vbldpbmRvd1Jlc2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYWNrUmVzaXplKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKS5yZXNpemUoKS5fdXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCB3aWxsIHJlbmRlciBhbiBvdXRsaW5lXG4gICAgICogYXJvdW5kIGVhY2ggdGlsZS4gVGhlc2UgdGlsZSBib3VuZGFyaWVzIGFyZSB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEBuYW1lIHNob3dUaWxlQm91bmRhcmllc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKi9cbiAgICBnZXQgc2hvd1RpbGVCb3VuZGFyaWVzKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXM7IH1cbiAgICBzZXQgc2hvd1RpbGVCb3VuZGFyaWVzKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXMgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3Nob3dUaWxlQm91bmRhcmllcyA9IHZhbHVlO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCB3aWxsIHJlbmRlciBib3hlc1xuICAgICAqIGFyb3VuZCBhbGwgc3ltYm9scyBpbiB0aGUgZGF0YSBzb3VyY2UsIHJldmVhbGluZyB3aGljaCBzeW1ib2xzXG4gICAgICogd2VyZSByZW5kZXJlZCBvciB3aGljaCB3ZXJlIGhpZGRlbiBkdWUgdG8gY29sbGlzaW9ucy5cbiAgICAgKiBUaGlzIGluZm9ybWF0aW9uIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogQG5hbWUgc2hvd0NvbGxpc2lvbkJveGVzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqL1xuICAgIGdldCBzaG93Q29sbGlzaW9uQm94ZXMoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlczsgfVxuICAgIHNldCBzaG93Q29sbGlzaW9uQm94ZXModmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzID0gdmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSB0dXJuIGNvbGxpc2lvbiBib3hlcyBvbiB3ZSBoYXZlIHRvIGdlbmVyYXRlIHRoZW0gZm9yIGV4aXN0aW5nIHRpbGVzXG4gICAgICAgICAgICAvLyBXaGVuIHdlIHR1cm4gdGhlbSBvZmYsIHRoZXJlJ3Mgbm8gY29zdCB0byBsZWF2aW5nIGV4aXN0aW5nIGJveGVzIGluIHBsYWNlXG4gICAgICAgICAgICB0aGlzLnN0eWxlLl9nZW5lcmF0ZUNvbGxpc2lvbkJveGVzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIGNhbGwgYW4gdXBkYXRlIHRvIHJlbW92ZSBjb2xsaXNpb24gYm94ZXNcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCBzaG91bGQgY29sb3ItY29kZVxuICAgICAqIGVhY2ggZnJhZ21lbnQgdG8gc2hvdyBob3cgbWFueSB0aW1lcyBpdCBoYXMgYmVlbiBzaGFkZWQuXG4gICAgICogV2hpdGUgZnJhZ21lbnRzIGhhdmUgYmVlbiBzaGFkZWQgOCBvciBtb3JlIHRpbWVzLlxuICAgICAqIEJsYWNrIGZyYWdtZW50cyBoYXZlIGJlZW4gc2hhZGVkIDAgdGltZXMuXG4gICAgICogVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEBuYW1lIHNob3dPdmVyZHJhd1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKi9cbiAgICBnZXQgc2hvd092ZXJkcmF3SW5zcGVjdG9yKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I7IH1cbiAgICBzZXQgc2hvd092ZXJkcmF3SW5zcGVjdG9yKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciA9IHZhbHVlO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCB3aWxsXG4gICAgICogY29udGludW91c2x5IHJlcGFpbnQuIFRoaXMgaW5mb3JtYXRpb24gaXMgdXNlZnVsIGZvciBhbmFseXppbmcgcGVyZm9ybWFuY2UuXG4gICAgICpcbiAgICAgKiBAbmFtZSByZXBhaW50XG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqL1xuICAgIGdldCByZXBhaW50KCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9yZXBhaW50OyB9XG4gICAgc2V0IHJlcGFpbnQodmFsdWU6IGJvb2xlYW4pIHsgdGhpcy5fcmVwYWludCA9IHZhbHVlOyB0aGlzLl91cGRhdGUoKTsgfVxuXG4gICAgLy8gc2hvdyB2ZXJ0aWNlc1xuICAgIGdldCB2ZXJ0aWNlcygpOiBib29sZWFuIHsgcmV0dXJuICEhdGhpcy5fdmVydGljZXM7IH1cbiAgICBzZXQgdmVydGljZXModmFsdWU6IGJvb2xlYW4pIHsgdGhpcy5fdmVydGljZXMgPSB2YWx1ZTsgdGhpcy5fdXBkYXRlKCk7IH1cblxuICAgIF9vbkRhdGEoZXZlbnQ6IE1hcERhdGFFdmVudCkge1xuICAgICAgICB0aGlzLl91cGRhdGUoZXZlbnQuZGF0YVR5cGUgPT09ICdzdHlsZScpO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KGAke2V2ZW50LmRhdGFUeXBlfWRhdGFgLCBldmVudCkpO1xuICAgIH1cblxuICAgIF9vbkRhdGFMb2FkaW5nKGV2ZW50OiBNYXBEYXRhRXZlbnQpIHtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudChgJHtldmVudC5kYXRhVHlwZX1kYXRhbG9hZGluZ2AsIGV2ZW50KSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNYXA7XG5cbmZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xuICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIGludGVyYWN0aXZlIGNvbnRyb2xzIGFkZGVkIHRvIHRoZSBtYXAuIFRoaXMgaXMgYW5cbiAqIHNwZWNpZmljYXRpb24gZm9yIGltcGxlbWVudGVycyB0byBtb2RlbDogaXQgaXMgbm90XG4gKiBhbiBleHBvcnRlZCBtZXRob2Qgb3IgY2xhc3MuXG4gKlxuICogQ29udHJvbHMgbXVzdCBpbXBsZW1lbnQgYG9uQWRkYCBhbmQgYG9uUmVtb3ZlYCwgYW5kIG11c3Qgb3duIGFuXG4gKiBlbGVtZW50LCB3aGljaCBpcyBvZnRlbiBhIGBkaXZgIGVsZW1lbnQuIFRvIHVzZSBNYXBib3ggR0wgSlMnc1xuICogZGVmYXVsdCBjb250cm9sIHN0eWxpbmcsIGFkZCB0aGUgYG1hcGJveGdsLWN0cmxgIGNsYXNzIHRvIHlvdXIgY29udHJvbCdzXG4gKiBub2RlLlxuICpcbiAqIEBpbnRlcmZhY2UgSUNvbnRyb2xcbiAqIEBleGFtcGxlXG4gKiAvLyBDb250cm9sIGltcGxlbWVudGVkIGFzIEVTNiBjbGFzc1xuICogY2xhc3MgSGVsbG9Xb3JsZENvbnRyb2wge1xuICogICAgIG9uQWRkKG1hcCkge1xuICogICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gKiAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICogICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NOYW1lID0gJ21hcGJveGdsLWN0cmwnO1xuICogICAgICAgICB0aGlzLl9jb250YWluZXIudGV4dENvbnRlbnQgPSAnSGVsbG8sIHdvcmxkJztcbiAqICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAqICAgICB9XG4gKlxuICogICAgIG9uUmVtb3ZlKCkge1xuICogICAgICAgICB0aGlzLl9jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuICogICAgICAgICB0aGlzLl9tYXAgPSB1bmRlZmluZWQ7XG4gKiAgICAgfVxuICogfVxuICpcbiAqIC8vIENvbnRyb2wgaW1wbGVtZW50ZWQgYXMgRVM1IHByb3RvdHlwaWNhbCBjbGFzc1xuICogZnVuY3Rpb24gSGVsbG9Xb3JsZENvbnRyb2woKSB7IH1cbiAqXG4gKiBIZWxsb1dvcmxkQ29udHJvbC5wcm90b3R5cGUub25BZGQgPSBmdW5jdGlvbihtYXApIHtcbiAqICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gKiAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gKiAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTmFtZSA9ICdtYXBib3hnbC1jdHJsJztcbiAqICAgICB0aGlzLl9jb250YWluZXIudGV4dENvbnRlbnQgPSAnSGVsbG8sIHdvcmxkJztcbiAqICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICogfTtcbiAqXG4gKiBIZWxsb1dvcmxkQ29udHJvbC5wcm90b3R5cGUub25SZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gKiAgICAgIHRoaXMuX2NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lcik7XG4gKiAgICAgIHRoaXMuX21hcCA9IHVuZGVmaW5lZDtcbiAqIH07XG4gKi9cblxuLyoqXG4gKiBSZWdpc3RlciBhIGNvbnRyb2wgb24gdGhlIG1hcCBhbmQgZ2l2ZSBpdCBhIGNoYW5jZSB0byByZWdpc3RlciBldmVudCBsaXN0ZW5lcnNcbiAqIGFuZCByZXNvdXJjZXMuIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSB7QGxpbmsgTWFwI2FkZENvbnRyb2x9XG4gKiBpbnRlcm5hbGx5LlxuICpcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIElDb250cm9sXG4gKiBAaW5zdGFuY2VcbiAqIEBuYW1lIG9uQWRkXG4gKiBAcGFyYW0ge01hcH0gbWFwIHRoZSBNYXAgdGhpcyBjb250cm9sIHdpbGwgYmUgYWRkZWQgdG9cbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gVGhlIGNvbnRyb2wncyBjb250YWluZXIgZWxlbWVudC4gVGhpcyBzaG91bGRcbiAqIGJlIGNyZWF0ZWQgYnkgdGhlIGNvbnRyb2wgYW5kIHJldHVybmVkIGJ5IG9uQWRkIHdpdGhvdXQgYmVpbmcgYXR0YWNoZWRcbiAqIHRvIHRoZSBET006IHRoZSBtYXAgd2lsbCBpbnNlcnQgdGhlIGNvbnRyb2wncyBlbGVtZW50IGludG8gdGhlIERPTVxuICogYXMgbmVjZXNzYXJ5LlxuICovXG5cbi8qKlxuICogVW5yZWdpc3RlciBhIGNvbnRyb2wgb24gdGhlIG1hcCBhbmQgZ2l2ZSBpdCBhIGNoYW5jZSB0byBkZXRhY2ggZXZlbnQgbGlzdGVuZXJzXG4gKiBhbmQgcmVzb3VyY2VzLiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkge0BsaW5rIE1hcCNyZW1vdmVDb250cm9sfVxuICogaW50ZXJuYWxseS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBJQ29udHJvbFxuICogQGluc3RhbmNlXG4gKiBAbmFtZSBvblJlbW92ZVxuICogQHBhcmFtIHtNYXB9IG1hcCB0aGUgTWFwIHRoaXMgY29udHJvbCB3aWxsIGJlIHJlbW92ZWQgZnJvbVxuICogQHJldHVybnMge3VuZGVmaW5lZH0gdGhlcmUgaXMgbm8gcmVxdWlyZWQgcmV0dXJuIHZhbHVlIGZvciB0aGlzIG1ldGhvZFxuICovXG5cbi8qKlxuICogT3B0aW9uYWxseSBwcm92aWRlIGEgZGVmYXVsdCBwb3NpdGlvbiBmb3IgdGhpcyBjb250cm9sLiBJZiB0aGlzIG1ldGhvZFxuICogaXMgaW1wbGVtZW50ZWQgYW5kIHtAbGluayBNYXAjYWRkQ29udHJvbH0gaXMgY2FsbGVkIHdpdGhvdXQgdGhlIGBwb3NpdGlvbmBcbiAqIHBhcmFtZXRlciwgdGhlIHZhbHVlIHJldHVybmVkIGJ5IGdldERlZmF1bHRQb3NpdGlvbiB3aWxsIGJlIHVzZWQgYXMgdGhlXG4gKiBjb250cm9sJ3MgcG9zaXRpb24uXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgSUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgZ2V0RGVmYXVsdFBvc2l0aW9uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBhIGNvbnRyb2wgcG9zaXRpb24sIG9uZSBvZiB0aGUgdmFsdWVzIHZhbGlkIGluIGFkZENvbnRyb2wuXG4gKi9cblxuLyoqXG4gKiBBIFtgUG9pbnRgIGdlb21ldHJ5XShodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L3BvaW50LWdlb21ldHJ5KSBvYmplY3QsIHdoaWNoIGhhc1xuICogYHhgIGFuZCBgeWAgcHJvcGVydGllcyByZXByZXNlbnRpbmcgc2NyZWVuIGNvb3JkaW5hdGVzIGluIHBpeGVscy5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQb2ludFxuICovXG5cbi8qKlxuICogQSB7QGxpbmsgUG9pbnR9IG9yIGFuIGFycmF5IG9mIHR3byBudW1iZXJzIHJlcHJlc2VudGluZyBgeGAgYW5kIGB5YCBzY3JlZW4gY29vcmRpbmF0ZXMgaW4gcGl4ZWxzLlxuICpcbiAqIEB0eXBlZGVmIHsoUG9pbnQgfCBBcnJheTxudW1iZXI+KX0gUG9pbnRMaWtlXG4gKi9cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgZXh0ZW5kLCBiaW5kQWxsIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCBEcmFnUm90YXRlSGFuZGxlciBmcm9tICcuLi9oYW5kbGVyL2RyYWdfcm90YXRlJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5cbnR5cGUgT3B0aW9ucyA9IHtcbiAgICBzaG93Q29tcGFzcz86IGJvb2xlYW4sXG4gICAgc2hvd1pvb20/OiBib29sZWFuXG59O1xuXG5jb25zdCBkZWZhdWx0T3B0aW9uczogT3B0aW9ucyA9IHtcbiAgICBzaG93Q29tcGFzczogdHJ1ZSxcbiAgICBzaG93Wm9vbTogdHJ1ZVxufTtcblxuLyoqXG4gKiBBIGBOYXZpZ2F0aW9uQ29udHJvbGAgY29udHJvbCBjb250YWlucyB6b29tIGJ1dHRvbnMgYW5kIGEgY29tcGFzcy5cbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNob3dDb21wYXNzPXRydWVdIElmIGB0cnVlYCB0aGUgY29tcGFzcyBidXR0b24gaXMgaW5jbHVkZWQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNob3dab29tPXRydWVdIElmIGB0cnVlYCB0aGUgem9vbS1pbiBhbmQgem9vbS1vdXQgYnV0dG9ucyBhcmUgaW5jbHVkZWQuXG4gKiBAZXhhbXBsZVxuICogdmFyIG5hdiA9IG5ldyBtYXBib3hnbC5OYXZpZ2F0aW9uQ29udHJvbCgpO1xuICogbWFwLmFkZENvbnRyb2wobmF2LCAndG9wLWxlZnQnKTtcbiAqIEBzZWUgW0Rpc3BsYXkgbWFwIG5hdmlnYXRpb24gY29udHJvbHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbmF2aWdhdGlvbi8pXG4gKiBAc2VlIFtBZGQgYSB0aGlyZCBwYXJ0eSB2ZWN0b3IgdGlsZSBzb3VyY2VdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdGhpcmQtcGFydHkvKVxuICovXG5jbGFzcyBOYXZpZ2F0aW9uQ29udHJvbCB7XG4gICAgX21hcDogTWFwO1xuICAgIG9wdGlvbnM6IE9wdGlvbnM7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX3pvb21JbkJ1dHRvbjogSFRNTEVsZW1lbnQ7XG4gICAgX3pvb21PdXRCdXR0b246IEhUTUxFbGVtZW50O1xuICAgIF9jb21wYXNzOiBIVE1MRWxlbWVudDtcbiAgICBfY29tcGFzc0Fycm93OiBIVE1MRWxlbWVudDtcbiAgICBfaGFuZGxlcjogRHJhZ1JvdGF0ZUhhbmRsZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBPcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZCh7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXAnKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGUpID0+IGUucHJldmVudERlZmF1bHQoKSk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Wm9vbSkge1xuICAgICAgICAgICAgdGhpcy5fem9vbUluQnV0dG9uID0gdGhpcy5fY3JlYXRlQnV0dG9uKCdtYXBib3hnbC1jdHJsLWljb24gbWFwYm94Z2wtY3RybC16b29tLWluJywgJ1pvb20gSW4nLCAoKSA9PiB0aGlzLl9tYXAuem9vbUluKCkpO1xuICAgICAgICAgICAgdGhpcy5fem9vbU91dEJ1dHRvbiA9IHRoaXMuX2NyZWF0ZUJ1dHRvbignbWFwYm94Z2wtY3RybC1pY29uIG1hcGJveGdsLWN0cmwtem9vbS1vdXQnLCAnWm9vbSBPdXQnLCAoKSA9PiB0aGlzLl9tYXAuem9vbU91dCgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dDb21wYXNzKSB7XG4gICAgICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICAgICAnX3JvdGF0ZUNvbXBhc3NBcnJvdydcbiAgICAgICAgICAgIF0sIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fY29tcGFzcyA9IHRoaXMuX2NyZWF0ZUJ1dHRvbignbWFwYm94Z2wtY3RybC1pY29uIG1hcGJveGdsLWN0cmwtY29tcGFzcycsICdSZXNldCBOb3J0aCcsICgpID0+IHRoaXMuX21hcC5yZXNldE5vcnRoKCkpO1xuICAgICAgICAgICAgdGhpcy5fY29tcGFzc0Fycm93ID0gRE9NLmNyZWF0ZSgnc3BhbicsICdtYXBib3hnbC1jdHJsLWNvbXBhc3MtYXJyb3cnLCB0aGlzLl9jb21wYXNzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yb3RhdGVDb21wYXNzQXJyb3coKSB7XG4gICAgICAgIGNvbnN0IHJvdGF0ZSA9IGByb3RhdGUoJHt0aGlzLl9tYXAudHJhbnNmb3JtLmFuZ2xlICogKDE4MCAvIE1hdGguUEkpfWRlZylgO1xuICAgICAgICB0aGlzLl9jb21wYXNzQXJyb3cuc3R5bGUudHJhbnNmb3JtID0gcm90YXRlO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Q29tcGFzcykge1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9uKCdyb3RhdGUnLCB0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpO1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KCk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVyID0gbmV3IERyYWdSb3RhdGVIYW5kbGVyKG1hcCwge2J1dHRvbjogJ2xlZnQnLCBlbGVtZW50OiB0aGlzLl9jb21wYXNzfSk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVyLmVuYWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIERPTS5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Q29tcGFzcykge1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9mZigncm90YXRlJywgdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KTtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXIuZGlzYWJsZSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2hhbmRsZXI7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgdGhpcy5fbWFwO1xuICAgIH1cblxuICAgIF9jcmVhdGVCdXR0b24oY2xhc3NOYW1lOiBzdHJpbmcsIGFyaWFMYWJlbDogc3RyaW5nLCBmbjogKCkgPT4gbWl4ZWQpIHtcbiAgICAgICAgY29uc3QgYSA9IERPTS5jcmVhdGUoJ2J1dHRvbicsIGNsYXNzTmFtZSwgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgYS50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIGEuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYXJpYUxhYmVsKTtcbiAgICAgICAgYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZuKTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOYXZpZ2F0aW9uQ29udHJvbDtcbiIsIi8vIEBmbG93XG5cbmV4cG9ydCB0eXBlIEFuY2hvciA9XG4gICAgfCAnY2VudGVyJ1xuICAgIHwgJ3RvcCdcbiAgICB8ICdib3R0b20nXG4gICAgfCAnbGVmdCdcbiAgICB8ICdyaWdodCdcbiAgICB8ICd0b3AtbGVmdCdcbiAgICB8ICd0b3AtcmlnaHQnXG4gICAgfCAnYm90dG9tLWxlZnQnXG4gICAgfCAnYm90dG9tLXJpZ2h0JztcblxuZXhwb3J0IGNvbnN0IGFuY2hvclRyYW5zbGF0ZToge1tBbmNob3JdOiBzdHJpbmd9ID0ge1xuICAgICdjZW50ZXInOiAndHJhbnNsYXRlKC01MCUsLTUwJSknLFxuICAgICd0b3AnOiAndHJhbnNsYXRlKC01MCUsMCknLFxuICAgICd0b3AtbGVmdCc6ICd0cmFuc2xhdGUoMCwwKScsXG4gICAgJ3RvcC1yaWdodCc6ICd0cmFuc2xhdGUoLTEwMCUsMCknLFxuICAgICdib3R0b20nOiAndHJhbnNsYXRlKC01MCUsLTEwMCUpJyxcbiAgICAnYm90dG9tLWxlZnQnOiAndHJhbnNsYXRlKDAsLTEwMCUpJyxcbiAgICAnYm90dG9tLXJpZ2h0JzogJ3RyYW5zbGF0ZSgtMTAwJSwtMTAwJSknLFxuICAgICdsZWZ0JzogJ3RyYW5zbGF0ZSgwLC01MCUpJyxcbiAgICAncmlnaHQnOiAndHJhbnNsYXRlKC0xMDAlLC01MCUpJ1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5QW5jaG9yQ2xhc3MoZWxlbWVudDogSFRNTEVsZW1lbnQsIGFuY2hvcjogQW5jaG9yLCBwcmVmaXg6IHN0cmluZykge1xuICAgIGNvbnN0IGNsYXNzTGlzdCA9IGVsZW1lbnQuY2xhc3NMaXN0O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGFuY2hvclRyYW5zbGF0ZSkge1xuICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGBtYXBib3hnbC0ke3ByZWZpeH0tYW5jaG9yLSR7a2V5fWApO1xuICAgIH1cbiAgICBjbGFzc0xpc3QuYWRkKGBtYXBib3hnbC0ke3ByZWZpeH0tYW5jaG9yLSR7YW5jaG9yfWApO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93JztcbmltcG9ydCBMbmdMYXQgZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHNtYXJ0V3JhcCBmcm9tICcuLi91dGlsL3NtYXJ0X3dyYXAnO1xuaW1wb3J0IHsgYmluZEFsbCwgZXh0ZW5kIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IHR5cGUgQW5jaG9yLCBhbmNob3JUcmFuc2xhdGUsIGFwcGx5QW5jaG9yQ2xhc3MgfSBmcm9tICcuL2FuY2hvcic7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuL21hcCc7XG5pbXBvcnQgdHlwZSBQb3B1cCBmcm9tICcuL3BvcHVwJztcbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tIFwiLi4vZ2VvL2xuZ19sYXRcIjtcbmltcG9ydCB0eXBlIHtNYXBNb3VzZUV2ZW50fSBmcm9tICcuL2V2ZW50cyc7XG5cbnR5cGUgT3B0aW9ucyA9IHtcbiAgICBlbGVtZW50PzogSFRNTEVsZW1lbnQsXG4gICAgb2Zmc2V0PzogUG9pbnRMaWtlLFxuICAgIGFuY2hvcj86IEFuY2hvclxufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFya2VyIGNvbXBvbmVudFxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBvcHRpb25zLmVsZW1lbnQgRE9NIGVsZW1lbnQgdG8gdXNlIGFzIGEgbWFya2VyLiBUaGUgZGVmYXVsdCBpcyBhIGxpZ2h0IGJsdWUsIGRyb3BsZXQtc2hhcGVkIFNWRyBtYXJrZXIuXG4gKiBAcGFyYW0gb3B0aW9ucy5hbmNob3IgQSBzdHJpbmcgaW5kaWNhdGluZyB0aGUgcGFydCBvZiB0aGUgTWFya2VyIHRoYXQgc2hvdWxkIGJlIHBvc2l0aW9uZWQgY2xvc2VzdCB0byB0aGUgY29vcmRpbmF0ZSBzZXQgdmlhIHtAbGluayBNYXJrZXIjc2V0TG5nTGF0fS5cbiAqICAgT3B0aW9ucyBhcmUgYCdjZW50ZXInYCwgYCd0b3AnYCwgYCdib3R0b20nYCwgYCdsZWZ0J2AsIGAncmlnaHQnYCwgYCd0b3AtbGVmdCdgLCBgJ3RvcC1yaWdodCdgLCBgJ2JvdHRvbS1sZWZ0J2AsIGFuZCBgJ2JvdHRvbS1yaWdodCdgLlxuICogICBUaGUgZGVmYXVsdCBpcyBgJ2NlbnRlcidgLlxuICogQHBhcmFtIG9wdGlvbnMub2Zmc2V0IFRoZSBvZmZzZXQgaW4gcGl4ZWxzIGFzIGEge0BsaW5rIFBvaW50TGlrZX0gb2JqZWN0IHRvIGFwcGx5IHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50J3MgY2VudGVyLiBOZWdhdGl2ZXMgaW5kaWNhdGUgbGVmdCBhbmQgdXAuXG4gKiBAZXhhbXBsZVxuICogdmFyIG1hcmtlciA9IG5ldyBtYXBib3hnbC5NYXJrZXIoKVxuICogICAuc2V0TG5nTGF0KFszMC41LCA1MC41XSlcbiAqICAgLmFkZFRvKG1hcCk7XG4gKiBAc2VlIFtBZGQgY3VzdG9tIGljb25zIHdpdGggTWFya2Vyc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jdXN0b20tbWFya2VyLWljb25zLylcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFya2VyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2FuY2hvcjogQW5jaG9yO1xuICAgIF9vZmZzZXQ6IFBvaW50O1xuICAgIF9lbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBfcG9wdXA6ID9Qb3B1cDtcbiAgICBfbG5nTGF0OiBMbmdMYXQ7XG4gICAgX3BvczogP1BvaW50O1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz86IE9wdGlvbnMpIHtcbiAgICAgICAgLy8gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgLS0gdGhlIGNvbnN0cnVjdG9yIHVzZWQgdG8gYWNjZXB0IHRoZSBlbGVtZW50IGFzIGFcbiAgICAgICAgLy8gcmVxdWlyZWQgZmlyc3QgYXJndW1lbnQsIGJlZm9yZSBpdCB3YXMgbWFkZSBvcHRpb25hbC5cbiAgICAgICAgaWYgKGFyZ3VtZW50c1swXSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gZXh0ZW5kKHtlbGVtZW50OiBvcHRpb25zfSwgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpbmRBbGwoWydfdXBkYXRlJywgJ19vbk1hcENsaWNrJ10sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5hbmNob3IgfHwgJ2NlbnRlcic7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBET00uY3JlYXRlKCdkaXYnKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIGRlZmF1bHQgbWFwIG1hcmtlciBTVkdcbiAgICAgICAgICAgIGNvbnN0IHN2ZyA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG4gICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsICc0MXB4Jyk7XG4gICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3dpZHRoJywgJzI3cHgnKTtcbiAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndmlld0JveCcsICcwIDAgMjcgNDEnKTtcblxuICAgICAgICAgICAgY29uc3QgbWFya2VyTGFyZ2UgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgICAgICAgICAgIG1hcmtlckxhcmdlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdzdHJva2UnLCAnbm9uZScpO1xuICAgICAgICAgICAgbWFya2VyTGFyZ2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0cm9rZS13aWR0aCcsICcxJyk7XG4gICAgICAgICAgICBtYXJrZXJMYXJnZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsICdub25lJyk7XG4gICAgICAgICAgICBtYXJrZXJMYXJnZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbC1ydWxlJywgJ2V2ZW5vZGQnKTtcblxuICAgICAgICAgICAgY29uc3QgcGFnZTEgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgICAgICAgICAgIHBhZ2UxLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsLXJ1bGUnLCAnbm9uemVybycpO1xuXG4gICAgICAgICAgICBjb25zdCBzaGFkb3cgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgICAgICAgICAgIHNoYWRvdy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgzLjAsIDI5LjApJyk7XG4gICAgICAgICAgICBzaGFkb3cuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCAnIzAwMDAwMCcpO1xuXG4gICAgICAgICAgICBjb25zdCBlbGxpcHNlcyA9IFtcbiAgICAgICAgICAgICAgICB7J3J4JzogJzEwLjUnLCAncnknOiAnNS4yNTAwMjI3Myd9LFxuICAgICAgICAgICAgICAgIHsncngnOiAnMTAuNScsICdyeSc6ICc1LjI1MDAyMjczJ30sXG4gICAgICAgICAgICAgICAgeydyeCc6ICc5LjUnLCAncnknOiAnNC43NzI3NTAwNyd9LFxuICAgICAgICAgICAgICAgIHsncngnOiAnOC41JywgJ3J5JzogJzQuMjk1NDk5MzYnfSxcbiAgICAgICAgICAgICAgICB7J3J4JzogJzcuNScsICdyeSc6ICczLjgxODIyMzA4J30sXG4gICAgICAgICAgICAgICAgeydyeCc6ICc2LjUnLCAncnknOiAnMy4zNDA5NDY3OSd9LFxuICAgICAgICAgICAgICAgIHsncngnOiAnNS41JywgJ3J5JzogJzIuODYzNjcwNTEnfSxcbiAgICAgICAgICAgICAgICB7J3J4JzogJzQuNScsICdyeSc6ICcyLjM4NjM2ODY0J31cbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgZGF0YSBvZiBlbGxpcHNlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsbGlwc2UgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2VsbGlwc2UnKTtcbiAgICAgICAgICAgICAgICBlbGxpcHNlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdvcGFjaXR5JywgJzAuMDQnKTtcbiAgICAgICAgICAgICAgICBlbGxpcHNlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeCcsICcxMC41Jyk7XG4gICAgICAgICAgICAgICAgZWxsaXBzZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3knLCAnNS44MDAyOTAwOCcpO1xuICAgICAgICAgICAgICAgIGVsbGlwc2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3J4JywgZGF0YVsncngnXSk7XG4gICAgICAgICAgICAgICAgZWxsaXBzZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncnknLCBkYXRhWydyeSddKTtcbiAgICAgICAgICAgICAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoZWxsaXBzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgICAgICAgICAgIGJhY2tncm91bmQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCAnIzNGQjFDRScpO1xuXG4gICAgICAgICAgICBjb25zdCBiZ1BhdGggPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcbiAgICAgICAgICAgIGJnUGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZCcsICdNMjcsMTMuNSBDMjcsMTkuMDc0NjQ0IDIwLjI1MDAwMSwyNy4wMDAwMDIgMTQuNzUsMzQuNTAwMDAyIEMxNC4wMTY2NjUsMzUuNTAwMDA0IDEyLjk4MzMzNSwzNS41MDAwMDQgMTIuMjUsMzQuNTAwMDAyIEM2Ljc0OTk5OTMsMjcuMDAwMDAyIDAsMTkuMjIyNTYyIDAsMTMuNSBDMCw2LjA0NDE1NTkgNi4wNDQxNTU5LDAgMTMuNSwwIEMyMC45NTU4NDQsMCAyNyw2LjA0NDE1NTkgMjcsMTMuNSBaJyk7XG5cbiAgICAgICAgICAgIGJhY2tncm91bmQuYXBwZW5kQ2hpbGQoYmdQYXRoKTtcblxuICAgICAgICAgICAgY29uc3QgYm9yZGVyID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG4gICAgICAgICAgICBib3JkZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ29wYWNpdHknLCAnMC4yNScpO1xuICAgICAgICAgICAgYm9yZGVyLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgJyMwMDAwMDAnKTtcblxuICAgICAgICAgICAgY29uc3QgYm9yZGVyUGF0aCA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuICAgICAgICAgICAgYm9yZGVyUGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZCcsICdNMTMuNSwwIEM2LjA0NDE1NTksMCAwLDYuMDQ0MTU1OSAwLDEzLjUgQzAsMTkuMjIyNTYyIDYuNzQ5OTk5MywyNyAxMi4yNSwzNC41IEMxMywzNS41MjI3MjcgMTQuMDE2NjY0LDM1LjUwMDAwNCAxNC43NSwzNC41IEMyMC4yNTAwMDEsMjcgMjcsMTkuMDc0NjQ0IDI3LDEzLjUgQzI3LDYuMDQ0MTU1OSAyMC45NTU4NDQsMCAxMy41LDAgWiBNMTMuNSwxIEMyMC40MTU0MDQsMSAyNiw2LjU4NDU5NiAyNiwxMy41IEMyNiwxNS44OTg2NTcgMjQuNDk1NTg0LDE5LjE4MTQzMSAyMi4yMjA3MDMsMjIuNzM4MjgxIEMxOS45NDU4MjMsMjYuMjk1MTMyIDE2LjcwNTExOSwzMC4xNDIxNjcgMTMuOTQzMzU5LDMzLjkwODIwMyBDMTMuNzQzNDQ1LDM0LjE4MDgxNCAxMy42MTI3MTUsMzQuMzIyNzM4IDEzLjUsMzQuNDQxNDA2IEMxMy4zODcyODUsMzQuMzIyNzM4IDEzLjI1NjU1NSwzNC4xODA4MTQgMTMuMDU2NjQxLDMzLjkwODIwMyBDMTAuMjg0NDgxLDMwLjEyNzk4NSA3LjQxNDg2ODQsMjYuMzE0MTU5IDUuMDE1NjI1LDIyLjc3MzQzOCBDMi42MTYzODE2LDE5LjIzMjcxNSAxLDE1Ljk1MzUzOCAxLDEzLjUgQzEsNi41ODQ1OTYgNi41ODQ1OTYsMSAxMy41LDEgWicpO1xuXG4gICAgICAgICAgICBib3JkZXIuYXBwZW5kQ2hpbGQoYm9yZGVyUGF0aCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1ha2kgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgICAgICAgICAgIG1ha2kuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoNi4wLCA3LjApJyk7XG4gICAgICAgICAgICBtYWtpLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgJyNGRkZGRkYnKTtcblxuICAgICAgICAgICAgY29uc3QgY2lyY2xlQ29udGFpbmVyID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG4gICAgICAgICAgICBjaXJjbGVDb250YWluZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoOC4wLCA4LjApJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZTEgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xuICAgICAgICAgICAgY2lyY2xlMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsICcjMDAwMDAwJyk7XG4gICAgICAgICAgICBjaXJjbGUxLnNldEF0dHJpYnV0ZU5TKG51bGwsICdvcGFjaXR5JywgJzAuMjUnKTtcbiAgICAgICAgICAgIGNpcmNsZTEuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2N4JywgJzUuNScpO1xuICAgICAgICAgICAgY2lyY2xlMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3knLCAnNS41Jyk7XG4gICAgICAgICAgICBjaXJjbGUxLnNldEF0dHJpYnV0ZU5TKG51bGwsICdyJywgJzUuNDk5OTk2MicpO1xuXG4gICAgICAgICAgICBjb25zdCBjaXJjbGUyID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdjaXJjbGUnKTtcbiAgICAgICAgICAgIGNpcmNsZTIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCAnI0ZGRkZGRicpO1xuICAgICAgICAgICAgY2lyY2xlMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3gnLCAnNS41Jyk7XG4gICAgICAgICAgICBjaXJjbGUyLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeScsICc1LjUnKTtcbiAgICAgICAgICAgIGNpcmNsZTIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3InLCAnNS40OTk5OTYyJyk7XG5cbiAgICAgICAgICAgIGNpcmNsZUNvbnRhaW5lci5hcHBlbmRDaGlsZChjaXJjbGUxKTtcbiAgICAgICAgICAgIGNpcmNsZUNvbnRhaW5lci5hcHBlbmRDaGlsZChjaXJjbGUyKTtcblxuICAgICAgICAgICAgcGFnZTEuYXBwZW5kQ2hpbGQoc2hhZG93KTtcbiAgICAgICAgICAgIHBhZ2UxLmFwcGVuZENoaWxkKGJhY2tncm91bmQpO1xuICAgICAgICAgICAgcGFnZTEuYXBwZW5kQ2hpbGQoYm9yZGVyKTtcbiAgICAgICAgICAgIHBhZ2UxLmFwcGVuZENoaWxkKG1ha2kpO1xuICAgICAgICAgICAgcGFnZTEuYXBwZW5kQ2hpbGQoY2lyY2xlQ29udGFpbmVyKTtcblxuICAgICAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhZ2UxKTtcblxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZChzdmcpO1xuXG4gICAgICAgICAgICAvLyBpZiBubyBlbGVtZW50IGFuZCBubyBvZmZzZXQgb3B0aW9uIGdpdmVuIGFwcGx5IGFuIG9mZnNldCBmb3IgdGhlIGRlZmF1bHQgbWFya2VyXG4gICAgICAgICAgICAvLyB0aGUgLTE0IGFzIHRoZSB5IHZhbHVlIG9mIHRoZSBkZWZhdWx0IG1hcmtlciBvZmZzZXQgd2FzIGRldGVybWluZWQgYXMgZm9sbG93c1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIHRoZSBtYXJrZXIgdGlwIGlzIGF0IHRoZSBjZW50ZXIgb2YgdGhlIHNoYWRvdyBlbGxpcHNlIGZyb20gdGhlIGRlZmF1bHQgc3ZnXG4gICAgICAgICAgICAvLyB0aGUgeSB2YWx1ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBzaGFkb3cgZWxsaXBzZSByZWxhdGl2ZSB0byB0aGUgc3ZnIHRvcCBsZWZ0IGlzIFwic2hhZG93IHRyYW5zZm9ybSB0cmFuc2xhdGUteSAoMjkuMCkgKyBlbGxpcHNlIGN5ICg1LjgwMDI5MDA4KVwiXG4gICAgICAgICAgICAvLyBvZmZzZXQgdG8gdGhlIHN2ZyBjZW50ZXIgXCJoZWlnaHQgKDQxIC8gMilcIiBnaXZlcyAoMjkuMCArIDUuODAwMjkwMDgpIC0gKDQxIC8gMikgYW5kIHJvdW5kZWQgZm9yIGFuIGludGVnZXIgcGl4ZWwgb2Zmc2V0IGdpdmVzIDE0XG4gICAgICAgICAgICAvLyBuZWdhdGl2ZSBpcyB1c2VkIHRvIG1vdmUgdGhlIG1hcmtlciB1cCBmcm9tIHRoZSBjZW50ZXIgc28gdGhlIHRpcCBpcyBhdCB0aGUgTWFya2VyIGxuZ0xhdFxuICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gUG9pbnQuY29udmVydChvcHRpb25zICYmIG9wdGlvbnMub2Zmc2V0IHx8IFswLCAtMTRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBvcHRpb25zLmVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBQb2ludC5jb252ZXJ0KG9wdGlvbnMgJiYgb3B0aW9ucy5vZmZzZXQgfHwgWzAsIDBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtbWFya2VyJyk7XG5cbiAgICAgICAgdGhpcy5fcG9wdXAgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIHRoZSBtYXJrZXIgdG8gYSBtYXBcbiAgICAgKiBAcGFyYW0ge01hcH0gbWFwXG4gICAgICogQHJldHVybnMge01hcmtlcn0gYHRoaXNgXG4gICAgICovXG4gICAgYWRkVG8obWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIG1hcC5vbignbW92ZScsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgIG1hcC5vbignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuXG4gICAgICAgIC8vIElmIHdlIGF0dGFjaGVkIHRoZSBgY2xpY2tgIGxpc3RlbmVyIHRvIHRoZSBtYXJrZXIgZWxlbWVudCwgdGhlIHBvcHVwXG4gICAgICAgIC8vIHdvdWxkIGNsb3NlIG9uY2UgdGhlIGV2ZW50IHByb3BvZ2F0ZWQgdG8gYG1hcGAgZHVlIHRvIHRoZVxuICAgICAgICAvLyBgUG9wdXAjX29uQ2xpY2tDbG9zZWAgbGlzdGVuZXIuXG4gICAgICAgIHRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLl9vbk1hcENsaWNrKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBtYXJrZXIgZnJvbSBhIG1hcFxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIG1hcmtlciA9IG5ldyBtYXBib3hnbC5NYXJrZXIoKS5hZGRUbyhtYXApO1xuICAgICAqIG1hcmtlci5yZW1vdmUoKTtcbiAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBgdGhpc2BcbiAgICAgKi9cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tYXApIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vZmYoJ2NsaWNrJywgdGhpcy5fb25NYXBDbGljayk7XG4gICAgICAgICAgICB0aGlzLl9tYXAub2ZmKCdtb3ZlJywgdGhpcy5fdXBkYXRlKTtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vZmYoJ21vdmVlbmQnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX21hcDtcbiAgICAgICAgfVxuICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICBpZiAodGhpcy5fcG9wdXApIHRoaXMuX3BvcHVwLnJlbW92ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcmtlcidzIGdlb2dyYXBoaWNhbCBsb2NhdGlvbi5cbiAgICAgKlxuICAgICAqIFRoZSBsb25naXR1ZGUgb2YgdGhlIHJlc3VsdCBtYXkgZGlmZmVyIGJ5IGEgbXVsdGlwbGUgb2YgMzYwIGRlZ3JlZXMgZnJvbSB0aGUgbG9uZ2l0dWRlIHByZXZpb3VzbHlcbiAgICAgKiBzZXQgYnkgYHNldExuZ0xhdGAgYmVjYXVzZSBgTWFya2VyYCB3cmFwcyB0aGUgYW5jaG9yIGxvbmdpdHVkZSBhY3Jvc3MgY29waWVzIG9mIHRoZSB3b3JsZCB0byBrZWVwXG4gICAgICogdGhlIG1hcmtlciBvbiBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0fVxuICAgICAqL1xuICAgIGdldExuZ0xhdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xuZ0xhdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1hcmtlcidzIGdlb2dyYXBoaWNhbCBwb3NpdGlvbiBhbmQgbW92ZSBpdC5cbiAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRMbmdMYXQobG5nbGF0OiBMbmdMYXRMaWtlKSB7XG4gICAgICAgIHRoaXMuX2xuZ0xhdCA9IExuZ0xhdC5jb252ZXJ0KGxuZ2xhdCk7XG4gICAgICAgIHRoaXMuX3BvcyA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9wb3B1cCkgdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBgTWFya2VyYCdzIEhUTUwgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIFBvcHVwIHRvIHRoZSBNYXJrZXJcbiAgICAgKiBAcGFyYW0gcG9wdXAgYW4gaW5zdGFuY2Ugb2YgdGhlIGBQb3B1cGAgY2xhc3MuIElmIHVuZGVmaW5lZCBvciBudWxsLCBhbnkgcG9wdXBcbiAgICAgKiBzZXQgb24gdGhpcyBgTWFya2VyYCBpbnN0YW5jZSBpcyB1bnNldFxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldFBvcHVwKHBvcHVwOiA/UG9wdXApIHtcbiAgICAgICAgaWYgKHRoaXMuX3BvcHVwKSB7XG4gICAgICAgICAgICB0aGlzLl9wb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3B1cCkge1xuICAgICAgICAgICAgaWYgKCEoJ29mZnNldCcgaW4gcG9wdXAub3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICBwb3B1cC5vcHRpb25zLm9mZnNldCA9IHRoaXMuX29mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3BvcHVwID0gcG9wdXA7XG4gICAgICAgICAgICBpZiAodGhpcy5fbG5nTGF0KSB0aGlzLl9wb3B1cC5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9vbk1hcENsaWNrKGV2ZW50OiBNYXBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50LnRhcmdldDtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX3BvcHVwICYmICh0YXJnZXRFbGVtZW50ID09PSBlbGVtZW50IHx8IGVsZW1lbnQuY29udGFpbnMoKHRhcmdldEVsZW1lbnQ6IGFueSkpKSkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQb3B1cCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgUG9wdXAgaW5zdGFuY2UgdGhhdCBpcyBib3VuZCB0byB0aGUgTWFya2VyXG4gICAgICogQHJldHVybnMge1BvcHVwfSBwb3B1cFxuICAgICAqL1xuICAgIGdldFBvcHVwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9wdXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbnMgb3IgY2xvc2VzIHRoZSBib3VuZCBwb3B1cCwgZGVwZW5kaW5nIG9uIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICogQHJldHVybnMge01hcmtlcn0gYHRoaXNgXG4gICAgICovXG4gICAgdG9nZ2xlUG9wdXAoKSB7XG4gICAgICAgIGNvbnN0IHBvcHVwID0gdGhpcy5fcG9wdXA7XG5cbiAgICAgICAgaWYgKCFwb3B1cCkgcmV0dXJuIHRoaXM7XG4gICAgICAgIGVsc2UgaWYgKHBvcHVwLmlzT3BlbigpKSBwb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgZWxzZSBwb3B1cC5hZGRUbyh0aGlzLl9tYXApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfdXBkYXRlKGU/OiB7dHlwZTogJ21vdmUnIHwgJ21vdmVlbmQnfSkge1xuICAgICAgICBpZiAoIXRoaXMuX21hcCkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl9tYXAudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9sbmdMYXQgPSBzbWFydFdyYXAodGhpcy5fbG5nTGF0LCB0aGlzLl9wb3MsIHRoaXMuX21hcC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9zID0gdGhpcy5fbWFwLnByb2plY3QodGhpcy5fbG5nTGF0KS5fYWRkKHRoaXMuX29mZnNldCk7XG5cbiAgICAgICAgLy8gYmVjYXVzZSByb3VuZGluZyB0aGUgY29vcmRpbmF0ZXMgYXQgZXZlcnkgYG1vdmVgIGV2ZW50IGNhdXNlcyBzdHV0dGVyZWQgem9vbWluZ1xuICAgICAgICAvLyB3ZSBvbmx5IHJvdW5kIHRoZW0gd2hlbiBfdXBkYXRlIGlzIGNhbGxlZCB3aXRoIGBtb3ZlZW5kYCBvciB3aGVuIGl0cyBjYWxsZWQgd2l0aFxuICAgICAgICAvLyBubyBhcmd1bWVudHMgKHdoZW4gdGhlIE1hcmtlciBpcyBpbml0aWFsaXplZCBvciBNYXJrZXIjc2V0TG5nTGF0IGlzIGludm9rZWQpLlxuICAgICAgICBpZiAoIWUgfHwgZS50eXBlID09PSBcIm1vdmVlbmRcIikge1xuICAgICAgICAgICAgdGhpcy5fcG9zID0gdGhpcy5fcG9zLnJvdW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICBET00uc2V0VHJhbnNmb3JtKHRoaXMuX2VsZW1lbnQsIGAke2FuY2hvclRyYW5zbGF0ZVt0aGlzLl9hbmNob3JdfSB0cmFuc2xhdGUoJHt0aGlzLl9wb3MueH1weCwgJHt0aGlzLl9wb3MueX1weClgKTtcbiAgICAgICAgYXBwbHlBbmNob3JDbGFzcyh0aGlzLl9lbGVtZW50LCB0aGlzLl9hbmNob3IsICdtYXJrZXInKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1hcmtlcidzIG9mZnNldC5cbiAgICAgKiBAcmV0dXJucyB7UG9pbnR9XG4gICAgICovXG4gICAgZ2V0T2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG9mZnNldCBvZiB0aGUgbWFya2VyXG4gICAgICogQHBhcmFtIHtQb2ludExpa2V9IG9mZnNldCBUaGUgb2Zmc2V0IGluIHBpeGVscyBhcyBhIHtAbGluayBQb2ludExpa2V9IG9iamVjdCB0byBhcHBseSByZWxhdGl2ZSB0byB0aGUgZWxlbWVudCdzIGNlbnRlci4gTmVnYXRpdmVzIGluZGljYXRlIGxlZnQgYW5kIHVwLlxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldE9mZnNldChvZmZzZXQ6IFBvaW50TGlrZSkge1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSBQb2ludC5jb252ZXJ0KG9mZnNldCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uLy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vLi4vdXRpbC93aW5kb3cnO1xuaW1wb3J0IHsgZXh0ZW5kLCBiaW5kQWxsIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCBMbmdMYXQgZnJvbSAnLi4vLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IE1hcmtlciBmcm9tICcuLi9tYXJrZXInO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcbmltcG9ydCB0eXBlIHsgQW5pbWF0aW9uT3B0aW9ucywgQ2FtZXJhT3B0aW9ucyB9IGZyb20gJy4uL2NhbWVyYSc7XG5cbnR5cGUgT3B0aW9ucyA9IHtcbiAgICBwb3NpdGlvbk9wdGlvbnM/OiBQb3NpdGlvbk9wdGlvbnMsXG4gICAgZml0Qm91bmRzT3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMgJiBDYW1lcmFPcHRpb25zLFxuICAgIHRyYWNrVXNlckxvY2F0aW9uPzogYm9vbGVhbixcbiAgICBzaG93VXNlckxvY2F0aW9uPzogYm9vbGVhblxufTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnM6IE9wdGlvbnMgPSB7XG4gICAgcG9zaXRpb25PcHRpb25zOiB7XG4gICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogZmFsc2UsXG4gICAgICAgIG1heGltdW1BZ2U6IDAsXG4gICAgICAgIHRpbWVvdXQ6IDYwMDAgLyogNiBzZWMgKi9cbiAgICB9LFxuICAgIGZpdEJvdW5kc09wdGlvbnM6IHtcbiAgICAgICAgbWF4Wm9vbTogMTVcbiAgICB9LFxuICAgIHRyYWNrVXNlckxvY2F0aW9uOiBmYWxzZSxcbiAgICBzaG93VXNlckxvY2F0aW9uOiB0cnVlXG59O1xuY29uc3QgY2xhc3NOYW1lID0gJ21hcGJveGdsLWN0cmwnO1xuXG5sZXQgc3VwcG9ydHNHZW9sb2NhdGlvbjtcblxuZnVuY3Rpb24gY2hlY2tHZW9sb2NhdGlvblN1cHBvcnQoY2FsbGJhY2spIHtcbiAgICBpZiAoc3VwcG9ydHNHZW9sb2NhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhbGxiYWNrKHN1cHBvcnRzR2VvbG9jYXRpb24pO1xuXG4gICAgfSBlbHNlIGlmICh3aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gbmF2aWdhdG9yLnBlcm1pc3Npb25zIGhhcyBpbmNvbXBsZXRlIGJyb3dzZXIgc3VwcG9ydFxuICAgICAgICAvLyBodHRwOi8vY2FuaXVzZS5jb20vI2ZlYXQ9cGVybWlzc2lvbnMtYXBpXG4gICAgICAgIC8vIFRlc3QgZm9yIHRoZSBjYXNlIHdoZXJlIGEgYnJvd3NlciBkaXNhYmxlcyBHZW9sb2NhdGlvbiBiZWNhdXNlIG9mIGFuXG4gICAgICAgIC8vIGluc2VjdXJlIG9yaWdpblxuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHsgbmFtZTogJ2dlb2xvY2F0aW9uJyB9KS50aGVuKChwKSA9PiB7XG4gICAgICAgICAgICBzdXBwb3J0c0dlb2xvY2F0aW9uID0gcC5zdGF0ZSAhPT0gJ2RlbmllZCc7XG4gICAgICAgICAgICBjYWxsYmFjayhzdXBwb3J0c0dlb2xvY2F0aW9uKTtcbiAgICAgICAgfSk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBzdXBwb3J0c0dlb2xvY2F0aW9uID0gISF3aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uO1xuICAgICAgICBjYWxsYmFjayhzdXBwb3J0c0dlb2xvY2F0aW9uKTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBgR2VvbG9jYXRlQ29udHJvbGAgY29udHJvbCBwcm92aWRlcyBhIGJ1dHRvbiB0aGF0IHVzZXMgdGhlIGJyb3dzZXIncyBnZW9sb2NhdGlvblxuICogQVBJIHRvIGxvY2F0ZSB0aGUgdXNlciBvbiB0aGUgbWFwLlxuICpcbiAqIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCBnZW9sb2NhdGlvbixcbiAqIGFuZCBzb21lIHVzZXJzIG1heSBkaXNhYmxlIHRoZSBmZWF0dXJlLiBHZW9sb2NhdGlvbiBzdXBwb3J0IGZvciBtb2Rlcm5cbiAqIGJyb3dzZXJzIGluY2x1ZGluZyBDaHJvbWUgcmVxdWlyZXMgc2l0ZXMgdG8gYmUgc2VydmVkIG92ZXIgSFRUUFMuIElmXG4gKiBnZW9sb2NhdGlvbiBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUsIHRoZSBHZW9sb2NhdGVDb250cm9sIHdpbGwgbm90XG4gKiBiZSB2aXNpYmxlLlxuICpcbiAqIFRoZSB6b29tIGxldmVsIGFwcGxpZWQgd2lsbCBkZXBlbmQgb24gdGhlIGFjY3VyYWN5IG9mIHRoZSBnZW9sb2NhdGlvbiBwcm92aWRlZCBieSB0aGUgZGV2aWNlLlxuICpcbiAqIFRoZSBHZW9sb2NhdGVDb250cm9sIGhhcyB0d28gbW9kZXMuIElmIGB0cmFja1VzZXJMb2NhdGlvbmAgaXMgYGZhbHNlYCAoZGVmYXVsdCkgdGhlIGNvbnRyb2wgYWN0cyBhcyBhIGJ1dHRvbiwgd2hpY2ggd2hlbiBwcmVzc2VkIHdpbGwgc2V0IHRoZSBtYXAncyBjYW1lcmEgdG8gdGFyZ2V0IHRoZSB1c2VyIGxvY2F0aW9uLiBJZiB0aGUgdXNlciBtb3ZlcywgdGhlIG1hcCB3b24ndCB1cGRhdGUuIFRoaXMgaXMgbW9zdCBzdWl0ZWQgZm9yIHRoZSBkZXNrdG9wLiBJZiBgdHJhY2tVc2VyTG9jYXRpb25gIGlzIGB0cnVlYCB0aGUgY29udHJvbCBhY3RzIGFzIGEgdG9nZ2xlIGJ1dHRvbiB0aGF0IHdoZW4gYWN0aXZlIHRoZSB1c2VyJ3MgbG9jYXRpb24gaXMgYWN0aXZlbHkgbW9uaXRvcmVkIGZvciBjaGFuZ2VzLiBJbiB0aGlzIG1vZGUgdGhlIEdlb2xvY2F0ZUNvbnRyb2wgaGFzIHRocmVlIHN0YXRlczpcbiAqICogYWN0aXZlIC0gdGhlIG1hcCdzIGNhbWVyYSBhdXRvbWF0aWNhbGx5IHVwZGF0ZXMgYXMgdGhlIHVzZXIncyBsb2NhdGlvbiBjaGFuZ2VzLCBrZWVwaW5nIHRoZSBsb2NhdGlvbiBkb3QgaW4gdGhlIGNlbnRlci5cbiAqICogcGFzc2l2ZSAtIHRoZSB1c2VyJ3MgbG9jYXRpb24gZG90IGF1dG9tYXRpY2FsbHkgdXBkYXRlcywgYnV0IHRoZSBtYXAncyBjYW1lcmEgZG9lcyBub3QuXG4gKiAqIGRpc2FibGVkXG4gKlxuICogQGltcGxlbWVudHMge0lDb250cm9sfVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnBvc2l0aW9uT3B0aW9ucz17ZW5hYmxlSGlnaEFjY3VyYWN5OiBmYWxzZSwgdGltZW91dDogNjAwMH1dIEEgR2VvbG9jYXRpb24gQVBJIFtQb3NpdGlvbk9wdGlvbnNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb3NpdGlvbk9wdGlvbnMpIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5maXRCb3VuZHNPcHRpb25zPXttYXhab29tOiAxNX1dIEEgW2BmaXRCb3VuZHNgXSgjTWFwI2ZpdEJvdW5kcykgb3B0aW9ucyBvYmplY3QgdG8gdXNlIHdoZW4gdGhlIG1hcCBpcyBwYW5uZWQgYW5kIHpvb21lZCB0byB0aGUgdXNlcidzIGxvY2F0aW9uLiBUaGUgZGVmYXVsdCBpcyB0byB1c2UgYSBgbWF4Wm9vbWAgb2YgMTUgdG8gbGltaXQgaG93IGZhciB0aGUgbWFwIHdpbGwgem9vbSBpbiBmb3IgdmVyeSBhY2N1cmF0ZSBsb2NhdGlvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMudHJhY2tVc2VyTG9jYXRpb249ZmFsc2VdIElmIGB0cnVlYCB0aGUgR2VvbG9jYXRlIENvbnRyb2wgYmVjb21lcyBhIHRvZ2dsZSBidXR0b24gYW5kIHdoZW4gYWN0aXZlIHRoZSBtYXAgd2lsbCByZWNlaXZlIHVwZGF0ZXMgdG8gdGhlIHVzZXIncyBsb2NhdGlvbiBhcyBpdCBjaGFuZ2VzLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnNob3dVc2VyTG9jYXRpb249dHJ1ZV0gQnkgZGVmYXVsdCBhIGRvdCB3aWxsIGJlIHNob3duIG9uIHRoZSBtYXAgYXQgdGhlIHVzZXIncyBsb2NhdGlvbi4gU2V0IHRvIGBmYWxzZWAgdG8gZGlzYWJsZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZENvbnRyb2wobmV3IG1hcGJveGdsLkdlb2xvY2F0ZUNvbnRyb2woe1xuICogICAgIHBvc2l0aW9uT3B0aW9uczoge1xuICogICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWVcbiAqICAgICB9LFxuICogICAgIHRyYWNrVXNlckxvY2F0aW9uOiB0cnVlXG4gKiB9KSk7XG4gKi9cbmNsYXNzIEdlb2xvY2F0ZUNvbnRyb2wgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgb3B0aW9uczogT3B0aW9ucztcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfZG90RWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgX2dlb2xvY2F0ZUJ1dHRvbjogSFRNTEVsZW1lbnQ7XG4gICAgX2dlb2xvY2F0aW9uV2F0Y2hJRDogbnVtYmVyO1xuICAgIF90aW1lb3V0SWQ6ID9UaW1lb3V0SUQ7XG4gICAgX3dhdGNoU3RhdGU6IHN0cmluZztcbiAgICBfbGFzdEtub3duUG9zaXRpb246IGFueTtcbiAgICBfdXNlckxvY2F0aW9uRG90TWFya2VyOiBNYXJrZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZCh7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vblN1Y2Nlc3MnLFxuICAgICAgICAgICAgJ19vbkVycm9yJyxcbiAgICAgICAgICAgICdfZmluaXNoJyxcbiAgICAgICAgICAgICdfc2V0dXBVSScsXG4gICAgICAgICAgICAnX3VwZGF0ZUNhbWVyYScsXG4gICAgICAgICAgICAnX3VwZGF0ZU1hcmtlcicsXG4gICAgICAgICAgICAnX29uQ2xpY2tHZW9sb2NhdGUnXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgYCR7Y2xhc3NOYW1lfSAke2NsYXNzTmFtZX0tZ3JvdXBgKTtcbiAgICAgICAgY2hlY2tHZW9sb2NhdGlvblN1cHBvcnQodGhpcy5fc2V0dXBVSSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIC8vIGNsZWFyIHRoZSBnZW9sb2NhdGlvbiB3YXRjaCBpZiBleGlzdHNcbiAgICAgICAgaWYgKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKTtcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCA9ICh1bmRlZmluZWQ6IGFueSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhciB0aGUgbWFya2VyIGZyb20gdGhlIG1hcFxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIERPTS5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5fbWFwID0gKHVuZGVmaW5lZDogYW55KTtcbiAgICB9XG5cbiAgICBfb25TdWNjZXNzKHBvc2l0aW9uOiBQb3NpdGlvbikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICAvLyBrZWVwIGEgcmVjb3JkIG9mIHRoZSBwb3NpdGlvbiBzbyB0aGF0IGlmIHRoZSBzdGF0ZSBpcyBCQUNLR1JPVU5EIGFuZCB0aGUgdXNlclxuICAgICAgICAgICAgLy8gY2xpY2tzIHRoZSBidXR0b24sIHdlIGNhbiBtb3ZlIHRvIEFDVElWRV9MT0NLIGltbWVkaWF0ZWx5IHdpdGhvdXQgd2FpdGluZyBmb3JcbiAgICAgICAgICAgIC8vIHdhdGNoUG9zaXRpb24gdG8gdHJpZ2dlciBfb25TdWNjZXNzXG4gICAgICAgICAgICB0aGlzLl9sYXN0S25vd25Qb3NpdGlvbiA9IHBvc2l0aW9uO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3dhdGNoU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ1dBSVRJTkdfQUNUSVZFJzpcbiAgICAgICAgICAgIGNhc2UgJ0FDVElWRV9MT0NLJzpcbiAgICAgICAgICAgIGNhc2UgJ0FDVElWRV9FUlJPUic6XG4gICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdBQ1RJVkVfTE9DSyc7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQkFDS0dST1VORCc6XG4gICAgICAgICAgICBjYXNlICdCQUNLR1JPVU5EX0VSUk9SJzpcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0JBQ0tHUk9VTkQnO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBhc3NlcnQoZmFsc2UsIGBVbmV4cGVjdGVkIHdhdGNoU3RhdGUgJHt0aGlzLl93YXRjaFN0YXRlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgc2hvd1VzZXJMb2NhdGlvbiBhbmQgdGhlIHdhdGNoIHN0YXRlIGlzbid0IG9mZiB0aGVuIHVwZGF0ZSB0aGUgbWFya2VyIGxvY2F0aW9uXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiAmJiB0aGlzLl93YXRjaFN0YXRlICE9PSAnT0ZGJykge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlTWFya2VyKHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGluIG5vcm1hbCBtb2RlIChub3Qgd2F0Y2ggbW9kZSksIG9yIGlmIGluIHdhdGNoIG1vZGUgYW5kIHRoZSBzdGF0ZSBpcyBhY3RpdmUgd2F0Y2hcbiAgICAgICAgLy8gdGhlbiB1cGRhdGUgdGhlIGNhbWVyYVxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiB8fCB0aGlzLl93YXRjaFN0YXRlID09PSAnQUNUSVZFX0xPQ0snKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDYW1lcmEocG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdnZW9sb2NhdGUnLCBwb3NpdGlvbikpO1xuICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlQ2FtZXJhKHBvc2l0aW9uOiBQb3NpdGlvbikge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBuZXcgTG5nTGF0KHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHBvc2l0aW9uLmNvb3Jkcy5hY2N1cmFjeTtcblxuICAgICAgICB0aGlzLl9tYXAuZml0Qm91bmRzKGNlbnRlci50b0JvdW5kcyhyYWRpdXMpLCB0aGlzLm9wdGlvbnMuZml0Qm91bmRzT3B0aW9ucywge1xuICAgICAgICAgICAgZ2VvbG9jYXRlU291cmNlOiB0cnVlIC8vIHRhZyB0aGlzIGNhbWVyYSBjaGFuZ2Ugc28gaXQgd29uJ3QgY2F1c2UgdGhlIGNvbnRyb2wgdG8gY2hhbmdlIHRvIGJhY2tncm91bmQgc3RhdGVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZU1hcmtlcihwb3NpdGlvbjogP1Bvc2l0aW9uKSB7XG4gICAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnNldExuZ0xhdChbcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlXSkuYWRkVG8odGhpcy5fbWFwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkVycm9yKGVycm9yOiBQb3NpdGlvbkVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gUEVSTUlTU0lPTl9ERU5JRURcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ09GRic7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3InKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcldhdGNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3dhdGNoU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdXQUlUSU5HX0FDVElWRSc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQUNUSVZFX0VSUk9SJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0FDVElWRV9MT0NLJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdBQ1RJVkVfRVJST1InO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHVybiBtYXJrZXIgZ3JleVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdCQUNLR1JPVU5EJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdCQUNLR1JPVU5EX0VSUk9SJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHVybiBtYXJrZXIgZ3JleVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdBQ1RJVkVfRVJST1InOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoZmFsc2UsIGBVbmV4cGVjdGVkIHdhdGNoU3RhdGUgJHt0aGlzLl93YXRjaFN0YXRlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl93YXRjaFN0YXRlICE9PSAnT0ZGJyAmJiB0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fZG90RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZXJyb3InLCBlcnJvcikpO1xuXG4gICAgICAgIHRoaXMuX2ZpbmlzaCgpO1xuICAgIH1cblxuICAgIF9maW5pc2goKSB7XG4gICAgICAgIGlmICh0aGlzLl90aW1lb3V0SWQpIHsgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRJZCk7IH1cbiAgICAgICAgdGhpcy5fdGltZW91dElkID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIF9zZXR1cFVJKHN1cHBvcnRlZDogYm9vbGVhbikge1xuICAgICAgICBpZiAoc3VwcG9ydGVkID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZTogTW91c2VFdmVudCkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uID0gRE9NLmNyZWF0ZSgnYnV0dG9uJyxcbiAgICAgICAgICAgIGAke2NsYXNzTmFtZX0taWNvbiAke2NsYXNzTmFtZX0tZ2VvbG9jYXRlYCxcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnR2VvbG9jYXRlJyk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgJ2ZhbHNlJyk7XG4gICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ09GRic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGVuIHNob3dVc2VyTG9jYXRpb24gaXMgZW5hYmxlZCwga2VlcCB0aGUgR2VvbG9jYXRlIGJ1dHRvbiBkaXNhYmxlZCB1bnRpbCB0aGUgZGV2aWNlIGxvY2F0aW9uIG1hcmtlciBpcyBzZXR1cCBvbiB0aGUgbWFwXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fZG90RWxlbWVudCA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdCcpO1xuXG4gICAgICAgICAgICB0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIgPSBuZXcgTWFya2VyKHRoaXMuX2RvdEVsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKSB0aGlzLl93YXRjaFN0YXRlID0gJ09GRic7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLFxuICAgICAgICAgICAgdGhpcy5fb25DbGlja0dlb2xvY2F0ZS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAvLyB3aGVuIHRoZSBjYW1lcmEgaXMgY2hhbmdlZCAoYW5kIGl0J3Mgbm90IGFzIGEgcmVzdWx0IG9mIHRoZSBHZW9sb2NhdGlvbiBDb250cm9sKSBjaGFuZ2VcbiAgICAgICAgLy8gdGhlIHdhdGNoIG1vZGUgdG8gYmFja2dyb3VuZCB3YXRjaCwgc28gdGhhdCB0aGUgbWFya2VyIGlzIHVwZGF0ZWQgYnV0IG5vdCB0aGUgY2FtZXJhLlxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAub24oJ21vdmVzdGFydCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXZlbnQuZ2VvbG9jYXRlU291cmNlICYmIHRoaXMuX3dhdGNoU3RhdGUgPT09ICdBQ1RJVkVfTE9DSycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdCQUNLR1JPVU5EJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3RyYWNrdXNlcmxvY2F0aW9uZW5kJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uQ2xpY2tHZW9sb2NhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB3YXRjaFN0YXRlIGFuZCBkbyBhbnkgb3V0Z29pbmcgc3RhdGUgY2xlYW51cFxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl93YXRjaFN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdPRkYnOlxuICAgICAgICAgICAgICAgIC8vIHR1cm4gb24gdGhlIEdlb2xvY2F0ZSBDb250cm9sXG4gICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdXQUlUSU5HX0FDVElWRSc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd0cmFja3VzZXJsb2NhdGlvbnN0YXJ0JykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnV0FJVElOR19BQ1RJVkUnOlxuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0xPQ0snOlxuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0VSUk9SJzpcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkRfRVJST1InOlxuICAgICAgICAgICAgICAgIC8vIHR1cm4gb2ZmIHRoZSBHZW9sb2NhdGUgQ29udHJvbFxuICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnT0ZGJztcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvcicpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgndHJhY2t1c2VybG9jYXRpb25lbmQnKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdCQUNLR1JPVU5EJzpcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0FDVElWRV9MT0NLJztcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgICAgIC8vIHNldCBjYW1lcmEgdG8gbGFzdCBrbm93biBsb2NhdGlvblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sYXN0S25vd25Qb3NpdGlvbikgdGhpcy5fdXBkYXRlQ2FtZXJhKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3RyYWNrdXNlcmxvY2F0aW9uc3RhcnQnKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSwgYFVuZXhwZWN0ZWQgd2F0Y2hTdGF0ZSAke3RoaXMuX3dhdGNoU3RhdGV9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGluY29taW5nIHN0YXRlIHNldHVwXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3dhdGNoU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ1dBSVRJTkdfQUNUSVZFJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FDVElWRV9MT0NLJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBQ1RJVkVfRVJST1InOlxuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQkFDS0dST1VORCc6XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkRfRVJST1InOlxuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3InKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ09GRic6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGFzc2VydChmYWxzZSwgYFVuZXhwZWN0ZWQgd2F0Y2hTdGF0ZSAke3RoaXMuX3dhdGNoU3RhdGV9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1hbmFnZSBnZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uIC8gZ2VvbG9jYXRpb24uY2xlYXJXYXRjaFxuICAgICAgICAgICAgaWYgKHRoaXMuX3dhdGNoU3RhdGUgPT09ICdPRkYnICYmIHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gY2xlYXIgd2F0Y2hQb3NpdGlvbiBhcyB3ZSd2ZSBjaGFuZ2VkIHRvIGFuIE9GRiBzdGF0ZVxuICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyV2F0Y2goKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBlbmFibGUgd2F0Y2hQb3NpdGlvbiBzaW5jZSB3YXRjaFN0YXRlIGlzIG5vdCBPRkYgYW5kIHRoZXJlIGlzIG5vIHdhdGNoUG9zaXRpb24gYWxyZWFkeSBydW5uaW5nXG5cbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsICd0cnVlJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgPSB3aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uU3VjY2VzcywgdGhpcy5fb25FcnJvciwgdGhpcy5vcHRpb25zLnBvc2l0aW9uT3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihcbiAgICAgICAgICAgICAgICB0aGlzLl9vblN1Y2Nlc3MsIHRoaXMuX29uRXJyb3IsIHRoaXMub3B0aW9ucy5wb3NpdGlvbk9wdGlvbnMpO1xuXG4gICAgICAgICAgICAvLyBUaGlzIHRpbWVvdXQgZW5zdXJlcyB0aGF0IHdlIHN0aWxsIGNhbGwgZmluaXNoKCkgZXZlbiBpZlxuICAgICAgICAgICAgLy8gdGhlIHVzZXIgZGVjbGluZXMgdG8gc2hhcmUgdGhlaXIgbG9jYXRpb24gaW4gRmlyZWZveFxuICAgICAgICAgICAgdGhpcy5fdGltZW91dElkID0gc2V0VGltZW91dCh0aGlzLl9maW5pc2gsIDEwMDAwIC8qIDEwc2VjICovKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jbGVhcldhdGNoKCkge1xuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKTtcblxuICAgICAgICB0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCAnZmFsc2UnKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU1hcmtlcihudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2VvbG9jYXRlQ29udHJvbDtcblxuLyogR2VvbG9jYXRlIENvbnRyb2wgV2F0Y2ggU3RhdGVzXG4gKiBUaGlzIGlzIHRoZSBwcml2YXRlIHN0YXRlIG9mIHRoZSBjb250cm9sLlxuICpcbiAqIE9GRlxuICogICAgb2ZmL2luYWN0aXZlXG4gKiBXQUlUSU5HX0FDVElWRVxuICogICAgR2VvbG9jYXRlIENvbnRyb2wgd2FzIGNsaWNrZWQgYnV0IHN0aWxsIHdhaXRpbmcgZm9yIEdlb2xvY2F0aW9uIEFQSSByZXNwb25zZSB3aXRoIHVzZXIgbG9jYXRpb25cbiAqIEFDVElWRV9MT0NLXG4gKiAgICBTaG93aW5nIHRoZSB1c2VyIGxvY2F0aW9uIGFzIGEgZG90IEFORCB0cmFja2luZyB0aGUgY2FtZXJhIHRvIGJlIGZpeGVkIHRvIHRoZWlyIGxvY2F0aW9uLiBJZiB0aGVpciBsb2NhdGlvbiBjaGFuZ2VzIHRoZSBtYXAgbW92ZXMgdG8gZm9sbG93LlxuICogQUNUSVZFX0VSUk9SXG4gKiAgICBUaGVyZSB3YXMgZW4gZXJyb3IgZnJvbSB0aGUgR2VvbG9jYXRpb24gQVBJIHdoaWxlIHRyeWluZyB0byBzaG93IGFuZCB0cmFjayB0aGUgdXNlciBsb2NhdGlvbi5cbiAqIEJBQ0tHUk9VTkRcbiAqICAgIFNob3dpbmcgdGhlIHVzZXIgbG9jYXRpb24gYXMgYSBkb3QgYnV0IHRoZSBjYW1lcmEgZG9lc24ndCBmb2xsb3cgdGhlaXIgbG9jYXRpb24gYXMgaXQgY2hhbmdlcy5cbiAqIEJBQ0tHUk9VTkRfRVJST1JcbiAqICAgIFRoZXJlIHdhcyBhbiBlcnJvciBmcm9tIHRoZSBHZW9sb2NhdGlvbiBBUEkgd2hpbGUgdHJ5aW5nIHRvIHNob3cgKGJ1dCBub3QgdHJhY2spIHRoZSB1c2VyIGxvY2F0aW9uLlxuICovXG5cblxuLyoqXG4gKiBGaXJlZCBvbiBlYWNoIEdlb2xvY2F0aW9uIEFQSSBwb3NpdGlvbiB1cGRhdGUgd2hpY2ggcmV0dXJuZWQgYXMgc3VjY2Vzcy5cbiAqXG4gKiBAZXZlbnQgZ2VvbG9jYXRlXG4gKiBAbWVtYmVyb2YgR2VvbG9jYXRlQ29udHJvbFxuICogQGluc3RhbmNlXG4gKiBAcHJvcGVydHkge1Bvc2l0aW9ufSBkYXRhIFRoZSByZXR1cm5lZCBbUG9zaXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb3NpdGlvbikgb2JqZWN0IGZyb20gdGhlIGNhbGxiYWNrIGluIFtHZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dlb2xvY2F0aW9uL2dldEN1cnJlbnRQb3NpdGlvbikgb3IgW0dlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dlb2xvY2F0aW9uL3dhdGNoUG9zaXRpb24pLlxuICpcbiAqL1xuXG4vKipcbiAqIEZpcmVkIG9uIGVhY2ggR2VvbG9jYXRpb24gQVBJIHBvc2l0aW9uIHVwZGF0ZSB3aGljaCByZXR1cm5lZCBhcyBhbiBlcnJvci5cbiAqXG4gKiBAZXZlbnQgZXJyb3JcbiAqIEBtZW1iZXJvZiBHZW9sb2NhdGVDb250cm9sXG4gKiBAaW5zdGFuY2VcbiAqIEBwcm9wZXJ0eSB7UG9zaXRpb25FcnJvcn0gZGF0YSBUaGUgcmV0dXJuZWQgW1Bvc2l0aW9uRXJyb3JdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb3NpdGlvbkVycm9yKSBvYmplY3QgZnJvbSB0aGUgY2FsbGJhY2sgaW4gW0dlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbigpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvR2VvbG9jYXRpb24vZ2V0Q3VycmVudFBvc2l0aW9uKSBvciBbR2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbigpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvR2VvbG9jYXRpb24vd2F0Y2hQb3NpdGlvbikuXG4gKlxuICovXG5cbi8qKlxuICogRmlyZWQgd2hlbiB0aGUgR2VvbG9jYXRlIENvbnRyb2wgY2hhbmdlcyB0byB0aGUgYWN0aXZlIGxvY2sgc3RhdGUsIHdoaWNoIGhhcHBlbnMgZWl0aGVyIHVwb24gZmlyc3Qgb2J0YWluaW5nIGEgc3VjY2Vzc2Z1bCBHZW9sb2NhdGlvbiBBUEkgcG9zaXRpb24gZm9yIHRoZSB1c2VyIChhIGdlb2xvY2F0ZSBldmVudCB3aWxsIGZvbGxvdyksIG9yIHRoZSB1c2VyIGNsaWNrcyB0aGUgZ2VvbG9jYXRlIGJ1dHRvbiB3aGVuIGluIHRoZSBiYWNrZ3JvdW5kIHN0YXRlIHdoaWNoIHVzZXMgdGhlIGxhc3Qga25vd24gcG9zaXRpb24gdG8gcmVjZW50ZXIgdGhlIG1hcCBhbmQgZW50ZXIgYWN0aXZlIGxvY2sgc3RhdGUgKG5vIGdlb2xvY2F0ZSBldmVudCB3aWxsIGZvbGxvdyB1bmxlc3MgdGhlIHVzZXJzJ3MgbG9jYXRpb24gY2hhbmdlcykuXG4gKlxuICogQGV2ZW50IHRyYWNrdXNlcmxvY2F0aW9uc3RhcnRcbiAqIEBtZW1iZXJvZiBHZW9sb2NhdGVDb250cm9sXG4gKiBAaW5zdGFuY2VcbiAqXG4gKi9cblxuLyoqXG4gKiBGaXJlZCB3aGVuIHRoZSBHZW9sb2NhdGUgQ29udHJvbCBjaGFuZ2VzIHRvIHRoZSBiYWNrZ3JvdW5kIHN0YXRlLCB3aGljaCBoYXBwZW5zIHdoZW4gYSB1c2VyIGNoYW5nZXMgdGhlIGNhbWVyYSBkdXJpbmcgYW4gYWN0aXZlIHBvc2l0aW9uIGxvY2suIFRoaXMgb25seSBhcHBsaWVzIHdoZW4gdHJhY2tVc2VyTG9jYXRpb24gaXMgdHJ1ZS4gSW4gdGhlIGJhY2tncm91bmQgc3RhdGUsIHRoZSBkb3Qgb24gdGhlIG1hcCB3aWxsIHVwZGF0ZSB3aXRoIGxvY2F0aW9uIHVwZGF0ZXMgYnV0IHRoZSBjYW1lcmEgd2lsbCBub3QuXG4gKlxuICogQGV2ZW50IHRyYWNrdXNlcmxvY2F0aW9uZW5kXG4gKiBAbWVtYmVyb2YgR2VvbG9jYXRlQ29udHJvbFxuICogQGluc3RhbmNlXG4gKlxuICovXG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGV4dGVuZCwgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuXG50eXBlIFVuaXQgPSAnaW1wZXJpYWwnIHwgJ21ldHJpYycgfCAnbmF1dGljYWwnO1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gICAgbWF4V2lkdGg/OiBudW1iZXIsXG4gICAgdW5pdD86IFVuaXQ7XG59O1xuXG5jb25zdCBkZWZhdWx0T3B0aW9uczogT3B0aW9ucyA9IHtcbiAgICBtYXhXaWR0aDogMTAwLFxuICAgIHVuaXQ6ICdtZXRyaWMnXG59O1xuXG4vKipcbiAqIEEgYFNjYWxlQ29udHJvbGAgY29udHJvbCBkaXNwbGF5cyB0aGUgcmF0aW8gb2YgYSBkaXN0YW5jZSBvbiB0aGUgbWFwIHRvIHRoZSBjb3JyZXNwb25kaW5nIGRpc3RhbmNlIG9uIHRoZSBncm91bmQuXG4gKlxuICogQGltcGxlbWVudHMge0lDb250cm9sfVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdpZHRoPScxMDAnXSBUaGUgbWF4aW11bSBsZW5ndGggb2YgdGhlIHNjYWxlIGNvbnRyb2wgaW4gcGl4ZWxzLlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVuaXQ9J21ldHJpYyddIFVuaXQgb2YgdGhlIGRpc3RhbmNlIChgJ2ltcGVyaWFsJ2AsIGAnbWV0cmljJ2Agb3IgYCduYXV0aWNhbCdgKS5cbiAqIEBleGFtcGxlXG4gKiB2YXIgc2NhbGUgPSBuZXcgbWFwYm94Z2wuU2NhbGVDb250cm9sKHtcbiAqICAgICBtYXhXaWR0aDogODAsXG4gKiAgICAgdW5pdDogJ2ltcGVyaWFsJ1xuICogfSk7XG4gKiBtYXAuYWRkQ29udHJvbChzY2FsZSk7XG4gKlxuICogc2NhbGUuc2V0VW5pdCgnbWV0cmljJyk7XG4gKi9cbmNsYXNzIFNjYWxlQ29udHJvbCB7XG4gICAgX21hcDogTWFwO1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIG9wdGlvbnM6IE9wdGlvbnM7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBPcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZCh7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbk1vdmUnLFxuICAgICAgICAgICAgJ3NldFVuaXQnXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIGdldERlZmF1bHRQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdib3R0b20tbGVmdCc7XG4gICAgfVxuXG4gICAgX29uTW92ZSgpIHtcbiAgICAgICAgdXBkYXRlU2NhbGUodGhpcy5fbWFwLCB0aGlzLl9jb250YWluZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLXNjYWxlJywgbWFwLmdldENvbnRhaW5lcigpKTtcblxuICAgICAgICB0aGlzLl9tYXAub24oJ21vdmUnLCB0aGlzLl9vbk1vdmUpO1xuICAgICAgICB0aGlzLl9vbk1vdmUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX21hcC5vZmYoJ21vdmUnLCB0aGlzLl9vbk1vdmUpO1xuICAgICAgICB0aGlzLl9tYXAgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2NhbGUncyB1bml0IG9mIHRoZSBkaXN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHVuaXQgVW5pdCBvZiB0aGUgZGlzdGFuY2UgKGAnaW1wZXJpYWwnYCwgYCdtZXRyaWMnYCBvciBgJ25hdXRpY2FsJ2ApLlxuICAgICAqL1xuICAgIHNldFVuaXQodW5pdDogVW5pdCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMudW5pdCA9IHVuaXQ7XG4gICAgICAgIHVwZGF0ZVNjYWxlKHRoaXMuX21hcCwgdGhpcy5fY29udGFpbmVyLCB0aGlzLm9wdGlvbnMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2NhbGVDb250cm9sO1xuXG5mdW5jdGlvbiB1cGRhdGVTY2FsZShtYXAsIGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgIC8vIEEgaG9yaXpvbnRhbCBzY2FsZSBpcyBpbWFnaW5lZCB0byBiZSBwcmVzZW50IGF0IGNlbnRlciBvZiB0aGUgbWFwXG4gICAgLy8gY29udGFpbmVyIHdpdGggbWF4aW11bSBsZW5ndGggKERlZmF1bHQpIGFzIDEwMHB4LlxuICAgIC8vIFVzaW5nIHNwaGVyaWNhbCBsYXcgb2YgY29zaW5lcyBhcHByb3hpbWF0aW9uLCB0aGUgcmVhbCBkaXN0YW5jZSBpc1xuICAgIC8vIGZvdW5kIGJldHdlZW4gdGhlIHR3byBjb29yZGluYXRlcy5cbiAgICBjb25zdCBtYXhXaWR0aCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5tYXhXaWR0aCB8fCAxMDA7XG5cbiAgICBjb25zdCB5ID0gbWFwLl9jb250YWluZXIuY2xpZW50SGVpZ2h0IC8gMjtcbiAgICBjb25zdCBtYXhNZXRlcnMgPSBnZXREaXN0YW5jZShtYXAudW5wcm9qZWN0KFswLCB5XSksIG1hcC51bnByb2plY3QoW21heFdpZHRoLCB5XSkpO1xuICAgIC8vIFRoZSByZWFsIGRpc3RhbmNlIGNvcnJlc3BvbmRpbmcgdG8gMTAwcHggc2NhbGUgbGVuZ3RoIGlzIHJvdW5kZWQgb2ZmIHRvXG4gICAgLy8gbmVhciBwcmV0dHkgbnVtYmVyIGFuZCB0aGUgc2NhbGUgbGVuZ3RoIGZvciB0aGUgc2FtZSBpcyBmb3VuZCBvdXQuXG4gICAgLy8gRGVmYXVsdCB1bml0IG9mIHRoZSBzY2FsZSBpcyBiYXNlZCBvbiBVc2VyJ3MgbG9jYWxlLlxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudW5pdCA9PT0gJ2ltcGVyaWFsJykge1xuICAgICAgICBjb25zdCBtYXhGZWV0ID0gMy4yODA4ICogbWF4TWV0ZXJzO1xuICAgICAgICBpZiAobWF4RmVldCA+IDUyODApIHtcbiAgICAgICAgICAgIGNvbnN0IG1heE1pbGVzID0gbWF4RmVldCAvIDUyODA7XG4gICAgICAgICAgICBzZXRTY2FsZShjb250YWluZXIsIG1heFdpZHRoLCBtYXhNaWxlcywgJ21pJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRTY2FsZShjb250YWluZXIsIG1heFdpZHRoLCBtYXhGZWV0LCAnZnQnKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnVuaXQgPT09ICduYXV0aWNhbCcpIHtcbiAgICAgICAgY29uc3QgbWF4TmF1dGljYWxzID0gbWF4TWV0ZXJzIC8gMTg1MjtcbiAgICAgICAgc2V0U2NhbGUoY29udGFpbmVyLCBtYXhXaWR0aCwgbWF4TmF1dGljYWxzLCAnbm0nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzZXRTY2FsZShjb250YWluZXIsIG1heFdpZHRoLCBtYXhNZXRlcnMsICdtJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRTY2FsZShjb250YWluZXIsIG1heFdpZHRoLCBtYXhEaXN0YW5jZSwgdW5pdCkge1xuICAgIGxldCBkaXN0YW5jZSA9IGdldFJvdW5kTnVtKG1heERpc3RhbmNlKTtcbiAgICBjb25zdCByYXRpbyA9IGRpc3RhbmNlIC8gbWF4RGlzdGFuY2U7XG5cbiAgICBpZiAodW5pdCA9PT0gJ20nICYmIGRpc3RhbmNlID49IDEwMDApIHtcbiAgICAgICAgZGlzdGFuY2UgPSBkaXN0YW5jZSAvIDEwMDA7XG4gICAgICAgIHVuaXQgPSAna20nO1xuICAgIH1cblxuICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke21heFdpZHRoICogcmF0aW99cHhgO1xuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBkaXN0YW5jZSArIHVuaXQ7XG59XG5cbmZ1bmN0aW9uIGdldERpc3RhbmNlKGxhdGxuZzEsIGxhdGxuZzIpIHtcbiAgICAvLyBVc2VzIHNwaGVyaWNhbCBsYXcgb2YgY29zaW5lcyBhcHByb3hpbWF0aW9uLlxuICAgIGNvbnN0IFIgPSA2MzcxMDAwO1xuXG4gICAgY29uc3QgcmFkID0gTWF0aC5QSSAvIDE4MCxcbiAgICAgICAgbGF0MSA9IGxhdGxuZzEubGF0ICogcmFkLFxuICAgICAgICBsYXQyID0gbGF0bG5nMi5sYXQgKiByYWQsXG4gICAgICAgIGEgPSBNYXRoLnNpbihsYXQxKSAqIE1hdGguc2luKGxhdDIpICtcbiAgICAgICAgICBNYXRoLmNvcyhsYXQxKSAqIE1hdGguY29zKGxhdDIpICogTWF0aC5jb3MoKGxhdGxuZzIubG5nIC0gbGF0bG5nMS5sbmcpICogcmFkKTtcblxuICAgIGNvbnN0IG1heE1ldGVycyA9IFIgKiBNYXRoLmFjb3MoTWF0aC5taW4oYSwgMSkpO1xuICAgIHJldHVybiBtYXhNZXRlcnM7XG5cbn1cblxuZnVuY3Rpb24gZ2V0Um91bmROdW0obnVtKSB7XG4gICAgY29uc3QgcG93MTAgPSBNYXRoLnBvdygxMCwgKGAke01hdGguZmxvb3IobnVtKX1gKS5sZW5ndGggLSAxKTtcbiAgICBsZXQgZCA9IG51bSAvIHBvdzEwO1xuXG4gICAgZCA9IGQgPj0gMTAgPyAxMCA6XG4gICAgICAgIGQgPj0gNSA/IDUgOlxuICAgICAgICBkID49IDMgPyAzIDpcbiAgICAgICAgZCA+PSAyID8gMiA6IDE7XG5cbiAgICByZXR1cm4gcG93MTAgKiBkO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5cbmltcG9ydCB7IGJpbmRBbGwsIHdhcm5PbmNlIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vLi4vdXRpbC93aW5kb3cnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcblxuLyoqXG4gKiBBIGBGdWxsc2NyZWVuQ29udHJvbGAgY29udHJvbCBjb250YWlucyBhIGJ1dHRvbiBmb3IgdG9nZ2xpbmcgdGhlIG1hcCBpbiBhbmQgb3V0IG9mIGZ1bGxzY3JlZW4gbW9kZS5cbiAqXG4gKiBAaW1wbGVtZW50cyB7SUNvbnRyb2x9XG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZENvbnRyb2wobmV3IG1hcGJveGdsLkZ1bGxzY3JlZW5Db250cm9sKCkpO1xuICogQHNlZSBbVmlldyBhIGZ1bGxzY3JlZW4gbWFwXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2Z1bGxzY3JlZW4vKVxuICovXG5cbmNsYXNzIEZ1bGxzY3JlZW5Db250cm9sIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX21hcENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2Z1bGxzY3JlZW46IGJvb2xlYW47XG4gICAgX2Z1bGxzY3JlZW5jaGFuZ2U6IHN0cmluZztcbiAgICBfZnVsbHNjcmVlbkJ1dHRvbjogSFRNTEVsZW1lbnQ7XG4gICAgX2NsYXNzTmFtZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2Z1bGxzY3JlZW4gPSBmYWxzZTtcbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uQ2xpY2tGdWxsc2NyZWVuJyxcbiAgICAgICAgICAgICdfY2hhbmdlSWNvbidcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgICAgIGlmICgnb25mdWxsc2NyZWVuY2hhbmdlJyBpbiB3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UgPSAnZnVsbHNjcmVlbmNoYW5nZSc7XG4gICAgICAgIH0gZWxzZSBpZiAoJ29ubW96ZnVsbHNjcmVlbmNoYW5nZScgaW4gd2luZG93LmRvY3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxsc2NyZWVuY2hhbmdlID0gJ21vemZ1bGxzY3JlZW5jaGFuZ2UnO1xuICAgICAgICB9IGVsc2UgaWYgKCdvbndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnIGluIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbmNoYW5nZSA9ICd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJztcbiAgICAgICAgfSBlbHNlIGlmICgnb25tc2Z1bGxzY3JlZW5jaGFuZ2UnIGluIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbmNoYW5nZSA9ICdNU0Z1bGxzY3JlZW5DaGFuZ2UnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NsYXNzTmFtZSA9ICdtYXBib3hnbC1jdHJsJztcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX21hcENvbnRhaW5lciA9IHRoaXMuX21hcC5nZXRDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgYCR7dGhpcy5fY2xhc3NOYW1lfSBtYXBib3hnbC1jdHJsLWdyb3VwYCk7XG4gICAgICAgIGlmICh0aGlzLl9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldHVwVUkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgd2Fybk9uY2UoJ1RoaXMgZGV2aWNlIGRvZXMgbm90IHN1cHBvcnQgZnVsbHNjcmVlbiBtb2RlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIERPTS5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5fbWFwID0gKG51bGw6IGFueSk7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UsIHRoaXMuX2NoYW5nZUljb24pO1xuICAgIH1cblxuICAgIF9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0KCkge1xuICAgICAgICByZXR1cm4gISEoXG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVuYWJsZWQgfHxcbiAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkubW96RnVsbFNjcmVlbkVuYWJsZWQgfHxcbiAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkubXNGdWxsc2NyZWVuRW5hYmxlZCB8fFxuICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZFxuICAgICAgICApO1xuICAgIH1cblxuICAgIF9zZXR1cFVJKCkge1xuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLl9mdWxsc2NyZWVuQnV0dG9uID0gRE9NLmNyZWF0ZSgnYnV0dG9uJywgKGAke3RoaXMuX2NsYXNzTmFtZX0taWNvbiAke3RoaXMuX2NsYXNzTmFtZX0tZnVsbHNjcmVlbmApLCB0aGlzLl9jb250YWluZXIpO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIlRvZ2dsZSBmdWxsc2NyZWVuXCIpO1xuICAgICAgICBidXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICB0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGlja0Z1bGxzY3JlZW4pO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLCB0aGlzLl9jaGFuZ2VJY29uKTtcbiAgICB9XG5cbiAgICBfaXNGdWxsc2NyZWVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZnVsbHNjcmVlbjtcbiAgICB9XG5cbiAgICBfY2hhbmdlSWNvbigpIHtcbiAgICAgICAgY29uc3QgZnVsbHNjcmVlbkVsZW1lbnQgPVxuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8XG4gICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLm1zRnVsbHNjcmVlbkVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKChmdWxsc2NyZWVuRWxlbWVudCA9PT0gdGhpcy5fbWFwQ29udGFpbmVyKSAhPT0gdGhpcy5fZnVsbHNjcmVlbikge1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbiA9ICF0aGlzLl9mdWxsc2NyZWVuO1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKGAke3RoaXMuX2NsYXNzTmFtZX0tc2hyaW5rYCk7XG4gICAgICAgICAgICB0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoYCR7dGhpcy5fY2xhc3NOYW1lfS1mdWxsc2NyZWVuYCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25DbGlja0Z1bGxzY3JlZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Z1bGxzY3JlZW4oKSkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLm1vekNhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLm1zRXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9tYXBDb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX21hcENvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX21hcENvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbikge1xuICAgICAgICAgICAgKHRoaXMuX21hcENvbnRhaW5lcjogYW55KS5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX21hcENvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAodGhpcy5fbWFwQ29udGFpbmVyOiBhbnkpLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9tYXBDb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICh0aGlzLl9tYXBDb250YWluZXI6IGFueSkud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRnVsbHNjcmVlbkNvbnRyb2w7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBleHRlbmQsIGJpbmRBbGwgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgRXZlbnQsIEV2ZW50ZWQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IERPTSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vdXRpbC93aW5kb3cnO1xuaW1wb3J0IHNtYXJ0V3JhcCBmcm9tICcuLi91dGlsL3NtYXJ0X3dyYXAnO1xuaW1wb3J0IHsgdHlwZSBBbmNob3IsIGFuY2hvclRyYW5zbGF0ZSwgYXBwbHlBbmNob3JDbGFzcyB9IGZyb20gJy4vYW5jaG9yJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4vbWFwJztcbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tICcuLi9nZW8vbG5nX2xhdCc7XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIGNsb3NlQnV0dG9uOiB0cnVlLFxuICAgIGNsb3NlT25DbGljazogdHJ1ZVxufTtcblxuZXhwb3J0IHR5cGUgT2Zmc2V0ID0gbnVtYmVyIHwgUG9pbnRMaWtlIHwge1tBbmNob3JdOiBQb2ludExpa2V9O1xuXG5leHBvcnQgdHlwZSBQb3B1cE9wdGlvbnMgPSB7XG4gICAgY2xvc2VCdXR0b246IGJvb2xlYW4sXG4gICAgY2xvc2VPbkNsaWNrOiBib29sZWFuLFxuICAgIGFuY2hvcjogQW5jaG9yLFxuICAgIG9mZnNldDogT2Zmc2V0XG59O1xuXG4vKipcbiAqIEEgcG9wdXAgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xvc2VCdXR0b249dHJ1ZV0gSWYgYHRydWVgLCBhIGNsb3NlIGJ1dHRvbiB3aWxsIGFwcGVhciBpbiB0aGVcbiAqICAgdG9wIHJpZ2h0IGNvcm5lciBvZiB0aGUgcG9wdXAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsb3NlT25DbGljaz10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBwb3B1cCB3aWxsIGNsb3NlZCB3aGVuIHRoZVxuICogICBtYXAgaXMgY2xpY2tlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5hbmNob3JdIC0gQSBzdHJpbmcgaW5kaWNhdGluZyB0aGUgcGFydCBvZiB0aGUgUG9wdXAgdGhhdCBzaG91bGRcbiAqICAgYmUgcG9zaXRpb25lZCBjbG9zZXN0IHRvIHRoZSBjb29yZGluYXRlIHNldCB2aWEge0BsaW5rIFBvcHVwI3NldExuZ0xhdH0uXG4gKiAgIE9wdGlvbnMgYXJlIGAndG9wJ2AsIGAnYm90dG9tJ2AsIGAnbGVmdCdgLCBgJ3JpZ2h0J2AsIGAndG9wLWxlZnQnYCxcbiAqICAgYCd0b3AtcmlnaHQnYCwgYCdib3R0b20tbGVmdCdgLCBhbmQgYCdib3R0b20tcmlnaHQnYC4gSWYgdW5zZXQgdGhlIGFuY2hvciB3aWxsIGJlXG4gKiAgIGR5bmFtaWNhbGx5IHNldCB0byBlbnN1cmUgdGhlIHBvcHVwIGZhbGxzIHdpdGhpbiB0aGUgbWFwIGNvbnRhaW5lciB3aXRoIGEgcHJlZmVyZW5jZVxuICogICBmb3IgYCdib3R0b20nYC5cbiAqIEBwYXJhbSB7bnVtYmVyfFBvaW50TGlrZXxPYmplY3R9IFtvcHRpb25zLm9mZnNldF0gLVxuICogIEEgcGl4ZWwgb2Zmc2V0IGFwcGxpZWQgdG8gdGhlIHBvcHVwJ3MgbG9jYXRpb24gc3BlY2lmaWVkIGFzOlxuICogICAtIGEgc2luZ2xlIG51bWJlciBzcGVjaWZ5aW5nIGEgZGlzdGFuY2UgZnJvbSB0aGUgcG9wdXAncyBsb2NhdGlvblxuICogICAtIGEge0BsaW5rIFBvaW50TGlrZX0gc3BlY2lmeWluZyBhIGNvbnN0YW50IG9mZnNldFxuICogICAtIGFuIG9iamVjdCBvZiB7QGxpbmsgUG9pbnR9cyBzcGVjaWZpbmcgYW4gb2Zmc2V0IGZvciBlYWNoIGFuY2hvciBwb3NpdGlvblxuICogIE5lZ2F0aXZlIG9mZnNldHMgaW5kaWNhdGUgbGVmdCBhbmQgdXAuXG4gKiBAZXhhbXBsZVxuICogdmFyIG1hcmtlckhlaWdodCA9IDUwLCBtYXJrZXJSYWRpdXMgPSAxMCwgbGluZWFyT2Zmc2V0ID0gMjU7XG4gKiB2YXIgcG9wdXBPZmZzZXRzID0ge1xuICogICd0b3AnOiBbMCwgMF0sXG4gKiAgJ3RvcC1sZWZ0JzogWzAsMF0sXG4gKiAgJ3RvcC1yaWdodCc6IFswLDBdLFxuICogICdib3R0b20nOiBbMCwgLW1hcmtlckhlaWdodF0sXG4gKiAgJ2JvdHRvbS1sZWZ0JzogW2xpbmVhck9mZnNldCwgKG1hcmtlckhlaWdodCAtIG1hcmtlclJhZGl1cyArIGxpbmVhck9mZnNldCkgKiAtMV0sXG4gKiAgJ2JvdHRvbS1yaWdodCc6IFstbGluZWFyT2Zmc2V0LCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzICsgbGluZWFyT2Zmc2V0KSAqIC0xXSxcbiAqICAnbGVmdCc6IFttYXJrZXJSYWRpdXMsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMpICogLTFdLFxuICogICdyaWdodCc6IFstbWFya2VyUmFkaXVzLCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzKSAqIC0xXVxuICogIH07XG4gKiB2YXIgcG9wdXAgPSBuZXcgbWFwYm94Z2wuUG9wdXAoe29mZnNldDpwb3B1cE9mZnNldHN9KVxuICogICAuc2V0TG5nTGF0KGUubG5nTGF0KVxuICogICAuc2V0SFRNTChcIjxoMT5IZWxsbyBXb3JsZCE8L2gxPlwiKVxuICogICAuYWRkVG8obWFwKTtcbiAqIEBzZWUgW0Rpc3BsYXkgYSBwb3B1cF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC8pXG4gKiBAc2VlIFtEaXNwbGF5IGEgcG9wdXAgb24gaG92ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAtb24taG92ZXIvKVxuICogQHNlZSBbRGlzcGxheSBhIHBvcHVwIG9uIGNsaWNrXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWNsaWNrLylcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgb3B0aW9uczogUG9wdXBPcHRpb25zO1xuICAgIF9jb250ZW50OiBIVE1MRWxlbWVudDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfY2xvc2VCdXR0b246IEhUTUxFbGVtZW50O1xuICAgIF90aXA6IEhUTUxFbGVtZW50O1xuICAgIF9sbmdMYXQ6IExuZ0xhdDtcbiAgICBfcG9zOiA/UG9pbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBQb3B1cE9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKE9iamVjdC5jcmVhdGUoZGVmYXVsdE9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgYmluZEFsbChbJ191cGRhdGUnLCAnX29uQ2xpY2tDbG9zZSddLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBwb3B1cCB0byBhIG1hcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWFwfSBtYXAgVGhlIE1hcGJveCBHTCBKUyBtYXAgdG8gYWRkIHRoZSBwb3B1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IGB0aGlzYFxuICAgICAqL1xuICAgIGFkZFRvKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fbWFwLm9uKCdtb3ZlJywgdGhpcy5fdXBkYXRlKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2spIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vbignY2xpY2snLCB0aGlzLl9vbkNsaWNrQ2xvc2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBwb3B1cCBpcyBvcGVuZWQgbWFudWFsbHkgb3IgcHJvZ3JhbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgb3BlblxuICAgICAgICAgKiBAbWVtYmVyb2YgUG9wdXBcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UG9wdXB9IHBvcHVwIG9iamVjdCB0aGF0IHdhcyBvcGVuZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ29wZW4nKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgcG9wdXAgaXMgb3BlbiwgYGZhbHNlYCBpZiBpdCBpcyBjbG9zZWQuXG4gICAgICovXG4gICAgaXNPcGVuKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9tYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcG9wdXAgZnJvbSB0aGUgbWFwIGl0IGhhcyBiZWVuIGFkZGVkIHRvLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgcG9wdXAgPSBuZXcgbWFwYm94Z2wuUG9wdXAoKS5hZGRUbyhtYXApO1xuICAgICAqIHBvcHVwLnJlbW92ZSgpO1xuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gYHRoaXNgXG4gICAgICovXG4gICAgcmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9jb250ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb250YWluZXIpIHtcbiAgICAgICAgICAgIERPTS5yZW1vdmUodGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbWFwKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAub2ZmKCdtb3ZlJywgdGhpcy5fdXBkYXRlKTtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vZmYoJ2NsaWNrJywgdGhpcy5fb25DbGlja0Nsb3NlKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9tYXA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgcG9wdXAgaXMgY2xvc2VkIG1hbnVhbGx5IG9yIHByb2dyYW1hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IGNsb3NlXG4gICAgICAgICAqIEBtZW1iZXJvZiBQb3B1cFxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtQb3B1cH0gcG9wdXAgb2JqZWN0IHRoYXQgd2FzIGNsb3NlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnY2xvc2UnKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uIG9mIHRoZSBwb3B1cCdzIGFuY2hvci5cbiAgICAgKlxuICAgICAqIFRoZSBsb25naXR1ZGUgb2YgdGhlIHJlc3VsdCBtYXkgZGlmZmVyIGJ5IGEgbXVsdGlwbGUgb2YgMzYwIGRlZ3JlZXMgZnJvbSB0aGUgbG9uZ2l0dWRlIHByZXZpb3VzbHlcbiAgICAgKiBzZXQgYnkgYHNldExuZ0xhdGAgYmVjYXVzZSBgUG9wdXBgIHdyYXBzIHRoZSBhbmNob3IgbG9uZ2l0dWRlIGFjcm9zcyBjb3BpZXMgb2YgdGhlIHdvcmxkIHRvIGtlZXBcbiAgICAgKiB0aGUgcG9wdXAgb24gc2NyZWVuLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbiBvZiB0aGUgcG9wdXAncyBhbmNob3IuXG4gICAgICovXG4gICAgZ2V0TG5nTGF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG5nTGF0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbiBvZiB0aGUgcG9wdXAncyBhbmNob3IsIGFuZCBtb3ZlcyB0aGUgcG9wdXAgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbG5nbGF0IFRoZSBnZW9ncmFwaGljYWwgbG9jYXRpb24gdG8gc2V0IGFzIHRoZSBwb3B1cCdzIGFuY2hvci5cbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldExuZ0xhdChsbmdsYXQ6IExuZ0xhdExpa2UpIHtcbiAgICAgICAgdGhpcy5fbG5nTGF0ID0gTG5nTGF0LmNvbnZlcnQobG5nbGF0KTtcbiAgICAgICAgdGhpcy5fcG9zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvcHVwJ3MgY29udGVudCB0byBhIHN0cmluZyBvZiB0ZXh0LlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGEgW1RleHRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9UZXh0KSBub2RlIGluIHRoZSBET00sXG4gICAgICogc28gaXQgY2Fubm90IGluc2VydCByYXcgSFRNTC4gVXNlIHRoaXMgbWV0aG9kIGZvciBzZWN1cml0eSBhZ2FpbnN0IFhTU1xuICAgICAqIGlmIHRoZSBwb3B1cCBjb250ZW50IGlzIHVzZXItcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGV4dCBUZXh0dWFsIGNvbnRlbnQgZm9yIHRoZSBwb3B1cC5cbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKClcbiAgICAgKiAgIC5zZXRMbmdMYXQoZS5sbmdMYXQpXG4gICAgICogICAuc2V0VGV4dCgnSGVsbG8sIHdvcmxkIScpXG4gICAgICogICAuYWRkVG8obWFwKTtcbiAgICAgKi9cbiAgICBzZXRUZXh0KHRleHQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRET01Db250ZW50KHdpbmRvdy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9wdXAncyBjb250ZW50IHRvIHRoZSBIVE1MIHByb3ZpZGVkIGFzIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgZG9lcyBub3QgcGVyZm9ybSBIVE1MIGZpbHRlcmluZyBvciBzYW5pdGl6YXRpb24sIGFuZCBtdXN0IGJlXG4gICAgICogdXNlZCBvbmx5IHdpdGggdHJ1c3RlZCBjb250ZW50LiBDb25zaWRlciB7QGxpbmsgUG9wdXAjc2V0VGV4dH0gaWZcbiAgICAgKiB0aGUgY29udGVudCBpcyBhbiB1bnRydXN0ZWQgdGV4dCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaHRtbCBBIHN0cmluZyByZXByZXNlbnRpbmcgSFRNTCBjb250ZW50IGZvciB0aGUgcG9wdXAuXG4gICAgICogQHJldHVybnMge1BvcHVwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRIVE1MKGh0bWw6IHN0cmluZykge1xuICAgICAgICBjb25zdCBmcmFnID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgY29uc3QgdGVtcCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5Jyk7XG4gICAgICAgIGxldCBjaGlsZDtcbiAgICAgICAgdGVtcC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY2hpbGQgPSB0ZW1wLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICBpZiAoIWNoaWxkKSBicmVhaztcbiAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RE9NQ29udGVudChmcmFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb3B1cCdzIGNvbnRlbnQgdG8gdGhlIGVsZW1lbnQgcHJvdmlkZWQgYXMgYSBET00gbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBodG1sTm9kZSBBIERPTSBub2RlIHRvIGJlIHVzZWQgYXMgY29udGVudCBmb3IgdGhlIHBvcHVwLlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBjcmVhdGUgYW4gZWxlbWVudCB3aXRoIHRoZSBwb3B1cCBjb250ZW50XG4gICAgICogdmFyIGRpdiA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgKiBkaXYuaW5uZXJIVE1MID0gJ0hlbGxvLCB3b3JsZCEnO1xuICAgICAqIHZhciBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpXG4gICAgICogICAuc2V0TG5nTGF0KGUubG5nTGF0KVxuICAgICAqICAgLnNldERPTUNvbnRlbnQoZGl2KVxuICAgICAqICAgLmFkZFRvKG1hcCk7XG4gICAgICovXG4gICAgc2V0RE9NQ29udGVudChodG1sTm9kZTogTm9kZSkge1xuICAgICAgICB0aGlzLl9jcmVhdGVDb250ZW50KCk7XG4gICAgICAgIHRoaXMuX2NvbnRlbnQuYXBwZW5kQ2hpbGQoaHRtbE5vZGUpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNvbnRlbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY29udGVudCA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1wb3B1cC1jb250ZW50JywgdGhpcy5fY29udGFpbmVyKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNsb3NlQnV0dG9uKSB7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IERPTS5jcmVhdGUoJ2J1dHRvbicsICdtYXBib3hnbC1wb3B1cC1jbG9zZS1idXR0b24nLCB0aGlzLl9jb250ZW50KTtcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdDbG9zZSBwb3B1cCcpO1xuICAgICAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gJyYjMjE1Oyc7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2tDbG9zZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21hcCB8fCAhdGhpcy5fbG5nTGF0IHx8ICF0aGlzLl9jb250ZW50KSB7IHJldHVybjsgfVxuXG4gICAgICAgIGlmICghdGhpcy5fY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtcG9wdXAnLCB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkpO1xuICAgICAgICAgICAgdGhpcy5fdGlwICAgICAgID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLXBvcHVwLXRpcCcsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fY29udGVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbWFwLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcykge1xuICAgICAgICAgICAgdGhpcy5fbG5nTGF0ID0gc21hcnRXcmFwKHRoaXMuX2xuZ0xhdCwgdGhpcy5fcG9zLCB0aGlzLl9tYXAudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuX3BvcyA9IHRoaXMuX21hcC5wcm9qZWN0KHRoaXMuX2xuZ0xhdCk7XG5cbiAgICAgICAgbGV0IGFuY2hvcjogQW5jaG9yID0gdGhpcy5vcHRpb25zLmFuY2hvcjtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbm9ybWFsaXplT2Zmc2V0KHRoaXMub3B0aW9ucy5vZmZzZXQpO1xuXG4gICAgICAgIGlmICghYW5jaG9yKSB7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuX2NvbnRhaW5lci5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX2NvbnRhaW5lci5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICBsZXQgYW5jaG9yQ29tcG9uZW50cztcblxuICAgICAgICAgICAgaWYgKHBvcy55ICsgb2Zmc2V0LmJvdHRvbS55IDwgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yQ29tcG9uZW50cyA9IFsndG9wJ107XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvcy55ID4gdGhpcy5fbWFwLnRyYW5zZm9ybS5oZWlnaHQgLSBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBhbmNob3JDb21wb25lbnRzID0gWydib3R0b20nXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yQ29tcG9uZW50cyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocG9zLnggPCB3aWR0aCAvIDIpIHtcbiAgICAgICAgICAgICAgICBhbmNob3JDb21wb25lbnRzLnB1c2goJ2xlZnQnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zLnggPiB0aGlzLl9tYXAudHJhbnNmb3JtLndpZHRoIC0gd2lkdGggLyAyKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yQ29tcG9uZW50cy5wdXNoKCdyaWdodCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYW5jaG9yQ29tcG9uZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBhbmNob3IgPSAnYm90dG9tJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yID0gKGFuY2hvckNvbXBvbmVudHMuam9pbignLScpOiBhbnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0ZWRQb3MgPSBwb3MuYWRkKG9mZnNldFthbmNob3JdKS5yb3VuZCgpO1xuXG4gICAgICAgIERPTS5zZXRUcmFuc2Zvcm0odGhpcy5fY29udGFpbmVyLCBgJHthbmNob3JUcmFuc2xhdGVbYW5jaG9yXX0gdHJhbnNsYXRlKCR7b2Zmc2V0ZWRQb3MueH1weCwke29mZnNldGVkUG9zLnl9cHgpYCk7XG4gICAgICAgIGFwcGx5QW5jaG9yQ2xhc3ModGhpcy5fY29udGFpbmVyLCBhbmNob3IsICdwb3B1cCcpO1xuICAgIH1cblxuICAgIF9vbkNsaWNrQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVPZmZzZXQob2Zmc2V0OiA/T2Zmc2V0KSB7XG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZU9mZnNldChuZXcgUG9pbnQoMCwgMCkpO1xuXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2Zmc2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAvLyBpbnB1dCBzcGVjaWZpZXMgYSByYWRpdXMgZnJvbSB3aGljaCB0byBjYWxjdWxhdGUgb2Zmc2V0cyBhdCBhbGwgcG9zaXRpb25zXG4gICAgICAgIGNvbnN0IGNvcm5lck9mZnNldCA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KDAuNSAqIE1hdGgucG93KG9mZnNldCwgMikpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdjZW50ZXInOiBuZXcgUG9pbnQoMCwgMCksXG4gICAgICAgICAgICAndG9wJzogbmV3IFBvaW50KDAsIG9mZnNldCksXG4gICAgICAgICAgICAndG9wLWxlZnQnOiBuZXcgUG9pbnQoY29ybmVyT2Zmc2V0LCBjb3JuZXJPZmZzZXQpLFxuICAgICAgICAgICAgJ3RvcC1yaWdodCc6IG5ldyBQb2ludCgtY29ybmVyT2Zmc2V0LCBjb3JuZXJPZmZzZXQpLFxuICAgICAgICAgICAgJ2JvdHRvbSc6IG5ldyBQb2ludCgwLCAtb2Zmc2V0KSxcbiAgICAgICAgICAgICdib3R0b20tbGVmdCc6IG5ldyBQb2ludChjb3JuZXJPZmZzZXQsIC1jb3JuZXJPZmZzZXQpLFxuICAgICAgICAgICAgJ2JvdHRvbS1yaWdodCc6IG5ldyBQb2ludCgtY29ybmVyT2Zmc2V0LCAtY29ybmVyT2Zmc2V0KSxcbiAgICAgICAgICAgICdsZWZ0JzogbmV3IFBvaW50KG9mZnNldCwgMCksXG4gICAgICAgICAgICAncmlnaHQnOiBuZXcgUG9pbnQoLW9mZnNldCwgMClcbiAgICAgICAgfTtcblxuICAgIH0gZWxzZSBpZiAob2Zmc2V0IGluc3RhbmNlb2YgUG9pbnQgfHwgQXJyYXkuaXNBcnJheShvZmZzZXQpKSB7XG4gICAgICAgIC8vIGlucHV0IHNwZWNpZmllcyBhIHNpbmdsZSBvZmZzZXQgdG8gYmUgYXBwbGllZCB0byBhbGwgcG9zaXRpb25zXG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZE9mZnNldCA9IFBvaW50LmNvbnZlcnQob2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdjZW50ZXInOiBjb252ZXJ0ZWRPZmZzZXQsXG4gICAgICAgICAgICAndG9wJzogY29udmVydGVkT2Zmc2V0LFxuICAgICAgICAgICAgJ3RvcC1sZWZ0JzogY29udmVydGVkT2Zmc2V0LFxuICAgICAgICAgICAgJ3RvcC1yaWdodCc6IGNvbnZlcnRlZE9mZnNldCxcbiAgICAgICAgICAgICdib3R0b20nOiBjb252ZXJ0ZWRPZmZzZXQsXG4gICAgICAgICAgICAnYm90dG9tLWxlZnQnOiBjb252ZXJ0ZWRPZmZzZXQsXG4gICAgICAgICAgICAnYm90dG9tLXJpZ2h0JzogY29udmVydGVkT2Zmc2V0LFxuICAgICAgICAgICAgJ2xlZnQnOiBjb252ZXJ0ZWRPZmZzZXQsXG4gICAgICAgICAgICAncmlnaHQnOiBjb252ZXJ0ZWRPZmZzZXRcbiAgICAgICAgfTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGlucHV0IHNwZWNpZmllcyBhbiBvZmZzZXQgcGVyIHBvc2l0aW9uXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnY2VudGVyJzogUG9pbnQuY29udmVydChvZmZzZXRbJ2NlbnRlciddIHx8IFswLCAwXSksXG4gICAgICAgICAgICAndG9wJzogUG9pbnQuY29udmVydChvZmZzZXRbJ3RvcCddIHx8IFswLCAwXSksXG4gICAgICAgICAgICAndG9wLWxlZnQnOiBQb2ludC5jb252ZXJ0KG9mZnNldFsndG9wLWxlZnQnXSB8fCBbMCwgMF0pLFxuICAgICAgICAgICAgJ3RvcC1yaWdodCc6IFBvaW50LmNvbnZlcnQob2Zmc2V0Wyd0b3AtcmlnaHQnXSB8fCBbMCwgMF0pLFxuICAgICAgICAgICAgJ2JvdHRvbSc6IFBvaW50LmNvbnZlcnQob2Zmc2V0Wydib3R0b20nXSB8fCBbMCwgMF0pLFxuICAgICAgICAgICAgJ2JvdHRvbS1sZWZ0JzogUG9pbnQuY29udmVydChvZmZzZXRbJ2JvdHRvbS1sZWZ0J10gfHwgWzAsIDBdKSxcbiAgICAgICAgICAgICdib3R0b20tcmlnaHQnOiBQb2ludC5jb252ZXJ0KG9mZnNldFsnYm90dG9tLXJpZ2h0J10gfHwgWzAsIDBdKSxcbiAgICAgICAgICAgICdsZWZ0JzogUG9pbnQuY29udmVydChvZmZzZXRbJ2xlZnQnXSB8fCBbMCwgMF0pLFxuICAgICAgICAgICAgJ3JpZ2h0JzogUG9pbnQuY29udmVydChvZmZzZXRbJ3JpZ2h0J10gfHwgWzAsIDBdKVxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCBzdXBwb3J0ZWQgZnJvbSAnQG1hcGJveC9tYXBib3gtZ2wtc3VwcG9ydGVkJztcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4uL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgTWFwIGZyb20gJy4vdWkvbWFwJztcbmltcG9ydCBOYXZpZ2F0aW9uQ29udHJvbCBmcm9tICcuL3VpL2NvbnRyb2wvbmF2aWdhdGlvbl9jb250cm9sJztcbmltcG9ydCBHZW9sb2NhdGVDb250cm9sIGZyb20gJy4vdWkvY29udHJvbC9nZW9sb2NhdGVfY29udHJvbCc7XG5pbXBvcnQgQXR0cmlidXRpb25Db250cm9sIGZyb20gJy4vdWkvY29udHJvbC9hdHRyaWJ1dGlvbl9jb250cm9sJztcbmltcG9ydCBTY2FsZUNvbnRyb2wgZnJvbSAnLi91aS9jb250cm9sL3NjYWxlX2NvbnRyb2wnO1xuaW1wb3J0IEZ1bGxzY3JlZW5Db250cm9sIGZyb20gJy4vdWkvY29udHJvbC9mdWxsc2NyZWVuX2NvbnRyb2wnO1xuaW1wb3J0IFBvcHVwIGZyb20gJy4vdWkvcG9wdXAnO1xuaW1wb3J0IE1hcmtlciBmcm9tICcuL3VpL21hcmtlcic7XG5pbXBvcnQgU3R5bGUgZnJvbSAnLi9zdHlsZS9zdHlsZSc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuL2dlby9sbmdfbGF0X2JvdW5kcyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vdXRpbC9jb25maWcnO1xuaW1wb3J0IHtzZXRSVExUZXh0UGx1Z2lufSBmcm9tICcuL3NvdXJjZS9ydGxfdGV4dF9wbHVnaW4nO1xuXG5jb25zdCBleHBvcnRlZCA9IHtcbiAgICB2ZXJzaW9uLFxuICAgIHN1cHBvcnRlZCxcbiAgICB3b3JrZXJDb3VudDogTWF0aC5tYXgoTWF0aC5mbG9vcihicm93c2VyLmhhcmR3YXJlQ29uY3VycmVuY3kgLyAyKSwgMSksXG4gICAgc2V0UlRMVGV4dFBsdWdpbjogc2V0UlRMVGV4dFBsdWdpbixcbiAgICBNYXAsXG4gICAgTmF2aWdhdGlvbkNvbnRyb2wsXG4gICAgR2VvbG9jYXRlQ29udHJvbCxcbiAgICBBdHRyaWJ1dGlvbkNvbnRyb2wsXG4gICAgU2NhbGVDb250cm9sLFxuICAgIEZ1bGxzY3JlZW5Db250cm9sLFxuICAgIFBvcHVwLFxuICAgIE1hcmtlcixcbiAgICBTdHlsZSxcbiAgICBMbmdMYXQsXG4gICAgTG5nTGF0Qm91bmRzLFxuICAgIFBvaW50LFxuICAgIGNvbmZpZyxcblxuICAgIC8qKlxuICAgICAqIEdldHMgYW5kIHNldHMgdGhlIG1hcCdzIFthY2Nlc3MgdG9rZW5dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vaGVscC9kZWZpbmUtYWNjZXNzLXRva2VuLykuXG4gICAgICpcbiAgICAgKiBAdmFyIHtzdHJpbmd9IGFjY2Vzc1Rva2VuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXBib3hnbC5hY2Nlc3NUb2tlbiA9IG15QWNjZXNzVG9rZW47XG4gICAgICogQHNlZSBbRGlzcGxheSBhIG1hcF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZXMvKVxuICAgICAqL1xuICAgIGdldCBhY2Nlc3NUb2tlbigpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy5BQ0NFU1NfVE9LRU47XG4gICAgfSxcblxuICAgIHNldCBhY2Nlc3NUb2tlbih0b2tlbjogc3RyaW5nKSB7XG4gICAgICAgIGNvbmZpZy5BQ0NFU1NfVE9LRU4gPSB0b2tlbjtcbiAgICB9LFxuXG4gICAgd29ya2VyVXJsOiAnJ1xufTtcblxuLyoqXG4gKiBUaGUgdmVyc2lvbiBvZiBNYXBib3ggR0wgSlMgaW4gdXNlIGFzIHNwZWNpZmllZCBpbiBgcGFja2FnZS5qc29uYCxcbiAqIGBDSEFOR0VMT0cubWRgLCBhbmQgdGhlIEdpdEh1YiByZWxlYXNlLlxuICpcbiAqIEB2YXIge3N0cmluZ30gdmVyc2lvblxuICovXG5cbi8qKlxuICogVGVzdCB3aGV0aGVyIHRoZSBicm93c2VyIFtzdXBwb3J0cyBNYXBib3ggR0wgSlNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vaGVscC9tYXBib3gtYnJvd3Nlci1zdXBwb3J0LyNtYXBib3gtZ2wtanMpLlxuICpcbiAqIEBmdW5jdGlvbiBzdXBwb3J0ZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1mYWxzZV0gSWYgYHRydWVgLFxuICogICB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gYGZhbHNlYCBpZiB0aGUgcGVyZm9ybWFuY2Ugb2YgTWFwYm94IEdMIEpTIHdvdWxkXG4gKiAgIGJlIGRyYW1hdGljYWxseSB3b3JzZSB0aGFuIGV4cGVjdGVkIChlLmcuIGEgc29mdHdhcmUgV2ViR0wgcmVuZGVyZXIgd291bGQgYmUgdXNlZCkuXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICogQGV4YW1wbGVcbiAqIG1hcGJveGdsLnN1cHBvcnRlZCgpIC8vID0gdHJ1ZVxuICogQHNlZSBbQ2hlY2sgZm9yIGJyb3dzZXIgc3VwcG9ydF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jaGVjay1mb3Itc3VwcG9ydC8pXG4gKi9cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAncyBbUlRMIHRleHQgcGx1Z2luXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9wbHVnaW5zLyNtYXBib3gtZ2wtcnRsLXRleHQpLlxuICogTmVjZXNzYXJ5IGZvciBzdXBwb3J0aW5nIGxhbmd1YWdlcyBsaWtlIEFyYWJpYyBhbmQgSGVicmV3IHRoYXQgYXJlIHdyaXR0ZW4gcmlnaHQtdG8tbGVmdC5cbiAqXG4gKiBAZnVuY3Rpb24gc2V0UlRMVGV4dFBsdWdpblxuICogQHBhcmFtIHtzdHJpbmd9IHBsdWdpblVSTCBVUkwgcG9pbnRpbmcgdG8gdGhlIE1hcGJveCBSVEwgdGV4dCBwbHVnaW4gc291cmNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIHdpdGggYW4gZXJyb3IgYXJndW1lbnQgaWYgdGhlcmUgaXMgYW4gZXJyb3IuXG4gKiBAZXhhbXBsZVxuICogbWFwYm94Z2wuc2V0UlRMVGV4dFBsdWdpbignaHR0cHM6Ly9hcGkubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvcGx1Z2lucy9tYXBib3gtZ2wtcnRsLXRleHQvdjAuMS4xL21hcGJveC1nbC1ydGwtdGV4dC5qcycpO1xuICogQHNlZSBbQWRkIHN1cHBvcnQgZm9yIHJpZ2h0LXRvLWxlZnQgc2NyaXB0c10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tYXBib3gtZ2wtcnRsLXRleHQvKVxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGV4cG9ydGVkO1xuXG4vLyBjYW5hcnkgYXNzZXJ0OiB1c2VkIHRvIGNvbmZpcm0gdGhhdCBhc3NlcnRzIGhhdmUgYmVlbiByZW1vdmVkIGZyb20gcHJvZHVjdGlvbiBidWlsZFxuYXNzZXJ0KHRydWUsICdjYW5hcnkgYXNzZXJ0Jyk7XG4iXSwibmFtZXMiOlsiaXNTdXBwb3J0ZWQiLCJvcHRpb25zIiwid2luZG93IiwiZG9jdW1lbnQiLCJBcnJheSIsInByb3RvdHlwZSIsImV2ZXJ5IiwiZmlsdGVyIiwiZm9yRWFjaCIsImluZGV4T2YiLCJsYXN0SW5kZXhPZiIsIm1hcCIsInNvbWUiLCJyZWR1Y2UiLCJyZWR1Y2VSaWdodCIsImlzQXJyYXkiLCJGdW5jdGlvbiIsImJpbmQiLCJPYmplY3QiLCJrZXlzIiwiY3JlYXRlIiwiZ2V0UHJvdG90eXBlT2YiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiaXNTZWFsZWQiLCJpc0Zyb3plbiIsImlzRXh0ZW5zaWJsZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImRlZmluZVByb3BlcnR5IiwiZGVmaW5lUHJvcGVydGllcyIsInNlYWwiLCJmcmVlemUiLCJwcmV2ZW50RXh0ZW5zaW9ucyIsIkpTT04iLCJzdXBwb3J0ZWQiLCJ3b3JrZXIiLCJibG9iIiwiQmxvYiIsInR5cGUiLCJ3b3JrZXJVUkwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJXb3JrZXIiLCJlIiwidGVybWluYXRlIiwicmV2b2tlT2JqZWN0VVJMIiwiaXNXb3JrZXJTdXBwb3J0ZWQiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IiwidW5kZWZpbmVkIiwiaXNXZWJHTFN1cHBvcnRlZENhY2hlIiwiY2FudmFzIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJ3ZWJHTENvbnRleHRBdHRyaWJ1dGVzIiwicHJvYmFibHlTdXBwb3J0c0NvbnRleHQiLCJzdXBwb3J0c0NvbnRleHQiLCJnZXRDb250ZXh0IiwiaXNXZWJHTFN1cHBvcnRlZCIsImlzV2ViR0xTdXBwb3J0ZWRDYWNoZWQiLCJtb2R1bGUiLCJleHBvcnRzIiwibWFwYm94Z2wiLCJhbnRpYWxpYXMiLCJhbHBoYSIsInN0ZW5jaWwiLCJkZXB0aCIsIm5vdyIsInBlcmZvcm1hbmNlIiwiRGF0ZSIsInJhZiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtb3pDYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIiwibXNDYW5jZWxBbmltYXRpb25GcmFtZSIsImV4cG9ydGVkIiwiZnJhbWUiLCJmbiIsImNhbmNlbEZyYW1lIiwiaWQiLCJnZXRJbWFnZURhdGEiLCJpbWciLCJjb25zdCIsImNvbnRleHQiLCJFcnJvciIsIndpZHRoIiwiaGVpZ2h0IiwiZHJhd0ltYWdlIiwiaGFyZHdhcmVDb25jdXJyZW5jeSIsIm5hdmlnYXRvciIsImRldmljZVBpeGVsUmF0aW8iLCJzdXBwb3J0c1dlYnAiLCJ3ZWJwSW1nVGVzdCIsIm9ubG9hZCIsInNyYyIsIkRPTSIsInRhZ05hbWUiLCJjbGFzc05hbWUiLCJjb250YWluZXIiLCJlbCIsImFwcGVuZENoaWxkIiwibmFtZXNwYWNlVVJJIiwiY3JlYXRlRWxlbWVudE5TIiwiZG9jU3R5bGUiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsInRlc3RQcm9wIiwicHJvcHMiLCJsZXQiLCJpIiwibGVuZ3RoIiwidXNlclNlbGVjdCIsInNlbGVjdFByb3AiLCJkaXNhYmxlRHJhZyIsImVuYWJsZURyYWciLCJ0cmFuc2Zvcm1Qcm9wIiwic2V0VHJhbnNmb3JtIiwidmFsdWUiLCJwYXNzaXZlU3VwcG9ydGVkIiwiZ2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlcnIiLCJ0YXJnZXQiLCJjYWxsYmFjayIsImNhcHR1cmUiLCJzdXBwcmVzc0NsaWNrIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJzZXRUaW1lb3V0IiwibW91c2VQb3MiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG91Y2hlcyIsIlBvaW50IiwiY2xpZW50WCIsImxlZnQiLCJjbGllbnRMZWZ0IiwiY2xpZW50WSIsInRvcCIsImNsaWVudFRvcCIsInRvdWNoUG9zIiwicG9pbnRzIiwiY2hhbmdlZFRvdWNoZXMiLCJwdXNoIiwibW91c2VCdXR0b24iLCJJbnN0YWxsVHJpZ2dlciIsImJ1dHRvbiIsImN0cmxLZXkiLCJwbGF0Zm9ybSIsInRvVXBwZXJDYXNlIiwicmVtb3ZlIiwibm9kZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImNvbmZpZyIsIkFQSV9VUkwiLCJSRVFVSVJFX0FDQ0VTU19UT0tFTiIsIkFDQ0VTU19UT0tFTiIsImhlbHAiLCJtYWtlQVBJVVJMIiwidXJsT2JqZWN0IiwiYWNjZXNzVG9rZW4iLCJhcGlVcmxPYmplY3QiLCJwYXJzZVVybCIsInByb3RvY29sIiwiYXV0aG9yaXR5IiwicGF0aCIsImZvcm1hdFVybCIsInBhcmFtcyIsImlzTWFwYm94VVJMIiwidXJsIiwibm9ybWFsaXplR2x5cGhzVVJMIiwibm9ybWFsaXplU291cmNlVVJMIiwibm9ybWFsaXplU3ByaXRlVVJMIiwiZm9ybWF0IiwiZXh0ZW5zaW9uIiwiaW1hZ2VFeHRlbnNpb25SZSIsIm5vcm1hbGl6ZVRpbGVVUkwiLCJ0aWxlVVJMIiwic291cmNlVVJMIiwidGlsZVNpemUiLCJzdWZmaXgiLCJicm93c2VyIiwicmVwbGFjZSIsInJlcGxhY2VUZW1wQWNjZXNzVG9rZW4iLCJ1cmxSZSIsInBhcnRzIiwibWF0Y2giLCJzcGxpdCIsIm9iaiIsImpvaW4iLCJIVE1MSW1hZ2VFbGVtZW50IiwiSFRNTENhbnZhc0VsZW1lbnQiLCJIVE1MVmlkZW9FbGVtZW50IiwiSW1hZ2VEYXRhIiwiVGV4dHVyZSIsImltYWdlIiwicHJlbXVsdGlwbHkiLCJ0aGlzIiwic2l6ZSIsInRleHR1cmUiLCJnbCIsImNyZWF0ZVRleHR1cmUiLCJ1cGRhdGUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJwaXhlbFN0b3JlVW5wYWNrIiwic2V0IiwiUkdCQSIsInBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhIiwidGV4SW1hZ2UyRCIsIlVOU0lHTkVEX0JZVEUiLCJkYXRhIiwid3JhcCIsIm1pbkZpbHRlciIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01BR19GSUxURVIiLCJURVhUVVJFX01JTl9GSUxURVIiLCJURVhUVVJFX1dSQVBfUyIsIlRFWFRVUkVfV1JBUF9UIiwiZGVzdHJveSIsImRlbGV0ZVRleHR1cmUiLCJJbWFnZU1hbmFnZXIiLCJpbWFnZXMiLCJsb2FkZWQiLCJyZXF1ZXN0b3JzIiwic2hlbGZQYWNrIiwiU2hlbGZQYWNrIiwiYXV0b1Jlc2l6ZSIsInBhdHRlcm5zIiwiYXRsYXNJbWFnZSIsIlJHQkFJbWFnZSIsImRpcnR5IiwiaXNMb2FkZWQiLCJzZXRMb2FkZWQiLCJyZWYiLCJpZHMiLCJfbm90aWZ5IiwiZ2V0SW1hZ2UiLCJhZGRJbWFnZSIsInJlbW92ZUltYWdlIiwicGF0dGVybiIsInVucmVmIiwiYmluIiwiZ2V0SW1hZ2VzIiwiaGFzQWxsRGVwZW5kZW5jaWVzIiwicmVzcG9uc2UiLCJjbG9uZSIsInBpeGVsUmF0aW8iLCJzZGYiLCJnZXRQaXhlbFNpemUiLCJ3IiwiaCIsImdldFBhdHRlcm4iLCJwb3NpdGlvbiIsInBhZGRpbmciLCJwYWNrT25lIiwicmVzaXplIiwiZHN0IiwieCIsInkiLCJjb3B5IiwiSW1hZ2VQb3NpdGlvbiIsImF0bGFzVGV4dHVyZSIsIkxJTkVBUiIsIkNMQU1QX1RPX0VER0UiLCJUaW55U0RGIiwiSU5GIiwiZm9udFNpemUiLCJidWZmZXIiLCJyYWRpdXMiLCJjdXRvZmYiLCJmb250RmFtaWx5IiwiZm9udFdlaWdodCIsImN0eCIsImZvbnQiLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsU3R5bGUiLCJncmlkT3V0ZXIiLCJGbG9hdDY0QXJyYXkiLCJncmlkSW5uZXIiLCJmIiwiZCIsInoiLCJ2IiwiSW50MTZBcnJheSIsIm1pZGRsZSIsIk1hdGgiLCJyb3VuZCIsInVzZXJBZ2VudCIsImVkdCIsImVkdDFkIiwic3FydCIsIm4iLCJxIiwiayIsInMiLCJkcmF3IiwiY2hhciIsImNsZWFyUmVjdCIsImZpbGxUZXh0IiwiaW1nRGF0YSIsImFscGhhQ2hhbm5lbCIsIlVpbnQ4Q2xhbXBlZEFycmF5IiwiYSIsInBvdyIsIm1heCIsIm1pbiIsIkdseXBoTWFuYWdlciIsInJlcXVlc3RUcmFuc2Zvcm0iLCJsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHkiLCJlbnRyaWVzIiwic2V0VVJMIiwiZ2V0R2x5cGhzIiwiZ2x5cGhzIiwiYWxsIiwic3RhY2siLCJhc3luY0FsbCIsImVudHJ5IiwicmVxdWVzdHMiLCJnbHlwaCIsIl90aW55U0RGIiwicmFuZ2UiLCJmbG9vciIsImxvYWRHbHlwaFJhbmdlIiwiY2IiLCJyZXN1bHQiLCJiaXRtYXAiLCJtZXRyaWNzIiwiZmFtaWx5IiwiaXNDaGFyIiwidGlueVNERiIsInRlc3QiLCJBbHBoYUltYWdlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYWR2YW5jZSIsIkxpZ2h0UG9zaXRpb25Qcm9wZXJ0eSIsInNwZWNpZmljYXRpb24iLCJzdHlsZVNwZWMiLCJsaWdodCIsInBvc3NpYmx5RXZhbHVhdGUiLCJwYXJhbWV0ZXJzIiwic3BoZXJpY2FsVG9DYXJ0ZXNpYW4iLCJleHByZXNzaW9uIiwiZXZhbHVhdGUiLCJpbnRlcnBvbGF0ZSIsImIiLCJ0IiwicHJvcGVydGllcyIsIlByb3BlcnRpZXMiLCJhbmNob3IiLCJEYXRhQ29uc3RhbnRQcm9wZXJ0eSIsImNvbG9yIiwiaW50ZW5zaXR5IiwiTGlnaHQiLCJsaWdodE9wdGlvbnMiLCJzdXBlciIsIl90cmFuc2l0aW9uYWJsZSIsIlRyYW5zaXRpb25hYmxlIiwic2V0TGlnaHQiLCJfdHJhbnNpdGlvbmluZyIsInVudHJhbnNpdGlvbmVkIiwiZ2V0TGlnaHQiLCJzZXJpYWxpemUiLCJfdmFsaWRhdGUiLCJ2YWxpZGF0ZUxpZ2h0IiwibmFtZSIsImVuZHNXaXRoIiwic2V0VHJhbnNpdGlvbiIsInNsaWNlIiwic2V0VmFsdWUiLCJ1cGRhdGVUcmFuc2l0aW9ucyIsInRyYW5zaXRpb25lZCIsImhhc1RyYW5zaXRpb24iLCJyZWNhbGN1bGF0ZSIsInZhbGlkYXRlIiwiZW1pdFZhbGlkYXRpb25FcnJvcnMiLCJjYWxsIiwidmFsaWRhdGVTdHlsZSIsImV4dGVuZCIsInNwcml0ZSIsIkV2ZW50ZWQiLCJMaW5lQXRsYXMiLCJuZXh0Um93IiwiYnl0ZXMiLCJVaW50OEFycmF5IiwicG9zaXRpb25zIiwiZ2V0RGFzaCIsImRhc2hhcnJheSIsImtleSIsImFkZERhc2giLCJ3YXJuT25jZSIsInN0cmV0Y2giLCJoYWxmV2lkdGgiLCJvZGRMZW5ndGgiLCJyb3ciLCJpbmRleCIsInJpZ2h0IiwicGFydEluZGV4IiwiZGlzdExlZnQiLCJhYnMiLCJkaXN0UmlnaHQiLCJkaXN0IiwiaW5zaWRlIiwic2lnbmVkRGlzdGFuY2UiLCJkaXN0TWlkZGxlIiwiZGlzdEVkZ2UiLCJwb3MiLCJ0ZXhTdWJJbWFnZTJEIiwiUkVQRUFUIiwiRGlzcGF0Y2hlciIsIndvcmtlclBvb2wiLCJwYXJlbnQiLCJhY3RvcnMiLCJjdXJyZW50QWN0b3IiLCJ1bmlxdWVJZCIsIndvcmtlcnMiLCJhY3F1aXJlIiwiYWN0b3IiLCJBY3RvciIsImJyb2FkY2FzdCIsImRvbmUiLCJzZW5kIiwidGFyZ2V0SUQiLCJpc05hTiIsInJlbGVhc2UiLCJMbmdMYXQiLCJsbmciLCJsYXQiLCJ0b0FycmF5IiwidG9TdHJpbmciLCJ0b0JvdW5kcyIsImxhdEFjY3VyYWN5IiwibG5nQWNjdXJhY3kiLCJjb3MiLCJQSSIsIkxuZ0xhdEJvdW5kcyIsImNvbnZlcnQiLCJpbnB1dCIsIk51bWJlciIsInN3IiwibmUiLCJzZXRTb3V0aFdlc3QiLCJzZXROb3J0aEVhc3QiLCJfbmUiLCJfc3ciLCJzdzIiLCJuZTIiLCJnZXRDZW50ZXIiLCJnZXRTb3V0aFdlc3QiLCJnZXROb3J0aEVhc3QiLCJnZXROb3J0aFdlc3QiLCJnZXRXZXN0IiwiZ2V0Tm9ydGgiLCJnZXRTb3V0aEVhc3QiLCJnZXRFYXN0IiwiZ2V0U291dGgiLCJpc0VtcHR5IiwiVGlsZUJvdW5kcyIsImJvdW5kcyIsIm1pbnpvb20iLCJtYXh6b29tIiwidmFsaWRhdGVCb3VuZHMiLCJjb250YWlucyIsInRpbGVJRCIsImxldmVsIiwibG5nWCIsImxhdFkiLCJjZWlsIiwiem9vbSIsImNsYW1wIiwic2luIiwic2NhbGUiLCJsb2ciLCJWZWN0b3JUaWxlU291cmNlIiwiZGlzcGF0Y2hlciIsImV2ZW50ZWRQYXJlbnQiLCJzY2hlbWUiLCJyZXBhcnNlT3ZlcnNjYWxlZCIsImlzVGlsZUNsaXBwZWQiLCJwaWNrIiwiX29wdGlvbnMiLCJfY29sbGVjdFJlc291cmNlVGltaW5nIiwiY29sbGVjdFJlc291cmNlVGltaW5nIiwic2V0RXZlbnRlZFBhcmVudCIsImxvYWQiLCJmaXJlIiwiRXZlbnQiLCJkYXRhVHlwZSIsImxvYWRUaWxlSlNPTiIsIl90cmFuc2Zvcm1SZXF1ZXN0IiwidGlsZUpTT04iLCJFcnJvckV2ZW50IiwidGlsZUJvdW5kcyIsInNvdXJjZURhdGFUeXBlIiwiaGFzVGlsZSIsImNhbm9uaWNhbCIsIm9uQWRkIiwibG9hZFRpbGUiLCJ0aWxlIiwib3ZlcnNjYWxpbmciLCJvdmVyc2NhbGVGYWN0b3IiLCJub3JtYWxpemVVUkwiLCJ0aWxlcyIsInJlcXVlc3QiLCJSZXNvdXJjZVR5cGUiLCJUaWxlIiwidWlkIiwib3ZlcnNjYWxlZFoiLCJzb3VyY2UiLCJzaG93Q29sbGlzaW9uQm94ZXMiLCJhYm9ydGVkIiwicmVzb3VyY2VUaW1pbmciLCJfcmVmcmVzaEV4cGlyZWRUaWxlcyIsInNldEV4cGlyeURhdGEiLCJsb2FkVmVjdG9yRGF0YSIsInBhaW50ZXIiLCJyZWxvYWRDYWxsYmFjayIsIndvcmtlcklEIiwic3RhdGUiLCJhYm9ydFRpbGUiLCJ1bmxvYWRUaWxlIiwidW5sb2FkVmVjdG9yRGF0YSIsIlJhc3RlclRpbGVTb3VyY2UiLCJyb3VuZFpvb20iLCJfbG9hZGVkIiwiY2FjaGVDb250cm9sIiwiZXhwaXJlcyIsImdldFRpbGVUZXh0dXJlIiwiTElORUFSX01JUE1BUF9ORUFSRVNUIiwiZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljIiwidGV4UGFyYW1ldGVyZiIsIlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUIiwiZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4IiwiZ2VuZXJhdGVNaXBtYXAiLCJhYm9ydCIsInNhdmVUaWxlVGV4dHVyZSIsIlJhc3RlckRFTVRpbGVTb3VyY2UiLCJlbmNvZGluZyIsInJhd0ltYWdlRGF0YSIsImNvb3JkIiwiZGVtIiwibmVlZHNIaWxsc2hhZGVQcmVwYXJlIiwibmVpZ2hib3JpbmdUaWxlcyIsIl9nZXROZWlnaGJvcmluZ1RpbGVzIiwiZGltIiwicHgiLCJweHciLCJueCIsIm54dyIsIk92ZXJzY2FsZWRUaWxlSUQiLCJiYWNrZmlsbGVkIiwiZGVtVGV4dHVyZSIsImZibyIsIkdlb0pTT05Tb3VyY2UiLCJfcmVtb3ZlZCIsIl9kYXRhIiwiX3Jlc291cmNlVGltaW5nIiwiRVhURU5UIiwid29ya2VyT3B0aW9ucyIsImNsdXN0ZXIiLCJnZW9qc29uVnRPcHRpb25zIiwidG9sZXJhbmNlIiwiZXh0ZW50IiwibWF4Wm9vbSIsInN1cGVyY2x1c3Rlck9wdGlvbnMiLCJjbHVzdGVyTWF4Wm9vbSIsImNsdXN0ZXJSYWRpdXMiLCJfdXBkYXRlV29ya2VyRGF0YSIsInNldERhdGEiLCJocmVmIiwiU291cmNlIiwic3RyaW5naWZ5IiwiYWJhbmRvbmVkIiwibWVzc2FnZSIsIm9uUmVtb3ZlIiwiVmVydGV4QXJyYXlPYmplY3QiLCJib3VuZFByb2dyYW0iLCJib3VuZExheW91dFZlcnRleEJ1ZmZlciIsImJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzIiwiYm91bmRJbmRleEJ1ZmZlciIsImJvdW5kVmVydGV4T2Zmc2V0IiwiYm91bmREeW5hbWljVmVydGV4QnVmZmVyIiwidmFvIiwicHJvZ3JhbSIsImxheW91dFZlcnRleEJ1ZmZlciIsInBhaW50VmVydGV4QnVmZmVycyIsImluZGV4QnVmZmVyIiwidmVydGV4T2Zmc2V0IiwiZHluYW1pY1ZlcnRleEJ1ZmZlciIsImR5bmFtaWNWZXJ0ZXhCdWZmZXIyIiwicGFpbnRCdWZmZXJzRGlmZmVyIiwiaXNGcmVzaEJpbmRSZXF1aXJlZCIsImJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcjIiLCJleHRWZXJ0ZXhBcnJheU9iamVjdCIsImZyZXNoQmluZCIsImJpbmRWZXJ0ZXhBcnJheU9FUyIsImR5bmFtaWNEcmF3IiwibnVtUHJldkF0dHJpYnV0ZXMiLCJudW1OZXh0QXR0cmlidXRlcyIsIm51bUF0dHJpYnV0ZXMiLCJjcmVhdGVWZXJ0ZXhBcnJheU9FUyIsImN1cnJlbnROdW1BdHRyaWJ1dGVzIiwiZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5IiwiZW5hYmxlQXR0cmlidXRlcyIsInNldFZlcnRleEF0dHJpYlBvaW50ZXJzIiwidmVydGV4QnVmZmVyIiwidmVydGV4QnVmZmVyJDEiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsIkltYWdlU291cmNlIiwiY29vcmRpbmF0ZXMiLCJJbWFnZSIsIl9maW5pc2hMb2FkaW5nIiwic2V0Q29vcmRpbmF0ZXMiLCJjb3JuZXJaMENvb3JkcyIsInRyYW5zZm9ybSIsImxvY2F0aW9uQ29vcmRpbmF0ZSIsInpvb21UbyIsImNlbnRlckNvb3JkIiwiZ2V0Q29vcmRpbmF0ZXNDZW50ZXIiLCJjb2x1bW4iLCJDYW5vbmljYWxUaWxlSUQiLCJ0aWxlQ29vcmRzIiwiem9vbWVkQ29vcmQiLCJfYm91bmRzQXJyYXkiLCJSYXN0ZXJCb3VuZHNBcnJheSIsImVtcGxhY2VCYWNrIiwiYm91bmRzQnVmZmVyIiwicHJlcGFyZSIsImNyZWF0ZVZlcnRleEJ1ZmZlciIsInJhc3RlckJvdW5kc0F0dHJpYnV0ZXMiLCJtZW1iZXJzIiwiYm91bmRzVkFPIiwiTkVBUkVTVCIsImVxdWFscyIsImJ1Y2tldHMiLCJWaWRlb1NvdXJjZSIsInVybHMiLCJnZXRWaWRlbyIsInZpZGVvIiwibG9vcCIsIl9yZXJlbmRlciIsInBsYXkiLCJyZWFkeVN0YXRlIiwicGF1c2VkIiwiQ2FudmFzU291cmNlIiwiYW5pbWF0ZSIsImdldEVsZW1lbnRCeUlkIiwiX2hhc0ludmFsaWREaW1lbnNpb25zIiwiX3BsYXlpbmciLCJwYXVzZSIsImdldENhbnZhcyIsInNvdXJjZVR5cGVzIiwidmVjdG9yIiwicmFzdGVyIiwicmFzdGVyLWRlbSIsInJhc3RlckRlbSIsImdlb2pzb24iLCJiaW5kQWxsIiwicXVlcnlSZW5kZXJlZEZlYXR1cmVzIiwic291cmNlQ2FjaGUiLCJzdHlsZUxheWVycyIsInF1ZXJ5R2VvbWV0cnkiLCJjb2xsaXNpb25JbmRleCIsIm1heFBpdGNoU2NhbGVGYWN0b3IiLCJ0aWxlc0luIiwic29ydCIsInNvcnRUaWxlc0luIiwicmVuZGVyZWRGZWF0dXJlTGF5ZXJzIiwidGlsZUluIiwid3JhcHBlZFRpbGVJRCIsIndyYXBwZWQiLCJxdWVyeVJlc3VsdHMiLCJjYWxjdWxhdGVQb3NNYXRyaXgiLCJ0b1Vud3JhcHBlZCIsIndyYXBwZWRJRExheWVyTWFwIiwid3JhcHBlZElEIiwid3JhcHBlZElETGF5ZXJzIiwibGF5ZXJJRCIsInRpbGVGZWF0dXJlcyIsIndyYXBwZWRJREZlYXR1cmVzIiwicmVzdWx0RmVhdHVyZXMiLCJ0aWxlRmVhdHVyZSIsImZlYXR1cmVJbmRleCIsImZlYXR1cmUiLCJtZXJnZVJlbmRlcmVkRmVhdHVyZUxheWVycyIsImlkQSIsImlkQiIsIkdyaWRJbmRleCIsImNlbGxTaXplIiwiYm94Q2VsbHMiLCJjaXJjbGVDZWxscyIsInhDZWxsQ291bnQiLCJ5Q2VsbENvdW50IiwiY2lyY2xlS2V5cyIsImJveEtleXMiLCJiYm94ZXMiLCJjaXJjbGVzIiwieFNjYWxlIiwieVNjYWxlIiwiYm94VWlkIiwiY2lyY2xlVWlkIiwia2V5c0xlbmd0aCIsImluc2VydCIsIngxIiwieTEiLCJ4MiIsInkyIiwiX2ZvckVhY2hDZWxsIiwiX2luc2VydEJveENlbGwiLCJpbnNlcnRDaXJjbGUiLCJfaW5zZXJ0Q2lyY2xlQ2VsbCIsImNlbGxJbmRleCIsIl9xdWVyeSIsImhpdFRlc3QiLCJjb25jYXQiLCJxdWVyeUFyZ3MiLCJzZWVuVWlkcyIsImJveCIsImNpcmNsZSIsIl9xdWVyeUNlbGwiLCJfcXVlcnlDaXJjbGUiLCJfcXVlcnlDZWxsQ2lyY2xlIiwicXVlcnkiLCJoaXRUZXN0Q2lyY2xlIiwiYm94Q2VsbCIsIm9mZnNldCIsImNpcmNsZUNlbGwiLCJfY2lyY2xlQW5kUmVjdENvbGxpZGUiLCJfY2lyY2xlc0NvbGxpZGUiLCJhcmcxIiwiYXJnMiIsImN4MSIsIl9jb252ZXJ0VG9YQ2VsbENvb3JkIiwiY3kxIiwiX2NvbnZlcnRUb1lDZWxsQ29vcmQiLCJjeDIiLCJjeTIiLCJyMSIsInIyIiwiZHgiLCJkeSIsImJvdGhSYWRpaSIsImNpcmNsZVgiLCJjaXJjbGVZIiwiaGFsZlJlY3RXaWR0aCIsImRpc3RYIiwiaGFsZlJlY3RIZWlnaHQiLCJkaXN0WSIsInN5bWJvbExheW91dFByb3BlcnRpZXMiLCJsYXlvdXQiLCJnZXRMYWJlbFBsYW5lTWF0cml4IiwicG9zTWF0cml4IiwicGl0Y2hXaXRoTWFwIiwicm90YXRlV2l0aE1hcCIsInBpeGVsc1RvVGlsZVVuaXRzIiwibSIsIm1hdDQiLCJpZGVudGl0eSIsIkZsb2F0MzJBcnJheSIsInJvdGF0ZVoiLCJhbmdsZSIsInRyYW5zbGF0ZSIsIm11bHRpcGx5IiwiZ2V0R2xDb29yZE1hdHJpeCIsInByb2plY3QiLCJwb2ludCIsIm1hdHJpeCIsInh5VHJhbnNmb3JtTWF0NCIsInNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYSIsImlzVmlzaWJsZSIsImFuY2hvclBvcyIsImNsaXBwaW5nQnVmZmVyIiwidXBkYXRlTGluZUxhYmVscyIsImJ1Y2tldCIsImlzVGV4dCIsImxhYmVsUGxhbmVNYXRyaXgiLCJnbENvb3JkTWF0cml4Iiwia2VlcFVwcmlnaHQiLCJzaXplRGF0YSIsInRleHRTaXplRGF0YSIsImljb25TaXplRGF0YSIsInBhcnRpYWxseUV2YWx1YXRlZFNpemUiLCJzeW1ib2xTaXplIiwiZHluYW1pY0xheW91dFZlcnRleEFycmF5IiwidGV4dCIsImljb24iLCJjbGVhciIsImxpbmVWZXJ0ZXhBcnJheSIsInBsYWNlZFN5bWJvbHMiLCJwbGFjZWRTeW1ib2xBcnJheSIsImFzcGVjdFJhdGlvIiwidXNlVmVydGljYWwiLCJzeW1ib2wiLCJoaWRkZW4iLCJ3cml0aW5nTW9kZSIsIldyaXRpbmdNb2RlIiwidmVydGljYWwiLCJoaWRlR2x5cGhzIiwibnVtR2x5cGhzIiwiYW5jaG9yWCIsImFuY2hvclkiLCJ2ZWM0IiwidHJhbnNmb3JtTWF0NCIsInBlcnNwZWN0aXZlUmF0aW8iLCJjYW1lcmFUb0NlbnRlckRpc3RhbmNlIiwicGl0Y2hTY2FsZWRGb250U2l6ZSIsInRpbGVBbmNob3JQb2ludCIsImFuY2hvclBvaW50IiwicHJvamVjdGlvbkNhY2hlIiwicGxhY2VVbmZsaXBwZWQiLCJwbGFjZUdseXBoc0Fsb25nTGluZSIsImdseXBoT2Zmc2V0QXJyYXkiLCJub3RFbm91Z2hSb29tIiwibmVlZHNGbGlwcGluZyIsImR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIiLCJ1cGRhdGVEYXRhIiwicGxhY2VGaXJzdEFuZExhc3RHbHlwaCIsImZvbnRTY2FsZSIsImxpbmVPZmZzZXRYIiwibGluZU9mZnNldFkiLCJmbGlwIiwicmV0dXJuVGlsZURpc3RhbmNlIiwiZ2x5cGhFbmRJbmRleCIsImdseXBoU3RhcnRJbmRleCIsImxpbmVTdGFydEluZGV4IiwibGluZUVuZEluZGV4IiwibGluZUxlbmd0aCIsImZpcnN0R2x5cGhPZmZzZXQiLCJnZXRvZmZzZXRYIiwibGFzdEdseXBoT2Zmc2V0IiwiZmlyc3RQbGFjZWRHbHlwaCIsInBsYWNlR2x5cGhBbG9uZ0xpbmUiLCJzZWdtZW50IiwibGFzdFBsYWNlZEdseXBoIiwiZmlyc3QiLCJsYXN0IiwicmVxdWlyZXNPcmllbnRhdGlvbkNoYW5nZSIsImZpcnN0UG9pbnQiLCJsYXN0UG9pbnQiLCJob3Jpem9udGFsIiwicGxhY2VkR2x5cGhzIiwiZmlyc3RBbmRMYXN0R2x5cGgiLCJvcmllbnRhdGlvbkNoYW5nZSIsImdseXBoSW5kZXgiLCJ0aWxlVmVydGV4SW5kZXgiLCJ0aWxlU2VnbWVudEVuZCIsImdldHgiLCJnZXR5IiwicHJvamVjdGVkVmVydGV4IiwicHJvamVjdFRydW5jYXRlZExpbmVTZWdtZW50Iiwic2luZ2xlR2x5cGgiLCJhZGREeW5hbWljQXR0cmlidXRlcyIsInByZXZpb3VzVGlsZVBvaW50IiwiY3VycmVudFRpbGVQb2ludCIsInByZXZpb3VzUHJvamVjdGVkUG9pbnQiLCJtaW5pbXVtTGVuZ3RoIiwicHJvamVjdGlvbk1hdHJpeCIsInByb2plY3RlZFVuaXRWZXJ0ZXgiLCJhZGQiLCJzdWIiLCJfdW5pdCIsInByb2plY3RlZFVuaXRTZWdtZW50IiwiX211bHQiLCJtYWciLCJvZmZzZXRYIiwiYW5jaG9yU2VnbWVudCIsImNvbWJpbmVkT2Zmc2V0WCIsImRpciIsImN1cnJlbnRJbmRleCIsImluaXRpYWxJbmRleCIsImN1cnJlbnQiLCJwcmV2IiwiZGlzdGFuY2VUb1ByZXYiLCJjdXJyZW50U2VnbWVudERpc3RhbmNlIiwiYWJzT2Zmc2V0WCIsImN1cnJlbnRWZXJ0ZXgiLCJwcm9qZWN0aW9uIiwicHJldmlvdXNMaW5lVmVydGV4SW5kZXgiLCJzZWdtZW50SW50ZXJwb2xhdGlvblQiLCJwcmV2VG9DdXJyZW50IiwicCIsIm11bHQiLCJfYWRkIiwiX3BlcnAiLCJhdGFuMiIsInRpbGVEaXN0YW5jZSIsInByZXZUaWxlRGlzdGFuY2UiLCJnZXR0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvciIsImxhc3RTZWdtZW50Vmlld3BvcnREaXN0YW5jZSIsImhpZGRlbkdseXBoQXR0cmlidXRlcyIsIkluZmluaXR5IiwibnVtIiwiZmxvYXQzMiIsIm91dCIsImdsbWF0cml4IiwiQ29sbGlzaW9uSW5kZXgiLCJncmlkIiwiaWdub3JlZEdyaWQiLCJHcmlkIiwicGl0Y2hmYWN0b3IiLCJfcGl0Y2giLCJzY3JlZW5SaWdodEJvdW5kYXJ5Iiwic2NyZWVuQm90dG9tQm91bmRhcnkiLCJtYXJrQ29sbGlzaW9uQ2lyY2xlVXNlZCIsImNvbGxpc2lvbkNpcmNsZXMiLCJ1c2VkIiwicGxhY2VDb2xsaXNpb25Cb3giLCJjb2xsaXNpb25Cb3giLCJhbGxvd092ZXJsYXAiLCJ0ZXh0UGl4ZWxSYXRpbyIsInByb2plY3RlZFBvaW50IiwicHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8iLCJhbmNob3JQb2ludFgiLCJhbmNob3JQb2ludFkiLCJ0aWxlVG9WaWV3cG9ydCIsInRsWCIsInRsWSIsImJyWCIsImJyWSIsIm9mZnNjcmVlbiIsImlzT2Zmc2NyZWVuIiwiYXBwcm94aW1hdGVUaWxlRGlzdGFuY2UiLCJsYXN0U2VnbWVudEFuZ2xlIiwiY2FtZXJhVG9BbmNob3JEaXN0YW5jZSIsImluY2lkZW5jZVN0cmV0Y2giLCJsYXN0U2VnbWVudFRpbGUiLCJwbGFjZUNvbGxpc2lvbkNpcmNsZXMiLCJzaG93Q29sbGlzaW9uQ2lyY2xlcyIsInBsYWNlZENvbGxpc2lvbkNpcmNsZXMiLCJwcm9qZWN0ZWRBbmNob3IiLCJwcm9qZWN0QW5jaG9yIiwidGlsZVVuaXRBbmNob3JQb2ludCIsImNvbGxpc2lvbkRldGVjdGVkIiwiZW50aXJlbHlPZmZzY3JlZW4iLCJmaXJzdFRpbGVEaXN0YW5jZSIsImxhc3RUaWxlRGlzdGFuY2UiLCJjYW1lcmFEaXN0YW5jZSIsInRpbGVVbml0UmFkaXVzIiwiYm94U2lnbmVkRGlzdGFuY2VGcm9tQW5jaG9yIiwicHJvamVjdFBvaW50IiwibmV4dEJveERpc3RhbmNlVG9BbmNob3IiLCJjb2xsaXNpb25Cb3hBcnJheUluZGV4IiwicXVlcnlSZW5kZXJlZFN5bWJvbHMiLCJ0aWxlQ29vcmQiLCJjb2xsaXNpb25Cb3hBcnJheSIsInNvdXJjZUlEIiwiYnVja2V0SW5zdGFuY2VJZHMiLCJzb3VyY2VMYXllckZlYXR1cmVzIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsInJpbmciLCJ0aGlzVGlsZUZlYXR1cmVzIiwiZmVhdHVyZXMiLCJidWNrZXRJbnN0YW5jZUlkIiwiYm94SW5kZXgiLCJpZ25vcmVkRmVhdHVyZXMiLCJibG9ja2luZyIsInNvdXJjZUxheWVyIiwic291cmNlTGF5ZXJJbmRleCIsImJ1Y2tldEluZGV4IiwiYmJveCIsImludGVyc2VjdGlvblRlc3RzIiwiaW5zZXJ0Q29sbGlzaW9uQm94IiwiaWdub3JlUGxhY2VtZW50IiwiYm94U3RhcnRJbmRleCIsImluc2VydENvbGxpc2lvbkNpcmNsZXMiLCJ1c2VzIiwiZXhwaXJhdGlvblRpbWUiLCJxdWVyeVBhZGRpbmciLCJleHBpcmVkUmVxdWVzdENvdW50IiwicmVnaXN0ZXJGYWRlRHVyYXRpb24iLCJkdXJhdGlvbiIsImZhZGVFbmRUaW1lIiwidGltZUFkZGVkIiwid2FzUmVxdWVzdGVkIiwianVzdFJlbG9hZGVkIiwiaGFzRGF0YSIsInJhd1RpbGVEYXRhIiwib3V0cHV0IiwibGF5ZXJzIiwibGF5ZXJJZHMiLCJnZXRMYXllciIsIkJvb2xlYW4iLCJkZXNlcmlhbGl6ZUJ1Y2tldCIsIlN5bWJvbEJ1Y2tldCIsInF1ZXJ5UmFkaXVzIiwiaWNvbkF0bGFzSW1hZ2UiLCJnbHlwaEF0bGFzSW1hZ2UiLCJDb2xsaXNpb25Cb3hBcnJheSIsImljb25BdGxhc1RleHR1cmUiLCJnbHlwaEF0bGFzVGV4dHVyZSIsInVubG9hZERFTURhdGEiLCJnZXRCdWNrZXQiLCJsYXllciIsInVwbG9hZCIsInVwbG9hZGVkIiwiQUxQSEEiLCJxdWVyeVNvdXJjZUZlYXR1cmVzIiwidnRMYXllcnMiLCJ2dCIsIlZlY3RvclRpbGUiLCJQcm90b2J1ZiIsIl9nZW9qc29uVGlsZUxheWVyIiwiZmVhdHVyZUZpbHRlciIsImdlb2pzb25GZWF0dXJlIiwiR2VvSlNPTkZlYXR1cmUiLCJjbGVhck1hc2siLCJzZWdtZW50cyIsIm1hc2tlZEJvdW5kc0J1ZmZlciIsIm1hc2tlZEluZGV4QnVmZmVyIiwic2V0TWFzayIsIm1hc2siLCJkZWVwRXF1YWwiLCIwIiwibWFza2VkQm91bmRzQXJyYXkiLCJpbmRleEFycmF5IiwiVHJpYW5nbGVJbmRleEFycmF5IiwiU2VnbWVudFZlY3RvciIsInByZXBhcmVTZWdtZW50IiwibWFza0FycmF5IiwibWFza0Nvb3JkIiwidmVydGV4RXh0ZW50IiwidGxWZXJ0ZXgiLCJiclZlcnRleCIsInZlcnRleExlbmd0aCIsInByaW1pdGl2ZUxlbmd0aCIsImNyZWF0ZUluZGV4QnVmZmVyIiwicHJpb3IiLCJwYXJzZWRDQyIsInBhcnNlQ2FjaGVDb250cm9sIiwiZ2V0VGltZSIsImlzRXhwaXJlZCIsImRlbHRhIiwiZ2V0RXhwaXJ5VGltZW91dCIsIkxSVUNhY2hlIiwicmVzZXQiLCJvcmRlciIsImhhcyIsInNwbGljZSIsInJlbW92ZWREYXRhIiwiZ2V0QW5kUmVtb3ZlIiwic2V0TWF4U2l6ZSIsIkluZGV4QnVmZmVyIiwiYXJyYXkiLCJjcmVhdGVCdWZmZXIiLCJ1bmJpbmRWQU8iLCJiaW5kRWxlbWVudEJ1ZmZlciIsImJ1ZmZlckRhdGEiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsImFycmF5QnVmZmVyIiwiRFlOQU1JQ19EUkFXIiwiU1RBVElDX0RSQVciLCJidWZmZXJTdWJEYXRhIiwiZGVsZXRlQnVmZmVyIiwiQXR0cmlidXRlVHlwZSIsIkludDgiLCJVaW50OCIsIkludDE2IiwiVWludDE2IiwiSW50MzIiLCJVaW50MzIiLCJGbG9hdDMyIiwiVmVydGV4QnVmZmVyIiwiaXRlbVNpemUiLCJieXRlc1BlckVsZW1lbnQiLCJiaW5kVmVydGV4QnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiaiIsIm1lbWJlciIsImF0dHJpYkluZGV4IiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiY29tcG9uZW50cyIsIkNsZWFyQ29sb3IiLCJDb2xvciIsInRyYW5zcGFyZW50IiwiYyIsInIiLCJnIiwiY2xlYXJDb2xvciIsIkNsZWFyRGVwdGgiLCJjbGVhckRlcHRoIiwiQ2xlYXJTdGVuY2lsIiwiY2xlYXJTdGVuY2lsIiwiQ29sb3JNYXNrIiwiY29sb3JNYXNrIiwiRGVwdGhNYXNrIiwiZGVwdGhNYXNrIiwiU3RlbmNpbE1hc2siLCJzdGVuY2lsTWFzayIsIlN0ZW5jaWxGdW5jIiwiZnVuYyIsIkFMV0FZUyIsInN0ZW5jaWxGdW5jIiwiU3RlbmNpbE9wIiwiS0VFUCIsInN0ZW5jaWxPcCIsIlN0ZW5jaWxUZXN0IiwiZW5hYmxlIiwiU1RFTkNJTF9URVNUIiwiZGlzYWJsZSIsIkRlcHRoUmFuZ2UiLCJkZXB0aFJhbmdlIiwiRGVwdGhUZXN0IiwiREVQVEhfVEVTVCIsIkRlcHRoRnVuYyIsIkxFU1MiLCJkZXB0aEZ1bmMiLCJCbGVuZCIsIkJMRU5EIiwiQmxlbmRGdW5jIiwiT05FIiwiWkVSTyIsImJsZW5kRnVuYyIsIkJsZW5kQ29sb3IiLCJibGVuZENvbG9yIiwiUHJvZ3JhbSIsInVzZVByb2dyYW0iLCJMaW5lV2lkdGgiLCJsaW5lV2lkdGhSYW5nZSIsImNsYW1wZWQiLCJsaW5lV2lkdGgiLCJBY3RpdmVUZXh0dXJlVW5pdCIsIlRFWFRVUkUwIiwiYWN0aXZlVGV4dHVyZSIsIlZpZXdwb3J0IiwiZHJhd2luZ0J1ZmZlcldpZHRoIiwiZHJhd2luZ0J1ZmZlckhlaWdodCIsInZpZXdwb3J0IiwiQmluZEZyYW1lYnVmZmVyIiwiYmluZEZyYW1lYnVmZmVyIiwiRlJBTUVCVUZGRVIiLCJCaW5kUmVuZGVyYnVmZmVyIiwiYmluZFJlbmRlcmJ1ZmZlciIsIlJFTkRFUkJVRkZFUiIsIkJpbmRUZXh0dXJlIiwiQmluZFZlcnRleEJ1ZmZlciIsImJpbmRCdWZmZXIiLCJCaW5kRWxlbWVudEJ1ZmZlciIsIkJpbmRWZXJ0ZXhBcnJheU9FUyIsIlBpeGVsU3RvcmVVbnBhY2siLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19BTElHTk1FTlQiLCJQaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYSIsIlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCIsIkZyYW1lYnVmZmVyVmFsdWUiLCJDb2xvckF0dGFjaG1lbnQiLCJmcmFtZWJ1ZmZlclRleHR1cmUyRCIsIkNPTE9SX0FUVEFDSE1FTlQwIiwic2V0RGlydHkiLCJEZXB0aEF0dGFjaG1lbnQiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkRFUFRIX0FUVEFDSE1FTlQiLCJmcmFtZWJ1ZmZlciIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiY29sb3JBdHRhY2htZW50IiwiZGVwdGhBdHRhY2htZW50IiwiRnJhbWVidWZmZXIiLCJyZW5kZXJidWZmZXIiLCJkZWxldGVSZW5kZXJidWZmZXIiLCJkZWxldGVGcmFtZWJ1ZmZlciIsIkRlcHRoTW9kZSIsIlJlYWRPbmx5IiwiUmVhZFdyaXRlIiwiZGlzYWJsZWQiLCJTdGVuY2lsTW9kZSIsImZhaWwiLCJkZXB0aEZhaWwiLCJwYXNzIiwiQ29sb3JNb2RlIiwiYmxlbmRGdW5jdGlvbiIsIlJlcGxhY2UiLCJ1bmJsZW5kZWQiLCJhbHBoYUJsZW5kZWQiLCJDb250ZXh0IiwiZ2V0RXh0ZW5zaW9uIiwiZ2V0UGFyYW1ldGVyIiwiQUxJQVNFRF9MSU5FX1dJRFRIX1JBTkdFIiwic3RlbmNpbFRlc3QiLCJkZXB0aFRlc3QiLCJibGVuZCIsIk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCIsImV4dFRleHR1cmVIYWxmRmxvYXQiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJzdG9yYWdlRm9ybWF0IiwicmJvIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwic2V0RGVwdGhNb2RlIiwiZGVwdGhNb2RlIiwic2V0U3RlbmNpbE1vZGUiLCJzdGVuY2lsTW9kZSIsInNldENvbG9yTW9kZSIsImNvbG9yTW9kZSIsIlNvdXJjZUNhY2hlIiwib24iLCJfc291cmNlTG9hZGVkIiwiX3BhdXNlZCIsInJlbG9hZCIsIl9zb3VyY2VFcnJvcmVkIiwiX3NvdXJjZSIsImNyZWF0ZVNvdXJjZSIsIl90aWxlcyIsIl9jYWNoZSIsIkNhY2hlIiwiX3VubG9hZFRpbGUiLCJfdGltZXJzIiwiX2NhY2hlVGltZXJzIiwiX21heFRpbGVDYWNoZVNpemUiLCJfaXNJZFJlbmRlcmFibGUiLCJfY292ZXJlZFRpbGVzIiwiZ2V0U291cmNlIiwicmVzdW1lIiwic2hvdWxkUmVsb2FkIiwiX3Nob3VsZFJlbG9hZE9uUmVzdW1lIiwiX2xvYWRUaWxlIiwiX2Fib3J0VGlsZSIsImdldElkcyIsImFfIiwiYl8iLCJyb3RhdGVkQSIsInJvdGF0ZSIsInJvdGF0ZWRCIiwiZ2V0UmVuZGVyYWJsZUlkcyIsImhhc1JlbmRlcmFibGVQYXJlbnQiLCJwYXJlbnRUaWxlIiwiZmluZExvYWRlZFBhcmVudCIsIl9yZXNldENhY2hlIiwiX3JlbG9hZFRpbGUiLCJfdGlsZUxvYWRlZCIsInByZXZpb3VzU3RhdGUiLCJzdGF0dXMiLCJyZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiIsIl9zZXRUaWxlUmVsb2FkVGltZXIiLCJfYmFja2ZpbGxERU0iLCJ0aWxlRXh0ZW50VkFPIiwicmVuZGVyYWJsZXMiLCJib3JkZXJJZCIsImJvcmRlclRpbGUiLCJnZXRUaWxlQnlJRCIsImZpbGxCb3JkZXIiLCJiYWNrZmlsbEJvcmRlciIsImdldFRpbGUiLCJnZXRab29tIiwic2NhbGVab29tIiwiX2ZpbmRMb2FkZWRDaGlsZHJlbiIsIm1heENvdmVyaW5nWm9vbSIsInJldGFpbiIsImZvdW5kIiwiejIiLCJzY2FsZWRUbyIsIm1pbkNvdmVyaW5nWm9vbSIsInVwZGF0ZUNhY2hlU2l6ZSIsImFwcHJveFRpbGVzSW5WaWV3Iiwidmlld0RlcGVuZGVudE1heFNpemUiLCJtYXhTaXplIiwiaWRlYWxUaWxlSURzIiwiZ2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzIiwidW53cmFwcGVkIiwiY292ZXJpbmdUaWxlcyIsImZhZGVkUGFyZW50IiwibWF4T3Zlcnpvb21pbmciLCJtYXhVbmRlcnpvb21pbmciLCJfdXBkYXRlUmV0YWluZWRUaWxlcyIsInBhcmVudHNGb3JGYWRpbmciLCJpc1Jhc3RlclR5cGUiLCJfYWRkVGlsZSIsImtleXNEaWZmZXJlbmNlIiwiX3JlbW92ZVRpbGUiLCJjaGVja2VkIiwicGFyZW50V2FzUmVxdWVzdGVkIiwiY292ZXJlZCIsImNoaWxkQ29vcmQiLCJjaGlsZHJlbiIsImNoaWxkVGlsZSIsInBhcmVudElkIiwiY2xlYXJUaW1lb3V0IiwiY2FjaGVkIiwiZXhwaXJ5VGltZW91dCIsIl9zZXRDYWNoZUludmFsaWRhdGlvblRpbWVyIiwid3JhcHBlZElkIiwiY2xlYXJUaWxlcyIsInRpbGVSZXN1bHRzIiwidGlsZVNwYWNlQm91bmRzIiwiY29vcmRpbmF0ZVRvVGlsZVBvaW50IiwiQ29vcmRpbmF0ZSIsInRpbGVTcGFjZVF1ZXJ5R2VvbWV0cnkiLCJnZXRWaXNpYmxlQ29vcmRpbmF0ZXMiLCJjb29yZHMiLCJnbG9iYWxXb3JrZXJQb29sIiwiV29ya2VyUG9vbCIsImFjdGl2ZSIsImRlcmVmIiwicmVmUHJvcGVydGllcyIsImRlcmVmTGF5ZXJzIiwibWFwSWQiLCJ3b3JrZXJDb3VudCIsIldlYldvcmtlciIsIm9wZXJhdGlvbnMiLCJzZXRTdHlsZSIsImFkZExheWVyIiwicmVtb3ZlTGF5ZXIiLCJzZXRQYWludFByb3BlcnR5Iiwic2V0TGF5b3V0UHJvcGVydHkiLCJzZXRGaWx0ZXIiLCJhZGRTb3VyY2UiLCJyZW1vdmVTb3VyY2UiLCJzZXRHZW9KU09OU291cmNlRGF0YSIsInNldExheWVyWm9vbVJhbmdlIiwic2V0TGF5ZXJQcm9wZXJ0eSIsInNldENlbnRlciIsInNldFpvb20iLCJzZXRCZWFyaW5nIiwic2V0UGl0Y2giLCJzZXRTcHJpdGUiLCJzZXRHbHlwaHMiLCJzb3VyY2VJZCIsImFmdGVyIiwiY29tbWFuZHMiLCJjb21tYW5kIiwiYXJncyIsInNvdXJjZXNSZW1vdmVkIiwidXBkYXRlU291cmNlIiwiY2FuVXBkYXRlR2VvSlNPTiIsImJlZm9yZSIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsImlzRXF1YWwiLCJkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMiLCJsYXllcklkIiwia2xhc3MiLCJwbHVja0lkIiwiaW5kZXhCeUlkIiwiZ3JvdXAiLCJkaWZmU3R5bGVzIiwidmVyc2lvbiIsImNlbnRlciIsImJlYXJpbmciLCJwaXRjaCIsInRyYW5zaXRpb24iLCJyZW1vdmVPckFkZFNvdXJjZUNvbW1hbmRzIiwiZGlmZlNvdXJjZXMiLCJzb3VyY2VzIiwiYmVmb3JlTGF5ZXJzIiwiYmVmb3JlTGF5ZXIiLCJhZnRlckxheWVyIiwiaW5zZXJ0QmVmb3JlTGF5ZXJJZCIsImJlZm9yZU9yZGVyIiwiYWZ0ZXJPcmRlciIsImJlZm9yZUluZGV4IiwiYWZ0ZXJJbmRleCIsInRyYWNrZXIiLCJjbGVhbiIsInBhaW50IiwiZGlmZkxheWVycyIsImNvbnNvbGUiLCJ3YXJuIiwiT3BhY2l0eVN0YXRlIiwicHJldlN0YXRlIiwiaW5jcmVtZW50IiwicGxhY2VkIiwic2tpcEZhZGUiLCJvcGFjaXR5IiwiaXNIaWRkZW4iLCJKb2ludE9wYWNpdHlTdGF0ZSIsInBsYWNlZFRleHQiLCJwbGFjZWRJY29uIiwiSm9pbnRQbGFjZW1lbnQiLCJQbGFjZW1lbnQiLCJmYWRlRHVyYXRpb24iLCJwbGFjZW1lbnRzIiwib3BhY2l0aWVzIiwic3RhbGUiLCJ1cGRhdGVDb2xsaXNpb25WZXJ0aWNlcyIsImNvbGxpc2lvblZlcnRleEFycmF5Iiwibm90VXNlZCIsInBsYWNlTGF5ZXJUaWxlIiwic3R5bGVMYXllciIsInNlZW5Dcm9zc1RpbGVJRHMiLCJzeW1ib2xCdWNrZXQiLCJ0ZXh0TGFiZWxQbGFuZU1hdHJpeCIsImljb25MYWJlbFBsYW5lTWF0cml4IiwicGxhY2VMYXllckJ1Y2tldCIsInRpbGVLZXkiLCJwYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZSIsImljb25XaXRob3V0VGV4dCIsImhhc1RleHREYXRhIiwidGV4dFdpdGhvdXRJY29uIiwiaGFzSWNvbkRhdGEiLCJzeW1ib2xJbnN0YW5jZXMiLCJzeW1ib2xJbnN0YW5jZSIsImNyb3NzVGlsZUlEIiwicGxhY2VUZXh0IiwicGxhY2VJY29uIiwicGxhY2VkR2x5cGhCb3hlcyIsInBsYWNlZEdseXBoQ2lyY2xlcyIsInBsYWNlZEljb25Cb3hlcyIsImNvbGxpc2lvbkFycmF5cyIsImRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMiLCJ0ZXh0Qm94U3RhcnRJbmRleCIsInRleHRCb3hFbmRJbmRleCIsImljb25Cb3hTdGFydEluZGV4IiwiaWNvbkJveEVuZEluZGV4IiwidGV4dEJveCIsInRleHRDaXJjbGVzIiwicGxhY2VkU3ltYm9sIiwicGxhY2VkVGV4dFN5bWJvbEluZGljZXMiLCJpY29uQm94IiwiY29tbWl0IiwicHJldlBsYWNlbWVudCIsImNvbW1pdFRpbWUiLCJwbGFjZW1lbnRDaGFuZ2VkIiwicHJldk9wYWNpdGllcyIsImpvaW50UGxhY2VtZW50IiwicHJldk9wYWNpdHkiLCJqb2ludE9wYWNpdHkiLCJsYXN0UGxhY2VtZW50Q2hhbmdlVGltZSIsInVwZGF0ZUxheWVyT3BhY2l0aWVzIiwidXBkYXRlQnVja2V0T3BhY2l0aWVzIiwib3BhY2l0eVZlcnRleEFycmF5IiwiaGFzQ29sbGlzaW9uQm94RGF0YSIsImhhc0NvbGxpc2lvbkNpcmNsZURhdGEiLCJjb2xsaXNpb25DaXJjbGUiLCJkdXBsaWNhdGVPcGFjaXR5U3RhdGUiLCJkZWZhdWx0T3BhY2l0eVN0YXRlIiwiaXNEdXBsaWNhdGUiLCJvcGFjaXR5U3RhdGUiLCJoYXNUZXh0IiwibnVtR2x5cGhWZXJ0aWNlcyIsIm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyIsImhhc0ljb24iLCJudW1JY29uVmVydGljZXMiLCJwYWNrZWRPcGFjaXR5IiwicGFja09wYWNpdHkiLCJvcGFjaXR5RW50cnlDb3VudCIsInBsYWNlZFRleHRTeW1ib2xJbmRleCIsInNvcnRGZWF0dXJlcyIsIm9wYWNpdHlWZXJ0ZXhCdWZmZXIiLCJjb2xsaXNpb25WZXJ0ZXhCdWZmZXIiLCJzeW1ib2xGYWRlQ2hhbmdlIiwiaGFzVHJhbnNpdGlvbnMiLCJzdGlsbFJlY2VudCIsInNldFN0YWxlIiwic2hpZnQyNSIsInNoaWZ0MjQiLCJzaGlmdDE3Iiwic2hpZnQxNiIsInNoaWZ0OSIsInNoaWZ0OCIsInNoaWZ0MSIsInRhcmdldEJpdCIsIm9wYWNpdHlCaXRzIiwiTGF5ZXJQbGFjZW1lbnQiLCJfY3VycmVudFRpbGVJbmRleCIsIl9zZWVuQ3Jvc3NUaWxlSURzIiwiY29udGludWVQbGFjZW1lbnQiLCJwbGFjZW1lbnQiLCJzaG91bGRQYXVzZVBsYWNlbWVudCIsIlBhdXNlYWJsZVBsYWNlbWVudCIsImZvcmNlRnVsbFBsYWNlbWVudCIsIl9jdXJyZW50UGxhY2VtZW50SW5kZXgiLCJfZm9yY2VGdWxsUGxhY2VtZW50IiwiX3Nob3dDb2xsaXNpb25Cb3hlcyIsIl9kb25lIiwiaXNEb25lIiwibGF5ZXJUaWxlcyIsInN0YXJ0VGltZSIsImVsYXBzZWRUaW1lIiwicGxhY2VtZW50Wm9vbSIsIl9pblByb2dyZXNzTGF5ZXIiLCJ0aGlzJDEiLCJwcmV2aW91c1BsYWNlbWVudCIsInJvdW5kaW5nRmFjdG9yIiwiVGlsZUxheWVySW5kZXgiLCJpbmRleGVkU3ltYm9sSW5zdGFuY2VzIiwiZ2V0U2NhbGVkQ29vcmRpbmF0ZXMiLCJjaGlsZFRpbGVJRCIsInpEaWZmZXJlbmNlIiwiZmluZE1hdGNoZXMiLCJuZXdUaWxlSUQiLCJ6b29tQ3Jvc3NUaWxlSURzIiwiaW5kZXhlZEluc3RhbmNlcyIsInNjYWxlZFN5bWJvbENvb3JkIiwidGhpc1RpbGVTeW1ib2wiLCJDcm9zc1RpbGVJRHMiLCJtYXhDcm9zc1RpbGVJRCIsImdlbmVyYXRlIiwiQ3Jvc3NUaWxlU3ltYm9sTGF5ZXJJbmRleCIsImluZGV4ZXMiLCJ1c2VkQ3Jvc3NUaWxlSURzIiwiYWRkQnVja2V0IiwiY3Jvc3NUaWxlSURzIiwicmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzIiwiem9vbUluZGV4ZXMiLCJjaGlsZEluZGV4IiwiaXNDaGlsZE9mIiwicGFyZW50SW5kZXgiLCJzeW1ib2xJbnN0YW5jZSQxIiwicmVtb3ZlZEJ1Y2tldCIsInJlbW92ZVN0YWxlQnVja2V0cyIsImN1cnJlbnRJRHMiLCJ0aWxlc0NoYW5nZWQiLCJDcm9zc1RpbGVTeW1ib2xJbmRleCIsImxheWVySW5kZXhlcyIsIm1heEJ1Y2tldEluc3RhbmNlSWQiLCJsYXllckluZGV4Iiwic3ltYm9sQnVja2V0c0NoYW5nZWQiLCJjdXJyZW50QnVja2V0SURzIiwicHJ1bmVVbnVzZWRMYXllcnMiLCJ1c2VkTGF5ZXJzIiwidXNlZExheWVyTWFwIiwidXNlZExheWVyIiwic3VwcG9ydGVkRGlmZk9wZXJhdGlvbnMiLCJkaWZmT3BlcmF0aW9ucyIsImlnbm9yZWREaWZmT3BlcmF0aW9ucyIsIlN0eWxlIiwiaW1hZ2VNYW5hZ2VyIiwiZ2x5cGhNYW5hZ2VyIiwibGluZUF0bGFzIiwiY3Jvc3NUaWxlU3ltYm9sSW5kZXgiLCJfbGF5ZXJzIiwiX29yZGVyIiwic291cmNlQ2FjaGVzIiwiem9vbUhpc3RvcnkiLCJab29tSGlzdG9yeSIsIl9yZXNldFVwZGF0ZXMiLCJzZWxmIiwiX3J0bFRleHRQbHVnaW5DYWxsYmFjayIsInJlZ2lzdGVyRm9yUGx1Z2luQXZhaWxhYmlsaXR5IiwicGx1Z2luVVJMIiwiZXJyb3JDYWxsYmFjayIsImV2ZW50IiwidmVjdG9yTGF5ZXJJZHMiLCJfdmFsaWRhdGVMYXllciIsImxvYWRVUkwiLCJub3JtYWxpemVTdHlsZVVSTCIsImdldEpTT04iLCJlcnJvciIsImpzb24iLCJfbG9hZCIsImxvYWRKU09OIiwic3R5bGVzaGVldCIsImxvYWRTcHJpdGUiLCJjcmVhdGVTdHlsZUxheWVyIiwiX3NlcmlhbGl6ZUxheWVycyIsIl91cGRhdGVkU291cmNlcyIsIl9jaGVja0xvYWRlZCIsIl9jaGFuZ2VkIiwidXBkYXRlZElkcyIsIl91cGRhdGVkTGF5ZXJzIiwicmVtb3ZlZElkcyIsIl9yZW1vdmVkTGF5ZXJzIiwiX3VwZGF0ZVdvcmtlckxheWVycyIsImFjdGlvbiIsIl9yZWxvYWRTb3VyY2UiLCJfY2xlYXJTb3VyY2UiLCJfdXBkYXRlZFBhaW50UHJvcHMiLCJzZXRTdGF0ZSIsIm5leHRTdGF0ZSIsImNoYW5nZXMiLCJvcCIsInVuaW1wbGVtZW50ZWRPcHMiLCJhcHBseSIsImlzU291cmNlTG9hZGVkIiwibGF5ZXJPYmplY3QiLCJhcnJheUluZGV4IiwiX2xheWVyT3JkZXJDaGFuZ2VkIiwicmVtb3ZlZCIsIl91cGRhdGVMYXllciIsIm1vdmVMYXllciIsIm5ld0luZGV4IiwiZ2V0RmlsdGVyIiwiZ2V0TGF5b3V0UHJvcGVydHkiLCJnZXRQYWludFByb3BlcnR5Iiwid2FzRGF0YURyaXZlbiIsIl90cmFuc2l0aW9uYWJsZVBhaW50IiwiX3ZhbHVlcyIsImlzRGF0YURyaXZlbiIsImdldFRyYW5zaXRpb24iLCJkZWxheSIsImZpbHRlck9iamVjdCIsIm1ldGFkYXRhIiwibWFwT2JqZWN0IiwiX2ZsYXR0ZW5SZW5kZXJlZEZlYXR1cmVzIiwic291cmNlUmVzdWx0cyIsImwiLCJsYXllckZlYXR1cmVzIiwiaW5jbHVkZWRTb3VyY2VzIiwicmVzdWx0cyIsImRhdGFUaWxlcyIsImRhdGFJRCIsImFkZFNvdXJjZVR5cGUiLCJTb3VyY2VUeXBlIiwiZ2V0U291cmNlVHlwZSIsInNldFNvdXJjZVR5cGUiLCJ3b3JrZXJTb3VyY2VVUkwiLCJfdXBkYXRlIiwiX3JlbW92ZSIsInJ0bFRleHRQbHVnaW5FdmVudGVkIiwib2ZmIiwiX3VwZGF0ZVNvdXJjZXMiLCJfZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcyIsIl91cGRhdGVQbGFjZW1lbnQiLCJwbGFjZW1lbnRDb21taXR0ZWQiLCJpc0xlc3NUaGFuIiwibGF5ZXJCdWNrZXRzQ2hhbmdlZCIsInBhdXNlYWJsZVBsYWNlbWVudCIsImljb25zIiwic3RhY2tzIiwic2hhZGVycyIsInByZWx1ZGUiLCJmcmFnbWVudFNvdXJjZSIsImZzIiwidmVydGV4U291cmNlIiwiYmFja2dyb3VuZCIsImJhY2tncm91bmRQYXR0ZXJuIiwiY2xpcHBpbmdNYXNrIiwiaGVhdG1hcCIsImhlYXRtYXBUZXh0dXJlIiwiZGVidWciLCJmaWxsIiwiZmlsbE91dGxpbmUiLCJmaWxsT3V0bGluZVBhdHRlcm4iLCJmaWxsUGF0dGVybiIsImZpbGxFeHRydXNpb24iLCJmaWxsRXh0cnVzaW9uUGF0dGVybiIsImV4dHJ1c2lvblRleHR1cmUiLCJoaWxsc2hhZGVQcmVwYXJlIiwiaGlsbHNoYWRlIiwibGluZSIsImxpbmVQYXR0ZXJuIiwibGluZVNERiIsInN5bWJvbEljb24iLCJzeW1ib2xTREYiLCJyZSIsInByb2dyYW1OYW1lIiwiZnJhZ21lbnRQcmFnbWFzIiwib3BlcmF0aW9uIiwicHJlY2lzaW9uIiwiYXR0clR5cGUiLCJjb25maWd1cmF0aW9uIiwic2hvd092ZXJkcmF3SW5zcGVjdG9yIiwiY3JlYXRlUHJvZ3JhbSIsImRlZmluZXMiLCJ0b0ZpeGVkIiwiZnJhZ21lbnRTaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiYXR0YWNoU2hhZGVyIiwidmVydGV4U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImxheW91dEF0dHJpYnV0ZXMiLCJiaW5kQXR0cmliTG9jYXRpb24iLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJBQ1RJVkVfQVRUUklCVVRFUyIsInVuaWZvcm1zIiwiYXR0cmlidXRlIiwiZ2V0QWN0aXZlQXR0cmliIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJudW1Vbmlmb3JtcyIsIkFDVElWRV9VTklGT1JNUyIsInVuaWZvcm0iLCJnZXRBY3RpdmVVbmlmb3JtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiY29tcHV0ZVRpbGVNYXNrcyIsInJvb3RUaWxlIiwiY2hpbGRBcnJheSIsImxvd2VyQm91bmQiLCJkaWZmWiIsIm1hc2tUaWxlSWQiLCJkcmF3Q29sbGlzaW9uRGVidWdHZW9tZXRyeSIsImRyYXdDaXJjbGVzIiwiY29sb3JNb2RlRm9yUmVuZGVyUGFzcyIsImJ1ZmZlcnMiLCJ1bmlmb3JtTWF0cml4NGZ2IiwidV9tYXRyaXgiLCJ1bmlmb3JtMWYiLCJ1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UiLCJ1X3BpeGVsc190b190aWxlX3VuaXRzIiwidW5pZm9ybTJmIiwidV9leHRydWRlX3NjYWxlIiwicGl4ZWxzVG9HTFVuaXRzIiwidV9vdmVyc2NhbGVfZmFjdG9yIiwiVFJJQU5HTEVTIiwiTElORVMiLCJkcmF3TW9kZSIsImR5bmFtaWNMYXlvdXRCdWZmZXIiLCJkeW5hbWljTGF5b3V0QnVmZmVyMiIsInByaW1pdGl2ZVNpemUiLCJ2YW9zIiwiZ2V0UGFpbnRWZXJ0ZXhCdWZmZXJzIiwiZHJhd0VsZW1lbnRzIiwiVU5TSUdORURfU0hPUlQiLCJwcmltaXRpdmVPZmZzZXQiLCJpZGVudGl0eU1hdDQiLCJkcmF3TGF5ZXJTeW1ib2xzIiwidHJhbnNsYXRlQW5jaG9yIiwicm90YXRpb25BbGlnbm1lbnQiLCJwaXRjaEFsaWdubWVudCIsInRyIiwiYWxvbmdMaW5lIiwicm90YXRlSW5TaGFkZXIiLCJkZXB0aE9uIiwiZGVwdGhNb2RlRm9yU3VibGF5ZXIiLCJwcm9ncmFtQ29uZmlndXJhdGlvbiIsInByb2dyYW1Db25maWd1cmF0aW9ucyIsImlzU0RGIiwic2RmSWNvbnMiLCJzZXRVbmlmb3JtcyIsInNldFN5bWJvbERyYXdTdGF0ZSIsInVuaWZvcm0xaSIsInVfdGV4dHVyZSIsInVuaWZvcm0yZnYiLCJ1X3RleHNpemUiLCJpY29uU2NhbGVkIiwiY29uc3RhbnRPciIsImljb25zTmVlZExpbmVhciIsImljb25UcmFuc2Zvcm1lZCIsInJvdGF0aW5nIiwiem9vbWluZyIsInRyYW5zbGF0ZVBvc01hdHJpeCIsInN5bWJvbFByb2plY3Rpb24iLCJ1X2dsX2Nvb3JkX21hdHJpeCIsInVfbGFiZWxfcGxhbmVfbWF0cml4IiwidV9mYWRlX2NoYW5nZSIsImRyYXdUaWxlU3ltYm9scyIsInVfcGl0Y2hfd2l0aF9tYXAiLCJ1X2lzX3RleHQiLCJ1X3BpdGNoIiwiaXNab29tQ29uc3RhbnQiLCJmdW5jdGlvblR5cGUiLCJpc0ZlYXR1cmVDb25zdGFudCIsInVfaXNfc2l6ZV96b29tX2NvbnN0YW50IiwidV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQiLCJ1U2l6ZVQiLCJ1X3NpemVfdCIsInVTaXplIiwidV9zaXplIiwidV9hc3BlY3RfcmF0aW8iLCJ1X3JvdGF0ZV9zeW1ib2wiLCJoYXNIYWxvIiwiZ2FtbWFTY2FsZSIsInVfZ2FtbWFfc2NhbGUiLCJ1X2lzX2hhbG8iLCJkcmF3U3ltYm9sRWxlbWVudHMiLCJkcmF3TGluZVRpbGUiLCJwcm9ncmFtQ2hhbmdlZCIsInRpbGVSYXRpb0NoYW5nZWQiLCJwb3NBIiwicG9zQiIsImltYWdlUG9zQSIsImltYWdlUG9zQiIsInRpbGVSYXRpbyIsInRpbGVab29tIiwiZnJvbSIsInRvIiwid2lkdGhBIiwiZnJvbVNjYWxlIiwid2lkdGhCIiwidG9TY2FsZSIsInVfcGF0dGVybnNjYWxlX2EiLCJ1X3BhdHRlcm5zY2FsZV9iIiwidV9zZGZnYW1tYSIsInVfcGF0dGVybl9zaXplX2EiLCJkaXNwbGF5U2l6ZSIsInVfcGF0dGVybl9zaXplX2IiLCJ1X2dsX3VuaXRzX3RvX3BpeGVscyIsInVfaW1hZ2UiLCJ1X3RleF95X2EiLCJ1X3RleF95X2IiLCJ1X21peCIsInVfcGF0dGVybl90bF9hIiwidGwiLCJ1X3BhdHRlcm5fYnJfYSIsImJyIiwidV9wYXR0ZXJuX3RsX2IiLCJ1X3BhdHRlcm5fYnJfYiIsInVfZmFkZSIsInN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmciLCJ1X3JhdGlvIiwiaXNQYXR0ZXJuTWlzc2luZyIsInVfc2NhbGVfYSIsInVfc2NhbGVfYiIsInNldFBhdHRlcm5Vbmlmb3JtcyIsInVfdGlsZV91bml0c190b19waXhlbHMiLCJudW1UaWxlcyIsInRpbGVTaXplQXROZWFyZXN0Wm9vbSIsInBpeGVsWCIsInBpeGVsWSIsInVfcGl4ZWxfY29vcmRfdXBwZXIiLCJ1X3BpeGVsX2Nvb3JkX2xvd2VyIiwiZHJhd0ZpbGxUaWxlcyIsImRyYXdGbiIsImZpcnN0VGlsZSIsImRyYXdGaWxsVGlsZSIsInNldEZpbGxQcm9ncmFtIiwiZHJhd1N0cm9rZVRpbGUiLCJ1X3dvcmxkIiwiaW5kZXhCdWZmZXIyIiwic2VnbWVudHMyIiwicHJvZ3JhbUlkIiwicGF0IiwicHJldlByb2dyYW0iLCJwcmVwYXJlUGF0dGVybiIsIm1hdDMiLCJnbE1hdHJpeCIsInZlYzMiLCJkcmF3RXh0cnVzaW9uIiwidV9oZWlnaHRfZmFjdG9yIiwiX2xwIiwibGlnaHRQb3MiLCJsaWdodE1hdCIsImZyb21Sb3RhdGlvbiIsInRyYW5zZm9ybU1hdDMiLCJ1bmlmb3JtM2Z2IiwidV9saWdodHBvcyIsInVfbGlnaHRpbnRlbnNpdHkiLCJ1bmlmb3JtM2YiLCJ1X2xpZ2h0Y29sb3IiLCJyZW5kZXJIaWxsc2hhZGUiLCJhemltdXRoYWwiLCJ1X2xpZ2h0IiwibGF0UmFuZ2UiLCJjb29yZGluYXRlMCIsInRvQ29vcmRpbmF0ZSIsImNvb3JkaW5hdGUxIiwiY29vcmRpbmF0ZUxvY2F0aW9uIiwiZ2V0VGlsZUxhdFJhbmdlIiwidV9sYXRyYW5nZSIsInNoYWRvd0NvbG9yIiwidW5pZm9ybTRmIiwidV9zaGFkb3ciLCJoaWdobGlnaHRDb2xvciIsInVfaGlnaGxpZ2h0IiwiYWNjZW50Q29sb3IiLCJ1X2FjY2VudCIsInJhc3RlckJvdW5kc0J1ZmZlciIsInJhc3RlckJvdW5kc1ZBTyIsImRyYXdBcnJheXMiLCJUUklBTkdMRV9TVFJJUCIsInByZXBhcmVIaWxsc2hhZGUiLCJzb3VyY2VNYXhab29tIiwicGl4ZWxEYXRhIiwiZ2V0UGl4ZWxzIiwiVEVYVFVSRTEiLCJyZW5kZXJUZXh0dXJlIiwib3J0aG8iLCJ1X3pvb20iLCJ1X2RpbWVuc2lvbiIsInVfbWF4em9vbSIsImdldEZhZGVWYWx1ZXMiLCJzaW5jZVRpbGUiLCJzaW5jZVBhcmVudCIsImlkZWFsWiIsImNvdmVyaW5nWm9vbUxldmVsIiwiZmFkZUluIiwiY2hpbGRPcGFjaXR5IiwibWl4IiwiZHJhd0RlYnVnVGlsZSIsInVfY29sb3IiLCJkZWJ1Z1ZBTyIsImRlYnVnQnVmZmVyIiwiTElORV9TVFJJUCIsInZlcnRpY2VzIiwiYmFzZWxpbmUiLCJsZW4iLCJsZW4yIiwic3Ryb2tlcyIsInNpbXBsZXhGb250IiwiY3JlYXRlVGV4dFZlcnRpY2llcyIsImRlYnVnVGV4dEFycmF5IiwiUG9zQXJyYXkiLCJkZWJ1Z1RleHRCdWZmZXIiLCJwb3NBdHRyaWJ1dGVzIiwib25lUGl4ZWwiLCJ0cmFuc2xhdGlvbnMiLCJ0cmFuc2xhdGlvbiIsIiAiLCIhIiwiXCIiLCIjIiwiJCIsIiUiLCImIiwiJyIsIigiLCIpIiwiKiIsIisiLCIsIiwiLSIsIi4iLCIvIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiNyIsIjgiLCI5IiwiOiIsIjsiLCI8IiwiPSIsIj4iLCI/IiwiQCIsIkEiLCJCIiwiQyIsIkQiLCJFIiwiRiIsIkciLCJIIiwiSSIsIkoiLCJLIiwiTCIsIk0iLCJOIiwiTyIsIlAiLCJRIiwiUiIsIlMiLCJUIiwiVSIsIlYiLCJXIiwiWCIsIlkiLCJaIiwiWyIsIlxcIiwiXSIsIl4iLCJfIiwiYCIsIm8iLCJ1IiwieyIsInwiLCJ9IiwifiIsInJlbmRlclBhc3MiLCJkcmF3Q29sbGlzaW9uRGVidWciLCJzdHJva2VXaWR0aCIsInN0cm9rZU9wYWNpdHkiLCJ1X3NjYWxlX3dpdGhfbWFwIiwiaGVhdG1hcEZibyIsImJpbmRUZXh0dXJlVG9GcmFtZWJ1ZmZlciIsIkhBTEZfRkxPQVRfT0VTIiwiY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyIsIkZSQU1FQlVGRkVSX0NPTVBMRVRFIiwidV9pbnRlbnNpdHkiLCJjb2xvclJhbXBUZXh0dXJlIiwiY29sb3JSYW1wIiwidV9vcGFjaXR5IiwidV9jb2xvcl9yYW1wIiwidmlld3BvcnRWQU8iLCJ2aWV3cG9ydEJ1ZmZlciIsInJlbmRlclRleHR1cmVUb01hcCIsInByZXZUaWxlWm9vbSIsImZpbGwtZXh0cnVzaW9uIiwicmVuZGVyVGFyZ2V0Iiwidmlld3BvcnRGcmFtZSIsImRlcHRoUmJvTmVlZHNDbGVhciIsInNldHVwT2Zmc2NyZWVuRGVwdGhSZW5kZXJidWZmZXIiLCJkZXB0aFJibyIsIkxFUVVBTCIsImRyYXdUb0V4dHJ1c2lvbkZyYW1lYnVmZmVyIiwicmVuZGVyZWRUZXh0dXJlIiwiZHJhd0V4dHJ1c2lvblRleHR1cmUiLCJ0aWxlSURzIiwic2F0dXJhdGlvbiIsImNvbnRyYXN0IiwidV9icmlnaHRuZXNzX2xvdyIsInVfYnJpZ2h0bmVzc19oaWdoIiwidV9zYXR1cmF0aW9uX2ZhY3RvciIsInVfY29udHJhc3RfZmFjdG9yIiwidV9zcGluX3dlaWdodHMiLCJzcGluV2VpZ2h0cyIsInVfYnVmZmVyX3NjYWxlIiwidV9pbWFnZTAiLCJ1X2ltYWdlMSIsIm1pblRpbGVaIiwiZmFkZSIsInBhcmVudFNjYWxlQnkiLCJwYXJlbnRUTCIsInVfdGxfcGFyZW50IiwidV9zY2FsZV9wYXJlbnQiLCJ1X2ZhZGVfdCIsInRpbGVFeHRlbnRQYXR0ZXJuVkFPIiwidGlsZUV4dGVudEJ1ZmZlciIsInVuaWZvcm00ZnYiLCJQYWludGVyIiwiX3RpbGVUZXh0dXJlcyIsInNldHVwIiwibnVtU3VibGF5ZXJzIiwiZGVwdGhFcHNpbG9uIiwiZW1wdHlQcm9ncmFtQ29uZmlndXJhdGlvbiIsIlByb2dyYW1Db25maWd1cmF0aW9uIiwiZWRnZSIsIngwIiwieTAiLCJzY2FuU3BhbnMiLCJlMCIsImUxIiwieW1pbiIsInltYXgiLCJzY2FuTGluZSIsIm0wIiwibTEiLCJkMCIsImQxIiwic2NhblRyaWFuZ2xlIiwiYWIiLCJiYyIsImNhIiwidGlsZUV4dGVudEFycmF5IiwiZGVidWdBcnJheSIsInJhc3RlckJvdW5kc0FycmF5Iiwidmlld3BvcnRBcnJheSIsIl9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyIsImlkTmV4dCIsIl90aWxlQ2xpcHBpbmdNYXNrSURzIiwiUkVQTEFDRSIsIkVRVUFMIiwiX3Nob3dPdmVyZHJhd0luc3BlY3RvciIsIkNPTlNUQU5UX0NPTE9SIiwiZmFyRGVwdGgiLCJjdXJyZW50TGF5ZXIiLCJuZWFyRGVwdGgiLCJyZW5kZXIiLCJyYXN0ZXJTb3VyY2VzIiwic2MiLCJ1cGRhdGVUaWxlTWFza3MiLCJoYXNPZmZzY3JlZW5QYXNzIiwiY29vcmRzJDEiLCJzb3VyY2VDYWNoZSQyIiwicmV2ZXJzZSIsInJlbmRlckxheWVyIiwiYmxhY2siLCJjb29yZHMkMiIsInNvdXJjZUNhY2hlJDMiLCJjb29yZHMkMyIsInNvdXJjZUNhY2hlJDQiLCJzaG93VGlsZUJvdW5kYXJpZXMiLCJERVBUSF9DT01QT05FTlQxNiIsImluVmlld3BvcnRQaXhlbFVuaXRzVW5pdHMiLCJzaW5BIiwiY29zQSIsInRyYW5zbGF0ZWRNYXRyaXgiLCJ0ZXh0dXJlcyIsInBvcCIsIl9jcmVhdGVQcm9ncmFtQ2FjaGVkIiwiY2FjaGUiLCJjYWNoZUtleSIsIm5leHRQcm9ncmFtIiwibWF0MiIsIlRyYW5zZm9ybSIsIm1pblpvb20iLCJyZW5kZXJXb3JsZENvcGllcyIsIl9yZW5kZXJXb3JsZENvcGllcyIsIl9taW5ab29tIiwiX21heFpvb20iLCJfY2VudGVyIiwiX2ZvdiIsIl91bm1vZGlmaWVkIiwiX3Bvc01hdHJpeENhY2hlIiwiX2FsaWduZWRQb3NNYXRyaXhDYWNoZSIsIl9jYWxjTWF0cmljZXMiLCJwcm90b3R5cGVBY2Nlc3NvcnMiLCJ3b3JsZFNpemUiLCJjZW50ZXJQb2ludCIsIl9kaXYiLCJyb3RhdGlvbk1hdHJpeCIsImZvdiIsIl96b29tIiwiem9vbVNjYWxlIiwiem9vbUZyYWN0aW9uIiwiX2NvbnN0cmFpbiIsInVsIiwicG9pbnRDb29yZGluYXRlIiwidXIiLCJ3MCIsIncxIiwiVW53cmFwcGVkVGlsZUlEIiwiYWN0dWFsWiIsInd4IiwidGlsZUNvdmVyIiwidW5tb2RpZmllZCIsIkxOMiIsImxuZ2xhdCIsInVucHJvamVjdCIsInhMbmciLCJ5TGF0IiwidGFuIiwiYXRhbiIsImV4cCIsInNldExvY2F0aW9uQXRQb2ludCIsIl9zdWIiLCJsb2NhdGlvblBvaW50IiwiY29vcmRpbmF0ZVBvaW50IiwicG9pbnRMb2NhdGlvbiIsImNvb3JkMCIsImNvb3JkMSIsInBpeGVsTWF0cml4SW52ZXJzZSIsInowIiwiejEiLCJfem9vbVRvIiwicGl4ZWxNYXRyaXgiLCJ1bndyYXBwZWRUaWxlSUQiLCJhbGlnbmVkIiwicG9zTWF0cml4S2V5IiwidW53cmFwcGVkWCIsImFsaWduZWRQcm9qTWF0cml4IiwicHJvak1hdHJpeCIsIl9jb25zdHJhaW5pbmciLCJzeSIsInN4IiwibG5nUmFuZ2UiLCJoMiIsIncyIiwiaGFsZkZvdiIsImdyb3VuZEFuZ2xlIiwidG9wSGFsZlN1cmZhY2VEaXN0YW5jZSIsImZhcloiLCJwZXJzcGVjdGl2ZSIsInJvdGF0ZVgiLCJ2ZXJ0aWNhbFNjYWxlIiwieFNoaWZ0IiwieVNoaWZ0IiwiYW5nbGVDb3MiLCJhbmdsZVNpbiIsImFsaWduZWRNIiwiaW52ZXJ0IiwiSGFzaCIsInRpbWUiLCJwZW5kaW5nIiwidGltZXJJZCIsImxhdGVyIiwiX3VwZGF0ZUhhc2giLCJfdXBkYXRlSGFzaFVudGhyb3R0bGVkIiwiYWRkVG8iLCJfbWFwIiwiX29uSGFzaENoYW5nZSIsImdldEhhc2hTdHJpbmciLCJtYXBGZWVkYmFjayIsIkxOMTAiLCJnZXRCZWFyaW5nIiwiZ2V0UGl0Y2giLCJoYXNoIiwibG9jIiwibG9jYXRpb24iLCJqdW1wVG8iLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwiTWFwTW91c2VFdmVudCIsIm9yaWdpbmFsRXZlbnQiLCJnZXRDYW52YXNDb250YWluZXIiLCJsbmdMYXQiLCJfZGVmYXVsdFByZXZlbnRlZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJNYXBUb3VjaEV2ZW50IiwibG5nTGF0cyIsImN1cnIiLCJhcnIiLCJkaXYiLCJwcm90b3R5cGVBY2Nlc3NvcnMkMSIsIk1hcFdoZWVsRXZlbnQiLCJwcm90b3R5cGVBY2Nlc3NvcnMkMiIsIlNjcm9sbFpvb21IYW5kbGVyIiwiX2VsIiwiX2RlbHRhIiwiaXNFbmFibGVkIiwiX2VuYWJsZWQiLCJpc0FjdGl2ZSIsIl9hY3RpdmUiLCJfYXJvdW5kQ2VudGVyIiwiYXJvdW5kIiwib25XaGVlbCIsImRlbHRhTW9kZSIsIldoZWVsRXZlbnQiLCJET01fREVMVEFfTElORSIsImRlbHRhWSIsInRpbWVEZWx0YSIsIl9sYXN0V2hlZWxFdmVudFRpbWUiLCJfdHlwZSIsIl9sYXN0VmFsdWUiLCJfdGltZW91dCIsIl9vblRpbWVvdXQiLCJzaGlmdEtleSIsIl9sYXN0V2hlZWxFdmVudCIsIl9zdGFydCIsImluaXRpYWxFdmVudCIsIl9mcmFtZUlkIiwiX2NhbmNlbFJlbmRlckZyYW1lIiwiX2ZpbmlzaFRpbWVvdXQiLCJfYXJvdW5kIiwiX2Fyb3VuZFBvaW50IiwiX3JlcXVlc3RSZW5kZXJGcmFtZSIsIl9vblNjcm9sbEZyYW1lIiwiem9vbVJhdGUiLCJfdGFyZ2V0Wm9vbSIsIl9zdGFydFpvb20iLCJfZWFzaW5nIiwiX3Ntb290aE91dEVhc2luZyIsImZpbmlzaGVkIiwiZWFzaW5nIiwiX2Vhc2UiLCJfcHJldkVhc2UiLCJlYXNlIiwic3RhcnQiLCJzcGVlZCIsImJlemllciIsIkJveFpvb21IYW5kbGVyIiwiX2NvbnRhaW5lciIsImdldENvbnRhaW5lciIsIm9uTW91c2VEb3duIiwiX29uTW91c2VNb3ZlIiwiX29uS2V5RG93biIsIl9vbk1vdXNlVXAiLCJfc3RhcnRQb3MiLCJwMCIsInAxIiwiX2JveCIsImNsYXNzTGlzdCIsIl9maXJlRXZlbnQiLCJfZmluaXNoIiwiZml0Qm91bmRzIiwibGluZWFyIiwiYm94Wm9vbUJvdW5kcyIsImtleUNvZGUiLCJpbmVydGlhRWFzaW5nIiwiRHJhZ1JvdGF0ZUhhbmRsZXIiLCJlbGVtZW50IiwiX3N0YXRlIiwiX2J1dHRvbiIsIl9iZWFyaW5nU25hcCIsImJlYXJpbmdTbmFwIiwiX3BpdGNoV2l0aFJvdGF0ZSIsInBpdGNoV2l0aFJvdGF0ZSIsIl91bmJpbmQiLCJfZGVhY3RpdmF0ZSIsIl9ldmVudEJ1dHRvbiIsIl9vbkJsdXIiLCJfaW5lcnRpYSIsIl9wcmV2aW91c1BvcyIsIl9sYXN0TW92ZUV2ZW50IiwiX3BvcyIsIl9vbkRyYWdGcmFtZSIsInAyIiwiYmVhcmluZ0RpZmYiLCJwaXRjaERpZmYiLCJpbmVydGlhIiwiX2RyYWluSW5lcnRpYUJ1ZmZlciIsIl9ub3JtYWxpemVCZWFyaW5nIiwiX2luZXJ0aWFsUm90YXRlIiwibWFwQmVhcmluZyIsImZpbmlzaCIsInJlc2V0Tm9ydGgiLCJub01vdmVTdGFydCIsInByZXZpb3VzIiwiZmxpbmdEaWZmIiwic2lnbiIsImZsaW5nRHVyYXRpb24iLCJyb3RhdGVUbyIsInNoaWZ0IiwiRHJhZ1BhbkhhbmRsZXIiLCJfb25Nb3ZlIiwib25Ub3VjaFN0YXJ0IiwicGFzc2l2ZSIsIl9vblRvdWNoRW5kIiwiX2luZXJ0aWFsUGFuIiwiZmxpbmdPZmZzZXQiLCJ2ZWxvY2l0eSIsInBhbkJ5IiwiS2V5Ym9hcmRIYW5kbGVyIiwiZWFzZU91dCIsImFsdEtleSIsIm1ldGFLZXkiLCJ6b29tRGlyIiwiYmVhcmluZ0RpciIsInBpdGNoRGlyIiwieERpciIsInlEaXIiLCJlYXNlT3B0aW9ucyIsImRlbGF5RW5kRXZlbnRzIiwiZWFzZVRvIiwiRG91YmxlQ2xpY2tab29tSGFuZGxlciIsIl90YXBwZWQiLCJvbkRibENsaWNrIiwiX29uWm9vbUVuZCIsIlRvdWNoWm9vbVJvdGF0ZUhhbmRsZXIiLCJkaXNhYmxlUm90YXRpb24iLCJfcm90YXRpb25EaXNhYmxlZCIsImVuYWJsZVJvdGF0aW9uIiwib25TdGFydCIsIl9zdGFydFZlYyIsIl9nZXN0dXJlSW50ZW50IiwiX29uRW5kIiwiX2dldFRvdWNoRXZlbnREYXRhIiwidmVjIiwiYW5nbGVXaXRoIiwic2NhbGluZ1NpZ25pZmljYW50bHkiLCJfbGFzdFRvdWNoRXZlbnQiLCJfb25Ub3VjaEZyYW1lIiwiZ2VzdHVyZUludGVudCIsIl9zdGFydFNjYWxlIiwiX3N0YXJ0QmVhcmluZyIsImFyb3VuZFBvaW50Iiwic3RhcnRTY2FsZSIsInNuYXBUb05vcnRoIiwibGFzdFNjYWxlIiwiZmlyc3RTY2FsZSIsInNjYWxlT2Zmc2V0Iiwic2NhbGVEdXJhdGlvbiIsInRhcmdldFNjYWxlIiwiaGFuZGxlcnMiLCJzY3JvbGxab29tIiwiYm94Wm9vbSIsImRyYWdSb3RhdGUiLCJkcmFnUGFuIiwia2V5Ym9hcmQiLCJkb3VibGVDbGlja1pvb20iLCJ0b3VjaFpvb21Sb3RhdGUiLCJDYW1lcmEiLCJfbW92aW5nIiwiX3pvb21pbmciLCJldmVudERhdGEiLCJwYW5UbyIsInpvb21JbiIsInpvb21PdXQiLCJib3R0b20iLCJwYWRkaW5nT2Zmc2V0IiwibGF0ZXJhbFBhZGRpbmciLCJ2ZXJ0aWNhbFBhZGRpbmciLCJudyIsInNlIiwic2NhbGVYIiwic2NhbGVZIiwiZmx5VG8iLCJzdG9wIiwiem9vbUNoYW5nZWQiLCJiZWFyaW5nQ2hhbmdlZCIsInBpdGNoQ2hhbmdlZCIsImRlZmF1bHRFYXNpbmciLCJzdGFydFpvb20iLCJzdGFydEJlYXJpbmciLCJzdGFydFBpdGNoIiwicG9pbnRBdE9mZnNldCIsImxvY2F0aW9uQXRPZmZzZXQiLCJfbm9ybWFsaXplQ2VudGVyIiwiZmluYWxTY2FsZSIsIl9yb3RhdGluZyIsIl9waXRjaGluZyIsIl9wcmVwYXJlRWFzZSIsIl9lYXNlRW5kVGltZW91dElEIiwiYmFzZSIsInNwZWVkdXAiLCJuZXdDZW50ZXIiLCJfZmlyZU1vdmVFdmVudHMiLCJfYWZ0ZXJFYXNlIiwid2FzWm9vbWluZyIsIndhc1JvdGF0aW5nIiwid2FzUGl0Y2hpbmciLCJjdXJ2ZSIsInJobyIsInUxIiwid01heCIsInJobzIiLCJzaW5oIiwiY29zaCIsInIwIiwiaXNGaW5pdGUiLCJzY3JlZW5TcGVlZCIsIm1heER1cmF0aW9uIiwiaXNFYXNpbmciLCJfZWFzZUZyYW1lSWQiLCJfb25FYXNlRnJhbWUiLCJfb25FYXNlRW5kIiwib25FYXNlRW5kIiwiX2Vhc2VTdGFydCIsIl9lYXNlT3B0aW9ucyIsIl9yZW5kZXJGcmFtZUNhbGxiYWNrIiwiY3VycmVudEJlYXJpbmciLCJkaWZmIiwiQXR0cmlidXRpb25Db250cm9sIiwiZ2V0RGVmYXVsdFBvc2l0aW9uIiwiY29tcGFjdCIsIl91cGRhdGVBdHRyaWJ1dGlvbnMiLCJfdXBkYXRlRWRpdExpbmsiLCJfdXBkYXRlRGF0YSIsIl91cGRhdGVDb21wYWN0IiwiZWRpdExpbmsiLCJfZWRpdExpbmsiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGVPd25lciIsInN0eWxlSWQiLCJwYXJhbVN0cmluZyIsImFjYyIsIm5leHQiLCJfaGFzaCIsImF0dHJpYnV0aW9ucyIsIm93bmVyIiwiYXR0cmlidXRpb24iLCJhdHRyaWIiLCJpbm5lckhUTUwiLCJvZmZzZXRXaWR0aCIsIkxvZ29Db250cm9sIiwic2V0QXR0cmlidXRlIiwiZGlzcGxheSIsIl91cGRhdGVMb2dvIiwiX2xvZ29SZXF1aXJlZCIsIm1hcGJveF9sb2dvIiwiVGFza1F1ZXVlIiwiX3F1ZXVlIiwiX2lkIiwiX2NsZWFyZWQiLCJfY3VycmVudGx5UnVubmluZyIsImNhbmNlbGxlZCIsInJ1bm5pbmciLCJ0YXNrIiwicnVuIiwicXVldWUiLCJIVE1MRWxlbWVudCIsImRlZmF1bHRPcHRpb25zIiwiaW50ZXJhY3RpdmUiLCJhdHRyaWJ1dGlvbkNvbnRyb2wiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJ0cmFja1Jlc2l6ZSIsInJlZnJlc2hFeHBpcmVkVGlsZXMiLCJtYXhUaWxlQ2FjaGVTaXplIiwidHJhbnNmb3JtUmVxdWVzdCIsIk1hcCIsIl9pbnRlcmFjdGl2ZSIsIl9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IiwiX3ByZXNlcnZlRHJhd2luZ0J1ZmZlciIsIl90cmFja1Jlc2l6ZSIsIl9mYWRlRHVyYXRpb24iLCJfY3Jvc3NGYWRpbmdGYWN0b3IiLCJfcmVuZGVyVGFza1F1ZXVlIiwidHJhbnNmb3JtUmVxdWVzdEZuIiwibWF4Qm91bmRzIiwic2V0TWF4Qm91bmRzIiwiX3NldHVwQ29udGFpbmVyIiwiX3NldHVwUGFpbnRlciIsIl9vbldpbmRvd09ubGluZSIsIl9vbldpbmRvd1Jlc2l6ZSIsImNvbnRleHRNZW51RXZlbnQiLCJtb3VzZURvd24iLCJtYXBFdmVudCIsInRvRWxlbWVudCIsImJpbmRIYW5kbGVycyIsImFkZENvbnRyb2wiLCJsb2dvUG9zaXRpb24iLCJfb25EYXRhIiwiX29uRGF0YUxvYWRpbmciLCJjb250cm9sIiwiY29udHJvbEVsZW1lbnQiLCJwb3NpdGlvbkNvbnRhaW5lciIsIl9jb250cm9sUG9zaXRpb25zIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNvbnRyb2wiLCJkaW1lbnNpb25zIiwiX2NvbnRhaW5lckRpbWVuc2lvbnMiLCJfcmVzaXplQ2FudmFzIiwiZ2V0Qm91bmRzIiwiZ2V0TWF4Qm91bmRzIiwibG5nbGF0Ym91bmRzIiwic2V0TWluWm9vbSIsImdldE1pblpvb20iLCJzZXRNYXhab29tIiwiZ2V0UmVuZGVyV29ybGRDb3BpZXMiLCJzZXRSZW5kZXJXb3JsZENvcGllcyIsImdldE1heFpvb20iLCJpc01vdmluZyIsImlzWm9vbWluZyIsImlzUm90YXRpbmciLCJsaXN0ZW5lciIsImRlbGVnYXRlZExpc3RlbmVyIiwibW91c2VpbiIsImRlbGVnYXRlcyIsIl9kZWxlZ2F0ZWRMaXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJnZW9tZXRyeSIsImFyZ3VtZW50cyIsIl9tYWtlUXVlcnlHZW9tZXRyeSIsInBvaW50T3JCb3giLCJnZXRTdHlsZSIsImlzU3R5bGVMb2FkZWQiLCJhcmVUaWxlc0xvYWRlZCIsImhhc0ltYWdlIiwibG9hZEltYWdlIiwiYmVmb3JlSWQiLCJfY2FudmFzQ29udGFpbmVyIiwiX2NhbnZhcyIsIm9mZnNldEhlaWdodCIsIl9taXNzaW5nQ1NTQ29udGFpbmVyIiwiY2FudmFzQ29udGFpbmVyIiwiX2NvbnRleHRMb3N0IiwiX2NvbnRleHRSZXN0b3JlZCIsImNvbnRyb2xDb250YWluZXIiLCJfY29udHJvbENvbnRhaW5lciIsInBvc2l0aW9uTmFtZSIsIl9zdHlsZURpcnR5IiwiX3NvdXJjZXNEaXJ0eSIsInVwZGF0ZVN0eWxlIiwiX3JlbmRlciIsImNyb3NzRmFkaW5nIiwiRXZhbHVhdGlvblBhcmFtZXRlcnMiLCJmYWN0b3IiLCJjcm9zc0ZhZGluZ0ZhY3RvciIsIl9wbGFjZW1lbnREaXJ0eSIsIl9yZXBhaW50IiwibG9zZUNvbnRleHQiLCJyZW1vdmVOb2RlIiwiX3Nob3dUaWxlQm91bmRhcmllcyIsInJlcGFpbnQiLCJfdmVydGljZXMiLCJzaG93Q29tcGFzcyIsInNob3dab29tIiwiTmF2aWdhdGlvbkNvbnRyb2wiLCJfem9vbUluQnV0dG9uIiwiX2NyZWF0ZUJ1dHRvbiIsIl96b29tT3V0QnV0dG9uIiwiX2NvbXBhc3MiLCJfY29tcGFzc0Fycm93IiwiX3JvdGF0ZUNvbXBhc3NBcnJvdyIsIl9oYW5kbGVyIiwiYXJpYUxhYmVsIiwiYW5jaG9yVHJhbnNsYXRlIiwidG9wLWxlZnQiLCJ0b3AtcmlnaHQiLCJib3R0b20tbGVmdCIsImJvdHRvbS1yaWdodCIsImFwcGx5QW5jaG9yQ2xhc3MiLCJwcmVmaXgiLCJNYXJrZXIiLCJfYW5jaG9yIiwiX2VsZW1lbnQiLCJfb2Zmc2V0Iiwic3ZnIiwiY3JlYXRlTlMiLCJzZXRBdHRyaWJ1dGVOUyIsIm1hcmtlckxhcmdlIiwicGFnZTEiLCJzaGFkb3ciLCJyeCIsInJ5IiwiZWxsaXBzZSIsImJnUGF0aCIsImJvcmRlciIsImJvcmRlclBhdGgiLCJtYWtpIiwiY2lyY2xlQ29udGFpbmVyIiwiY2lyY2xlMSIsImNpcmNsZTIiLCJfcG9wdXAiLCJfb25NYXBDbGljayIsImdldExuZ0xhdCIsIl9sbmdMYXQiLCJzZXRMbmdMYXQiLCJnZXRFbGVtZW50Iiwic2V0UG9wdXAiLCJwb3B1cCIsInRhcmdldEVsZW1lbnQiLCJ0b2dnbGVQb3B1cCIsImdldFBvcHVwIiwiaXNPcGVuIiwic21hcnRXcmFwIiwiZ2V0T2Zmc2V0Iiwic2V0T2Zmc2V0Iiwic3VwcG9ydHNHZW9sb2NhdGlvbiIsInBvc2l0aW9uT3B0aW9ucyIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsIm1heGltdW1BZ2UiLCJ0aW1lb3V0IiwiZml0Qm91bmRzT3B0aW9ucyIsInRyYWNrVXNlckxvY2F0aW9uIiwic2hvd1VzZXJMb2NhdGlvbiIsIkdlb2xvY2F0ZUNvbnRyb2wiLCJfc2V0dXBVSSIsInBlcm1pc3Npb25zIiwidGhlbiIsImdlb2xvY2F0aW9uIiwiX2dlb2xvY2F0aW9uV2F0Y2hJRCIsImNsZWFyV2F0Y2giLCJfdXNlckxvY2F0aW9uRG90TWFya2VyIiwiX29uU3VjY2VzcyIsIl9sYXN0S25vd25Qb3NpdGlvbiIsIl93YXRjaFN0YXRlIiwiX2dlb2xvY2F0ZUJ1dHRvbiIsIl91cGRhdGVNYXJrZXIiLCJfdXBkYXRlQ2FtZXJhIiwiX2RvdEVsZW1lbnQiLCJsb25naXR1ZGUiLCJsYXRpdHVkZSIsImFjY3VyYWN5IiwiZ2VvbG9jYXRlU291cmNlIiwiX29uRXJyb3IiLCJjb2RlIiwiX2NsZWFyV2F0Y2giLCJfdGltZW91dElkIiwiX29uQ2xpY2tHZW9sb2NhdGUiLCJ3YXRjaFBvc2l0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwibWF4V2lkdGgiLCJ1bml0IiwiU2NhbGVDb250cm9sIiwidXBkYXRlU2NhbGUiLCJsYXRsbmcxIiwibGF0bG5nMiIsInJhZCIsImxhdDEiLCJsYXQyIiwiY2xpZW50SGVpZ2h0IiwibWF4TWV0ZXJzIiwiYWNvcyIsIm1heEZlZXQiLCJzZXRTY2FsZSIsIm1heERpc3RhbmNlIiwicG93MTAiLCJkaXN0YW5jZSIsInJhdGlvIiwic2V0VW5pdCIsIkZ1bGxzY3JlZW5Db250cm9sIiwiX2Z1bGxzY3JlZW4iLCJfZnVsbHNjcmVlbmNoYW5nZSIsIl9jbGFzc05hbWUiLCJfbWFwQ29udGFpbmVyIiwiX2NoZWNrRnVsbHNjcmVlblN1cHBvcnQiLCJfY2hhbmdlSWNvbiIsImZ1bGxzY3JlZW5FbmFibGVkIiwibW96RnVsbFNjcmVlbkVuYWJsZWQiLCJtc0Z1bGxzY3JlZW5FbmFibGVkIiwid2Via2l0RnVsbHNjcmVlbkVuYWJsZWQiLCJfZnVsbHNjcmVlbkJ1dHRvbiIsIl9vbkNsaWNrRnVsbHNjcmVlbiIsIl9pc0Z1bGxzY3JlZW4iLCJmdWxsc2NyZWVuRWxlbWVudCIsIm1vekZ1bGxTY3JlZW5FbGVtZW50Iiwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnQiLCJtc0Z1bGxzY3JlZW5FbGVtZW50IiwidG9nZ2xlIiwiZXhpdEZ1bGxzY3JlZW4iLCJtb3pDYW5jZWxGdWxsU2NyZWVuIiwibXNFeGl0RnVsbHNjcmVlbiIsIndlYmtpdENhbmNlbEZ1bGxTY3JlZW4iLCJyZXF1ZXN0RnVsbHNjcmVlbiIsIm1velJlcXVlc3RGdWxsU2NyZWVuIiwibXNSZXF1ZXN0RnVsbHNjcmVlbiIsIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIiwiY2xvc2VCdXR0b24iLCJjbG9zZU9uQ2xpY2siLCJQb3B1cCIsIl9vbkNsaWNrQ2xvc2UiLCJfY29udGVudCIsInNldFRleHQiLCJzZXRET01Db250ZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJzZXRIVE1MIiwiaHRtbCIsImNoaWxkIiwiZnJhZyIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJ0ZW1wIiwiaHRtbE5vZGUiLCJfY3JlYXRlQ29udGVudCIsIl9jbG9zZUJ1dHRvbiIsIl90aXAiLCJub3JtYWxpemVPZmZzZXQiLCJjb3JuZXJPZmZzZXQiLCJjb252ZXJ0ZWRPZmZzZXQiLCJhbmNob3JDb21wb25lbnRzIiwib2Zmc2V0ZWRQb3MiLCJzZXRSVExUZXh0UGx1Z2luIiwidG9rZW4iLCJ3b3JrZXJVcmwiXSwibWFwcGluZ3MiOiJ5RkFpQkEsU0FBU0EsRUFBWUMsR0FDakIsU0FheUIsb0JBQVhDLFFBQThDLG9CQUFiQyxVQUszQ0MsTUFBTUMsV0FDTkQsTUFBTUMsVUFBVUMsT0FDaEJGLE1BQU1DLFVBQVVFLFFBQ2hCSCxNQUFNQyxVQUFVRyxTQUNoQkosTUFBTUMsVUFBVUksU0FDaEJMLE1BQU1DLFVBQVVLLGFBQ2hCTixNQUFNQyxVQUFVTSxLQUNoQlAsTUFBTUMsVUFBVU8sTUFDaEJSLE1BQU1DLFVBQVVRLFFBQ2hCVCxNQUFNQyxVQUFVUyxhQUNoQlYsTUFBTVcsU0FLSEMsU0FBU1gsV0FBYVcsU0FBU1gsVUFBVVksTUFLNUNDLE9BQU9DLE1BQ1BELE9BQU9FLFFBQ1BGLE9BQU9HLGdCQUNQSCxPQUFPSSxxQkFDUEosT0FBT0ssVUFDUEwsT0FBT00sVUFDUE4sT0FBT08sY0FDUFAsT0FBT1EsMEJBQ1BSLE9BQU9TLGdCQUNQVCxPQUFPVSxrQkFDUFYsT0FBT1csTUFDUFgsT0FBT1ksUUFDUFosT0FBT2EsbUJBS0osU0FBVTdCLFFBQVUsVUFBVzhCLE1BQVEsY0FBZUEsTUFHakUsV0FDSSxnQkFBa0I5QixRQUFVLFNBQVVBLFFBQVUsUUFBU0EsUUFDckQsT0FBTyxFQUdYLElBRUkrQixFQUNBQyxFQUhBQyxFQUFPLElBQUlDLE1BQU0sS0FBT0MsS0FBTSxvQkFDOUJDLEVBQVlDLElBQUlDLGdCQUFnQkwsR0FJcEMsSUFDSUQsRUFBUyxJQUFJTyxPQUFPSCxHQUNwQkwsR0FBWSxFQUNkLE1BQU9TLEdBQ0xULEdBQVksRUFHWkMsR0FDQUEsRUFBT1MsWUFJWCxPQUZBSixJQUFJSyxnQkFBZ0JOLEdBRWJMLEVBMUVIWSxJQWdGRyxzQkFBdUIzQyxRQUlsQyxTQUFnQzRD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QUcsRUFBRyxFQUFHLEVBQUcsSUFDM0RDLEtBQU8sSUFBSyxFQUFHLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxLQUM5Q0MsS0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLElBQzNGQyxHQUFNLElBQUssRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDbk1DLEtBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQzFPQyxLQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUM1UEMsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsS0FDeERDLEtBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLElBQzlFQyxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUM5RUMsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEtBQ2xFQyxLQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFDNUNDLEtBQU0sSUFBSyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUMzREMsS0FBTSxJQUFLLEVBQUcsRUFBRyxHQUFJLElBQ3JCQyxLQUFNLElBQUssRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDdENDLEtBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxJQUN2Qm4zQixHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsS0FDOUhvM0IsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDckNDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxJQUNoSEMsR0FBTSxJQUFLLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUNsSEMsR0FBTSxJQUFLLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxJQUNwREMsR0FBTSxJQUFLLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQy9IQyxHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFDN0tDLEdBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxLQUM1Q0MsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEtBQ3BOQyxHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDMUtDLEtBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUNqRkMsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQUssR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ3RHQyxLQUFNLElBQUssR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLElBQzdCQyxLQUFNLElBQUssRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFDNUNDLEtBQU0sSUFBSyxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsSUFDNUJDLEtBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxJQUN2SkMsS0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDclpDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxJQUNoRUMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLElBQ25MQyxHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ3JJQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLElBQ3JIQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFDeEZDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxLQUNsRUMsR0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDbEtDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxLQUNsRUMsR0FBTSxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQ3BCQyxHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUN6RUMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQ2pFQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFDMUNDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxJQUN6RkMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLElBQ2xFQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEtBQzFKQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxLQUMxR0MsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFBSyxJQUNsTEMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsSUFBSyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksSUFDbElDLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUNySkMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEtBQzNDQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxLQUMzRUMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLElBQzNDQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksSUFDekZDLEdBQU0sSUFBSyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxJQUM1Q0MsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxLQUNsREMsR0FBTSxJQUFLLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLElBQ2xFQyxLQUFNLElBQUssRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQUssSUFDMUZDLE1BQU8sSUFBSyxFQUFHLEdBQUksSUFBSyxJQUN4QkMsS0FBTSxJQUFLLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLElBQzVGQyxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxJQUNqRkMsR0FBTSxJQUFLLEdBQUksRUFBRyxJQUFLLElBQ3ZCQyxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxLQUN4RDVtRCxHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDL0gyQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDL0g2dEIsR0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ3hHOXhCLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUMvSHBQLEdBQU0sSUFBSyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUM3SG1QLEdBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxLQUNoRWl5QixHQUFNLElBQUssR0FBSSxHQUFJLElBQUssRUFBRyxJQUFLLEVBQUcsSUFBSyxFQUFHLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUN0Szl6QixHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUNqRmhKLEdBQU0sR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxJQUMvRG04QixHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFBSyxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDdEZ4d0IsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLElBQ2hFK3dDLEdBQU0sR0FBSSxFQUFHLEdBQUksRUFBRyxJQUNwQmowQixHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQ2hKaGQsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDakZ3bkQsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEtBQzVIM2lDLEdBQU0sSUFBSyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUNoSTVrQixHQUFNLElBQUssR0FBSSxHQUFJLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDaElteEIsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEtBQy9EanhCLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUM3SG9ELEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxLQUM3RGtrRCxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxJQUM3RWxvRCxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsSUFDM0NqQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksSUFDekZRLEdBQU0sSUFBSyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxJQUM1Q0MsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUN2RXVCLEdBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxJQUNsRW9vRCxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ2hSQyxLQUFNLEdBQUksRUFBRyxHQUFJLEdBQUksSUFDckJDLEtBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQUssR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdB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
