define(["./chunk1.js"],function(t){"use strict";var e=t.createCommonjsModule(function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,i=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(i);try{e=new Worker(n),t=!0}catch(e){t=!1}e&&e.terminate();return URL.revokeObjectURL(n),t}()&&"Uint8ClampedArray"in window&&function(t){void 0===i[t]&&(i[t]=function(t){var i=document.createElement("canvas"),n=Object.create(e.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,i.probablySupportsContext?i.probablySupportsContext("webgl",n)||i.probablySupportsContext("experimental-webgl",n):i.supportsContext?i.supportsContext("webgl",n)||i.supportsContext("experimental-webgl",n):i.getContext("webgl",n)||i.getContext("experimental-webgl",n)}(t));return i[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var i={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),i=t.default.performance&&t.default.performance.now?t.default.performance.now.bind(t.default.performance):Date.now.bind(Date),n=t.default.requestAnimationFrame||t.default.mozRequestAnimationFrame||t.default.webkitRequestAnimationFrame||t.default.msRequestAnimationFrame,o=t.default.cancelAnimationFrame||t.default.mozCancelAnimationFrame||t.default.webkitCancelAnimationFrame||t.default.msCancelAnimationFrame,r={now:i,frame:function(t){return n(t)},cancelFrame:function(t){return o(t)},getImageData:function(e){var i=t.default.document.createElement("canvas"),n=i.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return i.width=e.width,i.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)},hardwareConcurrency:t.default.navigator.hardwareConcurrency||4,get devicePixelRatio(){return t.default.devicePixelRatio},supportsWebp:!1};if(t.default.document){var a=t.default.document.createElement("img");a.onload=function(){r.supportsWebp=!0},a.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="}var s={create:function(e,i,n){var o=t.default.document.createElement(e);return i&&(o.className=i),n&&n.appendChild(o),o},createNS:function(e,i){return t.default.document.createElementNS(e,i)}},l=t.default.document?t.default.document.documentElement.style:null;function c(t){if(!l)return null;for(var e=0;e<t.length;e++)if(t[e]in l)return t[e];return t[0]}var u,h=c(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);s.disableDrag=function(){l&&h&&(u=l[h],l[h]="none")},s.enableDrag=function(){l&&h&&(l[h]=u)};var p=c(["transform","WebkitTransform"]);s.setTransform=function(t,e){t.style[p]=e};var d=!1;try{var f=Object.defineProperty({},"passive",{get:function(){d=!0}});t.default.addEventListener("test",f,f),t.default.removeEventListener("test",f,f)}catch(t){d=!1}s.addEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&d?t.addEventListener(e,i,n):t.addEventListener(e,i,n.capture)},s.removeEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&d?t.removeEventListener(e,i,n):t.removeEventListener(e,i,n.capture)};var m=function(e){e.preventDefault(),e.stopPropagation(),t.default.removeEventListener("click",m,!0)};s.suppressClick=function(){t.default.addEventListener("click",m,!0),t.default.setTimeout(function(){t.default.removeEventListener("click",m,!0)},0)},s.mousePos=function(e,i){var n=e.getBoundingClientRect();return i=i.touches?i.touches[0]:i,new t.default$1(i.clientX-n.left-e.clientLeft,i.clientY-n.top-e.clientTop)},s.touchPos=function(e,i){for(var n=e.getBoundingClientRect(),o=[],r="touchend"===i.type?i.changedTouches:i.touches,a=0;a<r.length;a++)o.push(new t.default$1(r[a].clientX-n.left-e.clientLeft,r[a].clientY-n.top-e.clientTop));return o},s.mouseButton=function(e){return void 0!==t.default.InstallTrigger&&2===e.button&&e.ctrlKey&&t.default.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},s.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var _={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null},g="See https://www.mapbox.com/api-documentation/#access-tokens";function v(t,e){var i=C(_.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"/"!==i.path&&(t.path=""+i.path+t.path),!_.REQUIRE_ACCESS_TOKEN)return S(t);if(!(e=e||_.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+g);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+g);return t.params.push("access_token="+e),S(t)}function y(t){return 0===t.indexOf("mapbox:")}var x=function(t,e){if(!y(t))return t;var i=C(t);return i.path="/fonts/v1"+i.path,v(i,e)},b=function(t,e){if(!y(t))return t;var i=C(t);return i.path="/v4/"+i.authority+".json",i.params.push("secure"),v(i,e)},w=function(t,e,i,n){var o=C(t);return y(t)?(o.path="/styles/v1"+o.path+"/sprite"+e+i,v(o,n)):(o.path+=""+e+i,S(o))},E=/(\.(png|jpg)\d*)(?=$)/,T=function(t,e,i){if(!e||!y(e))return t;var n=C(t),o=r.devicePixelRatio>=2||512===i?"@2x":"",a=r.supportsWebp?".webp":"$1";return n.path=n.path.replace(E,""+o+a),function(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(_.ACCESS_TOKEN||""))}(n.params),S(n)};var I=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function C(t){var e=t.match(I);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function S(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var z=t.default.HTMLImageElement,A=t.default.HTMLCanvasElement,R=t.default.HTMLVideoElement,D=t.default.ImageData,M=function(t,e,i,n){this.context=t;var o=e.width,r=e.height;this.size=[o,r],this.format=i,this.texture=t.gl.createTexture(),this.update(e,n)};M.prototype.update=function(t,e){var i=t.width,n=t.height;this.size=[i,n];var o=this.context,r=o.gl;r.bindTexture(r.TEXTURE_2D,this.texture),o.pixelStoreUnpack.set(1),this.format===r.RGBA&&!1!==e&&o.pixelStoreUnpackPremultiplyAlpha.set(!0),t instanceof z||t instanceof A||t instanceof R||t instanceof D?r.texImage2D(r.TEXTURE_2D,0,this.format,this.format,r.UNSIGNED_BYTE,t):r.texImage2D(r.TEXTURE_2D,0,this.format,i,n,0,this.format,r.UNSIGNED_BYTE,t.data)},M.prototype.bind=function(t,e,i){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),t!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,i||t),this.filter=t),e!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e),this.wrap=e)},M.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var P=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new t.default$2(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=new t.RGBAImage({width:64,height:64}),this.dirty=!0};P.prototype.isLoaded=function(){return this.loaded},P.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,i=this.requestors;e<i.length;e+=1){var n=i[e],o=n.ids,r=n.callback;this._notify(o,r)}this.requestors=[]}},P.prototype.getImage=function(t){return this.images[t]},P.prototype.addImage=function(t,e){this.images[t]=e},P.prototype.removeImage=function(t){delete this.images[t];var e=this.patterns[t];e&&(this.shelfPack.unref(e.bin),delete this.patterns[t])},P.prototype.getImages=function(t,e){var i=!0;if(!this.isLoaded())for(var n=0,o=t;n<o.length;n+=1){var r=o[n];this.images[r]||(i=!1)}this.isLoaded()||i?this._notify(t,e):this.requestors.push({ids:t,callback:e})},P.prototype._notify=function(t,e){for(var i={},n=0,o=t;n<o.length;n+=1){var r=o[n],a=this.images[r];a&&(i[r]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf})}e(null,i)},P.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},P.prototype.getPattern=function(e){var i=this.patterns[e];if(i)return i.position;var n=this.getImage(e);if(!n)return null;var o=n.data.width+2,r=n.data.height+2,a=this.shelfPack.packOne(o,r);if(!a)return null;this.atlasImage.resize(this.getPixelSize());var s=n.data,l=this.atlasImage,c=a.x+1,u=a.y+1,h=s.width,p=s.height;t.RGBAImage.copy(s,l,{x:0,y:0},{x:c,y:u},{width:h,height:p}),t.RGBAImage.copy(s,l,{x:0,y:p-1},{x:c,y:u-1},{width:h,height:1}),t.RGBAImage.copy(s,l,{x:0,y:0},{x:c,y:u+p},{width:h,height:1}),t.RGBAImage.copy(s,l,{x:h-1,y:0},{x:c-1,y:u},{width:1,height:p}),t.RGBAImage.copy(s,l,{x:0,y:0},{x:c+h,y:u},{width:1,height:p}),this.dirty=!0;var d=new t.ImagePosition(a,n);return this.patterns[e]={bin:a,position:d},d},P.prototype.bind=function(t){var e=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new M(t,this.atlasImage,e.RGBA),this.atlasTexture.bind(e.LINEAR,e.CLAMP_TO_EDGE)};var L=B,k=1e20;function B(t,e,i,n,o,r){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=o||"sans-serif",this.fontWeight=r||"normal",this.radius=i||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function O(t,e,i,n,o,r,a){for(var s=0;s<e;s++){for(var l=0;l<i;l++)n[l]=t[l*e+s];for(F(n,o,r,a,i),l=0;l<i;l++)t[l*e+s]=o[l]}for(l=0;l<i;l++){for(s=0;s<e;s++)n[s]=t[l*e+s];for(F(n,o,r,a,e),s=0;s<e;s++)t[l*e+s]=Math.sqrt(o[s])}}function F(t,e,i,n,o){i[0]=0,n[0]=-k,n[1]=+k;for(var r=1,a=0;r<o;r++){for(var s=(t[r]+r*r-(t[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);s<=n[a];)a--,s=(t[r]+r*r-(t[i[a]]+i[a]*i[a]))/(2*r-2*i[a]);i[++a]=r,n[a]=s,n[a+1]=+k}for(r=0,a=0;r<o;r++){for(;n[a+1]<r;)a++;e[r]=(r-i[a])*(r-i[a])+t[i[a]]}}B.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),i=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var o=e.data[4*n+3]/255;this.gridOuter[n]=1===o?0:0===o?k:Math.pow(Math.max(0,.5-o),2),this.gridInner[n]=1===o?k:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(O(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),O(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var r=this.gridOuter[n]-this.gridInner[n];i[n]=Math.max(0,Math.min(255,Math.round(255-255*(r/this.radius+this.cutoff))))}return i};var N=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};N.prototype.setURL=function(t){this.url=t},N.prototype.getGlyphs=function(e,i){var n=this,o=[];for(var r in e)for(var a=0,s=e[r];a<s.length;a+=1){var l=s[a];o.push({stack:r,id:l})}t.asyncAll(o,function(t,e){var i=t.stack,o=t.id,r=n.entries[i];r||(r=n.entries[i]={glyphs:{},requests:{}});var a=r.glyphs[o];if(void 0===a)if(a=n._tinySDF(r,i,o))e(null,{stack:i,id:o,glyph:a});else{var s=Math.floor(o/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var l=r.requests[s];l||(l=r.requests[s]=[],N.loadGlyphRange(i,s,n.url,n.requestTransform,function(t,e){if(e)for(var i in e)r.glyphs[+i]=e[+i];for(var n=0,o=l;n<o.length;n+=1){(0,o[n])(t,e)}delete r.requests[s]})),l.push(function(t,n){t?e(t):n&&e(null,{stack:i,id:o,glyph:n[o]||null})})}}else e(null,{stack:i,id:o,glyph:a})},function(t,e){if(t)i(t);else if(e){for(var n={},o=0,r=e;o<r.length;o+=1){var a=r[o],s=a.stack,l=a.id,c=a.glyph;(n[s]||(n[s]={}))[l]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics}}i(null,n)}})},N.prototype._tinySDF=function(e,i,n){var o=this.localIdeographFontFamily;if(o&&(t.default$4["CJK Unified Ideographs"](n)||t.default$4["Hangul Syllables"](n))){var r=e.tinySDF;if(!r){var a="400";/bold/i.test(i)?a="900":/medium/i.test(i)?a="500":/light/i.test(i)&&(a="200"),r=e.tinySDF=new N.TinySDF(24,3,8,.25,o,a)}return{id:n,bitmap:new t.AlphaImage({width:30,height:30},r.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},N.loadGlyphRange=function(e,i,n,o,r){var a=256*i,s=a+255,l=o(x(n).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(l,function(e,i){if(e)r(e);else if(i){for(var n={},o=0,a=t.default$3(i.data);o<a.length;o+=1){var s=a[o];n[s.id]=s}r(null,n)}})},N.TinySDF=L;var U=function(){this.specification=t.default$5.light.position};U.prototype.possiblyEvaluate=function(e,i){return t.sphericalToCartesian(e.expression.evaluate(i))},U.prototype.interpolate=function(e,i,n){return{x:t.number(e.x,i.x,n),y:t.number(e.y,i.y,n),z:t.number(e.z,i.z,n)}};var Z=new t.Properties({anchor:new t.DataConstantProperty(t.default$5.light.anchor),position:new U,color:new t.DataConstantProperty(t.default$5.light.color),intensity:new t.DataConstantProperty(t.default$5.light.intensity)}),V=function(e){function i(i){e.call(this),this._transitionable=new t.Transitionable(Z),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(e){if(!this._validate(t.validateLight,e))for(var i in e){var n=e[i];t.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-"-transition".length),n):this._transitionable.setValue(i,n)}},i.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},i.prototype._validate=function(e,i){return t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:t.default$5})))},i}(t.Evented),j=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};j.prototype.getDash=function(t,e){var i=t.join(",")+String(e);return this.positions[i]||(this.positions[i]=this.addDash(t,e)),this.positions[i]},j.prototype.addDash=function(e,i){var n=i?7:0,o=2*n+1;if(this.nextRow+o>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var r=0,a=0;a<e.length;a++)r+=e[a];for(var s=this.width/r,l=s/2,c=e.length%2==1,u=-n;u<=n;u++)for(var h=this.nextRow+n+u,p=this.width*h,d=c?-e[e.length-1]:0,f=e[0],m=1,_=0;_<this.width;_++){for(;f<_/s;)d=f,f+=e[m],c&&m===e.length-1&&(f+=e[0]),m++;var g=Math.abs(_-d*s),v=Math.abs(_-f*s),y=Math.min(g,v),x=m%2==1,b=void 0;if(i){var w=n?u/n*(l+1):0;if(x){var E=l-Math.abs(w);b=Math.sqrt(y*y+E*E)}else b=l-Math.sqrt(y*y+w*w)}else b=(x?1:-1)*y;this.data[3+4*(p+_)]=Math.max(0,Math.min(255,b+128))}var T={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:r};return this.nextRow+=o,this.dirty=!0,T},j.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var $=function e(i,n){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var o=this.workerPool.acquire(this.id),r=0;r<o.length;r++){var a=o[r],s=new e.Actor(a,n,this.id);s.name="Worker "+r,this.actors.push(s)}};function G(e,i,n){var o=function(e,i){if(e)return n(e);if(i){var o=t.pick(i,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);i.vector_layers&&(o.vectorLayers=i.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(t){return t.id})),n(null,o)}};e.url?t.getJSON(i(b(e.url),t.ResourceType.Source),o):r.frame(function(){return o(null,e)})}$.prototype.broadcast=function(e,i,n){n=n||function(){},t.asyncAll(this.actors,function(t,n){t.send(e,i,n)},n)},$.prototype.send=function(t,e,i,n){return("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(t,e,i),n},$.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},$.Actor=t.default$7;var W=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};W.prototype.wrap=function(){return new W(t.wrap(this.lng,-180,180),this.lat)},W.prototype.toArray=function(){return[this.lng,this.lat]},W.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},W.prototype.toBounds=function(t){var e=360*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return new q(new W(this.lng-i,this.lat-e),new W(this.lng+i,this.lat+e))},W.convert=function(t){if(t instanceof W)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new W(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new W(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var q=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};q.prototype.setNorthEast=function(t){return this._ne=t instanceof W?new W(t.lng,t.lat):W.convert(t),this},q.prototype.setSouthWest=function(t){return this._sw=t instanceof W?new W(t.lng,t.lat):W.convert(t),this},q.prototype.extend=function(t){var e,i,n=this._sw,o=this._ne;if(t instanceof W)e=t,i=t;else{if(!(t instanceof q))return Array.isArray(t)?t.every(Array.isArray)?this.extend(q.convert(t)):this.extend(W.convert(t)):this;if(e=t._sw,i=t._ne,!e||!i)return this}return n||o?(n.lng=Math.min(e.lng,n.lng),n.lat=Math.min(e.lat,n.lat),o.lng=Math.max(i.lng,o.lng),o.lat=Math.max(i.lat,o.lat)):(this._sw=new W(e.lng,e.lat),this._ne=new W(i.lng,i.lat)),this},q.prototype.getCenter=function(){return new W((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},q.prototype.getSouthWest=function(){return this._sw},q.prototype.getNorthEast=function(){return this._ne},q.prototype.getNorthWest=function(){return new W(this.getWest(),this.getNorth())},q.prototype.getSouthEast=function(){return new W(this.getEast(),this.getSouth())},q.prototype.getWest=function(){return this._sw.lng},q.prototype.getSouth=function(){return this._sw.lat},q.prototype.getEast=function(){return this._ne.lng},q.prototype.getNorth=function(){return this._ne.lat},q.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},q.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},q.prototype.isEmpty=function(){return!(this._sw&&this._ne)},q.convert=function(t){return!t||t instanceof q?t:new q(t)};var X=function(t,e,i){this.bounds=q.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=i||24};X.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},X.prototype.contains=function(t){var e=Math.floor(this.lngX(this.bounds.getWest(),t.z)),i=Math.floor(this.latY(this.bounds.getNorth(),t.z)),n=Math.ceil(this.lngX(this.bounds.getEast(),t.z)),o=Math.ceil(this.latY(this.bounds.getSouth(),t.z));return t.x>=e&&t.x<n&&t.y>=i&&t.y<o},X.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},X.prototype.latY=function(e,i){var n=t.clamp(Math.sin(Math.PI/180*e),-.9999,.9999),o=Math.pow(2,i)/(2*Math.PI);return Math.pow(2,i-1)+.5*Math.log((1+n)/(1-n))*-o};var H=function(e){function i(i,n,o,r){if(e.call(this),this.id=i,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,t.extend(this,t.pick(n,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),G(this._options,this.map._transformRequest,function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new X(n.bounds,e.minzoom,e.maxzoom)),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.loadTile=function(e,i){var n=e.tileID.overscaleFactor(),o=T(e.tileID.canonical.url(this.tiles,this.scheme),this.url),a={request:this.map._transformRequest(o,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*n,type:this.type,source:this.id,pixelRatio:r.devicePixelRatio,overscaling:n,showCollisionBoxes:this.map.showCollisionBoxes};function s(t,n){return e.aborted?i(null):t?i(t):(n&&n.resourceTiming&&(e.resourceTiming=n.resourceTiming),this.map._refreshExpiredTiles&&e.setExpiryData(n),e.loadVectorData(n,this.map.painter),i(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}a.request.collectResourceTiming=this._collectResourceTiming,void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",a,s.bind(this)):"loading"===e.state?e.reloadCallback=i:this.dispatcher.send("reloadTile",a,s.bind(this),e.workerID)},i.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},i.prototype.hasTransition=function(){return!1},i}(t.Evented),K=function(e){function i(i,n,o,r){e.call(this),this.id=i,this.dispatcher=o,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({},n),t.extend(this,t.pick(n,["url","scheme","tileSize"]))}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),G(this._options,this.map._transformRequest,function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(t.extend(e,n),n.bounds&&(e.tileBounds=new X(n.bounds,e.minzoom,e.maxzoom)),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.serialize=function(){return t.extend({},this._options)},i.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},i.prototype.loadTile=function(e,i){var n=this,o=T(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(o,t.ResourceType.Tile),function(t,o){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(t)e.state="errored",i(t);else if(o){n.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var r=n.map.painter.context,a=r.gl;e.texture=n.map.painter.getTileTexture(o.width),e.texture?(e.texture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,o)):(e.texture=new M(r,o,a.RGBA),e.texture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),r.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax)),a.generateMipmap(a.TEXTURE_2D),e.state="loaded",i(null)}})},i.prototype.abortTile=function(t,e){t.request&&(t.request.abort(),delete t.request),e()},i.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},i.prototype.hasTransition=function(){return!1},i}(t.Evented),Y=function(e){function i(i,n,o,r){e.call(this,i,n,o,r),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({},n),this.encoding=n.encoding||"mapbox"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(e,i){var n=T(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(n,t.ResourceType.Tile),function(t,n){if(delete e.request,e.aborted)e.state="unloaded",i(null);else if(t)e.state="errored",i(t);else if(n){this.map._refreshExpiredTiles&&e.setExpiryData(n),delete n.cacheControl,delete n.expires;var o=r.getImageData(n),a={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:o,encoding:this.encoding};e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",a,function(t,n){t&&(e.state="errored",i(t));n&&(e.dem=n,e.needsHillshadePrepare=!0,e.state="loaded",i(null))}.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},i.prototype._getNeighboringTiles=function(e){var i=e.canonical,n=Math.pow(2,i.z),o=(i.x-1+n)%n,r=0===i.x?e.wrap-1:e.wrap,a=(i.x+1+n)%n,s=i.x+1===n?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y).key]={backfilled:!1},i.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y-1).key]={backfilled:!1}),i.y+1<n&&(l[new t.OverscaledTileID(e.overscaledZ,r,i.z,o,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,i.z,a,i.y+1).key]={backfilled:!1}),l},i.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},i}(K),J=function(e){function i(i,n,o,r){e.call(this),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=o,this.setEventedParent(r),this._data=n.data,this._options=t.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var a=t.default$8/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:t.default$8,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.default$8,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(i){if(i)e.fire(new t.ErrorEvent(i));else{var n={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(n.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",n))}})},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setData=function(e){var i=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(e){if(e)return i.fire(new t.ErrorEvent(e));var n={dataType:"source",sourceDataType:"content"};i._collectResourceTiming&&i._resourceTiming&&i._resourceTiming.length>0&&(n.resourceTiming=i._resourceTiming,i._resourceTiming=[]),i.fire(new t.Event("data",n))}),this},i.prototype._updateWorkerData=function(e){var i,n,o=this,r=t.extend({},this.workerOptions),a=this._data;"string"==typeof a?(r.request=this.map._transformRequest((i=a,(n=t.default.document.createElement("a")).href=i,n.href),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(a),this.workerID=this.dispatcher.send(this.type+"."+r.source+".loadData",r,function(t,i){o._removed||i&&i.abandoned||(o._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[o.id]&&(o._resourceTiming=i.resourceTiming[o.id].slice(0)),o.dispatcher.send(o.type+"."+r.source+".coalesce",null,null,o.workerID),e(t))},this.workerID)},i.prototype.loadTile=function(t,e){var i=this,n=void 0===t.workerID?"loadTile":"reloadTile",o={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:r.devicePixelRatio,overscaling:t.tileID.overscaleFactor(),showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(n,o,function(o,r){return t.unloadVectorData(),t.aborted?e(null):o?e(o):(t.loadVectorData(r,i.map.painter,"reloadTile"===n),e(null))},this.workerID)},i.prototype.abortTile=function(t){t.aborted=!0},i.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},i.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},i.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(t.Evented);var Q=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),tt=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};tt.prototype.bind=function(t,e,i,n,o,r,a,s){this.context=t;for(var l=this.boundPaintVertexBuffers.length!==n.length,c=0;!l&&c<n.length;c++)this.boundPaintVertexBuffers[c]!==n[c]&&(l=!0);var u=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==i||l||this.boundIndexBuffer!==o||this.boundVertexOffset!==r||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||u?this.freshBind(e,i,n,o,r,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),o&&o.dynamicDraw&&o.bind(),s&&s.bind())},tt.prototype.freshBind=function(t,e,i,n,o,r,a){var s,l=t.numAttributes,c=this.context,u=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=n,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=r,this.boundDynamicVertexBuffer2=a;else{s=c.currentNumAttributes||0;for(var h=l;h<s;h++)u.disableVertexAttribArray(h)}e.enableAttributes(u,t);for(var p=0,d=i;p<d.length;p+=1){d[p].enableAttributes(u,t)}r&&r.enableAttributes(u,t),a&&a.enableAttributes(u,t),e.bind(),e.setVertexAttribPointers(u,t,o);for(var f=0,m=i;f<m.length;f+=1){var _=m[f];_.bind(),_.setVertexAttribPointers(u,t,o)}r&&(r.bind(),r.setVertexAttribPointers(u,t,o)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(u,t,o)),c.currentNumAttributes=l},tt.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var et=function(e){function i(t,i,n,o){e.call(this),this.id=t,this.dispatcher=n,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(o),this.options=i}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._transformRequest(this.url,t.ResourceType.Image),function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(e.image=r.getImageData(n),e._finishLoading())})},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(t){this.map=t,this.load()},i.prototype.setCoordinates=function(e){this.coordinates=e;var i=this.map,n=e.map(function(t){return i.transform.locationCoordinate(W.convert(t)).zoomTo(0)}),o=this.centerCoord=t.getCoordinatesCenter(n);o.column=Math.floor(o.column),o.row=Math.floor(o.row),this.tileID=new t.CanonicalTileID(o.zoom,o.column,o.row),this.minzoom=this.maxzoom=o.zoom;var r=n.map(function(e){var i=e.zoomTo(o.zoom);return new t.default$1(Math.round((i.column-o.column)*t.default$8),Math.round((i.row-o.row)*t.default$8))});return this._boundsArray=new t.RasterBoundsArray,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,t.default$8,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,t.default$8),this._boundsArray.emplaceBack(r[2].x,r[2].y,t.default$8,t.default$8),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,e=t.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,Q.members)),this.boundsVAO||(this.boundsVAO=new tt),this.texture||(this.texture=new M(t,this.image,e.RGBA),this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[i];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},i.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(t.Evented),it=function(e){function i(t,i,n,o){e.call(this,t,i,n,o),this.roundZoom=!0,this.type="video",this.options=i}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){var e=this,i=this.options;this.urls=[];for(var n=0,o=i.urls;n<o.length;n+=1){var r=o[n];e.urls.push(e.map._transformRequest(r,t.ResourceType.Source).url)}t.getVideo(this.urls,function(i,n){i?e.fire(new t.ErrorEvent(i)):n&&(e.video=n,e.video.loop=!0,e.video.addEventListener("playing",function(){e.map._rerender()}),e.map&&e.video.play(),e._finishLoading())})},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,e=t.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,Q.members)),this.boundsVAO||(this.boundsVAO=new tt),this.texture?this.video.paused||(this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this.video)):(this.texture=new M(t,this.video,e.RGBA),this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE)),this.tiles){var n=this.tiles[i];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(et),nt=function(e){function i(t,i,n,o){e.call(this,t,i,n,o),this.options=i,this.animate=void 0===i.animate||i.animate}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.load=function(){this.canvas=this.canvas||t.default.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var e=this.map.painter.context,i=e.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,Q.members)),this.boundsVAO||(this.boundsVAO=new tt),this.texture?t?this.texture.update(this.canvas):this._playing&&(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.canvas)):(this.texture=new M(e,this.canvas,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var i=e[t];if(isNaN(i)||i<=0)return!0}return!1},i}(et),ot={vector:H,raster:K,"raster-dem":Y,geojson:J,video:it,image:et,canvas:nt},rt=function(e,i,n,o){var r=new ot[i.type](e,i,n,o);if(r.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+r.id);return t.bindAll(["load","abort","unload","serialize","prepare"],r),r};function at(t,e,i,n,o,r){var a=o.maxPitchScaleFactor(),s=t.tilesIn(i,a);s.sort(st);for(var l=[],c=0,u=s;c<u.length;c+=1){var h=u[c];l.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(e,h.queryGeometry,h.scale,n,o,a,t.transform.calculatePosMatrix(h.tileID.toUnwrapped()),t.id,r)})}return function(t){for(var e={},i={},n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.queryResults,s=r.wrappedTileID,l=i[s]=i[s]||{};for(var c in a)for(var u=a[c],h=l[c]=l[c]||{},p=e[c]=e[c]||[],d=0,f=u;d<f.length;d+=1){var m=f[d];h[m.featureIndex]||(h[m.featureIndex]=!0,p.push(m.feature))}}return e}(l)}function st(t,e){var i=t.tileID,n=e.tileID;return i.overscaledZ-n.overscaledZ||i.canonical.y-n.canonical.y||i.wrap-n.wrap||i.canonical.x-n.canonical.x}var lt=function(t,e,i){var n=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(t/i),this.yCellCount=Math.ceil(e/i);for(var r=0;r<this.xCellCount*this.yCellCount;r++)n.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};lt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},lt.prototype.insert=function(t,e,i,n,o){this._forEachCell(e,i,n,o,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(o)},lt.prototype.insertCircle=function(t,e,i,n){this._forEachCell(e-n,i-n,e+n,i+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(i),this.circles.push(n)},lt.prototype._insertBoxCell=function(t,e,i,n,o,r){this.boxCells[o].push(r)},lt.prototype._insertCircleCell=function(t,e,i,n,o,r){this.circleCells[o].push(r)},lt.prototype._query=function(t,e,i,n,o){if(i<0||t>this.width||n<0||e>this.height)return!o&&[];var r=[];if(t<=0&&e<=0&&this.width<=i&&this.height<=n)r=Array.prototype.slice.call(this.boxKeys).concat(this.circleKeys);else{var a={hitTest:o,seenUids:{box:{},circle:{}}};this._forEachCell(t,e,i,n,this._queryCell,r,a)}return o?r.length>0:r},lt.prototype._queryCircle=function(t,e,i,n){var o=t-i,r=t+i,a=e-i,s=e+i;if(r<0||o>this.width||s<0||a>this.height)return!n&&[];var l=[],c={hitTest:n,circle:{x:t,y:e,radius:i},seenUids:{box:{},circle:{}}};return this._forEachCell(o,a,r,s,this._queryCellCircle,l,c),n?l.length>0:l},lt.prototype.query=function(t,e,i,n){return this._query(t,e,i,n,!1)},lt.prototype.hitTest=function(t,e,i,n){return this._query(t,e,i,n,!0)},lt.prototype.hitTestCircle=function(t,e,i){return this._queryCircle(t,e,i,!0)},lt.prototype._queryCell=function(t,e,i,n,o,r,a){var s=a.seenUids,l=this.boxCells[o];if(null!==l)for(var c=this.bboxes,u=0,h=l;u<h.length;u+=1){var p=h[u];if(!s.box[p]){s.box[p]=!0;var d=4*p;if(t<=c[d+2]&&e<=c[d+3]&&i>=c[d+0]&&n>=c[d+1]){if(a.hitTest)return r.push(!0),!0;r.push(this.boxKeys[p])}}}var f=this.circleCells[o];if(null!==f)for(var m=this.circles,_=0,g=f;_<g.length;_+=1){var v=g[_];if(!s.circle[v]){s.circle[v]=!0;var y=3*v;if(this._circleAndRectCollide(m[y],m[y+1],m[y+2],t,e,i,n)){if(a.hitTest)return r.push(!0),!0;r.push(this.circleKeys[v])}}}},lt.prototype._queryCellCircle=function(t,e,i,n,o,r,a){var s=a.circle,l=a.seenUids,c=this.boxCells[o];if(null!==c)for(var u=this.bboxes,h=0,p=c;h<p.length;h+=1){var d=p[h];if(!l.box[d]){l.box[d]=!0;var f=4*d;if(this._circleAndRectCollide(s.x,s.y,s.radius,u[f+0],u[f+1],u[f+2],u[f+3]))return r.push(!0),!0}}var m=this.circleCells[o];if(null!==m)for(var _=this.circles,g=0,v=m;g<v.length;g+=1){var y=v[g];if(!l.circle[y]){l.circle[y]=!0;var x=3*y;if(this._circlesCollide(_[x],_[x+1],_[x+2],s.x,s.y,s.radius))return r.push(!0),!0}}},lt.prototype._forEachCell=function(t,e,i,n,o,r,a){for(var s=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),c=this._convertToXCellCoord(i),u=this._convertToYCellCoord(n),h=s;h<=c;h++)for(var p=l;p<=u;p++){var d=this.xCellCount*p+h;if(o.call(this,t,e,i,n,d,r,a))return}},lt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},lt.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},lt.prototype._circlesCollide=function(t,e,i,n,o,r){var a=n-t,s=o-e,l=i+r;return l*l>a*a+s*s},lt.prototype._circleAndRectCollide=function(t,e,i,n,o,r,a){var s=(r-n)/2,l=Math.abs(t-(n+s));if(l>s+i)return!1;var c=(a-o)/2,u=Math.abs(e-(o+c));if(u>c+i)return!1;if(l<=s||u<=c)return!0;var h=l-s,p=u-c;return h*h+p*p<=i*i};var ct=t.default$9.layout;function ut(e,i,n,o,r){var a=t.mat4.identity(new Float32Array(16));return i?(t.mat4.identity(a),t.mat4.scale(a,a,[1/r,1/r,1]),n||t.mat4.rotateZ(a,a,o.angle)):(t.mat4.scale(a,a,[o.width/2,-o.height/2,1]),t.mat4.translate(a,a,[1,-1,0]),t.mat4.multiply(a,a,e)),a}function ht(e,i,n,o,r){var a=t.mat4.identity(new Float32Array(16));return i?(t.mat4.multiply(a,a,e),t.mat4.scale(a,a,[r,r,1]),n||t.mat4.rotateZ(a,a,-o.angle)):(t.mat4.scale(a,a,[1,-1,1]),t.mat4.translate(a,a,[-1,-1,0]),t.mat4.scale(a,a,[2/o.width,2/o.height,1])),a}function pt(e,i){var n=[e.x,e.y,0,1];wt(n,n,i);var o=n[3];return{point:new t.default$1(n[0]/o,n[1]/o),signedDistanceFromCamera:o}}function dt(t,e){var i=t[0]/t[3],n=t[1]/t[3];return i>=-e[0]&&i<=e[0]&&n>=-e[1]&&n<=e[1]}function ft(e,i,n,o,r,a,s,l){var c=o?e.textSizeData:e.iconSizeData,u=t.evaluateSizeForZoom(c,n.transform.zoom,ct.properties[o?"text-size":"icon-size"]),h=[256/n.width*2+1,256/n.height*2+1],p=o?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;p.clear();for(var d=e.lineVertexArray,f=o?e.text.placedSymbolArray:e.icon.placedSymbolArray,m=n.transform.width/n.transform.height,_=!1,g=0;g<f.length;g++){var v=f.get(g);if(v.hidden||v.writingMode===t.WritingMode.vertical&&!_)bt(v.numGlyphs,p);else{_=!1;var y=[v.anchorX,v.anchorY,0,1];if(t.vec4.transformMat4(y,y,i),dt(y,h)){var x=.5+y[3]/n.transform.cameraToCenterDistance*.5,b=t.evaluateSizeForFeature(c,u,v),w=s?b*x:b/x,E=new t.default$1(v.anchorX,v.anchorY),T=pt(E,r).point,I={},C=gt(v,w,!1,l,i,r,a,e.glyphOffsetArray,d,p,T,E,I,m);_=C.useVertical,(C.notEnoughRoom||_||C.needsFlipping&&gt(v,w,!0,l,i,r,a,e.glyphOffsetArray,d,p,T,E,I,m).notEnoughRoom)&&bt(v.numGlyphs,p)}else bt(v.numGlyphs,p)}}o?e.text.dynamicLayoutVertexBuffer.updateData(p):e.icon.dynamicLayoutVertexBuffer.updateData(p)}function mt(t,e,i,n,o,r,a,s,l,c,u,h){var p=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),_=e.getoffsetX(p-1),g=yt(t*m,i,n,o,r,a,s.segment,d,f,l,c,u,h);if(!g)return null;var v=yt(t*_,i,n,o,r,a,s.segment,d,f,l,c,u,h);return v?{first:g,last:v}:null}function _t(e,i,n,o){if(e===t.WritingMode.horizontal&&Math.abs(n.y-i.y)>Math.abs(n.x-i.x)*o)return{useVertical:!0};return(e===t.WritingMode.vertical?i.y<n.y:i.x>n.x)?{needsFlipping:!0}:null}function gt(e,i,n,o,r,a,s,l,c,u,h,p,d,f){var m,_=i/24,g=e.lineOffsetX*i,v=e.lineOffsetY*i;if(e.numGlyphs>1){var y=e.glyphStartIndex+e.numGlyphs,x=e.lineStartIndex,b=e.lineStartIndex+e.lineLength,w=mt(_,l,g,v,n,h,p,e,c,a,d,!1);if(!w)return{notEnoughRoom:!0};var E=pt(w.first.point,s).point,T=pt(w.last.point,s).point;if(o&&!n){var I=_t(e.writingMode,E,T,f);if(I)return I}m=[w.first];for(var C=e.glyphStartIndex+1;C<y-1;C++)m.push(yt(_*l.getoffsetX(C),g,v,n,h,p,e.segment,x,b,c,a,d,!1));m.push(w.last)}else{if(o&&!n){var S=pt(p,r).point,z=e.lineStartIndex+e.segment+1,A=new t.default$1(c.getx(z),c.gety(z)),R=pt(A,r),D=R.signedDistanceFromCamera>0?R.point:vt(p,A,S,1,r),M=_t(e.writingMode,S,D,f);if(M)return M}var P=yt(_*l.getoffsetX(e.glyphStartIndex),g,v,n,h,p,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,c,a,d,!1);if(!P)return{notEnoughRoom:!0};m=[P]}for(var L=0,k=m;L<k.length;L+=1){var B=k[L];t.addDynamicAttributes(u,B.point,B.angle)}return{}}function vt(t,e,i,n,o){var r=pt(t.add(t.sub(e)._unit()),o).point,a=i.sub(r);return i.add(a._mult(n/a.mag()))}function yt(e,i,n,o,r,a,s,l,c,u,h,p,d){var f=o?e-i:e+i,m=f>0?1:-1,_=0;o&&(m*=-1,_=Math.PI),m<0&&(_+=Math.PI);for(var g=m>0?l+s:l+s+1,v=g,y=r,x=r,b=0,w=0,E=Math.abs(f);b+w<=E;){if((g+=m)<l||g>=c)return null;if(x=y,void 0===(y=p[g])){var T=new t.default$1(u.getx(g),u.gety(g)),I=pt(T,h);if(I.signedDistanceFromCamera>0)y=p[g]=I.point;else{var C=g-m;y=vt(0===b?a:new t.default$1(u.getx(C),u.gety(C)),T,x,E-b+1,h)}}b+=w,w=x.dist(y)}var S=(E-b)/w,z=y.sub(x),A=z.mult(S)._add(x);return A._add(z._unit()._perp()._mult(n*m)),{point:A,angle:_+Math.atan2(y.y-x.y,y.x-x.x),tileDistance:d?{prevTileDistance:g-m===v?0:u.gettileUnitDistanceFromAnchor(g-m),lastSegmentViewportDistance:E-b}:null}}var xt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function bt(t,e){for(var i=0;i<t;i++){var n=e.length;e.resize(n+4),e.float32.set(xt,3*n)}}function wt(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[4]*o+i[12],t[1]=i[1]*n+i[5]*o+i[13],t[3]=i[3]*n+i[7]*o+i[15],t}t.default$10.mat4;var Et=function(t,e,i){void 0===e&&(e=new lt(t.width+200,t.height+200,25)),void 0===i&&(i=new lt(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=i,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100};function Tt(t,e,i){t[e+4]=i?1:0}Et.prototype.placeCollisionBox=function(t,e,i,n){var o=this.projectAndGetPerspectiveRatio(n,t.anchorPointX,t.anchorPointY),r=i*o.perspectiveRatio,a=t.x1*r+o.point.x,s=t.y1*r+o.point.y,l=t.x2*r+o.point.x,c=t.y2*r+o.point.y;return!e&&this.grid.hitTest(a,s,l,c)?{box:[],offscreen:!1}:{box:[a,s,l,c],offscreen:this.isOffscreen(a,s,l,c)}},Et.prototype.approximateTileDistance=function(t,e,i,n,o){var r=o?1:n/this.pitchfactor,a=t.lastSegmentViewportDistance*i;return t.prevTileDistance+a+(r-1)*a*Math.abs(Math.sin(e))},Et.prototype.placeCollisionCircles=function(e,i,n,o,r,a,s,l,c,u,h,p,d){var f=[],m=this.projectAnchor(u,a.anchorX,a.anchorY),_=c/24,g=a.lineOffsetX*c,v=a.lineOffsetY*c,y=new t.default$1(a.anchorX,a.anchorY),x=mt(_,l,g,v,!1,pt(y,h).point,y,a,s,h,{},!0),b=!1,w=!0,E=m.perspectiveRatio*o,T=1/(o*n),I=0,C=0;x&&(I=this.approximateTileDistance(x.first.tileDistance,x.first.angle,T,m.cameraDistance,d),C=this.approximateTileDistance(x.last.tileDistance,x.last.angle,T,m.cameraDistance,d));for(var S=0;S<e.length;S+=5){var z=e[S],A=e[S+1],R=e[S+2],D=e[S+3];if(!x||D<-I||D>C)Tt(e,S,!1);else{var M=this.projectPoint(u,z,A),P=R*E;if(f.length>0){var L=M.x-f[f.length-4],k=M.y-f[f.length-3];if(P*P*2>L*L+k*k)if(S+8<e.length){var B=e[S+8];if(B>-I&&B<C){Tt(e,S,!1);continue}}}var O=S/5;if(f.push(M.x,M.y,P,O),Tt(e,S,!0),w=w&&this.isOffscreen(M.x-P,M.y-P,M.x+P,M.y+P),!i&&this.grid.hitTestCircle(M.x,M.y,P)){if(!p)return{circles:[],offscreen:!1};b=!0}}}return{circles:b?[]:f,offscreen:w}},Et.prototype.queryRenderedSymbols=function(e,i,n,o,r,a){var s={},l=[];if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return l;for(var c=this.transform.calculatePosMatrix(i.toUnwrapped()),u=[],h=1/0,p=1/0,d=-1/0,f=-1/0,m=0;m<e.length;m++)for(var _=e[m],g=0;g<_.length;g++){var v=this.projectPoint(c,_[g].x,_[g].y);h=Math.min(h,v.x),p=Math.min(p,v.y),d=Math.max(d,v.x),f=Math.max(f,v.y),u.push(v)}for(var y=i.key,x=[],b=this.grid.query(h,p,d,f),w=0;w<b.length;w++)b[w].sourceID===r&&b[w].tileID===y&&a[b[w].bucketInstanceId]&&x.push(b[w].boxIndex);for(var E=this.ignoredGrid.query(h,p,d,f),T=0;T<E.length;T++)E[T].sourceID===r&&E[T].tileID===y&&a[E[T].bucketInstanceId]&&x.push(E[T].boxIndex);for(var I=0;I<x.length;I++){var C=o.get(x[I]),S=C.sourceLayerIndex,z=C.featureIndex,A=C.bucketIndex;if(void 0===s[S]&&(s[S]={}),void 0===s[S][z]&&(s[S][z]={}),!s[S][z][A]){var R=this.projectAndGetPerspectiveRatio(c,C.anchorPointX,C.anchorPointY),D=n*R.perspectiveRatio,M=C.x1*D+R.point.x,P=C.y1*D+R.point.y,L=C.x2*D+R.point.x,k=C.y2*D+R.point.y,B=[new t.default$1(M,P),new t.default$1(L,P),new t.default$1(L,k),new t.default$1(M,k)];t.polygonIntersectsPolygon(u,B)&&(s[S][z][A]=!0,l.push(x[I]))}}return l},Et.prototype.insertCollisionBox=function(t,e,i,n,o,r){var a={tileID:i,sourceID:n,bucketInstanceId:o,boxIndex:r};(e?this.ignoredGrid:this.grid).insert(a,t[0],t[1],t[2],t[3])},Et.prototype.insertCollisionCircles=function(t,e,i,n,o,r){for(var a=e?this.ignoredGrid:this.grid,s=0;s<t.length;s+=4){var l={tileID:i,sourceID:n,bucketInstanceId:o,boxIndex:r+t[s+3]};a.insertCircle(l,t[s],t[s+1],t[s+2])}},Et.prototype.projectAnchor=function(t,e,i){var n=[e,i,0,1];return wt(n,n,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5,cameraDistance:n[3]}},Et.prototype.projectPoint=function(e,i,n){var o=[i,n,0,1];return wt(o,o,e),new t.default$1((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100)},Et.prototype.projectAndGetPerspectiveRatio=function(e,i,n){var o=[i,n,0,1];return wt(o,o,e),{point:new t.default$1((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5}},Et.prototype.isOffscreen=function(t,e,i,n){return i<100||t>=this.screenRightBoundary||n<100||e>this.screenBottomBoundary};var It=function(e,i){this.tileID=e,this.uid=t.uniqueId(),this.uses=0,this.tileSize=i,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.expiredRequestCount=0,this.state="loading"};It.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<r.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},It.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},It.prototype.loadVectorData=function(e,i,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){if(e.rawTileData&&(this.rawTileData=e.rawTileData),this.collisionBoxArray=e.collisionBoxArray,this.featureIndex=e.featureIndex,this.featureIndex.rawTileData=this.rawTileData,this.buckets=function(t,e){var i={};if(!e)return i;for(var n=0,o=t;n<o.length;n+=1){var r=o[n],a=r.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==a.length){r.layers=a;for(var s=0,l=a;s<l.length;s+=1)i[l[s].id]=r}}return i}(e.buckets,i.style),n)for(var o in this.buckets){var r=this.buckets[o];r instanceof t.default$17&&(r.justReloaded=!0)}for(var a in this.queryPadding=0,this.buckets){var s=this.buckets[a];this.queryPadding=Math.max(this.queryPadding,i.style.getLayer(s.layerIds[0]).queryRadius(s))}e.iconAtlasImage&&(this.iconAtlasImage=e.iconAtlasImage),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new t.CollisionBoxArray},It.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.collisionBoxArray=null,this.featureIndex=null,this.state="unloaded"},It.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},It.prototype.getBucket=function(t){return this.buckets[t.id]},It.prototype.upload=function(t){for(var e in this.buckets){var i=this.buckets[e];i.uploaded||(i.upload(t),i.uploaded=!0)}var n=t.gl;this.iconAtlasImage&&(this.iconAtlasTexture=new M(t,this.iconAtlasImage,n.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new M(t,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},It.prototype.queryRenderedFeatures=function(e,i,n,o,r,a,s,l,c){if(!this.featureIndex||!this.collisionBoxArray)return{};var u={};for(var h in e){var p=this.getBucket(e[h]);p&&p instanceof t.default$17&&void 0!==p.bucketInstanceId&&(u[p.bucketInstanceId]=!0)}return this.featureIndex.query({queryGeometry:i,scale:n,tileSize:this.tileSize,posMatrix:s,transform:r,params:o,queryPadding:this.queryPadding*a,collisionBoxArray:this.collisionBoxArray,sourceID:l,collisionIndex:c,bucketInstanceIds:u},e)},It.prototype.querySourceFeatures=function(e,i){if(this.rawTileData){this.vtLayers||(this.vtLayers=new t.default$13.VectorTile(new t.default$14(this.rawTileData)).layers);var n=i?i.sourceLayer:"",o=this.vtLayers._geojsonTileLayer||this.vtLayers[n];if(o)for(var r=t.default$16(i&&i.filter),a={z:this.tileID.overscaledZ,x:this.tileID.canonical.x,y:this.tileID.canonical.y},s=0;s<o.length;s++){var l=o.feature(s);if(r({zoom:this.tileID.overscaledZ},l)){var c=new t.default$15(l,a.z,a.x,a.y);c.tile=a,e.push(c)}}}},It.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},It.prototype.setMask=function(e,i){if(!t.default$11(this.mask,e)&&(this.mask=e,this.clearMask(),!t.default$11(e,{0:!0}))){var n=new t.RasterBoundsArray,o=new t.TriangleIndexArray;this.segments=new t.default$18,this.segments.prepareSegment(0,n,o);for(var r=Object.keys(e),a=0;a<r.length;a++){var s=e[r[a]],l=t.default$8>>s.z,c=new t.default$1(s.x*l,s.y*l),u=new t.default$1(c.x+l,c.y+l),h=this.segments.prepareSegment(4,n,o);n.emplaceBack(c.x,c.y,c.x,c.y),n.emplaceBack(u.x,c.y,u.x,c.y),n.emplaceBack(c.x,u.y,c.x,u.y),n.emplaceBack(u.x,u.y,u.x,u.y);var p=h.vertexLength;o.emplaceBack(p,p+1,p+2),o.emplaceBack(p+1,p+2,p+3),h.vertexLength+=4,h.primitiveLength+=2}this.maskedBoundsBuffer=i.createVertexBuffer(n,Q.members),this.maskedIndexBuffer=i.createIndexBuffer(o)}},It.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},It.prototype.setExpiryData=function(e){var i=this.expirationTime;if(e.cacheControl){var n=t.parseCacheControl(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var o=Date.now(),r=!1;if(this.expirationTime>o)r=!1;else if(i)if(this.expirationTime<i)r=!0;else{var a=this.expirationTime-i;a?this.expirationTime=o+Math.max(a,3e4):r=!0}else r=!0;r?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},It.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)};var Ct=function(t,e){this.max=t,this.onRemove=e,this.reset()};Ct.prototype.reset=function(){for(var t in this.data)this.onRemove(this.data[t]);return this.data={},this.order=[],this},Ct.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var i=this.getAndRemove(this.order[0]);i&&this.onRemove(i)}return this},Ct.prototype.has=function(t){return t in this.data},Ct.prototype.keys=function(){return this.order},Ct.prototype.getAndRemove=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},Ct.prototype.get=function(t){return this.has(t)?this.data[t]:null},Ct.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},Ct.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this.getAndRemove(this.order[0]);e&&this.onRemove(e)}return this};var St=function(t,e,i){this.context=t;var n=t.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.unbindVAO(),t.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};St.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},St.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},St.prototype.updateData=function(t){var e=this.context.gl;this.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},St.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var zt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},At=function(t,e,i,n){this.length=e.length,this.attributes=i,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.context=t;var o=t.gl;this.buffer=o.createBuffer(),t.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};At.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},At.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},At.prototype.enableAttributes=function(t,e){for(var i=0;i<this.attributes.length;i++){var n=this.attributes[i],o=e.attributes[n.name];void 0!==o&&t.enableVertexAttribArray(o)}},At.prototype.setVertexAttribPointers=function(t,e,i){for(var n=0;n<this.attributes.length;n++){var o=this.attributes[n],r=e.attributes[o.name];void 0!==r&&t.vertexAttribPointer(r,o.components,t[zt[o.type]],!1,this.itemSize,o.offset+this.itemSize*(i||0))}},At.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var Rt=function(e){this.context=e,this.current=t.default$6.transparent};Rt.prototype.get=function(){return this.current},Rt.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t)};var Dt=function(t){this.context=t,this.current=1};Dt.prototype.get=function(){return this.current},Dt.prototype.set=function(t){this.current!==t&&(this.context.gl.clearDepth(t),this.current=t)};var Mt=function(t){this.context=t,this.current=0};Mt.prototype.get=function(){return this.current},Mt.prototype.set=function(t){this.current!==t&&(this.context.gl.clearStencil(t),this.current=t)};var Pt=function(t){this.context=t,this.current=[!0,!0,!0,!0]};Pt.prototype.get=function(){return this.current},Pt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t)};var Lt=function(t){this.context=t,this.current=!0};Lt.prototype.get=function(){return this.current},Lt.prototype.set=function(t){this.current!==t&&(this.context.gl.depthMask(t),this.current=t)};var kt=function(t){this.context=t,this.current=255};kt.prototype.get=function(){return this.current},kt.prototype.set=function(t){this.current!==t&&(this.context.gl.stencilMask(t),this.current=t)};var Bt=function(t){this.context=t,this.current={func:t.gl.ALWAYS,ref:0,mask:255}};Bt.prototype.get=function(){return this.current},Bt.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t)};var Ot=function(t){this.context=t;var e=this.context.gl;this.current=[e.KEEP,e.KEEP,e.KEEP]};Ot.prototype.get=function(){return this.current},Ot.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t)};var Ft=function(t){this.context=t,this.current=!1};Ft.prototype.get=function(){return this.current},Ft.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t}};var Nt=function(t){this.context=t,this.current=[0,1]};Nt.prototype.get=function(){return this.current},Nt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.depthRange(t[0],t[1]),this.current=t)};var Ut=function(t){this.context=t,this.current=!1};Ut.prototype.get=function(){return this.current},Ut.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t}};var Zt=function(t){this.context=t,this.current=t.gl.LESS};Zt.prototype.get=function(){return this.current},Zt.prototype.set=function(t){this.current!==t&&(this.context.gl.depthFunc(t),this.current=t)};var Vt=function(t){this.context=t,this.current=!1};Vt.prototype.get=function(){return this.current},Vt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t}};var jt=function(t){this.context=t;var e=this.context.gl;this.current=[e.ONE,e.ZERO]};jt.prototype.get=function(){return this.current},jt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.blendFunc(t[0],t[1]),this.current=t)};var $t=function(e){this.context=e,this.current=t.default$6.transparent};$t.prototype.get=function(){return this.current},$t.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t)};var Gt=function(t){this.context=t,this.current=null};Gt.prototype.get=function(){return this.current},Gt.prototype.set=function(t){this.current!==t&&(this.context.gl.useProgram(t),this.current=t)};var Wt=function(t){this.context=t,this.current=1};Wt.prototype.get=function(){return this.current},Wt.prototype.set=function(e){var i=this.context.lineWidthRange,n=t.clamp(e,i[0],i[1]);this.current!==n&&(this.context.gl.lineWidth(n),this.current=e)};var qt=function(t){this.context=t,this.current=t.gl.TEXTURE0};qt.prototype.get=function(){return this.current},qt.prototype.set=function(t){this.current!==t&&(this.context.gl.activeTexture(t),this.current=t)};var Xt=function(t){this.context=t;var e=this.context.gl;this.current=[0,0,e.drawingBufferWidth,e.drawingBufferHeight]};Xt.prototype.get=function(){return this.current},Xt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t)};var Ht=function(t){this.context=t,this.current=null};Ht.prototype.get=function(){return this.current},Ht.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t}};var Kt=function(t){this.context=t,this.current=null};Kt.prototype.get=function(){return this.current},Kt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t}};var Yt=function(t){this.context=t,this.current=null};Yt.prototype.get=function(){return this.current},Yt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t}};var Jt=function(t){this.context=t,this.current=null};Jt.prototype.get=function(){return this.current},Jt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t}};var Qt=function(t){this.context=t,this.current=null};Qt.prototype.get=function(){return this.current},Qt.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t};var te=function(t){this.context=t,this.current=null};te.prototype.get=function(){return this.current},te.prototype.set=function(t){this.current!==t&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t)};var ee=function(t){this.context=t,this.current=4};ee.prototype.get=function(){return this.current},ee.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t}};var ie=function(t){this.context=t,this.current=!1};ie.prototype.get=function(){return this.current},ie.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t}};var ne=function(t,e){this.context=t,this.current=null,this.parent=e};ne.prototype.get=function(){return this.current};var oe=function(t){function e(e,i){t.call(this,e,i),this.dirty=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e.prototype.setDirty=function(){this.dirty=!0},e}(ne),re=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t}},e}(ne),ae=function(t,e,i){this.context=t,this.width=e,this.height=i;var n=t.gl,o=this.framebuffer=n.createFramebuffer();this.colorAttachment=new oe(t,o),this.depthAttachment=new re(t,o)};ae.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var i=this.depthAttachment.get();i&&t.deleteRenderbuffer(i),t.deleteFramebuffer(this.framebuffer)};var se=function(t,e,i){this.func=t,this.mask=e,this.range=i};se.ReadOnly=!1,se.ReadWrite=!0,se.disabled=new se(519,se.ReadOnly,[0,1]);var le=function(t,e,i,n,o,r){this.test=t,this.ref=e,this.mask=i,this.fail=n,this.depthFail=o,this.pass=r};le.disabled=new le({func:519,mask:0},0,0,7680,7680,7680);var ce=function(t,e,i){this.blendFunction=t,this.blendColor=e,this.mask=i};ce.Replace=[1,0],ce.disabled=new ce(ce.Replace,t.default$6.transparent,[!1,!1,!1,!1]),ce.unblended=new ce(ce.Replace,t.default$6.transparent,[!0,!0,!0,!0]),ce.alphaBlended=new ce([1,771],t.default$6.transparent,[!0,!0,!0,!0]);var ue=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.clearColor=new Rt(this),this.clearDepth=new Dt(this),this.clearStencil=new Mt(this),this.colorMask=new Pt(this),this.depthMask=new Lt(this),this.stencilMask=new kt(this),this.stencilFunc=new Bt(this),this.stencilOp=new Ot(this),this.stencilTest=new Ft(this),this.depthRange=new Nt(this),this.depthTest=new Ut(this),this.depthFunc=new Zt(this),this.blend=new Vt(this),this.blendFunc=new jt(this),this.blendColor=new $t(this),this.program=new Gt(this),this.lineWidth=new Wt(this),this.activeTexture=new qt(this),this.viewport=new Xt(this),this.bindFramebuffer=new Ht(this),this.bindRenderbuffer=new Kt(this),this.bindTexture=new Yt(this),this.bindVertexBuffer=new Jt(this),this.bindElementBuffer=new Qt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new te(this),this.pixelStoreUnpack=new ee(this),this.pixelStoreUnpackPremultiplyAlpha=new ie(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};ue.prototype.createIndexBuffer=function(t,e){return new St(this,t,e)},ue.prototype.createVertexBuffer=function(t,e,i){return new At(this,t,e,i)},ue.prototype.createRenderbuffer=function(t,e,i){var n=this.gl,o=n.createRenderbuffer();return this.bindRenderbuffer.set(o),n.renderbufferStorage(n.RENDERBUFFER,t,e,i),this.bindRenderbuffer.set(null),o},ue.prototype.createFramebuffer=function(t,e){return new ae(this,t,e)},ue.prototype.clear=function(t){var e=t.color,i=t.depth,n=this.gl,o=0;e&&(o|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==i&&(o|=n.DEPTH_BUFFER_BIT,this.clearDepth.set(i),this.depthMask.set(!0)),n.clear(o)},ue.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},ue.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},ue.prototype.setColorMode=function(e){t.default$11(e.blendFunction,ce.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)};var he=function(e){function i(t,i,n){var o=this;e.call(this),this.id=t,this.dispatcher=n,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))}),this.on("error",function(){o._sourceErrored=!0}),this._source=rt(t,i,n,this),this._tiles={},this._cache=new Ct(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},i.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},i.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},i.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._tiles)this._tiles[e].upload(t)},i.prototype.getIds=function(){var e=this;return Object.keys(this._tiles).map(Number).sort(function(i,n){var o=e._tiles[i].tileID,r=e._tiles[n].tileID,a=new t.default$1(o.canonical.x,o.canonical.y).rotate(e.transform.angle),s=new t.default$1(r.canonical.x,r.canonical.y).rotate(e.transform.angle);return o.overscaledZ-r.overscaledZ||s.y-a.y||s.x-a.x})},i.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},i.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0,{});return!!e&&this._isIdRenderable(e.tileID.key)},i.prototype._isIdRenderable=function(t){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._resetCache(),this._tiles)this._reloadTile(t,"reloading")},i.prototype._reloadTile=function(t,e){var i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)))},i.prototype._tileLoaded=function(e,i,n,o){if(o)return e.state="errored",void(404!==o.status?this._source.fire(new t.ErrorEvent(o,{tile:e})):this.update(this.transform));e.timeAdded=r.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID})),this.map&&(this.map.painter.tileExtentVAO.vao=null)},i.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),i=0;i<e.length;i++){var n=e[i];if(t.neighboringTiles&&t.neighboringTiles[n]){var o=this.getTileByID(n);r(t,o),r(o,t)}}function r(t,e){t.needsHillshadePrepare=!0;var i=e.tileID.canonical.x-t.tileID.canonical.x,n=e.tileID.canonical.y-t.tileID.canonical.y,o=Math.pow(2,t.tileID.canonical.z),r=e.tileID.key;0===i&&0===n||Math.abs(n)>1||(Math.abs(i)>1&&(1===Math.abs(i+o)?i+=o:1===Math.abs(i-o)&&(i-=o)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,i,n),t.neighboringTiles&&t.neighboringTiles[r]&&(t.neighboringTiles[r].backfilled=!0)))}},i.prototype.getTile=function(t){return this.getTileByID(t.key)},i.prototype.getTileByID=function(t){return this._tiles[t]},i.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},i.prototype._findLoadedChildren=function(t,e,i){var n=!1;for(var o in this._tiles){var r=this._tiles[o];if(!(i[o]||!r.hasData()||r.tileID.overscaledZ<=t.overscaledZ||r.tileID.overscaledZ>e)){var a=Math.pow(2,r.tileID.canonical.z-t.canonical.z);if(Math.floor(r.tileID.canonical.x/a)===t.canonical.x&&Math.floor(r.tileID.canonical.y/a)===t.canonical.y)for(i[o]=r.tileID,n=!0;r&&r.tileID.overscaledZ-1>t.overscaledZ;){var s=r.tileID.scaledTo(r.tileID.overscaledZ-1);if(!s)break;(r=this._tiles[s.key])&&r.hasData()&&(delete i[o],i[s.key]=s)}}}return n},i.prototype.findLoadedParent=function(t,e,i){for(var n=t.overscaledZ-1;n>=e;n--){var o=t.scaledTo(n);if(!o)return;var r=String(o.key),a=this._tiles[r];if(a&&a.hasData())return i[r]=o,a;if(this._cache.has(r))return i[r]=o,this._cache.get(r)}},i.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),i=Math.floor(5*e),n="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(n)},i.prototype.update=function(e){var n=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var o;this.updateCacheSize(e),this._coveredTiles={},this.used?this._source.tileID?o=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)}):(o=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(o=o.filter(function(t){return n._source.hasTile(t)}))):o=[];var a,s=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),l=Math.max(s-i.maxOverzooming,this._source.minzoom),c=Math.max(s+i.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(o,s),h={};if(de(this._source.type))for(var p=Object.keys(u),d=0;d<p.length;d++){var f=p[d],m=u[f],_=n._tiles[f];if(_&&(void 0===_.fadeEndTime||_.fadeEndTime>=r.now())){n._findLoadedChildren(m,c,u)&&(u[f]=m);var g=n.findLoadedParent(m,l,h);g&&n._addTile(g.tileID)}}for(a in h)u[a]||(n._coveredTiles[a]=!0);for(a in h)u[a]=h[a];for(var v=t.keysDifference(this._tiles,u),y=0;y<v.length;y++)n._removeTile(v[y])}},i.prototype._updateRetainedTiles=function(t,e){for(var n={},o={},r=Math.max(e-i.maxOverzooming,this._source.minzoom),a=Math.max(e+i.maxUnderzooming,this._source.minzoom),s=0;s<t.length;s++){var l=t[s],c=this._addTile(l),u=!1;if(c.hasData())n[l.key]=l;else{u=c.wasRequested(),n[l.key]=l;var h=!0;if(e+1>this._source.maxzoom){var p=l.children(this._source.maxzoom)[0],d=this.getTile(p);d&&d.hasData()?n[p.key]=p:h=!1}else{this._findLoadedChildren(l,a,n);for(var f=l.children(this._source.maxzoom),m=0;m<f.length;m++)if(!n[f[m].key]){h=!1;break}}if(!h)for(var _=l.overscaledZ-1;_>=r;--_){var g=l.scaledTo(_);if(o[g.key])break;if(o[g.key]=!0,!(c=this.getTile(g))&&u&&(c=this._addTile(g)),c&&(n[g.key]=g,u=c.wasRequested(),c.hasData()))break}}}return n},i.prototype._addTile=function(e){var i=this._tiles[e.key];if(i)return i;(i=this._cache.getAndRemove(e.key))&&this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i));var n=Boolean(i);return n||(i=new It(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(i,this._tileLoaded.bind(this,i,e.key,i.state))),i?(i.uses++,this._tiles[e.key]=i,n||this._source.fire(new t.Event("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i):null},i.prototype._setTileReloadTimer=function(t,e){var i=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var n=e.getExpiryTimeout();n&&(this._timers[t]=setTimeout(function(){i._reloadTile(t,"expired"),delete i._timers[t]},n))},i.prototype._setCacheInvalidationTimer=function(t,e){var i=this;t in this._cacheTimers&&(clearTimeout(this._cacheTimers[t]),delete this._cacheTimers[t]);var n=e.getExpiryTimeout();n&&(this._cacheTimers[t]=setTimeout(function(){i._cache.remove(t),delete i._cacheTimers[t]},n))},i.prototype._removeTile=function(t){var e=this._tiles[t];if(e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),!(e.uses>0)))if(e.hasData()){e.tileID=e.tileID.wrapped();var i=e.tileID.key;this._cache.add(i,e),this._setCacheInvalidationTimer(i,e)}else e.aborted=!0,this._abortTile(e),this._unloadTile(e)},i.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._resetCache()},i.prototype._resetCache=function(){for(var t in this._cacheTimers)clearTimeout(this._cacheTimers[t]);this._cacheTimers={},this._cache.reset()},i.prototype.tilesIn=function(e,i){for(var n=[],o=this.getIds(),r=1/0,a=1/0,s=-1/0,l=-1/0,c=e[0].zoom,u=0;u<e.length;u++){var h=e[u];r=Math.min(r,h.column),a=Math.min(a,h.row),s=Math.max(s,h.column),l=Math.max(l,h.row)}for(var p=0;p<o.length;p++){var d=this._tiles[o[p]],f=d.tileID,m=Math.pow(2,this.transform.zoom-d.tileID.overscaledZ),_=i*d.queryPadding*t.default$8/d.tileSize/m,g=[pe(f,new t.default$19(r,a,c)),pe(f,new t.default$19(s,l,c))];if(g[0].x-_<t.default$8&&g[0].y-_<t.default$8&&g[1].x+_>=0&&g[1].y+_>=0){for(var v=[],y=0;y<e.length;y++)v.push(pe(f,e[y]));n.push({tile:d,tileID:f,queryGeometry:[v],scale:m})}}return n},i.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map(function(e){return t._tiles[e].tileID}),i=0,n=e;i<n.length;i+=1){var o=n[i];o.posMatrix=t.transform.calculatePosMatrix(o.toUnwrapped())}return e},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(de(this._source.type))for(var t in this._tiles){var e=this._tiles[t];if(void 0!==e.fadeEndTime&&e.fadeEndTime>=r.now())return!0}return!1},i}(t.Evented);function pe(e,i){var n=i.zoomTo(e.canonical.z);return new t.default$1((n.column-(e.canonical.x+e.wrap*Math.pow(2,e.canonical.z)))*t.default$8,(n.row-e.canonical.y)*t.default$8)}function de(t){return"raster"===t||"image"===t||"video"===t}function fe(){return new t.default.Worker(An.workerUrl)}he.maxOverzooming=10,he.maxUnderzooming=3;var me,_e=function(){this.active={}};function ge(e,i){var n={};for(var o in e)"ref"!==o&&(n[o]=e[o]);return t.default$20.forEach(function(t){t in i&&(n[t]=i[t])}),n}function ve(t){t=t.slice();for(var e=Object.create(null),i=0;i<t.length;i++)e[t[i].id]=t[i];for(var n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=ge(t[n],e[t[n].ref]));return t}_e.prototype.acquire=function(t){if(!this.workers){var e=An.workerCount;for(this.workers=[];this.workers.length<e;)this.workers.push(new fe)}return this.active[t]=!0,this.workers.slice()},_e.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)};var ye={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function xe(t,e,i){i.push({command:ye.addSource,args:[t,e[t]]})}function be(t,e,i){e.push({command:ye.removeSource,args:[t]}),i[t]=!0}function we(t,e,i,n){be(t,i,n),xe(t,e,i)}function Ee(e,i,n){var o;for(o in e[n])if(e[n].hasOwnProperty(o)&&"data"!==o&&!t.default$11(e[n][o],i[n][o]))return!1;for(o in i[n])if(i[n].hasOwnProperty(o)&&"data"!==o&&!t.default$11(e[n][o],i[n][o]))return!1;return!0}function Te(e,i,n,o,r,a){var s;for(s in e=e||{},i=i||{},e)e.hasOwnProperty(s)&&(t.default$11(e[s],i[s])||n.push({command:a,args:[o,s,i[s],r]}));for(s in i)i.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.default$11(e[s],i[s])||n.push({command:a,args:[o,s,i[s],r]}))}function Ie(t){return t.id}function Ce(t,e){return t[e.id]=e,t}function Se(e,i){if(!e)return[{command:ye.setStyle,args:[i]}];var n=[];try{if(!t.default$11(e.version,i.version))return[{command:ye.setStyle,args:[i]}];t.default$11(e.center,i.center)||n.push({command:ye.setCenter,args:[i.center]}),t.default$11(e.zoom,i.zoom)||n.push({command:ye.setZoom,args:[i.zoom]}),t.default$11(e.bearing,i.bearing)||n.push({command:ye.setBearing,args:[i.bearing]}),t.default$11(e.pitch,i.pitch)||n.push({command:ye.setPitch,args:[i.pitch]}),t.default$11(e.sprite,i.sprite)||n.push({command:ye.setSprite,args:[i.sprite]}),t.default$11(e.glyphs,i.glyphs)||n.push({command:ye.setGlyphs,args:[i.glyphs]}),t.default$11(e.transition,i.transition)||n.push({command:ye.setTransition,args:[i.transition]}),t.default$11(e.light,i.light)||n.push({command:ye.setLight,args:[i.light]});var o={},r=[];!function(e,i,n,o){var r;for(r in e=e||{},i=i||{},e)e.hasOwnProperty(r)&&(i.hasOwnProperty(r)||be(r,n,o));for(r in i)i.hasOwnProperty(r)&&(e.hasOwnProperty(r)?t.default$11(e[r],i[r])||("geojson"===e[r].type&&"geojson"===i[r].type&&Ee(e,i,r)?n.push({command:ye.setGeoJSONSourceData,args:[r,i[r].data]}):we(r,i,n,o)):xe(r,i,n))}(e.sources,i.sources,r,o);var a=[];e.layers&&e.layers.forEach(function(t){o[t.source]?n.push({command:ye.removeLayer,args:[t.id]}):a.push(t)}),n=n.concat(r),function(e,i,n){e=e||[],i=i||[];var o,r,a,s,l,c,u,h=e.map(Ie),p=i.map(Ie),d=e.reduce(Ce,{}),f=i.reduce(Ce,{}),m=h.slice(),_=Object.create(null);for(o=0,r=0;o<h.length;o++)a=h[o],f.hasOwnProperty(a)?r++:(n.push({command:ye.removeLayer,args:[a]}),m.splice(m.indexOf(a,r),1));for(o=0,r=0;o<p.length;o++)a=p[p.length-1-o],m[m.length-1-o]!==a&&(d.hasOwnProperty(a)?(n.push({command:ye.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-r),1)):r++,c=m[m.length-o],n.push({command:ye.addLayer,args:[f[a],c]}),m.splice(m.length-o,0,a),_[a]=!0);for(o=0;o<p.length;o++)if(s=d[a=p[o]],l=f[a],!_[a]&&!t.default$11(s,l))if(t.default$11(s.source,l.source)&&t.default$11(s["source-layer"],l["source-layer"])&&t.default$11(s.type,l.type)){for(u in Te(s.layout,l.layout,n,a,null,ye.setLayoutProperty),Te(s.paint,l.paint,n,a,null,ye.setPaintProperty),t.default$11(s.filter,l.filter)||n.push({command:ye.setFilter,args:[a,l.filter]}),t.default$11(s.minzoom,l.minzoom)&&t.default$11(s.maxzoom,l.maxzoom)||n.push({command:ye.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?Te(s[u],l[u],n,a,u.slice(6),ye.setPaintProperty):t.default$11(s[u],l[u])||n.push({command:ye.setLayerProperty,args:[a,u,l[u]]}));for(u in l)l.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?Te(s[u],l[u],n,a,u.slice(6),ye.setPaintProperty):t.default$11(s[u],l[u])||n.push({command:ye.setLayerProperty,args:[a,u,l[u]]}))}else n.push({command:ye.removeLayer,args:[a]}),c=m[m.lastIndexOf(a)+1],n.push({command:ye.addLayer,args:[l,c]})}(a,i.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:ye.setStyle,args:[i]}]}return n}function ze(e,i,n){return i*(t.default$8/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}var Ae=t.default$9.layout,Re=function(t,e,i,n){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):n&&i?1:0,this.placed=i};Re.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var De=function(t,e,i,n,o){this.text=new Re(t?t.text:null,e,i,o),this.icon=new Re(t?t.icon:null,e,n,o)};De.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Me=function(t,e,i){this.text=t,this.icon=e,this.skipFade=i},Pe=function(t,e){this.transform=t.clone(),this.collisionIndex=new Et(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e};function Le(t,e,i){t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0)}Pe.prototype.placeLayerTile=function(e,i,n,o){var r=i.getBucket(e);if(r){var a=r.layers[0].layout,s=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),l=i.tileSize/t.default$8,c=this.transform.calculatePosMatrix(i.tileID.toUnwrapped()),u=ut(c,"map"===a.get("text-pitch-alignment"),"map"===a.get("text-rotation-alignment"),this.transform,ze(i,1,this.transform.zoom)),h=ut(c,"map"===a.get("icon-pitch-alignment"),"map"===a.get("icon-rotation-alignment"),this.transform,ze(i,1,this.transform.zoom));this.placeLayerBucket(r,c,u,h,s,l,n,o,i.collisionBoxArray,i.tileID.key,e.source)}},Pe.prototype.placeLayerBucket=function(e,i,n,o,r,a,s,l,c,u,h){for(var p=e.layers[0].layout,d=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom,Ae.properties["text-size"]),f=!e.hasTextData()||p.get("text-optional"),m=!e.hasIconData()||p.get("icon-optional"),_=0,g=e.symbolInstances;_<g.length;_+=1){var v=g[_];if(!l[v.crossTileID]){var y=void 0!==v.feature.text,x=void 0!==v.feature.icon,b=!0,w=null,E=null,T=null;v.collisionArrays||(v.collisionArrays=e.deserializeCollisionBoxes(c,v.textBoxStartIndex,v.textBoxEndIndex,v.iconBoxStartIndex,v.iconBoxEndIndex)),v.collisionArrays.textBox&&(y=(w=this.collisionIndex.placeCollisionBox(v.collisionArrays.textBox,p.get("text-allow-overlap"),a,i)).box.length>0,b=b&&w.offscreen);var I=v.collisionArrays.textCircles;if(I){var C=e.text.placedSymbolArray.get(v.placedTextSymbolIndices[0]),S=t.evaluateSizeForFeature(e.textSizeData,d,C);E=this.collisionIndex.placeCollisionCircles(I,p.get("text-allow-overlap"),r,a,v.key,C,e.lineVertexArray,e.glyphOffsetArray,S,i,n,s,"map"===p.get("text-pitch-alignment")),y=p.get("text-allow-overlap")||E.circles.length>0,b=b&&E.offscreen}v.collisionArrays.iconBox&&(x=(T=this.collisionIndex.placeCollisionBox(v.collisionArrays.iconBox,p.get("icon-allow-overlap"),a,i)).box.length>0,b=b&&T.offscreen),f||m?m?f||(x=x&&y):y=x&&y:x=y=x&&y,y&&w&&this.collisionIndex.insertCollisionBox(w.box,p.get("text-ignore-placement"),u,h,e.bucketInstanceId,v.textBoxStartIndex),x&&T&&this.collisionIndex.insertCollisionBox(T.box,p.get("icon-ignore-placement"),u,h,e.bucketInstanceId,v.iconBoxStartIndex),y&&E&&this.collisionIndex.insertCollisionCircles(E.circles,p.get("text-ignore-placement"),u,h,e.bucketInstanceId,v.textBoxStartIndex),this.placements[v.crossTileID]=new Me(y,x,b||e.justReloaded),l[v.crossTileID]=!0}}e.justReloaded=!1},Pe.prototype.commit=function(t,e){this.commitTime=e;var i=!1,n=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,o=t?t.opacities:{};for(var r in this.placements){var a=this.placements[r],s=o[r];s?(this.opacities[r]=new De(s,n,a.text,a.icon),i=i||a.text!==s.text.placed||a.icon!==s.icon.placed):(this.opacities[r]=new De(null,n,a.text,a.icon,a.skipFade),i=i||a.text||a.icon)}for(var l in o){var c=o[l];if(!this.opacities[l]){var u=new De(c,n,!1,!1);u.isHidden()||(this.opacities[l]=u,i=i||c.text.placed||c.icon.placed)}}i?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},Pe.prototype.updateLayerOpacities=function(t,e){for(var i={},n=0,o=e;n<o.length;n+=1){var r=o[n],a=r.getBucket(t);a&&this.updateBucketOpacities(a,i,r.collisionBoxArray)}},Pe.prototype.updateBucketOpacities=function(t,e,i){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();for(var n=t.layers[0].layout,o=new De(null,0,!1,!1,!0),r=new De(null,0,n.get("text-allow-overlap"),n.get("icon-allow-overlap"),!0),a=0;a<t.symbolInstances.length;a++){var s=t.symbolInstances[a],l=e[s.crossTileID],c=this.opacities[s.crossTileID];l?c=o:c||(c=r,this.opacities[s.crossTileID]=c),e[s.crossTileID]=!0;var u=s.numGlyphVertices>0||s.numVerticalGlyphVertices>0,h=s.numIconVertices>0;if(u){for(var p=Ve(c.text),d=(s.numGlyphVertices+s.numVerticalGlyphVertices)/4,f=0;f<d;f++)t.text.opacityVertexArray.emplaceBack(p);for(var m=0,_=s.placedTextSymbolIndices;m<_.length;m+=1){var g=_[m];t.text.placedSymbolArray.get(g).hidden=c.text.isHidden()}}if(h){for(var v=Ve(c.icon),y=0;y<s.numIconVertices/4;y++)t.icon.opacityVertexArray.emplaceBack(v);t.icon.placedSymbolArray.get(a).hidden=c.icon.isHidden()}s.collisionArrays||(s.collisionArrays=t.deserializeCollisionBoxes(i,s.textBoxStartIndex,s.textBoxEndIndex,s.iconBoxStartIndex,s.iconBoxEndIndex));var x=s.collisionArrays;if(x){x.textBox&&t.hasCollisionBoxData()&&Le(t.collisionBox.collisionVertexArray,c.text.placed,!1),x.iconBox&&t.hasCollisionBoxData()&&Le(t.collisionBox.collisionVertexArray,c.icon.placed,!1);var b=x.textCircles;if(b&&t.hasCollisionCircleData())for(var w=0;w<b.length;w+=5){var E=l||0===b[w+4];Le(t.collisionCircle.collisionVertexArray,c.text.placed,E)}}}t.sortFeatures(this.transform.angle),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},Pe.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},Pe.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},Pe.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},Pe.prototype.setStale=function(){this.stale=!0};var ke=Math.pow(2,25),Be=Math.pow(2,24),Oe=Math.pow(2,17),Fe=Math.pow(2,16),Ne=Math.pow(2,9),Ue=Math.pow(2,8),Ze=Math.pow(2,1);function Ve(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,i=Math.floor(127*t.opacity);return i*ke+e*Be+i*Oe+e*Fe+i*Ne+e*Ue+i*Ze+e}var je=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};je.prototype.continuePlacement=function(t,e,i,n,o){for(;this._currentTileIndex<t.length;){var r=t[this._currentTileIndex];if(e.placeLayerTile(n,r,i,this._seenCrossTileIDs),this._currentTileIndex++,o())return!0}};var $e=function(t,e,i,n,o){this.placement=new Pe(t,o),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=n,this._done=!1};$e.prototype.isDone=function(){return this._done},$e.prototype.continuePlacement=function(t,e,i){for(var n=this,o=r.now(),a=function(){var t=r.now()-o;return!n._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=e[t[n._currentPlacementIndex]],l=n.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(n._inProgressLayer||(n._inProgressLayer=new je),n._inProgressLayer.continuePlacement(i[s.source],n.placement,n._showCollisionBoxes,s,a))return;delete n._inProgressLayer}n._currentPlacementIndex--}this._done=!0},$e.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement};var Ge=512/t.default$8/2,We=function(t,e,i){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(var n=0,o=e;n<o.length;n+=1){var r=o[n],a=r.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:r.crossTileID,coord:this.getScaledCoordinates(r,t)})}};We.prototype.getScaledCoordinates=function(e,i){var n=i.canonical.z-this.tileID.canonical.z,o=Ge/Math.pow(2,n),r=e.anchor;return{x:Math.floor((i.canonical.x*t.default$8+r.x)*o),y:Math.floor((i.canonical.y*t.default$8+r.y)*o)}},We.prototype.findMatches=function(t,e,i){for(var n=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),o=0,r=t;o<r.length;o+=1){var a=r[o];if(!a.crossTileID){var s=this.indexedSymbolInstances[a.key];if(s)for(var l=this.getScaledCoordinates(a,e),c=0,u=s;c<u.length;c+=1){var h=u[c];if(Math.abs(h.coord.x-l.x)<=n&&Math.abs(h.coord.y-l.y)<=n&&!i[h.crossTileID]){i[h.crossTileID]=!0,a.crossTileID=h.crossTileID;break}}}}};var qe=function(){this.maxCrossTileID=0};qe.prototype.generate=function(){return++this.maxCrossTileID};var Xe=function(){this.indexes={},this.usedCrossTileIDs={}};Xe.prototype.addBucket=function(t,e,i){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var n=0,o=e.symbolInstances;n<o.length;n+=1){o[n].crossTileID=0}this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var r=this.usedCrossTileIDs[t.overscaledZ];for(var a in this.indexes){var s=this.indexes[a];if(Number(a)>t.overscaledZ)for(var l in s){var c=s[l];c.tileID.isChildOf(t)&&c.findMatches(e.symbolInstances,t,r)}else{var u=s[t.scaledTo(Number(a)).key];u&&u.findMatches(e.symbolInstances,t,r)}}for(var h=0,p=e.symbolInstances;h<p.length;h+=1){var d=p[h];d.crossTileID||(d.crossTileID=i.generate(),r[d.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new We(t,e.symbolInstances,e.bucketInstanceId),!0},Xe.prototype.removeBucketCrossTileIDs=function(t,e){for(var i in e.indexedSymbolInstances)for(var n=0,o=e.indexedSymbolInstances[i];n<o.length;n+=1){var r=o[n];delete this.usedCrossTileIDs[t][r.crossTileID]}},Xe.prototype.removeStaleBuckets=function(t){var e=!1;for(var i in this.indexes){var n=this.indexes[i];for(var o in n)t[n[o].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,n[o]),delete n[o],e=!0)}return e};var He=function(){this.layerIndexes={},this.crossTileIDs=new qe,this.maxBucketInstanceId=0};He.prototype.addLayer=function(t,e){var i=this.layerIndexes[t.id];void 0===i&&(i=this.layerIndexes[t.id]=new Xe);for(var n=!1,o={},r=0,a=e;r<a.length;r+=1){var s=a[r],l=s.getBucket(t);l&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(s.tileID,l,this.crossTileIDs)&&(n=!0),o[l.bucketInstanceId]=!0)}return i.removeStaleBuckets(o)&&(n=!0),n},He.prototype.pruneUnusedLayers=function(t){var e={};for(var i in t.forEach(function(t){e[t]=!0}),this.layerIndexes)e[i]||delete this.layerIndexes[i]};var Ke=t.pick(ye,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ye=t.pick(ye,["setCenter","setZoom","setBearing","setPitch"]),Je=function(e){function i(n,o){var r=this;void 0===o&&(o={}),e.call(this),this.map=n,this.dispatcher=new $((me||(me=new _e),me),this),this.imageManager=new P,this.glyphManager=new N(n._transformRequest,o.localIdeographFontFamily),this.lineAtlas=new j(256,512),this.crossTileSymbolIndex=new He,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.default$23,this._loaded=!1,this._resetUpdates();var a=this;this._rtlTextPluginCallback=i.registerForPluginAvailability(function(t){for(var e in a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.errorCallback),a.sourceCaches)a.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=r.sourceCaches[t.sourceId];if(e){var i=e.getSource();if(i&&i.vectorLayerIds)for(var n in r._layers){var o=r._layers[n];o.source===i.id&&r._validateLayer(o)}}}})}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.loadURL=function(e,i){var n=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var o="boolean"==typeof i.validate?i.validate:!y(e);e=function(t,e){if(!y(t))return t;var i=C(t);return i.path="/styles/v1"+i.path,v(i,e)}(e,i.accessToken);var r=this.map._transformRequest(e,t.ResourceType.Style);t.getJSON(r,function(e,i){e?n.fire(new t.ErrorEvent(e)):i&&n._load(i,o)})},i.prototype.loadJSON=function(e,i){var n=this;void 0===i&&(i={}),this.fire(new t.Event("dataloading",{dataType:"style"})),r.frame(function(){n._load(e,!1!==i.validate)})},i.prototype._load=function(e,i){var n=this;if(!i||!t.emitValidationErrors(this,t.validateStyle(e))){for(var o in this._loaded=!0,this.stylesheet=e,e.sources)n.addSource(o,e.sources[o],{validate:!1});e.sprite?function(e,i,n){var o,a,s,l=r.devicePixelRatio>1?"@2x":"";function c(){if(s)n(s);else if(o&&a){var e=r.getImageData(a),i={};for(var l in o){var c=o[l],u=c.width,h=c.height,p=c.x,d=c.y,f=c.sdf,m=c.pixelRatio,_=new t.RGBAImage({width:u,height:h});t.RGBAImage.copy(e,_,{x:p,y:d},{x:0,y:0},{width:u,height:h}),i[l]={data:_,pixelRatio:m,sdf:f}}n(null,i)}}t.getJSON(i(w(e,l,".json"),t.ResourceType.SpriteJSON),function(t,e){s||(s=t,o=e,c())}),t.getImage(i(w(e,l,".png"),t.ResourceType.SpriteImage),function(t,e){s||(s=t,a=e,c())})}(e.sprite,this.map._transformRequest,function(e,i){if(e)n.fire(new t.ErrorEvent(e));else if(i)for(var o in i)n.imageManager.addImage(o,i[o]);n.imageManager.setLoaded(!0),n.fire(new t.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var a=ve(this.stylesheet.layers);this._order=a.map(function(t){return t.id}),this._layers={};for(var s=0,l=a;s<l.length;s+=1){var c=l[s];(c=t.default$22(c)).setEventedParent(n,{layer:{id:c.id}}),n._layers[c.id]=c}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new V(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},i.prototype._validateLayer=function(e){var i=this.sourceCaches[e.source];if(i){var n=e.sourceLayer;if(n){var o=i.getSource();("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(n))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+o.id+'" as specified by style layer "'+e.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(e){if(this._loaded){if(this._changed){var i=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);for(var o in(i.length||n.length)&&this._updateWorkerLayers(i,n),this._updatedSources){var r=this._updatedSources[o];"reload"===r?this._reloadSource(o):"clear"===r&&this._clearSource(o)}for(var a in this._updatedPaintProps)this._layers[a].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates(),this.fire(new t.Event("data",{dataType:"style"}))}for(var s in this.sourceCaches)this.sourceCaches[s].used=!1;for(var l=0,c=this._order;l<c.length;l+=1){var u=c[l],h=this._layers[u];h.recalculate(e),!h.isHidden(e.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}this.light.recalculate(e),this.z=e.zoom}},i.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},i.prototype.setState=function(e){var i=this;if(this._checkLoaded(),t.emitValidationErrors(this,t.validateStyle(e)))return!1;(e=t.clone(e)).layers=ve(e.layers);var n=Se(this.serialize(),e).filter(function(t){return!(t.command in Ye)});if(0===n.length)return!1;var o=n.filter(function(t){return!(t.command in Ke)});if(o.length>0)throw new Error("Unimplemented: "+o.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&i[t.command].apply(i,t.args)}),this.stylesheet=e,!0},i.prototype.addImage=function(e,i){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,i),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.getImage=function(t){return this.imageManager.getImage(t)},i.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this.fire(new t.Event("data",{dataType:"style"}))},i.prototype.addSource=function(e,i,n){var o=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!i.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(i).join(", ")+".");if(!(["vector","raster","geojson","video","image","canvas"].indexOf(i.type)>=0)||!this._validate(t.validateStyle.source,"sources."+e,i,null,n)){this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);var r=this.sourceCaches[e]=new he(e,i,this.dispatcher);r.style=this,r.setEventedParent(this,function(){return{isSourceLoaded:o.loaded(),source:r.serialize(),sourceId:e}}),r.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var i in this._layers)if(this._layers[i].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+i+'" is using it.')));var n=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],n.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},i.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},i.prototype.addLayer=function(e,i,n){this._checkLoaded();var o=e.id;if(this.getLayer(o))this.fire(new t.ErrorEvent(new Error('Layer with id "'+o+'" already exists on this map')));else if("object"==typeof e.source&&(this.addSource(o,e.source),e=t.clone(e),e=t.extend(e,{source:o})),!this._validate(t.validateStyle.layer,"layers."+o,e,{arrayIndex:-1},n)){var r=t.default$22(e);this._validateLayer(r),r.setEventedParent(this,{layer:{id:o}});var a=i?this._order.indexOf(i):this._order.length;if(i&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.')));else{if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=r,this._removedLayers[o]&&r.source){var s=this._removedLayers[o];delete this._removedLayers[o],s.type!==r.type?this._updatedSources[r.source]="clear":(this._updatedSources[r.source]="reload",this.sourceCaches[r.source].pause())}this._updateLayer(r)}}},i.prototype.moveLayer=function(e,i){if(this._checkLoaded(),this._changed=!0,this._layers[e]){var n=this._order.indexOf(e);this._order.splice(n,1);var o=i?this._order.indexOf(i):this._order.length;i&&-1===o?this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.'))):(this._order.splice(o,0,e),this._layerOrderChanged=!0)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(e){this._checkLoaded();var i=this._layers[e];if(i){i.setEventedParent(null);var n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e]}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(t){return this._layers[t]},i.prototype.setLayerZoomRange=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);o?o.minzoom===i&&o.maxzoom===n||(null!=i&&(o.minzoom=i),null!=n&&(o.maxzoom=n),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(e,i){this._checkLoaded();var n=this.getLayer(e);if(n){if(!t.default$11(n.filter,i))return null===i||void 0===i?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(t.validateStyle.filter,"layers."+n.id+".filter",i)||(n.filter=t.clone(i),this._updateLayer(n)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(e){return t.clone(this.getLayer(e).filter)},i.prototype.setLayoutProperty=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);o?t.default$11(o.getLayoutProperty(i),n)||(o.setLayoutProperty(i,n),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},i.prototype.setPaintProperty=function(e,i,n){this._checkLoaded();var o=this.getLayer(e);if(o){if(!t.default$11(o.getPaintProperty(i),n)){var r=o._transitionablePaint._values[i].value.isDataDriven();o.setPaintProperty(i,n),(o._transitionablePaint._values[i].value.isDataDriven()||r)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},i.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){var e=this;return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(t){return void 0!==t})},i.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},i.prototype._flattenRenderedFeatures=function(t){for(var e=[],i=this._order.length-1;i>=0;i--)for(var n=this._order[i],o=0,r=t;o<r.length;o+=1){var a=r[o][n];if(a)for(var s=0,l=a;s<l.length;s+=1){var c=l[s];e.push(c)}}return e},i.prototype.queryRenderedFeatures=function(e,i,n){i&&i.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",i.filter);var o={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var r=0,a=i.layers;r<a.length;r+=1){var s=a[r],l=this._layers[s];if(!l)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];o[l.source]=!0}}var c=[];for(var u in this.sourceCaches)if(!i.layers||o[u]){var h=at(this.sourceCaches[u],this._layers,e,i,n,this.placement?this.placement.collisionIndex:null);c.push(h)}return this._flattenRenderedFeatures(c)},i.prototype.querySourceFeatures=function(e,i){i&&i.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",i.filter);var n=this.sourceCaches[e];return n?function(t,e){for(var i=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),n=[],o={},r=0;r<i.length;r++){var a=i[r],s=a.tileID.canonical.key;o[s]||(o[s]=!0,a.querySourceFeatures(n,e))}return n}(n,i):[]},i.prototype.addSourceType=function(t,e,n){return i.getSourceType(t)?n(new Error('A source type called "'+t+'" already exists.')):(i.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(e){this._checkLoaded();var i=this.light.getLight(),n=!1;for(var o in e)if(!t.default$11(e[o],i[o])){n=!0;break}if(n){var a={now:r.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e),this.light.updateTransitions(a)}},i.prototype._validate=function(e,i,n,o,r){return(!r||!1!==r.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({key:i,style:this.serialize(),value:n,styleSpec:t.default$5},o)))},i.prototype._remove=function(){for(var e in t.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[e].clearTiles();this.dispatcher.remove()},i.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},i.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},i.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},i.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},i.prototype._updatePlacement=function(t,e,i){for(var n=!1,o=!1,a={},s=0,l=this._order;s<l.length;s+=1){var c=l[s],u=this._layers[c];if("symbol"===u.type){if(!a[u.source]){var h=this.sourceCaches[u.source];a[u.source]=h.getRenderableIds().map(function(t){return h.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var p=this.crossTileSymbolIndex.addLayer(u,a[u.source]);n=n||p}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var d=this._layerOrderChanged;if((d||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(r.now()))&&(this.pauseablePlacement=new $e(t,this._order,d,e,i),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,a),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,r.now()),o=!0),n&&this.pauseablePlacement.placement.setStale()),o||n)for(var f=0,m=this._order;f<m.length;f+=1){var _=m[f],g=this._layers[_];"symbol"===g.type&&this.placement.updateLayerOpacities(g,a[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(r.now())},i.prototype.getImages=function(t,e,i){this.imageManager.getImages(e.icons,i)},i.prototype.getGlyphs=function(t,e,i){this.glyphManager.getGlyphs(e.stacks,i)},i}(t.Evented);Je.getSourceType=function(t){return ot[t]},Je.setSourceType=function(t,e){ot[t]=e},Je.registerForPluginAvailability=t.registerForPluginAvailability;var Qe=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),ti={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field boxes in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"uniform float u_overscale_factor;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length / u_overscale_factor;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field circles in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - u_maxzoom) * a) where a is an arbitrary value\n    // Here we use a=0.3 which works out to the expression below. see \n    // nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - u_maxzoom) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n\n    // v_normal.y is 0 at the midpoint of the line, -1 at the lower edge, 1 at the upper edge\n    // we clamp the line width outset to be between 0 and half the pattern height plus padding (2.0)\n    // to ensure we don't sample outside the designated symbol on the sprite sheet.\n    // 0.5 is added to shift the component to be bounded between 0 and 1 for interpolation of\n    // the texture coordinate\n    float y_a = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_a.y + 2.0) / 2.0) / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_b.y + 2.0) / 2.0) / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n            0.5 + 0.5 * distance_ratio,\n            0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n            4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n        0.5 + 0.5 * distance_ratio,\n        0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n        4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},ei=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ii=function(t){var e=ti[t],i={};e.fragmentSource=e.fragmentSource.replace(ei,function(t,e,n,o,r){return i[r]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nvarying "+n+" "+o+" "+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n"}),e.vertexSource=e.vertexSource.replace(ei,function(t,e,n,o,r){var a="float"===o?"vec2":"vec4";return i[r]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float a_"+r+"_t;\nattribute "+n+" "+a+" a_"+r+";\nvarying "+n+" "+o+" "+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = unpack_mix_"+a+"(a_"+r+", a_"+r+"_t);\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float a_"+r+"_t;\nattribute "+n+" "+a+" a_"+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = unpack_mix_"+a+"(a_"+r+", a_"+r+"_t);\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n"})};for(var ni in ti)ii(ni);var oi=ti,ri=function(t,e,i,n){var o=t.gl;this.program=o.createProgram();var a=i.defines().concat("#define DEVICE_PIXEL_RATIO "+r.devicePixelRatio.toFixed(1));n&&a.push("#define OVERDRAW_INSPECTOR;");var s=a.concat(oi.prelude.fragmentSource,e.fragmentSource).join("\n"),l=a.concat(oi.prelude.vertexSource,e.vertexSource).join("\n"),c=o.createShader(o.FRAGMENT_SHADER);o.shaderSource(c,s),o.compileShader(c),o.attachShader(this.program,c);var u=o.createShader(o.VERTEX_SHADER);o.shaderSource(u,l),o.compileShader(u),o.attachShader(this.program,u);for(var h=i.layoutAttributes||[],p=0;p<h.length;p++)o.bindAttribLocation(this.program,p,h[p].name);o.linkProgram(this.program),this.numAttributes=o.getProgramParameter(this.program,o.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var d=0;d<this.numAttributes;d++){var f=o.getActiveAttrib(this.program,d);f&&(this.attributes[f.name]=o.getAttribLocation(this.program,f.name))}for(var m=o.getProgramParameter(this.program,o.ACTIVE_UNIFORMS),_=0;_<m;_++){var g=o.getActiveUniform(this.program,_);g&&(this.uniforms[g.name]=o.getUniformLocation(this.program,g.name))}};function ai(e,i,n,o,r){for(var a=0;a<n.length;a++){var s=n[a];if(o.isLessThan(s.tileID))break;if(i.key===s.tileID.key)return;if(s.tileID.isChildOf(i)){for(var l=i.children(1/0),c=0;c<l.length;c++){ai(e,l[c],n.slice(a),o,r)}return}}var u=i.overscaledZ-e.overscaledZ,h=new t.CanonicalTileID(u,i.canonical.x-(e.canonical.x<<u),i.canonical.y-(e.canonical.y<<u));r[h.key]=r[h.key]||h}function si(t,e,i,n,o){var r=t.context,a=r.gl,s=o?t.useProgram("collisionCircle"):t.useProgram("collisionBox");r.setDepthMode(se.disabled),r.setStencilMode(le.disabled),r.setColorMode(t.colorModeForRenderPass());for(var l=0;l<n.length;l++){var c=n[l],u=e.getTile(c),h=u.getBucket(i);if(h){var p=o?h.collisionCircle:h.collisionBox;if(p){a.uniformMatrix4fv(s.uniforms.u_matrix,!1,c.posMatrix),o||r.lineWidth.set(1),a.uniform1f(s.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance);var d=ze(u,1,t.transform.zoom),f=Math.pow(2,t.transform.zoom-u.tileID.overscaledZ);a.uniform1f(s.uniforms.u_pixels_to_tile_units,d),a.uniform2f(s.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits[0]/(d*f),t.transform.pixelsToGLUnits[1]/(d*f)),a.uniform1f(s.uniforms.u_overscale_factor,u.tileID.overscaleFactor()),s.draw(r,o?a.TRIANGLES:a.LINES,i.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,null,p.collisionVertexBuffer,null)}}}}ri.prototype.draw=function(t,e,i,n,o,r,a,s,l){for(var c,u=t.gl,h=(c={},c[u.LINES]=2,c[u.TRIANGLES]=3,c)[e],p=0,d=r.get();p<d.length;p+=1){var f=d[p],m=f.vaos||(f.vaos={});(m[i]||(m[i]=new tt)).bind(t,this,n,a?a.getPaintVertexBuffers():[],o,f.vertexOffset,s,l),u.drawElements(e,f.primitiveLength*h,u.UNSIGNED_SHORT,f.primitiveOffset*h*2)}};var li=t.mat4.identity(new Float32Array(16)),ci=t.default$9.layout;function ui(t,e,i,n,o,r,a,s,l,c){var u,h=t.context,p=h.gl,d=t.transform,f="map"===s,m="map"===l,_=f&&"line"===i.layout.get("symbol-placement"),g=f&&!m&&!_,v=m;h.setDepthMode(v?t.depthModeForSublayer(0,se.ReadOnly):se.disabled);for(var y=0,x=n;y<x.length;y+=1){var b=x[y],w=e.getTile(b),E=w.getBucket(i);if(E){var T=o?E.text:E.icon;if(T&&T.segments.get().length){var I=T.programConfigurations.get(i.id),C=o||E.sdfIcons,S=o?E.textSizeData:E.iconSizeData;if(u||(u=t.useProgram(C?"symbolSDF":"symbolIcon",I),I.setUniforms(t.context,u,i.paint,{zoom:t.transform.zoom}),hi(u,t,i,o,g,m,S)),h.activeTexture.set(p.TEXTURE0),p.uniform1i(u.uniforms.u_texture,0),o)w.glyphAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),p.uniform2fv(u.uniforms.u_texsize,w.glyphAtlasTexture.size);else{var z=1!==i.layout.get("icon-size").constantOr(0)||E.iconsNeedLinear,A=m||0!==d.pitch;w.iconAtlasTexture.bind(C||t.options.rotating||t.options.zooming||z||A?p.LINEAR:p.NEAREST,p.CLAMP_TO_EDGE),p.uniform2fv(u.uniforms.u_texsize,w.iconAtlasTexture.size)}p.uniformMatrix4fv(u.uniforms.u_matrix,!1,t.translatePosMatrix(b.posMatrix,w,r,a));var R=ze(w,1,t.transform.zoom),D=ut(b.posMatrix,m,f,t.transform,R),M=ht(b.posMatrix,m,f,t.transform,R);p.uniformMatrix4fv(u.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(M,w,r,a,!0)),_?(p.uniformMatrix4fv(u.uniforms.u_label_plane_matrix,!1,li),ft(E,b.posMatrix,t,o,D,M,m,c)):p.uniformMatrix4fv(u.uniforms.u_label_plane_matrix,!1,D),p.uniform1f(u.uniforms.u_fade_change,t.options.fadeDuration?t.symbolFadeChange:1),pi(u,I,t,i,w,T,o,C,m)}}}}function hi(e,i,n,o,r,a,s){var l=i.context.gl,c=i.transform;l.uniform1i(e.uniforms.u_pitch_with_map,a?1:0),l.uniform1f(e.uniforms.u_is_text,o?1:0),l.uniform1f(e.uniforms.u_pitch,c.pitch/360*2*Math.PI);var u="constant"===s.functionType||"source"===s.functionType,h="constant"===s.functionType||"camera"===s.functionType;l.uniform1i(e.uniforms.u_is_size_zoom_constant,u?1:0),l.uniform1i(e.uniforms.u_is_size_feature_constant,h?1:0),l.uniform1f(e.uniforms.u_camera_to_center_distance,c.cameraToCenterDistance);var p=t.evaluateSizeForZoom(s,c.zoom,ci.properties[o?"text-size":"icon-size"]);void 0!==p.uSizeT&&l.uniform1f(e.uniforms.u_size_t,p.uSizeT),void 0!==p.uSize&&l.uniform1f(e.uniforms.u_size,p.uSize),l.uniform1f(e.uniforms.u_aspect_ratio,c.width/c.height),l.uniform1i(e.uniforms.u_rotate_symbol,r?1:0)}function pi(t,e,i,n,o,r,a,s,l){var c=i.context,u=c.gl,h=i.transform;if(s){var p=0!==n.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),d=l?Math.cos(h._pitch)*h.cameraToCenterDistance:1;u.uniform1f(t.uniforms.u_gamma_scale,d),p&&(u.uniform1f(t.uniforms.u_is_halo,1),di(r,n,c,t)),u.uniform1f(t.uniforms.u_is_halo,0)}di(r,n,c,t)}function di(t,e,i,n){n.draw(i,i.gl.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function fi(t,e,i,n,o,a,s,l,c){var u,h,p,d,f=e.context,m=f.gl,_=o.paint.get("line-dasharray"),g=o.paint.get("line-pattern");if(l||c){var v=1/ze(i,1,e.transform.tileZoom);if(_){u=e.lineAtlas.getDash(_.from,"round"===o.layout.get("line-cap")),h=e.lineAtlas.getDash(_.to,"round"===o.layout.get("line-cap"));var y=u.width*_.fromScale,x=h.width*_.toScale;m.uniform2f(t.uniforms.u_patternscale_a,v/y,-u.height/2),m.uniform2f(t.uniforms.u_patternscale_b,v/x,-h.height/2),m.uniform1f(t.uniforms.u_sdfgamma,e.lineAtlas.width/(256*Math.min(y,x)*r.devicePixelRatio)/2)}else if(g){if(p=e.imageManager.getPattern(g.from),d=e.imageManager.getPattern(g.to),!p||!d)return;m.uniform2f(t.uniforms.u_pattern_size_a,p.displaySize[0]*g.fromScale/v,p.displaySize[1]),m.uniform2f(t.uniforms.u_pattern_size_b,d.displaySize[0]*g.toScale/v,d.displaySize[1]);var b=e.imageManager.getPixelSize(),w=b.width,E=b.height;m.uniform2fv(t.uniforms.u_texsize,[w,E])}m.uniform2f(t.uniforms.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}l&&(_?(m.uniform1i(t.uniforms.u_image,0),f.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(f),m.uniform1f(t.uniforms.u_tex_y_a,u.y),m.uniform1f(t.uniforms.u_tex_y_b,h.y),m.uniform1f(t.uniforms.u_mix,_.t)):g&&(m.uniform1i(t.uniforms.u_image,0),f.activeTexture.set(m.TEXTURE0),e.imageManager.bind(f),m.uniform2fv(t.uniforms.u_pattern_tl_a,p.tl),m.uniform2fv(t.uniforms.u_pattern_br_a,p.br),m.uniform2fv(t.uniforms.u_pattern_tl_b,d.tl),m.uniform2fv(t.uniforms.u_pattern_br_b,d.br),m.uniform1f(t.uniforms.u_fade,g.t))),f.setStencilMode(e.stencilModeForClipping(a));var T=e.translatePosMatrix(a.posMatrix,i,o.paint.get("line-translate"),o.paint.get("line-translate-anchor"));m.uniformMatrix4fv(t.uniforms.u_matrix,!1,T),m.uniform1f(t.uniforms.u_ratio,1/ze(i,1,e.transform.zoom)),t.draw(f,m.TRIANGLES,o.id,n.layoutVertexBuffer,n.indexBuffer,n.segments,s)}var mi=function(t,e){if(!t)return!1;var i=e.imageManager.getPattern(t.from),n=e.imageManager.getPattern(t.to);return!i||!n},_i=function(t,e,i){var n=e.context,o=n.gl,r=e.imageManager.getPattern(t.from),a=e.imageManager.getPattern(t.to);o.uniform1i(i.uniforms.u_image,0),o.uniform2fv(i.uniforms.u_pattern_tl_a,r.tl),o.uniform2fv(i.uniforms.u_pattern_br_a,r.br),o.uniform2fv(i.uniforms.u_pattern_tl_b,a.tl),o.uniform2fv(i.uniforms.u_pattern_br_b,a.br);var s=e.imageManager.getPixelSize(),l=s.width,c=s.height;o.uniform2fv(i.uniforms.u_texsize,[l,c]),o.uniform1f(i.uniforms.u_mix,t.t),o.uniform2fv(i.uniforms.u_pattern_size_a,r.displaySize),o.uniform2fv(i.uniforms.u_pattern_size_b,a.displaySize),o.uniform1f(i.uniforms.u_scale_a,t.fromScale),o.uniform1f(i.uniforms.u_scale_b,t.toScale),n.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context)},gi=function(t,e,i){var n=e.context.gl;n.uniform1f(i.uniforms.u_tile_units_to_pixels,1/ze(t,1,e.transform.tileZoom));var o=Math.pow(2,t.tileID.overscaledZ),r=t.tileSize*Math.pow(2,e.transform.tileZoom)/o,a=r*(t.tileID.canonical.x+t.tileID.wrap*o),s=r*t.tileID.canonical.y;n.uniform2f(i.uniforms.u_pixel_coord_upper,a>>16,s>>16),n.uniform2f(i.uniforms.u_pixel_coord_lower,65535&a,65535&s)};function vi(t,e,i,n,o){if(!mi(i.paint.get("fill-pattern"),t))for(var r=!0,a=0,s=n;a<s.length;a+=1){var l=s[a],c=e.getTile(l),u=c.getBucket(i);u&&(t.context.setStencilMode(t.stencilModeForClipping(l)),o(t,e,i,c,l,u,r),r=!1)}}function yi(t,e,i,n,o,r,a){var s=t.context.gl,l=r.programConfigurations.get(i.id);bi("fill",i.paint.get("fill-pattern"),t,l,i,n,o,a).draw(t.context,s.TRIANGLES,i.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,l)}function xi(t,e,i,n,o,r,a){var s=t.context.gl,l=r.programConfigurations.get(i.id),c=bi("fillOutline",i.getPaintProperty("fill-outline-color")?null:i.paint.get("fill-pattern"),t,l,i,n,o,a);s.uniform2f(c.uniforms.u_world,s.drawingBufferWidth,s.drawingBufferHeight),c.draw(t.context,s.LINES,i.id,r.layoutVertexBuffer,r.indexBuffer2,r.segments2,l)}function bi(t,e,i,n,o,r,a,s){var l,c=i.context.program.get();return e?(l=i.useProgram(t+"Pattern",n),(s||l.program!==c)&&(n.setUniforms(i.context,l,o.paint,{zoom:i.transform.zoom}),_i(e,i,l)),gi(r,i,l)):(l=i.useProgram(t,n),(s||l.program!==c)&&n.setUniforms(i.context,l,o.paint,{zoom:i.transform.zoom})),i.context.gl.uniformMatrix4fv(l.uniforms.u_matrix,!1,i.translatePosMatrix(a.posMatrix,r,o.paint.get("fill-translate"),o.paint.get("fill-translate-anchor"))),l}var wi=t.default$10.mat3,Ei=t.default$10.mat4,Ti=t.default$10.vec3;function Ii(t,e,i,n,o,r,a){var s=t.context,l=s.gl,c=i.paint.get("fill-extrusion-pattern"),u=t.context.program.get(),h=r.programConfigurations.get(i.id),p=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",h);if((a||p.program!==u)&&h.setUniforms(s,p,i.paint,{zoom:t.transform.zoom}),c){if(mi(c,t))return;_i(c,t,p),gi(n,t,p),l.uniform1f(p.uniforms.u_height_factor,-Math.pow(2,o.overscaledZ)/n.tileSize/8)}t.context.gl.uniformMatrix4fv(p.uniforms.u_matrix,!1,t.translatePosMatrix(o.posMatrix,n,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor"))),function(t,e){var i=e.context.gl,n=e.style.light,o=n.properties.get("position"),r=[o.x,o.y,o.z],a=wi.create();"viewport"===n.properties.get("anchor")&&wi.fromRotation(a,-e.transform.angle);Ti.transformMat3(r,r,a);var s=n.properties.get("color");i.uniform3fv(t.uniforms.u_lightpos,r),i.uniform1f(t.uniforms.u_lightintensity,n.properties.get("intensity")),i.uniform3f(t.uniforms.u_lightcolor,s.r,s.g,s.b)}(p,t),p.draw(s,l.TRIANGLES,i.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,h)}function Ci(e,i,n){var o=e.context,r=o.gl,a=i.fbo;if(a){var s=e.useProgram("hillshade"),l=e.transform.calculatePosMatrix(i.tileID.toUnwrapped(),!0);!function(t,e,i){var n=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(n-=e.transform.angle),e.context.gl.uniform2f(t.uniforms.u_light,i.paint.get("hillshade-exaggeration"),n)}(s,e,n);var c=function(e,i){var n=i.toCoordinate(),o=new t.default$19(n.column,n.row+1,n.zoom);return[e.transform.coordinateLocation(n).lat,e.transform.coordinateLocation(o).lat]}(e,i.tileID);o.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),r.uniformMatrix4fv(s.uniforms.u_matrix,!1,l),r.uniform2fv(s.uniforms.u_latrange,c),r.uniform1i(s.uniforms.u_image,0);var u=n.paint.get("hillshade-shadow-color");r.uniform4f(s.uniforms.u_shadow,u.r,u.g,u.b,u.a);var h=n.paint.get("hillshade-highlight-color");r.uniform4f(s.uniforms.u_highlight,h.r,h.g,h.b,h.a);var p=n.paint.get("hillshade-accent-color");if(r.uniform4f(s.uniforms.u_accent,p.r,p.g,p.b,p.a),i.maskedBoundsBuffer&&i.maskedIndexBuffer&&i.segments)s.draw(o,r.TRIANGLES,n.id,i.maskedBoundsBuffer,i.maskedIndexBuffer,i.segments);else{var d=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(o,s,d,[]),r.drawArrays(r.TRIANGLE_STRIP,0,d.length)}}}function Si(e,i,n){var o=e.context,r=o.gl;if(i.dem&&i.dem.level){var a=i.dem.level.dim,s=i.dem.getPixels();if(o.activeTexture.set(r.TEXTURE1),o.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||e.getTileTexture(i.tileSize),i.demTexture){var l=i.demTexture;l.update(s,!1),l.bind(r.NEAREST,r.CLAMP_TO_EDGE)}else i.demTexture=new M(o,s,r.RGBA,!1),i.demTexture.bind(r.NEAREST,r.CLAMP_TO_EDGE);o.activeTexture.set(r.TEXTURE0);var c=i.fbo;if(!c){var u=new M(o,{width:a,height:a,data:null},r.RGBA);u.bind(r.LINEAR,r.CLAMP_TO_EDGE),(c=i.fbo=o.createFramebuffer(a,a)).colorAttachment.set(u.texture)}o.bindFramebuffer.set(c.framebuffer),o.viewport.set([0,0,a,a]);var h=t.mat4.create();t.mat4.ortho(h,0,t.default$8,-t.default$8,0,0,1),t.mat4.translate(h,h,[0,-t.default$8,0]);var p=e.useProgram("hillshadePrepare");r.uniformMatrix4fv(p.uniforms.u_matrix,!1,h),r.uniform1f(p.uniforms.u_zoom,i.tileID.overscaledZ),r.uniform2fv(p.uniforms.u_dimension,[2*a,2*a]),r.uniform1i(p.uniforms.u_image,1),r.uniform1f(p.uniforms.u_maxzoom,n);var d=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(o,p,d,[]),r.drawArrays(r.TRIANGLE_STRIP,0,d.length),i.needsHillshadePrepare=!1}}function zi(e,i,n,o,a){var s=o.paint.get("raster-fade-duration");if(s>0){var l=r.now(),c=(l-e.timeAdded)/s,u=i?(l-i.timeAdded)/s:-1,h=n.getSource(),p=a.coveringZoomLevel({tileSize:h.tileSize,roundZoom:h.roundZoom}),d=!i||Math.abs(i.tileID.overscaledZ-p)>Math.abs(e.tileID.overscaledZ-p),f=d&&e.refreshedUponExpiration?1:t.clamp(d?c:1-u,0,1);return e.refreshedUponExpiration&&c>=1&&(e.refreshedUponExpiration=!1),i?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}function Ai(e,i,n){var o=e.context,a=o.gl;o.lineWidth.set(1*r.devicePixelRatio);var s=n.posMatrix,l=e.useProgram("debug");o.setDepthMode(se.disabled),o.setStencilMode(le.disabled),o.setColorMode(e.colorModeForRenderPass()),a.uniformMatrix4fv(l.uniforms.u_matrix,!1,s),a.uniform4f(l.uniforms.u_color,1,0,0,1),e.debugVAO.bind(o,l,e.debugBuffer,[]),a.drawArrays(a.LINE_STRIP,0,e.debugBuffer.length);for(var c=function(t,e,i,n){n=n||1;var o,r,a,s,l,c,u,h,p=[];for(o=0,r=t.length;o<r;o++)if(l=Ri[t[o]]){for(h=null,a=0,s=l[1].length;a<s;a+=2)-1===l[1][a]&&-1===l[1][a+1]?h=null:(c=e+l[1][a]*n,u=i-l[1][a+1]*n,h&&p.push(h.x,h.y,c,u),h={x:c,y:u});e+=l[0]*n}return p}(n.toString(),50,200,5),u=new t.PosArray,h=0;h<c.length;h+=2)u.emplaceBack(c[h],c[h+1]);var p=o.createVertexBuffer(u,Qe.members);(new tt).bind(o,l,p,[]),a.uniform4f(l.uniforms.u_color,1,1,1,1);for(var d=i.getTile(n).tileSize,f=t.default$8/(Math.pow(2,e.transform.zoom-n.overscaledZ)*d),m=[[-1,-1],[-1,1],[1,-1],[1,1]],_=0;_<m.length;_++){var g=m[_];a.uniformMatrix4fv(l.uniforms.u_matrix,!1,t.mat4.translate([],s,[f*g[0],f*g[1],0])),a.drawArrays(a.LINES,0,p.length)}a.uniform4f(l.uniforms.u_color,0,0,0,1),a.uniformMatrix4fv(l.uniforms.u_matrix,!1,s),a.drawArrays(a.LINES,0,p.length)}var Ri={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};var Di={symbol:function(t,e,i,n){if("translucent"===t.renderPass){var o=t.context;o.setStencilMode(le.disabled),o.setColorMode(t.colorModeForRenderPass()),0!==i.paint.get("icon-opacity").constantOr(1)&&ui(t,e,i,n,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright")),0!==i.paint.get("text-opacity").constantOr(1)&&ui(t,e,i,n,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright")),e.map.showCollisionBoxes&&function(t,e,i,n){si(t,e,i,n,!1),si(t,e,i,n,!0)}(t,e,i,n)}},circle:function(t,e,i,n){if("translucent"===t.renderPass){var o=i.paint.get("circle-opacity"),r=i.paint.get("circle-stroke-width"),a=i.paint.get("circle-stroke-opacity");if(0!==o.constantOr(1)||0!==r.constantOr(1)&&0!==a.constantOr(1)){var s=t.context,l=s.gl;s.setDepthMode(t.depthModeForSublayer(0,se.ReadOnly)),s.setStencilMode(le.disabled),s.setColorMode(t.colorModeForRenderPass());for(var c=!0,u=0;u<n.length;u++){var h=n[u],p=e.getTile(h),d=p.getBucket(i);if(d){var f=t.context.program.get(),m=d.programConfigurations.get(i.id),_=t.useProgram("circle",m);if((c||_.program!==f)&&(m.setUniforms(s,_,i.paint,{zoom:t.transform.zoom}),c=!1),l.uniform1f(_.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),l.uniform1i(_.uniforms.u_scale_with_map,"map"===i.paint.get("circle-pitch-scale")?1:0),"map"===i.paint.get("circle-pitch-alignment")){l.uniform1i(_.uniforms.u_pitch_with_map,1);var g=ze(p,1,t.transform.zoom);l.uniform2f(_.uniforms.u_extrude_scale,g,g)}else l.uniform1i(_.uniforms.u_pitch_with_map,0),l.uniform2fv(_.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits);l.uniformMatrix4fv(_.uniforms.u_matrix,!1,t.translatePosMatrix(h.posMatrix,p,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor"))),_.draw(s,l.TRIANGLES,i.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,m)}}}}},heatmap:function(e,i,n,o){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var r=e.context,a=r.gl;r.setDepthMode(e.depthModeForSublayer(0,se.ReadOnly)),r.setStencilMode(le.disabled),function(t,e,i){var n=t.gl;t.activeTexture.set(n.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var o=i.heatmapFbo;if(o)n.bindTexture(n.TEXTURE_2D,o.colorAttachment.get()),t.bindFramebuffer.set(o.framebuffer);else{var r=n.createTexture();n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),o=i.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,i,n,o){var r=e.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,i.width/4,i.height/4,0,r.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),o.colorAttachment.set(n),e.extTextureHalfFloat&&r.checkFramebufferStatus(r.FRAMEBUFFER)!==r.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,o.colorAttachment.setDirty(),t(e,i,n,o))}(t,e,r,o)}}(r,e,n),r.clear({color:t.default$6.transparent}),r.setColorMode(new ce([a.ONE,a.ONE],t.default$6.transparent,[!0,!0,!0,!0]));for(var s=!0,l=0;l<o.length;l++){var c=o[l];if(!i.hasRenderableParent(c)){var u=i.getTile(c),h=u.getBucket(n);if(h){var p=e.context.program.get(),d=h.programConfigurations.get(n.id),f=e.useProgram("heatmap",d),m=e.transform.zoom;(s||f.program!==p)&&(d.setUniforms(e.context,f,n.paint,{zoom:m}),s=!1),a.uniform1f(f.uniforms.u_extrude_scale,ze(u,1,m)),a.uniform1f(f.uniforms.u_intensity,n.paint.get("heatmap-intensity")),a.uniformMatrix4fv(f.uniforms.u_matrix,!1,c.posMatrix),f.draw(r,a.TRIANGLES,n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,d)}}}r.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,i){var n=e.context,o=n.gl,r=i.heatmapFbo;if(r){n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.colorAttachment.get()),n.activeTexture.set(o.TEXTURE1);var a=i.colorRampTexture;a||(a=i.colorRampTexture=new M(n,i.colorRamp,o.RGBA)),a.bind(o.LINEAR,o.CLAMP_TO_EDGE),n.setDepthMode(se.disabled);var s=e.useProgram("heatmapTexture"),l=i.paint.get("heatmap-opacity");o.uniform1f(s.uniforms.u_opacity,l),o.uniform1i(s.uniforms.u_image,0),o.uniform1i(s.uniforms.u_color_ramp,1);var c=t.mat4.create();t.mat4.ortho(c,0,e.width,e.height,0,0,1),o.uniformMatrix4fv(s.uniforms.u_matrix,!1,c),o.uniform2f(s.uniforms.u_world,o.drawingBufferWidth,o.drawingBufferHeight),e.viewportVAO.bind(e.context,s,e.viewportBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}(e,n))},line:function(t,e,i,n){if("translucent"===t.renderPass&&0!==i.paint.get("line-opacity").constantOr(1)){var o=t.context;o.setDepthMode(t.depthModeForSublayer(0,se.ReadOnly)),o.setColorMode(t.colorModeForRenderPass());for(var r,a=i.paint.get("line-dasharray")?"lineSDF":i.paint.get("line-pattern")?"linePattern":"line",s=!0,l=0,c=n;l<c.length;l+=1){var u=c[l],h=e.getTile(u),p=h.getBucket(i);if(p){var d=p.programConfigurations.get(i.id),f=t.context.program.get(),m=t.useProgram(a,d),_=s||m.program!==f,g=r!==h.tileID.overscaledZ;_&&d.setUniforms(t.context,m,i.paint,{zoom:t.transform.zoom}),fi(m,t,h,p,i,u,d,_,g),r=h.tileID.overscaledZ,s=!1}}}},fill:function(e,i,n,o){var r=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.context;s.setColorMode(e.colorModeForRenderPass());var l=n.paint.get("fill-pattern")||1!==r.constantOr(t.default$6.transparent).a||1!==a.constantOr(0)?"translucent":"opaque";e.renderPass===l&&(s.setDepthMode(e.depthModeForSublayer(1,"opaque"===e.renderPass?se.ReadWrite:se.ReadOnly)),vi(e,i,n,o,yi)),"translucent"===e.renderPass&&n.paint.get("fill-antialias")&&(s.lineWidth.set(2),s.setDepthMode(e.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,se.ReadOnly)),vi(e,i,n,o,xi))}},"fill-extrusion":function(e,i,n,o){if(0!==n.paint.get("fill-extrusion-opacity"))if("offscreen"===e.renderPass){!function(e,i){var n=e.context,o=n.gl,r=i.viewportFrame;if(e.depthRboNeedsClear&&e.setupOffscreenDepthRenderbuffer(),!r){var a=new M(n,{width:e.width,height:e.height,data:null},o.RGBA);a.bind(o.LINEAR,o.CLAMP_TO_EDGE),(r=i.viewportFrame=n.createFramebuffer(e.width,e.height)).colorAttachment.set(a.texture)}n.bindFramebuffer.set(r.framebuffer),r.depthAttachment.set(e.depthRbo),e.depthRboNeedsClear&&(n.clear({depth:1}),e.depthRboNeedsClear=!1),n.clear({color:t.default$6.transparent}),n.setStencilMode(le.disabled),n.setDepthMode(new se(o.LEQUAL,se.ReadWrite,[0,1])),n.setColorMode(e.colorModeForRenderPass())}(e,n);for(var r=!0,a=0,s=o;a<s.length;a+=1){var l=s[a],c=i.getTile(l),u=c.getBucket(n);u&&(Ii(e,0,n,c,l,u,r),r=!1)}}else"translucent"===e.renderPass&&function(t,e){var i=e.viewportFrame;if(i){var n=t.context,o=n.gl,r=t.useProgram("extrusionTexture");n.setStencilMode(le.disabled),n.setDepthMode(se.disabled),n.setColorMode(t.colorModeForRenderPass()),n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i.colorAttachment.get()),o.uniform1f(r.uniforms.u_opacity,e.paint.get("fill-extrusion-opacity")),o.uniform1i(r.uniforms.u_image,0);var a=Ei.create();Ei.ortho(a,0,t.width,t.height,0,0,1),o.uniformMatrix4fv(r.uniforms.u_matrix,!1,a),o.uniform2f(r.uniforms.u_world,o.drawingBufferWidth,o.drawingBufferHeight),t.viewportVAO.bind(n,r,t.viewportBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}(e,n)},hillshade:function(t,e,i,n){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var o=t.context,r=e.getSource().maxzoom;o.setDepthMode(t.depthModeForSublayer(0,se.ReadOnly)),o.setStencilMode(le.disabled),o.setColorMode(t.colorModeForRenderPass());for(var a=0,s=n;a<s.length;a+=1){var l=s[a],c=e.getTile(l);c.needsHillshadePrepare&&"offscreen"===t.renderPass?Si(t,c,r):"translucent"===t.renderPass&&Ci(t,c,i)}o.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,i,n){if("translucent"===t.renderPass&&0!==i.paint.get("raster-opacity")){var o,r,a=t.context,s=a.gl,l=e.getSource(),c=t.useProgram("raster");a.setStencilMode(le.disabled),a.setColorMode(t.colorModeForRenderPass()),s.uniform1f(c.uniforms.u_brightness_low,i.paint.get("raster-brightness-min")),s.uniform1f(c.uniforms.u_brightness_high,i.paint.get("raster-brightness-max")),s.uniform1f(c.uniforms.u_saturation_factor,(o=i.paint.get("raster-saturation"))>0?1-1/(1.001-o):-o),s.uniform1f(c.uniforms.u_contrast_factor,(r=i.paint.get("raster-contrast"))>0?1/(1-r):1+r),s.uniform3fv(c.uniforms.u_spin_weights,function(t){t*=Math.PI/180;var e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}(i.paint.get("raster-hue-rotate"))),s.uniform1f(c.uniforms.u_buffer_scale,1),s.uniform1i(c.uniforms.u_image0,0),s.uniform1i(c.uniforms.u_image1,1);for(var u=n.length&&n[0].overscaledZ,h=0,p=n;h<p.length;h+=1){var d=p[h];a.setDepthMode(t.depthModeForSublayer(d.overscaledZ-u,1===i.paint.get("raster-opacity")?se.ReadWrite:se.ReadOnly,s.LESS));var f=e.getTile(d),m=t.transform.calculatePosMatrix(d.toUnwrapped(),!0);f.registerFadeDuration(i.paint.get("raster-fade-duration")),s.uniformMatrix4fv(c.uniforms.u_matrix,!1,m);var _=e.findLoadedParent(d,0,{}),g=zi(f,_,e,i,t.transform),v=void 0,y=void 0;if(a.activeTexture.set(s.TEXTURE0),f.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.activeTexture.set(s.TEXTURE1),_?(_.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),v=Math.pow(2,_.tileID.overscaledZ-f.tileID.overscaledZ),y=[f.tileID.canonical.x*v%1,f.tileID.canonical.y*v%1]):f.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),s.uniform2fv(c.uniforms.u_tl_parent,y||[0,0]),s.uniform1f(c.uniforms.u_scale_parent,v||1),s.uniform1f(c.uniforms.u_fade_t,g.mix),s.uniform1f(c.uniforms.u_opacity,g.opacity*i.paint.get("raster-opacity")),l instanceof et){var x=l.boundsBuffer;l.boundsVAO.bind(a,c,x,[]),s.drawArrays(s.TRIANGLE_STRIP,0,x.length)}else if(f.maskedBoundsBuffer&&f.maskedIndexBuffer&&f.segments)c.draw(a,s.TRIANGLES,i.id,f.maskedBoundsBuffer,f.maskedIndexBuffer,f.segments);else{var b=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(a,c,b,[]),s.drawArrays(s.TRIANGLE_STRIP,0,b.length)}}}},background:function(t,e,i){var n=i.paint.get("background-color"),o=i.paint.get("background-opacity");if(0!==o){var r=t.context,a=r.gl,s=t.transform,l=s.tileSize,c=i.paint.get("background-pattern"),u=c||1!==n.a||1!==o?"translucent":"opaque";if(t.renderPass===u){var h;if(r.setStencilMode(le.disabled),r.setDepthMode(t.depthModeForSublayer(0,"opaque"===u?se.ReadWrite:se.ReadOnly)),r.setColorMode(t.colorModeForRenderPass()),c){if(mi(c,t))return;h=t.useProgram("backgroundPattern"),_i(c,t,h),t.tileExtentPatternVAO.bind(r,h,t.tileExtentBuffer,[])}else h=t.useProgram("background"),a.uniform4fv(h.uniforms.u_color,[n.r,n.g,n.b,n.a]),t.tileExtentVAO.bind(r,h,t.tileExtentBuffer,[]);a.uniform1f(h.uniforms.u_opacity,o);for(var p=0,d=s.coveringTiles({tileSize:l});p<d.length;p+=1){var f=d[p];c&&gi({tileID:f,tileSize:l},t,h),a.uniformMatrix4fv(h.uniforms.u_matrix,!1,t.transform.calculatePosMatrix(f.toUnwrapped())),a.drawArrays(a.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}},debug:function(t,e,i){for(var n=0;n<i.length;n++)Ai(t,e,i[n])}},Mi=function(e,i){this.context=new ue(e),this.transform=i,this._tileTextures={},this.setup(),this.numSublayers=he.maxUnderzooming+he.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.default$24,this.crossTileSymbolIndex=new He};function Pi(t,e){if(t.row>e.row){var i=t;t=e,e=i}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function Li(t,e,i,n,o){var r=Math.max(i,Math.floor(e.y0)),a=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,c=e.dx/e.dy,u=t.dx>0,h=e.dx<0,p=r;p<a;p++){var d=l*Math.max(0,Math.min(t.dy,p+u-t.y0))+t.x0,f=c*Math.max(0,Math.min(e.dy,p+h-e.y0))+e.x0;o(Math.floor(f),Math.ceil(d),p)}}function ki(t,e,i,n,o,r){var a,s=Pi(t,e),l=Pi(e,i),c=Pi(i,t);s.dy>l.dy&&(a=s,s=l,l=a),s.dy>c.dy&&(a=s,s=c,c=a),l.dy>c.dy&&(a=l,l=c,c=a),s.dy&&Li(c,s,n,o,r),l.dy&&Li(c,l,n,o,r)}Mi.prototype.resize=function(t,e){var i=this.context.gl;if(this.width=t*r.devicePixelRatio,this.height=e*r.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var n=0,o=this.style._order;n<o.length;n+=1){var a=o[n];this.style._layers[a].resize()}this.depthRbo&&(i.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},Mi.prototype.setup=function(){var e=this.context,i=new t.PosArray;i.emplaceBack(0,0),i.emplaceBack(t.default$8,0),i.emplaceBack(0,t.default$8),i.emplaceBack(t.default$8,t.default$8),this.tileExtentBuffer=e.createVertexBuffer(i,Qe.members),this.tileExtentVAO=new tt,this.tileExtentPatternVAO=new tt;var n=new t.PosArray;n.emplaceBack(0,0),n.emplaceBack(t.default$8,0),n.emplaceBack(t.default$8,t.default$8),n.emplaceBack(0,t.default$8),n.emplaceBack(0,0),this.debugBuffer=e.createVertexBuffer(n,Qe.members),this.debugVAO=new tt;var o=new t.RasterBoundsArray;o.emplaceBack(0,0,0,0),o.emplaceBack(t.default$8,0,t.default$8,0),o.emplaceBack(0,t.default$8,0,t.default$8),o.emplaceBack(t.default$8,t.default$8,t.default$8,t.default$8),this.rasterBoundsBuffer=e.createVertexBuffer(o,Q.members),this.rasterBoundsVAO=new tt;var r=new t.PosArray;r.emplaceBack(0,0),r.emplaceBack(1,0),r.emplaceBack(0,1),r.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(r,Qe.members),this.viewportVAO=new tt},Mi.prototype.clearStencil=function(){var e=this.context,i=e.gl;e.setColorMode(ce.disabled),e.setDepthMode(se.disabled),e.setStencilMode(new le({func:i.ALWAYS,mask:0},0,255,i.ZERO,i.ZERO,i.ZERO));var n=t.mat4.create();t.mat4.ortho(n,0,this.width,this.height,0,0,1),t.mat4.scale(n,n,[i.drawingBufferWidth,i.drawingBufferHeight,0]);var o=this.useProgram("clippingMask");i.uniformMatrix4fv(o.uniforms.u_matrix,!1,n),this.viewportVAO.bind(e,o,this.viewportBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,4)},Mi.prototype._renderTileClippingMasks=function(t){var e=this.context,i=e.gl;e.setColorMode(ce.disabled),e.setDepthMode(se.disabled);var n=1;this._tileClippingMaskIDs={};for(var o=0,r=t;o<r.length;o+=1){var a=r[o],s=this._tileClippingMaskIDs[a.key]=n++;e.setStencilMode(new le({func:i.ALWAYS,mask:0},s,255,i.KEEP,i.KEEP,i.REPLACE));var l=this.useProgram("clippingMask");i.uniformMatrix4fv(l.uniforms.u_matrix,!1,a.posMatrix),this.tileExtentVAO.bind(this.context,l,this.tileExtentBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,this.tileExtentBuffer.length)}},Mi.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new le({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},Mi.prototype.colorModeForRenderPass=function(){var e=this.context.gl;if(this._showOverdrawInspector){return new ce([e.CONSTANT_COLOR,e.ONE],new t.default$6(1/8,1/8,1/8,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?ce.unblended:ce.alphaBlended},Mi.prototype.depthModeForSublayer=function(t,e,i){var n=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,o=n-1+this.depthRange;return new se(i||this.context.gl.LEQUAL,e,[o,n])},Mi.prototype.render=function(e,i){var n=this;for(var o in this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(r.now()),e.sourceCaches){var a=n.style.sourceCaches[o];a.used&&a.prepare(n.context)}var s=this.style._order,l=t.filterObject(this.style.sourceCaches,function(t){return"raster"===t.getSource().type||"raster-dem"===t.getSource().type}),c=function(e){var i=l[e];!function(e,i){for(var n=e.sort(function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0}),o=0;o<n.length;o++){var r={},a=n[o],s=n.slice(o+1);ai(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),r),a.setMask(r,i)}}(i.getVisibleCoordinates().map(function(t){return i.getTile(t)}),n.context)};for(var u in l)c(u);this.renderPass="offscreen";var h,p=[];this.depthRboNeedsClear=!0;for(var d=0;d<s.length;d++){var f=n.style._layers[s[d]];f.hasOffscreenPass()&&!f.isHidden(n.transform.zoom)&&(f.source!==(h&&h.id)&&(p=[],(h=n.style.sourceCaches[f.source])&&(p=h.getVisibleCoordinates()).reverse()),p.length&&n.renderLayer(n,h,f,p))}this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?t.default$6.black:t.default$6.transparent,depth:1}),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var m,_=[];for(this.currentLayer=s.length-1,this.currentLayer;this.currentLayer>=0;this.currentLayer--){var g=n.style._layers[s[n.currentLayer]];g.source!==(m&&m.id)&&(_=[],(m=n.style.sourceCaches[g.source])&&(n.clearStencil(),_=m.getVisibleCoordinates(),m.getSource().isTileClipped&&n._renderTileClippingMasks(_))),n.renderLayer(n,m,g,_)}this.renderPass="translucent";var v,y=[];for(this.currentLayer=0,this.currentLayer;this.currentLayer<s.length;this.currentLayer++){var x=n.style._layers[s[n.currentLayer]];x.source!==(v&&v.id)&&(y=[],(v=n.style.sourceCaches[x.source])&&(n.clearStencil(),y=v.getVisibleCoordinates(),v.getSource().isTileClipped&&n._renderTileClippingMasks(y)),y.reverse()),n.renderLayer(n,v,x,y)}if(this.options.showTileBoundaries){var b=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];b&&Di.debug(this,b,b.getVisibleCoordinates())}},Mi.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},Mi.prototype.renderLayer=function(t,e,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||n.length)&&(this.id=i.id,Di[i.type](t,e,i,n))},Mi.prototype.translatePosMatrix=function(e,i,n,o,r){if(!n[0]&&!n[1])return e;var a=r?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l]}var c=[r?n[0]:ze(i,n[0],this.transform.zoom),r?n[1]:ze(i,n[1],this.transform.zoom),0],u=new Float32Array(16);return t.mat4.translate(u,e,c),u},Mi.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},Mi.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},Mi.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var i=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[i]||(this.cache[i]=new ri(this.context,oi[t],e,this._showOverdrawInspector)),this.cache[i]},Mi.prototype.useProgram=function(t,e){var i=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.context.program.set(i.program),i};var Bi=t.default$10.vec4,Oi=t.default$10.mat4,Fi=t.default$10.mat2,Ni=function(t,e,i){this.tileSize=512,this._renderWorldCopies=void 0===i||i,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new W(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},Ui={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},x:{configurable:!0},y:{configurable:!0},point:{configurable:!0}};Ni.prototype.clone=function(){var t=new Ni(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},Ui.minZoom.get=function(){return this._minZoom},Ui.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},Ui.maxZoom.get=function(){return this._maxZoom},Ui.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},Ui.renderWorldCopies.get=function(){return this._renderWorldCopies},Ui.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},Ui.worldSize.get=function(){return this.tileSize*this.scale},Ui.centerPoint.get=function(){return this.size._div(2)},Ui.size.get=function(){return new t.default$1(this.width,this.height)},Ui.bearing.get=function(){return-this.angle/Math.PI*180},Ui.bearing.set=function(e){var i=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=Fi.create(),Fi.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Ui.pitch.get=function(){return this._pitch/Math.PI*180},Ui.pitch.set=function(e){var i=t.clamp(e,0,60)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())},Ui.fov.get=function(){return this._fov/Math.PI*180},Ui.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},Ui.zoom.get=function(){return this._zoom},Ui.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},Ui.center.get=function(){return this._center},Ui.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Ni.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},Ni.prototype.getVisibleUnwrappedCoordinates=function(e){var i=this.pointCoordinate(new t.default$1(0,0),0),n=this.pointCoordinate(new t.default$1(this.width,0),0),o=Math.floor(i.column),r=Math.floor(n.column),a=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var s=o;s<=r;s++)0!==s&&a.push(new t.UnwrappedTileID(s,e));return a},Ni.prototype.coveringTiles=function(e){var i=this.coveringZoomLevel(e),n=i;if(void 0!==e.minzoom&&i<e.minzoom)return[];void 0!==e.maxzoom&&i>e.maxzoom&&(i=e.maxzoom);var o=this.pointCoordinate(this.centerPoint,i),r=new t.default$1(o.column-.5,o.row-.5);return function(e,i,n,o){void 0===o&&(o=!0);var r=1<<e,a={};function s(i,s,l){var c,u,h,p;if(l>=0&&l<=r)for(c=i;c<s;c++)u=Math.floor(c/r),h=(c%r+r)%r,0!==u&&!0!==o||(p=new t.OverscaledTileID(n,u,e,h,l),a[p.key]=p)}return ki(i[0],i[1],i[2],0,r,s),ki(i[2],i[3],i[0],0,r,s),Object.keys(a).map(function(t){return a[t]})}(i,[this.pointCoordinate(new t.default$1(0,0),i),this.pointCoordinate(new t.default$1(this.width,0),i),this.pointCoordinate(new t.default$1(this.width,this.height),i),this.pointCoordinate(new t.default$1(0,this.height),i)],e.reparseOverscaled?n:i,this._renderWorldCopies).sort(function(t,e){return r.dist(t.canonical)-r.dist(e.canonical)})},Ni.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},Ui.unmodified.get=function(){return this._unmodified},Ni.prototype.zoomScale=function(t){return Math.pow(2,t)},Ni.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},Ni.prototype.project=function(e){return new t.default$1(this.lngX(e.lng),this.latY(e.lat))},Ni.prototype.unproject=function(t){return new W(this.xLng(t.x),this.yLat(t.y))},Ui.x.get=function(){return this.lngX(this.center.lng)},Ui.y.get=function(){return this.latY(this.center.lat)},Ui.point.get=function(){return new t.default$1(this.x,this.y)},Ni.prototype.lngX=function(t){return(180+t)*this.worldSize/360},Ni.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},Ni.prototype.xLng=function(t){return 360*t/this.worldSize-180},Ni.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},Ni.prototype.setLocationAtPoint=function(t,e){var i=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(i)),this._renderWorldCopies&&(this.center=this.center.wrap())},Ni.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},Ni.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},Ni.prototype.locationCoordinate=function(e){return new t.default$19(this.lngX(e.lng)/this.tileSize,this.latY(e.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},Ni.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new W(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},Ni.prototype.pointCoordinate=function(e,i){void 0===i&&(i=this.tileZoom);var n=[e.x,e.y,0,1],o=[e.x,e.y,1,1];Bi.transformMat4(n,n,this.pixelMatrixInverse),Bi.transformMat4(o,o,this.pixelMatrixInverse);var r=n[3],a=o[3],s=n[0]/r,l=o[0]/a,c=n[1]/r,u=o[1]/a,h=n[2]/r,p=o[2]/a,d=h===p?0:(0-h)/(p-h);return new t.default$19(t.number(s,l,d)/this.tileSize,t.number(c,u,d)/this.tileSize,this.zoom)._zoomTo(i)},Ni.prototype.coordinatePoint=function(e){var i=e.zoomTo(this.zoom),n=[i.column*this.tileSize,i.row*this.tileSize,0,1];return Bi.transformMat4(n,n,this.pixelMatrix),new t.default$1(n[0]/n[3],n[1]/n[3])},Ni.prototype.calculatePosMatrix=function(e,i){void 0===i&&(i=!1);var n=e.key,o=i?this._alignedPosMatrixCache:this._posMatrixCache;if(o[n])return o[n];var r=e.canonical,a=this.worldSize/this.zoomScale(r.z),s=r.x+Math.pow(2,r.z)*e.wrap,l=Oi.identity(new Float64Array(16));return Oi.translate(l,l,[s*a,r.y*a,0]),Oi.scale(l,l,[a/t.default$8,a/t.default$8,1]),Oi.multiply(l,i?this.alignedProjMatrix:this.projMatrix,l),o[n]=new Float32Array(l),o[n]},Ni.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,i,n,o,r=-90,a=90,s=-180,l=180,c=this.size,u=this._unmodified;if(this.latRange){var h=this.latRange;r=this.latY(h[1]),e=(a=this.latY(h[0]))-r<c.y?c.y/(a-r):0}if(this.lngRange){var p=this.lngRange;s=this.lngX(p[0]),i=(l=this.lngX(p[1]))-s<c.x?c.x/(l-s):0}var d=Math.max(i||0,e||0);if(d)return this.center=this.unproject(new t.default$1(i?(l+s)/2:this.x,e?(a+r)/2:this.y)),this.zoom+=this.scaleZoom(d),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var f=this.y,m=c.y/2;f-m<r&&(o=r+m),f+m>a&&(o=a-m)}if(this.lngRange){var _=this.x,g=c.x/2;_-g<s&&(n=s+g),_+g>l&&(n=l-g)}void 0===n&&void 0===o||(this.center=this.unproject(new t.default$1(void 0!==n?n:this.x,void 0!==o?o:this.y))),this._unmodified=u,this._constraining=!1}},Ni.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,i=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),n=this.x,o=this.y,r=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),a=new Float64Array(16);Oi.perspective(a,this._fov,this.width/this.height,1,r),Oi.scale(a,a,[1,-1,1]),Oi.translate(a,a,[0,0,-this.cameraToCenterDistance]),Oi.rotateX(a,a,this._pitch),Oi.rotateZ(a,a,this.angle),Oi.translate(a,a,[-n,-o,0]);var s=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));Oi.scale(a,a,[1,1,s,1]),this.projMatrix=a;var l=this.width%2/2,c=this.height%2/2,u=Math.cos(this.angle),h=Math.sin(this.angle),p=n-Math.round(n)+u*l+h*c,d=o-Math.round(o)+u*c+h*l,f=new Float64Array(a);if(Oi.translate(f,f,[p>.5?p-1:p,d>.5?d-1:d,0]),this.alignedProjMatrix=f,a=Oi.create(),Oi.scale(a,a,[this.width/2,-this.height/2,1]),Oi.translate(a,a,[1,-1,0]),this.pixelMatrix=Oi.multiply(new Float64Array(16),a,this.projMatrix),!(a=Oi.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=a,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Ni.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.default$1(0,0)).zoomTo(this.zoom),i=[e.column*this.tileSize,e.row*this.tileSize,0,1];return Bi.transformMat4(i,i,this.pixelMatrix)[3]/this.cameraToCenterDistance},Object.defineProperties(Ni.prototype,Ui);var Zi=function(){var e,i,n,o,r;t.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(e=this._updateHashUnthrottled.bind(this),i=300,n=!1,o=0,r=function(){o=0,n&&(e(),o=setTimeout(r,i),n=!1)},function(){return n=!0,o||r(),o})};Zi.prototype.addTo=function(e){return this._map=e,t.default.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Zi.prototype.remove=function(){return t.default.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},Zi.prototype.getHashString=function(t){var e=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,n=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,n),r=Math.round(e.lng*o)/o,a=Math.round(e.lat*o)/o,s=this._map.getBearing(),l=this._map.getPitch(),c="";return c+=t?"#/"+r+"/"+a+"/"+i:"#"+i+"/"+a+"/"+r,(s||l)&&(c+="/"+Math.round(10*s)/10),l&&(c+="/"+Math.round(l)),c},Zi.prototype._onHashChange=function(){var e=t.default.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},Zi.prototype._updateHashUnthrottled=function(){var e=this.getHashString();t.default.history.replaceState(t.default.history.state,"",e)};var Vi=function(e){function i(i,n,o,r){void 0===r&&(r={});var a=s.mousePos(n.getCanvasContainer(),o),l=n.unproject(a);e.call(this,i,t.extend({point:a,lngLat:l,originalEvent:o},r)),this._defaultPrevented=!1}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var n={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,n),i}(t.Event),ji=function(e){function i(i,n,o){var r=s.touchPos(n.getCanvasContainer(),o),a=r.map(function(t){return n.unproject(t)}),l=r.reduce(function(t,e,i,n){return t.add(e.div(n.length))},new t.default$1(0,0)),c=n.unproject(l);e.call(this,i,{points:r,point:l,lngLats:a,lngLat:c,originalEvent:o}),this._defaultPrevented=!1}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var n={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,n),i}(t.Event),$i=function(t){function e(e,i,n){t.call(this,e,{originalEvent:n}),this._defaultPrevented=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,i),e}(t.Event),Gi=function(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Gi.prototype.isEnabled=function(){return!!this._enabled},Gi.prototype.isActive=function(){return!!this._active},Gi.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},Gi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Gi.prototype.onWheel=function(e){if(this.isEnabled()){var i=e.deltaMode===t.default.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,n=r.now(),o=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==i&&i%4.000244140625==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(o*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this.isActive()||this._start(e)),e.preventDefault()}},Gi.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},Gi.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e})),this._finishTimeout&&clearTimeout(this._finishTimeout);var i=s.mousePos(this._el,e);this._around=W.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(i)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},Gi.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var i=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,o=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==o&&(o=1/o);var a="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(a*o))),"wheel"===this._type&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var s=!1;if("wheel"===this._type){var l=Math.min((r.now()-this._lastWheelEventTime)/200,1),c=this._easing(l);i.zoom=t.number(this._startZoom,this._targetZoom,c),l<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):s=!0}else i.zoom=this._targetZoom,s=!0;i.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),s&&(this._active=!1,this._finishTimeout=setTimeout(function(){e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom},200))}},Gi.prototype._smoothOutEasing=function(e){var i=t.ease;if(this._prevEase){var n=this._prevEase,o=(r.now()-n.start)/n.duration,a=n.easing(o+.01)-n.easing(o),s=.27/Math.sqrt(a*a+1e-4)*.01,l=Math.sqrt(.0729-s*s);i=t.bezier(s,l,.25,1)}return this._prevEase={start:r.now(),duration:e,easing:i},i};var Wi=function(e){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};Wi.prototype.isEnabled=function(){return!!this._enabled},Wi.prototype.isActive=function(){return!!this._active},Wi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Wi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Wi.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.default.document.addEventListener("mousemove",this._onMouseMove,!1),t.default.document.addEventListener("keydown",this._onKeyDown,!1),t.default.document.addEventListener("mouseup",this._onMouseUp,!1),s.disableDrag(),this._startPos=s.mousePos(this._el,e),this._active=!0)},Wi.prototype._onMouseMove=function(t){var e=this._startPos,i=s.mousePos(this._el,t);this._box||(this._box=s.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var n=Math.min(e.x,i.x),o=Math.max(e.x,i.x),r=Math.min(e.y,i.y),a=Math.max(e.y,i.y);s.setTransform(this._box,"translate("+n+"px,"+r+"px)"),this._box.style.width=o-n+"px",this._box.style.height=a-r+"px"},Wi.prototype._onMouseUp=function(e){if(0===e.button){var i=this._startPos,n=s.mousePos(this._el,e),o=(new q).extend(this._map.unproject(i)).extend(this._map.unproject(n));this._finish(),s.suppressClick(),i.x===n.x&&i.y===n.y?this._fireEvent("boxzoomcancel",e):this._map.fitBounds(o,{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e,boxZoomBounds:o}))}},Wi.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},Wi.prototype._finish=function(){this._active=!1,t.default.document.removeEventListener("mousemove",this._onMouseMove,!1),t.default.document.removeEventListener("keydown",this._onKeyDown,!1),t.default.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(s.remove(this._box),this._box=null),s.enableDrag()},Wi.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,{originalEvent:i}))};var qi=t.bezier(0,0,.25,1),Xi=function(e,i){this._map=e,this._el=i.element||e.getCanvasContainer(),this._state="disabled",this._button=i.button||"right",this._bearingSnap=i.bearingSnap||0,this._pitchWithRotate=!1!==i.pitchWithRotate,t.bindAll(["_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};Xi.prototype.isEnabled=function(){return"disabled"!==this._state},Xi.prototype.isActive=function(){return"active"===this._state},Xi.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},Xi.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Xi.prototype.onMouseDown=function(e){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=s.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==s.mouseButton(e))return;this._eventButton=0}s.disableDrag(),t.default.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.default.document.addEventListener("mouseup",this._onMouseUp),t.default.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[r.now(),this._map.getBearing()]],this._previousPos=s.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},Xi.prototype._onMouseMove=function(t){this._lastMoveEvent=t,this._pos=s.mousePos(this._el,t),"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame))},Xi.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform,i=this._previousPos,n=this._pos,o=.8*(i.x-n.x),a=-.5*(i.y-n.y),s=e.bearing-o,l=e.pitch-a,c=this._inertia,u=c[c.length-1];this._drainInertiaBuffer(),c.push([r.now(),this._map._normalizeBearing(s,u[1])]),e.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.pitch=l),this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._previousPos=this._pos}},Xi.prototype._onMouseUp=function(t){if(s.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",s.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},Xi.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},Xi.prototype._unbind=function(){t.default.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.default.document.removeEventListener("mouseup",this._onMouseUp),t.default.removeEventListener("blur",this._onBlur),s.enableDrag()},Xi.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._previousPos},Xi.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var i=this._map,n=i.getBearing(),o=this._inertia,r=function(){Math.abs(n)<e._bearingSnap?i.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(o.length<2)r();else{var a=o[0],s=o[o.length-1],l=o[o.length-2],c=i._normalizeBearing(n,l[1]),u=s[1]-a[1],h=u<0?-1:1,p=(s[0]-a[0])/1e3;if(0!==u&&0!==p){var d=Math.abs(u*(.25/p));d>180&&(d=180);var f=d/180;c+=h*d*(f/2),Math.abs(i._normalizeBearing(c,0))<this._bearingSnap&&(c=i._normalizeBearing(0,c)),i.rotateTo(c,{duration:1e3*f,easing:qi,noMoveStart:!0},{originalEvent:t})}else r()}},Xi.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},Xi.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=r.now();t.length>0&&e-t[0][0]>160;)t.shift()};var Hi=t.bezier(0,0,.3,1),Ki=function(e){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};Ki.prototype.isEnabled=function(){return"disabled"!==this._state},Ki.prototype.isActive=function(){return"active"===this._state},Ki.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},Ki.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Ki.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==s.mouseButton(e)||(s.addEventListener(t.default.document,"mousemove",this._onMove,{capture:!0}),s.addEventListener(t.default.document,"mouseup",this._onMouseUp),this._start(e)))},Ki.prototype.onTouchStart=function(e){"enabled"===this._state&&(e.touches.length>1||(s.addEventListener(t.default.document,"touchmove",this._onMove,{capture:!0,passive:!1}),s.addEventListener(t.default.document,"touchend",this._onTouchEnd),this._start(e)))},Ki.prototype._start=function(e){t.default.addEventListener("blur",this._onBlur),this._state="pending",this._previousPos=s.mousePos(this._el,e),this._inertia=[[r.now(),this._previousPos]]},Ki.prototype._onMove=function(t){this._lastMoveEvent=t,t.preventDefault(),this._pos=s.mousePos(this._el,t),this._drainInertiaBuffer(),this._inertia.push([r.now(),this._pos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",t),this._fireEvent("movestart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame))},Ki.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._previousPos),this._pos),this._fireEvent("drag",t),this._fireEvent("move",t),this._previousPos=this._pos,delete this._lastMoveEvent}},Ki.prototype._onMouseUp=function(t){if(0===s.mouseButton(t))switch(this._state){case"active":this._state="enabled",s.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},Ki.prototype._onTouchEnd=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},Ki.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},Ki.prototype._unbind=function(){s.removeEventListener(t.default.document,"touchmove",this._onMove,{capture:!0,passive:!1}),s.removeEventListener(t.default.document,"touchend",this._onTouchEnd),s.removeEventListener(t.default.document,"mousemove",this._onMove,{capture:!0}),s.removeEventListener(t.default.document,"mouseup",this._onMouseUp),s.removeEventListener(t.default,"blur",this._onBlur)},Ki.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._previousPos,delete this._pos},Ki.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var i=e[e.length-1],n=e[0],o=i[1].sub(n[1]),r=(i[0]-n[0])/1e3;if(0===r||i[1].equals(n[1]))this._fireEvent("moveend",t);else{var a=o.mult(.3/r),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var l=s/750,c=a.mult(-l/2);this._map.panBy(c,{duration:1e3*l,easing:Hi,noMoveStart:!0},{originalEvent:t})}}},Ki.prototype._fireEvent=function(e,i){return this._map.fire(new t.Event(e,i?{originalEvent:i}:{}))},Ki.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=r.now();t.length>0&&e-t[0][0]>160;)t.shift()};var Yi=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};function Ji(t){return t*(2-t)}Yi.prototype.isEnabled=function(){return!!this._enabled},Yi.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},Yi.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},Yi.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,i=0,n=0,o=0,r=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?n=1:(t.preventDefault(),r=-1);break;case 40:t.shiftKey?n=-1:(r=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),l={duration:300,delayEndEvents:500,easing:Ji,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*i,pitch:a.getPitch()+10*n,offset:[100*-o,100*-r],center:a.getCenter()};a.easeTo(l,{originalEvent:t})}};var Qi=function(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};Qi.prototype.isEnabled=function(){return!!this._enabled},Qi.prototype.isActive=function(){return!!this._active},Qi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Qi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Qi.prototype.onTouchStart=function(t){var e=this;this.isEnabled()&&(t.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(t)):this._tapped=setTimeout(function(){e._tapped=null},300)))},Qi.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},Qi.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},Qi.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var tn=t.bezier(0,0,.15,1),en=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};en.prototype.isEnabled=function(){return!!this._enabled},en.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},en.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},en.prototype.disableRotation=function(){this._rotationDisabled=!0},en.prototype.enableRotation=function(){this._rotationDisabled=!1},en.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var i=s.mousePos(this._el,e.touches[0]),n=s.mousePos(this._el,e.touches[1]);this._startVec=i.sub(n),this._gestureIntent=void 0,this._inertia=[],s.addEventListener(t.default.document,"touchmove",this._onMove,{passive:!1}),s.addEventListener(t.default.document,"touchend",this._onEnd)}},en.prototype._getTouchEventData=function(t){var e=s.mousePos(this._el,t.touches[0]),i=s.mousePos(this._el,t.touches[1]),n=e.sub(i);return{vec:n,center:e.add(i).div(2),scale:n.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*n.angleWith(this._startVec)/Math.PI}},en.prototype._onMove=function(e){if(2===e.touches.length){var i=this._getTouchEventData(e),n=i.vec,o=i.scale,r=i.bearing;if(!this._gestureIntent){var a=Math.abs(1-o)>.15;Math.abs(r)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=n)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},en.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var i=this._map.transform;this._startScale||(this._startScale=i.scale,this._startBearing=i.bearing);var n=this._getTouchEventData(this._lastTouchEvent),o=n.center,a=n.bearing,s=n.scale,l=i.pointLocation(o),c=i.locationPoint(l);"rotate"===e&&(i.bearing=this._startBearing+a),i.zoom=i.scaleZoom(this._startScale*s),i.setLocationAtPoint(l,c),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([r.now(),s,o])}},en.prototype._onEnd=function(e){s.removeEventListener(t.default.document,"touchmove",this._onMove,{passive:!1}),s.removeEventListener(t.default.document,"touchend",this._onEnd);var i=this._gestureIntent,n=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,i){this._map.fire(new t.Event(i+"end",{originalEvent:e})),this._drainInertiaBuffer();var o=this._inertia,r=this._map;if(o.length<2)r.snapToNorth({},{originalEvent:e});else{var a=o[o.length-1],l=o[0],c=r.transform.scaleZoom(n*a[1]),u=r.transform.scaleZoom(n*l[1]),h=c-u,p=(a[0]-l[0])/1e3,d=a[2];if(0!==p&&c!==u){var f=.15*h/p;Math.abs(f)>2.5&&(f=f>0?2.5:-2.5);var m=1e3*Math.abs(f/(12*.15)),_=c+f*m/2e3;_<0&&(_=0),r.easeTo({zoom:_,duration:m,easing:tn,around:this._aroundCenter?r.getCenter():r.unproject(d),noMoveStart:!0},{originalEvent:e})}else r.snapToNorth({},{originalEvent:e})}}},en.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=r.now();t.length>2&&e-t[0][0]>160;)t.shift()};var nn={scrollZoom:Gi,boxZoom:Wi,dragRotate:Xi,dragPan:Ki,keyboard:Yi,doubleClickZoom:Qi,touchZoomRotate:en};var on=function(e){function i(i,n){e.call(this),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=n.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCenter=function(){return this.transform.center},i.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},i.prototype.panBy=function(e,i,n){return e=t.default$1.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},i),n)},i.prototype.panTo=function(e,i,n){return this.easeTo(t.extend({center:e},i),n)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},i.prototype.zoomTo=function(e,i,n){return this.easeTo(t.extend({zoom:e},i),n)},i.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},i.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},i.prototype.rotateTo=function(e,i,n){return this.easeTo(t.extend({bearing:e},i),n)},i.prototype.resetNorth=function(e,i){return this.rotateTo(0,t.extend({duration:1e3},e),i),this},i.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},i.prototype.fitBounds=function(e,i,n){if("number"==typeof(i=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}if(!t.default$11(Object.keys(i.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"]))return t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;e=q.convert(e);var r=[(i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2],a=Math.min(i.padding.right,i.padding.left),s=Math.min(i.padding.top,i.padding.bottom);i.offset=[i.offset[0]+r[0],i.offset[1]+r[1]];var l=t.default$1.convert(i.offset),c=this.transform,u=c.project(e.getNorthWest()),h=c.project(e.getSouthEast()),p=h.sub(u),d=(c.width-2*a-2*Math.abs(l.x))/p.x,f=(c.height-2*s-2*Math.abs(l.y))/p.y;return f<0||d<0?(t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(i.center=c.unproject(u.add(h).div(2)),i.zoom=Math.min(c.scaleZoom(c.scale*Math.min(d,f)),i.maxZoom),i.bearing=0,i.linear?this.easeTo(i,n):this.flyTo(i,n))},i.prototype.jumpTo=function(e,i){this.stop();var n=this.transform,o=!1,r=!1,a=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(o=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=W.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(r=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(a=!0,n.pitch=+e.pitch),this.fire(new t.Event("movestart",i)).fire(new t.Event("move",i)),o&&this.fire(new t.Event("zoomstart",i)).fire(new t.Event("zoom",i)).fire(new t.Event("zoomend",i)),r&&this.fire(new t.Event("rotatestart",i)).fire(new t.Event("rotate",i)).fire(new t.Event("rotateend",i)),a&&this.fire(new t.Event("pitchstart",i)).fire(new t.Event("pitch",i)).fire(new t.Event("pitchend",i)),this.fire(new t.Event("moveend",i))},i.prototype.easeTo=function(e,i){var n=this;this.stop(),!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate&&(e.duration=0);var o=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?+e.zoom:r,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,u="pitch"in e?+e.pitch:s,h=o.centerPoint.add(t.default$1.convert(e.offset)),p=o.pointLocation(h),d=W.convert(e.center||p);this._normalizeCenter(d);var f,m,_=o.project(p),g=o.project(d).sub(_),v=o.zoomScale(l-r);return e.around&&(f=W.convert(e.around),m=o.locationPoint(f)),this._zooming=l!==r,this._rotating=a!==c,this._pitching=u!==s,this._prepareEase(i,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(e){if(n._zooming&&(o.zoom=t.number(r,l,e)),n._rotating&&(o.bearing=t.number(a,c,e)),n._pitching&&(o.pitch=t.number(s,u,e)),f)o.setLocationAtPoint(f,m);else{var p=o.zoomScale(o.zoom-r),d=l>r?Math.min(2,v):Math.max(.5,v),y=Math.pow(d,1-e),x=o.unproject(_.add(g.mult(e*y)).mult(p));o.setLocationAtPoint(o.renderWorldCopies?x.wrap():x,h)}n._fireMoveEvents(i)},function(){e.delayEndEvents?n._easeEndTimeoutID=setTimeout(function(){return n._afterEase(i)},e.delayEndEvents):n._afterEase(i)},e),this},i.prototype._prepareEase=function(e,i){this._moving=!0,i||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},i.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},i.prototype._afterEase=function(e){var i=this._zooming,n=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,i&&this.fire(new t.Event("zoomend",e)),n&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},i.prototype.flyTo=function(e,i){var n=this;this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):r,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,u="pitch"in e?+e.pitch:s,h=o.zoomScale(l-r),p=o.centerPoint.add(t.default$1.convert(e.offset)),d=o.pointLocation(p),f=W.convert(e.center||d);this._normalizeCenter(f);var m=o.project(d),_=o.project(f).sub(m),g=e.curve,v=Math.max(o.width,o.height),y=v/h,x=_.mag();if("minZoom"in e){var b=t.clamp(Math.min(e.minZoom,r,l),o.minZoom,o.maxZoom),w=v/o.zoomScale(b-r);g=Math.sqrt(w/x*2)}var E=g*g;function T(t){var e=(y*y-v*v+(t?-1:1)*E*E*x*x)/(2*(t?y:v)*E*x);return Math.log(Math.sqrt(e*e+1)-e)}function I(t){return(Math.exp(t)-Math.exp(-t))/2}function C(t){return(Math.exp(t)+Math.exp(-t))/2}var S=T(0),z=function(t){return C(S)/C(S+g*t)},A=function(t){return v*((C(S)*(I(e=S+g*t)/C(e))-I(S))/E)/x;var e},R=(T(1)-S)/g;if(Math.abs(x)<1e-6||!isFinite(R)){if(Math.abs(v-y)<1e-6)return this.easeTo(e,i);var D=y<v?-1:1;R=Math.abs(Math.log(y/v))/g,A=function(){return 0},z=function(t){return Math.exp(D*g*t)}}if("duration"in e)e.duration=+e.duration;else{var M="screenSpeed"in e?+e.screenSpeed/g:+e.speed;e.duration=1e3*R/M}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=a!==c,this._pitching=u!==s,this._prepareEase(i,!1),this._ease(function(e){var l=e*R,h=1/z(l);o.zoom=r+o.scaleZoom(h),n._rotating&&(o.bearing=t.number(a,c,e)),n._pitching&&(o.pitch=t.number(s,u,e));var d=o.unproject(m.add(_.mult(A(l))).mult(h));o.setLocationAtPoint(o.renderWorldCopies?d.wrap():d,p),n._fireMoveEvents(i)},function(){return n._afterEase(i)},e),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},i.prototype._ease=function(t,e,i){!1===i.animate||0===i.duration?(t(1),e()):(this._easeStart=r.now(),this._easeOptions=i,this._onEaseFrame=t,this._onEaseEnd=e,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var t=Math.min((r.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(e,i){e=t.wrap(e,-180,180);var n=Math.abs(e-i);return Math.abs(e-360-i)<n&&(e-=360),Math.abs(e+360-i)<n&&(e+=360),e},i.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var i=t.lng-e.center.lng;t.lng+=i>180?-360:i<-180?360:0}},i}(t.Evented),rn=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};rn.prototype.getDefaultPosition=function(){return"bottom-right"},rn.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},rn.prototype.onRemove=function(){s.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},rn.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var e=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:_.ACCESS_TOKEN}];if(t){var i=e.reduce(function(t,i,n){return i.value&&(t+=i.key+"="+i.value+(n<e.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+i+(this._map._hash?this._map._hash.getHashString(!0):"")}},rn.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},rn.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var i=this._map.style.sourceCaches;for(var n in i){var o=i[n].getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}t.sort(function(t,e){return t.length-e.length}),(t=t.filter(function(e,i){for(var n=i+1;n<t.length;n++)if(t[n].indexOf(e)>=0)return!1;return!0})).length?(this._container.innerHTML=t.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},rn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var an=function(){t.bindAll(["_updateLogo"],this)};an.prototype.onAdd=function(t){this._map=t,this._container=s.create("div","mapboxgl-ctrl");var e=s.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},an.prototype.onRemove=function(){s.remove(this._container),this._map.off("sourcedata",this._updateLogo)},an.prototype.getDefaultPosition=function(){return"bottom-left"},an.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},an.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t){if(t[e].getSource().mapbox_logo)return!0}return!1}};var sn=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};sn.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},sn.prototype.remove=function(t){for(var e=this._currentlyRunning,i=0,n=e?this._queue.concat(e):this._queue;i<n.length;i+=1){var o=n[i];if(o.id===t)return void(o.cancelled=!0)}},sn.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(!n.cancelled&&(n.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},sn.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var ln=t.default.HTMLImageElement,cn=t.default.HTMLElement,un={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300},hn=function(i){function n(e){if(null!=(e=t.extend({},un,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var n=new Ni(e.minZoom,e.maxZoom,e.renderWorldCopies);i.call(this,n,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new sn;var o=e.transformRequest;if(this._transformRequest=o?function(t,e){return o(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof e.container){var r=t.default.document.getElementById(e.container);if(!r)throw new Error("Container '"+e.container+"' not found.");this._container=r}else{if(!(e.container instanceof cn))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),void 0!==t.default&&(t.default.addEventListener("online",this._onWindowOnline,!1),t.default.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var i=t.getCanvasContainer(),n=null,o=!1;for(var r in nn)t[r]=new nn[r](t,e),e.interactive&&e[r]&&t[r].enable(e[r]);s.addEventListener(i,"mouseout",function(e){t.fire(new Vi("mouseout",t,e))}),s.addEventListener(i,"mousedown",function(i){o=!0;var n=new Vi("mousedown",t,i);t.fire(n),n.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(i),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(i),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(i))}),s.addEventListener(i,"mouseup",function(e){var i=t.dragRotate.isActive();n&&!i&&t.fire(new Vi("contextmenu",t,n)),n=null,o=!1,t.fire(new Vi("mouseup",t,e))}),s.addEventListener(i,"mousemove",function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var n=e.toElement||e.target;n&&n!==i;)n=n.parentNode;n===i&&t.fire(new Vi("mousemove",t,e))}}),s.addEventListener(i,"mouseover",function(e){for(var n=e.toElement||e.target;n&&n!==i;)n=n.parentNode;n===i&&t.fire(new Vi("mouseover",t,e))}),s.addEventListener(i,"touchstart",function(i){var n=new ji("touchstart",t,i);t.fire(n),n.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(i),t.touchZoomRotate.onStart(i),t.doubleClickZoom.onTouchStart(n))},{passive:!1}),s.addEventListener(i,"touchmove",function(e){t.fire(new ji("touchmove",t,e))},{passive:!0}),s.addEventListener(i,"touchend",function(e){t.fire(new ji("touchend",t,e))}),s.addEventListener(i,"touchcancel",function(e){t.fire(new ji("touchcancel",t,e))}),s.addEventListener(i,"click",function(e){t.fire(new Vi("click",t,e))}),s.addEventListener(i,"dblclick",function(e){var i=new Vi("dblclick",t,e);t.fire(i),i.defaultPrevented||t.doubleClickZoom.onDblClick(i)}),s.addEventListener(i,"contextmenu",function(e){var i=t.dragRotate.isActive();o||i?o&&(n=e):t.fire(new Vi("contextmenu",t,e)),e.preventDefault()}),s.addEventListener(i,"wheel",function(e){var i=new $i("wheel",t,e);t.fire(i),i.defaultPrevented||t.scrollZoom.onWheel(e)},{passive:!1})}(this,e),this._hash=e.hash&&(new Zi).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this.resize(),e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new rn),this.addControl(new an,e.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}i&&(n.__proto__=i),n.prototype=Object.create(i&&i.prototype),n.prototype.constructor=n;var o={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return n.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var i=t.onAdd(this),n=this._controlPositions[e];return-1!==e.indexOf("bottom")?n.insertBefore(i,n.firstChild):n.appendChild(i),this},n.prototype.removeControl=function(t){return t.onRemove(this),this},n.prototype.resize=function(e){var i=this._containerDimensions(),n=i[0],o=i[1];return this._resizeCanvas(n,o),this.transform.resize(n,o),this.painter.resize(n,o),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e))},n.prototype.getBounds=function(){var e=new q(this.transform.pointLocation(new t.default$1(0,this.transform.height)),this.transform.pointLocation(new t.default$1(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(e.extend(this.transform.pointLocation(new t.default$1(this.transform.size.x,0))),e.extend(this.transform.pointLocation(new t.default$1(0,this.transform.size.y)))),e},n.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new q([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},n.prototype.setMaxBounds=function(t){if(t){var e=q.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},n.prototype.setMinZoom=function(t){if((t=null===t||void 0===t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},n.prototype.getMinZoom=function(){return this.transform.minZoom},n.prototype.setMaxZoom=function(t){if((t=null===t||void 0===t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},n.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},n.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update(),this},n.prototype.getMaxZoom=function(){return this.transform.maxZoom},n.prototype.project=function(t){return this.transform.locationPoint(W.convert(t))},n.prototype.unproject=function(e){return this.transform.pointLocation(t.default$1.convert(e))},n.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},n.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isActive()},n.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},n.prototype.on=function(t,e,n){var o,r=this;if(void 0===n)return i.prototype.on.call(this,t,e);var a=function(){if("mouseenter"===t||"mouseover"===t){var i=!1;return{layer:e,listener:n,delegates:{mousemove:function(o){var a=r.getLayer(e)?r.queryRenderedFeatures(o.point,{layers:[e]}):[];a.length?i||(i=!0,n.call(r,new Vi(t,r,o.originalEvent,{features:a}))):i=!1},mouseout:function(){i=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(i){(r.getLayer(e)?r.queryRenderedFeatures(i.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,n.call(r,new Vi(t,r,i.originalEvent)))},mouseout:function(e){a&&(a=!1,n.call(r,new Vi(t,r,e.originalEvent)))}}}}return{layer:e,listener:n,delegates:(o={},o[t]=function(t){var i=r.getLayer(e)?r.queryRenderedFeatures(t.point,{layers:[e]}):[];i.length&&(t.features=i,n.call(r,t),delete t.features)},o)}}();for(var s in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(a),a.delegates)r.on(s,a.delegates[s]);return this},n.prototype.off=function(t,e,n){if(void 0===n)return i.prototype.off.call(this,t,e);if(this._delegatedListeners&&this._delegatedListeners[t])for(var o=this._delegatedListeners[t],r=0;r<o.length;r++){var a=o[r];if(a.layer===e&&a.listener===n){for(var s in a.delegates)this.off(s,a.delegates[s]);return o.splice(r,1),this}}return this},n.prototype.queryRenderedFeatures=function(e,i){var n;return 2===arguments.length?(e=arguments[0],i=arguments[1]):1===arguments.length&&((n=arguments[0])instanceof t.default$1||Array.isArray(n))?(e=arguments[0],i={}):1===arguments.length?(e=void 0,i=arguments[0]):(e=void 0,i={}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(e),i,this.transform):[]},n.prototype._makeQueryGeometry=function(e){var i,n=this;if(void 0===e&&(e=[t.default$1.convert([0,0]),t.default$1.convert([this.transform.width,this.transform.height])]),e instanceof t.default$1||"number"==typeof e[0]){i=[t.default$1.convert(e)]}else{var o=[t.default$1.convert(e[0]),t.default$1.convert(e[1])];i=[o[0],new t.default$1(o[1].x,o[0].y),o[1],new t.default$1(o[0].x,o[1].y),o[0]]}return i=i.map(function(t){return n.transform.pointCoordinate(t)})},n.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},n.prototype.setStyle=function(e,i){if((!i||!1!==i.diff&&!i.localIdeographFontFamily)&&this.style&&e&&"object"==typeof e)try{return this.style.setState(e)&&this._update(!0),this}catch(e){t.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Je(this,i||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},n.prototype.getStyle=function(){if(this.style)return this.style.serialize()},n.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},n.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},n.prototype.isSourceLoaded=function(e){var i=this.style&&this.style.sourceCaches[e];if(void 0!==i)return i.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},n.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var i=t[e]._tiles;for(var n in i){var o=i[n];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},n.prototype.addSourceType=function(t,e,i){return this.style.addSourceType(t,e,i)},n.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},n.prototype.getSource=function(t){return this.style.getSource(t)},n.prototype.addImage=function(e,i,n){void 0===n&&(n={});var o=n.pixelRatio;void 0===o&&(o=1);var a=n.sdf;if(void 0===a&&(a=!1),i instanceof ln){var s=r.getImageData(i),l=s.width,c=s.height,u=s.data;this.style.addImage(e,{data:new t.RGBAImage({width:l,height:c},u),pixelRatio:o,sdf:a})}else{if(void 0===i.width||void 0===i.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var h=i.width,p=i.height,d=i.data;this.style.addImage(e,{data:new t.RGBAImage({width:h,height:p},d.slice(0)),pixelRatio:o,sdf:a})}},n.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},n.prototype.removeImage=function(t){this.style.removeImage(t)},n.prototype.loadImage=function(e,i){t.getImage(this._transformRequest(e,t.ResourceType.Image),i)},n.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},n.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},n.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},n.prototype.getLayer=function(t){return this.style.getLayer(t)},n.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},n.prototype.setLayerZoomRange=function(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0),this},n.prototype.getFilter=function(t){return this.style.getFilter(t)},n.prototype.setPaintProperty=function(t,e,i){return this.style.setPaintProperty(t,e,i),this._update(!0),this},n.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},n.prototype.setLayoutProperty=function(t,e,i){return this.style.setLayoutProperty(t,e,i),this._update(!0),this},n.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},n.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},n.prototype.getLight=function(){return this.style.getLight()},n.prototype.getContainer=function(){return this._container},n.prototype.getCanvasContainer=function(){return this._canvasContainer},n.prototype.getCanvas=function(){return this._canvas},n.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},n.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSContainer=s.create("div","mapboxgl-missing-css",t)).innerHTML="Missing Mapbox GL JS CSS";var e=this._canvasContainer=s.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=s.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var n=this._controlContainer=s.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){o[t]=s.create("div","mapboxgl-ctrl-"+t,n)})},n.prototype._resizeCanvas=function(e,i){var n=t.default.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*i,this._canvas.style.width=e+"px",this._canvas.style.height=i+"px"},n.prototype._setupPainter=function(){var i=t.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},e.webGLContextAttributes),n=this._canvas.getContext("webgl",i)||this._canvas.getContext("experimental-webgl",i);n?this.painter=new Mi(n,this.transform):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},n.prototype._contextLost=function(e){e.preventDefault(),this._frameId&&(r.cancelFrame(this._frameId),this._frameId=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},n.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},n.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},n.prototype._update=function(t){this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender())},n.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},n.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},n.prototype._render=function(){this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var i=this.transform.zoom,n=r.now();this.style.zoomHistory.update(i,n);var o=new t.default$25(i,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),a=o.crossFadingFactor();1===a&&a===this._crossFadingFactor||(e=!0,this._crossFadingFactor=a),this.style.update(o)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},n.prototype.remove=function(){this._hash&&this._hash.remove(),r.cancelFrame(this._frameId),this._renderTaskQueue.clear(),this._frameId=null,this.setStyle(null),void 0!==t.default&&(t.default.removeEventListener("resize",this._onWindowResize,!1),t.default.removeEventListener("online",this._onWindowOnline,!1));var e=this.painter.context.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),pn(this._canvasContainer),pn(this._controlContainer),pn(this._missingCSSContainer),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},n.prototype._rerender=function(){var t=this;this.style&&!this._frameId&&(this._frameId=r.frame(function(){t._frameId=null,t._render()}))},n.prototype._onWindowOnline=function(){this._update()},n.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint=t,this._update()},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},n.prototype._onData=function(e){this._update("style"===e.dataType),this.fire(new t.Event(e.dataType+"data",e))},n.prototype._onDataLoading=function(e){this.fire(new t.Event(e.dataType+"dataloading",e))},Object.defineProperties(n.prototype,o),n}(on);function pn(t){t.parentNode&&t.parentNode.removeChild(t)}var dn={showCompass:!0,showZoom:!0},fn=function(e){var i=this;this.options=t.extend({},dn,e),this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return i._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return i._map.zoomOut()})),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return i._map.resetNorth()}),this._compassArrow=s.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function mn(t,e,i){if(t=new W(t.lng,t.lat),e){var n=new W(t.lng-360,t.lat),o=new W(t.lng+360,t.lat),r=i.locationPoint(t).distSqr(e);i.locationPoint(n).distSqr(e)<r?t=n:i.locationPoint(o).distSqr(e)<r&&(t=o)}for(;Math.abs(t.lng-i.center.lng)>180;){var a=i.locationPoint(t);if(a.x>=0&&a.y>=0&&a.x<=i.width&&a.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}fn.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},fn.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Xi(t,{button:"left",element:this._compass}),this._handler.enable()),this._container},fn.prototype.onRemove=function(){s.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),this._handler.disable(),delete this._handler),delete this._map},fn.prototype._createButton=function(t,e,i){var n=s.create("button",t,this._container);return n.type="button",n.setAttribute("aria-label",e),n.addEventListener("click",i),n};var _n={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function gn(t,e,i){var n=t.classList;for(var o in _n)n.remove("mapboxgl-"+i+"-anchor-"+o);n.add("mapboxgl-"+i+"-anchor-"+e)}var vn=function(e){if((arguments[0]instanceof t.default.HTMLElement||2===arguments.length)&&(e=t.extend({element:e},arguments[1])),t.bindAll(["_update","_onMapClick"],this),this._anchor=e&&e.anchor||"center",e&&e.element)this._element=e.element,this._offset=t.default$1.convert(e&&e.offset||[0,0]);else{this._element=s.create("div");var i=s.createNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"height","41px"),i.setAttributeNS(null,"width","27px"),i.setAttributeNS(null,"viewBox","0 0 27 41");var n=s.createNS("http://www.w3.org/2000/svg","g");n.setAttributeNS(null,"stroke","none"),n.setAttributeNS(null,"stroke-width","1"),n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"fill-rule","evenodd");var o=s.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"fill-rule","nonzero");var r=s.createNS("http://www.w3.org/2000/svg","g");r.setAttributeNS(null,"transform","translate(3.0, 29.0)"),r.setAttributeNS(null,"fill","#000000");for(var a=0,l=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];a<l.length;a+=1){var c=l[a],u=s.createNS("http://www.w3.org/2000/svg","ellipse");u.setAttributeNS(null,"opacity","0.04"),u.setAttributeNS(null,"cx","10.5"),u.setAttributeNS(null,"cy","5.80029008"),u.setAttributeNS(null,"rx",c.rx),u.setAttributeNS(null,"ry",c.ry),r.appendChild(u)}var h=s.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill","#3FB1CE");var p=s.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(p);var d=s.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"fill","#000000");var f=s.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d.appendChild(f);var m=s.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(6.0, 7.0)"),m.setAttributeNS(null,"fill","#FFFFFF");var _=s.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"transform","translate(8.0, 8.0)");var g=s.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");var v=s.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#FFFFFF"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962"),_.appendChild(g),_.appendChild(v),o.appendChild(r),o.appendChild(h),o.appendChild(d),o.appendChild(m),o.appendChild(_),i.appendChild(o),this._element.appendChild(i),this._offset=t.default$1.convert(e&&e.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._popup=null};vn.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},vn.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),s.remove(this._element),this._popup&&this._popup.remove(),this},vn.prototype.getLngLat=function(){return this._lngLat},vn.prototype.setLngLat=function(t){return this._lngLat=W.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},vn.prototype.getElement=function(){return this._element},vn.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&("offset"in t.options||(t.options.offset=this._offset),this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)),this},vn.prototype._onMapClick=function(t){var e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup()},vn.prototype.getPopup=function(){return this._popup},vn.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},vn.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=mn(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),s.setTransform(this._element,_n[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),gn(this._element,this._anchor,"marker"))},vn.prototype.getOffset=function(){return this._offset},vn.prototype.setOffset=function(e){return this._offset=t.default$1.convert(e),this._update(),this};var yn,xn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0};var bn=function(e){function i(i){e.call(this),this.options=t.extend({},xn,i),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker","_onClickGeolocate"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(e){var i;return this._map=e,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==yn?i(yn):void 0!==t.default.navigator.permissions?t.default.navigator.permissions.query({name:"geolocation"}).then(function(t){yn="denied"!==t.state,i(yn)}):(yn=!!t.default.navigator.geolocation,i(yn)),this._container},i.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.default.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),s.remove(this._container),this._map=void 0},i.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},i.prototype._updateCamera=function(t){var e=new W(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy;this._map.fitBounds(e.toBounds(i),this.options.fitBoundsOptions,{geolocateSource:!0})},i.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},i.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},i.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},i.prototype._setupUI=function(e){var i=this;!1!==e&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=s.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=s.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new vn(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),this.options.trackUserLocation&&this._map.on("movestart",function(e){e.geolocateSource||"ACTIVE_LOCK"!==i._watchState||(i._watchState="BACKGROUND",i._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),i._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),i.fire(new t.Event("trackuserlocationend")))}))},i.prototype._onClickGeolocate=function(){if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.default.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.default.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4)},i.prototype._clearWatch=function(){t.default.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},i}(t.Evented),wn={maxWidth:100,unit:"metric"},En=function(e){this.options=t.extend({},wn,e),t.bindAll(["_onMove","setUnit"],this)};function Tn(t,e,i){var n,o,r,a,s,l,c=i&&i.maxWidth||100,u=t._container.clientHeight/2,h=(n=t.unproject([0,u]),o=t.unproject([c,u]),r=Math.PI/180,a=n.lat*r,s=o.lat*r,l=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((o.lng-n.lng)*r),6371e3*Math.acos(Math.min(l,1)));if(i&&"imperial"===i.unit){var p=3.2808*h;if(p>5280)In(e,c,p/5280,"mi");else In(e,c,p,"ft")}else if(i&&"nautical"===i.unit){In(e,c,h/1852,"nm")}else In(e,c,h,"m")}function In(t,e,i,n){var o,r,a,s=(o=i,(r=Math.pow(10,(""+Math.floor(o)).length-1))*(a=(a=o/r)>=10?10:a>=5?5:a>=3?3:a>=2?2:1)),l=s/i;"m"===n&&s>=1e3&&(s/=1e3,n="km"),t.style.width=e*l+"px",t.innerHTML=s+n}En.prototype.getDefaultPosition=function(){return"bottom-left"},En.prototype._onMove=function(){Tn(this._map,this._container,this.options)},En.prototype.onAdd=function(t){return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},En.prototype.onRemove=function(){s.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},En.prototype.setUnit=function(t){this.options.unit=t,Tn(this._map,this._container,this.options)};var Cn=function(){this._fullscreen=!1,t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.default.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.default.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.default.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.default.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Cn.prototype.onAdd=function(e){return this._map=e,this._mapContainer=this._map.getContainer(),this._container=s.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._container},Cn.prototype.onRemove=function(){s.remove(this._container),this._map=null,t.default.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Cn.prototype._checkFullscreenSupport=function(){return!!(t.default.document.fullscreenEnabled||t.default.document.mozFullScreenEnabled||t.default.document.msFullscreenEnabled||t.default.document.webkitFullscreenEnabled)},Cn.prototype._setupUI=function(){var e=this._fullscreenButton=s.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);e.setAttribute("aria-label","Toggle fullscreen"),e.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.default.document.addEventListener(this._fullscreenchange,this._changeIcon)},Cn.prototype._isFullscreen=function(){return this._fullscreen},Cn.prototype._changeIcon=function(){(t.default.document.fullscreenElement||t.default.document.mozFullScreenElement||t.default.document.webkitFullscreenElement||t.default.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},Cn.prototype._onClickFullscreen=function(){this._isFullscreen()?t.default.document.exitFullscreen?t.default.document.exitFullscreen():t.default.document.mozCancelFullScreen?t.default.document.mozCancelFullScreen():t.default.document.msExitFullscreen?t.default.document.msExitFullscreen():t.default.document.webkitCancelFullScreen&&t.default.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()};var Sn={closeButton:!0,closeOnClick:!0},zn=function(e){function i(i){e.call(this),this.options=t.extend(Object.create(Sn),i),t.bindAll(["_update","_onClickClose"],this)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this.fire(new t.Event("open")),this},i.prototype.isOpen=function(){return!!this._map},i.prototype.remove=function(){return this._content&&s.remove(this._content),this._container&&(s.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire(new t.Event("close")),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(t){return this._lngLat=W.convert(t),this._pos=null,this._update(),this},i.prototype.setText=function(e){return this.setDOMContent(t.default.document.createTextNode(e))},i.prototype.setHTML=function(e){var i,n=t.default.document.createDocumentFragment(),o=t.default.document.createElement("body");for(o.innerHTML=e;i=o.firstChild;)n.appendChild(i);return this.setDOMContent(n)},i.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},i.prototype._createContent=function(){this._content&&s.remove(this._content),this._content=s.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=s.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},i.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=s.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=s.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=mn(this._lngLat,this._pos,this._map.transform));var e=this._pos=this._map.project(this._lngLat),i=this.options.anchor,n=function e(i){if(i){if("number"==typeof i){var n=Math.round(Math.sqrt(.5*Math.pow(i,2)));return{center:new t.default$1(0,0),top:new t.default$1(0,i),"top-left":new t.default$1(n,n),"top-right":new t.default$1(-n,n),bottom:new t.default$1(0,-i),"bottom-left":new t.default$1(n,-n),"bottom-right":new t.default$1(-n,-n),left:new t.default$1(i,0),right:new t.default$1(-i,0)}}if(i instanceof t.default$1||Array.isArray(i)){var o=t.default$1.convert(i);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:t.default$1.convert(i.center||[0,0]),top:t.default$1.convert(i.top||[0,0]),"top-left":t.default$1.convert(i["top-left"]||[0,0]),"top-right":t.default$1.convert(i["top-right"]||[0,0]),bottom:t.default$1.convert(i.bottom||[0,0]),"bottom-left":t.default$1.convert(i["bottom-left"]||[0,0]),"bottom-right":t.default$1.convert(i["bottom-right"]||[0,0]),left:t.default$1.convert(i.left||[0,0]),right:t.default$1.convert(i.right||[0,0])}}return e(new t.default$1(0,0))}(this.options.offset);if(!i){var o,r=this._container.offsetWidth,a=this._container.offsetHeight;o=e.y+n.bottom.y<a?["top"]:e.y>this._map.transform.height-a?["bottom"]:[],e.x<r/2?o.push("left"):e.x>this._map.transform.width-r/2&&o.push("right"),i=0===o.length?"bottom":o.join("-")}var l=e.add(n[i]).round();s.setTransform(this._container,_n[i]+" translate("+l.x+"px,"+l.y+"px)"),gn(this._container,i,"popup")}},i.prototype._onClickClose=function(){this.remove()},i}(t.Evented);var An={version:"0.44.1",supported:e,workerCount:Math.max(Math.floor(r.hardwareConcurrency/2),1),setRTLTextPlugin:t.setRTLTextPlugin,Map:hn,NavigationControl:fn,GeolocateControl:bn,AttributionControl:rn,ScaleControl:En,FullscreenControl:Cn,Popup:zn,Marker:vn,Style:Je,LngLat:W,LngLatBounds:q,Point:t.default$1,config:_,get accessToken(){return _.ACCESS_TOKEN},set accessToken(t){_.ACCESS_TOKEN=t},workerUrl:""};return An});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9AbWFwYm94L21hcGJveC1nbC1zdXBwb3J0ZWQvaW5kZXguanMiLCJzcmMvdXRpbC9icm93c2VyLmpzIiwic3JjL3V0aWwvZG9tLmpzIiwic3JjL3V0aWwvY29uZmlnLmpzIiwic3JjL3V0aWwvbWFwYm94LmpzIiwic3JjL3JlbmRlci90ZXh0dXJlLmpzIiwic3JjL3JlbmRlci9pbWFnZV9tYW5hZ2VyLmpzIiwibm9kZV9tb2R1bGVzL0BtYXBib3gvdGlueS1zZGYvaW5kZXguanMiLCJzcmMvcmVuZGVyL2dseXBoX21hbmFnZXIuanMiLCJzcmMvc3R5bGUvbGlnaHQuanMiLCJzcmMvcmVuZGVyL2xpbmVfYXRsYXMuanMiLCJzcmMvdXRpbC9kaXNwYXRjaGVyLmpzIiwic3JjL2dlby9sbmdfbGF0LmpzIiwic3JjL2dlby9sbmdfbGF0X2JvdW5kcy5qcyIsInNyYy9zb3VyY2UvdGlsZV9ib3VuZHMuanMiLCJzcmMvc291cmNlL3ZlY3Rvcl90aWxlX3NvdXJjZS5qcyIsInNyYy9zb3VyY2UvcmFzdGVyX3RpbGVfc291cmNlLmpzIiwic3JjL3NvdXJjZS9yYXN0ZXJfZGVtX3RpbGVfc291cmNlLmpzIiwic3JjL3NvdXJjZS9nZW9qc29uX3NvdXJjZS5qcyIsInNyYy9kYXRhL3Jhc3Rlcl9ib3VuZHNfYXR0cmlidXRlcy5qcyIsInNyYy9yZW5kZXIvdmVydGV4X2FycmF5X29iamVjdC5qcyIsInNyYy9zb3VyY2UvaW1hZ2Vfc291cmNlLmpzIiwic3JjL3NvdXJjZS92aWRlb19zb3VyY2UuanMiLCJzcmMvc291cmNlL2NhbnZhc19zb3VyY2UuanMiLCJzcmMvc291cmNlL3NvdXJjZS5qcyIsInNyYy9zb3VyY2UvcXVlcnlfZmVhdHVyZXMuanMiLCJzcmMvc3ltYm9sL2dyaWRfaW5kZXguanMiLCJzcmMvc3ltYm9sL3Byb2plY3Rpb24uanMiLCJzcmMvc3ltYm9sL2NvbGxpc2lvbl9pbmRleC5qcyIsInNyYy9zb3VyY2UvdGlsZS5qcyIsInNyYy9kYXRhL2J1Y2tldC5qcyIsInNyYy91dGlsL2xydV9jYWNoZS5qcyIsInNyYy9nbC9pbmRleF9idWZmZXIuanMiLCJzcmMvZ2wvdmVydGV4X2J1ZmZlci5qcyIsInNyYy9nbC92YWx1ZS5qcyIsInNyYy9nbC9mcmFtZWJ1ZmZlci5qcyIsInNyYy9nbC9kZXB0aF9tb2RlLmpzIiwic3JjL2dsL3N0ZW5jaWxfbW9kZS5qcyIsInNyYy9nbC9jb2xvcl9tb2RlLmpzIiwic3JjL2dsL2NvbnRleHQuanMiLCJzcmMvc291cmNlL3NvdXJjZV9jYWNoZS5qcyIsInNyYy91dGlsL3dvcmtlcl9wb29sLmpzIiwic3JjL3V0aWwvZ2xvYmFsX3dvcmtlcl9wb29sLmpzIiwic3JjL3N0eWxlLXNwZWMvZGVyZWYuanMiLCJzcmMvc3R5bGUtc3BlYy9kaWZmLmpzIiwic3JjL3N5bWJvbC9wbGFjZW1lbnQuanMiLCJzcmMvc3R5bGUvcGF1c2VhYmxlX3BsYWNlbWVudC5qcyIsInNyYy9zeW1ib2wvY3Jvc3NfdGlsZV9zeW1ib2xfaW5kZXguanMiLCJzcmMvc3R5bGUvc3R5bGUuanMiLCJzcmMvZGF0YS9wb3NfYXR0cmlidXRlcy5qcyIsInNyYy9zaGFkZXJzL2luZGV4LmpzIiwic3JjL3JlbmRlci9wcm9ncmFtLmpzIiwic3JjL3JlbmRlci90aWxlX21hc2suanMiLCJzcmMvcmVuZGVyL2RyYXdfY29sbGlzaW9uX2RlYnVnLmpzIiwic3JjL3JlbmRlci9kcmF3X3N5bWJvbC5qcyIsInNyYy9yZW5kZXIvZHJhd19saW5lLmpzIiwic3JjL3JlbmRlci9wYXR0ZXJuLmpzIiwic3JjL3JlbmRlci9kcmF3X2ZpbGwuanMiLCJzcmMvcmVuZGVyL2RyYXdfZmlsbF9leHRydXNpb24uanMiLCJzcmMvcmVuZGVyL2RyYXdfaGlsbHNoYWRlLmpzIiwic3JjL3JlbmRlci9kcmF3X3Jhc3Rlci5qcyIsInNyYy9yZW5kZXIvZHJhd19kZWJ1Zy5qcyIsInNyYy9yZW5kZXIvcGFpbnRlci5qcyIsInNyYy9yZW5kZXIvZHJhd19jaXJjbGUuanMiLCJzcmMvcmVuZGVyL2RyYXdfaGVhdG1hcC5qcyIsInNyYy9yZW5kZXIvZHJhd19iYWNrZ3JvdW5kLmpzIiwic3JjL3V0aWwvdGlsZV9jb3Zlci5qcyIsInNyYy9nZW8vdHJhbnNmb3JtLmpzIiwic3JjL3VpL2hhc2guanMiLCJzcmMvdXRpbC90aHJvdHRsZS5qcyIsInNyYy91aS9ldmVudHMuanMiLCJzcmMvdWkvaGFuZGxlci9zY3JvbGxfem9vbS5qcyIsInNyYy91aS9oYW5kbGVyL2JveF96b29tLmpzIiwic3JjL3VpL2hhbmRsZXIvZHJhZ19yb3RhdGUuanMiLCJzcmMvdWkvaGFuZGxlci9kcmFnX3Bhbi5qcyIsInNyYy91aS9oYW5kbGVyL2tleWJvYXJkLmpzIiwic3JjL3VpL2hhbmRsZXIvZGJsY2xpY2tfem9vbS5qcyIsInNyYy91aS9oYW5kbGVyL3RvdWNoX3pvb21fcm90YXRlLmpzIiwic3JjL3VpL2JpbmRfaGFuZGxlcnMuanMiLCJzcmMvdWkvY2FtZXJhLmpzIiwic3JjL3VpL2NvbnRyb2wvYXR0cmlidXRpb25fY29udHJvbC5qcyIsInNyYy91aS9jb250cm9sL2xvZ29fY29udHJvbC5qcyIsInNyYy91dGlsL3Rhc2tfcXVldWUuanMiLCJzcmMvdWkvbWFwLmpzIiwic3JjL3VpL2NvbnRyb2wvbmF2aWdhdGlvbl9jb250cm9sLmpzIiwic3JjL3VpL2FuY2hvci5qcyIsInNyYy91aS9tYXJrZXIuanMiLCJzcmMvdWkvY29udHJvbC9nZW9sb2NhdGVfY29udHJvbC5qcyIsInNyYy91aS9jb250cm9sL3NjYWxlX2NvbnRyb2wuanMiLCJzcmMvdWkvY29udHJvbC9mdWxsc2NyZWVuX2NvbnRyb2wuanMiLCJzcmMvdWkvcG9wdXAuanMiLCJzcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGlzU3VwcG9ydGVkO1xufSBlbHNlIGlmICh3aW5kb3cpIHtcbiAgICB3aW5kb3cubWFwYm94Z2wgPSB3aW5kb3cubWFwYm94Z2wgfHwge307XG4gICAgd2luZG93Lm1hcGJveGdsLnN1cHBvcnRlZCA9IGlzU3VwcG9ydGVkO1xufVxuXG4vKipcbiAqIFRlc3Qgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIHN1cHBvcnRzIE1hcGJveCBHTCBKU1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1mYWxzZV0gUmV0dXJuIGBmYWxzZWBcbiAqICAgaWYgdGhlIHBlcmZvcm1hbmNlIG9mIE1hcGJveCBHTCBKUyB3b3VsZCBiZSBkcmFtYXRpY2FsbHkgd29yc2UgdGhhblxuICogICBleHBlY3RlZCAoaS5lLiBhIHNvZnR3YXJlIHJlbmRlcmVyIGlzIHdvdWxkIGJlIHVzZWQpXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1N1cHBvcnRlZChvcHRpb25zKSB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgICBpc0Jyb3dzZXIoKSAmJlxuICAgICAgICBpc0FycmF5U3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNGdW5jdGlvblN1cHBvcnRlZCgpICYmXG4gICAgICAgIGlzT2JqZWN0U3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNKU09OU3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNXb3JrZXJTdXBwb3J0ZWQoKSAmJlxuICAgICAgICBpc1VpbnQ4Q2xhbXBlZEFycmF5U3VwcG9ydGVkKCkgJiZcbiAgICAgICAgaXNXZWJHTFN1cHBvcnRlZENhY2hlZChvcHRpb25zICYmIG9wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdClcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc0Jyb3dzZXIoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgQXJyYXkucHJvdG90eXBlICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5ldmVyeSAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZmlsdGVyICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5pbmRleE9mICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiAmJlxuICAgICAgICBBcnJheS5wcm90b3R5cGUubWFwICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5zb21lICYmXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgJiZcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0ICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXlcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUgJiYgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIE9iamVjdC5rZXlzICYmXG4gICAgICAgIE9iamVjdC5jcmVhdGUgJiZcbiAgICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mICYmXG4gICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzICYmXG4gICAgICAgIE9iamVjdC5pc1NlYWxlZCAmJlxuICAgICAgICBPYmplY3QuaXNGcm96ZW4gJiZcbiAgICAgICAgT2JqZWN0LmlzRXh0ZW5zaWJsZSAmJlxuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJlxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyAmJlxuICAgICAgICBPYmplY3Quc2VhbCAmJlxuICAgICAgICBPYmplY3QuZnJlZXplICYmXG4gICAgICAgIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9uc1xuICAgICk7XG59XG5cbmZ1bmN0aW9uIGlzSlNPTlN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gJ0pTT04nIGluIHdpbmRvdyAmJiAncGFyc2UnIGluIEpTT04gJiYgJ3N0cmluZ2lmeScgaW4gSlNPTjtcbn1cblxuZnVuY3Rpb24gaXNXb3JrZXJTdXBwb3J0ZWQoKSB7XG4gICAgaWYgKCEoJ1dvcmtlcicgaW4gd2luZG93ICYmICdCbG9iJyBpbiB3aW5kb3cgJiYgJ1VSTCcgaW4gd2luZG93KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbJyddLCB7IHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnIH0pO1xuICAgIHZhciB3b3JrZXJVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIHZhciBzdXBwb3J0ZWQ7XG4gICAgdmFyIHdvcmtlcjtcblxuICAgIHRyeSB7XG4gICAgICAgIHdvcmtlciA9IG5ldyBXb3JrZXIod29ya2VyVVJMKTtcbiAgICAgICAgc3VwcG9ydGVkID0gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh3b3JrZXIpIHtcbiAgICAgICAgd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgIH1cbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHdvcmtlclVSTCk7XG5cbiAgICByZXR1cm4gc3VwcG9ydGVkO1xufVxuXG4vLyBJRTExIG9ubHkgc3VwcG9ydHMgYFVpbnQ4Q2xhbXBlZEFycmF5YCBhcyBvZiB2ZXJzaW9uXG4vLyBbS0IyOTI5NDM3XShodHRwczovL3N1cHBvcnQubWljcm9zb2Z0LmNvbS9lbi11cy9rYi8yOTI5NDM3KVxuZnVuY3Rpb24gaXNVaW50OENsYW1wZWRBcnJheVN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gJ1VpbnQ4Q2xhbXBlZEFycmF5JyBpbiB3aW5kb3c7XG59XG5cbnZhciBpc1dlYkdMU3VwcG9ydGVkQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZWQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCkge1xuXG4gICAgaWYgKGlzV2ViR0xTdXBwb3J0ZWRDYWNoZVtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZVtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XSA9IGlzV2ViR0xTdXBwb3J0ZWQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzV2ViR0xTdXBwb3J0ZWRDYWNoZVtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XTtcbn1cblxuaXNTdXBwb3J0ZWQud2ViR0xDb250ZXh0QXR0cmlidXRlcyA9IHtcbiAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgIGFscGhhOiB0cnVlLFxuICAgIHN0ZW5jaWw6IHRydWUsXG4gICAgZGVwdGg6IHRydWVcbn07XG5cbmZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWQoZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCkge1xuXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBPYmplY3QuY3JlYXRlKGlzU3VwcG9ydGVkLndlYkdMQ29udGV4dEF0dHJpYnV0ZXMpO1xuICAgIGF0dHJpYnV0ZXMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCA9IGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ7XG5cbiAgICBpZiAoY2FudmFzLnByb2JhYmx5U3VwcG9ydHNDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjYW52YXMucHJvYmFibHlTdXBwb3J0c0NvbnRleHQoJ3dlYmdsJywgYXR0cmlidXRlcykgfHxcbiAgICAgICAgICAgIGNhbnZhcy5wcm9iYWJseVN1cHBvcnRzQ29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgYXR0cmlidXRlcylcbiAgICAgICAgKTtcblxuICAgIH0gZWxzZSBpZiAoY2FudmFzLnN1cHBvcnRzQ29udGV4dCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY2FudmFzLnN1cHBvcnRzQ29udGV4dCgnd2ViZ2wnLCBhdHRyaWJ1dGVzKSB8fFxuICAgICAgICAgICAgY2FudmFzLnN1cHBvcnRzQ29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgYXR0cmlidXRlcylcbiAgICAgICAgKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBhdHRyaWJ1dGVzKSB8fFxuICAgICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGF0dHJpYnV0ZXMpXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuL3dpbmRvdyc7XG5cbmNvbnN0IG5vdyA9IHdpbmRvdy5wZXJmb3JtYW5jZSAmJiB3aW5kb3cucGVyZm9ybWFuY2Uubm93ID9cbiAgICB3aW5kb3cucGVyZm9ybWFuY2Uubm93LmJpbmQod2luZG93LnBlcmZvcm1hbmNlKSA6XG4gICAgRGF0ZS5ub3cuYmluZChEYXRlKTtcblxuY29uc3QgcmFmID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXG5jb25zdCBjYW5jZWwgPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBleHBvcnRlZCA9IHtcbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhIGZ1bmN0aW9uIHRoYXQgb3V0cHV0cyBtaWxsaXNlY29uZHM6IGVpdGhlciBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAqIG9yIGEgZmFsbGJhY2sgdG8gRGF0ZS5ub3coKVxuICAgICAqL1xuICAgIG5vdyxcblxuICAgIGZyYW1lKGZuOiBGdW5jdGlvbikge1xuICAgICAgICByZXR1cm4gcmFmKGZuKTtcbiAgICB9LFxuXG4gICAgY2FuY2VsRnJhbWUoaWQ6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gY2FuY2VsKGlkKTtcbiAgICB9LFxuXG4gICAgZ2V0SW1hZ2VEYXRhKGltZzogQ2FudmFzSW1hZ2VTb3VyY2UpOiBJbWFnZURhdGEge1xuICAgICAgICBjb25zdCBjYW52YXMgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBjcmVhdGUgY2FudmFzIDJkIGNvbnRleHQnKTtcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWcsIDAsIDAsIGltZy53aWR0aCwgaW1nLmhlaWdodCk7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xuICAgIH0sXG5cbiAgICBoYXJkd2FyZUNvbmN1cnJlbmN5OiB3aW5kb3cubmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kgfHwgNCxcbiAgICBnZXQgZGV2aWNlUGl4ZWxSYXRpbygpIHsgcmV0dXJuIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvOyB9LFxuICAgIHN1cHBvcnRzV2VicDogZmFsc2Vcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGV4cG9ydGVkO1xuXG5pZiAod2luZG93LmRvY3VtZW50KSB7XG4gICAgY29uc3Qgd2VicEltZ1Rlc3QgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgd2VicEltZ1Rlc3Qub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cG9ydGVkLnN1cHBvcnRzV2VicCA9IHRydWU7XG4gICAgfTtcbiAgICB3ZWJwSW1nVGVzdC5zcmMgPSAnZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmg0QUFBQlhSVUpRVmxBNFRCRUFBQUF2QVFBQUFBZlEvLzczdi8rQmlPaC9BQUE9Jztcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuL3dpbmRvdyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmNvbnN0IERPTSA9IHt9O1xuZXhwb3J0IGRlZmF1bHQgRE9NO1xuXG5ET00uY3JlYXRlID0gZnVuY3Rpb24gKHRhZ05hbWU6ICosIGNsYXNzTmFtZT86IHN0cmluZywgY29udGFpbmVyPzogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBlbCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIGlmIChjbGFzc05hbWUpIGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICBpZiAoY29udGFpbmVyKSBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIHJldHVybiBlbDtcbn07XG5cbkRPTS5jcmVhdGVOUyA9IGZ1bmN0aW9uIChuYW1lc3BhY2VVUkk6IHN0cmluZywgdGFnTmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3QgZWwgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVSSSwgdGFnTmFtZSk7XG4gICAgcmV0dXJuIGVsO1xufTtcblxuY29uc3QgZG9jU3R5bGUgPSB3aW5kb3cuZG9jdW1lbnQgP1xuICAgICh3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OiBhbnkpLnN0eWxlIDpcbiAgICBudWxsO1xuXG5mdW5jdGlvbiB0ZXN0UHJvcChwcm9wcykge1xuICAgIGlmICghZG9jU3R5bGUpIHJldHVybiBudWxsO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHByb3BzW2ldIGluIGRvY1N0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BzWzBdO1xufVxuXG5jb25zdCBzZWxlY3RQcm9wID0gdGVzdFByb3AoWyd1c2VyU2VsZWN0JywgJ01velVzZXJTZWxlY3QnLCAnV2Via2l0VXNlclNlbGVjdCcsICdtc1VzZXJTZWxlY3QnXSk7XG5sZXQgdXNlclNlbGVjdDtcblxuRE9NLmRpc2FibGVEcmFnID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChkb2NTdHlsZSAmJiBzZWxlY3RQcm9wKSB7XG4gICAgICAgIHVzZXJTZWxlY3QgPSBkb2NTdHlsZVtzZWxlY3RQcm9wXTtcbiAgICAgICAgZG9jU3R5bGVbc2VsZWN0UHJvcF0gPSAnbm9uZSc7XG4gICAgfVxufTtcblxuRE9NLmVuYWJsZURyYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRvY1N0eWxlICYmIHNlbGVjdFByb3ApIHtcbiAgICAgICAgZG9jU3R5bGVbc2VsZWN0UHJvcF0gPSB1c2VyU2VsZWN0O1xuICAgIH1cbn07XG5cbmNvbnN0IHRyYW5zZm9ybVByb3AgPSB0ZXN0UHJvcChbJ3RyYW5zZm9ybScsICdXZWJraXRUcmFuc2Zvcm0nXSk7XG5cbkRPTS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbihlbDogSFRNTEVsZW1lbnQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAoZWwuc3R5bGU6IGFueSlbdHJhbnNmb3JtUHJvcF0gPSB2YWx1ZTtcbn07XG5cbi8vIEZlYXR1cmUgZGV0ZWN0aW9uIGZvciB7cGFzc2l2ZTogZmFsc2V9IHN1cHBvcnQgaW4gYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIuXG5sZXQgcGFzc2l2ZVN1cHBvcnRlZCA9IGZhbHNlO1xuXG50cnkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSAoT2JqZWN0LmRlZmluZVByb3BlcnR5OiBhbnkpKHt9LCBcInBhc3NpdmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcGFzc2l2ZVN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAod2luZG93LmFkZEV2ZW50TGlzdGVuZXI6IGFueSkoXCJ0ZXN0XCIsIG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICh3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcjogYW55KShcInRlc3RcIiwgb3B0aW9ucywgb3B0aW9ucyk7XG59IGNhdGNoIChlcnIpIHtcbiAgICBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG59XG5cbkRPTS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24odGFyZ2V0OiAqLCB0eXBlOiAqLCBjYWxsYmFjazogKiwgb3B0aW9uczoge3Bhc3NpdmU/OiBib29sZWFuLCBjYXB0dXJlPzogYm9vbGVhbn0gPSB7fSkge1xuICAgIGlmICgncGFzc2l2ZScgaW4gb3B0aW9ucyAmJiBwYXNzaXZlU3VwcG9ydGVkKSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCAob3B0aW9uczogYW55KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIG9wdGlvbnMuY2FwdHVyZSk7XG4gICAgfVxufTtcblxuRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0YXJnZXQ6ICosIHR5cGU6ICosIGNhbGxiYWNrOiAqLCBvcHRpb25zOiB7cGFzc2l2ZT86IGJvb2xlYW4sIGNhcHR1cmU/OiBib29sZWFufSA9IHt9KSB7XG4gICAgaWYgKCdwYXNzaXZlJyBpbiBvcHRpb25zICYmIHBhc3NpdmVTdXBwb3J0ZWQpIHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIChvcHRpb25zOiBhbnkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaywgb3B0aW9ucy5jYXB0dXJlKTtcbiAgICB9XG59O1xuXG4vLyBTdXBwcmVzcyB0aGUgbmV4dCBjbGljaywgYnV0IG9ubHkgaWYgaXQncyBpbW1lZGlhdGUuXG5jb25zdCBzdXBwcmVzc0NsaWNrOiBNb3VzZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHN1cHByZXNzQ2xpY2ssIHRydWUpO1xufTtcblxuRE9NLnN1cHByZXNzQ2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdXBwcmVzc0NsaWNrLCB0cnVlKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHN1cHByZXNzQ2xpY2ssIHRydWUpO1xuICAgIH0sIDApO1xufTtcblxuRE9NLm1vdXNlUG9zID0gZnVuY3Rpb24gKGVsOiBIVE1MRWxlbWVudCwgZTogYW55KSB7XG4gICAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGUgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0gOiBlO1xuICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgIGUuY2xpZW50WCAtIHJlY3QubGVmdCAtIGVsLmNsaWVudExlZnQsXG4gICAgICAgIGUuY2xpZW50WSAtIHJlY3QudG9wIC0gZWwuY2xpZW50VG9wXG4gICAgKTtcbn07XG5cbkRPTS50b3VjaFBvcyA9IGZ1bmN0aW9uIChlbDogSFRNTEVsZW1lbnQsIGU6IGFueSkge1xuICAgIGNvbnN0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgcG9pbnRzID0gW107XG4gICAgY29uc3QgdG91Y2hlcyA9IChlLnR5cGUgPT09ICd0b3VjaGVuZCcpID8gZS5jaGFuZ2VkVG91Y2hlcyA6IGUudG91Y2hlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcG9pbnRzLnB1c2gobmV3IFBvaW50KFxuICAgICAgICAgICAgdG91Y2hlc1tpXS5jbGllbnRYIC0gcmVjdC5sZWZ0IC0gZWwuY2xpZW50TGVmdCxcbiAgICAgICAgICAgIHRvdWNoZXNbaV0uY2xpZW50WSAtIHJlY3QudG9wIC0gZWwuY2xpZW50VG9wXG4gICAgICAgICkpO1xuICAgIH1cbiAgICByZXR1cm4gcG9pbnRzO1xufTtcblxuRE9NLm1vdXNlQnV0dG9uID0gZnVuY3Rpb24gKGU6IE1vdXNlRXZlbnQpIHtcbiAgICBhc3NlcnQoZS50eXBlID09PSAnbW91c2Vkb3duJyB8fCBlLnR5cGUgPT09ICdtb3VzZXVwJyk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuSW5zdGFsbFRyaWdnZXIgIT09ICd1bmRlZmluZWQnICYmIGUuYnV0dG9uID09PSAyICYmIGUuY3RybEtleSAmJlxuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtLnRvVXBwZXJDYXNlKCkuaW5kZXhPZignTUFDJykgPj0gMCkge1xuICAgICAgICAvLyBGaXggZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8zMTMxOlxuICAgICAgICAvLyBGaXJlZm94IChkZXRlY3RlZCBieSBJbnN0YWxsVHJpZ2dlcikgb24gTWFjIGRldGVybWluZXMgZS5idXR0b24gPSAyIHdoZW5cbiAgICAgICAgLy8gdXNpbmcgQ29udHJvbCArIGxlZnQgY2xpY2tcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBlLmJ1dHRvbjtcbn07XG5cbkRPTS5yZW1vdmUgPSBmdW5jdGlvbihub2RlOiBIVE1MRWxlbWVudCkge1xuICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbn07XG4iLCIvLyBAZmxvd1xuXG50eXBlIENvbmZpZyA9IHt8XG4gIEFQSV9VUkw6IHN0cmluZyxcbiAgUkVRVUlSRV9BQ0NFU1NfVE9LRU46IGJvb2xlYW4sXG4gIEFDQ0VTU19UT0tFTjogP3N0cmluZ1xufH07XG5cbmNvbnN0IGNvbmZpZzogQ29uZmlnID0ge1xuICAgIEFQSV9VUkw6ICdodHRwczovL2FwaS5tYXBib3guY29tJyxcbiAgICBSRVFVSVJFX0FDQ0VTU19UT0tFTjogdHJ1ZSxcbiAgICBBQ0NFU1NfVE9LRU46IG51bGxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuL2Jyb3dzZXInO1xuXG5jb25zdCBoZWxwID0gJ1NlZSBodHRwczovL3d3dy5tYXBib3guY29tL2FwaS1kb2N1bWVudGF0aW9uLyNhY2Nlc3MtdG9rZW5zJztcblxudHlwZSBVcmxPYmplY3QgPSB7fFxuICAgIHByb3RvY29sOiBzdHJpbmcsXG4gICAgYXV0aG9yaXR5OiBzdHJpbmcsXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIHBhcmFtczogQXJyYXk8c3RyaW5nPlxufH07XG5cbmZ1bmN0aW9uIG1ha2VBUElVUkwodXJsT2JqZWN0OiBVcmxPYmplY3QsIGFjY2Vzc1Rva2VuOiBzdHJpbmcgfCBudWxsIHwgdm9pZCk6IHN0cmluZyB7XG4gICAgY29uc3QgYXBpVXJsT2JqZWN0ID0gcGFyc2VVcmwoY29uZmlnLkFQSV9VUkwpO1xuICAgIHVybE9iamVjdC5wcm90b2NvbCA9IGFwaVVybE9iamVjdC5wcm90b2NvbDtcbiAgICB1cmxPYmplY3QuYXV0aG9yaXR5ID0gYXBpVXJsT2JqZWN0LmF1dGhvcml0eTtcblxuICAgIGlmIChhcGlVcmxPYmplY3QucGF0aCAhPT0gJy8nKSB7XG4gICAgICAgIHVybE9iamVjdC5wYXRoID0gYCR7YXBpVXJsT2JqZWN0LnBhdGh9JHt1cmxPYmplY3QucGF0aH1gO1xuICAgIH1cblxuICAgIGlmICghY29uZmlnLlJFUVVJUkVfQUNDRVNTX1RPS0VOKSByZXR1cm4gZm9ybWF0VXJsKHVybE9iamVjdCk7XG5cbiAgICBhY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuIHx8IGNvbmZpZy5BQ0NFU1NfVE9LRU47XG4gICAgaWYgKCFhY2Nlc3NUb2tlbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBbiBBUEkgYWNjZXNzIHRva2VuIGlzIHJlcXVpcmVkIHRvIHVzZSBNYXBib3ggR0wuICR7aGVscH1gKTtcbiAgICBpZiAoYWNjZXNzVG9rZW5bMF0gPT09ICdzJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVc2UgYSBwdWJsaWMgYWNjZXNzIHRva2VuIChway4qKSB3aXRoIE1hcGJveCBHTCwgbm90IGEgc2VjcmV0IGFjY2VzcyB0b2tlbiAoc2suKikuICR7aGVscH1gKTtcblxuICAgIHVybE9iamVjdC5wYXJhbXMucHVzaChgYWNjZXNzX3Rva2VuPSR7YWNjZXNzVG9rZW59YCk7XG4gICAgcmV0dXJuIGZvcm1hdFVybCh1cmxPYmplY3QpO1xufVxuXG5mdW5jdGlvbiBpc01hcGJveFVSTCh1cmw6IHN0cmluZykge1xuICAgIHJldHVybiB1cmwuaW5kZXhPZignbWFwYm94OicpID09PSAwO1xufVxuXG5leHBvcnQgeyBpc01hcGJveFVSTCB9O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplU3R5bGVVUkwgPSBmdW5jdGlvbih1cmw6IHN0cmluZywgYWNjZXNzVG9rZW4/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICghaXNNYXBib3hVUkwodXJsKSkgcmV0dXJuIHVybDtcbiAgICBjb25zdCB1cmxPYmplY3QgPSBwYXJzZVVybCh1cmwpO1xuICAgIHVybE9iamVjdC5wYXRoID0gYC9zdHlsZXMvdjEke3VybE9iamVjdC5wYXRofWA7XG4gICAgcmV0dXJuIG1ha2VBUElVUkwodXJsT2JqZWN0LCBhY2Nlc3NUb2tlbik7XG59O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplR2x5cGhzVVJMID0gZnVuY3Rpb24odXJsOiBzdHJpbmcsIGFjY2Vzc1Rva2VuPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIWlzTWFwYm94VVJMKHVybCkpIHJldHVybiB1cmw7XG4gICAgY29uc3QgdXJsT2JqZWN0ID0gcGFyc2VVcmwodXJsKTtcbiAgICB1cmxPYmplY3QucGF0aCA9IGAvZm9udHMvdjEke3VybE9iamVjdC5wYXRofWA7XG4gICAgcmV0dXJuIG1ha2VBUElVUkwodXJsT2JqZWN0LCBhY2Nlc3NUb2tlbik7XG59O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplU291cmNlVVJMID0gZnVuY3Rpb24odXJsOiBzdHJpbmcsIGFjY2Vzc1Rva2VuPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIWlzTWFwYm94VVJMKHVybCkpIHJldHVybiB1cmw7XG4gICAgY29uc3QgdXJsT2JqZWN0ID0gcGFyc2VVcmwodXJsKTtcbiAgICB1cmxPYmplY3QucGF0aCA9IGAvdjQvJHt1cmxPYmplY3QuYXV0aG9yaXR5fS5qc29uYDtcbiAgICAvLyBUaWxlSlNPTiByZXF1ZXN0cyBuZWVkIGEgc2VjdXJlIGZsYWcgYXBwZW5kZWQgdG8gdGhlaXIgVVJMcyBzb1xuICAgIC8vIHRoYXQgdGhlIHNlcnZlciBrbm93cyB0byBzZW5kIFNTTC1pZmllZCByZXNvdXJjZSByZWZlcmVuY2VzLlxuICAgIHVybE9iamVjdC5wYXJhbXMucHVzaCgnc2VjdXJlJyk7XG4gICAgcmV0dXJuIG1ha2VBUElVUkwodXJsT2JqZWN0LCBhY2Nlc3NUb2tlbik7XG59O1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplU3ByaXRlVVJMID0gZnVuY3Rpb24odXJsOiBzdHJpbmcsIGZvcm1hdDogc3RyaW5nLCBleHRlbnNpb246IHN0cmluZywgYWNjZXNzVG9rZW4/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHVybE9iamVjdCA9IHBhcnNlVXJsKHVybCk7XG4gICAgaWYgKCFpc01hcGJveFVSTCh1cmwpKSB7XG4gICAgICAgIHVybE9iamVjdC5wYXRoICs9IGAke2Zvcm1hdH0ke2V4dGVuc2lvbn1gO1xuICAgICAgICByZXR1cm4gZm9ybWF0VXJsKHVybE9iamVjdCk7XG4gICAgfVxuICAgIHVybE9iamVjdC5wYXRoID0gYC9zdHlsZXMvdjEke3VybE9iamVjdC5wYXRofS9zcHJpdGUke2Zvcm1hdH0ke2V4dGVuc2lvbn1gO1xuICAgIHJldHVybiBtYWtlQVBJVVJMKHVybE9iamVjdCwgYWNjZXNzVG9rZW4pO1xufTtcblxuY29uc3QgaW1hZ2VFeHRlbnNpb25SZSA9IC8oXFwuKHBuZ3xqcGcpXFxkKikoPz0kKS87XG5cbmV4cG9ydCBjb25zdCBub3JtYWxpemVUaWxlVVJMID0gZnVuY3Rpb24odGlsZVVSTDogc3RyaW5nLCBzb3VyY2VVUkw/OiA/c3RyaW5nLCB0aWxlU2l6ZT86ID9udW1iZXIpOiBzdHJpbmcge1xuICAgIGlmICghc291cmNlVVJMIHx8ICFpc01hcGJveFVSTChzb3VyY2VVUkwpKSByZXR1cm4gdGlsZVVSTDtcblxuICAgIGNvbnN0IHVybE9iamVjdCA9IHBhcnNlVXJsKHRpbGVVUkwpO1xuXG4gICAgLy8gVGhlIHY0IG1hcGJveCB0aWxlIEFQSSBzdXBwb3J0cyA1MTJ4NTEyIGltYWdlIHRpbGVzIG9ubHkgd2hlbiBAMnhcbiAgICAvLyBpcyBhcHBlbmRlZCB0byB0aGUgdGlsZSBVUkwuIElmIGB0aWxlU2l6ZTogNTEyYCBpcyBzcGVjaWZpZWQgZm9yXG4gICAgLy8gYSBNYXBib3ggcmFzdGVyIHNvdXJjZSBmb3JjZSB0aGUgQDJ4IHN1ZmZpeCBldmVuIGlmIGEgbm9uIGhpZHBpIGRldmljZS5cbiAgICBjb25zdCBzdWZmaXggPSBicm93c2VyLmRldmljZVBpeGVsUmF0aW8gPj0gMiB8fCB0aWxlU2l6ZSA9PT0gNTEyID8gJ0AyeCcgOiAnJztcbiAgICBjb25zdCBleHRlbnNpb24gPSBicm93c2VyLnN1cHBvcnRzV2VicCA/ICcud2VicCcgOiAnJDEnO1xuICAgIHVybE9iamVjdC5wYXRoID0gdXJsT2JqZWN0LnBhdGgucmVwbGFjZShpbWFnZUV4dGVuc2lvblJlLCBgJHtzdWZmaXh9JHtleHRlbnNpb259YCk7XG5cbiAgICByZXBsYWNlVGVtcEFjY2Vzc1Rva2VuKHVybE9iamVjdC5wYXJhbXMpO1xuICAgIHJldHVybiBmb3JtYXRVcmwodXJsT2JqZWN0KTtcbn07XG5cbmZ1bmN0aW9uIHJlcGxhY2VUZW1wQWNjZXNzVG9rZW4ocGFyYW1zOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHBhcmFtc1tpXS5pbmRleE9mKCdhY2Nlc3NfdG9rZW49dGsuJykgPT09IDApIHtcbiAgICAgICAgICAgIHBhcmFtc1tpXSA9IGBhY2Nlc3NfdG9rZW49JHtjb25maWcuQUNDRVNTX1RPS0VOIHx8ICcnfWA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IHVybFJlID0gL14oXFx3Kyk6XFwvXFwvKFteLz9dKikoXFwvW14/XSspP1xcPz8oLispPy87XG5cbmZ1bmN0aW9uIHBhcnNlVXJsKHVybDogc3RyaW5nKTogVXJsT2JqZWN0IHtcbiAgICBjb25zdCBwYXJ0cyA9IHVybC5tYXRjaCh1cmxSZSk7XG4gICAgaWYgKCFwYXJ0cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBVUkwgb2JqZWN0Jyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHByb3RvY29sOiBwYXJ0c1sxXSxcbiAgICAgICAgYXV0aG9yaXR5OiBwYXJ0c1syXSxcbiAgICAgICAgcGF0aDogcGFydHNbM10gfHwgJy8nLFxuICAgICAgICBwYXJhbXM6IHBhcnRzWzRdID8gcGFydHNbNF0uc3BsaXQoJyYnKSA6IFtdXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VXJsKG9iajogVXJsT2JqZWN0KTogc3RyaW5nIHtcbiAgICBjb25zdCBwYXJhbXMgPSBvYmoucGFyYW1zLmxlbmd0aCA/IGA/JHtvYmoucGFyYW1zLmpvaW4oJyYnKX1gIDogJyc7XG4gICAgcmV0dXJuIGAke29iai5wcm90b2NvbH06Ly8ke29iai5hdXRob3JpdHl9JHtvYmoucGF0aH0ke3BhcmFtc31gO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdyc7XG5jb25zdCB7IEhUTUxJbWFnZUVsZW1lbnQsIEhUTUxDYW52YXNFbGVtZW50LCBIVE1MVmlkZW9FbGVtZW50LCBJbWFnZURhdGEgfSA9IHdpbmRvdztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcbmltcG9ydCB0eXBlIHtSR0JBSW1hZ2UsIEFscGhhSW1hZ2V9IGZyb20gJy4uL3V0aWwvaW1hZ2UnO1xuXG5leHBvcnQgdHlwZSBUZXh0dXJlRm9ybWF0ID1cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnUkdCQSc+XG4gICAgfCAkUHJvcGVydHlUeXBlPFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgJ0FMUEhBJz47XG5leHBvcnQgdHlwZSBUZXh0dXJlRmlsdGVyID1cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnTElORUFSJz5cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnTElORUFSX01JUE1BUF9ORUFSRVNUJz5cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnTkVBUkVTVCc+O1xuZXhwb3J0IHR5cGUgVGV4dHVyZVdyYXAgPVxuICAgIHwgJFByb3BlcnR5VHlwZTxXZWJHTFJlbmRlcmluZ0NvbnRleHQsICdSRVBFQVQnPlxuICAgIHwgJFByb3BlcnR5VHlwZTxXZWJHTFJlbmRlcmluZ0NvbnRleHQsICdDTEFNUF9UT19FREdFJz5cbiAgICB8ICRQcm9wZXJ0eVR5cGU8V2ViR0xSZW5kZXJpbmdDb250ZXh0LCAnTUlSUk9SRURfUkVQRUFUJz47XG5cbnR5cGUgRW1wdHlJbWFnZSA9IHtcbiAgICB3aWR0aDogbnVtYmVyLFxuICAgIGhlaWdodDogbnVtYmVyLFxuICAgIGRhdGE6IG51bGxcbn1cblxuZXhwb3J0IHR5cGUgVGV4dHVyZUltYWdlID1cbiAgICB8IFJHQkFJbWFnZVxuICAgIHwgQWxwaGFJbWFnZVxuICAgIHwgSFRNTEltYWdlRWxlbWVudFxuICAgIHwgSFRNTENhbnZhc0VsZW1lbnRcbiAgICB8IEhUTUxWaWRlb0VsZW1lbnRcbiAgICB8IEltYWdlRGF0YVxuICAgIHwgRW1wdHlJbWFnZTtcblxuY2xhc3MgVGV4dHVyZSB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBzaXplOiBBcnJheTxudW1iZXI+O1xuICAgIHRleHR1cmU6IFdlYkdMVGV4dHVyZTtcbiAgICBmb3JtYXQ6IFRleHR1cmVGb3JtYXQ7XG4gICAgZmlsdGVyOiA/VGV4dHVyZUZpbHRlcjtcbiAgICB3cmFwOiA/VGV4dHVyZVdyYXA7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBpbWFnZTogVGV4dHVyZUltYWdlLCBmb3JtYXQ6IFRleHR1cmVGb3JtYXQsIHByZW11bHRpcGx5OiA/Ym9vbGVhbikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGltYWdlO1xuICAgICAgICB0aGlzLnNpemUgPSBbd2lkdGgsIGhlaWdodF07XG4gICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0O1xuXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IGNvbnRleHQuZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZShpbWFnZSwgcHJlbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIHVwZGF0ZShpbWFnZTogVGV4dHVyZUltYWdlLCBwcmVtdWx0aXBseTogP2Jvb2xlYW4pIHtcbiAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gaW1hZ2U7XG4gICAgICAgIHRoaXMuc2l6ZSA9IFt3aWR0aCwgaGVpZ2h0XTtcblxuICAgICAgICBjb25zdCB7Y29udGV4dH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7Z2x9ID0gY29udGV4dDtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlKTtcbiAgICAgICAgY29udGV4dC5waXhlbFN0b3JlVW5wYWNrLnNldCgxKTtcblxuICAgICAgICBpZiAodGhpcy5mb3JtYXQgPT09IGdsLlJHQkEgJiYgcHJlbXVsdGlwbHkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldCh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbWFnZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQgfHwgaW1hZ2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCB8fCBpbWFnZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQgfHwgaW1hZ2UgaW5zdGFuY2VvZiBJbWFnZURhdGEpIHtcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgdGhpcy5mb3JtYXQsIHRoaXMuZm9ybWF0LCBnbC5VTlNJR05FRF9CWVRFLCBpbWFnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIHRoaXMuZm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCAwLCB0aGlzLmZvcm1hdCwgZ2wuVU5TSUdORURfQllURSwgaW1hZ2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiaW5kKGZpbHRlcjogVGV4dHVyZUZpbHRlciwgd3JhcDogVGV4dHVyZVdyYXAsIG1pbkZpbHRlcjogP1RleHR1cmVGaWx0ZXIpIHtcbiAgICAgICAgY29uc3Qge2NvbnRleHR9ID0gdGhpcztcbiAgICAgICAgY29uc3Qge2dsfSA9IGNvbnRleHQ7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG5cbiAgICAgICAgaWYgKGZpbHRlciAhPT0gdGhpcy5maWx0ZXIpIHtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBmaWx0ZXIpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIG1pbkZpbHRlciB8fCBmaWx0ZXIpO1xuICAgICAgICAgICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod3JhcCAhPT0gdGhpcy53cmFwKSB7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCB3cmFwKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIHdyYXApO1xuICAgICAgICAgICAgdGhpcy53cmFwID0gd3JhcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGNvbnN0IHtnbH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gKG51bGw6IGFueSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0dXJlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFNoZWxmUGFjayBmcm9tICdAbWFwYm94L3NoZWxmLXBhY2snO1xuXG5pbXBvcnQgeyBSR0JBSW1hZ2UgfSBmcm9tICcuLi91dGlsL2ltYWdlJztcbmltcG9ydCB7IEltYWdlUG9zaXRpb24gfSBmcm9tICcuL2ltYWdlX2F0bGFzJztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZSc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZUltYWdlfSBmcm9tICcuLi9zdHlsZS9zdHlsZV9pbWFnZSc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuaW1wb3J0IHR5cGUge0Jpbn0gZnJvbSAnQG1hcGJveC9zaGVsZi1wYWNrJztcbmltcG9ydCB0eXBlIHtDYWxsYmFja30gZnJvbSAnLi4vdHlwZXMvY2FsbGJhY2snO1xuXG50eXBlIFBhdHRlcm4gPSB7XG4gICAgYmluOiBCaW4sXG4gICAgcG9zaXRpb246IEltYWdlUG9zaXRpb25cbn07XG5cbi8vIFdoZW4gY29waWVkIGludG8gdGhlIGF0bGFzIHRleHR1cmUsIGltYWdlIGRhdGEgaXMgcGFkZGVkIGJ5IG9uZSBwaXhlbCBvbiBlYWNoIHNpZGUuIEljb25cbi8vIGltYWdlcyBhcmUgcGFkZGVkIHdpdGggZnVsbHkgdHJhbnNwYXJlbnQgcGl4ZWxzLCB3aGlsZSBwYXR0ZXJuIGltYWdlcyBhcmUgcGFkZGVkIHdpdGggYVxuLy8gY29weSBvZiB0aGUgaW1hZ2UgZGF0YSB3cmFwcGVkIGZyb20gdGhlIG9wcG9zaXRlIHNpZGUuIEluIGJvdGggY2FzZXMsIHRoaXMgZW5zdXJlcyB0aGVcbi8vIGNvcnJlY3QgYmVoYXZpb3Igb2YgR0xfTElORUFSIHRleHR1cmUgc2FtcGxpbmcgbW9kZS5cbmNvbnN0IHBhZGRpbmcgPSAxO1xuXG4vKlxuICAgIEltYWdlTWFuYWdlciBkb2VzIHR3byB0aGluZ3M6XG5cbiAgICAgICAgMS4gVHJhY2tzIHJlcXVlc3RzIGZvciBpY29uIGltYWdlcyBmcm9tIHRpbGUgd29ya2VycyBhbmQgc2VuZHMgcmVzcG9uc2VzIHdoZW4gdGhlIHJlcXVlc3RzIGFyZSBmdWxmaWxsZWQuXG4gICAgICAgIDIuIEJ1aWxkcyBhIHRleHR1cmUgYXRsYXMgZm9yIHBhdHRlcm4gaW1hZ2VzLlxuXG4gICAgVGhlc2UgYXJlIGRpc3BhcmF0ZSByZXNwb25zaWJpbGl0aWVzIGFuZCBzaG91bGQgZXZlbnR1YWxseSBiZSBoYW5kbGVkIGJ5IGRpZmZlcmVudCBjbGFzc2VzLiBXaGVuIHdlIGltcGxlbWVudFxuICAgIGRhdGEtZHJpdmVuIHN1cHBvcnQgZm9yIGAqLXBhdHRlcm5gLCB3ZSdsbCBsaWtlbHkgdXNlIHBlci1idWNrZXQgcGF0dGVybiBhdGxhc2VzLCBhbmQgdGhhdCB3b3VsZCBiZSBhIGdvb2QgdGltZVxuICAgIHRvIHJlZmFjdG9yIHRoaXMuXG4qL1xuY2xhc3MgSW1hZ2VNYW5hZ2VyIHtcbiAgICBpbWFnZXM6IHtbc3RyaW5nXTogU3R5bGVJbWFnZX07XG4gICAgbG9hZGVkOiBib29sZWFuO1xuICAgIHJlcXVlc3RvcnM6IEFycmF5PHtpZHM6IEFycmF5PHN0cmluZz4sIGNhbGxiYWNrOiBDYWxsYmFjazx7W3N0cmluZ106IFN0eWxlSW1hZ2V9Pn0+O1xuXG4gICAgc2hlbGZQYWNrOiBTaGVsZlBhY2s7XG4gICAgcGF0dGVybnM6IHtbc3RyaW5nXTogUGF0dGVybn07XG4gICAgYXRsYXNJbWFnZTogUkdCQUltYWdlO1xuICAgIGF0bGFzVGV4dHVyZTogP1RleHR1cmU7XG4gICAgZGlydHk6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbWFnZXMgPSB7fTtcbiAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0b3JzID0gW107XG5cbiAgICAgICAgdGhpcy5zaGVsZlBhY2sgPSBuZXcgU2hlbGZQYWNrKDY0LCA2NCwge2F1dG9SZXNpemU6IHRydWV9KTtcbiAgICAgICAgdGhpcy5wYXR0ZXJucyA9IHt9O1xuICAgICAgICB0aGlzLmF0bGFzSW1hZ2UgPSBuZXcgUkdCQUltYWdlKHt3aWR0aDogNjQsIGhlaWdodDogNjR9KTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgaXNMb2FkZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRlZDtcbiAgICB9XG5cbiAgICBzZXRMb2FkZWQobG9hZGVkOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRlZCA9PT0gbG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvYWRlZCA9IGxvYWRlZDtcblxuICAgICAgICBpZiAobG9hZGVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHtpZHMsIGNhbGxiYWNrfSBvZiB0aGlzLnJlcXVlc3RvcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ub3RpZnkoaWRzLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RvcnMgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEltYWdlKGlkOiBzdHJpbmcpOiA/U3R5bGVJbWFnZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlc1tpZF07XG4gICAgfVxuXG4gICAgYWRkSW1hZ2UoaWQ6IHN0cmluZywgaW1hZ2U6IFN0eWxlSW1hZ2UpIHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLmltYWdlc1tpZF0pO1xuICAgICAgICB0aGlzLmltYWdlc1tpZF0gPSBpbWFnZTtcbiAgICB9XG5cbiAgICByZW1vdmVJbWFnZShpZDogc3RyaW5nKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmltYWdlc1tpZF0pO1xuICAgICAgICBkZWxldGUgdGhpcy5pbWFnZXNbaWRdO1xuXG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLnBhdHRlcm5zW2lkXTtcbiAgICAgICAgaWYgKHBhdHRlcm4pIHtcbiAgICAgICAgICAgIHRoaXMuc2hlbGZQYWNrLnVucmVmKHBhdHRlcm4uYmluKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBhdHRlcm5zW2lkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEltYWdlcyhpZHM6IEFycmF5PHN0cmluZz4sIGNhbGxiYWNrOiBDYWxsYmFjazx7W3N0cmluZ106IFN0eWxlSW1hZ2V9Pikge1xuICAgICAgICAvLyBJZiB0aGUgc3ByaXRlIGhhcyBiZWVuIGxvYWRlZCwgb3IgaWYgYWxsIHRoZSBpY29uIGRlcGVuZGVuY2llcyBhcmUgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgIC8vIChpLmUuIGlmIHRoZXkndmUgYmVlbiBhZGRlZGVkIHZpYSBydW50aW1lIHN0eWxpbmcpLCB0aGVuIG5vdGlmeSB0aGUgcmVxdWVzdG9yIGltbWVkaWF0ZWx5LlxuICAgICAgICAvLyBPdGhlcndpc2UsIGRlbGF5IG5vdGlmaWNhdGlvbiB1bnRpbCB0aGUgc3ByaXRlIGlzIGxvYWRlZC4gQXQgdGhhdCBwb2ludCwgaWYgYW55IG9mIHRoZVxuICAgICAgICAvLyBkZXBlbmRlbmNpZXMgYXJlIHN0aWxsIHVuYXZhaWxhYmxlLCB3ZSdsbCBqdXN0IGFzc3VtZSB0aGV5IGFyZSBwZXJtYW5lbnRseSBtaXNzaW5nLlxuICAgICAgICBsZXQgaGFzQWxsRGVwZW5kZW5jaWVzID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLmlzTG9hZGVkKCkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmltYWdlc1tpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzQWxsRGVwZW5kZW5jaWVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzTG9hZGVkKCkgfHwgaGFzQWxsRGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9ub3RpZnkoaWRzLCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RvcnMucHVzaCh7aWRzLCBjYWxsYmFja30pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX25vdGlmeShpZHM6IEFycmF5PHN0cmluZz4sIGNhbGxiYWNrOiBDYWxsYmFjazx7W3N0cmluZ106IFN0eWxlSW1hZ2V9Pikge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgb2YgaWRzKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuaW1hZ2VzW2lkXTtcbiAgICAgICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgICAgIC8vIENsb25lIHRoZSBpbWFnZSBzbyB0aGF0IG91ciBvd24gY29weSBvZiBpdHMgQXJyYXlCdWZmZXIgZG9lc24ndCBnZXQgdHJhbnNmZXJyZWQuXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VbaWRdID0ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBpbWFnZS5kYXRhLmNsb25lKCksXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW86IGltYWdlLnBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgICAgIHNkZjogaW1hZ2Uuc2RmXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICAvLyBQYXR0ZXJuIHN0dWZmXG5cbiAgICBnZXRQaXhlbFNpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5zaGVsZlBhY2sudyxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5zaGVsZlBhY2suaFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldFBhdHRlcm4oaWQ6IHN0cmluZyk6ID9JbWFnZVBvc2l0aW9uIHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IHRoaXMucGF0dGVybnNbaWRdO1xuICAgICAgICBpZiAocGF0dGVybikge1xuICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm4ucG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuZ2V0SW1hZ2UoaWQpO1xuICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gaW1hZ2UuZGF0YS53aWR0aCArIHBhZGRpbmcgKiAyO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBpbWFnZS5kYXRhLmhlaWdodCArIHBhZGRpbmcgKiAyO1xuXG4gICAgICAgIGNvbnN0IGJpbiA9IHRoaXMuc2hlbGZQYWNrLnBhY2tPbmUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGlmICghYmluKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXRsYXNJbWFnZS5yZXNpemUodGhpcy5nZXRQaXhlbFNpemUoKSk7XG5cbiAgICAgICAgY29uc3Qgc3JjID0gaW1hZ2UuZGF0YTtcbiAgICAgICAgY29uc3QgZHN0ID0gdGhpcy5hdGxhc0ltYWdlO1xuXG4gICAgICAgIGNvbnN0IHggPSBiaW4ueCArIHBhZGRpbmc7XG4gICAgICAgIGNvbnN0IHkgPSBiaW4ueSArIHBhZGRpbmc7XG4gICAgICAgIGNvbnN0IHcgPSBzcmMud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSBzcmMuaGVpZ2h0O1xuXG4gICAgICAgIFJHQkFJbWFnZS5jb3B5KHNyYywgZHN0LCB7IHg6IDAsIHk6IDAgfSwgeyB4LCB5IH0sIHsgd2lkdGg6IHcsIGhlaWdodDogaCB9KTtcblxuICAgICAgICAvLyBBZGQgMSBwaXhlbCB3cmFwcGVkIHBhZGRpbmcgb24gZWFjaCBzaWRlIG9mIHRoZSBpbWFnZS5cbiAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogMCwgeTogaCAtIDEgfSwgeyB4OiB4LCB5OiB5IC0gMSB9LCB7IHdpZHRoOiB3LCBoZWlnaHQ6IDEgfSk7IC8vIFRcbiAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogMCwgeTogICAgIDAgfSwgeyB4OiB4LCB5OiB5ICsgaCB9LCB7IHdpZHRoOiB3LCBoZWlnaHQ6IDEgfSk7IC8vIEJcbiAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogdyAtIDEsIHk6IDAgfSwgeyB4OiB4IC0gMSwgeTogeSB9LCB7IHdpZHRoOiAxLCBoZWlnaHQ6IGggfSk7IC8vIExcbiAgICAgICAgUkdCQUltYWdlLmNvcHkoc3JjLCBkc3QsIHsgeDogMCwgICAgIHk6IDAgfSwgeyB4OiB4ICsgdywgeTogeSB9LCB7IHdpZHRoOiAxLCBoZWlnaHQ6IGggfSk7IC8vIFJcblxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IG5ldyBJbWFnZVBvc2l0aW9uKGJpbiwgaW1hZ2UpO1xuICAgICAgICB0aGlzLnBhdHRlcm5zW2lkXSA9IHsgYmluLCBwb3NpdGlvbiB9O1xuICAgICAgICByZXR1cm4gcG9zaXRpb247XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgaWYgKCF0aGlzLmF0bGFzVGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5hdGxhc1RleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmF0bGFzSW1hZ2UsIGdsLlJHQkEpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuYXRsYXNUZXh0dXJlLnVwZGF0ZSh0aGlzLmF0bGFzSW1hZ2UpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hdGxhc1RleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRpbnlTREY7XG5cbnZhciBJTkYgPSAxZTIwO1xuXG5mdW5jdGlvbiBUaW55U0RGKGZvbnRTaXplLCBidWZmZXIsIHJhZGl1cywgY3V0b2ZmLCBmb250RmFtaWx5LCBmb250V2VpZ2h0KSB7XG4gICAgdGhpcy5mb250U2l6ZSA9IGZvbnRTaXplIHx8IDI0O1xuICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyID09PSB1bmRlZmluZWQgPyAzIDogYnVmZmVyO1xuICAgIHRoaXMuY3V0b2ZmID0gY3V0b2ZmIHx8IDAuMjU7XG4gICAgdGhpcy5mb250RmFtaWx5ID0gZm9udEZhbWlseSB8fCAnc2Fucy1zZXJpZic7XG4gICAgdGhpcy5mb250V2VpZ2h0ID0gZm9udFdlaWdodCB8fCAnbm9ybWFsJztcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cyB8fCA4O1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplID0gdGhpcy5mb250U2l6ZSArIHRoaXMuYnVmZmVyICogMjtcblxuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5oZWlnaHQgPSBzaXplO1xuXG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHRoaXMuY3R4LmZvbnQgPSB0aGlzLmZvbnRXZWlnaHQgKyAnICcgKyB0aGlzLmZvbnRTaXplICsgJ3B4ICcgKyB0aGlzLmZvbnRGYW1pbHk7XG4gICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcblxuICAgIC8vIHRlbXBvcmFyeSBhcnJheXMgZm9yIHRoZSBkaXN0YW5jZSB0cmFuc2Zvcm1cbiAgICB0aGlzLmdyaWRPdXRlciA9IG5ldyBGbG9hdDY0QXJyYXkoc2l6ZSAqIHNpemUpO1xuICAgIHRoaXMuZ3JpZElubmVyID0gbmV3IEZsb2F0NjRBcnJheShzaXplICogc2l6ZSk7XG4gICAgdGhpcy5mID0gbmV3IEZsb2F0NjRBcnJheShzaXplKTtcbiAgICB0aGlzLmQgPSBuZXcgRmxvYXQ2NEFycmF5KHNpemUpO1xuICAgIHRoaXMueiA9IG5ldyBGbG9hdDY0QXJyYXkoc2l6ZSArIDEpO1xuICAgIHRoaXMudiA9IG5ldyBJbnQxNkFycmF5KHNpemUpO1xuXG4gICAgLy8gaGFjayBhcm91bmQgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NzM3ODUyXG4gICAgdGhpcy5taWRkbGUgPSBNYXRoLnJvdW5kKChzaXplIC8gMikgKiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdHZWNrby8nKSA+PSAwID8gMS4yIDogMSkpO1xufVxuXG5UaW55U0RGLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKGNoYXIpIHtcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KGNoYXIsIHRoaXMuYnVmZmVyLCB0aGlzLm1pZGRsZSk7XG5cbiAgICB2YXIgaW1nRGF0YSA9IHRoaXMuY3R4LmdldEltYWdlRGF0YSgwLCAwLCB0aGlzLnNpemUsIHRoaXMuc2l6ZSk7XG4gICAgdmFyIGFscGhhQ2hhbm5lbCA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh0aGlzLnNpemUgKiB0aGlzLnNpemUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNpemUgKiB0aGlzLnNpemU7IGkrKykge1xuICAgICAgICB2YXIgYSA9IGltZ0RhdGEuZGF0YVtpICogNCArIDNdIC8gMjU1OyAvLyBhbHBoYSB2YWx1ZVxuICAgICAgICB0aGlzLmdyaWRPdXRlcltpXSA9IGEgPT09IDEgPyAwIDogYSA9PT0gMCA/IElORiA6IE1hdGgucG93KE1hdGgubWF4KDAsIDAuNSAtIGEpLCAyKTtcbiAgICAgICAgdGhpcy5ncmlkSW5uZXJbaV0gPSBhID09PSAxID8gSU5GIDogYSA9PT0gMCA/IDAgOiBNYXRoLnBvdyhNYXRoLm1heCgwLCBhIC0gMC41KSwgMik7XG4gICAgfVxuXG4gICAgZWR0KHRoaXMuZ3JpZE91dGVyLCB0aGlzLnNpemUsIHRoaXMuc2l6ZSwgdGhpcy5mLCB0aGlzLmQsIHRoaXMudiwgdGhpcy56KTtcbiAgICBlZHQodGhpcy5ncmlkSW5uZXIsIHRoaXMuc2l6ZSwgdGhpcy5zaXplLCB0aGlzLmYsIHRoaXMuZCwgdGhpcy52LCB0aGlzLnopO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuc2l6ZSAqIHRoaXMuc2l6ZTsgaSsrKSB7XG4gICAgICAgIHZhciBkID0gdGhpcy5ncmlkT3V0ZXJbaV0gLSB0aGlzLmdyaWRJbm5lcltpXTtcbiAgICAgICAgYWxwaGFDaGFubmVsW2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKDI1NSAtIDI1NSAqIChkIC8gdGhpcy5yYWRpdXMgKyB0aGlzLmN1dG9mZikpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFscGhhQ2hhbm5lbDtcbn07XG5cbi8vIDJEIEV1Y2xpZGVhbiBkaXN0YW5jZSB0cmFuc2Zvcm0gYnkgRmVsemVuc3p3YWxiICYgSHV0dGVubG9jaGVyIGh0dHBzOi8vY3MuYnJvd24uZWR1L35wZmYvZHQvXG5mdW5jdGlvbiBlZHQoZGF0YSwgd2lkdGgsIGhlaWdodCwgZiwgZCwgdiwgeikge1xuICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICBmW3ldID0gZGF0YVt5ICogd2lkdGggKyB4XTtcbiAgICAgICAgfVxuICAgICAgICBlZHQxZChmLCBkLCB2LCB6LCBoZWlnaHQpO1xuICAgICAgICBmb3IgKHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIGRhdGFbeSAqIHdpZHRoICsgeF0gPSBkW3ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICBmb3IgKHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgZlt4XSA9IGRhdGFbeSAqIHdpZHRoICsgeF07XG4gICAgICAgIH1cbiAgICAgICAgZWR0MWQoZiwgZCwgdiwgeiwgd2lkdGgpO1xuICAgICAgICBmb3IgKHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgZGF0YVt5ICogd2lkdGggKyB4XSA9IE1hdGguc3FydChkW3hdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gMUQgc3F1YXJlZCBkaXN0YW5jZSB0cmFuc2Zvcm1cbmZ1bmN0aW9uIGVkdDFkKGYsIGQsIHYsIHosIG4pIHtcbiAgICB2WzBdID0gMDtcbiAgICB6WzBdID0gLUlORjtcbiAgICB6WzFdID0gK0lORjtcblxuICAgIGZvciAodmFyIHEgPSAxLCBrID0gMDsgcSA8IG47IHErKykge1xuICAgICAgICB2YXIgcyA9ICgoZltxXSArIHEgKiBxKSAtIChmW3Zba11dICsgdltrXSAqIHZba10pKSAvICgyICogcSAtIDIgKiB2W2tdKTtcbiAgICAgICAgd2hpbGUgKHMgPD0geltrXSkge1xuICAgICAgICAgICAgay0tO1xuICAgICAgICAgICAgcyA9ICgoZltxXSArIHEgKiBxKSAtIChmW3Zba11dICsgdltrXSAqIHZba10pKSAvICgyICogcSAtIDIgKiB2W2tdKTtcbiAgICAgICAgfVxuICAgICAgICBrKys7XG4gICAgICAgIHZba10gPSBxO1xuICAgICAgICB6W2tdID0gcztcbiAgICAgICAgeltrICsgMV0gPSArSU5GO1xuICAgIH1cblxuICAgIGZvciAocSA9IDAsIGsgPSAwOyBxIDwgbjsgcSsrKSB7XG4gICAgICAgIHdoaWxlICh6W2sgKyAxXSA8IHEpIGsrKztcbiAgICAgICAgZFtxXSA9IChxIC0gdltrXSkgKiAocSAtIHZba10pICsgZlt2W2tdXTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgbG9hZEdseXBoUmFuZ2UgZnJvbSAnLi4vc3R5bGUvbG9hZF9nbHlwaF9yYW5nZSc7XG5cbmltcG9ydCBUaW55U0RGIGZyb20gJ0BtYXBib3gvdGlueS1zZGYnO1xuaW1wb3J0IGlzQ2hhciBmcm9tICcuLi91dGlsL2lzX2NoYXJfaW5fdW5pY29kZV9ibG9jayc7XG5pbXBvcnQgeyBhc3luY0FsbCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBBbHBoYUltYWdlIH0gZnJvbSAnLi4vdXRpbC9pbWFnZSc7XG5cbmltcG9ydCB0eXBlIHtTdHlsZUdseXBofSBmcm9tICcuLi9zdHlsZS9zdHlsZV9nbHlwaCc7XG5pbXBvcnQgdHlwZSB7UmVxdWVzdFRyYW5zZm9ybUZ1bmN0aW9ufSBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5cbnR5cGUgRW50cnkgPSB7XG4gICAgLy8gbnVsbCBtZWFucyB3ZSd2ZSByZXF1ZXN0ZWQgdGhlIHJhbmdlLCBidXQgdGhlIGdseXBoIHdhc24ndCBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0LlxuICAgIGdseXBoczoge1tpZDogbnVtYmVyXTogU3R5bGVHbHlwaCB8IG51bGx9LFxuICAgIHJlcXVlc3RzOiB7W3JhbmdlOiBudW1iZXJdOiBBcnJheTxDYWxsYmFjazx7W251bWJlcl06IFN0eWxlR2x5cGggfCBudWxsfT4+fSxcbiAgICB0aW55U0RGPzogVGlueVNERlxufTtcblxuY2xhc3MgR2x5cGhNYW5hZ2VyIHtcbiAgICByZXF1ZXN0VHJhbnNmb3JtOiBSZXF1ZXN0VHJhbnNmb3JtRnVuY3Rpb247XG4gICAgbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiA/c3RyaW5nO1xuICAgIGVudHJpZXM6IHtbc3RyaW5nXTogRW50cnl9O1xuICAgIHVybDogP3N0cmluZztcblxuICAgIC8vIGV4cG9zZWQgYXMgc3RhdGljcyB0byBlbmFibGUgc3R1YmJpbmcgaW4gdW5pdCB0ZXN0c1xuICAgIHN0YXRpYyBsb2FkR2x5cGhSYW5nZTogdHlwZW9mIGxvYWRHbHlwaFJhbmdlO1xuICAgIHN0YXRpYyBUaW55U0RGOiBDbGFzczxUaW55U0RGPjtcblxuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3RUcmFuc2Zvcm06IFJlcXVlc3RUcmFuc2Zvcm1GdW5jdGlvbiwgbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OiA/c3RyaW5nKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdFRyYW5zZm9ybSA9IHJlcXVlc3RUcmFuc2Zvcm07XG4gICAgICAgIHRoaXMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5ID0gbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5O1xuICAgICAgICB0aGlzLmVudHJpZXMgPSB7fTtcbiAgICB9XG5cbiAgICBzZXRVUkwodXJsOiA/c3RyaW5nKSB7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgIH1cblxuICAgIGdldEdseXBocyhnbHlwaHM6IHtbc3RhY2s6IHN0cmluZ106IEFycmF5PG51bWJlcj59LCBjYWxsYmFjazogQ2FsbGJhY2s8e1tzdGFjazogc3RyaW5nXToge1tpZDogbnVtYmVyXTogP1N0eWxlR2x5cGh9fT4pIHtcbiAgICAgICAgY29uc3QgYWxsID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBzdGFjayBpbiBnbHlwaHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgZ2x5cGhzW3N0YWNrXSkge1xuICAgICAgICAgICAgICAgIGFsbC5wdXNoKHtzdGFjaywgaWR9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGFzeW5jQWxsKGFsbCwgKHtzdGFjaywgaWR9LCBjYWxsYmFjazogQ2FsbGJhY2s8e3N0YWNrOiBzdHJpbmcsIGlkOiBudW1iZXIsIGdseXBoOiA/U3R5bGVHbHlwaH0+KSA9PiB7XG4gICAgICAgICAgICBsZXQgZW50cnkgPSB0aGlzLmVudHJpZXNbc3RhY2tdO1xuICAgICAgICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICAgICAgICAgIGVudHJ5ID0gdGhpcy5lbnRyaWVzW3N0YWNrXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZ2x5cGhzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdHM6IHt9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGdseXBoID0gZW50cnkuZ2x5cGhzW2lkXTtcbiAgICAgICAgICAgIGlmIChnbHlwaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge3N0YWNrLCBpZCwgZ2x5cGh9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdseXBoID0gdGhpcy5fdGlueVNERihlbnRyeSwgc3RhY2ssIGlkKTtcbiAgICAgICAgICAgIGlmIChnbHlwaCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtzdGFjaywgaWQsIGdseXBofSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IE1hdGguZmxvb3IoaWQgLyAyNTYpO1xuICAgICAgICAgICAgaWYgKHJhbmdlICogMjU2ID4gNjU1MzUpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ2dseXBocyA+IDY1NTM1IG5vdCBzdXBwb3J0ZWQnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcmVxdWVzdHMgPSBlbnRyeS5yZXF1ZXN0c1tyYW5nZV07XG4gICAgICAgICAgICBpZiAoIXJlcXVlc3RzKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdHMgPSBlbnRyeS5yZXF1ZXN0c1tyYW5nZV0gPSBbXTtcbiAgICAgICAgICAgICAgICBHbHlwaE1hbmFnZXIubG9hZEdseXBoUmFuZ2Uoc3RhY2ssIHJhbmdlLCAodGhpcy51cmw6IGFueSksIHRoaXMucmVxdWVzdFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgKGVyciwgcmVzcG9uc2U6ID97W251bWJlcl06IFN0eWxlR2x5cGggfCBudWxsfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5nbHlwaHNbK2lkXSA9IHJlc3BvbnNlWytpZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjYiBvZiByZXF1ZXN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiKGVyciwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVudHJ5LnJlcXVlc3RzW3JhbmdlXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcXVlc3RzLnB1c2goKGVyciwgcmVzdWx0OiA/e1tudW1iZXJdOiBTdHlsZUdseXBoIHwgbnVsbH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge3N0YWNrLCBpZCwgZ2x5cGg6IHJlc3VsdFtpZF0gfHwgbnVsbH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCAoZXJyLCBnbHlwaHM6ID9BcnJheTx7c3RhY2s6IHN0cmluZywgaWQ6IG51bWJlciwgZ2x5cGg6ID9TdHlsZUdseXBofT4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChnbHlwaHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qge3N0YWNrLCBpZCwgZ2x5cGh9IG9mIGdseXBocykge1xuICAgICAgICAgICAgICAgICAgICAvLyBDbG9uZSB0aGUgZ2x5cGggc28gdGhhdCBvdXIgb3duIGNvcHkgb2YgaXRzIEFycmF5QnVmZmVyIGRvZXNuJ3QgZ2V0IHRyYW5zZmVycmVkLlxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0W3N0YWNrXSB8fCAocmVzdWx0W3N0YWNrXSA9IHt9KSlbaWRdID0gZ2x5cGggJiYge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGdseXBoLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYml0bWFwOiBnbHlwaC5iaXRtYXAuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldHJpY3M6IGdseXBoLm1ldHJpY3NcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfdGlueVNERihlbnRyeTogRW50cnksIHN0YWNrOiBzdHJpbmcsIGlkOiBudW1iZXIpOiA/U3R5bGVHbHlwaCB7XG4gICAgICAgIGNvbnN0IGZhbWlseSA9IHRoaXMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5O1xuICAgICAgICBpZiAoIWZhbWlseSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc0NoYXJbJ0NKSyBVbmlmaWVkIElkZW9ncmFwaHMnXShpZCkgJiYgIWlzQ2hhclsnSGFuZ3VsIFN5bGxhYmxlcyddKGlkKSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0aW55U0RGID0gZW50cnkudGlueVNERjtcbiAgICAgICAgaWYgKCF0aW55U0RGKSB7XG4gICAgICAgICAgICBsZXQgZm9udFdlaWdodCA9ICc0MDAnO1xuICAgICAgICAgICAgaWYgKC9ib2xkL2kudGVzdChzdGFjaykpIHtcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0ID0gJzkwMCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9tZWRpdW0vaS50ZXN0KHN0YWNrKSkge1xuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQgPSAnNTAwJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoL2xpZ2h0L2kudGVzdChzdGFjaykpIHtcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0ID0gJzIwMCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aW55U0RGID0gZW50cnkudGlueVNERiA9IG5ldyBHbHlwaE1hbmFnZXIuVGlueVNERigyNCwgMywgOCwgLjI1LCBmYW1pbHksIGZvbnRXZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgYml0bWFwOiBuZXcgQWxwaGFJbWFnZSh7d2lkdGg6IDMwLCBoZWlnaHQ6IDMwfSwgdGlueVNERi5kcmF3KFN0cmluZy5mcm9tQ2hhckNvZGUoaWQpKSksXG4gICAgICAgICAgICBtZXRyaWNzOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDI0LFxuICAgICAgICAgICAgICAgIGhlaWdodDogMjQsXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICB0b3A6IC04LFxuICAgICAgICAgICAgICAgIGFkdmFuY2U6IDI0XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5HbHlwaE1hbmFnZXIubG9hZEdseXBoUmFuZ2UgPSBsb2FkR2x5cGhSYW5nZTtcbkdseXBoTWFuYWdlci5UaW55U0RGID0gVGlueVNERjtcblxuZXhwb3J0IGRlZmF1bHQgR2x5cGhNYW5hZ2VyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHN0eWxlU3BlYyBmcm9tICcuLi9zdHlsZS1zcGVjL3JlZmVyZW5jZS9sYXRlc3QnO1xuXG5pbXBvcnQgeyBlbmRzV2l0aCwgZXh0ZW5kLCBzcGhlcmljYWxUb0NhcnRlc2lhbiB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBFdmVudGVkIH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCB7XG4gICAgdmFsaWRhdGVTdHlsZSxcbiAgICB2YWxpZGF0ZUxpZ2h0LFxuICAgIGVtaXRWYWxpZGF0aW9uRXJyb3JzXG59IGZyb20gJy4vdmFsaWRhdGVfc3R5bGUnO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5pbXBvcnQgeyBudW1iZXIgYXMgaW50ZXJwb2xhdGUgfSBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvaW50ZXJwb2xhdGUnO1xuXG5pbXBvcnQgdHlwZSB7U3R5bGVQcm9wZXJ0eVNwZWNpZmljYXRpb259IGZyb20gJy4uL3N0eWxlLXNwZWMvc3R5bGUtc3BlYyc7XG5pbXBvcnQgdHlwZSBFdmFsdWF0aW9uUGFyYW1ldGVycyBmcm9tICcuL2V2YWx1YXRpb25fcGFyYW1ldGVycyc7XG5cbmltcG9ydCB7IFByb3BlcnRpZXMsIFRyYW5zaXRpb25hYmxlLCBUcmFuc2l0aW9uaW5nLCBQb3NzaWJseUV2YWx1YXRlZCwgRGF0YUNvbnN0YW50UHJvcGVydHkgfSBmcm9tICcuL3Byb3BlcnRpZXMnO1xuXG5pbXBvcnQgdHlwZSB7XG4gICAgUHJvcGVydHksXG4gICAgUHJvcGVydHlWYWx1ZSxcbiAgICBUcmFuc2l0aW9uUGFyYW1ldGVyc1xufSBmcm9tICcuL3Byb3BlcnRpZXMnO1xuXG50eXBlIExpZ2h0UG9zaXRpb24gPSB7XG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlcixcbiAgICB6OiBudW1iZXJcbn07XG5cbmNsYXNzIExpZ2h0UG9zaXRpb25Qcm9wZXJ0eSBpbXBsZW1lbnRzIFByb3BlcnR5PFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSwgTGlnaHRQb3NpdGlvbj4ge1xuICAgIHNwZWNpZmljYXRpb246IFN0eWxlUHJvcGVydHlTcGVjaWZpY2F0aW9uO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3BlY2lmaWNhdGlvbiA9IHN0eWxlU3BlYy5saWdodC5wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBwb3NzaWJseUV2YWx1YXRlKHZhbHVlOiBQcm9wZXJ0eVZhbHVlPFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSwgTGlnaHRQb3NpdGlvbj4sIHBhcmFtZXRlcnM6IEV2YWx1YXRpb25QYXJhbWV0ZXJzKTogTGlnaHRQb3NpdGlvbiB7XG4gICAgICAgIHJldHVybiBzcGhlcmljYWxUb0NhcnRlc2lhbih2YWx1ZS5leHByZXNzaW9uLmV2YWx1YXRlKHBhcmFtZXRlcnMpKTtcbiAgICB9XG5cbiAgICBpbnRlcnBvbGF0ZShhOiBMaWdodFBvc2l0aW9uLCBiOiBMaWdodFBvc2l0aW9uLCB0OiBudW1iZXIpOiBMaWdodFBvc2l0aW9uIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGludGVycG9sYXRlKGEueCwgYi54LCB0KSxcbiAgICAgICAgICAgIHk6IGludGVycG9sYXRlKGEueSwgYi55LCB0KSxcbiAgICAgICAgICAgIHo6IGludGVycG9sYXRlKGEueiwgYi56LCB0KSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbnR5cGUgUHJvcHMgPSB7fFxuICAgIFwiYW5jaG9yXCI6IERhdGFDb25zdGFudFByb3BlcnR5PFwibWFwXCIgfCBcInZpZXdwb3J0XCI+LFxuICAgIFwicG9zaXRpb25cIjogTGlnaHRQb3NpdGlvblByb3BlcnR5LFxuICAgIFwiY29sb3JcIjogRGF0YUNvbnN0YW50UHJvcGVydHk8Q29sb3I+LFxuICAgIFwiaW50ZW5zaXR5XCI6IERhdGFDb25zdGFudFByb3BlcnR5PG51bWJlcj4sXG58fTtcblxuY29uc3QgcHJvcGVydGllczogUHJvcGVydGllczxQcm9wcz4gPSBuZXcgUHJvcGVydGllcyh7XG4gICAgXCJhbmNob3JcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5saWdodC5hbmNob3IpLFxuICAgIFwicG9zaXRpb25cIjogbmV3IExpZ2h0UG9zaXRpb25Qcm9wZXJ0eSgpLFxuICAgIFwiY29sb3JcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5saWdodC5jb2xvciksXG4gICAgXCJpbnRlbnNpdHlcIjogbmV3IERhdGFDb25zdGFudFByb3BlcnR5KHN0eWxlU3BlYy5saWdodC5pbnRlbnNpdHkpLFxufSk7XG5cbmNvbnN0IFRSQU5TSVRJT05fU1VGRklYID0gJy10cmFuc2l0aW9uJztcblxuLypcbiAqIFJlcHJlc2VudHMgdGhlIGxpZ2h0IHVzZWQgdG8gbGlnaHQgZXh0cnVkZWQgZmVhdHVyZXMuXG4gKi9cbmNsYXNzIExpZ2h0IGV4dGVuZHMgRXZlbnRlZCB7XG4gICAgX3RyYW5zaXRpb25hYmxlOiBUcmFuc2l0aW9uYWJsZTxQcm9wcz47XG4gICAgX3RyYW5zaXRpb25pbmc6IFRyYW5zaXRpb25pbmc8UHJvcHM+O1xuICAgIHByb3BlcnRpZXM6IFBvc3NpYmx5RXZhbHVhdGVkPFByb3BzPjtcblxuICAgIGNvbnN0cnVjdG9yKGxpZ2h0T3B0aW9ucz86IExpZ2h0U3BlY2lmaWNhdGlvbikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uYWJsZSA9IG5ldyBUcmFuc2l0aW9uYWJsZShwcm9wZXJ0aWVzKTtcbiAgICAgICAgdGhpcy5zZXRMaWdodChsaWdodE9wdGlvbnMpO1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uaW5nID0gdGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKTtcbiAgICB9XG5cbiAgICBnZXRMaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNlcmlhbGl6ZSgpO1xuICAgIH1cblxuICAgIHNldExpZ2h0KG9wdGlvbnM/OiBMaWdodFNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlTGlnaHQsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW25hbWVdO1xuICAgICAgICAgICAgaWYgKGVuZHNXaXRoKG5hbWUsIFRSQU5TSVRJT05fU1VGRklYKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24obmFtZS5zbGljZSgwLCAtVFJBTlNJVElPTl9TVUZGSVgubGVuZ3RoKSwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRWYWx1ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzOiBUcmFuc2l0aW9uUGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uaW5nID0gdGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKHBhcmFtZXRlcnMsIHRoaXMuX3RyYW5zaXRpb25pbmcpO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLmhhc1RyYW5zaXRpb24oKTtcbiAgICB9XG5cbiAgICByZWNhbGN1bGF0ZShwYXJhbWV0ZXJzOiBFdmFsdWF0aW9uUGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUocGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgX3ZhbGlkYXRlKHZhbGlkYXRlOiBGdW5jdGlvbiwgdmFsdWU6IG1peGVkKSB7XG4gICAgICAgIHJldHVybiBlbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLCB2YWxpZGF0ZS5jYWxsKHZhbGlkYXRlU3R5bGUsIGV4dGVuZCh7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMjQwN1xuICAgICAgICAgICAgc3R5bGU6IHtnbHlwaHM6IHRydWUsIHNwcml0ZTogdHJ1ZX0sXG4gICAgICAgICAgICBzdHlsZVNwZWM6IHN0eWxlU3BlY1xuICAgICAgICB9KSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlnaHQ7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyB3YXJuT25jZSB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dCc7XG5cbi8qKlxuICogQSBMaW5lQXRsYXMgbGV0cyB1cyByZXVzZSByZW5kZXJlZCBkYXNoZWQgbGluZXNcbiAqIGJ5IHdyaXRpbmcgbWFueSBvZiB0aGVtIHRvIGEgdGV4dHVyZSBhbmQgdGhlbiBmZXRjaGluZyB0aGVpciBwb3NpdGlvbnNcbiAqIHVzaW5nIC5nZXREYXNoLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgTGluZUF0bGFzIHtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIG5leHRSb3c6IG51bWJlcjtcbiAgICBieXRlczogbnVtYmVyO1xuICAgIGRhdGE6IFVpbnQ4QXJyYXk7XG4gICAgcG9zaXRpb25zOiB7W3N0cmluZ106IGFueX07XG4gICAgZGlydHk6IGJvb2xlYW47XG4gICAgdGV4dHVyZTogV2ViR0xUZXh0dXJlO1xuXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5uZXh0Um93ID0gMDtcblxuICAgICAgICB0aGlzLmJ5dGVzID0gNDtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQ4QXJyYXkodGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0ICogdGhpcy5ieXRlcyk7XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgb3IgY3JlYXRlIGEgZGFzaCBsaW5lIHBhdHRlcm4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGRhc2hhcnJheVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm91bmQgd2hldGhlciB0byBhZGQgY2lyY2xlIGNhcHMgaW4gYmV0d2VlbiBkYXNoIHNlZ21lbnRzXG4gICAgICogQHJldHVybnMge09iamVjdH0gcG9zaXRpb24gb2YgZGFzaCB0ZXh0dXJlIGluIHsgeSwgaGVpZ2h0LCB3aWR0aCB9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXREYXNoKGRhc2hhcnJheTogQXJyYXk8bnVtYmVyPiwgcm91bmQ6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZGFzaGFycmF5LmpvaW4oXCIsXCIpICsgU3RyaW5nKHJvdW5kKTtcblxuICAgICAgICBpZiAoIXRoaXMucG9zaXRpb25zW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25zW2tleV0gPSB0aGlzLmFkZERhc2goZGFzaGFycmF5LCByb3VuZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb25zW2tleV07XG4gICAgfVxuXG4gICAgYWRkRGFzaChkYXNoYXJyYXk6IEFycmF5PG51bWJlcj4sIHJvdW5kOiBib29sZWFuKSB7XG5cbiAgICAgICAgY29uc3QgbiA9IHJvdW5kID8gNyA6IDA7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDIgKiBuICsgMTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gMTI4O1xuXG4gICAgICAgIGlmICh0aGlzLm5leHRSb3cgKyBoZWlnaHQgPiB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgd2Fybk9uY2UoJ0xpbmVBdGxhcyBvdXQgb2Ygc3BhY2UnKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGFzaGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gZGFzaGFycmF5W2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RyZXRjaCA9IHRoaXMud2lkdGggLyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHN0cmV0Y2ggLyAyO1xuXG4gICAgICAgIC8vIElmIGRhc2hhcnJheSBoYXMgYW4gb2RkIGxlbmd0aCwgYm90aCB0aGUgZmlyc3QgYW5kIGxhc3QgcGFydHNcbiAgICAgICAgLy8gYXJlIGRhc2hlcyBhbmQgc2hvdWxkIGJlIGpvaW5lZCBzZWFtbGVzc2x5LlxuICAgICAgICBjb25zdCBvZGRMZW5ndGggPSBkYXNoYXJyYXkubGVuZ3RoICUgMiA9PT0gMTtcblxuICAgICAgICBmb3IgKGxldCB5ID0gLW47IHkgPD0gbjsgeSsrKSB7XG4gICAgICAgICAgICBjb25zdCByb3cgPSB0aGlzLm5leHRSb3cgKyBuICsgeTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy53aWR0aCAqIHJvdztcblxuICAgICAgICAgICAgbGV0IGxlZnQgPSBvZGRMZW5ndGggPyAtZGFzaGFycmF5W2Rhc2hhcnJheS5sZW5ndGggLSAxXSA6IDA7XG4gICAgICAgICAgICBsZXQgcmlnaHQgPSBkYXNoYXJyYXlbMF07XG4gICAgICAgICAgICBsZXQgcGFydEluZGV4ID0gMTtcblxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChyaWdodCA8IHggLyBzdHJldGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSByaWdodDtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSByaWdodCArIGRhc2hhcnJheVtwYXJ0SW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvZGRMZW5ndGggJiYgcGFydEluZGV4ID09PSBkYXNoYXJyYXkubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQgKz0gZGFzaGFycmF5WzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdExlZnQgPSBNYXRoLmFicyh4IC0gbGVmdCAqIHN0cmV0Y2gpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RSaWdodCA9IE1hdGguYWJzKHggLSByaWdodCAqIHN0cmV0Y2gpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLm1pbihkaXN0TGVmdCwgZGlzdFJpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNpZGUgPSAocGFydEluZGV4ICUgMikgPT09IDE7XG4gICAgICAgICAgICAgICAgbGV0IHNpZ25lZERpc3RhbmNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBjaXJjbGUgY2Fwc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0TWlkZGxlID0gbiA/IHkgLyBuICogKGhhbGZXaWR0aCArIDEpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc2lkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdEVkZ2UgPSBoYWxmV2lkdGggLSBNYXRoLmFicyhkaXN0TWlkZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25lZERpc3RhbmNlID0gTWF0aC5zcXJ0KGRpc3QgKiBkaXN0ICsgZGlzdEVkZ2UgKiBkaXN0RWRnZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduZWREaXN0YW5jZSA9IGhhbGZXaWR0aCAtIE1hdGguc3FydChkaXN0ICogZGlzdCArIGRpc3RNaWRkbGUgKiBkaXN0TWlkZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25lZERpc3RhbmNlID0gKGluc2lkZSA/IDEgOiAtMSkgKiBkaXN0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVszICsgKGluZGV4ICsgeCkgKiA0XSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgc2lnbmVkRGlzdGFuY2UgKyBvZmZzZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvcyA9IHtcbiAgICAgICAgICAgIHk6ICh0aGlzLm5leHRSb3cgKyBuICsgMC41KSAvIHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgaGVpZ2h0OiAyICogbiAvIHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IGxlbmd0aFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubmV4dFJvdyArPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuXG4gICAgYmluZChjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5SRVBFQVQpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuUkVQRUFUKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0aGlzLmRhdGEpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB0aGlzLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMaW5lQXRsYXM7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyB1bmlxdWVJZCwgYXN5bmNBbGwgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IEFjdG9yIGZyb20gJy4vYWN0b3InO1xuXG5pbXBvcnQgdHlwZSBXb3JrZXJQb29sIGZyb20gJy4vd29ya2VyX3Bvb2wnO1xuXG4vKipcbiAqIFJlc3BvbnNpYmxlIGZvciBzZW5kaW5nIG1lc3NhZ2VzIGZyb20gYSB7QGxpbmsgU291cmNlfSB0byBhbiBhc3NvY2lhdGVkXG4gKiB7QGxpbmsgV29ya2VyU291cmNlfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBEaXNwYXRjaGVyIHtcbiAgICB3b3JrZXJQb29sOiBXb3JrZXJQb29sO1xuICAgIGFjdG9yczogQXJyYXk8QWN0b3I+O1xuICAgIGN1cnJlbnRBY3RvcjogbnVtYmVyO1xuICAgIGlkOiBudW1iZXI7XG5cbiAgICAvLyBleHBvc2VkIHRvIGFsbG93IHN0dWJiaW5nIGluIHVuaXQgdGVzdHNcbiAgICBzdGF0aWMgQWN0b3I6IENsYXNzPEFjdG9yPjtcblxuICAgIGNvbnN0cnVjdG9yKHdvcmtlclBvb2w6IFdvcmtlclBvb2wsIHBhcmVudDogYW55KSB7XG4gICAgICAgIHRoaXMud29ya2VyUG9vbCA9IHdvcmtlclBvb2w7XG4gICAgICAgIHRoaXMuYWN0b3JzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudEFjdG9yID0gMDtcbiAgICAgICAgdGhpcy5pZCA9IHVuaXF1ZUlkKCk7XG4gICAgICAgIGNvbnN0IHdvcmtlcnMgPSB0aGlzLndvcmtlclBvb2wuYWNxdWlyZSh0aGlzLmlkKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB3b3JrZXIgPSB3b3JrZXJzW2ldO1xuICAgICAgICAgICAgY29uc3QgYWN0b3IgPSBuZXcgRGlzcGF0Y2hlci5BY3Rvcih3b3JrZXIsIHBhcmVudCwgdGhpcy5pZCk7XG4gICAgICAgICAgICBhY3Rvci5uYW1lID0gYFdvcmtlciAke2l9YDtcbiAgICAgICAgICAgIHRoaXMuYWN0b3JzLnB1c2goYWN0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnJvYWRjYXN0IGEgbWVzc2FnZSB0byBhbGwgV29ya2Vycy5cbiAgICAgKi9cbiAgICBicm9hZGNhc3QodHlwZTogc3RyaW5nLCBkYXRhOiBtaXhlZCwgY2I/OiBGdW5jdGlvbikge1xuICAgICAgICBjYiA9IGNiIHx8IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICBhc3luY0FsbCh0aGlzLmFjdG9ycywgKGFjdG9yLCBkb25lKSA9PiB7XG4gICAgICAgICAgICBhY3Rvci5zZW5kKHR5cGUsIGRhdGEsIGRvbmUpO1xuICAgICAgICB9LCBjYik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBhIG1lc3NhZ2UgdG8gYSBXb3JrZXIuXG4gICAgICogQHBhcmFtIHRhcmdldElEIFRoZSBJRCBvZiB0aGUgV29ya2VyIHRvIHdoaWNoIHRvIHNlbmQgdGhpcyBtZXNzYWdlLiBPbWl0IHRvIGFsbG93IHRoZSBkaXNwYXRjaGVyIHRvIGNob29zZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgSUQgb2YgdGhlIHdvcmtlciB0byB3aGljaCB0aGUgbWVzc2FnZSB3YXMgc2VudC5cbiAgICAgKi9cbiAgICBzZW5kKHR5cGU6IHN0cmluZywgZGF0YTogbWl4ZWQsIGNhbGxiYWNrPzogP0Z1bmN0aW9uLCB0YXJnZXRJRD86IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0SUQgIT09ICdudW1iZXInIHx8IGlzTmFOKHRhcmdldElEKSkge1xuICAgICAgICAgICAgLy8gVXNlIHJvdW5kIHJvYmluIHRvIHNlbmQgcmVxdWVzdHMgdG8gd2ViIHdvcmtlcnMuXG4gICAgICAgICAgICB0YXJnZXRJRCA9IHRoaXMuY3VycmVudEFjdG9yID0gKHRoaXMuY3VycmVudEFjdG9yICsgMSkgJSB0aGlzLmFjdG9ycy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdG9yc1t0YXJnZXRJRF0uc2VuZCh0eXBlLCBkYXRhLCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0YXJnZXRJRDtcbiAgICB9XG5cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuYWN0b3JzLmZvckVhY2goKGFjdG9yKSA9PiB7IGFjdG9yLnJlbW92ZSgpOyB9KTtcbiAgICAgICAgdGhpcy5hY3RvcnMgPSBbXTtcbiAgICAgICAgdGhpcy53b3JrZXJQb29sLnJlbGVhc2UodGhpcy5pZCk7XG4gICAgfVxufVxuXG5EaXNwYXRjaGVyLkFjdG9yID0gQWN0b3I7XG5cbmV4cG9ydCBkZWZhdWx0IERpc3BhdGNoZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCBMbmdMYXRCb3VuZHMgZnJvbSAnLi9sbmdfbGF0X2JvdW5kcyc7XG5cbi8qKlxuICogQSBgTG5nTGF0YCBvYmplY3QgcmVwcmVzZW50cyBhIGdpdmVuIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgY29vcmRpbmF0ZSwgbWVhc3VyZWQgaW4gZGVncmVlcy5cbiAqXG4gKiBNYXBib3ggR0wgdXNlcyBsb25naXR1ZGUsIGxhdGl0dWRlIGNvb3JkaW5hdGUgb3JkZXIgKGFzIG9wcG9zZWQgdG8gbGF0aXR1ZGUsIGxvbmdpdHVkZSkgdG8gbWF0Y2ggR2VvSlNPTi5cbiAqXG4gKiBOb3RlIHRoYXQgYW55IE1hcGJveCBHTCBtZXRob2QgdGhhdCBhY2NlcHRzIGEgYExuZ0xhdGAgb2JqZWN0IGFzIGFuIGFyZ3VtZW50IG9yIG9wdGlvblxuICogY2FuIGFsc28gYWNjZXB0IGFuIGBBcnJheWAgb2YgdHdvIG51bWJlcnMgYW5kIHdpbGwgcGVyZm9ybSBhbiBpbXBsaWNpdCBjb252ZXJzaW9uLlxuICogVGhpcyBmbGV4aWJsZSB0eXBlIGlzIGRvY3VtZW50ZWQgYXMge0BsaW5rIExuZ0xhdExpa2V9LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBsbmcgTG9uZ2l0dWRlLCBtZWFzdXJlZCBpbiBkZWdyZWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IGxhdCBMYXRpdHVkZSwgbWVhc3VyZWQgaW4gZGVncmVlcy5cbiAqIEBleGFtcGxlXG4gKiB2YXIgbGwgPSBuZXcgbWFwYm94Z2wuTG5nTGF0KC03My45NzQ5LCA0MC43NzM2KTtcbiAqIEBzZWUgW0dldCBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tb3VzZS1wb3NpdGlvbi8pXG4gKiBAc2VlIFtEaXNwbGF5IGEgcG9wdXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAvKVxuICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS91c2luZy1ib3gtcXVlcnlyZW5kZXJlZGZlYXR1cmVzLylcbiAqIEBzZWUgW0NyZWF0ZSBhIHRpbWVsaW5lIGFuaW1hdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS90aW1lbGluZS1hbmltYXRpb24vKVxuICovXG5jbGFzcyBMbmdMYXQge1xuICAgIGxuZzogbnVtYmVyO1xuICAgIGxhdDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IobG5nOiBudW1iZXIsIGxhdDogbnVtYmVyKSB7XG4gICAgICAgIGlmIChpc05hTihsbmcpIHx8IGlzTmFOKGxhdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBMbmdMYXQgb2JqZWN0OiAoJHtsbmd9LCAke2xhdH0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sbmcgPSArbG5nO1xuICAgICAgICB0aGlzLmxhdCA9ICtsYXQ7XG4gICAgICAgIGlmICh0aGlzLmxhdCA+IDkwIHx8IHRoaXMubGF0IDwgLTkwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgTG5nTGF0IGxhdGl0dWRlIHZhbHVlOiBtdXN0IGJlIGJldHdlZW4gLTkwIGFuZCA5MCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBgTG5nTGF0YCBvYmplY3Qgd2hvc2UgbG9uZ2l0dWRlIGlzIHdyYXBwZWQgdG8gdGhlIHJhbmdlICgtMTgwLCAxODApLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIHdyYXBwZWQgYExuZ0xhdGAgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsID0gbmV3IG1hcGJveGdsLkxuZ0xhdCgyODYuMDI1MSwgNDAuNzczNik7XG4gICAgICogdmFyIHdyYXBwZWQgPSBsbC53cmFwKCk7XG4gICAgICogd3JhcHBlZC5sbmc7IC8vID0gLTczLjk3NDlcbiAgICAgKi9cbiAgICB3cmFwKCkge1xuICAgICAgICByZXR1cm4gbmV3IExuZ0xhdCh3cmFwKHRoaXMubG5nLCAtMTgwLCAxODApLCB0aGlzLmxhdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29vcmRpbmF0ZXMgcmVwcmVzZW50ZWQgYXMgYW4gYXJyYXkgb2YgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8bnVtYmVyPn0gVGhlIGNvb3JkaW5hdGVzIHJlcHJlc2V0ZWQgYXMgYW4gYXJyYXkgb2YgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBsbCA9IG5ldyBtYXBib3hnbC5MbmdMYXQoLTczLjk3NDksIDQwLjc3MzYpO1xuICAgICAqIGxsLnRvQXJyYXkoKTsgLy8gPSBbLTczLjk3NDksIDQwLjc3MzZdXG4gICAgICovXG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmxuZywgdGhpcy5sYXRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvb3JkaW5hdGVzIHJlcHJlc2VudCBhcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb29yZGluYXRlcyByZXByZXNlbnRlZCBhcyBhIHN0cmluZyBvZiB0aGUgZm9ybWF0IGAnTG5nTGF0KGxuZywgbGF0KSdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsID0gbmV3IG1hcGJveGdsLkxuZ0xhdCgtNzMuOTc0OSwgNDAuNzczNik7XG4gICAgICogbGwudG9TdHJpbmcoKTsgLy8gPSBcIkxuZ0xhdCgtNzMuOTc0OSwgNDAuNzczNilcIlxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYExuZ0xhdCgke3RoaXMubG5nfSwgJHt0aGlzLmxhdH0pYDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgYExuZ0xhdEJvdW5kc2AgZnJvbSB0aGUgY29vcmRpbmF0ZXMgZXh0ZW5kZWQgYnkgYSBnaXZlbiBgcmFkaXVzYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgRGlzdGFuY2UgaW4gbWV0ZXJzIGZyb20gdGhlIGNvb3JkaW5hdGVzIHRvIGV4dGVuZCB0aGUgYm91bmRzLlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXRCb3VuZHN9IEEgbmV3IGBMbmdMYXRCb3VuZHNgIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGNvb3JkaW5hdGVzIGV4dGVuZGVkIGJ5IHRoZSBgcmFkaXVzYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBsbCA9IG5ldyBtYXBib3hnbC5MbmdMYXQoLTczLjk3NDksIDQwLjc3MzYpO1xuICAgICAqIGxsLnRvQm91bmRzKDEwMCkudG9BcnJheSgpOyAvLyA9IFtbLTczLjk3NTAxODYyMTQxMzI4LCA0MC43NzM1MTAxNjg0NzIyOV0sIFstNzMuOTc0NzgxMzc4NTg2NzMsIDQwLjc3MzY4OTgzMTUyNzcxXV1cbiAgICAgKi9cbiAgICB0b0JvdW5kcyhyYWRpdXM6IG51bWJlcikge1xuICAgICAgICBjb25zdCBlYXJ0aENpcmN1bWZlcmVuY2VJbk1ldGVyc0F0RXF1YXRvciA9IDQwMDc1MDE3O1xuICAgICAgICBjb25zdCBsYXRBY2N1cmFjeSA9IDM2MCAqIHJhZGl1cyAvIGVhcnRoQ2lyY3VtZmVyZW5jZUluTWV0ZXJzQXRFcXVhdG9yLFxuICAgICAgICAgICAgbG5nQWNjdXJhY3kgPSBsYXRBY2N1cmFjeSAvIE1hdGguY29zKChNYXRoLlBJIC8gMTgwKSAqIHRoaXMubGF0KTtcblxuICAgICAgICByZXR1cm4gbmV3IExuZ0xhdEJvdW5kcyhuZXcgTG5nTGF0KHRoaXMubG5nIC0gbG5nQWNjdXJhY3ksIHRoaXMubGF0IC0gbGF0QWNjdXJhY3kpLFxuICAgICAgICAgICAgbmV3IExuZ0xhdCh0aGlzLmxuZyArIGxuZ0FjY3VyYWN5LCB0aGlzLmxhdCArIGxhdEFjY3VyYWN5KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYW4gYXJyYXkgb2YgdHdvIG51bWJlcnMgdG8gYSBgTG5nTGF0YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJZiBhIGBMbmdMYXRgIG9iamVjdCBpcyBwYXNzZWQgaW4sIHRoZSBmdW5jdGlvbiByZXR1cm5zIGl0IHVuY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gaW5wdXQgQW4gYXJyYXkgb2YgdHdvIG51bWJlcnMgdG8gY29udmVydCwgb3IgYSBgTG5nTGF0YCBvYmplY3QgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IEEgbmV3IGBMbmdMYXRgIG9iamVjdCwgaWYgYSBjb252ZXJzaW9uIG9jY3VycmVkLCBvciB0aGUgb3JpZ2luYWwgYExuZ0xhdGAgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGFyciA9IFstNzMuOTc0OSwgNDAuNzczNl07XG4gICAgICogdmFyIGxsID0gbWFwYm94Z2wuTG5nTGF0LmNvbnZlcnQoYXJyKTtcbiAgICAgKiBsbDsgICAvLyA9IExuZ0xhdCB7bG5nOiAtNzMuOTc0OSwgbGF0OiA0MC43NzM2fVxuICAgICAqL1xuICAgIHN0YXRpYyBjb252ZXJ0KGlucHV0OiBMbmdMYXRMaWtlKTogTG5nTGF0IHtcbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgTG5nTGF0KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpICYmIChpbnB1dC5sZW5ndGggPT09IDIgfHwgaW5wdXQubGVuZ3RoID09PSAzKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMbmdMYXQoTnVtYmVyKGlucHV0WzBdKSwgTnVtYmVyKGlucHV0WzFdKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSAmJiB0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIGlucHV0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExuZ0xhdChOdW1iZXIoaW5wdXQubG5nKSwgTnVtYmVyKGlucHV0LmxhdCkpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImBMbmdMYXRMaWtlYCBhcmd1bWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIExuZ0xhdCBpbnN0YW5jZSwgYW4gb2JqZWN0IHtsbmc6IDxsbmc+LCBsYXQ6IDxsYXQ+fSwgb3IgYW4gYXJyYXkgb2YgWzxsbmc+LCA8bGF0Pl1cIik7XG4gICAgfVxufVxuXG4vKipcbiAqIEEge0BsaW5rIExuZ0xhdH0gb2JqZWN0LCBhbiBhcnJheSBvZiB0d28gbnVtYmVycyByZXByZXNlbnRpbmcgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSxcbiAqIG9yIGFuIG9iamVjdCB3aXRoIGBsbmdgIGFuZCBgbGF0YCBwcm9wZXJ0aWVzLlxuICpcbiAqIEB0eXBlZGVmIHtMbmdMYXQgfCB7bG5nOiBudW1iZXIsIGxhdDogbnVtYmVyfSB8IFtudW1iZXIsIG51bWJlcl19IExuZ0xhdExpa2VcbiAqIEBleGFtcGxlXG4gKiB2YXIgdjEgPSBuZXcgbWFwYm94Z2wuTG5nTGF0KC0xMjIuNDIwNjc5LCAzNy43NzI1MzcpO1xuICogdmFyIHYyID0gWy0xMjIuNDIwNjc5LCAzNy43NzI1MzddO1xuICovXG5leHBvcnQgdHlwZSBMbmdMYXRMaWtlID0gTG5nTGF0IHwge2xuZzogbnVtYmVyLCBsYXQ6IG51bWJlcn0gfCBbbnVtYmVyLCBudW1iZXJdO1xuXG5leHBvcnQgZGVmYXVsdCBMbmdMYXQ7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgTG5nTGF0IGZyb20gJy4vbG5nX2xhdCc7XG5cbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tICcuL2xuZ19sYXQnO1xuXG4vKipcbiAqIEEgYExuZ0xhdEJvdW5kc2Agb2JqZWN0IHJlcHJlc2VudHMgYSBnZW9ncmFwaGljYWwgYm91bmRpbmcgYm94LFxuICogZGVmaW5lZCBieSBpdHMgc291dGh3ZXN0IGFuZCBub3J0aGVhc3QgcG9pbnRzIGluIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUuXG4gKlxuICogSWYgbm8gYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byB0aGUgY29uc3RydWN0b3IsIGEgYG51bGxgIGJvdW5kaW5nIGJveCBpcyBjcmVhdGVkLlxuICpcbiAqIE5vdGUgdGhhdCBhbnkgTWFwYm94IEdMIG1ldGhvZCB0aGF0IGFjY2VwdHMgYSBgTG5nTGF0Qm91bmRzYCBvYmplY3QgYXMgYW4gYXJndW1lbnQgb3Igb3B0aW9uXG4gKiBjYW4gYWxzbyBhY2NlcHQgYW4gYEFycmF5YCBvZiB0d28ge0BsaW5rIExuZ0xhdExpa2V9IGNvbnN0cnVjdHMgYW5kIHdpbGwgcGVyZm9ybSBhbiBpbXBsaWNpdCBjb252ZXJzaW9uLlxuICogVGhpcyBmbGV4aWJsZSB0eXBlIGlzIGRvY3VtZW50ZWQgYXMge0BsaW5rIExuZ0xhdEJvdW5kc0xpa2V9LlxuICpcbiAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gW3N3XSBUaGUgc291dGh3ZXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94LlxuICogQHBhcmFtIHtMbmdMYXRMaWtlfSBbbmVdIFRoZSBub3J0aGVhc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gKiBAZXhhbXBsZVxuICogdmFyIHN3ID0gbmV3IG1hcGJveGdsLkxuZ0xhdCgtNzMuOTg3NiwgNDAuNzY2MSk7XG4gKiB2YXIgbmUgPSBuZXcgbWFwYm94Z2wuTG5nTGF0KC03My45Mzk3LCA0MC44MDAyKTtcbiAqIHZhciBsbGIgPSBuZXcgbWFwYm94Z2wuTG5nTGF0Qm91bmRzKHN3LCBuZSk7XG4gKi9cbmNsYXNzIExuZ0xhdEJvdW5kcyB7XG4gICAgX25lOiBMbmdMYXQ7XG4gICAgX3N3OiBMbmdMYXQ7XG5cbiAgICAvLyBUaGlzIGNvbnN0cnVjdG9yIGlzIHRvbyBmbGV4aWJsZSB0byB0eXBlLiBJdCBzaG91bGQgbm90IGJlIHNvIGZsZXhpYmxlLlxuICAgIGNvbnN0cnVjdG9yKHN3OiBhbnksIG5lOiBhbnkpIHtcbiAgICAgICAgaWYgKCFzdykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKG5lKSB7XG4gICAgICAgICAgICB0aGlzLnNldFNvdXRoV2VzdChzdykuc2V0Tm9ydGhFYXN0KG5lKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdy5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U291dGhXZXN0KFtzd1swXSwgc3dbMV1dKS5zZXROb3J0aEVhc3QoW3N3WzJdLCBzd1szXV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRTb3V0aFdlc3Qoc3dbMF0pLnNldE5vcnRoRWFzdChzd1sxXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG5vcnRoZWFzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveFxuICAgICAqXG4gICAgICogQHBhcmFtIHtMbmdMYXRMaWtlfSBuZVxuICAgICAqIEByZXR1cm5zIHtMbmdMYXRCb3VuZHN9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldE5vcnRoRWFzdChuZTogTG5nTGF0TGlrZSkge1xuICAgICAgICB0aGlzLl9uZSA9IG5lIGluc3RhbmNlb2YgTG5nTGF0ID8gbmV3IExuZ0xhdChuZS5sbmcsIG5lLmxhdCkgOiBMbmdMYXQuY29udmVydChuZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc291dGh3ZXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdExpa2V9IHN3XG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kc30gYHRoaXNgXG4gICAgICovXG4gICAgc2V0U291dGhXZXN0KHN3OiBMbmdMYXRMaWtlKSB7XG4gICAgICAgIHRoaXMuX3N3ID0gc3cgaW5zdGFuY2VvZiBMbmdMYXQgPyBuZXcgTG5nTGF0KHN3LmxuZywgc3cubGF0KSA6IExuZ0xhdC5jb252ZXJ0KHN3KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0ZW5kIHRoZSBib3VuZHMgdG8gaW5jbHVkZSBhIGdpdmVuIExuZ0xhdCBvciBMbmdMYXRCb3VuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdHxMbmdMYXRCb3VuZHN9IG9iaiBvYmplY3QgdG8gZXh0ZW5kIHRvXG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kc30gYHRoaXNgXG4gICAgICovXG4gICAgZXh0ZW5kKG9iajogTG5nTGF0IHwgTG5nTGF0Qm91bmRzKSB7XG4gICAgICAgIGNvbnN0IHN3ID0gdGhpcy5fc3csXG4gICAgICAgICAgICBuZSA9IHRoaXMuX25lO1xuICAgICAgICBsZXQgc3cyLCBuZTI7XG5cbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIExuZ0xhdCkge1xuICAgICAgICAgICAgc3cyID0gb2JqO1xuICAgICAgICAgICAgbmUyID0gb2JqO1xuXG4gICAgICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgTG5nTGF0Qm91bmRzKSB7XG4gICAgICAgICAgICBzdzIgPSBvYmouX3N3O1xuICAgICAgICAgICAgbmUyID0gb2JqLl9uZTtcblxuICAgICAgICAgICAgaWYgKCFzdzIgfHwgIW5lMikgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqLmV2ZXJ5KEFycmF5LmlzQXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4dGVuZChMbmdMYXRCb3VuZHMuY29udmVydChvYmopKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlbmQoTG5nTGF0LmNvbnZlcnQob2JqKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN3ICYmICFuZSkge1xuICAgICAgICAgICAgdGhpcy5fc3cgPSBuZXcgTG5nTGF0KHN3Mi5sbmcsIHN3Mi5sYXQpO1xuICAgICAgICAgICAgdGhpcy5fbmUgPSBuZXcgTG5nTGF0KG5lMi5sbmcsIG5lMi5sYXQpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdy5sbmcgPSBNYXRoLm1pbihzdzIubG5nLCBzdy5sbmcpO1xuICAgICAgICAgICAgc3cubGF0ID0gTWF0aC5taW4oc3cyLmxhdCwgc3cubGF0KTtcbiAgICAgICAgICAgIG5lLmxuZyA9IE1hdGgubWF4KG5lMi5sbmcsIG5lLmxuZyk7XG4gICAgICAgICAgICBuZS5sYXQgPSBNYXRoLm1heChuZTIubGF0LCBuZS5sYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGUgZXF1aWRpc3RhbnQgZnJvbSB0aGUgYm91bmRpbmcgYm94J3MgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IFRoZSBib3VuZGluZyBib3gncyBjZW50ZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgbGxiID0gbmV3IG1hcGJveGdsLkxuZ0xhdEJvdW5kcyhbLTczLjk4NzYsIDQwLjc2NjFdLCBbLTczLjkzOTcsIDQwLjgwMDJdKTtcbiAgICAgKiBsbGIuZ2V0Q2VudGVyKCk7IC8vID0gTG5nTGF0IHtsbmc6IC03My45NjM2NSwgbGF0OiA0MC43ODMxNX1cbiAgICAgKi9cbiAgICBnZXRDZW50ZXIoKTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBMbmdMYXQoKHRoaXMuX3N3LmxuZyArIHRoaXMuX25lLmxuZykgLyAyLCAodGhpcy5fc3cubGF0ICsgdGhpcy5fbmUubGF0KSAvIDIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNvdXRod2VzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IFRoZSBzb3V0aHdlc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgICovXG4gICAgZ2V0U291dGhXZXN0KCk6IExuZ0xhdCB7IHJldHVybiB0aGlzLl9zdzsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBub3J0aGVhc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIG5vcnRoZWFzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXROb3J0aEVhc3QoKTogTG5nTGF0IHsgcmV0dXJuIHRoaXMuX25lOyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIG5vcnRod2VzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7TG5nTGF0fSBUaGUgbm9ydGh3ZXN0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqL1xuICAgIGdldE5vcnRoV2VzdCgpOiBMbmdMYXQgeyByZXR1cm4gbmV3IExuZ0xhdCh0aGlzLmdldFdlc3QoKSwgdGhpcy5nZXROb3J0aCgpKTsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBzb3V0aGVhc3QgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge0xuZ0xhdH0gVGhlIHNvdXRoZWFzdCBjb3JuZXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXRTb3V0aEVhc3QoKTogTG5nTGF0IHsgcmV0dXJuIG5ldyBMbmdMYXQodGhpcy5nZXRFYXN0KCksIHRoaXMuZ2V0U291dGgoKSk7IH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgd2VzdCBlZGdlIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge251bWJlcn0gVGhlIHdlc3QgZWRnZSBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqL1xuICAgIGdldFdlc3QoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3N3LmxuZzsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBzb3V0aCBlZGdlIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgKlxuICAgICogQHJldHVybnMge251bWJlcn0gVGhlIHNvdXRoIGVkZ2Ugb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXRTb3V0aCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fc3cubGF0OyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIGVhc3QgZWRnZSBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICpcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBlYXN0IGVkZ2Ugb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAgICAgKi9cbiAgICBnZXRFYXN0KCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9uZS5sbmc7IH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0aGUgbm9ydGggZWRnZSBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICpcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBub3J0aCBlZGdlIG9mIHRoZSBib3VuZGluZyBib3guXG4gICAgICovXG4gICAgZ2V0Tm9ydGgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX25lLmxhdDsgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYm91bmRpbmcgYm94IHJlcHJlc2VudGVkIGFzIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5PEFycmF5PG51bWJlcj4+fSBUaGUgYm91bmRpbmcgYm94IHJlcHJlc2VudGVkIGFzIGFuIGFycmF5LCBjb25zaXN0aW5nIG9mIHRoZVxuICAgICAqICAgc291dGh3ZXN0IGFuZCBub3J0aGVhc3QgY29vcmRpbmF0ZXMgb2YgdGhlIGJvdW5kaW5nIHJlcHJlc2VudGVkIGFzIGFycmF5cyBvZiBudW1iZXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsYiA9IG5ldyBtYXBib3hnbC5MbmdMYXRCb3VuZHMoWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXSk7XG4gICAgICogbGxiLnRvQXJyYXkoKTsgLy8gPSBbWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXV1cbiAgICAgKi9cbiAgICB0b0FycmF5KCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuX3N3LnRvQXJyYXkoKSwgdGhpcy5fbmUudG9BcnJheSgpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGJvdW5kaW5nIGJveCByZXByZXNlbnRlZCBhcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBib3VuZGluZyBib3ggcmVwcmVzZW50cyBhcyBhIHN0cmluZyBvZiB0aGUgZm9ybWF0XG4gICAgICogICBgJ0xuZ0xhdEJvdW5kcyhMbmdMYXQobG5nLCBsYXQpLCBMbmdMYXQobG5nLCBsYXQpKSdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGxsYiA9IG5ldyBtYXBib3hnbC5MbmdMYXRCb3VuZHMoWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXSk7XG4gICAgICogbGxiLnRvU3RyaW5nKCk7IC8vID0gXCJMbmdMYXRCb3VuZHMoTG5nTGF0KC03My45ODc2LCA0MC43NjYxKSwgTG5nTGF0KC03My45Mzk3LCA0MC44MDAyKSlcIlxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYExuZ0xhdEJvdW5kcygke3RoaXMuX3N3LnRvU3RyaW5nKCl9LCAke3RoaXMuX25lLnRvU3RyaW5nKCl9KWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIGJveCBpcyBhbiBlbXB0eS9gbnVsbGAtdHlwZSBib3guXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBib3VuZHMgaGF2ZSBiZWVuIGRlZmluZWQsIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gISh0aGlzLl9zdyAmJiB0aGlzLl9uZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYW4gYXJyYXkgdG8gYSBgTG5nTGF0Qm91bmRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJZiBhIGBMbmdMYXRCb3VuZHNgIG9iamVjdCBpcyBwYXNzZWQgaW4sIHRoZSBmdW5jdGlvbiByZXR1cm5zIGl0IHVuY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEludGVybmFsbHksIHRoZSBmdW5jdGlvbiBjYWxscyBgTG5nTGF0I2NvbnZlcnRgIHRvIGNvbnZlcnQgYXJyYXlzIHRvIGBMbmdMYXRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG5nTGF0Qm91bmRzTGlrZX0gaW5wdXQgQW4gYXJyYXkgb2YgdHdvIGNvb3JkaW5hdGVzIHRvIGNvbnZlcnQsIG9yIGEgYExuZ0xhdEJvdW5kc2Agb2JqZWN0IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0Qm91bmRzfSBBIG5ldyBgTG5nTGF0Qm91bmRzYCBvYmplY3QsIGlmIGEgY29udmVyc2lvbiBvY2N1cnJlZCwgb3IgdGhlIG9yaWdpbmFsIGBMbmdMYXRCb3VuZHNgIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBhcnIgPSBbWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXV07XG4gICAgICogdmFyIGxsYiA9IG1hcGJveGdsLkxuZ0xhdEJvdW5kcy5jb252ZXJ0KGFycik7XG4gICAgICogbGxiOyAgIC8vID0gTG5nTGF0Qm91bmRzIHtfc3c6IExuZ0xhdCB7bG5nOiAtNzMuOTg3NiwgbGF0OiA0MC43NjYxfSwgX25lOiBMbmdMYXQge2xuZzogLTczLjkzOTcsIGxhdDogNDAuODAwMn19XG4gICAgICovXG4gICAgc3RhdGljIGNvbnZlcnQoaW5wdXQ6IExuZ0xhdEJvdW5kc0xpa2UpOiBMbmdMYXRCb3VuZHMge1xuICAgICAgICBpZiAoIWlucHV0IHx8IGlucHV0IGluc3RhbmNlb2YgTG5nTGF0Qm91bmRzKSByZXR1cm4gaW5wdXQ7XG4gICAgICAgIHJldHVybiBuZXcgTG5nTGF0Qm91bmRzKGlucHV0KTtcbiAgICB9XG59XG5cbi8qKlxuICogQSB7QGxpbmsgTG5nTGF0Qm91bmRzfSBvYmplY3QsIGFuIGFycmF5IG9mIHtAbGluayBMbmdMYXRMaWtlfSBvYmplY3RzIGluIFtzdywgbmVdIG9yZGVyLFxuICogb3IgYW4gYXJyYXkgb2YgbnVtYmVycyBpbiBbd2VzdCwgc291dGgsIGVhc3QsIG5vcnRoXSBvcmRlci5cbiAqXG4gKiBAdHlwZWRlZiB7TG5nTGF0Qm91bmRzIHwgW0xuZ0xhdExpa2UsIExuZ0xhdExpa2VdIHwgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl19IExuZ0xhdEJvdW5kc0xpa2VcbiAqIEBleGFtcGxlXG4gKiB2YXIgdjEgPSBuZXcgbWFwYm94Z2wuTG5nTGF0Qm91bmRzKFxuICogICBuZXcgbWFwYm94Z2wuTG5nTGF0KC03My45ODc2LCA0MC43NjYxKSxcbiAqICAgbmV3IG1hcGJveGdsLkxuZ0xhdCgtNzMuOTM5NywgNDAuODAwMilcbiAqICk7XG4gKiB2YXIgdjIgPSBuZXcgbWFwYm94Z2wuTG5nTGF0Qm91bmRzKFstNzMuOTg3NiwgNDAuNzY2MV0sIFstNzMuOTM5NywgNDAuODAwMl0pXG4gKiB2YXIgdjMgPSBbWy03My45ODc2LCA0MC43NjYxXSwgWy03My45Mzk3LCA0MC44MDAyXV07XG4gKi9cbmV4cG9ydCB0eXBlIExuZ0xhdEJvdW5kc0xpa2UgPSBMbmdMYXRCb3VuZHMgfCBbTG5nTGF0TGlrZSwgTG5nTGF0TGlrZV0gfCBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcblxuZXhwb3J0IGRlZmF1bHQgTG5nTGF0Qm91bmRzO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuLi9nZW8vbG5nX2xhdF9ib3VuZHMnO1xuXG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIHtDYW5vbmljYWxUaWxlSUR9IGZyb20gJy4vdGlsZV9pZCc7XG5cbmNsYXNzIFRpbGVCb3VuZHMge1xuICAgIGJvdW5kczogTG5nTGF0Qm91bmRzO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihib3VuZHM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLCBtaW56b29tOiA/bnVtYmVyLCBtYXh6b29tOiA/bnVtYmVyKSB7XG4gICAgICAgIHRoaXMuYm91bmRzID0gTG5nTGF0Qm91bmRzLmNvbnZlcnQodGhpcy52YWxpZGF0ZUJvdW5kcyhib3VuZHMpKTtcbiAgICAgICAgdGhpcy5taW56b29tID0gbWluem9vbSB8fCAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSBtYXh6b29tIHx8IDI0O1xuICAgIH1cblxuICAgIHZhbGlkYXRlQm91bmRzKGJvdW5kczogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBib3VuZHMgcHJvcGVydHkgY29udGFpbnMgdmFsaWQgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZXNcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGJvdW5kcykgfHwgYm91bmRzLmxlbmd0aCAhPT0gNCkgcmV0dXJuIFstMTgwLCAtOTAsIDE4MCwgOTBdO1xuICAgICAgICByZXR1cm4gW01hdGgubWF4KC0xODAsIGJvdW5kc1swXSksIE1hdGgubWF4KC05MCwgYm91bmRzWzFdKSwgTWF0aC5taW4oMTgwLCBib3VuZHNbMl0pLCBNYXRoLm1pbig5MCwgYm91bmRzWzNdKV07XG4gICAgfVxuXG4gICAgY29udGFpbnModGlsZUlEOiBDYW5vbmljYWxUaWxlSUQpIHtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSB7XG4gICAgICAgICAgICBtaW5YOiBNYXRoLmZsb29yKHRoaXMubG5nWCh0aGlzLmJvdW5kcy5nZXRXZXN0KCksIHRpbGVJRC56KSksXG4gICAgICAgICAgICBtaW5ZOiBNYXRoLmZsb29yKHRoaXMubGF0WSh0aGlzLmJvdW5kcy5nZXROb3J0aCgpLCB0aWxlSUQueikpLFxuICAgICAgICAgICAgbWF4WDogTWF0aC5jZWlsKHRoaXMubG5nWCh0aGlzLmJvdW5kcy5nZXRFYXN0KCksIHRpbGVJRC56KSksXG4gICAgICAgICAgICBtYXhZOiBNYXRoLmNlaWwodGhpcy5sYXRZKHRoaXMuYm91bmRzLmdldFNvdXRoKCksIHRpbGVJRC56KSlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGl0ID0gdGlsZUlELnggPj0gbGV2ZWwubWluWCAmJiB0aWxlSUQueCA8IGxldmVsLm1heFggJiYgdGlsZUlELnkgPj0gbGV2ZWwubWluWSAmJiB0aWxlSUQueSA8IGxldmVsLm1heFk7XG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfVxuXG4gICAgbG5nWChsbmc6IG51bWJlciwgem9vbTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiAobG5nICsgMTgwKSAqIChNYXRoLnBvdygyLCB6b29tKSAvIDM2MCk7XG4gICAgfVxuXG4gICAgbGF0WShsYXQ6IG51bWJlciwgem9vbTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGYgPSBjbGFtcChNYXRoLnNpbihNYXRoLlBJIC8gMTgwICogbGF0KSwgLTAuOTk5OSwgMC45OTk5KTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLnBvdygyLCB6b29tKSAvICgyICogTWF0aC5QSSk7XG4gICAgICAgIHJldHVybiBNYXRoLnBvdygyLCB6b29tIC0gMSkgKyAwLjUgKiBNYXRoLmxvZygoMSArIGYpIC8gKDEgLSBmKSkgKiAtc2NhbGU7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWxlQm91bmRzO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgRXZlbnQsIEVycm9yRXZlbnQsIEV2ZW50ZWQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuXG5pbXBvcnQgeyBleHRlbmQsIHBpY2sgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IGxvYWRUaWxlSlNPTiBmcm9tICcuL2xvYWRfdGlsZWpzb24nO1xuaW1wb3J0IHsgbm9ybWFsaXplVGlsZVVSTCBhcyBub3JtYWxpemVVUkwgfSBmcm9tICcuLi91dGlsL21hcGJveCc7XG5pbXBvcnQgVGlsZUJvdW5kcyBmcm9tICcuL3RpbGVfYm91bmRzJztcbmltcG9ydCB7IFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlfSBmcm9tICcuL3NvdXJjZSc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5cbmNsYXNzIFZlY3RvclRpbGVTb3VyY2UgZXh0ZW5kcyBFdmVudGVkIGltcGxlbWVudHMgU291cmNlIHtcbiAgICB0eXBlOiAndmVjdG9yJztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgc2NoZW1lOiBzdHJpbmc7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcblxuICAgIF9vcHRpb25zOiBWZWN0b3JTb3VyY2VTcGVjaWZpY2F0aW9uO1xuICAgIF9jb2xsZWN0UmVzb3VyY2VUaW1pbmc6IGJvb2xlYW47XG4gICAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgICBtYXA6IE1hcDtcbiAgICBib3VuZHM6ID9bbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcbiAgICB0aWxlczogQXJyYXk8c3RyaW5nPjtcbiAgICB0aWxlQm91bmRzOiBUaWxlQm91bmRzO1xuICAgIHJlcGFyc2VPdmVyc2NhbGVkOiBib29sZWFuO1xuICAgIGlzVGlsZUNsaXBwZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBWZWN0b3JTb3VyY2VTcGVjaWZpY2F0aW9uICYge2NvbGxlY3RSZXNvdXJjZVRpbWluZzogYm9vbGVhbn0sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuXG4gICAgICAgIHRoaXMudHlwZSA9ICd2ZWN0b3InO1xuICAgICAgICB0aGlzLm1pbnpvb20gPSAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5zY2hlbWUgPSAneHl6JztcbiAgICAgICAgdGhpcy50aWxlU2l6ZSA9IDUxMjtcbiAgICAgICAgdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNUaWxlQ2xpcHBlZCA9IHRydWU7XG5cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHBpY2sob3B0aW9ucywgWyd1cmwnLCAnc2NoZW1lJywgJ3RpbGVTaXplJ10pKTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGV4dGVuZCh7IHR5cGU6ICd2ZWN0b3InIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyA9IG9wdGlvbnMuY29sbGVjdFJlc291cmNlVGltaW5nO1xuXG4gICAgICAgIGlmICh0aGlzLnRpbGVTaXplICE9PSA1MTIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndmVjdG9yIHRpbGUgc291cmNlcyBtdXN0IGhhdmUgYSB0aWxlU2l6ZSBvZiA1MTInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0RXZlbnRlZFBhcmVudChldmVudGVkUGFyZW50KTtcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG5cbiAgICAgICAgbG9hZFRpbGVKU09OKHRoaXMuX29wdGlvbnMsIHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0LCAoZXJyLCB0aWxlSlNPTikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGlsZUpTT04pIHtcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgdGlsZUpTT04pO1xuICAgICAgICAgICAgICAgIGlmICh0aWxlSlNPTi5ib3VuZHMpIHRoaXMudGlsZUJvdW5kcyA9IG5ldyBUaWxlQm91bmRzKHRpbGVKU09OLmJvdW5kcywgdGhpcy5taW56b29tLCB0aGlzLm1heHpvb20pO1xuXG4gICAgICAgICAgICAgICAgLy8gYGNvbnRlbnRgIGlzIGluY2x1ZGVkIGhlcmUgdG8gcHJldmVudCBhIHJhY2UgY29uZGl0aW9uIHdoZXJlIGBTdHlsZSNfdXBkYXRlU291cmNlc2AgaXMgY2FsbGVkXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIHRoZSBUaWxlSlNPTiBhcnJpdmVzLiB0aGlzIG1ha2VzIHN1cmUgdGhlIHRpbGVzIG5lZWRlZCBhcmUgbG9hZGVkIG9uY2UgVGlsZUpTT04gYXJyaXZlc1xuICAgICAgICAgICAgICAgIC8vIHJlZjogaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvcHVsbC80MzQ3I2Rpc2N1c3Npb25fcjEwNDQxODA4OFxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ30pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdjb250ZW50J30pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFzVGlsZSh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLnRpbGVCb3VuZHMgfHwgdGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKHRpbGVJRC5jYW5vbmljYWwpO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIHRoaXMuX29wdGlvbnMpO1xuICAgIH1cblxuICAgIGxvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICBjb25zdCBvdmVyc2NhbGluZyA9IHRpbGUudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpO1xuICAgICAgICBjb25zdCB1cmwgPSBub3JtYWxpemVVUkwodGlsZS50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLCB0aGlzLnNjaGVtZSksIHRoaXMudXJsKTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgcmVxdWVzdDogdGhpcy5tYXAuX3RyYW5zZm9ybVJlcXVlc3QodXJsLCBSZXNvdXJjZVR5cGUuVGlsZSksXG4gICAgICAgICAgICB1aWQ6IHRpbGUudWlkLFxuICAgICAgICAgICAgdGlsZUlEOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgIHpvb206IHRpbGUudGlsZUlELm92ZXJzY2FsZWRaLFxuICAgICAgICAgICAgdGlsZVNpemU6IHRoaXMudGlsZVNpemUgKiBvdmVyc2NhbGluZyxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgIHBpeGVsUmF0aW86IGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIG92ZXJzY2FsaW5nOiBvdmVyc2NhbGluZyxcbiAgICAgICAgICAgIHNob3dDb2xsaXNpb25Cb3hlczogdGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzLFxuICAgICAgICB9O1xuICAgICAgICBwYXJhbXMucmVxdWVzdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcgPSB0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc7XG5cbiAgICAgICAgaWYgKHRpbGUud29ya2VySUQgPT09IHVuZGVmaW5lZCB8fCB0aWxlLnN0YXRlID09PSAnZXhwaXJlZCcpIHtcbiAgICAgICAgICAgIHRpbGUud29ya2VySUQgPSB0aGlzLmRpc3BhdGNoZXIuc2VuZCgnbG9hZFRpbGUnLCBwYXJhbXMsIGRvbmUuYmluZCh0aGlzKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGlsZS5zdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICAgICAgICAvLyBzY2hlZHVsZSB0aWxlIHJlbG9hZGluZyBhZnRlciBpdCBoYXMgYmVlbiBsb2FkZWRcbiAgICAgICAgICAgIHRpbGUucmVsb2FkQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zZW5kKCdyZWxvYWRUaWxlJywgcGFyYW1zLCBkb25lLmJpbmQodGhpcyksIHRpbGUud29ya2VySUQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZG9uZShlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmICh0aWxlLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuXG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEucmVzb3VyY2VUaW1pbmcpXG4gICAgICAgICAgICAgICAgdGlsZS5yZXNvdXJjZVRpbWluZyA9IGRhdGEucmVzb3VyY2VUaW1pbmc7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcykgdGlsZS5zZXRFeHBpcnlEYXRhKGRhdGEpO1xuICAgICAgICAgICAgdGlsZS5sb2FkVmVjdG9yRGF0YShkYXRhLCB0aGlzLm1hcC5wYWludGVyKTtcblxuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG5cbiAgICAgICAgICAgIGlmICh0aWxlLnJlbG9hZENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkVGlsZSh0aWxlLCB0aWxlLnJlbG9hZENhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB0aWxlLnJlbG9hZENhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFib3J0VGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zZW5kKCdhYm9ydFRpbGUnLCB7IHVpZDogdGlsZS51aWQsIHR5cGU6IHRoaXMudHlwZSwgc291cmNlOiB0aGlzLmlkIH0sIHVuZGVmaW5lZCwgdGlsZS53b3JrZXJJRCk7XG4gICAgfVxuXG4gICAgdW5sb2FkVGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIHRpbGUudW5sb2FkVmVjdG9yRGF0YSgpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuc2VuZCgncmVtb3ZlVGlsZScsIHsgdWlkOiB0aWxlLnVpZCwgdHlwZTogdGhpcy50eXBlLCBzb3VyY2U6IHRoaXMuaWQgfSwgdW5kZWZpbmVkLCB0aWxlLndvcmtlcklEKTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3JUaWxlU291cmNlO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgZXh0ZW5kLCBwaWNrIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHsgZ2V0SW1hZ2UsIFJlc291cmNlVHlwZSB9IGZyb20gJy4uL3V0aWwvYWpheCc7XG5pbXBvcnQgeyBFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgbG9hZFRpbGVKU09OIGZyb20gJy4vbG9hZF90aWxlanNvbic7XG5pbXBvcnQgeyBub3JtYWxpemVUaWxlVVJMIGFzIG5vcm1hbGl6ZVVSTCB9IGZyb20gJy4uL3V0aWwvbWFwYm94JztcbmltcG9ydCBUaWxlQm91bmRzIGZyb20gJy4vdGlsZV9ib3VuZHMnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vcmVuZGVyL3RleHR1cmUnO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlfSBmcm9tICcuL3NvdXJjZSc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi90aWxlX2lkJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi91aS9tYXAnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5cbmNsYXNzIFJhc3RlclRpbGVTb3VyY2UgZXh0ZW5kcyBFdmVudGVkIGltcGxlbWVudHMgU291cmNlIHtcbiAgICB0eXBlOiAncmFzdGVyJyB8ICdyYXN0ZXItZGVtJztcbiAgICBpZDogc3RyaW5nO1xuICAgIG1pbnpvb206IG51bWJlcjtcbiAgICBtYXh6b29tOiBudW1iZXI7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgc2NoZW1lOiBzdHJpbmc7XG4gICAgdGlsZVNpemU6IG51bWJlcjtcblxuICAgIGJvdW5kczogP1tudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICAgIHRpbGVCb3VuZHM6IFRpbGVCb3VuZHM7XG4gICAgcm91bmRab29tOiBib29sZWFuO1xuICAgIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gICAgbWFwOiBNYXA7XG4gICAgdGlsZXM6IEFycmF5PHN0cmluZz47XG5cbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9vcHRpb25zOiBSYXN0ZXJTb3VyY2VTcGVjaWZpY2F0aW9uIHwgUmFzdGVyREVNU291cmNlU3BlY2lmaWNhdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IFJhc3RlclNvdXJjZVNwZWNpZmljYXRpb24gfCBSYXN0ZXJERU1Tb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcbiAgICAgICAgdGhpcy5zZXRFdmVudGVkUGFyZW50KGV2ZW50ZWRQYXJlbnQpO1xuXG4gICAgICAgIHRoaXMudHlwZSA9ICdyYXN0ZXInO1xuICAgICAgICB0aGlzLm1pbnpvb20gPSAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy5yb3VuZFpvb20gPSB0cnVlO1xuICAgICAgICB0aGlzLnNjaGVtZSA9ICd4eXonO1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gNTEyO1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9vcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICAgICAgZXh0ZW5kKHRoaXMsIHBpY2sob3B0aW9ucywgWyd1cmwnLCAnc2NoZW1lJywgJ3RpbGVTaXplJ10pKTtcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIGxvYWRUaWxlSlNPTih0aGlzLl9vcHRpb25zLCB0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdCwgKGVyciwgdGlsZUpTT04pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRpbGVKU09OKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsIHRpbGVKU09OKTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZUpTT04uYm91bmRzKSB0aGlzLnRpbGVCb3VuZHMgPSBuZXcgVGlsZUJvdW5kcyh0aWxlSlNPTi5ib3VuZHMsIHRoaXMubWluem9vbSwgdGhpcy5tYXh6b29tKTtcblxuICAgICAgICAgICAgICAgIC8vIGBjb250ZW50YCBpcyBpbmNsdWRlZCBoZXJlIHRvIHByZXZlbnQgYSByYWNlIGNvbmRpdGlvbiB3aGVyZSBgU3R5bGUjX3VwZGF0ZVNvdXJjZXNgIGlzIGNhbGxlZFxuICAgICAgICAgICAgICAgIC8vIGJlZm9yZSB0aGUgVGlsZUpTT04gYXJyaXZlcy4gdGhpcyBtYWtlcyBzdXJlIHRoZSB0aWxlcyBuZWVkZWQgYXJlIGxvYWRlZCBvbmNlIFRpbGVKU09OIGFycml2ZXNcbiAgICAgICAgICAgICAgICAvLyByZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL3B1bGwvNDM0NyNkaXNjdXNzaW9uX3IxMDQ0MTgwODhcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc291cmNlJywgc291cmNlRGF0YVR5cGU6ICdtZXRhZGF0YSd9KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3NvdXJjZScsIHNvdXJjZURhdGFUeXBlOiAnY29udGVudCd9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIHRoaXMuX29wdGlvbnMpO1xuICAgIH1cblxuICAgIGhhc1RpbGUodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy50aWxlQm91bmRzIHx8IHRoaXMudGlsZUJvdW5kcy5jb250YWlucyh0aWxlSUQuY2Fub25pY2FsKTtcbiAgICB9XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgY29uc3QgdXJsID0gbm9ybWFsaXplVVJMKHRpbGUudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcywgdGhpcy5zY2hlbWUpLCB0aGlzLnVybCwgdGhpcy50aWxlU2l6ZSk7XG4gICAgICAgIHRpbGUucmVxdWVzdCA9IGdldEltYWdlKHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHVybCwgUmVzb3VyY2VUeXBlLlRpbGUpLCAoZXJyLCBpbWcpID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aWxlLnJlcXVlc3Q7XG5cbiAgICAgICAgICAgIGlmICh0aWxlLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdlcnJvcmVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbWcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMpIHRpbGUuc2V0RXhwaXJ5RGF0YShpbWcpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAoaW1nOiBhbnkpLmNhY2hlQ29udHJvbDtcbiAgICAgICAgICAgICAgICBkZWxldGUgKGltZzogYW55KS5leHBpcmVzO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMubWFwLnBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gdGhpcy5tYXAucGFpbnRlci5nZXRUaWxlVGV4dHVyZShpbWcud2lkdGgpO1xuICAgICAgICAgICAgICAgIGlmICh0aWxlLnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlLmJpbmQoZ2wuTkVBUkVTVCwgZ2wuQ0xBTVBfVE9fRURHRSwgZ2wuTElORUFSX01JUE1BUF9ORUFSRVNUKTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBpbWcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGUudGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIGltZywgZ2wuUkdCQSk7XG4gICAgICAgICAgICAgICAgICAgIHRpbGUudGV4dHVyZS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UsIGdsLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJmKGdsLlRFWFRVUkVfMkQsIGNvbnRleHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULCBjb250ZXh0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2wuZ2VuZXJhdGVNaXBtYXAoZ2wuVEVYVFVSRV8yRCk7XG5cbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWJvcnRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICBpZiAodGlsZS5yZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aWxlLnJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aWxlLnJlcXVlc3Q7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICB1bmxvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICBpZiAodGlsZS50ZXh0dXJlKSB0aGlzLm1hcC5wYWludGVyLnNhdmVUaWxlVGV4dHVyZSh0aWxlLnRleHR1cmUpO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhc3RlclRpbGVTb3VyY2U7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBnZXRJbWFnZSwgUmVzb3VyY2VUeXBlIH0gZnJvbSAnLi4vdXRpbC9hamF4JztcbmltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBFdmVudGVkIH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCB7IG5vcm1hbGl6ZVRpbGVVUkwgYXMgbm9ybWFsaXplVVJMIH0gZnJvbSAnLi4vdXRpbC9tYXBib3gnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcbmltcG9ydCB7IE92ZXJzY2FsZWRUaWxlSUQgfSBmcm9tICcuL3RpbGVfaWQnO1xuaW1wb3J0IFJhc3RlclRpbGVTb3VyY2UgZnJvbSAnLi9yYXN0ZXJfdGlsZV9zb3VyY2UnO1xuLy8gZW5zdXJlIERFTURhdGEgaXMgcmVnaXN0ZXJlZCBmb3Igd29ya2VyIHRyYW5zZmVyIG9uIG1haW4gdGhyZWFkOlxuaW1wb3J0ICcuLi9kYXRhL2RlbV9kYXRhJztcblxuaW1wb3J0IHR5cGUge1NvdXJjZX0gZnJvbSAnLi9zb3VyY2UnO1xuaW1wb3J0IHR5cGUgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5cblxuY2xhc3MgUmFzdGVyREVNVGlsZVNvdXJjZSBleHRlbmRzIFJhc3RlclRpbGVTb3VyY2UgaW1wbGVtZW50cyBTb3VyY2Uge1xuICAgIGVuY29kaW5nOiBcIm1hcGJveFwiIHwgXCJ0ZXJyYXJpdW1cIjtcblxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IFJhc3RlckRFTVNvdXJjZVNwZWNpZmljYXRpb24sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoaWQsIG9wdGlvbnMsIGRpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQpO1xuICAgICAgICB0aGlzLnR5cGUgPSAncmFzdGVyLWRlbSc7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IDIyO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5lbmNvZGluZyA9IG9wdGlvbnMuZW5jb2RpbmcgfHwgXCJtYXBib3hcIjtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAncmFzdGVyLWRlbScsXG4gICAgICAgICAgICB1cmw6IHRoaXMudXJsLFxuICAgICAgICAgICAgdGlsZVNpemU6IHRoaXMudGlsZVNpemUsXG4gICAgICAgICAgICB0aWxlczogdGhpcy50aWxlcyxcbiAgICAgICAgICAgIGJvdW5kczogdGhpcy5ib3VuZHMsXG4gICAgICAgICAgICBlbmNvZGluZzogdGhpcy5lbmNvZGluZ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGxvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICBjb25zdCB1cmwgPSBub3JtYWxpemVVUkwodGlsZS50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLCB0aGlzLnNjaGVtZSksIHRoaXMudXJsLCB0aGlzLnRpbGVTaXplKTtcbiAgICAgICAgdGlsZS5yZXF1ZXN0ID0gZ2V0SW1hZ2UodGhpcy5tYXAuX3RyYW5zZm9ybVJlcXVlc3QodXJsLCBSZXNvdXJjZVR5cGUuVGlsZSksIGltYWdlTG9hZGVkLmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRpbGUubmVpZ2hib3JpbmdUaWxlcyA9IHRoaXMuX2dldE5laWdoYm9yaW5nVGlsZXModGlsZS50aWxlSUQpO1xuICAgICAgICBmdW5jdGlvbiBpbWFnZUxvYWRlZChlcnIsIGltZykge1xuICAgICAgICAgICAgZGVsZXRlIHRpbGUucmVxdWVzdDtcbiAgICAgICAgICAgIGlmICh0aWxlLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ3VubG9hZGVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdlcnJvcmVkJztcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbWcpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMpIHRpbGUuc2V0RXhwaXJ5RGF0YShpbWcpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAoaW1nOiBhbnkpLmNhY2hlQ29udHJvbDtcbiAgICAgICAgICAgICAgICBkZWxldGUgKGltZzogYW55KS5leHBpcmVzO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcmF3SW1hZ2VEYXRhID0gYnJvd3Nlci5nZXRJbWFnZURhdGEoaW1nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHVpZDogdGlsZS51aWQsXG4gICAgICAgICAgICAgICAgICAgIGNvb3JkOiB0aWxlLnRpbGVJRCxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgICAgICByYXdJbWFnZURhdGE6IHJhd0ltYWdlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgZW5jb2Rpbmc6IHRoaXMuZW5jb2RpbmdcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aWxlLndvcmtlcklEIHx8IHRpbGUuc3RhdGUgPT09ICdleHBpcmVkJykge1xuICAgICAgICAgICAgICAgICAgICB0aWxlLndvcmtlcklEID0gdGhpcy5kaXNwYXRjaGVyLnNlbmQoJ2xvYWRERU1UaWxlJywgcGFyYW1zLCBkb25lLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGRvbmUoZXJyLCBkZW0pIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2Vycm9yZWQnO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkZW0pIHtcbiAgICAgICAgICAgICAgICB0aWxlLmRlbSA9IGRlbTtcbiAgICAgICAgICAgICAgICB0aWxlLm5lZWRzSGlsbHNoYWRlUHJlcGFyZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdsb2FkZWQnO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBfZ2V0TmVpZ2hib3JpbmdUaWxlcyh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpIHtcbiAgICAgICAgY29uc3QgY2Fub25pY2FsID0gdGlsZUlELmNhbm9uaWNhbDtcbiAgICAgICAgY29uc3QgZGltID0gTWF0aC5wb3coMiwgY2Fub25pY2FsLnopO1xuXG4gICAgICAgIGNvbnN0IHB4ID0gKGNhbm9uaWNhbC54IC0gMSArIGRpbSkgJSBkaW07XG4gICAgICAgIGNvbnN0IHB4dyA9IGNhbm9uaWNhbC54ID09PSAwID8gdGlsZUlELndyYXAgLSAxIDogdGlsZUlELndyYXA7XG4gICAgICAgIGNvbnN0IG54ID0gKGNhbm9uaWNhbC54ICsgMSArIGRpbSkgJSBkaW07XG4gICAgICAgIGNvbnN0IG54dyA9IGNhbm9uaWNhbC54ICsgMSA9PT0gZGltID8gdGlsZUlELndyYXAgKyAxIDogdGlsZUlELndyYXA7XG5cbiAgICAgICAgY29uc3QgbmVpZ2hib3JpbmdUaWxlcyA9IHt9O1xuICAgICAgICAvLyBhZGQgYWRqYWNlbnQgdGlsZXNcbiAgICAgICAgbmVpZ2hib3JpbmdUaWxlc1tuZXcgT3ZlcnNjYWxlZFRpbGVJRCh0aWxlSUQub3ZlcnNjYWxlZFosIHB4dywgY2Fub25pY2FsLnosIHB4LCBjYW5vbmljYWwueSkua2V5XSA9IHtiYWNrZmlsbGVkOiBmYWxzZX07XG4gICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBueHcsIGNhbm9uaWNhbC56LCBueCwgY2Fub25pY2FsLnkpLmtleV0gPSB7YmFja2ZpbGxlZDogZmFsc2V9O1xuXG4gICAgICAgIC8vIEFkZCB1cHBlciBuZWlnaGJvcmluZ1RpbGVzXG4gICAgICAgIGlmIChjYW5vbmljYWwueSA+IDApIHtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBweHcsIGNhbm9uaWNhbC56LCBweCwgY2Fub25pY2FsLnkgLSAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCB0aWxlSUQud3JhcCwgY2Fub25pY2FsLnosIGNhbm9uaWNhbC54LCBjYW5vbmljYWwueSAtIDEpLmtleV0gPSB7YmFja2ZpbGxlZDogZmFsc2V9O1xuICAgICAgICAgICAgbmVpZ2hib3JpbmdUaWxlc1tuZXcgT3ZlcnNjYWxlZFRpbGVJRCh0aWxlSUQub3ZlcnNjYWxlZFosIG54dywgY2Fub25pY2FsLnosIG54LCBjYW5vbmljYWwueSAtIDEpLmtleV0gPSB7YmFja2ZpbGxlZDogZmFsc2V9O1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBsb3dlciBuZWlnaGJvcmluZ1RpbGVzXG4gICAgICAgIGlmIChjYW5vbmljYWwueSArIDEgPCBkaW0pIHtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCBweHcsIGNhbm9uaWNhbC56LCBweCwgY2Fub25pY2FsLnkgKyAxKS5rZXldID0ge2JhY2tmaWxsZWQ6IGZhbHNlfTtcbiAgICAgICAgICAgIG5laWdoYm9yaW5nVGlsZXNbbmV3IE92ZXJzY2FsZWRUaWxlSUQodGlsZUlELm92ZXJzY2FsZWRaLCB0aWxlSUQud3JhcCwgY2Fub25pY2FsLnosIGNhbm9uaWNhbC54LCBjYW5vbmljYWwueSArIDEpLmtleV0gPSB7YmFja2ZpbGxlZDogZmFsc2V9O1xuICAgICAgICAgICAgbmVpZ2hib3JpbmdUaWxlc1tuZXcgT3ZlcnNjYWxlZFRpbGVJRCh0aWxlSUQub3ZlcnNjYWxlZFosIG54dywgY2Fub25pY2FsLnosIG54LCBjYW5vbmljYWwueSArIDEpLmtleV0gPSB7YmFja2ZpbGxlZDogZmFsc2V9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5laWdoYm9yaW5nVGlsZXM7XG4gICAgfVxuXG5cbiAgICB1bmxvYWRUaWxlKHRpbGU6IFRpbGUpIHtcbiAgICAgICAgaWYgKHRpbGUuZGVtVGV4dHVyZSkgdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUodGlsZS5kZW1UZXh0dXJlKTtcbiAgICAgICAgaWYgKHRpbGUuZmJvKSB7XG4gICAgICAgICAgICB0aWxlLmZiby5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGlsZS5mYm87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbGUuZGVtKSBkZWxldGUgdGlsZS5kZW07XG4gICAgICAgIGRlbGV0ZSB0aWxlLm5laWdoYm9yaW5nVGlsZXM7XG5cbiAgICAgICAgdGlsZS5zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zZW5kKCdyZW1vdmVERU1UaWxlJywgeyB1aWQ6IHRpbGUudWlkLCBzb3VyY2U6IHRoaXMuaWQgfSwgdW5kZWZpbmVkLCB0aWxlLndvcmtlcklEKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFzdGVyREVNVGlsZVNvdXJjZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IEV2ZW50LCBFcnJvckV2ZW50LCBFdmVudGVkIH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcblxuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vdXRpbC93aW5kb3cnO1xuaW1wb3J0IEVYVEVOVCBmcm9tICcuLi9kYXRhL2V4dGVudCc7XG5pbXBvcnQgeyBSZXNvdXJjZVR5cGUgfSBmcm9tICcuLi91dGlsL2FqYXgnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcblxuaW1wb3J0IHR5cGUge1NvdXJjZX0gZnJvbSAnLi9zb3VyY2UnO1xuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcCc7XG5pbXBvcnQgdHlwZSBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlcic7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4vdGlsZSc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrJztcbmltcG9ydCB0eXBlIHtQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nfSBmcm9tICcuLi90eXBlcy9wZXJmb3JtYW5jZV9yZXNvdXJjZV90aW1pbmcnO1xuXG4vKipcbiAqIEEgc291cmNlIGNvbnRhaW5pbmcgR2VvSlNPTi5cbiAqIChTZWUgdGhlIFtTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzLWdlb2pzb24pIGZvciBkZXRhaWxlZCBkb2N1bWVudGF0aW9uIG9mIG9wdGlvbnMuKVxuICpcbiAqIEBleGFtcGxlXG4gKiBtYXAuYWRkU291cmNlKCdzb21lIGlkJywge1xuICogICAgIHR5cGU6ICdnZW9qc29uJyxcbiAqICAgICBkYXRhOiAnaHR0cHM6Ly9kMmFkNmI0dXI3eXZwcS5jbG91ZGZyb250Lm5ldC9uYXR1cmFsZWFydGgtMy4zLjAvbmVfMTBtX3BvcnRzLmdlb2pzb24nXG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgIHR5cGU6ICdnZW9qc29uJyxcbiAqICAgIGRhdGE6IHtcbiAqICAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICogICAgICAgIFwiZmVhdHVyZXNcIjogW3tcbiAqICAgICAgICAgICAgXCJ0eXBlXCI6IFwiRmVhdHVyZVwiLFxuICogICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge30sXG4gKiAgICAgICAgICAgIFwiZ2VvbWV0cnlcIjoge1xuICogICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUG9pbnRcIixcbiAqICAgICAgICAgICAgICAgIFwiY29vcmRpbmF0ZXNcIjogW1xuICogICAgICAgICAgICAgICAgICAgIC03Ni41MzA2MzI5NzI3MTcyOSxcbiAqICAgICAgICAgICAgICAgICAgICAzOS4xODE3NDA3Nzk5NDEwOFxuICogICAgICAgICAgICAgICAgXVxuICogICAgICAgICAgICB9XG4gKiAgICAgICAgfV1cbiAqICAgIH1cbiAqIH0pO1xuICpcbiAqIEBleGFtcGxlXG4gKiBtYXAuZ2V0U291cmNlKCdzb21lIGlkJykuc2V0RGF0YSh7XG4gKiAgIFwidHlwZVwiOiBcIkZlYXR1cmVDb2xsZWN0aW9uXCIsXG4gKiAgIFwiZmVhdHVyZXNcIjogW3tcbiAqICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAqICAgICAgIFwicHJvcGVydGllc1wiOiB7IFwibmFtZVwiOiBcIk51bGwgSXNsYW5kXCIgfSxcbiAqICAgICAgIFwiZ2VvbWV0cnlcIjoge1xuICogICAgICAgICAgIFwidHlwZVwiOiBcIlBvaW50XCIsXG4gKiAgICAgICAgICAgXCJjb29yZGluYXRlc1wiOiBbIDAsIDAgXVxuICogICAgICAgfVxuICogICB9XVxuICogfSk7XG4gKiBAc2VlIFtEcmF3IEdlb0pTT04gcG9pbnRzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dlb2pzb24tbWFya2Vycy8pXG4gKiBAc2VlIFtBZGQgYSBHZW9KU09OIGxpbmVdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2VvanNvbi1saW5lLylcbiAqIEBzZWUgW0NyZWF0ZSBhIGhlYXRtYXAgZnJvbSBwb2ludHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvaGVhdG1hcC8pXG4gKi9cbmNsYXNzIEdlb0pTT05Tb3VyY2UgZXh0ZW5kcyBFdmVudGVkIGltcGxlbWVudHMgU291cmNlIHtcbiAgICB0eXBlOiAnZ2VvanNvbic7XG4gICAgaWQ6IHN0cmluZztcbiAgICBtaW56b29tOiBudW1iZXI7XG4gICAgbWF4em9vbTogbnVtYmVyO1xuICAgIHRpbGVTaXplOiBudW1iZXI7XG5cbiAgICBpc1RpbGVDbGlwcGVkOiBib29sZWFuO1xuICAgIHJlcGFyc2VPdmVyc2NhbGVkOiBib29sZWFuO1xuICAgIF9kYXRhOiBHZW9KU09OIHwgc3RyaW5nO1xuICAgIF9vcHRpb25zOiBhbnk7XG4gICAgd29ya2VyT3B0aW9uczogYW55O1xuICAgIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gICAgbWFwOiBNYXA7XG4gICAgd29ya2VySUQ6IG51bWJlcjtcbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9jb2xsZWN0UmVzb3VyY2VUaW1pbmc6IGJvb2xlYW47XG4gICAgX3Jlc291cmNlVGltaW5nOiBBcnJheTxQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nPjtcbiAgICBfcmVtb3ZlZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgb3B0aW9uczogR2VvanNvblNvdXJjZVNwZWNpZmljYXRpb24gJiB7d29ya2VyT3B0aW9ucz86IGFueSwgY29sbGVjdFJlc291cmNlVGltaW5nOiBib29sZWFufSwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcblxuICAgICAgICAvLyBgdHlwZWAgaXMgYSBwcm9wZXJ0eSByYXRoZXIgdGhhbiBhIGNvbnN0YW50IHRvIG1ha2UgaXQgZWFzeSBmb3IgM3JkXG4gICAgICAgIC8vIHBhcnRpZXMgdG8gdXNlIEdlb0pTT05Tb3VyY2UgdG8gYnVpbGQgdGhlaXIgb3duIHNvdXJjZSB0eXBlcy5cbiAgICAgICAgdGhpcy50eXBlID0gJ2dlb2pzb24nO1xuXG4gICAgICAgIHRoaXMubWluem9vbSA9IDA7XG4gICAgICAgIHRoaXMubWF4em9vbSA9IDE4O1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gNTEyO1xuICAgICAgICB0aGlzLmlzVGlsZUNsaXBwZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlcGFyc2VPdmVyc2NhbGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IGRpc3BhdGNoZXI7XG4gICAgICAgIHRoaXMuc2V0RXZlbnRlZFBhcmVudChldmVudGVkUGFyZW50KTtcblxuICAgICAgICB0aGlzLl9kYXRhID0gKG9wdGlvbnMuZGF0YTogYW55KTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nID0gb3B0aW9ucy5jb2xsZWN0UmVzb3VyY2VUaW1pbmc7XG4gICAgICAgIHRoaXMuX3Jlc291cmNlVGltaW5nID0gW107XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWF4em9vbSAhPT0gdW5kZWZpbmVkKSB0aGlzLm1heHpvb20gPSBvcHRpb25zLm1heHpvb207XG4gICAgICAgIGlmIChvcHRpb25zLnR5cGUpIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZTtcblxuICAgICAgICBjb25zdCBzY2FsZSA9IEVYVEVOVCAvIHRoaXMudGlsZVNpemU7XG5cbiAgICAgICAgLy8gc2VudCB0byB0aGUgd29ya2VyLCBhbG9uZyB3aXRoIGB1cmw6IC4uLmAgb3IgYGRhdGE6IGxpdGVyYWwgZ2VvanNvbmAsXG4gICAgICAgIC8vIHNvIHRoYXQgaXQgY2FuIGxvYWQvcGFyc2UvaW5kZXggdGhlIGdlb2pzb24gZGF0YVxuICAgICAgICAvLyBleHRlbmRpbmcgd2l0aCBgb3B0aW9ucy53b3JrZXJPcHRpb25zYCBoZWxwcyB0byBtYWtlIGl0IGVhc3kgZm9yXG4gICAgICAgIC8vIHRoaXJkLXBhcnR5IHNvdXJjZXMgdG8gaGFjay9yZXVzZSBHZW9KU09OU291cmNlLlxuICAgICAgICB0aGlzLndvcmtlck9wdGlvbnMgPSBleHRlbmQoe1xuICAgICAgICAgICAgc291cmNlOiB0aGlzLmlkLFxuICAgICAgICAgICAgY2x1c3Rlcjogb3B0aW9ucy5jbHVzdGVyIHx8IGZhbHNlLFxuICAgICAgICAgICAgZ2VvanNvblZ0T3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcjogKG9wdGlvbnMuYnVmZmVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmJ1ZmZlciA6IDEyOCkgKiBzY2FsZSxcbiAgICAgICAgICAgICAgICB0b2xlcmFuY2U6IChvcHRpb25zLnRvbGVyYW5jZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50b2xlcmFuY2UgOiAwLjM3NSkgKiBzY2FsZSxcbiAgICAgICAgICAgICAgICBleHRlbnQ6IEVYVEVOVCxcbiAgICAgICAgICAgICAgICBtYXhab29tOiB0aGlzLm1heHpvb21cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdXBlcmNsdXN0ZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgbWF4Wm9vbTogb3B0aW9ucy5jbHVzdGVyTWF4Wm9vbSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4ob3B0aW9ucy5jbHVzdGVyTWF4Wm9vbSwgdGhpcy5tYXh6b29tIC0gMSkgOlxuICAgICAgICAgICAgICAgICAgICAodGhpcy5tYXh6b29tIC0gMSksXG4gICAgICAgICAgICAgICAgZXh0ZW50OiBFWFRFTlQsXG4gICAgICAgICAgICAgICAgcmFkaXVzOiAob3B0aW9ucy5jbHVzdGVyUmFkaXVzIHx8IDUwKSAqIHNjYWxlLFxuICAgICAgICAgICAgICAgIGxvZzogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgb3B0aW9ucy53b3JrZXJPcHRpb25zKTtcbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGE6IE9iamVjdCA9IHsgZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJyB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyAmJiB0aGlzLl9yZXNvdXJjZVRpbWluZyAmJiAodGhpcy5fcmVzb3VyY2VUaW1pbmcubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnJlc291cmNlVGltaW5nID0gdGhpcy5fcmVzb3VyY2VUaW1pbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2VUaW1pbmcgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWx0aG91Z2ggR2VvSlNPTiBzb3VyY2VzIGNvbnRhaW4gbm8gbWV0YWRhdGEsIHdlIGZpcmUgdGhpcyBldmVudCB0byBsZXQgdGhlIFNvdXJjZUNhY2hlXG4gICAgICAgICAgICAvLyBrbm93IGl0cyBvayB0byBzdGFydCByZXF1ZXN0aW5nIHRpbGVzLlxuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIGRhdGEpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIEdlb0pTT04gZGF0YSBhbmQgcmUtcmVuZGVycyB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R8c3RyaW5nfSBkYXRhIEEgR2VvSlNPTiBkYXRhIG9iamVjdCBvciBhIFVSTCB0byBvbmUuIFRoZSBsYXR0ZXIgaXMgcHJlZmVyYWJsZSBpbiB0aGUgY2FzZSBvZiBsYXJnZSBHZW9KU09OIGZpbGVzLlxuICAgICAqIEByZXR1cm5zIHtHZW9KU09OU291cmNlfSB0aGlzXG4gICAgICovXG4gICAgc2V0RGF0YShkYXRhOiBHZW9KU09OIHwgc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGE6IE9iamVjdCA9IHsgZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ2NvbnRlbnQnIH07XG4gICAgICAgICAgICBpZiAodGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nICYmIHRoaXMuX3Jlc291cmNlVGltaW5nICYmICh0aGlzLl9yZXNvdXJjZVRpbWluZy5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAgICAgIGRhdGEucmVzb3VyY2VUaW1pbmcgPSB0aGlzLl9yZXNvdXJjZVRpbWluZztcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvdXJjZVRpbWluZyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIGRhdGEpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBSZXNwb25zaWJsZSBmb3IgaW52b2tpbmcgV29ya2VyU291cmNlJ3MgZ2VvanNvbi5sb2FkRGF0YSB0YXJnZXQsIHdoaWNoXG4gICAgICogaGFuZGxlcyBsb2FkaW5nIHRoZSBnZW9qc29uIGRhdGEgYW5kIHByZXBhcmluZyB0byBzZXJ2ZSBpdCB1cCBhcyB0aWxlcyxcbiAgICAgKiB1c2luZyBnZW9qc29uLXZ0IG9yIHN1cGVyY2x1c3RlciBhcyBhcHByb3ByaWF0ZS5cbiAgICAgKi9cbiAgICBfdXBkYXRlV29ya2VyRGF0YShjYWxsYmFjazogRnVuY3Rpb24pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGV4dGVuZCh7fSwgdGhpcy53b3JrZXJPcHRpb25zKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX2RhdGE7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucmVxdWVzdCA9IHRoaXMubWFwLl90cmFuc2Zvcm1SZXF1ZXN0KHJlc29sdmVVUkwoZGF0YSksIFJlc291cmNlVHlwZS5Tb3VyY2UpO1xuICAgICAgICAgICAgb3B0aW9ucy5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZyA9IHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGFyZ2V0IHt0aGlzLnR5cGV9LntvcHRpb25zLnNvdXJjZX0ubG9hZERhdGEgcmF0aGVyIHRoYW4gbGl0ZXJhbGx5IGdlb2pzb24ubG9hZERhdGEsXG4gICAgICAgIC8vIHNvIHRoYXQgb3RoZXIgZ2VvanNvbi1saWtlIHNvdXJjZSB0eXBlcyBjYW4gZWFzaWx5IHJldXNlIHRoaXNcbiAgICAgICAgLy8gaW1wbGVtZW50YXRpb25cbiAgICAgICAgdGhpcy53b3JrZXJJRCA9IHRoaXMuZGlzcGF0Y2hlci5zZW5kKGAke3RoaXMudHlwZX0uJHtvcHRpb25zLnNvdXJjZX0ubG9hZERhdGFgLCBvcHRpb25zLCAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZW1vdmVkIHx8IChyZXN1bHQgJiYgcmVzdWx0LmFiYW5kb25lZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2xvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnJlc291cmNlVGltaW5nICYmIHJlc3VsdC5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSlcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvdXJjZVRpbWluZyA9IHJlc3VsdC5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXS5zbGljZSgwKTtcbiAgICAgICAgICAgIC8vIEFueSBgbG9hZERhdGFgIGNhbGxzIHRoYXQgcGlsZWQgdXAgd2hpbGUgd2Ugd2VyZSBwcm9jZXNzaW5nXG4gICAgICAgICAgICAvLyB0aGlzIG9uZSB3aWxsIGdldCBjb2FsZXNjZWQgaW50byBhIHNpbmdsZSBjYWxsIHdoZW4gdGhpc1xuICAgICAgICAgICAgLy8gJ2NvYWxlc2NlJyBtZXNzYWdlIGlzIHByb2Nlc3NlZC5cbiAgICAgICAgICAgIC8vIFdlIHdvdWxkIHNlbGYtc2VuZCBmcm9tIHRoZSB3b3JrZXIgaWYgd2UgaGFkIGFjY2VzcyB0byBpdHNcbiAgICAgICAgICAgIC8vIG1lc3NhZ2UgcXVldWUuIFdhaXRpbmcgaW5zdGVhZCBmb3IgdGhlICdjb2FsZXNjZScgdG8gcm91bmQtdHJpcFxuICAgICAgICAgICAgLy8gdGhyb3VnaCB0aGUgZm9yZWdyb3VuZCBqdXN0IG1lYW5zIHdlJ3JlIHRocm90dGxpbmcgdGhlIHdvcmtlclxuICAgICAgICAgICAgLy8gdG8gcnVuIGF0IGEgbGl0dGxlIGxlc3MgdGhhbiBmdWxsLXRocm90dGxlLlxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnNlbmQoYCR7dGhpcy50eXBlfS4ke29wdGlvbnMuc291cmNlfS5jb2FsZXNjZWAsIG51bGwsIG51bGwsIHRoaXMud29ya2VySUQpO1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcblxuICAgICAgICB9LCB0aGlzLndvcmtlcklEKTtcbiAgICB9XG5cbiAgICBsb2FkVGlsZSh0aWxlOiBUaWxlLCBjYWxsYmFjazogQ2FsbGJhY2s8dm9pZD4pIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRpbGUud29ya2VySUQgPT09IHVuZGVmaW5lZCA/ICdsb2FkVGlsZScgOiAncmVsb2FkVGlsZSc7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIHVpZDogdGlsZS51aWQsXG4gICAgICAgICAgICB0aWxlSUQ6IHRpbGUudGlsZUlELFxuICAgICAgICAgICAgem9vbTogdGlsZS50aWxlSUQub3ZlcnNjYWxlZFosXG4gICAgICAgICAgICBtYXhab29tOiB0aGlzLm1heHpvb20sXG4gICAgICAgICAgICB0aWxlU2l6ZTogdGhpcy50aWxlU2l6ZSxcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5pZCxcbiAgICAgICAgICAgIHBpeGVsUmF0aW86IGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIG92ZXJzY2FsaW5nOiB0aWxlLnRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKSxcbiAgICAgICAgICAgIHNob3dDb2xsaXNpb25Cb3hlczogdGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzXG4gICAgICAgIH07XG5cbiAgICAgICAgdGlsZS53b3JrZXJJRCA9IHRoaXMuZGlzcGF0Y2hlci5zZW5kKG1lc3NhZ2UsIHBhcmFtcywgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgdGlsZS51bmxvYWRWZWN0b3JEYXRhKCk7XG5cbiAgICAgICAgICAgIGlmICh0aWxlLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGlsZS5sb2FkVmVjdG9yRGF0YShkYXRhLCB0aGlzLm1hcC5wYWludGVyLCBtZXNzYWdlID09PSAncmVsb2FkVGlsZScpO1xuXG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIH0sIHRoaXMud29ya2VySUQpO1xuICAgIH1cblxuICAgIGFib3J0VGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIHRpbGUuYWJvcnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgdW5sb2FkVGlsZSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIHRpbGUudW5sb2FkVmVjdG9yRGF0YSgpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuc2VuZCgncmVtb3ZlVGlsZScsIHsgdWlkOiB0aWxlLnVpZCwgdHlwZTogdGhpcy50eXBlLCBzb3VyY2U6IHRoaXMuaWQgfSwgbnVsbCwgdGlsZS53b3JrZXJJRCk7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuc2VuZCgncmVtb3ZlU291cmNlJywgeyB0eXBlOiB0aGlzLnR5cGUsIHNvdXJjZTogdGhpcy5pZCB9LCBudWxsLCB0aGlzLndvcmtlcklEKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIHRoaXMuX29wdGlvbnMsIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIGRhdGE6IHRoaXMuX2RhdGFcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICBjb25zdCBhID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBhLmhyZWYgPSB1cmw7XG4gICAgcmV0dXJuIGEuaHJlZjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgR2VvSlNPTlNvdXJjZTtcbiIsIi8vIEBmbG93XG5pbXBvcnQgeyBjcmVhdGVMYXlvdXQgfSBmcm9tICcuLi91dGlsL3N0cnVjdF9hcnJheSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUxheW91dChbXG4gICAgeyBuYW1lOiAnYV9wb3MnLCB0eXBlOiAnSW50MTYnLCBjb21wb25lbnRzOiAyIH0sXG4gICAgeyBuYW1lOiAnYV90ZXh0dXJlX3BvcycsIHR5cGU6ICdJbnQxNicsIGNvbXBvbmVudHM6IDIgfVxuXSk7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCB0eXBlIFByb2dyYW0gZnJvbSAnLi9wcm9ncmFtJztcbmltcG9ydCB0eXBlIFZlcnRleEJ1ZmZlciBmcm9tICcuLi9nbC92ZXJ0ZXhfYnVmZmVyJztcbmltcG9ydCB0eXBlIEluZGV4QnVmZmVyIGZyb20gJy4uL2dsL2luZGV4X2J1ZmZlcic7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuXG5jbGFzcyBWZXJ0ZXhBcnJheU9iamVjdCB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBib3VuZFByb2dyYW06ID9Qcm9ncmFtO1xuICAgIGJvdW5kTGF5b3V0VmVydGV4QnVmZmVyOiA/VmVydGV4QnVmZmVyO1xuICAgIGJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzOiBBcnJheTxWZXJ0ZXhCdWZmZXI+O1xuICAgIGJvdW5kSW5kZXhCdWZmZXI6ID9JbmRleEJ1ZmZlcjtcbiAgICBib3VuZFZlcnRleE9mZnNldDogP251bWJlcjtcbiAgICBib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXI6ID9WZXJ0ZXhCdWZmZXI7XG4gICAgYm91bmREeW5hbWljVmVydGV4QnVmZmVyMjogP1ZlcnRleEJ1ZmZlcjtcbiAgICB2YW86IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJvdW5kUHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzID0gW107XG4gICAgICAgIHRoaXMuYm91bmRJbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQgPSBudWxsO1xuICAgICAgICB0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMudmFvID0gbnVsbDtcbiAgICB9XG5cbiAgICBiaW5kKGNvbnRleHQ6IENvbnRleHQsXG4gICAgICAgICBwcm9ncmFtOiBQcm9ncmFtLFxuICAgICAgICAgbGF5b3V0VmVydGV4QnVmZmVyOiBWZXJ0ZXhCdWZmZXIsXG4gICAgICAgICBwYWludFZlcnRleEJ1ZmZlcnM6IEFycmF5PFZlcnRleEJ1ZmZlcj4sXG4gICAgICAgICBpbmRleEJ1ZmZlcjogP0luZGV4QnVmZmVyLFxuICAgICAgICAgdmVydGV4T2Zmc2V0OiA/bnVtYmVyLFxuICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlcjogP1ZlcnRleEJ1ZmZlcixcbiAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIyOiA/VmVydGV4QnVmZmVyKSB7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcblxuICAgICAgICBsZXQgcGFpbnRCdWZmZXJzRGlmZmVyID0gdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycy5sZW5ndGggIT09IHBhaW50VmVydGV4QnVmZmVycy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyAhcGFpbnRCdWZmZXJzRGlmZmVyICYmIGkgPCBwYWludFZlcnRleEJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzW2ldICE9PSBwYWludFZlcnRleEJ1ZmZlcnNbaV0pIHtcbiAgICAgICAgICAgICAgICBwYWludEJ1ZmZlcnNEaWZmZXIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaXNGcmVzaEJpbmRSZXF1aXJlZCA9IChcbiAgICAgICAgICAgICF0aGlzLnZhbyB8fFxuICAgICAgICAgICAgdGhpcy5ib3VuZFByb2dyYW0gIT09IHByb2dyYW0gfHxcbiAgICAgICAgICAgIHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXIgIT09IGxheW91dFZlcnRleEJ1ZmZlciB8fFxuICAgICAgICAgICAgcGFpbnRCdWZmZXJzRGlmZmVyIHx8XG4gICAgICAgICAgICB0aGlzLmJvdW5kSW5kZXhCdWZmZXIgIT09IGluZGV4QnVmZmVyIHx8XG4gICAgICAgICAgICB0aGlzLmJvdW5kVmVydGV4T2Zmc2V0ICE9PSB2ZXJ0ZXhPZmZzZXQgfHxcbiAgICAgICAgICAgIHRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVyICE9PSBkeW5hbWljVmVydGV4QnVmZmVyIHx8XG4gICAgICAgICAgICB0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcjIgIT09IGR5bmFtaWNWZXJ0ZXhCdWZmZXIyXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCFjb250ZXh0LmV4dFZlcnRleEFycmF5T2JqZWN0IHx8IGlzRnJlc2hCaW5kUmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZnJlc2hCaW5kKHByb2dyYW0sIGxheW91dFZlcnRleEJ1ZmZlciwgcGFpbnRWZXJ0ZXhCdWZmZXJzLCBpbmRleEJ1ZmZlciwgdmVydGV4T2Zmc2V0LCBkeW5hbWljVmVydGV4QnVmZmVyLCBkeW5hbWljVmVydGV4QnVmZmVyMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pO1xuXG4gICAgICAgICAgICBpZiAoZHluYW1pY1ZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBidWZmZXIgbWF5IGhhdmUgYmVlbiB1cGRhdGVkLiBSZWJpbmQgdG8gdXBsb2FkIGRhdGEuXG4gICAgICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpbmRleEJ1ZmZlciAmJiBpbmRleEJ1ZmZlci5keW5hbWljRHJhdykge1xuICAgICAgICAgICAgICAgIGluZGV4QnVmZmVyLmJpbmQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGR5bmFtaWNWZXJ0ZXhCdWZmZXIyKSB7XG4gICAgICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlcjIuYmluZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnJlc2hCaW5kKHByb2dyYW06IFByb2dyYW0sXG4gICAgICAgICAgICAgIGxheW91dFZlcnRleEJ1ZmZlcjogVmVydGV4QnVmZmVyLFxuICAgICAgICAgICAgICBwYWludFZlcnRleEJ1ZmZlcnM6IEFycmF5PFZlcnRleEJ1ZmZlcj4sXG4gICAgICAgICAgICAgIGluZGV4QnVmZmVyOiA/SW5kZXhCdWZmZXIsXG4gICAgICAgICAgICAgIHZlcnRleE9mZnNldDogP251bWJlcixcbiAgICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlcjogP1ZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlcjI6ID9WZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgbGV0IG51bVByZXZBdHRyaWJ1dGVzO1xuICAgICAgICBjb25zdCBudW1OZXh0QXR0cmlidXRlcyA9IHByb2dyYW0ubnVtQXR0cmlidXRlcztcblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgaWYgKGNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbykgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnZhbyA9IGNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QuY3JlYXRlVmVydGV4QXJyYXlPRVMoKTtcbiAgICAgICAgICAgIGNvbnRleHQuYmluZFZlcnRleEFycmF5T0VTLnNldCh0aGlzLnZhbyk7XG4gICAgICAgICAgICBudW1QcmV2QXR0cmlidXRlcyA9IDA7XG5cbiAgICAgICAgICAgIC8vIHN0b3JlIHRoZSBhcmd1bWVudHMgc28gdGhhdCB3ZSBjYW4gdmVyaWZ5IHRoZW0gd2hlbiB0aGUgdmFvIGlzIGJvdW5kIGFnYWluXG4gICAgICAgICAgICB0aGlzLmJvdW5kUHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgICAgICB0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyID0gbGF5b3V0VmVydGV4QnVmZmVyO1xuICAgICAgICAgICAgdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycyA9IHBhaW50VmVydGV4QnVmZmVycztcbiAgICAgICAgICAgIHRoaXMuYm91bmRJbmRleEJ1ZmZlciA9IGluZGV4QnVmZmVyO1xuICAgICAgICAgICAgdGhpcy5ib3VuZFZlcnRleE9mZnNldCA9IHZlcnRleE9mZnNldDtcbiAgICAgICAgICAgIHRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVyID0gZHluYW1pY1ZlcnRleEJ1ZmZlcjtcbiAgICAgICAgICAgIHRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVyMiA9IGR5bmFtaWNWZXJ0ZXhCdWZmZXIyO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBudW1QcmV2QXR0cmlidXRlcyA9IGNvbnRleHQuY3VycmVudE51bUF0dHJpYnV0ZXMgfHwgMDtcblxuICAgICAgICAgICAgLy8gRGlzYWJsZSBhbGwgYXR0cmlidXRlcyBmcm9tIHRoZSBwcmV2aW91cyBwcm9ncmFtIHRoYXQgYXJlbid0IHVzZWQgaW5cbiAgICAgICAgICAgIC8vIHRoZSBuZXcgcHJvZ3JhbS4gTm90ZTogYXR0cmlidXRlIGluZGljZXMgYXJlICpub3QqIHByb2dyYW0gc3BlY2lmaWMhXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gbnVtTmV4dEF0dHJpYnV0ZXM7IGkgPCBudW1QcmV2QXR0cmlidXRlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gV2ViR0wgYnJlYWtzIGlmIHlvdSBkaXNhYmxlIGF0dHJpYnV0ZSAwLlxuICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjAzMDUyMzFcbiAgICAgICAgICAgICAgICBhc3NlcnQoaSAhPT0gMCk7XG4gICAgICAgICAgICAgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGF5b3V0VmVydGV4QnVmZmVyLmVuYWJsZUF0dHJpYnV0ZXMoZ2wsIHByb2dyYW0pO1xuICAgICAgICBmb3IgKGNvbnN0IHZlcnRleEJ1ZmZlciBvZiBwYWludFZlcnRleEJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5lbmFibGVBdHRyaWJ1dGVzKGdsLCBwcm9ncmFtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkeW5hbWljVmVydGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBkeW5hbWljVmVydGV4QnVmZmVyLmVuYWJsZUF0dHJpYnV0ZXMoZ2wsIHByb2dyYW0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkeW5hbWljVmVydGV4QnVmZmVyMikge1xuICAgICAgICAgICAgZHluYW1pY1ZlcnRleEJ1ZmZlcjIuZW5hYmxlQXR0cmlidXRlcyhnbCwgcHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBsYXlvdXRWZXJ0ZXhCdWZmZXIuYmluZCgpO1xuICAgICAgICBsYXlvdXRWZXJ0ZXhCdWZmZXIuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZ2wsIHByb2dyYW0sIHZlcnRleE9mZnNldCk7XG4gICAgICAgIGZvciAoY29uc3QgdmVydGV4QnVmZmVyIG9mIHBhaW50VmVydGV4QnVmZmVycykge1xuICAgICAgICAgICAgdmVydGV4QnVmZmVyLmJpbmQoKTtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhnbCwgcHJvZ3JhbSwgdmVydGV4T2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkeW5hbWljVmVydGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBkeW5hbWljVmVydGV4QnVmZmVyLmJpbmQoKTtcbiAgICAgICAgICAgIGR5bmFtaWNWZXJ0ZXhCdWZmZXIuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZ2wsIHByb2dyYW0sIHZlcnRleE9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5iaW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGR5bmFtaWNWZXJ0ZXhCdWZmZXIyKSB7XG4gICAgICAgICAgICBkeW5hbWljVmVydGV4QnVmZmVyMi5iaW5kKCk7XG4gICAgICAgICAgICBkeW5hbWljVmVydGV4QnVmZmVyMi5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhnbCwgcHJvZ3JhbSwgdmVydGV4T2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuY3VycmVudE51bUF0dHJpYnV0ZXMgPSBudW1OZXh0QXR0cmlidXRlcztcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy52YW8pIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdC5kZWxldGVWZXJ0ZXhBcnJheU9FUyh0aGlzLnZhbyk7XG4gICAgICAgICAgICB0aGlzLnZhbyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZlcnRleEFycmF5T2JqZWN0O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgZ2V0Q29vcmRpbmF0ZXNDZW50ZXIgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgeyBDYW5vbmljYWxUaWxlSUQgfSBmcm9tICcuL3RpbGVfaWQnO1xuaW1wb3J0IExuZ0xhdCBmcm9tICcuLi9nZW8vbG5nX2xhdCc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgeyBFdmVudCwgRXJyb3JFdmVudCwgRXZlbnRlZCB9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgeyBnZXRJbWFnZSwgUmVzb3VyY2VUeXBlIH0gZnJvbSAnLi4vdXRpbC9hamF4JztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50JztcbmltcG9ydCB7IFJhc3RlckJvdW5kc0FycmF5IH0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcyc7XG5pbXBvcnQgcmFzdGVyQm91bmRzQXR0cmlidXRlcyBmcm9tICcuLi9kYXRhL3Jhc3Rlcl9ib3VuZHNfYXR0cmlidXRlcyc7XG5pbXBvcnQgVmVydGV4QXJyYXlPYmplY3QgZnJvbSAnLi4vcmVuZGVyL3ZlcnRleF9hcnJheV9vYmplY3QnO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vcmVuZGVyL3RleHR1cmUnO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlfSBmcm9tICcuL3NvdXJjZSc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlJztcbmltcG9ydCB0eXBlIENvb3JkaW5hdGUgZnJvbSAnLi4vZ2VvL2Nvb3JkaW5hdGUnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5pbXBvcnQgdHlwZSBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi4vZ2wvdmVydGV4X2J1ZmZlcic7XG5cbi8qKlxuICogQSBkYXRhIHNvdXJjZSBjb250YWluaW5nIGFuIGltYWdlLlxuICogKFNlZSB0aGUgW1N0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvI3NvdXJjZXMtaW1hZ2UpIGZvciBkZXRhaWxlZCBkb2N1bWVudGF0aW9uIG9mIG9wdGlvbnMuKVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBhZGQgdG8gbWFwXG4gKiBtYXAuYWRkU291cmNlKCdzb21lIGlkJywge1xuICogICAgdHlwZTogJ2ltYWdlJyxcbiAqICAgIHVybDogJ2h0dHBzOi8vd3d3Lm1hcGJveC5jb20vaW1hZ2VzL2Zvby5wbmcnLFxuICogICAgY29vcmRpbmF0ZXM6IFtcbiAqICAgICAgICBbLTc2LjU0LCAzOS4xOF0sXG4gKiAgICAgICAgWy03Ni41MiwgMzkuMThdLFxuICogICAgICAgIFstNzYuNTIsIDM5LjE3XSxcbiAqICAgICAgICBbLTc2LjU0LCAzOS4xN11cbiAqICAgIF1cbiAqIH0pO1xuICpcbiAqIC8vIHVwZGF0ZVxuICogdmFyIG15U291cmNlID0gbWFwLmdldFNvdXJjZSgnc29tZSBpZCcpO1xuICogbXlTb3VyY2Uuc2V0Q29vcmRpbmF0ZXMoW1xuICogICAgIFstNzYuNTQzMzU3MzcyMjgzOTQsIDM5LjE4NTc5OTA3MjI5NzQ4XSxcbiAqICAgICBbLTc2LjUyODAzNjU5NDM5MDg3LCAzOS4xODM4MzY0ODQ3NTg3XSxcbiAqICAgICBbLTc2LjUyOTUzODYzMTQzOTIsIDM5LjE3NjgzMzkyNTA3NjA2XSxcbiAqICAgICBbLTc2LjU0NTIwMjczMjA4NjE4LCAzOS4xNzg3NjM0NDEwNjY0Ml1cbiAqIF0pO1xuICpcbiAqIG1hcC5yZW1vdmVTb3VyY2UoJ3NvbWUgaWQnKTsgIC8vIHJlbW92ZVxuICogQHNlZSBbQWRkIGFuIGltYWdlXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2ltYWdlLW9uLWEtbWFwLylcbiAqL1xuY2xhc3MgSW1hZ2VTb3VyY2UgZXh0ZW5kcyBFdmVudGVkIGltcGxlbWVudHMgU291cmNlIHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgaWQ6IHN0cmluZztcbiAgICBtaW56b29tOiBudW1iZXI7XG4gICAgbWF4em9vbTogbnVtYmVyO1xuICAgIHRpbGVTaXplOiBudW1iZXI7XG4gICAgdXJsOiBzdHJpbmc7XG5cbiAgICBjb29yZGluYXRlczogW1tudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl1dO1xuICAgIHRpbGVzOiB7W3N0cmluZ106IFRpbGV9O1xuICAgIG9wdGlvbnM6IGFueTtcbiAgICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICAgIG1hcDogTWFwO1xuICAgIHRleHR1cmU6IFRleHR1cmU7XG4gICAgaW1hZ2U6IEltYWdlRGF0YTtcbiAgICBjZW50ZXJDb29yZDogQ29vcmRpbmF0ZTtcbiAgICB0aWxlSUQ6IENhbm9uaWNhbFRpbGVJRDtcbiAgICBfYm91bmRzQXJyYXk6IFJhc3RlckJvdW5kc0FycmF5O1xuICAgIGJvdW5kc0J1ZmZlcjogVmVydGV4QnVmZmVyO1xuICAgIGJvdW5kc1ZBTzogVmVydGV4QXJyYXlPYmplY3Q7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IEltYWdlU291cmNlU3BlY2lmaWNhdGlvbiB8IFZpZGVvU291cmNlU3BlY2lmaWNhdGlvbiB8IENhbnZhc1NvdXJjZVNwZWNpZmljYXRpb24sIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGV2ZW50ZWRQYXJlbnQ6IEV2ZW50ZWQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gb3B0aW9ucy5jb29yZGluYXRlcztcblxuICAgICAgICB0aGlzLnR5cGUgPSAnaW1hZ2UnO1xuICAgICAgICB0aGlzLm1pbnpvb20gPSAwO1xuICAgICAgICB0aGlzLm1heHpvb20gPSAyMjtcbiAgICAgICAgdGhpcy50aWxlU2l6ZSA9IDUxMjtcbiAgICAgICAgdGhpcy50aWxlcyA9IHt9O1xuXG4gICAgICAgIHRoaXMuc2V0RXZlbnRlZFBhcmVudChldmVudGVkUGFyZW50KTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cblxuICAgIGxvYWQoKSB7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGFsb2FkaW5nJywge2RhdGFUeXBlOiAnc291cmNlJ30pKTtcblxuICAgICAgICB0aGlzLnVybCA9IHRoaXMub3B0aW9ucy51cmw7XG5cbiAgICAgICAgZ2V0SW1hZ2UodGhpcy5tYXAuX3RyYW5zZm9ybVJlcXVlc3QodGhpcy51cmwsIFJlc291cmNlVHlwZS5JbWFnZSksIChlcnIsIGltYWdlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KGVycikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2UgPSBicm93c2VyLmdldEltYWdlRGF0YShpbWFnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmluaXNoTG9hZGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfZmluaXNoTG9hZGluZygpIHtcbiAgICAgICAgaWYgKHRoaXMubWFwKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3NvdXJjZScsIHNvdXJjZURhdGFUeXBlOiAnbWV0YWRhdGEnfSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGltYWdlJ3MgY29vcmRpbmF0ZXMgYW5kIHJlLXJlbmRlcnMgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXk8QXJyYXk8bnVtYmVyPj59IGNvb3JkaW5hdGVzIEZvdXIgZ2VvZ3JhcGhpY2FsIGNvb3JkaW5hdGVzLFxuICAgICAqICAgcmVwcmVzZW50ZWQgYXMgYXJyYXlzIG9mIGxvbmdpdHVkZSBhbmQgbGF0aXR1ZGUgbnVtYmVycywgd2hpY2ggZGVmaW5lIHRoZSBjb3JuZXJzIG9mIHRoZSBpbWFnZS5cbiAgICAgKiAgIFRoZSBjb29yZGluYXRlcyBzdGFydCBhdCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBpbWFnZSBhbmQgcHJvY2VlZCBpbiBjbG9ja3dpc2Ugb3JkZXIuXG4gICAgICogICBUaGV5IGRvIG5vdCBoYXZlIHRvIHJlcHJlc2VudCBhIHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJucyB7SW1hZ2VTb3VyY2V9IHRoaXNcbiAgICAgKi9cbiAgICBzZXRDb29yZGluYXRlcyhjb29yZGluYXRlczogW1tudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl1dKSB7XG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBjb29yZGluYXRlcztcblxuICAgICAgICAvLyBDYWxjdWxhdGUgd2hpY2ggbWVyY2F0b3IgdGlsZSBpcyBzdWl0YWJsZSBmb3IgcmVuZGVyaW5nIHRoZSB2aWRlbyBpblxuICAgICAgICAvLyBhbmQgY3JlYXRlIGEgYnVmZmVyIHdpdGggdGhlIGNvcm5lciBjb29yZGluYXRlcy4gVGhlc2UgY29vcmRpbmF0ZXNcbiAgICAgICAgLy8gbWF5IGJlIG91dHNpZGUgdGhlIHRpbGUsIGJlY2F1c2UgcmFzdGVyIHRpbGVzIGFyZW4ndCBjbGlwcGVkIHdoZW4gcmVuZGVyaW5nLlxuXG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMubWFwO1xuXG4gICAgICAgIC8vIHRyYW5zZm9ybSB0aGUgZ2VvIGNvb3JkaW5hdGVzIGludG8gKHpvb20gMCkgdGlsZSBzcGFjZSBjb29yZGluYXRlc1xuICAgICAgICBjb25zdCBjb3JuZXJaMENvb3JkcyA9IGNvb3JkaW5hdGVzLm1hcCgoY29vcmQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBtYXAudHJhbnNmb3JtLmxvY2F0aW9uQ29vcmRpbmF0ZShMbmdMYXQuY29udmVydChjb29yZCkpLnpvb21UbygwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHRpbGUgd2UnbGwgdXNlIHRvIGhvbGQgdGhpcyBpbWFnZSdzXG4gICAgICAgIC8vIHJlbmRlciBkYXRhXG4gICAgICAgIGNvbnN0IGNlbnRlckNvb3JkID0gdGhpcy5jZW50ZXJDb29yZCA9IGdldENvb3JkaW5hdGVzQ2VudGVyKGNvcm5lclowQ29vcmRzKTtcbiAgICAgICAgLy8gYGNvbHVtbmAgYW5kIGByb3dgIG1heSBiZSBmcmFjdGlvbmFsOyByb3VuZCB0aGVtIGRvd24gc28gdGhhdCB0aGV5XG4gICAgICAgIC8vIHJlcHJlc2VudCBpbnRlZ2VyIHRpbGUgY29vcmRpbmF0ZXNcbiAgICAgICAgY2VudGVyQ29vcmQuY29sdW1uID0gTWF0aC5mbG9vcihjZW50ZXJDb29yZC5jb2x1bW4pO1xuICAgICAgICBjZW50ZXJDb29yZC5yb3cgPSBNYXRoLmZsb29yKGNlbnRlckNvb3JkLnJvdyk7XG4gICAgICAgIHRoaXMudGlsZUlEID0gbmV3IENhbm9uaWNhbFRpbGVJRChjZW50ZXJDb29yZC56b29tLCBjZW50ZXJDb29yZC5jb2x1bW4sIGNlbnRlckNvb3JkLnJvdyk7XG5cbiAgICAgICAgLy8gQ29uc3RyYWluIG1pbi9tYXggem9vbSB0byBvdXIgdGlsZSdzIHpvb20gbGV2ZWwgaW4gb3JkZXIgdG8gZm9yY2VcbiAgICAgICAgLy8gU291cmNlQ2FjaGUgdG8gcmVxdWVzdCB0aGlzIHRpbGUgKG5vIG1hdHRlciB3aGF0IHRoZSBtYXAncyB6b29tXG4gICAgICAgIC8vIGxldmVsKVxuICAgICAgICB0aGlzLm1pbnpvb20gPSB0aGlzLm1heHpvb20gPSBjZW50ZXJDb29yZC56b29tO1xuXG4gICAgICAgIC8vIFRyYW5zZm9ybSB0aGUgY29ybmVyIGNvb3JkaW5hdGVzIGludG8gdGhlIGNvb3JkaW5hdGUgc3BhY2Ugb2Ygb3VyXG4gICAgICAgIC8vIHRpbGUuXG4gICAgICAgIGNvbnN0IHRpbGVDb29yZHMgPSBjb3JuZXJaMENvb3Jkcy5tYXAoKGNvb3JkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB6b29tZWRDb29yZCA9IGNvb3JkLnpvb21UbyhjZW50ZXJDb29yZC56b29tKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgICAgICAgICAgTWF0aC5yb3VuZCgoem9vbWVkQ29vcmQuY29sdW1uIC0gY2VudGVyQ29vcmQuY29sdW1uKSAqIEVYVEVOVCksXG4gICAgICAgICAgICAgICAgTWF0aC5yb3VuZCgoem9vbWVkQ29vcmQucm93IC0gY2VudGVyQ29vcmQucm93KSAqIEVYVEVOVCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9ib3VuZHNBcnJheSA9IG5ldyBSYXN0ZXJCb3VuZHNBcnJheSgpO1xuICAgICAgICB0aGlzLl9ib3VuZHNBcnJheS5lbXBsYWNlQmFjayh0aWxlQ29vcmRzWzBdLngsIHRpbGVDb29yZHNbMF0ueSwgMCwgMCk7XG4gICAgICAgIHRoaXMuX2JvdW5kc0FycmF5LmVtcGxhY2VCYWNrKHRpbGVDb29yZHNbMV0ueCwgdGlsZUNvb3Jkc1sxXS55LCBFWFRFTlQsIDApO1xuICAgICAgICB0aGlzLl9ib3VuZHNBcnJheS5lbXBsYWNlQmFjayh0aWxlQ29vcmRzWzNdLngsIHRpbGVDb29yZHNbM10ueSwgMCwgRVhURU5UKTtcbiAgICAgICAgdGhpcy5fYm91bmRzQXJyYXkuZW1wbGFjZUJhY2sodGlsZUNvb3Jkc1syXS54LCB0aWxlQ29vcmRzWzJdLnksIEVYVEVOVCwgRVhURU5UKTtcblxuICAgICAgICBpZiAodGhpcy5ib3VuZHNCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzQnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJvdW5kc0J1ZmZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6J3NvdXJjZScsIHNvdXJjZURhdGFUeXBlOiAnY29udGVudCd9KSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHByZXBhcmUoKSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGggPT09IDAgfHwgIXRoaXMuaW1hZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLm1hcC5wYWludGVyLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBpZiAoIXRoaXMuYm91bmRzQnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc0J1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuX2JvdW5kc0FycmF5LCByYXN0ZXJCb3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmJvdW5kc1ZBTykge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNWQU8gPSBuZXcgVmVydGV4QXJyYXlPYmplY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy50ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmltYWdlLCBnbC5SR0JBKTtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHcgaW4gdGhpcy50aWxlcykge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMudGlsZXNbd107XG4gICAgICAgICAgICBpZiAodGlsZS5zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIC8vIFdlIGhhdmUgYSBzaW5nbGUgdGlsZSAtLSB3aG9vc2UgY29vcmRpbmF0ZXMgYXJlIHRoaXMudGlsZUlEIC0tIHRoYXRcbiAgICAgICAgLy8gY292ZXJzIHRoZSBpbWFnZSB3ZSB3YW50IHRvIHJlbmRlci4gIElmIHRoYXQncyB0aGUgb25lIGJlaW5nXG4gICAgICAgIC8vIHJlcXVlc3RlZCwgc2V0IGl0IHVwIHdpdGggdGhlIGltYWdlOyBvdGhlcndpc2UsIG1hcmsgdGhlIHRpbGUgYXNcbiAgICAgICAgLy8gYGVycm9yZWRgIHRvIGluZGljYXRlIHRoYXQgd2UgaGF2ZSBubyBkYXRhIGZvciBpdC5cbiAgICAgICAgLy8gSWYgdGhlIHdvcmxkIHdyYXBzLCB3ZSBtYXkgaGF2ZSBtdWx0aXBsZSBcIndyYXBwZWRcIiBjb3BpZXMgb2YgdGhlXG4gICAgICAgIC8vIHNpbmdsZSB0aWxlLlxuICAgICAgICBpZiAodGhpcy50aWxlSUQgJiYgdGhpcy50aWxlSUQuZXF1YWxzKHRpbGUudGlsZUlELmNhbm9uaWNhbCkpIHtcbiAgICAgICAgICAgIHRoaXMudGlsZXNbU3RyaW5nKHRpbGUudGlsZUlELndyYXApXSA9IHRpbGU7XG4gICAgICAgICAgICB0aWxlLmJ1Y2tldHMgPSB7fTtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdlcnJvcmVkJztcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCk6IE9iamVjdCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICAgICAgdXJsOiB0aGlzLm9wdGlvbnMudXJsLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHRoaXMuY29vcmRpbmF0ZXNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbWFnZVNvdXJjZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGdldFZpZGVvLCBSZXNvdXJjZVR5cGUgfSBmcm9tICcuLi91dGlsL2FqYXgnO1xuXG5pbXBvcnQgSW1hZ2VTb3VyY2UgZnJvbSAnLi9pbWFnZV9zb3VyY2UnO1xuaW1wb3J0IHJhc3RlckJvdW5kc0F0dHJpYnV0ZXMgZnJvbSAnLi4vZGF0YS9yYXN0ZXJfYm91bmRzX2F0dHJpYnV0ZXMnO1xuaW1wb3J0IFZlcnRleEFycmF5T2JqZWN0IGZyb20gJy4uL3JlbmRlci92ZXJ0ZXhfYXJyYXlfb2JqZWN0JztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4uL3JlbmRlci90ZXh0dXJlJztcbmltcG9ydCB7IEVycm9yRXZlbnQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyJztcbmltcG9ydCB0eXBlIHtFdmVudGVkfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuXG4vKipcbiAqIEEgZGF0YSBzb3VyY2UgY29udGFpbmluZyB2aWRlby5cbiAqIChTZWUgdGhlIFtTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzLXZpZGVvKSBmb3IgZGV0YWlsZWQgZG9jdW1lbnRhdGlvbiBvZiBvcHRpb25zLilcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gYWRkIHRvIG1hcFxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgIHR5cGU6ICd2aWRlbycsXG4gKiAgICB1cmw6IFtcbiAqICAgICAgICAnaHR0cHM6Ly93d3cubWFwYm94LmNvbS9ibG9nL2Fzc2V0cy9iYWx0aW1vcmUtc21va2UubXA0JyxcbiAqICAgICAgICAnaHR0cHM6Ly93d3cubWFwYm94LmNvbS9ibG9nL2Fzc2V0cy9iYWx0aW1vcmUtc21va2Uud2VibSdcbiAqICAgIF0sXG4gKiAgICBjb29yZGluYXRlczogW1xuICogICAgICAgIFstNzYuNTQsIDM5LjE4XSxcbiAqICAgICAgICBbLTc2LjUyLCAzOS4xOF0sXG4gKiAgICAgICAgWy03Ni41MiwgMzkuMTddLFxuICogICAgICAgIFstNzYuNTQsIDM5LjE3XVxuICogICAgXVxuICogfSk7XG4gKlxuICogLy8gdXBkYXRlXG4gKiB2YXIgbXlTb3VyY2UgPSBtYXAuZ2V0U291cmNlKCdzb21lIGlkJyk7XG4gKiBteVNvdXJjZS5zZXRDb29yZGluYXRlcyhbXG4gKiAgICAgWy03Ni41NDMzNTczNzIyODM5NCwgMzkuMTg1Nzk5MDcyMjk3NDhdLFxuICogICAgIFstNzYuNTI4MDM2NTk0MzkwODcsIDM5LjE4MzgzNjQ4NDc1ODddLFxuICogICAgIFstNzYuNTI5NTM4NjMxNDM5MiwgMzkuMTc2ODMzOTI1MDc2MDZdLFxuICogICAgIFstNzYuNTQ1MjAyNzMyMDg2MTgsIDM5LjE3ODc2MzQ0MTA2NjQyXVxuICogXSk7XG4gKlxuICogbWFwLnJlbW92ZVNvdXJjZSgnc29tZSBpZCcpOyAgLy8gcmVtb3ZlXG4gKiBAc2VlIFtBZGQgYSB2aWRlb10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS92aWRlby1vbi1hLW1hcC8pXG4gKi9cbmNsYXNzIFZpZGVvU291cmNlIGV4dGVuZHMgSW1hZ2VTb3VyY2Uge1xuICAgIG9wdGlvbnM6IFZpZGVvU291cmNlU3BlY2lmaWNhdGlvbjtcbiAgICB1cmxzOiBBcnJheTxzdHJpbmc+O1xuICAgIHZpZGVvOiBIVE1MVmlkZW9FbGVtZW50O1xuICAgIHJvdW5kWm9vbTogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgb3B0aW9uczogVmlkZW9Tb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKGlkLCBvcHRpb25zLCBkaXNwYXRjaGVyLCBldmVudGVkUGFyZW50KTtcbiAgICAgICAgdGhpcy5yb3VuZFpvb20gPSB0cnVlO1xuICAgICAgICB0aGlzLnR5cGUgPSAndmlkZW8nO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cblxuICAgIGxvYWQoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy51cmxzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgdXJsIG9mIG9wdGlvbnMudXJscykge1xuICAgICAgICAgICAgdGhpcy51cmxzLnB1c2godGhpcy5tYXAuX3RyYW5zZm9ybVJlcXVlc3QodXJsLCBSZXNvdXJjZVR5cGUuU291cmNlKS51cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0VmlkZW8odGhpcy51cmxzLCAoZXJyLCB2aWRlbykgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmlkZW8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvID0gdmlkZW87XG4gICAgICAgICAgICAgICAgdGhpcy52aWRlby5sb29wID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIFN0YXJ0IHJlcGFpbnRpbmcgd2hlbiB2aWRlbyBzdGFydHMgcGxheWluZy4gaGFzVHJhbnNpdGlvbigpIHdpbGwgdGhlbiByZXR1cm5cbiAgICAgICAgICAgICAgICAvLyB0cnVlIHRvIHRyaWdnZXIgYWRkaXRpb25hbCBmcmFtZXMgYXMgbG9uZyBhcyB0aGUgdmlkZW9zIGNvbnRpbnVlcyBwbGF5aW5nLlxuICAgICAgICAgICAgICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigncGxheWluZycsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuX3JlcmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fZmluaXNoTG9hZGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBIVE1MIGB2aWRlb2AgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MVmlkZW9FbGVtZW50fSBUaGUgSFRNTCBgdmlkZW9gIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0VmlkZW8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcCkgcmV0dXJuO1xuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIGlmICh0aGlzLnZpZGVvKSB7XG4gICAgICAgICAgICB0aGlzLnZpZGVvLnBsYXkoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29vcmRpbmF0ZXModGhpcy5jb29yZGluYXRlcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2aWRlbydzIGNvb3JkaW5hdGVzIGFuZCByZS1yZW5kZXJzIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHNldENvb3JkaW5hdGVzXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFZpZGVvU291cmNlXG4gICAgICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgRm91ciBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMsXG4gICAgICogICByZXByZXNlbnRlZCBhcyBhcnJheXMgb2YgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSBudW1iZXJzLCB3aGljaCBkZWZpbmUgdGhlIGNvcm5lcnMgb2YgdGhlIHZpZGVvLlxuICAgICAqICAgVGhlIGNvb3JkaW5hdGVzIHN0YXJ0IGF0IHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIHZpZGVvIGFuZCBwcm9jZWVkIGluIGNsb2Nrd2lzZSBvcmRlci5cbiAgICAgKiAgIFRoZXkgZG8gbm90IGhhdmUgdG8gcmVwcmVzZW50IGEgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm5zIHtWaWRlb1NvdXJjZX0gdGhpc1xuICAgICAqL1xuICAgIC8vIHNldENvb3JkaW5hdGVzIGluaGVyaXRlZCBmcm9tIEltYWdlU291cmNlXG5cbiAgICBwcmVwYXJlKCkge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RoID09PSAwIHx8IHRoaXMudmlkZW8ucmVhZHlTdGF0ZSA8IDIpIHtcbiAgICAgICAgICAgIHJldHVybjsgLy8gbm90IGVub3VnaCBkYXRhIGZvciBjdXJyZW50IHBvc2l0aW9uXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5tYXAucGFpbnRlci5jb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgaWYgKCF0aGlzLmJvdW5kc0J1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLl9ib3VuZHNBcnJheSwgcmFzdGVyQm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5ib3VuZHNWQU8pIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzVkFPID0gbmV3IFZlcnRleEFycmF5T2JqZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwgdGhpcy52aWRlbywgZ2wuUkdCQSk7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLnZpZGVvLnBhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdGhpcy52aWRlbyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHcgaW4gdGhpcy50aWxlcykge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMudGlsZXNbd107XG4gICAgICAgICAgICBpZiAodGlsZS5zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcbiAgICAgICAgICAgICAgICB0aWxlLnN0YXRlID0gJ2xvYWRlZCc7XG4gICAgICAgICAgICAgICAgdGlsZS50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3ZpZGVvJyxcbiAgICAgICAgICAgIHVybHM6IHRoaXMudXJscyxcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiB0aGlzLmNvb3JkaW5hdGVzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW8gJiYgIXRoaXMudmlkZW8ucGF1c2VkO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlkZW9Tb3VyY2U7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgSW1hZ2VTb3VyY2UgZnJvbSAnLi9pbWFnZV9zb3VyY2UnO1xuXG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93JztcbmltcG9ydCByYXN0ZXJCb3VuZHNBdHRyaWJ1dGVzIGZyb20gJy4uL2RhdGEvcmFzdGVyX2JvdW5kc19hdHRyaWJ1dGVzJztcbmltcG9ydCBWZXJ0ZXhBcnJheU9iamVjdCBmcm9tICcuLi9yZW5kZXIvdmVydGV4X2FycmF5X29iamVjdCc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi9yZW5kZXIvdGV4dHVyZSc7XG5pbXBvcnQgeyBFcnJvckV2ZW50IH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL3VpL21hcCc7XG5pbXBvcnQgdHlwZSBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlcic7XG5pbXBvcnQgdHlwZSB7RXZlbnRlZH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcblxuLyoqXG4gKiBBIGRhdGEgc291cmNlIGNvbnRhaW5pbmcgdGhlIGNvbnRlbnRzIG9mIGFuIEhUTUwgY2FudmFzLlxuICogKFNlZSB0aGUgW1N0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvI3NvdXJjZXMtY2FudmFzKSBmb3IgZGV0YWlsZWQgZG9jdW1lbnRhdGlvbiBvZiBvcHRpb25zLilcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gYWRkIHRvIG1hcFxuICogbWFwLmFkZFNvdXJjZSgnc29tZSBpZCcsIHtcbiAqICAgIHR5cGU6ICdjYW52YXMnLFxuICogICAgY2FudmFzOiAnaWRPZk15SFRNTENhbnZhcycsXG4gKiAgICBhbmltYXRlOiB0cnVlLFxuICogICAgY29vcmRpbmF0ZXM6IFtcbiAqICAgICAgICBbLTc2LjU0LCAzOS4xOF0sXG4gKiAgICAgICAgWy03Ni41MiwgMzkuMThdLFxuICogICAgICAgIFstNzYuNTIsIDM5LjE3XSxcbiAqICAgICAgICBbLTc2LjU0LCAzOS4xN11cbiAqICAgIF1cbiAqIH0pO1xuICpcbiAqIC8vIHVwZGF0ZVxuICogdmFyIG15U291cmNlID0gbWFwLmdldFNvdXJjZSgnc29tZSBpZCcpO1xuICogbXlTb3VyY2Uuc2V0Q29vcmRpbmF0ZXMoW1xuICogICAgIFstNzYuNTQzMzU3MzcyMjgzOTQsIDM5LjE4NTc5OTA3MjI5NzQ4XSxcbiAqICAgICBbLTc2LjUyODAzNjU5NDM5MDg3LCAzOS4xODM4MzY0ODQ3NTg3XSxcbiAqICAgICBbLTc2LjUyOTUzODYzMTQzOTIsIDM5LjE3NjgzMzkyNTA3NjA2XSxcbiAqICAgICBbLTc2LjU0NTIwMjczMjA4NjE4LCAzOS4xNzg3NjM0NDEwNjY0Ml1cbiAqIF0pO1xuICpcbiAqIG1hcC5yZW1vdmVTb3VyY2UoJ3NvbWUgaWQnKTsgIC8vIHJlbW92ZVxuICovXG5jbGFzcyBDYW52YXNTb3VyY2UgZXh0ZW5kcyBJbWFnZVNvdXJjZSB7XG4gICAgb3B0aW9uczogQ2FudmFzU291cmNlU3BlY2lmaWNhdGlvbjtcbiAgICBhbmltYXRlOiBib29sZWFuO1xuICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICBwbGF5OiAoKSA9PiB2b2lkO1xuICAgIHBhdXNlOiAoKSA9PiB2b2lkO1xuICAgIF9wbGF5aW5nOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBDYW52YXNTb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBldmVudGVkUGFyZW50OiBFdmVudGVkKSB7XG4gICAgICAgIHN1cGVyKGlkLCBvcHRpb25zLCBkaXNwYXRjaGVyLCBldmVudGVkUGFyZW50KTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5hbmltYXRlID0gb3B0aW9ucy5hbmltYXRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmFuaW1hdGUgOiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgYW5pbWF0aW9uLiBUaGUgaW1hZ2Ugd2lsbCBiZSBjb3BpZWQgZnJvbSB0aGUgY2FudmFzIHRvIHRoZSBtYXAgb24gZWFjaCBmcmFtZS5cbiAgICAgKiBAbWV0aG9kIHBsYXlcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQ2FudmFzU291cmNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyBhbmltYXRpb24uIFRoZSBtYXAgd2lsbCBkaXNwbGF5IGEgc3RhdGljIGNvcHkgb2YgdGhlIGNhbnZhcyBpbWFnZS5cbiAgICAgKiBAbWV0aG9kIHBhdXNlXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIENhbnZhc1NvdXJjZVxuICAgICAqL1xuXG4gICAgbG9hZCgpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSB0aGlzLmNhbnZhcyB8fCB3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5vcHRpb25zLmNhbnZhcyk7XG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ0NhbnZhcyBkaW1lbnNpb25zIGNhbm5vdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gemVyby4nKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9wbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubWFwLl9yZXJlbmRlcigpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuX3BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9maW5pc2hMb2FkaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgSFRNTCBgY2FudmFzYCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybnMge0hUTUxDYW52YXNFbGVtZW50fSBUaGUgSFRNTCBgY2FudmFzYCBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldENhbnZhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRlKSB0aGlzLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY2FudmFzJ3MgY29vcmRpbmF0ZXMgYW5kIHJlLXJlbmRlcnMgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBtZXRob2Qgc2V0Q29vcmRpbmF0ZXNcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQ2FudmFzU291cmNlXG4gICAgICogQHBhcmFtIHtBcnJheTxBcnJheTxudW1iZXI+Pn0gY29vcmRpbmF0ZXMgRm91ciBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMsXG4gICAgICogICByZXByZXNlbnRlZCBhcyBhcnJheXMgb2YgbG9uZ2l0dWRlIGFuZCBsYXRpdHVkZSBudW1iZXJzLCB3aGljaCBkZWZpbmUgdGhlIGNvcm5lcnMgb2YgdGhlIGNhbnZhcy5cbiAgICAgKiAgIFRoZSBjb29yZGluYXRlcyBzdGFydCBhdCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBjYW52YXMgYW5kIHByb2NlZWQgaW4gY2xvY2t3aXNlIG9yZGVyLlxuICAgICAqICAgVGhleSBkbyBub3QgaGF2ZSB0byByZXByZXNlbnQgYSByZWN0YW5nbGUuXG4gICAgICogQHJldHVybnMge0NhbnZhc1NvdXJjZX0gdGhpc1xuICAgICAqL1xuICAgIC8vIHNldENvb3JkaW5hdGVzIGluaGVyaXRlZCBmcm9tIEltYWdlU291cmNlXG5cbiAgICBwcmVwYXJlKCkge1xuICAgICAgICBsZXQgcmVzaXplID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmNhbnZhcy53aWR0aCAhPT0gdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgcmVzaXplID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jYW52YXMuaGVpZ2h0ICE9PSB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgICByZXNpemUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCkpIHJldHVybjtcblxuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RoID09PSAwKSByZXR1cm47IC8vIG5vdCBlbm91Z2ggZGF0YSBmb3IgY3VycmVudCBwb3NpdGlvblxuXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLm1hcC5wYWludGVyLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBpZiAoIXRoaXMuYm91bmRzQnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc0J1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuX2JvdW5kc0FycmF5LCByYXN0ZXJCb3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmJvdW5kc1ZBTykge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNWQU8gPSBuZXcgVmVydGV4QXJyYXlPYmplY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy50ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmNhbnZhcywgZ2wuUkdCQSk7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLnVwZGF0ZSh0aGlzLmNhbnZhcyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fcGxheWluZykge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdGhpcy5jYW52YXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCB3IGluIHRoaXMudGlsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLnRpbGVzW3ddO1xuICAgICAgICAgICAgaWYgKHRpbGUuc3RhdGUgIT09ICdsb2FkZWQnKSB7XG4gICAgICAgICAgICAgICAgdGlsZS5zdGF0ZSA9ICdsb2FkZWQnO1xuICAgICAgICAgICAgICAgIHRpbGUudGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlcmlhbGl6ZSgpOiBPYmplY3Qge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2NhbnZhcycsXG4gICAgICAgICAgICBjYW52YXM6IHRoaXMuY2FudmFzLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHRoaXMuY29vcmRpbmF0ZXNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxheWluZztcbiAgICB9XG5cbiAgICBfaGFzSW52YWxpZERpbWVuc2lvbnMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgeCBvZiBbdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodF0pIHtcbiAgICAgICAgICAgIGlmIChpc05hTih4KSB8fCB4IDw9IDApIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbnZhc1NvdXJjZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGJpbmRBbGwgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgdHlwZSBEaXNwYXRjaGVyIGZyb20gJy4uL3V0aWwvZGlzcGF0Y2hlcic7XG5pbXBvcnQgdHlwZSB7RXZlbnQsIEV2ZW50ZWR9IGZyb20gJy4uL3V0aWwvZXZlbnRlZCc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi90aWxlJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuL3RpbGVfaWQnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5cbi8qKlxuICogVGhlIGBTb3VyY2VgIGludGVyZmFjZSBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggc291cmNlIHR5cGUsIGluY2x1ZGluZyBcImNvcmVcIiB0eXBlcyAoYHZlY3RvcmAsIGByYXN0ZXJgLFxuICogYHZpZGVvYCwgZXRjLikgYW5kIGFsbCBjdXN0b20sIHRoaXJkLXBhcnR5IHR5cGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBpZCBmb3IgdGhlIHNvdXJjZS4gTXVzdCBub3QgYmUgdXNlZCBieSBhbnkgZXhpc3Rpbmcgc291cmNlLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgU291cmNlIG9wdGlvbnMsIHNwZWNpZmljIHRvIHRoZSBzb3VyY2UgdHlwZSAoZXhjZXB0IGZvciBgb3B0aW9ucy50eXBlYCwgd2hpY2ggaXMgYWx3YXlzXG4gKiByZXF1aXJlZCkuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy50eXBlIFRoZSBzb3VyY2UgdHlwZSwgbWF0Y2hpbmcgdGhlIHZhbHVlIG9mIGBuYW1lYCB1c2VkIGluIHtAbGluayBTdHlsZSNhZGRTb3VyY2VUeXBlfS5cbiAqIEBwYXJhbSB7RGlzcGF0Y2hlcn0gZGlzcGF0Y2hlciBBIHtAbGluayBEaXNwYXRjaGVyfSBpbnN0YW5jZSwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gc2VuZCBtZXNzYWdlcyB0byB0aGUgd29ya2Vycy5cbiAqXG4gKiBAZmlyZXMgZGF0YSB3aXRoIGB7ZGF0YVR5cGU6ICdzb3VyY2UnLCBzb3VyY2VEYXRhVHlwZTogJ21ldGFkYXRhJ31gIHRvIGluZGljYXRlIHRoYXQgYW55IG5lY2Vzc2FyeSBtZXRhZGF0YVxuICogaGFzIGJlZW4gbG9hZGVkIHNvIHRoYXQgaXQncyBva2F5IHRvIGNhbGwgYGxvYWRUaWxlYDsgYW5kIHdpdGggYHtkYXRhVHlwZTogJ3NvdXJjZScsIHNvdXJjZURhdGFUeXBlOiAnY29udGVudCd9YFxuICogdG8gaW5kaWNhdGUgdGhhdCB0aGUgc291cmNlIGRhdGEgaGFzIGNoYW5nZWQsIHNvIHRoYXQgYW55IGN1cnJlbnQgY2FjaGVzIHNob3VsZCBiZSBmbHVzaGVkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGlkIFRoZSBpZCBmb3IgdGhlIHNvdXJjZS4gIE11c3QgbWF0Y2ggdGhlIGlkIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluem9vbVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heHpvb21cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNUaWxlQ2xpcHBlZCBgZmFsc2VgIGlmIHRpbGVzIGNhbiBiZSBkcmF3biBvdXRzaWRlIHRoZWlyIGJvdW5kYXJpZXMsIGB0cnVlYCBpZiB0aGV5IGNhbm5vdC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcmVwYXJzZU92ZXJzY2FsZWQgYHRydWVgIGlmIHRpbGVzIHNob3VsZCBiZSBzZW50IGJhY2sgdG8gdGhlIHdvcmtlciBmb3IgZWFjaCBvdmVyem9vbWVkIHpvb21cbiAqIGxldmVsLCBgZmFsc2VgIGlmIG5vdC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcm91bmRab29tIGB0cnVlYCBpZiB6b29tIGxldmVscyBhcmUgcm91bmRlZCB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyIGluIHRoZSBzb3VyY2UgZGF0YSwgYGZhbHNlYFxuICogaWYgdGhleSBhcmUgZmxvb3ItZWQgdG8gdGhlIG5lYXJlc3QgaW50ZWdlci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEFuIG9wdGlvbmFsIFVSTCB0byBhIHNjcmlwdCB3aGljaCwgd2hlbiBydW4gYnkgYSBXb3JrZXIsIHJlZ2lzdGVycyBhIHtAbGluayBXb3JrZXJTb3VyY2V9XG4gICAgICogaW1wbGVtZW50YXRpb24gZm9yIHRoaXMgU291cmNlIHR5cGUgYnkgY2FsbGluZyBgc2VsZi5yZWdpc3RlcldvcmtlclNvdXJjZSh3b3JrZXJTb3VyY2U6IFdvcmtlclNvdXJjZSlgLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgLy8gU3RhdGljIGludGVyZmFjZSBwcm9wZXJ0aWVzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGZsb3cgYXMgb2YgMC42Mi4wLlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy81NTkwXG4gICAgLy8gc3RhdGljIHdvcmtlclNvdXJjZVVSTD86IFVSTDtcblxuICAgICt0eXBlOiBzdHJpbmc7XG4gICAgaWQ6IHN0cmluZztcbiAgICBtaW56b29tOiBudW1iZXIsXG4gICAgbWF4em9vbTogbnVtYmVyLFxuICAgIHRpbGVTaXplOiBudW1iZXIsXG4gICAgYXR0cmlidXRpb24/OiBzdHJpbmcsXG5cbiAgICByb3VuZFpvb20/OiBib29sZWFuLFxuICAgIHJlcGFyc2VPdmVyc2NhbGVkPzogYm9vbGVhbixcbiAgICB2ZWN0b3JMYXllcklkcz86IEFycmF5PHN0cmluZz4sXG5cbiAgICBoYXNUcmFuc2l0aW9uKCk6IGJvb2xlYW47XG5cbiAgICBmaXJlKGV2ZW50OiBFdmVudCk6IG1peGVkO1xuXG4gICAgK29uQWRkPzogKG1hcDogTWFwKSA9PiB2b2lkO1xuICAgICtvblJlbW92ZT86IChtYXA6IE1hcCkgPT4gdm9pZDtcblxuICAgIGxvYWRUaWxlKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPik6IHZvaWQ7XG4gICAgK2hhc1RpbGU/OiAodGlsZUlEOiBPdmVyc2NhbGVkVGlsZUlEKSA9PiBib29sZWFuO1xuICAgICthYm9ydFRpbGU/OiAodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSA9PiB2b2lkO1xuICAgICt1bmxvYWRUaWxlPzogKHRpbGU6IFRpbGUsIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikgPT4gdm9pZDtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIEEgcGxhaW4gKHN0cmluZ2lmaWFibGUpIEpTIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHNvdXJjZS5cbiAgICAgKiBDcmVhdGluZyBhIHNvdXJjZSB1c2luZyB0aGUgcmV0dXJuZWQgb2JqZWN0IGFzIHRoZSBgb3B0aW9uc2Agc2hvdWxkIHJlc3VsdCBpbiBhIFNvdXJjZSB0aGF0IGlzXG4gICAgICogZXF1aXZhbGVudCB0byB0aGlzIG9uZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpOiBPYmplY3Q7XG5cbiAgICArcHJlcGFyZT86ICgpID0+IHZvaWQ7XG59XG5cbmltcG9ydCB2ZWN0b3IgZnJvbSAnLi4vc291cmNlL3ZlY3Rvcl90aWxlX3NvdXJjZSc7XG5pbXBvcnQgcmFzdGVyIGZyb20gJy4uL3NvdXJjZS9yYXN0ZXJfdGlsZV9zb3VyY2UnO1xuaW1wb3J0IHJhc3RlckRlbSBmcm9tICcuLi9zb3VyY2UvcmFzdGVyX2RlbV90aWxlX3NvdXJjZSc7XG5pbXBvcnQgZ2VvanNvbiBmcm9tICcuLi9zb3VyY2UvZ2VvanNvbl9zb3VyY2UnO1xuaW1wb3J0IHZpZGVvIGZyb20gJy4uL3NvdXJjZS92aWRlb19zb3VyY2UnO1xuaW1wb3J0IGltYWdlIGZyb20gJy4uL3NvdXJjZS9pbWFnZV9zb3VyY2UnO1xuaW1wb3J0IGNhbnZhcyBmcm9tICcuLi9zb3VyY2UvY2FudmFzX3NvdXJjZSc7XG5cbmNvbnN0IHNvdXJjZVR5cGVzID0ge1xuICAgIHZlY3RvcixcbiAgICByYXN0ZXIsXG4gICAgJ3Jhc3Rlci1kZW0nOiByYXN0ZXJEZW0sXG4gICAgZ2VvanNvbixcbiAgICB2aWRlbyxcbiAgICBpbWFnZSxcbiAgICBjYW52YXNcbn07XG5cbi8qXG4gKiBDcmVhdGVzIGEgdGlsZWQgZGF0YSBzb3VyY2UgaW5zdGFuY2UgZ2l2ZW4gYW4gb3B0aW9ucyBvYmplY3QuXG4gKlxuICogQHBhcmFtIGlkXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIEEgc291cmNlIGRlZmluaXRpb24gb2JqZWN0IGNvbXBsaWFudCB3aXRoXG4gKiBbYG1hcGJveC1nbC1zdHlsZS1zcGVjYF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jc291cmNlcykgb3IsIGZvciBhIHRoaXJkLXBhcnR5IHNvdXJjZSB0eXBlLFxuICAqIHdpdGggdGhhdCB0eXBlJ3MgcmVxdWlyZW1lbnRzLlxuICogQHBhcmFtIHtEaXNwYXRjaGVyfSBkaXNwYXRjaGVyXG4gKiBAcmV0dXJucyB7U291cmNlfVxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlID0gZnVuY3Rpb24oaWQ6IHN0cmluZywgc3BlY2lmaWNhdGlvbjogU291cmNlU3BlY2lmaWNhdGlvbiwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudDogRXZlbnRlZCkge1xuICAgIGNvbnN0IHNvdXJjZSA9IG5ldyBzb3VyY2VUeXBlc1tzcGVjaWZpY2F0aW9uLnR5cGVdKGlkLCAoc3BlY2lmaWNhdGlvbjogYW55KSwgZGlzcGF0Y2hlciwgZXZlbnRlZFBhcmVudCk7XG5cbiAgICBpZiAoc291cmNlLmlkICE9PSBpZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIFNvdXJjZSBpZCB0byBiZSAke2lkfSBpbnN0ZWFkIG9mICR7c291cmNlLmlkfWApO1xuICAgIH1cblxuICAgIGJpbmRBbGwoWydsb2FkJywgJ2Fib3J0JywgJ3VubG9hZCcsICdzZXJpYWxpemUnLCAncHJlcGFyZSddLCBzb3VyY2UpO1xuICAgIHJldHVybiBzb3VyY2U7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VHlwZSA9IGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gc291cmNlVHlwZXNbbmFtZV07XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0VHlwZSA9IGZ1bmN0aW9uIChuYW1lOiBzdHJpbmcsIHR5cGU6IENsYXNzPFNvdXJjZT4pIHtcbiAgICBzb3VyY2VUeXBlc1tuYW1lXSA9IHR5cGU7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEFjdG9yIHtcbiAgICBzZW5kKHR5cGU6IHN0cmluZywgZGF0YTogT2JqZWN0LCBjYWxsYmFjazogQ2FsbGJhY2s8YW55Pik6IHZvaWQ7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIENvb3JkaW5hdGUgZnJvbSAnLi4vZ2VvL2Nvb3JkaW5hdGUnO1xuaW1wb3J0IHR5cGUgQ29sbGlzaW9uSW5kZXggZnJvbSAnLi4vc3ltYm9sL2NvbGxpc2lvbl9pbmRleCc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeVJlbmRlcmVkRmVhdHVyZXMoc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlTGF5ZXJzOiB7W3N0cmluZ106IFN0eWxlTGF5ZXJ9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnk6IEFycmF5PENvb3JkaW5hdGU+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogeyBmaWx0ZXI6IEZpbHRlclNwZWNpZmljYXRpb24sIGxheWVyczogQXJyYXk8c3RyaW5nPiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkluZGV4OiA/Q29sbGlzaW9uSW5kZXgpIHtcbiAgICBjb25zdCBtYXhQaXRjaFNjYWxlRmFjdG9yID0gdHJhbnNmb3JtLm1heFBpdGNoU2NhbGVGYWN0b3IoKTtcbiAgICBjb25zdCB0aWxlc0luID0gc291cmNlQ2FjaGUudGlsZXNJbihxdWVyeUdlb21ldHJ5LCBtYXhQaXRjaFNjYWxlRmFjdG9yKTtcblxuICAgIHRpbGVzSW4uc29ydChzb3J0VGlsZXNJbik7XG5cbiAgICBjb25zdCByZW5kZXJlZEZlYXR1cmVMYXllcnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHRpbGVJbiBvZiB0aWxlc0luKSB7XG4gICAgICAgIHJlbmRlcmVkRmVhdHVyZUxheWVycy5wdXNoKHtcbiAgICAgICAgICAgIHdyYXBwZWRUaWxlSUQ6IHRpbGVJbi50aWxlSUQud3JhcHBlZCgpLmtleSxcbiAgICAgICAgICAgIHF1ZXJ5UmVzdWx0czogdGlsZUluLnRpbGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzKFxuICAgICAgICAgICAgICAgIHN0eWxlTGF5ZXJzLFxuICAgICAgICAgICAgICAgIHRpbGVJbi5xdWVyeUdlb21ldHJ5LFxuICAgICAgICAgICAgICAgIHRpbGVJbi5zY2FsZSxcbiAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgIG1heFBpdGNoU2NhbGVGYWN0b3IsXG4gICAgICAgICAgICAgICAgc291cmNlQ2FjaGUudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeCh0aWxlSW4udGlsZUlELnRvVW53cmFwcGVkKCkpLFxuICAgICAgICAgICAgICAgIHNvdXJjZUNhY2hlLmlkLFxuICAgICAgICAgICAgICAgIGNvbGxpc2lvbkluZGV4KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVyZ2VSZW5kZXJlZEZlYXR1cmVMYXllcnMocmVuZGVyZWRGZWF0dXJlTGF5ZXJzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5U291cmNlRmVhdHVyZXMoc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBwYXJhbXM6IGFueSkge1xuICAgIGNvbnN0IHRpbGVzID0gc291cmNlQ2FjaGUuZ2V0UmVuZGVyYWJsZUlkcygpLm1hcCgoaWQpID0+IHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZUNhY2hlLmdldFRpbGVCeUlEKGlkKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgY29uc3QgZGF0YVRpbGVzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB0aWxlID0gdGlsZXNbaV07XG4gICAgICAgIGNvbnN0IGRhdGFJRCA9IHRpbGUudGlsZUlELmNhbm9uaWNhbC5rZXk7XG4gICAgICAgIGlmICghZGF0YVRpbGVzW2RhdGFJRF0pIHtcbiAgICAgICAgICAgIGRhdGFUaWxlc1tkYXRhSURdID0gdHJ1ZTtcbiAgICAgICAgICAgIHRpbGUucXVlcnlTb3VyY2VGZWF0dXJlcyhyZXN1bHQsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBzb3J0VGlsZXNJbihhLCBiKSB7XG4gICAgY29uc3QgaWRBID0gYS50aWxlSUQ7XG4gICAgY29uc3QgaWRCID0gYi50aWxlSUQ7XG4gICAgcmV0dXJuIChpZEEub3ZlcnNjYWxlZFogLSBpZEIub3ZlcnNjYWxlZFopIHx8IChpZEEuY2Fub25pY2FsLnkgLSBpZEIuY2Fub25pY2FsLnkpIHx8IChpZEEud3JhcCAtIGlkQi53cmFwKSB8fCAoaWRBLmNhbm9uaWNhbC54IC0gaWRCLmNhbm9uaWNhbC54KTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VSZW5kZXJlZEZlYXR1cmVMYXllcnModGlsZXMpIHtcbiAgICAvLyBNZXJnZSByZXN1bHRzIGZyb20gYWxsIHRpbGVzLCBidXQgaWYgdHdvIHRpbGVzIHNoYXJlIHRoZSBzYW1lXG4gICAgLy8gd3JhcHBlZCBJRCwgZG9uJ3QgZHVwbGljYXRlIGZlYXR1cmVzIGJldHdlZW4gdGhlIHR3byB0aWxlc1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGNvbnN0IHdyYXBwZWRJRExheWVyTWFwID0ge307XG4gICAgZm9yIChjb25zdCB0aWxlIG9mIHRpbGVzKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UmVzdWx0cyA9IHRpbGUucXVlcnlSZXN1bHRzO1xuICAgICAgICBjb25zdCB3cmFwcGVkSUQgPSB0aWxlLndyYXBwZWRUaWxlSUQ7XG4gICAgICAgIGNvbnN0IHdyYXBwZWRJRExheWVycyA9IHdyYXBwZWRJRExheWVyTWFwW3dyYXBwZWRJRF0gPSB3cmFwcGVkSURMYXllck1hcFt3cmFwcGVkSURdIHx8IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGxheWVySUQgaW4gcXVlcnlSZXN1bHRzKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlRmVhdHVyZXMgPSBxdWVyeVJlc3VsdHNbbGF5ZXJJRF07XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVkSURGZWF0dXJlcyA9IHdyYXBwZWRJRExheWVyc1tsYXllcklEXSA9IHdyYXBwZWRJRExheWVyc1tsYXllcklEXSB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdEZlYXR1cmVzID0gcmVzdWx0W2xheWVySURdID0gcmVzdWx0W2xheWVySURdIHx8IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0aWxlRmVhdHVyZSBvZiB0aWxlRmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXdyYXBwZWRJREZlYXR1cmVzW3RpbGVGZWF0dXJlLmZlYXR1cmVJbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZElERmVhdHVyZXNbdGlsZUZlYXR1cmUuZmVhdHVyZUluZGV4XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdEZlYXR1cmVzLnB1c2godGlsZUZlYXR1cmUuZmVhdHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4iLCIvLyBAZmxvd1xuXG4vKipcbiAqIEdyaWRJbmRleCBpcyBhIGRhdGEgc3RydWN0dXJlIGZvciB0ZXN0aW5nIHRoZSBpbnRlcnNlY3Rpb24gb2ZcbiAqIGNpcmNsZXMgYW5kIHJlY3RhbmdsZXMgaW4gYSAyZCBwbGFuZS5cbiAqIEl0IGlzIG9wdGltaXplZCBmb3IgcmFwaWQgaW5zZXJ0aW9uIGFuZCBxdWVyeWluZy5cbiAqIEdyaWRJbmRleCBzcGxpdHMgdGhlIHBsYW5lIGludG8gYSBzZXQgb2YgXCJjZWxsc1wiIGFuZCBrZWVwcyB0cmFja1xuICogb2Ygd2hpY2ggZ2VvbWV0cmllcyBpbnRlcnNlY3Qgd2l0aCBlYWNoIGNlbGwuIEF0IHF1ZXJ5IHRpbWUsXG4gKiBmdWxsIGdlb21ldHJ5IGNvbXBhcmlzb25zIGFyZSBvbmx5IGRvbmUgZm9yIGl0ZW1zIHRoYXQgc2hhcmVcbiAqIGF0IGxlYXN0IG9uZSBjZWxsLiBBcyBsb25nIGFzIHRoZSBnZW9tZXRyaWVzIGFyZSByZWxhdGl2ZWx5XG4gKiB1bmlmb3JtbHkgZGlzdHJpYnV0ZWQgYWNyb3NzIHRoZSBwbGFuZSwgdGhpcyBncmVhdGx5IHJlZHVjZXNcbiAqIHRoZSBudW1iZXIgb2YgY29tcGFyaXNvbnMgbmVjZXNzYXJ5LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIEdyaWRJbmRleCB7XG4gICAgY2lyY2xlS2V5czogQXJyYXk8YW55PjtcbiAgICBib3hLZXlzOiBBcnJheTxhbnk+O1xuICAgIGJveENlbGxzOiBBcnJheTxBcnJheTxudW1iZXI+PjtcbiAgICBjaXJjbGVDZWxsczogQXJyYXk8QXJyYXk8bnVtYmVyPj47XG4gICAgYmJveGVzOiBBcnJheTxudW1iZXI+O1xuICAgIGNpcmNsZXM6IEFycmF5PG51bWJlcj47XG4gICAgeENlbGxDb3VudDogbnVtYmVyO1xuICAgIHlDZWxsQ291bnQ6IG51bWJlcjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIHhTY2FsZTogbnVtYmVyO1xuICAgIHlTY2FsZTogbnVtYmVyO1xuICAgIGJveFVpZDogbnVtYmVyO1xuICAgIGNpcmNsZVVpZDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IgKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBjZWxsU2l6ZTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGJveENlbGxzID0gdGhpcy5ib3hDZWxscyA9IFtdO1xuICAgICAgICBjb25zdCBjaXJjbGVDZWxscyA9IHRoaXMuY2lyY2xlQ2VsbHMgPSBbXTtcblxuICAgICAgICAvLyBNb3JlIGNlbGxzIC0+IGZld2VyIGdlb21ldHJpZXMgdG8gY2hlY2sgcGVyIGNlbGwsIGJ1dCBpdGVtcyB0ZW5kXG4gICAgICAgIC8vIHRvIGJlIHNwbGl0IGFjcm9zcyBtb3JlIGNlbGxzLlxuICAgICAgICAvLyBTd2VldCBzcG90IGFsbG93cyBtb3N0IHNtYWxsIGl0ZW1zIHRvIGZpdCBpbiBvbmUgY2VsbFxuICAgICAgICB0aGlzLnhDZWxsQ291bnQgPSBNYXRoLmNlaWwod2lkdGggLyBjZWxsU2l6ZSk7XG4gICAgICAgIHRoaXMueUNlbGxDb3VudCA9IE1hdGguY2VpbChoZWlnaHQgLyBjZWxsU2l6ZSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnhDZWxsQ291bnQgKiB0aGlzLnlDZWxsQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgYm94Q2VsbHMucHVzaChbXSk7XG4gICAgICAgICAgICBjaXJjbGVDZWxscy5wdXNoKFtdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNpcmNsZUtleXMgPSBbXTtcbiAgICAgICAgdGhpcy5ib3hLZXlzID0gW107XG4gICAgICAgIHRoaXMuYmJveGVzID0gW107XG4gICAgICAgIHRoaXMuY2lyY2xlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMueFNjYWxlID0gdGhpcy54Q2VsbENvdW50IC8gd2lkdGg7XG4gICAgICAgIHRoaXMueVNjYWxlID0gdGhpcy55Q2VsbENvdW50IC8gaGVpZ2h0O1xuICAgICAgICB0aGlzLmJveFVpZCA9IDA7XG4gICAgICAgIHRoaXMuY2lyY2xlVWlkID0gMDtcbiAgICB9XG5cbiAgICBrZXlzTGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3hLZXlzLmxlbmd0aCArIHRoaXMuY2lyY2xlS2V5cy5sZW5ndGg7XG4gICAgfVxuXG4gICAgaW5zZXJ0KGtleTogYW55LCB4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2ZvckVhY2hDZWxsKHgxLCB5MSwgeDIsIHkyLCB0aGlzLl9pbnNlcnRCb3hDZWxsLCB0aGlzLmJveFVpZCsrKTtcbiAgICAgICAgdGhpcy5ib3hLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgdGhpcy5iYm94ZXMucHVzaCh4MSk7XG4gICAgICAgIHRoaXMuYmJveGVzLnB1c2goeTEpO1xuICAgICAgICB0aGlzLmJib3hlcy5wdXNoKHgyKTtcbiAgICAgICAgdGhpcy5iYm94ZXMucHVzaCh5Mik7XG4gICAgfVxuXG4gICAgaW5zZXJ0Q2lyY2xlKGtleTogYW55LCB4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIpIHtcbiAgICAgICAgLy8gSW5zZXJ0IGNpcmNsZSBpbnRvIGdyaWQgZm9yIGFsbCBjZWxscyBpbiB0aGUgY2lyY3Vtc2NyaWJpbmcgc3F1YXJlXG4gICAgICAgIC8vIEl0J3MgbW9yZSB0aGFuIG5lY2Vzc2FyeSAoYnkgYSBmYWN0b3Igb2YgNC9QSSksIGJ1dCBmYXN0IHRvIGluc2VydFxuICAgICAgICB0aGlzLl9mb3JFYWNoQ2VsbCh4IC0gcmFkaXVzLCB5IC0gcmFkaXVzLCB4ICsgcmFkaXVzLCB5ICsgcmFkaXVzLCB0aGlzLl9pbnNlcnRDaXJjbGVDZWxsLCB0aGlzLmNpcmNsZVVpZCsrKTtcbiAgICAgICAgdGhpcy5jaXJjbGVLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgdGhpcy5jaXJjbGVzLnB1c2goeCk7XG4gICAgICAgIHRoaXMuY2lyY2xlcy5wdXNoKHkpO1xuICAgICAgICB0aGlzLmNpcmNsZXMucHVzaChyYWRpdXMpO1xuICAgIH1cblxuICAgIF9pbnNlcnRCb3hDZWxsKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIGNlbGxJbmRleDogbnVtYmVyLCB1aWQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmJveENlbGxzW2NlbGxJbmRleF0ucHVzaCh1aWQpO1xuICAgIH1cblxuICAgIF9pbnNlcnRDaXJjbGVDZWxsKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIGNlbGxJbmRleDogbnVtYmVyLCB1aWQ6IG51bWJlcikgIHtcbiAgICAgICAgdGhpcy5jaXJjbGVDZWxsc1tjZWxsSW5kZXhdLnB1c2godWlkKTtcbiAgICB9XG5cbiAgICBfcXVlcnkoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgaGl0VGVzdDogYm9vbGVhbikge1xuICAgICAgICBpZiAoeDIgPCAwIHx8IHgxID4gdGhpcy53aWR0aCB8fCB5MiA8IDAgfHwgeTEgPiB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGhpdFRlc3QgPyBmYWxzZSA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgaWYgKHgxIDw9IDAgJiYgeTEgPD0gMCAmJiB0aGlzLndpZHRoIDw9IHgyICYmIHRoaXMuaGVpZ2h0IDw9IHkyKSB7XG4gICAgICAgICAgICAvLyBXZSB1c2UgYEFycmF5I3NsaWNlYCBiZWNhdXNlIGB0aGlzLmtleXNgIG1heSBiZSBhIGBJbnQzMkFycmF5YCBhbmRcbiAgICAgICAgICAgIC8vIHNvbWUgYnJvd3NlcnMgKFNhZmFyaSBhbmQgSUUpIGRvIG5vdCBzdXBwb3J0IGBUeXBlZEFycmF5I3NsaWNlYFxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvVHlwZWRBcnJheS9zbGljZSNCcm93c2VyX2NvbXBhdGliaWxpdHlcbiAgICAgICAgICAgIHJlc3VsdCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuYm94S2V5cykuY29uY2F0KHRoaXMuY2lyY2xlS2V5cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeUFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgaGl0VGVzdCxcbiAgICAgICAgICAgICAgICBzZWVuVWlkczogeyBib3g6IHt9LCBjaXJjbGU6IHt9IH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9mb3JFYWNoQ2VsbCh4MSwgeTEsIHgyLCB5MiwgdGhpcy5fcXVlcnlDZWxsLCByZXN1bHQsIHF1ZXJ5QXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpdFRlc3QgPyByZXN1bHQubGVuZ3RoID4gMCA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICBfcXVlcnlDaXJjbGUoeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBoaXRUZXN0OiBib29sZWFuKSB7XG4gICAgICAgIC8vIEluc2VydCBjaXJjbGUgaW50byBncmlkIGZvciBhbGwgY2VsbHMgaW4gdGhlIGNpcmN1bXNjcmliaW5nIHNxdWFyZVxuICAgICAgICAvLyBJdCdzIG1vcmUgdGhhbiBuZWNlc3NhcnkgKGJ5IGEgZmFjdG9yIG9mIDQvUEkpLCBidXQgZmFzdCB0byBpbnNlcnRcbiAgICAgICAgY29uc3QgeDEgPSB4IC0gcmFkaXVzO1xuICAgICAgICBjb25zdCB4MiA9IHggKyByYWRpdXM7XG4gICAgICAgIGNvbnN0IHkxID0geSAtIHJhZGl1cztcbiAgICAgICAgY29uc3QgeTIgPSB5ICsgcmFkaXVzO1xuICAgICAgICBpZiAoeDIgPCAwIHx8IHgxID4gdGhpcy53aWR0aCB8fCB5MiA8IDAgfHwgeTEgPiB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIGhpdFRlc3QgPyBmYWxzZSA6IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQm94IHF1ZXJ5IGVhcmx5IGV4aXRzIGlmIHRoZSBib3VuZGluZyBib3ggaXMgbGFyZ2VyIHRoYW4gdGhlIGdyaWQsIGJ1dCB3ZSBkb24ndCBkb1xuICAgICAgICAvLyB0aGUgZXF1aXZhbGVudCBjYWxjdWxhdGlvbiBmb3IgY2lyY2xlIHF1ZXJpZXMgYmVjYXVzZSBlYXJseSBleGl0IGlzIGxlc3MgbGlrZWx5XG4gICAgICAgIC8vIGFuZCB0aGUgY2FsY3VsYXRpb24gaXMgbW9yZSBleHBlbnNpdmVcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGNvbnN0IHF1ZXJ5QXJncyA9IHtcbiAgICAgICAgICAgIGhpdFRlc3QsXG4gICAgICAgICAgICBjaXJjbGU6IHsgeDogeCwgeTogeSwgcmFkaXVzOiByYWRpdXMgfSxcbiAgICAgICAgICAgIHNlZW5VaWRzOiB7IGJveDoge30sIGNpcmNsZToge30gfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9mb3JFYWNoQ2VsbCh4MSwgeTEsIHgyLCB5MiwgdGhpcy5fcXVlcnlDZWxsQ2lyY2xlLCByZXN1bHQsIHF1ZXJ5QXJncyk7XG4gICAgICAgIHJldHVybiBoaXRUZXN0ID8gcmVzdWx0Lmxlbmd0aCA+IDAgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcXVlcnkoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IEFycmF5PGFueT4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3F1ZXJ5KHgxLCB5MSwgeDIsIHkyLCBmYWxzZSk6IGFueSk7XG4gICAgfVxuXG4gICAgaGl0VGVzdCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogYm9vbGVhbiAge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3F1ZXJ5KHgxLCB5MSwgeDIsIHkyLCB0cnVlKTogYW55KTtcbiAgICB9XG5cbiAgICBoaXRUZXN0Q2lyY2xlKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3F1ZXJ5Q2lyY2xlKHgsIHksIHJhZGl1cywgdHJ1ZSk6IGFueSk7XG4gICAgfVxuXG4gICAgX3F1ZXJ5Q2VsbCh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBjZWxsSW5kZXg6IG51bWJlciwgcmVzdWx0OiBhbnksIHF1ZXJ5QXJnczogYW55KSB7XG4gICAgICAgIGNvbnN0IHNlZW5VaWRzID0gcXVlcnlBcmdzLnNlZW5VaWRzO1xuICAgICAgICBjb25zdCBib3hDZWxsID0gdGhpcy5ib3hDZWxsc1tjZWxsSW5kZXhdO1xuICAgICAgICBpZiAoYm94Q2VsbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgYmJveGVzID0gdGhpcy5iYm94ZXM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJveFVpZCBvZiBib3hDZWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWVuVWlkcy5ib3hbYm94VWlkXSkge1xuICAgICAgICAgICAgICAgICAgICBzZWVuVWlkcy5ib3hbYm94VWlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGJveFVpZCAqIDQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoeDEgPD0gYmJveGVzW29mZnNldCArIDJdKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHkxIDw9IGJib3hlc1tvZmZzZXQgKyAzXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh4MiA+PSBiYm94ZXNbb2Zmc2V0ICsgMF0pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoeTIgPj0gYmJveGVzW29mZnNldCArIDFdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXJ5QXJncy5oaXRUZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuYm94S2V5c1tib3hVaWRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaXJjbGVDZWxsID0gdGhpcy5jaXJjbGVDZWxsc1tjZWxsSW5kZXhdO1xuICAgICAgICBpZiAoY2lyY2xlQ2VsbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY2lyY2xlcyA9IHRoaXMuY2lyY2xlcztcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2lyY2xlVWlkIG9mIGNpcmNsZUNlbGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlZW5VaWRzLmNpcmNsZVtjaXJjbGVVaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlZW5VaWRzLmNpcmNsZVtjaXJjbGVVaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gY2lyY2xlVWlkICogMztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NpcmNsZUFuZFJlY3RDb2xsaWRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlc1tvZmZzZXQgKyAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0ICsgMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB4MSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB5MikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWVyeUFyZ3MuaGl0VGVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmNpcmNsZUtleXNbY2lyY2xlVWlkXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcXVlcnlDZWxsQ2lyY2xlKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIGNlbGxJbmRleDogbnVtYmVyLCByZXN1bHQ6IGFueSwgcXVlcnlBcmdzOiBhbnkpIHtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gcXVlcnlBcmdzLmNpcmNsZTtcbiAgICAgICAgY29uc3Qgc2VlblVpZHMgPSBxdWVyeUFyZ3Muc2VlblVpZHM7XG4gICAgICAgIGNvbnN0IGJveENlbGwgPSB0aGlzLmJveENlbGxzW2NlbGxJbmRleF07XG4gICAgICAgIGlmIChib3hDZWxsICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBiYm94ZXMgPSB0aGlzLmJib3hlcztcbiAgICAgICAgICAgIGZvciAoY29uc3QgYm94VWlkIG9mIGJveENlbGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlZW5VaWRzLmJveFtib3hVaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlZW5VaWRzLmJveFtib3hVaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gYm94VWlkICogNDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NpcmNsZUFuZFJlY3RDb2xsaWRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLngsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS5yYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYm94ZXNbb2Zmc2V0ICsgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBiYm94ZXNbb2Zmc2V0ICsgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBiYm94ZXNbb2Zmc2V0ICsgMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBiYm94ZXNbb2Zmc2V0ICsgM10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2lyY2xlQ2VsbCA9IHRoaXMuY2lyY2xlQ2VsbHNbY2VsbEluZGV4XTtcbiAgICAgICAgaWYgKGNpcmNsZUNlbGwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZXMgPSB0aGlzLmNpcmNsZXM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNpcmNsZVVpZCBvZiBjaXJjbGVDZWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWVuVWlkcy5jaXJjbGVbY2lyY2xlVWlkXSkge1xuICAgICAgICAgICAgICAgICAgICBzZWVuVWlkcy5jaXJjbGVbY2lyY2xlVWlkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGNpcmNsZVVpZCAqIDM7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaXJjbGVzQ29sbGlkZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZXNbb2Zmc2V0ICsgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGVzW29mZnNldCArIDJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlLngsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGUueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZS5yYWRpdXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2ZvckVhY2hDZWxsKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIGZuOiBhbnksIGFyZzE6IGFueSwgYXJnMj86IGFueSkge1xuICAgICAgICBjb25zdCBjeDEgPSB0aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKHgxKTtcbiAgICAgICAgY29uc3QgY3kxID0gdGhpcy5fY29udmVydFRvWUNlbGxDb29yZCh5MSk7XG4gICAgICAgIGNvbnN0IGN4MiA9IHRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQoeDIpO1xuICAgICAgICBjb25zdCBjeTIgPSB0aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKHkyKTtcblxuICAgICAgICBmb3IgKGxldCB4ID0gY3gxOyB4IDw9IGN4MjsgeCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gY3kxOyB5IDw9IGN5MjsgeSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbEluZGV4ID0gdGhpcy54Q2VsbENvdW50ICogeSArIHg7XG4gICAgICAgICAgICAgICAgaWYgKGZuLmNhbGwodGhpcywgeDEsIHkxLCB4MiwgeTIsIGNlbGxJbmRleCwgYXJnMSwgYXJnMikpIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jb252ZXJ0VG9YQ2VsbENvb3JkKHg6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy54Q2VsbENvdW50IC0gMSwgTWF0aC5mbG9vcih4ICogdGhpcy54U2NhbGUpKSk7XG4gICAgfVxuXG4gICAgX2NvbnZlcnRUb1lDZWxsQ29vcmQoeTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLnlDZWxsQ291bnQgLSAxLCBNYXRoLmZsb29yKHkgKiB0aGlzLnlTY2FsZSkpKTtcbiAgICB9XG5cbiAgICBfY2lyY2xlc0NvbGxpZGUoeDE6IG51bWJlciwgeTE6IG51bWJlciwgcjE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgcjI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBkeCA9IHgyIC0geDE7XG4gICAgICAgIGNvbnN0IGR5ID0geTIgLSB5MTtcbiAgICAgICAgY29uc3QgYm90aFJhZGlpID0gcjEgKyByMjtcbiAgICAgICAgcmV0dXJuIChib3RoUmFkaWkgKiBib3RoUmFkaWkpID4gKGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB9XG5cbiAgICBfY2lyY2xlQW5kUmVjdENvbGxpZGUoY2lyY2xlWDogbnVtYmVyLCBjaXJjbGVZOiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCB4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGhhbGZSZWN0V2lkdGggPSAoeDIgLSB4MSkgLyAyO1xuICAgICAgICBjb25zdCBkaXN0WCA9IE1hdGguYWJzKGNpcmNsZVggLSAoeDEgKyBoYWxmUmVjdFdpZHRoKSk7XG4gICAgICAgIGlmIChkaXN0WCA+IChoYWxmUmVjdFdpZHRoICsgcmFkaXVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaGFsZlJlY3RIZWlnaHQgPSAoeTIgLSB5MSkgLyAyO1xuICAgICAgICBjb25zdCBkaXN0WSA9IE1hdGguYWJzKGNpcmNsZVkgLSAoeTEgKyBoYWxmUmVjdEhlaWdodCkpO1xuICAgICAgICBpZiAoZGlzdFkgPiAoaGFsZlJlY3RIZWlnaHQgKyByYWRpdXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzdFggPD0gaGFsZlJlY3RXaWR0aCB8fCBkaXN0WSA8PSBoYWxmUmVjdEhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkeCA9IGRpc3RYIC0gaGFsZlJlY3RXaWR0aDtcbiAgICAgICAgY29uc3QgZHkgPSBkaXN0WSAtIGhhbGZSZWN0SGVpZ2h0O1xuICAgICAgICByZXR1cm4gKGR4ICogZHggKyBkeSAqIGR5IDw9IChyYWRpdXMgKiByYWRpdXMpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRJbmRleDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcblxuaW1wb3J0IHsgbWF0NCwgdmVjNCB9IGZyb20gJ0BtYXBib3gvZ2wtbWF0cml4JztcbmltcG9ydCAqIGFzIHN5bWJvbFNpemUgZnJvbSAnLi9zeW1ib2xfc2l6ZSc7XG5pbXBvcnQgeyBhZGREeW5hbWljQXR0cmlidXRlcyB9IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQnO1xuaW1wb3J0IHByb3BlcnRpZXMgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvc3ltYm9sX3N0eWxlX2xheWVyX3Byb3BlcnRpZXMnO1xuY29uc3Qgc3ltYm9sTGF5b3V0UHJvcGVydGllcyA9IHByb3BlcnRpZXMubGF5b3V0O1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4uL3JlbmRlci9wYWludGVyJztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcbmltcG9ydCB0eXBlIFN5bWJvbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9zeW1ib2xfYnVja2V0JztcbmltcG9ydCB0eXBlIHtcbiAgICBHbHlwaE9mZnNldEFycmF5LFxuICAgIFN5bWJvbExpbmVWZXJ0ZXhBcnJheSxcbiAgICBTeW1ib2xEeW5hbWljTGF5b3V0QXJyYXlcbn0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcyc7XG5pbXBvcnQgeyBXcml0aW5nTW9kZSB9IGZyb20gJy4uL3N5bWJvbC9zaGFwaW5nJztcblxuZXhwb3J0IHsgdXBkYXRlTGluZUxhYmVscywgZ2V0TGFiZWxQbGFuZU1hdHJpeCwgZ2V0R2xDb29yZE1hdHJpeCwgcHJvamVjdCwgcGxhY2VGaXJzdEFuZExhc3RHbHlwaCwgeHlUcmFuc2Zvcm1NYXQ0IH07XG5cbi8qXG4gKiAjIE92ZXJ2aWV3IG9mIGNvb3JkaW5hdGUgc3BhY2VzXG4gKlxuICogIyMgVGlsZSBjb29yZGluYXRlIHNwYWNlc1xuICogRWFjaCBsYWJlbCBoYXMgYW4gYW5jaG9yLiBTb21lIGxhYmVscyBoYXZlIGNvcnJlc3BvbmRpbmcgbGluZSBnZW9tZXRyaWVzLlxuICogVGhlIHBvaW50cyBmb3IgYm90aCBhbmNob3JzIGFuZCBsaW5lcyBhcmUgc3RvcmVkIGluIHRpbGUgdW5pdHMuIEVhY2ggdGlsZSBoYXMgaXQncyBvd25cbiAqIGNvb3JkaW5hdGUgc3BhY2UgZ29pbmcgZnJvbSAoMCwgMCkgYXQgdGhlIHRvcCBsZWZ0IHRvIChFWFRFTlQsIEVYVEVOVCkgYXQgdGhlIGJvdHRvbSByaWdodC5cbiAqXG4gKiAjIyBHTCBjb29yZGluYXRlIHNwYWNlXG4gKiBBdCB0aGUgZW5kIG9mIGV2ZXJ5dGhpbmcsIHRoZSB2ZXJ0ZXggc2hhZGVyIG5lZWRzIHRvIHByb2R1Y2UgYSBwb3NpdGlvbiBpbiBHTCBjb29yZGluYXRlIHNwYWNlLFxuICogd2hpY2ggaXMgKC0xLCAxKSBhdCB0aGUgdG9wIGxlZnQgYW5kICgxLCAtMSkgaW4gdGhlIGJvdHRvbSByaWdodC5cbiAqXG4gKiAjIyBNYXAgcGl4ZWwgY29vcmRpbmF0ZSBzcGFjZXNcbiAqIEVhY2ggdGlsZSBoYXMgYSBwaXhlbCBjb29yZGluYXRlIHNwYWNlLiBJdCdzIGp1c3QgdGhlIHRpbGUgdW5pdHMgc2NhbGVkIHNvIHRoYXQgb25lIHVuaXQgaXNcbiAqIHdoYXRldmVyIGNvdW50cyBhcyAxIHBpeGVsIGF0IHRoZSBjdXJyZW50IHpvb20uXG4gKiBUaGlzIHNwYWNlIGlzIHVzZWQgZm9yIHBpdGNoLWFsaWdubWVudD1tYXAsIHJvdGF0aW9uLWFsaWdubWVudD1tYXBcbiAqXG4gKiAjIyBSb3RhdGVkIG1hcCBwaXhlbCBjb29yZGluYXRlIHNwYWNlc1xuICogTGlrZSB0aGUgYWJvdmUsIGJ1dCByb3RhdGVkIHNvIGF4aXMgb2YgdGhlIHNwYWNlIGFyZSBhbGlnbmVkIHdpdGggdGhlIHZpZXdwb3J0IGluc3RlYWQgb2YgdGhlIHRpbGUuXG4gKiBUaGlzIHNwYWNlIGlzIHVzZWQgZm9yIHBpdGNoLWFsaWdubWVudD1tYXAsIHJvdGF0aW9uLWFsaWdubWVudD12aWV3cG9ydFxuICpcbiAqICMjIFZpZXdwb3J0IHBpeGVsIGNvb3JkaW5hdGUgc3BhY2VcbiAqICgwLCAwKSBpcyBhdCB0aGUgdG9wIGxlZnQgb2YgdGhlIGNhbnZhcyBhbmQgKHBpeGVsV2lkdGgsIHBpeGVsSGVpZ2h0KSBpcyBhdCB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lclxuICogb2YgdGhlIGNhbnZhcy4gVGhpcyBzcGFjZSBpcyB1c2VkIGZvciBwaXRjaC1hbGlnbm1lbnQ9dmlld3BvcnRcbiAqXG4gKlxuICogIyBWZXJ0ZXggcHJvamVjdGlvblxuICogSXQgZ29lcyByb3VnaGx5IGxpa2UgdGhpczpcbiAqIDEuIHByb2plY3QgdGhlIGFuY2hvciBhbmQgbGluZSBmcm9tIHRpbGUgdW5pdHMgaW50byB0aGUgY29ycmVjdCBsYWJlbCBjb29yZGluYXRlIHNwYWNlXG4gKiAgICAgIC0gbWFwIHBpeGVsIHNwYWNlICAgICAgICAgICBwaXRjaC1hbGlnbm1lbnQ9bWFwICAgICAgICAgcm90YXRpb24tYWxpZ25tZW50PW1hcFxuICogICAgICAtIHJvdGF0ZWQgbWFwIHBpeGVsIHNwYWNlICAgcGl0Y2gtYWxpZ25tZW50PW1hcCAgICAgICAgIHJvdGF0aW9uLWFsaWdubWVudD12aWV3cG9ydFxuICogICAgICAtIHZpZXdwb3J0IHBpeGVsIHNwYWNlICAgICAgcGl0Y2gtYWxpZ25tZW50PXZpZXdwb3J0ICAgIHJvdGF0aW9uLWFsaWdubWVudD0qXG4gKiAyLiBpZiB0aGUgbGFiZWwgZm9sbG93cyBhIGxpbmUsIGZpbmQgdGhlIHBvaW50IGFsb25nIHRoZSBsaW5lIHRoYXQgaXMgdGhlIGNvcnJlY3QgZGlzdGFuY2UgZnJvbSB0aGUgYW5jaG9yLlxuICogMy4gYWRkIHRoZSBnbHlwaCdzIGNvcm5lciBvZmZzZXQgdG8gdGhlIHBvaW50IGZyb20gc3RlcCAzXG4gKiA0LiBjb252ZXJ0IGZyb20gdGhlIGxhYmVsIGNvb3JkaW5hdGUgc3BhY2UgdG8gZ2wgY29vcmRpbmF0ZXNcbiAqXG4gKiBGb3IgaG9yaXpvbnRhbCBsYWJlbHMgd2Ugd2FudCB0byBkbyBzdGVwIDEgaW4gdGhlIHNoYWRlciBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyAobm8gY3B1IHdvcmspLlxuICogICAgICBUaGlzIGlzIHdoYXQgYHVfbGFiZWxfcGxhbmVfbWF0cml4YCBpcyB1c2VkIGZvci5cbiAqIEZvciBsYWJlbHMgYWxpZ25lZCB3aXRoIGxpbmVzIHdlIGhhdmUgdG8gc3RlcHMgMSBhbmQgMiBvbiB0aGUgY3B1IHNpbmNlIHdlIG5lZWQgYWNjZXNzIHRvIHRoZSBsaW5lIGdlb21ldHJ5LlxuICogICAgICBUaGlzIGlzIHdoYXQgYHVwZGF0ZUxpbmVMYWJlbHMoLi4uKWAgZG9lcy5cbiAqICAgICAgU2luY2UgdGhlIGNvbnZlcnNpb24gaXMgaGFuZGxlZCBvbiB0aGUgY3B1IHdlIGp1c3Qgc2V0IGB1X2xhYmVsX3BsYW5lX21hdHJpeGAgdG8gYW4gaWRlbnRpdHkgbWF0cml4LlxuICpcbiAqIFN0ZXBzIDMgYW5kIDQgYXJlIGRvbmUgaW4gdGhlIHNoYWRlcnMgZm9yIGFsbCBsYWJlbHMuXG4gKi9cblxuLypcbiAqIFJldHVybnMgYSBtYXRyaXggZm9yIGNvbnZlcnRpbmcgZnJvbSB0aWxlIHVuaXRzIHRvIHRoZSBjb3JyZWN0IGxhYmVsIGNvb3JkaW5hdGUgc3BhY2UuXG4gKi9cbmZ1bmN0aW9uIGdldExhYmVsUGxhbmVNYXRyaXgocG9zTWF0cml4OiBtYXQ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXRjaFdpdGhNYXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVdpdGhNYXA6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXhlbHNUb1RpbGVVbml0czogbnVtYmVyKSB7XG4gICAgY29uc3QgbSA9IG1hdDQuaWRlbnRpdHkobmV3IEZsb2F0MzJBcnJheSgxNikpO1xuICAgIGlmIChwaXRjaFdpdGhNYXApIHtcbiAgICAgICAgbWF0NC5pZGVudGl0eShtKTtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbMSAvIHBpeGVsc1RvVGlsZVVuaXRzLCAxIC8gcGl4ZWxzVG9UaWxlVW5pdHMsIDFdKTtcbiAgICAgICAgaWYgKCFyb3RhdGVXaXRoTWFwKSB7XG4gICAgICAgICAgICBtYXQ0LnJvdGF0ZVoobSwgbSwgdHJhbnNmb3JtLmFuZ2xlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdDQuc2NhbGUobSwgbSwgW3RyYW5zZm9ybS53aWR0aCAvIDIsIC10cmFuc2Zvcm0uaGVpZ2h0IC8gMiwgMV0pO1xuICAgICAgICBtYXQ0LnRyYW5zbGF0ZShtLCBtLCBbMSwgLTEsIDBdKTtcbiAgICAgICAgbWF0NC5tdWx0aXBseShtLCBtLCBwb3NNYXRyaXgpO1xuICAgIH1cbiAgICByZXR1cm4gbTtcbn1cblxuLypcbiAqIFJldHVybnMgYSBtYXRyaXggZm9yIGNvbnZlcnRpbmcgZnJvbSB0aGUgY29ycmVjdCBsYWJlbCBjb29yZGluYXRlIHNwYWNlIHRvIGdsIGNvb3Jkcy5cbiAqL1xuZnVuY3Rpb24gZ2V0R2xDb29yZE1hdHJpeChwb3NNYXRyaXg6IG1hdDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBpdGNoV2l0aE1hcDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlV2l0aE1hcDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsc1RvVGlsZVVuaXRzOiBudW1iZXIpIHtcbiAgICBjb25zdCBtID0gbWF0NC5pZGVudGl0eShuZXcgRmxvYXQzMkFycmF5KDE2KSk7XG4gICAgaWYgKHBpdGNoV2l0aE1hcCkge1xuICAgICAgICBtYXQ0Lm11bHRpcGx5KG0sIG0sIHBvc01hdHJpeCk7XG4gICAgICAgIG1hdDQuc2NhbGUobSwgbSwgW3BpeGVsc1RvVGlsZVVuaXRzLCBwaXhlbHNUb1RpbGVVbml0cywgMV0pO1xuICAgICAgICBpZiAoIXJvdGF0ZVdpdGhNYXApIHtcbiAgICAgICAgICAgIG1hdDQucm90YXRlWihtLCBtLCAtdHJhbnNmb3JtLmFuZ2xlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdDQuc2NhbGUobSwgbSwgWzEsIC0xLCAxXSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKG0sIG0sIFstMSwgLTEsIDBdKTtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbMiAvIHRyYW5zZm9ybS53aWR0aCwgMiAvIHRyYW5zZm9ybS5oZWlnaHQsIDFdKTtcbiAgICB9XG4gICAgcmV0dXJuIG07XG59XG5cbmZ1bmN0aW9uIHByb2plY3QocG9pbnQ6IFBvaW50LCBtYXRyaXg6IG1hdDQpIHtcbiAgICBjb25zdCBwb3MgPSBbcG9pbnQueCwgcG9pbnQueSwgMCwgMV07XG4gICAgeHlUcmFuc2Zvcm1NYXQ0KHBvcywgcG9zLCBtYXRyaXgpO1xuICAgIGNvbnN0IHcgPSBwb3NbM107XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9pbnQ6IG5ldyBQb2ludChwb3NbMF0gLyB3LCBwb3NbMV0gLyB3KSxcbiAgICAgICAgc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOiB3XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gaXNWaXNpYmxlKGFuY2hvclBvczogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgICAgICAgICAgICAgICAgY2xpcHBpbmdCdWZmZXI6IFtudW1iZXIsIG51bWJlcl0pIHtcbiAgICBjb25zdCB4ID0gYW5jaG9yUG9zWzBdIC8gYW5jaG9yUG9zWzNdO1xuICAgIGNvbnN0IHkgPSBhbmNob3JQb3NbMV0gLyBhbmNob3JQb3NbM107XG4gICAgY29uc3QgaW5QYWRkZWRWaWV3cG9ydCA9IChcbiAgICAgICAgeCA+PSAtY2xpcHBpbmdCdWZmZXJbMF0gJiZcbiAgICAgICAgeCA8PSBjbGlwcGluZ0J1ZmZlclswXSAmJlxuICAgICAgICB5ID49IC1jbGlwcGluZ0J1ZmZlclsxXSAmJlxuICAgICAgICB5IDw9IGNsaXBwaW5nQnVmZmVyWzFdKTtcbiAgICByZXR1cm4gaW5QYWRkZWRWaWV3cG9ydDtcbn1cblxuLypcbiAqICBVcGRhdGUgdGhlIGBkeW5hbWljTGF5b3V0VmVydGV4QnVmZmVyYCBmb3IgdGhlIGJ1ZmZlciB3aXRoIHRoZSBjb3JyZWN0IGdseXBoIHBvc2l0aW9ucyBmb3IgdGhlIGN1cnJlbnQgbWFwIHZpZXcuXG4gKiAgVGhpcyBpcyBvbmx5IHJ1biBvbiBsYWJlbHMgdGhhdCBhcmUgYWxpZ25lZCB3aXRoIGxpbmVzLiBIb3Jpem9udGFsIGxhYmVscyBhcmUgaGFuZGxlZCBlbnRpcmVseSBpbiB0aGUgc2hhZGVyLlxuICovXG5mdW5jdGlvbiB1cGRhdGVMaW5lTGFiZWxzKGJ1Y2tldDogU3ltYm9sQnVja2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NNYXRyaXg6IG1hdDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhaW50ZXI6IFBhaW50ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzVGV4dDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxQbGFuZU1hdHJpeDogbWF0NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xDb29yZE1hdHJpeDogbWF0NCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGl0Y2hXaXRoTWFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZWVwVXByaWdodDogYm9vbGVhbikge1xuXG4gICAgY29uc3Qgc2l6ZURhdGEgPSBpc1RleHQgPyBidWNrZXQudGV4dFNpemVEYXRhIDogYnVja2V0Lmljb25TaXplRGF0YTtcbiAgICBjb25zdCBwYXJ0aWFsbHlFdmFsdWF0ZWRTaXplID0gc3ltYm9sU2l6ZS5ldmFsdWF0ZVNpemVGb3Jab29tKHNpemVEYXRhLCBwYWludGVyLnRyYW5zZm9ybS56b29tLFxuICAgICAgICBzeW1ib2xMYXlvdXRQcm9wZXJ0aWVzLnByb3BlcnRpZXNbaXNUZXh0ID8gJ3RleHQtc2l6ZScgOiAnaWNvbi1zaXplJ10pO1xuXG4gICAgY29uc3QgY2xpcHBpbmdCdWZmZXIgPSBbMjU2IC8gcGFpbnRlci53aWR0aCAqIDIgKyAxLCAyNTYgLyBwYWludGVyLmhlaWdodCAqIDIgKyAxXTtcblxuICAgIGNvbnN0IGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSA9IGlzVGV4dCA/XG4gICAgICAgIGJ1Y2tldC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSA6XG4gICAgICAgIGJ1Y2tldC5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTtcbiAgICBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkuY2xlYXIoKTtcblxuICAgIGNvbnN0IGxpbmVWZXJ0ZXhBcnJheSA9IGJ1Y2tldC5saW5lVmVydGV4QXJyYXk7XG4gICAgY29uc3QgcGxhY2VkU3ltYm9scyA9IGlzVGV4dCA/IGJ1Y2tldC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5IDogYnVja2V0Lmljb24ucGxhY2VkU3ltYm9sQXJyYXk7XG5cbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHBhaW50ZXIudHJhbnNmb3JtLndpZHRoIC8gcGFpbnRlci50cmFuc2Zvcm0uaGVpZ2h0O1xuXG4gICAgbGV0IHVzZVZlcnRpY2FsID0gZmFsc2U7XG5cbiAgICBmb3IgKGxldCBzID0gMDsgcyA8IHBsYWNlZFN5bWJvbHMubGVuZ3RoOyBzKyspIHtcbiAgICAgICAgY29uc3Qgc3ltYm9sOiBhbnkgPSBwbGFjZWRTeW1ib2xzLmdldChzKTtcbiAgICAgICAgLy8gRG9uJ3QgZG8gY2FsY3VsYXRpb25zIGZvciB2ZXJ0aWNhbCBnbHlwaHMgdW5sZXNzIHRoZSBwcmV2aW91cyBzeW1ib2wgd2FzIGhvcml6b250YWxcbiAgICAgICAgLy8gYW5kIHdlIGRldGVybWluZWQgdGhhdCB2ZXJ0aWNhbCBnbHlwaHMgd2VyZSBuZWNlc3NhcnkuXG4gICAgICAgIC8vIEFsc28gZG9uJ3QgZG8gY2FsY3VsYXRpb25zIGZvciBzeW1ib2xzIHRoYXQgYXJlIGNvbGxpZGVkIGFuZCBmdWxseSBmYWRlZCBvdXRcbiAgICAgICAgaWYgKHN5bWJvbC5oaWRkZW4gfHwgc3ltYm9sLndyaXRpbmdNb2RlID09PSBXcml0aW5nTW9kZS52ZXJ0aWNhbCAmJiAhdXNlVmVydGljYWwpIHtcbiAgICAgICAgICAgIGhpZGVHbHlwaHMoc3ltYm9sLm51bUdseXBocywgZHluYW1pY0xheW91dFZlcnRleEFycmF5KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEF3a3dhcmQuLi4gYnV0IHdlJ3JlIGNvdW50aW5nIG9uIHRoZSBwYWlyZWQgXCJ2ZXJ0aWNhbFwiIHN5bWJvbCBjb21pbmcgaW1tZWRpYXRlbHkgYWZ0ZXIgaXRzIGhvcml6b250YWwgY291bnRlcnBhcnRcbiAgICAgICAgdXNlVmVydGljYWwgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBhbmNob3JQb3MgPSBbc3ltYm9sLmFuY2hvclgsIHN5bWJvbC5hbmNob3JZLCAwLCAxXTtcbiAgICAgICAgdmVjNC50cmFuc2Zvcm1NYXQ0KGFuY2hvclBvcywgYW5jaG9yUG9zLCBwb3NNYXRyaXgpO1xuXG4gICAgICAgIC8vIERvbid0IGJvdGhlciBjYWxjdWxhdGluZyB0aGUgY29ycmVjdCBwb2ludCBmb3IgaW52aXNpYmxlIGxhYmVscy5cbiAgICAgICAgaWYgKCFpc1Zpc2libGUoYW5jaG9yUG9zLCBjbGlwcGluZ0J1ZmZlcikpIHtcbiAgICAgICAgICAgIGhpZGVHbHlwaHMoc3ltYm9sLm51bUdseXBocywgZHluYW1pY0xheW91dFZlcnRleEFycmF5KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2FtZXJhVG9BbmNob3JEaXN0YW5jZSA9IGFuY2hvclBvc1szXTtcbiAgICAgICAgY29uc3QgcGVyc3BlY3RpdmVSYXRpbyA9IDAuNSArIDAuNSAqIChjYW1lcmFUb0FuY2hvckRpc3RhbmNlIC8gcGFpbnRlci50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSk7XG5cbiAgICAgICAgY29uc3QgZm9udFNpemUgPSBzeW1ib2xTaXplLmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUoc2l6ZURhdGEsIHBhcnRpYWxseUV2YWx1YXRlZFNpemUsIHN5bWJvbCk7XG4gICAgICAgIGNvbnN0IHBpdGNoU2NhbGVkRm9udFNpemUgPSBwaXRjaFdpdGhNYXAgP1xuICAgICAgICAgICAgZm9udFNpemUgKiBwZXJzcGVjdGl2ZVJhdGlvIDpcbiAgICAgICAgICAgIGZvbnRTaXplIC8gcGVyc3BlY3RpdmVSYXRpbztcblxuICAgICAgICBjb25zdCB0aWxlQW5jaG9yUG9pbnQgPSBuZXcgUG9pbnQoc3ltYm9sLmFuY2hvclgsIHN5bWJvbC5hbmNob3JZKTtcbiAgICAgICAgY29uc3QgYW5jaG9yUG9pbnQgPSBwcm9qZWN0KHRpbGVBbmNob3JQb2ludCwgbGFiZWxQbGFuZU1hdHJpeCkucG9pbnQ7XG4gICAgICAgIGNvbnN0IHByb2plY3Rpb25DYWNoZSA9IHt9O1xuXG4gICAgICAgIGNvbnN0IHBsYWNlVW5mbGlwcGVkOiBhbnkgPSBwbGFjZUdseXBoc0Fsb25nTGluZShzeW1ib2wsIHBpdGNoU2NhbGVkRm9udFNpemUsIGZhbHNlIC8qdW5mbGlwcGVkKi8sIGtlZXBVcHJpZ2h0LCBwb3NNYXRyaXgsIGxhYmVsUGxhbmVNYXRyaXgsIGdsQ29vcmRNYXRyaXgsXG4gICAgICAgICAgICBidWNrZXQuZ2x5cGhPZmZzZXRBcnJheSwgbGluZVZlcnRleEFycmF5LCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXksIGFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHByb2plY3Rpb25DYWNoZSwgYXNwZWN0UmF0aW8pO1xuXG4gICAgICAgIHVzZVZlcnRpY2FsID0gcGxhY2VVbmZsaXBwZWQudXNlVmVydGljYWw7XG5cbiAgICAgICAgaWYgKHBsYWNlVW5mbGlwcGVkLm5vdEVub3VnaFJvb20gfHwgdXNlVmVydGljYWwgfHxcbiAgICAgICAgICAgIChwbGFjZVVuZmxpcHBlZC5uZWVkc0ZsaXBwaW5nICYmXG4gICAgICAgICAgICAgcGxhY2VHbHlwaHNBbG9uZ0xpbmUoc3ltYm9sLCBwaXRjaFNjYWxlZEZvbnRTaXplLCB0cnVlIC8qZmxpcHBlZCovLCBrZWVwVXByaWdodCwgcG9zTWF0cml4LCBsYWJlbFBsYW5lTWF0cml4LCBnbENvb3JkTWF0cml4LFxuICAgICAgICAgICAgICAgICBidWNrZXQuZ2x5cGhPZmZzZXRBcnJheSwgbGluZVZlcnRleEFycmF5LCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXksIGFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHByb2plY3Rpb25DYWNoZSwgYXNwZWN0UmF0aW8pLm5vdEVub3VnaFJvb20pKSB7XG4gICAgICAgICAgICBoaWRlR2x5cGhzKHN5bWJvbC5udW1HbHlwaHMsIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNUZXh0KSB7XG4gICAgICAgIGJ1Y2tldC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1Y2tldC5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShkeW5hbWljTGF5b3V0VmVydGV4QXJyYXkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcGxhY2VGaXJzdEFuZExhc3RHbHlwaChmb250U2NhbGU6IG51bWJlciwgZ2x5cGhPZmZzZXRBcnJheTogR2x5cGhPZmZzZXRBcnJheSwgbGluZU9mZnNldFg6IG51bWJlciwgbGluZU9mZnNldFk6IG51bWJlciwgZmxpcDogYm9vbGVhbiwgYW5jaG9yUG9pbnQ6IFBvaW50LCB0aWxlQW5jaG9yUG9pbnQ6IFBvaW50LCBzeW1ib2w6IGFueSwgbGluZVZlcnRleEFycmF5OiBTeW1ib2xMaW5lVmVydGV4QXJyYXksIGxhYmVsUGxhbmVNYXRyaXg6IG1hdDQsIHByb2plY3Rpb25DYWNoZTogYW55LCByZXR1cm5UaWxlRGlzdGFuY2U6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBnbHlwaEVuZEluZGV4ID0gc3ltYm9sLmdseXBoU3RhcnRJbmRleCArIHN5bWJvbC5udW1HbHlwaHM7XG4gICAgY29uc3QgbGluZVN0YXJ0SW5kZXggPSBzeW1ib2wubGluZVN0YXJ0SW5kZXg7XG4gICAgY29uc3QgbGluZUVuZEluZGV4ID0gc3ltYm9sLmxpbmVTdGFydEluZGV4ICsgc3ltYm9sLmxpbmVMZW5ndGg7XG5cbiAgICBjb25zdCBmaXJzdEdseXBoT2Zmc2V0ID0gZ2x5cGhPZmZzZXRBcnJheS5nZXRvZmZzZXRYKHN5bWJvbC5nbHlwaFN0YXJ0SW5kZXgpO1xuICAgIGNvbnN0IGxhc3RHbHlwaE9mZnNldCA9IGdseXBoT2Zmc2V0QXJyYXkuZ2V0b2Zmc2V0WChnbHlwaEVuZEluZGV4IC0gMSk7XG5cbiAgICBjb25zdCBmaXJzdFBsYWNlZEdseXBoID0gcGxhY2VHbHlwaEFsb25nTGluZShmb250U2NhbGUgKiBmaXJzdEdseXBoT2Zmc2V0LCBsaW5lT2Zmc2V0WCwgbGluZU9mZnNldFksIGZsaXAsIGFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHN5bWJvbC5zZWdtZW50LFxuICAgICAgICBsaW5lU3RhcnRJbmRleCwgbGluZUVuZEluZGV4LCBsaW5lVmVydGV4QXJyYXksIGxhYmVsUGxhbmVNYXRyaXgsIHByb2plY3Rpb25DYWNoZSwgcmV0dXJuVGlsZURpc3RhbmNlKTtcbiAgICBpZiAoIWZpcnN0UGxhY2VkR2x5cGgpXG4gICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgbGFzdFBsYWNlZEdseXBoID0gcGxhY2VHbHlwaEFsb25nTGluZShmb250U2NhbGUgKiBsYXN0R2x5cGhPZmZzZXQsIGxpbmVPZmZzZXRYLCBsaW5lT2Zmc2V0WSwgZmxpcCwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgc3ltYm9sLnNlZ21lbnQsXG4gICAgICAgIGxpbmVTdGFydEluZGV4LCBsaW5lRW5kSW5kZXgsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCByZXR1cm5UaWxlRGlzdGFuY2UpO1xuICAgIGlmICghbGFzdFBsYWNlZEdseXBoKVxuICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiB7IGZpcnN0OiBmaXJzdFBsYWNlZEdseXBoLCBsYXN0OiBsYXN0UGxhY2VkR2x5cGggfTtcbn1cblxuZnVuY3Rpb24gcmVxdWlyZXNPcmllbnRhdGlvbkNoYW5nZSh3cml0aW5nTW9kZSwgZmlyc3RQb2ludCwgbGFzdFBvaW50LCBhc3BlY3RSYXRpbykge1xuICAgIGlmICh3cml0aW5nTW9kZSA9PT0gV3JpdGluZ01vZGUuaG9yaXpvbnRhbCkge1xuICAgICAgICAvLyBPbiB0b3Agb2YgY2hvb3Npbmcgd2hldGhlciB0byBmbGlwLCBjaG9vc2Ugd2hldGhlciB0byByZW5kZXIgdGhpcyB2ZXJzaW9uIG9mIHRoZSBnbHlwaHMgb3IgdGhlIGFsdGVybmF0ZVxuICAgICAgICAvLyB2ZXJ0aWNhbCBnbHlwaHMuIFdlIGNhbid0IGp1c3QgZmlsdGVyIG91dCB2ZXJ0aWNhbCBnbHlwaHMgaW4gdGhlIGhvcml6b250YWwgcmFuZ2UgYmVjYXVzZSB0aGUgaG9yaXpvbnRhbFxuICAgICAgICAvLyBhbmQgdmVydGljYWwgdmVyc2lvbnMgY2FuIGhhdmUgc2xpZ2h0bHkgZGlmZmVyZW50IHByb2plY3Rpb25zIHdoaWNoIGNvdWxkIGxlYWQgdG8gYW5nbGVzIHdoZXJlIGJvdGggb3JcbiAgICAgICAgLy8gbmVpdGhlciBzaG93ZWQuXG4gICAgICAgIGNvbnN0IHJpc2UgPSBNYXRoLmFicyhsYXN0UG9pbnQueSAtIGZpcnN0UG9pbnQueSk7XG4gICAgICAgIGNvbnN0IHJ1biA9IE1hdGguYWJzKGxhc3RQb2ludC54IC0gZmlyc3RQb2ludC54KSAqIGFzcGVjdFJhdGlvO1xuICAgICAgICBpZiAocmlzZSA+IHJ1bikge1xuICAgICAgICAgICAgcmV0dXJuIHsgdXNlVmVydGljYWw6IHRydWUgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh3cml0aW5nTW9kZSA9PT0gV3JpdGluZ01vZGUudmVydGljYWwgPyBmaXJzdFBvaW50LnkgPCBsYXN0UG9pbnQueSA6IGZpcnN0UG9pbnQueCA+IGxhc3RQb2ludC54KSB7XG4gICAgICAgIC8vIEluY2x1ZGVzIFwiaG9yaXpvbnRhbE9ubHlcIiBjYXNlIGZvciBsYWJlbHMgd2l0aG91dCB2ZXJ0aWNhbCBnbHlwaHNcbiAgICAgICAgcmV0dXJuIHsgbmVlZHNGbGlwcGluZzogdHJ1ZSB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwbGFjZUdseXBoc0Fsb25nTGluZShzeW1ib2wsIGZvbnRTaXplLCBmbGlwLCBrZWVwVXByaWdodCwgcG9zTWF0cml4LCBsYWJlbFBsYW5lTWF0cml4LCBnbENvb3JkTWF0cml4LCBnbHlwaE9mZnNldEFycmF5LCBsaW5lVmVydGV4QXJyYXksIGR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgcHJvamVjdGlvbkNhY2hlLCBhc3BlY3RSYXRpbykge1xuICAgIGNvbnN0IGZvbnRTY2FsZSA9IGZvbnRTaXplIC8gMjQ7XG4gICAgY29uc3QgbGluZU9mZnNldFggPSBzeW1ib2wubGluZU9mZnNldFggKiBmb250U2l6ZTtcbiAgICBjb25zdCBsaW5lT2Zmc2V0WSA9IHN5bWJvbC5saW5lT2Zmc2V0WSAqIGZvbnRTaXplO1xuXG4gICAgbGV0IHBsYWNlZEdseXBocztcbiAgICBpZiAoc3ltYm9sLm51bUdseXBocyA+IDEpIHtcbiAgICAgICAgY29uc3QgZ2x5cGhFbmRJbmRleCA9IHN5bWJvbC5nbHlwaFN0YXJ0SW5kZXggKyBzeW1ib2wubnVtR2x5cGhzO1xuICAgICAgICBjb25zdCBsaW5lU3RhcnRJbmRleCA9IHN5bWJvbC5saW5lU3RhcnRJbmRleDtcbiAgICAgICAgY29uc3QgbGluZUVuZEluZGV4ID0gc3ltYm9sLmxpbmVTdGFydEluZGV4ICsgc3ltYm9sLmxpbmVMZW5ndGg7XG5cbiAgICAgICAgLy8gUGxhY2UgdGhlIGZpcnN0IGFuZCB0aGUgbGFzdCBnbHlwaCBpbiB0aGUgbGFiZWwgZmlyc3QsIHNvIHdlIGNhbiBmaWd1cmUgb3V0XG4gICAgICAgIC8vIHRoZSBvdmVyYWxsIG9yaWVudGF0aW9uIG9mIHRoZSBsYWJlbCBhbmQgZGV0ZXJtaW5lIHdoZXRoZXIgaXQgbmVlZHMgdG8gYmUgZmxpcHBlZCBpbiBrZWVwVXByaWdodCBtb2RlXG4gICAgICAgIGNvbnN0IGZpcnN0QW5kTGFzdEdseXBoID0gcGxhY2VGaXJzdEFuZExhc3RHbHlwaChmb250U2NhbGUsIGdseXBoT2Zmc2V0QXJyYXksIGxpbmVPZmZzZXRYLCBsaW5lT2Zmc2V0WSwgZmxpcCwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgc3ltYm9sLCBsaW5lVmVydGV4QXJyYXksIGxhYmVsUGxhbmVNYXRyaXgsIHByb2plY3Rpb25DYWNoZSwgZmFsc2UpO1xuICAgICAgICBpZiAoIWZpcnN0QW5kTGFzdEdseXBoKSB7XG4gICAgICAgICAgICByZXR1cm4geyBub3RFbm91Z2hSb29tOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlyc3RQb2ludCA9IHByb2plY3QoZmlyc3RBbmRMYXN0R2x5cGguZmlyc3QucG9pbnQsIGdsQ29vcmRNYXRyaXgpLnBvaW50O1xuICAgICAgICBjb25zdCBsYXN0UG9pbnQgPSBwcm9qZWN0KGZpcnN0QW5kTGFzdEdseXBoLmxhc3QucG9pbnQsIGdsQ29vcmRNYXRyaXgpLnBvaW50O1xuXG4gICAgICAgIGlmIChrZWVwVXByaWdodCAmJiAhZmxpcCkge1xuICAgICAgICAgICAgY29uc3Qgb3JpZW50YXRpb25DaGFuZ2UgPSByZXF1aXJlc09yaWVudGF0aW9uQ2hhbmdlKHN5bWJvbC53cml0aW5nTW9kZSwgZmlyc3RQb2ludCwgbGFzdFBvaW50LCBhc3BlY3RSYXRpbyk7XG4gICAgICAgICAgICBpZiAob3JpZW50YXRpb25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZW50YXRpb25DaGFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwbGFjZWRHbHlwaHMgPSBbZmlyc3RBbmRMYXN0R2x5cGguZmlyc3RdO1xuICAgICAgICBmb3IgKGxldCBnbHlwaEluZGV4ID0gc3ltYm9sLmdseXBoU3RhcnRJbmRleCArIDE7IGdseXBoSW5kZXggPCBnbHlwaEVuZEluZGV4IC0gMTsgZ2x5cGhJbmRleCsrKSB7XG4gICAgICAgICAgICAvLyBTaW5jZSBmaXJzdCBhbmQgbGFzdCBnbHlwaCBmaXQgb24gdGhlIGxpbmUsIHdlJ3JlIHN1cmUgdGhhdCB0aGUgcmVzdCBvZiB0aGUgZ2x5cGhzIGNhbiBiZSBwbGFjZWRcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgIHBsYWNlZEdseXBocy5wdXNoKHBsYWNlR2x5cGhBbG9uZ0xpbmUoZm9udFNjYWxlICogZ2x5cGhPZmZzZXRBcnJheS5nZXRvZmZzZXRYKGdseXBoSW5kZXgpLCBsaW5lT2Zmc2V0WCwgbGluZU9mZnNldFksIGZsaXAsIGFuY2hvclBvaW50LCB0aWxlQW5jaG9yUG9pbnQsIHN5bWJvbC5zZWdtZW50LFxuICAgICAgICAgICAgICAgIGxpbmVTdGFydEluZGV4LCBsaW5lRW5kSW5kZXgsIGxpbmVWZXJ0ZXhBcnJheSwgbGFiZWxQbGFuZU1hdHJpeCwgcHJvamVjdGlvbkNhY2hlLCBmYWxzZSkpO1xuICAgICAgICB9XG4gICAgICAgIHBsYWNlZEdseXBocy5wdXNoKGZpcnN0QW5kTGFzdEdseXBoLmxhc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE9ubHkgYSBzaW5nbGUgZ2x5cGggdG8gcGxhY2VcbiAgICAgICAgLy8gU28sIGRldGVybWluZSB3aGV0aGVyIHRvIGZsaXAgYmFzZWQgb24gcHJvamVjdGVkIGFuZ2xlIG9mIHRoZSBsaW5lIHNlZ21lbnQgaXQncyBvblxuICAgICAgICBpZiAoa2VlcFVwcmlnaHQgJiYgIWZsaXApIHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBwcm9qZWN0KHRpbGVBbmNob3JQb2ludCwgcG9zTWF0cml4KS5wb2ludDtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVWZXJ0ZXhJbmRleCA9IChzeW1ib2wubGluZVN0YXJ0SW5kZXggKyBzeW1ib2wuc2VnbWVudCArIDEpO1xuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICAgICAgY29uc3QgdGlsZVNlZ21lbnRFbmQgPSBuZXcgUG9pbnQobGluZVZlcnRleEFycmF5LmdldHgodGlsZVZlcnRleEluZGV4KSwgbGluZVZlcnRleEFycmF5LmdldHkodGlsZVZlcnRleEluZGV4KSk7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0ZWRWZXJ0ZXggPSBwcm9qZWN0KHRpbGVTZWdtZW50RW5kLCBwb3NNYXRyaXgpO1xuICAgICAgICAgICAgLy8gV2Uga25vdyB0aGUgYW5jaG9yIHdpbGwgYmUgaW4gdGhlIHZpZXdwb3J0LCBidXQgdGhlIGVuZCBvZiB0aGUgbGluZSBzZWdtZW50IG1heSBiZVxuICAgICAgICAgICAgLy8gYmVoaW5kIHRoZSBwbGFuZSBvZiB0aGUgY2FtZXJhLCBpbiB3aGljaCBjYXNlIHdlIGNhbiB1c2UgYSBwb2ludCBhdCBhbnkgYXJiaXRyYXJ5IChjbG9zZXIpXG4gICAgICAgICAgICAvLyBwb2ludCBvbiB0aGUgc2VnbWVudC5cbiAgICAgICAgICAgIGNvbnN0IGIgPSAocHJvamVjdGVkVmVydGV4LnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYSA+IDApID9cbiAgICAgICAgICAgICAgICBwcm9qZWN0ZWRWZXJ0ZXgucG9pbnQgOlxuICAgICAgICAgICAgICAgIHByb2plY3RUcnVuY2F0ZWRMaW5lU2VnbWVudCh0aWxlQW5jaG9yUG9pbnQsIHRpbGVTZWdtZW50RW5kLCBhLCAxLCBwb3NNYXRyaXgpO1xuXG5cbiAgICAgICAgICAgIGNvbnN0IG9yaWVudGF0aW9uQ2hhbmdlID0gcmVxdWlyZXNPcmllbnRhdGlvbkNoYW5nZShzeW1ib2wud3JpdGluZ01vZGUsIGEsIGIsIGFzcGVjdFJhdGlvKTtcbiAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmllbnRhdGlvbkNoYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIGNvbnN0IHNpbmdsZUdseXBoID0gcGxhY2VHbHlwaEFsb25nTGluZShmb250U2NhbGUgKiBnbHlwaE9mZnNldEFycmF5LmdldG9mZnNldFgoc3ltYm9sLmdseXBoU3RhcnRJbmRleCksIGxpbmVPZmZzZXRYLCBsaW5lT2Zmc2V0WSwgZmxpcCwgYW5jaG9yUG9pbnQsIHRpbGVBbmNob3JQb2ludCwgc3ltYm9sLnNlZ21lbnQsXG4gICAgICAgICAgICBzeW1ib2wubGluZVN0YXJ0SW5kZXgsIHN5bWJvbC5saW5lU3RhcnRJbmRleCArIHN5bWJvbC5saW5lTGVuZ3RoLCBsaW5lVmVydGV4QXJyYXksIGxhYmVsUGxhbmVNYXRyaXgsIHByb2plY3Rpb25DYWNoZSwgZmFsc2UpO1xuICAgICAgICBpZiAoIXNpbmdsZUdseXBoKVxuICAgICAgICAgICAgcmV0dXJuIHsgbm90RW5vdWdoUm9vbTogdHJ1ZSB9O1xuXG4gICAgICAgIHBsYWNlZEdseXBocyA9IFtzaW5nbGVHbHlwaF07XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBnbHlwaDogYW55IG9mIHBsYWNlZEdseXBocykge1xuICAgICAgICBhZGREeW5hbWljQXR0cmlidXRlcyhkeW5hbWljTGF5b3V0VmVydGV4QXJyYXksIGdseXBoLnBvaW50LCBnbHlwaC5hbmdsZSk7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn1cblxuZnVuY3Rpb24gcHJvamVjdFRydW5jYXRlZExpbmVTZWdtZW50KHByZXZpb3VzVGlsZVBvaW50OiBQb2ludCwgY3VycmVudFRpbGVQb2ludDogUG9pbnQsIHByZXZpb3VzUHJvamVjdGVkUG9pbnQ6IFBvaW50LCBtaW5pbXVtTGVuZ3RoOiBudW1iZXIsIHByb2plY3Rpb25NYXRyaXg6IG1hdDQpIHtcbiAgICAvLyBXZSBhcmUgYXNzdW1pbmcgXCJwcmV2aW91c1RpbGVQb2ludFwiIHdvbid0IHByb2plY3QgdG8gYSBwb2ludCB3aXRoaW4gb25lIHVuaXQgb2YgdGhlIGNhbWVyYSBwbGFuZVxuICAgIC8vIElmIGl0IGRpZCwgdGhhdCB3b3VsZCBtZWFuIG91ciBsYWJlbCBleHRlbmRlZCBhbGwgdGhlIHdheSBvdXQgZnJvbSB3aXRoaW4gdGhlIHZpZXdwb3J0IHRvIGEgKHZlcnkgZGlzdGFudClcbiAgICAvLyBwb2ludCBuZWFyIHRoZSBwbGFuZSBvZiB0aGUgY2FtZXJhLiBXZSB3b3VsZG4ndCBiZSBhYmxlIHRvIHJlbmRlciB0aGUgbGFiZWwgYW55d2F5IG9uY2UgaXQgY3Jvc3NlZCB0aGVcbiAgICAvLyBwbGFuZSBvZiB0aGUgY2FtZXJhLlxuICAgIGNvbnN0IHByb2plY3RlZFVuaXRWZXJ0ZXggPSBwcm9qZWN0KHByZXZpb3VzVGlsZVBvaW50LmFkZChwcmV2aW91c1RpbGVQb2ludC5zdWIoY3VycmVudFRpbGVQb2ludCkuX3VuaXQoKSksIHByb2plY3Rpb25NYXRyaXgpLnBvaW50O1xuICAgIGNvbnN0IHByb2plY3RlZFVuaXRTZWdtZW50ID0gcHJldmlvdXNQcm9qZWN0ZWRQb2ludC5zdWIocHJvamVjdGVkVW5pdFZlcnRleCk7XG5cbiAgICByZXR1cm4gcHJldmlvdXNQcm9qZWN0ZWRQb2ludC5hZGQocHJvamVjdGVkVW5pdFNlZ21lbnQuX211bHQobWluaW11bUxlbmd0aCAvIHByb2plY3RlZFVuaXRTZWdtZW50Lm1hZygpKSk7XG59XG5cbmZ1bmN0aW9uIHBsYWNlR2x5cGhBbG9uZ0xpbmUob2Zmc2V0WDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lT2Zmc2V0WDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lT2Zmc2V0WTogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGlwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JQb2ludDogUG9pbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVBbmNob3JQb2ludDogUG9pbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclNlZ21lbnQ6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVN0YXJ0SW5kZXg6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUVuZEluZGV4OiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVWZXJ0ZXhBcnJheTogU3ltYm9sTGluZVZlcnRleEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFBsYW5lTWF0cml4OiBtYXQ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0aW9uQ2FjaGU6IHtbbnVtYmVyXTogUG9pbnR9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5UaWxlRGlzdGFuY2U6IGJvb2xlYW4pIHtcblxuICAgIGNvbnN0IGNvbWJpbmVkT2Zmc2V0WCA9IGZsaXAgP1xuICAgICAgICBvZmZzZXRYIC0gbGluZU9mZnNldFggOlxuICAgICAgICBvZmZzZXRYICsgbGluZU9mZnNldFg7XG5cbiAgICBsZXQgZGlyID0gY29tYmluZWRPZmZzZXRYID4gMCA/IDEgOiAtMTtcblxuICAgIGxldCBhbmdsZSA9IDA7XG4gICAgaWYgKGZsaXApIHtcbiAgICAgICAgLy8gVGhlIGxhYmVsIG5lZWRzIHRvIGJlIGZsaXBwZWQgdG8ga2VlcCB0ZXh0IHVwcmlnaHQuXG4gICAgICAgIC8vIEl0ZXJhdGUgaW4gdGhlIHJldmVyc2UgZGlyZWN0aW9uLlxuICAgICAgICBkaXIgKj0gLTE7XG4gICAgICAgIGFuZ2xlID0gTWF0aC5QSTtcbiAgICB9XG5cbiAgICBpZiAoZGlyIDwgMCkgYW5nbGUgKz0gTWF0aC5QSTtcblxuICAgIGxldCBjdXJyZW50SW5kZXggPSBkaXIgPiAwID9cbiAgICAgICAgbGluZVN0YXJ0SW5kZXggKyBhbmNob3JTZWdtZW50IDpcbiAgICAgICAgbGluZVN0YXJ0SW5kZXggKyBhbmNob3JTZWdtZW50ICsgMTtcblxuICAgIGNvbnN0IGluaXRpYWxJbmRleCA9IGN1cnJlbnRJbmRleDtcbiAgICBsZXQgY3VycmVudCA9IGFuY2hvclBvaW50O1xuICAgIGxldCBwcmV2ID0gYW5jaG9yUG9pbnQ7XG4gICAgbGV0IGRpc3RhbmNlVG9QcmV2ID0gMDtcbiAgICBsZXQgY3VycmVudFNlZ21lbnREaXN0YW5jZSA9IDA7XG4gICAgY29uc3QgYWJzT2Zmc2V0WCA9IE1hdGguYWJzKGNvbWJpbmVkT2Zmc2V0WCk7XG5cbiAgICB3aGlsZSAoZGlzdGFuY2VUb1ByZXYgKyBjdXJyZW50U2VnbWVudERpc3RhbmNlIDw9IGFic09mZnNldFgpIHtcbiAgICAgICAgY3VycmVudEluZGV4ICs9IGRpcjtcblxuICAgICAgICAvLyBvZmZzZXQgZG9lcyBub3QgZml0IG9uIHRoZSBwcm9qZWN0ZWQgbGluZVxuICAgICAgICBpZiAoY3VycmVudEluZGV4IDwgbGluZVN0YXJ0SW5kZXggfHwgY3VycmVudEluZGV4ID49IGxpbmVFbmRJbmRleClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIHByZXYgPSBjdXJyZW50O1xuXG4gICAgICAgIGN1cnJlbnQgPSBwcm9qZWN0aW9uQ2FjaGVbY3VycmVudEluZGV4XTtcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZlcnRleCA9IG5ldyBQb2ludChsaW5lVmVydGV4QXJyYXkuZ2V0eChjdXJyZW50SW5kZXgpLCBsaW5lVmVydGV4QXJyYXkuZ2V0eShjdXJyZW50SW5kZXgpKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3Rpb24gPSBwcm9qZWN0KGN1cnJlbnRWZXJ0ZXgsIGxhYmVsUGxhbmVNYXRyaXgpO1xuICAgICAgICAgICAgaWYgKHByb2plY3Rpb24uc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhID4gMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBwcm9qZWN0aW9uQ2FjaGVbY3VycmVudEluZGV4XSA9IHByb2plY3Rpb24ucG9pbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoZSB2ZXJ0ZXggaXMgYmVoaW5kIHRoZSBwbGFuZSBvZiB0aGUgY2FtZXJhLCBzbyB3ZSBjYW4ndCBwcm9qZWN0IGl0XG4gICAgICAgICAgICAgICAgLy8gSW5zdGVhZCwgd2UnbGwgY3JlYXRlIGEgdmVydGV4IGFsb25nIHRoZSBsaW5lIHRoYXQncyBmYXIgZW5vdWdoIHRvIGluY2x1ZGUgdGhlIGdseXBoXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNMaW5lVmVydGV4SW5kZXggPSBjdXJyZW50SW5kZXggLSBkaXI7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNUaWxlUG9pbnQgPSBkaXN0YW5jZVRvUHJldiA9PT0gMCA/XG4gICAgICAgICAgICAgICAgICAgIHRpbGVBbmNob3JQb2ludCA6XG4gICAgICAgICAgICAgICAgICAgIG5ldyBQb2ludChsaW5lVmVydGV4QXJyYXkuZ2V0eChwcmV2aW91c0xpbmVWZXJ0ZXhJbmRleCksIGxpbmVWZXJ0ZXhBcnJheS5nZXR5KHByZXZpb3VzTGluZVZlcnRleEluZGV4KSk7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgY2FjaGUgYmVjYXVzZSB0aGUgbmV3IHZlcnRleCBtaWdodCBub3QgYmUgZmFyIGVub3VnaCBvdXQgZm9yIGZ1dHVyZSBnbHlwaHMgb24gdGhlIHNhbWUgc2VnbWVudFxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBwcm9qZWN0VHJ1bmNhdGVkTGluZVNlZ21lbnQocHJldmlvdXNUaWxlUG9pbnQsIGN1cnJlbnRWZXJ0ZXgsIHByZXYsIGFic09mZnNldFggLSBkaXN0YW5jZVRvUHJldiArIDEsIGxhYmVsUGxhbmVNYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGlzdGFuY2VUb1ByZXYgKz0gY3VycmVudFNlZ21lbnREaXN0YW5jZTtcbiAgICAgICAgY3VycmVudFNlZ21lbnREaXN0YW5jZSA9IHByZXYuZGlzdChjdXJyZW50KTtcbiAgICB9XG5cbiAgICAvLyBUaGUgcG9pbnQgaXMgb24gdGhlIGN1cnJlbnQgc2VnbWVudC4gSW50ZXJwb2xhdGUgdG8gZmluZCBpdC5cbiAgICBjb25zdCBzZWdtZW50SW50ZXJwb2xhdGlvblQgPSAoYWJzT2Zmc2V0WCAtIGRpc3RhbmNlVG9QcmV2KSAvIGN1cnJlbnRTZWdtZW50RGlzdGFuY2U7XG4gICAgY29uc3QgcHJldlRvQ3VycmVudCA9IGN1cnJlbnQuc3ViKHByZXYpO1xuICAgIGNvbnN0IHAgPSBwcmV2VG9DdXJyZW50Lm11bHQoc2VnbWVudEludGVycG9sYXRpb25UKS5fYWRkKHByZXYpO1xuXG4gICAgLy8gb2Zmc2V0IHRoZSBwb2ludCBmcm9tIHRoZSBsaW5lIHRvIHRleHQtb2Zmc2V0IGFuZCBpY29uLW9mZnNldFxuICAgIHAuX2FkZChwcmV2VG9DdXJyZW50Ll91bml0KCkuX3BlcnAoKS5fbXVsdChsaW5lT2Zmc2V0WSAqIGRpcikpO1xuXG4gICAgY29uc3Qgc2VnbWVudEFuZ2xlID0gYW5nbGUgKyBNYXRoLmF0YW4yKGN1cnJlbnQueSAtIHByZXYueSwgY3VycmVudC54IC0gcHJldi54KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHBvaW50OiBwLFxuICAgICAgICBhbmdsZTogc2VnbWVudEFuZ2xlLFxuICAgICAgICB0aWxlRGlzdGFuY2U6IHJldHVyblRpbGVEaXN0YW5jZSA/XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJldlRpbGVEaXN0YW5jZTogKGN1cnJlbnRJbmRleCAtIGRpcikgPT09IGluaXRpYWxJbmRleCA/IDAgOiBsaW5lVmVydGV4QXJyYXkuZ2V0dGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3IoY3VycmVudEluZGV4IC0gZGlyKSxcbiAgICAgICAgICAgICAgICBsYXN0U2VnbWVudFZpZXdwb3J0RGlzdGFuY2U6IGFic09mZnNldFggLSBkaXN0YW5jZVRvUHJldlxuICAgICAgICAgICAgfSA6IG51bGxcbiAgICB9O1xufVxuXG5jb25zdCBoaWRkZW5HbHlwaEF0dHJpYnV0ZXMgPSBuZXcgRmxvYXQzMkFycmF5KFstSW5maW5pdHksIC1JbmZpbml0eSwgMCwgLUluZmluaXR5LCAtSW5maW5pdHksIDAsIC1JbmZpbml0eSwgLUluZmluaXR5LCAwLCAtSW5maW5pdHksIC1JbmZpbml0eSwgMF0pO1xuXG4vLyBIaWRlIHRoZW0gYnkgbW92aW5nIHRoZW0gb2Zmc2NyZWVuLiBXZSBzdGlsbCBuZWVkIHRvIGFkZCB0aGVtIHRvIHRoZSBidWZmZXJcbi8vIGJlY2F1c2UgdGhlIGR5bmFtaWMgYnVmZmVyIGlzIHBhaXJlZCB3aXRoIGEgc3RhdGljIGJ1ZmZlciB0aGF0IGRvZXNuJ3QgZ2V0IHVwZGF0ZWQuXG5mdW5jdGlvbiBoaWRlR2x5cGhzKG51bTogbnVtYmVyLCBkeW5hbWljTGF5b3V0VmVydGV4QXJyYXk6IFN5bWJvbER5bmFtaWNMYXlvdXRBcnJheSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZHluYW1pY0xheW91dFZlcnRleEFycmF5Lmxlbmd0aDtcbiAgICAgICAgZHluYW1pY0xheW91dFZlcnRleEFycmF5LnJlc2l6ZShvZmZzZXQgKyA0KTtcbiAgICAgICAgLy8gU2luY2UgYWxsIGhpZGRlbiBnbHlwaHMgaGF2ZSB0aGUgc2FtZSBhdHRyaWJ1dGVzLCB3ZSBjYW4gYnVpbGQgdXAgdGhlIGFycmF5IGZhc3RlciB3aXRoIGEgc2luZ2xlIGNhbGwgdG8gRmxvYXQzMkFycmF5LnNldFxuICAgICAgICAvLyBmb3IgZWFjaCBzZXQgb2YgZm91ciB2ZXJ0aWNlcywgaW5zdGVhZCBvZiBjYWxsaW5nIGFkZER5bmFtaWNBdHRyaWJ1dGVzIGZvciBlYWNoIHZlcnRleC5cbiAgICAgICAgZHluYW1pY0xheW91dFZlcnRleEFycmF5LmZsb2F0MzIuc2V0KGhpZGRlbkdseXBoQXR0cmlidXRlcywgb2Zmc2V0ICogMyk7XG4gICAgfVxufVxuXG4vLyBGb3IgbGluZSBsYWJlbCBsYXlvdXQsIHdlJ3JlIG5vdCB1c2luZyB6IG91dHB1dCBhbmQgb3VyIHcgaW5wdXQgaXMgYWx3YXlzIDFcbi8vIFRoaXMgY3VzdG9tIG1hdHJpeCB0cmFuc2Zvcm1hdGlvbiBpZ25vcmVzIHRob3NlIGNvbXBvbmVudHMgdG8gbWFrZSBwcm9qZWN0aW9uIGZhc3RlclxuZnVuY3Rpb24geHlUcmFuc2Zvcm1NYXQ0KG91dDogdmVjNCwgYTogdmVjNCwgbTogbWF0NCkge1xuICAgIGNvbnN0IHggPSBhWzBdLCB5ID0gYVsxXTtcbiAgICBvdXRbMF0gPSBtWzBdICogeCArIG1bNF0gKiB5ICsgbVsxMl07XG4gICAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzVdICogeSArIG1bMTNdO1xuICAgIG91dFszXSA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzE1XTtcbiAgICByZXR1cm4gb3V0O1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuXG5pbXBvcnQgKiBhcyBpbnRlcnNlY3Rpb25UZXN0cyBmcm9tICcuLi91dGlsL2ludGVyc2VjdGlvbl90ZXN0cyc7XG5pbXBvcnQgR3JpZCBmcm9tICcuL2dyaWRfaW5kZXgnO1xuaW1wb3J0IGdsbWF0cml4IGZyb20gJ0BtYXBib3gvZ2wtbWF0cml4JztcblxuY29uc3QgbWF0NCA9IGdsbWF0cml4Lm1hdDQ7XG5cbmltcG9ydCAqIGFzIHByb2plY3Rpb24gZnJvbSAnLi4vc3ltYm9sL3Byb2plY3Rpb24nO1xuXG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybSc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuaW1wb3J0IHR5cGUge1NpbmdsZUNvbGxpc2lvbkJveH0gZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSB7XG4gICAgQ29sbGlzaW9uQm94QXJyYXksXG4gICAgR2x5cGhPZmZzZXRBcnJheSxcbiAgICBTeW1ib2xMaW5lVmVydGV4QXJyYXlcbn0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcyc7XG5cbi8vIFdoZW4gYSBzeW1ib2wgY3Jvc3NlcyB0aGUgZWRnZSB0aGF0IGNhdXNlcyBpdCB0byBiZSBpbmNsdWRlZCBpblxuLy8gY29sbGlzaW9uIGRldGVjdGlvbiwgaXQgd2lsbCBjYXVzZSBjaGFuZ2VzIGluIHRoZSBzeW1ib2xzIGFyb3VuZFxuLy8gaXQuIFRoaXMgY29uc3RhbnQgc3BlY2lmaWVzIGhvdyBtYW55IHBpeGVscyB0byBwYWQgdGhlIGVkZ2Ugb2Zcbi8vIHRoZSB2aWV3cG9ydCBmb3IgY29sbGlzaW9uIGRldGVjdGlvbiBzbyB0aGF0IHRoZSBidWxrIG9mIHRoZSBjaGFuZ2VzXG4vLyBvY2N1ciBvZmZzY3JlZW4uIE1ha2luZyB0aGlzIGNvbnN0YW50IGdyZWF0ZXIgaW5jcmVhc2VzIGxhYmVsXG4vLyBzdGFiaWxpdHksIGJ1dCBpdCdzIGV4cGVuc2l2ZS5cbmNvbnN0IHZpZXdwb3J0UGFkZGluZyA9IDEwMDtcblxuLyoqXG4gKiBBIGNvbGxpc2lvbiBpbmRleCB1c2VkIHRvIHByZXZlbnQgc3ltYm9scyBmcm9tIG92ZXJsYXBwaW5nLiBJdCBrZWVwIHRyYWNrcyBvZlxuICogd2hlcmUgcHJldmlvdXMgc3ltYm9scyBoYXZlIGJlZW4gcGxhY2VkIGFuZCBpcyB1c2VkIHRvIGNoZWNrIGlmIGEgbmV3XG4gKiBzeW1ib2wgb3ZlcmxhcHMgd2l0aCBhbnkgcHJldmlvdXNseSBhZGRlZCBzeW1ib2xzLlxuICpcbiAqIFRoZXJlIGFyZSB0d28gc3RlcHMgdG8gaW5zZXJ0aW9uOiBmaXJzdCBwbGFjZUNvbGxpc2lvbkJveC9DaXJjbGVzIGNoZWNrcyBpZlxuICogdGhlcmUncyByb29tIGZvciBhIHN5bWJvbCwgdGhlbiBpbnNlcnRDb2xsaXNpb25Cb3gvQ2lyY2xlcyBhY3R1YWxseSBwdXRzIHRoZVxuICogc3ltYm9sIGluIHRoZSBpbmRleC4gVGhlIHR3byBzdGVwIHByb2Nlc3MgYWxsb3dzIHBhaXJlZCBzeW1ib2xzIHRvIGJlIGluc2VydGVkXG4gKiB0b2dldGhlciBldmVuIGlmIHRoZXkgb3ZlcmxhcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBDb2xsaXNpb25JbmRleCB7XG4gICAgZ3JpZDogR3JpZDtcbiAgICBpZ25vcmVkR3JpZDogR3JpZDtcbiAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybTtcbiAgICBwaXRjaGZhY3RvcjogbnVtYmVyO1xuICAgIHNjcmVlblJpZ2h0Qm91bmRhcnk6IG51bWJlcjtcbiAgICBzY3JlZW5Cb3R0b21Cb3VuZGFyeTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtLFxuICAgICAgICBncmlkOiBHcmlkID0gbmV3IEdyaWQodHJhbnNmb3JtLndpZHRoICsgMiAqIHZpZXdwb3J0UGFkZGluZywgdHJhbnNmb3JtLmhlaWdodCArIDIgKiB2aWV3cG9ydFBhZGRpbmcsIDI1KSxcbiAgICAgICAgaWdub3JlZEdyaWQ6IEdyaWQgPSBuZXcgR3JpZCh0cmFuc2Zvcm0ud2lkdGggKyAyICogdmlld3BvcnRQYWRkaW5nLCB0cmFuc2Zvcm0uaGVpZ2h0ICsgMiAqIHZpZXdwb3J0UGFkZGluZywgMjUpXG4gICAgKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuXG4gICAgICAgIHRoaXMuZ3JpZCA9IGdyaWQ7XG4gICAgICAgIHRoaXMuaWdub3JlZEdyaWQgPSBpZ25vcmVkR3JpZDtcbiAgICAgICAgdGhpcy5waXRjaGZhY3RvciA9IE1hdGguY29zKHRyYW5zZm9ybS5fcGl0Y2gpICogdHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U7XG5cbiAgICAgICAgdGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5ID0gdHJhbnNmb3JtLndpZHRoICsgdmlld3BvcnRQYWRkaW5nO1xuICAgICAgICB0aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5ID0gdHJhbnNmb3JtLmhlaWdodCArIHZpZXdwb3J0UGFkZGluZztcbiAgICB9XG5cbiAgICBwbGFjZUNvbGxpc2lvbkJveChjb2xsaXNpb25Cb3g6IFNpbmdsZUNvbGxpc2lvbkJveCwgYWxsb3dPdmVybGFwOiBib29sZWFuLCB0ZXh0UGl4ZWxSYXRpbzogbnVtYmVyLCBwb3NNYXRyaXg6IG1hdDQpOiB7IGJveDogQXJyYXk8bnVtYmVyPiwgb2Zmc2NyZWVuOiBib29sZWFuIH0ge1xuICAgICAgICBjb25zdCBwcm9qZWN0ZWRQb2ludCA9IHRoaXMucHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8ocG9zTWF0cml4LCBjb2xsaXNpb25Cb3guYW5jaG9yUG9pbnRYLCBjb2xsaXNpb25Cb3guYW5jaG9yUG9pbnRZKTtcbiAgICAgICAgY29uc3QgdGlsZVRvVmlld3BvcnQgPSB0ZXh0UGl4ZWxSYXRpbyAqIHByb2plY3RlZFBvaW50LnBlcnNwZWN0aXZlUmF0aW87XG4gICAgICAgIGNvbnN0IHRsWCA9IGNvbGxpc2lvbkJveC54MSAqIHRpbGVUb1ZpZXdwb3J0ICsgcHJvamVjdGVkUG9pbnQucG9pbnQueDtcbiAgICAgICAgY29uc3QgdGxZID0gY29sbGlzaW9uQm94LnkxICogdGlsZVRvVmlld3BvcnQgKyBwcm9qZWN0ZWRQb2ludC5wb2ludC55O1xuICAgICAgICBjb25zdCBiclggPSBjb2xsaXNpb25Cb3gueDIgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lng7XG4gICAgICAgIGNvbnN0IGJyWSA9IGNvbGxpc2lvbkJveC55MiAqIHRpbGVUb1ZpZXdwb3J0ICsgcHJvamVjdGVkUG9pbnQucG9pbnQueTtcblxuICAgICAgICBpZiAoIWFsbG93T3ZlcmxhcCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ3JpZC5oaXRUZXN0KHRsWCwgdGxZLCBiclgsIGJyWSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBib3g6IFtdLFxuICAgICAgICAgICAgICAgICAgICBvZmZzY3JlZW46IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYm94OiBbdGxYLCB0bFksIGJyWCwgYnJZXSxcbiAgICAgICAgICAgIG9mZnNjcmVlbjogdGhpcy5pc09mZnNjcmVlbih0bFgsIHRsWSwgYnJYLCBiclkpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYXBwcm94aW1hdGVUaWxlRGlzdGFuY2UodGlsZURpc3RhbmNlOiBhbnksIGxhc3RTZWdtZW50QW5nbGU6IG51bWJlciwgcGl4ZWxzVG9UaWxlVW5pdHM6IG51bWJlciwgY2FtZXJhVG9BbmNob3JEaXN0YW5jZTogbnVtYmVyLCBwaXRjaFdpdGhNYXA6IGJvb2xlYW4pOiBudW1iZXIge1xuICAgICAgICAvLyBUaGlzIGlzIGEgcXVpY2sgYW5kIGRpcnR5IHNvbHV0aW9uIGZvciBjaG9zaW5nIHdoaWNoIGNvbGxpc2lvbiBjaXJjbGVzIHRvIHVzZSAoc2luY2UgY29sbGlzaW9uIGNpcmNsZXMgYXJlXG4gICAgICAgIC8vIGxhaWQgb3V0IGluIHRpbGUgdW5pdHMpLiBJZGVhbGx5LCBJIHRoaW5rIHdlIHNob3VsZCBnZW5lcmF0ZSBjb2xsaXNpb24gY2lyY2xlcyBvbiB0aGUgZmx5IGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzXG4gICAgICAgIC8vIGF0IHRoZSB0aW1lIHdlIGRvIGNvbGxpc2lvbiBkZXRlY3Rpb24uXG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvNTQ3NFxuXG4gICAgICAgIC8vIGluY2lkZW5jZVN0cmV0Y2ggaXMgdGhlIHJhdGlvIG9mIGhvdyBtdWNoIHkgc3BhY2UgYSBsYWJlbCB0YWtlcyB1cCBvbiBhIHRpbGUgd2hpbGUgZHJhd24gcGVycGVuZGljdWxhciB0byB0aGUgdmlld3BvcnQgdnNcbiAgICAgICAgLy8gIGhvdyBtdWNoIHNwYWNlIGl0IHdvdWxkIHRha2UgdXAgaWYgaXQgd2VyZSBkcmF3biBmbGF0IG9uIHRoZSB0aWxlXG4gICAgICAgIC8vIFVzaW5nIGxhdyBvZiBzaW5lcywgY2FtZXJhX3RvX2FuY2hvci9zaW4oZ3JvdW5kX2FuZ2xlKSA9IGNhbWVyYV90b19jZW50ZXIvc2luKGluY2lkZW5jZV9hbmdsZSlcbiAgICAgICAgLy8gSW5jaWRlbmNlIGFuZ2xlIDkwIC0+IGhlYWQgb24sIHNpbihpbmNpZGVuY2VfYW5nbGUpID0gMSwgbm8gc3RyZXRjaFxuICAgICAgICAvLyBJbmNpZGVuY2UgYW5nbGUgMSAtPiB2ZXJ5IG9ibGlxdWUsIHNpbihpbmNpZGVuY2VfYW5nbGUpID1+IDAsIGxvdHMgb2Ygc3RyZXRjaFxuICAgICAgICAvLyBncm91bmRfYW5nbGUgPSB1X3BpdGNoICsgUEkvMiAtPiBzaW4oZ3JvdW5kX2FuZ2xlKSA9IGNvcyh1X3BpdGNoKVxuICAgICAgICAvLyBpbmNpZGVuY2VTdHJldGNoID0gMSAvIHNpbihpbmNpZGVuY2VBbmdsZSlcblxuICAgICAgICBjb25zdCBpbmNpZGVuY2VTdHJldGNoID0gcGl0Y2hXaXRoTWFwID8gMSA6IGNhbWVyYVRvQW5jaG9yRGlzdGFuY2UgLyB0aGlzLnBpdGNoZmFjdG9yO1xuICAgICAgICBjb25zdCBsYXN0U2VnbWVudFRpbGUgPSB0aWxlRGlzdGFuY2UubGFzdFNlZ21lbnRWaWV3cG9ydERpc3RhbmNlICogcGl4ZWxzVG9UaWxlVW5pdHM7XG4gICAgICAgIHJldHVybiB0aWxlRGlzdGFuY2UucHJldlRpbGVEaXN0YW5jZSArXG4gICAgICAgICAgICBsYXN0U2VnbWVudFRpbGUgK1xuICAgICAgICAgICAgKGluY2lkZW5jZVN0cmV0Y2ggLSAxKSAqIGxhc3RTZWdtZW50VGlsZSAqIE1hdGguYWJzKE1hdGguc2luKGxhc3RTZWdtZW50QW5nbGUpKTtcbiAgICB9XG5cbiAgICBwbGFjZUNvbGxpc2lvbkNpcmNsZXMoY29sbGlzaW9uQ2lyY2xlczogQXJyYXk8bnVtYmVyPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dPdmVybGFwOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UGl4ZWxSYXRpbzogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sOiBhbnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVWZXJ0ZXhBcnJheTogU3ltYm9sTGluZVZlcnRleEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnbHlwaE9mZnNldEFycmF5OiBHbHlwaE9mZnNldEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NNYXRyaXg6IG1hdDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsUGxhbmVNYXRyaXg6IG1hdDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb2xsaXNpb25DaXJjbGVzOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwaXRjaFdpdGhNYXA6IGJvb2xlYW4pOiB7IGNpcmNsZXM6IEFycmF5PG51bWJlcj4sIG9mZnNjcmVlbjogYm9vbGVhbiB9IHtcbiAgICAgICAgY29uc3QgcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHByb2plY3RlZEFuY2hvciA9IHRoaXMucHJvamVjdEFuY2hvcihwb3NNYXRyaXgsIHN5bWJvbC5hbmNob3JYLCBzeW1ib2wuYW5jaG9yWSk7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdGlvbkNhY2hlID0ge307XG4gICAgICAgIGNvbnN0IGZvbnRTY2FsZSA9IGZvbnRTaXplIC8gMjQ7XG4gICAgICAgIGNvbnN0IGxpbmVPZmZzZXRYID0gc3ltYm9sLmxpbmVPZmZzZXRYICogZm9udFNpemU7XG4gICAgICAgIGNvbnN0IGxpbmVPZmZzZXRZID0gc3ltYm9sLmxpbmVPZmZzZXRZICogZm9udFNpemU7XG5cbiAgICAgICAgY29uc3QgdGlsZVVuaXRBbmNob3JQb2ludCA9IG5ldyBQb2ludChzeW1ib2wuYW5jaG9yWCwgc3ltYm9sLmFuY2hvclkpO1xuICAgICAgICAvLyBwcm9qZWN0aW9uLnByb2plY3QgZ2VuZXJhdGVzIE5EQyBjb29yZGluYXRlcywgYXMgb3Bwb3NlZCB0byB0aGVcbiAgICAgICAgLy8gcGl4ZWwtYmFzZWQgZ3JpZCBjb29yZGluYXRlcyBnZW5lcmF0ZWQgYnkgdGhpcy5wcm9qZWN0UG9pbnRcbiAgICAgICAgY29uc3QgbGFiZWxQbGFuZUFuY2hvclBvaW50ID1cbiAgICAgICAgICAgIHByb2plY3Rpb24ucHJvamVjdCh0aWxlVW5pdEFuY2hvclBvaW50LCBsYWJlbFBsYW5lTWF0cml4KS5wb2ludDtcbiAgICAgICAgY29uc3QgZmlyc3RBbmRMYXN0R2x5cGggPSBwcm9qZWN0aW9uLnBsYWNlRmlyc3RBbmRMYXN0R2x5cGgoXG4gICAgICAgICAgICBmb250U2NhbGUsXG4gICAgICAgICAgICBnbHlwaE9mZnNldEFycmF5LFxuICAgICAgICAgICAgbGluZU9mZnNldFgsXG4gICAgICAgICAgICBsaW5lT2Zmc2V0WSxcbiAgICAgICAgICAgIC8qZmxpcCovIGZhbHNlLFxuICAgICAgICAgICAgbGFiZWxQbGFuZUFuY2hvclBvaW50LFxuICAgICAgICAgICAgdGlsZVVuaXRBbmNob3JQb2ludCxcbiAgICAgICAgICAgIHN5bWJvbCxcbiAgICAgICAgICAgIGxpbmVWZXJ0ZXhBcnJheSxcbiAgICAgICAgICAgIGxhYmVsUGxhbmVNYXRyaXgsXG4gICAgICAgICAgICBwcm9qZWN0aW9uQ2FjaGUsXG4gICAgICAgICAgICAvKnJldHVybiB0aWxlIGRpc3RhbmNlKi8gdHJ1ZSk7XG5cbiAgICAgICAgbGV0IGNvbGxpc2lvbkRldGVjdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBlbnRpcmVseU9mZnNjcmVlbiA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgdGlsZVRvVmlld3BvcnQgPSBwcm9qZWN0ZWRBbmNob3IucGVyc3BlY3RpdmVSYXRpbyAqIHRleHRQaXhlbFJhdGlvO1xuICAgICAgICAvLyBwaXhlbHNUb1RpbGVVbml0cyBpcyB1c2VkIGZvciB0cmFuc2xhdGluZyBsaW5lIGdlb21ldHJ5IHRvIHRpbGUgdW5pdHNcbiAgICAgICAgLy8gLi4uIHNvIHdlIGNhcmUgYWJvdXQgJ3NjYWxlJyBidXQgbm90ICdwZXJzcGVjdGl2ZVJhdGlvJ1xuICAgICAgICAvLyBlcXVpdmFsZW50IHRvIHBpeGVsX3RvX3RpbGVfdW5pdHNcbiAgICAgICAgY29uc3QgcGl4ZWxzVG9UaWxlVW5pdHMgPSAxIC8gKHRleHRQaXhlbFJhdGlvICogc2NhbGUpO1xuXG4gICAgICAgIGxldCBmaXJzdFRpbGVEaXN0YW5jZSA9IDAsIGxhc3RUaWxlRGlzdGFuY2UgPSAwO1xuICAgICAgICBpZiAoZmlyc3RBbmRMYXN0R2x5cGgpIHtcbiAgICAgICAgICAgIGZpcnN0VGlsZURpc3RhbmNlID0gdGhpcy5hcHByb3hpbWF0ZVRpbGVEaXN0YW5jZShmaXJzdEFuZExhc3RHbHlwaC5maXJzdC50aWxlRGlzdGFuY2UsIGZpcnN0QW5kTGFzdEdseXBoLmZpcnN0LmFuZ2xlLCBwaXhlbHNUb1RpbGVVbml0cywgcHJvamVjdGVkQW5jaG9yLmNhbWVyYURpc3RhbmNlLCBwaXRjaFdpdGhNYXApO1xuICAgICAgICAgICAgbGFzdFRpbGVEaXN0YW5jZSA9IHRoaXMuYXBwcm94aW1hdGVUaWxlRGlzdGFuY2UoZmlyc3RBbmRMYXN0R2x5cGgubGFzdC50aWxlRGlzdGFuY2UsIGZpcnN0QW5kTGFzdEdseXBoLmxhc3QuYW5nbGUsIHBpeGVsc1RvVGlsZVVuaXRzLCBwcm9qZWN0ZWRBbmNob3IuY2FtZXJhRGlzdGFuY2UsIHBpdGNoV2l0aE1hcCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGNvbGxpc2lvbkNpcmNsZXMubGVuZ3RoOyBrICs9IDUpIHtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvclBvaW50WCA9IGNvbGxpc2lvbkNpcmNsZXNba107XG4gICAgICAgICAgICBjb25zdCBhbmNob3JQb2ludFkgPSBjb2xsaXNpb25DaXJjbGVzW2sgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVVbml0UmFkaXVzID0gY29sbGlzaW9uQ2lyY2xlc1trICsgMl07XG4gICAgICAgICAgICBjb25zdCBib3hTaWduZWREaXN0YW5jZUZyb21BbmNob3IgPSBjb2xsaXNpb25DaXJjbGVzW2sgKyAzXTtcbiAgICAgICAgICAgIGlmICghZmlyc3RBbmRMYXN0R2x5cGggfHxcbiAgICAgICAgICAgICAgICAoYm94U2lnbmVkRGlzdGFuY2VGcm9tQW5jaG9yIDwgLWZpcnN0VGlsZURpc3RhbmNlKSB8fFxuICAgICAgICAgICAgICAgIChib3hTaWduZWREaXN0YW5jZUZyb21BbmNob3IgPiBsYXN0VGlsZURpc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBsYWJlbCBlaXRoZXIgZG9lc24ndCBmaXQgb24gaXRzIGxpbmUgb3Igd2VcbiAgICAgICAgICAgICAgICAvLyBkb24ndCBuZWVkIHRvIHVzZSB0aGlzIGNpcmNsZSBiZWNhdXNlIHRoZSBsYWJlbFxuICAgICAgICAgICAgICAgIC8vIGRvZXNuJ3QgZXh0ZW5kIHRoaXMgZmFyLiBFaXRoZXIgd2F5LCBtYXJrIHRoZSBjaXJjbGUgdW51c2VkLlxuICAgICAgICAgICAgICAgIG1hcmtDb2xsaXNpb25DaXJjbGVVc2VkKGNvbGxpc2lvbkNpcmNsZXMsIGssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcHJvamVjdGVkUG9pbnQgPSB0aGlzLnByb2plY3RQb2ludChwb3NNYXRyaXgsIGFuY2hvclBvaW50WCwgYW5jaG9yUG9pbnRZKTtcbiAgICAgICAgICAgIGNvbnN0IHJhZGl1cyA9IHRpbGVVbml0UmFkaXVzICogdGlsZVRvVmlld3BvcnQ7XG5cbiAgICAgICAgICAgIGNvbnN0IGF0TGVhc3RPbmVDaXJjbGVQbGFjZWQgPSBwbGFjZWRDb2xsaXNpb25DaXJjbGVzLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBpZiAoYXRMZWFzdE9uZUNpcmNsZVBsYWNlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGR4ID0gcHJvamVjdGVkUG9pbnQueCAtIHBsYWNlZENvbGxpc2lvbkNpcmNsZXNbcGxhY2VkQ29sbGlzaW9uQ2lyY2xlcy5sZW5ndGggLSA0XTtcbiAgICAgICAgICAgICAgICBjb25zdCBkeSA9IHByb2plY3RlZFBvaW50LnkgLSBwbGFjZWRDb2xsaXNpb25DaXJjbGVzW3BsYWNlZENvbGxpc2lvbkNpcmNsZXMubGVuZ3RoIC0gM107XG4gICAgICAgICAgICAgICAgLy8gVGhlIGNpcmNsZSBlZGdlcyB0b3VjaCB3aGVuIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMgaXMgMnggdGhlIHJhZGl1c1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGRpc3RhbmNlIGlzIDF4IHRoZSByYWRpdXMsIHRoZXkncmUgZG91YmxlZCB1cCwgYW5kIHdlIGNvdWxkIHJlbW92ZVxuICAgICAgICAgICAgICAgIC8vIGV2ZXJ5IG90aGVyIGNpcmNsZSB3aGlsZSBrZWVwaW5nIHRoZW0gYWxsIGluIHRvdWNoLlxuICAgICAgICAgICAgICAgIC8vIFdlIGFjdHVhbGx5IHN0YXJ0IHJlbW92aW5nIGNpcmNsZXMgd2hlbiB0aGUgZGlzdGFuY2UgaXMg4oiaMnggdGhlIHJhZGl1czpcbiAgICAgICAgICAgICAgICAvLyAgdGhpbm5pbmcgdGhlIG51bWJlciBvZiBjaXJjbGVzIGFzIG11Y2ggYXMgcG9zc2libGUgaXMgYSBtYWpvciBwZXJmb3JtYW5jZSB3aW4sXG4gICAgICAgICAgICAgICAgLy8gIGFuZCB0aGUgc21hbGwgZ2FwcyBpbnRyb2R1Y2VkIGRvbid0IG1ha2UgYSB2ZXJ5IG5vdGljZWFibGUgZGlmZmVyZW5jZS5cbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZWRUb29EZW5zZWx5ID0gcmFkaXVzICogcmFkaXVzICogMiA+IGR4ICogZHggKyBkeSAqIGR5O1xuICAgICAgICAgICAgICAgIGlmIChwbGFjZWRUb29EZW5zZWx5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0TGVhc3RPbmVNb3JlQ2lyY2xlID0gKGsgKyA4KSA8IGNvbGxpc2lvbkNpcmNsZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXRMZWFzdE9uZU1vcmVDaXJjbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRCb3hEaXN0YW5jZVRvQW5jaG9yID0gY29sbGlzaW9uQ2lyY2xlc1trICsgOF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKG5leHRCb3hEaXN0YW5jZVRvQW5jaG9yID4gLWZpcnN0VGlsZURpc3RhbmNlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKG5leHRCb3hEaXN0YW5jZVRvQW5jaG9yIDwgbGFzdFRpbGVEaXN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIaWRlIHNpZ25pZmljYW50bHkgb3ZlcmxhcHBpbmcgY2lyY2xlcywgdW5sZXNzIHRoaXMgaXMgdGhlIGxhc3Qgb25lIHdlIGNhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZSwgaW4gd2hpY2ggY2FzZSB3ZSB3YW50IHRvIGtlZXAgaXQgaW4gcGxhY2UgZXZlbiBpZiBpdCdzIHRpZ2h0bHkgcGFja2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2l0aCB0aGUgb25lIGJlZm9yZSBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrQ29sbGlzaW9uQ2lyY2xlVXNlZChjb2xsaXNpb25DaXJjbGVzLCBrLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb2xsaXNpb25Cb3hBcnJheUluZGV4ID0gayAvIDU7XG4gICAgICAgICAgICBwbGFjZWRDb2xsaXNpb25DaXJjbGVzLnB1c2gocHJvamVjdGVkUG9pbnQueCwgcHJvamVjdGVkUG9pbnQueSwgcmFkaXVzLCBjb2xsaXNpb25Cb3hBcnJheUluZGV4KTtcbiAgICAgICAgICAgIG1hcmtDb2xsaXNpb25DaXJjbGVVc2VkKGNvbGxpc2lvbkNpcmNsZXMsIGssIHRydWUpO1xuXG4gICAgICAgICAgICBlbnRpcmVseU9mZnNjcmVlbiA9IGVudGlyZWx5T2Zmc2NyZWVuICYmIHRoaXMuaXNPZmZzY3JlZW4ocHJvamVjdGVkUG9pbnQueCAtIHJhZGl1cywgcHJvamVjdGVkUG9pbnQueSAtIHJhZGl1cywgcHJvamVjdGVkUG9pbnQueCArIHJhZGl1cywgcHJvamVjdGVkUG9pbnQueSArIHJhZGl1cyk7XG5cbiAgICAgICAgICAgIGlmICghYWxsb3dPdmVybGFwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3JpZC5oaXRUZXN0Q2lyY2xlKHByb2plY3RlZFBvaW50LngsIHByb2plY3RlZFBvaW50LnksIHJhZGl1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG93Q29sbGlzaW9uQ2lyY2xlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzY3JlZW46IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgZWFybHkgZXhpdCBpZiB3ZSdyZSBzaG93aW5nIHRoZSBkZWJ1ZyBjaXJjbGVzIGJlY2F1c2Ugd2Ugc3RpbGwgd2FudCB0byBjYWxjdWxhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIGNpcmNsZXMgYXJlIGluIHVzZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uRGV0ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNpcmNsZXM6IGNvbGxpc2lvbkRldGVjdGVkID8gW10gOiBwbGFjZWRDb2xsaXNpb25DaXJjbGVzLFxuICAgICAgICAgICAgb2Zmc2NyZWVuOiBlbnRpcmVseU9mZnNjcmVlblxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJlY2F1c2UgdGhlIGdlb21ldHJpZXMgaW4gdGhlIENvbGxpc2lvbkluZGV4IGFyZSBhbiBhcHByb3hpbWF0aW9uIG9mIHRoZSBzaGFwZSBvZlxuICAgICAqIHN5bWJvbHMgb24gdGhlIG1hcCwgd2UgdXNlIHRoZSBDb2xsaXNpb25JbmRleCB0byBsb29rIHVwIHRoZSBzeW1ib2wgcGFydCBvZlxuICAgICAqIGBxdWVyeVJlbmRlcmVkRmVhdHVyZXNgLiBOb24tc3ltYm9sIGZlYXR1cmVzIGFyZSBsb29rZWQgdXAgdGlsZS1ieS10aWxlLCBhbmRcbiAgICAgKiBoaXN0b3JpY2FsbHkgY29sbGlzaW9ucyB3ZXJlIGhhbmRsZWQgcGVyLXRpbGUuXG4gICAgICpcbiAgICAgKiBGb3IgdGhpcyByZWFzb24sIGBxdWVyeVJlbmRlcmVkU3ltYm9sc2Agc3RpbGwgdGFrZXMgdGlsZSBjb29yZGluYXRlIGlucHV0cyBhbmRcbiAgICAgKiBjb252ZXJ0cyB0aGVtIGJhY2sgdG8gdmlld3BvcnQgY29vcmRpbmF0ZXMuIFRoZSBjaGFuZ2UgdG8gYSB2aWV3cG9ydCBjb29yZGluYXRlXG4gICAgICogQ29sbGlzaW9uSW5kZXggbWVhbnMgaXQncyBub3cgcG9zc2libGUgdG8gcmUtZGVzaWduIHF1ZXJ5UmVuZGVyZWRTeW1ib2xzIHRvXG4gICAgICogcnVuIGVudGlyZWx5IGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzLCBzYXZpbmcgdW5uZWNlc3NhcnkgY29udmVyc2lvbnMuXG4gICAgICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy81NDc1XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHF1ZXJ5UmVuZGVyZWRTeW1ib2xzKHF1ZXJ5R2VvbWV0cnk6IGFueSwgdGlsZUNvb3JkOiBPdmVyc2NhbGVkVGlsZUlELCB0ZXh0UGl4ZWxSYXRpbzogbnVtYmVyLCBjb2xsaXNpb25Cb3hBcnJheTogQ29sbGlzaW9uQm94QXJyYXksIHNvdXJjZUlEOiBzdHJpbmcsIGJ1Y2tldEluc3RhbmNlSWRzOiB7W251bWJlcl06IGJvb2xlYW59KSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZUxheWVyRmVhdHVyZXMgPSB7fTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICAgICAgaWYgKHF1ZXJ5R2VvbWV0cnkubGVuZ3RoID09PSAwIHx8ICh0aGlzLmdyaWQua2V5c0xlbmd0aCgpID09PSAwICYmIHRoaXMuaWdub3JlZEdyaWQua2V5c0xlbmd0aCgpID09PSAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvc01hdHJpeCA9IHRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeCh0aWxlQ29vcmQudG9VbndyYXBwZWQoKSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSBbXTtcbiAgICAgICAgbGV0IG1pblggPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IG1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IG1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIGxldCBtYXhZID0gLUluZmluaXR5O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHF1ZXJ5R2VvbWV0cnkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHJpbmcgPSBxdWVyeUdlb21ldHJ5W2ldO1xuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCByaW5nLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IHRoaXMucHJvamVjdFBvaW50KHBvc01hdHJpeCwgcmluZ1trXS54LCByaW5nW2tdLnkpO1xuICAgICAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBwLngpO1xuICAgICAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBwLnkpO1xuICAgICAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBwLngpO1xuICAgICAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCBwLnkpO1xuICAgICAgICAgICAgICAgIHF1ZXJ5LnB1c2gocCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aWxlSUQgPSB0aWxlQ29vcmQua2V5O1xuXG4gICAgICAgIGNvbnN0IHRoaXNUaWxlRmVhdHVyZXMgPSBbXTtcbiAgICAgICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLmdyaWQucXVlcnkobWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIE9ubHkgaW5jbHVkZSByZXN1bHRzIGZyb20gdGhlIG1hdGNoaW5nIHNvdXJjZSwgdGlsZSBhbmQgdmVyc2lvbiBvZiB0aGUgYnVja2V0IHRoYXQgd2FzIGluZGV4ZWRcbiAgICAgICAgICAgIGlmIChmZWF0dXJlc1tpXS5zb3VyY2VJRCA9PT0gc291cmNlSUQgJiZcbiAgICAgICAgICAgICAgICBmZWF0dXJlc1tpXS50aWxlSUQgPT09IHRpbGVJRCAmJlxuICAgICAgICAgICAgICAgIGJ1Y2tldEluc3RhbmNlSWRzW2ZlYXR1cmVzW2ldLmJ1Y2tldEluc3RhbmNlSWRdKSB7XG4gICAgICAgICAgICAgICAgdGhpc1RpbGVGZWF0dXJlcy5wdXNoKGZlYXR1cmVzW2ldLmJveEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpZ25vcmVkRmVhdHVyZXMgPSB0aGlzLmlnbm9yZWRHcmlkLnF1ZXJ5KG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlnbm9yZWRGZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGlnbm9yZWRGZWF0dXJlc1tpXS5zb3VyY2VJRCA9PT0gc291cmNlSUQgJiZcbiAgICAgICAgICAgICAgICBpZ25vcmVkRmVhdHVyZXNbaV0udGlsZUlEID09PSB0aWxlSUQgJiZcbiAgICAgICAgICAgICAgICBidWNrZXRJbnN0YW5jZUlkc1tpZ25vcmVkRmVhdHVyZXNbaV0uYnVja2V0SW5zdGFuY2VJZF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzVGlsZUZlYXR1cmVzLnB1c2goaWdub3JlZEZlYXR1cmVzW2ldLmJveEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpc1RpbGVGZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYmxvY2tpbmcgPSBjb2xsaXNpb25Cb3hBcnJheS5nZXQodGhpc1RpbGVGZWF0dXJlc1tpXSk7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VMYXllciA9IGJsb2NraW5nLnNvdXJjZUxheWVySW5kZXg7XG4gICAgICAgICAgICBjb25zdCBmZWF0dXJlSW5kZXggPSBibG9ja2luZy5mZWF0dXJlSW5kZXg7XG4gICAgICAgICAgICBjb25zdCBidWNrZXRJbmRleCA9IGJsb2NraW5nLmJ1Y2tldEluZGV4O1xuXG4gICAgICAgICAgICAvLyBTa2lwIGFscmVhZHkgc2VlbiBmZWF0dXJlcy5cbiAgICAgICAgICAgIGlmIChzb3VyY2VMYXllckZlYXR1cmVzW3NvdXJjZUxheWVyXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc291cmNlTGF5ZXJGZWF0dXJlc1tzb3VyY2VMYXllcl0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzb3VyY2VMYXllckZlYXR1cmVzW3NvdXJjZUxheWVyXVtmZWF0dXJlSW5kZXhdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VMYXllckZlYXR1cmVzW3NvdXJjZUxheWVyXVtmZWF0dXJlSW5kZXhdID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc291cmNlTGF5ZXJGZWF0dXJlc1tzb3VyY2VMYXllcl1bZmVhdHVyZUluZGV4XVtidWNrZXRJbmRleF0pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcXVlcnkgaW50ZXJzZWN0cyB3aXRoIHRoZSBmZWF0dXJlIGJveFxuICAgICAgICAgICAgLy8gXCJDb2xsaXNpb24gQ2lyY2xlc1wiIGZvciBsaW5lIGxhYmVscyBhcmUgdHJlYXRlZCBhcyBib3hlcyBoZXJlXG4gICAgICAgICAgICAvLyBTaW5jZSB0aGVyZSdzIG5vIGFjdHVhbCBjb2xsaXNpb24gdGFraW5nIHBsYWNlLCB0aGUgY2lyY2xlIHZzLiBzcXVhcmVcbiAgICAgICAgICAgIC8vIGRpc3RpbmN0aW9uIGRvZXNuJ3QgbWF0dGVyIGFzIG11Y2gsIGFuZCBib3ggZ2VvbWV0cnkgaXMgZWFzaWVyXG4gICAgICAgICAgICAvLyB0byB3b3JrIHdpdGguXG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0ZWRQb2ludCA9IHRoaXMucHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8ocG9zTWF0cml4LCBibG9ja2luZy5hbmNob3JQb2ludFgsIGJsb2NraW5nLmFuY2hvclBvaW50WSk7XG4gICAgICAgICAgICBjb25zdCB0aWxlVG9WaWV3cG9ydCA9IHRleHRQaXhlbFJhdGlvICogcHJvamVjdGVkUG9pbnQucGVyc3BlY3RpdmVSYXRpbztcbiAgICAgICAgICAgIGNvbnN0IHgxID0gYmxvY2tpbmcueDEgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lng7XG4gICAgICAgICAgICBjb25zdCB5MSA9IGJsb2NraW5nLnkxICogdGlsZVRvVmlld3BvcnQgKyBwcm9qZWN0ZWRQb2ludC5wb2ludC55O1xuICAgICAgICAgICAgY29uc3QgeDIgPSBibG9ja2luZy54MiAqIHRpbGVUb1ZpZXdwb3J0ICsgcHJvamVjdGVkUG9pbnQucG9pbnQueDtcbiAgICAgICAgICAgIGNvbnN0IHkyID0gYmxvY2tpbmcueTIgKiB0aWxlVG9WaWV3cG9ydCArIHByb2plY3RlZFBvaW50LnBvaW50Lnk7XG4gICAgICAgICAgICBjb25zdCBiYm94ID0gW1xuICAgICAgICAgICAgICAgIG5ldyBQb2ludCh4MSwgeTEpLFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludCh4MiwgeTEpLFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludCh4MiwgeTIpLFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludCh4MSwgeTIpXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKCFpbnRlcnNlY3Rpb25UZXN0cy5wb2x5Z29uSW50ZXJzZWN0c1BvbHlnb24ocXVlcnksIGJib3gpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNvdXJjZUxheWVyRmVhdHVyZXNbc291cmNlTGF5ZXJdW2ZlYXR1cmVJbmRleF1bYnVja2V0SW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXNUaWxlRmVhdHVyZXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBpbnNlcnRDb2xsaXNpb25Cb3goY29sbGlzaW9uQm94OiBBcnJheTxudW1iZXI+LCBpZ25vcmVQbGFjZW1lbnQ6IGJvb2xlYW4sIHRpbGVJRDogbnVtYmVyLCBzb3VyY2VJRDogc3RyaW5nLCBidWNrZXRJbnN0YW5jZUlkOiBudW1iZXIsIGJveFN0YXJ0SW5kZXg6IG51bWJlcikge1xuICAgICAgICBjb25zdCBncmlkID0gaWdub3JlUGxhY2VtZW50ID8gdGhpcy5pZ25vcmVkR3JpZCA6IHRoaXMuZ3JpZDtcblxuICAgICAgICBjb25zdCBrZXkgPSB7IHRpbGVJRDogdGlsZUlELCBzb3VyY2VJRDogc291cmNlSUQsIGJ1Y2tldEluc3RhbmNlSWQ6IGJ1Y2tldEluc3RhbmNlSWQsIGJveEluZGV4OiBib3hTdGFydEluZGV4IH07XG4gICAgICAgIGdyaWQuaW5zZXJ0KGtleSwgY29sbGlzaW9uQm94WzBdLCBjb2xsaXNpb25Cb3hbMV0sIGNvbGxpc2lvbkJveFsyXSwgY29sbGlzaW9uQm94WzNdKTtcbiAgICB9XG5cbiAgICBpbnNlcnRDb2xsaXNpb25DaXJjbGVzKGNvbGxpc2lvbkNpcmNsZXM6IEFycmF5PG51bWJlcj4sIGlnbm9yZVBsYWNlbWVudDogYm9vbGVhbiwgdGlsZUlEOiBudW1iZXIsIHNvdXJjZUlEOiBzdHJpbmcsIGJ1Y2tldEluc3RhbmNlSWQ6IG51bWJlciwgYm94U3RhcnRJbmRleDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGdyaWQgPSBpZ25vcmVQbGFjZW1lbnQgPyB0aGlzLmlnbm9yZWRHcmlkIDogdGhpcy5ncmlkO1xuXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgY29sbGlzaW9uQ2lyY2xlcy5sZW5ndGg7IGsgKz0gNCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0geyB0aWxlSUQ6IHRpbGVJRCwgc291cmNlSUQ6IHNvdXJjZUlELCBidWNrZXRJbnN0YW5jZUlkOiBidWNrZXRJbnN0YW5jZUlkLCBib3hJbmRleDogYm94U3RhcnRJbmRleCArIGNvbGxpc2lvbkNpcmNsZXNbayArIDNdIH07XG4gICAgICAgICAgICBncmlkLmluc2VydENpcmNsZShrZXksIGNvbGxpc2lvbkNpcmNsZXNba10sIGNvbGxpc2lvbkNpcmNsZXNbayArIDFdLCBjb2xsaXNpb25DaXJjbGVzW2sgKyAyXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9qZWN0QW5jaG9yKHBvc01hdHJpeDogbWF0NCwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgcCA9IFt4LCB5LCAwLCAxXTtcbiAgICAgICAgcHJvamVjdGlvbi54eVRyYW5zZm9ybU1hdDQocCwgcCwgcG9zTWF0cml4KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBlcnNwZWN0aXZlUmF0aW86IDAuNSArIDAuNSAqICh0aGlzLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlIC8gcFszXSksXG4gICAgICAgICAgICBjYW1lcmFEaXN0YW5jZTogcFszXVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByb2plY3RQb2ludChwb3NNYXRyaXg6IG1hdDQsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHAgPSBbeCwgeSwgMCwgMV07XG4gICAgICAgIHByb2plY3Rpb24ueHlUcmFuc2Zvcm1NYXQ0KHAsIHAsIHBvc01hdHJpeCk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgICAgICAoKChwWzBdIC8gcFszXSArIDEpIC8gMikgKiB0aGlzLnRyYW5zZm9ybS53aWR0aCkgKyB2aWV3cG9ydFBhZGRpbmcsXG4gICAgICAgICAgICAoKCgtcFsxXSAvIHBbM10gKyAxKSAvIDIpICogdGhpcy50cmFuc2Zvcm0uaGVpZ2h0KSArIHZpZXdwb3J0UGFkZGluZ1xuICAgICAgICApO1xuICAgIH1cblxuICAgIHByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvKHBvc01hdHJpeDogbWF0NCwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgcCA9IFt4LCB5LCAwLCAxXTtcbiAgICAgICAgcHJvamVjdGlvbi54eVRyYW5zZm9ybU1hdDQocCwgcCwgcG9zTWF0cml4KTtcbiAgICAgICAgY29uc3QgYSA9IG5ldyBQb2ludChcbiAgICAgICAgICAgICgoKHBbMF0gLyBwWzNdICsgMSkgLyAyKSAqIHRoaXMudHJhbnNmb3JtLndpZHRoKSArIHZpZXdwb3J0UGFkZGluZyxcbiAgICAgICAgICAgICgoKC1wWzFdIC8gcFszXSArIDEpIC8gMikgKiB0aGlzLnRyYW5zZm9ybS5oZWlnaHQpICsgdmlld3BvcnRQYWRkaW5nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb2ludDogYSxcbiAgICAgICAgICAgIC8vIFNlZSBwZXJzcGVjdGl2ZSByYXRpbyBjb21tZW50IGluIHN5bWJvbF9zZGYudmVydGV4XG4gICAgICAgICAgICAvLyBXZSdyZSBkb2luZyBjb2xsaXNpb24gZGV0ZWN0aW9uIGluIHZpZXdwb3J0IHNwYWNlIHNvIHdlIG5lZWRcbiAgICAgICAgICAgIC8vIHRvIHNjYWxlIGRvd24gYm94ZXMgaW4gdGhlIGRpc3RhbmNlXG4gICAgICAgICAgICBwZXJzcGVjdGl2ZVJhdGlvOiAwLjUgKyAwLjUgKiAodGhpcy50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSAvIHBbM10pXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaXNPZmZzY3JlZW4oeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcikge1xuICAgICAgICByZXR1cm4geDIgPCB2aWV3cG9ydFBhZGRpbmcgfHwgeDEgPj0gdGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5IHx8IHkyIDwgdmlld3BvcnRQYWRkaW5nIHx8IHkxID4gdGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG1hcmtDb2xsaXNpb25DaXJjbGVVc2VkKGNvbGxpc2lvbkNpcmNsZXM6IEFycmF5PG51bWJlcj4sIGluZGV4OiBudW1iZXIsIHVzZWQ6IGJvb2xlYW4pIHtcbiAgICBjb2xsaXNpb25DaXJjbGVzW2luZGV4ICsgNF0gPSB1c2VkID8gMSA6IDA7XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbGxpc2lvbkluZGV4O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgdW5pcXVlSWQsIGRlZXBFcXVhbCwgcGFyc2VDYWNoZUNvbnRyb2wgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgZGVzZXJpYWxpemUgYXMgZGVzZXJpYWxpemVCdWNrZXQgfSBmcm9tICcuLi9kYXRhL2J1Y2tldCc7XG5pbXBvcnQgRmVhdHVyZUluZGV4IGZyb20gJy4uL2RhdGEvZmVhdHVyZV9pbmRleCc7XG5pbXBvcnQgdnQgZnJvbSAnQG1hcGJveC92ZWN0b3ItdGlsZSc7XG5pbXBvcnQgUHJvdG9idWYgZnJvbSAncGJmJztcbmltcG9ydCBHZW9KU09ORmVhdHVyZSBmcm9tICcuLi91dGlsL3ZlY3RvcnRpbGVfdG9fZ2VvanNvbic7XG5pbXBvcnQgZmVhdHVyZUZpbHRlciBmcm9tICcuLi9zdHlsZS1zcGVjL2ZlYXR1cmVfZmlsdGVyJztcbmltcG9ydCBDb2xsaXNpb25JbmRleCBmcm9tICcuLi9zeW1ib2wvY29sbGlzaW9uX2luZGV4JztcbmltcG9ydCBTeW1ib2xCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldCc7XG5pbXBvcnQgeyBSYXN0ZXJCb3VuZHNBcnJheSwgQ29sbGlzaW9uQm94QXJyYXkgfSBmcm9tICcuLi9kYXRhL2FycmF5X3R5cGVzJztcbmltcG9ydCByYXN0ZXJCb3VuZHNBdHRyaWJ1dGVzIGZyb20gJy4uL2RhdGEvcmFzdGVyX2JvdW5kc19hdHRyaWJ1dGVzJztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vcmVuZGVyL3RleHR1cmUnO1xuaW1wb3J0IFNlZ21lbnRWZWN0b3IgZnJvbSAnLi4vZGF0YS9zZWdtZW50JztcbmltcG9ydCB7IFRyaWFuZ2xlSW5kZXhBcnJheSB9IGZyb20gJy4uL2RhdGEvaW5kZXhfYXJyYXlfdHlwZSc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuXG5jb25zdCBDTE9DS19TS0VXX1JFVFJZX1RJTUVPVVQgPSAzMDAwMDtcblxuaW1wb3J0IHR5cGUge0J1Y2tldH0gZnJvbSAnLi4vZGF0YS9idWNrZXQnO1xuaW1wb3J0IHR5cGUgU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSB7V29ya2VyVGlsZVJlc3VsdH0gZnJvbSAnLi93b3JrZXJfc291cmNlJztcbmltcG9ydCB0eXBlIERFTURhdGEgZnJvbSAnLi4vZGF0YS9kZW1fZGF0YSc7XG5pbXBvcnQgdHlwZSB7UkdCQUltYWdlLCBBbHBoYUltYWdlfSBmcm9tICcuLi91dGlsL2ltYWdlJztcbmltcG9ydCB0eXBlIE1hc2sgZnJvbSAnLi4vcmVuZGVyL3RpbGVfbWFzayc7XG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuaW1wb3J0IHR5cGUgSW5kZXhCdWZmZXIgZnJvbSAnLi4vZ2wvaW5kZXhfYnVmZmVyJztcbmltcG9ydCB0eXBlIFZlcnRleEJ1ZmZlciBmcm9tICcuLi9nbC92ZXJ0ZXhfYnVmZmVyJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuL3RpbGVfaWQnO1xuaW1wb3J0IHR5cGUgRnJhbWVidWZmZXIgZnJvbSAnLi4vZ2wvZnJhbWVidWZmZXInO1xuaW1wb3J0IHR5cGUge1BlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmd9IGZyb20gJy4uL3R5cGVzL3BlcmZvcm1hbmNlX3Jlc291cmNlX3RpbWluZyc7XG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybSc7XG5cbmV4cG9ydCB0eXBlIFRpbGVTdGF0ZSA9XG4gICAgfCAnbG9hZGluZycgICAvLyBUaWxlIGRhdGEgaXMgaW4gdGhlIHByb2Nlc3Mgb2YgbG9hZGluZy5cbiAgICB8ICdsb2FkZWQnICAgIC8vIFRpbGUgZGF0YSBoYXMgYmVlbiBsb2FkZWQuIFRpbGUgY2FuIGJlIHJlbmRlcmVkLlxuICAgIHwgJ3JlbG9hZGluZycgLy8gVGlsZSBkYXRhIGhhcyBiZWVuIGxvYWRlZCBhbmQgaXMgYmVpbmcgdXBkYXRlZC4gVGlsZSBjYW4gYmUgcmVuZGVyZWQuXG4gICAgfCAndW5sb2FkZWQnICAvLyBUaWxlIGRhdGEgaGFzIGJlZW4gZGVsZXRlZC5cbiAgICB8ICdlcnJvcmVkJyAgIC8vIFRpbGUgZGF0YSB3YXMgbm90IGxvYWRlZCBiZWNhdXNlIG9mIGFuIGVycm9yLlxuICAgIHwgJ2V4cGlyZWQnOyAgLyogVGlsZSBkYXRhIHdhcyBwcmV2aW91c2x5IGxvYWRlZCwgYnV0IGhhcyBleHBpcmVkIHBlciBpdHNcbiAgICAgICAgICAgICAgICAgICAqIEhUVFAgaGVhZGVycyBhbmQgaXMgaW4gdGhlIHByb2Nlc3Mgb2YgcmVmcmVzaGluZy4gKi9cblxuLyoqXG4gKiBBIHRpbGUgb2JqZWN0IGlzIHRoZSBjb21iaW5hdGlvbiBvZiBhIENvb3JkaW5hdGUsIHdoaWNoIGRlZmluZXNcbiAqIGl0cyBwbGFjZSwgYXMgd2VsbCBhcyBhIHVuaXF1ZSBJRCBhbmQgZGF0YSB0cmFja2luZyBmb3IgaXRzIGNvbnRlbnRcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBUaWxlIHtcbiAgICB0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQ7XG4gICAgdWlkOiBudW1iZXI7XG4gICAgdXNlczogbnVtYmVyO1xuICAgIHRpbGVTaXplOiBudW1iZXI7XG4gICAgYnVja2V0czoge1tzdHJpbmddOiBCdWNrZXR9O1xuICAgIGljb25BdGxhc0ltYWdlOiA/UkdCQUltYWdlO1xuICAgIGljb25BdGxhc1RleHR1cmU6IFRleHR1cmU7XG4gICAgZ2x5cGhBdGxhc0ltYWdlOiA/QWxwaGFJbWFnZTtcbiAgICBnbHlwaEF0bGFzVGV4dHVyZTogVGV4dHVyZTtcbiAgICBleHBpcmF0aW9uVGltZTogYW55O1xuICAgIGV4cGlyZWRSZXF1ZXN0Q291bnQ6IG51bWJlcjtcbiAgICBzdGF0ZTogVGlsZVN0YXRlO1xuICAgIHRpbWVBZGRlZDogYW55O1xuICAgIGZhZGVFbmRUaW1lOiBhbnk7XG4gICAgcmF3VGlsZURhdGE6IEFycmF5QnVmZmVyO1xuICAgIGNvbGxpc2lvbkJveEFycmF5OiA/Q29sbGlzaW9uQm94QXJyYXk7XG4gICAgY29sbGlzaW9uSW5kZXg6ID9Db2xsaXNpb25JbmRleDtcbiAgICBmZWF0dXJlSW5kZXg6ID9GZWF0dXJlSW5kZXg7XG4gICAgcmVkb1doZW5Eb25lOiBib29sZWFuO1xuICAgIHNob3dDb2xsaXNpb25Cb3hlczogYm9vbGVhbjtcbiAgICBwbGFjZW1lbnRTb3VyY2U6IGFueTtcbiAgICB3b3JrZXJJRDogbnVtYmVyIHwgdm9pZDtcbiAgICB2dExheWVyczoge1tzdHJpbmddOiBWZWN0b3JUaWxlTGF5ZXJ9O1xuICAgIG1hc2s6IE1hc2s7XG5cbiAgICBuZWlnaGJvcmluZ1RpbGVzOiA/T2JqZWN0O1xuICAgIGRlbTogP0RFTURhdGE7XG4gICAgYWJvcnRlZDogP2Jvb2xlYW47XG4gICAgbWFza2VkQm91bmRzQnVmZmVyOiA/VmVydGV4QnVmZmVyO1xuICAgIG1hc2tlZEluZGV4QnVmZmVyOiA/SW5kZXhCdWZmZXI7XG4gICAgc2VnbWVudHM6ID9TZWdtZW50VmVjdG9yO1xuICAgIG5lZWRzSGlsbHNoYWRlUHJlcGFyZTogP2Jvb2xlYW5cbiAgICByZXF1ZXN0OiBhbnk7XG4gICAgdGV4dHVyZTogYW55O1xuICAgIGZibzogP0ZyYW1lYnVmZmVyO1xuICAgIGRlbVRleHR1cmU6ID9UZXh0dXJlO1xuICAgIHJlZnJlc2hlZFVwb25FeHBpcmF0aW9uOiBib29sZWFuO1xuICAgIHJlbG9hZENhbGxiYWNrOiBhbnk7XG4gICAgcmVzb3VyY2VUaW1pbmc6ID9BcnJheTxQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nPjtcbiAgICBxdWVyeVBhZGRpbmc6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T3ZlcnNjYWxlZFRpbGVJRH0gdGlsZUlEXG4gICAgICogQHBhcmFtIHNpemVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHNpemU6IG51bWJlcikge1xuICAgICAgICB0aGlzLnRpbGVJRCA9IHRpbGVJRDtcbiAgICAgICAgdGhpcy51aWQgPSB1bmlxdWVJZCgpO1xuICAgICAgICB0aGlzLnVzZXMgPSAwO1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5idWNrZXRzID0ge307XG4gICAgICAgIHRoaXMuZXhwaXJhdGlvblRpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLnF1ZXJ5UGFkZGluZyA9IDA7XG5cbiAgICAgICAgLy8gQ291bnRzIHRoZSBudW1iZXIgb2YgdGltZXMgYSByZXNwb25zZSB3YXMgYWxyZWFkeSBleHBpcmVkIHdoZW5cbiAgICAgICAgLy8gcmVjZWl2ZWQuIFdlJ3JlIHVzaW5nIHRoaXMgdG8gYWRkIGEgZGVsYXkgd2hlbiBtYWtpbmcgYSBuZXcgcmVxdWVzdFxuICAgICAgICAvLyBzbyB3ZSBkb24ndCBoYXZlIHRvIGtlZXAgcmV0cnlpbmcgaW1tZWRpYXRlbHkgaW4gY2FzZSBvZiBhIHNlcnZlclxuICAgICAgICAvLyBzZXJ2aW5nIGV4cGlyZWQgdGlsZXMuXG4gICAgICAgIHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudCA9IDA7XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdsb2FkaW5nJztcbiAgICB9XG5cbiAgICByZWdpc3RlckZhZGVEdXJhdGlvbihkdXJhdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGZhZGVFbmRUaW1lID0gZHVyYXRpb24gKyB0aGlzLnRpbWVBZGRlZDtcbiAgICAgICAgaWYgKGZhZGVFbmRUaW1lIDwgYnJvd3Nlci5ub3coKSkgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5mYWRlRW5kVGltZSAmJiBmYWRlRW5kVGltZSA8IHRoaXMuZmFkZUVuZFRpbWUpIHJldHVybjtcblxuICAgICAgICB0aGlzLmZhZGVFbmRUaW1lID0gZmFkZUVuZFRpbWU7XG4gICAgfVxuXG4gICAgd2FzUmVxdWVzdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gJ2Vycm9yZWQnIHx8IHRoaXMuc3RhdGUgPT09ICdsb2FkZWQnIHx8IHRoaXMuc3RhdGUgPT09ICdyZWxvYWRpbmcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgZGF0YSBvYmplY3Qgd2l0aCBhICdidWZmZXJzJyBwcm9wZXJ0eSwgbG9hZCBpdCBpbnRvXG4gICAgICogdGhpcyB0aWxlJ3MgZWxlbWVudEdyb3VwcyBhbmQgYnVmZmVycyBwcm9wZXJ0aWVzIGFuZCBzZXQgbG9hZGVkXG4gICAgICogdG8gdHJ1ZS4gSWYgdGhlIGRhdGEgaXMgbnVsbCwgbGlrZSBpbiB0aGUgY2FzZSBvZiBhbiBlbXB0eVxuICAgICAqIEdlb0pTT04gdGlsZSwgbm8tb3AgYnV0IHN0aWxsIHNldCBsb2FkZWQgdG8gdHJ1ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqIEBwYXJhbSBwYWludGVyXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGxvYWRWZWN0b3JEYXRhKGRhdGE6IFdvcmtlclRpbGVSZXN1bHQsIHBhaW50ZXI6IGFueSwganVzdFJlbG9hZGVkOiA/Ym9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5oYXNEYXRhKCkpIHtcbiAgICAgICAgICAgIHRoaXMudW5sb2FkVmVjdG9yRGF0YSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdsb2FkZWQnO1xuXG4gICAgICAgIC8vIGVtcHR5IEdlb0pTT04gdGlsZVxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuY29sbGlzaW9uQm94QXJyYXkgPSBuZXcgQ29sbGlzaW9uQm94QXJyYXkoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLnJhd1RpbGVEYXRhKSB7XG4gICAgICAgICAgICAvLyBPbmx5IHZlY3RvciB0aWxlcyBoYXZlIHJhd1RpbGVEYXRhXG4gICAgICAgICAgICB0aGlzLnJhd1RpbGVEYXRhID0gZGF0YS5yYXdUaWxlRGF0YTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbGxpc2lvbkJveEFycmF5ID0gZGF0YS5jb2xsaXNpb25Cb3hBcnJheTtcbiAgICAgICAgdGhpcy5mZWF0dXJlSW5kZXggPSBkYXRhLmZlYXR1cmVJbmRleDtcbiAgICAgICAgdGhpcy5mZWF0dXJlSW5kZXgucmF3VGlsZURhdGEgPSB0aGlzLnJhd1RpbGVEYXRhO1xuICAgICAgICB0aGlzLmJ1Y2tldHMgPSBkZXNlcmlhbGl6ZUJ1Y2tldChkYXRhLmJ1Y2tldHMsIHBhaW50ZXIuc3R5bGUpO1xuXG4gICAgICAgIGlmIChqdXN0UmVsb2FkZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5idWNrZXRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVja2V0ID0gdGhpcy5idWNrZXRzW2lkXTtcbiAgICAgICAgICAgICAgICBpZiAoYnVja2V0IGluc3RhbmNlb2YgU3ltYm9sQnVja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Y2tldC5qdXN0UmVsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucXVlcnlQYWRkaW5nID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLmJ1Y2tldHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1Y2tldCA9IHRoaXMuYnVja2V0c1tpZF07XG4gICAgICAgICAgICB0aGlzLnF1ZXJ5UGFkZGluZyA9IE1hdGgubWF4KHRoaXMucXVlcnlQYWRkaW5nLCBwYWludGVyLnN0eWxlLmdldExheWVyKGJ1Y2tldC5sYXllcklkc1swXSkucXVlcnlSYWRpdXMoYnVja2V0KSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5pY29uQXRsYXNJbWFnZSkge1xuICAgICAgICAgICAgdGhpcy5pY29uQXRsYXNJbWFnZSA9IGRhdGEuaWNvbkF0bGFzSW1hZ2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZ2x5cGhBdGxhc0ltYWdlKSB7XG4gICAgICAgICAgICB0aGlzLmdseXBoQXRsYXNJbWFnZSA9IGRhdGEuZ2x5cGhBdGxhc0ltYWdlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVsZWFzZSBhbnkgZGF0YSBvciBXZWJHTCByZXNvdXJjZXMgcmVmZXJlbmNlZCBieSB0aGlzIHRpbGUuXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVubG9hZFZlY3RvckRhdGEoKSB7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5idWNrZXRzKSB7XG4gICAgICAgICAgICB0aGlzLmJ1Y2tldHNbaWRdLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1Y2tldHMgPSB7fTtcblxuICAgICAgICBpZiAodGhpcy5pY29uQXRsYXNUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmljb25BdGxhc1RleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdseXBoQXRsYXNUZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLmdseXBoQXRsYXNUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29sbGlzaW9uQm94QXJyYXkgPSBudWxsO1xuICAgICAgICB0aGlzLmZlYXR1cmVJbmRleCA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAndW5sb2FkZWQnO1xuICAgIH1cblxuICAgIHVubG9hZERFTURhdGEoKSB7XG4gICAgICAgIHRoaXMuZGVtID0gbnVsbDtcbiAgICAgICAgdGhpcy5uZWlnaGJvcmluZ1RpbGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9ICd1bmxvYWRlZCc7XG4gICAgfVxuXG4gICAgZ2V0QnVja2V0KGxheWVyOiBTdHlsZUxheWVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1Y2tldHNbbGF5ZXIuaWRdO1xuICAgIH1cblxuICAgIHVwbG9hZChjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5idWNrZXRzKSB7XG4gICAgICAgICAgICBjb25zdCBidWNrZXQgPSB0aGlzLmJ1Y2tldHNbaWRdO1xuICAgICAgICAgICAgaWYgKCFidWNrZXQudXBsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICBidWNrZXQudXBsb2FkKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGJ1Y2tldC51cGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICAgICAgaWYgKHRoaXMuaWNvbkF0bGFzSW1hZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuaWNvbkF0bGFzVGV4dHVyZSA9IG5ldyBUZXh0dXJlKGNvbnRleHQsIHRoaXMuaWNvbkF0bGFzSW1hZ2UsIGdsLlJHQkEpO1xuICAgICAgICAgICAgdGhpcy5pY29uQXRsYXNJbWFnZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5nbHlwaEF0bGFzSW1hZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuZ2x5cGhBdGxhc1RleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCB0aGlzLmdseXBoQXRsYXNJbWFnZSwgZ2wuQUxQSEEpO1xuICAgICAgICAgICAgdGhpcy5nbHlwaEF0bGFzSW1hZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcXVlcnlSZW5kZXJlZEZlYXR1cmVzKGxheWVyczoge1tzdHJpbmddOiBTdHlsZUxheWVyfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlHZW9tZXRyeTogQXJyYXk8QXJyYXk8UG9pbnQ+PixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7IGZpbHRlcjogRmlsdGVyU3BlY2lmaWNhdGlvbiwgbGF5ZXJzOiBBcnJheTxzdHJpbmc+IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhQaXRjaFNjYWxlRmFjdG9yOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvc01hdHJpeDogRmxvYXQzMkFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VJRDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25JbmRleDogP0NvbGxpc2lvbkluZGV4KToge1tzdHJpbmddOiBBcnJheTx7IGZlYXR1cmVJbmRleDogbnVtYmVyLCBmZWF0dXJlOiBHZW9KU09ORmVhdHVyZSB9Pn0ge1xuICAgICAgICBpZiAoIXRoaXMuZmVhdHVyZUluZGV4IHx8ICF0aGlzLmNvbGxpc2lvbkJveEFycmF5KVxuICAgICAgICAgICAgcmV0dXJuIHt9O1xuXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgc2V0IG9mIHRoZSBjdXJyZW50IGJ1Y2tldCBpbnN0YW5jZSBpZHNcbiAgICAgICAgY29uc3QgYnVja2V0SW5zdGFuY2VJZHMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBsYXllcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1Y2tldCA9IHRoaXMuZ2V0QnVja2V0KGxheWVyc1tpZF0pO1xuICAgICAgICAgICAgaWYgKGJ1Y2tldCkge1xuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgYnVja2V0IGluc3RhbmNlJ3MgaWQgdG8gdGhlIHNldCBvZiBjdXJyZW50IGlkcy5cbiAgICAgICAgICAgICAgICAvLyBUaGUgcXVlcnkgd2lsbCBvbmx5IGluY2x1ZGUgcmVzdWx0cyBmcm9tIGN1cnJlbnQgYnVja2V0cy5cbiAgICAgICAgICAgICAgICBpZiAoYnVja2V0IGluc3RhbmNlb2YgU3ltYm9sQnVja2V0ICYmIGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVja2V0SW5zdGFuY2VJZHNbYnVja2V0LmJ1Y2tldEluc3RhbmNlSWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5mZWF0dXJlSW5kZXgucXVlcnkoe1xuICAgICAgICAgICAgcXVlcnlHZW9tZXRyeTogcXVlcnlHZW9tZXRyeSxcbiAgICAgICAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgcG9zTWF0cml4OiBwb3NNYXRyaXgsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICAgICAgcXVlcnlQYWRkaW5nOiB0aGlzLnF1ZXJ5UGFkZGluZyAqIG1heFBpdGNoU2NhbGVGYWN0b3IsXG4gICAgICAgICAgICBjb2xsaXNpb25Cb3hBcnJheTogdGhpcy5jb2xsaXNpb25Cb3hBcnJheSxcbiAgICAgICAgICAgIHNvdXJjZUlEOiBzb3VyY2VJRCxcbiAgICAgICAgICAgIGNvbGxpc2lvbkluZGV4OiBjb2xsaXNpb25JbmRleCxcbiAgICAgICAgICAgIGJ1Y2tldEluc3RhbmNlSWRzOiBidWNrZXRJbnN0YW5jZUlkc1xuICAgICAgICB9LCBsYXllcnMpO1xuICAgIH1cblxuICAgIHF1ZXJ5U291cmNlRmVhdHVyZXMocmVzdWx0OiBBcnJheTxHZW9KU09ORmVhdHVyZT4sIHBhcmFtczogYW55KSB7XG4gICAgICAgIGlmICghdGhpcy5yYXdUaWxlRGF0YSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICghdGhpcy52dExheWVycykge1xuICAgICAgICAgICAgdGhpcy52dExheWVycyA9IG5ldyB2dC5WZWN0b3JUaWxlKG5ldyBQcm90b2J1Zih0aGlzLnJhd1RpbGVEYXRhKSkubGF5ZXJzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlTGF5ZXIgPSBwYXJhbXMgPyBwYXJhbXMuc291cmNlTGF5ZXIgOiAnJztcbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLnZ0TGF5ZXJzLl9nZW9qc29uVGlsZUxheWVyIHx8IHRoaXMudnRMYXllcnNbc291cmNlTGF5ZXJdO1xuXG4gICAgICAgIGlmICghbGF5ZXIpIHJldHVybjtcblxuICAgICAgICBjb25zdCBmaWx0ZXIgPSBmZWF0dXJlRmlsdGVyKHBhcmFtcyAmJiBwYXJhbXMuZmlsdGVyKTtcbiAgICAgICAgY29uc3QgY29vcmQgPSB7IHo6IHRoaXMudGlsZUlELm92ZXJzY2FsZWRaLCB4OiB0aGlzLnRpbGVJRC5jYW5vbmljYWwueCwgeTogdGhpcy50aWxlSUQuY2Fub25pY2FsLnkgfTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmZWF0dXJlID0gbGF5ZXIuZmVhdHVyZShpKTtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIoe3pvb206IHRoaXMudGlsZUlELm92ZXJzY2FsZWRafSwgZmVhdHVyZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBnZW9qc29uRmVhdHVyZSA9IG5ldyBHZW9KU09ORmVhdHVyZShmZWF0dXJlLCBjb29yZC56LCBjb29yZC54LCBjb29yZC55KTtcbiAgICAgICAgICAgICAgICAoZ2VvanNvbkZlYXR1cmU6IGFueSkudGlsZSA9IGNvb3JkO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGdlb2pzb25GZWF0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyTWFzaygpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VnbWVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuc2VnbWVudHMuZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc2VnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWFza2VkQm91bmRzQnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLm1hc2tlZEJvdW5kc0J1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tYXNrZWRCb3VuZHNCdWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWFza2VkSW5kZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMubWFza2VkSW5kZXhCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubWFza2VkSW5kZXhCdWZmZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRNYXNrKG1hc2s6IE1hc2ssIGNvbnRleHQ6IENvbnRleHQpIHtcblxuICAgICAgICAvLyBkb24ndCByZWRvIGJ1ZmZlciB3b3JrIGlmIHRoZSBtYXNrIGlzIHRoZSBzYW1lO1xuICAgICAgICBpZiAoZGVlcEVxdWFsKHRoaXMubWFzaywgbWFzaykpIHJldHVybjtcblxuICAgICAgICB0aGlzLm1hc2sgPSBtYXNrO1xuICAgICAgICB0aGlzLmNsZWFyTWFzaygpO1xuXG4gICAgICAgIC8vIFdlIHdhbnQgdG8gcmVuZGVyIHRoZSBmdWxsIHRpbGUsIGFuZCBrZWVwaW5nIHRoZSBzZWdtZW50cy92ZXJ0aWNlcy9pbmRpY2VzIGVtcHR5IG1lYW5zXG4gICAgICAgIC8vIHVzaW5nIHRoZSBnbG9iYWwgc2hhcmVkIGJ1ZmZlcnMgZm9yIGNvdmVyaW5nIHRoZSBlbnRpcmUgdGlsZS5cbiAgICAgICAgaWYgKGRlZXBFcXVhbChtYXNrLCB7JzAnOiB0cnVlfSkpIHJldHVybjtcblxuICAgICAgICBjb25zdCBtYXNrZWRCb3VuZHNBcnJheSA9IG5ldyBSYXN0ZXJCb3VuZHNBcnJheSgpO1xuICAgICAgICBjb25zdCBpbmRleEFycmF5ID0gbmV3IFRyaWFuZ2xlSW5kZXhBcnJheSgpO1xuXG4gICAgICAgIHRoaXMuc2VnbWVudHMgPSBuZXcgU2VnbWVudFZlY3RvcigpO1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgc2VnbWVudCBzbyB0aGF0IHdlIHdpbGwgdXBsb2FkIChlbXB0eSkgYnVmZmVycyBldmVuIHdoZW4gdGhlcmUgaXMgbm90aGluZyB0b1xuICAgICAgICAvLyBkcmF3IGZvciB0aGlzIHRpbGUuXG4gICAgICAgIHRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoMCwgbWFza2VkQm91bmRzQXJyYXksIGluZGV4QXJyYXkpO1xuXG4gICAgICAgIGNvbnN0IG1hc2tBcnJheSA9IE9iamVjdC5rZXlzKG1hc2spO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hc2tBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbWFza0Nvb3JkID0gbWFza1ttYXNrQXJyYXlbaV1dO1xuICAgICAgICAgICAgY29uc3QgdmVydGV4RXh0ZW50ID0gRVhURU5UID4+IG1hc2tDb29yZC56O1xuICAgICAgICAgICAgY29uc3QgdGxWZXJ0ZXggPSBuZXcgUG9pbnQobWFza0Nvb3JkLnggKiB2ZXJ0ZXhFeHRlbnQsIG1hc2tDb29yZC55ICogdmVydGV4RXh0ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGJyVmVydGV4ID0gbmV3IFBvaW50KHRsVmVydGV4LnggKyB2ZXJ0ZXhFeHRlbnQsIHRsVmVydGV4LnkgKyB2ZXJ0ZXhFeHRlbnQpO1xuXG4gICAgICAgICAgICAvLyBub3Qgc3VyZSB3aHkgZmxvdyBpcyBjb21wbGFpbmluZyBoZXJlIGJlY2F1c2UgaXQgZG9lc24ndCBjb21wbGFpbiBhdCBMNDAxXG4gICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gKHRoaXMuc2VnbWVudHM6IGFueSkucHJlcGFyZVNlZ21lbnQoNCwgbWFza2VkQm91bmRzQXJyYXksIGluZGV4QXJyYXkpO1xuXG4gICAgICAgICAgICBtYXNrZWRCb3VuZHNBcnJheS5lbXBsYWNlQmFjayh0bFZlcnRleC54LCB0bFZlcnRleC55LCB0bFZlcnRleC54LCB0bFZlcnRleC55KTtcbiAgICAgICAgICAgIG1hc2tlZEJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKGJyVmVydGV4LngsIHRsVmVydGV4LnksIGJyVmVydGV4LngsIHRsVmVydGV4LnkpO1xuICAgICAgICAgICAgbWFza2VkQm91bmRzQXJyYXkuZW1wbGFjZUJhY2sodGxWZXJ0ZXgueCwgYnJWZXJ0ZXgueSwgdGxWZXJ0ZXgueCwgYnJWZXJ0ZXgueSk7XG4gICAgICAgICAgICBtYXNrZWRCb3VuZHNBcnJheS5lbXBsYWNlQmFjayhiclZlcnRleC54LCBiclZlcnRleC55LCBiclZlcnRleC54LCBiclZlcnRleC55KTtcblxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gc2VnbWVudC52ZXJ0ZXhMZW5ndGg7XG4gICAgICAgICAgICAvLyAwLCAxLCAyXG4gICAgICAgICAgICAvLyAxLCAyLCAzXG4gICAgICAgICAgICBpbmRleEFycmF5LmVtcGxhY2VCYWNrKG9mZnNldCwgb2Zmc2V0ICsgMSwgb2Zmc2V0ICsgMik7XG4gICAgICAgICAgICBpbmRleEFycmF5LmVtcGxhY2VCYWNrKG9mZnNldCArIDEsIG9mZnNldCArIDIsIG9mZnNldCArIDMpO1xuXG4gICAgICAgICAgICBzZWdtZW50LnZlcnRleExlbmd0aCArPSA0O1xuICAgICAgICAgICAgc2VnbWVudC5wcmltaXRpdmVMZW5ndGggKz0gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWFza2VkQm91bmRzQnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIobWFza2VkQm91bmRzQXJyYXksIHJhc3RlckJvdW5kc0F0dHJpYnV0ZXMubWVtYmVycyk7XG4gICAgICAgIHRoaXMubWFza2VkSW5kZXhCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZUluZGV4QnVmZmVyKGluZGV4QXJyYXkpO1xuICAgIH1cblxuICAgIGhhc0RhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09PSAnbG9hZGVkJyB8fCB0aGlzLnN0YXRlID09PSAncmVsb2FkaW5nJyB8fCB0aGlzLnN0YXRlID09PSAnZXhwaXJlZCc7XG4gICAgfVxuXG4gICAgc2V0RXhwaXJ5RGF0YShkYXRhOiBhbnkpIHtcbiAgICAgICAgY29uc3QgcHJpb3IgPSB0aGlzLmV4cGlyYXRpb25UaW1lO1xuXG4gICAgICAgIGlmIChkYXRhLmNhY2hlQ29udHJvbCkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkQ0MgPSBwYXJzZUNhY2hlQ29udHJvbChkYXRhLmNhY2hlQ29udHJvbCk7XG4gICAgICAgICAgICBpZiAocGFyc2VkQ0NbJ21heC1hZ2UnXSkgdGhpcy5leHBpcmF0aW9uVGltZSA9IERhdGUubm93KCkgKyBwYXJzZWRDQ1snbWF4LWFnZSddICogMTAwMDtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmV4cGlyZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZXhwaXJhdGlvblRpbWUgPSBuZXcgRGF0ZShkYXRhLmV4cGlyZXMpLmdldFRpbWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgbGV0IGlzRXhwaXJlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5leHBpcmF0aW9uVGltZSA+IG5vdykge1xuICAgICAgICAgICAgICAgIGlzRXhwaXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghcHJpb3IpIHtcbiAgICAgICAgICAgICAgICBpc0V4cGlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmV4cGlyYXRpb25UaW1lIDwgcHJpb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBFeHBpcmluZyBkYXRlIGlzIGdvaW5nIGJhY2t3YXJkczpcbiAgICAgICAgICAgICAgICAvLyBmYWxsIGJhY2sgdG8gZXhwb25lbnRpYWwgYmFja29mZlxuICAgICAgICAgICAgICAgIGlzRXhwaXJlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsdGEgPSB0aGlzLmV4cGlyYXRpb25UaW1lIC0gcHJpb3I7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWRlbHRhKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlcnZlciBpcyBzZXJ2aW5nIHRoZSBzYW1lIGV4cGlyZWQgcmVzb3VyY2Ugb3ZlciBhbmQgb3ZlcjogZmFsbFxuICAgICAgICAgICAgICAgICAgICAvLyBiYWNrIHRvIGV4cG9uZW50aWFsIGJhY2tvZmYuXG4gICAgICAgICAgICAgICAgICAgIGlzRXhwaXJlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBBc3N1bWUgdGhhdCBlaXRoZXIgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyIGNsb2NrIGlzIHdyb25nIGFuZFxuICAgICAgICAgICAgICAgICAgICAvLyB0cnkgdG8gaW50ZXJwb2xhdGUgYSB2YWxpZCBleHBpcmF0aW9uIGRhdGUgKGZyb20gdGhlIGNsaWVudCBQT1YpXG4gICAgICAgICAgICAgICAgICAgIC8vIG9ic2VydmluZyBhIG1pbmltdW0gdGltZW91dC5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leHBpcmF0aW9uVGltZSA9IG5vdyArIE1hdGgubWF4KGRlbHRhLCBDTE9DS19TS0VXX1JFVFJZX1RJTUVPVVQpO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5leHBpcmVkUmVxdWVzdENvdW50Kys7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdleHBpcmVkJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5leHBpcmVkUmVxdWVzdENvdW50ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEV4cGlyeVRpbWVvdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5leHBpcmVkUmVxdWVzdENvdW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEwMDAgKiAoMSA8PCBNYXRoLm1pbih0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQgLSAxLCAzMSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBNYXggdmFsdWUgZm9yIGBzZXRUaW1lb3V0YCBpbXBsZW1lbnRhdGlvbnMgaXMgYSAzMiBiaXQgaW50ZWdlcjsgY2FwIHRoaXMgYWNjb3JkaW5nbHlcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5leHBpcmF0aW9uVGltZSAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBNYXRoLnBvdygyLCAzMSkgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlsZTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB0eXBlIHtDb2xsaXNpb25Cb3hBcnJheX0gZnJvbSAnLi9hcnJheV90eXBlcyc7XG5pbXBvcnQgdHlwZSBTdHlsZSBmcm9tICcuLi9zdHlsZS9zdHlsZSc7XG5pbXBvcnQgdHlwZSB7VHlwZWRTdHlsZUxheWVyfSBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci90eXBlZF9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBGZWF0dXJlSW5kZXggZnJvbSAnLi9mZWF0dXJlX2luZGV4JztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dCc7XG5cbmV4cG9ydCB0eXBlIEJ1Y2tldFBhcmFtZXRlcnM8TGF5ZXI6IFR5cGVkU3R5bGVMYXllcj4gPSB7XG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBsYXllcnM6IEFycmF5PExheWVyPixcbiAgICB6b29tOiBudW1iZXIsXG4gICAgcGl4ZWxSYXRpbzogbnVtYmVyLFxuICAgIG92ZXJzY2FsaW5nOiBudW1iZXIsXG4gICAgY29sbGlzaW9uQm94QXJyYXk6IENvbGxpc2lvbkJveEFycmF5XG59XG5cbmV4cG9ydCB0eXBlIFBvcHVsYXRlUGFyYW1ldGVycyA9IHtcbiAgICBmZWF0dXJlSW5kZXg6IEZlYXR1cmVJbmRleCxcbiAgICBpY29uRGVwZW5kZW5jaWVzOiB7fSxcbiAgICBnbHlwaERlcGVuZGVuY2llczoge31cbn1cblxuZXhwb3J0IHR5cGUgSW5kZXhlZEZlYXR1cmUgPSB7XG4gICAgZmVhdHVyZTogVmVjdG9yVGlsZUZlYXR1cmUsXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBzb3VyY2VMYXllckluZGV4OiBudW1iZXIsXG59XG5cbi8qKlxuICogVGhlIGBCdWNrZXRgIGludGVyZmFjZSBpcyB0aGUgc2luZ2xlIHBvaW50IG9mIGtub3dsZWRnZSBhYm91dCB0dXJuaW5nIHZlY3RvclxuICogdGlsZXMgaW50byBXZWJHTCBidWZmZXJzLlxuICpcbiAqIGBCdWNrZXRgIGlzIGFuIGFic3RyYWN0IGludGVyZmFjZS4gQW4gaW1wbGVtZW50YXRpb24gZXhpc3RzIGZvciBlYWNoIHN0eWxlIGxheWVyIHR5cGUuXG4gKiBDcmVhdGUgYSBidWNrZXQgdmlhIHRoZSBgU3R5bGVMYXllciNjcmVhdGVCdWNrZXRgIG1ldGhvZC5cbiAqXG4gKiBUaGUgY29uY3JldGUgYnVja2V0IHR5cGVzLCB1c2luZyBsYXlvdXQgb3B0aW9ucyBmcm9tIHRoZSBzdHlsZSBsYXllcixcbiAqIHRyYW5zZm9ybSBmZWF0dXJlIGdlb21ldHJpZXMgaW50byB2ZXJ0ZXggYW5kIGluZGV4IGRhdGEgZm9yIHVzZSBieSB0aGVcbiAqIHZlcnRleCBzaGFkZXIuICBUaGV5IGFsc28gKHZpYSBgUHJvZ3JhbUNvbmZpZ3VyYXRpb25gKSB1c2UgZmVhdHVyZVxuICogcHJvcGVydGllcyBhbmQgdGhlIHpvb20gbGV2ZWwgdG8gcG9wdWxhdGUgdGhlIGF0dHJpYnV0ZXMgbmVlZGVkIGZvclxuICogZGF0YS1kcml2ZW4gc3R5bGluZy5cbiAqXG4gKiBCdWNrZXRzIGFyZSBkZXNpZ25lZCB0byBiZSBidWlsdCBvbiBhIHdvcmtlciB0aHJlYWQgYW5kIHRoZW4gc2VyaWFsaXplZCBhbmRcbiAqIHRyYW5zZmVycmVkIGJhY2sgdG8gdGhlIG1haW4gdGhyZWFkIGZvciByZW5kZXJpbmcuICBPbiB0aGUgd29ya2VyIHNpZGUsIGFcbiAqIGJ1Y2tldCdzIHZlcnRleCwgaW5kZXgsIGFuZCBhdHRyaWJ1dGUgZGF0YSBpcyBzdG9yZWQgaW4gYGJ1Y2tldC5hcnJheXM6XG4gKiBBcnJheUdyb3VwYC4gIFdoZW4gYSBidWNrZXQncyBkYXRhIGlzIHNlcmlhbGl6ZWQgYW5kIHNlbnQgYmFjayB0byB0aGUgbWFpblxuICogdGhyZWFkLCBpcyBnZXRzIGRlc2VyaWFsaXplZCAodXNpbmcgYG5ldyBCdWNrZXQoc2VyaWFsaXplZEJ1Y2tldERhdGEpYCwgd2l0aFxuICogdGhlIGFycmF5IGRhdGEgbm93IHN0b3JlZCBpbiBgYnVja2V0LmJ1ZmZlcnM6IEJ1ZmZlckdyb3VwYC4gIEJ1ZmZlckdyb3Vwc1xuICogaG9sZCB0aGUgc2FtZSBkYXRhIGFzIEFycmF5R3JvdXBzLCBidXQgYXJlIHR1bmVkIGZvciBjb25zdW1wdGlvbiBieSBXZWJHTC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJ1Y2tldCB7XG4gICAgbGF5ZXJJZHM6IEFycmF5PHN0cmluZz47XG5cbiAgICBwb3B1bGF0ZShmZWF0dXJlczogQXJyYXk8SW5kZXhlZEZlYXR1cmU+LCBvcHRpb25zOiBQb3B1bGF0ZVBhcmFtZXRlcnMpOiB2b2lkO1xuICAgIGlzRW1wdHkoKTogYm9vbGVhbjtcblxuICAgIHVwbG9hZChjb250ZXh0OiBDb250ZXh0KTogdm9pZDtcbiAgICB1cGxvYWRlZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgdGhlIFdlYkdMIHJlc291cmNlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGJ1ZmZlcnMuIE5vdGUgdGhhdCBiZWNhdXNlXG4gICAgICogYnVja2V0cyBhcmUgc2hhcmVkIGJldHdlZW4gbGF5ZXJzIGhhdmluZyB0aGUgc2FtZSBsYXlvdXQgcHJvcGVydGllcywgdGhleVxuICAgICAqIG11c3QgYmUgZGVzdHJveWVkIGluIGdyb3VwcyAoYWxsIGJ1Y2tldHMgZm9yIGEgdGlsZSwgb3IgYWxsIHN5bWJvbCBidWNrZXRzKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGVzdHJveSgpOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemUoaW5wdXQ6IEFycmF5PEJ1Y2tldD4sIHN0eWxlOiBTdHlsZSk6IHtbc3RyaW5nXTogQnVja2V0fSB7XG4gICAgY29uc3Qgb3V0cHV0ID0ge307XG5cbiAgICAvLyBHdWFyZCBhZ2FpbnN0IHRoZSBjYXNlIHdoZXJlIHRoZSBtYXAncyBzdHlsZSBoYXMgYmVlbiBzZXQgdG8gbnVsbCB3aGlsZVxuICAgIC8vIHRoaXMgYnVja2V0IGhhcyBiZWVuIHBhcnNpbmcuXG4gICAgaWYgKCFzdHlsZSkgcmV0dXJuIG91dHB1dDtcblxuICAgIGZvciAoY29uc3QgYnVja2V0IG9mIGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGxheWVycyA9IGJ1Y2tldC5sYXllcklkc1xuICAgICAgICAgICAgLm1hcCgoaWQpID0+IHN0eWxlLmdldExheWVyKGlkKSlcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG5cbiAgICAgICAgaWYgKGxheWVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbG9vayB1cCBTdHlsZUxheWVyIG9iamVjdHMgZnJvbSBsYXllciBpZHMgKHNpbmNlIHdlIGRvbid0XG4gICAgICAgIC8vIHdhbnQgdG8gd2FzdGUgdGltZSBzZXJpYWxpemluZy9jb3B5aW5nIHRoZW0gZnJvbSB0aGUgd29ya2VyKVxuICAgICAgICAoYnVja2V0OiBhbnkpLmxheWVycyA9IGxheWVycztcblxuICAgICAgICBmb3IgKGNvbnN0IGxheWVyIG9mIGxheWVycykge1xuICAgICAgICAgICAgb3V0cHV0W2xheWVyLmlkXSA9IGJ1Y2tldDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG59XG4iLCIvLyBAZmxvd1xuXG4vKipcbiAqIEEgW2xlYXN0LXJlY2VudGx5LXVzZWQgY2FjaGVdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FjaGVfYWxnb3JpdGhtcylcbiAqIHdpdGggaGFzaCBsb29rdXAgbWFkZSBwb3NzaWJsZSBieSBrZWVwaW5nIGEgbGlzdCBvZiBrZXlzIGluIHBhcmFsbGVsIHRvXG4gKiBhbiBhcnJheSBvZiBkaWN0aW9uYXJ5IG9mIHZhbHVlc1xuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIExSVUNhY2hlPFQ+IHtcbiAgICBtYXg6IG51bWJlcjtcbiAgICBkYXRhOiB7W2tleTogc3RyaW5nXTogVH07XG4gICAgb3JkZXI6IEFycmF5PHN0cmluZz47XG4gICAgb25SZW1vdmU6IChlbGVtZW50OiBUKSA9PiB2b2lkO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXggbnVtYmVyIG9mIHBlcm1pdHRlZCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlbW92ZSBjYWxsYmFjayBjYWxsZWQgd2l0aCBpdGVtcyB3aGVuIHRoZXkgZXhwaXJlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWF4OiBudW1iZXIsIG9uUmVtb3ZlOiAoZWxlbWVudDogVCkgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLm1heCA9IG1heDtcbiAgICAgICAgdGhpcy5vblJlbW92ZSA9IG9uUmVtb3ZlO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGNhY2hlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TFJVQ2FjaGV9IHRoaXMgY2FjaGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMub25SZW1vdmUodGhpcy5kYXRhW2tleV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kYXRhID0ge307XG4gICAgICAgIHRoaXMub3JkZXIgPSBbXTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBrZXksIHZhbHVlIGNvbWJpbmF0aW9uIHRvIHRoZSBjYWNoZSwgdHJpbW1pbmcgaXRzIHNpemUgaWYgdGhpcyBwdXNoZXNcbiAgICAgKiBpdCBvdmVyIG1heCBsZW5ndGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IGxvb2t1cCBrZXkgZm9yIHRoZSBpdGVtXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIGFueSB2YWx1ZVxuICAgICAqXG4gICAgICogQHJldHVybnMge0xSVUNhY2hlfSB0aGlzIGNhY2hlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBhZGQoa2V5OiBzdHJpbmcsIGRhdGE6IFQpIHtcblxuICAgICAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5vcmRlci5zcGxpY2UodGhpcy5vcmRlci5pbmRleE9mKGtleSksIDEpO1xuICAgICAgICAgICAgdGhpcy5kYXRhW2tleV0gPSBkYXRhO1xuICAgICAgICAgICAgdGhpcy5vcmRlci5wdXNoKGtleSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtrZXldID0gZGF0YTtcbiAgICAgICAgICAgIHRoaXMub3JkZXIucHVzaChrZXkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcmRlci5sZW5ndGggPiB0aGlzLm1heCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZWREYXRhID0gdGhpcy5nZXRBbmRSZW1vdmUodGhpcy5vcmRlclswXSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWREYXRhKSB0aGlzLm9uUmVtb3ZlKHJlbW92ZWREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoZSB2YWx1ZSBhdHRhY2hlZCB0byBga2V5YCBpcyBwcmVzZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgdG8gYmUgbG9va2VkLXVwXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgdGhlIGNhY2hlIGhhcyB0aGlzIHZhbHVlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBoYXMoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGtleSBpbiB0aGlzLmRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlzdCBhbGwga2V5cyBpbiB0aGUgY2FjaGVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxzdHJpbmc+fSBhbiBhcnJheSBvZiBrZXlzIGluIHRoaXMgY2FjaGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBrZXlzKCk6IEFycmF5PHN0cmluZz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbHVlIGF0dGFjaGVkIHRvIGEgc3BlY2lmaWMga2V5IGFuZCByZW1vdmUgZGF0YSBmcm9tIGNhY2hlLlxuICAgICAqIElmIHRoZSBrZXkgaXMgbm90IGZvdW5kLCByZXR1cm5zIGBudWxsYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IHRvIGxvb2sgdXBcbiAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIGRhdGEsIG9yIG51bGwgaWYgaXQgaXNuJ3QgZm91bmRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldEFuZFJlbW92ZShrZXk6IHN0cmluZyk6ID9UIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhcyhrZXkpKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YVtrZXldO1xuXG4gICAgICAgIGRlbGV0ZSB0aGlzLmRhdGFba2V5XTtcbiAgICAgICAgdGhpcy5vcmRlci5zcGxpY2UodGhpcy5vcmRlci5pbmRleE9mKGtleSksIDEpO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmFsdWUgYXR0YWNoZWQgdG8gYSBzcGVjaWZpYyBrZXkgd2l0aG91dCByZW1vdmluZyBkYXRhXG4gICAgICogZnJvbSB0aGUgY2FjaGUuIElmIHRoZSBrZXkgaXMgbm90IGZvdW5kLCByZXR1cm5zIGBudWxsYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IHRvIGxvb2sgdXBcbiAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIGRhdGEsIG9yIG51bGwgaWYgaXQgaXNuJ3QgZm91bmRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldChrZXk6IHN0cmluZyk6ID9UIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhcyhrZXkpKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YVtrZXldO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBrZXkvdmFsdWUgY29tYmluYXRpb24gZnJvbSB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgZm9yIHRoZSBwYWlyIHRvIGRlbGV0ZVxuICAgICAqIEByZXR1cm5zIHtMUlVDYWNoZX0gdGhpcyBjYWNoZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcmVtb3ZlKGtleTogc3RyaW5nKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXMoa2V5KSkgeyByZXR1cm4gdGhpczsgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGFba2V5XTtcbiAgICAgICAgZGVsZXRlIHRoaXMuZGF0YVtrZXldO1xuICAgICAgICB0aGlzLm9uUmVtb3ZlKGRhdGEpO1xuICAgICAgICB0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2Yoa2V5KSwgMSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRoZSBtYXggc2l6ZSBvZiB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4IHRoZSBtYXggc2l6ZSBvZiB0aGUgY2FjaGVcbiAgICAgKiBAcmV0dXJucyB7TFJVQ2FjaGV9IHRoaXMgY2FjaGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHNldE1heFNpemUobWF4OiBudW1iZXIpOiBMUlVDYWNoZTxUPiB7XG4gICAgICAgIHRoaXMubWF4ID0gbWF4O1xuXG4gICAgICAgIHdoaWxlICh0aGlzLm9yZGVyLmxlbmd0aCA+IHRoaXMubWF4KSB7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVkRGF0YSA9IHRoaXMuZ2V0QW5kUmVtb3ZlKHRoaXMub3JkZXJbMF0pO1xuICAgICAgICAgICAgaWYgKHJlbW92ZWREYXRhKSB0aGlzLm9uUmVtb3ZlKHJlbW92ZWREYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTFJVQ2FjaGU7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSB7U3RydWN0QXJyYXl9IGZyb20gJy4uL3V0aWwvc3RydWN0X2FycmF5JztcbmltcG9ydCB0eXBlIHtUcmlhbmdsZUluZGV4QXJyYXksIExpbmVJbmRleEFycmF5fSBmcm9tICcuLi9kYXRhL2luZGV4X2FycmF5X3R5cGUnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcblxuXG5jbGFzcyBJbmRleEJ1ZmZlciB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBidWZmZXI6IFdlYkdMQnVmZmVyO1xuICAgIGR5bmFtaWNEcmF3OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCwgYXJyYXk6IFRyaWFuZ2xlSW5kZXhBcnJheSB8IExpbmVJbmRleEFycmF5LCBkeW5hbWljRHJhdz86IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLmR5bmFtaWNEcmF3ID0gQm9vbGVhbihkeW5hbWljRHJhdyk7XG5cbiAgICAgICAgdGhpcy51bmJpbmRWQU8oKTtcblxuICAgICAgICBjb250ZXh0LmJpbmRFbGVtZW50QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcik7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGFycmF5LmFycmF5QnVmZmVyLCB0aGlzLmR5bmFtaWNEcmF3ID8gZ2wuRFlOQU1JQ19EUkFXIDogZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIGlmICghdGhpcy5keW5hbWljRHJhdykge1xuICAgICAgICAgICAgZGVsZXRlIGFycmF5LmFycmF5QnVmZmVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5iaW5kVkFPKCkge1xuICAgICAgICAvLyBUaGUgYm91bmQgaW5kZXggYnVmZmVyIGlzIHBhcnQgb2YgdmVydGV4IGFycmF5IG9iamVjdCBzdGF0ZS4gV2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAvLyBtb2RpZnkgd2hhdGV2ZXIgVkFPIGhhcHBlbnMgdG8gYmUgY3VycmVudGx5IGJvdW5kLCBzbyBtYWtlIHN1cmUgdGhlIGRlZmF1bHRcbiAgICAgICAgLy8gdmVydGV4IGFycmF5IHByb3ZpZGVkIGJ5IHRoZSBjb250ZXh0IGlzIGJvdW5kIGluc3RlYWQuXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYmluZCgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmJpbmRFbGVtZW50QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcik7XG4gICAgfVxuXG4gICAgdXBkYXRlRGF0YShhcnJheTogU3RydWN0QXJyYXkpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGFzc2VydCh0aGlzLmR5bmFtaWNEcmF3KTtcbiAgICAgICAgLy8gVGhlIHJpZ2h0IFZBTyB3aWxsIGdldCB0aGlzIGJ1ZmZlciByZS1ib3VuZCBsYXRlciBpbiBWZXJ0ZXhBcnJheU9iamVjdCNiaW5kXG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvNTYyMFxuICAgICAgICB0aGlzLnVuYmluZFZBTygpO1xuICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgMCwgYXJyYXkuYXJyYXlCdWZmZXIpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICBpZiAodGhpcy5idWZmZXIpIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlcik7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5idWZmZXI7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluZGV4QnVmZmVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSB7XG4gICAgU3RydWN0QXJyYXksXG4gICAgU3RydWN0QXJyYXlNZW1iZXJcbn0gZnJvbSAnLi4vdXRpbC9zdHJ1Y3RfYXJyYXknO1xuXG5pbXBvcnQgdHlwZSBQcm9ncmFtIGZyb20gJy4uL3JlbmRlci9wcm9ncmFtJztcbmltcG9ydCB0eXBlIENvbnRleHQgZnJvbSAnLi4vZ2wvY29udGV4dCc7XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ30gQXR0cmlidXRlVHlwZVxuICogQHByaXZhdGVcbiAqIEByZWFkb25seVxuICovXG5jb25zdCBBdHRyaWJ1dGVUeXBlID0ge1xuICAgIEludDg6ICAgJ0JZVEUnLFxuICAgIFVpbnQ4OiAgJ1VOU0lHTkVEX0JZVEUnLFxuICAgIEludDE2OiAgJ1NIT1JUJyxcbiAgICBVaW50MTY6ICdVTlNJR05FRF9TSE9SVCcsXG4gICAgSW50MzI6ICAnSU5UJyxcbiAgICBVaW50MzI6ICdVTlNJR05FRF9JTlQnLFxuICAgIEZsb2F0MzI6ICdGTE9BVCdcbn07XG5cbi8qKlxuICogVGhlIGBWZXJ0ZXhCdWZmZXJgIGNsYXNzIHR1cm5zIGEgYFN0cnVjdEFycmF5YCBpbnRvIGEgV2ViR0wgYnVmZmVyLiBFYWNoIG1lbWJlciBvZiB0aGUgU3RydWN0QXJyYXknc1xuICogU3RydWN0IHR5cGUgaXMgY29udmVydGVkIHRvIGEgV2ViR0wgYXRyaWJ1dGUuXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBWZXJ0ZXhCdWZmZXIge1xuICAgIGxlbmd0aDogbnVtYmVyO1xuICAgIGF0dHJpYnV0ZXM6ICRSZWFkT25seUFycmF5PFN0cnVjdEFycmF5TWVtYmVyPjtcbiAgICBpdGVtU2l6ZTogbnVtYmVyO1xuICAgIGR5bmFtaWNEcmF3OiA/Ym9vbGVhbjtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGJ1ZmZlcjogV2ViR0xCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZHluYW1pY0RyYXcgV2hldGhlciB0aGlzIGJ1ZmZlciB3aWxsIGJlIHJlcGVhdGVkbHkgdXBkYXRlZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBhcnJheTogU3RydWN0QXJyYXksIGF0dHJpYnV0ZXM6ICRSZWFkT25seUFycmF5PFN0cnVjdEFycmF5TWVtYmVyPiwgZHluYW1pY0RyYXc/OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgICAgICB0aGlzLml0ZW1TaXplID0gYXJyYXkuYnl0ZXNQZXJFbGVtZW50O1xuICAgICAgICB0aGlzLmR5bmFtaWNEcmF3ID0gZHluYW1pY0RyYXc7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBjb250ZXh0LmJpbmRWZXJ0ZXhCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKTtcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGFycmF5LmFycmF5QnVmZmVyLCB0aGlzLmR5bmFtaWNEcmF3ID8gZ2wuRFlOQU1JQ19EUkFXIDogZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIGlmICghdGhpcy5keW5hbWljRHJhdykge1xuICAgICAgICAgICAgZGVsZXRlIGFycmF5LmFycmF5QnVmZmVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYmluZCgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmJpbmRWZXJ0ZXhCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKTtcbiAgICB9XG5cbiAgICB1cGRhdGVEYXRhKGFycmF5OiBTdHJ1Y3RBcnJheSkge1xuICAgICAgICBhc3NlcnQoYXJyYXkubGVuZ3RoID09PSB0aGlzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICB0aGlzLmJpbmQoKTtcbiAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YShnbC5BUlJBWV9CVUZGRVIsIDAsIGFycmF5LmFycmF5QnVmZmVyKTtcbiAgICB9XG5cbiAgICBlbmFibGVBdHRyaWJ1dGVzKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHByb2dyYW06IFByb2dyYW0pIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWJlciA9IHRoaXMuYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYkluZGV4OiBudW1iZXIgfCB2b2lkID0gcHJvZ3JhbS5hdHRyaWJ1dGVzW21lbWJlci5uYW1lXTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYXR0cmliSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBhdHRyaWJ1dGUgcG9pbnRlcnMgaW4gYSBXZWJHTCBjb250ZXh0XG4gICAgICogQHBhcmFtIGdsIFRoZSBXZWJHTCBjb250ZXh0XG4gICAgICogQHBhcmFtIHByb2dyYW0gVGhlIGFjdGl2ZSBXZWJHTCBwcm9ncmFtXG4gICAgICogQHBhcmFtIHZlcnRleE9mZnNldCBJbmRleCBvZiB0aGUgc3RhcnRpbmcgdmVydGV4IG9mIHRoZSBzZWdtZW50XG4gICAgICovXG4gICAgc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgcHJvZ3JhbTogUHJvZ3JhbSwgdmVydGV4T2Zmc2V0OiA/bnVtYmVyKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBtZW1iZXIgPSB0aGlzLmF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJJbmRleDogbnVtYmVyIHwgdm9pZCA9IHByb2dyYW0uYXR0cmlidXRlc1ttZW1iZXIubmFtZV07XG5cbiAgICAgICAgICAgIGlmIChhdHRyaWJJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihcbiAgICAgICAgICAgICAgICAgICAgYXR0cmliSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlci5jb21wb25lbnRzLFxuICAgICAgICAgICAgICAgICAgICAoZ2w6IGFueSlbQXR0cmlidXRlVHlwZVttZW1iZXIudHlwZV1dLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyLm9mZnNldCArICh0aGlzLml0ZW1TaXplICogKHZlcnRleE9mZnNldCB8fCAwKSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgR0wgYnVmZmVyIGJvdW5kIHRvIHRoZSBnaXZlbiBXZWJHTCBjb250ZXh0XG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcikge1xuICAgICAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmVydGV4QnVmZmVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5cbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuL2NvbnRleHQnO1xuaW1wb3J0IHR5cGUge1xuICAgIEJsZW5kRnVuY1R5cGUsXG4gICAgQ29sb3JNYXNrVHlwZSxcbiAgICBEZXB0aFJhbmdlVHlwZSxcbiAgICBEZXB0aE1hc2tUeXBlLFxuICAgIFN0ZW5jaWxGdW5jVHlwZSxcbiAgICBTdGVuY2lsT3BUeXBlLFxuICAgIERlcHRoRnVuY1R5cGUsXG4gICAgVGV4dHVyZVVuaXRUeXBlLFxuICAgIFZpZXdwb3J0VHlwZSxcbn0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFsdWU8VD4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogVDtcbiAgICBnZXQoKTogVDtcbiAgICBzZXQodmFsdWU6IFQpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgQ2xlYXJDb2xvciBpbXBsZW1lbnRzIFZhbHVlPENvbG9yPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBDb2xvcjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gQ29sb3IudHJhbnNwYXJlbnQ7XG4gICAgfVxuXG4gICAgZ2V0KCk6IENvbG9yIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IENvbG9yKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2LnIgIT09IGMuciB8fCB2LmcgIT09IGMuZyB8fCB2LmIgIT09IGMuYiB8fCB2LmEgIT09IGMuYSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmNsZWFyQ29sb3Iodi5yLCB2LmcsIHYuYiwgdi5hKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDbGVhckRlcHRoIGltcGxlbWVudHMgVmFsdWU8bnVtYmVyPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IDE7XG4gICAgfVxuXG4gICAgZ2V0KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmNsZWFyRGVwdGgodik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2xlYXJTdGVuY2lsIGltcGxlbWVudHMgVmFsdWU8bnVtYmVyPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IDA7XG4gICAgfVxuXG4gICAgZ2V0KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmNsZWFyU3RlbmNpbCh2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb2xvck1hc2sgaW1wbGVtZW50cyBWYWx1ZTxDb2xvck1hc2tUeXBlPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBDb2xvck1hc2tUeXBlO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZV07XG4gICAgfVxuXG4gICAgZ2V0KCk6IENvbG9yTWFza1R5cGUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogQ29sb3JNYXNrVHlwZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodlswXSAhPT0gY1swXSB8fCB2WzFdICE9PSBjWzFdIHx8IHZbMl0gIT09IGNbMl0gfHwgdlszXSAhPT0gY1szXSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmNvbG9yTWFzayh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXB0aE1hc2sgaW1wbGVtZW50cyBWYWx1ZTxEZXB0aE1hc2tUeXBlPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBEZXB0aE1hc2tUeXBlO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0cnVlO1xuICAgIH1cblxuICAgIGdldCgpOiBEZXB0aE1hc2tUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IERlcHRoTWFza1R5cGUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmRlcHRoTWFzayh2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGVuY2lsTWFzayBpbXBsZW1lbnRzIFZhbHVlPG51bWJlcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSAweEZGO1xuICAgIH1cblxuICAgIGdldCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5zdGVuY2lsTWFzayh2KTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGVuY2lsRnVuYyBpbXBsZW1lbnRzIFZhbHVlPFN0ZW5jaWxGdW5jVHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogU3RlbmNpbEZ1bmNUeXBlO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICBmdW5jOiBjb250ZXh0LmdsLkFMV0FZUyxcbiAgICAgICAgICAgIHJlZjogMCxcbiAgICAgICAgICAgIG1hc2s6IDB4RkZcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXQoKTogU3RlbmNpbEZ1bmNUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IFN0ZW5jaWxGdW5jVHlwZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5jdXJyZW50O1xuICAgICAgICBpZiAodi5mdW5jICE9PSBjLmZ1bmMgfHwgdi5yZWYgIT09IGMucmVmIHx8IHYubWFzayAhPT0gYy5tYXNrKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuc3RlbmNpbEZ1bmModi5mdW5jLCB2LnJlZiwgdi5tYXNrKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGVuY2lsT3AgaW1wbGVtZW50cyBWYWx1ZTxTdGVuY2lsT3BUeXBlPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBTdGVuY2lsT3BUeXBlO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gW2dsLktFRVAsIGdsLktFRVAsIGdsLktFRVBdO1xuICAgIH1cblxuICAgIGdldCgpOiBTdGVuY2lsT3BUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IFN0ZW5jaWxPcFR5cGUpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHZbMF0gIT09IGNbMF0gfHwgdlsxXSAhPT0gY1sxXSB8fCB2WzJdICE9PSBjWzJdKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuc3RlbmNpbE9wKHZbMF0sIHZbMV0sIHZbMl0pO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0ZW5jaWxUZXN0IGltcGxlbWVudHMgVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXB0aFJhbmdlIGltcGxlbWVudHMgVmFsdWU8RGVwdGhSYW5nZVR5cGU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IERlcHRoUmFuZ2VUeXBlO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBbMCwgMV07XG4gICAgfVxuXG4gICAgZ2V0KCk6IERlcHRoUmFuZ2VUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IERlcHRoUmFuZ2VUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2WzBdICE9PSBjWzBdIHx8IHZbMV0gIT09IGNbMV0pIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5nbC5kZXB0aFJhbmdlKHZbMF0sIHZbMV0pO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlcHRoVGVzdCBpbXBsZW1lbnRzIFZhbHVlPGJvb2xlYW4+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGdldCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXB0aEZ1bmMgaW1wbGVtZW50cyBWYWx1ZTxEZXB0aEZ1bmNUeXBlPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBEZXB0aEZ1bmNUeXBlO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBjb250ZXh0LmdsLkxFU1M7XG4gICAgfVxuXG4gICAgZ2V0KCk6IERlcHRoRnVuY1R5cGUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogRGVwdGhGdW5jVHlwZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuZGVwdGhGdW5jKHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJsZW5kIGltcGxlbWVudHMgVmFsdWU8Ym9vbGVhbj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5CTEVORCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmxlbmRGdW5jIGltcGxlbWVudHMgVmFsdWU8QmxlbmRGdW5jVHlwZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogQmxlbmRGdW5jVHlwZTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IFtnbC5PTkUsIGdsLlpFUk9dO1xuICAgIH1cblxuICAgIGdldCgpOiBCbGVuZEZ1bmNUeXBlIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6IEJsZW5kRnVuY1R5cGUpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHZbMF0gIT09IGNbMF0gfHwgdlsxXSAhPT0gY1sxXSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmJsZW5kRnVuYyh2WzBdLCB2WzFdKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCbGVuZENvbG9yIGltcGxlbWVudHMgVmFsdWU8Q29sb3I+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IENvbG9yO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBDb2xvci50cmFuc3BhcmVudDtcbiAgICB9XG5cbiAgICBnZXQoKTogQ29sb3IgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogQ29sb3IpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgaWYgKHYuciAhPT0gYy5yIHx8IHYuZyAhPT0gYy5nIHx8IHYuYiAhPT0gYy5iIHx8IHYuYSAhPT0gYy5hKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wuYmxlbmRDb2xvcih2LnIsIHYuZywgdi5iLCB2LmEpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb2dyYW0gaW1wbGVtZW50cyBWYWx1ZTw/V2ViR0xQcm9ncmFtPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiA/V2ViR0xQcm9ncmFtO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cblxuICAgIGdldCgpOiA/V2ViR0xQcm9ncmFtIHsgcmV0dXJuIHRoaXMuY3VycmVudDsgfVxuXG4gICAgc2V0KHY6ID9XZWJHTFByb2dyYW0pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLnVzZVByb2dyYW0odik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGluZVdpZHRoIGltcGxlbWVudHMgVmFsdWU8bnVtYmVyPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IDE7XG4gICAgfVxuXG4gICAgZ2V0KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLmNvbnRleHQubGluZVdpZHRoUmFuZ2U7XG4gICAgICAgIGNvbnN0IGNsYW1wZWQgPSBjbGFtcCh2LCByYW5nZVswXSwgcmFuZ2VbMV0pO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSBjbGFtcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wubGluZVdpZHRoKGNsYW1wZWQpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFjdGl2ZVRleHR1cmVVbml0IGltcGxlbWVudHMgVmFsdWU8VGV4dHVyZVVuaXRUeXBlPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBUZXh0dXJlVW5pdFR5cGU7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IGNvbnRleHQuZ2wuVEVYVFVSRTA7XG4gICAgfVxuXG4gICAgZ2V0KCk6IFRleHR1cmVVbml0VHlwZSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBUZXh0dXJlVW5pdFR5cGUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdsLmFjdGl2ZVRleHR1cmUodik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmlld3BvcnQgaW1wbGVtZW50cyBWYWx1ZTxWaWV3cG9ydFR5cGU+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6IFZpZXdwb3J0VHlwZTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IFswLCAwLCBnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHRdO1xuICAgIH1cblxuICAgIGdldCgpOiBWaWV3cG9ydFR5cGUgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogVmlld3BvcnRUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIGlmICh2WzBdICE9PSBjWzBdIHx8IHZbMV0gIT09IGNbMV0gfHwgdlsyXSAhPT0gY1syXSB8fCB2WzNdICE9PSBjWzNdKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2wudmlld3BvcnQodlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluZEZyYW1lYnVmZmVyIGltcGxlbWVudHMgVmFsdWU8P1dlYkdMRnJhbWVidWZmZXI+IHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIGN1cnJlbnQ6ID9XZWJHTEZyYW1lYnVmZmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cblxuICAgIGdldCgpOiA/V2ViR0xGcmFtZWJ1ZmZlciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiA/V2ViR0xGcmFtZWJ1ZmZlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB2KSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluZFJlbmRlcmJ1ZmZlciBpbXBsZW1lbnRzIFZhbHVlPD9XZWJHTFJlbmRlcmJ1ZmZlcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogP1dlYkdMUmVuZGVyYnVmZmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cblxuICAgIGdldCgpOiA/V2ViR0xSZW5kZXJidWZmZXIgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogP1dlYkdMUmVuZGVyYnVmZmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJpbmRUZXh0dXJlIGltcGxlbWVudHMgVmFsdWU8P1dlYkdMVGV4dHVyZT4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogP1dlYkdMVGV4dHVyZTtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQ6IENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXQoKTogP1dlYkdMVGV4dHVyZSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiA/V2ViR0xUZXh0dXJlKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluZFZlcnRleEJ1ZmZlciBpbXBsZW1lbnRzIFZhbHVlPD9XZWJHTEJ1ZmZlcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogP1dlYkdMQnVmZmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cblxuICAgIGdldCgpOiA/V2ViR0xCdWZmZXIgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogP1dlYkdMQnVmZmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJpbmRFbGVtZW50QnVmZmVyIGltcGxlbWVudHMgVmFsdWU8P1dlYkdMQnVmZmVyPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiA/V2ViR0xCdWZmZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0KCk6ID9XZWJHTEJ1ZmZlciB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiA/V2ViR0xCdWZmZXIpOiB2b2lkIHtcbiAgICAgICAgLy8gQWx3YXlzIHJlYmluZFxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdik7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmluZFZlcnRleEFycmF5T0VTIGltcGxlbWVudHMgVmFsdWU8YW55PiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBhbnk7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0KCk6IGFueSB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdiAmJiB0aGlzLmNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdC5iaW5kVmVydGV4QXJyYXlPRVModik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGl4ZWxTdG9yZVVucGFjayBpbXBsZW1lbnRzIFZhbHVlPG51bWJlcj4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgY3VycmVudDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSA0O1xuICAgIH1cblxuICAgIGdldCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5jdXJyZW50OyB9XG5cbiAgICBzZXQodjogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0FMSUdOTUVOVCwgdik7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEgaW1wbGVtZW50cyBWYWx1ZTxib29sZWFuPiB7XG4gICAgY29udGV4dDogQ29udGV4dDtcbiAgICBjdXJyZW50OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cblxuICAgIHNldCh2OiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IHYpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCAodjogYW55KSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEZyYW1lYnVmZmVyIHZhbHVlc1xuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNsYXNzIEZyYW1lYnVmZmVyVmFsdWU8VD4ge1xuICAgIGNvbnRleHQ6IENvbnRleHQ7XG4gICAgcGFyZW50OiBXZWJHTEZyYW1lYnVmZmVyO1xuICAgIGN1cnJlbnQ6ID9UO1xuXG4gICAgY29uc3RydWN0b3IoY29udGV4dDogQ29udGV4dCwgcGFyZW50OiBXZWJHTEZyYW1lYnVmZmVyKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIH1cblxuICAgIGdldCgpOiA/VCB7IHJldHVybiB0aGlzLmN1cnJlbnQ7IH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbG9yQXR0YWNobWVudCBleHRlbmRzIEZyYW1lYnVmZmVyVmFsdWU8P1dlYkdMVGV4dHVyZT4gaW1wbGVtZW50cyBWYWx1ZTw/V2ViR0xUZXh0dXJlPiB7XG4gICAgZGlydHk6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCBwYXJlbnQ6IFdlYkdMRnJhbWVidWZmZXIpIHtcbiAgICAgICAgc3VwZXIoY29udGV4dCwgcGFyZW50KTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHNldCh2OiA/V2ViR0xUZXh0dXJlKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5IHx8IHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLnBhcmVudCk7XG4gICAgICAgICAgICAvLyBub3RlOiBpdCdzIHBvc3NpYmxlIHRvIGF0dGFjaCBhIHJlbmRlcmJ1ZmZlciB0byB0aGUgY29sb3JcbiAgICAgICAgICAgIC8vIGF0dGFjaG1lbnQgcG9pbnQsIGJ1dCB0aHVzIGZhciBNQkdMIG9ubHkgdXNlcyB0ZXh0dXJlcyBmb3IgY29sb3JcbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdiwgMCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0RGlydHkoKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlcHRoQXR0YWNobWVudCBleHRlbmRzIEZyYW1lYnVmZmVyVmFsdWU8P1dlYkdMUmVuZGVyYnVmZmVyPiBpbXBsZW1lbnRzIFZhbHVlPD9XZWJHTFJlbmRlcmJ1ZmZlcj4ge1xuICAgIHNldCh2OiA/V2ViR0xSZW5kZXJidWZmZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gdikge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLnBhcmVudCk7XG4gICAgICAgICAgICAvLyBub3RlOiBpdCdzIHBvc3NpYmxlIHRvIGF0dGFjaCBhIHRleHR1cmUgdG8gdGhlIGRlcHRoIGF0dGFjaG1lbnRcbiAgICAgICAgICAgIC8vIHBvaW50LCBidXQgdGh1cyBmYXIgTUJHTCBvbmx5IHVzZXMgcmVuZGVyYnVmZmVycyBmb3IgZGVwdGhcbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHYpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5pbXBvcnQgeyBDb2xvckF0dGFjaG1lbnQsIERlcHRoQXR0YWNobWVudCB9IGZyb20gJy4vdmFsdWUnO1xuXG5pbXBvcnQgdHlwZSBDb250ZXh0IGZyb20gJy4vY29udGV4dCc7XG5cbmNsYXNzIEZyYW1lYnVmZmVyIHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgZnJhbWVidWZmZXI6IFdlYkdMRnJhbWVidWZmZXI7XG4gICAgY29sb3JBdHRhY2htZW50OiBDb2xvckF0dGFjaG1lbnQ7XG4gICAgZGVwdGhBdHRhY2htZW50OiBEZXB0aEF0dGFjaG1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgICAgIGNvbnN0IGZibyA9IHRoaXMuZnJhbWVidWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuXG4gICAgICAgIHRoaXMuY29sb3JBdHRhY2htZW50ID0gbmV3IENvbG9yQXR0YWNobWVudChjb250ZXh0LCBmYm8pO1xuICAgICAgICB0aGlzLmRlcHRoQXR0YWNobWVudCA9IG5ldyBEZXB0aEF0dGFjaG1lbnQoY29udGV4dCwgZmJvKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuY29udGV4dC5nbDtcblxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5jb2xvckF0dGFjaG1lbnQuZ2V0KCk7XG4gICAgICAgIGlmICh0ZXh0dXJlKSBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUpO1xuXG4gICAgICAgIGNvbnN0IHJlbmRlcmJ1ZmZlciA9IHRoaXMuZGVwdGhBdHRhY2htZW50LmdldCgpO1xuICAgICAgICBpZiAocmVuZGVyYnVmZmVyKSBnbC5kZWxldGVSZW5kZXJidWZmZXIocmVuZGVyYnVmZmVyKTtcblxuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lYnVmZmVyKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZyYW1lYnVmZmVyO1xuIiwiLy8gQGZsb3dcbmltcG9ydCB0eXBlIHsgRGVwdGhGdW5jVHlwZSwgRGVwdGhNYXNrVHlwZSwgRGVwdGhSYW5nZVR5cGUgfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgQUxXQVlTID0gMHgwMjA3O1xuXG5jbGFzcyBEZXB0aE1vZGUge1xuICAgIGZ1bmM6IERlcHRoRnVuY1R5cGU7XG4gICAgbWFzazogRGVwdGhNYXNrVHlwZTtcbiAgICByYW5nZTogRGVwdGhSYW5nZVR5cGU7XG5cbiAgICAvLyBEZXB0aE1hc2sgZW51bXNcbiAgICBzdGF0aWMgUmVhZE9ubHk6IGJvb2xlYW47XG4gICAgc3RhdGljIFJlYWRXcml0ZTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGRlcHRoRnVuYzogRGVwdGhGdW5jVHlwZSwgZGVwdGhNYXNrOiBEZXB0aE1hc2tUeXBlLCBkZXB0aFJhbmdlOiBEZXB0aFJhbmdlVHlwZSkge1xuICAgICAgICB0aGlzLmZ1bmMgPSBkZXB0aEZ1bmM7XG4gICAgICAgIHRoaXMubWFzayA9IGRlcHRoTWFzaztcbiAgICAgICAgdGhpcy5yYW5nZSA9IGRlcHRoUmFuZ2U7XG4gICAgfVxuXG4gICAgc3RhdGljIGRpc2FibGVkOiAkUmVhZE9ubHk8RGVwdGhNb2RlPjtcbn1cblxuRGVwdGhNb2RlLlJlYWRPbmx5ID0gZmFsc2U7XG5EZXB0aE1vZGUuUmVhZFdyaXRlID0gdHJ1ZTtcblxuRGVwdGhNb2RlLmRpc2FibGVkID0gbmV3IERlcHRoTW9kZShBTFdBWVMsIERlcHRoTW9kZS5SZWFkT25seSwgWzAsIDFdKTtcblxuZXhwb3J0IGRlZmF1bHQgRGVwdGhNb2RlO1xuIiwiLy8gQGZsb3dcbmltcG9ydCB0eXBlIHsgU3RlbmNpbE9wQ29uc3RhbnQsIFN0ZW5jaWxUZXN0IH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IEFMV0FZUyA9IDB4MDIwNztcbmNvbnN0IEtFRVAgPSAweDFFMDA7XG5cbmNsYXNzIFN0ZW5jaWxNb2RlIHtcbiAgICB0ZXN0OiBTdGVuY2lsVGVzdDtcbiAgICByZWY6IG51bWJlcjtcbiAgICBtYXNrOiBudW1iZXI7XG4gICAgZmFpbDogU3RlbmNpbE9wQ29uc3RhbnQ7XG4gICAgZGVwdGhGYWlsOiBTdGVuY2lsT3BDb25zdGFudDtcbiAgICBwYXNzOiBTdGVuY2lsT3BDb25zdGFudDtcblxuICAgIGNvbnN0cnVjdG9yKHRlc3Q6IFN0ZW5jaWxUZXN0LCByZWY6IG51bWJlciwgbWFzazogbnVtYmVyLCBmYWlsOiBTdGVuY2lsT3BDb25zdGFudCxcbiAgICAgICAgZGVwdGhGYWlsOiBTdGVuY2lsT3BDb25zdGFudCwgcGFzczogU3RlbmNpbE9wQ29uc3RhbnQpIHtcbiAgICAgICAgdGhpcy50ZXN0ID0gdGVzdDtcbiAgICAgICAgdGhpcy5yZWYgPSByZWY7XG4gICAgICAgIHRoaXMubWFzayA9IG1hc2s7XG4gICAgICAgIHRoaXMuZmFpbCA9IGZhaWw7XG4gICAgICAgIHRoaXMuZGVwdGhGYWlsID0gZGVwdGhGYWlsO1xuICAgICAgICB0aGlzLnBhc3MgPSBwYXNzO1xuICAgIH1cblxuICAgIHN0YXRpYyBkaXNhYmxlZDogJFJlYWRPbmx5PFN0ZW5jaWxNb2RlPjtcbn1cblxuU3RlbmNpbE1vZGUuZGlzYWJsZWQgPSBuZXcgU3RlbmNpbE1vZGUoeyBmdW5jOiBBTFdBWVMsIG1hc2s6IDAgfSwgMCwgMCwgS0VFUCwgS0VFUCwgS0VFUCk7XG5cbmV4cG9ydCBkZWZhdWx0IFN0ZW5jaWxNb2RlO1xuIiwiLy8gQGZsb3dcbmltcG9ydCBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3InO1xuXG5pbXBvcnQgdHlwZSB7QmxlbmRGdW5jVHlwZSwgQ29sb3JNYXNrVHlwZX0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IFpFUk8gPSAweDAwMDA7XG5jb25zdCBPTkUgPSAweDAwMDE7XG5jb25zdCBPTkVfTUlOVVNfU1JDX0FMUEhBID0gMHgwMzAzO1xuXG5jbGFzcyBDb2xvck1vZGUge1xuICAgIGJsZW5kRnVuY3Rpb246IEJsZW5kRnVuY1R5cGU7XG4gICAgYmxlbmRDb2xvcjogQ29sb3I7XG4gICAgbWFzazogQ29sb3JNYXNrVHlwZTtcblxuICAgIGNvbnN0cnVjdG9yKGJsZW5kRnVuY3Rpb246IEJsZW5kRnVuY1R5cGUsIGJsZW5kQ29sb3I6IENvbG9yLCBtYXNrOiBDb2xvck1hc2tUeXBlKSB7XG4gICAgICAgIHRoaXMuYmxlbmRGdW5jdGlvbiA9IGJsZW5kRnVuY3Rpb247XG4gICAgICAgIHRoaXMuYmxlbmRDb2xvciA9IGJsZW5kQ29sb3I7XG4gICAgICAgIHRoaXMubWFzayA9IG1hc2s7XG4gICAgfVxuXG4gICAgc3RhdGljIFJlcGxhY2U6IEJsZW5kRnVuY1R5cGU7XG5cbiAgICBzdGF0aWMgZGlzYWJsZWQ6ICRSZWFkT25seTxDb2xvck1vZGU+O1xuICAgIHN0YXRpYyB1bmJsZW5kZWQ6ICRSZWFkT25seTxDb2xvck1vZGU+O1xuICAgIHN0YXRpYyBhbHBoYUJsZW5kZWQ6ICRSZWFkT25seTxDb2xvck1vZGU+O1xufVxuXG5Db2xvck1vZGUuUmVwbGFjZSA9IFtPTkUsIFpFUk9dO1xuXG5Db2xvck1vZGUuZGlzYWJsZWQgPSBuZXcgQ29sb3JNb2RlKENvbG9yTW9kZS5SZXBsYWNlLCBDb2xvci50cmFuc3BhcmVudCwgW2ZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXSk7XG5Db2xvck1vZGUudW5ibGVuZGVkID0gbmV3IENvbG9yTW9kZShDb2xvck1vZGUuUmVwbGFjZSwgQ29sb3IudHJhbnNwYXJlbnQsIFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXSk7XG5Db2xvck1vZGUuYWxwaGFCbGVuZGVkID0gbmV3IENvbG9yTW9kZShbT05FLCBPTkVfTUlOVVNfU1JDX0FMUEhBXSwgQ29sb3IudHJhbnNwYXJlbnQsIFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvbG9yTW9kZTtcbiIsIi8vIEBmbG93XG5pbXBvcnQgSW5kZXhCdWZmZXIgZnJvbSAnLi9pbmRleF9idWZmZXInO1xuXG5pbXBvcnQgVmVydGV4QnVmZmVyIGZyb20gJy4vdmVydGV4X2J1ZmZlcic7XG5pbXBvcnQgRnJhbWVidWZmZXIgZnJvbSAnLi9mcmFtZWJ1ZmZlcic7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4vZGVwdGhfbW9kZSc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi9zdGVuY2lsX21vZGUnO1xuaW1wb3J0IENvbG9yTW9kZSBmcm9tICcuL2NvbG9yX21vZGUnO1xuaW1wb3J0IHsgZGVlcEVxdWFsIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IENsZWFyQ29sb3IsIENsZWFyRGVwdGgsIENsZWFyU3RlbmNpbCwgQ29sb3JNYXNrLCBEZXB0aE1hc2ssIFN0ZW5jaWxNYXNrLCBTdGVuY2lsRnVuYywgU3RlbmNpbE9wLCBTdGVuY2lsVGVzdCwgRGVwdGhSYW5nZSwgRGVwdGhUZXN0LCBEZXB0aEZ1bmMsIEJsZW5kLCBCbGVuZEZ1bmMsIEJsZW5kQ29sb3IsIFByb2dyYW0sIExpbmVXaWR0aCwgQWN0aXZlVGV4dHVyZVVuaXQsIFZpZXdwb3J0LCBCaW5kRnJhbWVidWZmZXIsIEJpbmRSZW5kZXJidWZmZXIsIEJpbmRUZXh0dXJlLCBCaW5kVmVydGV4QnVmZmVyLCBCaW5kRWxlbWVudEJ1ZmZlciwgQmluZFZlcnRleEFycmF5T0VTLCBQaXhlbFN0b3JlVW5wYWNrLCBQaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYSB9IGZyb20gJy4vdmFsdWUnO1xuXG5cbmltcG9ydCB0eXBlIHtUcmlhbmdsZUluZGV4QXJyYXksIExpbmVJbmRleEFycmF5fSBmcm9tICcuLi9kYXRhL2luZGV4X2FycmF5X3R5cGUnO1xuaW1wb3J0IHR5cGUge1xuICAgIFN0cnVjdEFycmF5LFxuICAgIFN0cnVjdEFycmF5TWVtYmVyXG59IGZyb20gJy4uL3V0aWwvc3RydWN0X2FycmF5JztcbmltcG9ydCB0eXBlIENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5cbnR5cGUgQ2xlYXJBcmdzID0ge1xuICAgIGNvbG9yPzogQ29sb3IsXG4gICAgZGVwdGg/OiBudW1iZXIsXG4gICAgc3RlbmNpbD86IG51bWJlclxufTtcblxuXG5jbGFzcyBDb250ZXh0IHtcbiAgICBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xuICAgIGV4dFZlcnRleEFycmF5T2JqZWN0OiBhbnk7XG4gICAgY3VycmVudE51bUF0dHJpYnV0ZXM6ID9udW1iZXI7XG4gICAgbGluZVdpZHRoUmFuZ2U6IFtudW1iZXIsIG51bWJlcl07XG5cbiAgICBjbGVhckNvbG9yOiBDbGVhckNvbG9yO1xuICAgIGNsZWFyRGVwdGg6IENsZWFyRGVwdGg7XG4gICAgY2xlYXJTdGVuY2lsOiBDbGVhclN0ZW5jaWw7XG4gICAgY29sb3JNYXNrOiBDb2xvck1hc2s7XG4gICAgZGVwdGhNYXNrOiBEZXB0aE1hc2s7XG4gICAgc3RlbmNpbE1hc2s6IFN0ZW5jaWxNYXNrO1xuICAgIHN0ZW5jaWxGdW5jOiBTdGVuY2lsRnVuYztcbiAgICBzdGVuY2lsT3A6IFN0ZW5jaWxPcDtcbiAgICBzdGVuY2lsVGVzdDogU3RlbmNpbFRlc3Q7XG4gICAgZGVwdGhSYW5nZTogRGVwdGhSYW5nZTtcbiAgICBkZXB0aFRlc3Q6IERlcHRoVGVzdDtcbiAgICBkZXB0aEZ1bmM6IERlcHRoRnVuYztcbiAgICBibGVuZDogQmxlbmQ7XG4gICAgYmxlbmRGdW5jOiBCbGVuZEZ1bmM7XG4gICAgYmxlbmRDb2xvcjogQmxlbmRDb2xvcjtcbiAgICBwcm9ncmFtOiBQcm9ncmFtO1xuICAgIGxpbmVXaWR0aDogTGluZVdpZHRoO1xuICAgIGFjdGl2ZVRleHR1cmU6IEFjdGl2ZVRleHR1cmVVbml0O1xuICAgIHZpZXdwb3J0OiBWaWV3cG9ydDtcbiAgICBiaW5kRnJhbWVidWZmZXI6IEJpbmRGcmFtZWJ1ZmZlcjtcbiAgICBiaW5kUmVuZGVyYnVmZmVyOiBCaW5kUmVuZGVyYnVmZmVyO1xuICAgIGJpbmRUZXh0dXJlOiBCaW5kVGV4dHVyZTtcbiAgICBiaW5kVmVydGV4QnVmZmVyOiBCaW5kVmVydGV4QnVmZmVyO1xuICAgIGJpbmRFbGVtZW50QnVmZmVyOiBCaW5kRWxlbWVudEJ1ZmZlcjtcbiAgICBiaW5kVmVydGV4QXJyYXlPRVM6IEJpbmRWZXJ0ZXhBcnJheU9FUztcbiAgICBwaXhlbFN0b3JlVW5wYWNrOiBQaXhlbFN0b3JlVW5wYWNrO1xuICAgIHBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhOiBQaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYTtcblxuICAgIGV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYzogYW55O1xuICAgIGV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heDogYW55O1xuICAgIGV4dFRleHR1cmVIYWxmRmxvYXQ6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0ID0gdGhpcy5nbC5nZXRFeHRlbnNpb24oJ09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0Jyk7XG4gICAgICAgIHRoaXMubGluZVdpZHRoUmFuZ2UgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuQUxJQVNFRF9MSU5FX1dJRFRIX1JBTkdFKTtcblxuICAgICAgICB0aGlzLmNsZWFyQ29sb3IgPSBuZXcgQ2xlYXJDb2xvcih0aGlzKTtcbiAgICAgICAgdGhpcy5jbGVhckRlcHRoID0gbmV3IENsZWFyRGVwdGgodGhpcyk7XG4gICAgICAgIHRoaXMuY2xlYXJTdGVuY2lsID0gbmV3IENsZWFyU3RlbmNpbCh0aGlzKTtcbiAgICAgICAgdGhpcy5jb2xvck1hc2sgPSBuZXcgQ29sb3JNYXNrKHRoaXMpO1xuICAgICAgICB0aGlzLmRlcHRoTWFzayA9IG5ldyBEZXB0aE1hc2sodGhpcyk7XG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2sgPSBuZXcgU3RlbmNpbE1hc2sodGhpcyk7XG4gICAgICAgIHRoaXMuc3RlbmNpbEZ1bmMgPSBuZXcgU3RlbmNpbEZ1bmModGhpcyk7XG4gICAgICAgIHRoaXMuc3RlbmNpbE9wID0gbmV3IFN0ZW5jaWxPcCh0aGlzKTtcbiAgICAgICAgdGhpcy5zdGVuY2lsVGVzdCA9IG5ldyBTdGVuY2lsVGVzdCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXB0aFJhbmdlID0gbmV3IERlcHRoUmFuZ2UodGhpcyk7XG4gICAgICAgIHRoaXMuZGVwdGhUZXN0ID0gbmV3IERlcHRoVGVzdCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXB0aEZ1bmMgPSBuZXcgRGVwdGhGdW5jKHRoaXMpO1xuICAgICAgICB0aGlzLmJsZW5kID0gbmV3IEJsZW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJsZW5kRnVuYyA9IG5ldyBCbGVuZEZ1bmModGhpcyk7XG4gICAgICAgIHRoaXMuYmxlbmRDb2xvciA9IG5ldyBCbGVuZENvbG9yKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBuZXcgUHJvZ3JhbSh0aGlzKTtcbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBuZXcgTGluZVdpZHRoKHRoaXMpO1xuICAgICAgICB0aGlzLmFjdGl2ZVRleHR1cmUgPSBuZXcgQWN0aXZlVGV4dHVyZVVuaXQodGhpcyk7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSBuZXcgVmlld3BvcnQodGhpcyk7XG4gICAgICAgIHRoaXMuYmluZEZyYW1lYnVmZmVyID0gbmV3IEJpbmRGcmFtZWJ1ZmZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5iaW5kUmVuZGVyYnVmZmVyID0gbmV3IEJpbmRSZW5kZXJidWZmZXIodGhpcyk7XG4gICAgICAgIHRoaXMuYmluZFRleHR1cmUgPSBuZXcgQmluZFRleHR1cmUodGhpcyk7XG4gICAgICAgIHRoaXMuYmluZFZlcnRleEJ1ZmZlciA9IG5ldyBCaW5kVmVydGV4QnVmZmVyKHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRFbGVtZW50QnVmZmVyID0gbmV3IEJpbmRFbGVtZW50QnVmZmVyKHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUyA9IHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QgJiYgbmV3IEJpbmRWZXJ0ZXhBcnJheU9FUyh0aGlzKTtcbiAgICAgICAgdGhpcy5waXhlbFN0b3JlVW5wYWNrID0gbmV3IFBpeGVsU3RvcmVVbnBhY2sodGhpcyk7XG4gICAgICAgIHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEgPSBuZXcgUGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEodGhpcyk7XG5cbiAgICAgICAgdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMgPSAoXG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpIHx8XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ01PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKSB8fFxuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJylcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljKSB7XG4gICAgICAgICAgICB0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCA9IGdsLmdldFBhcmFtZXRlcih0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0Jyk7XG4gICAgICAgIGlmICh0aGlzLmV4dFRleHR1cmVIYWxmRmxvYXQpIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgY3JlYXRlSW5kZXhCdWZmZXIoYXJyYXk6IFRyaWFuZ2xlSW5kZXhBcnJheSB8IExpbmVJbmRleEFycmF5LCBkeW5hbWljRHJhdz86IGJvb2xlYW4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbmRleEJ1ZmZlcih0aGlzLCBhcnJheSwgZHluYW1pY0RyYXcpO1xuICAgIH1cblxuICAgIGNyZWF0ZVZlcnRleEJ1ZmZlcihhcnJheTogU3RydWN0QXJyYXksIGF0dHJpYnV0ZXM6ICRSZWFkT25seUFycmF5PFN0cnVjdEFycmF5TWVtYmVyPiwgZHluYW1pY0RyYXc/OiBib29sZWFuKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVydGV4QnVmZmVyKHRoaXMsIGFycmF5LCBhdHRyaWJ1dGVzLCBkeW5hbWljRHJhdyk7XG4gICAgfVxuXG4gICAgY3JlYXRlUmVuZGVyYnVmZmVyKHN0b3JhZ2VGb3JtYXQ6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIGNvbnN0IHJibyA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuICAgICAgICB0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KHJibyk7XG4gICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBzdG9yYWdlRm9ybWF0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5iaW5kUmVuZGVyYnVmZmVyLnNldChudWxsKTtcblxuICAgICAgICByZXR1cm4gcmJvO1xuICAgIH1cblxuICAgIGNyZWF0ZUZyYW1lYnVmZmVyKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnJhbWVidWZmZXIodGhpcywgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgY2xlYXIoe2NvbG9yLCBkZXB0aH06IENsZWFyQXJncykge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGxldCBtYXNrID0gMDtcblxuICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICAgIG1hc2sgfD0gZ2wuQ09MT1JfQlVGRkVSX0JJVDtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJDb2xvci5zZXQoY29sb3IpO1xuICAgICAgICAgICAgdGhpcy5jb2xvck1hc2suc2V0KFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGRlcHRoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbWFzayB8PSBnbC5ERVBUSF9CVUZGRVJfQklUO1xuICAgICAgICAgICAgdGhpcy5jbGVhckRlcHRoLnNldChkZXB0aCk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoTWFzay5zZXQodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZWUgbm90ZSBpbiBQYWludGVyI2NsZWFyU3RlbmNpbDogaW1wbGVtZW50IHRoaXMgdGhlIGVhc3kgd2F5IG9uY2UgR1BVIGJ1Zy93b3JrYXJvdW5kIGlzIGZpeGVkIHVwc3RyZWFtXG4gICAgICAgIC8vIGlmICh0eXBlb2Ygc3RlbmNpbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gICAgIG1hc2sgfD0gZ2wuU1RFTkNJTF9CVUZGRVJfQklUO1xuICAgICAgICAvLyAgICAgdGhpcy5jbGVhclN0ZW5jaWwuc2V0KHN0ZW5jaWwpO1xuICAgICAgICAvLyAgICAgdGhpcy5zdGVuY2lsTWFzay5zZXQoMHhGRik7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBnbC5jbGVhcihtYXNrKTtcbiAgICB9XG5cbiAgICBzZXREZXB0aE1vZGUoZGVwdGhNb2RlOiAkUmVhZE9ubHk8RGVwdGhNb2RlPikge1xuICAgICAgICBpZiAoZGVwdGhNb2RlLmZ1bmMgPT09IHRoaXMuZ2wuQUxXQVlTICYmICFkZXB0aE1vZGUubWFzaykge1xuICAgICAgICAgICAgdGhpcy5kZXB0aFRlc3Quc2V0KGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhUZXN0LnNldCh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhGdW5jLnNldChkZXB0aE1vZGUuZnVuYyk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoTWFzay5zZXQoZGVwdGhNb2RlLm1hc2spO1xuICAgICAgICAgICAgdGhpcy5kZXB0aFJhbmdlLnNldChkZXB0aE1vZGUucmFuZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0U3RlbmNpbE1vZGUoc3RlbmNpbE1vZGU6ICRSZWFkT25seTxTdGVuY2lsTW9kZT4pIHtcbiAgICAgICAgaWYgKHN0ZW5jaWxNb2RlLnRlc3QuZnVuYyA9PT0gdGhpcy5nbC5BTFdBWVMgJiYgIXN0ZW5jaWxNb2RlLm1hc2spIHtcbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbFRlc3Quc2V0KGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RlbmNpbFRlc3Quc2V0KHRydWUpO1xuICAgICAgICAgICAgdGhpcy5zdGVuY2lsTWFzay5zZXQoc3RlbmNpbE1vZGUubWFzayk7XG4gICAgICAgICAgICB0aGlzLnN0ZW5jaWxPcC5zZXQoW3N0ZW5jaWxNb2RlLmZhaWwsIHN0ZW5jaWxNb2RlLmRlcHRoRmFpbCwgc3RlbmNpbE1vZGUucGFzc10pO1xuICAgICAgICAgICAgdGhpcy5zdGVuY2lsRnVuYy5zZXQoe1xuICAgICAgICAgICAgICAgIGZ1bmM6IHN0ZW5jaWxNb2RlLnRlc3QuZnVuYyxcbiAgICAgICAgICAgICAgICByZWY6IHN0ZW5jaWxNb2RlLnJlZixcbiAgICAgICAgICAgICAgICBtYXNrOiBzdGVuY2lsTW9kZS50ZXN0Lm1hc2tcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0Q29sb3JNb2RlKGNvbG9yTW9kZTogJFJlYWRPbmx5PENvbG9yTW9kZT4pIHtcbiAgICAgICAgaWYgKGRlZXBFcXVhbChjb2xvck1vZGUuYmxlbmRGdW5jdGlvbiwgQ29sb3JNb2RlLlJlcGxhY2UpKSB7XG4gICAgICAgICAgICB0aGlzLmJsZW5kLnNldChmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJsZW5kLnNldCh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuYmxlbmRGdW5jLnNldChjb2xvck1vZGUuYmxlbmRGdW5jdGlvbik7XG4gICAgICAgICAgICB0aGlzLmJsZW5kQ29sb3Iuc2V0KGNvbG9yTW9kZS5ibGVuZENvbG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29sb3JNYXNrLnNldChjb2xvck1vZGUubWFzayk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250ZXh0O1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgY3JlYXRlIGFzIGNyZWF0ZVNvdXJjZSB9IGZyb20gJy4vc291cmNlJztcblxuaW1wb3J0IFRpbGUgZnJvbSAnLi90aWxlJztcbmltcG9ydCB7IEV2ZW50LCBFcnJvckV2ZW50LCBFdmVudGVkIH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCBDYWNoZSBmcm9tICcuLi91dGlsL2xydV9jYWNoZSc7XG5pbXBvcnQgQ29vcmRpbmF0ZSBmcm9tICcuLi9nZW8vY29vcmRpbmF0ZSc7XG5pbXBvcnQgeyBrZXlzRGlmZmVyZW5jZSB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50JztcbmltcG9ydCBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcbmltcG9ydCB7IE92ZXJzY2FsZWRUaWxlSUQgfSBmcm9tICcuL3RpbGVfaWQnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgdHlwZSB7U291cmNlfSBmcm9tICcuL3NvdXJjZSc7XG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwJztcbmltcG9ydCB0eXBlIFN0eWxlIGZyb20gJy4uL3N0eWxlL3N0eWxlJztcbmltcG9ydCB0eXBlIERpc3BhdGNoZXIgZnJvbSAnLi4vdXRpbC9kaXNwYXRjaGVyJztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcbmltcG9ydCB0eXBlIHtUaWxlU3RhdGV9IGZyb20gJy4vdGlsZSc7XG5pbXBvcnQgdHlwZSB7Q2FsbGJhY2t9IGZyb20gJy4uL3R5cGVzL2NhbGxiYWNrJztcblxuLyoqXG4gKiBgU291cmNlQ2FjaGVgIGlzIHJlc3BvbnNpYmxlIGZvclxuICpcbiAqICAtIGNyZWF0aW5nIGFuIGluc3RhbmNlIG9mIGBTb3VyY2VgXG4gKiAgLSBmb3J3YXJkaW5nIGV2ZW50cyBmcm9tIGBTb3VyY2VgXG4gKiAgLSBjYWNoaW5nIHRpbGVzIGxvYWRlZCBmcm9tIGFuIGluc3RhbmNlIG9mIGBTb3VyY2VgXG4gKiAgLSBsb2FkaW5nIHRoZSB0aWxlcyBuZWVkZWQgdG8gcmVuZGVyIGEgZ2l2ZW4gdmlld3BvcnRcbiAqICAtIHVubG9hZGluZyB0aGUgY2FjaGVkIHRpbGVzIG5vdCBuZWVkZWQgdG8gcmVuZGVyIGEgZ2l2ZW4gdmlld3BvcnRcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBTb3VyY2VDYWNoZSBleHRlbmRzIEV2ZW50ZWQge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgICBtYXA6IE1hcDtcbiAgICBzdHlsZTogU3R5bGU7XG5cbiAgICBfc291cmNlOiBTb3VyY2U7XG4gICAgX3NvdXJjZUxvYWRlZDogYm9vbGVhbjtcbiAgICBfc291cmNlRXJyb3JlZDogYm9vbGVhbjtcbiAgICBfdGlsZXM6IHtbYW55XTogVGlsZX07XG4gICAgX2NhY2hlOiBDYWNoZTxUaWxlPjtcbiAgICBfdGltZXJzOiB7W2FueV06IFRpbWVvdXRJRH07XG4gICAgX2NhY2hlVGltZXJzOiB7W2FueV06IFRpbWVvdXRJRH07XG4gICAgX21heFRpbGVDYWNoZVNpemU6ID9udW1iZXI7XG4gICAgX3BhdXNlZDogYm9vbGVhbjtcbiAgICBfc2hvdWxkUmVsb2FkT25SZXN1bWU6IGJvb2xlYW47XG4gICAgX2NvdmVyZWRUaWxlczoge1thbnldOiBib29sZWFufTtcbiAgICB0cmFuc2Zvcm06IFRyYW5zZm9ybTtcbiAgICBfaXNJZFJlbmRlcmFibGU6IChpZDogbnVtYmVyKSA9PiBib29sZWFuO1xuICAgIHVzZWQ6IGJvb2xlYW47XG5cbiAgICBzdGF0aWMgbWF4VW5kZXJ6b29taW5nOiBudW1iZXI7XG4gICAgc3RhdGljIG1heE92ZXJ6b29taW5nOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zOiBTb3VyY2VTcGVjaWZpY2F0aW9uLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcblxuICAgICAgICB0aGlzLm9uKCdkYXRhJywgKGUpID0+IHtcbiAgICAgICAgICAgIC8vIHRoaXMuX3NvdXJjZUxvYWRlZCBzaWduaWZpZXMgdGhhdCB0aGUgVGlsZUpTT04gaXMgbG9hZGVkIGlmIGFwcGxpY2FibGUuXG4gICAgICAgICAgICAvLyBpZiB0aGUgc291cmNlIHR5cGUgZG9lcyBub3QgY29tZSB3aXRoIGEgVGlsZUpTT04sIHRoZSBmbGFnIHNpZ25pZmllcyB0aGVcbiAgICAgICAgICAgIC8vIHNvdXJjZSBkYXRhIGhhcyBsb2FkZWQgKGkuZSBnZW9qc29uIGhhcyBiZWVuIHRpbGVkIG9uIHRoZSB3b3JrZXIgYW5kIGlzIHJlYWR5KVxuICAgICAgICAgICAgaWYgKGUuZGF0YVR5cGUgPT09ICdzb3VyY2UnICYmIGUuc291cmNlRGF0YVR5cGUgPT09ICdtZXRhZGF0YScpIHRoaXMuX3NvdXJjZUxvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIGZvciBzb3VyY2VzIHdpdGggbXV0YWJsZSBkYXRhLCB0aGlzIGV2ZW50IGZpcmVzIHdoZW4gdGhlIHVuZGVybHlpbmcgZGF0YVxuICAgICAgICAgICAgLy8gdG8gYSBzb3VyY2UgaXMgY2hhbmdlZC4gKGkuZS4gR2VvSlNPTlNvdXJjZSNzZXREYXRhIGFuZCBJbWFnZVNvdXJjZSNzZXJDb29yZGluYXRlcylcbiAgICAgICAgICAgIGlmICh0aGlzLl9zb3VyY2VMb2FkZWQgJiYgIXRoaXMuX3BhdXNlZCAmJiBlLmRhdGFUeXBlID09PSBcInNvdXJjZVwiICYmIGUuc291cmNlRGF0YVR5cGUgPT09ICdjb250ZW50Jykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub24oJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc291cmNlRXJyb3JlZCA9IHRydWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3NvdXJjZSA9IGNyZWF0ZVNvdXJjZShpZCwgb3B0aW9ucywgZGlzcGF0Y2hlciwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fdGlsZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgQ2FjaGUoMCwgdGhpcy5fdW5sb2FkVGlsZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fdGltZXJzID0ge307XG4gICAgICAgIHRoaXMuX2NhY2hlVGltZXJzID0ge307XG4gICAgICAgIHRoaXMuX21heFRpbGVDYWNoZVNpemUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2lzSWRSZW5kZXJhYmxlID0gdGhpcy5faXNJZFJlbmRlcmFibGUuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLl9jb3ZlcmVkVGlsZXMgPSB7fTtcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSA9IG1hcCA/IG1hcC5fbWF4VGlsZUNhY2hlU2l6ZSA6IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9zb3VyY2UgJiYgdGhpcy5fc291cmNlLm9uQWRkKSB7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2Uub25BZGQobWFwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUmVtb3ZlKG1hcDogTWFwKSB7XG4gICAgICAgIGlmICh0aGlzLl9zb3VyY2UgJiYgdGhpcy5fc291cmNlLm9uUmVtb3ZlKSB7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2Uub25SZW1vdmUobWFwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0cnVlIGlmIG5vIHRpbGUgZGF0YSBpcyBwZW5kaW5nLCB0aWxlcyB3aWxsIG5vdCBjaGFuZ2UgdW5sZXNzXG4gICAgICogYW4gYWRkaXRpb25hbCBBUEkgY2FsbCBpcyByZWNlaXZlZC5cbiAgICAgKi9cbiAgICBsb2FkZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLl9zb3VyY2VFcnJvcmVkKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgIGlmICghdGhpcy5fc291cmNlTG9hZGVkKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICBmb3IgKGNvbnN0IHQgaW4gdGhpcy5fdGlsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl90aWxlc1t0XTtcbiAgICAgICAgICAgIGlmICh0aWxlLnN0YXRlICE9PSAnbG9hZGVkJyAmJiB0aWxlLnN0YXRlICE9PSAnZXJyb3JlZCcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGdldFNvdXJjZSgpOiBTb3VyY2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlO1xuICAgIH1cblxuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLl9wYXVzZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wYXVzZWQpIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2hvdWxkUmVsb2FkID0gdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU7XG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZSA9IGZhbHNlO1xuICAgICAgICBpZiAoc2hvdWxkUmVsb2FkKSB0aGlzLnJlbG9hZCgpO1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pIHRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICBfbG9hZFRpbGUodGlsZTogVGlsZSwgY2FsbGJhY2s6IENhbGxiYWNrPHZvaWQ+KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VyY2UubG9hZFRpbGUodGlsZSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIF91bmxvYWRUaWxlKHRpbGU6IFRpbGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvdXJjZS51bmxvYWRUaWxlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZS51bmxvYWRUaWxlKHRpbGUsICgpID0+IHt9KTtcbiAgICB9XG5cbiAgICBfYWJvcnRUaWxlKHRpbGU6IFRpbGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvdXJjZS5hYm9ydFRpbGUpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlLmFib3J0VGlsZSh0aWxlLCAoKSA9PiB7fSk7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc291cmNlLnNlcmlhbGl6ZSgpO1xuICAgIH1cblxuICAgIHByZXBhcmUoY29udGV4dDogQ29udGV4dCkge1xuICAgICAgICBpZiAgKHRoaXMuX3NvdXJjZS5wcmVwYXJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2UucHJlcGFyZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMuX3RpbGVzKSB7XG4gICAgICAgICAgICB0aGlzLl90aWxlc1tpXS51cGxvYWQoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYWxsIHRpbGUgaWRzIG9yZGVyZWQgd2l0aCB6LW9yZGVyLCBhbmQgY2FzdCB0byBudW1iZXJzXG4gICAgICovXG4gICAgZ2V0SWRzKCk6IEFycmF5PG51bWJlcj4ge1xuXG4gICAgICAgIGNvbnN0IGNvbXBhcmVLZXlab29tID0gKGFfLCBiXykgPT4ge1xuICAgICAgICAgICAgY29uc3QgYSA9IHRoaXMuX3RpbGVzW2FfXS50aWxlSUQ7XG4gICAgICAgICAgICBjb25zdCBiID0gdGhpcy5fdGlsZXNbYl9dLnRpbGVJRDtcbiAgICAgICAgICAgIGNvbnN0IHJvdGF0ZWRBID0gKG5ldyBQb2ludChhLmNhbm9uaWNhbC54LCBhLmNhbm9uaWNhbC55KSkucm90YXRlKHRoaXMudHJhbnNmb3JtLmFuZ2xlKTtcbiAgICAgICAgICAgIGNvbnN0IHJvdGF0ZWRCID0gKG5ldyBQb2ludChiLmNhbm9uaWNhbC54LCBiLmNhbm9uaWNhbC55KSkucm90YXRlKHRoaXMudHJhbnNmb3JtLmFuZ2xlKTtcbiAgICAgICAgICAgIHJldHVybiBhLm92ZXJzY2FsZWRaIC0gYi5vdmVyc2NhbGVkWiB8fCByb3RhdGVkQi55IC0gcm90YXRlZEEueSB8fCByb3RhdGVkQi54IC0gcm90YXRlZEEueDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fdGlsZXMpLm1hcChOdW1iZXIpLnNvcnQoY29tcGFyZUtleVpvb20pO1xuICAgIH1cblxuICAgIGdldFJlbmRlcmFibGVJZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldElkcygpLmZpbHRlcih0aGlzLl9pc0lkUmVuZGVyYWJsZSk7XG4gICAgfVxuXG4gICAgaGFzUmVuZGVyYWJsZVBhcmVudCh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50VGlsZSA9IHRoaXMuZmluZExvYWRlZFBhcmVudCh0aWxlSUQsIDAsIHt9KTtcbiAgICAgICAgaWYgKHBhcmVudFRpbGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc0lkUmVuZGVyYWJsZShwYXJlbnRUaWxlLnRpbGVJRC5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfaXNJZFJlbmRlcmFibGUoaWQ6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlsZXNbaWRdICYmIHRoaXMuX3RpbGVzW2lkXS5oYXNEYXRhKCkgJiYgIXRoaXMuX2NvdmVyZWRUaWxlc1tpZF07XG4gICAgfVxuXG4gICAgcmVsb2FkKCkge1xuICAgICAgICBpZiAodGhpcy5fcGF1c2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZXNldENhY2hlKCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMuX3RpbGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWxvYWRUaWxlKGksICdyZWxvYWRpbmcnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZWxvYWRUaWxlKGlkOiBzdHJpbmcgfCBudW1iZXIsIHN0YXRlOiBUaWxlU3RhdGUpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX3RpbGVzW2lkXTtcblxuICAgICAgICAvLyB0aGlzIHBvdGVudGlhbGx5IGRvZXMgbm90IGFkZHJlc3MgYWxsIHVuZGVybHlpbmdcbiAgICAgICAgLy8gaXNzdWVzIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy80MjUyXG4gICAgICAgIC8vIC0gaGFyZCB0byB0ZWxsIHdpdGhvdXQgcmVwcm8gc3RlcHNcbiAgICAgICAgaWYgKCF0aWxlKSByZXR1cm47XG5cbiAgICAgICAgLy8gVGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBcImxvYWRpbmdcIiB0aWxlcyBhbmQgXCJyZWxvYWRpbmdcIiBvciBcImV4cGlyZWRcIlxuICAgICAgICAvLyB0aWxlcyBpcyB0aGF0IFwicmVsb2FkaW5nXCIvXCJleHBpcmVkXCIgdGlsZXMgYXJlIFwicmVuZGVyYWJsZVwiLlxuICAgICAgICAvLyBUaGVyZWZvcmUsIGEgXCJsb2FkaW5nXCIgdGlsZSBjYW5ub3QgYmVjb21lIGEgXCJyZWxvYWRpbmdcIiB0aWxlIHdpdGhvdXRcbiAgICAgICAgLy8gZmlyc3QgYmVjb21pbmcgYSBcImxvYWRlZFwiIHRpbGUuXG4gICAgICAgIGlmICh0aWxlLnN0YXRlICE9PSAnbG9hZGluZycpIHtcbiAgICAgICAgICAgIHRpbGUuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWRUaWxlKHRpbGUsIHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLCB0aWxlLCBpZCwgc3RhdGUpKTtcbiAgICB9XG5cbiAgICBfdGlsZUxvYWRlZCh0aWxlOiBUaWxlLCBpZDogc3RyaW5nIHwgbnVtYmVyLCBwcmV2aW91c1N0YXRlOiBUaWxlU3RhdGUsIGVycjogP0Vycm9yKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHRpbGUuc3RhdGUgPSAnZXJyb3JlZCc7XG4gICAgICAgICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB0aGlzLl9zb3VyY2UuZmlyZShuZXcgRXJyb3JFdmVudChlcnIsIHt0aWxlfSkpO1xuICAgICAgICAgICAgLy8gY29udGludWUgdG8gdHJ5IGxvYWRpbmcgcGFyZW50L2NoaWxkcmVuIHRpbGVzIGlmIGEgdGlsZSBkb2Vzbid0IGV4aXN0ICg0MDQpXG4gICAgICAgICAgICBlbHNlIHRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRpbGUudGltZUFkZGVkID0gYnJvd3Nlci5ub3coKTtcbiAgICAgICAgaWYgKHByZXZpb3VzU3RhdGUgPT09ICdleHBpcmVkJykgdGlsZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcihpZCwgdGlsZSk7XG4gICAgICAgIGlmICh0aGlzLmdldFNvdXJjZSgpLnR5cGUgPT09ICdyYXN0ZXItZGVtJyAmJiB0aWxlLmRlbSkgdGhpcy5fYmFja2ZpbGxERU0odGlsZSk7XG4gICAgICAgIHRoaXMuX3NvdXJjZS5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3NvdXJjZScsIHRpbGU6IHRpbGUsIGNvb3JkOiB0aWxlLnRpbGVJRH0pKTtcblxuICAgICAgICAvLyBIQUNLIHRoaXMgaXMgbmVjZXNzYXJ5IHRvIGZpeCBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMjk4NlxuICAgICAgICBpZiAodGhpcy5tYXApIHRoaXMubWFwLnBhaW50ZXIudGlsZUV4dGVudFZBTy52YW8gPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogRm9yIHJhc3RlciB0ZXJyYWluIHNvdXJjZSwgYmFja2ZpbGwgREVNIHRvIGVsaW1pbmF0ZSB2aXNpYmxlIHRpbGUgYm91bmRhcmllc1xuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIF9iYWNrZmlsbERFTSh0aWxlOiBUaWxlKSB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmFibGVzID0gdGhpcy5nZXRSZW5kZXJhYmxlSWRzKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGJvcmRlcklkID0gcmVuZGVyYWJsZXNbaV07XG4gICAgICAgICAgICBpZiAodGlsZS5uZWlnaGJvcmluZ1RpbGVzICYmIHRpbGUubmVpZ2hib3JpbmdUaWxlc1tib3JkZXJJZF0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib3JkZXJUaWxlID0gdGhpcy5nZXRUaWxlQnlJRChib3JkZXJJZCk7XG4gICAgICAgICAgICAgICAgZmlsbEJvcmRlcih0aWxlLCBib3JkZXJUaWxlKTtcbiAgICAgICAgICAgICAgICBmaWxsQm9yZGVyKGJvcmRlclRpbGUsIHRpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZmlsbEJvcmRlcih0aWxlLCBib3JkZXJUaWxlKSB7XG4gICAgICAgICAgICB0aWxlLm5lZWRzSGlsbHNoYWRlUHJlcGFyZSA9IHRydWU7XG4gICAgICAgICAgICBsZXQgZHggPSBib3JkZXJUaWxlLnRpbGVJRC5jYW5vbmljYWwueCAtIHRpbGUudGlsZUlELmNhbm9uaWNhbC54O1xuICAgICAgICAgICAgY29uc3QgZHkgPSBib3JkZXJUaWxlLnRpbGVJRC5jYW5vbmljYWwueSAtIHRpbGUudGlsZUlELmNhbm9uaWNhbC55O1xuICAgICAgICAgICAgY29uc3QgZGltID0gTWF0aC5wb3coMiwgdGlsZS50aWxlSUQuY2Fub25pY2FsLnopO1xuICAgICAgICAgICAgY29uc3QgYm9yZGVySWQgPSBib3JkZXJUaWxlLnRpbGVJRC5rZXk7XG4gICAgICAgICAgICBpZiAoZHggPT09IDAgJiYgZHkgPT09IDApIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGR5KSA+IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZHgpID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIEFkanVzdCB0aGUgZGVsdGEgY29vcmRpbmF0ZSBmb3Igd29ybGQgd3JhcGFyb3VuZC5cbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZHggKyBkaW0pID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGR4ICs9IGRpbTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGR4IC0gZGltKSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBkeCAtPSBkaW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFib3JkZXJUaWxlLmRlbSB8fCAhdGlsZS5kZW0pIHJldHVybjtcbiAgICAgICAgICAgIHRpbGUuZGVtLmJhY2tmaWxsQm9yZGVyKGJvcmRlclRpbGUuZGVtLCBkeCwgZHkpO1xuICAgICAgICAgICAgaWYgKHRpbGUubmVpZ2hib3JpbmdUaWxlcyAmJiB0aWxlLm5laWdoYm9yaW5nVGlsZXNbYm9yZGVySWRdKVxuICAgICAgICAgICAgICAgIHRpbGUubmVpZ2hib3JpbmdUaWxlc1tib3JkZXJJZF0uYmFja2ZpbGxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgc3BlY2lmaWMgdGlsZSBieSBUaWxlSURcbiAgICAgKi9cbiAgICBnZXRUaWxlKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6IFRpbGUge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWxlQnlJRCh0aWxlSUQua2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBzcGVjaWZpYyB0aWxlIGJ5IGlkXG4gICAgICovXG4gICAgZ2V0VGlsZUJ5SUQoaWQ6IHN0cmluZyB8IG51bWJlcik6IFRpbGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlsZXNbaWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCB0aGUgem9vbSBsZXZlbCBhZGp1c3RlZCBmb3IgdGhlIGRpZmZlcmVuY2UgaW4gbWFwIGFuZCBzb3VyY2UgdGlsZXNpemVzXG4gICAgICovXG4gICAgZ2V0Wm9vbSh0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm0uem9vbSArIHRyYW5zZm9ybS5zY2FsZVpvb20odHJhbnNmb3JtLnRpbGVTaXplIC8gdGhpcy5fc291cmNlLnRpbGVTaXplKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmaW5kIGNoaWxkcmVuIG9mIHRoZSBnaXZlbiB0aWxlICh1cCB0byBtYXhDb3ZlcmluZ1pvb20pIHRoYXQgYXJlIGFscmVhZHkgbG9hZGVkO1xuICAgICAqIGFkZHMgZm91bmQgdGlsZXMgdG8gcmV0YWluIG9iamVjdDsgcmV0dXJucyB0cnVlIGlmIGFueSBjaGlsZCBpcyBmb3VuZC5cbiAgICAgKi9cbiAgICBfZmluZExvYWRlZENoaWxkcmVuKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgbWF4Q292ZXJpbmdab29tOiBudW1iZXIsIHJldGFpbjoge1thbnldOiBPdmVyc2NhbGVkVGlsZUlEfSk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3RpbGVzKSB7XG4gICAgICAgICAgICBsZXQgdGlsZSA9IHRoaXMuX3RpbGVzW2lkXTtcblxuICAgICAgICAgICAgLy8gb25seSBjb25zaWRlciByZW5kZXJhYmxlIHRpbGVzIG9uIGhpZ2hlciB6b29tIGxldmVscyAodXAgdG8gbWF4Q292ZXJpbmdab29tKVxuICAgICAgICAgICAgaWYgKHJldGFpbltpZF0gfHwgIXRpbGUuaGFzRGF0YSgpIHx8IHRpbGUudGlsZUlELm92ZXJzY2FsZWRaIDw9IHRpbGVJRC5vdmVyc2NhbGVkWiB8fCB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWiA+IG1heENvdmVyaW5nWm9vbSkgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGRpc3JlZ2FyZCB0aWxlcyB0aGF0IGFyZSBub3QgZGVzY2VuZGFudHMgb2YgdGhlIGdpdmVuIHRpbGUgY29vcmRpbmF0ZVxuICAgICAgICAgICAgY29uc3QgejIgPSBNYXRoLnBvdygyLCB0aWxlLnRpbGVJRC5jYW5vbmljYWwueiAtIHRpbGVJRC5jYW5vbmljYWwueik7XG4gICAgICAgICAgICBpZiAoTWF0aC5mbG9vcih0aWxlLnRpbGVJRC5jYW5vbmljYWwueCAvIHoyKSAhPT0gdGlsZUlELmNhbm9uaWNhbC54IHx8XG4gICAgICAgICAgICAgICAgTWF0aC5mbG9vcih0aWxlLnRpbGVJRC5jYW5vbmljYWwueSAvIHoyKSAhPT0gdGlsZUlELmNhbm9uaWNhbC55KVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBmb3VuZCBsb2FkZWQgY2hpbGRcbiAgICAgICAgICAgIHJldGFpbltpZF0gPSB0aWxlLnRpbGVJRDtcbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHBhcmVudHM7IHJldGFpbiB0aGUgdG9wbW9zdCBsb2FkZWQgb25lIGlmIGZvdW5kXG4gICAgICAgICAgICB3aGlsZSAodGlsZSAmJiB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWiAtIDEgPiB0aWxlSUQub3ZlcnNjYWxlZFopIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aWxlLnRpbGVJRC5zY2FsZWRUbyh0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWiAtIDEpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyZW50KSBicmVhaztcblxuICAgICAgICAgICAgICAgIHRpbGUgPSB0aGlzLl90aWxlc1twYXJlbnQua2V5XTtcbiAgICAgICAgICAgICAgICBpZiAodGlsZSAmJiB0aWxlLmhhc0RhdGEoKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmV0YWluW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0YWluW3BhcmVudC5rZXldID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCBhIGxvYWRlZCBwYXJlbnQgb2YgdGhlIGdpdmVuIHRpbGUgKHVwIHRvIG1pbkNvdmVyaW5nWm9vbSk7XG4gICAgICogYWRkcyB0aGUgZm91bmQgdGlsZSB0byByZXRhaW4gb2JqZWN0IGFuZCByZXR1cm5zIHRoZSB0aWxlIGlmIGZvdW5kXG4gICAgICovXG4gICAgZmluZExvYWRlZFBhcmVudCh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIG1pbkNvdmVyaW5nWm9vbTogbnVtYmVyLCByZXRhaW46IHtbYW55XTogT3ZlcnNjYWxlZFRpbGVJRH0pOiA/VGlsZSB7XG4gICAgICAgIGZvciAobGV0IHogPSB0aWxlSUQub3ZlcnNjYWxlZFogLSAxOyB6ID49IG1pbkNvdmVyaW5nWm9vbTsgei0tKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aWxlSUQuc2NhbGVkVG8oeik7XG4gICAgICAgICAgICBpZiAoIXBhcmVudCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgaWQgPSBTdHJpbmcocGFyZW50LmtleSk7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5fdGlsZXNbaWRdO1xuICAgICAgICAgICAgaWYgKHRpbGUgJiYgdGlsZS5oYXNEYXRhKCkpIHtcbiAgICAgICAgICAgICAgICByZXRhaW5baWRdID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlLmhhcyhpZCkpIHtcbiAgICAgICAgICAgICAgICByZXRhaW5baWRdID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZS5nZXQoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgdGlsZSBjYWNoZSBiYXNlZCBvbiB0aGUgY3VycmVudCB2aWV3cG9ydCdzIHNpemVcbiAgICAgKiBvciB0aGUgbWF4VGlsZUNhY2hlU2l6ZSBvcHRpb24gcGFzc2VkIGR1cmluZyBtYXAgY3JlYXRpb25cbiAgICAgKlxuICAgICAqIExhcmdlciB2aWV3cG9ydHMgdXNlIG1vcmUgdGlsZXMgYW5kIG5lZWQgbGFyZ2VyIGNhY2hlcy4gTGFyZ2VyIHZpZXdwb3J0c1xuICAgICAqIGFyZSBtb3JlIGxpa2VseSB0byBiZSBmb3VuZCBvbiBkZXZpY2VzIHdpdGggbW9yZSBtZW1vcnkgYW5kIG9uIHBhZ2VzIHdoZXJlXG4gICAgICogdGhlIG1hcCBpcyBtb3JlIGltcG9ydGFudC5cbiAgICAgKi9cbiAgICB1cGRhdGVDYWNoZVNpemUodHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcbiAgICAgICAgY29uc3Qgd2lkdGhJblRpbGVzID0gTWF0aC5jZWlsKHRyYW5zZm9ybS53aWR0aCAvIHRoaXMuX3NvdXJjZS50aWxlU2l6ZSkgKyAxO1xuICAgICAgICBjb25zdCBoZWlnaHRJblRpbGVzID0gTWF0aC5jZWlsKHRyYW5zZm9ybS5oZWlnaHQgLyB0aGlzLl9zb3VyY2UudGlsZVNpemUpICsgMTtcbiAgICAgICAgY29uc3QgYXBwcm94VGlsZXNJblZpZXcgPSB3aWR0aEluVGlsZXMgKiBoZWlnaHRJblRpbGVzO1xuICAgICAgICBjb25zdCBjb21tb25ab29tUmFuZ2UgPSA1O1xuXG4gICAgICAgIGNvbnN0IHZpZXdEZXBlbmRlbnRNYXhTaXplID0gTWF0aC5mbG9vcihhcHByb3hUaWxlc0luVmlldyAqIGNvbW1vblpvb21SYW5nZSk7XG4gICAgICAgIGNvbnN0IG1heFNpemUgPSB0eXBlb2YgdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSA9PT0gJ251bWJlcicgPyBNYXRoLm1pbih0aGlzLl9tYXhUaWxlQ2FjaGVTaXplLCB2aWV3RGVwZW5kZW50TWF4U2l6ZSkgOiB2aWV3RGVwZW5kZW50TWF4U2l6ZTtcblxuICAgICAgICB0aGlzLl9jYWNoZS5zZXRNYXhTaXplKG1heFNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGlsZXMgdGhhdCBhcmUgb3V0c2lkZSB0aGUgdmlld3BvcnQgYW5kIGFkZHMgbmV3IHRpbGVzIHRoYXRcbiAgICAgKiBhcmUgaW5zaWRlIHRoZSB2aWV3cG9ydC5cbiAgICAgKi9cbiAgICB1cGRhdGUodHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIGlmICghdGhpcy5fc291cmNlTG9hZGVkIHx8IHRoaXMuX3BhdXNlZCkgeyByZXR1cm47IH1cblxuICAgICAgICB0aGlzLnVwZGF0ZUNhY2hlU2l6ZSh0cmFuc2Zvcm0pO1xuICAgICAgICAvLyBDb3ZlcmVkIGlzIGEgbGlzdCBvZiByZXRhaW5lZCB0aWxlcyB3aG8ncyBhcmVhcyBhcmUgZnVsbHkgY292ZXJlZCBieSBvdGhlcixcbiAgICAgICAgLy8gYmV0dGVyLCByZXRhaW5lZCB0aWxlcy4gVGhleSBhcmUgbm90IGRyYXduIHNlcGFyYXRlbHkuXG4gICAgICAgIHRoaXMuX2NvdmVyZWRUaWxlcyA9IHt9O1xuXG4gICAgICAgIGxldCBpZGVhbFRpbGVJRHM7XG4gICAgICAgIGlmICghdGhpcy51c2VkKSB7XG4gICAgICAgICAgICBpZGVhbFRpbGVJRHMgPSBbXTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9zb3VyY2UudGlsZUlEKSB7XG4gICAgICAgICAgICBpZGVhbFRpbGVJRHMgPSB0cmFuc2Zvcm0uZ2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzKCh0aGlzLl9zb3VyY2UudGlsZUlEOiBhbnkpKVxuICAgICAgICAgICAgICAgIC5tYXAoKHVud3JhcHBlZCkgPT4gbmV3IE92ZXJzY2FsZWRUaWxlSUQodW53cmFwcGVkLmNhbm9uaWNhbC56LCB1bndyYXBwZWQud3JhcCwgdW53cmFwcGVkLmNhbm9uaWNhbC56LCB1bndyYXBwZWQuY2Fub25pY2FsLngsIHVud3JhcHBlZC5jYW5vbmljYWwueSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWRlYWxUaWxlSURzID0gdHJhbnNmb3JtLmNvdmVyaW5nVGlsZXMoe1xuICAgICAgICAgICAgICAgIHRpbGVTaXplOiB0aGlzLl9zb3VyY2UudGlsZVNpemUsXG4gICAgICAgICAgICAgICAgbWluem9vbTogdGhpcy5fc291cmNlLm1pbnpvb20sXG4gICAgICAgICAgICAgICAgbWF4em9vbTogdGhpcy5fc291cmNlLm1heHpvb20sXG4gICAgICAgICAgICAgICAgcm91bmRab29tOiB0aGlzLl9zb3VyY2Uucm91bmRab29tLFxuICAgICAgICAgICAgICAgIHJlcGFyc2VPdmVyc2NhbGVkOiB0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fc291cmNlLmhhc1RpbGUpIHtcbiAgICAgICAgICAgICAgICBpZGVhbFRpbGVJRHMgPSBpZGVhbFRpbGVJRHMuZmlsdGVyKChjb29yZCkgPT4gKHRoaXMuX3NvdXJjZS5oYXNUaWxlOiBhbnkpKGNvb3JkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIG92ZXJ6b29taW5nL3VuZGVyem9vbWluZyBhbW91bnRzLlxuICAgICAgICBjb25zdCB6b29tID0gKHRoaXMuX3NvdXJjZS5yb3VuZFpvb20gPyBNYXRoLnJvdW5kIDogTWF0aC5mbG9vcikodGhpcy5nZXRab29tKHRyYW5zZm9ybSkpO1xuICAgICAgICBjb25zdCBtaW5Db3ZlcmluZ1pvb20gPSBNYXRoLm1heCh6b29tIC0gU291cmNlQ2FjaGUubWF4T3Zlcnpvb21pbmcsIHRoaXMuX3NvdXJjZS5taW56b29tKTtcbiAgICAgICAgY29uc3QgbWF4Q292ZXJpbmdab29tID0gTWF0aC5tYXgoem9vbSArIFNvdXJjZUNhY2hlLm1heFVuZGVyem9vbWluZywgIHRoaXMuX3NvdXJjZS5taW56b29tKTtcblxuICAgICAgICAvLyBSZXRhaW4gaXMgYSBsaXN0IG9mIHRpbGVzIHRoYXQgd2Ugc2hvdWxkbid0IGRlbGV0ZSwgZXZlbiBpZiB0aGV5IGFyZSBub3RcbiAgICAgICAgLy8gdGhlIG1vc3QgaWRlYWwgdGlsZSBmb3IgdGhlIGN1cnJlbnQgdmlld3BvcnQuIFRoaXMgbWF5IGluY2x1ZGUgdGlsZXMgbGlrZVxuICAgICAgICAvLyBwYXJlbnQgb3IgY2hpbGQgdGlsZXMgdGhhdCBhcmUgKmFscmVhZHkqIGxvYWRlZC5cbiAgICAgICAgY29uc3QgcmV0YWluID0gdGhpcy5fdXBkYXRlUmV0YWluZWRUaWxlcyhpZGVhbFRpbGVJRHMsIHpvb20pO1xuXG4gICAgICAgIGNvbnN0IHBhcmVudHNGb3JGYWRpbmcgPSB7fTtcblxuICAgICAgICBpZiAoaXNSYXN0ZXJUeXBlKHRoaXMuX3NvdXJjZS50eXBlKSkge1xuICAgICAgICAgICAgY29uc3QgaWRzID0gT2JqZWN0LmtleXMocmV0YWluKTtcbiAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgaWRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBpZHNba107XG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZUlEID0gcmV0YWluW2lkXTtcbiAgICAgICAgICAgICAgICBhc3NlcnQodGlsZUlELmtleSA9PT0gK2lkKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5fdGlsZXNbaWRdO1xuICAgICAgICAgICAgICAgIGlmICghdGlsZSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZHJhd1Jhc3RlclRpbGUgaGFzIG5ldmVyIHNlZW4gdGhpcyB0aWxlLCB0aGVuXG4gICAgICAgICAgICAgICAgLy8gdGlsZS5mYWRlRW5kVGltZSBtYXkgYmUgdW5zZXQuICBJbiB0aGF0IGNhc2UsIG9yIGlmXG4gICAgICAgICAgICAgICAgLy8gZmFkZUVuZFRpbWUgaXMgaW4gdGhlIGZ1dHVyZSwgdGhlbiB0aGlzIHRpbGUgaXMgc3RpbGxcbiAgICAgICAgICAgICAgICAvLyBmYWRpbmcgaW4uIEZpbmQgdGlsZXMgdG8gY3Jvc3MtZmFkZSB3aXRoIGl0LlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGlsZS5mYWRlRW5kVGltZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdGlsZS5mYWRlRW5kVGltZSA+PSBicm93c2VyLm5vdygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9maW5kTG9hZGVkQ2hpbGRyZW4odGlsZUlELCBtYXhDb3ZlcmluZ1pvb20sIHJldGFpbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldGFpbltpZF0gPSB0aWxlSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50VGlsZSA9IHRoaXMuZmluZExvYWRlZFBhcmVudCh0aWxlSUQsIG1pbkNvdmVyaW5nWm9vbSwgcGFyZW50c0ZvckZhZGluZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRUaWxlKHBhcmVudFRpbGUudGlsZUlEKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmYWRlZFBhcmVudDtcbiAgICAgICAgZm9yIChmYWRlZFBhcmVudCBpbiBwYXJlbnRzRm9yRmFkaW5nKSB7XG4gICAgICAgICAgICBpZiAoIXJldGFpbltmYWRlZFBhcmVudF0pIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBhIHRpbGUgaXMgb25seSBuZWVkZWQgZm9yIGZhZGluZywgbWFyayBpdCBhcyBjb3ZlcmVkIHNvIHRoYXQgaXQgaXNuJ3QgcmVuZGVyZWQgb24gaXQncyBvd24uXG4gICAgICAgICAgICAgICAgdGhpcy5fY292ZXJlZFRpbGVzW2ZhZGVkUGFyZW50XSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChmYWRlZFBhcmVudCBpbiBwYXJlbnRzRm9yRmFkaW5nKSB7XG4gICAgICAgICAgICByZXRhaW5bZmFkZWRQYXJlbnRdID0gcGFyZW50c0ZvckZhZGluZ1tmYWRlZFBhcmVudF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIHRoZSB0aWxlcyB3ZSBkb24ndCBuZWVkIGFueW1vcmUuXG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IGtleXNEaWZmZXJlbmNlKHRoaXMuX3RpbGVzLCByZXRhaW4pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbW92ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlVGlsZShyZW1vdmVbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZVJldGFpbmVkVGlsZXMoaWRlYWxUaWxlSURzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPiwgem9vbTogbnVtYmVyKTogeyBbc3RyaW5nXTogT3ZlcnNjYWxlZFRpbGVJRH0ge1xuICAgICAgICBjb25zdCByZXRhaW4gPSB7fTtcbiAgICAgICAgY29uc3QgY2hlY2tlZDoge1tudW1iZXJdOiBib29sZWFuIH0gPSB7fTtcbiAgICAgICAgY29uc3QgbWluQ292ZXJpbmdab29tID0gTWF0aC5tYXgoem9vbSAtIFNvdXJjZUNhY2hlLm1heE92ZXJ6b29taW5nLCB0aGlzLl9zb3VyY2UubWluem9vbSk7XG4gICAgICAgIGNvbnN0IG1heENvdmVyaW5nWm9vbSA9IE1hdGgubWF4KHpvb20gKyBTb3VyY2VDYWNoZS5tYXhVbmRlcnpvb21pbmcsICB0aGlzLl9zb3VyY2UubWluem9vbSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZGVhbFRpbGVJRHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVJRCA9IGlkZWFsVGlsZUlEc1tpXTtcbiAgICAgICAgICAgIGxldCB0aWxlID0gdGhpcy5fYWRkVGlsZSh0aWxlSUQpO1xuICAgICAgICAgICAgbGV0IHBhcmVudFdhc1JlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRpbGUuaGFzRGF0YSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0YWluW3RpbGVJRC5rZXldID0gdGlsZUlEO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgdGlsZSB3ZSByZXF1aXJlIGlzIG5vdCB5ZXQgbG9hZGVkIG9yIGRvZXMgbm90IGV4aXN0LlxuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBub3cgYXR0ZW1wdGluZyB0byBsb2FkIGNoaWxkIGFuZCBwYXJlbnQgdGlsZXMuXG5cbiAgICAgICAgICAgICAgICAvLyBBcyB3ZSBkZXNjZW5kIHVwIGFuZCBkb3duIHRoZSB0aWxlIHB5cmFtaWQgb2YgdGhlIGlkZWFsIHRpbGUsIHdlIGNoZWNrIHdoZXRoZXIgdGhlIHBhcmVudFxuICAgICAgICAgICAgICAgIC8vIHRpbGUgaGFzIGJlZW4gcHJldmlvdXNseSByZXF1ZXN0ZWQgKGFuZCBlcnJvcmVkIGluIHRoaXMgY2FzZSBkdWUgdG8gdGhlIHByZXZpb3VzIGNvbmRpdGlvbmFsKVxuICAgICAgICAgICAgICAgIC8vIGluIG9yZGVyIHRvIGRldGVybWluZSBpZiB3ZSBuZWVkIHRvIHJlcXVlc3QgaXRzIHBhcmVudC5cbiAgICAgICAgICAgICAgICBwYXJlbnRXYXNSZXF1ZXN0ZWQgPSB0aWxlLndhc1JlcXVlc3RlZCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gVGhlIHRpbGUgaXNuJ3QgbG9hZGVkIHlldCwgYnV0IHJldGFpbiBpdCBhbnl3YXkgYmVjYXVzZSBpdCdzIGFuIGlkZWFsIHRpbGUuXG4gICAgICAgICAgICAgICAgcmV0YWluW3RpbGVJRC5rZXldID0gdGlsZUlEO1xuICAgICAgICAgICAgICAgIGxldCBjb3ZlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBvdmVyc2NhbGVkWiA9IHpvb20gKyAxO1xuICAgICAgICAgICAgICAgIGlmIChvdmVyc2NhbGVkWiA+IHRoaXMuX3NvdXJjZS5tYXh6b29tKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlJ3JlIGxvb2tpbmcgZm9yIGFuIG92ZXJ6b29tZWQgY2hpbGQgdGlsZS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRDb29yZCA9IHRpbGVJRC5jaGlsZHJlbih0aGlzLl9zb3VyY2UubWF4em9vbSlbMF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkVGlsZSA9IHRoaXMuZ2V0VGlsZShjaGlsZENvb3JkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEhY2hpbGRUaWxlICYmIGNoaWxkVGlsZS5oYXNEYXRhKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldGFpbltjaGlsZENvb3JkLmtleV0gPSBjaGlsZENvb3JkO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmluZExvYWRlZENoaWxkcmVuKHRpbGVJRCwgbWF4Q292ZXJpbmdab29tLCByZXRhaW4pO1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhbGwgNCBpbW1lZGlhdGUgY2hpbGRyZW4gYXJlIGxvYWRlZCAoaS5lLiB0aGUgbWlzc2luZyBpZGVhbCB0aWxlIGlzIGNvdmVyZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGlsZUlELmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXRhaW5bY2hpbGRyZW5bal0ua2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghY292ZXJlZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGNvdWxkbid0IGZpbmQgY2hpbGQgdGlsZXMgdGhhdCBlbnRpcmVseSBjb3ZlciB0aGUgaWRlYWwgdGlsZS5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgb3ZlcnNjYWxlZFogPSB0aWxlSUQub3ZlcnNjYWxlZFogLSAxOyBvdmVyc2NhbGVkWiA+PSBtaW5Db3ZlcmluZ1pvb207IC0tb3ZlcnNjYWxlZFopIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50SWQgPSB0aWxlSUQuc2NhbGVkVG8ob3ZlcnNjYWxlZFopO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrZWRbcGFyZW50SWQua2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJyZWFrIHBhcmVudCB0aWxlIGFzY2VudCwgdGhpcyByb3V0ZSBoYXMgYmVlbiBwcmV2aW91c2x5IGNoZWNrZWQgYnkgYW5vdGhlciBjaGlsZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZFtwYXJlbnRJZC5rZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZSA9IHRoaXMuZ2V0VGlsZShwYXJlbnRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRpbGUgJiYgcGFyZW50V2FzUmVxdWVzdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZSA9IHRoaXMuX2FkZFRpbGUocGFyZW50SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldGFpbltwYXJlbnRJZC5rZXldID0gcGFyZW50SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgY3VycmVudCB2YWx1ZXMsIHNpbmNlIHRoZXkncmUgdGhlIHBhcmVudCBvZiB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvZiB0aGUgcGFyZW50IHRpbGUgYXNjZW50IGxvb3AuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50V2FzUmVxdWVzdGVkID0gdGlsZS53YXNSZXF1ZXN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGlsZS5oYXNEYXRhKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldGFpbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSB0aWxlLCBnaXZlbiBpdHMgY29vcmRpbmF0ZSwgdG8gdGhlIHB5cmFtaWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYWRkVGlsZSh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpOiBUaWxlIHtcbiAgICAgICAgbGV0IHRpbGUgPSB0aGlzLl90aWxlc1t0aWxlSUQua2V5XTtcbiAgICAgICAgaWYgKHRpbGUpXG4gICAgICAgICAgICByZXR1cm4gdGlsZTtcblxuXG4gICAgICAgIHRpbGUgPSB0aGlzLl9jYWNoZS5nZXRBbmRSZW1vdmUoKHRpbGVJRC5rZXk6IGFueSkpO1xuICAgICAgICBpZiAodGlsZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlVGltZXJzW3RpbGVJRC5rZXldKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2NhY2hlVGltZXJzW3RpbGVJRC5rZXldKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FjaGVUaW1lcnNbdGlsZUlELmtleV07XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKHRpbGVJRC5rZXksIHRpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2FjaGVkID0gQm9vbGVhbih0aWxlKTtcbiAgICAgICAgaWYgKCFjYWNoZWQpIHtcbiAgICAgICAgICAgIHRpbGUgPSBuZXcgVGlsZSh0aWxlSUQsIHRoaXMuX3NvdXJjZS50aWxlU2l6ZSAqIHRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKSk7XG4gICAgICAgICAgICB0aGlzLl9sb2FkVGlsZSh0aWxlLCB0aGlzLl90aWxlTG9hZGVkLmJpbmQodGhpcywgdGlsZSwgdGlsZUlELmtleSwgdGlsZS5zdGF0ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW1wb3NzaWJsZSwgYnV0IHNpbGVuY2UgZmxvdy5cbiAgICAgICAgaWYgKCF0aWxlKSByZXR1cm4gKG51bGw6IGFueSk7XG5cbiAgICAgICAgdGlsZS51c2VzKys7XG4gICAgICAgIHRoaXMuX3RpbGVzW3RpbGVJRC5rZXldID0gdGlsZTtcbiAgICAgICAgaWYgKCFjYWNoZWQpIHRoaXMuX3NvdXJjZS5maXJlKG5ldyBFdmVudCgnZGF0YWxvYWRpbmcnLCB7dGlsZTogdGlsZSwgY29vcmQ6IHRpbGUudGlsZUlELCBkYXRhVHlwZTogJ3NvdXJjZSd9KSk7XG5cbiAgICAgICAgcmV0dXJuIHRpbGU7XG4gICAgfVxuXG4gICAgX3NldFRpbGVSZWxvYWRUaW1lcihpZDogc3RyaW5nIHwgbnVtYmVyLCB0aWxlOiBUaWxlKSB7XG4gICAgICAgIGlmIChpZCBpbiB0aGlzLl90aW1lcnMpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbaWRdKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl90aW1lcnNbaWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXhwaXJ5VGltZW91dCA9IHRpbGUuZ2V0RXhwaXJ5VGltZW91dCgpO1xuICAgICAgICBpZiAoZXhwaXJ5VGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5fdGltZXJzW2lkXSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbG9hZFRpbGUoaWQsICdleHBpcmVkJyk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3RpbWVyc1tpZF07XG4gICAgICAgICAgICB9LCBleHBpcnlUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zZXRDYWNoZUludmFsaWRhdGlvblRpbWVyKGlkOiBzdHJpbmcgfCBudW1iZXIsIHRpbGU6IFRpbGUpIHtcbiAgICAgICAgaWYgKGlkIGluIHRoaXMuX2NhY2hlVGltZXJzKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fY2FjaGVUaW1lcnNbaWRdKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWNoZVRpbWVyc1tpZF07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleHBpcnlUaW1lb3V0ID0gdGlsZS5nZXRFeHBpcnlUaW1lb3V0KCk7XG4gICAgICAgIGlmIChleHBpcnlUaW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZVRpbWVyc1tpZF0gPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZS5yZW1vdmUoKGlkOiBhbnkpKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FjaGVUaW1lcnNbaWRdO1xuICAgICAgICAgICAgfSwgZXhwaXJ5VGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSB0aWxlLCBnaXZlbiBpdHMgaWQsIGZyb20gdGhlIHB5cmFtaWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW1vdmVUaWxlKGlkOiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX3RpbGVzW2lkXTtcbiAgICAgICAgaWYgKCF0aWxlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRpbGUudXNlcy0tO1xuICAgICAgICBkZWxldGUgdGhpcy5fdGlsZXNbaWRdO1xuICAgICAgICBpZiAodGhpcy5fdGltZXJzW2lkXSkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1tpZF0pO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3RpbWVyc1tpZF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGlsZS51c2VzID4gMClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZiAodGlsZS5oYXNEYXRhKCkpIHtcbiAgICAgICAgICAgIHRpbGUudGlsZUlEID0gdGlsZS50aWxlSUQud3JhcHBlZCgpO1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZElkID0gdGlsZS50aWxlSUQua2V5O1xuICAgICAgICAgICAgdGhpcy5fY2FjaGUuYWRkKCh3cmFwcGVkSWQ6IGFueSksIHRpbGUpO1xuICAgICAgICAgICAgdGhpcy5fc2V0Q2FjaGVJbnZhbGlkYXRpb25UaW1lcih3cmFwcGVkSWQsIHRpbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGlsZS5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2Fib3J0VGlsZSh0aWxlKTtcbiAgICAgICAgICAgIHRoaXMuX3VubG9hZFRpbGUodGlsZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIHRpbGVzIGZyb20gdGhpcyBweXJhbWlkXG4gICAgICovXG4gICAgY2xlYXJUaWxlcygpIHtcbiAgICAgICAgdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl90aWxlcylcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZVRpbGUoaWQpO1xuXG4gICAgICAgIHRoaXMuX3Jlc2V0Q2FjaGUoKTtcbiAgICB9XG5cbiAgICBfcmVzZXRDYWNoZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLl9jYWNoZVRpbWVycylcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jYWNoZVRpbWVyc1tpZF0pO1xuXG4gICAgICAgIHRoaXMuX2NhY2hlVGltZXJzID0ge307XG4gICAgICAgIHRoaXMuX2NhY2hlLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VhcmNoIHRocm91Z2ggb3VyIGN1cnJlbnQgdGlsZXMgYW5kIGF0dGVtcHQgdG8gZmluZCB0aGUgdGlsZXMgdGhhdFxuICAgICAqIGNvdmVyIHRoZSBnaXZlbiBib3VuZHMuXG4gICAgICogQHBhcmFtIHF1ZXJ5R2VvbWV0cnkgY29vcmRpbmF0ZXMgb2YgdGhlIGNvcm5lcnMgb2YgYm91bmRpbmcgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybnMge0FycmF5PE9iamVjdD59IHJlc3VsdCBpdGVtcyBoYXZlIHt0aWxlLCBtaW5YLCBtYXhYLCBtaW5ZLCBtYXhZfSwgd2hlcmUgbWluL21heCBib3VuZGluZyB2YWx1ZXMgYXJlIHRoZSBnaXZlbiBib3VuZHMgdHJhbnNmb3JtZWQgaW4gaW50byB0aGUgY29vcmRpbmF0ZSBzcGFjZSBvZiB0aGlzIHRpbGUuXG4gICAgICovXG4gICAgdGlsZXNJbihxdWVyeUdlb21ldHJ5OiBBcnJheTxDb29yZGluYXRlPiwgbWF4UGl0Y2hTY2FsZUZhY3RvcjogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHRpbGVSZXN1bHRzID0gW107XG4gICAgICAgIGNvbnN0IGlkcyA9IHRoaXMuZ2V0SWRzKCk7XG5cbiAgICAgICAgbGV0IG1pblggPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IG1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IG1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIGxldCBtYXhZID0gLUluZmluaXR5O1xuICAgICAgICBjb25zdCB6ID0gcXVlcnlHZW9tZXRyeVswXS56b29tO1xuXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcXVlcnlHZW9tZXRyeS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgY29uc3QgcCA9IHF1ZXJ5R2VvbWV0cnlba107XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgcC5jb2x1bW4pO1xuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIHAucm93KTtcbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBwLmNvbHVtbik7XG4gICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgcC5yb3cpO1xuICAgICAgICB9XG5cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX3RpbGVzW2lkc1tpXV07XG4gICAgICAgICAgICBjb25zdCB0aWxlSUQgPSB0aWxlLnRpbGVJRDtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5wb3coMiwgdGhpcy50cmFuc2Zvcm0uem9vbSAtIHRpbGUudGlsZUlELm92ZXJzY2FsZWRaKTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFkZGluZyA9IG1heFBpdGNoU2NhbGVGYWN0b3IgKiB0aWxlLnF1ZXJ5UGFkZGluZyAqIEVYVEVOVCAvIHRpbGUudGlsZVNpemUgLyBzY2FsZTtcblxuICAgICAgICAgICAgY29uc3QgdGlsZVNwYWNlQm91bmRzID0gW1xuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVUb1RpbGVQb2ludCh0aWxlSUQsIG5ldyBDb29yZGluYXRlKG1pblgsIG1pblksIHopKSxcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlVG9UaWxlUG9pbnQodGlsZUlELCBuZXcgQ29vcmRpbmF0ZShtYXhYLCBtYXhZLCB6KSlcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGlmICh0aWxlU3BhY2VCb3VuZHNbMF0ueCAtIHF1ZXJ5UGFkZGluZyA8IEVYVEVOVCAmJiB0aWxlU3BhY2VCb3VuZHNbMF0ueSAtIHF1ZXJ5UGFkZGluZyA8IEVYVEVOVCAmJlxuICAgICAgICAgICAgICAgIHRpbGVTcGFjZUJvdW5kc1sxXS54ICsgcXVlcnlQYWRkaW5nID49IDAgJiYgdGlsZVNwYWNlQm91bmRzWzFdLnkgKyBxdWVyeVBhZGRpbmcgPj0gMCkge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZVNwYWNlUXVlcnlHZW9tZXRyeSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcXVlcnlHZW9tZXRyeS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB0aWxlU3BhY2VRdWVyeUdlb21ldHJ5LnB1c2goY29vcmRpbmF0ZVRvVGlsZVBvaW50KHRpbGVJRCwgcXVlcnlHZW9tZXRyeVtqXSkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRpbGVSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0aWxlOiB0aWxlLFxuICAgICAgICAgICAgICAgICAgICB0aWxlSUQ6IHRpbGVJRCxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlHZW9tZXRyeTogW3RpbGVTcGFjZVF1ZXJ5R2VvbWV0cnldLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aWxlUmVzdWx0cztcbiAgICB9XG5cbiAgICBnZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuZ2V0UmVuZGVyYWJsZUlkcygpLm1hcCgoaWQpID0+IHRoaXMuX3RpbGVzW2lkXS50aWxlSUQpO1xuICAgICAgICBmb3IgKGNvbnN0IGNvb3JkIG9mIGNvb3Jkcykge1xuICAgICAgICAgICAgY29vcmQucG9zTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlUG9zTWF0cml4KGNvb3JkLnRvVW53cmFwcGVkKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb29yZHM7XG4gICAgfVxuXG4gICAgaGFzVHJhbnNpdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NvdXJjZS5oYXNUcmFuc2l0aW9uKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzUmFzdGVyVHlwZSh0aGlzLl9zb3VyY2UudHlwZSkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fdGlsZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5fdGlsZXNbaWRdO1xuICAgICAgICAgICAgICAgIGlmICh0aWxlLmZhZGVFbmRUaW1lICE9PSB1bmRlZmluZWQgJiYgdGlsZS5mYWRlRW5kVGltZSA+PSBicm93c2VyLm5vdygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cblNvdXJjZUNhY2hlLm1heE92ZXJ6b29taW5nID0gMTA7XG5Tb3VyY2VDYWNoZS5tYXhVbmRlcnpvb21pbmcgPSAzO1xuXG4vKipcbiAqIENvbnZlcnQgYSBjb29yZGluYXRlIHRvIGEgcG9pbnQgaW4gYSB0aWxlJ3MgY29vcmRpbmF0ZSBzcGFjZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNvb3JkaW5hdGVUb1RpbGVQb2ludCh0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIGNvb3JkOiBDb29yZGluYXRlKTogUG9pbnQge1xuICAgIGNvbnN0IHpvb21lZENvb3JkID0gY29vcmQuem9vbVRvKHRpbGVJRC5jYW5vbmljYWwueik7XG4gICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgICAgKHpvb21lZENvb3JkLmNvbHVtbiAtICh0aWxlSUQuY2Fub25pY2FsLnggKyB0aWxlSUQud3JhcCAqIE1hdGgucG93KDIsIHRpbGVJRC5jYW5vbmljYWwueikpKSAqIEVYVEVOVCxcbiAgICAgICAgKHpvb21lZENvb3JkLnJvdyAtIHRpbGVJRC5jYW5vbmljYWwueSkgKiBFWFRFTlRcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc1Jhc3RlclR5cGUodHlwZSkge1xuICAgIHJldHVybiB0eXBlID09PSAncmFzdGVyJyB8fCB0eXBlID09PSAnaW1hZ2UnIHx8IHR5cGUgPT09ICd2aWRlbyc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNvdXJjZUNhY2hlO1xuXG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cbmltcG9ydCBXZWJXb3JrZXIgZnJvbSAnLi93ZWJfd29ya2VyJztcblxuaW1wb3J0IHR5cGUge1dvcmtlckludGVyZmFjZX0gZnJvbSAnLi93ZWJfd29ya2VyJztcbmltcG9ydCBtYXBib3hnbCBmcm9tICcuLi8nO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSB3b3JrZXIgcG9vbC5cbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFdvcmtlclBvb2wge1xuICAgIGFjdGl2ZToge1tudW1iZXJdOiBib29sZWFufTtcbiAgICB3b3JrZXJzOiBBcnJheTxXb3JrZXJJbnRlcmZhY2U+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0ge307XG4gICAgfVxuXG4gICAgYWNxdWlyZShtYXBJZDogbnVtYmVyKSB7XG4gICAgICAgIGlmICghdGhpcy53b3JrZXJzKSB7XG4gICAgICAgICAgICAvLyBMYXppbHkgbG9vayB1cCB0aGUgdmFsdWUgb2YgbWFwYm94Z2wud29ya2VyQ291bnQgc28gdGhhdFxuICAgICAgICAgICAgLy8gY2xpZW50IGNvZGUgaGFzIGhhZCBhIGNoYW5jZSB0byBzZXQgaXQuXG4gICAgICAgICAgICBjb25zdCB3b3JrZXJDb3VudCA9IG1hcGJveGdsLndvcmtlckNvdW50O1xuICAgICAgICAgICAgYXNzZXJ0KHR5cGVvZiB3b3JrZXJDb3VudCA9PT0gJ251bWJlcicgJiYgd29ya2VyQ291bnQgPCBJbmZpbml0eSk7XG5cbiAgICAgICAgICAgIHRoaXMud29ya2VycyA9IFtdO1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMud29ya2Vycy5sZW5ndGggPCB3b3JrZXJDb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMud29ya2Vycy5wdXNoKG5ldyBXZWJXb3JrZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2ZVttYXBJZF0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcy53b3JrZXJzLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgcmVsZWFzZShtYXBJZDogbnVtYmVyKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZVttYXBJZF07XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmFjdGl2ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLndvcmtlcnMuZm9yRWFjaCgodykgPT4ge1xuICAgICAgICAgICAgICAgIHcudGVybWluYXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMud29ya2VycyA9IChudWxsOiBhbnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBXb3JrZXJQb29sO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IFdvcmtlclBvb2wgZnJvbSAnLi93b3JrZXJfcG9vbCc7XG5cbmxldCBnbG9iYWxXb3JrZXJQb29sO1xuXG4vKipcbiAqIENyZWF0ZXMgKGlmIG5lY2Vzc2FyeSkgYW5kIHJldHVybnMgdGhlIHNpbmdsZSwgZ2xvYmFsIFdvcmtlclBvb2wgaW5zdGFuY2VcbiAqIHRvIGJlIHNoYXJlZCBhY3Jvc3MgZWFjaCBNYXBcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEdsb2JhbFdvcmtlclBvb2wgKCkge1xuICAgIGlmICghZ2xvYmFsV29ya2VyUG9vbCkge1xuICAgICAgICBnbG9iYWxXb3JrZXJQb29sID0gbmV3IFdvcmtlclBvb2woKTtcbiAgICB9XG4gICAgcmV0dXJuIGdsb2JhbFdvcmtlclBvb2w7XG59XG4iLCJcbmltcG9ydCByZWZQcm9wZXJ0aWVzIGZyb20gJy4vdXRpbC9yZWZfcHJvcGVydGllcyc7XG5cbmZ1bmN0aW9uIGRlcmVmKGxheWVyLCBwYXJlbnQpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgIGZvciAoY29uc3QgayBpbiBsYXllcikge1xuICAgICAgICBpZiAoayAhPT0gJ3JlZicpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrXSA9IGxheWVyW2tdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmUHJvcGVydGllcy5mb3JFYWNoKChrKSA9PiB7XG4gICAgICAgIGlmIChrIGluIHBhcmVudCkge1xuICAgICAgICAgICAgcmVzdWx0W2tdID0gcGFyZW50W2tdO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBkZXJlZkxheWVycztcblxuLyoqXG4gKiBHaXZlbiBhbiBhcnJheSBvZiBsYXllcnMsIHNvbWUgb2Ygd2hpY2ggbWF5IGNvbnRhaW4gYHJlZmAgcHJvcGVydGllc1xuICogd2hvc2UgdmFsdWUgaXMgdGhlIGBpZGAgb2YgYW5vdGhlciBwcm9wZXJ0eSwgcmV0dXJuIGEgbmV3IGFycmF5IHdoZXJlXG4gKiBzdWNoIGxheWVycyBoYXZlIGJlZW4gYXVnbWVudGVkIHdpdGggdGhlICd0eXBlJywgJ3NvdXJjZScsIGV0Yy4gcHJvcGVydGllc1xuICogZnJvbSB0aGUgcGFyZW50IGxheWVyLCBhbmQgdGhlIGByZWZgIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQuXG4gKlxuICogVGhlIGlucHV0IGlzIG5vdCBtb2RpZmllZC4gVGhlIG91dHB1dCBtYXkgY29udGFpbiByZWZlcmVuY2VzIHRvIHBvcnRpb25zXG4gKiBvZiB0aGUgaW5wdXQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8TGF5ZXI+fSBsYXllcnNcbiAqIEByZXR1cm5zIHtBcnJheTxMYXllcj59XG4gKi9cbmZ1bmN0aW9uIGRlcmVmTGF5ZXJzKGxheWVycykge1xuICAgIGxheWVycyA9IGxheWVycy5zbGljZSgpO1xuXG4gICAgY29uc3QgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBtYXBbbGF5ZXJzW2ldLmlkXSA9IGxheWVyc1tpXTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoJ3JlZicgaW4gbGF5ZXJzW2ldKSB7XG4gICAgICAgICAgICBsYXllcnNbaV0gPSBkZXJlZihsYXllcnNbaV0sIG1hcFtsYXllcnNbaV0ucmVmXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGF5ZXJzO1xufVxuIiwiXG5pbXBvcnQgaXNFcXVhbCBmcm9tICcuL3V0aWwvZGVlcF9lcXVhbCc7XG5cbmNvbnN0IG9wZXJhdGlvbnMgPSB7XG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldFN0eWxlJywgYXJnczogW3N0eWxlc2hlZXRdIH1cbiAgICAgKi9cbiAgICBzZXRTdHlsZTogJ3NldFN0eWxlJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnYWRkTGF5ZXInLCBhcmdzOiBbbGF5ZXIsICdiZWZvcmVMYXllcklkJ10gfVxuICAgICAqL1xuICAgIGFkZExheWVyOiAnYWRkTGF5ZXInLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdyZW1vdmVMYXllcicsIGFyZ3M6IFsnbGF5ZXJJZCddIH1cbiAgICAgKi9cbiAgICByZW1vdmVMYXllcjogJ3JlbW92ZUxheWVyJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0UGFpbnRQcm9wZXJ0eScsIGFyZ3M6IFsnbGF5ZXJJZCcsICdwcm9wJywgdmFsdWVdIH1cbiAgICAgKi9cbiAgICBzZXRQYWludFByb3BlcnR5OiAnc2V0UGFpbnRQcm9wZXJ0eScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldExheW91dFByb3BlcnR5JywgYXJnczogWydsYXllcklkJywgJ3Byb3AnLCB2YWx1ZV0gfVxuICAgICAqL1xuICAgIHNldExheW91dFByb3BlcnR5OiAnc2V0TGF5b3V0UHJvcGVydHknLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRGaWx0ZXInLCBhcmdzOiBbJ2xheWVySWQnLCBmaWx0ZXJdIH1cbiAgICAgKi9cbiAgICBzZXRGaWx0ZXI6ICdzZXRGaWx0ZXInLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdhZGRTb3VyY2UnLCBhcmdzOiBbJ3NvdXJjZUlkJywgc291cmNlXSB9XG4gICAgICovXG4gICAgYWRkU291cmNlOiAnYWRkU291cmNlJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAncmVtb3ZlU291cmNlJywgYXJnczogWydzb3VyY2VJZCddIH1cbiAgICAgKi9cbiAgICByZW1vdmVTb3VyY2U6ICdyZW1vdmVTb3VyY2UnLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRHZW9KU09OU291cmNlRGF0YScsIGFyZ3M6IFsnc291cmNlSWQnLCBkYXRhXSB9XG4gICAgICovXG4gICAgc2V0R2VvSlNPTlNvdXJjZURhdGE6ICdzZXRHZW9KU09OU291cmNlRGF0YScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldExheWVyWm9vbVJhbmdlJywgYXJnczogWydsYXllcklkJywgMCwgMjJdIH1cbiAgICAgKi9cbiAgICBzZXRMYXllclpvb21SYW5nZTogJ3NldExheWVyWm9vbVJhbmdlJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0TGF5ZXJQcm9wZXJ0eScsIGFyZ3M6IFsnbGF5ZXJJZCcsICdwcm9wJywgdmFsdWVdIH1cbiAgICAgKi9cbiAgICBzZXRMYXllclByb3BlcnR5OiAnc2V0TGF5ZXJQcm9wZXJ0eScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldENlbnRlcicsIGFyZ3M6IFtbbG9uLCBsYXRdXSB9XG4gICAgICovXG4gICAgc2V0Q2VudGVyOiAnc2V0Q2VudGVyJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0Wm9vbScsIGFyZ3M6IFt6b29tXSB9XG4gICAgICovXG4gICAgc2V0Wm9vbTogJ3NldFpvb20nLFxuXG4gICAgLypcbiAgICAgKiB7IGNvbW1hbmQ6ICdzZXRCZWFyaW5nJywgYXJnczogW2JlYXJpbmddIH1cbiAgICAgKi9cbiAgICBzZXRCZWFyaW5nOiAnc2V0QmVhcmluZycsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldFBpdGNoJywgYXJnczogW3BpdGNoXSB9XG4gICAgICovXG4gICAgc2V0UGl0Y2g6ICdzZXRQaXRjaCcsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldFNwcml0ZScsIGFyZ3M6IFsnc3ByaXRlVXJsJ10gfVxuICAgICAqL1xuICAgIHNldFNwcml0ZTogJ3NldFNwcml0ZScsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldEdseXBocycsIGFyZ3M6IFsnZ2x5cGhzVXJsJ10gfVxuICAgICAqL1xuICAgIHNldEdseXBoczogJ3NldEdseXBocycsXG5cbiAgICAvKlxuICAgICAqIHsgY29tbWFuZDogJ3NldFRyYW5zaXRpb24nLCBhcmdzOiBbdHJhbnNpdGlvbl0gfVxuICAgICAqL1xuICAgIHNldFRyYW5zaXRpb246ICdzZXRUcmFuc2l0aW9uJyxcblxuICAgIC8qXG4gICAgICogeyBjb21tYW5kOiAnc2V0TGlnaHRpbmcnLCBhcmdzOiBbbGlnaHRQcm9wZXJ0aWVzXSB9XG4gICAgICovXG4gICAgc2V0TGlnaHQ6ICdzZXRMaWdodCdcblxufTtcblxuZnVuY3Rpb24gYWRkU291cmNlKHNvdXJjZUlkLCBhZnRlciwgY29tbWFuZHMpIHtcbiAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5hZGRTb3VyY2UsIGFyZ3M6IFtzb3VyY2VJZCwgYWZ0ZXJbc291cmNlSWRdXSB9KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU291cmNlKHNvdXJjZUlkLCBjb21tYW5kcywgc291cmNlc1JlbW92ZWQpIHtcbiAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5yZW1vdmVTb3VyY2UsIGFyZ3M6IFtzb3VyY2VJZF0gfSk7XG4gICAgc291cmNlc1JlbW92ZWRbc291cmNlSWRdID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlU291cmNlKHNvdXJjZUlkLCBhZnRlciwgY29tbWFuZHMsIHNvdXJjZXNSZW1vdmVkKSB7XG4gICAgcmVtb3ZlU291cmNlKHNvdXJjZUlkLCBjb21tYW5kcywgc291cmNlc1JlbW92ZWQpO1xuICAgIGFkZFNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzKTtcbn1cblxuZnVuY3Rpb24gY2FuVXBkYXRlR2VvSlNPTihiZWZvcmUsIGFmdGVyLCBzb3VyY2VJZCkge1xuICAgIGxldCBwcm9wO1xuICAgIGZvciAocHJvcCBpbiBiZWZvcmVbc291cmNlSWRdKSB7XG4gICAgICAgIGlmICghYmVmb3JlW3NvdXJjZUlkXS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgICAgIGlmIChwcm9wICE9PSAnZGF0YScgJiYgIWlzRXF1YWwoYmVmb3JlW3NvdXJjZUlkXVtwcm9wXSwgYWZ0ZXJbc291cmNlSWRdW3Byb3BdKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAocHJvcCBpbiBhZnRlcltzb3VyY2VJZF0pIHtcbiAgICAgICAgaWYgKCFhZnRlcltzb3VyY2VJZF0uaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAocHJvcCAhPT0gJ2RhdGEnICYmICFpc0VxdWFsKGJlZm9yZVtzb3VyY2VJZF1bcHJvcF0sIGFmdGVyW3NvdXJjZUlkXVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZGlmZlNvdXJjZXMoYmVmb3JlLCBhZnRlciwgY29tbWFuZHMsIHNvdXJjZXNSZW1vdmVkKSB7XG4gICAgYmVmb3JlID0gYmVmb3JlIHx8IHt9O1xuICAgIGFmdGVyID0gYWZ0ZXIgfHwge307XG5cbiAgICBsZXQgc291cmNlSWQ7XG5cbiAgICAvLyBsb29rIGZvciBzb3VyY2VzIHRvIHJlbW92ZVxuICAgIGZvciAoc291cmNlSWQgaW4gYmVmb3JlKSB7XG4gICAgICAgIGlmICghYmVmb3JlLmhhc093blByb3BlcnR5KHNvdXJjZUlkKSkgY29udGludWU7XG4gICAgICAgIGlmICghYWZ0ZXIuaGFzT3duUHJvcGVydHkoc291cmNlSWQpKSB7XG4gICAgICAgICAgICByZW1vdmVTb3VyY2Uoc291cmNlSWQsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciBzb3VyY2VzIHRvIGFkZC91cGRhdGVcbiAgICBmb3IgKHNvdXJjZUlkIGluIGFmdGVyKSB7XG4gICAgICAgIGlmICghYWZ0ZXIuaGFzT3duUHJvcGVydHkoc291cmNlSWQpKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFiZWZvcmUuaGFzT3duUHJvcGVydHkoc291cmNlSWQpKSB7XG4gICAgICAgICAgICBhZGRTb3VyY2Uoc291cmNlSWQsIGFmdGVyLCBjb21tYW5kcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzRXF1YWwoYmVmb3JlW3NvdXJjZUlkXSwgYWZ0ZXJbc291cmNlSWRdKSkge1xuICAgICAgICAgICAgaWYgKGJlZm9yZVtzb3VyY2VJZF0udHlwZSA9PT0gJ2dlb2pzb24nICYmIGFmdGVyW3NvdXJjZUlkXS50eXBlID09PSAnZ2VvanNvbicgJiYgY2FuVXBkYXRlR2VvSlNPTihiZWZvcmUsIGFmdGVyLCBzb3VyY2VJZCkpIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRHZW9KU09OU291cmNlRGF0YSwgYXJnczogW3NvdXJjZUlkLCBhZnRlcltzb3VyY2VJZF0uZGF0YV0gfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vIHVwZGF0ZSBjb21tYW5kLCBtdXN0IHJlbW92ZSB0aGVuIGFkZFxuICAgICAgICAgICAgICAgIHVwZGF0ZVNvdXJjZShzb3VyY2VJZCwgYWZ0ZXIsIGNvbW1hbmRzLCBzb3VyY2VzUmVtb3ZlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpZmZMYXllclByb3BlcnR5Q2hhbmdlcyhiZWZvcmUsIGFmdGVyLCBjb21tYW5kcywgbGF5ZXJJZCwga2xhc3MsIGNvbW1hbmQpIHtcbiAgICBiZWZvcmUgPSBiZWZvcmUgfHwge307XG4gICAgYWZ0ZXIgPSBhZnRlciB8fCB7fTtcblxuICAgIGxldCBwcm9wO1xuXG4gICAgZm9yIChwcm9wIGluIGJlZm9yZSkge1xuICAgICAgICBpZiAoIWJlZm9yZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmVbcHJvcF0sIGFmdGVyW3Byb3BdKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IGNvbW1hbmQsIGFyZ3M6IFtsYXllcklkLCBwcm9wLCBhZnRlcltwcm9wXSwga2xhc3NdIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAocHJvcCBpbiBhZnRlcikge1xuICAgICAgICBpZiAoIWFmdGVyLmhhc093blByb3BlcnR5KHByb3ApIHx8IGJlZm9yZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmVbcHJvcF0sIGFmdGVyW3Byb3BdKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IGNvbW1hbmQsIGFyZ3M6IFtsYXllcklkLCBwcm9wLCBhZnRlcltwcm9wXSwga2xhc3NdIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwbHVja0lkKGxheWVyKSB7XG4gICAgcmV0dXJuIGxheWVyLmlkO1xufVxuZnVuY3Rpb24gaW5kZXhCeUlkKGdyb3VwLCBsYXllcikge1xuICAgIGdyb3VwW2xheWVyLmlkXSA9IGxheWVyO1xuICAgIHJldHVybiBncm91cDtcbn1cblxuZnVuY3Rpb24gZGlmZkxheWVycyhiZWZvcmUsIGFmdGVyLCBjb21tYW5kcykge1xuICAgIGJlZm9yZSA9IGJlZm9yZSB8fCBbXTtcbiAgICBhZnRlciA9IGFmdGVyIHx8IFtdO1xuXG4gICAgLy8gb3JkZXIgb2YgbGF5ZXJzIGJ5IGlkXG4gICAgY29uc3QgYmVmb3JlT3JkZXIgPSBiZWZvcmUubWFwKHBsdWNrSWQpO1xuICAgIGNvbnN0IGFmdGVyT3JkZXIgPSBhZnRlci5tYXAocGx1Y2tJZCk7XG5cbiAgICAvLyBpbmRleCBvZiBsYXllciBieSBpZFxuICAgIGNvbnN0IGJlZm9yZUluZGV4ID0gYmVmb3JlLnJlZHVjZShpbmRleEJ5SWQsIHt9KTtcbiAgICBjb25zdCBhZnRlckluZGV4ID0gYWZ0ZXIucmVkdWNlKGluZGV4QnlJZCwge30pO1xuXG4gICAgLy8gdHJhY2sgb3JkZXIgb2YgbGF5ZXJzIGFzIGlmIHRoZXkgaGF2ZSBiZWVuIG11dGF0ZWRcbiAgICBjb25zdCB0cmFja2VyID0gYmVmb3JlT3JkZXIuc2xpY2UoKTtcblxuICAgIC8vIGxheWVycyB0aGF0IGhhdmUgYmVlbiBhZGRlZCBkbyBub3QgbmVlZCB0byBiZSBkaWZmZWRcbiAgICBjb25zdCBjbGVhbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICBsZXQgaSwgZCwgbGF5ZXJJZCwgYmVmb3JlTGF5ZXIsIGFmdGVyTGF5ZXIsIGluc2VydEJlZm9yZUxheWVySWQsIHByb3A7XG5cbiAgICAvLyByZW1vdmUgbGF5ZXJzXG4gICAgZm9yIChpID0gMCwgZCA9IDA7IGkgPCBiZWZvcmVPcmRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBsYXllcklkID0gYmVmb3JlT3JkZXJbaV07XG4gICAgICAgIGlmICghYWZ0ZXJJbmRleC5oYXNPd25Qcm9wZXJ0eShsYXllcklkKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMucmVtb3ZlTGF5ZXIsIGFyZ3M6IFtsYXllcklkXSB9KTtcbiAgICAgICAgICAgIHRyYWNrZXIuc3BsaWNlKHRyYWNrZXIuaW5kZXhPZihsYXllcklkLCBkKSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBsaW1pdCB3aGVyZSBpbiB0cmFja2VyIHdlIG5lZWQgdG8gbG9vayBmb3IgYSBtYXRjaFxuICAgICAgICAgICAgZCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkL3Jlb3JkZXIgbGF5ZXJzXG4gICAgZm9yIChpID0gMCwgZCA9IDA7IGkgPCBhZnRlck9yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIHdvcmsgYmFja3dhcmRzIGFzIGluc2VydCBpcyBiZWZvcmUgYW4gZXhpc3RpbmcgbGF5ZXJcbiAgICAgICAgbGF5ZXJJZCA9IGFmdGVyT3JkZXJbYWZ0ZXJPcmRlci5sZW5ndGggLSAxIC0gaV07XG5cbiAgICAgICAgaWYgKHRyYWNrZXJbdHJhY2tlci5sZW5ndGggLSAxIC0gaV0gPT09IGxheWVySWQpIGNvbnRpbnVlO1xuXG4gICAgICAgIGlmIChiZWZvcmVJbmRleC5oYXNPd25Qcm9wZXJ0eShsYXllcklkKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBsYXllciBiZWZvcmUgd2UgaW5zZXJ0IGF0IHRoZSBjb3JyZWN0IHBvc2l0aW9uXG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5yZW1vdmVMYXllciwgYXJnczogW2xheWVySWRdIH0pO1xuICAgICAgICAgICAgdHJhY2tlci5zcGxpY2UodHJhY2tlci5sYXN0SW5kZXhPZihsYXllcklkLCB0cmFja2VyLmxlbmd0aCAtIGQpLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxpbWl0IHdoZXJlIGluIHRyYWNrZXIgd2UgbmVlZCB0byBsb29rIGZvciBhIG1hdGNoXG4gICAgICAgICAgICBkKys7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgbGF5ZXIgYXQgY29ycmVjdCBwb3NpdGlvblxuICAgICAgICBpbnNlcnRCZWZvcmVMYXllcklkID0gdHJhY2tlclt0cmFja2VyLmxlbmd0aCAtIGldO1xuICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5hZGRMYXllciwgYXJnczogW2FmdGVySW5kZXhbbGF5ZXJJZF0sIGluc2VydEJlZm9yZUxheWVySWRdIH0pO1xuICAgICAgICB0cmFja2VyLnNwbGljZSh0cmFja2VyLmxlbmd0aCAtIGksIDAsIGxheWVySWQpO1xuICAgICAgICBjbGVhbltsYXllcklkXSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIGxheWVyc1xuICAgIGZvciAoaSA9IDA7IGkgPCBhZnRlck9yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxheWVySWQgPSBhZnRlck9yZGVyW2ldO1xuICAgICAgICBiZWZvcmVMYXllciA9IGJlZm9yZUluZGV4W2xheWVySWRdO1xuICAgICAgICBhZnRlckxheWVyID0gYWZ0ZXJJbmRleFtsYXllcklkXTtcblxuICAgICAgICAvLyBubyBuZWVkIHRvIHVwZGF0ZSBpZiBwcmV2aW91c2x5IGFkZGVkIChuZXcgb3IgbW92ZWQpXG4gICAgICAgIGlmIChjbGVhbltsYXllcklkXSB8fCBpc0VxdWFsKGJlZm9yZUxheWVyLCBhZnRlckxheWVyKSkgY29udGludWU7XG5cbiAgICAgICAgLy8gSWYgc291cmNlLCBzb3VyY2UtbGF5ZXIsIG9yIHR5cGUgaGF2ZSBjaGFuZ2VzLCB0aGVuIHJlbW92ZSB0aGUgbGF5ZXJcbiAgICAgICAgLy8gYW5kIGFkZCBpdCBiYWNrICdmcm9tIHNjcmF0Y2gnLlxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlTGF5ZXIuc291cmNlLCBhZnRlckxheWVyLnNvdXJjZSkgfHwgIWlzRXF1YWwoYmVmb3JlTGF5ZXJbJ3NvdXJjZS1sYXllciddLCBhZnRlckxheWVyWydzb3VyY2UtbGF5ZXInXSkgfHwgIWlzRXF1YWwoYmVmb3JlTGF5ZXIudHlwZSwgYWZ0ZXJMYXllci50eXBlKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMucmVtb3ZlTGF5ZXIsIGFyZ3M6IFtsYXllcklkXSB9KTtcbiAgICAgICAgICAgIC8vIHdlIGFkZCB0aGUgbGF5ZXIgYmFjayBhdCB0aGUgc2FtZSBwb3NpdGlvbiBpdCB3YXMgYWxyZWFkeSBpbiwgc29cbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gbmVlZCB0byB1cGRhdGUgdGhlIGB0cmFja2VyYFxuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlTGF5ZXJJZCA9IHRyYWNrZXJbdHJhY2tlci5sYXN0SW5kZXhPZihsYXllcklkKSArIDFdO1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuYWRkTGF5ZXIsIGFyZ3M6IFthZnRlckxheWVyLCBpbnNlcnRCZWZvcmVMYXllcklkXSB9KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGF5b3V0LCBwYWludCwgZmlsdGVyLCBtaW56b29tLCBtYXh6b29tXG4gICAgICAgIGRpZmZMYXllclByb3BlcnR5Q2hhbmdlcyhiZWZvcmVMYXllci5sYXlvdXQsIGFmdGVyTGF5ZXIubGF5b3V0LCBjb21tYW5kcywgbGF5ZXJJZCwgbnVsbCwgb3BlcmF0aW9ucy5zZXRMYXlvdXRQcm9wZXJ0eSk7XG4gICAgICAgIGRpZmZMYXllclByb3BlcnR5Q2hhbmdlcyhiZWZvcmVMYXllci5wYWludCwgYWZ0ZXJMYXllci5wYWludCwgY29tbWFuZHMsIGxheWVySWQsIG51bGwsIG9wZXJhdGlvbnMuc2V0UGFpbnRQcm9wZXJ0eSk7XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmVMYXllci5maWx0ZXIsIGFmdGVyTGF5ZXIuZmlsdGVyKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0RmlsdGVyLCBhcmdzOiBbbGF5ZXJJZCwgYWZ0ZXJMYXllci5maWx0ZXJdIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmVMYXllci5taW56b29tLCBhZnRlckxheWVyLm1pbnpvb20pIHx8ICFpc0VxdWFsKGJlZm9yZUxheWVyLm1heHpvb20sIGFmdGVyTGF5ZXIubWF4em9vbSkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldExheWVyWm9vbVJhbmdlLCBhcmdzOiBbbGF5ZXJJZCwgYWZ0ZXJMYXllci5taW56b29tLCBhZnRlckxheWVyLm1heHpvb21dIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIGFsbCBvdGhlciBsYXllciBwcm9wcywgaW5jbHVkaW5nIHBhaW50LipcbiAgICAgICAgZm9yIChwcm9wIGluIGJlZm9yZUxheWVyKSB7XG4gICAgICAgICAgICBpZiAoIWJlZm9yZUxheWVyLmhhc093blByb3BlcnR5KHByb3ApKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnbGF5b3V0JyB8fCBwcm9wID09PSAncGFpbnQnIHx8IHByb3AgPT09ICdmaWx0ZXInIHx8XG4gICAgICAgICAgICAgICAgcHJvcCA9PT0gJ21ldGFkYXRhJyB8fCBwcm9wID09PSAnbWluem9vbScgfHwgcHJvcCA9PT0gJ21heHpvb20nKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChwcm9wLmluZGV4T2YoJ3BhaW50LicpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzKGJlZm9yZUxheWVyW3Byb3BdLCBhZnRlckxheWVyW3Byb3BdLCBjb21tYW5kcywgbGF5ZXJJZCwgcHJvcC5zbGljZSg2KSwgb3BlcmF0aW9ucy5zZXRQYWludFByb3BlcnR5KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzRXF1YWwoYmVmb3JlTGF5ZXJbcHJvcF0sIGFmdGVyTGF5ZXJbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0TGF5ZXJQcm9wZXJ0eSwgYXJnczogW2xheWVySWQsIHByb3AsIGFmdGVyTGF5ZXJbcHJvcF1dIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAocHJvcCBpbiBhZnRlckxheWVyKSB7XG4gICAgICAgICAgICBpZiAoIWFmdGVyTGF5ZXIuaGFzT3duUHJvcGVydHkocHJvcCkgfHwgYmVmb3JlTGF5ZXIuaGFzT3duUHJvcGVydHkocHJvcCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHByb3AgPT09ICdsYXlvdXQnIHx8IHByb3AgPT09ICdwYWludCcgfHwgcHJvcCA9PT0gJ2ZpbHRlcicgfHxcbiAgICAgICAgICAgICAgICBwcm9wID09PSAnbWV0YWRhdGEnIHx8IHByb3AgPT09ICdtaW56b29tJyB8fCBwcm9wID09PSAnbWF4em9vbScpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHByb3AuaW5kZXhPZigncGFpbnQuJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkaWZmTGF5ZXJQcm9wZXJ0eUNoYW5nZXMoYmVmb3JlTGF5ZXJbcHJvcF0sIGFmdGVyTGF5ZXJbcHJvcF0sIGNvbW1hbmRzLCBsYXllcklkLCBwcm9wLnNsaWNlKDYpLCBvcGVyYXRpb25zLnNldFBhaW50UHJvcGVydHkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNFcXVhbChiZWZvcmVMYXllcltwcm9wXSwgYWZ0ZXJMYXllcltwcm9wXSkpIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRMYXllclByb3BlcnR5LCBhcmdzOiBbbGF5ZXJJZCwgcHJvcCwgYWZ0ZXJMYXllcltwcm9wXV0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogRGlmZiB0d28gc3R5bGVzaGVldFxuICpcbiAqIENyZWF0ZXMgc2VtYW50aWNseSBhd2FyZSBkaWZmcyB0aGF0IGNhbiBlYXNpbHkgYmUgYXBwbGllZCBhdCBydW50aW1lLlxuICogT3BlcmF0aW9ucyBwcm9kdWNlZCBieSB0aGUgZGlmZiBjbG9zZWx5IHJlc2VtYmxlIHRoZSBtYXBib3gtZ2wtanMgQVBJLiBBbnlcbiAqIGVycm9yIGNyZWF0aW5nIHRoZSBkaWZmIHdpbGwgZmFsbCBiYWNrIHRvIHRoZSAnc2V0U3R5bGUnIG9wZXJhdGlvbi5cbiAqXG4gKiBFeGFtcGxlIGRpZmY6XG4gKiBbXG4gKiAgICAgeyBjb21tYW5kOiAnc2V0Q29uc3RhbnQnLCBhcmdzOiBbJ0B3YXRlcicsICcjMDAwMEZGJ10gfSxcbiAqICAgICB7IGNvbW1hbmQ6ICdzZXRQYWludFByb3BlcnR5JywgYXJnczogWydiYWNrZ3JvdW5kJywgJ2JhY2tncm91bmQtY29sb3InLCAnYmxhY2snXSB9XG4gKiBdXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gW2JlZm9yZV0gc3R5bGVzaGVldCB0byBjb21wYXJlIGZyb21cbiAqIEBwYXJhbSB7Kn0gYWZ0ZXIgc3R5bGVzaGVldCB0byBjb21wYXJlIHRvXG4gKiBAcmV0dXJucyBBcnJheSBsaXN0IG9mIGNoYW5nZXNcbiAqL1xuZnVuY3Rpb24gZGlmZlN0eWxlcyhiZWZvcmUsIGFmdGVyKSB7XG4gICAgaWYgKCFiZWZvcmUpIHJldHVybiBbeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldFN0eWxlLCBhcmdzOiBbYWZ0ZXJdIH1dO1xuXG4gICAgbGV0IGNvbW1hbmRzID0gW107XG5cbiAgICB0cnkge1xuICAgICAgICAvLyBIYW5kbGUgY2hhbmdlcyB0byB0b3AtbGV2ZWwgcHJvcGVydGllc1xuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLnZlcnNpb24sIGFmdGVyLnZlcnNpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gW3sgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRTdHlsZSwgYXJnczogW2FmdGVyXSB9XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLmNlbnRlciwgYWZ0ZXIuY2VudGVyKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0Q2VudGVyLCBhcmdzOiBbYWZ0ZXIuY2VudGVyXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRXF1YWwoYmVmb3JlLnpvb20sIGFmdGVyLnpvb20pKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKHsgY29tbWFuZDogb3BlcmF0aW9ucy5zZXRab29tLCBhcmdzOiBbYWZ0ZXIuem9vbV0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS5iZWFyaW5nLCBhZnRlci5iZWFyaW5nKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0QmVhcmluZywgYXJnczogW2FmdGVyLmJlYXJpbmddIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUucGl0Y2gsIGFmdGVyLnBpdGNoKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0UGl0Y2gsIGFyZ3M6IFthZnRlci5waXRjaF0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS5zcHJpdGUsIGFmdGVyLnNwcml0ZSkpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldFNwcml0ZSwgYXJnczogW2FmdGVyLnNwcml0ZV0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS5nbHlwaHMsIGFmdGVyLmdseXBocykpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldEdseXBocywgYXJnczogW2FmdGVyLmdseXBoc10gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VxdWFsKGJlZm9yZS50cmFuc2l0aW9uLCBhZnRlci50cmFuc2l0aW9uKSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0VHJhbnNpdGlvbiwgYXJnczogW2FmdGVyLnRyYW5zaXRpb25dIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFcXVhbChiZWZvcmUubGlnaHQsIGFmdGVyLmxpZ2h0KSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMuc2V0TGlnaHQsIGFyZ3M6IFthZnRlci5saWdodF0gfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgY2hhbmdlcyB0byBgc291cmNlc2BcbiAgICAgICAgLy8gSWYgYSBzb3VyY2UgaXMgdG8gYmUgcmVtb3ZlZCwgd2UgYWxzby0tYmVmb3JlIHRoZSByZW1vdmVTb3VyY2VcbiAgICAgICAgLy8gY29tbWFuZC0tbmVlZCB0byByZW1vdmUgYWxsIHRoZSBzdHlsZSBsYXllcnMgdGhhdCBkZXBlbmQgb24gaXQuXG4gICAgICAgIGNvbnN0IHNvdXJjZXNSZW1vdmVkID0ge307XG5cbiAgICAgICAgLy8gRmlyc3QgY29sbGVjdCB0aGUge2FkZCxyZW1vdmV9U291cmNlIGNvbW1hbmRzXG4gICAgICAgIGNvbnN0IHJlbW92ZU9yQWRkU291cmNlQ29tbWFuZHMgPSBbXTtcbiAgICAgICAgZGlmZlNvdXJjZXMoYmVmb3JlLnNvdXJjZXMsIGFmdGVyLnNvdXJjZXMsIHJlbW92ZU9yQWRkU291cmNlQ29tbWFuZHMsIHNvdXJjZXNSZW1vdmVkKTtcblxuICAgICAgICAvLyBQdXNoIGEgcmVtb3ZlTGF5ZXIgY29tbWFuZCBmb3IgZWFjaCBzdHlsZSBsYXllciB0aGF0IGRlcGVuZHMgb24gYVxuICAgICAgICAvLyBzb3VyY2UgdGhhdCdzIGJlaW5nIHJlbW92ZWQuXG4gICAgICAgIC8vIEFsc28sIGV4Y2x1ZGUgYW55IHN1Y2ggbGF5ZXJzIHRoZW0gZnJvbSB0aGUgaW5wdXQgdG8gYGRpZmZMYXllcnNgXG4gICAgICAgIC8vIGJlbG93LCBzbyB0aGF0IGRpZmZMYXllcnMgcHJvZHVjZXMgdGhlIGFwcHJvcHJpYXRlIGBhZGRMYXllcnNgXG4gICAgICAgIC8vIGNvbW1hbmRcbiAgICAgICAgY29uc3QgYmVmb3JlTGF5ZXJzID0gW107XG4gICAgICAgIGlmIChiZWZvcmUubGF5ZXJzKSB7XG4gICAgICAgICAgICBiZWZvcmUubGF5ZXJzLmZvckVhY2goKGxheWVyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZXNSZW1vdmVkW2xheWVyLnNvdXJjZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZHMucHVzaCh7IGNvbW1hbmQ6IG9wZXJhdGlvbnMucmVtb3ZlTGF5ZXIsIGFyZ3M6IFtsYXllci5pZF0gfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlTGF5ZXJzLnB1c2gobGF5ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbW1hbmRzID0gY29tbWFuZHMuY29uY2F0KHJlbW92ZU9yQWRkU291cmNlQ29tbWFuZHMpO1xuXG4gICAgICAgIC8vIEhhbmRsZSBjaGFuZ2VzIHRvIGBsYXllcnNgXG4gICAgICAgIGRpZmZMYXllcnMoYmVmb3JlTGF5ZXJzLCBhZnRlci5sYXllcnMsIGNvbW1hbmRzKTtcblxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gZmFsbCBiYWNrIHRvIHNldFN0eWxlXG4gICAgICAgIGNvbnNvbGUud2FybignVW5hYmxlIHRvIGNvbXB1dGUgc3R5bGUgZGlmZjonLCBlKTtcbiAgICAgICAgY29tbWFuZHMgPSBbeyBjb21tYW5kOiBvcGVyYXRpb25zLnNldFN0eWxlLCBhcmdzOiBbYWZ0ZXJdIH1dO1xuICAgIH1cblxuICAgIHJldHVybiBjb21tYW5kcztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGlmZlN0eWxlcztcbmV4cG9ydCB7IG9wZXJhdGlvbnMgfTtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBDb2xsaXNpb25JbmRleCBmcm9tICcuL2NvbGxpc2lvbl9pbmRleCc7XG5cbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuaW1wb3J0ICogYXMgc3ltYm9sU2l6ZSBmcm9tICcuL3N5bWJvbF9zaXplJztcbmltcG9ydCAqIGFzIHByb2plY3Rpb24gZnJvbSAnLi9wcm9qZWN0aW9uJztcbmltcG9ydCBwcm9wZXJ0aWVzIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL3N5bWJvbF9zdHlsZV9sYXllcl9wcm9wZXJ0aWVzJztcbmNvbnN0IHN5bWJvbExheW91dFByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmxheW91dDtcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCBwaXhlbHNUb1RpbGVVbml0cyBmcm9tICcuLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMnO1xuXG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybSc7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIFRpbGUgZnJvbSAnLi4vc291cmNlL3RpbGUnO1xuaW1wb3J0IHR5cGUgU3ltYm9sQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQnO1xuaW1wb3J0IHR5cGUgbWF0NCBmcm9tICdAbWFwYm94L2dsLW1hdHJpeCc7XG5pbXBvcnQgdHlwZSB7Q29sbGlzaW9uQm94QXJyYXksIENvbGxpc2lvblZlcnRleEFycmF5fSBmcm9tICcuLi9kYXRhL2FycmF5X3R5cGVzJztcblxuY2xhc3MgT3BhY2l0eVN0YXRlIHtcbiAgICBvcGFjaXR5OiBudW1iZXI7XG4gICAgcGxhY2VkOiBib29sZWFuO1xuICAgIGNvbnN0cnVjdG9yKHByZXZTdGF0ZTogP09wYWNpdHlTdGF0ZSwgaW5jcmVtZW50OiBudW1iZXIsIHBsYWNlZDogYm9vbGVhbiwgc2tpcEZhZGU6ID9ib29sZWFuKSB7XG4gICAgICAgIGlmIChwcmV2U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMub3BhY2l0eSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHByZXZTdGF0ZS5vcGFjaXR5ICsgKHByZXZTdGF0ZS5wbGFjZWQgPyBpbmNyZW1lbnQgOiAtaW5jcmVtZW50KSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gKHNraXBGYWRlICYmIHBsYWNlZCkgPyAxIDogMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBsYWNlZCA9IHBsYWNlZDtcbiAgICB9XG4gICAgaXNIaWRkZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wYWNpdHkgPT09IDAgJiYgIXRoaXMucGxhY2VkO1xuICAgIH1cbn1cblxuY2xhc3MgSm9pbnRPcGFjaXR5U3RhdGUge1xuICAgIHRleHQ6IE9wYWNpdHlTdGF0ZTtcbiAgICBpY29uOiBPcGFjaXR5U3RhdGU7XG4gICAgY29uc3RydWN0b3IocHJldlN0YXRlOiA/Sm9pbnRPcGFjaXR5U3RhdGUsIGluY3JlbWVudDogbnVtYmVyLCBwbGFjZWRUZXh0OiBib29sZWFuLCBwbGFjZWRJY29uOiBib29sZWFuLCBza2lwRmFkZTogP2Jvb2xlYW4pIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gbmV3IE9wYWNpdHlTdGF0ZShwcmV2U3RhdGUgPyBwcmV2U3RhdGUudGV4dCA6IG51bGwsIGluY3JlbWVudCwgcGxhY2VkVGV4dCwgc2tpcEZhZGUpO1xuICAgICAgICB0aGlzLmljb24gPSBuZXcgT3BhY2l0eVN0YXRlKHByZXZTdGF0ZSA/IHByZXZTdGF0ZS5pY29uIDogbnVsbCwgaW5jcmVtZW50LCBwbGFjZWRJY29uLCBza2lwRmFkZSk7XG4gICAgfVxuICAgIGlzSGlkZGVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0LmlzSGlkZGVuKCkgJiYgdGhpcy5pY29uLmlzSGlkZGVuKCk7XG4gICAgfVxufVxuXG5jbGFzcyBKb2ludFBsYWNlbWVudCB7XG4gICAgdGV4dDogYm9vbGVhbjtcbiAgICBpY29uOiBib29sZWFuO1xuICAgIC8vIHNraXBGYWRlID0gb3V0c2lkZSB2aWV3cG9ydCwgYnV0IHdpdGhpbiBDb2xsaXNpb25JbmRleDo6dmlld3BvcnRQYWRkaW5nIHB4IG9mIHRoZSBlZGdlXG4gICAgLy8gQmVjYXVzZSB0aGVzZSBzeW1ib2xzIGFyZW4ndCBvbnNjcmVlbiB5ZXQsIHdlIGNhbiBza2lwIHRoZSBcImZhZGUgaW5cIiBhbmltYXRpb24sXG4gICAgLy8gYW5kIGlmIGEgc3Vic2VxdWVudCB2aWV3cG9ydCBjaGFuZ2UgYnJpbmdzIHRoZW0gaW50byB2aWV3LCB0aGV5J2xsIGJlIGZ1bGx5XG4gICAgLy8gdmlzaWJsZSByaWdodCBhd2F5LlxuICAgIHNraXBGYWRlOiBib29sZWFuO1xuICAgIGNvbnN0cnVjdG9yKHRleHQ6IGJvb2xlYW4sIGljb246IGJvb2xlYW4sIHNraXBGYWRlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuaWNvbiA9IGljb247XG4gICAgICAgIHRoaXMuc2tpcEZhZGUgPSBza2lwRmFkZTtcbiAgICB9XG59XG5cbmNsYXNzIFBsYWNlbWVudCB7XG4gICAgdHJhbnNmb3JtOiBUcmFuc2Zvcm07XG4gICAgY29sbGlzaW9uSW5kZXg6IENvbGxpc2lvbkluZGV4O1xuICAgIHBsYWNlbWVudHM6IHsgW3N0cmluZyB8IG51bWJlcl06IEpvaW50UGxhY2VtZW50IH07XG4gICAgb3BhY2l0aWVzOiB7IFtzdHJpbmcgfCBudW1iZXJdOiBKb2ludE9wYWNpdHlTdGF0ZSB9O1xuICAgIGNvbW1pdFRpbWU6IG51bWJlcjtcbiAgICBsYXN0UGxhY2VtZW50Q2hhbmdlVGltZTogbnVtYmVyO1xuICAgIHN0YWxlOiBib29sZWFuO1xuICAgIGZhZGVEdXJhdGlvbjogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIGZhZGVEdXJhdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtLmNsb25lKCk7XG4gICAgICAgIHRoaXMuY29sbGlzaW9uSW5kZXggPSBuZXcgQ29sbGlzaW9uSW5kZXgodGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLnBsYWNlbWVudHMgPSB7fTtcbiAgICAgICAgdGhpcy5vcGFjaXRpZXMgPSB7fTtcbiAgICAgICAgdGhpcy5zdGFsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZhZGVEdXJhdGlvbiA9IGZhZGVEdXJhdGlvbjtcbiAgICB9XG5cbiAgICBwbGFjZUxheWVyVGlsZShzdHlsZUxheWVyOiBTdHlsZUxheWVyLCB0aWxlOiBUaWxlLCBzaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW4sIHNlZW5Dcm9zc1RpbGVJRHM6IHsgW3N0cmluZyB8IG51bWJlcl06IGJvb2xlYW4gfSkge1xuICAgICAgICBjb25zdCBzeW1ib2xCdWNrZXQgPSAoKHRpbGUuZ2V0QnVja2V0KHN0eWxlTGF5ZXIpOiBhbnkpOiBTeW1ib2xCdWNrZXQpO1xuICAgICAgICBpZiAoIXN5bWJvbEJ1Y2tldCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHN5bWJvbEJ1Y2tldC5sYXllcnNbMF0ubGF5b3V0O1xuXG4gICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5wb3coMiwgdGhpcy50cmFuc2Zvcm0uem9vbSAtIHRpbGUudGlsZUlELm92ZXJzY2FsZWRaKTtcbiAgICAgICAgY29uc3QgdGV4dFBpeGVsUmF0aW8gPSB0aWxlLnRpbGVTaXplIC8gRVhURU5UO1xuXG4gICAgICAgIGNvbnN0IHBvc01hdHJpeCA9IHRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeCh0aWxlLnRpbGVJRC50b1Vud3JhcHBlZCgpKTtcblxuICAgICAgICBjb25zdCB0ZXh0TGFiZWxQbGFuZU1hdHJpeCA9IHByb2plY3Rpb24uZ2V0TGFiZWxQbGFuZU1hdHJpeChwb3NNYXRyaXgsXG4gICAgICAgICAgICAgICAgbGF5b3V0LmdldCgndGV4dC1waXRjaC1hbGlnbm1lbnQnKSA9PT0gJ21hcCcsXG4gICAgICAgICAgICAgICAgbGF5b3V0LmdldCgndGV4dC1yb3RhdGlvbi1hbGlnbm1lbnQnKSA9PT0gJ21hcCcsXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0sXG4gICAgICAgICAgICAgICAgcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgdGhpcy50cmFuc2Zvcm0uem9vbSkpO1xuXG4gICAgICAgIGNvbnN0IGljb25MYWJlbFBsYW5lTWF0cml4ID0gcHJvamVjdGlvbi5nZXRMYWJlbFBsYW5lTWF0cml4KHBvc01hdHJpeCxcbiAgICAgICAgICAgICAgICBsYXlvdXQuZ2V0KCdpY29uLXBpdGNoLWFsaWdubWVudCcpID09PSAnbWFwJyxcbiAgICAgICAgICAgICAgICBsYXlvdXQuZ2V0KCdpY29uLXJvdGF0aW9uLWFsaWdubWVudCcpID09PSAnbWFwJyxcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCAxLCB0aGlzLnRyYW5zZm9ybS56b29tKSk7XG5cbiAgICAgICAgdGhpcy5wbGFjZUxheWVyQnVja2V0KHN5bWJvbEJ1Y2tldCwgcG9zTWF0cml4LCB0ZXh0TGFiZWxQbGFuZU1hdHJpeCwgaWNvbkxhYmVsUGxhbmVNYXRyaXgsIHNjYWxlLCB0ZXh0UGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICBzaG93Q29sbGlzaW9uQm94ZXMsIHNlZW5Dcm9zc1RpbGVJRHMsIHRpbGUuY29sbGlzaW9uQm94QXJyYXksIHRpbGUudGlsZUlELmtleSwgc3R5bGVMYXllci5zb3VyY2UpO1xuICAgIH1cblxuICAgIHBsYWNlTGF5ZXJCdWNrZXQoYnVja2V0OiBTeW1ib2xCdWNrZXQsIHBvc01hdHJpeDogbWF0NCwgdGV4dExhYmVsUGxhbmVNYXRyaXg6IG1hdDQsIGljb25MYWJlbFBsYW5lTWF0cml4OiBtYXQ0LFxuICAgICAgICAgICAgc2NhbGU6IG51bWJlciwgdGV4dFBpeGVsUmF0aW86IG51bWJlciwgc2hvd0NvbGxpc2lvbkJveGVzOiBib29sZWFuLCBzZWVuQ3Jvc3NUaWxlSURzOiB7IFtzdHJpbmcgfCBudW1iZXJdOiBib29sZWFuIH0sXG4gICAgICAgICAgICBjb2xsaXNpb25Cb3hBcnJheTogP0NvbGxpc2lvbkJveEFycmF5LCB0aWxlS2V5OiBudW1iZXIsIHNvdXJjZUlEOiBzdHJpbmcpIHtcblxuICAgICAgICBjb25zdCBsYXlvdXQgPSBidWNrZXQubGF5ZXJzWzBdLmxheW91dDtcblxuICAgICAgICBjb25zdCBwYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZSA9IHN5bWJvbFNpemUuZXZhbHVhdGVTaXplRm9yWm9vbShidWNrZXQudGV4dFNpemVEYXRhLCB0aGlzLnRyYW5zZm9ybS56b29tLCBzeW1ib2xMYXlvdXRQcm9wZXJ0aWVzLnByb3BlcnRpZXNbJ3RleHQtc2l6ZSddKTtcblxuICAgICAgICBjb25zdCBpY29uV2l0aG91dFRleHQgPSAhYnVja2V0Lmhhc1RleHREYXRhKCkgfHwgbGF5b3V0LmdldCgndGV4dC1vcHRpb25hbCcpO1xuICAgICAgICBjb25zdCB0ZXh0V2l0aG91dEljb24gPSAhYnVja2V0Lmhhc0ljb25EYXRhKCkgfHwgbGF5b3V0LmdldCgnaWNvbi1vcHRpb25hbCcpO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc3ltYm9sSW5zdGFuY2Ugb2YgYnVja2V0LnN5bWJvbEluc3RhbmNlcykge1xuICAgICAgICAgICAgaWYgKCFzZWVuQ3Jvc3NUaWxlSURzW3N5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEXSkge1xuXG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlVGV4dCA9IHN5bWJvbEluc3RhbmNlLmZlYXR1cmUudGV4dCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGxldCBwbGFjZUljb24gPSBzeW1ib2xJbnN0YW5jZS5mZWF0dXJlLmljb24gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBsZXQgb2Zmc2NyZWVuID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGxldCBwbGFjZWRHbHlwaEJveGVzID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgcGxhY2VkR2x5cGhDaXJjbGVzID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgcGxhY2VkSWNvbkJveGVzID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmICghc3ltYm9sSW5zdGFuY2UuY29sbGlzaW9uQXJyYXlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN5bWJvbEluc3RhbmNlLmNvbGxpc2lvbkFycmF5cyA9IGJ1Y2tldC5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoY29sbGlzaW9uQm94QXJyYXk6IGFueSk6IENvbGxpc2lvbkJveEFycmF5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xJbnN0YW5jZS50ZXh0Qm94U3RhcnRJbmRleCwgc3ltYm9sSW5zdGFuY2UudGV4dEJveEVuZEluZGV4LCBzeW1ib2xJbnN0YW5jZS5pY29uQm94U3RhcnRJbmRleCwgc3ltYm9sSW5zdGFuY2UuaWNvbkJveEVuZEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3ltYm9sSW5zdGFuY2UuY29sbGlzaW9uQXJyYXlzLnRleHRCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VkR2x5cGhCb3hlcyA9IHRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3goc3ltYm9sSW5zdGFuY2UuY29sbGlzaW9uQXJyYXlzLnRleHRCb3gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0LmdldCgndGV4dC1hbGxvdy1vdmVybGFwJyksIHRleHRQaXhlbFJhdGlvLCBwb3NNYXRyaXgpO1xuICAgICAgICAgICAgICAgICAgICBwbGFjZVRleHQgPSBwbGFjZWRHbHlwaEJveGVzLmJveC5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgICAgICBvZmZzY3JlZW4gPSBvZmZzY3JlZW4gJiYgcGxhY2VkR2x5cGhCb3hlcy5vZmZzY3JlZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRDaXJjbGVzID0gc3ltYm9sSW5zdGFuY2UuY29sbGlzaW9uQXJyYXlzLnRleHRDaXJjbGVzO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0Q2lyY2xlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGFjZWRTeW1ib2wgPSBidWNrZXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoc3ltYm9sSW5zdGFuY2UucGxhY2VkVGV4dFN5bWJvbEluZGljZXNbMF0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb250U2l6ZSA9IHN5bWJvbFNpemUuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShidWNrZXQudGV4dFNpemVEYXRhLCBwYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZSwgcGxhY2VkU3ltYm9sKTtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VkR2x5cGhDaXJjbGVzID0gdGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkNpcmNsZXModGV4dENpcmNsZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0LmdldCgndGV4dC1hbGxvdy1vdmVybGFwJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sSW5zdGFuY2Uua2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlZFN5bWJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQubGluZVZlcnRleEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1Y2tldC5nbHlwaE9mZnNldEFycmF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc01hdHJpeCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0TGFiZWxQbGFuZU1hdHJpeCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29sbGlzaW9uQm94ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0LmdldCgndGV4dC1waXRjaC1hbGlnbm1lbnQnKSA9PT0gJ21hcCcpO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0ZXh0LWFsbG93LW92ZXJsYXAgaXMgc2V0LCBmb3JjZSBcInBsYWNlZENpcmNsZXNcIiB0byB0cnVlXG4gICAgICAgICAgICAgICAgICAgIC8vIEluIHRoZW9yeSB0aGVyZSBzaG91bGQgYWx3YXlzIGJlIGF0IGxlYXN0IG9uZSBjaXJjbGUgcGxhY2VkXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY2FzZSwgYnV0IGZvciBub3cgcXVpcmtzIGluIHRleHQtYW5jaG9yXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCB0ZXh0LW9mZnNldCBtYXkgcHJldmVudCB0aGF0IGZyb20gYmVpbmcgdHJ1ZS5cbiAgICAgICAgICAgICAgICAgICAgcGxhY2VUZXh0ID0gbGF5b3V0LmdldCgndGV4dC1hbGxvdy1vdmVybGFwJykgfHwgcGxhY2VkR2x5cGhDaXJjbGVzLmNpcmNsZXMubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2NyZWVuID0gb2Zmc2NyZWVuICYmIHBsYWNlZEdseXBoQ2lyY2xlcy5vZmZzY3JlZW47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN5bWJvbEluc3RhbmNlLmNvbGxpc2lvbkFycmF5cy5pY29uQm94KSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlZEljb25Cb3hlcyA9IHRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3goc3ltYm9sSW5zdGFuY2UuY29sbGlzaW9uQXJyYXlzLmljb25Cb3gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0LmdldCgnaWNvbi1hbGxvdy1vdmVybGFwJyksIHRleHRQaXhlbFJhdGlvLCBwb3NNYXRyaXgpO1xuICAgICAgICAgICAgICAgICAgICBwbGFjZUljb24gPSBwbGFjZWRJY29uQm94ZXMuYm94Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNjcmVlbiA9IG9mZnNjcmVlbiAmJiBwbGFjZWRJY29uQm94ZXMub2Zmc2NyZWVuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENvbWJpbmUgdGhlIHNjYWxlcyBmb3IgaWNvbnMgYW5kIHRleHQuXG4gICAgICAgICAgICAgICAgaWYgKCFpY29uV2l0aG91dFRleHQgJiYgIXRleHRXaXRob3V0SWNvbikge1xuICAgICAgICAgICAgICAgICAgICBwbGFjZUljb24gPSBwbGFjZVRleHQgPSBwbGFjZUljb24gJiYgcGxhY2VUZXh0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRleHRXaXRob3V0SWNvbikge1xuICAgICAgICAgICAgICAgICAgICBwbGFjZVRleHQgPSBwbGFjZUljb24gJiYgcGxhY2VUZXh0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWljb25XaXRob3V0VGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBwbGFjZUljb24gPSBwbGFjZUljb24gJiYgcGxhY2VUZXh0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChwbGFjZVRleHQgJiYgcGxhY2VkR2x5cGhCb3hlcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChwbGFjZWRHbHlwaEJveGVzLmJveCwgbGF5b3V0LmdldCgndGV4dC1pZ25vcmUtcGxhY2VtZW50JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZUtleSwgc291cmNlSUQsIGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkLCBzeW1ib2xJbnN0YW5jZS50ZXh0Qm94U3RhcnRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwbGFjZUljb24gJiYgcGxhY2VkSWNvbkJveGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQm94KHBsYWNlZEljb25Cb3hlcy5ib3gsIGxheW91dC5nZXQoJ2ljb24taWdub3JlLXBsYWNlbWVudCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVLZXksIHNvdXJjZUlELCBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCwgc3ltYm9sSW5zdGFuY2UuaWNvbkJveFN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGxhY2VUZXh0ICYmIHBsYWNlZEdseXBoQ2lyY2xlcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkNpcmNsZXMocGxhY2VkR2x5cGhDaXJjbGVzLmNpcmNsZXMsIGxheW91dC5nZXQoJ3RleHQtaWdub3JlLXBsYWNlbWVudCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVLZXksIHNvdXJjZUlELCBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCwgc3ltYm9sSW5zdGFuY2UudGV4dEJveFN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFzc2VydChzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRCAhPT0gMCk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkICE9PSAwKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucGxhY2VtZW50c1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF0gPSBuZXcgSm9pbnRQbGFjZW1lbnQocGxhY2VUZXh0LCBwbGFjZUljb24sIG9mZnNjcmVlbiB8fCBidWNrZXQuanVzdFJlbG9hZGVkKTtcbiAgICAgICAgICAgICAgICBzZWVuQ3Jvc3NUaWxlSURzW3N5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBidWNrZXQuanVzdFJlbG9hZGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29tbWl0KHByZXZQbGFjZW1lbnQ6ID9QbGFjZW1lbnQsIG5vdzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29tbWl0VGltZSA9IG5vdztcblxuICAgICAgICBsZXQgcGxhY2VtZW50Q2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGluY3JlbWVudCA9IChwcmV2UGxhY2VtZW50ICYmIHRoaXMuZmFkZUR1cmF0aW9uICE9PSAwKSA/XG4gICAgICAgICAgICAodGhpcy5jb21taXRUaW1lIC0gcHJldlBsYWNlbWVudC5jb21taXRUaW1lKSAvIHRoaXMuZmFkZUR1cmF0aW9uIDpcbiAgICAgICAgICAgIDE7XG5cbiAgICAgICAgY29uc3QgcHJldk9wYWNpdGllcyA9IHByZXZQbGFjZW1lbnQgPyBwcmV2UGxhY2VtZW50Lm9wYWNpdGllcyA6IHt9O1xuXG4gICAgICAgIC8vIGFkZCB0aGUgb3BhY2l0aWVzIGZyb20gdGhlIGN1cnJlbnQgcGxhY2VtZW50LCBhbmQgY29weSB0aGVpciBjdXJyZW50IHZhbHVlcyBmcm9tIHRoZSBwcmV2aW91cyBwbGFjZW1lbnRcbiAgICAgICAgZm9yIChjb25zdCBjcm9zc1RpbGVJRCBpbiB0aGlzLnBsYWNlbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGpvaW50UGxhY2VtZW50ID0gdGhpcy5wbGFjZW1lbnRzW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZPcGFjaXR5ID0gcHJldk9wYWNpdGllc1tjcm9zc1RpbGVJRF07XG4gICAgICAgICAgICBpZiAocHJldk9wYWNpdHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdGllc1tjcm9zc1RpbGVJRF0gPSBuZXcgSm9pbnRPcGFjaXR5U3RhdGUocHJldk9wYWNpdHksIGluY3JlbWVudCwgam9pbnRQbGFjZW1lbnQudGV4dCwgam9pbnRQbGFjZW1lbnQuaWNvbik7XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50Q2hhbmdlZCA9IHBsYWNlbWVudENoYW5nZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgam9pbnRQbGFjZW1lbnQudGV4dCAhPT0gcHJldk9wYWNpdHkudGV4dC5wbGFjZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgam9pbnRQbGFjZW1lbnQuaWNvbiAhPT0gcHJldk9wYWNpdHkuaWNvbi5wbGFjZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub3BhY2l0aWVzW2Nyb3NzVGlsZUlEXSA9IG5ldyBKb2ludE9wYWNpdHlTdGF0ZShudWxsLCBpbmNyZW1lbnQsIGpvaW50UGxhY2VtZW50LnRleHQsIGpvaW50UGxhY2VtZW50Lmljb24sIGpvaW50UGxhY2VtZW50LnNraXBGYWRlKTtcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnRDaGFuZ2VkID0gcGxhY2VtZW50Q2hhbmdlZCB8fCBqb2ludFBsYWNlbWVudC50ZXh0IHx8IGpvaW50UGxhY2VtZW50Lmljb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb3B5IGFuZCB1cGRhdGUgdmFsdWVzIGZyb20gdGhlIHByZXZpb3VzIHBsYWNlbWVudCB0aGF0IGFyZW4ndCBpbiB0aGUgY3VycmVudCBwbGFjZW1lbnQgYnV0IGhhdmVuJ3QgZmluaXNoZWQgZmFkaW5nXG4gICAgICAgIGZvciAoY29uc3QgY3Jvc3NUaWxlSUQgaW4gcHJldk9wYWNpdGllcykge1xuICAgICAgICAgICAgY29uc3QgcHJldk9wYWNpdHkgPSBwcmV2T3BhY2l0aWVzW2Nyb3NzVGlsZUlEXTtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcGFjaXRpZXNbY3Jvc3NUaWxlSURdKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9pbnRPcGFjaXR5ID0gbmV3IEpvaW50T3BhY2l0eVN0YXRlKHByZXZPcGFjaXR5LCBpbmNyZW1lbnQsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFqb2ludE9wYWNpdHkuaXNIaWRkZW4oKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wYWNpdGllc1tjcm9zc1RpbGVJRF0gPSBqb2ludE9wYWNpdHk7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudENoYW5nZWQgPSBwbGFjZW1lbnRDaGFuZ2VkIHx8IHByZXZPcGFjaXR5LnRleHQucGxhY2VkIHx8IHByZXZPcGFjaXR5Lmljb24ucGxhY2VkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWUgaXMgdGhlIHRpbWUgb2YgdGhlIGxhc3QgY29tbWl0KCkgdGhhdFxuICAgICAgICAvLyByZXN1bHRlZCBpbiBhIHBsYWNlbWVudCBjaGFuZ2UgLS0gaW4gb3RoZXIgd29yZHMsIHRoZSBzdGFydCB0aW1lIG9mXG4gICAgICAgIC8vIHRoZSBsYXN0IHN5bWJvbCBmYWRlIGFuaW1hdGlvblxuICAgICAgICBhc3NlcnQoIXByZXZQbGFjZW1lbnQgfHwgcHJldlBsYWNlbWVudC5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKHBsYWNlbWVudENoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWUgPSBub3c7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWUgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lID0gcHJldlBsYWNlbWVudCA/IHByZXZQbGFjZW1lbnQubGFzdFBsYWNlbWVudENoYW5nZVRpbWUgOiBub3c7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVMYXllck9wYWNpdGllcyhzdHlsZUxheWVyOiBTdHlsZUxheWVyLCB0aWxlczogQXJyYXk8VGlsZT4pIHtcbiAgICAgICAgY29uc3Qgc2VlbkNyb3NzVGlsZUlEcyA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgdGlsZSBvZiB0aWxlcykge1xuICAgICAgICAgICAgY29uc3Qgc3ltYm9sQnVja2V0ID0gKCh0aWxlLmdldEJ1Y2tldChzdHlsZUxheWVyKTogYW55KTogU3ltYm9sQnVja2V0KTtcbiAgICAgICAgICAgIGlmIChzeW1ib2xCdWNrZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUJ1Y2tldE9wYWNpdGllcyhzeW1ib2xCdWNrZXQsIHNlZW5Dcm9zc1RpbGVJRHMsIHRpbGUuY29sbGlzaW9uQm94QXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQnVja2V0T3BhY2l0aWVzKGJ1Y2tldDogU3ltYm9sQnVja2V0LCBzZWVuQ3Jvc3NUaWxlSURzOiB7IFtzdHJpbmcgfCBudW1iZXJdOiBib29sZWFuIH0sIGNvbGxpc2lvbkJveEFycmF5OiA/Q29sbGlzaW9uQm94QXJyYXkpIHtcbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNUZXh0RGF0YSgpKSBidWNrZXQudGV4dC5vcGFjaXR5VmVydGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNJY29uRGF0YSgpKSBidWNrZXQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNDb2xsaXNpb25Cb3hEYXRhKCkpIGJ1Y2tldC5jb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkuY2xlYXIoKTtcbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNDb2xsaXNpb25DaXJjbGVEYXRhKCkpIGJ1Y2tldC5jb2xsaXNpb25DaXJjbGUuY29sbGlzaW9uVmVydGV4QXJyYXkuY2xlYXIoKTtcblxuICAgICAgICBjb25zdCBsYXlvdXQgPSBidWNrZXQubGF5ZXJzWzBdLmxheW91dDtcbiAgICAgICAgY29uc3QgZHVwbGljYXRlT3BhY2l0eVN0YXRlID0gbmV3IEpvaW50T3BhY2l0eVN0YXRlKG51bGwsIDAsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRPcGFjaXR5U3RhdGUgPSBuZXcgSm9pbnRPcGFjaXR5U3RhdGUobnVsbCwgMCxcbiAgICAgICAgICAgICAgICBsYXlvdXQuZ2V0KCd0ZXh0LWFsbG93LW92ZXJsYXAnKSxcbiAgICAgICAgICAgICAgICBsYXlvdXQuZ2V0KCdpY29uLWFsbG93LW92ZXJsYXAnKSwgdHJ1ZSk7XG5cbiAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsgcysrKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xJbnN0YW5jZSA9IGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXNbc107XG4gICAgICAgICAgICBjb25zdCBpc0R1cGxpY2F0ZSA9IHNlZW5Dcm9zc1RpbGVJRHNbc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdO1xuXG4gICAgICAgICAgICBsZXQgb3BhY2l0eVN0YXRlID0gdGhpcy5vcGFjaXRpZXNbc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSURdO1xuICAgICAgICAgICAgaWYgKGlzRHVwbGljYXRlKSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eVN0YXRlID0gZHVwbGljYXRlT3BhY2l0eVN0YXRlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghb3BhY2l0eVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eVN0YXRlID0gZGVmYXVsdE9wYWNpdHlTdGF0ZTtcbiAgICAgICAgICAgICAgICAvLyBzdG9yZSB0aGUgc3RhdGUgc28gdGhhdCBmdXR1cmUgcGxhY2VtZW50cyB1c2UgaXQgYXMgYSBzdGFydGluZyBwb2ludFxuICAgICAgICAgICAgICAgIHRoaXMub3BhY2l0aWVzW3N5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEXSA9IG9wYWNpdHlTdGF0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VlbkNyb3NzVGlsZUlEc1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF0gPSB0cnVlO1xuXG4gICAgICAgICAgICBjb25zdCBoYXNUZXh0ID0gc3ltYm9sSW5zdGFuY2UubnVtR2x5cGhWZXJ0aWNlcyA+IDAgfHwgc3ltYm9sSW5zdGFuY2UubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzID4gMDtcbiAgICAgICAgICAgIGNvbnN0IGhhc0ljb24gPSBzeW1ib2xJbnN0YW5jZS5udW1JY29uVmVydGljZXMgPiAwO1xuXG4gICAgICAgICAgICBpZiAoaGFzVGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhY2tlZE9wYWNpdHkgPSBwYWNrT3BhY2l0eShvcGFjaXR5U3RhdGUudGV4dCk7XG4gICAgICAgICAgICAgICAgLy8gVmVydGljYWwgdGV4dCBmYWRlcyBpbi9vdXQgb24gY29sbGlzaW9uIHRoZSBzYW1lIHdheSBhcyBjb3JyZXNwb25kaW5nXG4gICAgICAgICAgICAgICAgLy8gaG9yaXpvbnRhbCB0ZXh0LiBTd2l0Y2ggYmV0d2VlbiB2ZXJ0aWNhbC9ob3Jpem9udGFsIHNob3VsZCBiZSBpbnN0YW50YW5lb3VzXG4gICAgICAgICAgICAgICAgY29uc3Qgb3BhY2l0eUVudHJ5Q291bnQgPSAoc3ltYm9sSW5zdGFuY2UubnVtR2x5cGhWZXJ0aWNlcyArIHN5bWJvbEluc3RhbmNlLm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcykgLyA0O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3BhY2l0eUVudHJ5Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBidWNrZXQudGV4dC5vcGFjaXR5VmVydGV4QXJyYXkuZW1wbGFjZUJhY2socGFja2VkT3BhY2l0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGxhY2VkVGV4dFN5bWJvbEluZGV4IG9mIHN5bWJvbEluc3RhbmNlLnBsYWNlZFRleHRTeW1ib2xJbmRpY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlZFN5bWJvbCA9IGJ1Y2tldC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChwbGFjZWRUZXh0U3ltYm9sSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGxhYmVsIGlzIGNvbXBsZXRlbHkgZmFkZWQsIG1hcmsgaXQgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIGNhbGN1bGF0ZVxuICAgICAgICAgICAgICAgICAgICAvLyBpdHMgcG9zaXRpb24gYXQgcmVuZGVyIHRpbWVcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VkU3ltYm9sLmhpZGRlbiA9IChvcGFjaXR5U3RhdGUudGV4dC5pc0hpZGRlbigpOiBhbnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGhhc0ljb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWNrZWRPcGFjaXR5ID0gcGFja09wYWNpdHkob3BhY2l0eVN0YXRlLmljb24pO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ltYm9sSW5zdGFuY2UubnVtSWNvblZlcnRpY2VzIC8gNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Y2tldC5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhwYWNrZWRPcGFjaXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGxhY2VkU3ltYm9sID0gYnVja2V0Lmljb24ucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHMpO1xuICAgICAgICAgICAgICAgIHBsYWNlZFN5bWJvbC5oaWRkZW4gPSAob3BhY2l0eVN0YXRlLmljb24uaXNIaWRkZW4oKTogYW55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzeW1ib2xJbnN0YW5jZS5jb2xsaXNpb25BcnJheXMpIHtcbiAgICAgICAgICAgICAgICBzeW1ib2xJbnN0YW5jZS5jb2xsaXNpb25BcnJheXMgPSBidWNrZXQuZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICgoY29sbGlzaW9uQm94QXJyYXk6IGFueSk6IENvbGxpc2lvbkJveEFycmF5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbEluc3RhbmNlLnRleHRCb3hTdGFydEluZGV4LCBzeW1ib2xJbnN0YW5jZS50ZXh0Qm94RW5kSW5kZXgsIHN5bWJvbEluc3RhbmNlLmljb25Cb3hTdGFydEluZGV4LCBzeW1ib2xJbnN0YW5jZS5pY29uQm94RW5kSW5kZXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb2xsaXNpb25BcnJheXMgPSBzeW1ib2xJbnN0YW5jZS5jb2xsaXNpb25BcnJheXM7XG4gICAgICAgICAgICBpZiAoY29sbGlzaW9uQXJyYXlzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cy50ZXh0Qm94ICYmIGJ1Y2tldC5oYXNDb2xsaXNpb25Cb3hEYXRhKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29sbGlzaW9uVmVydGljZXMoYnVja2V0LmNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSwgb3BhY2l0eVN0YXRlLnRleHQucGxhY2VkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbkFycmF5cy5pY29uQm94ICYmIGJ1Y2tldC5oYXNDb2xsaXNpb25Cb3hEYXRhKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29sbGlzaW9uVmVydGljZXMoYnVja2V0LmNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSwgb3BhY2l0eVN0YXRlLmljb24ucGxhY2VkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dENpcmNsZXMgPSBjb2xsaXNpb25BcnJheXMudGV4dENpcmNsZXM7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRDaXJjbGVzICYmIGJ1Y2tldC5oYXNDb2xsaXNpb25DaXJjbGVEYXRhKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB0ZXh0Q2lyY2xlcy5sZW5ndGg7IGsgKz0gNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm90VXNlZCA9IGlzRHVwbGljYXRlIHx8IHRleHRDaXJjbGVzW2sgKyA0XSA9PT0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbGxpc2lvblZlcnRpY2VzKGJ1Y2tldC5jb2xsaXNpb25DaXJjbGUuY29sbGlzaW9uVmVydGV4QXJyYXksIG9wYWNpdHlTdGF0ZS50ZXh0LnBsYWNlZCwgbm90VXNlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBidWNrZXQuc29ydEZlYXR1cmVzKHRoaXMudHJhbnNmb3JtLmFuZ2xlKTtcblxuICAgICAgICBpZiAoYnVja2V0Lmhhc1RleHREYXRhKCkgJiYgYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlcikge1xuICAgICAgICAgICAgYnVja2V0LnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGJ1Y2tldC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1Y2tldC5oYXNJY29uRGF0YSgpICYmIGJ1Y2tldC5pY29uLm9wYWNpdHlWZXJ0ZXhCdWZmZXIpIHtcbiAgICAgICAgICAgIGJ1Y2tldC5pY29uLm9wYWNpdHlWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShidWNrZXQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWNrZXQuaGFzQ29sbGlzaW9uQm94RGF0YSgpICYmIGJ1Y2tldC5jb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBidWNrZXQuY29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGJ1Y2tldC5jb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWNrZXQuaGFzQ29sbGlzaW9uQ2lyY2xlRGF0YSgpICYmIGJ1Y2tldC5jb2xsaXNpb25DaXJjbGUuY29sbGlzaW9uVmVydGV4QnVmZmVyKSB7XG4gICAgICAgICAgICBidWNrZXQuY29sbGlzaW9uQ2lyY2xlLmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGJ1Y2tldC5jb2xsaXNpb25DaXJjbGUuY29sbGlzaW9uVmVydGV4QXJyYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXNzZXJ0KGJ1Y2tldC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheS5sZW5ndGggPT09IGJ1Y2tldC50ZXh0LmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCAvIDQpO1xuICAgICAgICBhc3NlcnQoYnVja2V0Lmljb24ub3BhY2l0eVZlcnRleEFycmF5Lmxlbmd0aCA9PT0gYnVja2V0Lmljb24ubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoIC8gNCk7XG4gICAgfVxuXG4gICAgc3ltYm9sRmFkZUNoYW5nZShub3c6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5mYWRlRHVyYXRpb24gPT09IDAgP1xuICAgICAgICAgICAgMSA6XG4gICAgICAgICAgICAobm93IC0gdGhpcy5jb21taXRUaW1lKSAvIHRoaXMuZmFkZUR1cmF0aW9uO1xuICAgIH1cblxuICAgIGhhc1RyYW5zaXRpb25zKG5vdzogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YWxlIHx8XG4gICAgICAgICAgICBub3cgLSB0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lIDwgdGhpcy5mYWRlRHVyYXRpb247XG4gICAgfVxuXG4gICAgc3RpbGxSZWNlbnQobm93OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWl0VGltZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgIHRoaXMuY29tbWl0VGltZSArIHRoaXMuZmFkZUR1cmF0aW9uID4gbm93O1xuICAgIH1cblxuICAgIHNldFN0YWxlKCkge1xuICAgICAgICB0aGlzLnN0YWxlID0gdHJ1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNvbGxpc2lvblZlcnRpY2VzKGNvbGxpc2lvblZlcnRleEFycmF5OiBDb2xsaXNpb25WZXJ0ZXhBcnJheSwgcGxhY2VkOiBib29sZWFuLCBub3RVc2VkOiBib29sZWFuKSB7XG4gICAgY29sbGlzaW9uVmVydGV4QXJyYXkuZW1wbGFjZUJhY2socGxhY2VkID8gMSA6IDAsIG5vdFVzZWQgPyAxIDogMCk7XG4gICAgY29sbGlzaW9uVmVydGV4QXJyYXkuZW1wbGFjZUJhY2socGxhY2VkID8gMSA6IDAsIG5vdFVzZWQgPyAxIDogMCk7XG4gICAgY29sbGlzaW9uVmVydGV4QXJyYXkuZW1wbGFjZUJhY2socGxhY2VkID8gMSA6IDAsIG5vdFVzZWQgPyAxIDogMCk7XG4gICAgY29sbGlzaW9uVmVydGV4QXJyYXkuZW1wbGFjZUJhY2socGxhY2VkID8gMSA6IDAsIG5vdFVzZWQgPyAxIDogMCk7XG59XG5cbi8vIEFsbCBmb3VyIHZlcnRpY2VzIGZvciBhIGdseXBoIHdpbGwgaGF2ZSB0aGUgc2FtZSBvcGFjaXR5IHN0YXRlXG4vLyBTbyB3ZSBwYWNrIHRoZSBvcGFjaXR5IGludG8gYSB1aW50OCwgYW5kIHRoZW4gcmVwZWF0IGl0IGZvdXIgdGltZXNcbi8vIHRvIG1ha2UgYSBzaW5nbGUgdWludDMyIHRoYXQgd2UgY2FuIHVwbG9hZCBmb3IgZWFjaCBnbHlwaCBpbiB0aGVcbi8vIGxhYmVsLlxuY29uc3Qgc2hpZnQyNSA9IE1hdGgucG93KDIsIDI1KTtcbmNvbnN0IHNoaWZ0MjQgPSBNYXRoLnBvdygyLCAyNCk7XG5jb25zdCBzaGlmdDE3ID0gTWF0aC5wb3coMiwgMTcpO1xuY29uc3Qgc2hpZnQxNiA9IE1hdGgucG93KDIsIDE2KTtcbmNvbnN0IHNoaWZ0OSA9IE1hdGgucG93KDIsIDkpO1xuY29uc3Qgc2hpZnQ4ID0gTWF0aC5wb3coMiwgOCk7XG5jb25zdCBzaGlmdDEgPSBNYXRoLnBvdygyLCAxKTtcbmZ1bmN0aW9uIHBhY2tPcGFjaXR5KG9wYWNpdHlTdGF0ZTogT3BhY2l0eVN0YXRlKTogbnVtYmVyIHtcbiAgICBpZiAob3BhY2l0eVN0YXRlLm9wYWNpdHkgPT09IDAgJiYgIW9wYWNpdHlTdGF0ZS5wbGFjZWQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIGlmIChvcGFjaXR5U3RhdGUub3BhY2l0eSA9PT0gMSAmJiBvcGFjaXR5U3RhdGUucGxhY2VkKSB7XG4gICAgICAgIHJldHVybiA0Mjk0OTY3Mjk1O1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXRCaXQgPSBvcGFjaXR5U3RhdGUucGxhY2VkID8gMSA6IDA7XG4gICAgY29uc3Qgb3BhY2l0eUJpdHMgPSBNYXRoLmZsb29yKG9wYWNpdHlTdGF0ZS5vcGFjaXR5ICogMTI3KTtcbiAgICByZXR1cm4gb3BhY2l0eUJpdHMgKiBzaGlmdDI1ICsgdGFyZ2V0Qml0ICogc2hpZnQyNCArXG4gICAgICAgIG9wYWNpdHlCaXRzICogc2hpZnQxNyArIHRhcmdldEJpdCAqIHNoaWZ0MTYgK1xuICAgICAgICBvcGFjaXR5Qml0cyAqIHNoaWZ0OSArIHRhcmdldEJpdCAqIHNoaWZ0OCArXG4gICAgICAgIG9wYWNpdHlCaXRzICogc2hpZnQxICsgdGFyZ2V0Qml0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBQbGFjZW1lbnQ7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuXG5pbXBvcnQgUGxhY2VtZW50IGZyb20gJy4uL3N5bWJvbC9wbGFjZW1lbnQnO1xuXG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybSc7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4vc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgVGlsZSBmcm9tICcuLi9zb3VyY2UvdGlsZSc7XG5cbmNsYXNzIExheWVyUGxhY2VtZW50IHtcbiAgICBfY3VycmVudFRpbGVJbmRleDogbnVtYmVyO1xuICAgIF90aWxlczogQXJyYXk8VGlsZT47XG4gICAgX3NlZW5Dcm9zc1RpbGVJRHM6IHsgW3N0cmluZyB8IG51bWJlcl06IGJvb2xlYW4gfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9jdXJyZW50VGlsZUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fc2VlbkNyb3NzVGlsZUlEcyA9IHt9O1xuICAgIH1cblxuICAgIGNvbnRpbnVlUGxhY2VtZW50KHRpbGVzOiBBcnJheTxUaWxlPiwgcGxhY2VtZW50OiBQbGFjZW1lbnQsIHNob3dDb2xsaXNpb25Cb3hlczogYm9vbGVhbiwgc3R5bGVMYXllcjogU3R5bGVMYXllciwgc2hvdWxkUGF1c2VQbGFjZW1lbnQpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX2N1cnJlbnRUaWxlSW5kZXggPCB0aWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSB0aWxlc1t0aGlzLl9jdXJyZW50VGlsZUluZGV4XTtcbiAgICAgICAgICAgIHBsYWNlbWVudC5wbGFjZUxheWVyVGlsZShzdHlsZUxheWVyLCB0aWxlLCBzaG93Q29sbGlzaW9uQm94ZXMsIHRoaXMuX3NlZW5Dcm9zc1RpbGVJRHMpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGlsZUluZGV4Kys7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUGF1c2VQbGFjZW1lbnQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBQYXVzZWFibGVQbGFjZW1lbnQge1xuICAgIHBsYWNlbWVudDogUGxhY2VtZW50O1xuICAgIF9kb25lOiBib29sZWFuO1xuICAgIF9jdXJyZW50UGxhY2VtZW50SW5kZXg6IG51bWJlcjtcbiAgICBfZm9yY2VGdWxsUGxhY2VtZW50OiBib29sZWFuO1xuICAgIF9zaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW47XG4gICAgX2luUHJvZ3Jlc3NMYXllcjogP0xheWVyUGxhY2VtZW50O1xuXG4gICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBUcmFuc2Zvcm0sIG9yZGVyOiBBcnJheTxzdHJpbmc+LFxuICAgICAgICAgICAgZm9yY2VGdWxsUGxhY2VtZW50OiBib29sZWFuLCBzaG93Q29sbGlzaW9uQm94ZXM6IGJvb2xlYW4sIGZhZGVEdXJhdGlvbjogbnVtYmVyKSB7XG5cbiAgICAgICAgdGhpcy5wbGFjZW1lbnQgPSBuZXcgUGxhY2VtZW50KHRyYW5zZm9ybSwgZmFkZUR1cmF0aW9uKTtcbiAgICAgICAgdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4ID0gb3JkZXIubGVuZ3RoIC0gMTtcbiAgICAgICAgdGhpcy5fZm9yY2VGdWxsUGxhY2VtZW50ID0gZm9yY2VGdWxsUGxhY2VtZW50O1xuICAgICAgICB0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMgPSBzaG93Q29sbGlzaW9uQm94ZXM7XG4gICAgICAgIHRoaXMuX2RvbmUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpc0RvbmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kb25lO1xuICAgIH1cblxuICAgIGNvbnRpbnVlUGxhY2VtZW50KG9yZGVyOiBBcnJheTxzdHJpbmc+LCBsYXllcnM6IHtbc3RyaW5nXTogU3R5bGVMYXllcn0sIGxheWVyVGlsZXM6IHtbc3RyaW5nXTogQXJyYXk8VGlsZT59KSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IGJyb3dzZXIubm93KCk7XG5cbiAgICAgICAgY29uc3Qgc2hvdWxkUGF1c2VQbGFjZW1lbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkVGltZSA9IGJyb3dzZXIubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9yY2VGdWxsUGxhY2VtZW50ID8gZmFsc2UgOiBlbGFwc2VkVGltZSA+IDI7XG4gICAgICAgIH07XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllcklkID0gb3JkZXJbdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gbGF5ZXJzW2xheWVySWRdO1xuICAgICAgICAgICAgY29uc3QgcGxhY2VtZW50Wm9vbSA9IHRoaXMucGxhY2VtZW50LmNvbGxpc2lvbkluZGV4LnRyYW5zZm9ybS56b29tO1xuICAgICAgICAgICAgaWYgKGxheWVyLnR5cGUgPT09ICdzeW1ib2wnICYmXG4gICAgICAgICAgICAgICAgKCFsYXllci5taW56b29tIHx8IGxheWVyLm1pbnpvb20gPD0gcGxhY2VtZW50Wm9vbSkgJiZcbiAgICAgICAgICAgICAgICAoIWxheWVyLm1heHpvb20gfHwgbGF5ZXIubWF4em9vbSA+IHBsYWNlbWVudFpvb20pKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2luUHJvZ3Jlc3NMYXllcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pblByb2dyZXNzTGF5ZXIgPSBuZXcgTGF5ZXJQbGFjZW1lbnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXVzZVBsYWNlbWVudCA9IHRoaXMuX2luUHJvZ3Jlc3NMYXllci5jb250aW51ZVBsYWNlbWVudChsYXllclRpbGVzW2xheWVyLnNvdXJjZV0sIHRoaXMucGxhY2VtZW50LCB0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMsIGxheWVyLCBzaG91bGRQYXVzZVBsYWNlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGF1c2VQbGFjZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZGlkbid0IGZpbmlzaCBwbGFjaW5nIGFsbCBsYXllcnMgd2l0aGluIDJtcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IHdlIGNhbiBrZWVwIHJlbmRlcmluZyB3aXRoIGEgcGFydGlhbCBwbGFjZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UnbGwgcmVzdW1lIGhlcmUgb24gdGhlIG5leHQgZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9pblByb2dyZXNzTGF5ZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZG9uZSA9IHRydWU7XG4gICAgfVxuXG4gICAgY29tbWl0KHByZXZpb3VzUGxhY2VtZW50OiA/UGxhY2VtZW50LCBub3c6IG51bWJlcikge1xuICAgICAgICB0aGlzLnBsYWNlbWVudC5jb21taXQocHJldmlvdXNQbGFjZW1lbnQsIG5vdyk7XG4gICAgICAgIHJldHVybiB0aGlzLnBsYWNlbWVudDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhdXNlYWJsZVBsYWNlbWVudDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuXG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuaW1wb3J0IHR5cGUgU3ltYm9sQnVja2V0LCB7U3ltYm9sSW5zdGFuY2V9IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQnO1xuaW1wb3J0IHR5cGUgU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlJztcblxuLypcbiAgICBUaGUgQ3Jvc3NUaWxlU3ltYm9sSW5kZXggZ2VuZXJhbGx5IHdvcmtzIG9uIHRoZSBhc3N1bXB0aW9uIHRoYXRcbiAgICBhIGNvbmNlcHR1YWwgXCJ1bmlxdWUgc3ltYm9sXCIgY2FuIGJlIGlkZW50aWZpZWQgYnkgdGhlIHRleHQgb2ZcbiAgICB0aGUgbGFiZWwgY29tYmluZWQgd2l0aCB0aGUgYW5jaG9yIHBvaW50LiBUaGUgZ29hbCBpcyB0byBhc3NpZ25cbiAgICB0aGVzZSBjb25jZXB0dWFsIFwidW5pcXVlIHN5bWJvbHNcIiBhIHNoYXJlZCBjcm9zc1RpbGVJRCB0aGF0IGNhbiBiZVxuICAgIHVzZWQgYnkgUGxhY2VtZW50IHRvIGtlZXAgZmFkaW5nIG9wYWNpdHkgc3RhdGVzIGNvbnNpc3RlbnQgYW5kIHRvXG4gICAgZGVkdXBsaWNhdGUgbGFiZWxzLlxuXG4gICAgVGhlIENyb3NzVGlsZVN5bWJvbEluZGV4IGluZGV4ZXMgYWxsIHRoZSBjdXJyZW50IHN5bWJvbCBpbnN0YW5jZXMgYW5kXG4gICAgdGhlaXIgY3Jvc3NUaWxlSURzLiBXaGVuIGEgc3ltYm9sIGJ1Y2tldCBnZXRzIGFkZGVkIG9yIHVwZGF0ZWQsIHRoZVxuICAgIGluZGV4IGFzc2lnbnMgYSBjcm9zc1RpbGVJRCB0byBlYWNoIG9mIGl0J3Mgc3ltYm9sIGluc3RhbmNlcyBieSBlaXRoZXJcbiAgICBtYXRjaGluZyBpdCB3aXRoIGFuIGV4aXN0aW5nIGlkIG9yIGFzc2lnbmluZyBhIG5ldyBvbmUuXG4qL1xuXG4vLyBSb3VuZCBhbmNob3IgcG9zaXRpb25zIHRvIHJvdWdobHkgNCBwaXhlbCBncmlkXG5jb25zdCByb3VuZGluZ0ZhY3RvciA9IDUxMiAvIEVYVEVOVCAvIDI7XG5cbmNsYXNzIFRpbGVMYXllckluZGV4IHtcbiAgICB0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQ7XG4gICAgaW5kZXhlZFN5bWJvbEluc3RhbmNlczoge1tzdHJpbmddOiBBcnJheTx7XG4gICAgICAgIGNyb3NzVGlsZUlEOiBudW1iZXIsXG4gICAgICAgIGNvb3JkOiB7XG4gICAgICAgICAgICB4OiBudW1iZXIsXG4gICAgICAgICAgICB5OiBudW1iZXJcbiAgICAgICAgfVxuICAgIH0+fTtcbiAgICBidWNrZXRJbnN0YW5jZUlkOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih0aWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQsIHN5bWJvbEluc3RhbmNlczogQXJyYXk8U3ltYm9sSW5zdGFuY2U+LCBidWNrZXRJbnN0YW5jZUlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy50aWxlSUQgPSB0aWxlSUQ7XG4gICAgICAgIHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlcyA9IHt9O1xuICAgICAgICB0aGlzLmJ1Y2tldEluc3RhbmNlSWQgPSBidWNrZXRJbnN0YW5jZUlkO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc3ltYm9sSW5zdGFuY2Ugb2Ygc3ltYm9sSW5zdGFuY2VzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBzeW1ib2xJbnN0YW5jZS5rZXk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1trZXldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2tleV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoaXMgdGlsZSBtYXkgaGF2ZSBtdWx0aXBsZSBzeW1ib2wgaW5zdGFuY2VzIHdpdGggdGhlIHNhbWUga2V5XG4gICAgICAgICAgICAvLyBTdG9yZSBlYWNoIG9uZSBhbG9uZyB3aXRoIGl0cyBjb29yZGluYXRlc1xuICAgICAgICAgICAgdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2tleV0ucHVzaCh7XG4gICAgICAgICAgICAgICAgY3Jvc3NUaWxlSUQ6IHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlELFxuICAgICAgICAgICAgICAgIGNvb3JkOiB0aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKHN5bWJvbEluc3RhbmNlLCB0aWxlSUQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbnZlcnRzIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgaW5wdXQgc3ltYm9sIGluc3RhbmNlIGludG8gY29vcmRpbmF0ZXMgdGhhdCBiZSBjYW4gY29tcGFyZWRcbiAgICAvLyBhZ2FpbnN0IG90aGVyIHN5bWJvbHMgaW4gdGhpcyBpbmRleC4gQ29vcmRpbmF0ZXMgYXJlOlxuICAgIC8vICgxKSB3b3JsZC1iYXNlZCAoc28gYWZ0ZXIgY29udmVyc2lvbiB0aGUgc291cmNlIHRpbGUgaXMgaXJyZWxldmFudClcbiAgICAvLyAoMikgY29udmVydGVkIHRvIHRoZSB6LXNjYWxlIG9mIHRoaXMgVGlsZUxheWVySW5kZXhcbiAgICAvLyAoMykgZG93bi1zYW1wbGVkIGJ5IFwicm91bmRpbmdGYWN0b3JcIiBmcm9tIHRpbGUgY29vcmRpbmF0ZSBwcmVjaXNpb24gaW4gb3JkZXIgdG8gYmVcbiAgICAvLyAgICAgbW9yZSB0b2xlcmFudCBvZiBzbWFsbCBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRpbGVzLlxuICAgIGdldFNjYWxlZENvb3JkaW5hdGVzKHN5bWJvbEluc3RhbmNlOiBTeW1ib2xJbnN0YW5jZSwgY2hpbGRUaWxlSUQ6IE92ZXJzY2FsZWRUaWxlSUQpIHtcbiAgICAgICAgY29uc3QgekRpZmZlcmVuY2UgPSBjaGlsZFRpbGVJRC5jYW5vbmljYWwueiAtIHRoaXMudGlsZUlELmNhbm9uaWNhbC56O1xuICAgICAgICBjb25zdCBzY2FsZSA9IHJvdW5kaW5nRmFjdG9yIC8gTWF0aC5wb3coMiwgekRpZmZlcmVuY2UpO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBzeW1ib2xJbnN0YW5jZS5hbmNob3I7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBNYXRoLmZsb29yKChjaGlsZFRpbGVJRC5jYW5vbmljYWwueCAqIEVYVEVOVCArIGFuY2hvci54KSAqIHNjYWxlKSxcbiAgICAgICAgICAgIHk6IE1hdGguZmxvb3IoKGNoaWxkVGlsZUlELmNhbm9uaWNhbC55ICogRVhURU5UICsgYW5jaG9yLnkpICogc2NhbGUpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZmluZE1hdGNoZXMoc3ltYm9sSW5zdGFuY2VzOiBBcnJheTxTeW1ib2xJbnN0YW5jZT4sIG5ld1RpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgem9vbUNyb3NzVGlsZUlEczoge1tjcm9zc1RpbGVJRDogbnVtYmVyXTogYm9vbGVhbn0pIHtcbiAgICAgICAgY29uc3QgdG9sZXJhbmNlID0gdGhpcy50aWxlSUQuY2Fub25pY2FsLnogPCBuZXdUaWxlSUQuY2Fub25pY2FsLnogPyAxIDogTWF0aC5wb3coMiwgdGhpcy50aWxlSUQuY2Fub25pY2FsLnogLSBuZXdUaWxlSUQuY2Fub25pY2FsLnopO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc3ltYm9sSW5zdGFuY2Ugb2Ygc3ltYm9sSW5zdGFuY2VzKSB7XG4gICAgICAgICAgICBpZiAoc3ltYm9sSW5zdGFuY2UuY3Jvc3NUaWxlSUQpIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IGhhcyBhIG1hdGNoLCBza2lwXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGluZGV4ZWRJbnN0YW5jZXMgPSB0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbc3ltYm9sSW5zdGFuY2Uua2V5XTtcbiAgICAgICAgICAgIGlmICghaW5kZXhlZEluc3RhbmNlcykge1xuICAgICAgICAgICAgICAgIC8vIE5vIHN5bWJvbCB3aXRoIHRoaXMga2V5IGluIHRoaXMgYnVja2V0XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNjYWxlZFN5bWJvbENvb3JkID0gdGhpcy5nZXRTY2FsZWRDb29yZGluYXRlcyhzeW1ib2xJbnN0YW5jZSwgbmV3VGlsZUlEKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCB0aGlzVGlsZVN5bWJvbCBvZiBpbmRleGVkSW5zdGFuY2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGFueSBzeW1ib2wgd2l0aCB0aGUgc2FtZSBrZXlzIHdob3NlIGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gMVxuICAgICAgICAgICAgICAgIC8vIGdyaWQgdW5pdC4gKHdpdGggYSA0cHggZ3JpZCwgdGhpcyBjb3ZlcnMgYSAxMnB4IGJ5IDEycHggYXJlYSlcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpc1RpbGVTeW1ib2wuY29vcmQueCAtIHNjYWxlZFN5bWJvbENvb3JkLngpIDw9IHRvbGVyYW5jZSAmJlxuICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyh0aGlzVGlsZVN5bWJvbC5jb29yZC55IC0gc2NhbGVkU3ltYm9sQ29vcmQueSkgPD0gdG9sZXJhbmNlICYmXG4gICAgICAgICAgICAgICAgICAgICF6b29tQ3Jvc3NUaWxlSURzW3RoaXNUaWxlU3ltYm9sLmNyb3NzVGlsZUlEXSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmNlIHdlJ3ZlIG1hcmtlZCBvdXJzZWx2ZXMgZHVwbGljYXRlIGFnYWluc3QgdGhpcyBwYXJlbnQgc3ltYm9sLFxuICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBsZXQgYW55IG90aGVyIHN5bWJvbHMgYXQgdGhlIHNhbWUgem9vbSBsZXZlbCBkdXBsaWNhdGUgYWdhaW5zdFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc2FtZSBwYXJlbnQgKHNlZSBpc3N1ZSAjNTk5MylcbiAgICAgICAgICAgICAgICAgICAgem9vbUNyb3NzVGlsZUlEc1t0aGlzVGlsZVN5bWJvbC5jcm9zc1RpbGVJRF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRCA9IHRoaXNUaWxlU3ltYm9sLmNyb3NzVGlsZUlEO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIENyb3NzVGlsZUlEcyB7XG4gICAgbWF4Q3Jvc3NUaWxlSUQ6IG51bWJlcjtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYXhDcm9zc1RpbGVJRCA9IDA7XG4gICAgfVxuICAgIGdlbmVyYXRlKCkge1xuICAgICAgICByZXR1cm4gKyt0aGlzLm1heENyb3NzVGlsZUlEO1xuICAgIH1cbn1cblxuY2xhc3MgQ3Jvc3NUaWxlU3ltYm9sTGF5ZXJJbmRleCB7XG4gICAgaW5kZXhlczoge1t6b29tOiBzdHJpbmcgfCBudW1iZXJdOiB7W3RpbGVJZDogc3RyaW5nIHwgbnVtYmVyXTogVGlsZUxheWVySW5kZXh9fTtcbiAgICB1c2VkQ3Jvc3NUaWxlSURzOiB7W3pvb206IHN0cmluZyB8IG51bWJlcl06IHtbY3Jvc3NUaWxlSUQ6IG51bWJlcl06IGJvb2xlYW59fTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluZGV4ZXMgPSB7fTtcbiAgICAgICAgdGhpcy51c2VkQ3Jvc3NUaWxlSURzID0ge307XG4gICAgfVxuXG4gICAgYWRkQnVja2V0KHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgYnVja2V0OiBTeW1ib2xCdWNrZXQsIGNyb3NzVGlsZUlEczogQ3Jvc3NUaWxlSURzKSB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ZXNbdGlsZUlELm92ZXJzY2FsZWRaXSAmJlxuICAgICAgICAgICAgdGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl1bdGlsZUlELmtleV0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ZXNbdGlsZUlELm92ZXJzY2FsZWRaXVt0aWxlSUQua2V5XS5idWNrZXRJbnN0YW5jZUlkID09PVxuICAgICAgICAgICAgICAgIGJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXZSdyZSByZXBsYWNpbmcgdGhpcyBidWNrZXQgd2l0aCBhbiB1cGRhdGVkIHZlcnNpb25cbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIG9sZCBidWNrZXQncyBcInVzZWQgY3Jvc3NUaWxlSURzXCIgbm93IHNvIHRoYXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgbmV3IGJ1Y2tldCBjYW4gY2xhaW0gdGhlbS5cbiAgICAgICAgICAgICAgICAvLyBUaGUgb2xkIGluZGV4IGVudHJpZXMgdGhlbXNlbHZlcyBzdGljayBhcm91bmQgdW50aWxcbiAgICAgICAgICAgICAgICAvLyAncmVtb3ZlU3RhbGVCdWNrZXRzJyBpcyBjYWxsZWQuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHModGlsZUlELm92ZXJzY2FsZWRaLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4ZXNbdGlsZUlELm92ZXJzY2FsZWRaXVt0aWxlSUQua2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHN5bWJvbEluc3RhbmNlIG9mIGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMpIHtcbiAgICAgICAgICAgIHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy51c2VkQ3Jvc3NUaWxlSURzW3RpbGVJRC5vdmVyc2NhbGVkWl0pIHtcbiAgICAgICAgICAgIHRoaXMudXNlZENyb3NzVGlsZUlEc1t0aWxlSUQub3ZlcnNjYWxlZFpdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgem9vbUNyb3NzVGlsZUlEcyA9IHRoaXMudXNlZENyb3NzVGlsZUlEc1t0aWxlSUQub3ZlcnNjYWxlZFpdO1xuXG4gICAgICAgIGZvciAoY29uc3Qgem9vbSBpbiB0aGlzLmluZGV4ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHpvb21JbmRleGVzID0gdGhpcy5pbmRleGVzW3pvb21dO1xuICAgICAgICAgICAgaWYgKE51bWJlcih6b29tKSA+IHRpbGVJRC5vdmVyc2NhbGVkWikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gem9vbUluZGV4ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRJbmRleCA9IHpvb21JbmRleGVzW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSW5kZXgudGlsZUlELmlzQ2hpbGRPZih0aWxlSUQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEluZGV4LmZpbmRNYXRjaGVzKGJ1Y2tldC5zeW1ib2xJbnN0YW5jZXMsIHRpbGVJRCwgem9vbUNyb3NzVGlsZUlEcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudENvb3JkID0gdGlsZUlELnNjYWxlZFRvKE51bWJlcih6b29tKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50SW5kZXggPSB6b29tSW5kZXhlc1twYXJlbnRDb29yZC5rZXldO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRJbmRleC5maW5kTWF0Y2hlcyhidWNrZXQuc3ltYm9sSW5zdGFuY2VzLCB0aWxlSUQsIHpvb21Dcm9zc1RpbGVJRHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3Qgc3ltYm9sSW5zdGFuY2Ugb2YgYnVja2V0LnN5bWJvbEluc3RhbmNlcykge1xuICAgICAgICAgICAgaWYgKCFzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRCkge1xuICAgICAgICAgICAgICAgIC8vIHN5bWJvbCBkaWQgbm90IG1hdGNoIGFueSBrbm93biBzeW1ib2wsIGFzc2lnbiBhIG5ldyBpZFxuICAgICAgICAgICAgICAgIHN5bWJvbEluc3RhbmNlLmNyb3NzVGlsZUlEID0gY3Jvc3NUaWxlSURzLmdlbmVyYXRlKCk7XG4gICAgICAgICAgICAgICAgem9vbUNyb3NzVGlsZUlEc1tzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhlc1t0aWxlSUQub3ZlcnNjYWxlZFpdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbmRleGVzW3RpbGVJRC5vdmVyc2NhbGVkWl1bdGlsZUlELmtleV0gPSBuZXcgVGlsZUxheWVySW5kZXgodGlsZUlELCBidWNrZXQuc3ltYm9sSW5zdGFuY2VzLCBidWNrZXQuYnVja2V0SW5zdGFuY2VJZCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHpvb206IHN0cmluZyB8IG51bWJlciwgcmVtb3ZlZEJ1Y2tldDogVGlsZUxheWVySW5kZXgpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVtb3ZlZEJ1Y2tldC5pbmRleGVkU3ltYm9sSW5zdGFuY2VzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN5bWJvbEluc3RhbmNlIG9mIHJlbW92ZWRCdWNrZXQuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1trZXldKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMudXNlZENyb3NzVGlsZUlEc1t6b29tXVtzeW1ib2xJbnN0YW5jZS5jcm9zc1RpbGVJRF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVTdGFsZUJ1Y2tldHMoY3VycmVudElEczogeyBbc3RyaW5nIHwgbnVtYmVyXTogYm9vbGVhbiB9KSB7XG4gICAgICAgIGxldCB0aWxlc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCB6IGluIHRoaXMuaW5kZXhlcykge1xuICAgICAgICAgICAgY29uc3Qgem9vbUluZGV4ZXMgPSB0aGlzLmluZGV4ZXNbel07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRpbGVLZXkgaW4gem9vbUluZGV4ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRJRHNbem9vbUluZGV4ZXNbdGlsZUtleV0uYnVja2V0SW5zdGFuY2VJZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMoeiwgem9vbUluZGV4ZXNbdGlsZUtleV0pO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgem9vbUluZGV4ZXNbdGlsZUtleV07XG4gICAgICAgICAgICAgICAgICAgIHRpbGVzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aWxlc0NoYW5nZWQ7XG4gICAgfVxufVxuXG5jbGFzcyBDcm9zc1RpbGVTeW1ib2xJbmRleCB7XG4gICAgbGF5ZXJJbmRleGVzOiB7W2xheWVySWQ6IHN0cmluZ106IENyb3NzVGlsZVN5bWJvbExheWVySW5kZXh9O1xuICAgIGNyb3NzVGlsZUlEczogQ3Jvc3NUaWxlSURzO1xuICAgIG1heEJ1Y2tldEluc3RhbmNlSWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxheWVySW5kZXhlcyA9IHt9O1xuICAgICAgICB0aGlzLmNyb3NzVGlsZUlEcyA9IG5ldyBDcm9zc1RpbGVJRHMoKTtcbiAgICAgICAgdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkID0gMDtcbiAgICB9XG5cbiAgICBhZGRMYXllcihzdHlsZUxheWVyOiBTdHlsZUxheWVyLCB0aWxlczogQXJyYXk8VGlsZT4pIHtcbiAgICAgICAgbGV0IGxheWVySW5kZXggPSB0aGlzLmxheWVySW5kZXhlc1tzdHlsZUxheWVyLmlkXTtcbiAgICAgICAgaWYgKGxheWVySW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGF5ZXJJbmRleCA9IHRoaXMubGF5ZXJJbmRleGVzW3N0eWxlTGF5ZXIuaWRdID0gbmV3IENyb3NzVGlsZVN5bWJvbExheWVySW5kZXgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzeW1ib2xCdWNrZXRzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBjdXJyZW50QnVja2V0SURzID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCB0aWxlIG9mIHRpbGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzeW1ib2xCdWNrZXQgPSAoKHRpbGUuZ2V0QnVja2V0KHN0eWxlTGF5ZXIpOiBhbnkpOiBTeW1ib2xCdWNrZXQpO1xuICAgICAgICAgICAgaWYgKCFzeW1ib2xCdWNrZXQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoIXN5bWJvbEJ1Y2tldC5idWNrZXRJbnN0YW5jZUlkKSB7XG4gICAgICAgICAgICAgICAgc3ltYm9sQnVja2V0LmJ1Y2tldEluc3RhbmNlSWQgPSArK3RoaXMubWF4QnVja2V0SW5zdGFuY2VJZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxheWVySW5kZXguYWRkQnVja2V0KHRpbGUudGlsZUlELCBzeW1ib2xCdWNrZXQsIHRoaXMuY3Jvc3NUaWxlSURzKSkge1xuICAgICAgICAgICAgICAgIHN5bWJvbEJ1Y2tldHNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRCdWNrZXRJRHNbc3ltYm9sQnVja2V0LmJ1Y2tldEluc3RhbmNlSWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXllckluZGV4LnJlbW92ZVN0YWxlQnVja2V0cyhjdXJyZW50QnVja2V0SURzKSkge1xuICAgICAgICAgICAgc3ltYm9sQnVja2V0c0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN5bWJvbEJ1Y2tldHNDaGFuZ2VkO1xuICAgIH1cblxuICAgIHBydW5lVW51c2VkTGF5ZXJzKHVzZWRMYXllcnM6IEFycmF5PHN0cmluZz4pIHtcbiAgICAgICAgY29uc3QgdXNlZExheWVyTWFwID0ge307XG4gICAgICAgIHVzZWRMYXllcnMuZm9yRWFjaCgodXNlZExheWVyKSA9PiB7XG4gICAgICAgICAgICB1c2VkTGF5ZXJNYXBbdXNlZExheWVyXSA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IGxheWVySWQgaW4gdGhpcy5sYXllckluZGV4ZXMpIHtcbiAgICAgICAgICAgIGlmICghdXNlZExheWVyTWFwW2xheWVySWRdKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMubGF5ZXJJbmRleGVzW2xheWVySWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDcm9zc1RpbGVTeW1ib2xJbmRleDtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHsgRXZlbnQsIEVycm9yRXZlbnQsIEV2ZW50ZWQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IFN0eWxlTGF5ZXIgZnJvbSAnLi9zdHlsZV9sYXllcic7XG5pbXBvcnQgY3JlYXRlU3R5bGVMYXllciBmcm9tICcuL2NyZWF0ZV9zdHlsZV9sYXllcic7XG5pbXBvcnQgbG9hZFNwcml0ZSBmcm9tICcuL2xvYWRfc3ByaXRlJztcbmltcG9ydCBJbWFnZU1hbmFnZXIgZnJvbSAnLi4vcmVuZGVyL2ltYWdlX21hbmFnZXInO1xuaW1wb3J0IEdseXBoTWFuYWdlciBmcm9tICcuLi9yZW5kZXIvZ2x5cGhfbWFuYWdlcic7XG5pbXBvcnQgTGlnaHQgZnJvbSAnLi9saWdodCc7XG5pbXBvcnQgTGluZUF0bGFzIGZyb20gJy4uL3JlbmRlci9saW5lX2F0bGFzJztcbmltcG9ydCB7IHBpY2ssIGNsb25lLCBleHRlbmQsIGRlZXBFcXVhbCwgZmlsdGVyT2JqZWN0LCBtYXBPYmplY3QgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHsgZ2V0SlNPTiwgUmVzb3VyY2VUeXBlIH0gZnJvbSAnLi4vdXRpbC9hamF4JztcbmltcG9ydCB7IGlzTWFwYm94VVJMLCBub3JtYWxpemVTdHlsZVVSTCB9IGZyb20gJy4uL3V0aWwvbWFwYm94JztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgRGlzcGF0Y2hlciBmcm9tICcuLi91dGlsL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHsgdmFsaWRhdGVTdHlsZSwgZW1pdFZhbGlkYXRpb25FcnJvcnMgfSBmcm9tICcuL3ZhbGlkYXRlX3N0eWxlJztcbmltcG9ydCB7XG4gICAgZ2V0VHlwZSBhcyBnZXRTb3VyY2VUeXBlLFxuICAgIHNldFR5cGUgYXMgc2V0U291cmNlVHlwZVxufSBmcm9tICcuLi9zb3VyY2Uvc291cmNlJztcbmltcG9ydCB7IHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcywgcXVlcnlTb3VyY2VGZWF0dXJlcyB9IGZyb20gJy4uL3NvdXJjZS9xdWVyeV9mZWF0dXJlcyc7XG5pbXBvcnQgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgR2VvSlNPTlNvdXJjZSBmcm9tICcuLi9zb3VyY2UvZ2VvanNvbl9zb3VyY2UnO1xuaW1wb3J0IHN0eWxlU3BlYyBmcm9tICcuLi9zdHlsZS1zcGVjL3JlZmVyZW5jZS9sYXRlc3QnO1xuaW1wb3J0IGdldFdvcmtlclBvb2wgZnJvbSAnLi4vdXRpbC9nbG9iYWxfd29ya2VyX3Bvb2wnO1xuaW1wb3J0IGRlcmVmIGZyb20gJy4uL3N0eWxlLXNwZWMvZGVyZWYnO1xuaW1wb3J0IGRpZmZTdHlsZXMsIHtvcGVyYXRpb25zIGFzIGRpZmZPcGVyYXRpb25zfSBmcm9tICcuLi9zdHlsZS1zcGVjL2RpZmYnO1xuaW1wb3J0IHtcbiAgICByZWdpc3RlckZvclBsdWdpbkF2YWlsYWJpbGl0eSxcbiAgICBldmVudGVkIGFzIHJ0bFRleHRQbHVnaW5FdmVudGVkXG59IGZyb20gJy4uL3NvdXJjZS9ydGxfdGV4dF9wbHVnaW4nO1xuaW1wb3J0IFBhdXNlYWJsZVBsYWNlbWVudCBmcm9tICcuL3BhdXNlYWJsZV9wbGFjZW1lbnQnO1xuaW1wb3J0IFpvb21IaXN0b3J5IGZyb20gJy4vem9vbV9oaXN0b3J5JztcbmltcG9ydCBDcm9zc1RpbGVTeW1ib2xJbmRleCBmcm9tICcuLi9zeW1ib2wvY3Jvc3NfdGlsZV9zeW1ib2xfaW5kZXgnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vdWkvbWFwJztcbmltcG9ydCB0eXBlIFRyYW5zZm9ybSBmcm9tICcuLi9nZW8vdHJhbnNmb3JtJztcbmltcG9ydCB0eXBlIHtTb3VyY2V9IGZyb20gJy4uL3NvdXJjZS9zb3VyY2UnO1xuaW1wb3J0IHR5cGUge1N0eWxlSW1hZ2V9IGZyb20gJy4vc3R5bGVfaW1hZ2UnO1xuaW1wb3J0IHR5cGUge1N0eWxlR2x5cGh9IGZyb20gJy4vc3R5bGVfZ2x5cGgnO1xuaW1wb3J0IHR5cGUge0NhbGxiYWNrfSBmcm9tICcuLi90eXBlcy9jYWxsYmFjayc7XG5pbXBvcnQgdHlwZSBFdmFsdWF0aW9uUGFyYW1ldGVycyBmcm9tICcuL2V2YWx1YXRpb25fcGFyYW1ldGVycyc7XG5pbXBvcnQgdHlwZSBQbGFjZW1lbnQgZnJvbSAnLi4vc3ltYm9sL3BsYWNlbWVudCc7XG5cbmNvbnN0IHN1cHBvcnRlZERpZmZPcGVyYXRpb25zID0gcGljayhkaWZmT3BlcmF0aW9ucywgW1xuICAgICdhZGRMYXllcicsXG4gICAgJ3JlbW92ZUxheWVyJyxcbiAgICAnc2V0UGFpbnRQcm9wZXJ0eScsXG4gICAgJ3NldExheW91dFByb3BlcnR5JyxcbiAgICAnc2V0RmlsdGVyJyxcbiAgICAnYWRkU291cmNlJyxcbiAgICAncmVtb3ZlU291cmNlJyxcbiAgICAnc2V0TGF5ZXJab29tUmFuZ2UnLFxuICAgICdzZXRMaWdodCcsXG4gICAgJ3NldFRyYW5zaXRpb24nLFxuICAgICdzZXRHZW9KU09OU291cmNlRGF0YSdcbiAgICAvLyAnc2V0R2x5cGhzJyxcbiAgICAvLyAnc2V0U3ByaXRlJyxcbl0pO1xuXG5jb25zdCBpZ25vcmVkRGlmZk9wZXJhdGlvbnMgPSBwaWNrKGRpZmZPcGVyYXRpb25zLCBbXG4gICAgJ3NldENlbnRlcicsXG4gICAgJ3NldFpvb20nLFxuICAgICdzZXRCZWFyaW5nJyxcbiAgICAnc2V0UGl0Y2gnXG5dKTtcblxuZXhwb3J0IHR5cGUgU3R5bGVPcHRpb25zID0ge1xuICAgIHZhbGlkYXRlPzogYm9vbGVhbixcbiAgICBsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk/OiBzdHJpbmdcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgU3R5bGUgZXh0ZW5kcyBFdmVudGVkIHtcbiAgICBtYXA6IE1hcDtcbiAgICBzdHlsZXNoZWV0OiBTdHlsZVNwZWNpZmljYXRpb247XG4gICAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgICBpbWFnZU1hbmFnZXI6IEltYWdlTWFuYWdlcjtcbiAgICBnbHlwaE1hbmFnZXI6IEdseXBoTWFuYWdlcjtcbiAgICBsaW5lQXRsYXM6IExpbmVBdGxhcztcbiAgICBsaWdodDogTGlnaHQ7XG5cbiAgICBfbGF5ZXJzOiB7W3N0cmluZ106IFN0eWxlTGF5ZXJ9O1xuICAgIF9vcmRlcjogQXJyYXk8c3RyaW5nPjtcbiAgICBzb3VyY2VDYWNoZXM6IHtbc3RyaW5nXTogU291cmNlQ2FjaGV9O1xuICAgIHpvb21IaXN0b3J5OiBab29tSGlzdG9yeTtcbiAgICBfbG9hZGVkOiBib29sZWFuO1xuICAgIF9ydGxUZXh0UGx1Z2luQ2FsbGJhY2s6IEZ1bmN0aW9uO1xuICAgIF9jaGFuZ2VkOiBib29sZWFuO1xuICAgIF91cGRhdGVkU291cmNlczoge1tzdHJpbmddOiAnY2xlYXInIHwgJ3JlbG9hZCd9O1xuICAgIF91cGRhdGVkTGF5ZXJzOiB7W3N0cmluZ106IHRydWV9O1xuICAgIF9yZW1vdmVkTGF5ZXJzOiB7W3N0cmluZ106IFN0eWxlTGF5ZXJ9O1xuICAgIF91cGRhdGVkUGFpbnRQcm9wczoge1tsYXllcjogc3RyaW5nXTogdHJ1ZX07XG4gICAgX2xheWVyT3JkZXJDaGFuZ2VkOiBib29sZWFuO1xuXG4gICAgY3Jvc3NUaWxlU3ltYm9sSW5kZXg6IENyb3NzVGlsZVN5bWJvbEluZGV4O1xuICAgIHBhdXNlYWJsZVBsYWNlbWVudDogUGF1c2VhYmxlUGxhY2VtZW50O1xuICAgIHBsYWNlbWVudDogUGxhY2VtZW50O1xuICAgIHo6IG51bWJlcjtcblxuICAgIC8vIGV4cG9zZWQgdG8gYWxsb3cgc3R1YmJpbmcgYnkgdW5pdCB0ZXN0c1xuICAgIHN0YXRpYyBnZXRTb3VyY2VUeXBlOiB0eXBlb2YgZ2V0U291cmNlVHlwZTtcbiAgICBzdGF0aWMgc2V0U291cmNlVHlwZTogdHlwZW9mIHNldFNvdXJjZVR5cGU7XG4gICAgc3RhdGljIHJlZ2lzdGVyRm9yUGx1Z2luQXZhaWxhYmlsaXR5OiB0eXBlb2YgcmVnaXN0ZXJGb3JQbHVnaW5BdmFpbGFiaWxpdHk7XG5cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCwgb3B0aW9uczogU3R5bGVPcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gbmV3IERpc3BhdGNoZXIoZ2V0V29ya2VyUG9vbCgpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIgPSBuZXcgSW1hZ2VNYW5hZ2VyKCk7XG4gICAgICAgIHRoaXMuZ2x5cGhNYW5hZ2VyID0gbmV3IEdseXBoTWFuYWdlcihtYXAuX3RyYW5zZm9ybVJlcXVlc3QsIG9wdGlvbnMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5KTtcbiAgICAgICAgdGhpcy5saW5lQXRsYXMgPSBuZXcgTGluZUF0bGFzKDI1NiwgNTEyKTtcbiAgICAgICAgdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleCA9IG5ldyBDcm9zc1RpbGVTeW1ib2xJbmRleCgpO1xuXG4gICAgICAgIHRoaXMuX2xheWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9vcmRlciAgPSBbXTtcbiAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXMgPSB7fTtcbiAgICAgICAgdGhpcy56b29tSGlzdG9yeSA9IG5ldyBab29tSGlzdG9yeSgpO1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9yZXNldFVwZGF0ZXMoKTtcblxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5fcnRsVGV4dFBsdWdpbkNhbGxiYWNrID0gU3R5bGUucmVnaXN0ZXJGb3JQbHVnaW5BdmFpbGFiaWxpdHkoKGFyZ3MpID0+IHtcbiAgICAgICAgICAgIHNlbGYuZGlzcGF0Y2hlci5icm9hZGNhc3QoJ2xvYWRSVExUZXh0UGx1Z2luJywgYXJncy5wbHVnaW5VUkwsIGFyZ3MuZXJyb3JDYWxsYmFjayk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHNlbGYuc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zb3VyY2VDYWNoZXNbaWRdLnJlbG9hZCgpOyAvLyBTaG91bGQgYmUgYSBuby1vcCBpZiB0aGUgcGx1Z2luIGxvYWRzIGJlZm9yZSBhbnkgdGlsZXMgbG9hZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm9uKCdkYXRhJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YVR5cGUgIT09ICdzb3VyY2UnIHx8IGV2ZW50LnNvdXJjZURhdGFUeXBlICE9PSAnbWV0YWRhdGEnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHRoaXMuc291cmNlQ2FjaGVzW2V2ZW50LnNvdXJjZUlkXTtcbiAgICAgICAgICAgIGlmICghc291cmNlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UgfHwgIXNvdXJjZS52ZWN0b3JMYXllcklkcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChjb25zdCBsYXllcklkIGluIHRoaXMuX2xheWVycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5fbGF5ZXJzW2xheWVySWRdO1xuICAgICAgICAgICAgICAgIGlmIChsYXllci5zb3VyY2UgPT09IHNvdXJjZS5pZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWxpZGF0ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGxvYWRVUkwodXJsOiBzdHJpbmcsIG9wdGlvbnM6IHtcbiAgICAgICAgdmFsaWRhdGU/OiBib29sZWFuLFxuICAgICAgICBhY2Nlc3NUb2tlbj86IHN0cmluZ1xuICAgIH0gPSB7fSkge1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhbG9hZGluZycsIHtkYXRhVHlwZTogJ3N0eWxlJ30pKTtcblxuICAgICAgICBjb25zdCB2YWxpZGF0ZSA9IHR5cGVvZiBvcHRpb25zLnZhbGlkYXRlID09PSAnYm9vbGVhbicgP1xuICAgICAgICAgICAgb3B0aW9ucy52YWxpZGF0ZSA6ICFpc01hcGJveFVSTCh1cmwpO1xuXG4gICAgICAgIHVybCA9IG5vcm1hbGl6ZVN0eWxlVVJMKHVybCwgb3B0aW9ucy5hY2Nlc3NUb2tlbik7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdCh1cmwsIFJlc291cmNlVHlwZS5TdHlsZSk7XG5cbiAgICAgICAgZ2V0SlNPTihyZXF1ZXN0LCAoZXJyb3IsIGpzb24pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChlcnJvcikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChqc29uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZCgoanNvbjogYW55KSwgdmFsaWRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkSlNPTihqc29uOiBTdHlsZVNwZWNpZmljYXRpb24sIG9wdGlvbnM6IHtcbiAgICAgICAgdmFsaWRhdGU/OiBib29sZWFuXG4gICAgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGFsb2FkaW5nJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuXG4gICAgICAgIGJyb3dzZXIuZnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9hZChqc29uLCBvcHRpb25zLnZhbGlkYXRlICE9PSBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9sb2FkKGpzb246IFN0eWxlU3BlY2lmaWNhdGlvbiwgdmFsaWRhdGU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHZhbGlkYXRlICYmIGVtaXRWYWxpZGF0aW9uRXJyb3JzKHRoaXMsIHZhbGlkYXRlU3R5bGUoanNvbikpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0eWxlc2hlZXQgPSBqc29uO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4ganNvbi5zb3VyY2VzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFNvdXJjZShpZCwganNvbi5zb3VyY2VzW2lkXSwge3ZhbGlkYXRlOiBmYWxzZX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGpzb24uc3ByaXRlKSB7XG4gICAgICAgICAgICBsb2FkU3ByaXRlKGpzb24uc3ByaXRlLCB0aGlzLm1hcC5fdHJhbnNmb3JtUmVxdWVzdCwgKGVyciwgaW1hZ2VzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQoZXJyKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbWFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBpbiBpbWFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKGlkLCBpbWFnZXNbaWRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdkYXRhJywge2RhdGFUeXBlOiAnc3R5bGUnfSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlTWFuYWdlci5zZXRMb2FkZWQodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdseXBoTWFuYWdlci5zZXRVUkwoanNvbi5nbHlwaHMpO1xuXG4gICAgICAgIGNvbnN0IGxheWVycyA9IGRlcmVmKHRoaXMuc3R5bGVzaGVldC5sYXllcnMpO1xuXG4gICAgICAgIHRoaXMuX29yZGVyID0gbGF5ZXJzLm1hcCgobGF5ZXIpID0+IGxheWVyLmlkKTtcblxuICAgICAgICB0aGlzLl9sYXllcnMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgbGF5ZXIgb2YgbGF5ZXJzKSB7XG4gICAgICAgICAgICBsYXllciA9IGNyZWF0ZVN0eWxlTGF5ZXIobGF5ZXIpO1xuICAgICAgICAgICAgbGF5ZXIuc2V0RXZlbnRlZFBhcmVudCh0aGlzLCB7bGF5ZXI6IHtpZDogbGF5ZXIuaWR9fSk7XG4gICAgICAgICAgICB0aGlzLl9sYXllcnNbbGF5ZXIuaWRdID0gbGF5ZXI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCdzZXRMYXllcnMnLCB0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpKTtcblxuICAgICAgICB0aGlzLmxpZ2h0ID0gbmV3IExpZ2h0KHRoaXMuc3R5bGVzaGVldC5saWdodCk7XG5cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3N0eWxlJ30pKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnc3R5bGUubG9hZCcpKTtcbiAgICB9XG5cbiAgICBfdmFsaWRhdGVMYXllcihsYXllcjogU3R5bGVMYXllcikge1xuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHRoaXMuc291cmNlQ2FjaGVzW2xheWVyLnNvdXJjZV07XG4gICAgICAgIGlmICghc291cmNlQ2FjaGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZUxheWVyID0gbGF5ZXIuc291cmNlTGF5ZXI7XG4gICAgICAgIGlmICghc291cmNlTGF5ZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpO1xuICAgICAgICBpZiAoc291cmNlLnR5cGUgPT09ICdnZW9qc29uJyB8fCAoc291cmNlLnZlY3RvckxheWVySWRzICYmIHNvdXJjZS52ZWN0b3JMYXllcklkcy5pbmRleE9mKHNvdXJjZUxheWVyKSA9PT0gLTEpKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBTb3VyY2UgbGF5ZXIgXCIke3NvdXJjZUxheWVyfVwiIGAgK1xuICAgICAgICAgICAgICAgIGBkb2VzIG5vdCBleGlzdCBvbiBzb3VyY2UgXCIke3NvdXJjZS5pZH1cIiBgICtcbiAgICAgICAgICAgICAgICBgYXMgc3BlY2lmaWVkIGJ5IHN0eWxlIGxheWVyIFwiJHtsYXllci5pZH1cImBcbiAgICAgICAgICAgICkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRlZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sb2FkZWQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuX3VwZGF0ZWRTb3VyY2VzKS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnNvdXJjZUNhY2hlcylcbiAgICAgICAgICAgIGlmICghdGhpcy5zb3VyY2VDYWNoZXNbaWRdLmxvYWRlZCgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAoIXRoaXMuaW1hZ2VNYW5hZ2VyLmlzTG9hZGVkKCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgX3NlcmlhbGl6ZUxheWVycyhpZHM6IEFycmF5PHN0cmluZz4pIHtcbiAgICAgICAgcmV0dXJuIGlkcy5tYXAoKGlkKSA9PiB0aGlzLl9sYXllcnNbaWRdLnNlcmlhbGl6ZSgpKTtcbiAgICB9XG5cbiAgICBoYXNUcmFuc2l0aW9ucygpIHtcbiAgICAgICAgaWYgKHRoaXMubGlnaHQgJiYgdGhpcy5saWdodC5oYXNUcmFuc2l0aW9uKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc291cmNlQ2FjaGVzW2lkXS5oYXNUcmFuc2l0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5fbGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGF5ZXJzW2lkXS5oYXNUcmFuc2l0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfY2hlY2tMb2FkZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9hZGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0eWxlIGlzIG5vdCBkb25lIGxvYWRpbmcnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHF1ZXVlZCBzdHlsZSB1cGRhdGVzIGluIGEgYmF0Y2ggYW5kIHJlY2FsY3VsYXRlIHpvb20tZGVwZW5kZW50IHBhaW50IHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgdXBkYXRlKHBhcmFtZXRlcnM6IEV2YWx1YXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY2hhbmdlZCkge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZElkcyA9IE9iamVjdC5rZXlzKHRoaXMuX3VwZGF0ZWRMYXllcnMpO1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZElkcyA9IE9iamVjdC5rZXlzKHRoaXMuX3JlbW92ZWRMYXllcnMpO1xuXG4gICAgICAgICAgICBpZiAodXBkYXRlZElkcy5sZW5ndGggfHwgcmVtb3ZlZElkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVXb3JrZXJMYXllcnModXBkYXRlZElkcywgcmVtb3ZlZElkcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3VwZGF0ZWRTb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5fdXBkYXRlZFNvdXJjZXNbaWRdO1xuICAgICAgICAgICAgICAgIGFzc2VydChhY3Rpb24gPT09ICdyZWxvYWQnIHx8IGFjdGlvbiA9PT0gJ2NsZWFyJyk7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ3JlbG9hZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVsb2FkU291cmNlKGlkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2NsZWFyJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhclNvdXJjZShpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGF5ZXJzW2lkXS51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhwYXJhbWV0ZXJzKTtcblxuICAgICAgICAgICAgdGhpcy5fcmVzZXRVcGRhdGVzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7ZGF0YVR5cGU6ICdzdHlsZSd9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZUlkIGluIHRoaXMuc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUNhY2hlc1tzb3VyY2VJZF0udXNlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBsYXllcklkIG9mIHRoaXMuX29yZGVyKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklkXTtcblxuICAgICAgICAgICAgbGF5ZXIucmVjYWxjdWxhdGUocGFyYW1ldGVycyk7XG4gICAgICAgICAgICBpZiAoIWxheWVyLmlzSGlkZGVuKHBhcmFtZXRlcnMuem9vbSkgJiYgbGF5ZXIuc291cmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXNbbGF5ZXIuc291cmNlXS51c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGlnaHQucmVjYWxjdWxhdGUocGFyYW1ldGVycyk7XG4gICAgICAgIHRoaXMueiA9IHBhcmFtZXRlcnMuem9vbTtcbiAgICB9XG5cbiAgICBfdXBkYXRlV29ya2VyTGF5ZXJzKHVwZGF0ZWRJZHM6IEFycmF5PHN0cmluZz4sIHJlbW92ZWRJZHM6IEFycmF5PHN0cmluZz4pIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdCgndXBkYXRlTGF5ZXJzJywge1xuICAgICAgICAgICAgbGF5ZXJzOiB0aGlzLl9zZXJpYWxpemVMYXllcnModXBkYXRlZElkcyksXG4gICAgICAgICAgICByZW1vdmVkSWRzOiByZW1vdmVkSWRzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9yZXNldFVwZGF0ZXMoKSB7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl91cGRhdGVkTGF5ZXJzID0ge307XG4gICAgICAgIHRoaXMuX3JlbW92ZWRMYXllcnMgPSB7fTtcblxuICAgICAgICB0aGlzLl91cGRhdGVkU291cmNlcyA9IHt9O1xuICAgICAgICB0aGlzLl91cGRhdGVkUGFpbnRQcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGlzIHN0eWxlJ3Mgc3RhdGUgdG8gbWF0Y2ggdGhlIGdpdmVuIHN0eWxlIEpTT04sIHBlcmZvcm1pbmcgb25seVxuICAgICAqIHRoZSBuZWNlc3NhcnkgbXV0YXRpb25zLlxuICAgICAqXG4gICAgICogTWF5IHRocm93IGFuIEVycm9yICgnVW5pbXBsZW1lbnRlZDogTUVUSE9EJykgaWYgdGhlIG1hcGJveC1nbC1zdHlsZS1zcGVjXG4gICAgICogZGlmZiBhbGdvcml0aG0gcHJvZHVjZXMgYW4gb3BlcmF0aW9uIHRoYXQgaXMgbm90IHN1cHBvcnRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGFueSBjaGFuZ2VzIHdlcmUgbWFkZTsgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzZXRTdGF0ZShuZXh0U3RhdGU6IFN0eWxlU3BlY2lmaWNhdGlvbikge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGlmIChlbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLCB2YWxpZGF0ZVN0eWxlKG5leHRTdGF0ZSkpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgbmV4dFN0YXRlID0gY2xvbmUobmV4dFN0YXRlKTtcbiAgICAgICAgbmV4dFN0YXRlLmxheWVycyA9IGRlcmVmKG5leHRTdGF0ZS5sYXllcnMpO1xuXG4gICAgICAgIGNvbnN0IGNoYW5nZXMgPSBkaWZmU3R5bGVzKHRoaXMuc2VyaWFsaXplKCksIG5leHRTdGF0ZSlcbiAgICAgICAgICAgIC5maWx0ZXIob3AgPT4gIShvcC5jb21tYW5kIGluIGlnbm9yZWREaWZmT3BlcmF0aW9ucykpO1xuXG4gICAgICAgIGlmIChjaGFuZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdW5pbXBsZW1lbnRlZE9wcyA9IGNoYW5nZXMuZmlsdGVyKG9wID0+ICEob3AuY29tbWFuZCBpbiBzdXBwb3J0ZWREaWZmT3BlcmF0aW9ucykpO1xuICAgICAgICBpZiAodW5pbXBsZW1lbnRlZE9wcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaW1wbGVtZW50ZWQ6ICR7dW5pbXBsZW1lbnRlZE9wcy5tYXAob3AgPT4gb3AuY29tbWFuZCkuam9pbignLCAnKX0uYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGFuZ2VzLmZvckVhY2goKG9wKSA9PiB7XG4gICAgICAgICAgICBpZiAob3AuY29tbWFuZCA9PT0gJ3NldFRyYW5zaXRpb24nKSB7XG4gICAgICAgICAgICAgICAgLy8gYHRyYW5zaXRpb25gIGlzIGFsd2F5cyByZWFkIGRpcmVjdGx5IG9mZiBvZlxuICAgICAgICAgICAgICAgIC8vIGB0aGlzLnN0eWxlc2hlZXRgLCB3aGljaCB3ZSB1cGRhdGUgYmVsb3dcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAodGhpczogYW55KVtvcC5jb21tYW5kXS5hcHBseSh0aGlzLCBvcC5hcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zdHlsZXNoZWV0ID0gbmV4dFN0YXRlO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGFkZEltYWdlKGlkOiBzdHJpbmcsIGltYWdlOiBTdHlsZUltYWdlKSB7XG4gICAgICAgIGlmICh0aGlzLmdldEltYWdlKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ0FuIGltYWdlIHdpdGggdGhpcyBuYW1lIGFscmVhZHkgZXhpc3RzLicpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIuYWRkSW1hZ2UoaWQsIGltYWdlKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3N0eWxlJ30pKTtcbiAgICB9XG5cbiAgICBnZXRJbWFnZShpZDogc3RyaW5nKTogP1N0eWxlSW1hZ2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2UoaWQpO1xuICAgIH1cblxuICAgIHJlbW92ZUltYWdlKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEltYWdlKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoJ05vIGltYWdlIHdpdGggdGhpcyBuYW1lIGV4aXN0cy4nKSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VNYW5hZ2VyLnJlbW92ZUltYWdlKGlkKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZGF0YScsIHtkYXRhVHlwZTogJ3N0eWxlJ30pKTtcbiAgICB9XG5cbiAgICBhZGRTb3VyY2UoaWQ6IHN0cmluZywgc291cmNlOiBTb3VyY2VTcGVjaWZpY2F0aW9uLCBvcHRpb25zPzoge3ZhbGlkYXRlPzogYm9vbGVhbn0pIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBpZiAodGhpcy5zb3VyY2VDYWNoZXNbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgaXMgYWxyZWFkeSBhIHNvdXJjZSB3aXRoIHRoaXMgSUQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc291cmNlLnR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHR5cGUgcHJvcGVydHkgbXVzdCBiZSBkZWZpbmVkLCBidXQgdGhlIG9ubHkgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIHdlcmUgZ2l2ZW46ICR7T2JqZWN0LmtleXMoc291cmNlKS5qb2luKCcsICcpfS5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ1aWx0SW5zID0gWyd2ZWN0b3InLCAncmFzdGVyJywgJ2dlb2pzb24nLCAndmlkZW8nLCAnaW1hZ2UnLCAnY2FudmFzJ107XG4gICAgICAgIGNvbnN0IHNob3VsZFZhbGlkYXRlID0gYnVpbHRJbnMuaW5kZXhPZihzb3VyY2UudHlwZSkgPj0gMDtcbiAgICAgICAgaWYgKHNob3VsZFZhbGlkYXRlICYmIHRoaXMuX3ZhbGlkYXRlKHZhbGlkYXRlU3R5bGUuc291cmNlLCBgc291cmNlcy4ke2lkfWAsIHNvdXJjZSwgbnVsbCwgb3B0aW9ucykpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5tYXAgJiYgdGhpcy5tYXAuX2NvbGxlY3RSZXNvdXJjZVRpbWluZykgKHNvdXJjZTogYW55KS5jb2xsZWN0UmVzb3VyY2VUaW1pbmcgPSB0cnVlO1xuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHRoaXMuc291cmNlQ2FjaGVzW2lkXSA9IG5ldyBTb3VyY2VDYWNoZShpZCwgc291cmNlLCB0aGlzLmRpc3BhdGNoZXIpO1xuICAgICAgICBzb3VyY2VDYWNoZS5zdHlsZSA9IHRoaXM7XG4gICAgICAgIHNvdXJjZUNhY2hlLnNldEV2ZW50ZWRQYXJlbnQodGhpcywgKCkgPT4gKHtcbiAgICAgICAgICAgIGlzU291cmNlTG9hZGVkOiB0aGlzLmxvYWRlZCgpLFxuICAgICAgICAgICAgc291cmNlOiBzb3VyY2VDYWNoZS5zZXJpYWxpemUoKSxcbiAgICAgICAgICAgIHNvdXJjZUlkOiBpZFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgc291cmNlQ2FjaGUub25BZGQodGhpcy5tYXApO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzb3VyY2UgZnJvbSB0aGlzIHN0eWxlc2hlZXQsIGdpdmVuIGl0cyBpZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgaWQgb2YgdGhlIHNvdXJjZSB0byByZW1vdmVcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gaWYgbm8gc291cmNlIGlzIGZvdW5kIHdpdGggdGhlIGdpdmVuIElEXG4gICAgICovXG4gICAgcmVtb3ZlU291cmNlKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBpZiAodGhpcy5zb3VyY2VDYWNoZXNbaWRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgaXMgbm8gc291cmNlIHdpdGggdGhpcyBJRCcpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBpbiB0aGlzLl9sYXllcnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sYXllcnNbbGF5ZXJJZF0uc291cmNlID09PSBpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBTb3VyY2UgXCIke2lkfVwiIGNhbm5vdCBiZSByZW1vdmVkIHdoaWxlIGxheWVyIFwiJHtsYXllcklkfVwiIGlzIHVzaW5nIGl0LmApKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHRoaXMuc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuc291cmNlQ2FjaGVzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2lkXTtcbiAgICAgICAgc291cmNlQ2FjaGUuZmlyZShuZXcgRXZlbnQoJ2RhdGEnLCB7c291cmNlRGF0YVR5cGU6ICdtZXRhZGF0YScsIGRhdGFUeXBlOidzb3VyY2UnLCBzb3VyY2VJZDogaWR9KSk7XG4gICAgICAgIHNvdXJjZUNhY2hlLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7XG4gICAgICAgIHNvdXJjZUNhY2hlLmNsZWFyVGlsZXMoKTtcblxuICAgICAgICBpZiAoc291cmNlQ2FjaGUub25SZW1vdmUpIHNvdXJjZUNhY2hlLm9uUmVtb3ZlKHRoaXMubWFwKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBTZXQgdGhlIGRhdGEgb2YgYSBHZW9KU09OIHNvdXJjZSwgZ2l2ZW4gaXRzIGlkLlxuICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIGlkIG9mIHRoZSBzb3VyY2VcbiAgICAqIEBwYXJhbSB7R2VvSlNPTnxzdHJpbmd9IGRhdGEgR2VvSlNPTiBzb3VyY2VcbiAgICAqL1xuICAgIHNldEdlb0pTT05Tb3VyY2VEYXRhKGlkOiBzdHJpbmcsIGRhdGE6IEdlb0pTT04gfCBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBhc3NlcnQodGhpcy5zb3VyY2VDYWNoZXNbaWRdICE9PSB1bmRlZmluZWQsICdUaGVyZSBpcyBubyBzb3VyY2Ugd2l0aCB0aGlzIElEJyk7XG4gICAgICAgIGNvbnN0IGdlb2pzb25Tb3VyY2U6IEdlb0pTT05Tb3VyY2UgPSAodGhpcy5zb3VyY2VDYWNoZXNbaWRdLmdldFNvdXJjZSgpOiBhbnkpO1xuICAgICAgICBhc3NlcnQoZ2VvanNvblNvdXJjZS50eXBlID09PSAnZ2VvanNvbicpO1xuXG4gICAgICAgIGdlb2pzb25Tb3VyY2Uuc2V0RGF0YShkYXRhKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgc291cmNlIGJ5IGlkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBpZCBvZiB0aGUgZGVzaXJlZCBzb3VyY2VcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBzb3VyY2VcbiAgICAgKi9cbiAgICBnZXRTb3VyY2UoaWQ6IHN0cmluZyk6IE9iamVjdCB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZUNhY2hlc1tpZF0gJiYgdGhpcy5zb3VyY2VDYWNoZXNbaWRdLmdldFNvdXJjZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGxheWVyIHRvIHRoZSBtYXAgc3R5bGUuIFRoZSBsYXllciB3aWxsIGJlIGluc2VydGVkIGJlZm9yZSB0aGUgbGF5ZXIgd2l0aFxuICAgICAqIElEIGBiZWZvcmVgLCBvciBhcHBlbmRlZCBpZiBgYmVmb3JlYCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbYmVmb3JlXSBJRCBvZiBhbiBleGlzdGluZyBsYXllciB0byBpbnNlcnQgYmVmb3JlXG4gICAgICovXG4gICAgYWRkTGF5ZXIobGF5ZXJPYmplY3Q6IExheWVyU3BlY2lmaWNhdGlvbiwgYmVmb3JlPzogc3RyaW5nLCBvcHRpb25zPzoge3ZhbGlkYXRlPzogYm9vbGVhbn0pIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBpZCA9IGxheWVyT2JqZWN0LmlkO1xuXG4gICAgICAgIGlmICh0aGlzLmdldExheWVyKGlkKSkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7aWR9XCIgYWxyZWFkeSBleGlzdHMgb24gdGhpcyBtYXBgKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBsYXllck9iamVjdC5zb3VyY2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFNvdXJjZShpZCwgbGF5ZXJPYmplY3Quc291cmNlKTtcbiAgICAgICAgICAgIGxheWVyT2JqZWN0ID0gY2xvbmUobGF5ZXJPYmplY3QpO1xuICAgICAgICAgICAgbGF5ZXJPYmplY3QgPSAoZXh0ZW5kKGxheWVyT2JqZWN0LCB7c291cmNlOiBpZH0pOiBhbnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcyBsYXllciBpcyBub3QgaW4gdGhlIHN0eWxlLmxheWVycyBhcnJheSwgc28gd2UgcGFzcyBhbiBpbXBvc3NpYmxlIGFycmF5IGluZGV4XG4gICAgICAgIGlmICh0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLmxheWVyLFxuICAgICAgICAgICAgYGxheWVycy4ke2lkfWAsIGxheWVyT2JqZWN0LCB7YXJyYXlJbmRleDogLTF9LCBvcHRpb25zKSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGxheWVyID0gY3JlYXRlU3R5bGVMYXllcihsYXllck9iamVjdCk7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlTGF5ZXIobGF5ZXIpO1xuXG4gICAgICAgIGxheWVyLnNldEV2ZW50ZWRQYXJlbnQodGhpcywge2xheWVyOiB7aWQ6IGlkfX0pO1xuXG5cbiAgICAgICAgY29uc3QgaW5kZXggPSBiZWZvcmUgPyB0aGlzLl9vcmRlci5pbmRleE9mKGJlZm9yZSkgOiB0aGlzLl9vcmRlci5sZW5ndGg7XG4gICAgICAgIGlmIChiZWZvcmUgJiYgaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtiZWZvcmV9XCIgZG9lcyBub3QgZXhpc3Qgb24gdGhpcyBtYXAuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX29yZGVyLnNwbGljZShpbmRleCwgMCwgaWQpO1xuICAgICAgICB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fbGF5ZXJzW2lkXSA9IGxheWVyO1xuXG4gICAgICAgIGlmICh0aGlzLl9yZW1vdmVkTGF5ZXJzW2lkXSAmJiBsYXllci5zb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIElmLCBpbiB0aGUgY3VycmVudCBiYXRjaCwgd2UgaGF2ZSBhbHJlYWR5IHJlbW92ZWQgdGhpcyBsYXllclxuICAgICAgICAgICAgLy8gYW5kIHdlIGFyZSBub3cgcmUtYWRkaW5nIGl0IHdpdGggYSBkaWZmZXJlbnQgYHR5cGVgLCB0aGVuIHdlXG4gICAgICAgICAgICAvLyBuZWVkIHRvIGNsZWFyIChyYXRoZXIgdGhhbiBqdXN0IHJlbG9hZCkgdGhlIHVuZGVyeWxpbmcgc291cmNlJ3NcbiAgICAgICAgICAgIC8vIHRpbGVzLiAgT3RoZXJ3aXNlLCB0aWxlcyBtYXJrZWQgJ3JlbG9hZGluZycgd2lsbCBoYXZlIGJ1Y2tldHMgL1xuICAgICAgICAgICAgLy8gYnVmZmVycyB0aGF0IGFyZSBzZXQgdXAgZm9yIHRoZSBfcHJldmlvdXNfIHZlcnNpb24gb2YgdGhpc1xuICAgICAgICAgICAgLy8gbGF5ZXIsIGNhdXNpbmcsIGUuZy46XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMzYzM1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZCA9IHRoaXMuX3JlbW92ZWRMYXllcnNbaWRdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3JlbW92ZWRMYXllcnNbaWRdO1xuICAgICAgICAgICAgaWYgKHJlbW92ZWQudHlwZSAhPT0gbGF5ZXIudHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2xheWVyLnNvdXJjZV0gPSAnY2xlYXInO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVkU291cmNlc1tsYXllci5zb3VyY2VdID0gJ3JlbG9hZCc7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXNbbGF5ZXIuc291cmNlXS5wYXVzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyKGxheWVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhIGxheWVyIHRvIGEgZGlmZmVyZW50IHotcG9zaXRpb24uIFRoZSBsYXllciB3aWxsIGJlIGluc2VydGVkIGJlZm9yZSB0aGUgbGF5ZXIgd2l0aFxuICAgICAqIElEIGBiZWZvcmVgLCBvciBhcHBlbmRlZCBpZiBgYmVmb3JlYCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAgSUQgb2YgdGhlIGxheWVyIHRvIG1vdmVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2JlZm9yZV0gSUQgb2YgYW4gZXhpc3RpbmcgbGF5ZXIgdG8gaW5zZXJ0IGJlZm9yZVxuICAgICAqL1xuICAgIG1vdmVMYXllcihpZDogc3RyaW5nLCBiZWZvcmU/OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLl9sYXllcnNbaWRdO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7aWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBtb3ZlZC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9vcmRlci5pbmRleE9mKGlkKTtcbiAgICAgICAgdGhpcy5fb3JkZXIuc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgICBjb25zdCBuZXdJbmRleCA9IGJlZm9yZSA/IHRoaXMuX29yZGVyLmluZGV4T2YoYmVmb3JlKSA6IHRoaXMuX29yZGVyLmxlbmd0aDtcbiAgICAgICAgaWYgKGJlZm9yZSAmJiBuZXdJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYExheWVyIHdpdGggaWQgXCIke2JlZm9yZX1cIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29yZGVyLnNwbGljZShuZXdJbmRleCwgMCwgaWQpO1xuXG4gICAgICAgIHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGxheWVyIHdpdGggdGhlIGdpdmVuIGlkIGZyb20gdGhlIHN0eWxlLlxuICAgICAqXG4gICAgICogSWYgbm8gc3VjaCBsYXllciBleGlzdHMsIGFuIGBlcnJvcmAgZXZlbnQgaXMgZmlyZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgaWQgb2YgdGhlIGxheWVyIHRvIHJlbW92ZVxuICAgICAqIEBmaXJlcyBlcnJvclxuICAgICAqL1xuICAgIHJlbW92ZUxheWVyKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tpZF07XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtpZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHJlbW92ZWQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxheWVyLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9vcmRlci5pbmRleE9mKGlkKTtcbiAgICAgICAgdGhpcy5fb3JkZXIuc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgICB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yZW1vdmVkTGF5ZXJzW2lkXSA9IGxheWVyO1xuICAgICAgICBkZWxldGUgdGhpcy5fbGF5ZXJzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3VwZGF0ZWRMYXllcnNbaWRdO1xuICAgICAgICBkZWxldGUgdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbaWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgc3R5bGUgbGF5ZXIgb2JqZWN0IHdpdGggdGhlIGdpdmVuIGBpZGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBpZCBvZiB0aGUgZGVzaXJlZCBsYXllclxuICAgICAqIEByZXR1cm5zIHs/T2JqZWN0fSBhIGxheWVyLCBpZiBvbmUgd2l0aCB0aGUgZ2l2ZW4gYGlkYCBleGlzdHNcbiAgICAgKi9cbiAgICBnZXRMYXllcihpZDogc3RyaW5nKTogT2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xheWVyc1tpZF07XG4gICAgfVxuXG4gICAgc2V0TGF5ZXJab29tUmFuZ2UobGF5ZXJJZDogc3RyaW5nLCBtaW56b29tOiA/bnVtYmVyLCBtYXh6b29tOiA/bnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVySWQpO1xuICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7bGF5ZXJJZH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGhhdmUgem9vbSBleHRlbnQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXllci5taW56b29tID09PSBtaW56b29tICYmIGxheWVyLm1heHpvb20gPT09IG1heHpvb20pIHJldHVybjtcblxuICAgICAgICBpZiAobWluem9vbSAhPSBudWxsKSB7XG4gICAgICAgICAgICBsYXllci5taW56b29tID0gbWluem9vbTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4em9vbSAhPSBudWxsKSB7XG4gICAgICAgICAgICBsYXllci5tYXh6b29tID0gbWF4em9vbTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG4gICAgfVxuXG4gICAgc2V0RmlsdGVyKGxheWVySWQ6IHN0cmluZywgZmlsdGVyOiA/RmlsdGVyU3BlY2lmaWNhdGlvbikge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcihsYXllcklkKTtcbiAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2xheWVySWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBmaWx0ZXJlZC5gKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZXBFcXVhbChsYXllci5maWx0ZXIsIGZpbHRlcikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXIgPT09IG51bGwgfHwgZmlsdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxheWVyLmZpbHRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyKGxheWVyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl92YWxpZGF0ZSh2YWxpZGF0ZVN0eWxlLmZpbHRlciwgYGxheWVycy4ke2xheWVyLmlkfS5maWx0ZXJgLCBmaWx0ZXIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsYXllci5maWx0ZXIgPSBjbG9uZShmaWx0ZXIpO1xuICAgICAgICB0aGlzLl91cGRhdGVMYXllcihsYXllcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgbGF5ZXIncyBmaWx0ZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIHRoZSBsYXllciB0byBpbnNwZWN0XG4gICAgICogQHJldHVybnMgeyp9IHRoZSBsYXllcidzIGZpbHRlciwgaWYgYW55XG4gICAgICovXG4gICAgZ2V0RmlsdGVyKGxheWVyOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGNsb25lKHRoaXMuZ2V0TGF5ZXIobGF5ZXIpLmZpbHRlcik7XG4gICAgfVxuXG4gICAgc2V0TGF5b3V0UHJvcGVydHkobGF5ZXJJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWQoKTtcblxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJZCk7XG4gICAgICAgIGlmICghbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtsYXllcklkfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgc3R5bGVkLmApKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVlcEVxdWFsKGxheWVyLmdldExheW91dFByb3BlcnR5KG5hbWUpLCB2YWx1ZSkpIHJldHVybjtcblxuICAgICAgICBsYXllci5zZXRMYXlvdXRQcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUxheWVyKGxheWVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBsYXlvdXQgcHJvcGVydHkncyB2YWx1ZSBmcm9tIGEgZ2l2ZW4gbGF5ZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXIgdGhlIGxheWVyIHRvIGluc3BlY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0aGUgbmFtZSBvZiB0aGUgbGF5b3V0IHByb3BlcnR5XG4gICAgICogQHJldHVybnMgeyp9IHRoZSBwcm9wZXJ0eSB2YWx1ZVxuICAgICAqL1xuICAgIGdldExheW91dFByb3BlcnR5KGxheWVyOiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRMYXllcihsYXllcikuZ2V0TGF5b3V0UHJvcGVydHkobmFtZSk7XG4gICAgfVxuXG4gICAgc2V0UGFpbnRQcm9wZXJ0eShsYXllcklkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzLl9jaGVja0xvYWRlZCgpO1xuXG4gICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5nZXRMYXllcihsYXllcklkKTtcbiAgICAgICAgaWYgKCFsYXllcikge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2xheWVySWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBzdHlsZWQuYCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWVwRXF1YWwobGF5ZXIuZ2V0UGFpbnRQcm9wZXJ0eShuYW1lKSwgdmFsdWUpKSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgd2FzRGF0YURyaXZlbiA9IGxheWVyLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbbmFtZV0udmFsdWUuaXNEYXRhRHJpdmVuKCk7XG4gICAgICAgIGxheWVyLnNldFBhaW50UHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgICBjb25zdCBpc0RhdGFEcml2ZW4gPSBsYXllci5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW25hbWVdLnZhbHVlLmlzRGF0YURyaXZlbigpO1xuXG4gICAgICAgIGlmIChpc0RhdGFEcml2ZW4gfHwgd2FzRGF0YURyaXZlbikge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlTGF5ZXIobGF5ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzW2xheWVySWRdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXRQYWludFByb3BlcnR5KGxheWVyOiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRMYXllcihsYXllcikuZ2V0UGFpbnRQcm9wZXJ0eShuYW1lKTtcbiAgICB9XG5cbiAgICBnZXRUcmFuc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHsgZHVyYXRpb246IDMwMCwgZGVsYXk6IDAgfSwgdGhpcy5zdHlsZXNoZWV0ICYmIHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKTtcbiAgICB9XG5cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiBmaWx0ZXJPYmplY3Qoe1xuICAgICAgICAgICAgdmVyc2lvbjogdGhpcy5zdHlsZXNoZWV0LnZlcnNpb24sXG4gICAgICAgICAgICBuYW1lOiB0aGlzLnN0eWxlc2hlZXQubmFtZSxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB0aGlzLnN0eWxlc2hlZXQubWV0YWRhdGEsXG4gICAgICAgICAgICBsaWdodDogdGhpcy5zdHlsZXNoZWV0LmxpZ2h0LFxuICAgICAgICAgICAgY2VudGVyOiB0aGlzLnN0eWxlc2hlZXQuY2VudGVyLFxuICAgICAgICAgICAgem9vbTogdGhpcy5zdHlsZXNoZWV0Lnpvb20sXG4gICAgICAgICAgICBiZWFyaW5nOiB0aGlzLnN0eWxlc2hlZXQuYmVhcmluZyxcbiAgICAgICAgICAgIHBpdGNoOiB0aGlzLnN0eWxlc2hlZXQucGl0Y2gsXG4gICAgICAgICAgICBzcHJpdGU6IHRoaXMuc3R5bGVzaGVldC5zcHJpdGUsXG4gICAgICAgICAgICBnbHlwaHM6IHRoaXMuc3R5bGVzaGVldC5nbHlwaHMsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiB0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbixcbiAgICAgICAgICAgIHNvdXJjZXM6IG1hcE9iamVjdCh0aGlzLnNvdXJjZUNhY2hlcywgKHNvdXJjZSkgPT4gc291cmNlLnNlcmlhbGl6ZSgpKSxcbiAgICAgICAgICAgIGxheWVyczogdGhpcy5fb3JkZXIubWFwKChpZCkgPT4gdGhpcy5fbGF5ZXJzW2lkXS5zZXJpYWxpemUoKSlcbiAgICAgICAgfSwgKHZhbHVlKSA9PiB7IHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkOyB9KTtcbiAgICB9XG5cbiAgICBfdXBkYXRlTGF5ZXIobGF5ZXI6IFN0eWxlTGF5ZXIpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlZExheWVyc1tsYXllci5pZF0gPSB0cnVlO1xuICAgICAgICBpZiAobGF5ZXIuc291cmNlICYmICF0aGlzLl91cGRhdGVkU291cmNlc1tsYXllci5zb3VyY2VdKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVkU291cmNlc1tsYXllci5zb3VyY2VdID0gJ3JlbG9hZCc7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUNhY2hlc1tsYXllci5zb3VyY2VdLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgX2ZsYXR0ZW5SZW5kZXJlZEZlYXR1cmVzKHNvdXJjZVJlc3VsdHM6IEFycmF5PGFueT4pIHtcbiAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgbCA9IHRoaXMuX29yZGVyLmxlbmd0aCAtIDE7IGwgPj0gMDsgbC0tKSB7XG4gICAgICAgICAgICBjb25zdCBsYXllcklkID0gdGhpcy5fb3JkZXJbbF07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZVJlc3VsdCBvZiBzb3VyY2VSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXJGZWF0dXJlcyA9IHNvdXJjZVJlc3VsdFtsYXllcklkXTtcbiAgICAgICAgICAgICAgICBpZiAobGF5ZXJGZWF0dXJlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZlYXR1cmUgb2YgbGF5ZXJGZWF0dXJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMucHVzaChmZWF0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmVhdHVyZXM7XG4gICAgfVxuXG4gICAgcXVlcnlSZW5kZXJlZEZlYXR1cmVzKHF1ZXJ5R2VvbWV0cnk6IGFueSwgcGFyYW1zOiBhbnksIHRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XG4gICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmZpbHRlcikge1xuICAgICAgICAgICAgdGhpcy5fdmFsaWRhdGUodmFsaWRhdGVTdHlsZS5maWx0ZXIsICdxdWVyeVJlbmRlcmVkRmVhdHVyZXMuZmlsdGVyJywgcGFyYW1zLmZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmNsdWRlZFNvdXJjZXMgPSB7fTtcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGF5ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFyYW1zLmxheWVycykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKCdwYXJhbWV0ZXJzLmxheWVycyBtdXN0IGJlIGFuIEFycmF5LicpKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBsYXllcklkIG9mIHBhcmFtcy5sYXllcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklkXTtcbiAgICAgICAgICAgICAgICBpZiAoIWxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbGF5ZXIgaXMgbm90IGluIHRoZSBzdHlsZS5sYXllcnMgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2xheWVySWR9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBxdWVyaWVkIGZvciBmZWF0dXJlcy5gKSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluY2x1ZGVkU291cmNlc1tsYXllci5zb3VyY2VdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZVJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnNvdXJjZUNhY2hlcykge1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5sYXllcnMgJiYgIWluY2x1ZGVkU291cmNlc1tpZF0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyh0aGlzLnNvdXJjZUNhY2hlc1tpZF0sIHRoaXMuX2xheWVycywgcXVlcnlHZW9tZXRyeSwgcGFyYW1zLCB0cmFuc2Zvcm0sIHRoaXMucGxhY2VtZW50ID8gdGhpcy5wbGFjZW1lbnQuY29sbGlzaW9uSW5kZXggOiBudWxsKTtcbiAgICAgICAgICAgIHNvdXJjZVJlc3VsdHMucHVzaChyZXN1bHRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZmxhdHRlblJlbmRlcmVkRmVhdHVyZXMoc291cmNlUmVzdWx0cyk7XG4gICAgfVxuXG4gICAgcXVlcnlTb3VyY2VGZWF0dXJlcyhzb3VyY2VJRDogc3RyaW5nLCBwYXJhbXM6ID97c291cmNlTGF5ZXI6ID9zdHJpbmcsIGZpbHRlcjogP0FycmF5PGFueT59KSB7XG4gICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmZpbHRlcikge1xuICAgICAgICAgICAgdGhpcy5fdmFsaWRhdGUodmFsaWRhdGVTdHlsZS5maWx0ZXIsICdxdWVyeVNvdXJjZUZlYXR1cmVzLmZpbHRlcicsIHBhcmFtcy5maWx0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5zb3VyY2VDYWNoZXNbc291cmNlSURdO1xuICAgICAgICByZXR1cm4gc291cmNlQ2FjaGUgPyBxdWVyeVNvdXJjZUZlYXR1cmVzKHNvdXJjZUNhY2hlLCBwYXJhbXMpIDogW107XG4gICAgfVxuXG4gICAgYWRkU291cmNlVHlwZShuYW1lOiBzdHJpbmcsIFNvdXJjZVR5cGU6IENsYXNzPFNvdXJjZT4sIGNhbGxiYWNrOiBDYWxsYmFjazx2b2lkPikge1xuICAgICAgICBpZiAoU3R5bGUuZ2V0U291cmNlVHlwZShuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihgQSBzb3VyY2UgdHlwZSBjYWxsZWQgXCIke25hbWV9XCIgYWxyZWFkeSBleGlzdHMuYCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgU3R5bGUuc2V0U291cmNlVHlwZShuYW1lLCBTb3VyY2VUeXBlKTtcblxuICAgICAgICBpZiAoIVNvdXJjZVR5cGUud29ya2VyU291cmNlVVJMKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KCdsb2FkV29ya2VyU291cmNlJywge1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIHVybDogU291cmNlVHlwZS53b3JrZXJTb3VyY2VVUkxcbiAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGdldExpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saWdodC5nZXRMaWdodCgpO1xuICAgIH1cblxuICAgIHNldExpZ2h0KGxpZ2h0T3B0aW9uczogTGlnaHRTcGVjaWZpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgbGlnaHQgPSB0aGlzLmxpZ2h0LmdldExpZ2h0KCk7XG4gICAgICAgIGxldCBfdXBkYXRlID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGxpZ2h0T3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKCFkZWVwRXF1YWwobGlnaHRPcHRpb25zW2tleV0sIGxpZ2h0W2tleV0pKSB7XG4gICAgICAgICAgICAgICAgX3VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfdXBkYXRlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IHtcbiAgICAgICAgICAgIG5vdzogYnJvd3Nlci5ub3coKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGV4dGVuZCh7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMCxcbiAgICAgICAgICAgICAgICBkZWxheTogMFxuICAgICAgICAgICAgfSwgdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24pXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5saWdodC5zZXRMaWdodChsaWdodE9wdGlvbnMpO1xuICAgICAgICB0aGlzLmxpZ2h0LnVwZGF0ZVRyYW5zaXRpb25zKHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIF92YWxpZGF0ZSh2YWxpZGF0ZTogKHt9KSA9PiB2b2lkLCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSwgcHJvcHM6IGFueSwgb3B0aW9ucz86IHt2YWxpZGF0ZT86IGJvb2xlYW59KSB7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudmFsaWRhdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVtaXRWYWxpZGF0aW9uRXJyb3JzKHRoaXMsIHZhbGlkYXRlLmNhbGwodmFsaWRhdGVTdHlsZSwgZXh0ZW5kKHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgc3R5bGU6IHRoaXMuc2VyaWFsaXplKCksXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBzdHlsZVNwZWM6IHN0eWxlU3BlY1xuICAgICAgICB9LCBwcm9wcykpKTtcbiAgICB9XG5cbiAgICBfcmVtb3ZlKCkge1xuICAgICAgICBydGxUZXh0UGx1Z2luRXZlbnRlZC5vZmYoJ3BsdWdpbkF2YWlsYWJsZScsIHRoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjayk7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW2lkXS5jbGVhclRpbGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIF9jbGVhclNvdXJjZShpZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW2lkXS5jbGVhclRpbGVzKCk7XG4gICAgfVxuXG4gICAgX3JlbG9hZFNvdXJjZShpZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW2lkXS5yZXN1bWUoKTtcbiAgICAgICAgdGhpcy5zb3VyY2VDYWNoZXNbaWRdLnJlbG9hZCgpO1xuICAgIH1cblxuICAgIF91cGRhdGVTb3VyY2VzKHRyYW5zZm9ybTogVHJhbnNmb3JtKSB7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gdGhpcy5zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlQ2FjaGVzW2lkXS51cGRhdGUodHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZW5lcmF0ZUNvbGxpc2lvbkJveGVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHRoaXMuc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWxvYWRTb3VyY2UoaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZVBsYWNlbWVudCh0cmFuc2Zvcm06IFRyYW5zZm9ybSwgc2hvd0NvbGxpc2lvbkJveGVzOiBib29sZWFuLCBmYWRlRHVyYXRpb246IG51bWJlcikge1xuICAgICAgICBsZXQgc3ltYm9sQnVja2V0c0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHBsYWNlbWVudENvbW1pdHRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGxheWVyVGlsZXMgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IGxheWVySUQgb2YgdGhpcy5fb3JkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlTGF5ZXIgPSB0aGlzLl9sYXllcnNbbGF5ZXJJRF07XG4gICAgICAgICAgICBpZiAoc3R5bGVMYXllci50eXBlICE9PSAnc3ltYm9sJykgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmICghbGF5ZXJUaWxlc1tzdHlsZUxheWVyLnNvdXJjZV0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VDYWNoZSA9IHRoaXMuc291cmNlQ2FjaGVzW3N0eWxlTGF5ZXIuc291cmNlXTtcbiAgICAgICAgICAgICAgICBsYXllclRpbGVzW3N0eWxlTGF5ZXIuc291cmNlXSA9IHNvdXJjZUNhY2hlLmdldFJlbmRlcmFibGVJZHMoKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChpZCkgPT4gc291cmNlQ2FjaGUuZ2V0VGlsZUJ5SUQoaWQpKVxuICAgICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gKGIudGlsZUlELm92ZXJzY2FsZWRaIC0gYS50aWxlSUQub3ZlcnNjYWxlZFopIHx8IChhLnRpbGVJRC5pc0xlc3NUaGFuKGIudGlsZUlEKSA/IC0xIDogMSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBsYXllckJ1Y2tldHNDaGFuZ2VkID0gdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5hZGRMYXllcihzdHlsZUxheWVyLCBsYXllclRpbGVzW3N0eWxlTGF5ZXIuc291cmNlXSk7XG4gICAgICAgICAgICBzeW1ib2xCdWNrZXRzQ2hhbmdlZCA9IHN5bWJvbEJ1Y2tldHNDaGFuZ2VkIHx8IGxheWVyQnVja2V0c0NoYW5nZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5wcnVuZVVudXNlZExheWVycyh0aGlzLl9vcmRlcik7XG5cbiAgICAgICAgLy8gQW55dGhpbmcgdGhhdCBjaGFuZ2VzIG91ciBcImluIHByb2dyZXNzXCIgbGF5ZXIgYW5kIHRpbGUgaW5kaWNlcyByZXF1aXJlcyB1c1xuICAgICAgICAvLyB0byBzdGFydCBvdmVyLiBXaGVuIHdlIHN0YXJ0IG92ZXIsIHdlIGRvIGEgZnVsbCBwbGFjZW1lbnQgaW5zdGVhZCBvZiBpbmNyZW1lbnRhbFxuICAgICAgICAvLyB0byBwcmV2ZW50IHN0YXJ2YXRpb24uXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gcmVzdGFydCBwbGFjZW1lbnQgdG8ga2VlcCBsYXllciBpbmRpY2VzIGluIHN5bmMuXG4gICAgICAgIGNvbnN0IGZvcmNlRnVsbFBsYWNlbWVudCA9IHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkO1xuXG4gICAgICAgIGlmIChmb3JjZUZ1bGxQbGFjZW1lbnQgfHwgIXRoaXMucGF1c2VhYmxlUGxhY2VtZW50IHx8ICh0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSAmJiAhdGhpcy5wbGFjZW1lbnQuc3RpbGxSZWNlbnQoYnJvd3Nlci5ub3coKSkpKSB7XG4gICAgICAgICAgICB0aGlzLnBhdXNlYWJsZVBsYWNlbWVudCA9IG5ldyBQYXVzZWFibGVQbGFjZW1lbnQodHJhbnNmb3JtLCB0aGlzLl9vcmRlciwgZm9yY2VGdWxsUGxhY2VtZW50LCBzaG93Q29sbGlzaW9uQm94ZXMsIGZhZGVEdXJhdGlvbik7XG4gICAgICAgICAgICB0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpKSB7XG4gICAgICAgICAgICAvLyB0aGUgbGFzdCBwbGFjZW1lbnQgZmluaXNoZWQgcnVubmluZywgYnV0IHRoZSBuZXh0IG9uZSBoYXNu4oCZdFxuICAgICAgICAgICAgLy8gc3RhcnRlZCB5ZXQgYmVjYXVzZSBvZiB0aGUgYHN0aWxsUmVjZW50YCBjaGVjayBpbW1lZGlhdGVseVxuICAgICAgICAgICAgLy8gYWJvdmUsIHNvIG1hcmsgaXQgc3RhbGUgdG8gZW5zdXJlIHRoYXQgd2UgcmVxdWVzdCBhbm90aGVyXG4gICAgICAgICAgICAvLyByZW5kZXIgZnJhbWVcbiAgICAgICAgICAgIHRoaXMucGxhY2VtZW50LnNldFN0YWxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb250aW51ZVBsYWNlbWVudCh0aGlzLl9vcmRlciwgdGhpcy5fbGF5ZXJzLCBsYXllclRpbGVzKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnQgPSB0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb21taXQodGhpcy5wbGFjZW1lbnQsIGJyb3dzZXIubm93KCkpO1xuICAgICAgICAgICAgICAgIHBsYWNlbWVudENvbW1pdHRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzeW1ib2xCdWNrZXRzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZSBwbGFjZW1lbnQgZ2V0cyBzcGxpdCBvdmVyIG11bHRpcGxlIGZyYW1lcyBpdCBpcyBwb3NzaWJsZVxuICAgICAgICAgICAgICAgIC8vIHRoZXNlIGJ1Y2tldHMgd2VyZSBwcm9jZXNzZWQgYmVmb3JlIHRoZXkgd2VyZSBjaGFuZ2VkIGFuZCBzbyB0aGVcbiAgICAgICAgICAgICAgICAvLyBwbGFjZW1lbnQgaXMgYWxyZWFkeSBzdGFsZSB3aGlsZSBpdCBpcyBpbiBwcm9ncmVzc1xuICAgICAgICAgICAgICAgIHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LnBsYWNlbWVudC5zZXRTdGFsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBsYWNlbWVudENvbW1pdHRlZCB8fCBzeW1ib2xCdWNrZXRzQ2hhbmdlZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBsYXllcklEIG9mIHRoaXMuX29yZGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVMYXllciA9IHRoaXMuX2xheWVyc1tsYXllcklEXTtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGVMYXllci50eXBlICE9PSAnc3ltYm9sJykgY29udGludWU7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnQudXBkYXRlTGF5ZXJPcGFjaXRpZXMoc3R5bGVMYXllciwgbGF5ZXJUaWxlc1tzdHlsZUxheWVyLnNvdXJjZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmVlZHNSZW5kZXIgaXMgZmFsc2Ugd2hlbiB3ZSBoYXZlIGp1c3QgZmluaXNoZWQgYSBwbGFjZW1lbnQgdGhhdCBkaWRuJ3QgY2hhbmdlIHRoZSB2aXNpYmlsaXR5IG9mIGFueSBzeW1ib2xzXG4gICAgICAgIGNvbnN0IG5lZWRzUmVyZW5kZXIgPSAhdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkgfHwgdGhpcy5wbGFjZW1lbnQuaGFzVHJhbnNpdGlvbnMoYnJvd3Nlci5ub3coKSk7XG4gICAgICAgIHJldHVybiBuZWVkc1JlcmVuZGVyO1xuICAgIH1cblxuICAgIC8vIENhbGxiYWNrcyBmcm9tIHdlYiB3b3JrZXJzXG5cbiAgICBnZXRJbWFnZXMobWFwSWQ6IHN0cmluZywgcGFyYW1zOiB7aWNvbnM6IEFycmF5PHN0cmluZz59LCBjYWxsYmFjazogQ2FsbGJhY2s8e1tzdHJpbmddOiBTdHlsZUltYWdlfT4pIHtcbiAgICAgICAgdGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2VzKHBhcmFtcy5pY29ucywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGdldEdseXBocyhtYXBJZDogc3RyaW5nLCBwYXJhbXM6IHtzdGFja3M6IHtbc3RyaW5nXTogQXJyYXk8bnVtYmVyPn19LCBjYWxsYmFjazogQ2FsbGJhY2s8e1tzdHJpbmddOiB7W251bWJlcl06ID9TdHlsZUdseXBofX0+KSB7XG4gICAgICAgIHRoaXMuZ2x5cGhNYW5hZ2VyLmdldEdseXBocyhwYXJhbXMuc3RhY2tzLCBjYWxsYmFjayk7XG4gICAgfVxufVxuXG5TdHlsZS5nZXRTb3VyY2VUeXBlID0gZ2V0U291cmNlVHlwZTtcblN0eWxlLnNldFNvdXJjZVR5cGUgPSBzZXRTb3VyY2VUeXBlO1xuU3R5bGUucmVnaXN0ZXJGb3JQbHVnaW5BdmFpbGFiaWxpdHkgPSByZWdpc3RlckZvclBsdWdpbkF2YWlsYWJpbGl0eTtcblxuZXhwb3J0IGRlZmF1bHQgU3R5bGU7XG4iLCIvLyBAZmxvd1xuaW1wb3J0IHsgY3JlYXRlTGF5b3V0IH0gZnJvbSAnLi4vdXRpbC9zdHJ1Y3RfYXJyYXknO1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVMYXlvdXQoW1xuICAgIHsgbmFtZTogJ2FfcG9zJywgdHlwZTogJ0ludDE2JywgY29tcG9uZW50czogMiB9XG5dKTtcbiIsIi8vIEBmbG93XG5cbi8vIFdlIHVzZSBicmZzLCBhIGJyb3dzZXJpZnkgdHJhbnNmb3JtLCB0byBpbmxpbmUgc2hhZGVyIHNvdXJjZXMgZHVyaW5nIGJ1bmRsaW5nLiBBcyBhIHJlc3VsdDpcbi8vIC0gcmVhZEZpbGVTeW5jIGNhbGxzIG11c3QgYmUgd3JpdHRlbiBvdXQgbG9uZy1mb3JtXG4vLyAtIHRoaXMgbW9kdWxlIG11c3QgdXNlIENvbW1vbkpTIHJhdGhlciB0aGFuIEVTMjAxNSBzeW50YXhcbi8qIGVzbGludC1kaXNhYmxlIHByZWZlci10ZW1wbGF0ZSwgbm8tcGF0aC1jb25jYXQsIGltcG9ydC91bmFtYmlndW91cyAqL1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbmNvbnN0IHNoYWRlcnM6IHtbc3RyaW5nXToge2ZyYWdtZW50U291cmNlOiBzdHJpbmcsIHZlcnRleFNvdXJjZTogc3RyaW5nfX0gPSB7XG4gICAgcHJlbHVkZToge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9fcHJlbHVkZS5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL19wcmVsdWRlLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgYmFja2dyb3VuZDoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9iYWNrZ3JvdW5kLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvYmFja2dyb3VuZC52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGJhY2tncm91bmRQYXR0ZXJuOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2JhY2tncm91bmRfcGF0dGVybi5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2JhY2tncm91bmRfcGF0dGVybi52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGNpcmNsZToge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9jaXJjbGUuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9jaXJjbGUudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBjbGlwcGluZ01hc2s6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvY2xpcHBpbmdfbWFzay5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2NsaXBwaW5nX21hc2sudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBoZWF0bWFwOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2hlYXRtYXAuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9oZWF0bWFwLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgaGVhdG1hcFRleHR1cmU6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvaGVhdG1hcF90ZXh0dXJlLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvaGVhdG1hcF90ZXh0dXJlLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgY29sbGlzaW9uQm94OiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2NvbGxpc2lvbl9ib3guZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9jb2xsaXNpb25fYm94LnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgY29sbGlzaW9uQ2lyY2xlOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2NvbGxpc2lvbl9jaXJjbGUuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9jb2xsaXNpb25fY2lyY2xlLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgZGVidWc6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZGVidWcuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9kZWJ1Zy52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGZpbGw6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZmlsbC5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2ZpbGwudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBmaWxsT3V0bGluZToge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9maWxsX291dGxpbmUuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9maWxsX291dGxpbmUudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBmaWxsT3V0bGluZVBhdHRlcm46IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZmlsbF9vdXRsaW5lX3BhdHRlcm4uZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9maWxsX291dGxpbmVfcGF0dGVybi52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGZpbGxQYXR0ZXJuOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2ZpbGxfcGF0dGVybi5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2ZpbGxfcGF0dGVybi52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGZpbGxFeHRydXNpb246IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvZmlsbF9leHRydXNpb24uZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9maWxsX2V4dHJ1c2lvbi52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGZpbGxFeHRydXNpb25QYXR0ZXJuOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2ZpbGxfZXh0cnVzaW9uX3BhdHRlcm4uZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9maWxsX2V4dHJ1c2lvbl9wYXR0ZXJuLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgZXh0cnVzaW9uVGV4dHVyZToge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9leHRydXNpb25fdGV4dHVyZS5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2V4dHJ1c2lvbl90ZXh0dXJlLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgaGlsbHNoYWRlUHJlcGFyZToge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9oaWxsc2hhZGVfcHJlcGFyZS5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2hpbGxzaGFkZV9wcmVwYXJlLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgaGlsbHNoYWRlOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2hpbGxzaGFkZS5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2hpbGxzaGFkZS52ZXJ0ZXguZ2xzbCcsICd1dGY4JylcbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvbGluZS5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2xpbmUudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBsaW5lUGF0dGVybjoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9saW5lX3BhdHRlcm4uZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9saW5lX3BhdHRlcm4udmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICBsaW5lU0RGOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL2xpbmVfc2RmLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvbGluZV9zZGYudmVydGV4Lmdsc2wnLCAndXRmOCcpXG4gICAgfSxcbiAgICByYXN0ZXI6IHtcbiAgICAgICAgZnJhZ21lbnRTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvcmFzdGVyLmZyYWdtZW50Lmdsc2wnLCAndXRmOCcpLFxuICAgICAgICB2ZXJ0ZXhTb3VyY2U6IGZzLnJlYWRGaWxlU3luYyhfX2Rpcm5hbWUgKyAnLy4uL3NoYWRlcnMvcmFzdGVyLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgc3ltYm9sSWNvbjoge1xuICAgICAgICBmcmFnbWVudFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9zeW1ib2xfaWNvbi5mcmFnbWVudC5nbHNsJywgJ3V0ZjgnKSxcbiAgICAgICAgdmVydGV4U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL3N5bWJvbF9pY29uLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH0sXG4gICAgc3ltYm9sU0RGOiB7XG4gICAgICAgIGZyYWdtZW50U291cmNlOiBmcy5yZWFkRmlsZVN5bmMoX19kaXJuYW1lICsgJy8uLi9zaGFkZXJzL3N5bWJvbF9zZGYuZnJhZ21lbnQuZ2xzbCcsICd1dGY4JyksXG4gICAgICAgIHZlcnRleFNvdXJjZTogZnMucmVhZEZpbGVTeW5jKF9fZGlybmFtZSArICcvLi4vc2hhZGVycy9zeW1ib2xfc2RmLnZlcnRleC5nbHNsJywgJ3V0ZjgnKVxuICAgIH1cbn07XG5cbi8vIEV4cGFuZCAjcHJhZ21hcyB0byAjaWZkZWZzLlxuXG5jb25zdCByZSA9IC8jcHJhZ21hIG1hcGJveDogKFtcXHddKykgKFtcXHddKykgKFtcXHddKykgKFtcXHddKykvZztcblxuZm9yIChjb25zdCBwcm9ncmFtTmFtZSBpbiBzaGFkZXJzKSB7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHNoYWRlcnNbcHJvZ3JhbU5hbWVdO1xuICAgIGNvbnN0IGZyYWdtZW50UHJhZ21hczoge1tzdHJpbmddOiBib29sZWFufSA9IHt9O1xuXG4gICAgcHJvZ3JhbS5mcmFnbWVudFNvdXJjZSA9IHByb2dyYW0uZnJhZ21lbnRTb3VyY2UucmVwbGFjZShyZSwgKG1hdGNoOiBzdHJpbmcsIG9wZXJhdGlvbjogc3RyaW5nLCBwcmVjaXNpb246IHN0cmluZywgdHlwZTogc3RyaW5nLCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgZnJhZ21lbnRQcmFnbWFzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2RlZmluZScpIHtcbiAgICAgICAgICAgIHJldHVybiBgXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtuYW1lfVxudmFyeWluZyAke3ByZWNpc2lvbn0gJHt0eXBlfSAke25hbWV9O1xuI2Vsc2VcbnVuaWZvcm0gJHtwcmVjaXNpb259ICR7dHlwZX0gdV8ke25hbWV9O1xuI2VuZGlmXG5gO1xuICAgICAgICB9IGVsc2UgLyogaWYgKG9wZXJhdGlvbiA9PT0gJ2luaXRpYWxpemUnKSAqLyB7XG4gICAgICAgICAgICByZXR1cm4gYFxuI2lmZGVmIEhBU19VTklGT1JNX3VfJHtuYW1lfVxuICAgICR7cHJlY2lzaW9ufSAke3R5cGV9ICR7bmFtZX0gPSB1XyR7bmFtZX07XG4jZW5kaWZcbmA7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHByb2dyYW0udmVydGV4U291cmNlID0gcHJvZ3JhbS52ZXJ0ZXhTb3VyY2UucmVwbGFjZShyZSwgKG1hdGNoOiBzdHJpbmcsIG9wZXJhdGlvbjogc3RyaW5nLCBwcmVjaXNpb246IHN0cmluZywgdHlwZTogc3RyaW5nLCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgYXR0clR5cGUgPSB0eXBlID09PSAnZmxvYXQnID8gJ3ZlYzInIDogJ3ZlYzQnO1xuICAgICAgICBpZiAoZnJhZ21lbnRQcmFnbWFzW25hbWVdKSB7XG4gICAgICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnZGVmaW5lJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBgXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtuYW1lfVxudW5pZm9ybSBsb3dwIGZsb2F0IGFfJHtuYW1lfV90O1xuYXR0cmlidXRlICR7cHJlY2lzaW9ufSAke2F0dHJUeXBlfSBhXyR7bmFtZX07XG52YXJ5aW5nICR7cHJlY2lzaW9ufSAke3R5cGV9ICR7bmFtZX07XG4jZWxzZVxudW5pZm9ybSAke3ByZWNpc2lvbn0gJHt0eXBlfSB1XyR7bmFtZX07XG4jZW5kaWZcbmA7XG4gICAgICAgICAgICB9IGVsc2UgLyogaWYgKG9wZXJhdGlvbiA9PT0gJ2luaXRpYWxpemUnKSAqLyB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG4gICAgJHtuYW1lfSA9IHVucGFja19taXhfJHthdHRyVHlwZX0oYV8ke25hbWV9LCBhXyR7bmFtZX1fdCk7XG4jZWxzZVxuICAgICR7cHJlY2lzaW9ufSAke3R5cGV9ICR7bmFtZX0gPSB1XyR7bmFtZX07XG4jZW5kaWZcbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnZGVmaW5lJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBgXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtuYW1lfVxudW5pZm9ybSBsb3dwIGZsb2F0IGFfJHtuYW1lfV90O1xuYXR0cmlidXRlICR7cHJlY2lzaW9ufSAke2F0dHJUeXBlfSBhXyR7bmFtZX07XG4jZWxzZVxudW5pZm9ybSAke3ByZWNpc2lvbn0gJHt0eXBlfSB1XyR7bmFtZX07XG4jZW5kaWZcbmA7XG4gICAgICAgICAgICB9IGVsc2UgLyogaWYgKG9wZXJhdGlvbiA9PT0gJ2luaXRpYWxpemUnKSAqLyB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke25hbWV9XG4gICAgJHtwcmVjaXNpb259ICR7dHlwZX0gJHtuYW1lfSA9IHVucGFja19taXhfJHthdHRyVHlwZX0oYV8ke25hbWV9LCBhXyR7bmFtZX1fdCk7XG4jZWxzZVxuICAgICR7cHJlY2lzaW9ufSAke3R5cGV9ICR7bmFtZX0gPSB1XyR7bmFtZX07XG4jZW5kaWZcbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaGFkZXJzO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcblxuaW1wb3J0IHNoYWRlcnMgZnJvbSAnLi4vc2hhZGVycyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgUHJvZ3JhbUNvbmZpZ3VyYXRpb24gZnJvbSAnLi4vZGF0YS9wcm9ncmFtX2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IFZlcnRleEFycmF5T2JqZWN0IGZyb20gJy4vdmVydGV4X2FycmF5X29iamVjdCc7XG5pbXBvcnQgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcblxuaW1wb3J0IHR5cGUgU2VnbWVudFZlY3RvciBmcm9tICcuLi9kYXRhL3NlZ21lbnQnO1xuaW1wb3J0IHR5cGUgVmVydGV4QnVmZmVyIGZyb20gJy4uL2dsL3ZlcnRleF9idWZmZXInO1xuaW1wb3J0IHR5cGUgSW5kZXhCdWZmZXIgZnJvbSAnLi4vZ2wvaW5kZXhfYnVmZmVyJztcblxuZXhwb3J0IHR5cGUgRHJhd01vZGUgPVxuICAgIHwgJFByb3BlcnR5VHlwZTxXZWJHTFJlbmRlcmluZ0NvbnRleHQsICdMSU5FUyc+XG4gICAgfCAkUHJvcGVydHlUeXBlPFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgJ1RSSUFOR0xFUyc+O1xuXG5jbGFzcyBQcm9ncmFtIHtcbiAgICBwcm9ncmFtOiBXZWJHTFByb2dyYW07XG4gICAgdW5pZm9ybXM6IHtbc3RyaW5nXTogV2ViR0xVbmlmb3JtTG9jYXRpb259O1xuICAgIGF0dHJpYnV0ZXM6IHtbc3RyaW5nXTogbnVtYmVyfTtcbiAgICBudW1BdHRyaWJ1dGVzOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0OiBDb250ZXh0LFxuICAgICAgICAgICAgICAgIHNvdXJjZToge2ZyYWdtZW50U291cmNlOiBzdHJpbmcsIHZlcnRleFNvdXJjZTogc3RyaW5nfSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uOiBQcm9ncmFtQ29uZmlndXJhdGlvbixcbiAgICAgICAgICAgICAgICBzaG93T3ZlcmRyYXdJbnNwZWN0b3I6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cbiAgICAgICAgY29uc3QgZGVmaW5lcyA9IGNvbmZpZ3VyYXRpb24uZGVmaW5lcygpLmNvbmNhdChcbiAgICAgICAgICAgIGAjZGVmaW5lIERFVklDRV9QSVhFTF9SQVRJTyAke2Jyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpby50b0ZpeGVkKDEpfWApO1xuICAgICAgICBpZiAoc2hvd092ZXJkcmF3SW5zcGVjdG9yKSB7XG4gICAgICAgICAgICBkZWZpbmVzLnB1c2goJyNkZWZpbmUgT1ZFUkRSQVdfSU5TUEVDVE9SOycpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnJhZ21lbnRTb3VyY2UgPSBkZWZpbmVzLmNvbmNhdChzaGFkZXJzLnByZWx1ZGUuZnJhZ21lbnRTb3VyY2UsIHNvdXJjZS5mcmFnbWVudFNvdXJjZSkuam9pbignXFxuJyk7XG4gICAgICAgIGNvbnN0IHZlcnRleFNvdXJjZSA9IGRlZmluZXMuY29uY2F0KHNoYWRlcnMucHJlbHVkZS52ZXJ0ZXhTb3VyY2UsIHNvdXJjZS52ZXJ0ZXhTb3VyY2UpLmpvaW4oJ1xcbicpO1xuXG4gICAgICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShmcmFnbWVudFNoYWRlciwgZnJhZ21lbnRTb3VyY2UpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgYXNzZXJ0KGdsLmdldFNoYWRlclBhcmFtZXRlcihmcmFnbWVudFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpLCAoZ2wuZ2V0U2hhZGVySW5mb0xvZyhmcmFnbWVudFNoYWRlcik6IGFueSkpO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG5cbiAgICAgICAgY29uc3QgdmVydGV4U2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIpO1xuICAgICAgICBnbC5zaGFkZXJTb3VyY2UodmVydGV4U2hhZGVyLCB2ZXJ0ZXhTb3VyY2UpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHZlcnRleFNoYWRlcik7XG4gICAgICAgIGFzc2VydChnbC5nZXRTaGFkZXJQYXJhbWV0ZXIodmVydGV4U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyksIChnbC5nZXRTaGFkZXJJbmZvTG9nKHZlcnRleFNoYWRlcik6IGFueSkpO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuXG4gICAgICAgIC8vIE1hbnVhbGx5IGJpbmQgbGF5b3V0IGF0dHJpYnV0ZXMgaW4gdGhlIG9yZGVyIGRlZmluZWQgYnkgdGhlaXJcbiAgICAgICAgLy8gUHJvZ3JhbUludGVyZmFjZSBzbyB0aGF0IHdlIGRvbid0IGR5bmFtaWNhbGx5IGxpbmsgYW4gdW51c2VkXG4gICAgICAgIC8vIGF0dHJpYnV0ZSBhdCBwb3NpdGlvbiAwLCB3aGljaCBjYW4gY2F1c2UgcmVuZGVyaW5nIHRvIGZhaWwgZm9yIGFuXG4gICAgICAgIC8vIGVudGlyZSBsYXllciAoc2VlICM0NjA3LCAjNDcyOClcbiAgICAgICAgY29uc3QgbGF5b3V0QXR0cmlidXRlcyA9IGNvbmZpZ3VyYXRpb24ubGF5b3V0QXR0cmlidXRlcyB8fCBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXlvdXRBdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBnbC5iaW5kQXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCBpLCBsYXlvdXRBdHRyaWJ1dGVzW2ldLm5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wubGlua1Byb2dyYW0odGhpcy5wcm9ncmFtKTtcbiAgICAgICAgYXNzZXJ0KGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLCBnbC5MSU5LX1NUQVRVUyksIChnbC5nZXRQcm9ncmFtSW5mb0xvZyh0aGlzLnByb2dyYW0pOiBhbnkpKTtcblxuICAgICAgICB0aGlzLm51bUF0dHJpYnV0ZXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMucHJvZ3JhbSwgZ2wuQUNUSVZFX0FUVFJJQlVURVMpO1xuXG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB0aGlzLnVuaWZvcm1zID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm51bUF0dHJpYnV0ZXM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gZ2wuZ2V0QWN0aXZlQXR0cmliKHRoaXMucHJvZ3JhbSwgaSk7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZS5uYW1lXSA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgYXR0cmlidXRlLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbnVtVW5pZm9ybXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMucHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Vbmlmb3JtczsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB1bmlmb3JtID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybSh0aGlzLnByb2dyYW0sIGkpO1xuICAgICAgICAgICAgaWYgKHVuaWZvcm0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zW3VuaWZvcm0ubmFtZV0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCB1bmlmb3JtLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0OiBDb250ZXh0LFxuICAgICAgICAgZHJhd01vZGU6IERyYXdNb2RlLFxuICAgICAgICAgbGF5ZXJJRDogc3RyaW5nLFxuICAgICAgICAgbGF5b3V0VmVydGV4QnVmZmVyOiBWZXJ0ZXhCdWZmZXIsXG4gICAgICAgICBpbmRleEJ1ZmZlcjogSW5kZXhCdWZmZXIsXG4gICAgICAgICBzZWdtZW50czogU2VnbWVudFZlY3RvcixcbiAgICAgICAgIGNvbmZpZ3VyYXRpb246ID9Qcm9ncmFtQ29uZmlndXJhdGlvbixcbiAgICAgICAgIGR5bmFtaWNMYXlvdXRCdWZmZXI6ID9WZXJ0ZXhCdWZmZXIsXG4gICAgICAgICBkeW5hbWljTGF5b3V0QnVmZmVyMjogP1ZlcnRleEJ1ZmZlcikge1xuXG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICBjb25zdCBwcmltaXRpdmVTaXplID0ge1xuICAgICAgICAgICAgW2dsLkxJTkVTXTogMixcbiAgICAgICAgICAgIFtnbC5UUklBTkdMRVNdOiAzXG4gICAgICAgIH1bZHJhd01vZGVdO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cy5nZXQoKSkge1xuICAgICAgICAgICAgY29uc3QgdmFvcyA9IHNlZ21lbnQudmFvcyB8fCAoc2VnbWVudC52YW9zID0ge30pO1xuICAgICAgICAgICAgY29uc3QgdmFvOiBWZXJ0ZXhBcnJheU9iamVjdCA9IHZhb3NbbGF5ZXJJRF0gfHwgKHZhb3NbbGF5ZXJJRF0gPSBuZXcgVmVydGV4QXJyYXlPYmplY3QoKSk7XG5cbiAgICAgICAgICAgIHZhby5iaW5kKFxuICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICBsYXlvdXRWZXJ0ZXhCdWZmZXIsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbiA/IGNvbmZpZ3VyYXRpb24uZ2V0UGFpbnRWZXJ0ZXhCdWZmZXJzKCkgOiBbXSxcbiAgICAgICAgICAgICAgICBpbmRleEJ1ZmZlcixcbiAgICAgICAgICAgICAgICBzZWdtZW50LnZlcnRleE9mZnNldCxcbiAgICAgICAgICAgICAgICBkeW5hbWljTGF5b3V0QnVmZmVyLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNMYXlvdXRCdWZmZXIyXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoXG4gICAgICAgICAgICAgICAgZHJhd01vZGUsXG4gICAgICAgICAgICAgICAgc2VnbWVudC5wcmltaXRpdmVMZW5ndGggKiBwcmltaXRpdmVTaXplLFxuICAgICAgICAgICAgICAgIGdsLlVOU0lHTkVEX1NIT1JULFxuICAgICAgICAgICAgICAgIHNlZ21lbnQucHJpbWl0aXZlT2Zmc2V0ICogcHJpbWl0aXZlU2l6ZSAqIDIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQcm9ncmFtO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgT3ZlcnNjYWxlZFRpbGVJRCwgQ2Fub25pY2FsVGlsZUlEIH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4vLi4vc291cmNlL3RpbGUnO1xuaW1wb3J0IHR5cGUgQ29udGV4dCBmcm9tICcuLi9nbC9jb250ZXh0JztcblxudHlwZSBNYXNrID0ge1xuICAgIFtudW1iZXJdOiBDYW5vbmljYWxUaWxlSURcbn07XG5cbi8vIFVwZGF0ZXMgdGhlIFRpbGVNYXNrcyBmb3IgYWxsIHJlbmRlcmFibGUgdGlsZXMuIEEgVGlsZU1hc2sgZGVzY3JpYmVzIGFsbCByZWdpb25zXG4vLyB3aXRoaW4gdGhhdCB0aWxlIHRoYXQgYXJlICpub3QqIGNvdmVyZWQgYnkgb3RoZXIgcmVuZGVyYWJsZSB0aWxlcy5cbi8vIEV4YW1wbGU6IHJlbmRlcmFibGVUaWxlcyBpbiBvdXIgbGlzdCBhcmUgMi8xLzMsIDMvMy82LCBhbmQgNC81LzEzLiBUaGUgc2NoZW1hdGljIGZvciBjcmVhdGluZyB0aGVcbi8vIFRpbGVNYXNrIGZvciAyLzEvMyBsb29rcyBsaWtlIHRoaXM6XG4vL1xuLy8gICAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSs4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSs4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4vLyAgICDilIIgICAgICAgIOKUgiAgICAgICAg4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUgiA0LzQvMTIg4pSCIDQvNS8xMiDilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSCICAgICAgICDilIIgICAgICAgIOKUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilJzilIDilIDilIDilIDilIDilIAzLzIvNuKUgOKUgOKUgOKUgOKUgOKUgOKUpCMjIyMjMy8zLzYjIyMjIyMj4pSCXG4vLyAgICDilIIgICAgICAgIOKUgiMjIyMjIyMj4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUgiA0LzQvMTMg4pSCIzQvNS8xMyPilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSCICAgICAgICDilIIjIyMjIyMjI+KUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilJzilIDilIDilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIAyLzEvM+KUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgMy8yLzcgICAgICDilIIgICAgICAzLzMvNyAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSCICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgIOKUglxuLy8gICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4vL1xuLy8gVGhlIFRpbGVNYXNrIGZvciAyLzEvMyB0aHVzIGNvbnNpc3RzIG9mIHRoZSB0aWxlcyA0LzQvMTIsIDQvNS8xMiwgNC80LzEzLCAzLzIvNywgYW5kIDMvMy83LFxuLy8gYnV0IGl0IGRvZXMgKm5vdCogaW5jbHVkZSA0LzUvMTMsIGFuZCAzLzMvNiwgc2luY2UgdGhlc2UgYXJlIG90aGVyIHJlbmRlcmFibGVUaWxlcy5cbi8vIEEgVGlsZU1hc2sgYWx3YXlzIGNvbnRhaW5zIFRpbGVJRHMgKnJlbGF0aXZlKiB0byB0aGUgdGlsZSBpdCBpcyBnZW5lcmF0ZWQgZm9yLCBzbyAyLzEvMyBpc1xuLy8gXCJzdWJ0cmFjdGVkXCIgZnJvbSB0aGVzZSBUaWxlSURzLiBUaGUgZmluYWwgVGlsZU1hc2sgZm9yIDIvMS8zIHdpbGwgdGh1cyBiZTpcbi8vXG4vLyAgICDilIzilIDilIDilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbi8vICAgIOKUgiAgICAgICAg4pSCICAgICAgICDilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSCIDIvMC8wICDilIIgMi8xLzAgIOKUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilIIgICAgICAgIOKUgiAgICAgICAg4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpCMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilIIgICAgICAgIOKUgiMjIyMjIyMj4pSCIyMjIyMjIyMjIyMjIyMjIyPilIJcbi8vICAgIOKUgiAyLzAvMSAg4pSCIyMjIyMjIyPilIIjIyMjIyMjIyMjIyMjIyMjI+KUglxuLy8gICAg4pSCICAgICAgICDilIIjIyMjIyMjI+KUgiMjIyMjIyMjIyMjIyMjIyMj4pSCXG4vLyAgICDilJzilIDilIDilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcbi8vICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICDilIJcbi8vICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICDilIJcbi8vICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICDilIJcbi8vICAgIOKUgiAgICAgIDEvMC8xICAgICAg4pSCICAgICAgMS8xLzEgICAgICDilIJcbi8vICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICDilIJcbi8vICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICDilIJcbi8vICAgIOKUgiAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICDilIJcbi8vICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuLy9cbi8vIE9ubHkgb3RoZXIgcmVuZGVyYWJsZSB0aWxlcyB0aGF0IGFyZSAqY2hpbGRyZW4qIG9mIHRoZSB0aWxlIHdlIGFyZSBnZW5lcmF0aW5nIHRoZSBtYXNrIGZvciB3aWxsXG4vLyBiZSBjb25zaWRlcmVkLiBGb3IgZXhhbXBsZSwgYWRkaW5nIFRpbGVJRCA0LzgvMTMgdG8gcmVuZGVyYWJsZVRpbGVzIHdvbid0IGFmZmVjdCB0aGUgVGlsZU1hc2sgZm9yXG4vLyAyLzEvMywgc2luY2UgaXQgaXMgbm90IGEgZGVzY2VuZGFudCBvZiBpdC5cblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihyZW5kZXJhYmxlVGlsZXM6IEFycmF5PFRpbGU+LCBjb250ZXh0OiBDb250ZXh0KSB7XG4gICAgY29uc3Qgc29ydGVkUmVuZGVyYWJsZXMgPSByZW5kZXJhYmxlVGlsZXMuc29ydCgoYSwgYikgPT4geyByZXR1cm4gYS50aWxlSUQuaXNMZXNzVGhhbihiLnRpbGVJRCkgPyAtMSA6IGIudGlsZUlELmlzTGVzc1RoYW4oYS50aWxlSUQpID8gMSA6IDA7IH0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWRSZW5kZXJhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBtYXNrID0ge307XG4gICAgICAgIGNvbnN0IHRpbGUgPSAgc29ydGVkUmVuZGVyYWJsZXNbaV07XG4gICAgICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBzb3J0ZWRSZW5kZXJhYmxlcy5zbGljZShpICsgMSk7XG4gICAgICAgIC8vIFRyeSB0byBhZGQgYWxsIHJlbWFpbmluZyBpZHMgYXMgY2hpbGRyZW4uIFdlIHNvcnRlZCB0aGUgdGlsZSBsaXN0XG4gICAgICAgIC8vIGJ5IHogZWFybGllciwgc28gYWxsIHByZWNlZGluZyBpdGVtcyBjYW5ub3QgYmUgY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnRcbiAgICAgICAgLy8gdGlsZS4gV2UgYWxzbyBjb21wdXRlIHRoZSBsb3dlciBib3VuZCBvZiB0aGUgbmV4dCB3cmFwLCBiZWNhdXNlIGl0ZW1zIG9mIHRoZSBuZXh0IHdyYXBcbiAgICAgICAgLy8gY2FuIG5ldmVyIGJlIGNoaWxkcmVuIG9mIHRoZSBjdXJyZW50IHdyYXAuXG5cbiAgICAgICAgY29tcHV0ZVRpbGVNYXNrcyh0aWxlLnRpbGVJRC53cmFwcGVkKCksIHRpbGUudGlsZUlELCBjaGlsZEFycmF5LCBuZXcgT3ZlcnNjYWxlZFRpbGVJRCgwLCB0aWxlLnRpbGVJRC53cmFwICsgMSwgMCwgMCwgMCksIG1hc2spO1xuICAgICAgICB0aWxlLnNldE1hc2sobWFzaywgY29udGV4dCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlVGlsZU1hc2tzKHJvb3RUaWxlOiBPdmVyc2NhbGVkVGlsZUlELCByZWY6IE92ZXJzY2FsZWRUaWxlSUQsIGNoaWxkQXJyYXk6IEFycmF5PFRpbGU+LCBsb3dlckJvdW5kOiBPdmVyc2NhbGVkVGlsZUlELCBtYXNrOiBNYXNrKSB7XG4gICAgLy8gSWYgdGhlIHJlZmVyZW5jZSBvciBhbnkgb2YgaXRzIGNoaWxkcmVuIGlzIGZvdW5kIGluIHRoZSBsaXN0LCB3ZSBuZWVkIHRvIHJlY3Vyc2UuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkVGlsZSA9IGNoaWxkQXJyYXlbaV07XG4gICAgICAgIC8vIGNoaWxkVGlsZSBpcyBmcm9tIGEgbGFyZ2VyIHdyYXAgdGhhbiB0aGUgcm9vdFRpbGUgc28gaXQgY2Fubm90IGJlIGEgY2hpbGQgdGlsZVxuICAgICAgICBpZiAobG93ZXJCb3VuZC5pc0xlc3NUaGFuKGNoaWxkVGlsZS50aWxlSUQpKSBicmVhaztcbiAgICAgICAgLy8gVGhlIGN1cnJlbnQgdGlsZSBpcyBtYXNrZWQgb3V0LCBzbyB3ZSBkb24ndCBuZWVkIHRvIGFkZCB0aGVtIHRvIHRoZSBtYXNrIHNldC5cbiAgICAgICAgaWYgKHJlZi5rZXkgPT09IGNoaWxkVGlsZS50aWxlSUQua2V5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGRUaWxlLnRpbGVJRC5pc0NoaWxkT2YocmVmKSkge1xuICAgICAgICAgICAgLy8gVGhlcmUncyBhdCBsZWFzdCBvbmUgY2hpbGQgdGlsZSB0aGF0IGlzIG1hc2tlZCBvdXQsIHNvIHJlY3Vyc2l2ZWx5IGRlc2NlbmRcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gcmVmLmNoaWxkcmVuKEluZmluaXR5KTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2pdO1xuICAgICAgICAgICAgICAgIGNvbXB1dGVUaWxlTWFza3Mocm9vdFRpbGUsIGNoaWxkLCBjaGlsZEFycmF5LnNsaWNlKGkpLCBsb3dlckJvdW5kLCBtYXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBXZSBjb3VsZG4ndCBmaW5kIGEgY2hpbGQsIHNvIGl0J3MgZGVmaW5pdGVseSBhIG1hc2tlZCBwYXJ0LlxuICAgIC8vIENvbXB1dGUgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcm9vdCB0aWxlIElEIGFuZCB0aGUgcmVmZXJlbmNlIHRpbGUgSUQsIHNpbmNlIFRpbGVNYXNrXG4gICAgLy8gZWxlbWVudHMgYXJlIGFsd2F5cyByZWxhdGl2ZSAoc2VlIGJlbG93IGZvciBleHBsYW5hdGlvbikuXG4gICAgY29uc3QgZGlmZlogPSByZWYub3ZlcnNjYWxlZFogLSByb290VGlsZS5vdmVyc2NhbGVkWjtcbiAgICBjb25zdCBtYXNrVGlsZUlkID0gbmV3IENhbm9uaWNhbFRpbGVJRChkaWZmWiwgcmVmLmNhbm9uaWNhbC54IC0gKHJvb3RUaWxlLmNhbm9uaWNhbC54IDw8IGRpZmZaKSwgcmVmLmNhbm9uaWNhbC55IC0gKHJvb3RUaWxlLmNhbm9uaWNhbC55IDw8IGRpZmZaKSk7XG4gICAgbWFza1ttYXNrVGlsZUlkLmtleV0gPSBtYXNrW21hc2tUaWxlSWQua2V5XSB8fCBtYXNrVGlsZUlkO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSBTeW1ib2xCdWNrZXQgZnJvbSAnLi4vZGF0YS9idWNrZXQvc3ltYm9sX2J1Y2tldCc7XG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0NvbGxpc2lvbkRlYnVnO1xuXG5mdW5jdGlvbiBkcmF3Q29sbGlzaW9uRGVidWdHZW9tZXRyeShwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+LCBkcmF3Q2lyY2xlczogYm9vbGVhbikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHByb2dyYW0gPSBkcmF3Q2lyY2xlcyA/IHBhaW50ZXIudXNlUHJvZ3JhbSgnY29sbGlzaW9uQ2lyY2xlJykgOiBwYWludGVyLnVzZVByb2dyYW0oJ2NvbGxpc2lvbkJveCcpO1xuXG4gICAgY29udGV4dC5zZXREZXB0aE1vZGUoRGVwdGhNb2RlLmRpc2FibGVkKTtcbiAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKFN0ZW5jaWxNb2RlLmRpc2FibGVkKTtcbiAgICBjb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjb29yZCA9IGNvb3Jkc1tpXTtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBjb25zdCBidWNrZXQ6ID9TeW1ib2xCdWNrZXQgPSAodGlsZS5nZXRCdWNrZXQobGF5ZXIpOiBhbnkpO1xuICAgICAgICBpZiAoIWJ1Y2tldCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBkcmF3Q2lyY2xlcyA/IGJ1Y2tldC5jb2xsaXNpb25DaXJjbGUgOiBidWNrZXQuY29sbGlzaW9uQm94O1xuICAgICAgICBpZiAoIWJ1ZmZlcnMpIGNvbnRpbnVlO1xuXG5cbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgY29vcmQucG9zTWF0cml4KTtcblxuICAgICAgICBpZiAoIWRyYXdDaXJjbGVzKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aC5zZXQoMSk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UsIHBhaW50ZXIudHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UpO1xuICAgICAgICBjb25zdCBwaXhlbFJhdGlvID0gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSk7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5wb3coMiwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSAtIHRpbGUudGlsZUlELm92ZXJzY2FsZWRaKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9waXhlbHNfdG9fdGlsZV91bml0cywgcGl4ZWxSYXRpbyk7XG4gICAgICAgIGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnVfZXh0cnVkZV9zY2FsZSxcbiAgICAgICAgICAgIHBhaW50ZXIudHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1swXSAvIChwaXhlbFJhdGlvICogc2NhbGUpLFxuICAgICAgICAgICAgcGFpbnRlci50cmFuc2Zvcm0ucGl4ZWxzVG9HTFVuaXRzWzFdIC8gKHBpeGVsUmF0aW8gKiBzY2FsZSkpO1xuICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X292ZXJzY2FsZV9mYWN0b3IsIHRpbGUudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpKTtcblxuICAgICAgICBwcm9ncmFtLmRyYXcoXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgZHJhd0NpcmNsZXMgPyBnbC5UUklBTkdMRVMgOiBnbC5MSU5FUyxcbiAgICAgICAgICAgIGxheWVyLmlkLFxuICAgICAgICAgICAgYnVmZmVycy5sYXlvdXRWZXJ0ZXhCdWZmZXIsXG4gICAgICAgICAgICBidWZmZXJzLmluZGV4QnVmZmVyLFxuICAgICAgICAgICAgYnVmZmVycy5zZWdtZW50cyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBidWZmZXJzLmNvbGxpc2lvblZlcnRleEJ1ZmZlcixcbiAgICAgICAgICAgIG51bGwpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0NvbGxpc2lvbkRlYnVnKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IFN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBkcmF3Q29sbGlzaW9uRGVidWdHZW9tZXRyeShwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgZmFsc2UpO1xuICAgIGRyYXdDb2xsaXNpb25EZWJ1Z0dlb21ldHJ5KHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzLCB0cnVlKTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBkcmF3Q29sbGlzaW9uRGVidWcgZnJvbSAnLi9kcmF3X2NvbGxpc2lvbl9kZWJ1Zyc7XG5cbmltcG9ydCBwaXhlbHNUb1RpbGVVbml0cyBmcm9tICcuLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMnO1xuaW1wb3J0ICogYXMgc3ltYm9sUHJvamVjdGlvbiBmcm9tICcuLi9zeW1ib2wvcHJvamVjdGlvbic7XG5pbXBvcnQgKiBhcyBzeW1ib2xTaXplIGZyb20gJy4uL3N5bWJvbC9zeW1ib2xfc2l6ZSc7XG5pbXBvcnQgeyBtYXQ0IH0gZnJvbSAnQG1hcGJveC9nbC1tYXRyaXgnO1xuY29uc3QgaWRlbnRpdHlNYXQ0ID0gbWF0NC5pZGVudGl0eShuZXcgRmxvYXQzMkFycmF5KDE2KSk7XG5pbXBvcnQgcHJvcGVydGllcyBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9zeW1ib2xfc3R5bGVfbGF5ZXJfcHJvcGVydGllcyc7XG5jb25zdCBzeW1ib2xMYXlvdXRQcm9wZXJ0aWVzID0gcHJvcGVydGllcy5sYXlvdXQ7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IHR5cGUgU3ltYm9sU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9zeW1ib2xfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgU3ltYm9sQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L3N5bWJvbF9idWNrZXQnO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd1N5bWJvbHM7XG5cbmZ1bmN0aW9uIGRyYXdTeW1ib2xzKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IFN5bWJvbFN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzICE9PSAndHJhbnNsdWNlbnQnKSByZXR1cm47XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuXG4gICAgLy8gRGlzYWJsZSB0aGUgc3RlbmNpbCB0ZXN0IHNvIHRoYXQgbGFiZWxzIGFyZW4ndCBjbGlwcGVkIHRvIHRpbGUgYm91bmRhcmllcy5cbiAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKFN0ZW5jaWxNb2RlLmRpc2FibGVkKTtcbiAgICBjb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG5cbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdpY29uLW9wYWNpdHknKS5jb25zdGFudE9yKDEpICE9PSAwKSB7XG4gICAgICAgIGRyYXdMYXllclN5bWJvbHMocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMsIGZhbHNlLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdpY29uLXRyYW5zbGF0ZScpLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdpY29uLXRyYW5zbGF0ZS1hbmNob3InKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ2ljb24tcm90YXRpb24tYWxpZ25tZW50JyksXG4gICAgICAgICAgICBsYXllci5sYXlvdXQuZ2V0KCdpY29uLXBpdGNoLWFsaWdubWVudCcpLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgnaWNvbi1rZWVwLXVwcmlnaHQnKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGlmIChsYXllci5wYWludC5nZXQoJ3RleHQtb3BhY2l0eScpLmNvbnN0YW50T3IoMSkgIT09IDApIHtcbiAgICAgICAgZHJhd0xheWVyU3ltYm9scyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgdHJ1ZSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgndGV4dC10cmFuc2xhdGUnKSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgndGV4dC10cmFuc2xhdGUtYW5jaG9yJyksXG4gICAgICAgICAgICBsYXllci5sYXlvdXQuZ2V0KCd0ZXh0LXJvdGF0aW9uLWFsaWdubWVudCcpLFxuICAgICAgICAgICAgbGF5ZXIubGF5b3V0LmdldCgndGV4dC1waXRjaC1hbGlnbm1lbnQnKSxcbiAgICAgICAgICAgIGxheWVyLmxheW91dC5nZXQoJ3RleHQta2VlcC11cHJpZ2h0JylcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoc291cmNlQ2FjaGUubWFwLnNob3dDb2xsaXNpb25Cb3hlcykge1xuICAgICAgICBkcmF3Q29sbGlzaW9uRGVidWcocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCBjb29yZHMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0xheWVyU3ltYm9scyhwYWludGVyLCBzb3VyY2VDYWNoZSwgbGF5ZXIsIGNvb3JkcywgaXNUZXh0LCB0cmFuc2xhdGUsIHRyYW5zbGF0ZUFuY2hvcixcbiAgICByb3RhdGlvbkFsaWdubWVudCwgcGl0Y2hBbGlnbm1lbnQsIGtlZXBVcHJpZ2h0KSB7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCB0ciA9IHBhaW50ZXIudHJhbnNmb3JtO1xuXG4gICAgY29uc3Qgcm90YXRlV2l0aE1hcCA9IHJvdGF0aW9uQWxpZ25tZW50ID09PSAnbWFwJztcbiAgICBjb25zdCBwaXRjaFdpdGhNYXAgPSBwaXRjaEFsaWdubWVudCA9PT0gJ21hcCc7XG4gICAgY29uc3QgYWxvbmdMaW5lID0gcm90YXRlV2l0aE1hcCAmJiBsYXllci5sYXlvdXQuZ2V0KCdzeW1ib2wtcGxhY2VtZW50JykgPT09ICdsaW5lJztcbiAgICAvLyBMaW5lIGxhYmVsIHJvdGF0aW9uIGhhcHBlbnMgaW4gYHVwZGF0ZUxpbmVMYWJlbHNgXG4gICAgLy8gUGl0Y2hlZCBwb2ludCBsYWJlbHMgYXJlIGF1dG9tYXRpY2FsbHkgcm90YXRlZCBieSB0aGUgbGFiZWxQbGFuZU1hdHJpeCBwcm9qZWN0aW9uXG4gICAgLy8gVW5waXRjaGVkIHBvaW50IGxhYmVscyBuZWVkIHRvIGhhdmUgdGhlaXIgcm90YXRpb24gYXBwbGllZCBhZnRlciBwcm9qZWN0aW9uXG4gICAgY29uc3Qgcm90YXRlSW5TaGFkZXIgPSByb3RhdGVXaXRoTWFwICYmICFwaXRjaFdpdGhNYXAgJiYgIWFsb25nTGluZTtcblxuICAgIGNvbnN0IGRlcHRoT24gPSBwaXRjaFdpdGhNYXA7XG5cbiAgICBjb250ZXh0LnNldERlcHRoTW9kZShkZXB0aE9uID8gcGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcigwLCBEZXB0aE1vZGUuUmVhZE9ubHkpIDogRGVwdGhNb2RlLmRpc2FibGVkKTtcblxuICAgIGxldCBwcm9ncmFtO1xuXG4gICAgZm9yIChjb25zdCBjb29yZCBvZiBjb29yZHMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBjb25zdCBidWNrZXQ6IFN5bWJvbEJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0KSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGlzVGV4dCA/IGJ1Y2tldC50ZXh0IDogYnVja2V0Lmljb247XG4gICAgICAgIGlmICghYnVmZmVycyB8fCAhYnVmZmVycy5zZWdtZW50cy5nZXQoKS5sZW5ndGgpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBwcm9ncmFtQ29uZmlndXJhdGlvbiA9IGJ1ZmZlcnMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG5cbiAgICAgICAgY29uc3QgaXNTREYgPSBpc1RleHQgfHwgYnVja2V0LnNkZkljb25zO1xuXG4gICAgICAgIGNvbnN0IHNpemVEYXRhID0gaXNUZXh0ID8gYnVja2V0LnRleHRTaXplRGF0YSA6IGJ1Y2tldC5pY29uU2l6ZURhdGE7XG5cbiAgICAgICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICAgICAgICBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKGlzU0RGID8gJ3N5bWJvbFNERicgOiAnc3ltYm9sSWNvbicsIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uLnNldFVuaWZvcm1zKHBhaW50ZXIuY29udGV4dCwgcHJvZ3JhbSwgbGF5ZXIucGFpbnQsIHt6b29tOiBwYWludGVyLnRyYW5zZm9ybS56b29tfSk7XG5cbiAgICAgICAgICAgIHNldFN5bWJvbERyYXdTdGF0ZShwcm9ncmFtLCBwYWludGVyLCBsYXllciwgaXNUZXh0LCByb3RhdGVJblNoYWRlciwgcGl0Y2hXaXRoTWFwLCBzaXplRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV90ZXh0dXJlLCAwKTtcblxuICAgICAgICBpZiAoaXNUZXh0KSB7XG4gICAgICAgICAgICB0aWxlLmdseXBoQXRsYXNUZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3RleHNpemUsIHRpbGUuZ2x5cGhBdGxhc1RleHR1cmUuc2l6ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpY29uU2NhbGVkID0gbGF5ZXIubGF5b3V0LmdldCgnaWNvbi1zaXplJykuY29uc3RhbnRPcigwKSAhPT0gMSB8fCBidWNrZXQuaWNvbnNOZWVkTGluZWFyO1xuICAgICAgICAgICAgY29uc3QgaWNvblRyYW5zZm9ybWVkID0gcGl0Y2hXaXRoTWFwIHx8IHRyLnBpdGNoICE9PSAwO1xuXG4gICAgICAgICAgICB0aWxlLmljb25BdGxhc1RleHR1cmUuYmluZChpc1NERiB8fCBwYWludGVyLm9wdGlvbnMucm90YXRpbmcgfHwgcGFpbnRlci5vcHRpb25zLnpvb21pbmcgfHwgaWNvblNjYWxlZCB8fCBpY29uVHJhbnNmb3JtZWQgP1xuICAgICAgICAgICAgICAgIGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfdGV4c2l6ZSwgdGlsZS5pY29uQXRsYXNUZXh0dXJlLnNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgcGFpbnRlci50cmFuc2xhdGVQb3NNYXRyaXgoY29vcmQucG9zTWF0cml4LCB0aWxlLCB0cmFuc2xhdGUsIHRyYW5zbGF0ZUFuY2hvcikpO1xuXG4gICAgICAgIGNvbnN0IHMgPSBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCAxLCBwYWludGVyLnRyYW5zZm9ybS56b29tKTtcbiAgICAgICAgY29uc3QgbGFiZWxQbGFuZU1hdHJpeCA9IHN5bWJvbFByb2plY3Rpb24uZ2V0TGFiZWxQbGFuZU1hdHJpeChjb29yZC5wb3NNYXRyaXgsIHBpdGNoV2l0aE1hcCwgcm90YXRlV2l0aE1hcCwgcGFpbnRlci50cmFuc2Zvcm0sIHMpO1xuICAgICAgICBjb25zdCBnbENvb3JkTWF0cml4ID0gc3ltYm9sUHJvamVjdGlvbi5nZXRHbENvb3JkTWF0cml4KGNvb3JkLnBvc01hdHJpeCwgcGl0Y2hXaXRoTWFwLCByb3RhdGVXaXRoTWFwLCBwYWludGVyLnRyYW5zZm9ybSwgcyk7XG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X2dsX2Nvb3JkX21hdHJpeCwgZmFsc2UsIHBhaW50ZXIudHJhbnNsYXRlUG9zTWF0cml4KGdsQ29vcmRNYXRyaXgsIHRpbGUsIHRyYW5zbGF0ZSwgdHJhbnNsYXRlQW5jaG9yLCB0cnVlKSk7XG5cbiAgICAgICAgaWYgKGFsb25nTGluZSkge1xuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbGFiZWxfcGxhbmVfbWF0cml4LCBmYWxzZSwgaWRlbnRpdHlNYXQ0KTtcbiAgICAgICAgICAgIHN5bWJvbFByb2plY3Rpb24udXBkYXRlTGluZUxhYmVscyhidWNrZXQsIGNvb3JkLnBvc01hdHJpeCwgcGFpbnRlciwgaXNUZXh0LCBsYWJlbFBsYW5lTWF0cml4LCBnbENvb3JkTWF0cml4LCBwaXRjaFdpdGhNYXAsIGtlZXBVcHJpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X2xhYmVsX3BsYW5lX21hdHJpeCwgZmFsc2UsIGxhYmVsUGxhbmVNYXRyaXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9mYWRlX2NoYW5nZSwgcGFpbnRlci5vcHRpb25zLmZhZGVEdXJhdGlvbiA/IHBhaW50ZXIuc3ltYm9sRmFkZUNoYW5nZSA6IDEpO1xuXG4gICAgICAgIGRyYXdUaWxlU3ltYm9scyhwcm9ncmFtLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgcGFpbnRlciwgbGF5ZXIsIHRpbGUsIGJ1ZmZlcnMsIGlzVGV4dCwgaXNTREYsIHBpdGNoV2l0aE1hcCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRTeW1ib2xEcmF3U3RhdGUocHJvZ3JhbSwgcGFpbnRlciwgbGF5ZXIsIGlzVGV4dCwgcm90YXRlSW5TaGFkZXIsIHBpdGNoV2l0aE1hcCwgc2l6ZURhdGEpIHtcblxuICAgIGNvbnN0IGdsID0gcGFpbnRlci5jb250ZXh0LmdsO1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG5cbiAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X3BpdGNoX3dpdGhfbWFwLCBwaXRjaFdpdGhNYXAgPyAxIDogMCk7XG5cbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2lzX3RleHQsIGlzVGV4dCA/IDEgOiAwKTtcblxuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfcGl0Y2gsIHRyLnBpdGNoIC8gMzYwICogMiAqIE1hdGguUEkpO1xuXG4gICAgY29uc3QgaXNab29tQ29uc3RhbnQgPSBzaXplRGF0YS5mdW5jdGlvblR5cGUgPT09ICdjb25zdGFudCcgfHwgc2l6ZURhdGEuZnVuY3Rpb25UeXBlID09PSAnc291cmNlJztcbiAgICBjb25zdCBpc0ZlYXR1cmVDb25zdGFudCA9IHNpemVEYXRhLmZ1bmN0aW9uVHlwZSA9PT0gJ2NvbnN0YW50JyB8fCBzaXplRGF0YS5mdW5jdGlvblR5cGUgPT09ICdjYW1lcmEnO1xuICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfaXNfc2l6ZV96b29tX2NvbnN0YW50LCBpc1pvb21Db25zdGFudCA/IDEgOiAwKTtcbiAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCwgaXNGZWF0dXJlQ29uc3RhbnQgPyAxIDogMCk7XG5cbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UsIHRyLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UpO1xuXG4gICAgY29uc3Qgc2l6ZSA9IHN5bWJvbFNpemUuZXZhbHVhdGVTaXplRm9yWm9vbShzaXplRGF0YSwgdHIuem9vbSwgc3ltYm9sTGF5b3V0UHJvcGVydGllcy5wcm9wZXJ0aWVzW2lzVGV4dCA/ICd0ZXh0LXNpemUnIDogJ2ljb24tc2l6ZSddKTtcbiAgICBpZiAoc2l6ZS51U2l6ZVQgIT09IHVuZGVmaW5lZCkgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9zaXplX3QsIHNpemUudVNpemVUKTtcbiAgICBpZiAoc2l6ZS51U2l6ZSAhPT0gdW5kZWZpbmVkKSBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3NpemUsIHNpemUudVNpemUpO1xuXG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9hc3BlY3RfcmF0aW8sIHRyLndpZHRoIC8gdHIuaGVpZ2h0KTtcbiAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X3JvdGF0ZV9zeW1ib2wsIHJvdGF0ZUluU2hhZGVyID8gMSA6IDApO1xufVxuXG5mdW5jdGlvbiBkcmF3VGlsZVN5bWJvbHMocHJvZ3JhbSwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIHBhaW50ZXIsIGxheWVyLCB0aWxlLCBidWZmZXJzLCBpc1RleHQsIGlzU0RGLCBwaXRjaFdpdGhNYXApIHtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHRyID0gcGFpbnRlci50cmFuc2Zvcm07XG5cbiAgICBpZiAoaXNTREYpIHtcbiAgICAgICAgY29uc3QgaGFzSGFsbyA9IGxheWVyLnBhaW50LmdldChpc1RleHQgPyAndGV4dC1oYWxvLXdpZHRoJyA6ICdpY29uLWhhbG8td2lkdGgnKS5jb25zdGFudE9yKDEpICE9PSAwO1xuICAgICAgICBjb25zdCBnYW1tYVNjYWxlID0gKHBpdGNoV2l0aE1hcCA/IE1hdGguY29zKHRyLl9waXRjaCkgKiB0ci5jYW1lcmFUb0NlbnRlckRpc3RhbmNlIDogMSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfZ2FtbWFfc2NhbGUsIGdhbW1hU2NhbGUpO1xuXG4gICAgICAgIGlmIChoYXNIYWxvKSB7IC8vIERyYXcgaGFsbyB1bmRlcm5lYXRoIHRoZSB0ZXh0LlxuICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9pc19oYWxvLCAxKTtcbiAgICAgICAgICAgIGRyYXdTeW1ib2xFbGVtZW50cyhidWZmZXJzLCBsYXllciwgY29udGV4dCwgcHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2lzX2hhbG8sIDApO1xuICAgIH1cblxuICAgIGRyYXdTeW1ib2xFbGVtZW50cyhidWZmZXJzLCBsYXllciwgY29udGV4dCwgcHJvZ3JhbSk7XG59XG5cbmZ1bmN0aW9uIGRyYXdTeW1ib2xFbGVtZW50cyhidWZmZXJzLCBsYXllciwgY29udGV4dCwgcHJvZ3JhbSkge1xuICAgIHByb2dyYW0uZHJhdyhcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgY29udGV4dC5nbC5UUklBTkdMRVMsXG4gICAgICAgIGxheWVyLmlkLFxuICAgICAgICBidWZmZXJzLmxheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgYnVmZmVycy5pbmRleEJ1ZmZlcixcbiAgICAgICAgYnVmZmVycy5zZWdtZW50cyxcbiAgICAgICAgYnVmZmVycy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKSxcbiAgICAgICAgYnVmZmVycy5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLFxuICAgICAgICBidWZmZXJzLm9wYWNpdHlWZXJ0ZXhCdWZmZXIpO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcblxuaW1wb3J0IHBpeGVsc1RvVGlsZVVuaXRzIGZyb20gJy4uL3NvdXJjZS9waXhlbHNfdG9fdGlsZV91bml0cyc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIExpbmVTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2xpbmVfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgTGluZUJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9saW5lX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkcmF3TGluZShwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBMaW5lU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09ICd0cmFuc2x1Y2VudCcpIHJldHVybjtcblxuICAgIGNvbnN0IG9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtb3BhY2l0eScpO1xuICAgIGlmIChvcGFjaXR5LmNvbnN0YW50T3IoMSkgPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG5cbiAgICBjb250ZXh0LnNldERlcHRoTW9kZShwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKDAsIERlcHRoTW9kZS5SZWFkT25seSkpO1xuICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcblxuICAgIGNvbnN0IHByb2dyYW1JZCA9XG4gICAgICAgIGxheWVyLnBhaW50LmdldCgnbGluZS1kYXNoYXJyYXknKSA/ICdsaW5lU0RGJyA6XG4gICAgICAgIGxheWVyLnBhaW50LmdldCgnbGluZS1wYXR0ZXJuJykgPyAnbGluZVBhdHRlcm4nIDogJ2xpbmUnO1xuXG4gICAgbGV0IHByZXZUaWxlWm9vbTtcbiAgICBsZXQgZmlyc3RUaWxlID0gdHJ1ZTtcblxuICAgIGZvciAoY29uc3QgY29vcmQgb2YgY29vcmRzKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgY29uc3QgYnVja2V0OiA/TGluZUJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0KSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBwcm9ncmFtQ29uZmlndXJhdGlvbiA9IGJ1Y2tldC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKTtcbiAgICAgICAgY29uc3QgcHJldlByb2dyYW0gPSBwYWludGVyLmNvbnRleHQucHJvZ3JhbS5nZXQoKTtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbShwcm9ncmFtSWQsIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICAgICAgY29uc3QgcHJvZ3JhbUNoYW5nZWQgPSBmaXJzdFRpbGUgfHwgcHJvZ3JhbS5wcm9ncmFtICE9PSBwcmV2UHJvZ3JhbTtcbiAgICAgICAgY29uc3QgdGlsZVJhdGlvQ2hhbmdlZCA9IHByZXZUaWxlWm9vbSAhPT0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFo7XG5cbiAgICAgICAgaWYgKHByb2dyYW1DaGFuZ2VkKSB7XG4gICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRVbmlmb3JtcyhwYWludGVyLmNvbnRleHQsIHByb2dyYW0sIGxheWVyLnBhaW50LCB7em9vbTogcGFpbnRlci50cmFuc2Zvcm0uem9vbX0pO1xuICAgICAgICB9XG4gICAgICAgIGRyYXdMaW5lVGlsZShwcm9ncmFtLCBwYWludGVyLCB0aWxlLCBidWNrZXQsIGxheWVyLCBjb29yZCwgcHJvZ3JhbUNvbmZpZ3VyYXRpb24sIHByb2dyYW1DaGFuZ2VkLCB0aWxlUmF0aW9DaGFuZ2VkKTtcbiAgICAgICAgcHJldlRpbGVab29tID0gdGlsZS50aWxlSUQub3ZlcnNjYWxlZFo7XG4gICAgICAgIGZpcnN0VGlsZSA9IGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhd0xpbmVUaWxlKHByb2dyYW0sIHBhaW50ZXIsIHRpbGUsIGJ1Y2tldCwgbGF5ZXIsIGNvb3JkLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgcHJvZ3JhbUNoYW5nZWQsIHRpbGVSYXRpb0NoYW5nZWQpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCBkYXNoYXJyYXkgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtZGFzaGFycmF5Jyk7XG4gICAgY29uc3QgaW1hZ2UgPSBsYXllci5wYWludC5nZXQoJ2xpbmUtcGF0dGVybicpO1xuXG4gICAgbGV0IHBvc0EsIHBvc0IsIGltYWdlUG9zQSwgaW1hZ2VQb3NCO1xuXG4gICAgaWYgKHByb2dyYW1DaGFuZ2VkIHx8IHRpbGVSYXRpb0NoYW5nZWQpIHtcbiAgICAgICAgY29uc3QgdGlsZVJhdGlvID0gMSAvIHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIDEsIHBhaW50ZXIudHJhbnNmb3JtLnRpbGVab29tKTtcblxuICAgICAgICBpZiAoZGFzaGFycmF5KSB7XG4gICAgICAgICAgICBwb3NBID0gcGFpbnRlci5saW5lQXRsYXMuZ2V0RGFzaChkYXNoYXJyYXkuZnJvbSwgbGF5ZXIubGF5b3V0LmdldCgnbGluZS1jYXAnKSA9PT0gJ3JvdW5kJyk7XG4gICAgICAgICAgICBwb3NCID0gcGFpbnRlci5saW5lQXRsYXMuZ2V0RGFzaChkYXNoYXJyYXkudG8sIGxheWVyLmxheW91dC5nZXQoJ2xpbmUtY2FwJykgPT09ICdyb3VuZCcpO1xuXG4gICAgICAgICAgICBjb25zdCB3aWR0aEEgPSBwb3NBLndpZHRoICogZGFzaGFycmF5LmZyb21TY2FsZTtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoQiA9IHBvc0Iud2lkdGggKiBkYXNoYXJyYXkudG9TY2FsZTtcblxuICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuc2NhbGVfYSwgdGlsZVJhdGlvIC8gd2lkdGhBLCAtcG9zQS5oZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybnNjYWxlX2IsIHRpbGVSYXRpbyAvIHdpZHRoQiwgLXBvc0IuaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3NkZmdhbW1hLCBwYWludGVyLmxpbmVBdGxhcy53aWR0aCAvIChNYXRoLm1pbih3aWR0aEEsIHdpZHRoQikgKiAyNTYgKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8pIC8gMik7XG5cbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgaW1hZ2VQb3NBID0gcGFpbnRlci5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihpbWFnZS5mcm9tKTtcbiAgICAgICAgICAgIGltYWdlUG9zQiA9IHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oaW1hZ2UudG8pO1xuICAgICAgICAgICAgaWYgKCFpbWFnZVBvc0EgfHwgIWltYWdlUG9zQikgcmV0dXJuO1xuXG4gICAgICAgICAgICBnbC51bmlmb3JtMmYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5fc2l6ZV9hLCBpbWFnZVBvc0EuZGlzcGxheVNpemVbMF0gKiBpbWFnZS5mcm9tU2NhbGUgLyB0aWxlUmF0aW8sIGltYWdlUG9zQS5kaXNwbGF5U2l6ZVsxXSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5fc2l6ZV9iLCBpbWFnZVBvc0IuZGlzcGxheVNpemVbMF0gKiBpbWFnZS50b1NjYWxlIC8gdGlsZVJhdGlvLCBpbWFnZVBvc0IuZGlzcGxheVNpemVbMV0pO1xuXG4gICAgICAgICAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBwYWludGVyLmltYWdlTWFuYWdlci5nZXRQaXhlbFNpemUoKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3RleHNpemUsIFt3aWR0aCwgaGVpZ2h0XSk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC51bmlmb3JtMmYocHJvZ3JhbS51bmlmb3Jtcy51X2dsX3VuaXRzX3RvX3BpeGVscywgMSAvIHBhaW50ZXIudHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1swXSwgMSAvIHBhaW50ZXIudHJhbnNmb3JtLnBpeGVsc1RvR0xVbml0c1sxXSk7XG4gICAgfVxuXG4gICAgaWYgKHByb2dyYW1DaGFuZ2VkKSB7XG5cbiAgICAgICAgaWYgKGRhc2hhcnJheSkge1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9pbWFnZSwgMCk7XG4gICAgICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgIHBhaW50ZXIubGluZUF0bGFzLmJpbmQoY29udGV4dCk7XG5cbiAgICAgICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfdGV4X3lfYSwgKHBvc0E6IGFueSkueSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3RleF95X2IsIChwb3NCOiBhbnkpLnkpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9taXgsIGRhc2hhcnJheS50KTtcblxuICAgICAgICB9IGVsc2UgaWYgKGltYWdlKSB7XG4gICAgICAgICAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X2ltYWdlLCAwKTtcbiAgICAgICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgICAgICAgICAgcGFpbnRlci5pbWFnZU1hbmFnZXIuYmluZChjb250ZXh0KTtcblxuICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybl90bF9hLCAoaW1hZ2VQb3NBOiBhbnkpLnRsKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5fYnJfYSwgKGltYWdlUG9zQTogYW55KS5icik7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuX3RsX2IsIChpbWFnZVBvc0I6IGFueSkudGwpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybl9icl9iLCAoaW1hZ2VQb3NCOiBhbnkpLmJyKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfZmFkZSwgaW1hZ2UudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKHBhaW50ZXIuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhjb29yZCkpO1xuXG4gICAgY29uc3QgcG9zTWF0cml4ID0gcGFpbnRlci50cmFuc2xhdGVQb3NNYXRyaXgoY29vcmQucG9zTWF0cml4LCB0aWxlLCBsYXllci5wYWludC5nZXQoJ2xpbmUtdHJhbnNsYXRlJyksIGxheWVyLnBhaW50LmdldCgnbGluZS10cmFuc2xhdGUtYW5jaG9yJykpO1xuICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIHBvc01hdHJpeCk7XG5cbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3JhdGlvLCAxIC8gcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgMSwgcGFpbnRlci50cmFuc2Zvcm0uem9vbSkpO1xuXG4gICAgcHJvZ3JhbS5kcmF3KFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBnbC5UUklBTkdMRVMsXG4gICAgICAgIGxheWVyLmlkLFxuICAgICAgICBidWNrZXQubGF5b3V0VmVydGV4QnVmZmVyLFxuICAgICAgICBidWNrZXQuaW5kZXhCdWZmZXIsXG4gICAgICAgIGJ1Y2tldC5zZWdtZW50cyxcbiAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgUHJvZ3JhbSBmcm9tICcuL3Byb2dyYW0nO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcbmltcG9ydCB0eXBlIHtDcm9zc0ZhZGVkfSBmcm9tICcuLi9zdHlsZS9jcm9zc19mYWRlZCc7XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBwYXR0ZXJuIGltYWdlIGlzIG5lZWRlZCwgYW5kIGlmIGl0IGlzLCB3aGV0aGVyIGl0IGlzIG5vdCBsb2FkZWQuXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMgdHJ1ZSBpZiBhIG5lZWRlZCBpbWFnZSBpcyBtaXNzaW5nIGFuZCByZW5kZXJpbmcgbmVlZHMgdG8gYmUgc2tpcHBlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzUGF0dGVybk1pc3NpbmcgPSBmdW5jdGlvbihpbWFnZTogP0Nyb3NzRmFkZWQ8c3RyaW5nPiwgcGFpbnRlcjogUGFpbnRlcik6IGJvb2xlYW4ge1xuICAgIGlmICghaW1hZ2UpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBpbWFnZVBvc0EgPSBwYWludGVyLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGltYWdlLmZyb20pO1xuICAgIGNvbnN0IGltYWdlUG9zQiA9IHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oaW1hZ2UudG8pO1xuICAgIHJldHVybiAhaW1hZ2VQb3NBIHx8ICFpbWFnZVBvc0I7XG59O1xuXG5leHBvcnQgY29uc3QgcHJlcGFyZSA9IGZ1bmN0aW9uIChpbWFnZTogQ3Jvc3NGYWRlZDxzdHJpbmc+LCBwYWludGVyOiBQYWludGVyLCBwcm9ncmFtOiBQcm9ncmFtKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBjb25zdCBpbWFnZVBvc0EgPSBwYWludGVyLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGltYWdlLmZyb20pO1xuICAgIGNvbnN0IGltYWdlUG9zQiA9IHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oaW1hZ2UudG8pO1xuICAgIGFzc2VydChpbWFnZVBvc0EgJiYgaW1hZ2VQb3NCKTtcblxuICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfaW1hZ2UsIDApO1xuICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5fdGxfYSwgKGltYWdlUG9zQTogYW55KS50bCk7XG4gICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybl9icl9hLCAoaW1hZ2VQb3NBOiBhbnkpLmJyKTtcbiAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV9wYXR0ZXJuX3RsX2IsIChpbWFnZVBvc0I6IGFueSkudGwpO1xuICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5fYnJfYiwgKGltYWdlUG9zQjogYW55KS5icik7XG4gICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gcGFpbnRlci5pbWFnZU1hbmFnZXIuZ2V0UGl4ZWxTaXplKCk7XG4gICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfdGV4c2l6ZSwgW3dpZHRoLCBoZWlnaHRdKTtcbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X21peCwgaW1hZ2UudCk7XG4gICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfcGF0dGVybl9zaXplX2EsIChpbWFnZVBvc0E6IGFueSkuZGlzcGxheVNpemUpO1xuICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3BhdHRlcm5fc2l6ZV9iLCAoaW1hZ2VQb3NCOiBhbnkpLmRpc3BsYXlTaXplKTtcbiAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X3NjYWxlX2EsIGltYWdlLmZyb21TY2FsZSk7XG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9zY2FsZV9iLCBpbWFnZS50b1NjYWxlKTtcblxuICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuICAgIHBhaW50ZXIuaW1hZ2VNYW5hZ2VyLmJpbmQocGFpbnRlci5jb250ZXh0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRQYXR0ZXJuVW5pZm9ybXMgPSBmdW5jdGlvbiAodGlsZToge3RpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCwgdGlsZVNpemU6IG51bWJlcn0sIHBhaW50ZXI6IFBhaW50ZXIsIHByb2dyYW06IFByb2dyYW0pIHtcbiAgICBjb25zdCBnbCA9IHBhaW50ZXIuY29udGV4dC5nbDtcblxuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfdGlsZV91bml0c190b19waXhlbHMsIDEgLyBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCAxLCBwYWludGVyLnRyYW5zZm9ybS50aWxlWm9vbSkpO1xuXG4gICAgY29uc3QgbnVtVGlsZXMgPSBNYXRoLnBvdygyLCB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWik7XG4gICAgY29uc3QgdGlsZVNpemVBdE5lYXJlc3Rab29tID0gdGlsZS50aWxlU2l6ZSAqIE1hdGgucG93KDIsIHBhaW50ZXIudHJhbnNmb3JtLnRpbGVab29tKSAvIG51bVRpbGVzO1xuXG4gICAgY29uc3QgcGl4ZWxYID0gdGlsZVNpemVBdE5lYXJlc3Rab29tICogKHRpbGUudGlsZUlELmNhbm9uaWNhbC54ICsgdGlsZS50aWxlSUQud3JhcCAqIG51bVRpbGVzKTtcbiAgICBjb25zdCBwaXhlbFkgPSB0aWxlU2l6ZUF0TmVhcmVzdFpvb20gKiB0aWxlLnRpbGVJRC5jYW5vbmljYWwueTtcblxuICAgIC8vIHNwbGl0IHRoZSBwaXhlbCBjb29yZCBpbnRvIHR3byBwYWlycyBvZiAxNiBiaXQgbnVtYmVycy4gVGhlIGdsc2wgc3BlYyBvbmx5IGd1YXJhbnRlZXMgMTYgYml0cyBvZiBwcmVjaXNpb24uXG4gICAgZ2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMudV9waXhlbF9jb29yZF91cHBlciwgcGl4ZWxYID4+IDE2LCBwaXhlbFkgPj4gMTYpO1xuICAgIGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnVfcGl4ZWxfY29vcmRfbG93ZXIsIHBpeGVsWCAmIDB4RkZGRiwgcGl4ZWxZICYgMHhGRkZGKTtcbn07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIGlzUGF0dGVybk1pc3NpbmcsXG4gICAgc2V0UGF0dGVyblVuaWZvcm1zLFxuICAgIHByZXBhcmUgYXMgcHJlcGFyZVBhdHRlcm5cbn0gZnJvbSAnLi9wYXR0ZXJuJztcblxuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIEZpbGxTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2ZpbGxfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgRmlsbEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9maWxsX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuaW1wb3J0IHR5cGUge0Nyb3NzRmFkZWR9IGZyb20gJy4uL3N0eWxlL2Nyb3NzX2ZhZGVkJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0ZpbGw7XG5cbmZ1bmN0aW9uIGRyYXdGaWxsKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgbGF5ZXI6IEZpbGxTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgY29uc3QgY29sb3IgPSBsYXllci5wYWludC5nZXQoJ2ZpbGwtY29sb3InKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLW9wYWNpdHknKTtcblxuICAgIGlmIChvcGFjaXR5LmNvbnN0YW50T3IoMSkgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuXG4gICAgY29uc3QgcGFzcyA9ICghbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLXBhdHRlcm4nKSAmJlxuICAgICAgICBjb2xvci5jb25zdGFudE9yKENvbG9yLnRyYW5zcGFyZW50KS5hID09PSAxICYmXG4gICAgICAgIG9wYWNpdHkuY29uc3RhbnRPcigwKSA9PT0gMSkgPyAnb3BhcXVlJyA6ICd0cmFuc2x1Y2VudCc7XG5cbiAgICAvLyBEcmF3IGZpbGxcbiAgICBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSBwYXNzKSB7XG4gICAgICAgIC8vIE9uY2Ugd2Ugc3dpdGNoIHRvIGVhcmN1dCBkcmF3aW5nIHdlIGNhbiBwdWxsIG1vc3Qgb2YgdGhlIFdlYkdMIHNldHVwXG4gICAgICAgIC8vIG91dHNpZGUgb2YgdGhpcyBjb29yZHMgbG9vcC5cbiAgICAgICAgY29udGV4dC5zZXREZXB0aE1vZGUocGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcigxLCBwYWludGVyLnJlbmRlclBhc3MgPT09ICdvcGFxdWUnID8gRGVwdGhNb2RlLlJlYWRXcml0ZSA6IERlcHRoTW9kZS5SZWFkT25seSkpO1xuICAgICAgICBkcmF3RmlsbFRpbGVzKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzLCBkcmF3RmlsbFRpbGUpO1xuICAgIH1cblxuICAgIC8vIERyYXcgc3Ryb2tlXG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ3RyYW5zbHVjZW50JyAmJiBsYXllci5wYWludC5nZXQoJ2ZpbGwtYW50aWFsaWFzJykpIHtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGguc2V0KDIpO1xuXG4gICAgICAgIC8vIElmIHdlIGRlZmluZWQgYSBkaWZmZXJlbnQgY29sb3IgZm9yIHRoZSBmaWxsIG91dGxpbmUsIHdlIGFyZVxuICAgICAgICAvLyBnb2luZyB0byBpZ25vcmUgdGhlIGJpdHMgaW4gMHgwNyBhbmQganVzdCBjYXJlIGFib3V0IHRoZSBnbG9iYWxcbiAgICAgICAgLy8gY2xpcHBpbmcgbWFzay5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBvbmx5IHdhbnQgdG8gZHJhd0ZpbGwgdGhlIGFudGlhbGlhc2VkIHBhcnRzIHRoYXQgYXJlXG4gICAgICAgIC8vICpvdXRzaWRlKiB0aGUgY3VycmVudCBzaGFwZS4gVGhpcyBpcyBpbXBvcnRhbnQgaW4gY2FzZSB0aGUgZmlsbFxuICAgICAgICAvLyBvciBzdHJva2UgY29sb3IgaXMgdHJhbnNsdWNlbnQuIElmIHdlIHdvdWxkbid0IGNsaXAgdG8gb3V0c2lkZVxuICAgICAgICAvLyB0aGUgY3VycmVudCBzaGFwZSwgc29tZSBwaXhlbHMgZnJvbSB0aGUgb3V0bGluZSBzdHJva2Ugb3ZlcmxhcHBlZFxuICAgICAgICAvLyB0aGUgKG5vbi1hbnRpYWxpYXNlZCkgZmlsbC5cbiAgICAgICAgY29udGV4dC5zZXREZXB0aE1vZGUocGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcihcbiAgICAgICAgICAgIGxheWVyLmdldFBhaW50UHJvcGVydHkoJ2ZpbGwtb3V0bGluZS1jb2xvcicpID8gMiA6IDAsIERlcHRoTW9kZS5SZWFkT25seSkpO1xuICAgICAgICBkcmF3RmlsbFRpbGVzKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzLCBkcmF3U3Ryb2tlVGlsZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3RmlsbFRpbGVzKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzLCBkcmF3Rm4pIHtcbiAgICBpZiAoaXNQYXR0ZXJuTWlzc2luZyhsYXllci5wYWludC5nZXQoJ2ZpbGwtcGF0dGVybicpLCBwYWludGVyKSkgcmV0dXJuO1xuXG4gICAgbGV0IGZpcnN0VGlsZSA9IHRydWU7XG4gICAgZm9yIChjb25zdCBjb29yZCBvZiBjb29yZHMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBjb25zdCBidWNrZXQ6ID9GaWxsQnVja2V0ID0gKHRpbGUuZ2V0QnVja2V0KGxheWVyKTogYW55KTtcbiAgICAgICAgaWYgKCFidWNrZXQpIGNvbnRpbnVlO1xuXG4gICAgICAgIHBhaW50ZXIuY29udGV4dC5zZXRTdGVuY2lsTW9kZShwYWludGVyLnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcoY29vcmQpKTtcbiAgICAgICAgZHJhd0ZuKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgdGlsZSwgY29vcmQsIGJ1Y2tldCwgZmlyc3RUaWxlKTtcbiAgICAgICAgZmlyc3RUaWxlID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3RmlsbFRpbGUocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCB0aWxlLCBjb29yZCwgYnVja2V0LCBmaXJzdFRpbGUpIHtcbiAgICBjb25zdCBnbCA9IHBhaW50ZXIuY29udGV4dC5nbDtcbiAgICBjb25zdCBwcm9ncmFtQ29uZmlndXJhdGlvbiA9IGJ1Y2tldC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKTtcblxuICAgIGNvbnN0IHByb2dyYW0gPSBzZXRGaWxsUHJvZ3JhbSgnZmlsbCcsIGxheWVyLnBhaW50LmdldCgnZmlsbC1wYXR0ZXJuJyksIHBhaW50ZXIsIHByb2dyYW1Db25maWd1cmF0aW9uLCBsYXllciwgdGlsZSwgY29vcmQsIGZpcnN0VGlsZSk7XG5cbiAgICBwcm9ncmFtLmRyYXcoXG4gICAgICAgIHBhaW50ZXIuY29udGV4dCxcbiAgICAgICAgZ2wuVFJJQU5HTEVTLFxuICAgICAgICBsYXllci5pZCxcbiAgICAgICAgYnVja2V0LmxheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgYnVja2V0LmluZGV4QnVmZmVyLFxuICAgICAgICBidWNrZXQuc2VnbWVudHMsXG4gICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbn1cblxuZnVuY3Rpb24gZHJhd1N0cm9rZVRpbGUocGFpbnRlciwgc291cmNlQ2FjaGUsIGxheWVyLCB0aWxlLCBjb29yZCwgYnVja2V0LCBmaXJzdFRpbGUpIHtcbiAgICBjb25zdCBnbCA9IHBhaW50ZXIuY29udGV4dC5nbDtcbiAgICBjb25zdCBwcm9ncmFtQ29uZmlndXJhdGlvbiA9IGJ1Y2tldC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKTtcbiAgICBjb25zdCBwYXR0ZXJuID0gbGF5ZXIuZ2V0UGFpbnRQcm9wZXJ0eSgnZmlsbC1vdXRsaW5lLWNvbG9yJykgPyBudWxsIDogbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLXBhdHRlcm4nKTtcblxuICAgIGNvbnN0IHByb2dyYW0gPSBzZXRGaWxsUHJvZ3JhbSgnZmlsbE91dGxpbmUnLCBwYXR0ZXJuLCBwYWludGVyLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgbGF5ZXIsIHRpbGUsIGNvb3JkLCBmaXJzdFRpbGUpO1xuICAgIGdsLnVuaWZvcm0yZihwcm9ncmFtLnVuaWZvcm1zLnVfd29ybGQsIGdsLmRyYXdpbmdCdWZmZXJXaWR0aCwgZ2wuZHJhd2luZ0J1ZmZlckhlaWdodCk7XG5cbiAgICBwcm9ncmFtLmRyYXcoXG4gICAgICAgIHBhaW50ZXIuY29udGV4dCxcbiAgICAgICAgZ2wuTElORVMsXG4gICAgICAgIGxheWVyLmlkLFxuICAgICAgICBidWNrZXQubGF5b3V0VmVydGV4QnVmZmVyLFxuICAgICAgICBidWNrZXQuaW5kZXhCdWZmZXIyLFxuICAgICAgICBidWNrZXQuc2VnbWVudHMyLFxuICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG59XG5cbmZ1bmN0aW9uIHNldEZpbGxQcm9ncmFtKHByb2dyYW1JZCwgcGF0OiA/Q3Jvc3NGYWRlZDxzdHJpbmc+LCBwYWludGVyLCBwcm9ncmFtQ29uZmlndXJhdGlvbiwgbGF5ZXIsIHRpbGUsIGNvb3JkLCBmaXJzdFRpbGUpIHtcbiAgICBsZXQgcHJvZ3JhbTtcbiAgICBjb25zdCBwcmV2UHJvZ3JhbSA9IHBhaW50ZXIuY29udGV4dC5wcm9ncmFtLmdldCgpO1xuICAgIGlmICghcGF0KSB7XG4gICAgICAgIHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0ocHJvZ3JhbUlkLCBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgICAgIGlmIChmaXJzdFRpbGUgfHwgcHJvZ3JhbS5wcm9ncmFtICE9PSBwcmV2UHJvZ3JhbSkge1xuICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24uc2V0VW5pZm9ybXMocGFpbnRlci5jb250ZXh0LCBwcm9ncmFtLCBsYXllci5wYWludCwge3pvb206IHBhaW50ZXIudHJhbnNmb3JtLnpvb219KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oYCR7cHJvZ3JhbUlkfVBhdHRlcm5gLCBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgICAgIGlmIChmaXJzdFRpbGUgfHwgcHJvZ3JhbS5wcm9ncmFtICE9PSBwcmV2UHJvZ3JhbSkge1xuICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24uc2V0VW5pZm9ybXMocGFpbnRlci5jb250ZXh0LCBwcm9ncmFtLCBsYXllci5wYWludCwge3pvb206IHBhaW50ZXIudHJhbnNmb3JtLnpvb219KTtcbiAgICAgICAgICAgIHByZXBhcmVQYXR0ZXJuKHBhdCwgcGFpbnRlciwgcHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0UGF0dGVyblVuaWZvcm1zKHRpbGUsIHBhaW50ZXIsIHByb2dyYW0pO1xuICAgIH1cbiAgICBwYWludGVyLmNvbnRleHQuZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgcGFpbnRlci50cmFuc2xhdGVQb3NNYXRyaXgoXG4gICAgICAgIGNvb3JkLnBvc01hdHJpeCwgdGlsZSxcbiAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLXRyYW5zbGF0ZScpLFxuICAgICAgICBsYXllci5wYWludC5nZXQoJ2ZpbGwtdHJhbnNsYXRlLWFuY2hvcicpXG4gICAgKSk7XG4gICAgcmV0dXJuIHByb2dyYW07XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgZ2xNYXRyaXggZnJvbSAnQG1hcGJveC9nbC1tYXRyaXgnO1xuXG5pbXBvcnQge1xuICAgIGlzUGF0dGVybk1pc3NpbmcsXG4gICAgc2V0UGF0dGVyblVuaWZvcm1zLFxuICAgIHByZXBhcmUgYXMgcHJlcGFyZVBhdHRlcm5cbn0gZnJvbSAnLi9wYXR0ZXJuJztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZSc7XG5pbXBvcnQgQ29sb3IgZnJvbSAnLi4vc3R5bGUtc3BlYy91dGlsL2NvbG9yJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5jb25zdCBtYXQzID0gZ2xNYXRyaXgubWF0MztcbmNvbnN0IG1hdDQgPSBnbE1hdHJpeC5tYXQ0O1xuY29uc3QgdmVjMyA9IGdsTWF0cml4LnZlYzM7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcblxuaW1wb3J0IHR5cGUgUGFpbnRlciBmcm9tICcuL3BhaW50ZXInO1xuaW1wb3J0IHR5cGUgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgdHlwZSBGaWxsRXh0cnVzaW9uU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9maWxsX2V4dHJ1c2lvbl9zdHlsZV9sYXllcic7XG5pbXBvcnQgdHlwZSBGaWxsRXh0cnVzaW9uQnVja2V0IGZyb20gJy4uL2RhdGEvYnVja2V0L2ZpbGxfZXh0cnVzaW9uX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3O1xuXG5mdW5jdGlvbiBkcmF3KHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZTogU291cmNlQ2FjaGUsIGxheWVyOiBGaWxsRXh0cnVzaW9uU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChsYXllci5wYWludC5nZXQoJ2ZpbGwtZXh0cnVzaW9uLW9wYWNpdHknKSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ29mZnNjcmVlbicpIHtcbiAgICAgICAgZHJhd1RvRXh0cnVzaW9uRnJhbWVidWZmZXIocGFpbnRlciwgbGF5ZXIpO1xuXG4gICAgICAgIGxldCBmaXJzdCA9IHRydWU7XG4gICAgICAgIGZvciAoY29uc3QgY29vcmQgb2YgY29vcmRzKSB7XG4gICAgICAgICAgICBjb25zdCB0aWxlID0gc291cmNlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICAgICAgY29uc3QgYnVja2V0OiA/RmlsbEV4dHJ1c2lvbkJ1Y2tldCA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgICAgICBpZiAoIWJ1Y2tldCkgY29udGludWU7XG5cbiAgICAgICAgICAgIGRyYXdFeHRydXNpb24ocGFpbnRlciwgc291cmNlLCBsYXllciwgdGlsZSwgY29vcmQsIGJ1Y2tldCwgZmlyc3QpO1xuICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAndHJhbnNsdWNlbnQnKSB7XG4gICAgICAgIGRyYXdFeHRydXNpb25UZXh0dXJlKHBhaW50ZXIsIGxheWVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYXdUb0V4dHJ1c2lvbkZyYW1lYnVmZmVyKHBhaW50ZXIsIGxheWVyKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cbiAgICBsZXQgcmVuZGVyVGFyZ2V0ID0gbGF5ZXIudmlld3BvcnRGcmFtZTtcblxuICAgIGlmIChwYWludGVyLmRlcHRoUmJvTmVlZHNDbGVhcikge1xuICAgICAgICBwYWludGVyLnNldHVwT2Zmc2NyZWVuRGVwdGhSZW5kZXJidWZmZXIoKTtcbiAgICB9XG5cbiAgICBpZiAoIXJlbmRlclRhcmdldCkge1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwge3dpZHRoOiBwYWludGVyLndpZHRoLCBoZWlnaHQ6IHBhaW50ZXIuaGVpZ2h0LCBkYXRhOiBudWxsfSwgZ2wuUkdCQSk7XG4gICAgICAgIHRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UpO1xuXG4gICAgICAgIHJlbmRlclRhcmdldCA9IGxheWVyLnZpZXdwb3J0RnJhbWUgPSBjb250ZXh0LmNyZWF0ZUZyYW1lYnVmZmVyKHBhaW50ZXIud2lkdGgsIHBhaW50ZXIuaGVpZ2h0KTtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmNvbG9yQXR0YWNobWVudC5zZXQodGV4dHVyZS50ZXh0dXJlKTtcbiAgICB9XG5cbiAgICBjb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQocmVuZGVyVGFyZ2V0LmZyYW1lYnVmZmVyKTtcbiAgICByZW5kZXJUYXJnZXQuZGVwdGhBdHRhY2htZW50LnNldChwYWludGVyLmRlcHRoUmJvKTtcblxuICAgIGlmIChwYWludGVyLmRlcHRoUmJvTmVlZHNDbGVhcikge1xuICAgICAgICBjb250ZXh0LmNsZWFyKHsgZGVwdGg6IDEgfSk7XG4gICAgICAgIHBhaW50ZXIuZGVwdGhSYm9OZWVkc0NsZWFyID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29udGV4dC5jbGVhcih7IGNvbG9yOiBDb2xvci50cmFuc3BhcmVudCB9KTtcblxuICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoU3RlbmNpbE1vZGUuZGlzYWJsZWQpO1xuICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKG5ldyBEZXB0aE1vZGUoZ2wuTEVRVUFMLCBEZXB0aE1vZGUuUmVhZFdyaXRlLCBbMCwgMV0pKTtcbiAgICBjb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG59XG5cbmZ1bmN0aW9uIGRyYXdFeHRydXNpb25UZXh0dXJlKHBhaW50ZXIsIGxheWVyKSB7XG4gICAgY29uc3QgcmVuZGVyZWRUZXh0dXJlID0gbGF5ZXIudmlld3BvcnRGcmFtZTtcbiAgICBpZiAoIXJlbmRlcmVkVGV4dHVyZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnZXh0cnVzaW9uVGV4dHVyZScpO1xuXG4gICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShTdGVuY2lsTW9kZS5kaXNhYmxlZCk7XG4gICAgY29udGV4dC5zZXREZXB0aE1vZGUoRGVwdGhNb2RlLmRpc2FibGVkKTtcbiAgICBjb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG5cbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCByZW5kZXJlZFRleHR1cmUuY29sb3JBdHRhY2htZW50LmdldCgpKTtcblxuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfb3BhY2l0eSwgbGF5ZXIucGFpbnQuZ2V0KCdmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5JykpO1xuICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfaW1hZ2UsIDApO1xuXG4gICAgY29uc3QgbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICBtYXQ0Lm9ydGhvKG1hdHJpeCwgMCwgcGFpbnRlci53aWR0aCwgcGFpbnRlci5oZWlnaHQsIDAsIDAsIDEpO1xuICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIG1hdHJpeCk7XG5cbiAgICBnbC51bmlmb3JtMmYocHJvZ3JhbS51bmlmb3Jtcy51X3dvcmxkLCBnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQpO1xuXG4gICAgcGFpbnRlci52aWV3cG9ydFZBTy5iaW5kKGNvbnRleHQsIHByb2dyYW0sIHBhaW50ZXIudmlld3BvcnRCdWZmZXIsIFtdKTtcbiAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbn1cblxuZnVuY3Rpb24gZHJhd0V4dHJ1c2lvbihwYWludGVyLCBzb3VyY2UsIGxheWVyLCB0aWxlLCBjb29yZCwgYnVja2V0LCBmaXJzdCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgY29uc3QgaW1hZ2UgPSBsYXllci5wYWludC5nZXQoJ2ZpbGwtZXh0cnVzaW9uLXBhdHRlcm4nKTtcblxuICAgIGNvbnN0IHByZXZQcm9ncmFtID0gcGFpbnRlci5jb250ZXh0LnByb2dyYW0uZ2V0KCk7XG4gICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWNrZXQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbShpbWFnZSA/ICdmaWxsRXh0cnVzaW9uUGF0dGVybicgOiAnZmlsbEV4dHJ1c2lvbicsIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbiAgICBpZiAoZmlyc3QgfHwgcHJvZ3JhbS5wcm9ncmFtICE9PSBwcmV2UHJvZ3JhbSkge1xuICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbi5zZXRVbmlmb3Jtcyhjb250ZXh0LCBwcm9ncmFtLCBsYXllci5wYWludCwge3pvb206IHBhaW50ZXIudHJhbnNmb3JtLnpvb219KTtcbiAgICB9XG5cbiAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgaWYgKGlzUGF0dGVybk1pc3NpbmcoaW1hZ2UsIHBhaW50ZXIpKSByZXR1cm47XG4gICAgICAgIHByZXBhcmVQYXR0ZXJuKGltYWdlLCBwYWludGVyLCBwcm9ncmFtKTtcbiAgICAgICAgc2V0UGF0dGVyblVuaWZvcm1zKHRpbGUsIHBhaW50ZXIsIHByb2dyYW0pO1xuICAgICAgICBnbC51bmlmb3JtMWYocHJvZ3JhbS51bmlmb3Jtcy51X2hlaWdodF9mYWN0b3IsIC1NYXRoLnBvdygyLCBjb29yZC5vdmVyc2NhbGVkWikgLyB0aWxlLnRpbGVTaXplIC8gOCk7XG4gICAgfVxuXG4gICAgcGFpbnRlci5jb250ZXh0LmdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIHBhaW50ZXIudHJhbnNsYXRlUG9zTWF0cml4KFxuICAgICAgICBjb29yZC5wb3NNYXRyaXgsXG4gICAgICAgIHRpbGUsXG4gICAgICAgIGxheWVyLnBhaW50LmdldCgnZmlsbC1leHRydXNpb24tdHJhbnNsYXRlJyksXG4gICAgICAgIGxheWVyLnBhaW50LmdldCgnZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvcicpXG4gICAgKSk7XG5cbiAgICBzZXRMaWdodChwcm9ncmFtLCBwYWludGVyKTtcblxuICAgIHByb2dyYW0uZHJhdyhcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgZ2wuVFJJQU5HTEVTLFxuICAgICAgICBsYXllci5pZCxcbiAgICAgICAgYnVja2V0LmxheW91dFZlcnRleEJ1ZmZlcixcbiAgICAgICAgYnVja2V0LmluZGV4QnVmZmVyLFxuICAgICAgICBidWNrZXQuc2VnbWVudHMsXG4gICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uKTtcbn1cblxuZnVuY3Rpb24gc2V0TGlnaHQocHJvZ3JhbSwgcGFpbnRlcikge1xuICAgIGNvbnN0IGdsID0gcGFpbnRlci5jb250ZXh0LmdsO1xuICAgIGNvbnN0IGxpZ2h0ID0gcGFpbnRlci5zdHlsZS5saWdodDtcblxuICAgIGNvbnN0IF9scCA9IGxpZ2h0LnByb3BlcnRpZXMuZ2V0KCdwb3NpdGlvbicpO1xuICAgIGNvbnN0IGxpZ2h0UG9zID0gW19scC54LCBfbHAueSwgX2xwLnpdO1xuXG4gICAgY29uc3QgbGlnaHRNYXQgPSBtYXQzLmNyZWF0ZSgpO1xuICAgIGlmIChsaWdodC5wcm9wZXJ0aWVzLmdldCgnYW5jaG9yJykgPT09ICd2aWV3cG9ydCcpIHtcbiAgICAgICAgbWF0My5mcm9tUm90YXRpb24obGlnaHRNYXQsIC1wYWludGVyLnRyYW5zZm9ybS5hbmdsZSk7XG4gICAgfVxuICAgIHZlYzMudHJhbnNmb3JtTWF0MyhsaWdodFBvcywgbGlnaHRQb3MsIGxpZ2h0TWF0KTtcblxuICAgIGNvbnN0IGNvbG9yID0gbGlnaHQucHJvcGVydGllcy5nZXQoJ2NvbG9yJyk7XG5cbiAgICBnbC51bmlmb3JtM2Z2KHByb2dyYW0udW5pZm9ybXMudV9saWdodHBvcywgbGlnaHRQb3MpO1xuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfbGlnaHRpbnRlbnNpdHksIGxpZ2h0LnByb3BlcnRpZXMuZ2V0KCdpbnRlbnNpdHknKSk7XG4gICAgZ2wudW5pZm9ybTNmKHByb2dyYW0udW5pZm9ybXMudV9saWdodGNvbG9yLCBjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcbn1cbiIsIi8vIEBmbG93XG5pbXBvcnQgQ29vcmRpbmF0ZSBmcm9tICcuLi9nZW8vY29vcmRpbmF0ZSc7XG5cbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZSc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50JztcbmltcG9ydCB7IG1hdDQgfSBmcm9tICdAbWFwYm94L2dsLW1hdHJpeCc7XG5pbXBvcnQgU3RlbmNpbE1vZGUgZnJvbSAnLi4vZ2wvc3RlbmNpbF9tb2RlJztcbmltcG9ydCBEZXB0aE1vZGUgZnJvbSAnLi4vZ2wvZGVwdGhfbW9kZSc7XG5cbmltcG9ydCB0eXBlIFBhaW50ZXIgZnJvbSAnLi9wYWludGVyJztcbmltcG9ydCB0eXBlIFNvdXJjZUNhY2hlIGZyb20gJy4uL3NvdXJjZS9zb3VyY2VfY2FjaGUnO1xuaW1wb3J0IHR5cGUgSGlsbHNoYWRlU3R5bGVMYXllciBmcm9tICcuLi9zdHlsZS9zdHlsZV9sYXllci9oaWxsc2hhZGVfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUge092ZXJzY2FsZWRUaWxlSUR9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcblxuZXhwb3J0IGRlZmF1bHQgZHJhd0hpbGxzaGFkZTtcblxuZnVuY3Rpb24gZHJhd0hpbGxzaGFkZShwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBIaWxsc2hhZGVTdHlsZUxheWVyLCB0aWxlSURzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09ICdvZmZzY3JlZW4nICYmIHBhaW50ZXIucmVuZGVyUGFzcyAhPT0gJ3RyYW5zbHVjZW50JykgcmV0dXJuO1xuXG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBzb3VyY2VNYXhab29tID0gc291cmNlQ2FjaGUuZ2V0U291cmNlKCkubWF4em9vbTtcblxuICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KSk7XG4gICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShTdGVuY2lsTW9kZS5kaXNhYmxlZCk7XG4gICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuXG4gICAgZm9yIChjb25zdCB0aWxlSUQgb2YgdGlsZUlEcykge1xuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZSh0aWxlSUQpO1xuICAgICAgICBpZiAodGlsZS5uZWVkc0hpbGxzaGFkZVByZXBhcmUgJiYgcGFpbnRlci5yZW5kZXJQYXNzID09PSAnb2Zmc2NyZWVuJykge1xuICAgICAgICAgICAgcHJlcGFyZUhpbGxzaGFkZShwYWludGVyLCB0aWxlLCBzb3VyY2VNYXhab29tKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ3RyYW5zbHVjZW50Jykge1xuICAgICAgICAgICAgcmVuZGVySGlsbHNoYWRlKHBhaW50ZXIsIHRpbGUsIGxheWVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRleHQudmlld3BvcnQuc2V0KFswLCAwLCBwYWludGVyLndpZHRoLCBwYWludGVyLmhlaWdodF0pO1xufVxuXG5mdW5jdGlvbiBzZXRMaWdodChwcm9ncmFtLCBwYWludGVyLCBsYXllcikge1xuICAgIGxldCBhemltdXRoYWwgPSBsYXllci5wYWludC5nZXQoJ2hpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uJykgKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgLy8gbW9kaWZ5IGF6aW11dGhhbCBhbmdsZSBieSBtYXAgcm90YXRpb24gaWYgbGlnaHQgaXMgYW5jaG9yZWQgYXQgdGhlIHZpZXdwb3J0XG4gICAgaWYgKGxheWVyLnBhaW50LmdldCgnaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3InKSA9PT0gJ3ZpZXdwb3J0JykgIGF6aW11dGhhbCAtPSBwYWludGVyLnRyYW5zZm9ybS5hbmdsZTtcbiAgICBwYWludGVyLmNvbnRleHQuZ2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMudV9saWdodCwgbGF5ZXIucGFpbnQuZ2V0KCdoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uJyksIGF6aW11dGhhbCk7XG5cbn1cblxuZnVuY3Rpb24gZ2V0VGlsZUxhdFJhbmdlKHBhaW50ZXIsIHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCkge1xuICAgIGNvbnN0IGNvb3JkaW5hdGUwID0gdGlsZUlELnRvQ29vcmRpbmF0ZSgpO1xuICAgIGNvbnN0IGNvb3JkaW5hdGUxID0gbmV3IENvb3JkaW5hdGUoY29vcmRpbmF0ZTAuY29sdW1uLCBjb29yZGluYXRlMC5yb3cgKyAxLCBjb29yZGluYXRlMC56b29tKTtcbiAgICByZXR1cm4gW3BhaW50ZXIudHJhbnNmb3JtLmNvb3JkaW5hdGVMb2NhdGlvbihjb29yZGluYXRlMCkubGF0LCBwYWludGVyLnRyYW5zZm9ybS5jb29yZGluYXRlTG9jYXRpb24oY29vcmRpbmF0ZTEpLmxhdF07XG59XG5cbmZ1bmN0aW9uIHJlbmRlckhpbGxzaGFkZShwYWludGVyLCB0aWxlLCBsYXllcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IGZibyA9IHRpbGUuZmJvO1xuICAgIGlmICghZmJvKSByZXR1cm47XG5cbiAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdoaWxsc2hhZGUnKTtcbiAgICBjb25zdCBwb3NNYXRyaXggPSBwYWludGVyLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgodGlsZS50aWxlSUQudG9VbndyYXBwZWQoKSwgdHJ1ZSk7XG4gICAgc2V0TGlnaHQocHJvZ3JhbSwgcGFpbnRlciwgbGF5ZXIpO1xuICAgIC8vIGZvciBzY2FsaW5nIHRoZSBtYWduaXR1ZGUgb2YgYSBwb2ludHMgc2xvcGUgYnkgaXRzIGxhdGl0dWRlXG4gICAgY29uc3QgbGF0UmFuZ2UgPSBnZXRUaWxlTGF0UmFuZ2UocGFpbnRlciwgdGlsZS50aWxlSUQpO1xuICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTApO1xuXG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZmJvLmNvbG9yQXR0YWNobWVudC5nZXQoKSk7XG5cbiAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBwb3NNYXRyaXgpO1xuICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X2xhdHJhbmdlLCBsYXRSYW5nZSk7XG4gICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9pbWFnZSwgMCk7XG5cbiAgICBjb25zdCBzaGFkb3dDb2xvciA9IGxheWVyLnBhaW50LmdldChcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIik7XG4gICAgZ2wudW5pZm9ybTRmKHByb2dyYW0udW5pZm9ybXMudV9zaGFkb3csIHNoYWRvd0NvbG9yLnIsIHNoYWRvd0NvbG9yLmcsIHNoYWRvd0NvbG9yLmIsIHNoYWRvd0NvbG9yLmEpO1xuICAgIGNvbnN0IGhpZ2hsaWdodENvbG9yID0gbGF5ZXIucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiKTtcbiAgICBnbC51bmlmb3JtNGYocHJvZ3JhbS51bmlmb3Jtcy51X2hpZ2hsaWdodCwgaGlnaGxpZ2h0Q29sb3IuciwgaGlnaGxpZ2h0Q29sb3IuZywgaGlnaGxpZ2h0Q29sb3IuYiwgaGlnaGxpZ2h0Q29sb3IuYSk7XG4gICAgY29uc3QgYWNjZW50Q29sb3IgPSBsYXllci5wYWludC5nZXQoXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCIpO1xuICAgIGdsLnVuaWZvcm00Zihwcm9ncmFtLnVuaWZvcm1zLnVfYWNjZW50LCBhY2NlbnRDb2xvci5yLCBhY2NlbnRDb2xvci5nLCBhY2NlbnRDb2xvci5iLCBhY2NlbnRDb2xvci5hKTtcblxuICAgIGlmICh0aWxlLm1hc2tlZEJvdW5kc0J1ZmZlciAmJiB0aWxlLm1hc2tlZEluZGV4QnVmZmVyICYmIHRpbGUuc2VnbWVudHMpIHtcbiAgICAgICAgcHJvZ3JhbS5kcmF3KFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIGdsLlRSSUFOR0xFUyxcbiAgICAgICAgICAgIGxheWVyLmlkLFxuICAgICAgICAgICAgdGlsZS5tYXNrZWRCb3VuZHNCdWZmZXIsXG4gICAgICAgICAgICB0aWxlLm1hc2tlZEluZGV4QnVmZmVyLFxuICAgICAgICAgICAgdGlsZS5zZWdtZW50c1xuICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHBhaW50ZXIucmFzdGVyQm91bmRzQnVmZmVyO1xuICAgICAgICBjb25zdCB2YW8gPSBwYWludGVyLnJhc3RlckJvdW5kc1ZBTztcbiAgICAgICAgdmFvLmJpbmQoY29udGV4dCwgcHJvZ3JhbSwgYnVmZmVyLCBbXSk7XG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIGJ1ZmZlci5sZW5ndGgpO1xuICAgIH1cbn1cblxuXG4vLyBoaWxsc2hhZGUgcmVuZGVyaW5nIGlzIGRvbmUgaW4gdHdvIHN0ZXBzLiB0aGUgcHJlcGFyZSBzdGVwIGZpcnN0IGNhbGN1bGF0ZXMgdGhlIHNsb3BlIG9mIHRoZSB0ZXJyYWluIGluIHRoZSB4IGFuZCB5XG4vLyBkaXJlY3Rpb25zIGZvciBlYWNoIHBpeGVsLCBhbmQgc2F2ZXMgdGhvc2UgdmFsdWVzIHRvIGEgZnJhbWVidWZmZXIgdGV4dHVyZSBpbiB0aGUgciBhbmQgZyBjaGFubmVscy5cbmZ1bmN0aW9uIHByZXBhcmVIaWxsc2hhZGUocGFpbnRlciwgdGlsZSwgc291cmNlTWF4Wm9vbSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIC8vIGRlY29kZSByZ2JhIGxldmVscyBieSB1c2luZyBpbnRlZ2VyIG92ZXJmbG93IHRvIGNvbnZlcnQgZWFjaCBVaW50MzJBcnJheSBlbGVtZW50IC0+IDQgVWludDhBcnJheSBlbGVtZW50cy5cbiAgICAvLyBleC5cbiAgICAvLyBVaW50MzI6XG4gICAgLy8gYmFzZSAxMCAtIDY3MzA4XG4gICAgLy8gYmFzZSAyIC0gMDAwMCAwMDAwIDAwMDAgMDAwMSAwMDAwIDAxMTAgMTExMCAxMTAwXG4gICAgLy9cbiAgICAvLyBVaW50ODpcbiAgICAvLyBiYXNlIDEwIC0gMCwgMSwgNiwgMjM2ICh0aGlzIG9yZGVyIGlzIHJldmVyc2VkIGluIHRoZSByZXN1bHRpbmcgYXJyYXkgdmlhIHRoZSBvdmVyZmxvdy5cbiAgICAvLyBmaXJzdCA4IGJpdHMgcmVwcmVzZW50IDIzNiwgc28gdGhlIHIgY29tcG9uZW50IG9mIHRoZSB0ZXh0dXJlIHBpeGVsIHdpbGwgYmUgMjM2IGV0Yy4pXG4gICAgLy8gYmFzZSAyIC0gMDAwMCAwMDAwLCAwMDAwIDAwMDEsIDAwMDAgMDExMCwgMTExMCAxMTAwXG4gICAgaWYgKHRpbGUuZGVtICYmIHRpbGUuZGVtLmxldmVsKSB7XG4gICAgICAgIGNvbnN0IHRpbGVTaXplID0gdGlsZS5kZW0ubGV2ZWwuZGltO1xuXG4gICAgICAgIGNvbnN0IHBpeGVsRGF0YSA9IHRpbGUuZGVtLmdldFBpeGVscygpO1xuICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUxKTtcblxuICAgICAgICAvLyBpZiBVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wgaXMgc2V0IHRvIHRydWUgcHJpb3IgdG8gZHJhd0hpbGxzaGFkZSBiZWluZyBjYWxsZWRcbiAgICAgICAgLy8gdGlsZXMgd2lsbCBhcHBlYXIgYmxhbmssIGJlY2F1c2UgYXMgeW91IGNhbiBzZWUgYWJvdmUgdGhlIGFscGhhIHZhbHVlIGZvciB0aGVzZSB0ZXh0dXJlc1xuICAgICAgICAvLyBpcyBhbHdheXMgMFxuICAgICAgICBjb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldChmYWxzZSk7XG4gICAgICAgIHRpbGUuZGVtVGV4dHVyZSA9IHRpbGUuZGVtVGV4dHVyZSB8fCBwYWludGVyLmdldFRpbGVUZXh0dXJlKHRpbGUudGlsZVNpemUpO1xuICAgICAgICBpZiAodGlsZS5kZW1UZXh0dXJlKSB7XG4gICAgICAgICAgICBjb25zdCBkZW1UZXh0dXJlID0gdGlsZS5kZW1UZXh0dXJlO1xuICAgICAgICAgICAgZGVtVGV4dHVyZS51cGRhdGUocGl4ZWxEYXRhLCBmYWxzZSk7XG4gICAgICAgICAgICBkZW1UZXh0dXJlLmJpbmQoZ2wuTkVBUkVTVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aWxlLmRlbVRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCBwaXhlbERhdGEsIGdsLlJHQkEsIGZhbHNlKTtcbiAgICAgICAgICAgIHRpbGUuZGVtVGV4dHVyZS5iaW5kKGdsLk5FQVJFU1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChnbC5URVhUVVJFMCk7XG5cbiAgICAgICAgbGV0IGZibyA9IHRpbGUuZmJvO1xuXG4gICAgICAgIGlmICghZmJvKSB7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJUZXh0dXJlID0gbmV3IFRleHR1cmUoY29udGV4dCwge3dpZHRoOiB0aWxlU2l6ZSwgaGVpZ2h0OiB0aWxlU2l6ZSwgZGF0YTogbnVsbH0sIGdsLlJHQkEpO1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5iaW5kKGdsLkxJTkVBUiwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cbiAgICAgICAgICAgIGZibyA9IHRpbGUuZmJvID0gY29udGV4dC5jcmVhdGVGcmFtZWJ1ZmZlcih0aWxlU2l6ZSwgdGlsZVNpemUpO1xuICAgICAgICAgICAgZmJvLmNvbG9yQXR0YWNobWVudC5zZXQocmVuZGVyVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldChmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgdGlsZVNpemUsIHRpbGVTaXplXSk7XG5cbiAgICAgICAgY29uc3QgbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgLy8gRmxpcCByZW5kZXJpbmcgYXQgeSBheGlzLlxuICAgICAgICBtYXQ0Lm9ydGhvKG1hdHJpeCwgMCwgRVhURU5ULCAtRVhURU5ULCAwLCAwLCAxKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobWF0cml4LCBtYXRyaXgsIFswLCAtRVhURU5ULCAwXSk7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnaGlsbHNoYWRlUHJlcGFyZScpO1xuXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIG1hdHJpeCk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfem9vbSwgdGlsZS50aWxlSUQub3ZlcnNjYWxlZFopO1xuICAgICAgICBnbC51bmlmb3JtMmZ2KHByb2dyYW0udW5pZm9ybXMudV9kaW1lbnNpb24sIFt0aWxlU2l6ZSAqIDIsIHRpbGVTaXplICogMl0pO1xuICAgICAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X2ltYWdlLCAxKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9tYXh6b29tLCBzb3VyY2VNYXhab29tKTtcblxuICAgICAgICBjb25zdCBidWZmZXIgPSBwYWludGVyLnJhc3RlckJvdW5kc0J1ZmZlcjtcbiAgICAgICAgY29uc3QgdmFvID0gcGFpbnRlci5yYXN0ZXJCb3VuZHNWQU87XG5cbiAgICAgICAgdmFvLmJpbmQoY29udGV4dCwgcHJvZ3JhbSwgYnVmZmVyLCBbXSk7XG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIGJ1ZmZlci5sZW5ndGgpO1xuXG4gICAgICAgIHRpbGUubmVlZHNIaWxsc2hhZGVQcmVwYXJlID0gZmFsc2U7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgSW1hZ2VTb3VyY2UgZnJvbSAnLi4vc291cmNlL2ltYWdlX3NvdXJjZSc7XG5pbXBvcnQgYnJvd3NlciBmcm9tICcuLi91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIFJhc3RlclN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvcmFzdGVyX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdSYXN0ZXI7XG5cbmZ1bmN0aW9uIGRyYXdSYXN0ZXIocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogUmFzdGVyU3R5bGVMYXllciwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGlmIChwYWludGVyLnJlbmRlclBhc3MgIT09ICd0cmFuc2x1Y2VudCcpIHJldHVybjtcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItb3BhY2l0eScpID09PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKTtcbiAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdyYXN0ZXInKTtcblxuICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoU3RlbmNpbE1vZGUuZGlzYWJsZWQpO1xuICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcblxuICAgIC8vIENvbnN0YW50IHBhcmFtZXRlcnMuXG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9icmlnaHRuZXNzX2xvdywgbGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItYnJpZ2h0bmVzcy1taW4nKSk7XG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9icmlnaHRuZXNzX2hpZ2gsIGxheWVyLnBhaW50LmdldCgncmFzdGVyLWJyaWdodG5lc3MtbWF4JykpO1xuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfc2F0dXJhdGlvbl9mYWN0b3IsIHNhdHVyYXRpb25GYWN0b3IobGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItc2F0dXJhdGlvbicpKSk7XG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9jb250cmFzdF9mYWN0b3IsIGNvbnRyYXN0RmFjdG9yKGxheWVyLnBhaW50LmdldCgncmFzdGVyLWNvbnRyYXN0JykpKTtcbiAgICBnbC51bmlmb3JtM2Z2KHByb2dyYW0udW5pZm9ybXMudV9zcGluX3dlaWdodHMsIHNwaW5XZWlnaHRzKGxheWVyLnBhaW50LmdldCgncmFzdGVyLWh1ZS1yb3RhdGUnKSkpO1xuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfYnVmZmVyX3NjYWxlLCAxKTtcbiAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X2ltYWdlMCwgMCk7XG4gICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9pbWFnZTEsIDEpO1xuXG4gICAgY29uc3QgbWluVGlsZVogPSBjb29yZHMubGVuZ3RoICYmIGNvb3Jkc1swXS5vdmVyc2NhbGVkWjtcblxuICAgIGZvciAoY29uc3QgY29vcmQgb2YgY29vcmRzKSB7XG4gICAgICAgIC8vIFNldCB0aGUgbG93ZXIgem9vbSBsZXZlbCB0byBzdWJsYXllciAwLCBhbmQgaGlnaGVyIHpvb20gbGV2ZWxzIHRvIGhpZ2hlciBzdWJsYXllcnNcbiAgICAgICAgLy8gVXNlIGdsLkxFU1MgdG8gcHJldmVudCBkb3VibGUgZHJhd2luZyBpbiBhcmVhcyB3aGVyZSB0aWxlcyBvdmVybGFwLlxuICAgICAgICBjb250ZXh0LnNldERlcHRoTW9kZShwYWludGVyLmRlcHRoTW9kZUZvclN1YmxheWVyKGNvb3JkLm92ZXJzY2FsZWRaIC0gbWluVGlsZVosXG4gICAgICAgICAgICBsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1vcGFjaXR5JykgPT09IDEgPyBEZXB0aE1vZGUuUmVhZFdyaXRlIDogRGVwdGhNb2RlLlJlYWRPbmx5LCBnbC5MRVNTKSk7XG5cbiAgICAgICAgY29uc3QgdGlsZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpO1xuICAgICAgICBjb25zdCBwb3NNYXRyaXggPSBwYWludGVyLnRyYW5zZm9ybS5jYWxjdWxhdGVQb3NNYXRyaXgoY29vcmQudG9VbndyYXBwZWQoKSwgdHJ1ZSk7XG5cbiAgICAgICAgdGlsZS5yZWdpc3RlckZhZGVEdXJhdGlvbihsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1mYWRlLWR1cmF0aW9uJykpO1xuXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIHBvc01hdHJpeCk7XG5cbiAgICAgICAgY29uc3QgcGFyZW50VGlsZSA9IHNvdXJjZUNhY2hlLmZpbmRMb2FkZWRQYXJlbnQoY29vcmQsIDAsIHt9KSxcbiAgICAgICAgICAgIGZhZGUgPSBnZXRGYWRlVmFsdWVzKHRpbGUsIHBhcmVudFRpbGUsIHNvdXJjZUNhY2hlLCBsYXllciwgcGFpbnRlci50cmFuc2Zvcm0pO1xuXG4gICAgICAgIGxldCBwYXJlbnRTY2FsZUJ5LCBwYXJlbnRUTDtcblxuICAgICAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICAgICAgdGlsZS50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFLCBnbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO1xuXG4gICAgICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTEpO1xuXG4gICAgICAgIGlmIChwYXJlbnRUaWxlKSB7XG4gICAgICAgICAgICBwYXJlbnRUaWxlLnRleHR1cmUuYmluZChnbC5MSU5FQVIsIGdsLkNMQU1QX1RPX0VER0UsIGdsLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCk7XG4gICAgICAgICAgICBwYXJlbnRTY2FsZUJ5ID0gTWF0aC5wb3coMiwgcGFyZW50VGlsZS50aWxlSUQub3ZlcnNjYWxlZFogLSB0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWik7XG4gICAgICAgICAgICBwYXJlbnRUTCA9IFt0aWxlLnRpbGVJRC5jYW5vbmljYWwueCAqIHBhcmVudFNjYWxlQnkgJSAxLCB0aWxlLnRpbGVJRC5jYW5vbmljYWwueSAqIHBhcmVudFNjYWxlQnkgJSAxXTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGlsZS50ZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFLCBnbC5MSU5FQVJfTUlQTUFQX05FQVJFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3Jvc3MtZmFkZSBwYXJhbWV0ZXJzXG4gICAgICAgIGdsLnVuaWZvcm0yZnYocHJvZ3JhbS51bmlmb3Jtcy51X3RsX3BhcmVudCwgcGFyZW50VEwgfHwgWzAsIDBdKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9zY2FsZV9wYXJlbnQsIHBhcmVudFNjYWxlQnkgfHwgMSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfZmFkZV90LCBmYWRlLm1peCk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfb3BhY2l0eSwgZmFkZS5vcGFjaXR5ICogbGF5ZXIucGFpbnQuZ2V0KCdyYXN0ZXItb3BhY2l0eScpKTtcblxuXG4gICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBJbWFnZVNvdXJjZSkge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gc291cmNlLmJvdW5kc0J1ZmZlcjtcbiAgICAgICAgICAgIGNvbnN0IHZhbyA9IHNvdXJjZS5ib3VuZHNWQU87XG4gICAgICAgICAgICB2YW8uYmluZChjb250ZXh0LCBwcm9ncmFtLCBidWZmZXIsIFtdKTtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIGJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRpbGUubWFza2VkQm91bmRzQnVmZmVyICYmIHRpbGUubWFza2VkSW5kZXhCdWZmZXIgJiYgdGlsZS5zZWdtZW50cykge1xuICAgICAgICAgICAgcHJvZ3JhbS5kcmF3KFxuICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgZ2wuVFJJQU5HTEVTLFxuICAgICAgICAgICAgICAgIGxheWVyLmlkLFxuICAgICAgICAgICAgICAgIHRpbGUubWFza2VkQm91bmRzQnVmZmVyLFxuICAgICAgICAgICAgICAgIHRpbGUubWFza2VkSW5kZXhCdWZmZXIsXG4gICAgICAgICAgICAgICAgdGlsZS5zZWdtZW50c1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHBhaW50ZXIucmFzdGVyQm91bmRzQnVmZmVyO1xuICAgICAgICAgICAgY29uc3QgdmFvID0gcGFpbnRlci5yYXN0ZXJCb3VuZHNWQU87XG4gICAgICAgICAgICB2YW8uYmluZChjb250ZXh0LCBwcm9ncmFtLCBidWZmZXIsIFtdKTtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIGJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzcGluV2VpZ2h0cyhhbmdsZSkge1xuICAgIGFuZ2xlICo9IE1hdGguUEkgLyAxODA7XG4gICAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIHJldHVybiBbXG4gICAgICAgICgyICogYyArIDEpIC8gMyxcbiAgICAgICAgKC1NYXRoLnNxcnQoMykgKiBzIC0gYyArIDEpIC8gMyxcbiAgICAgICAgKE1hdGguc3FydCgzKSAqIHMgLSBjICsgMSkgLyAzXG4gICAgXTtcbn1cblxuZnVuY3Rpb24gY29udHJhc3RGYWN0b3IoY29udHJhc3QpIHtcbiAgICByZXR1cm4gY29udHJhc3QgPiAwID9cbiAgICAgICAgMSAvICgxIC0gY29udHJhc3QpIDpcbiAgICAgICAgMSArIGNvbnRyYXN0O1xufVxuXG5mdW5jdGlvbiBzYXR1cmF0aW9uRmFjdG9yKHNhdHVyYXRpb24pIHtcbiAgICByZXR1cm4gc2F0dXJhdGlvbiA+IDAgP1xuICAgICAgICAxIC0gMSAvICgxLjAwMSAtIHNhdHVyYXRpb24pIDpcbiAgICAgICAgLXNhdHVyYXRpb247XG59XG5cbmZ1bmN0aW9uIGdldEZhZGVWYWx1ZXModGlsZSwgcGFyZW50VGlsZSwgc291cmNlQ2FjaGUsIGxheWVyLCB0cmFuc2Zvcm0pIHtcbiAgICBjb25zdCBmYWRlRHVyYXRpb24gPSBsYXllci5wYWludC5nZXQoJ3Jhc3Rlci1mYWRlLWR1cmF0aW9uJyk7XG5cbiAgICBpZiAoZmFkZUR1cmF0aW9uID4gMCkge1xuICAgICAgICBjb25zdCBub3cgPSBicm93c2VyLm5vdygpO1xuICAgICAgICBjb25zdCBzaW5jZVRpbGUgPSAobm93IC0gdGlsZS50aW1lQWRkZWQpIC8gZmFkZUR1cmF0aW9uO1xuICAgICAgICBjb25zdCBzaW5jZVBhcmVudCA9IHBhcmVudFRpbGUgPyAobm93IC0gcGFyZW50VGlsZS50aW1lQWRkZWQpIC8gZmFkZUR1cmF0aW9uIDogLTE7XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlQ2FjaGUuZ2V0U291cmNlKCk7XG4gICAgICAgIGNvbnN0IGlkZWFsWiA9IHRyYW5zZm9ybS5jb3ZlcmluZ1pvb21MZXZlbCh7XG4gICAgICAgICAgICB0aWxlU2l6ZTogc291cmNlLnRpbGVTaXplLFxuICAgICAgICAgICAgcm91bmRab29tOiBzb3VyY2Uucm91bmRab29tXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGlmIG5vIHBhcmVudCBvciBwYXJlbnQgaXMgb2xkZXIsIGZhZGUgaW47IGlmIHBhcmVudCBpcyB5b3VuZ2VyLCBmYWRlIG91dFxuICAgICAgICBjb25zdCBmYWRlSW4gPSAhcGFyZW50VGlsZSB8fCBNYXRoLmFicyhwYXJlbnRUaWxlLnRpbGVJRC5vdmVyc2NhbGVkWiAtIGlkZWFsWikgPiBNYXRoLmFicyh0aWxlLnRpbGVJRC5vdmVyc2NhbGVkWiAtIGlkZWFsWik7XG5cbiAgICAgICAgY29uc3QgY2hpbGRPcGFjaXR5ID0gKGZhZGVJbiAmJiB0aWxlLnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uKSA/IDEgOiBjbGFtcChmYWRlSW4gPyBzaW5jZVRpbGUgOiAxIC0gc2luY2VQYXJlbnQsIDAsIDEpO1xuXG4gICAgICAgIC8vIHdlIGRvbid0IGNyb3NzZmFkZSB0aWxlcyB0aGF0IHdlcmUganVzdCByZWZyZXNoZWQgdXBvbiBleHBpcmluZzpcbiAgICAgICAgLy8gb25jZSB0aGV5J3JlIG9sZCBlbm91Z2ggdG8gcGFzcyB0aGUgY3Jvc3NmYWRpbmcgdGhyZXNob2xkXG4gICAgICAgIC8vIChmYWRlRHVyYXRpb24pLCB1bnNldCB0aGUgYHJlZnJlc2hlZFVwb25FeHBpcmF0aW9uYCBmbGFnIHNvIHdlIGRvbid0XG4gICAgICAgIC8vIGluY29ycmVjdGx5IGZhaWwgdG8gY3Jvc3NmYWRlIHRoZW0gd2hlbiB6b29taW5nXG4gICAgICAgIGlmICh0aWxlLnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uICYmIHNpbmNlVGlsZSA+PSAxKSB0aWxlLnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHBhcmVudFRpbGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICBtaXg6IDEgLSBjaGlsZE9wYWNpdHlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IGNoaWxkT3BhY2l0eSxcbiAgICAgICAgICAgICAgICBtaXg6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgIG1peDogMFxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5cbmltcG9ydCB7IG1hdDQgfSBmcm9tICdAbWFwYm94L2dsLW1hdHJpeCc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50JztcbmltcG9ydCBWZXJ0ZXhBcnJheU9iamVjdCBmcm9tICcuL3ZlcnRleF9hcnJheV9vYmplY3QnO1xuaW1wb3J0IHsgUG9zQXJyYXkgfSBmcm9tICcuLi9kYXRhL2FycmF5X3R5cGVzJztcbmltcG9ydCBwb3NBdHRyaWJ1dGVzIGZyb20gJy4uL2RhdGEvcG9zX2F0dHJpYnV0ZXMnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdEZWJ1ZztcblxuZnVuY3Rpb24gZHJhd0RlYnVnKHBhaW50ZXI6IFBhaW50ZXIsIHNvdXJjZUNhY2hlOiBTb3VyY2VDYWNoZSwgY29vcmRzOiBBcnJheTxPdmVyc2NhbGVkVGlsZUlEPikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGRyYXdEZWJ1Z1RpbGUocGFpbnRlciwgc291cmNlQ2FjaGUsIGNvb3Jkc1tpXSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3RGVidWdUaWxlKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBjb29yZCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgY29udGV4dC5saW5lV2lkdGguc2V0KDEgKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW8pO1xuXG4gICAgY29uc3QgcG9zTWF0cml4ID0gY29vcmQucG9zTWF0cml4O1xuICAgIGNvbnN0IHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2RlYnVnJyk7XG5cbiAgICBjb250ZXh0LnNldERlcHRoTW9kZShEZXB0aE1vZGUuZGlzYWJsZWQpO1xuICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUoU3RlbmNpbE1vZGUuZGlzYWJsZWQpO1xuICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKHBhaW50ZXIuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKTtcblxuICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIHBvc01hdHJpeCk7XG4gICAgZ2wudW5pZm9ybTRmKHByb2dyYW0udW5pZm9ybXMudV9jb2xvciwgMSwgMCwgMCwgMSk7XG4gICAgcGFpbnRlci5kZWJ1Z1ZBTy5iaW5kKGNvbnRleHQsIHByb2dyYW0sIHBhaW50ZXIuZGVidWdCdWZmZXIsIFtdKTtcbiAgICBnbC5kcmF3QXJyYXlzKGdsLkxJTkVfU1RSSVAsIDAsIHBhaW50ZXIuZGVidWdCdWZmZXIubGVuZ3RoKTtcblxuICAgIGNvbnN0IHZlcnRpY2VzID0gY3JlYXRlVGV4dFZlcnRpY2llcyhjb29yZC50b1N0cmluZygpLCA1MCwgMjAwLCA1KTtcbiAgICBjb25zdCBkZWJ1Z1RleHRBcnJheSA9IG5ldyBQb3NBcnJheSgpO1xuICAgIGZvciAobGV0IHYgPSAwOyB2IDwgdmVydGljZXMubGVuZ3RoOyB2ICs9IDIpIHtcbiAgICAgICAgZGVidWdUZXh0QXJyYXkuZW1wbGFjZUJhY2sodmVydGljZXNbdl0sIHZlcnRpY2VzW3YgKyAxXSk7XG4gICAgfVxuICAgIGNvbnN0IGRlYnVnVGV4dEJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlVmVydGV4QnVmZmVyKGRlYnVnVGV4dEFycmF5LCBwb3NBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgIGNvbnN0IGRlYnVnVGV4dFZBTyA9IG5ldyBWZXJ0ZXhBcnJheU9iamVjdCgpO1xuICAgIGRlYnVnVGV4dFZBTy5iaW5kKGNvbnRleHQsIHByb2dyYW0sIGRlYnVnVGV4dEJ1ZmZlciwgW10pO1xuICAgIGdsLnVuaWZvcm00Zihwcm9ncmFtLnVuaWZvcm1zLnVfY29sb3IsIDEsIDEsIDEsIDEpO1xuXG4gICAgLy8gRHJhdyB0aGUgaGFsbyB3aXRoIG11bHRpcGxlIDFweCBsaW5lcyBpbnN0ZWFkIG9mIG9uZSB3aWRlciBsaW5lIGJlY2F1c2VcbiAgICAvLyB0aGUgZ2wgc3BlYyBkb2Vzbid0IGd1YXJhbnRlZSBzdXBwb3J0IGZvciBsaW5lcyB3aXRoIHdpZHRoID4gMS5cbiAgICBjb25zdCB0aWxlU2l6ZSA9IHNvdXJjZUNhY2hlLmdldFRpbGUoY29vcmQpLnRpbGVTaXplO1xuICAgIGNvbnN0IG9uZVBpeGVsID0gRVhURU5UIC8gKE1hdGgucG93KDIsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20gLSBjb29yZC5vdmVyc2NhbGVkWikgKiB0aWxlU2l6ZSk7XG4gICAgY29uc3QgdHJhbnNsYXRpb25zID0gW1stMSwgLTFdLCBbLTEsIDFdLCBbMSwgLTFdLCBbMSwgMV1dO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhbnNsYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zbGF0aW9uID0gdHJhbnNsYXRpb25zW2ldO1xuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHByb2dyYW0udW5pZm9ybXMudV9tYXRyaXgsIGZhbHNlLCBtYXQ0LnRyYW5zbGF0ZShbXSwgcG9zTWF0cml4LCBbb25lUGl4ZWwgKiB0cmFuc2xhdGlvblswXSwgb25lUGl4ZWwgKiB0cmFuc2xhdGlvblsxXSwgMF0pKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUywgMCwgZGVidWdUZXh0QnVmZmVyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgZ2wudW5pZm9ybTRmKHByb2dyYW0udW5pZm9ybXMudV9jb2xvciwgMCwgMCwgMCwgMSk7XG4gICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgcG9zTWF0cml4KTtcbiAgICBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTLCAwLCBkZWJ1Z1RleHRCdWZmZXIubGVuZ3RoKTtcbn1cblxuLy8gRm9udCBkYXRhIEZyb20gSGVyc2hleSBTaW1wbGV4IEZvbnRcbi8vIGh0dHA6Ly9wYXVsYm91cmtlLm5ldC9kYXRhZm9ybWF0cy9oZXJzaGV5L1xuY29uc3Qgc2ltcGxleEZvbnQgPSB7XG4gICAgXCIgXCI6IFsxNiwgW11dLFxuICAgIFwiIVwiOiBbMTAsIFs1LCAyMSwgNSwgNywgLTEsIC0xLCA1LCAyLCA0LCAxLCA1LCAwLCA2LCAxLCA1LCAyXV0sXG4gICAgXCJcXFwiXCI6IFsxNiwgWzQsIDIxLCA0LCAxNCwgLTEsIC0xLCAxMiwgMjEsIDEyLCAxNF1dLFxuICAgIFwiI1wiOiBbMjEsIFsxMSwgMjUsIDQsIC03LCAtMSwgLTEsIDE3LCAyNSwgMTAsIC03LCAtMSwgLTEsIDQsIDEyLCAxOCwgMTIsIC0xLCAtMSwgMywgNiwgMTcsIDZdXSxcbiAgICBcIiRcIjogWzIwLCBbOCwgMjUsIDgsIC00LCAtMSwgLTEsIDEyLCAyNSwgMTIsIC00LCAtMSwgLTEsIDE3LCAxOCwgMTUsIDIwLCAxMiwgMjEsIDgsIDIxLCA1LCAyMCwgMywgMTgsIDMsIDE2LCA0LCAxNCwgNSwgMTMsIDcsIDEyLCAxMywgMTAsIDE1LCA5LCAxNiwgOCwgMTcsIDYsIDE3LCAzLCAxNSwgMSwgMTIsIDAsIDgsIDAsIDUsIDEsIDMsIDNdXSxcbiAgICBcIiVcIjogWzI0LCBbMjEsIDIxLCAzLCAwLCAtMSwgLTEsIDgsIDIxLCAxMCwgMTksIDEwLCAxNywgOSwgMTUsIDcsIDE0LCA1LCAxNCwgMywgMTYsIDMsIDE4LCA0LCAyMCwgNiwgMjEsIDgsIDIxLCAxMCwgMjAsIDEzLCAxOSwgMTYsIDE5LCAxOSwgMjAsIDIxLCAyMSwgLTEsIC0xLCAxNywgNywgMTUsIDYsIDE0LCA0LCAxNCwgMiwgMTYsIDAsIDE4LCAwLCAyMCwgMSwgMjEsIDMsIDIxLCA1LCAxOSwgNywgMTcsIDddXSxcbiAgICBcIiZcIjogWzI2LCBbMjMsIDEyLCAyMywgMTMsIDIyLCAxNCwgMjEsIDE0LCAyMCwgMTMsIDE5LCAxMSwgMTcsIDYsIDE1LCAzLCAxMywgMSwgMTEsIDAsIDcsIDAsIDUsIDEsIDQsIDIsIDMsIDQsIDMsIDYsIDQsIDgsIDUsIDksIDEyLCAxMywgMTMsIDE0LCAxNCwgMTYsIDE0LCAxOCwgMTMsIDIwLCAxMSwgMjEsIDksIDIwLCA4LCAxOCwgOCwgMTYsIDksIDEzLCAxMSwgMTAsIDE2LCAzLCAxOCwgMSwgMjAsIDAsIDIyLCAwLCAyMywgMSwgMjMsIDJdXSxcbiAgICBcIidcIjogWzEwLCBbNSwgMTksIDQsIDIwLCA1LCAyMSwgNiwgMjAsIDYsIDE4LCA1LCAxNiwgNCwgMTVdXSxcbiAgICBcIihcIjogWzE0LCBbMTEsIDI1LCA5LCAyMywgNywgMjAsIDUsIDE2LCA0LCAxMSwgNCwgNywgNSwgMiwgNywgLTIsIDksIC01LCAxMSwgLTddXSxcbiAgICBcIilcIjogWzE0LCBbMywgMjUsIDUsIDIzLCA3LCAyMCwgOSwgMTYsIDEwLCAxMSwgMTAsIDcsIDksIDIsIDcsIC0yLCA1LCAtNSwgMywgLTddXSxcbiAgICBcIipcIjogWzE2LCBbOCwgMjEsIDgsIDksIC0xLCAtMSwgMywgMTgsIDEzLCAxMiwgLTEsIC0xLCAxMywgMTgsIDMsIDEyXV0sXG4gICAgXCIrXCI6IFsyNiwgWzEzLCAxOCwgMTMsIDAsIC0xLCAtMSwgNCwgOSwgMjIsIDldXSxcbiAgICBcIixcIjogWzEwLCBbNiwgMSwgNSwgMCwgNCwgMSwgNSwgMiwgNiwgMSwgNiwgLTEsIDUsIC0zLCA0LCAtNF1dLFxuICAgIFwiLVwiOiBbMjYsIFs0LCA5LCAyMiwgOV1dLFxuICAgIFwiLlwiOiBbMTAsIFs1LCAyLCA0LCAxLCA1LCAwLCA2LCAxLCA1LCAyXV0sXG4gICAgXCIvXCI6IFsyMiwgWzIwLCAyNSwgMiwgLTddXSxcbiAgICBcIjBcIjogWzIwLCBbOSwgMjEsIDYsIDIwLCA0LCAxNywgMywgMTIsIDMsIDksIDQsIDQsIDYsIDEsIDksIDAsIDExLCAwLCAxNCwgMSwgMTYsIDQsIDE3LCA5LCAxNywgMTIsIDE2LCAxNywgMTQsIDIwLCAxMSwgMjEsIDksIDIxXV0sXG4gICAgXCIxXCI6IFsyMCwgWzYsIDE3LCA4LCAxOCwgMTEsIDIxLCAxMSwgMF1dLFxuICAgIFwiMlwiOiBbMjAsIFs0LCAxNiwgNCwgMTcsIDUsIDE5LCA2LCAyMCwgOCwgMjEsIDEyLCAyMSwgMTQsIDIwLCAxNSwgMTksIDE2LCAxNywgMTYsIDE1LCAxNSwgMTMsIDEzLCAxMCwgMywgMCwgMTcsIDBdXSxcbiAgICBcIjNcIjogWzIwLCBbNSwgMjEsIDE2LCAyMSwgMTAsIDEzLCAxMywgMTMsIDE1LCAxMiwgMTYsIDExLCAxNywgOCwgMTcsIDYsIDE2LCAzLCAxNCwgMSwgMTEsIDAsIDgsIDAsIDUsIDEsIDQsIDIsIDMsIDRdXSxcbiAgICBcIjRcIjogWzIwLCBbMTMsIDIxLCAzLCA3LCAxOCwgNywgLTEsIC0xLCAxMywgMjEsIDEzLCAwXV0sXG4gICAgXCI1XCI6IFsyMCwgWzE1LCAyMSwgNSwgMjEsIDQsIDEyLCA1LCAxMywgOCwgMTQsIDExLCAxNCwgMTQsIDEzLCAxNiwgMTEsIDE3LCA4LCAxNywgNiwgMTYsIDMsIDE0LCAxLCAxMSwgMCwgOCwgMCwgNSwgMSwgNCwgMiwgMywgNF1dLFxuICAgIFwiNlwiOiBbMjAsIFsxNiwgMTgsIDE1LCAyMCwgMTIsIDIxLCAxMCwgMjEsIDcsIDIwLCA1LCAxNywgNCwgMTIsIDQsIDcsIDUsIDMsIDcsIDEsIDEwLCAwLCAxMSwgMCwgMTQsIDEsIDE2LCAzLCAxNywgNiwgMTcsIDcsIDE2LCAxMCwgMTQsIDEyLCAxMSwgMTMsIDEwLCAxMywgNywgMTIsIDUsIDEwLCA0LCA3XV0sXG4gICAgXCI3XCI6IFsyMCwgWzE3LCAyMSwgNywgMCwgLTEsIC0xLCAzLCAyMSwgMTcsIDIxXV0sXG4gICAgXCI4XCI6IFsyMCwgWzgsIDIxLCA1LCAyMCwgNCwgMTgsIDQsIDE2LCA1LCAxNCwgNywgMTMsIDExLCAxMiwgMTQsIDExLCAxNiwgOSwgMTcsIDcsIDE3LCA0LCAxNiwgMiwgMTUsIDEsIDEyLCAwLCA4LCAwLCA1LCAxLCA0LCAyLCAzLCA0LCAzLCA3LCA0LCA5LCA2LCAxMSwgOSwgMTIsIDEzLCAxMywgMTUsIDE0LCAxNiwgMTYsIDE2LCAxOCwgMTUsIDIwLCAxMiwgMjEsIDgsIDIxXV0sXG4gICAgXCI5XCI6IFsyMCwgWzE2LCAxNCwgMTUsIDExLCAxMywgOSwgMTAsIDgsIDksIDgsIDYsIDksIDQsIDExLCAzLCAxNCwgMywgMTUsIDQsIDE4LCA2LCAyMCwgOSwgMjEsIDEwLCAyMSwgMTMsIDIwLCAxNSwgMTgsIDE2LCAxNCwgMTYsIDksIDE1LCA0LCAxMywgMSwgMTAsIDAsIDgsIDAsIDUsIDEsIDQsIDNdXSxcbiAgICBcIjpcIjogWzEwLCBbNSwgMTQsIDQsIDEzLCA1LCAxMiwgNiwgMTMsIDUsIDE0LCAtMSwgLTEsIDUsIDIsIDQsIDEsIDUsIDAsIDYsIDEsIDUsIDJdXSxcbiAgICBcIjtcIjogWzEwLCBbNSwgMTQsIDQsIDEzLCA1LCAxMiwgNiwgMTMsIDUsIDE0LCAtMSwgLTEsIDYsIDEsIDUsIDAsIDQsIDEsIDUsIDIsIDYsIDEsIDYsIC0xLCA1LCAtMywgNCwgLTRdXSxcbiAgICBcIjxcIjogWzI0LCBbMjAsIDE4LCA0LCA5LCAyMCwgMF1dLFxuICAgIFwiPVwiOiBbMjYsIFs0LCAxMiwgMjIsIDEyLCAtMSwgLTEsIDQsIDYsIDIyLCA2XV0sXG4gICAgXCI+XCI6IFsyNCwgWzQsIDE4LCAyMCwgOSwgNCwgMF1dLFxuICAgIFwiP1wiOiBbMTgsIFszLCAxNiwgMywgMTcsIDQsIDE5LCA1LCAyMCwgNywgMjEsIDExLCAyMSwgMTMsIDIwLCAxNCwgMTksIDE1LCAxNywgMTUsIDE1LCAxNCwgMTMsIDEzLCAxMiwgOSwgMTAsIDksIDcsIC0xLCAtMSwgOSwgMiwgOCwgMSwgOSwgMCwgMTAsIDEsIDksIDJdXSxcbiAgICBcIkBcIjogWzI3LCBbMTgsIDEzLCAxNywgMTUsIDE1LCAxNiwgMTIsIDE2LCAxMCwgMTUsIDksIDE0LCA4LCAxMSwgOCwgOCwgOSwgNiwgMTEsIDUsIDE0LCA1LCAxNiwgNiwgMTcsIDgsIC0xLCAtMSwgMTIsIDE2LCAxMCwgMTQsIDksIDExLCA5LCA4LCAxMCwgNiwgMTEsIDUsIC0xLCAtMSwgMTgsIDE2LCAxNywgOCwgMTcsIDYsIDE5LCA1LCAyMSwgNSwgMjMsIDcsIDI0LCAxMCwgMjQsIDEyLCAyMywgMTUsIDIyLCAxNywgMjAsIDE5LCAxOCwgMjAsIDE1LCAyMSwgMTIsIDIxLCA5LCAyMCwgNywgMTksIDUsIDE3LCA0LCAxNSwgMywgMTIsIDMsIDksIDQsIDYsIDUsIDQsIDcsIDIsIDksIDEsIDEyLCAwLCAxNSwgMCwgMTgsIDEsIDIwLCAyLCAyMSwgMywgLTEsIC0xLCAxOSwgMTYsIDE4LCA4LCAxOCwgNiwgMTksIDVdXSxcbiAgICBcIkFcIjogWzE4LCBbOSwgMjEsIDEsIDAsIC0xLCAtMSwgOSwgMjEsIDE3LCAwLCAtMSwgLTEsIDQsIDcsIDE0LCA3XV0sXG4gICAgXCJCXCI6IFsyMSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDIxLCAxMywgMjEsIDE2LCAyMCwgMTcsIDE5LCAxOCwgMTcsIDE4LCAxNSwgMTcsIDEzLCAxNiwgMTIsIDEzLCAxMSwgLTEsIC0xLCA0LCAxMSwgMTMsIDExLCAxNiwgMTAsIDE3LCA5LCAxOCwgNywgMTgsIDQsIDE3LCAyLCAxNiwgMSwgMTMsIDAsIDQsIDBdXSxcbiAgICBcIkNcIjogWzIxLCBbMTgsIDE2LCAxNywgMTgsIDE1LCAyMCwgMTMsIDIxLCA5LCAyMSwgNywgMjAsIDUsIDE4LCA0LCAxNiwgMywgMTMsIDMsIDgsIDQsIDUsIDUsIDMsIDcsIDEsIDksIDAsIDEzLCAwLCAxNSwgMSwgMTcsIDMsIDE4LCA1XV0sXG4gICAgXCJEXCI6IFsyMSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDIxLCAxMSwgMjEsIDE0LCAyMCwgMTYsIDE4LCAxNywgMTYsIDE4LCAxMywgMTgsIDgsIDE3LCA1LCAxNiwgMywgMTQsIDEsIDExLCAwLCA0LCAwXV0sXG4gICAgXCJFXCI6IFsxOSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDIxLCAxNywgMjEsIC0xLCAtMSwgNCwgMTEsIDEyLCAxMSwgLTEsIC0xLCA0LCAwLCAxNywgMF1dLFxuICAgIFwiRlwiOiBbMTgsIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCA0LCAyMSwgMTcsIDIxLCAtMSwgLTEsIDQsIDExLCAxMiwgMTFdXSxcbiAgICBcIkdcIjogWzIxLCBbMTgsIDE2LCAxNywgMTgsIDE1LCAyMCwgMTMsIDIxLCA5LCAyMSwgNywgMjAsIDUsIDE4LCA0LCAxNiwgMywgMTMsIDMsIDgsIDQsIDUsIDUsIDMsIDcsIDEsIDksIDAsIDEzLCAwLCAxNSwgMSwgMTcsIDMsIDE4LCA1LCAxOCwgOCwgLTEsIC0xLCAxMywgOCwgMTgsIDhdXSxcbiAgICBcIkhcIjogWzIyLCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgMTgsIDIxLCAxOCwgMCwgLTEsIC0xLCA0LCAxMSwgMTgsIDExXV0sXG4gICAgXCJJXCI6IFs4LCBbNCwgMjEsIDQsIDBdXSxcbiAgICBcIkpcIjogWzE2LCBbMTIsIDIxLCAxMiwgNSwgMTEsIDIsIDEwLCAxLCA4LCAwLCA2LCAwLCA0LCAxLCAzLCAyLCAyLCA1LCAyLCA3XV0sXG4gICAgXCJLXCI6IFsyMSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDE4LCAyMSwgNCwgNywgLTEsIC0xLCA5LCAxMiwgMTgsIDBdXSxcbiAgICBcIkxcIjogWzE3LCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgNCwgMCwgMTYsIDBdXSxcbiAgICBcIk1cIjogWzI0LCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgNCwgMjEsIDEyLCAwLCAtMSwgLTEsIDIwLCAyMSwgMTIsIDAsIC0xLCAtMSwgMjAsIDIxLCAyMCwgMF1dLFxuICAgIFwiTlwiOiBbMjIsIFs0LCAyMSwgNCwgMCwgLTEsIC0xLCA0LCAyMSwgMTgsIDAsIC0xLCAtMSwgMTgsIDIxLCAxOCwgMF1dLFxuICAgIFwiT1wiOiBbMjIsIFs5LCAyMSwgNywgMjAsIDUsIDE4LCA0LCAxNiwgMywgMTMsIDMsIDgsIDQsIDUsIDUsIDMsIDcsIDEsIDksIDAsIDEzLCAwLCAxNSwgMSwgMTcsIDMsIDE4LCA1LCAxOSwgOCwgMTksIDEzLCAxOCwgMTYsIDE3LCAxOCwgMTUsIDIwLCAxMywgMjEsIDksIDIxXV0sXG4gICAgXCJQXCI6IFsyMSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDIxLCAxMywgMjEsIDE2LCAyMCwgMTcsIDE5LCAxOCwgMTcsIDE4LCAxNCwgMTcsIDEyLCAxNiwgMTEsIDEzLCAxMCwgNCwgMTBdXSxcbiAgICBcIlFcIjogWzIyLCBbOSwgMjEsIDcsIDIwLCA1LCAxOCwgNCwgMTYsIDMsIDEzLCAzLCA4LCA0LCA1LCA1LCAzLCA3LCAxLCA5LCAwLCAxMywgMCwgMTUsIDEsIDE3LCAzLCAxOCwgNSwgMTksIDgsIDE5LCAxMywgMTgsIDE2LCAxNywgMTgsIDE1LCAyMCwgMTMsIDIxLCA5LCAyMSwgLTEsIC0xLCAxMiwgNCwgMTgsIC0yXV0sXG4gICAgXCJSXCI6IFsyMSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDIxLCAxMywgMjEsIDE2LCAyMCwgMTcsIDE5LCAxOCwgMTcsIDE4LCAxNSwgMTcsIDEzLCAxNiwgMTIsIDEzLCAxMSwgNCwgMTEsIC0xLCAtMSwgMTEsIDExLCAxOCwgMF1dLFxuICAgIFwiU1wiOiBbMjAsIFsxNywgMTgsIDE1LCAyMCwgMTIsIDIxLCA4LCAyMSwgNSwgMjAsIDMsIDE4LCAzLCAxNiwgNCwgMTQsIDUsIDEzLCA3LCAxMiwgMTMsIDEwLCAxNSwgOSwgMTYsIDgsIDE3LCA2LCAxNywgMywgMTUsIDEsIDEyLCAwLCA4LCAwLCA1LCAxLCAzLCAzXV0sXG4gICAgXCJUXCI6IFsxNiwgWzgsIDIxLCA4LCAwLCAtMSwgLTEsIDEsIDIxLCAxNSwgMjFdXSxcbiAgICBcIlVcIjogWzIyLCBbNCwgMjEsIDQsIDYsIDUsIDMsIDcsIDEsIDEwLCAwLCAxMiwgMCwgMTUsIDEsIDE3LCAzLCAxOCwgNiwgMTgsIDIxXV0sXG4gICAgXCJWXCI6IFsxOCwgWzEsIDIxLCA5LCAwLCAtMSwgLTEsIDE3LCAyMSwgOSwgMF1dLFxuICAgIFwiV1wiOiBbMjQsIFsyLCAyMSwgNywgMCwgLTEsIC0xLCAxMiwgMjEsIDcsIDAsIC0xLCAtMSwgMTIsIDIxLCAxNywgMCwgLTEsIC0xLCAyMiwgMjEsIDE3LCAwXV0sXG4gICAgXCJYXCI6IFsyMCwgWzMsIDIxLCAxNywgMCwgLTEsIC0xLCAxNywgMjEsIDMsIDBdXSxcbiAgICBcIllcIjogWzE4LCBbMSwgMjEsIDksIDExLCA5LCAwLCAtMSwgLTEsIDE3LCAyMSwgOSwgMTFdXSxcbiAgICBcIlpcIjogWzIwLCBbMTcsIDIxLCAzLCAwLCAtMSwgLTEsIDMsIDIxLCAxNywgMjEsIC0xLCAtMSwgMywgMCwgMTcsIDBdXSxcbiAgICBcIltcIjogWzE0LCBbNCwgMjUsIDQsIC03LCAtMSwgLTEsIDUsIDI1LCA1LCAtNywgLTEsIC0xLCA0LCAyNSwgMTEsIDI1LCAtMSwgLTEsIDQsIC03LCAxMSwgLTddXSxcbiAgICBcIlxcXFxcIjogWzE0LCBbMCwgMjEsIDE0LCAtM11dLFxuICAgIFwiXVwiOiBbMTQsIFs5LCAyNSwgOSwgLTcsIC0xLCAtMSwgMTAsIDI1LCAxMCwgLTcsIC0xLCAtMSwgMywgMjUsIDEwLCAyNSwgLTEsIC0xLCAzLCAtNywgMTAsIC03XV0sXG4gICAgXCJeXCI6IFsxNiwgWzYsIDE1LCA4LCAxOCwgMTAsIDE1LCAtMSwgLTEsIDMsIDEyLCA4LCAxNywgMTMsIDEyLCAtMSwgLTEsIDgsIDE3LCA4LCAwXV0sXG4gICAgXCJfXCI6IFsxNiwgWzAsIC0yLCAxNiwgLTJdXSxcbiAgICBcImBcIjogWzEwLCBbNiwgMjEsIDUsIDIwLCA0LCAxOCwgNCwgMTYsIDUsIDE1LCA2LCAxNiwgNSwgMTddXSxcbiAgICBcImFcIjogWzE5LCBbMTUsIDE0LCAxNSwgMCwgLTEsIC0xLCAxNSwgMTEsIDEzLCAxMywgMTEsIDE0LCA4LCAxNCwgNiwgMTMsIDQsIDExLCAzLCA4LCAzLCA2LCA0LCAzLCA2LCAxLCA4LCAwLCAxMSwgMCwgMTMsIDEsIDE1LCAzXV0sXG4gICAgXCJiXCI6IFsxOSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDExLCA2LCAxMywgOCwgMTQsIDExLCAxNCwgMTMsIDEzLCAxNSwgMTEsIDE2LCA4LCAxNiwgNiwgMTUsIDMsIDEzLCAxLCAxMSwgMCwgOCwgMCwgNiwgMSwgNCwgM11dLFxuICAgIFwiY1wiOiBbMTgsIFsxNSwgMTEsIDEzLCAxMywgMTEsIDE0LCA4LCAxNCwgNiwgMTMsIDQsIDExLCAzLCA4LCAzLCA2LCA0LCAzLCA2LCAxLCA4LCAwLCAxMSwgMCwgMTMsIDEsIDE1LCAzXV0sXG4gICAgXCJkXCI6IFsxOSwgWzE1LCAyMSwgMTUsIDAsIC0xLCAtMSwgMTUsIDExLCAxMywgMTMsIDExLCAxNCwgOCwgMTQsIDYsIDEzLCA0LCAxMSwgMywgOCwgMywgNiwgNCwgMywgNiwgMSwgOCwgMCwgMTEsIDAsIDEzLCAxLCAxNSwgM11dLFxuICAgIFwiZVwiOiBbMTgsIFszLCA4LCAxNSwgOCwgMTUsIDEwLCAxNCwgMTIsIDEzLCAxMywgMTEsIDE0LCA4LCAxNCwgNiwgMTMsIDQsIDExLCAzLCA4LCAzLCA2LCA0LCAzLCA2LCAxLCA4LCAwLCAxMSwgMCwgMTMsIDEsIDE1LCAzXV0sXG4gICAgXCJmXCI6IFsxMiwgWzEwLCAyMSwgOCwgMjEsIDYsIDIwLCA1LCAxNywgNSwgMCwgLTEsIC0xLCAyLCAxNCwgOSwgMTRdXSxcbiAgICBcImdcIjogWzE5LCBbMTUsIDE0LCAxNSwgLTIsIDE0LCAtNSwgMTMsIC02LCAxMSwgLTcsIDgsIC03LCA2LCAtNiwgLTEsIC0xLCAxNSwgMTEsIDEzLCAxMywgMTEsIDE0LCA4LCAxNCwgNiwgMTMsIDQsIDExLCAzLCA4LCAzLCA2LCA0LCAzLCA2LCAxLCA4LCAwLCAxMSwgMCwgMTMsIDEsIDE1LCAzXV0sXG4gICAgXCJoXCI6IFsxOSwgWzQsIDIxLCA0LCAwLCAtMSwgLTEsIDQsIDEwLCA3LCAxMywgOSwgMTQsIDEyLCAxNCwgMTQsIDEzLCAxNSwgMTAsIDE1LCAwXV0sXG4gICAgXCJpXCI6IFs4LCBbMywgMjEsIDQsIDIwLCA1LCAyMSwgNCwgMjIsIDMsIDIxLCAtMSwgLTEsIDQsIDE0LCA0LCAwXV0sXG4gICAgXCJqXCI6IFsxMCwgWzUsIDIxLCA2LCAyMCwgNywgMjEsIDYsIDIyLCA1LCAyMSwgLTEsIC0xLCA2LCAxNCwgNiwgLTMsIDUsIC02LCAzLCAtNywgMSwgLTddXSxcbiAgICBcImtcIjogWzE3LCBbNCwgMjEsIDQsIDAsIC0xLCAtMSwgMTQsIDE0LCA0LCA0LCAtMSwgLTEsIDgsIDgsIDE1LCAwXV0sXG4gICAgXCJsXCI6IFs4LCBbNCwgMjEsIDQsIDBdXSxcbiAgICBcIm1cIjogWzMwLCBbNCwgMTQsIDQsIDAsIC0xLCAtMSwgNCwgMTAsIDcsIDEzLCA5LCAxNCwgMTIsIDE0LCAxNCwgMTMsIDE1LCAxMCwgMTUsIDAsIC0xLCAtMSwgMTUsIDEwLCAxOCwgMTMsIDIwLCAxNCwgMjMsIDE0LCAyNSwgMTMsIDI2LCAxMCwgMjYsIDBdXSxcbiAgICBcIm5cIjogWzE5LCBbNCwgMTQsIDQsIDAsIC0xLCAtMSwgNCwgMTAsIDcsIDEzLCA5LCAxNCwgMTIsIDE0LCAxNCwgMTMsIDE1LCAxMCwgMTUsIDBdXSxcbiAgICBcIm9cIjogWzE5LCBbOCwgMTQsIDYsIDEzLCA0LCAxMSwgMywgOCwgMywgNiwgNCwgMywgNiwgMSwgOCwgMCwgMTEsIDAsIDEzLCAxLCAxNSwgMywgMTYsIDYsIDE2LCA4LCAxNSwgMTEsIDEzLCAxMywgMTEsIDE0LCA4LCAxNF1dLFxuICAgIFwicFwiOiBbMTksIFs0LCAxNCwgNCwgLTcsIC0xLCAtMSwgNCwgMTEsIDYsIDEzLCA4LCAxNCwgMTEsIDE0LCAxMywgMTMsIDE1LCAxMSwgMTYsIDgsIDE2LCA2LCAxNSwgMywgMTMsIDEsIDExLCAwLCA4LCAwLCA2LCAxLCA0LCAzXV0sXG4gICAgXCJxXCI6IFsxOSwgWzE1LCAxNCwgMTUsIC03LCAtMSwgLTEsIDE1LCAxMSwgMTMsIDEzLCAxMSwgMTQsIDgsIDE0LCA2LCAxMywgNCwgMTEsIDMsIDgsIDMsIDYsIDQsIDMsIDYsIDEsIDgsIDAsIDExLCAwLCAxMywgMSwgMTUsIDNdXSxcbiAgICBcInJcIjogWzEzLCBbNCwgMTQsIDQsIDAsIC0xLCAtMSwgNCwgOCwgNSwgMTEsIDcsIDEzLCA5LCAxNCwgMTIsIDE0XV0sXG4gICAgXCJzXCI6IFsxNywgWzE0LCAxMSwgMTMsIDEzLCAxMCwgMTQsIDcsIDE0LCA0LCAxMywgMywgMTEsIDQsIDksIDYsIDgsIDExLCA3LCAxMywgNiwgMTQsIDQsIDE0LCAzLCAxMywgMSwgMTAsIDAsIDcsIDAsIDQsIDEsIDMsIDNdXSxcbiAgICBcInRcIjogWzEyLCBbNSwgMjEsIDUsIDQsIDYsIDEsIDgsIDAsIDEwLCAwLCAtMSwgLTEsIDIsIDE0LCA5LCAxNF1dLFxuICAgIFwidVwiOiBbMTksIFs0LCAxNCwgNCwgNCwgNSwgMSwgNywgMCwgMTAsIDAsIDEyLCAxLCAxNSwgNCwgLTEsIC0xLCAxNSwgMTQsIDE1LCAwXV0sXG4gICAgXCJ2XCI6IFsxNiwgWzIsIDE0LCA4LCAwLCAtMSwgLTEsIDE0LCAxNCwgOCwgMF1dLFxuICAgIFwid1wiOiBbMjIsIFszLCAxNCwgNywgMCwgLTEsIC0xLCAxMSwgMTQsIDcsIDAsIC0xLCAtMSwgMTEsIDE0LCAxNSwgMCwgLTEsIC0xLCAxOSwgMTQsIDE1LCAwXV0sXG4gICAgXCJ4XCI6IFsxNywgWzMsIDE0LCAxNCwgMCwgLTEsIC0xLCAxNCwgMTQsIDMsIDBdXSxcbiAgICBcInlcIjogWzE2LCBbMiwgMTQsIDgsIDAsIC0xLCAtMSwgMTQsIDE0LCA4LCAwLCA2LCAtNCwgNCwgLTYsIDIsIC03LCAxLCAtN11dLFxuICAgIFwielwiOiBbMTcsIFsxNCwgMTQsIDMsIDAsIC0xLCAtMSwgMywgMTQsIDE0LCAxNCwgLTEsIC0xLCAzLCAwLCAxNCwgMF1dLFxuICAgIFwie1wiOiBbMTQsIFs5LCAyNSwgNywgMjQsIDYsIDIzLCA1LCAyMSwgNSwgMTksIDYsIDE3LCA3LCAxNiwgOCwgMTQsIDgsIDEyLCA2LCAxMCwgLTEsIC0xLCA3LCAyNCwgNiwgMjIsIDYsIDIwLCA3LCAxOCwgOCwgMTcsIDksIDE1LCA5LCAxMywgOCwgMTEsIDQsIDksIDgsIDcsIDksIDUsIDksIDMsIDgsIDEsIDcsIDAsIDYsIC0yLCA2LCAtNCwgNywgLTYsIC0xLCAtMSwgNiwgOCwgOCwgNiwgOCwgNCwgNywgMiwgNiwgMSwgNSwgLTEsIDUsIC0zLCA2LCAtNSwgNywgLTYsIDksIC03XV0sXG4gICAgXCJ8XCI6IFs4LCBbNCwgMjUsIDQsIC03XV0sXG4gICAgXCJ9XCI6IFsxNCwgWzUsIDI1LCA3LCAyNCwgOCwgMjMsIDksIDIxLCA5LCAxOSwgOCwgMTcsIDcsIDE2LCA2LCAxNCwgNiwgMTIsIDgsIDEwLCAtMSwgLTEsIDcsIDI0LCA4LCAyMiwgOCwgMjAsIDcsIDE4LCA2LCAxNywgNSwgMTUsIDUsIDEzLCA2LCAxMSwgMTAsIDksIDYsIDcsIDUsIDUsIDUsIDMsIDYsIDEsIDcsIDAsIDgsIC0yLCA4LCAtNCwgNywgLTYsIC0xLCAtMSwgOCwgOCwgNiwgNiwgNiwgNCwgNywgMiwgOCwgMSwgOSwgLTEsIDksIC0zLCA4LCAtNSwgNywgLTYsIDUsIC03XV0sXG4gICAgXCJ+XCI6IFsyNCwgWzMsIDYsIDMsIDgsIDQsIDExLCA2LCAxMiwgOCwgMTIsIDEwLCAxMSwgMTQsIDgsIDE2LCA3LCAxOCwgNywgMjAsIDgsIDIxLCAxMCwgLTEsIC0xLCAzLCA4LCA0LCAxMCwgNiwgMTEsIDgsIDExLCAxMCwgMTAsIDE0LCA3LCAxNiwgNiwgMTgsIDYsIDIwLCA3LCAyMSwgMTAsIDIxLCAxMl1dXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVUZXh0VmVydGljaWVzKHRleHQsIGxlZnQsIGJhc2VsaW5lLCBzY2FsZSkge1xuICAgIHNjYWxlID0gc2NhbGUgfHwgMTtcblxuICAgIGNvbnN0IHN0cm9rZXMgPSBbXTtcbiAgICBsZXQgaSwgbGVuLCBqLCBsZW4yLCBnbHlwaCwgeCwgeSwgcHJldjtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IHRleHQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgZ2x5cGggPSBzaW1wbGV4Rm9udFt0ZXh0W2ldXTtcbiAgICAgICAgaWYgKCFnbHlwaCkgY29udGludWU7XG4gICAgICAgIHByZXYgPSBudWxsO1xuXG4gICAgICAgIGZvciAoaiA9IDAsIGxlbjIgPSBnbHlwaFsxXS5sZW5ndGg7IGogPCBsZW4yOyBqICs9IDIpIHtcbiAgICAgICAgICAgIGlmIChnbHlwaFsxXVtqXSA9PT0gLTEgJiYgZ2x5cGhbMV1baiArIDFdID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHByZXYgPSBudWxsO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHggPSBsZWZ0ICsgZ2x5cGhbMV1bal0gKiBzY2FsZTtcbiAgICAgICAgICAgICAgICB5ID0gYmFzZWxpbmUgLSBnbHlwaFsxXVtqICsgMV0gKiBzY2FsZTtcbiAgICAgICAgICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgICAgICAgICBzdHJva2VzLnB1c2gocHJldi54LCBwcmV2LnksIHgsIHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2ID0ge3g6IHgsIHk6IHl9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxlZnQgKz0gZ2x5cGhbMF0gKiBzY2FsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3Ryb2tlcztcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4uL3V0aWwvYnJvd3Nlcic7XG5cbmltcG9ydCB7IG1hdDQgfSBmcm9tICdAbWFwYm94L2dsLW1hdHJpeCc7XG5pbXBvcnQgU291cmNlQ2FjaGUgZnJvbSAnLi4vc291cmNlL3NvdXJjZV9jYWNoZSc7XG5pbXBvcnQgRVhURU5UIGZyb20gJy4uL2RhdGEvZXh0ZW50JztcbmltcG9ydCBwaXhlbHNUb1RpbGVVbml0cyBmcm9tICcuLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMnO1xuaW1wb3J0IHsgZmlsdGVyT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCBWZXJ0ZXhBcnJheU9iamVjdCBmcm9tICcuL3ZlcnRleF9hcnJheV9vYmplY3QnO1xuaW1wb3J0IHsgUmFzdGVyQm91bmRzQXJyYXksIFBvc0FycmF5IH0gZnJvbSAnLi4vZGF0YS9hcnJheV90eXBlcyc7XG5pbXBvcnQgcmFzdGVyQm91bmRzQXR0cmlidXRlcyBmcm9tICcuLi9kYXRhL3Jhc3Rlcl9ib3VuZHNfYXR0cmlidXRlcyc7XG5pbXBvcnQgcG9zQXR0cmlidXRlcyBmcm9tICcuLi9kYXRhL3Bvc19hdHRyaWJ1dGVzJztcbmltcG9ydCBQcm9ncmFtQ29uZmlndXJhdGlvbiBmcm9tICcuLi9kYXRhL3Byb2dyYW1fY29uZmlndXJhdGlvbic7XG5pbXBvcnQgQ3Jvc3NUaWxlU3ltYm9sSW5kZXggZnJvbSAnLi4vc3ltYm9sL2Nyb3NzX3RpbGVfc3ltYm9sX2luZGV4JztcbmltcG9ydCBzaGFkZXJzIGZyb20gJy4uL3NoYWRlcnMnO1xuaW1wb3J0IFByb2dyYW0gZnJvbSAnLi9wcm9ncmFtJztcbmltcG9ydCBDb250ZXh0IGZyb20gJy4uL2dsL2NvbnRleHQnO1xuaW1wb3J0IERlcHRoTW9kZSBmcm9tICcuLi9nbC9kZXB0aF9tb2RlJztcbmltcG9ydCBTdGVuY2lsTW9kZSBmcm9tICcuLi9nbC9zdGVuY2lsX21vZGUnO1xuaW1wb3J0IENvbG9yTW9kZSBmcm9tICcuLi9nbC9jb2xvcl9tb2RlJztcbmltcG9ydCBUZXh0dXJlIGZyb20gJy4vdGV4dHVyZSc7XG5pbXBvcnQgdXBkYXRlVGlsZU1hc2tzIGZyb20gJy4vdGlsZV9tYXNrJztcbmltcG9ydCBDb2xvciBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvY29sb3InO1xuaW1wb3J0IHN5bWJvbCBmcm9tICcuL2RyYXdfc3ltYm9sJztcbmltcG9ydCBjaXJjbGUgZnJvbSAnLi9kcmF3X2NpcmNsZSc7XG5pbXBvcnQgaGVhdG1hcCBmcm9tICcuL2RyYXdfaGVhdG1hcCc7XG5pbXBvcnQgbGluZSBmcm9tICcuL2RyYXdfbGluZSc7XG5pbXBvcnQgZmlsbCBmcm9tICcuL2RyYXdfZmlsbCc7XG5pbXBvcnQgZmlsbEV4dHJ1c2lvbiBmcm9tICcuL2RyYXdfZmlsbF9leHRydXNpb24nO1xuaW1wb3J0IGhpbGxzaGFkZSBmcm9tICcuL2RyYXdfaGlsbHNoYWRlJztcbmltcG9ydCByYXN0ZXIgZnJvbSAnLi9kcmF3X3Jhc3Rlcic7XG5pbXBvcnQgYmFja2dyb3VuZCBmcm9tICcuL2RyYXdfYmFja2dyb3VuZCc7XG5pbXBvcnQgZGVidWcgZnJvbSAnLi9kcmF3X2RlYnVnJztcblxuY29uc3QgZHJhdyA9IHtcbiAgICBzeW1ib2wsXG4gICAgY2lyY2xlLFxuICAgIGhlYXRtYXAsXG4gICAgbGluZSxcbiAgICBmaWxsLFxuICAgICdmaWxsLWV4dHJ1c2lvbic6IGZpbGxFeHRydXNpb24sXG4gICAgaGlsbHNoYWRlLFxuICAgIHJhc3RlcixcbiAgICBiYWNrZ3JvdW5kLFxuICAgIGRlYnVnXG59O1xuXG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybSc7XG5pbXBvcnQgdHlwZSBUaWxlIGZyb20gJy4uL3NvdXJjZS90aWxlJztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5pbXBvcnQgdHlwZSBTdHlsZSBmcm9tICcuLi9zdHlsZS9zdHlsZSc7XG5pbXBvcnQgdHlwZSBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIExpbmVBdGxhcyBmcm9tICcuL2xpbmVfYXRsYXMnO1xuaW1wb3J0IHR5cGUgSW1hZ2VNYW5hZ2VyIGZyb20gJy4vaW1hZ2VfbWFuYWdlcic7XG5pbXBvcnQgdHlwZSBHbHlwaE1hbmFnZXIgZnJvbSAnLi9nbHlwaF9tYW5hZ2VyJztcbmltcG9ydCB0eXBlIFZlcnRleEJ1ZmZlciBmcm9tICcuLi9nbC92ZXJ0ZXhfYnVmZmVyJztcbmltcG9ydCB0eXBlIHtEZXB0aE1hc2tUeXBlLCBEZXB0aEZ1bmNUeXBlfSBmcm9tICcuLi9nbC90eXBlcyc7XG5cbmV4cG9ydCB0eXBlIFJlbmRlclBhc3MgPSAnb2Zmc2NyZWVuJyB8ICdvcGFxdWUnIHwgJ3RyYW5zbHVjZW50JztcblxudHlwZSBQYWludGVyT3B0aW9ucyA9IHtcbiAgICBzaG93T3ZlcmRyYXdJbnNwZWN0b3I6IGJvb2xlYW4sXG4gICAgc2hvd1RpbGVCb3VuZGFyaWVzOiBib29sZWFuLFxuICAgIHJvdGF0aW5nOiBib29sZWFuLFxuICAgIHpvb21pbmc6IGJvb2xlYW4sXG4gICAgZmFkZUR1cmF0aW9uOiBudW1iZXJcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IHBhaW50ZXIgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7Q2FudmFzfSBnbCBhbiBleHBlcmltZW50YWwtd2ViZ2wgZHJhd2luZyBjb250ZXh0XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBQYWludGVyIHtcbiAgICBjb250ZXh0OiBDb250ZXh0O1xuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIF90aWxlVGV4dHVyZXM6IHsgW251bWJlcl06IEFycmF5PFRleHR1cmU+IH07XG4gICAgbnVtU3VibGF5ZXJzOiBudW1iZXI7XG4gICAgZGVwdGhFcHNpbG9uOiBudW1iZXI7XG4gICAgZW1wdHlQcm9ncmFtQ29uZmlndXJhdGlvbjogUHJvZ3JhbUNvbmZpZ3VyYXRpb247XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICBkZXB0aFJibzogV2ViR0xSZW5kZXJidWZmZXI7XG4gICAgZGVwdGhSYm9OZWVkc0NsZWFyOiBib29sZWFuO1xuICAgIHRpbGVFeHRlbnRCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICB0aWxlRXh0ZW50VkFPOiBWZXJ0ZXhBcnJheU9iamVjdDtcbiAgICB0aWxlRXh0ZW50UGF0dGVyblZBTzogVmVydGV4QXJyYXlPYmplY3Q7XG4gICAgZGVidWdCdWZmZXI6IFZlcnRleEJ1ZmZlcjtcbiAgICBkZWJ1Z1ZBTzogVmVydGV4QXJyYXlPYmplY3Q7XG4gICAgcmFzdGVyQm91bmRzQnVmZmVyOiBWZXJ0ZXhCdWZmZXI7XG4gICAgcmFzdGVyQm91bmRzVkFPOiBWZXJ0ZXhBcnJheU9iamVjdDtcbiAgICB2aWV3cG9ydEJ1ZmZlcjogVmVydGV4QnVmZmVyO1xuICAgIHZpZXdwb3J0VkFPOiBWZXJ0ZXhBcnJheU9iamVjdDtcbiAgICBfdGlsZUNsaXBwaW5nTWFza0lEczogeyBbbnVtYmVyXTogbnVtYmVyIH07XG4gICAgc3R5bGU6IFN0eWxlO1xuICAgIG9wdGlvbnM6IFBhaW50ZXJPcHRpb25zO1xuICAgIGxpbmVBdGxhczogTGluZUF0bGFzO1xuICAgIGltYWdlTWFuYWdlcjogSW1hZ2VNYW5hZ2VyO1xuICAgIGdseXBoTWFuYWdlcjogR2x5cGhNYW5hZ2VyO1xuICAgIGRlcHRoUmFuZ2U6IG51bWJlcjtcbiAgICByZW5kZXJQYXNzOiBSZW5kZXJQYXNzO1xuICAgIGN1cnJlbnRMYXllcjogbnVtYmVyO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgX3Nob3dPdmVyZHJhd0luc3BlY3RvcjogYm9vbGVhbjtcbiAgICBjYWNoZTogeyBbc3RyaW5nXTogUHJvZ3JhbSB9O1xuICAgIGNyb3NzVGlsZVN5bWJvbEluZGV4OiBDcm9zc1RpbGVTeW1ib2xJbmRleDtcbiAgICBzeW1ib2xGYWRlQ2hhbmdlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB0cmFuc2Zvcm06IFRyYW5zZm9ybSkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBuZXcgQ29udGV4dChnbCk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICB0aGlzLl90aWxlVGV4dHVyZXMgPSB7fTtcblxuICAgICAgICB0aGlzLnNldHVwKCk7XG5cbiAgICAgICAgLy8gV2l0aGluIGVhY2ggbGF5ZXIgdGhlcmUgYXJlIG11bHRpcGxlIGRpc3RpbmN0IHotcGxhbmVzIHRoYXQgY2FuIGJlIGRyYXduIHRvLlxuICAgICAgICAvLyBUaGlzIGlzIGltcGxlbWVudGVkIHVzaW5nIHRoZSBXZWJHTCBkZXB0aCBidWZmZXIuXG4gICAgICAgIHRoaXMubnVtU3VibGF5ZXJzID0gU291cmNlQ2FjaGUubWF4VW5kZXJ6b29taW5nICsgU291cmNlQ2FjaGUubWF4T3Zlcnpvb21pbmcgKyAxO1xuICAgICAgICB0aGlzLmRlcHRoRXBzaWxvbiA9IDEgLyBNYXRoLnBvdygyLCAxNik7XG5cbiAgICAgICAgdGhpcy5kZXB0aFJib05lZWRzQ2xlYXIgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuZW1wdHlQcm9ncmFtQ29uZmlndXJhdGlvbiA9IG5ldyBQcm9ncmFtQ29uZmlndXJhdGlvbigpO1xuXG4gICAgICAgIHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXggPSBuZXcgQ3Jvc3NUaWxlU3ltYm9sSW5kZXgoKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFVwZGF0ZSB0aGUgR0wgdmlld3BvcnQsIHByb2plY3Rpb24gbWF0cml4LCBhbmQgdHJhbnNmb3JtcyB0byBjb21wZW5zYXRlXG4gICAgICogZm9yIGEgbmV3IHdpZHRoIGFuZCBoZWlnaHQgdmFsdWUuXG4gICAgICovXG4gICAgcmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jb250ZXh0LmdsO1xuXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aCAqIGJyb3dzZXIuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgKiBicm93c2VyLmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0XSk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGF5ZXJJZCBvZiB0aGlzLnN0eWxlLl9vcmRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUuX2xheWVyc1tsYXllcklkXS5yZXNpemUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRlcHRoUmJvKSB7XG4gICAgICAgICAgICBnbC5kZWxldGVSZW5kZXJidWZmZXIodGhpcy5kZXB0aFJibyk7XG4gICAgICAgICAgICB0aGlzLmRlcHRoUmJvID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldHVwKCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgICAgIGNvbnN0IHRpbGVFeHRlbnRBcnJheSA9IG5ldyBQb3NBcnJheSgpO1xuICAgICAgICB0aWxlRXh0ZW50QXJyYXkuZW1wbGFjZUJhY2soMCwgMCk7XG4gICAgICAgIHRpbGVFeHRlbnRBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIDApO1xuICAgICAgICB0aWxlRXh0ZW50QXJyYXkuZW1wbGFjZUJhY2soMCwgRVhURU5UKTtcbiAgICAgICAgdGlsZUV4dGVudEFycmF5LmVtcGxhY2VCYWNrKEVYVEVOVCwgRVhURU5UKTtcbiAgICAgICAgdGhpcy50aWxlRXh0ZW50QnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGlsZUV4dGVudEFycmF5LCBwb3NBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLnRpbGVFeHRlbnRWQU8gPSBuZXcgVmVydGV4QXJyYXlPYmplY3QoKTtcbiAgICAgICAgdGhpcy50aWxlRXh0ZW50UGF0dGVyblZBTyA9IG5ldyBWZXJ0ZXhBcnJheU9iamVjdCgpO1xuXG4gICAgICAgIGNvbnN0IGRlYnVnQXJyYXkgPSBuZXcgUG9zQXJyYXkoKTtcbiAgICAgICAgZGVidWdBcnJheS5lbXBsYWNlQmFjaygwLCAwKTtcbiAgICAgICAgZGVidWdBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIDApO1xuICAgICAgICBkZWJ1Z0FycmF5LmVtcGxhY2VCYWNrKEVYVEVOVCwgRVhURU5UKTtcbiAgICAgICAgZGVidWdBcnJheS5lbXBsYWNlQmFjaygwLCBFWFRFTlQpO1xuICAgICAgICBkZWJ1Z0FycmF5LmVtcGxhY2VCYWNrKDAsIDApO1xuICAgICAgICB0aGlzLmRlYnVnQnVmZmVyID0gY29udGV4dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZGVidWdBcnJheSwgcG9zQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgdGhpcy5kZWJ1Z1ZBTyA9IG5ldyBWZXJ0ZXhBcnJheU9iamVjdCgpO1xuXG4gICAgICAgIGNvbnN0IHJhc3RlckJvdW5kc0FycmF5ID0gbmV3IFJhc3RlckJvdW5kc0FycmF5KCk7XG4gICAgICAgIHJhc3RlckJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKDAsIDAsIDAsIDApO1xuICAgICAgICByYXN0ZXJCb3VuZHNBcnJheS5lbXBsYWNlQmFjayhFWFRFTlQsIDAsIEVYVEVOVCwgMCk7XG4gICAgICAgIHJhc3RlckJvdW5kc0FycmF5LmVtcGxhY2VCYWNrKDAsIEVYVEVOVCwgMCwgRVhURU5UKTtcbiAgICAgICAgcmFzdGVyQm91bmRzQXJyYXkuZW1wbGFjZUJhY2soRVhURU5ULCBFWFRFTlQsIEVYVEVOVCwgRVhURU5UKTtcbiAgICAgICAgdGhpcy5yYXN0ZXJCb3VuZHNCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcihyYXN0ZXJCb3VuZHNBcnJheSwgcmFzdGVyQm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKTtcbiAgICAgICAgdGhpcy5yYXN0ZXJCb3VuZHNWQU8gPSBuZXcgVmVydGV4QXJyYXlPYmplY3QoKTtcblxuICAgICAgICBjb25zdCB2aWV3cG9ydEFycmF5ID0gbmV3IFBvc0FycmF5KCk7XG4gICAgICAgIHZpZXdwb3J0QXJyYXkuZW1wbGFjZUJhY2soMCwgMCk7XG4gICAgICAgIHZpZXdwb3J0QXJyYXkuZW1wbGFjZUJhY2soMSwgMCk7XG4gICAgICAgIHZpZXdwb3J0QXJyYXkuZW1wbGFjZUJhY2soMCwgMSk7XG4gICAgICAgIHZpZXdwb3J0QXJyYXkuZW1wbGFjZUJhY2soMSwgMSk7XG4gICAgICAgIHRoaXMudmlld3BvcnRCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZVZlcnRleEJ1ZmZlcih2aWV3cG9ydEFycmF5LCBwb3NBdHRyaWJ1dGVzLm1lbWJlcnMpO1xuICAgICAgICB0aGlzLnZpZXdwb3J0VkFPID0gbmV3IFZlcnRleEFycmF5T2JqZWN0KCk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBSZXNldCB0aGUgZHJhd2luZyBjYW52YXMgYnkgY2xlYXJpbmcgdGhlIHN0ZW5jaWwgYnVmZmVyIHNvIHRoYXQgd2UgY2FuIGRyYXdcbiAgICAgKiBuZXcgdGlsZXMgYXQgdGhlIHNhbWUgbG9jYXRpb24sIHdoaWxlIHJldGFpbmluZyBwcmV2aW91c2x5IGRyYXduIHBpeGVscy5cbiAgICAgKi9cbiAgICBjbGVhclN0ZW5jaWwoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgICAgICAvLyBBcyBhIHRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvNTQ5MCxcbiAgICAgICAgLy8gcGVuZGluZyBhbiB1cHN0cmVhbSBmaXgsIHdlIGRyYXcgYSBmdWxsc2NyZWVuIHN0ZW5jaWw9MCBjbGlwcGluZyBtYXNrIGhlcmUsXG4gICAgICAgIC8vIGVmZmVjdGl2ZWx5IGNsZWFyaW5nIHRoZSBzdGVuY2lsIGJ1ZmZlcjogb25jZSBhbiB1cHN0cmVhbSBwYXRjaCBsYW5kcywgcmVtb3ZlXG4gICAgICAgIC8vIHRoaXMgZnVuY3Rpb24gaW4gZmF2b3Igb2YgY29udGV4dC5jbGVhcih7IHN0ZW5jaWw6IDB4MCB9KVxuXG4gICAgICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKENvbG9yTW9kZS5kaXNhYmxlZCk7XG4gICAgICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKERlcHRoTW9kZS5kaXNhYmxlZCk7XG4gICAgICAgIGNvbnRleHQuc2V0U3RlbmNpbE1vZGUobmV3IFN0ZW5jaWxNb2RlKHsgZnVuYzogZ2wuQUxXQVlTLCBtYXNrOiAwIH0sIDB4MCwgMHhGRiwgZ2wuWkVSTywgZ2wuWkVSTywgZ2wuWkVSTykpO1xuXG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XG4gICAgICAgIG1hdDQub3J0aG8obWF0cml4LCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgMCwgMCwgMSk7XG4gICAgICAgIG1hdDQuc2NhbGUobWF0cml4LCBtYXRyaXgsIFtnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQsIDBdKTtcblxuICAgICAgICBjb25zdCBwcm9ncmFtID0gdGhpcy51c2VQcm9ncmFtKCdjbGlwcGluZ01hc2snKTtcbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgbWF0cml4KTtcblxuICAgICAgICB0aGlzLnZpZXdwb3J0VkFPLmJpbmQoY29udGV4dCwgcHJvZ3JhbSwgdGhpcy52aWV3cG9ydEJ1ZmZlciwgW10pO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9XG5cbiAgICBfcmVuZGVyVGlsZUNsaXBwaW5nTWFza3ModGlsZUlEczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIGNvbnRleHQuc2V0Q29sb3JNb2RlKENvbG9yTW9kZS5kaXNhYmxlZCk7XG4gICAgICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKERlcHRoTW9kZS5kaXNhYmxlZCk7XG5cbiAgICAgICAgbGV0IGlkTmV4dCA9IDE7XG4gICAgICAgIHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHMgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IHRpbGVJRCBvZiB0aWxlSURzKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdGlsZUlELmtleV0gPSBpZE5leHQrKztcblxuICAgICAgICAgICAgLy8gVGVzdHMgd2lsbCBhbHdheXMgcGFzcywgYW5kIHJlZiB2YWx1ZSB3aWxsIGJlIHdyaXR0ZW4gdG8gc3RlbmNpbCBidWZmZXIuXG4gICAgICAgICAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKG5ldyBTdGVuY2lsTW9kZSh7IGZ1bmM6IGdsLkFMV0FZUywgbWFzazogMCB9LCBpZCwgMHhGRiwgZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuUkVQTEFDRSkpO1xuXG4gICAgICAgICAgICBjb25zdCBwcm9ncmFtID0gdGhpcy51c2VQcm9ncmFtKCdjbGlwcGluZ01hc2snKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIHRpbGVJRC5wb3NNYXRyaXgpO1xuXG4gICAgICAgICAgICAvLyBEcmF3IHRoZSBjbGlwcGluZyBtYXNrXG4gICAgICAgICAgICB0aGlzLnRpbGVFeHRlbnRWQU8uYmluZCh0aGlzLmNvbnRleHQsIHByb2dyYW0sIHRoaXMudGlsZUV4dGVudEJ1ZmZlciwgW10pO1xuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgdGhpcy50aWxlRXh0ZW50QnVmZmVyLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGVuY2lsTW9kZUZvckNsaXBwaW5nKHRpbGVJRDogT3ZlcnNjYWxlZFRpbGVJRCk6IFN0ZW5jaWxNb2RlIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIHJldHVybiBuZXcgU3RlbmNpbE1vZGUoeyBmdW5jOiBnbC5FUVVBTCwgbWFzazogMHhGRiB9LCB0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzW3RpbGVJRC5rZXldLCAweDAwLCBnbC5LRUVQLCBnbC5LRUVQLCBnbC5SRVBMQUNFKTtcbiAgICB9XG5cbiAgICBjb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk6ICRSZWFkT25seTxDb2xvck1vZGU+IHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmNvbnRleHQuZ2w7XG4gICAgICAgIGlmICh0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bU92ZXJkcmF3U3RlcHMgPSA4O1xuICAgICAgICAgICAgY29uc3QgYSA9IDEgLyBudW1PdmVyZHJhd1N0ZXBzO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yTW9kZShbZ2wuQ09OU1RBTlRfQ09MT1IsIGdsLk9ORV0sIG5ldyBDb2xvcihhLCBhLCBhLCAwKSwgW3RydWUsIHRydWUsIHRydWUsIHRydWVdKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlbmRlclBhc3MgPT09ICdvcGFxdWUnKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29sb3JNb2RlLnVuYmxlbmRlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBDb2xvck1vZGUuYWxwaGFCbGVuZGVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVwdGhNb2RlRm9yU3VibGF5ZXIobjogbnVtYmVyLCBtYXNrOiBEZXB0aE1hc2tUeXBlLCBmdW5jOiA/RGVwdGhGdW5jVHlwZSk6IERlcHRoTW9kZSB7XG4gICAgICAgIGNvbnN0IGZhckRlcHRoID0gMSAtICgoMSArIHRoaXMuY3VycmVudExheWVyKSAqIHRoaXMubnVtU3VibGF5ZXJzICsgbikgKiB0aGlzLmRlcHRoRXBzaWxvbjtcbiAgICAgICAgY29uc3QgbmVhckRlcHRoID0gZmFyRGVwdGggLSAxICsgdGhpcy5kZXB0aFJhbmdlO1xuICAgICAgICByZXR1cm4gbmV3IERlcHRoTW9kZShmdW5jIHx8IHRoaXMuY29udGV4dC5nbC5MRVFVQUwsIG1hc2ssIFtuZWFyRGVwdGgsIGZhckRlcHRoXSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKHN0eWxlOiBTdHlsZSwgb3B0aW9uczogUGFpbnRlck9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgICAgIHRoaXMubGluZUF0bGFzID0gc3R5bGUubGluZUF0bGFzO1xuICAgICAgICB0aGlzLmltYWdlTWFuYWdlciA9IHN0eWxlLmltYWdlTWFuYWdlcjtcbiAgICAgICAgdGhpcy5nbHlwaE1hbmFnZXIgPSBzdHlsZS5nbHlwaE1hbmFnZXI7XG5cbiAgICAgICAgdGhpcy5zeW1ib2xGYWRlQ2hhbmdlID0gc3R5bGUucGxhY2VtZW50LnN5bWJvbEZhZGVDaGFuZ2UoYnJvd3Nlci5ub3coKSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBzdHlsZS5zb3VyY2VDYWNoZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5zdHlsZS5zb3VyY2VDYWNoZXNbaWRdO1xuICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlLnVzZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VDYWNoZS5wcmVwYXJlKHRoaXMuY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsYXllcklkcyA9IHRoaXMuc3R5bGUuX29yZGVyO1xuXG4gICAgICAgIGNvbnN0IHJhc3RlclNvdXJjZXMgPSBmaWx0ZXJPYmplY3QoXG4gICAgICAgICAgICB0aGlzLnN0eWxlLnNvdXJjZUNhY2hlcyxcbiAgICAgICAgICAgIChzYykgPT4geyByZXR1cm4gc2MuZ2V0U291cmNlKCkudHlwZSA9PT0gJ3Jhc3RlcicgfHwgc2MuZ2V0U291cmNlKCkudHlwZSA9PT0gJ3Jhc3Rlci1kZW0nOyB9XG4gICAgICAgICk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJhc3RlclNvdXJjZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gcmFzdGVyU291cmNlc1trZXldO1xuICAgICAgICAgICAgY29uc3QgY29vcmRzID0gc291cmNlQ2FjaGUuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCk7XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlVGlsZXMgPSBjb29yZHMubWFwKChjKT0+eyByZXR1cm4gc291cmNlQ2FjaGUuZ2V0VGlsZShjKTsgfSk7XG4gICAgICAgICAgICB1cGRhdGVUaWxlTWFza3ModmlzaWJsZVRpbGVzLCB0aGlzLmNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT2Zmc2NyZWVuIHBhc3NcbiAgICAgICAgLy8gV2UgZmlyc3QgZG8gYWxsIHJlbmRlcmluZyB0aGF0IHJlcXVpcmVzIHJlbmRlcmluZyB0byBhIHNlcGFyYXRlXG4gICAgICAgIC8vIGZyYW1lYnVmZmVyLCBhbmQgdGhlbiBzYXZlIHRob3NlIGZvciByZW5kZXJpbmcgYmFjayB0byB0aGUgbWFwXG4gICAgICAgIC8vIGxhdGVyOiBpbiBkb2luZyB0aGlzIHdlIGF2b2lkIGRvaW5nIGV4cGVuc2l2ZSBmcmFtZWJ1ZmZlciByZXN0b3Jlcy5cbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzID0gJ29mZnNjcmVlbic7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzb3VyY2VDYWNoZTtcbiAgICAgICAgICAgIGxldCBjb29yZHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhSYm9OZWVkc0NsZWFyID0gdHJ1ZTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXllcklkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5zdHlsZS5fbGF5ZXJzW2xheWVySWRzW2ldXTtcblxuICAgICAgICAgICAgICAgIGlmICghbGF5ZXIuaGFzT2Zmc2NyZWVuUGFzcygpIHx8IGxheWVyLmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGlmIChsYXllci5zb3VyY2UgIT09IChzb3VyY2VDYWNoZSAmJiBzb3VyY2VDYWNoZS5pZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlQ2FjaGUgPSB0aGlzLnN0eWxlLnNvdXJjZUNhY2hlc1tsYXllci5zb3VyY2VdO1xuICAgICAgICAgICAgICAgICAgICBjb29yZHMgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkcyA9IHNvdXJjZUNhY2hlLmdldFZpc2libGVDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghY29vcmRzLmxlbmd0aCkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckxheWVyKHRoaXMsIChzb3VyY2VDYWNoZTogYW55KSwgbGF5ZXIsIGNvb3Jkcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlYmluZCB0aGUgbWFpbiBmcmFtZWJ1ZmZlciBub3cgdGhhdCBhbGwgb2Zmc2NyZWVuIGxheWVyc1xuICAgICAgICAgICAgLy8gaGF2ZSBiZWVuIHJlbmRlcmVkOlxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDbGVhciBidWZmZXJzIGluIHByZXBhcmF0aW9uIGZvciBkcmF3aW5nIHRvIHRoZSBtYWluIGZyYW1lYnVmZmVyXG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhcih7IGNvbG9yOiBvcHRpb25zLnNob3dPdmVyZHJhd0luc3BlY3RvciA/IENvbG9yLmJsYWNrIDogQ29sb3IudHJhbnNwYXJlbnQsIGRlcHRoOiAxIH0pO1xuXG4gICAgICAgIHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciA9IG9wdGlvbnMuc2hvd092ZXJkcmF3SW5zcGVjdG9yO1xuXG4gICAgICAgIHRoaXMuZGVwdGhSYW5nZSA9IChzdHlsZS5fb3JkZXIubGVuZ3RoICsgMikgKiB0aGlzLm51bVN1YmxheWVycyAqIHRoaXMuZGVwdGhFcHNpbG9uO1xuXG4gICAgICAgIC8vIE9wYXF1ZSBwYXNzXG4gICAgICAgIC8vIERyYXcgb3BhcXVlIGxheWVycyB0b3AtdG8tYm90dG9tIGZpcnN0LlxuICAgICAgICB0aGlzLnJlbmRlclBhc3MgPSAnb3BhcXVlJztcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHNvdXJjZUNhY2hlO1xuICAgICAgICAgICAgbGV0IGNvb3JkcyA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMYXllciA9IGxheWVySWRzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgIGZvciAodGhpcy5jdXJyZW50TGF5ZXI7IHRoaXMuY3VycmVudExheWVyID49IDA7IHRoaXMuY3VycmVudExheWVyLS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuc3R5bGUuX2xheWVyc1tsYXllcklkc1t0aGlzLmN1cnJlbnRMYXllcl1dO1xuXG4gICAgICAgICAgICAgICAgaWYgKGxheWVyLnNvdXJjZSAhPT0gKHNvdXJjZUNhY2hlICYmIHNvdXJjZUNhY2hlLmlkKSkge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VDYWNoZSA9IHRoaXMuc3R5bGUuc291cmNlQ2FjaGVzW2xheWVyLnNvdXJjZV07XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhclN0ZW5jaWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkcyA9IHNvdXJjZUNhY2hlLmdldFZpc2libGVDb29yZGluYXRlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLmlzVGlsZUNsaXBwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyhjb29yZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJMYXllcih0aGlzLCAoc291cmNlQ2FjaGU6IGFueSksIGxheWVyLCBjb29yZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJhbnNsdWNlbnQgcGFzc1xuICAgICAgICAvLyBEcmF3IGFsbCBvdGhlciBsYXllcnMgYm90dG9tLXRvLXRvcC5cbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzID0gJ3RyYW5zbHVjZW50JztcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHNvdXJjZUNhY2hlO1xuICAgICAgICAgICAgbGV0IGNvb3JkcyA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMYXllciA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodGhpcy5jdXJyZW50TGF5ZXI7IHRoaXMuY3VycmVudExheWVyIDwgbGF5ZXJJZHMubGVuZ3RoOyB0aGlzLmN1cnJlbnRMYXllcisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSB0aGlzLnN0eWxlLl9sYXllcnNbbGF5ZXJJZHNbdGhpcy5jdXJyZW50TGF5ZXJdXTtcblxuICAgICAgICAgICAgICAgIGlmIChsYXllci5zb3VyY2UgIT09IChzb3VyY2VDYWNoZSAmJiBzb3VyY2VDYWNoZS5pZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlQ2FjaGUgPSB0aGlzLnN0eWxlLnNvdXJjZUNhY2hlc1tsYXllci5zb3VyY2VdO1xuICAgICAgICAgICAgICAgICAgICBjb29yZHMgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJTdGVuY2lsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZHMgPSBzb3VyY2VDYWNoZS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5pc1RpbGVDbGlwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MoY29vcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvb3Jkcy5yZXZlcnNlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJMYXllcih0aGlzLCAoc291cmNlQ2FjaGU6IGFueSksIGxheWVyLCBjb29yZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VGlsZUJvdW5kYXJpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlID0gdGhpcy5zdHlsZS5zb3VyY2VDYWNoZXNbT2JqZWN0LmtleXModGhpcy5zdHlsZS5zb3VyY2VDYWNoZXMpWzBdXTtcbiAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZSkge1xuICAgICAgICAgICAgICAgIGRyYXcuZGVidWcodGhpcywgc291cmNlQ2FjaGUsIHNvdXJjZUNhY2hlLmdldFZpc2libGVDb29yZGluYXRlcygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldHVwT2Zmc2NyZWVuRGVwdGhSZW5kZXJidWZmZXIoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIC8vIEFsbCBvZiB0aGUgM0QgdGV4dHVyZXMgd2lsbCB1c2UgdGhlIHNhbWUgZGVwdGggcmVuZGVyYnVmZmVyLlxuICAgICAgICBpZiAoIXRoaXMuZGVwdGhSYm8pIHtcbiAgICAgICAgICAgIHRoaXMuZGVwdGhSYm8gPSBjb250ZXh0LmNyZWF0ZVJlbmRlcmJ1ZmZlcihjb250ZXh0LmdsLkRFUFRIX0NPTVBPTkVOVDE2LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJMYXllcihwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgICAgIGlmIChsYXllci5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSkgcmV0dXJuO1xuICAgICAgICBpZiAobGF5ZXIudHlwZSAhPT0gJ2JhY2tncm91bmQnICYmICFjb29yZHMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgIHRoaXMuaWQgPSBsYXllci5pZDtcblxuICAgICAgICBkcmF3W2xheWVyLnR5cGVdKHBhaW50ZXIsIHNvdXJjZUNhY2hlLCBsYXllciwgY29vcmRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm0gYSBtYXRyaXggdG8gaW5jb3Jwb3JhdGUgdGhlICotdHJhbnNsYXRlIGFuZCAqLXRyYW5zbGF0ZS1hbmNob3IgcHJvcGVydGllcyBpbnRvIGl0LlxuICAgICAqIEBwYXJhbSBpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzIFRydWUgd2hlbiB0aGUgdW5pdHMgYWNjZXB0ZWQgYnkgdGhlIG1hdHJpeCBhcmUgaW4gdmlld3BvcnQgcGl4ZWxzIGluc3RlYWQgb2YgdGlsZSB1bml0cy5cbiAgICAgKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBtYXRyaXhcbiAgICAgKi9cbiAgICB0cmFuc2xhdGVQb3NNYXRyaXgobWF0cml4OiBGbG9hdDMyQXJyYXksIHRpbGU6IFRpbGUsIHRyYW5zbGF0ZTogW251bWJlciwgbnVtYmVyXSwgdHJhbnNsYXRlQW5jaG9yOiAnbWFwJyB8ICd2aWV3cG9ydCcsIGluVmlld3BvcnRQaXhlbFVuaXRzVW5pdHM/OiBib29sZWFuKSB7XG4gICAgICAgIGlmICghdHJhbnNsYXRlWzBdICYmICF0cmFuc2xhdGVbMV0pIHJldHVybiBtYXRyaXg7XG5cbiAgICAgICAgY29uc3QgYW5nbGUgPSBpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzID9cbiAgICAgICAgICAgICh0cmFuc2xhdGVBbmNob3IgPT09ICdtYXAnID8gdGhpcy50cmFuc2Zvcm0uYW5nbGUgOiAwKSA6XG4gICAgICAgICAgICAodHJhbnNsYXRlQW5jaG9yID09PSAndmlld3BvcnQnID8gLXRoaXMudHJhbnNmb3JtLmFuZ2xlIDogMCk7XG5cbiAgICAgICAgaWYgKGFuZ2xlKSB7XG4gICAgICAgICAgICBjb25zdCBzaW5BID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICAgICAgY29uc3QgY29zQSA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgICAgIHRyYW5zbGF0ZSA9IFtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVbMF0gKiBjb3NBIC0gdHJhbnNsYXRlWzFdICogc2luQSxcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVbMF0gKiBzaW5BICsgdHJhbnNsYXRlWzFdICogY29zQVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0aW9uID0gW1xuICAgICAgICAgICAgaW5WaWV3cG9ydFBpeGVsVW5pdHNVbml0cyA/IHRyYW5zbGF0ZVswXSA6IHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIHRyYW5zbGF0ZVswXSwgdGhpcy50cmFuc2Zvcm0uem9vbSksXG4gICAgICAgICAgICBpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzID8gdHJhbnNsYXRlWzFdIDogcGl4ZWxzVG9UaWxlVW5pdHModGlsZSwgdHJhbnNsYXRlWzFdLCB0aGlzLnRyYW5zZm9ybS56b29tKSxcbiAgICAgICAgICAgIDBcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCB0cmFuc2xhdGVkTWF0cml4ID0gbmV3IEZsb2F0MzJBcnJheSgxNik7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKHRyYW5zbGF0ZWRNYXRyaXgsIG1hdHJpeCwgdHJhbnNsYXRpb24pO1xuICAgICAgICByZXR1cm4gdHJhbnNsYXRlZE1hdHJpeDtcbiAgICB9XG5cbiAgICBzYXZlVGlsZVRleHR1cmUodGV4dHVyZTogVGV4dHVyZSkge1xuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IHRoaXMuX3RpbGVUZXh0dXJlc1t0ZXh0dXJlLnNpemVbMF1dO1xuICAgICAgICBpZiAoIXRleHR1cmVzKSB7XG4gICAgICAgICAgICB0aGlzLl90aWxlVGV4dHVyZXNbdGV4dHVyZS5zaXplWzBdXSA9IFt0ZXh0dXJlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRUaWxlVGV4dHVyZShzaXplOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZXMgPSB0aGlzLl90aWxlVGV4dHVyZXNbc2l6ZV07XG4gICAgICAgIHJldHVybiB0ZXh0dXJlcyAmJiB0ZXh0dXJlcy5sZW5ndGggPiAwID8gdGV4dHVyZXMucG9wKCkgOiBudWxsO1xuICAgIH1cblxuICAgIF9jcmVhdGVQcm9ncmFtQ2FjaGVkKG5hbWU6IHN0cmluZywgcHJvZ3JhbUNvbmZpZ3VyYXRpb246IFByb2dyYW1Db25maWd1cmF0aW9uKTogUHJvZ3JhbSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSB0aGlzLmNhY2hlIHx8IHt9O1xuICAgICAgICBjb25zdCBrZXkgPSBgJHtuYW1lfSR7cHJvZ3JhbUNvbmZpZ3VyYXRpb24uY2FjaGVLZXkgfHwgJyd9JHt0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IgPyAnL292ZXJkcmF3JyA6ICcnfWA7XG4gICAgICAgIGlmICghdGhpcy5jYWNoZVtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlW2tleV0gPSBuZXcgUHJvZ3JhbSh0aGlzLmNvbnRleHQsIHNoYWRlcnNbbmFtZV0sIHByb2dyYW1Db25maWd1cmF0aW9uLCB0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlW2tleV07XG4gICAgfVxuXG4gICAgdXNlUHJvZ3JhbShuYW1lOiBzdHJpbmcsIHByb2dyYW1Db25maWd1cmF0aW9uPzogUHJvZ3JhbUNvbmZpZ3VyYXRpb24pOiBQcm9ncmFtIHtcbiAgICAgICAgY29uc3QgbmV4dFByb2dyYW0gPSB0aGlzLl9jcmVhdGVQcm9ncmFtQ2FjaGVkKG5hbWUsIHByb2dyYW1Db25maWd1cmF0aW9uIHx8IHRoaXMuZW1wdHlQcm9ncmFtQ29uZmlndXJhdGlvbik7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0LnByb2dyYW0uc2V0KG5leHRQcm9ncmFtLnByb2dyYW0pO1xuXG4gICAgICAgIHJldHVybiBuZXh0UHJvZ3JhbTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhaW50ZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgcGl4ZWxzVG9UaWxlVW5pdHMgZnJvbSAnLi4vc291cmNlL3BpeGVsc190b190aWxlX3VuaXRzJztcblxuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIENpcmNsZVN0eWxlTGF5ZXIgZnJvbSAnLi4vc3R5bGUvc3R5bGVfbGF5ZXIvY2lyY2xlX3N0eWxlX2xheWVyJztcbmltcG9ydCB0eXBlIENpcmNsZUJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9jaXJjbGVfYnVja2V0JztcbmltcG9ydCB0eXBlIHtPdmVyc2NhbGVkVGlsZUlEfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdDaXJjbGVzO1xuXG5mdW5jdGlvbiBkcmF3Q2lyY2xlcyhwYWludGVyOiBQYWludGVyLCBzb3VyY2VDYWNoZTogU291cmNlQ2FjaGUsIGxheWVyOiBDaXJjbGVTdHlsZUxheWVyLCBjb29yZHM6IEFycmF5PE92ZXJzY2FsZWRUaWxlSUQ+KSB7XG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyAhPT0gJ3RyYW5zbHVjZW50JykgcmV0dXJuO1xuXG4gICAgY29uc3Qgb3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnY2lyY2xlLW9wYWNpdHknKTtcbiAgICBjb25zdCBzdHJva2VXaWR0aCA9IGxheWVyLnBhaW50LmdldCgnY2lyY2xlLXN0cm9rZS13aWR0aCcpO1xuICAgIGNvbnN0IHN0cm9rZU9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2NpcmNsZS1zdHJva2Utb3BhY2l0eScpO1xuXG4gICAgaWYgKG9wYWNpdHkuY29uc3RhbnRPcigxKSA9PT0gMCAmJiAoc3Ryb2tlV2lkdGguY29uc3RhbnRPcigxKSA9PT0gMCB8fCBzdHJva2VPcGFjaXR5LmNvbnN0YW50T3IoMSkgPT09IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb250ZXh0ID0gcGFpbnRlci5jb250ZXh0O1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcblxuICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KSk7XG4gICAgLy8gQWxsb3cgY2lyY2xlcyB0byBiZSBkcmF3biBhY3Jvc3MgYm91bmRhcmllcywgc28gdGhhdFxuICAgIC8vIGxhcmdlIGNpcmNsZXMgYXJlIG5vdCBjbGlwcGVkIHRvIHRpbGVzXG4gICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShTdGVuY2lsTW9kZS5kaXNhYmxlZCk7XG4gICAgY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuXG4gICAgbGV0IGZpcnN0ID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjb29yZCA9IGNvb3Jkc1tpXTtcblxuICAgICAgICBjb25zdCB0aWxlID0gc291cmNlQ2FjaGUuZ2V0VGlsZShjb29yZCk7XG4gICAgICAgIGNvbnN0IGJ1Y2tldDogP0NpcmNsZUJ1Y2tldDwqPiA9ICh0aWxlLmdldEJ1Y2tldChsYXllcik6IGFueSk7XG4gICAgICAgIGlmICghYnVja2V0KSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBwcmV2UHJvZ3JhbSA9IHBhaW50ZXIuY29udGV4dC5wcm9ncmFtLmdldCgpO1xuICAgICAgICBjb25zdCBwcm9ncmFtQ29uZmlndXJhdGlvbiA9IGJ1Y2tldC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGxheWVyLmlkKTtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHBhaW50ZXIudXNlUHJvZ3JhbSgnY2lyY2xlJywgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xuICAgICAgICBpZiAoZmlyc3QgfHwgcHJvZ3JhbS5wcm9ncmFtICE9PSBwcmV2UHJvZ3JhbSkge1xuICAgICAgICAgICAgcHJvZ3JhbUNvbmZpZ3VyYXRpb24uc2V0VW5pZm9ybXMoY29udGV4dCwgcHJvZ3JhbSwgbGF5ZXIucGFpbnQsIHt6b29tOiBwYWludGVyLnRyYW5zZm9ybS56b29tfSk7XG4gICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlLCBwYWludGVyLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKTtcbiAgICAgICAgZ2wudW5pZm9ybTFpKHByb2dyYW0udW5pZm9ybXMudV9zY2FsZV93aXRoX21hcCwgbGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtcGl0Y2gtc2NhbGUnKSA9PT0gJ21hcCcgPyAxIDogMCk7XG4gICAgICAgIGlmIChsYXllci5wYWludC5nZXQoJ2NpcmNsZS1waXRjaC1hbGlnbm1lbnQnKSA9PT0gJ21hcCcpIHtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfcGl0Y2hfd2l0aF9tYXAsIDEpO1xuICAgICAgICAgICAgY29uc3QgcGl4ZWxSYXRpbyA9IHBpeGVsc1RvVGlsZVVuaXRzKHRpbGUsIDEsIHBhaW50ZXIudHJhbnNmb3JtLnpvb20pO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHByb2dyYW0udW5pZm9ybXMudV9leHRydWRlX3NjYWxlLCBwaXhlbFJhdGlvLCBwaXhlbFJhdGlvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtLnVuaWZvcm1zLnVfcGl0Y2hfd2l0aF9tYXAsIDApO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihwcm9ncmFtLnVuaWZvcm1zLnVfZXh0cnVkZV9zY2FsZSwgcGFpbnRlci50cmFuc2Zvcm0ucGl4ZWxzVG9HTFVuaXRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIHBhaW50ZXIudHJhbnNsYXRlUG9zTWF0cml4KFxuICAgICAgICAgICAgY29vcmQucG9zTWF0cml4LFxuICAgICAgICAgICAgdGlsZSxcbiAgICAgICAgICAgIGxheWVyLnBhaW50LmdldCgnY2lyY2xlLXRyYW5zbGF0ZScpLFxuICAgICAgICAgICAgbGF5ZXIucGFpbnQuZ2V0KCdjaXJjbGUtdHJhbnNsYXRlLWFuY2hvcicpXG4gICAgICAgICkpO1xuXG4gICAgICAgIHByb2dyYW0uZHJhdyhcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICBnbC5UUklBTkdMRVMsXG4gICAgICAgICAgICBsYXllci5pZCxcbiAgICAgICAgICAgIGJ1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXIsXG4gICAgICAgICAgICBidWNrZXQuaW5kZXhCdWZmZXIsXG4gICAgICAgICAgICBidWNrZXQuc2VnbWVudHMsXG4gICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgbWF0NCB9IGZyb20gJ0BtYXBib3gvZ2wtbWF0cml4JztcblxuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi90ZXh0dXJlJztcbmltcG9ydCBwaXhlbHNUb1RpbGVVbml0cyBmcm9tICcuLi9zb3VyY2UvcGl4ZWxzX3RvX3RpbGVfdW5pdHMnO1xuaW1wb3J0IENvbG9yIGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9jb2xvcic7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgQ29sb3JNb2RlIGZyb20gJy4uL2dsL2NvbG9yX21vZGUnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIEhlYXRtYXBTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2hlYXRtYXBfc3R5bGVfbGF5ZXInO1xuaW1wb3J0IHR5cGUgSGVhdG1hcEJ1Y2tldCBmcm9tICcuLi9kYXRhL2J1Y2tldC9oZWF0bWFwX2J1Y2tldCc7XG5pbXBvcnQgdHlwZSB7T3ZlcnNjYWxlZFRpbGVJRH0gZnJvbSAnLi4vc291cmNlL3RpbGVfaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3SGVhdG1hcDtcblxuZnVuY3Rpb24gZHJhd0hlYXRtYXAocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogSGVhdG1hcFN0eWxlTGF5ZXIsIGNvb3JkczogQXJyYXk8T3ZlcnNjYWxlZFRpbGVJRD4pIHtcbiAgICBpZiAobGF5ZXIucGFpbnQuZ2V0KCdoZWF0bWFwLW9wYWNpdHknKSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyA9PT0gJ29mZnNjcmVlbicpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICAgICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuXG4gICAgICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKHBhaW50ZXIuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCwgRGVwdGhNb2RlLlJlYWRPbmx5KSk7XG5cbiAgICAgICAgLy8gQWxsb3cga2VybmVscyB0byBiZSBkcmF3biBhY3Jvc3MgYm91bmRhcmllcywgc28gdGhhdFxuICAgICAgICAvLyBsYXJnZSBrZXJuZWxzIGFyZSBub3QgY2xpcHBlZCB0byB0aWxlc1xuICAgICAgICBjb250ZXh0LnNldFN0ZW5jaWxNb2RlKFN0ZW5jaWxNb2RlLmRpc2FibGVkKTtcblxuICAgICAgICBiaW5kRnJhbWVidWZmZXIoY29udGV4dCwgcGFpbnRlciwgbGF5ZXIpO1xuXG4gICAgICAgIGNvbnRleHQuY2xlYXIoeyBjb2xvcjogQ29sb3IudHJhbnNwYXJlbnQgfSk7XG5cbiAgICAgICAgLy8gVHVybiBvbiBhZGRpdGl2ZSBibGVuZGluZyBmb3Iga2VybmVscywgd2hpY2ggaXMgYSBrZXkgYXNwZWN0IG9mIGtlcm5lbCBkZW5zaXR5IGVzdGltYXRpb24gZm9ybXVsYVxuICAgICAgICBjb250ZXh0LnNldENvbG9yTW9kZShuZXcgQ29sb3JNb2RlKFtnbC5PTkUsIGdsLk9ORV0sIENvbG9yLnRyYW5zcGFyZW50LCBbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZV0pKTtcblxuICAgICAgICBsZXQgZmlyc3QgPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY29vcmQgPSBjb29yZHNbaV07XG5cbiAgICAgICAgICAgIC8vIFNraXAgdGlsZXMgdGhhdCBoYXZlIHVuY292ZXJlZCBwYXJlbnRzIHRvIGF2b2lkIGZsaWNrZXJpbmc7IHdlIGRvbid0IG5lZWRcbiAgICAgICAgICAgIC8vIHRvIHVzZSBjb21wbGV4IHRpbGUgbWFza2luZyBoZXJlIGJlY2F1c2UgdGhlIGNoYW5nZSBiZXR3ZWVuIHpvb20gbGV2ZWxzIGlzIHN1YnRsZSxcbiAgICAgICAgICAgIC8vIHNvIGl0J3MgZmluZSB0byBzaW1wbHkgcmVuZGVyIHRoZSBwYXJlbnQgdW50aWwgYWxsIGl0cyA0IGNoaWxkcmVuIGFyZSBsb2FkZWRcbiAgICAgICAgICAgIGlmIChzb3VyY2VDYWNoZS5oYXNSZW5kZXJhYmxlUGFyZW50KGNvb3JkKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnN0IHRpbGUgPSBzb3VyY2VDYWNoZS5nZXRUaWxlKGNvb3JkKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1Y2tldDogP0hlYXRtYXBCdWNrZXQgPSAodGlsZS5nZXRCdWNrZXQobGF5ZXIpOiBhbnkpO1xuICAgICAgICAgICAgaWYgKCFidWNrZXQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBjb25zdCBwcmV2UHJvZ3JhbSA9IHBhaW50ZXIuY29udGV4dC5wcm9ncmFtLmdldCgpO1xuICAgICAgICAgICAgY29uc3QgcHJvZ3JhbUNvbmZpZ3VyYXRpb24gPSBidWNrZXQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChsYXllci5pZCk7XG4gICAgICAgICAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdoZWF0bWFwJywgcHJvZ3JhbUNvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgY29uc3Qge3pvb219ID0gcGFpbnRlci50cmFuc2Zvcm07XG4gICAgICAgICAgICBpZiAoZmlyc3QgfHwgcHJvZ3JhbS5wcm9ncmFtICE9PSBwcmV2UHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgIHByb2dyYW1Db25maWd1cmF0aW9uLnNldFVuaWZvcm1zKHBhaW50ZXIuY29udGV4dCwgcHJvZ3JhbSwgbGF5ZXIucGFpbnQsIHt6b29tfSk7XG4gICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9leHRydWRlX3NjYWxlLCBwaXhlbHNUb1RpbGVVbml0cyh0aWxlLCAxLCB6b29tKSk7XG5cbiAgICAgICAgICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfaW50ZW5zaXR5LCBsYXllci5wYWludC5nZXQoJ2hlYXRtYXAtaW50ZW5zaXR5JykpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtLnVuaWZvcm1zLnVfbWF0cml4LCBmYWxzZSwgY29vcmQucG9zTWF0cml4KTtcblxuICAgICAgICAgICAgcHJvZ3JhbS5kcmF3KFxuICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgZ2wuVFJJQU5HTEVTLFxuICAgICAgICAgICAgICAgIGxheWVyLmlkLFxuICAgICAgICAgICAgICAgIGJ1Y2tldC5sYXlvdXRWZXJ0ZXhCdWZmZXIsXG4gICAgICAgICAgICAgICAgYnVja2V0LmluZGV4QnVmZmVyLFxuICAgICAgICAgICAgICAgIGJ1Y2tldC5zZWdtZW50cyxcbiAgICAgICAgICAgICAgICBwcm9ncmFtQ29uZmlndXJhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnZpZXdwb3J0LnNldChbMCwgMCwgcGFpbnRlci53aWR0aCwgcGFpbnRlci5oZWlnaHRdKTtcblxuICAgIH0gZWxzZSBpZiAocGFpbnRlci5yZW5kZXJQYXNzID09PSAndHJhbnNsdWNlbnQnKSB7XG4gICAgICAgIHBhaW50ZXIuY29udGV4dC5zZXRDb2xvck1vZGUocGFpbnRlci5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpO1xuICAgICAgICByZW5kZXJUZXh0dXJlVG9NYXAocGFpbnRlciwgbGF5ZXIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYmluZEZyYW1lYnVmZmVyKGNvbnRleHQsIHBhaW50ZXIsIGxheWVyKSB7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTEpO1xuXG4gICAgLy8gVXNlIGEgNHggZG93bnNjYWxlZCBzY3JlZW4gdGV4dHVyZSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gICAgY29udGV4dC52aWV3cG9ydC5zZXQoWzAsIDAsIHBhaW50ZXIud2lkdGggLyA0LCBwYWludGVyLmhlaWdodCAvIDRdKTtcblxuICAgIGxldCBmYm8gPSBsYXllci5oZWF0bWFwRmJvO1xuXG4gICAgaWYgKCFmYm8pIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuXG4gICAgICAgIGZibyA9IGxheWVyLmhlYXRtYXBGYm8gPSBjb250ZXh0LmNyZWF0ZUZyYW1lYnVmZmVyKHBhaW50ZXIud2lkdGggLyA0LCBwYWludGVyLmhlaWdodCAvIDQpO1xuXG4gICAgICAgIGJpbmRUZXh0dXJlVG9GcmFtZWJ1ZmZlcihjb250ZXh0LCBwYWludGVyLCB0ZXh0dXJlLCBmYm8pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZmJvLmNvbG9yQXR0YWNobWVudC5nZXQoKSk7XG4gICAgICAgIGNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldChmYm8uZnJhbWVidWZmZXIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYmluZFRleHR1cmVUb0ZyYW1lYnVmZmVyKGNvbnRleHQsIHBhaW50ZXIsIHRleHR1cmUsIGZibykge1xuICAgIGNvbnN0IGdsID0gY29udGV4dC5nbDtcbiAgICAvLyBVc2UgdGhlIGhpZ2hlciBwcmVjaXNpb24gaGFsZi1mbG9hdCB0ZXh0dXJlIHdoZXJlIGF2YWlsYWJsZSAocHJvZHVjaW5nIG11Y2ggc21vb3RoZXIgbG9va2luZyBoZWF0bWFwcyk7XG4gICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBwYWludGVyLndpZHRoIC8gNCwgcGFpbnRlci5oZWlnaHQgLyA0LCAwLCBnbC5SR0JBLFxuICAgICAgICBjb250ZXh0LmV4dFRleHR1cmVIYWxmRmxvYXQgPyBjb250ZXh0LmV4dFRleHR1cmVIYWxmRmxvYXQuSEFMRl9GTE9BVF9PRVMgOiBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcblxuICAgIGZiby5jb2xvckF0dGFjaG1lbnQuc2V0KHRleHR1cmUpO1xuXG4gICAgLy8gSWYgdXNpbmcgaGFsZi1mbG9hdCB0ZXh0dXJlIGFzIGEgcmVuZGVyIHRhcmdldCBpcyBub3Qgc3VwcG9ydGVkLCBmYWxsIGJhY2sgdG8gYSBsb3cgcHJlY2lzaW9uIHRleHR1cmVcbiAgICBpZiAoY29udGV4dC5leHRUZXh0dXJlSGFsZkZsb2F0ICYmIGdsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoZ2wuRlJBTUVCVUZGRVIpICE9PSBnbC5GUkFNRUJVRkZFUl9DT01QTEVURSkge1xuICAgICAgICBjb250ZXh0LmV4dFRleHR1cmVIYWxmRmxvYXQgPSBudWxsO1xuICAgICAgICBmYm8uY29sb3JBdHRhY2htZW50LnNldERpcnR5KCk7XG4gICAgICAgIGJpbmRUZXh0dXJlVG9GcmFtZWJ1ZmZlcihjb250ZXh0LCBwYWludGVyLCB0ZXh0dXJlLCBmYm8pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVuZGVyVGV4dHVyZVRvTWFwKHBhaW50ZXIsIGxheWVyKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhaW50ZXIuY29udGV4dDtcbiAgICBjb25zdCBnbCA9IGNvbnRleHQuZ2w7XG5cblxuICAgIC8vIEhlcmUgd2UgYmluZCB0d28gZGlmZmVyZW50IHRleHR1cmVzIGZyb20gd2hpY2ggd2UnbGwgc2FtcGxlIGluIGRyYXdpbmdcbiAgICAvLyBoZWF0bWFwczogdGhlIGtlcm5lbCB0ZXh0dXJlLCBwcmVwYXJlZCBpbiB0aGUgb2Zmc2NyZWVuIHBhc3MsIGFuZCBhXG4gICAgLy8gY29sb3IgcmFtcCB0ZXh0dXJlLlxuICAgIGNvbnN0IGZibyA9IGxheWVyLmhlYXRtYXBGYm87XG4gICAgaWYgKCFmYm8pIHJldHVybjtcbiAgICBjb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGdsLlRFWFRVUkUwKTtcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBmYm8uY29sb3JBdHRhY2htZW50LmdldCgpKTtcblxuICAgIGNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoZ2wuVEVYVFVSRTEpO1xuICAgIGxldCBjb2xvclJhbXBUZXh0dXJlID0gbGF5ZXIuY29sb3JSYW1wVGV4dHVyZTtcbiAgICBpZiAoIWNvbG9yUmFtcFRleHR1cmUpIHtcbiAgICAgICAgY29sb3JSYW1wVGV4dHVyZSA9IGxheWVyLmNvbG9yUmFtcFRleHR1cmUgPSBuZXcgVGV4dHVyZShjb250ZXh0LCBsYXllci5jb2xvclJhbXAsIGdsLlJHQkEpO1xuICAgIH1cbiAgICBjb2xvclJhbXBUZXh0dXJlLmJpbmQoZ2wuTElORUFSLCBnbC5DTEFNUF9UT19FREdFKTtcblxuICAgIGNvbnRleHQuc2V0RGVwdGhNb2RlKERlcHRoTW9kZS5kaXNhYmxlZCk7XG5cbiAgICBjb25zdCBwcm9ncmFtID0gcGFpbnRlci51c2VQcm9ncmFtKCdoZWF0bWFwVGV4dHVyZScpO1xuXG4gICAgY29uc3Qgb3BhY2l0eSA9IGxheWVyLnBhaW50LmdldCgnaGVhdG1hcC1vcGFjaXR5Jyk7XG4gICAgZ2wudW5pZm9ybTFmKHByb2dyYW0udW5pZm9ybXMudV9vcGFjaXR5LCBvcGFjaXR5KTtcbiAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X2ltYWdlLCAwKTtcbiAgICBnbC51bmlmb3JtMWkocHJvZ3JhbS51bmlmb3Jtcy51X2NvbG9yX3JhbXAsIDEpO1xuXG4gICAgY29uc3QgbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcbiAgICBtYXQ0Lm9ydGhvKG1hdHJpeCwgMCwgcGFpbnRlci53aWR0aCwgcGFpbnRlci5oZWlnaHQsIDAsIDAsIDEpO1xuICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIG1hdHJpeCk7XG5cbiAgICBnbC51bmlmb3JtMmYocHJvZ3JhbS51bmlmb3Jtcy51X3dvcmxkLCBnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQpO1xuXG4gICAgcGFpbnRlci52aWV3cG9ydFZBTy5iaW5kKHBhaW50ZXIuY29udGV4dCwgcHJvZ3JhbSwgcGFpbnRlci52aWV3cG9ydEJ1ZmZlciwgW10pO1xuXG4gICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQge1xuICAgIGlzUGF0dGVybk1pc3NpbmcsXG4gICAgc2V0UGF0dGVyblVuaWZvcm1zLFxuICAgIHByZXBhcmUgYXMgcHJlcGFyZVBhdHRlcm5cbn0gZnJvbSAnLi9wYXR0ZXJuJztcblxuaW1wb3J0IFN0ZW5jaWxNb2RlIGZyb20gJy4uL2dsL3N0ZW5jaWxfbW9kZSc7XG5pbXBvcnQgRGVwdGhNb2RlIGZyb20gJy4uL2dsL2RlcHRoX21vZGUnO1xuXG5pbXBvcnQgdHlwZSBQYWludGVyIGZyb20gJy4vcGFpbnRlcic7XG5pbXBvcnQgdHlwZSBTb3VyY2VDYWNoZSBmcm9tICcuLi9zb3VyY2Uvc291cmNlX2NhY2hlJztcbmltcG9ydCB0eXBlIEJhY2tncm91bmRTdHlsZUxheWVyIGZyb20gJy4uL3N0eWxlL3N0eWxlX2xheWVyL2JhY2tncm91bmRfc3R5bGVfbGF5ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBkcmF3QmFja2dyb3VuZDtcblxuZnVuY3Rpb24gZHJhd0JhY2tncm91bmQocGFpbnRlcjogUGFpbnRlciwgc291cmNlQ2FjaGU6IFNvdXJjZUNhY2hlLCBsYXllcjogQmFja2dyb3VuZFN0eWxlTGF5ZXIpIHtcbiAgICBjb25zdCBjb2xvciA9IGxheWVyLnBhaW50LmdldCgnYmFja2dyb3VuZC1jb2xvcicpO1xuICAgIGNvbnN0IG9wYWNpdHkgPSBsYXllci5wYWludC5nZXQoJ2JhY2tncm91bmQtb3BhY2l0eScpO1xuXG4gICAgaWYgKG9wYWNpdHkgPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBwYWludGVyLmNvbnRleHQ7XG4gICAgY29uc3QgZ2wgPSBjb250ZXh0LmdsO1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHBhaW50ZXIudHJhbnNmb3JtO1xuICAgIGNvbnN0IHRpbGVTaXplID0gdHJhbnNmb3JtLnRpbGVTaXplO1xuICAgIGNvbnN0IGltYWdlID0gbGF5ZXIucGFpbnQuZ2V0KCdiYWNrZ3JvdW5kLXBhdHRlcm4nKTtcblxuICAgIGNvbnN0IHBhc3MgPSAoIWltYWdlICYmIGNvbG9yLmEgPT09IDEgJiYgb3BhY2l0eSA9PT0gMSkgPyAnb3BhcXVlJyA6ICd0cmFuc2x1Y2VudCc7XG4gICAgaWYgKHBhaW50ZXIucmVuZGVyUGFzcyAhPT0gcGFzcykgcmV0dXJuO1xuXG4gICAgY29udGV4dC5zZXRTdGVuY2lsTW9kZShTdGVuY2lsTW9kZS5kaXNhYmxlZCk7XG4gICAgY29udGV4dC5zZXREZXB0aE1vZGUocGFpbnRlci5kZXB0aE1vZGVGb3JTdWJsYXllcigwLCBwYXNzID09PSAnb3BhcXVlJyA/IERlcHRoTW9kZS5SZWFkV3JpdGUgOiBEZXB0aE1vZGUuUmVhZE9ubHkpKTtcbiAgICBjb250ZXh0LnNldENvbG9yTW9kZShwYWludGVyLmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSk7XG5cbiAgICBsZXQgcHJvZ3JhbTtcbiAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgaWYgKGlzUGF0dGVybk1pc3NpbmcoaW1hZ2UsIHBhaW50ZXIpKSByZXR1cm47XG4gICAgICAgIHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2JhY2tncm91bmRQYXR0ZXJuJyk7XG4gICAgICAgIHByZXBhcmVQYXR0ZXJuKGltYWdlLCBwYWludGVyLCBwcm9ncmFtKTtcbiAgICAgICAgcGFpbnRlci50aWxlRXh0ZW50UGF0dGVyblZBTy5iaW5kKGNvbnRleHQsIHByb2dyYW0sIHBhaW50ZXIudGlsZUV4dGVudEJ1ZmZlciwgW10pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2dyYW0gPSBwYWludGVyLnVzZVByb2dyYW0oJ2JhY2tncm91bmQnKTtcbiAgICAgICAgZ2wudW5pZm9ybTRmdihwcm9ncmFtLnVuaWZvcm1zLnVfY29sb3IsIFtjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iLCBjb2xvci5hXSk7XG4gICAgICAgIHBhaW50ZXIudGlsZUV4dGVudFZBTy5iaW5kKGNvbnRleHQsIHByb2dyYW0sIHBhaW50ZXIudGlsZUV4dGVudEJ1ZmZlciwgW10pO1xuICAgIH1cblxuICAgIGdsLnVuaWZvcm0xZihwcm9ncmFtLnVuaWZvcm1zLnVfb3BhY2l0eSwgb3BhY2l0eSk7XG4gICAgY29uc3QgdGlsZUlEcyA9IHRyYW5zZm9ybS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZX0pO1xuXG4gICAgZm9yIChjb25zdCB0aWxlSUQgb2YgdGlsZUlEcykge1xuICAgICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIHNldFBhdHRlcm5Vbmlmb3Jtcyh7dGlsZUlELCB0aWxlU2l6ZX0sIHBhaW50ZXIsIHByb2dyYW0pO1xuICAgICAgICB9XG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbS51bmlmb3Jtcy51X21hdHJpeCwgZmFsc2UsIHBhaW50ZXIudHJhbnNmb3JtLmNhbGN1bGF0ZVBvc01hdHJpeCh0aWxlSUQudG9VbndyYXBwZWQoKSkpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCBwYWludGVyLnRpbGVFeHRlbnRCdWZmZXIubGVuZ3RoKTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgQ29vcmRpbmF0ZSBmcm9tICcuLi9nZW8vY29vcmRpbmF0ZSc7XG5cbmltcG9ydCB7IE92ZXJzY2FsZWRUaWxlSUQgfSBmcm9tICcuLi9zb3VyY2UvdGlsZV9pZCc7XG5cbmV4cG9ydCBkZWZhdWx0IHRpbGVDb3ZlcjtcblxuZnVuY3Rpb24gdGlsZUNvdmVyKHo6IG51bWJlciwgYm91bmRzOiBbQ29vcmRpbmF0ZSwgQ29vcmRpbmF0ZSwgQ29vcmRpbmF0ZSwgQ29vcmRpbmF0ZV0sXG4gICAgICAgIGFjdHVhbFo6IG51bWJlciwgcmVuZGVyV29ybGRDb3BpZXM6IGJvb2xlYW4gfCB2b2lkKSB7XG4gICAgaWYgKHJlbmRlcldvcmxkQ29waWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVuZGVyV29ybGRDb3BpZXMgPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB0aWxlcyA9IDEgPDwgejtcbiAgICBjb25zdCB0ID0ge307XG5cbiAgICBmdW5jdGlvbiBzY2FuTGluZSh4MCwgeDEsIHkpIHtcbiAgICAgICAgbGV0IHgsIHcsIHd4LCBjb29yZDtcbiAgICAgICAgaWYgKHkgPj0gMCAmJiB5IDw9IHRpbGVzKSB7XG4gICAgICAgICAgICBmb3IgKHggPSB4MDsgeCA8IHgxOyB4KyspIHtcbiAgICAgICAgICAgICAgICB3ID0gTWF0aC5mbG9vcih4IC8gdGlsZXMpO1xuICAgICAgICAgICAgICAgIHd4ID0gKHggJSB0aWxlcyArIHRpbGVzKSAlIHRpbGVzO1xuICAgICAgICAgICAgICAgIGlmICh3ID09PSAwIHx8IHJlbmRlcldvcmxkQ29waWVzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvb3JkID0gbmV3IE92ZXJzY2FsZWRUaWxlSUQoYWN0dWFsWiwgdywgeiwgd3gsIHkpO1xuICAgICAgICAgICAgICAgICAgICB0W2Nvb3JkLmtleV0gPSBjb29yZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEaXZpZGUgdGhlIHNjcmVlbiB1cCBpbiB0d28gdHJpYW5nbGVzIGFuZCBzY2FuIGVhY2ggb2YgdGhlbTpcbiAgICAvLyArLS0tL1xuICAgIC8vIHwgLyB8XG4gICAgLy8gLy0tLStcbiAgICBzY2FuVHJpYW5nbGUoYm91bmRzWzBdLCBib3VuZHNbMV0sIGJvdW5kc1syXSwgMCwgdGlsZXMsIHNjYW5MaW5lKTtcbiAgICBzY2FuVHJpYW5nbGUoYm91bmRzWzJdLCBib3VuZHNbM10sIGJvdW5kc1swXSwgMCwgdGlsZXMsIHNjYW5MaW5lKTtcblxuICAgIHJldHVybiBPYmplY3Qua2V5cyh0KS5tYXAoKGlkKSA9PiB7XG4gICAgICAgIHJldHVybiB0W2lkXTtcbiAgICB9KTtcbn1cblxuXG4vLyBUYWtlbiBmcm9tIHBvbHltYXBzIHNyYy9MYXllci5qc1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3NpbXBsZWdlby9wb2x5bWFwcy9ibG9iL21hc3Rlci9zcmMvTGF5ZXIuanMjTDMzMy1MMzgzXG5cbmZ1bmN0aW9uIGVkZ2UoYTogQ29vcmRpbmF0ZSwgYjogQ29vcmRpbmF0ZSkge1xuICAgIGlmIChhLnJvdyA+IGIucm93KSB7IGNvbnN0IHQgPSBhOyBhID0gYjsgYiA9IHQ7IH1cbiAgICByZXR1cm4ge1xuICAgICAgICB4MDogYS5jb2x1bW4sXG4gICAgICAgIHkwOiBhLnJvdyxcbiAgICAgICAgeDE6IGIuY29sdW1uLFxuICAgICAgICB5MTogYi5yb3csXG4gICAgICAgIGR4OiBiLmNvbHVtbiAtIGEuY29sdW1uLFxuICAgICAgICBkeTogYi5yb3cgLSBhLnJvd1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIHNjYW5TcGFucyhlMCwgZTEsIHltaW4sIHltYXgsIHNjYW5MaW5lKSB7XG4gICAgY29uc3QgeTAgPSBNYXRoLm1heCh5bWluLCBNYXRoLmZsb29yKGUxLnkwKSk7XG4gICAgY29uc3QgeTEgPSBNYXRoLm1pbih5bWF4LCBNYXRoLmNlaWwoZTEueTEpKTtcblxuICAgIC8vIHNvcnQgZWRnZXMgYnkgeC1jb29yZGluYXRlXG4gICAgaWYgKChlMC54MCA9PT0gZTEueDAgJiYgZTAueTAgPT09IGUxLnkwKSA/XG4gICAgICAgIChlMC54MCArIGUxLmR5IC8gZTAuZHkgKiBlMC5keCA8IGUxLngxKSA6XG4gICAgICAgIChlMC54MSAtIGUxLmR5IC8gZTAuZHkgKiBlMC5keCA8IGUxLngwKSkge1xuICAgICAgICBjb25zdCB0ID0gZTA7IGUwID0gZTE7IGUxID0gdDtcbiAgICB9XG5cbiAgICAvLyBzY2FuIGxpbmVzIVxuICAgIGNvbnN0IG0wID0gZTAuZHggLyBlMC5keTtcbiAgICBjb25zdCBtMSA9IGUxLmR4IC8gZTEuZHk7XG4gICAgY29uc3QgZDAgPSBlMC5keCA+IDA7IC8vIHVzZSB5ICsgMSB0byBjb21wdXRlIHgwXG4gICAgY29uc3QgZDEgPSBlMS5keCA8IDA7IC8vIHVzZSB5ICsgMSB0byBjb21wdXRlIHgxXG4gICAgZm9yIChsZXQgeSA9IHkwOyB5IDwgeTE7IHkrKykge1xuICAgICAgICBjb25zdCB4MCA9IG0wICogTWF0aC5tYXgoMCwgTWF0aC5taW4oZTAuZHksIHkgKyBkMCAtIGUwLnkwKSkgKyBlMC54MDtcbiAgICAgICAgY29uc3QgeDEgPSBtMSAqIE1hdGgubWF4KDAsIE1hdGgubWluKGUxLmR5LCB5ICsgZDEgLSBlMS55MCkpICsgZTEueDA7XG4gICAgICAgIHNjYW5MaW5lKE1hdGguZmxvb3IoeDEpLCBNYXRoLmNlaWwoeDApLCB5KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNjYW5UcmlhbmdsZShhOiBDb29yZGluYXRlLCBiOiBDb29yZGluYXRlLCBjOiBDb29yZGluYXRlLCB5bWluLCB5bWF4LCBzY2FuTGluZSkge1xuICAgIGxldCBhYiA9IGVkZ2UoYSwgYiksXG4gICAgICAgIGJjID0gZWRnZShiLCBjKSxcbiAgICAgICAgY2EgPSBlZGdlKGMsIGEpO1xuXG4gICAgbGV0IHQ7XG5cbiAgICAvLyBzb3J0IGVkZ2VzIGJ5IHktbGVuZ3RoXG4gICAgaWYgKGFiLmR5ID4gYmMuZHkpIHsgdCA9IGFiOyBhYiA9IGJjOyBiYyA9IHQ7IH1cbiAgICBpZiAoYWIuZHkgPiBjYS5keSkgeyB0ID0gYWI7IGFiID0gY2E7IGNhID0gdDsgfVxuICAgIGlmIChiYy5keSA+IGNhLmR5KSB7IHQgPSBiYzsgYmMgPSBjYTsgY2EgPSB0OyB9XG5cbiAgICAvLyBzY2FuIHNwYW4hIHNjYW4gc3BhbiFcbiAgICBpZiAoYWIuZHkpIHNjYW5TcGFucyhjYSwgYWIsIHltaW4sIHltYXgsIHNjYW5MaW5lKTtcbiAgICBpZiAoYmMuZHkpIHNjYW5TcGFucyhjYSwgYmMsIHltaW4sIHltYXgsIHNjYW5MaW5lKTtcbn1cblxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IExuZ0xhdCBmcm9tICcuL2xuZ19sYXQnO1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgQ29vcmRpbmF0ZSBmcm9tICcuL2Nvb3JkaW5hdGUnO1xuaW1wb3J0IHsgd3JhcCwgY2xhbXAgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuaW1wb3J0IHtudW1iZXIgYXMgaW50ZXJwb2xhdGV9IGZyb20gJy4uL3N0eWxlLXNwZWMvdXRpbC9pbnRlcnBvbGF0ZSc7XG5pbXBvcnQgdGlsZUNvdmVyIGZyb20gJy4uL3V0aWwvdGlsZV9jb3Zlcic7XG5pbXBvcnQgeyBDYW5vbmljYWxUaWxlSUQsIFVud3JhcHBlZFRpbGVJRCB9IGZyb20gJy4uL3NvdXJjZS90aWxlX2lkJztcbmltcG9ydCBFWFRFTlQgZnJvbSAnLi4vZGF0YS9leHRlbnQnO1xuaW1wb3J0IGdsbWF0cml4IGZyb20gJ0BtYXBib3gvZ2wtbWF0cml4JztcblxuY29uc3QgdmVjNCA9IGdsbWF0cml4LnZlYzQsXG4gICAgbWF0NCA9IGdsbWF0cml4Lm1hdDQsXG4gICAgbWF0MiA9IGdsbWF0cml4Lm1hdDI7XG5cbi8qKlxuICogQSBzaW5nbGUgdHJhbnNmb3JtLCBnZW5lcmFsbHkgdXNlZCBmb3IgYSBzaW5nbGUgdGlsZSB0byBiZVxuICogc2NhbGVkLCByb3RhdGVkLCBhbmQgem9vbWVkLlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgVHJhbnNmb3JtIHtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIHRpbGVab29tOiBudW1iZXI7XG4gICAgbG5nUmFuZ2U6ID9bbnVtYmVyLCBudW1iZXJdO1xuICAgIGxhdFJhbmdlOiA/W251bWJlciwgbnVtYmVyXTtcbiAgICBzY2FsZTogbnVtYmVyO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgYW5nbGU6IG51bWJlcjtcbiAgICByb3RhdGlvbk1hdHJpeDogRmxvYXQ2NEFycmF5O1xuICAgIHpvb21GcmFjdGlvbjogbnVtYmVyO1xuICAgIHBpeGVsc1RvR0xVbml0czogQXJyYXk8bnVtYmVyPjtcbiAgICBjYW1lcmFUb0NlbnRlckRpc3RhbmNlOiBudW1iZXI7XG4gICAgcHJvak1hdHJpeDogRmxvYXQ2NEFycmF5O1xuICAgIGFsaWduZWRQcm9qTWF0cml4OiBGbG9hdDY0QXJyYXk7XG4gICAgcGl4ZWxNYXRyaXg6IEZsb2F0NjRBcnJheTtcbiAgICBwaXhlbE1hdHJpeEludmVyc2U6IEZsb2F0NjRBcnJheTtcbiAgICBfZm92OiBudW1iZXI7XG4gICAgX3BpdGNoOiBudW1iZXI7XG4gICAgX3pvb206IG51bWJlcjtcbiAgICBfdW5tb2RpZmllZDogYm9vbGVhbjtcbiAgICBfcmVuZGVyV29ybGRDb3BpZXM6IGJvb2xlYW47XG4gICAgX21pblpvb206IG51bWJlcjtcbiAgICBfbWF4Wm9vbTogbnVtYmVyO1xuICAgIF9jZW50ZXI6IExuZ0xhdDtcbiAgICBfY29uc3RyYWluaW5nOiBib29sZWFuO1xuICAgIF9wb3NNYXRyaXhDYWNoZToge1tudW1iZXJdOiBGbG9hdDMyQXJyYXl9O1xuICAgIF9hbGlnbmVkUG9zTWF0cml4Q2FjaGU6IHtbbnVtYmVyXTogRmxvYXQzMkFycmF5fTtcblxuICAgIGNvbnN0cnVjdG9yKG1pblpvb206ID9udW1iZXIsIG1heFpvb206ID9udW1iZXIsIHJlbmRlcldvcmxkQ29waWVzOiBib29sZWFuIHwgdm9pZCkge1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gNTEyOyAvLyBjb25zdGFudFxuXG4gICAgICAgIHRoaXMuX3JlbmRlcldvcmxkQ29waWVzID0gcmVuZGVyV29ybGRDb3BpZXMgPT09IHVuZGVmaW5lZCA/IHRydWUgOiByZW5kZXJXb3JsZENvcGllcztcbiAgICAgICAgdGhpcy5fbWluWm9vbSA9IG1pblpvb20gfHwgMDtcbiAgICAgICAgdGhpcy5fbWF4Wm9vbSA9IG1heFpvb20gfHwgMjI7XG5cbiAgICAgICAgdGhpcy5sYXRSYW5nZSA9IFstODUuMDUxMTMsIDg1LjA1MTEzXTtcblxuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLl9jZW50ZXIgPSBuZXcgTG5nTGF0KDAsIDApO1xuICAgICAgICB0aGlzLnpvb20gPSAwO1xuICAgICAgICB0aGlzLmFuZ2xlID0gMDtcbiAgICAgICAgdGhpcy5fZm92ID0gMC42NDM1MDExMDg3OTMyODQ0O1xuICAgICAgICB0aGlzLl9waXRjaCA9IDA7XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wb3NNYXRyaXhDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLl9hbGlnbmVkUG9zTWF0cml4Q2FjaGUgPSB7fTtcbiAgICB9XG5cbiAgICBjbG9uZSgpOiBUcmFuc2Zvcm0ge1xuICAgICAgICBjb25zdCBjbG9uZSA9IG5ldyBUcmFuc2Zvcm0odGhpcy5fbWluWm9vbSwgdGhpcy5fbWF4Wm9vbSwgdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMpO1xuICAgICAgICBjbG9uZS50aWxlU2l6ZSA9IHRoaXMudGlsZVNpemU7XG4gICAgICAgIGNsb25lLmxhdFJhbmdlID0gdGhpcy5sYXRSYW5nZTtcbiAgICAgICAgY2xvbmUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICBjbG9uZS5oZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICAgICAgY2xvbmUuX2NlbnRlciA9IHRoaXMuX2NlbnRlcjtcbiAgICAgICAgY2xvbmUuem9vbSA9IHRoaXMuem9vbTtcbiAgICAgICAgY2xvbmUuYW5nbGUgPSB0aGlzLmFuZ2xlO1xuICAgICAgICBjbG9uZS5fZm92ID0gdGhpcy5fZm92O1xuICAgICAgICBjbG9uZS5fcGl0Y2ggPSB0aGlzLl9waXRjaDtcbiAgICAgICAgY2xvbmUuX3VubW9kaWZpZWQgPSB0aGlzLl91bm1vZGlmaWVkO1xuICAgICAgICBjbG9uZS5fY2FsY01hdHJpY2VzKCk7XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBnZXQgbWluWm9vbSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fbWluWm9vbTsgfVxuICAgIHNldCBtaW5ab29tKHpvb206IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5fbWluWm9vbSA9PT0gem9vbSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9taW5ab29tID0gem9vbTtcbiAgICAgICAgdGhpcy56b29tID0gTWF0aC5tYXgodGhpcy56b29tLCB6b29tKTtcbiAgICB9XG5cbiAgICBnZXQgbWF4Wm9vbSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fbWF4Wm9vbTsgfVxuICAgIHNldCBtYXhab29tKHpvb206IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5fbWF4Wm9vbSA9PT0gem9vbSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9tYXhab29tID0gem9vbTtcbiAgICAgICAgdGhpcy56b29tID0gTWF0aC5taW4odGhpcy56b29tLCB6b29tKTtcbiAgICB9XG5cbiAgICBnZXQgcmVuZGVyV29ybGRDb3BpZXMoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl9yZW5kZXJXb3JsZENvcGllczsgfVxuICAgIHNldCByZW5kZXJXb3JsZENvcGllcyhyZW5kZXJXb3JsZENvcGllcz86ID9ib29sZWFuKSB7XG4gICAgICAgIGlmIChyZW5kZXJXb3JsZENvcGllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZW5kZXJXb3JsZENvcGllcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAocmVuZGVyV29ybGRDb3BpZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlbmRlcldvcmxkQ29waWVzID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJXb3JsZENvcGllcyA9IHJlbmRlcldvcmxkQ29waWVzO1xuICAgIH1cblxuICAgIGdldCB3b3JsZFNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVNpemUgKiB0aGlzLnNjYWxlO1xuICAgIH1cblxuICAgIGdldCBjZW50ZXJQb2ludCgpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemUuX2RpdigyKTtcbiAgICB9XG5cbiAgICBnZXQgc2l6ZSgpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIGdldCBiZWFyaW5nKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAtdGhpcy5hbmdsZSAvIE1hdGguUEkgKiAxODA7XG4gICAgfVxuICAgIHNldCBiZWFyaW5nKGJlYXJpbmc6IG51bWJlcikge1xuICAgICAgICBjb25zdCBiID0gLXdyYXAoYmVhcmluZywgLTE4MCwgMTgwKSAqIE1hdGguUEkgLyAxODA7XG4gICAgICAgIGlmICh0aGlzLmFuZ2xlID09PSBiKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hbmdsZSA9IGI7XG4gICAgICAgIHRoaXMuX2NhbGNNYXRyaWNlcygpO1xuXG4gICAgICAgIC8vIDJ4MiBtYXRyaXggZm9yIHJvdGF0aW5nIHBvaW50c1xuICAgICAgICB0aGlzLnJvdGF0aW9uTWF0cml4ID0gbWF0Mi5jcmVhdGUoKTtcbiAgICAgICAgbWF0Mi5yb3RhdGUodGhpcy5yb3RhdGlvbk1hdHJpeCwgdGhpcy5yb3RhdGlvbk1hdHJpeCwgdGhpcy5hbmdsZSk7XG4gICAgfVxuXG4gICAgZ2V0IHBpdGNoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9waXRjaCAvIE1hdGguUEkgKiAxODA7XG4gICAgfVxuICAgIHNldCBwaXRjaChwaXRjaDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHAgPSBjbGFtcChwaXRjaCwgMCwgNjApIC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgaWYgKHRoaXMuX3BpdGNoID09PSBwKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGl0Y2ggPSBwO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICBnZXQgZm92KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3YgLyBNYXRoLlBJICogMTgwO1xuICAgIH1cbiAgICBzZXQgZm92KGZvdjogbnVtYmVyKSB7XG4gICAgICAgIGZvdiA9IE1hdGgubWF4KDAuMDEsIE1hdGgubWluKDYwLCBmb3YpKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZvdiA9PT0gZm92KSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZm92ID0gZm92IC8gMTgwICogTWF0aC5QSTtcbiAgICAgICAgdGhpcy5fY2FsY01hdHJpY2VzKCk7XG4gICAgfVxuXG4gICAgZ2V0IHpvb20oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3pvb207IH1cbiAgICBzZXQgem9vbSh6b29tOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgeiA9IE1hdGgubWluKE1hdGgubWF4KHpvb20sIHRoaXMubWluWm9vbSksIHRoaXMubWF4Wm9vbSk7XG4gICAgICAgIGlmICh0aGlzLl96b29tID09PSB6KSByZXR1cm47XG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fem9vbSA9IHo7XG4gICAgICAgIHRoaXMuc2NhbGUgPSB0aGlzLnpvb21TY2FsZSh6KTtcbiAgICAgICAgdGhpcy50aWxlWm9vbSA9IE1hdGguZmxvb3Ioeik7XG4gICAgICAgIHRoaXMuem9vbUZyYWN0aW9uID0geiAtIHRoaXMudGlsZVpvb207XG4gICAgICAgIHRoaXMuX2NvbnN0cmFpbigpO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICBnZXQgY2VudGVyKCk6IExuZ0xhdCB7IHJldHVybiB0aGlzLl9jZW50ZXI7IH1cbiAgICBzZXQgY2VudGVyKGNlbnRlcjogTG5nTGF0KSB7XG4gICAgICAgIGlmIChjZW50ZXIubGF0ID09PSB0aGlzLl9jZW50ZXIubGF0ICYmIGNlbnRlci5sbmcgPT09IHRoaXMuX2NlbnRlci5sbmcpIHJldHVybjtcbiAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgIHRoaXMuX2NvbnN0cmFpbigpO1xuICAgICAgICB0aGlzLl9jYWxjTWF0cmljZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSB6b29tIGxldmVsIHRoYXQgd2lsbCBjb3ZlciBhbGwgdGlsZXMgdGhlIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMudGlsZVNpemVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMucm91bmRab29tXG4gICAgICogQHJldHVybnMge251bWJlcn0gem9vbSBsZXZlbFxuICAgICAqL1xuICAgIGNvdmVyaW5nWm9vbUxldmVsKG9wdGlvbnM6IHtyb3VuZFpvb20/OiBib29sZWFuLCB0aWxlU2l6ZTogbnVtYmVyfSkge1xuICAgICAgICByZXR1cm4gKG9wdGlvbnMucm91bmRab29tID8gTWF0aC5yb3VuZCA6IE1hdGguZmxvb3IpKFxuICAgICAgICAgICAgdGhpcy56b29tICsgdGhpcy5zY2FsZVpvb20odGhpcy50aWxlU2l6ZSAvIG9wdGlvbnMudGlsZVNpemUpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFueSBcIndyYXBwZWRcIiBjb3BpZXMgb2YgYSBnaXZlbiB0aWxlIGNvb3JkaW5hdGUgdGhhdCBhcmUgdmlzaWJsZVxuICAgICAqIGluIHRoZSBjdXJyZW50IHZpZXcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyh0aWxlSUQ6IENhbm9uaWNhbFRpbGVJRCkge1xuICAgICAgICBjb25zdCB1bCA9IHRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBQb2ludCgwLCAwKSwgMCk7XG4gICAgICAgIGNvbnN0IHVyID0gdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KHRoaXMud2lkdGgsIDApLCAwKTtcbiAgICAgICAgY29uc3QgdzAgPSBNYXRoLmZsb29yKHVsLmNvbHVtbik7XG4gICAgICAgIGNvbnN0IHcxID0gTWF0aC5mbG9vcih1ci5jb2x1bW4pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbbmV3IFVud3JhcHBlZFRpbGVJRCgwLCB0aWxlSUQpXTtcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcldvcmxkQ29waWVzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB3ID0gdzA7IHcgPD0gdzE7IHcrKykge1xuICAgICAgICAgICAgICAgIGlmICh3ID09PSAwKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgVW53cmFwcGVkVGlsZUlEKHcsIHRpbGVJRCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFsbCBjb29yZGluYXRlcyB0aGF0IGNvdWxkIGNvdmVyIHRoaXMgdHJhbnNmb3JtIGZvciBhIGNvdmVyaW5nXG4gICAgICogem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnRpbGVTaXplXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMubWluem9vbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLm1heHpvb21cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMucm91bmRab29tXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnJlcGFyc2VPdmVyc2NhbGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnJlbmRlcldvcmxkQ29waWVzXG4gICAgICogQHJldHVybnMge0FycmF5PFRpbGU+fSB0aWxlc1xuICAgICAqL1xuICAgIGNvdmVyaW5nVGlsZXMoXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHRpbGVTaXplOiBudW1iZXIsXG4gICAgICAgICAgICBtaW56b29tPzogbnVtYmVyLFxuICAgICAgICAgICAgbWF4em9vbT86IG51bWJlcixcbiAgICAgICAgICAgIHJvdW5kWm9vbT86IGJvb2xlYW4sXG4gICAgICAgICAgICByZXBhcnNlT3ZlcnNjYWxlZD86IGJvb2xlYW4sXG4gICAgICAgICAgICByZW5kZXJXb3JsZENvcGllcz86IGJvb2xlYW5cbiAgICAgICAgfVxuICAgICkge1xuICAgICAgICBsZXQgeiA9IHRoaXMuY292ZXJpbmdab29tTGV2ZWwob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGFjdHVhbFogPSB6O1xuXG4gICAgICAgIGlmIChvcHRpb25zLm1pbnpvb20gIT09IHVuZGVmaW5lZCAmJiB6IDwgb3B0aW9ucy5taW56b29tKSByZXR1cm4gW107XG4gICAgICAgIGlmIChvcHRpb25zLm1heHpvb20gIT09IHVuZGVmaW5lZCAmJiB6ID4gb3B0aW9ucy5tYXh6b29tKSB6ID0gb3B0aW9ucy5tYXh6b29tO1xuXG4gICAgICAgIGNvbnN0IGNlbnRlckNvb3JkID0gdGhpcy5wb2ludENvb3JkaW5hdGUodGhpcy5jZW50ZXJQb2ludCwgeik7XG4gICAgICAgIGNvbnN0IGNlbnRlclBvaW50ID0gbmV3IFBvaW50KGNlbnRlckNvb3JkLmNvbHVtbiAtIDAuNSwgY2VudGVyQ29vcmQucm93IC0gMC41KTtcbiAgICAgICAgY29uc3QgY29ybmVyQ29vcmRzID0gW1xuICAgICAgICAgICAgdGhpcy5wb2ludENvb3JkaW5hdGUobmV3IFBvaW50KDAsIDApLCB6KSxcbiAgICAgICAgICAgIHRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBQb2ludCh0aGlzLndpZHRoLCAwKSwgeiksXG4gICAgICAgICAgICB0aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgUG9pbnQodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpLCB6KSxcbiAgICAgICAgICAgIHRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBQb2ludCgwLCB0aGlzLmhlaWdodCksIHopXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB0aWxlQ292ZXIoeiwgY29ybmVyQ29vcmRzLCBvcHRpb25zLnJlcGFyc2VPdmVyc2NhbGVkID8gYWN0dWFsWiA6IHosIHRoaXMuX3JlbmRlcldvcmxkQ29waWVzKVxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGNlbnRlclBvaW50LmRpc3QoYS5jYW5vbmljYWwpIC0gY2VudGVyUG9pbnQuZGlzdChiLmNhbm9uaWNhbCkpO1xuICAgIH1cblxuICAgIHJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMucGl4ZWxzVG9HTFVuaXRzID0gWzIgLyB3aWR0aCwgLTIgLyBoZWlnaHRdO1xuICAgICAgICB0aGlzLl9jb25zdHJhaW4oKTtcbiAgICAgICAgdGhpcy5fY2FsY01hdHJpY2VzKCk7XG4gICAgfVxuXG4gICAgZ2V0IHVubW9kaWZpZWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl91bm1vZGlmaWVkOyB9XG5cbiAgICB6b29tU2NhbGUoem9vbTogbnVtYmVyKSB7IHJldHVybiBNYXRoLnBvdygyLCB6b29tKTsgfVxuICAgIHNjYWxlWm9vbShzY2FsZTogbnVtYmVyKSB7IHJldHVybiBNYXRoLmxvZyhzY2FsZSkgLyBNYXRoLkxOMjsgfVxuXG4gICAgcHJvamVjdChsbmdsYXQ6IExuZ0xhdCkge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICAgICAgdGhpcy5sbmdYKGxuZ2xhdC5sbmcpLFxuICAgICAgICAgICAgdGhpcy5sYXRZKGxuZ2xhdC5sYXQpKTtcbiAgICB9XG5cbiAgICB1bnByb2plY3QocG9pbnQ6IFBvaW50KTogTG5nTGF0IHtcbiAgICAgICAgcmV0dXJuIG5ldyBMbmdMYXQoXG4gICAgICAgICAgICB0aGlzLnhMbmcocG9pbnQueCksXG4gICAgICAgICAgICB0aGlzLnlMYXQocG9pbnQueSkpO1xuICAgIH1cblxuICAgIGdldCB4KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmxuZ1godGhpcy5jZW50ZXIubG5nKTsgfVxuICAgIGdldCB5KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmxhdFkodGhpcy5jZW50ZXIubGF0KTsgfVxuXG4gICAgZ2V0IHBvaW50KCk6IFBvaW50IHsgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7IH1cblxuICAgIC8qKlxuICAgICAqIGxhdGl0dWRlIHRvIGFic29sdXRlIHggY29vcmRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBwaXhlbCBjb29yZGluYXRlXG4gICAgICovXG4gICAgbG5nWChsbmc6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gKDE4MCArIGxuZykgKiB0aGlzLndvcmxkU2l6ZSAvIDM2MDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbGF0aXR1ZGUgdG8gYWJzb2x1dGUgeSBjb29yZFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHBpeGVsIGNvb3JkaW5hdGVcbiAgICAgKi9cbiAgICBsYXRZKGxhdDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHkgPSAxODAgLyBNYXRoLlBJICogTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSSAvIDQgKyBsYXQgKiBNYXRoLlBJIC8gMzYwKSk7XG4gICAgICAgIHJldHVybiAoMTgwIC0geSkgKiB0aGlzLndvcmxkU2l6ZSAvIDM2MDtcbiAgICB9XG5cbiAgICB4TG5nKHg6IG51bWJlcikge1xuICAgICAgICByZXR1cm4geCAqIDM2MCAvIHRoaXMud29ybGRTaXplIC0gMTgwO1xuICAgIH1cbiAgICB5TGF0KHk6IG51bWJlcikge1xuICAgICAgICBjb25zdCB5MiA9IDE4MCAtIHkgKiAzNjAgLyB0aGlzLndvcmxkU2l6ZTtcbiAgICAgICAgcmV0dXJuIDM2MCAvIE1hdGguUEkgKiBNYXRoLmF0YW4oTWF0aC5leHAoeTIgKiBNYXRoLlBJIC8gMTgwKSkgLSA5MDtcbiAgICB9XG5cbiAgICBzZXRMb2NhdGlvbkF0UG9pbnQobG5nbGF0OiBMbmdMYXQsIHBvaW50OiBQb2ludCkge1xuICAgICAgICBjb25zdCB0cmFuc2xhdGUgPSB0aGlzLnBvaW50Q29vcmRpbmF0ZShwb2ludCkuX3N1Yih0aGlzLnBvaW50Q29vcmRpbmF0ZSh0aGlzLmNlbnRlclBvaW50KSk7XG4gICAgICAgIHRoaXMuY2VudGVyID0gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUobG5nbGF0KS5fc3ViKHRyYW5zbGF0ZSkpO1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyV29ybGRDb3BpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuY2VudGVyID0gdGhpcy5jZW50ZXIud3JhcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBsb2NhdGlvbiwgcmV0dXJuIHRoZSBzY3JlZW4gcG9pbnQgdGhhdCBjb3JyZXNwb25kcyB0byBpdFxuICAgICAqIEBwYXJhbSB7TG5nTGF0fSBsbmdsYXQgbG9jYXRpb25cbiAgICAgKiBAcmV0dXJucyB7UG9pbnR9IHNjcmVlbiBwb2ludFxuICAgICAqL1xuICAgIGxvY2F0aW9uUG9pbnQobG5nbGF0OiBMbmdMYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29vcmRpbmF0ZVBvaW50KHRoaXMubG9jYXRpb25Db29yZGluYXRlKGxuZ2xhdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcG9pbnQgb24gc2NyZWVuLCByZXR1cm4gaXRzIGxuZ2xhdFxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHAgc2NyZWVuIHBvaW50XG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gbG5nbGF0IGxvY2F0aW9uXG4gICAgICovXG4gICAgcG9pbnRMb2NhdGlvbihwOiBQb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUocCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgZ2VvZ3JhcGhpY2FsIGxuZ2xhdCwgcmV0dXJuIGFuIHVucm91bmRlZFxuICAgICAqIGNvb3JkaW5hdGUgdGhhdCByZXByZXNlbnRzIGl0IGF0IHRoaXMgdHJhbnNmb3JtJ3Mgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge0xuZ0xhdH0gbG5nbGF0XG4gICAgICogQHJldHVybnMge0Nvb3JkaW5hdGV9XG4gICAgICovXG4gICAgbG9jYXRpb25Db29yZGluYXRlKGxuZ2xhdDogTG5nTGF0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29vcmRpbmF0ZShcbiAgICAgICAgICAgIHRoaXMubG5nWChsbmdsYXQubG5nKSAvIHRoaXMudGlsZVNpemUsXG4gICAgICAgICAgICB0aGlzLmxhdFkobG5nbGF0LmxhdCkgLyB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgdGhpcy56b29tKS56b29tVG8odGhpcy50aWxlWm9vbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBDb29yZGluYXRlLCByZXR1cm4gaXRzIGdlb2dyYXBoaWNhbCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Nvb3JkaW5hdGV9IGNvb3JkXG4gICAgICogQHJldHVybnMge0xuZ0xhdH0gbG5nbGF0XG4gICAgICovXG4gICAgY29vcmRpbmF0ZUxvY2F0aW9uKGNvb3JkOiBDb29yZGluYXRlKSB7XG4gICAgICAgIGNvbnN0IHpvb21lZENvb3JkID0gY29vcmQuem9vbVRvKHRoaXMuem9vbSk7XG4gICAgICAgIHJldHVybiBuZXcgTG5nTGF0KFxuICAgICAgICAgICAgdGhpcy54TG5nKHpvb21lZENvb3JkLmNvbHVtbiAqIHRoaXMudGlsZVNpemUpLFxuICAgICAgICAgICAgdGhpcy55TGF0KHpvb21lZENvb3JkLnJvdyAqIHRoaXMudGlsZVNpemUpKTtcbiAgICB9XG5cbiAgICBwb2ludENvb3JkaW5hdGUocDogUG9pbnQsIHpvb20/OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHpvb20gPT09IHVuZGVmaW5lZCkgem9vbSA9IHRoaXMudGlsZVpvb207XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0WiA9IDA7XG4gICAgICAgIC8vIHNpbmNlIHdlIGRvbid0IGtub3cgdGhlIGNvcnJlY3QgcHJvamVjdGVkIHogdmFsdWUgZm9yIHRoZSBwb2ludCxcbiAgICAgICAgLy8gdW5wcm9qZWN0IHR3byBwb2ludHMgdG8gZ2V0IGEgbGluZSBhbmQgdGhlbiBmaW5kIHRoZSBwb2ludCBvbiB0aGF0XG4gICAgICAgIC8vIGxpbmUgd2l0aCB6PTBcblxuICAgICAgICBjb25zdCBjb29yZDAgPSBbcC54LCBwLnksIDAsIDFdO1xuICAgICAgICBjb25zdCBjb29yZDEgPSBbcC54LCBwLnksIDEsIDFdO1xuXG4gICAgICAgIHZlYzQudHJhbnNmb3JtTWF0NChjb29yZDAsIGNvb3JkMCwgdGhpcy5waXhlbE1hdHJpeEludmVyc2UpO1xuICAgICAgICB2ZWM0LnRyYW5zZm9ybU1hdDQoY29vcmQxLCBjb29yZDEsIHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKTtcblxuICAgICAgICBjb25zdCB3MCA9IGNvb3JkMFszXTtcbiAgICAgICAgY29uc3QgdzEgPSBjb29yZDFbM107XG4gICAgICAgIGNvbnN0IHgwID0gY29vcmQwWzBdIC8gdzA7XG4gICAgICAgIGNvbnN0IHgxID0gY29vcmQxWzBdIC8gdzE7XG4gICAgICAgIGNvbnN0IHkwID0gY29vcmQwWzFdIC8gdzA7XG4gICAgICAgIGNvbnN0IHkxID0gY29vcmQxWzFdIC8gdzE7XG4gICAgICAgIGNvbnN0IHowID0gY29vcmQwWzJdIC8gdzA7XG4gICAgICAgIGNvbnN0IHoxID0gY29vcmQxWzJdIC8gdzE7XG5cbiAgICAgICAgY29uc3QgdCA9IHowID09PSB6MSA/IDAgOiAodGFyZ2V0WiAtIHowKSAvICh6MSAtIHowKTtcblxuICAgICAgICByZXR1cm4gbmV3IENvb3JkaW5hdGUoXG4gICAgICAgICAgICBpbnRlcnBvbGF0ZSh4MCwgeDEsIHQpIC8gdGhpcy50aWxlU2l6ZSxcbiAgICAgICAgICAgIGludGVycG9sYXRlKHkwLCB5MSwgdCkgLyB0aGlzLnRpbGVTaXplLFxuICAgICAgICAgICAgdGhpcy56b29tKS5fem9vbVRvKHpvb20pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgY29vcmRpbmF0ZSwgcmV0dXJuIHRoZSBzY3JlZW4gcG9pbnQgdGhhdCBjb3JyZXNwb25kcyB0byBpdFxuICAgICAqIEBwYXJhbSB7Q29vcmRpbmF0ZX0gY29vcmRcbiAgICAgKiBAcmV0dXJucyB7UG9pbnR9IHNjcmVlbiBwb2ludFxuICAgICAqL1xuICAgIGNvb3JkaW5hdGVQb2ludChjb29yZDogQ29vcmRpbmF0ZSkge1xuICAgICAgICBjb25zdCB6b29tZWRDb29yZCA9IGNvb3JkLnpvb21Ubyh0aGlzLnpvb20pO1xuICAgICAgICBjb25zdCBwID0gW3pvb21lZENvb3JkLmNvbHVtbiAqIHRoaXMudGlsZVNpemUsIHpvb21lZENvb3JkLnJvdyAqIHRoaXMudGlsZVNpemUsIDAsIDFdO1xuICAgICAgICB2ZWM0LnRyYW5zZm9ybU1hdDQocCwgcCwgdGhpcy5waXhlbE1hdHJpeCk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQocFswXSAvIHBbM10sIHBbMV0gLyBwWzNdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvc01hdHJpeCB0aGF0LCBnaXZlbiBhIHRpbGUgY29vcmRpbmF0ZSwgd291bGQgYmUgdXNlZCB0byBkaXNwbGF5IHRoZSB0aWxlIG9uIGEgbWFwLlxuICAgICAqIEBwYXJhbSB7VW53cmFwcGVkVGlsZUlEfSB1bndyYXBwZWRUaWxlSUQ7XG4gICAgICovXG4gICAgY2FsY3VsYXRlUG9zTWF0cml4KHVud3JhcHBlZFRpbGVJRDogVW53cmFwcGVkVGlsZUlELCBhbGlnbmVkOiBib29sZWFuID0gZmFsc2UpOiBGbG9hdDMyQXJyYXkge1xuICAgICAgICBjb25zdCBwb3NNYXRyaXhLZXkgPSB1bndyYXBwZWRUaWxlSUQua2V5O1xuICAgICAgICBjb25zdCBjYWNoZSA9IGFsaWduZWQgPyB0aGlzLl9hbGlnbmVkUG9zTWF0cml4Q2FjaGUgOiB0aGlzLl9wb3NNYXRyaXhDYWNoZTtcbiAgICAgICAgaWYgKGNhY2hlW3Bvc01hdHJpeEtleV0pIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZVtwb3NNYXRyaXhLZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2Fub25pY2FsID0gdW53cmFwcGVkVGlsZUlELmNhbm9uaWNhbDtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLndvcmxkU2l6ZSAvIHRoaXMuem9vbVNjYWxlKGNhbm9uaWNhbC56KTtcbiAgICAgICAgY29uc3QgdW53cmFwcGVkWCA9IGNhbm9uaWNhbC54ICsgTWF0aC5wb3coMiwgY2Fub25pY2FsLnopICogdW53cmFwcGVkVGlsZUlELndyYXA7XG5cbiAgICAgICAgY29uc3QgcG9zTWF0cml4ID0gbWF0NC5pZGVudGl0eShuZXcgRmxvYXQ2NEFycmF5KDE2KSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKHBvc01hdHJpeCwgcG9zTWF0cml4LCBbdW53cmFwcGVkWCAqIHNjYWxlLCBjYW5vbmljYWwueSAqIHNjYWxlLCAwXSk7XG4gICAgICAgIG1hdDQuc2NhbGUocG9zTWF0cml4LCBwb3NNYXRyaXgsIFtzY2FsZSAvIEVYVEVOVCwgc2NhbGUgLyBFWFRFTlQsIDFdKTtcbiAgICAgICAgbWF0NC5tdWx0aXBseShwb3NNYXRyaXgsIGFsaWduZWQgPyB0aGlzLmFsaWduZWRQcm9qTWF0cml4IDogdGhpcy5wcm9qTWF0cml4LCBwb3NNYXRyaXgpO1xuXG4gICAgICAgIGNhY2hlW3Bvc01hdHJpeEtleV0gPSBuZXcgRmxvYXQzMkFycmF5KHBvc01hdHJpeCk7XG4gICAgICAgIHJldHVybiBjYWNoZVtwb3NNYXRyaXhLZXldO1xuICAgIH1cblxuICAgIF9jb25zdHJhaW4oKSB7XG4gICAgICAgIGlmICghdGhpcy5jZW50ZXIgfHwgIXRoaXMud2lkdGggfHwgIXRoaXMuaGVpZ2h0IHx8IHRoaXMuX2NvbnN0cmFpbmluZykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX2NvbnN0cmFpbmluZyA9IHRydWU7XG5cbiAgICAgICAgbGV0IG1pblkgPSAtOTA7XG4gICAgICAgIGxldCBtYXhZID0gOTA7XG4gICAgICAgIGxldCBtaW5YID0gLTE4MDtcbiAgICAgICAgbGV0IG1heFggPSAxODA7XG4gICAgICAgIGxldCBzeSwgc3gsIHgyLCB5MjtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZSxcbiAgICAgICAgICAgIHVubW9kaWZpZWQgPSB0aGlzLl91bm1vZGlmaWVkO1xuXG4gICAgICAgIGlmICh0aGlzLmxhdFJhbmdlKSB7XG4gICAgICAgICAgICBjb25zdCBsYXRSYW5nZSA9IHRoaXMubGF0UmFuZ2U7XG4gICAgICAgICAgICBtaW5ZID0gdGhpcy5sYXRZKGxhdFJhbmdlWzFdKTtcbiAgICAgICAgICAgIG1heFkgPSB0aGlzLmxhdFkobGF0UmFuZ2VbMF0pO1xuICAgICAgICAgICAgc3kgPSBtYXhZIC0gbWluWSA8IHNpemUueSA/IHNpemUueSAvIChtYXhZIC0gbWluWSkgOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubG5nUmFuZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGxuZ1JhbmdlID0gdGhpcy5sbmdSYW5nZTtcbiAgICAgICAgICAgIG1pblggPSB0aGlzLmxuZ1gobG5nUmFuZ2VbMF0pO1xuICAgICAgICAgICAgbWF4WCA9IHRoaXMubG5nWChsbmdSYW5nZVsxXSk7XG4gICAgICAgICAgICBzeCA9IG1heFggLSBtaW5YIDwgc2l6ZS54ID8gc2l6ZS54IC8gKG1heFggLSBtaW5YKSA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBob3cgbXVjaCB0aGUgbWFwIHNob3VsZCBzY2FsZSB0byBmaXQgdGhlIHNjcmVlbiBpbnRvIGdpdmVuIGxhdGl0dWRlL2xvbmdpdHVkZSByYW5nZXNcbiAgICAgICAgY29uc3QgcyA9IE1hdGgubWF4KHN4IHx8IDAsIHN5IHx8IDApO1xuXG4gICAgICAgIGlmIChzKSB7XG4gICAgICAgICAgICB0aGlzLmNlbnRlciA9IHRoaXMudW5wcm9qZWN0KG5ldyBQb2ludChcbiAgICAgICAgICAgICAgICBzeCA/IChtYXhYICsgbWluWCkgLyAyIDogdGhpcy54LFxuICAgICAgICAgICAgICAgIHN5ID8gKG1heFkgKyBtaW5ZKSAvIDIgOiB0aGlzLnkpKTtcbiAgICAgICAgICAgIHRoaXMuem9vbSArPSB0aGlzLnNjYWxlWm9vbShzKTtcbiAgICAgICAgICAgIHRoaXMuX3VubW9kaWZpZWQgPSB1bm1vZGlmaWVkO1xuICAgICAgICAgICAgdGhpcy5fY29uc3RyYWluaW5nID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5sYXRSYW5nZSkge1xuICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMueSxcbiAgICAgICAgICAgICAgICBoMiA9IHNpemUueSAvIDI7XG5cbiAgICAgICAgICAgIGlmICh5IC0gaDIgPCBtaW5ZKSB5MiA9IG1pblkgKyBoMjtcbiAgICAgICAgICAgIGlmICh5ICsgaDIgPiBtYXhZKSB5MiA9IG1heFkgLSBoMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmxuZ1JhbmdlKSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gdGhpcy54LFxuICAgICAgICAgICAgICAgIHcyID0gc2l6ZS54IC8gMjtcblxuICAgICAgICAgICAgaWYgKHggLSB3MiA8IG1pblgpIHgyID0gbWluWCArIHcyO1xuICAgICAgICAgICAgaWYgKHggKyB3MiA+IG1heFgpIHgyID0gbWF4WCAtIHcyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFuIHRoZSBtYXAgaWYgdGhlIHNjcmVlbiBnb2VzIG9mZiB0aGUgcmFuZ2VcbiAgICAgICAgaWYgKHgyICE9PSB1bmRlZmluZWQgfHwgeTIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSB0aGlzLnVucHJvamVjdChuZXcgUG9pbnQoXG4gICAgICAgICAgICAgICAgeDIgIT09IHVuZGVmaW5lZCA/IHgyIDogdGhpcy54LFxuICAgICAgICAgICAgICAgIHkyICE9PSB1bmRlZmluZWQgPyB5MiA6IHRoaXMueSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdW5tb2RpZmllZCA9IHVubW9kaWZpZWQ7XG4gICAgICAgIHRoaXMuX2NvbnN0cmFpbmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9jYWxjTWF0cmljZXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5oZWlnaHQpIHJldHVybjtcblxuICAgICAgICB0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UgPSAwLjUgLyBNYXRoLnRhbih0aGlzLl9mb3YgLyAyKSAqIHRoaXMuaGVpZ2h0O1xuXG4gICAgICAgIC8vIEZpbmQgdGhlIGRpc3RhbmNlIGZyb20gdGhlIGNlbnRlciBwb2ludCBbd2lkdGgvMiwgaGVpZ2h0LzJdIHRvIHRoZVxuICAgICAgICAvLyBjZW50ZXIgdG9wIHBvaW50IFt3aWR0aC8yLCAwXSBpbiBaIHVuaXRzLCB1c2luZyB0aGUgbGF3IG9mIHNpbmVzLlxuICAgICAgICAvLyAxIFogdW5pdCBpcyBlcXVpdmFsZW50IHRvIDEgaG9yaXpvbnRhbCBweCBhdCB0aGUgY2VudGVyIG9mIHRoZSBtYXBcbiAgICAgICAgLy8gKHRoZSBkaXN0YW5jZSBiZXR3ZWVuW3dpZHRoLzIsIGhlaWdodC8yXSBhbmQgW3dpZHRoLzIgKyAxLCBoZWlnaHQvMl0pXG4gICAgICAgIGNvbnN0IGhhbGZGb3YgPSB0aGlzLl9mb3YgLyAyO1xuICAgICAgICBjb25zdCBncm91bmRBbmdsZSA9IE1hdGguUEkgLyAyICsgdGhpcy5fcGl0Y2g7XG4gICAgICAgIGNvbnN0IHRvcEhhbGZTdXJmYWNlRGlzdGFuY2UgPSBNYXRoLnNpbihoYWxmRm92KSAqIHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSAvIE1hdGguc2luKE1hdGguUEkgLSBncm91bmRBbmdsZSAtIGhhbGZGb3YpO1xuICAgICAgICBjb25zdCB4ID0gdGhpcy54LCB5ID0gdGhpcy55O1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB6IGRpc3RhbmNlIG9mIHRoZSBmYXJ0aGVzdCBmcmFnbWVudCB0aGF0IHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgICAgY29uc3QgZnVydGhlc3REaXN0YW5jZSA9IE1hdGguY29zKE1hdGguUEkgLyAyIC0gdGhpcy5fcGl0Y2gpICogdG9wSGFsZlN1cmZhY2VEaXN0YW5jZSArIHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTtcbiAgICAgICAgLy8gQWRkIGEgYml0IGV4dHJhIHRvIGF2b2lkIHByZWNpc2lvbiBwcm9ibGVtcyB3aGVuIGEgZnJhZ21lbnQncyBkaXN0YW5jZSBpcyBleGFjdGx5IGBmdXJ0aGVzdERpc3RhbmNlYFxuICAgICAgICBjb25zdCBmYXJaID0gZnVydGhlc3REaXN0YW5jZSAqIDEuMDE7XG5cbiAgICAgICAgLy8gbWF0cml4IGZvciBjb252ZXJzaW9uIGZyb20gbG9jYXRpb24gdG8gR0wgY29vcmRpbmF0ZXMgKC0xIC4uIDEpXG4gICAgICAgIGxldCBtID0gbmV3IEZsb2F0NjRBcnJheSgxNik7XG4gICAgICAgIG1hdDQucGVyc3BlY3RpdmUobSwgdGhpcy5fZm92LCB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQsIDEsIGZhclopO1xuXG4gICAgICAgIG1hdDQuc2NhbGUobSwgbSwgWzEsIC0xLCAxXSk7XG4gICAgICAgIG1hdDQudHJhbnNsYXRlKG0sIG0sIFswLCAwLCAtdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlXSk7XG4gICAgICAgIG1hdDQucm90YXRlWChtLCBtLCB0aGlzLl9waXRjaCk7XG4gICAgICAgIG1hdDQucm90YXRlWihtLCBtLCB0aGlzLmFuZ2xlKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobSwgbSwgWy14LCAteSwgMF0pO1xuXG4gICAgICAgIC8vIHNjYWxlIHZlcnRpY2FsbHkgdG8gbWV0ZXJzIHBlciBwaXhlbCAoaW52ZXJzZSBvZiBncm91bmQgcmVzb2x1dGlvbik6XG4gICAgICAgIC8vIHdvcmxkU2l6ZSAvIChjaXJjdW1mZXJlbmNlT2ZFYXJ0aCAqIGNvcyhsYXQgKiDPgCAvIDE4MCkpXG4gICAgICAgIGNvbnN0IHZlcnRpY2FsU2NhbGUgPSB0aGlzLndvcmxkU2l6ZSAvICgyICogTWF0aC5QSSAqIDYzNzgxMzcgKiBNYXRoLmFicyhNYXRoLmNvcyh0aGlzLmNlbnRlci5sYXQgKiAoTWF0aC5QSSAvIDE4MCkpKSk7XG4gICAgICAgIG1hdDQuc2NhbGUobSwgbSwgWzEsIDEsIHZlcnRpY2FsU2NhbGUsIDFdKTtcblxuICAgICAgICB0aGlzLnByb2pNYXRyaXggPSBtO1xuXG4gICAgICAgIC8vIE1ha2UgYSBzZWNvbmQgcHJvamVjdGlvbiBtYXRyaXggdGhhdCBpcyBhbGlnbmVkIHRvIGEgcGl4ZWwgZ3JpZCBmb3IgcmVuZGVyaW5nIHJhc3RlciB0aWxlcy5cbiAgICAgICAgLy8gV2UncmUgcm91bmRpbmcgdGhlIChmbG9hdGluZyBwb2ludCkgeC95IHZhbHVlcyB0byBhY2hpZXZlIHRvIGF2b2lkIHJlbmRlcmluZyByYXN0ZXIgaW1hZ2VzIHRvIGZyYWN0aW9uYWxcbiAgICAgICAgLy8gY29vcmRpbmF0ZXMuIEFkZGl0aW9uYWxseSwgd2UgYWRqdXN0IGJ5IGhhbGYgYSBwaXhlbCBpbiBlaXRoZXIgZGlyZWN0aW9uIGluIGNhc2UgdGhhdCB2aWV3cG9ydCBkaW1lbnNpb25cbiAgICAgICAgLy8gaXMgYW4gb2RkIGludGVnZXIgdG8gcHJlc2VydmUgcmVuZGVyaW5nIHRvIHRoZSBwaXhlbCBncmlkLiBXZSdyZSByb3RhdGluZyB0aGlzIHNoaWZ0IGJhc2VkIG9uIHRoZSBhbmdsZVxuICAgICAgICAvLyBvZiB0aGUgdHJhbnNmb3JtYXRpb24gc28gdGhhdCAwwrAsIDkwwrAsIDE4MMKwLCBhbmQgMjcwwrAgcmFzdGVycyBhcmUgY3Jpc3AsIGFuZCBhZGp1c3QgdGhlIHNoaWZ0IHNvIHRoYXRcbiAgICAgICAgLy8gaXQgaXMgYWx3YXlzIDw9IDAuNSBwaXhlbHMuXG4gICAgICAgIGNvbnN0IHhTaGlmdCA9ICh0aGlzLndpZHRoICUgMikgLyAyLCB5U2hpZnQgPSAodGhpcy5oZWlnaHQgJSAyKSAvIDIsXG4gICAgICAgICAgICBhbmdsZUNvcyA9IE1hdGguY29zKHRoaXMuYW5nbGUpLCBhbmdsZVNpbiA9IE1hdGguc2luKHRoaXMuYW5nbGUpLFxuICAgICAgICAgICAgZHggPSB4IC0gTWF0aC5yb3VuZCh4KSArIGFuZ2xlQ29zICogeFNoaWZ0ICsgYW5nbGVTaW4gKiB5U2hpZnQsXG4gICAgICAgICAgICBkeSA9IHkgLSBNYXRoLnJvdW5kKHkpICsgYW5nbGVDb3MgKiB5U2hpZnQgKyBhbmdsZVNpbiAqIHhTaGlmdDtcbiAgICAgICAgY29uc3QgYWxpZ25lZE0gPSBuZXcgRmxvYXQ2NEFycmF5KG0pO1xuICAgICAgICBtYXQ0LnRyYW5zbGF0ZShhbGlnbmVkTSwgYWxpZ25lZE0sIFsgZHggPiAwLjUgPyBkeCAtIDEgOiBkeCwgZHkgPiAwLjUgPyBkeSAtIDEgOiBkeSwgMCBdKTtcbiAgICAgICAgdGhpcy5hbGlnbmVkUHJvak1hdHJpeCA9IGFsaWduZWRNO1xuXG4gICAgICAgIC8vIG1hdHJpeCBmb3IgY29udmVyc2lvbiBmcm9tIGxvY2F0aW9uIHRvIHNjcmVlbiBjb29yZGluYXRlc1xuICAgICAgICBtID0gbWF0NC5jcmVhdGUoKTtcbiAgICAgICAgbWF0NC5zY2FsZShtLCBtLCBbdGhpcy53aWR0aCAvIDIsIC10aGlzLmhlaWdodCAvIDIsIDFdKTtcbiAgICAgICAgbWF0NC50cmFuc2xhdGUobSwgbSwgWzEsIC0xLCAwXSk7XG4gICAgICAgIHRoaXMucGl4ZWxNYXRyaXggPSBtYXQ0Lm11bHRpcGx5KG5ldyBGbG9hdDY0QXJyYXkoMTYpLCBtLCB0aGlzLnByb2pNYXRyaXgpO1xuXG4gICAgICAgIC8vIGludmVyc2UgbWF0cml4IGZvciBjb252ZXJzaW9uIGZyb20gc2NyZWVuIGNvb3JkaW5hZXMgdG8gbG9jYXRpb25cbiAgICAgICAgbSA9IG1hdDQuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLCB0aGlzLnBpeGVsTWF0cml4KTtcbiAgICAgICAgaWYgKCFtKSB0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gaW52ZXJ0IG1hdHJpeFwiKTtcbiAgICAgICAgdGhpcy5waXhlbE1hdHJpeEludmVyc2UgPSBtO1xuXG4gICAgICAgIHRoaXMuX3Bvc01hdHJpeENhY2hlID0ge307XG4gICAgICAgIHRoaXMuX2FsaWduZWRQb3NNYXRyaXhDYWNoZSA9IHt9O1xuICAgIH1cblxuICAgIG1heFBpdGNoU2NhbGVGYWN0b3IoKSB7XG4gICAgICAgIC8vIGNhbGNNYXRyaWNlcyBoYXNuJ3QgcnVuIHlldFxuICAgICAgICBpZiAoIXRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKSByZXR1cm4gMTtcblxuICAgICAgICBjb25zdCBjb29yZCA9IHRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBQb2ludCgwLCAwKSkuem9vbVRvKHRoaXMuem9vbSk7XG4gICAgICAgIGNvbnN0IHAgPSBbY29vcmQuY29sdW1uICogdGhpcy50aWxlU2l6ZSwgY29vcmQucm93ICogdGhpcy50aWxlU2l6ZSwgMCwgMV07XG4gICAgICAgIGNvbnN0IHRvcFBvaW50ID0gdmVjNC50cmFuc2Zvcm1NYXQ0KHAsIHAsIHRoaXMucGl4ZWxNYXRyaXgpO1xuICAgICAgICByZXR1cm4gdG9wUG9pbnRbM10gLyB0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmFuc2Zvcm07XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBiaW5kQWxsIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vdXRpbC93aW5kb3cnO1xuaW1wb3J0IHRocm90dGxlIGZyb20gJy4uL3V0aWwvdGhyb3R0bGUnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi9tYXAnO1xuXG4vKlxuICogQWRkcyB0aGUgbWFwJ3MgcG9zaXRpb24gdG8gaXRzIHBhZ2UncyBsb2NhdGlvbiBoYXNoLlxuICogUGFzc2VkIGFzIGFuIG9wdGlvbiB0byB0aGUgbWFwIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJucyB7SGFzaH0gYHRoaXNgXG4gKi9cbmNsYXNzIEhhc2gge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfdXBkYXRlSGFzaDogKCkgPT4gVGltZW91dElEO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbkhhc2hDaGFuZ2UnLFxuICAgICAgICAgICAgJ191cGRhdGVIYXNoJ1xuICAgICAgICBdLCB0aGlzKTtcblxuICAgICAgICAvLyBNb2JpbGUgU2FmYXJpIGRvZXNuJ3QgYWxsb3cgdXBkYXRpbmcgdGhlIGhhc2ggbW9yZSB0aGFuIDEwMCB0aW1lcyBwZXIgMzAgc2Vjb25kcy5cbiAgICAgICAgdGhpcy5fdXBkYXRlSGFzaCA9IHRocm90dGxlKHRoaXMuX3VwZGF0ZUhhc2hVbnRocm90dGxlZC5iaW5kKHRoaXMpLCAzMCAqIDEwMDAgLyAxMDApO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogTWFwIGVsZW1lbnQgdG8gbGlzdGVuIGZvciBjb29yZGluYXRlIGNoYW5nZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXBcbiAgICAgKiBAcmV0dXJucyB7SGFzaH0gYHRoaXNgXG4gICAgICovXG4gICAgYWRkVG8obWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMuX29uSGFzaENoYW5nZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLl9tYXAub24oJ21vdmVlbmQnLCB0aGlzLl91cGRhdGVIYXNoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBSZW1vdmVzIGhhc2hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gYHRoaXNgXG4gICAgICovXG4gICAgcmVtb3ZlKCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMuX29uSGFzaENoYW5nZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCdtb3ZlZW5kJywgdGhpcy5fdXBkYXRlSGFzaCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9tYXA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldEhhc2hTdHJpbmcobWFwRmVlZGJhY2s/OiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuX21hcC5nZXRDZW50ZXIoKSxcbiAgICAgICAgICAgIHpvb20gPSBNYXRoLnJvdW5kKHRoaXMuX21hcC5nZXRab29tKCkgKiAxMDApIC8gMTAwLFxuICAgICAgICAgICAgLy8gZGVyaXZlZCBmcm9tIGVxdWF0aW9uOiA1MTJweCAqIDJeeiAvIDM2MCAvIDEwXmQgPCAwLjVweFxuICAgICAgICAgICAgcHJlY2lzaW9uID0gTWF0aC5jZWlsKCh6b29tICogTWF0aC5MTjIgKyBNYXRoLmxvZyg1MTIgLyAzNjAgLyAwLjUpKSAvIE1hdGguTE4xMCksXG4gICAgICAgICAgICBtID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbiksXG4gICAgICAgICAgICBsbmcgPSBNYXRoLnJvdW5kKGNlbnRlci5sbmcgKiBtKSAvIG0sXG4gICAgICAgICAgICBsYXQgPSBNYXRoLnJvdW5kKGNlbnRlci5sYXQgKiBtKSAvIG0sXG4gICAgICAgICAgICBiZWFyaW5nID0gdGhpcy5fbWFwLmdldEJlYXJpbmcoKSxcbiAgICAgICAgICAgIHBpdGNoID0gdGhpcy5fbWFwLmdldFBpdGNoKCk7XG4gICAgICAgIGxldCBoYXNoID0gJyc7XG4gICAgICAgIGlmIChtYXBGZWVkYmFjaykge1xuICAgICAgICAgICAgLy8gbmV3IG1hcCBmZWVkYmFjayBzaXRlIGhhcyBzb21lIGNvbnN0cmFpbnRzIHRoYXQgZG9uJ3QgYWxsb3dcbiAgICAgICAgICAgIC8vIHVzIHRvIHVzZSB0aGUgc2FtZSBoYXNoIGZvcm1hdCBhcyB3ZSBkbyBmb3IgdGhlIE1hcCBoYXNoIG9wdGlvbi5cbiAgICAgICAgICAgIGhhc2ggKz0gYCMvJHtsbmd9LyR7bGF0fS8ke3pvb219YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhhc2ggKz0gYCMke3pvb219LyR7bGF0fS8ke2xuZ31gO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJlYXJpbmcgfHwgcGl0Y2gpIGhhc2ggKz0gKGAvJHtNYXRoLnJvdW5kKGJlYXJpbmcgKiAxMCkgLyAxMH1gKTtcbiAgICAgICAgaWYgKHBpdGNoKSBoYXNoICs9IChgLyR7TWF0aC5yb3VuZChwaXRjaCl9YCk7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cblxuICAgIF9vbkhhc2hDaGFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IGxvYyA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyMnLCAnJykuc3BsaXQoJy8nKTtcbiAgICAgICAgaWYgKGxvYy5sZW5ndGggPj0gMykge1xuICAgICAgICAgICAgdGhpcy5fbWFwLmp1bXBUbyh7XG4gICAgICAgICAgICAgICAgY2VudGVyOiBbK2xvY1syXSwgK2xvY1sxXV0sXG4gICAgICAgICAgICAgICAgem9vbTogK2xvY1swXSxcbiAgICAgICAgICAgICAgICBiZWFyaW5nOiArKGxvY1szXSB8fCAwKSxcbiAgICAgICAgICAgICAgICBwaXRjaDogKyhsb2NbNF0gfHwgMClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF91cGRhdGVIYXNoVW50aHJvdHRsZWQoKSB7XG4gICAgICAgIGNvbnN0IGhhc2ggPSB0aGlzLmdldEhhc2hTdHJpbmcoKTtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHdpbmRvdy5oaXN0b3J5LnN0YXRlLCAnJywgaGFzaCk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEhhc2g7XG4iLCIvLyBAZmxvd1xuXG4vKipcbiAqIFRocm90dGxlIHRoZSBnaXZlbiBmdW5jdGlvbiB0byBydW4gYXQgbW9zdCBldmVyeSBgcGVyaW9kYCBtaWxsaXNlY29uZHMuXG4gVGhyb3R0bGUgdGhlIGdpdmVuIGZ1bmN0aW9uIHRvIHJ1biBhdCBtb3N0IGV2ZXJ5IHBlcmlvZCBtaWxsaXNlY29uZHMuXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aHJvdHRsZShmbjogKCkgPT4gdm9pZCwgdGltZTogbnVtYmVyKTogKCkgPT4gVGltZW91dElEIHtcbiAgICBsZXQgcGVuZGluZyA9IGZhbHNlO1xuICAgIGxldCB0aW1lcklkOiBUaW1lb3V0SUQgPSAoMDogYW55KTtcblxuICAgIGNvbnN0IGxhdGVyID0gKCkgPT4ge1xuICAgICAgICB0aW1lcklkID0gKDA6IGFueSk7XG4gICAgICAgIGlmIChwZW5kaW5nKSB7XG4gICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQobGF0ZXIsIHRpbWUpO1xuICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHBlbmRpbmcgPSB0cnVlO1xuICAgICAgICBpZiAoIXRpbWVySWQpIHtcbiAgICAgICAgICAgIGxhdGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpbWVySWQ7XG4gICAgfTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IEV2ZW50IH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcblxuaW1wb3J0IERPTSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHR5cGUgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCB0eXBlIExuZ0xhdEJvdW5kcyBmcm9tICcuLi9nZW8vbG5nX2xhdF9ib3VuZHMnO1xuXG4vKipcbiAqIGBNYXBNb3VzZUV2ZW50YCBpcyB0aGUgZXZlbnQgdHlwZSBmb3IgbW91c2UtcmVsYXRlZCBtYXAgZXZlbnRzLlxuICogQGV4dGVuZHMge09iamVjdH1cbiAqL1xuZXhwb3J0IGNsYXNzIE1hcE1vdXNlRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IHR5cGUuXG4gICAgICovXG4gICAgdHlwZTogJ21vdXNlZG93bidcbiAgICAgICAgfCAnbW91c2V1cCdcbiAgICAgICAgfCAnY2xpY2snXG4gICAgICAgIHwgJ2RibGNsaWNrJ1xuICAgICAgICB8ICdtb3VzZW1vdmUnXG4gICAgICAgIHwgJ21vdXNlb3ZlcidcbiAgICAgICAgfCAnbW91c2VlbnRlcidcbiAgICAgICAgfCAnbW91c2VsZWF2ZSdcbiAgICAgICAgfCAnbW91c2VvdmVyJ1xuICAgICAgICB8ICdtb3VzZW91dCdcbiAgICAgICAgfCAnY29udGV4dG1lbnUnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBNYXBgIG9iamVjdCB0aGF0IGZpcmVkIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICBtYXA6IE1hcDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBET00gZXZlbnQgd2hpY2ggY2F1c2VkIHRoZSBtYXAgZXZlbnQuXG4gICAgICovXG4gICAgb3JpZ2luYWxFdmVudDogTW91c2VFdmVudDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXhlbCBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgY3Vyc29yLCByZWxhdGl2ZSB0byB0aGUgbWFwIGFuZCBtZWFzdXJlZCBmcm9tIHRoZSB0b3AgbGVmdCBjb3JuZXIuXG4gICAgICovXG4gICAgcG9pbnQ6IFBvaW50O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGdlb2dyYXBoaWMgbG9jYXRpb24gb24gdGhlIG1hcCBvZiB0aGUgbW91c2UgY3Vyc29yLlxuICAgICAqL1xuICAgIGxuZ0xhdDogTG5nTGF0O1xuXG4gICAgLyoqXG4gICAgICogUHJldmVudHMgc3Vic2VxdWVudCBkZWZhdWx0IHByb2Nlc3Npbmcgb2YgdGhlIGV2ZW50IGJ5IHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIHdpbGwgcHJldmVudCB0aGUgZm9sbG93aW5nIGRlZmF1bHQgbWFwIGJlaGF2aW9yczpcbiAgICAgKlxuICAgICAqICAgKiBPbiBgbW91c2Vkb3duYCBldmVudHMsIHRoZSBiZWhhdmlvciBvZiB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9XG4gICAgICogICAqIE9uIGBtb3VzZWRvd25gIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn1cbiAgICAgKiAgICogT24gYG1vdXNlZG93bmAgZXZlbnRzLCB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIEJveFpvb21IYW5kbGVyfVxuICAgICAqICAgKiBPbiBgZGJsY2xpY2tgIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBEb3VibGVDbGlja1pvb21IYW5kbGVyfVxuICAgICAqXG4gICAgICovXG4gICAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiBgcHJldmVudERlZmF1bHRgIGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgKi9cbiAgICBnZXQgZGVmYXVsdFByZXZlbnRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgfVxuXG4gICAgX2RlZmF1bHRQcmV2ZW50ZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgbWFwOiBNYXAsIG9yaWdpbmFsRXZlbnQ6IE1vdXNlRXZlbnQsIGRhdGE6IE9iamVjdCA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gRE9NLm1vdXNlUG9zKG1hcC5nZXRDYW52YXNDb250YWluZXIoKSwgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgIGNvbnN0IGxuZ0xhdCA9IG1hcC51bnByb2plY3QocG9pbnQpO1xuICAgICAgICBzdXBlcih0eXBlLCBleHRlbmQoeyBwb2ludCwgbG5nTGF0LCBvcmlnaW5hbEV2ZW50IH0sIGRhdGEpKTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBgTWFwVG91Y2hFdmVudGAgaXMgdGhlIGV2ZW50IHR5cGUgZm9yIHRvdWNoLXJlbGF0ZWQgbWFwIGV2ZW50cy5cbiAqIEBleHRlbmRzIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBjbGFzcyBNYXBUb3VjaEV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAgIC8qKlxuICAgICAqIFRoZSBldmVudCB0eXBlLlxuICAgICAqL1xuICAgIHR5cGU6ICd0b3VjaHN0YXJ0J1xuICAgICAgICB8ICd0b3VjaGVuZCdcbiAgICAgICAgfCAndG91Y2hjYW5jZWwnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBNYXBgIG9iamVjdCB0aGF0IGZpcmVkIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICBtYXA6IE1hcDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBET00gZXZlbnQgd2hpY2ggY2F1c2VkIHRoZSBtYXAgZXZlbnQuXG4gICAgICovXG4gICAgb3JpZ2luYWxFdmVudDogVG91Y2hFdmVudDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBnZW9ncmFwaGljIGxvY2F0aW9uIG9uIHRoZSBtYXAgb2YgdGhlIGNlbnRlciBvZiB0aGUgdG91Y2ggZXZlbnQgcG9pbnRzLlxuICAgICAqL1xuICAgIGxuZ0xhdDogTG5nTGF0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBpeGVsIGNvb3JkaW5hdGVzIG9mIHRoZSBjZW50ZXIgb2YgdGhlIHRvdWNoIGV2ZW50IHBvaW50cywgcmVsYXRpdmUgdG8gdGhlIG1hcCBhbmQgbWVhc3VyZWQgZnJvbSB0aGUgdG9wIGxlZnRcbiAgICAgKiBjb3JuZXIuXG4gICAgICovXG4gICAgcG9pbnQ6IFBvaW50O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFycmF5IG9mIHBpeGVsIGNvb3JkaW5hdGVzIGNvcnJlc3BvbmRpbmcgdG8gYVxuICAgICAqIFt0b3VjaCBldmVudCdzIGB0b3VjaGVzYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoRXZlbnQvdG91Y2hlcykgcHJvcGVydHkuXG4gICAgICovXG4gICAgcG9pbnRzOiBBcnJheTxQb2ludD47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9ucyBvbiB0aGUgbWFwIGNvcnJlc3BvbmRpbmcgdG8gYVxuICAgICAqIFt0b3VjaCBldmVudCdzIGB0b3VjaGVzYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoRXZlbnQvdG91Y2hlcykgcHJvcGVydHkuXG4gICAgICovXG4gICAgbG5nTGF0czogQXJyYXk8TG5nTGF0PjtcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHN1YnNlcXVlbnQgZGVmYXVsdCBwcm9jZXNzaW5nIG9mIHRoZSBldmVudCBieSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIHByZXZlbnQgdGhlIGZvbGxvd2luZyBkZWZhdWx0IG1hcCBiZWhhdmlvcnM6XG4gICAgICpcbiAgICAgKiAgICogT24gYHRvdWNoc3RhcnRgIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBEcmFnUGFuSGFuZGxlcn1cbiAgICAgKiAgICogT24gYHRvdWNoc3RhcnRgIGV2ZW50cywgdGhlIGJlaGF2aW9yIG9mIHtAbGluayBUb3VjaFpvb21Sb3RhdGVIYW5kbGVyfVxuICAgICAqXG4gICAgICovXG4gICAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiBgcHJldmVudERlZmF1bHRgIGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgKi9cbiAgICBnZXQgZGVmYXVsdFByZXZlbnRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgfVxuXG4gICAgX2RlZmF1bHRQcmV2ZW50ZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgbWFwOiBNYXAsIG9yaWdpbmFsRXZlbnQ6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gRE9NLnRvdWNoUG9zKG1hcC5nZXRDYW52YXNDb250YWluZXIoKSwgb3JpZ2luYWxFdmVudCk7XG4gICAgICAgIGNvbnN0IGxuZ0xhdHMgPSBwb2ludHMubWFwKCh0KSA9PiBtYXAudW5wcm9qZWN0KHQpKTtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHMucmVkdWNlKChwcmV2LCBjdXJyLCBpLCBhcnIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2LmFkZChjdXJyLmRpdihhcnIubGVuZ3RoKSk7XG4gICAgICAgIH0sIG5ldyBQb2ludCgwLCAwKSk7XG4gICAgICAgIGNvbnN0IGxuZ0xhdCA9IG1hcC51bnByb2plY3QocG9pbnQpO1xuICAgICAgICBzdXBlcih0eXBlLCB7IHBvaW50cywgcG9pbnQsIGxuZ0xhdHMsIGxuZ0xhdCwgb3JpZ2luYWxFdmVudCB9KTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuXG4vKipcbiAqIGBNYXBXaGVlbEV2ZW50YCBpcyB0aGUgZXZlbnQgdHlwZSBmb3IgdGhlIGB3aGVlbGAgbWFwIGV2ZW50LlxuICogQGV4dGVuZHMge09iamVjdH1cbiAqL1xuZXhwb3J0IGNsYXNzIE1hcFdoZWVsRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IHR5cGUuXG4gICAgICovXG4gICAgdHlwZTogJ3doZWVsJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBgTWFwYCBvYmplY3QgdGhhdCBmaXJlZCB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgbWFwOiBNYXA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgRE9NIGV2ZW50IHdoaWNoIGNhdXNlZCB0aGUgbWFwIGV2ZW50LlxuICAgICAqL1xuICAgIG9yaWdpbmFsRXZlbnQ6IFdoZWVsRXZlbnQ7XG5cbiAgICAvKipcbiAgICAgKiBQcmV2ZW50cyBzdWJzZXF1ZW50IGRlZmF1bHQgcHJvY2Vzc2luZyBvZiB0aGUgZXZlbnQgYnkgdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBwcmV2ZW50IHRoZSB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIFNjcm9sbFpvb21IYW5kbGVyfS5cbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIGBwcmV2ZW50RGVmYXVsdGAgaGFzIGJlZW4gY2FsbGVkLlxuICAgICAqL1xuICAgIGdldCBkZWZhdWx0UHJldmVudGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG5cbiAgICBfZGVmYXVsdFByZXZlbnRlZDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nLCBtYXA6IE1hcCwgb3JpZ2luYWxFdmVudDogV2hlZWxFdmVudCkge1xuICAgICAgICBzdXBlcih0eXBlLCB7IG9yaWdpbmFsRXZlbnQgfSk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICB9XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTWFwQm94Wm9vbUV2ZW50XG4gKiBAcHJvcGVydHkge01vdXNlRXZlbnR9IG9yaWdpbmFsRXZlbnRcbiAqIEBwcm9wZXJ0eSB7TG5nTGF0Qm91bmRzfSBib3hab29tQm91bmRzIFRoZSBib3VuZGluZyBib3ggb2YgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbi5cbiAqICAgVGhpcyBwcm9wZXJ0eSBpcyBvbmx5IHByb3ZpZGVkIGZvciBgYm94em9vbWVuZGAgZXZlbnRzLlxuICovXG5leHBvcnQgdHlwZSBNYXBCb3hab29tRXZlbnQgPSB7XG4gICAgdHlwZTogJ2JveHpvb21zdGFydCdcbiAgICAgICAgfCAnYm94em9vbWVuZCdcbiAgICAgICAgfCAnYm94em9vbWNhbmNlbCcsXG4gICAgbWFwOiBNYXAsXG4gICAgb3JpZ2luYWxFdmVudDogTW91c2VFdmVudCxcbiAgICBib3hab29tQm91bmRzOiBMbmdMYXRCb3VuZHNcbn07XG5cbi8qKlxuICogQSBgTWFwRGF0YUV2ZW50YCBvYmplY3QgaXMgZW1pdHRlZCB3aXRoIHRoZSB7QGxpbmsgTWFwLmV2ZW50OmRhdGF9XG4gKiBhbmQge0BsaW5rIE1hcC5ldmVudDpkYXRhbG9hZGluZ30gZXZlbnRzLiBQb3NzaWJsZSB2YWx1ZXMgZm9yXG4gKiBgZGF0YVR5cGVgcyBhcmU6XG4gKlxuICogLSBgJ3NvdXJjZSdgOiBUaGUgbm9uLXRpbGUgZGF0YSBhc3NvY2lhdGVkIHdpdGggYW55IHNvdXJjZVxuICogLSBgJ3N0eWxlJ2A6IFRoZSBbc3R5bGVdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvKSB1c2VkIGJ5IHRoZSBtYXBcbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNYXBEYXRhRXZlbnRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRhdGFUeXBlIFRoZSB0eXBlIG9mIGRhdGEgdGhhdCBoYXMgY2hhbmdlZC4gT25lIG9mIGAnc291cmNlJ2AsIGAnc3R5bGUnYC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2lzU291cmNlTG9hZGVkXSBUcnVlIGlmIHRoZSBldmVudCBoYXMgYSBgZGF0YVR5cGVgIG9mIGBzb3VyY2VgIGFuZCB0aGUgc291cmNlIGhhcyBubyBvdXRzdGFuZGluZyBuZXR3b3JrIHJlcXVlc3RzLlxuICogQHByb3BlcnR5IHtPYmplY3R9IFtzb3VyY2VdIFRoZSBbc3R5bGUgc3BlYyByZXByZXNlbnRhdGlvbiBvZiB0aGUgc291cmNlXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyNzb3VyY2VzKSBpZiB0aGUgZXZlbnQgaGFzIGEgYGRhdGFUeXBlYCBvZiBgc291cmNlYC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc291cmNlRGF0YVR5cGVdIEluY2x1ZGVkIGlmIHRoZSBldmVudCBoYXMgYSBgZGF0YVR5cGVgIG9mIGBzb3VyY2VgIGFuZCB0aGUgZXZlbnQgc2lnbmFsc1xuICogdGhhdCBpbnRlcm5hbCBkYXRhIGhhcyBiZWVuIHJlY2VpdmVkIG9yIGNoYW5nZWQuIFBvc3NpYmxlIHZhbHVlcyBhcmUgYG1ldGFkYXRhYCBhbmQgYGNvbnRlbnRgLlxuICogQHByb3BlcnR5IHtPYmplY3R9IFt0aWxlXSBUaGUgdGlsZSBiZWluZyBsb2FkZWQgb3IgY2hhbmdlZCwgaWYgdGhlIGV2ZW50IGhhcyBhIGBkYXRhVHlwZWAgb2YgYHNvdXJjZWAgYW5kXG4gKiB0aGUgZXZlbnQgaXMgcmVsYXRlZCB0byBsb2FkaW5nIG9mIGEgdGlsZS5cbiAqIEBwcm9wZXJ0eSB7Q29vcmRpbmF0ZX0gW2Nvb3JkXSBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgdGlsZSBpZiB0aGUgZXZlbnQgaGFzIGEgYGRhdGFUeXBlYCBvZiBgc291cmNlYCBhbmRcbiAqIHRoZSBldmVudCBpcyByZWxhdGVkIHRvIGxvYWRpbmcgb2YgYSB0aWxlLlxuICovXG5leHBvcnQgdHlwZSBNYXBEYXRhRXZlbnQgPSB7XG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGRhdGFUeXBlOiBzdHJpbmdcbn07XG5cbmV4cG9ydCB0eXBlIE1hcENvbnRleHRFdmVudCA9IHtcbiAgICB0eXBlOiAnd2ViZ2xjb250ZXh0bG9zdCcgfCAnd2ViZ2xjb250ZXh0cmVzdG9yZWQnLFxuICAgIG9yaWdpbmFsRXZlbnQ6IFdlYkdMQ29udGV4dEV2ZW50XG59XG5cbmV4cG9ydCB0eXBlIE1hcEV2ZW50ID1cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIHByZXNzZWQgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW91c2Vkb3duXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqIEBzZWUgW0hpZ2hsaWdodCBmZWF0dXJlcyB3aXRoaW4gYSBib3VuZGluZyBib3hdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gICAgICogQHNlZSBbQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICovXG4gICAgfCAnbW91c2Vkb3duJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50aW5nIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyByZWxlYXNlZCB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCBtb3VzZXVwXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqIEBzZWUgW0hpZ2hsaWdodCBmZWF0dXJlcyB3aXRoaW4gYSBib3VuZGluZyBib3hdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gICAgICogQHNlZSBbQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICovXG4gICAgfCAnbW91c2V1cCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW91c2VvdmVyXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqIEBzZWUgW0dldCBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tb3VzZS1wb3NpdGlvbi8pXG4gICAgICogQHNlZSBbSGlnaGxpZ2h0IGZlYXR1cmVzIHVuZGVyIHRoZSBtb3VzZSBwb2ludGVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2hvdmVyLXN0eWxlcy8pXG4gICAgICogQHNlZSBbRGlzcGxheSBhIHBvcHVwIG9uIGhvdmVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWhvdmVyLylcbiAgICAgKi9cbiAgICB8ICdtb3VzZW92ZXInXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlbW92ZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKiBAc2VlIFtHZXQgY29vcmRpbmF0ZXMgb2YgdGhlIG1vdXNlIHBvaW50ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbW91c2UtcG9zaXRpb24vKVxuICAgICAqIEBzZWUgW0hpZ2hsaWdodCBmZWF0dXJlcyB1bmRlciB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9ob3Zlci1zdHlsZXMvKVxuICAgICAqIEBzZWUgW0Rpc3BsYXkgYSBwb3B1cCBvbiBvdmVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWhvdmVyLylcbiAgICAgKi9cbiAgICB8ICdtb3VzZW1vdmUnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRpbmcgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIGF0IHRoZSBzYW1lIHBvaW50IG9uIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgY2xpY2tcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50fSBkYXRhXG4gICAgICogQHNlZSBbTWVhc3VyZSBkaXN0YW5jZXNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbWVhc3VyZS8pXG4gICAgICogQHNlZSBbQ2VudGVyIHRoZSBtYXAgb24gYSBjbGlja2VkIHN5bWJvbF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jZW50ZXItb24tc3ltYm9sLylcbiAgICAgKi9cbiAgICB8ICdjbGljaydcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGluZyBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgY2xpY2tlZCB0d2ljZSBhdCB0aGUgc2FtZSBwb2ludCBvbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IGRibGNsaWNrXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2RibGNsaWNrJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50aW5nIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBlbnRlcnMgYSB2aXNpYmxlIHBvcnRpb24gb2YgYSBzcGVjaWZpZWQgbGF5ZXIgZnJvbVxuICAgICAqIG91dHNpZGUgdGhhdCBsYXllciBvciBvdXRzaWRlIHRoZSBtYXAgY2FudmFzLiBUaGlzIGV2ZW50IGNhbiBvbmx5IGJlIGxpc3RlbmVkIGZvciB2aWEgdGhlIHRocmVlLWFyZ3VtZW50XG4gICAgICogdmVyc2lvbiBvZiB7QGxpbmsgTWFwI29ufSwgd2hlcmUgdGhlIHNlY29uZCBhcmd1bWVudCBzcGVjaWZpZXMgdGhlIGRlc2lyZWQgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW91c2VlbnRlclxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdtb3VzZWVudGVyJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBvaW50aW5nIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBsZWF2ZXMgYSB2aXNpYmxlIHBvcnRpb24gb2YgYSBzcGVjaWZpZWQgbGF5ZXIsIG9yIGxlYXZlc1xuICAgICAqIHRoZSBtYXAgY2FudmFzLiBUaGlzIGV2ZW50IGNhbiBvbmx5IGJlIGxpc3RlbmVkIGZvciB2aWEgdGhlIHRocmVlLWFyZ3VtZW50IHZlcnNpb24gb2Yge0BsaW5rIE1hcCNvbn0sXG4gICAgICogd2hlcmUgdGhlIHNlY29uZCBhcmd1bWVudCBzcGVjaWZpZXMgdGhlIGRlc2lyZWQgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW91c2VsZWF2ZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKiBAc2VlIFtIaWdobGlnaHQgZmVhdHVyZXMgdW5kZXIgdGhlIG1vdXNlIHBvaW50ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvaG92ZXItc3R5bGVzLylcbiAgICAgKi9cbiAgICB8ICdtb3VzZWxlYXZlJ1xuXG4gICAgLyoqXG4gICAgICogU3lub255bSBmb3IgYG1vdXNlZW50ZXJgLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlb3ZlclxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdtb3VzZW92ZXInXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnQgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGxlYXZlcyB0aGUgbWFwJ3MgY2FudmFzLlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdXNlb3V0XG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ21vdXNlb3V0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgcmlnaHQgYnV0dG9uIG9mIHRoZSBtb3VzZSBpcyBjbGlja2VkIG9yIHRoZSBjb250ZXh0IG1lbnUga2V5IGlzIHByZXNzZWQgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgY29udGV4dG1lbnVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnY29udGV4dG1lbnUnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgW2B3aGVlbGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy93aGVlbCkgZXZlbnQgb2NjdXJzIHdpdGhpbiB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQGV2ZW50IHdoZWVsXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwV2hlZWxFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3doZWVsJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFtgdG91Y2hzdGFydGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy90b3VjaHN0YXJ0KSBldmVudCBvY2N1cnMgd2l0aGluIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgdG91Y2hzdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICd0b3VjaHN0YXJ0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFtgdG91Y2hlbmRgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvdG91Y2hlbmQpIGV2ZW50IG9jY3VycyB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCB0b3VjaGVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICd0b3VjaGVuZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBbYHRvdWNobW92ZWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy90b3VjaG1vdmUpIGV2ZW50IG9jY3VycyB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCB0b3VjaG1vdmVcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAndG91Y2htb3ZlJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFtgdG91Y2hjYW5jZWxgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvdG91Y2hjYW5jZWwpIGV2ZW50IG9jY3VycyB3aXRoaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBldmVudCB0b3VjaGNhbmNlbFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICd0b3VjaGNhbmNlbCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGp1c3QgYmVmb3JlIHRoZSBtYXAgYmVnaW5zIGEgdHJhbnNpdGlvbiBmcm9tIG9uZVxuICAgICAqIHZpZXcgdG8gYW5vdGhlciwgYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNqdW1wVG99LlxuICAgICAqXG4gICAgICogQGV2ZW50IG1vdmVzdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge3tvcmlnaW5hbEV2ZW50OiBEcmFnRXZlbnR9fSBkYXRhXG4gICAgICovXG4gICAgfCAnbW92ZXN0YXJ0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgcmVwZWF0ZWRseSBkdXJpbmcgYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbiBmcm9tIG9uZSB2aWV3IHRvXG4gICAgICogYW5vdGhlciwgYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW92ZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnbW92ZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGp1c3QgYWZ0ZXIgdGhlIG1hcCBjb21wbGV0ZXMgYSB0cmFuc2l0aW9uIGZyb20gb25lXG4gICAgICogdmlldyB0byBhbm90aGVyLCBhcyB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2p1bXBUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbW92ZWVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge3tvcmlnaW5hbEV2ZW50OiBEcmFnRXZlbnR9fSBkYXRhXG4gICAgICogQHNlZSBbUGxheSBtYXAgbG9jYXRpb25zIGFzIGEgc2xpZGVzaG93XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BsYXliYWNrLWxvY2F0aW9ucy8pXG4gICAgICogQHNlZSBbRmlsdGVyIGZlYXR1cmVzIHdpdGhpbiBtYXAgdmlld10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9maWx0ZXItZmVhdHVyZXMtd2l0aGluLW1hcC12aWV3LylcbiAgICAgKi9cbiAgICB8ICdtb3ZlZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBzdGFydHMuIFNlZSB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGRyYWdzdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge3tvcmlnaW5hbEV2ZW50OiBEcmFnRXZlbnR9fSBkYXRhXG4gICAgICovXG4gICAgfCAnZHJhZ3N0YXJ0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgcmVwZWF0ZWRseSBkdXJpbmcgYSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24uIFNlZSB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGRyYWdcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBNb3VzZUV2ZW50IHwgTWFwVG91Y2hFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2RyYWcnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIGVuZHMuIFNlZSB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGRyYWdlbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHt7b3JpZ2luYWxFdmVudDogRHJhZ0V2ZW50fX0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2RyYWdlbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBqdXN0IGJlZm9yZSB0aGUgbWFwIGJlZ2lucyBhIHRyYW5zaXRpb24gZnJvbSBvbmUgem9vbSBsZXZlbCB0byBhbm90aGVyLFxuICAgICAqIGFzIHRoZSByZXN1bHQgb2YgZWl0aGVyIHVzZXIgaW50ZXJhY3Rpb24gb3IgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBNYXAjZmx5VG99LlxuICAgICAqXG4gICAgICogQGV2ZW50IHpvb21zdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnem9vbXN0YXJ0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgcmVwZWF0ZWRseSBkdXJpbmcgYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbiBmcm9tIG9uZSB6b29tIGxldmVsIHRvIGFub3RoZXIsXG4gICAgICogYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgem9vbVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICogQHNlZSBbVXBkYXRlIGEgY2hvcm9wbGV0aCBsYXllciBieSB6b29tIGxldmVsXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3VwZGF0aW5nLWNob3JvcGxldGgvKVxuICAgICAqL1xuICAgIHwgJ3pvb20nXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBqdXN0IGFmdGVyIHRoZSBtYXAgY29tcGxldGVzIGEgdHJhbnNpdGlvbiBmcm9tIG9uZSB6b29tIGxldmVsIHRvIGFub3RoZXIsXG4gICAgICogYXMgdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgem9vbWVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnem9vbWVuZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gc3RhcnRzLiBTZWUge0BsaW5rIERyYWdSb3RhdGVIYW5kbGVyfS5cbiAgICAgKlxuICAgICAqIEBldmVudCByb3RhdGVzdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAncm90YXRlc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCByZXBlYXRlZGx5IGR1cmluZyBhIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbi4gU2VlIHtAbGluayBEcmFnUm90YXRlSGFuZGxlcn0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcm90YXRlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwTW91c2VFdmVudCB8IE1hcFRvdWNoRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdyb3RhdGUnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGVuZHMuIFNlZSB7QGxpbmsgRHJhZ1JvdGF0ZUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IHJvdGF0ZWVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAncm90YXRlZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbmV2ZXIgdGhlIG1hcCdzIHBpdGNoICh0aWx0KSBiZWdpbnMgYSBjaGFuZ2UgYXNcbiAgICAgKiB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2ZseVRvfSAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcGl0Y2hzdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcEV2ZW50RGF0YX0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3BpdGNoc3RhcnQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuZXZlciB0aGUgbWFwJ3MgcGl0Y2ggKHRpbHQpIGNoYW5nZXMgYXMuXG4gICAgICogdGhlIHJlc3VsdCBvZiBlaXRoZXIgdXNlciBpbnRlcmFjdGlvbiBvciBtZXRob2RzIHN1Y2ggYXMge0BsaW5rIE1hcCNmbHlUb30uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcGl0Y2hcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBFdmVudERhdGF9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdwaXRjaCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBtYXAncyBwaXRjaCAodGlsdCkgZmluaXNoZXMgY2hhbmdpbmcgYXNcbiAgICAgKiB0aGUgcmVzdWx0IG9mIGVpdGhlciB1c2VyIGludGVyYWN0aW9uIG9yIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgTWFwI2ZseVRvfS5cbiAgICAgKlxuICAgICAqIEBldmVudCBwaXRjaGVuZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcEV2ZW50RGF0YX0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3BpdGNoZW5kJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbiBzdGFydHMuIFNlZSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGJveHpvb21zdGFydFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcEJveFpvb21FdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2JveHpvb21zdGFydCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gZW5kcy4gIFNlZSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGJveHpvb21lbmRcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge01hcEJveFpvb21FdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ2JveHpvb21lbmQnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB1c2VyIGNhbmNlbHMgYSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24sIG9yIHdoZW4gdGhlIGJvdW5kaW5nIGJveCBkb2VzIG5vdCBtZWV0IHRoZSBtaW5pbXVtIHNpemUgdGhyZXNob2xkLlxuICAgICAqIFNlZSB7QGxpbmsgQm94Wm9vbUhhbmRsZXJ9LlxuICAgICAqXG4gICAgICogQGV2ZW50IGJveHpvb21jYW5jZWxcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBCb3hab29tRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdib3h6b29tY2FuY2VsJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIG1hcCBoYXMgYmVlbiByZXNpemVkLlxuICAgICAqXG4gICAgICogQGV2ZW50IHJlc2l6ZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB8ICdyZXNpemUnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSBXZWJHTCBjb250ZXh0IGlzIGxvc3QuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgd2ViZ2xjb250ZXh0bG9zdFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB8ICd3ZWJnbGNvbnRleHRsb3N0J1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgV2ViR0wgY29udGV4dCBpcyByZXN0b3JlZC5cbiAgICAgKlxuICAgICAqIEBldmVudCB3ZWJnbGNvbnRleHRyZXN0b3JlZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB8ICd3ZWJnbGNvbnRleHRyZXN0b3JlZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIGFsbCBuZWNlc3NhcnkgcmVzb3VyY2VzIGhhdmUgYmVlbiBkb3dubG9hZGVkXG4gICAgICogYW5kIHRoZSBmaXJzdCB2aXN1YWxseSBjb21wbGV0ZSByZW5kZXJpbmcgb2YgdGhlIG1hcCBoYXMgb2NjdXJyZWQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbG9hZFxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBzZWUgW0RyYXcgR2VvSlNPTiBwb2ludHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2VvanNvbi1tYXJrZXJzLylcbiAgICAgKiBAc2VlIFtBZGQgbGl2ZSByZWFsdGltZSBkYXRhXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xpdmUtZ2VvanNvbi8pXG4gICAgICogQHNlZSBbQW5pbWF0ZSBhIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2FuaW1hdGUtcG9pbnQtYWxvbmctbGluZS8pXG4gICAgICovXG4gICAgfCAnbG9hZCdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW5ldmVyIHRoZSBtYXAgaXMgZHJhd24gdG8gdGhlIHNjcmVlbiwgYXMgdGhlIHJlc3VsdCBvZlxuICAgICAqXG4gICAgICogLSBhIGNoYW5nZSB0byB0aGUgbWFwJ3MgcG9zaXRpb24sIHpvb20sIHBpdGNoLCBvciBiZWFyaW5nXG4gICAgICogLSBhIGNoYW5nZSB0byB0aGUgbWFwJ3Mgc3R5bGVcbiAgICAgKiAtIGEgY2hhbmdlIHRvIGEgR2VvSlNPTiBzb3VyY2VcbiAgICAgKiAtIHRoZSBsb2FkaW5nIG9mIGEgdmVjdG9yIHRpbGUsIEdlb0pTT04gZmlsZSwgZ2x5cGgsIG9yIHNwcml0ZVxuICAgICAqXG4gICAgICogQGV2ZW50IHJlbmRlclxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKi9cbiAgICB8ICdyZW5kZXInXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgbWFwIGhhcyBiZWVuIHJlbW92ZWQgd2l0aCB7QGxpbmsgTWFwLmV2ZW50OnJlbW92ZX0uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgcmVtb3ZlXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqL1xuICAgIHwgJ3JlbW92ZSdcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzLiBUaGlzIGlzIEdMIEpTJ3MgcHJpbWFyeSBlcnJvciByZXBvcnRpbmdcbiAgICAgKiBtZWNoYW5pc20uIFdlIHVzZSBhbiBldmVudCBpbnN0ZWFkIG9mIGB0aHJvd2AgdG8gYmV0dGVyIGFjY29tbW9kYXRlXG4gICAgICogYXN5bmNyb25vdXMgb3BlcmF0aW9ucy4gSWYgbm8gbGlzdGVuZXJzIGFyZSBib3VuZCB0byB0aGUgYGVycm9yYCBldmVudCwgdGhlXG4gICAgICogZXJyb3Igd2lsbCBiZSBwcmludGVkIHRvIHRoZSBjb25zb2xlLlxuICAgICAqXG4gICAgICogQGV2ZW50IGVycm9yXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7e2Vycm9yOiB7bWVzc2FnZTogc3RyaW5nfX19IGRhdGFcbiAgICAgKi9cbiAgICB8ICdlcnJvcidcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYW55IG1hcCBkYXRhIGxvYWRzIG9yIGNoYW5nZXMuIFNlZSB7QGxpbmsgTWFwRGF0YUV2ZW50fVxuICAgICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQGV2ZW50IGRhdGFcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBEYXRhRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdkYXRhJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgbWFwJ3Mgc3R5bGUgbG9hZHMgb3IgY2hhbmdlcy4gU2VlXG4gICAgICoge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc3R5bGVkYXRhXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm9wZXJ0eSB7TWFwRGF0YUV2ZW50fSBkYXRhXG4gICAgICovXG4gICAgfCAnc3R5bGVkYXRhJ1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBvbmUgb2YgdGhlIG1hcCdzIHNvdXJjZXMgbG9hZHMgb3IgY2hhbmdlcywgaW5jbHVkaW5nIGlmIGEgdGlsZSBiZWxvbmdpbmdcbiAgICAgKiB0byBhIHNvdXJjZSBsb2FkcyBvciBjaGFuZ2VzLiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc291cmNlZGF0YVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcERhdGFFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3NvdXJjZWRhdGEnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGFueSBtYXAgZGF0YSAoc3R5bGUsIHNvdXJjZSwgdGlsZSwgZXRjKSBiZWdpbnMgbG9hZGluZyBvclxuICAgICAqIGNoYW5naW5nIGFzeW5jcm9ub3VzbHkuIEFsbCBgZGF0YWxvYWRpbmdgIGV2ZW50cyBhcmUgZm9sbG93ZWQgYnkgYSBgZGF0YWBcbiAgICAgKiBvciBgZXJyb3JgIGV2ZW50LiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgZGF0YWxvYWRpbmdcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBEYXRhRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdkYXRhbG9hZGluZydcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIG1hcCdzIHN0eWxlIGJlZ2lucyBsb2FkaW5nIG9yIGNoYW5naW5nIGFzeW5jcm9ub3VzbHkuXG4gICAgICogQWxsIGBzdHlsZWRhdGFsb2FkaW5nYCBldmVudHMgYXJlIGZvbGxvd2VkIGJ5IGEgYHN0eWxlZGF0YWBcbiAgICAgKiBvciBgZXJyb3JgIGV2ZW50LiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc3R5bGVkYXRhbG9hZGluZ1xuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvcGVydHkge01hcERhdGFFdmVudH0gZGF0YVxuICAgICAqL1xuICAgIHwgJ3N0eWxlZGF0YWxvYWRpbmcnXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIG9uZSBvZiB0aGUgbWFwJ3Mgc291cmNlcyBiZWdpbnMgbG9hZGluZyBvciBjaGFuZ2luZyBhc3luY3Jvbm91c2x5LlxuICAgICAqIEFsbCBgc291cmNlZGF0YWxvYWRpbmdgIGV2ZW50cyBhcmUgZm9sbG93ZWQgYnkgYSBgc291cmNlZGF0YWAgb3IgYGVycm9yYCBldmVudC5cbiAgICAgKiBTZWUge0BsaW5rIE1hcERhdGFFdmVudH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXZlbnQgc291cmNlZGF0YWxvYWRpbmdcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3BlcnR5IHtNYXBEYXRhRXZlbnR9IGRhdGFcbiAgICAgKi9cbiAgICB8ICdzb3VyY2VkYXRhbG9hZGluZydcblxuICAgIC8qKlxuICAgICAqIEBldmVudCBzdHlsZS5sb2FkXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgfCAnc3R5bGUubG9hZCc7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcblxuaW1wb3J0IHsgZWFzZSBhcyBfZWFzZSwgYmluZEFsbCwgYmV6aWVyIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCBicm93c2VyIGZyb20gJy4uLy4uL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uLy4uL3V0aWwvd2luZG93JztcbmltcG9ydCB7IG51bWJlciBhcyBpbnRlcnBvbGF0ZSB9IGZyb20gJy4uLy4uL3N0eWxlLXNwZWMvdXRpbC9pbnRlcnBvbGF0ZSc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uLy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCB7IEV2ZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9ldmVudGVkJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5pbXBvcnQgdHlwZSBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB0eXBlIHtUYXNrSUR9IGZyb20gJy4uLy4uL3V0aWwvdGFza19xdWV1ZSc7XG5cbi8vIGRlbHRhWSB2YWx1ZSBmb3IgbW91c2Ugc2Nyb2xsIHdoZWVsIGlkZW50aWZpY2F0aW9uXG5jb25zdCB3aGVlbFpvb21EZWx0YSA9IDQuMDAwMjQ0MTQwNjI1O1xuLy8gVGhlc2UgbWFnaWMgbnVtYmVycyBjb250cm9sIHRoZSByYXRlIG9mIHpvb20uIFRyYWNrcGFkIGV2ZW50cyBmaXJlIGF0IGEgZ3JlYXRlclxuLy8gZnJlcXVlbmN5IHRoYW4gbW91c2Ugc2Nyb2xsIHdoZWVsLCBzbyByZWR1Y2UgdGhlIHpvb20gcmF0ZSBwZXIgd2hlZWwgdGlja1xuY29uc3QgZGVmYXVsdFpvb21SYXRlID0gMSAvIDEwMDtcbmNvbnN0IHdoZWVsWm9vbVJhdGUgPSAxIC8gNDUwO1xuXG4vLyB1cHBlciBib3VuZCBvbiBob3cgbXVjaCB3ZSBzY2FsZSB0aGUgbWFwIGluIGFueSBzaW5nbGUgcmVuZGVyIGZyYW1lOyB0aGlzXG4vLyBpcyB1c2VkIHRvIGxpbWl0IHpvb20gcmF0ZSBpbiB0aGUgY2FzZSBvZiB2ZXJ5IGZhc3Qgc2Nyb2xsaW5nXG5jb25zdCBtYXhTY2FsZVBlckZyYW1lID0gMjtcblxuLyoqXG4gKiBUaGUgYFNjcm9sbFpvb21IYW5kbGVyYCBhbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIGJ5IHNjcm9sbGluZy5cbiAqL1xuY2xhc3MgU2Nyb2xsWm9vbUhhbmRsZXIge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfZWw6IEhUTUxFbGVtZW50O1xuICAgIF9lbmFibGVkOiBib29sZWFuO1xuICAgIF9hY3RpdmU6IGJvb2xlYW47XG4gICAgX2Fyb3VuZENlbnRlcjogYm9vbGVhbjtcbiAgICBfYXJvdW5kOiBQb2ludDtcbiAgICBfYXJvdW5kUG9pbnQ6IFBvaW50O1xuICAgIF90eXBlOiAnd2hlZWwnIHwgJ3RyYWNrcGFkJyB8IG51bGw7XG4gICAgX2xhc3RWYWx1ZTogbnVtYmVyO1xuICAgIF90aW1lb3V0OiA/VGltZW91dElEOyAvLyB1c2VkIGZvciBkZWxheWVkLWhhbmRsaW5nIG9mIGEgc2luZ2xlIHdoZWVsIG1vdmVtZW50XG4gICAgX2ZpbmlzaFRpbWVvdXQ6ID9UaW1lb3V0SUQ7IC8vIHVzZWQgdG8gZGVsYXkgZmluYWwgJ3ttb3ZlLHpvb219ZW5kJyBldmVudHNcblxuICAgIF9sYXN0V2hlZWxFdmVudDogYW55O1xuICAgIF9sYXN0V2hlZWxFdmVudFRpbWU6IG51bWJlcjtcblxuICAgIF9zdGFydFpvb206IG51bWJlcjtcbiAgICBfdGFyZ2V0Wm9vbTogbnVtYmVyO1xuICAgIF9kZWx0YTogbnVtYmVyO1xuICAgIF9lYXNpbmc6IChudW1iZXIpID0+IG51bWJlcjtcbiAgICBfcHJldkVhc2U6IHtzdGFydDogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyLCBlYXNpbmc6IChudW1iZXIpID0+IG51bWJlcn07XG5cbiAgICBfZnJhbWVJZDogP1Rhc2tJRDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IG1hcC5nZXRDYW52YXNDb250YWluZXIoKTtcblxuICAgICAgICB0aGlzLl9kZWx0YSA9IDA7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uV2hlZWwnLFxuICAgICAgICAgICAgJ19vblRpbWVvdXQnLFxuICAgICAgICAgICAgJ19vblNjcm9sbEZyYW1lJyxcbiAgICAgICAgICAgICdfb25TY3JvbGxGaW5pc2hlZCdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcInNjcm9sbCB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwic2Nyb2xsIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fYWN0aXZlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIFwic2Nyb2xsIHRvIHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYXJvdW5kXSBJZiBcImNlbnRlclwiIGlzIHBhc3NlZCwgbWFwIHdpbGwgem9vbSBhcm91bmQgY2VudGVyIG9mIG1hcFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC5zY3JvbGxab29tLmVuYWJsZSgpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogIG1hcC5zY3JvbGxab29tLmVuYWJsZSh7IGFyb3VuZDogJ2NlbnRlcicgfSlcbiAgICAgKi9cbiAgICBlbmFibGUob3B0aW9uczogYW55KSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9hcm91bmRDZW50ZXIgPSBvcHRpb25zICYmIG9wdGlvbnMuYXJvdW5kID09PSAnY2VudGVyJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJzY3JvbGwgdG8gem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC5zY3JvbGxab29tLmRpc2FibGUoKTtcbiAgICAgKi9cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIG9uV2hlZWwoZTogV2hlZWxFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcblxuICAgICAgICAvLyBSZW1vdmUgYGFueWAgY2FzdCB3aGVuIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy80ODc5IGlzIGZpeGVkLlxuICAgICAgICBsZXQgdmFsdWUgPSBlLmRlbHRhTW9kZSA9PT0gKHdpbmRvdy5XaGVlbEV2ZW50OiBhbnkpLkRPTV9ERUxUQV9MSU5FID8gZS5kZWx0YVkgKiA0MCA6IGUuZGVsdGFZO1xuICAgICAgICBjb25zdCBub3cgPSBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgdGltZURlbHRhID0gbm93IC0gKHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZSB8fCAwKTtcblxuICAgICAgICB0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWUgPSBub3c7XG5cbiAgICAgICAgaWYgKHZhbHVlICE9PSAwICYmICh2YWx1ZSAlIHdoZWVsWm9vbURlbHRhKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gVGhpcyBvbmUgaXMgZGVmaW5pdGVseSBhIG1vdXNlIHdoZWVsIGV2ZW50LlxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9ICd3aGVlbCc7XG5cbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gMCAmJiBNYXRoLmFicyh2YWx1ZSkgPCA0KSB7XG4gICAgICAgICAgICAvLyBUaGlzIG9uZSBpcyBkZWZpbml0ZWx5IGEgdHJhY2twYWQgZXZlbnQgYmVjYXVzZSBpdCBpcyBzbyBzbWFsbC5cbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSAndHJhY2twYWQnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodGltZURlbHRhID4gNDAwKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGxpa2VseSBhIG5ldyBzY3JvbGwgYWN0aW9uLlxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9sYXN0VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgYSB0aW1lb3V0IGluIGNhc2UgdGhpcyB3YXMgYSBzaW5ndWxhciBldmVudCwgYW5kIGRlbHkgaXQgYnkgdXAgdG8gNDBtcy5cbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuX29uVGltZW91dCwgNDAsIGUpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3R5cGUpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSByZXBlYXRpbmcgZXZlbnQsIGJ1dCB3ZSBkb24ndCBrbm93IHRoZSB0eXBlIG9mIGV2ZW50IGp1c3QgeWV0LlxuICAgICAgICAgICAgLy8gSWYgdGhlIGRlbHRhIHBlciB0aW1lIGlzIHNtYWxsLCB3ZSBhc3N1bWUgaXQncyBhIGZhc3QgdHJhY2twYWQ7IG90aGVyd2lzZSB3ZSBzd2l0Y2ggaW50byB3aGVlbCBtb2RlLlxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IChNYXRoLmFicyh0aW1lRGVsdGEgKiB2YWx1ZSkgPCAyMDApID8gJ3RyYWNrcGFkJyA6ICd3aGVlbCc7XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBvdXIgZGVsYXllZCBldmVudCBpc24ndCBmaXJlZCBhZ2FpbiwgYmVjYXVzZSB3ZSBhY2N1bXVsYXRlXG4gICAgICAgICAgICAvLyB0aGUgcHJldmlvdXMgZXZlbnQgKHdoaWNoIHdhcyBsZXNzIHRoYW4gNDBtcyBhZ28pIGludG8gdGhpcyBldmVudC5cbiAgICAgICAgICAgIGlmICh0aGlzLl90aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuX2xhc3RWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNsb3cgZG93biB6b29tIGlmIHNoaWZ0IGtleSBpcyBoZWxkIGZvciBtb3JlIHByZWNpc2Ugem9vbWluZ1xuICAgICAgICBpZiAoZS5zaGlmdEtleSAmJiB2YWx1ZSkgdmFsdWUgPSB2YWx1ZSAvIDQ7XG5cbiAgICAgICAgLy8gT25seSBmaXJlIHRoZSBjYWxsYmFjayBpZiB3ZSBhY3R1YWxseSBrbm93IHdoYXQgdHlwZSBvZiBzY3JvbGxpbmcgZGV2aWNlIHRoZSB1c2VyIHVzZXMuXG4gICAgICAgIGlmICh0aGlzLl90eXBlKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0V2hlZWxFdmVudCA9IGU7XG4gICAgICAgICAgICB0aGlzLl9kZWx0YSAtPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgX29uVGltZW91dChpbml0aWFsRXZlbnQ6IGFueSkge1xuICAgICAgICB0aGlzLl90eXBlID0gJ3doZWVsJztcbiAgICAgICAgdGhpcy5fZGVsdGEgLT0gdGhpcy5fbGFzdFZhbHVlO1xuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgdGhpcy5fc3RhcnQoaW5pdGlhbEV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zdGFydChlOiBhbnkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kZWx0YSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuX2NhbmNlbFJlbmRlckZyYW1lKHRoaXMuX2ZyYW1lSWQpO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ21vdmVzdGFydCcsIHtvcmlnaW5hbEV2ZW50OiBlfSkpO1xuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ3pvb21zdGFydCcsIHtvcmlnaW5hbEV2ZW50OiBlfSkpO1xuICAgICAgICBpZiAodGhpcy5fZmluaXNoVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2ZpbmlzaFRpbWVvdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlKTtcblxuICAgICAgICB0aGlzLl9hcm91bmQgPSBMbmdMYXQuY29udmVydCh0aGlzLl9hcm91bmRDZW50ZXIgPyB0aGlzLl9tYXAuZ2V0Q2VudGVyKCkgOiB0aGlzLl9tYXAudW5wcm9qZWN0KHBvcykpO1xuICAgICAgICB0aGlzLl9hcm91bmRQb2ludCA9IHRoaXMuX21hcC50cmFuc2Zvcm0ubG9jYXRpb25Qb2ludCh0aGlzLl9hcm91bmQpO1xuICAgICAgICBpZiAoIXRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSB0aGlzLl9tYXAuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9vblNjcm9sbEZyYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblNjcm9sbEZyYW1lKCkge1xuICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcblxuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmUoKSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB0ciA9IHRoaXMuX21hcC50cmFuc2Zvcm07XG5cbiAgICAgICAgLy8gaWYgd2UndmUgaGFkIHNjcm9sbCBldmVudHMgc2luY2UgdGhlIGxhc3QgcmVuZGVyIGZyYW1lLCBjb25zdW1lIHRoZVxuICAgICAgICAvLyBhY2N1bXVsYXRlZCBkZWx0YSwgYW5kIHVwZGF0ZSB0aGUgdGFyZ2V0IHpvb20gbGV2ZWwgYWNjb3JkaW5nbHlcbiAgICAgICAgaWYgKHRoaXMuX2RlbHRhICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBGb3IgdHJhY2twYWQgZXZlbnRzIGFuZCBzaW5nbGUgbW91c2Ugd2hlZWwgdGlja3MsIHVzZSB0aGUgZGVmYXVsdCB6b29tIHJhdGVcbiAgICAgICAgICAgIGNvbnN0IHpvb21SYXRlID0gKHRoaXMuX3R5cGUgPT09ICd3aGVlbCcgJiYgTWF0aC5hYnModGhpcy5fZGVsdGEpID4gd2hlZWxab29tRGVsdGEpID8gd2hlZWxab29tUmF0ZSA6IGRlZmF1bHRab29tUmF0ZTtcbiAgICAgICAgICAgIC8vIFNjYWxlIGJ5IHNpZ21vaWQgb2Ygc2Nyb2xsIHdoZWVsIGRlbHRhLlxuICAgICAgICAgICAgbGV0IHNjYWxlID0gbWF4U2NhbGVQZXJGcmFtZSAvICgxICsgTWF0aC5leHAoLU1hdGguYWJzKHRoaXMuX2RlbHRhICogem9vbVJhdGUpKSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWx0YSA8IDAgJiYgc2NhbGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICBzY2FsZSA9IDEgLyBzY2FsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZnJvbVNjYWxlID0gdHlwZW9mIHRoaXMuX3RhcmdldFpvb20gPT09ICdudW1iZXInID8gdHIuem9vbVNjYWxlKHRoaXMuX3RhcmdldFpvb20pIDogdHIuc2NhbGU7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXRab29tID0gTWF0aC5taW4odHIubWF4Wm9vbSwgTWF0aC5tYXgodHIubWluWm9vbSwgdHIuc2NhbGVab29tKGZyb21TY2FsZSAqIHNjYWxlKSkpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgbW91c2Ugd2hlZWwsIHJlZnJlc2ggdGhlIHN0YXJ0aW5nIHpvb20gYW5kIGVhc2luZ1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24gd2UncmUgdXNpbmcgdG8gc21vb3RoIG91dCB0aGUgem9vbWluZyBiZXR3ZWVuIHdoZWVsXG4gICAgICAgICAgICAvLyBldmVudHNcbiAgICAgICAgICAgIGlmICh0aGlzLl90eXBlID09PSAnd2hlZWwnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRab29tID0gdHIuem9vbTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lYXNpbmcgPSB0aGlzLl9zbW9vdGhPdXRFYXNpbmcoMjAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZGVsdGEgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl90eXBlID09PSAnd2hlZWwnKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gTWF0aC5taW4oKGJyb3dzZXIubm93KCkgLSB0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWUpIC8gMjAwLCAxKTtcbiAgICAgICAgICAgIGNvbnN0IGsgPSB0aGlzLl9lYXNpbmcodCk7XG4gICAgICAgICAgICB0ci56b29tID0gaW50ZXJwb2xhdGUodGhpcy5fc3RhcnRab29tLCB0aGlzLl90YXJnZXRab29tLCBrKTtcbiAgICAgICAgICAgIGlmICh0IDwgMSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gdGhpcy5fbWFwLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fb25TY3JvbGxGcmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ci56b29tID0gdGhpcy5fdGFyZ2V0Wm9vbTtcbiAgICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyLnNldExvY2F0aW9uQXRQb2ludCh0aGlzLl9hcm91bmQsIHRoaXMuX2Fyb3VuZFBvaW50KTtcblxuICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ21vdmUnLCB7b3JpZ2luYWxFdmVudDogdGhpcy5fbGFzdFdoZWVsRXZlbnR9KSk7XG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCgnem9vbScsIHtvcmlnaW5hbEV2ZW50OiB0aGlzLl9sYXN0V2hlZWxFdmVudH0pKTtcblxuICAgICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fZmluaXNoVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCgnem9vbWVuZCcsIHtvcmlnaW5hbEV2ZW50OiB0aGlzLl9sYXN0V2hlZWxFdmVudH0pKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoJ21vdmVlbmQnLCB7b3JpZ2luYWxFdmVudDogdGhpcy5fbGFzdFdoZWVsRXZlbnR9KSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3RhcmdldFpvb207XG4gICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Ntb290aE91dEVhc2luZyhkdXJhdGlvbjogbnVtYmVyKSB7XG4gICAgICAgIGxldCBlYXNpbmcgPSBfZWFzZTtcblxuICAgICAgICBpZiAodGhpcy5fcHJldkVhc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGVhc2UgPSB0aGlzLl9wcmV2RWFzZSxcbiAgICAgICAgICAgICAgICB0ID0gKGJyb3dzZXIubm93KCkgLSBlYXNlLnN0YXJ0KSAvIGVhc2UuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgc3BlZWQgPSBlYXNlLmVhc2luZyh0ICsgMC4wMSkgLSBlYXNlLmVhc2luZyh0KSxcblxuICAgICAgICAgICAgICAgIC8vIFF1aWNrIGhhY2sgdG8gbWFrZSBuZXcgYmV6aWVyIHRoYXQgaXMgY29udGludW91cyB3aXRoIGxhc3RcbiAgICAgICAgICAgICAgICB4ID0gMC4yNyAvIE1hdGguc3FydChzcGVlZCAqIHNwZWVkICsgMC4wMDAxKSAqIDAuMDEsXG4gICAgICAgICAgICAgICAgeSA9IE1hdGguc3FydCgwLjI3ICogMC4yNyAtIHggKiB4KTtcblxuICAgICAgICAgICAgZWFzaW5nID0gYmV6aWVyKHgsIHksIDAuMjUsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJldkVhc2UgPSB7XG4gICAgICAgICAgICBzdGFydDogYnJvd3Nlci5ub3coKSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZzogZWFzaW5nXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGVhc2luZztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjcm9sbFpvb21IYW5kbGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5cbmltcG9ydCBMbmdMYXRCb3VuZHMgZnJvbSAnLi4vLi4vZ2VvL2xuZ19sYXRfYm91bmRzJztcbmltcG9ydCB7IGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi8uLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgeyBFdmVudCB9IGZyb20gJy4uLy4uL3V0aWwvZXZlbnRlZCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuXG4vKipcbiAqIFRoZSBgQm94Wm9vbUhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byB6b29tIHRoZSBtYXAgdG8gZml0IHdpdGhpbiBhIGJvdW5kaW5nIGJveC5cbiAqIFRoZSBib3VuZGluZyBib3ggaXMgZGVmaW5lZCBieSBjbGlja2luZyBhbmQgaG9sZGluZyBgc2hpZnRgIHdoaWxlIGRyYWdnaW5nIHRoZSBjdXJzb3IuXG4gKi9cbmNsYXNzIEJveFpvb21IYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfZW5hYmxlZDogYm9vbGVhbjtcbiAgICBfYWN0aXZlOiBib29sZWFuO1xuICAgIF9zdGFydFBvczogYW55O1xuICAgIF9ib3g6IEhUTUxFbGVtZW50O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2VsID0gbWFwLmdldENhbnZhc0NvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBtYXAuZ2V0Q29udGFpbmVyKCk7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uTW91c2VNb3ZlJyxcbiAgICAgICAgICAgICdfb25Nb3VzZVVwJyxcbiAgICAgICAgICAgICdfb25LZXlEb3duJ1xuICAgICAgICBdLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgaXNFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmFibGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZSwgaS5lLiBjdXJyZW50bHkgYmVpbmcgdXNlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwiYm94IHpvb21cIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUuXG4gICAgICovXG4gICAgaXNBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2FjdGl2ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgbWFwLmJveFpvb20uZW5hYmxlKCk7XG4gICAgICovXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJib3ggem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC5ib3hab29tLmRpc2FibGUoKTtcbiAgICAgKi9cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIG9uTW91c2VEb3duKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIGlmICghKGUuc2hpZnRLZXkgJiYgZS5idXR0b24gPT09IDApKSByZXR1cm47XG5cbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCBmYWxzZSk7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwLCBmYWxzZSk7XG5cbiAgICAgICAgRE9NLmRpc2FibGVEcmFnKCk7XG4gICAgICAgIHRoaXMuX3N0YXJ0UG9zID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBfb25Nb3VzZU1vdmUoZTogTW91c2VFdmVudCkge1xuICAgICAgICBjb25zdCBwMCA9IHRoaXMuX3N0YXJ0UG9zLFxuICAgICAgICAgICAgcDEgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUpO1xuXG4gICAgICAgIGlmICghdGhpcy5fYm94KSB7XG4gICAgICAgICAgICB0aGlzLl9ib3ggPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtYm94em9vbScsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3Jvc3NoYWlyJyk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ2JveHpvb21zdGFydCcsIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWluWCA9IE1hdGgubWluKHAwLngsIHAxLngpLFxuICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KHAwLngsIHAxLngpLFxuICAgICAgICAgICAgbWluWSA9IE1hdGgubWluKHAwLnksIHAxLnkpLFxuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KHAwLnksIHAxLnkpO1xuXG4gICAgICAgIERPTS5zZXRUcmFuc2Zvcm0odGhpcy5fYm94LCBgdHJhbnNsYXRlKCR7bWluWH1weCwke21pbll9cHgpYCk7XG5cbiAgICAgICAgdGhpcy5fYm94LnN0eWxlLndpZHRoID0gYCR7bWF4WCAtIG1pblh9cHhgO1xuICAgICAgICB0aGlzLl9ib3guc3R5bGUuaGVpZ2h0ID0gYCR7bWF4WSAtIG1pbll9cHhgO1xuICAgIH1cblxuICAgIF9vbk1vdXNlVXAoZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAoZS5idXR0b24gIT09IDApIHJldHVybjtcblxuICAgICAgICBjb25zdCBwMCA9IHRoaXMuX3N0YXJ0UG9zLFxuICAgICAgICAgICAgcDEgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUpLFxuICAgICAgICAgICAgYm91bmRzID0gbmV3IExuZ0xhdEJvdW5kcygpXG4gICAgICAgICAgICAgICAgLmV4dGVuZCh0aGlzLl9tYXAudW5wcm9qZWN0KHAwKSlcbiAgICAgICAgICAgICAgICAuZXh0ZW5kKHRoaXMuX21hcC51bnByb2plY3QocDEpKTtcblxuICAgICAgICB0aGlzLl9maW5pc2goKTtcblxuICAgICAgICBET00uc3VwcHJlc3NDbGljaygpO1xuXG4gICAgICAgIGlmIChwMC54ID09PSBwMS54ICYmIHAwLnkgPT09IHAxLnkpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnYm94em9vbWNhbmNlbCcsIGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbWFwXG4gICAgICAgICAgICAgICAgLmZpdEJvdW5kcyhib3VuZHMsIHtsaW5lYXI6IHRydWV9KVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnYm94em9vbWVuZCcsIHsgb3JpZ2luYWxFdmVudDogZSwgYm94Wm9vbUJvdW5kczogYm91bmRzIH0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbktleURvd24oZTogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNykge1xuICAgICAgICAgICAgdGhpcy5fZmluaXNoKCk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ2JveHpvb21jYW5jZWwnLCBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9maW5pc2goKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgZmFsc2UpO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX29uTW91c2VVcCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jcm9zc2hhaXInKTtcblxuICAgICAgICBpZiAodGhpcy5fYm94KSB7XG4gICAgICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2JveCk7XG4gICAgICAgICAgICB0aGlzLl9ib3ggPSAobnVsbDogYW55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIERPTS5lbmFibGVEcmFnKCk7XG4gICAgfVxuXG4gICAgX2ZpcmVFdmVudCh0eXBlOiBzdHJpbmcsIGU6ICopIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCh0eXBlLCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQm94Wm9vbUhhbmRsZXI7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcblxuaW1wb3J0IHsgYmV6aWVyLCBiaW5kQWxsIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vLi4vdXRpbC93aW5kb3cnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vLi4vdXRpbC9icm93c2VyJztcbmltcG9ydCB7IEV2ZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5pbXBvcnQgdHlwZSBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB0eXBlIHtUYXNrSUR9IGZyb20gJy4uLy4uL3V0aWwvdGFza19xdWV1ZSc7XG5cbmNvbnN0IGluZXJ0aWFMaW5lYXJpdHkgPSAwLjI1LFxuICAgIGluZXJ0aWFFYXNpbmcgPSBiZXppZXIoMCwgMCwgaW5lcnRpYUxpbmVhcml0eSwgMSksXG4gICAgaW5lcnRpYU1heFNwZWVkID0gMTgwLCAvLyBkZWcvc1xuICAgIGluZXJ0aWFEZWNlbGVyYXRpb24gPSA3MjA7IC8vIGRlZy9zXjJcblxuLyoqXG4gKiBUaGUgYERyYWdSb3RhdGVIYW5kbGVyYCBhbGxvd3MgdGhlIHVzZXIgdG8gcm90YXRlIHRoZSBtYXAgYnkgY2xpY2tpbmcgYW5kXG4gKiBkcmFnZ2luZyB0aGUgY3Vyc29yIHdoaWxlIGhvbGRpbmcgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBvciBgY3RybGAga2V5LlxuICovXG5jbGFzcyBEcmFnUm90YXRlSGFuZGxlciB7XG4gICAgX21hcDogTWFwO1xuICAgIF9lbDogSFRNTEVsZW1lbnQ7XG4gICAgX3N0YXRlOiAnZGlzYWJsZWQnIHwgJ2VuYWJsZWQnIHwgJ3BlbmRpbmcnIHwgJ2FjdGl2ZSc7XG4gICAgX2J1dHRvbjogJ3JpZ2h0JyB8ICdsZWZ0JztcbiAgICBfZXZlbnRCdXR0b246IG51bWJlcjtcbiAgICBfYmVhcmluZ1NuYXA6IG51bWJlcjtcbiAgICBfcGl0Y2hXaXRoUm90YXRlOiBib29sZWFuO1xuXG4gICAgX2xhc3RNb3ZlRXZlbnQ6IE1vdXNlRXZlbnQ7XG4gICAgX3BvczogUG9pbnQ7XG4gICAgX3ByZXZpb3VzUG9zOiBQb2ludDtcbiAgICBfaW5lcnRpYTogQXJyYXk8W251bWJlciwgbnVtYmVyXT47XG4gICAgX2NlbnRlcjogUG9pbnQ7XG4gICAgX2ZyYW1lSWQ6ID9UYXNrSUQ7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge01hcH0gbWFwIFRoZSBNYXBib3ggR0wgSlMgbWFwIHRvIGFkZCB0aGUgaGFuZGxlciB0by5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJlYXJpbmdTbmFwXSBUaGUgdGhyZXNob2xkLCBtZWFzdXJlZCBpbiBkZWdyZWVzLCB0aGF0IGRldGVybWluZXMgd2hlbiB0aGUgbWFwJ3NcbiAgICAgKiAgIGJlYXJpbmcgd2lsbCBzbmFwIHRvIG5vcnRoLlxuICAgICAqIEBwYXJhbSB7Ym9vbH0gW29wdGlvbnMucGl0Y2hXaXRoUm90YXRlPXRydWVdIENvbnRyb2wgdGhlIG1hcCBwaXRjaCBpbiBhZGRpdGlvbiB0byB0aGUgYmVhcmluZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXAsIG9wdGlvbnM6IHtcbiAgICAgICAgYnV0dG9uPzogJ3JpZ2h0JyB8ICdsZWZ0JyxcbiAgICAgICAgZWxlbWVudD86IEhUTUxFbGVtZW50LFxuICAgICAgICBiZWFyaW5nU25hcD86IG51bWJlcixcbiAgICAgICAgcGl0Y2hXaXRoUm90YXRlPzogYm9vbGVhblxuICAgIH0pIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9lbCA9IG9wdGlvbnMuZWxlbWVudCB8fCBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgdGhpcy5fYnV0dG9uID0gb3B0aW9ucy5idXR0b24gfHwgJ3JpZ2h0JztcbiAgICAgICAgdGhpcy5fYmVhcmluZ1NuYXAgPSBvcHRpb25zLmJlYXJpbmdTbmFwIHx8IDA7XG4gICAgICAgIHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSA9IG9wdGlvbnMucGl0Y2hXaXRoUm90YXRlICE9PSBmYWxzZTtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25Nb3VzZU1vdmUnLFxuICAgICAgICAgICAgJ19vbk1vdXNlVXAnLFxuICAgICAgICAgICAgJ19vbkJsdXInLFxuICAgICAgICAgICAgJ19vbkRyYWdGcmFtZSdcbiAgICAgICAgXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlICE9PSAnZGlzYWJsZWQnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZSwgaS5lLiBjdXJyZW50bHkgYmVpbmcgdXNlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUuXG4gICAgICovXG4gICAgaXNBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gJ2FjdGl2ZSc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJkcmFnIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuZHJhZ1JvdGF0ZS5lbmFibGUoKTtcbiAgICAgKi9cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHRoZSBcImRyYWcgdG8gcm90YXRlXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5kcmFnUm90YXRlLmRpc2FibGUoKTtcbiAgICAgKi9cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICBjYXNlICdhY3RpdmUnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZGlzYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICB0aGlzLl9kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ3JvdGF0ZWVuZCcpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgncGl0Y2hlbmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZWVuZCcpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BlbmRpbmcnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZGlzYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZURvd24oZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgIT09ICdlbmFibGVkJykgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl9idXR0b24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50QnV0dG9uID0gRE9NLm1vdXNlQnV0dG9uKGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2V2ZW50QnV0dG9uICE9PSAoZS5jdHJsS2V5ID8gMCA6IDIpKSByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZS5jdHJsS2V5IHx8IERPTS5tb3VzZUJ1dHRvbihlKSAhPT0gMCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRCdXR0b24gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgRE9NLmRpc2FibGVEcmFnKCk7XG5cbiAgICAgICAgLy8gQmluZCB3aW5kb3ctbGV2ZWwgZXZlbnQgbGlzdGVuZXJzIGZvciBtb3ZlIGFuZCB1cC9lbmQgZXZlbnRzLiBJbiB0aGUgYWJzZW5jZSBvZlxuICAgICAgICAvLyB0aGUgcG9pbnRlciBjYXB0dXJlIEFQSSwgd2hpY2ggaXMgbm90IHN1cHBvcnRlZCBieSBhbGwgbmVjZXNzYXJ5IHBsYXRmb3JtcyxcbiAgICAgICAgLy8gd2luZG93LWxldmVsIGV2ZW50IGxpc3RlbmVycyBnaXZlIHVzIHRoZSBiZXN0IHNob3QgYXQgY2FwdHVyaW5nIGV2ZW50cyB0aGF0XG4gICAgICAgIC8vIGZhbGwgb3V0c2lkZSB0aGUgbWFwIGNhbnZhcyBlbGVtZW50LiBVc2UgYHtjYXB0dXJlOiB0cnVlfWAgZm9yIHRoZSBtb3ZlIGV2ZW50XG4gICAgICAgIC8vIHRvIHByZXZlbnQgbWFwIG1vdmUgZXZlbnRzIGZyb20gYmVpbmcgZmlyZWQgZHVyaW5nIGEgZHJhZy5cbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB7Y2FwdHVyZTogdHJ1ZX0pO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX29uTW91c2VVcCk7XG5cbiAgICAgICAgLy8gRGVhY3RpdmF0ZSB3aGVuIHRoZSB3aW5kb3cgbG9zZXMgZm9jdXMuIE90aGVyd2lzZSBpZiBhIG1vdXNldXAgb2NjdXJzIHdoZW4gdGhlIHdpbmRvd1xuICAgICAgICAvLyBpc24ndCBpbiBmb2N1cywgZHJhZ2dpbmcgd2lsbCBjb250aW51ZSBldmVuIHRob3VnaCB0aGUgbW91c2UgaXMgbm8gbG9uZ2VyIHByZXNzZWQuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5fb25CbHVyKTtcblxuICAgICAgICB0aGlzLl9zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICAgICAgdGhpcy5faW5lcnRpYSA9IFtbYnJvd3Nlci5ub3coKSwgdGhpcy5fbWFwLmdldEJlYXJpbmcoKV1dO1xuICAgICAgICB0aGlzLl9wcmV2aW91c1BvcyA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZSk7XG4gICAgICAgIHRoaXMuX2NlbnRlciA9IHRoaXMuX21hcC50cmFuc2Zvcm0uY2VudGVyUG9pbnQ7ICAvLyBDZW50ZXIgb2Ygcm90YXRpb25cblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgX29uTW91c2VNb3ZlKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fbGFzdE1vdmVFdmVudCA9IGU7XG4gICAgICAgIHRoaXMuX3BvcyA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSAncGVuZGluZycpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2FjdGl2ZSc7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ3JvdGF0ZXN0YXJ0JywgZSk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmVzdGFydCcsIGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgncGl0Y2hzdGFydCcsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gdGhpcy5fbWFwLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fb25EcmFnRnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uRHJhZ0ZyYW1lKCkge1xuICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcblxuICAgICAgICBjb25zdCBlID0gdGhpcy5fbGFzdE1vdmVFdmVudDtcbiAgICAgICAgaWYgKCFlKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy5fbWFwLnRyYW5zZm9ybTtcblxuICAgICAgICBjb25zdCBwMSA9IHRoaXMuX3ByZXZpb3VzUG9zLFxuICAgICAgICAgICAgcDIgPSB0aGlzLl9wb3MsXG4gICAgICAgICAgICBiZWFyaW5nRGlmZiA9IChwMS54IC0gcDIueCkgKiAwLjgsXG4gICAgICAgICAgICBwaXRjaERpZmYgPSAocDEueSAtIHAyLnkpICogLTAuNSxcbiAgICAgICAgICAgIGJlYXJpbmcgPSB0ci5iZWFyaW5nIC0gYmVhcmluZ0RpZmYsXG4gICAgICAgICAgICBwaXRjaCA9IHRyLnBpdGNoIC0gcGl0Y2hEaWZmLFxuICAgICAgICAgICAgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWEsXG4gICAgICAgICAgICBsYXN0ID0gaW5lcnRpYVtpbmVydGlhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIHRoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpO1xuICAgICAgICBpbmVydGlhLnB1c2goW2Jyb3dzZXIubm93KCksIHRoaXMuX21hcC5fbm9ybWFsaXplQmVhcmluZyhiZWFyaW5nLCBsYXN0WzFdKV0pO1xuXG4gICAgICAgIHRyLmJlYXJpbmcgPSBiZWFyaW5nO1xuICAgICAgICBpZiAodGhpcy5fcGl0Y2hXaXRoUm90YXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ3BpdGNoJywgZSk7XG4gICAgICAgICAgICB0ci5waXRjaCA9IHBpdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdyb3RhdGUnLCBlKTtcbiAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3ZlJywgZSk7XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuX2xhc3RNb3ZlRXZlbnQ7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzUG9zID0gdGhpcy5fcG9zO1xuICAgIH1cblxuICAgIF9vbk1vdXNlVXAoZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAoRE9NLm1vdXNlQnV0dG9uKGUpICE9PSB0aGlzLl9ldmVudEJ1dHRvbikgcmV0dXJuO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdlbmFibGVkJztcbiAgICAgICAgICAgIERPTS5zdXBwcmVzc0NsaWNrKCk7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIHRoaXMuX2RlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2luZXJ0aWFsUm90YXRlKGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BlbmRpbmcnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uQmx1cihlOiBGb2N1c0V2ZW50KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICB0aGlzLl9kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ3JvdGF0ZWVuZCcsIGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgncGl0Y2hlbmQnLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZWVuZCcsIGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BlbmRpbmcnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VuYmluZCgpIHtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB7Y2FwdHVyZTogdHJ1ZX0pO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX29uTW91c2VVcCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5fb25CbHVyKTtcbiAgICAgICAgRE9NLmVuYWJsZURyYWcoKTtcbiAgICB9XG5cbiAgICBfZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZnJhbWVJZCk7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5fbGFzdE1vdmVFdmVudDtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3ByZXZpb3VzUG9zO1xuICAgIH1cblxuICAgIF9pbmVydGlhbFJvdGF0ZShlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2ZpcmVFdmVudCgncm90YXRlZW5kJywgZSk7XG4gICAgICAgIHRoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpO1xuXG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcCxcbiAgICAgICAgICAgIG1hcEJlYXJpbmcgPSBtYXAuZ2V0QmVhcmluZygpLFxuICAgICAgICAgICAgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWE7XG5cbiAgICAgICAgY29uc3QgZmluaXNoID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKG1hcEJlYXJpbmcpIDwgdGhpcy5fYmVhcmluZ1NuYXApIHtcbiAgICAgICAgICAgICAgICBtYXAucmVzZXROb3J0aCh7bm9Nb3ZlU3RhcnQ6IHRydWV9LCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZWVuZCcsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSkgdGhpcy5fZmlyZUV2ZW50KCdwaXRjaGVuZCcsIGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpbmVydGlhLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIGZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3QgPSBpbmVydGlhWzBdLFxuICAgICAgICAgICAgbGFzdCA9IGluZXJ0aWFbaW5lcnRpYS5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgIHByZXZpb3VzID0gaW5lcnRpYVtpbmVydGlhLmxlbmd0aCAtIDJdO1xuICAgICAgICBsZXQgYmVhcmluZyA9IG1hcC5fbm9ybWFsaXplQmVhcmluZyhtYXBCZWFyaW5nLCBwcmV2aW91c1sxXSk7XG4gICAgICAgIGNvbnN0IGZsaW5nRGlmZiA9IGxhc3RbMV0gLSBmaXJzdFsxXSxcbiAgICAgICAgICAgIHNpZ24gPSBmbGluZ0RpZmYgPCAwID8gLTEgOiAxLFxuICAgICAgICAgICAgZmxpbmdEdXJhdGlvbiA9IChsYXN0WzBdIC0gZmlyc3RbMF0pIC8gMTAwMDtcblxuICAgICAgICBpZiAoZmxpbmdEaWZmID09PSAwIHx8IGZsaW5nRHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgIGZpbmlzaCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNwZWVkID0gTWF0aC5hYnMoZmxpbmdEaWZmICogKGluZXJ0aWFMaW5lYXJpdHkgLyBmbGluZ0R1cmF0aW9uKSk7ICAvLyBkZWcvc1xuICAgICAgICBpZiAoc3BlZWQgPiBpbmVydGlhTWF4U3BlZWQpIHtcbiAgICAgICAgICAgIHNwZWVkID0gaW5lcnRpYU1heFNwZWVkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBzcGVlZCAvIChpbmVydGlhRGVjZWxlcmF0aW9uICogaW5lcnRpYUxpbmVhcml0eSksXG4gICAgICAgICAgICBvZmZzZXQgPSBzaWduICogc3BlZWQgKiAoZHVyYXRpb24gLyAyKTtcblxuICAgICAgICBiZWFyaW5nICs9IG9mZnNldDtcblxuICAgICAgICBpZiAoTWF0aC5hYnMobWFwLl9ub3JtYWxpemVCZWFyaW5nKGJlYXJpbmcsIDApKSA8IHRoaXMuX2JlYXJpbmdTbmFwKSB7XG4gICAgICAgICAgICBiZWFyaW5nID0gbWFwLl9ub3JtYWxpemVCZWFyaW5nKDAsIGJlYXJpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFwLnJvdGF0ZVRvKGJlYXJpbmcsIHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiAqIDEwMDAsXG4gICAgICAgICAgICBlYXNpbmc6IGluZXJ0aWFFYXNpbmcsXG4gICAgICAgICAgICBub01vdmVTdGFydDogdHJ1ZVxuICAgICAgICB9LCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSk7XG4gICAgfVxuXG4gICAgX2ZpcmVFdmVudCh0eXBlOiBzdHJpbmcsIGU6ICopIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCh0eXBlLCBlID8geyBvcmlnaW5hbEV2ZW50OiBlIH0gOiB7fSkpO1xuICAgIH1cblxuICAgIF9kcmFpbkluZXJ0aWFCdWZmZXIoKSB7XG4gICAgICAgIGNvbnN0IGluZXJ0aWEgPSB0aGlzLl9pbmVydGlhLFxuICAgICAgICAgICAgbm93ID0gYnJvd3Nlci5ub3coKSxcbiAgICAgICAgICAgIGN1dG9mZiA9IDE2MDsgICAvL21zZWNcblxuICAgICAgICB3aGlsZSAoaW5lcnRpYS5sZW5ndGggPiAwICYmIG5vdyAtIGluZXJ0aWFbMF1bMF0gPiBjdXRvZmYpXG4gICAgICAgICAgICBpbmVydGlhLnNoaWZ0KCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEcmFnUm90YXRlSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgYmV6aWVyLCBiaW5kQWxsIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vLi4vdXRpbC93aW5kb3cnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vLi4vdXRpbC9icm93c2VyJztcbmltcG9ydCB7IEV2ZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5pbXBvcnQgdHlwZSBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB0eXBlIHtUYXNrSUR9IGZyb20gJy4uLy4uL3V0aWwvdGFza19xdWV1ZSc7XG5cbmNvbnN0IGluZXJ0aWFMaW5lYXJpdHkgPSAwLjMsXG4gICAgaW5lcnRpYUVhc2luZyA9IGJlemllcigwLCAwLCBpbmVydGlhTGluZWFyaXR5LCAxKSxcbiAgICBpbmVydGlhTWF4U3BlZWQgPSAxNDAwLCAvLyBweC9zXG4gICAgaW5lcnRpYURlY2VsZXJhdGlvbiA9IDI1MDA7IC8vIHB4L3NeMlxuXG4vKipcbiAqIFRoZSBgRHJhZ1BhbkhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byBwYW4gdGhlIG1hcCBieSBjbGlja2luZyBhbmQgZHJhZ2dpbmdcbiAqIHRoZSBjdXJzb3IuXG4gKi9cbmNsYXNzIERyYWdQYW5IYW5kbGVyIHtcbiAgICBfbWFwOiBNYXA7XG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfc3RhdGU6ICdkaXNhYmxlZCcgfCAnZW5hYmxlZCcgfCAncGVuZGluZycgfCAnYWN0aXZlJztcbiAgICBfcG9zOiBQb2ludDtcbiAgICBfcHJldmlvdXNQb3M6IFBvaW50O1xuICAgIF9pbmVydGlhOiBBcnJheTxbbnVtYmVyLCBQb2ludF0+O1xuICAgIF9sYXN0TW92ZUV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCB8IHZvaWQ7XG4gICAgX2ZyYW1lSWQ6ID9UYXNrSUQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fZWwgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gJ2Rpc2FibGVkJztcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25Nb3ZlJyxcbiAgICAgICAgICAgICdfb25Nb3VzZVVwJyxcbiAgICAgICAgICAgICdfb25Ub3VjaEVuZCcsXG4gICAgICAgICAgICAnX29uQmx1cicsXG4gICAgICAgICAgICAnX29uRHJhZ0ZyYW1lJ1xuICAgICAgICBdLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgaXNFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUgIT09ICdkaXNhYmxlZCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLCBpLmUuIGN1cnJlbnRseSBiZWluZyB1c2VkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZS5cbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlID09PSAnYWN0aXZlJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcImRyYWcgdG8gcGFuXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5kcmFnUGFuLmVuYWJsZSgpO1xuICAgICAqL1xuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4nKTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIFwiZHJhZyB0byBwYW5cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLmRyYWdQYW4uZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC10b3VjaC1kcmFnLXBhbicpO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdkaXNhYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIHRoaXMuX2RlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnZHJhZ2VuZCcpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3ZlZW5kJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9ICdkaXNhYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZGlzYWJsZWQnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdXNlRG93bihlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gJ2VuYWJsZWQnKSByZXR1cm47XG4gICAgICAgIGlmIChlLmN0cmxLZXkgfHwgRE9NLm1vdXNlQnV0dG9uKGUpICE9PSAwKSByZXR1cm47XG5cbiAgICAgICAgLy8gQmluZCB3aW5kb3ctbGV2ZWwgZXZlbnQgbGlzdGVuZXJzIGZvciBtb3VzZW1vdmUvdXAgZXZlbnRzLiBJbiB0aGUgYWJzZW5jZSBvZlxuICAgICAgICAvLyB0aGUgcG9pbnRlciBjYXB0dXJlIEFQSSwgd2hpY2ggaXMgbm90IHN1cHBvcnRlZCBieSBhbGwgbmVjZXNzYXJ5IHBsYXRmb3JtcyxcbiAgICAgICAgLy8gd2luZG93LWxldmVsIGV2ZW50IGxpc3RlbmVycyBnaXZlIHVzIHRoZSBiZXN0IHNob3QgYXQgY2FwdHVyaW5nIGV2ZW50cyB0aGF0XG4gICAgICAgIC8vIGZhbGwgb3V0c2lkZSB0aGUgbWFwIGNhbnZhcyBlbGVtZW50LiBVc2UgYHtjYXB0dXJlOiB0cnVlfWAgZm9yIHRoZSBtb3ZlIGV2ZW50XG4gICAgICAgIC8vIHRvIHByZXZlbnQgbWFwIG1vdmUgZXZlbnRzIGZyb20gYmVpbmcgZmlyZWQgZHVyaW5nIGEgZHJhZy5cbiAgICAgICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3ZlLCB7Y2FwdHVyZTogdHJ1ZX0pO1xuICAgICAgICBET00uYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwKTtcblxuICAgICAgICB0aGlzLl9zdGFydChlKTtcbiAgICB9XG5cbiAgICBvblRvdWNoU3RhcnQoZTogVG91Y2hFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgIT09ICdlbmFibGVkJykgcmV0dXJuO1xuICAgICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpIHJldHVybjtcblxuICAgICAgICAvLyBCaW5kIHdpbmRvdy1sZXZlbCBldmVudCBsaXN0ZW5lcnMgZm9yIHRvdWNobW92ZS9lbmQgZXZlbnRzLiBJbiB0aGUgYWJzZW5jZSBvZlxuICAgICAgICAvLyB0aGUgcG9pbnRlciBjYXB0dXJlIEFQSSwgd2hpY2ggaXMgbm90IHN1cHBvcnRlZCBieSBhbGwgbmVjZXNzYXJ5IHBsYXRmb3JtcyxcbiAgICAgICAgLy8gd2luZG93LWxldmVsIGV2ZW50IGxpc3RlbmVycyBnaXZlIHVzIHRoZSBiZXN0IHNob3QgYXQgY2FwdHVyaW5nIGV2ZW50cyB0aGF0XG4gICAgICAgIC8vIGZhbGwgb3V0c2lkZSB0aGUgbWFwIGNhbnZhcyBlbGVtZW50LiBVc2UgYHtjYXB0dXJlOiB0cnVlfWAgZm9yIHRoZSBtb3ZlIGV2ZW50XG4gICAgICAgIC8vIHRvIHByZXZlbnQgbWFwIG1vdmUgZXZlbnRzIGZyb20gYmVpbmcgZmlyZWQgZHVyaW5nIGEgZHJhZy5cbiAgICAgICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3ZlLCB7Y2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogZmFsc2V9KTtcbiAgICAgICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vblRvdWNoRW5kKTtcblxuICAgICAgICB0aGlzLl9zdGFydChlKTtcbiAgICB9XG5cbiAgICBfc3RhcnQoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgLy8gRGVhY3RpdmF0ZSB3aGVuIHRoZSB3aW5kb3cgbG9zZXMgZm9jdXMuIE90aGVyd2lzZSBpZiBhIG1vdXNldXAgb2NjdXJzIHdoZW4gdGhlIHdpbmRvd1xuICAgICAgICAvLyBpc24ndCBpbiBmb2N1cywgZHJhZ2dpbmcgd2lsbCBjb250aW51ZSBldmVuIHRob3VnaCB0aGUgbW91c2UgaXMgbm8gbG9uZ2VyIHByZXNzZWQuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5fb25CbHVyKTtcblxuICAgICAgICB0aGlzLl9zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICAgICAgdGhpcy5fcHJldmlvdXNQb3MgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUpO1xuICAgICAgICB0aGlzLl9pbmVydGlhID0gW1ticm93c2VyLm5vdygpLCB0aGlzLl9wcmV2aW91c1Bvc11dO1xuICAgIH1cblxuICAgIF9vbk1vdmUoZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fbGFzdE1vdmVFdmVudCA9IGU7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICB0aGlzLl9wb3MgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUpO1xuICAgICAgICB0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5faW5lcnRpYS5wdXNoKFticm93c2VyLm5vdygpLCB0aGlzLl9wb3NdKTtcblxuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09ICdwZW5kaW5nJykge1xuICAgICAgICAgICAgLy8gd2UgdHJlYXQgdGhlIGZpcnN0IG1vdmUgZXZlbnQgKHJhdGhlciB0aGFuIHRoZSBtb3VzZWRvd24gZXZlbnQpXG4gICAgICAgICAgICAvLyBhcyB0aGUgc3RhcnQgb2YgdGhlIGRyYWdcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2FjdGl2ZSc7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ2RyYWdzdGFydCcsIGUpO1xuICAgICAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdtb3Zlc3RhcnQnLCBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fZnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IHRoaXMuX21hcC5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX29uRHJhZ0ZyYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpbiBlYWNoIHJlbmRlciBmcmFtZSB3aGlsZSBkcmFnZ2luZyBpcyBoYXBwZW5pbmcuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25EcmFnRnJhbWUoKSB7XG4gICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLl9sYXN0TW92ZUV2ZW50O1xuICAgICAgICBpZiAoIWUpIHJldHVybjtcbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLl9tYXAudHJhbnNmb3JtO1xuICAgICAgICB0ci5zZXRMb2NhdGlvbkF0UG9pbnQodHIucG9pbnRMb2NhdGlvbih0aGlzLl9wcmV2aW91c1BvcyksIHRoaXMuX3Bvcyk7XG4gICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnZHJhZycsIGUpO1xuICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmUnLCBlKTtcblxuICAgICAgICB0aGlzLl9wcmV2aW91c1BvcyA9IHRoaXMuX3BvcztcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xhc3RNb3ZlRXZlbnQ7XG4gICAgfVxuXG4gICAgX29uTW91c2VVcChlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmIChET00ubW91c2VCdXR0b24oZSkgIT09IDApIHJldHVybjtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICBjYXNlICdhY3RpdmUnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgICAgICAgICBET00uc3VwcHJlc3NDbGljaygpO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICB0aGlzLl9kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9pbmVydGlhbFBhbihlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGFzc2VydChmYWxzZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblRvdWNoRW5kKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICBjYXNlICdhY3RpdmUnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIHRoaXMuX2RlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2luZXJ0aWFsUGFuKGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BlbmRpbmcnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uQmx1cihlOiBGb2N1c0V2ZW50KSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gJ2VuYWJsZWQnO1xuICAgICAgICAgICAgdGhpcy5fdW5iaW5kKCk7XG4gICAgICAgICAgICB0aGlzLl9kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ2RyYWdlbmQnLCBlKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVFdmVudCgnbW92ZWVuZCcsIGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3BlbmRpbmcnOlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnZW5hYmxlZCc7XG4gICAgICAgICAgICB0aGlzLl91bmJpbmQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VuYmluZCgpIHtcbiAgICAgICAgRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3ZlLCB7Y2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogZmFsc2V9KTtcbiAgICAgICAgRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vblRvdWNoRW5kKTtcbiAgICAgICAgRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3ZlLCB7Y2FwdHVyZTogdHJ1ZX0pO1xuICAgICAgICBET00ucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsICdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwKTtcbiAgICAgICAgRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LCAnYmx1cicsIHRoaXMuX29uQmx1cik7XG4gICAgfVxuXG4gICAgX2RlYWN0aXZhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuX2NhbmNlbFJlbmRlckZyYW1lKHRoaXMuX2ZyYW1lSWQpO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuX2xhc3RNb3ZlRXZlbnQ7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9wcmV2aW91c1BvcztcbiAgICAgICAgZGVsZXRlIHRoaXMuX3BvcztcbiAgICB9XG5cbiAgICBfaW5lcnRpYWxQYW4oZTogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fZmlyZUV2ZW50KCdkcmFnZW5kJywgZSk7XG5cbiAgICAgICAgdGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCk7XG4gICAgICAgIGNvbnN0IGluZXJ0aWEgPSB0aGlzLl9pbmVydGlhO1xuICAgICAgICBpZiAoaW5lcnRpYS5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmVlbmQnLCBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxhc3QgPSBpbmVydGlhW2luZXJ0aWEubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBmaXJzdCA9IGluZXJ0aWFbMF0sXG4gICAgICAgICAgICBmbGluZ09mZnNldCA9IGxhc3RbMV0uc3ViKGZpcnN0WzFdKSxcbiAgICAgICAgICAgIGZsaW5nRHVyYXRpb24gPSAobGFzdFswXSAtIGZpcnN0WzBdKSAvIDEwMDA7XG5cbiAgICAgICAgaWYgKGZsaW5nRHVyYXRpb24gPT09IDAgfHwgbGFzdFsxXS5lcXVhbHMoZmlyc3RbMV0pKSB7XG4gICAgICAgICAgICB0aGlzLl9maXJlRXZlbnQoJ21vdmVlbmQnLCBlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBweC9zIHZlbG9jaXR5ICYgYWRqdXN0IGZvciBpbmNyZWFzZWQgaW5pdGlhbCBhbmltYXRpb24gc3BlZWQgd2hlbiBlYXNpbmcgb3V0XG4gICAgICAgIGNvbnN0IHZlbG9jaXR5ID0gZmxpbmdPZmZzZXQubXVsdChpbmVydGlhTGluZWFyaXR5IC8gZmxpbmdEdXJhdGlvbik7XG4gICAgICAgIGxldCBzcGVlZCA9IHZlbG9jaXR5Lm1hZygpOyAvLyBweC9zXG5cbiAgICAgICAgaWYgKHNwZWVkID4gaW5lcnRpYU1heFNwZWVkKSB7XG4gICAgICAgICAgICBzcGVlZCA9IGluZXJ0aWFNYXhTcGVlZDtcbiAgICAgICAgICAgIHZlbG9jaXR5Ll91bml0KCkuX211bHQoc3BlZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBzcGVlZCAvIChpbmVydGlhRGVjZWxlcmF0aW9uICogaW5lcnRpYUxpbmVhcml0eSksXG4gICAgICAgICAgICBvZmZzZXQgPSB2ZWxvY2l0eS5tdWx0KC1kdXJhdGlvbiAvIDIpO1xuXG4gICAgICAgIHRoaXMuX21hcC5wYW5CeShvZmZzZXQsIHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiAqIDEwMDAsXG4gICAgICAgICAgICBlYXNpbmc6IGluZXJ0aWFFYXNpbmcsXG4gICAgICAgICAgICBub01vdmVTdGFydDogdHJ1ZVxuICAgICAgICB9LCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSk7XG4gICAgfVxuXG4gICAgX2ZpcmVFdmVudCh0eXBlOiBzdHJpbmcsIGU6ICopIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCh0eXBlLCBlID8geyBvcmlnaW5hbEV2ZW50OiBlIH0gOiB7fSkpO1xuICAgIH1cblxuICAgIF9kcmFpbkluZXJ0aWFCdWZmZXIoKSB7XG4gICAgICAgIGNvbnN0IGluZXJ0aWEgPSB0aGlzLl9pbmVydGlhLFxuICAgICAgICAgICAgbm93ID0gYnJvd3Nlci5ub3coKSxcbiAgICAgICAgICAgIGN1dG9mZiA9IDE2MDsgICAvLyBtc2VjXG5cbiAgICAgICAgd2hpbGUgKGluZXJ0aWEubGVuZ3RoID4gMCAmJiBub3cgLSBpbmVydGlhWzBdWzBdID4gY3V0b2ZmKSBpbmVydGlhLnNoaWZ0KCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEcmFnUGFuSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcblxuY29uc3QgcGFuU3RlcCA9IDEwMCxcbiAgICBiZWFyaW5nU3RlcCA9IDE1LFxuICAgIHBpdGNoU3RlcCA9IDEwO1xuXG4vKipcbiAqIFRoZSBgS2V5Ym9hcmRIYW5kbGVyYCBhbGxvd3MgdGhlIHVzZXIgdG8gem9vbSwgcm90YXRlLCBhbmQgcGFuIHRoZSBtYXAgdXNpbmdcbiAqIHRoZSBmb2xsb3dpbmcga2V5Ym9hcmQgc2hvcnRjdXRzOlxuICpcbiAqIC0gYD1gIC8gYCtgOiBJbmNyZWFzZSB0aGUgem9vbSBsZXZlbCBieSAxLlxuICogLSBgU2hpZnQtPWAgLyBgU2hpZnQtK2A6IEluY3JlYXNlIHRoZSB6b29tIGxldmVsIGJ5IDIuXG4gKiAtIGAtYDogRGVjcmVhc2UgdGhlIHpvb20gbGV2ZWwgYnkgMS5cbiAqIC0gYFNoaWZ0LS1gOiBEZWNyZWFzZSB0aGUgem9vbSBsZXZlbCBieSAyLlxuICogLSBBcnJvdyBrZXlzOiBQYW4gYnkgMTAwIHBpeGVscy5cbiAqIC0gYFNoaWZ0K+KHomA6IEluY3JlYXNlIHRoZSByb3RhdGlvbiBieSAxNSBkZWdyZWVzLlxuICogLSBgU2hpZnQr4oegYDogRGVjcmVhc2UgdGhlIHJvdGF0aW9uIGJ5IDE1IGRlZ3JlZXMuXG4gKiAtIGBTaGlmdCvih6FgOiBJbmNyZWFzZSB0aGUgcGl0Y2ggYnkgMTAgZGVncmVlcy5cbiAqIC0gYFNoaWZ0K+KHo2A6IERlY3JlYXNlIHRoZSBwaXRjaCBieSAxMCBkZWdyZWVzLlxuICovXG5jbGFzcyBLZXlib2FyZEhhbmRsZXIge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfZWw6IEhUTUxFbGVtZW50O1xuICAgIF9lbmFibGVkOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2VsID0gbWFwLmdldENhbnZhc0NvbnRhaW5lcigpO1xuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbktleURvd24nXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciBrZXlib2FyZCBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBrZXlib2FyZCBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5hYmxlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGtleWJvYXJkIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAua2V5Ym9hcmQuZW5hYmxlKCk7XG4gICAgICovXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIGtleWJvYXJkIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAua2V5Ym9hcmQuZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duKTtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9vbktleURvd24oZTogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICBpZiAoZS5hbHRLZXkgfHwgZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB6b29tRGlyID0gMDtcbiAgICAgICAgbGV0IGJlYXJpbmdEaXIgPSAwO1xuICAgICAgICBsZXQgcGl0Y2hEaXIgPSAwO1xuICAgICAgICBsZXQgeERpciA9IDA7XG4gICAgICAgIGxldCB5RGlyID0gMDtcblxuICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICBjYXNlIDYxOlxuICAgICAgICBjYXNlIDEwNzpcbiAgICAgICAgY2FzZSAxNzE6XG4gICAgICAgIGNhc2UgMTg3OlxuICAgICAgICAgICAgem9vbURpciA9IDE7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDE4OTpcbiAgICAgICAgY2FzZSAxMDk6XG4gICAgICAgIGNhc2UgMTczOlxuICAgICAgICAgICAgem9vbURpciA9IC0xO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgYmVhcmluZ0RpciA9IC0xO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgeERpciA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgYmVhcmluZ0RpciA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB4RGlyID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIHBpdGNoRGlyID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHlEaXIgPSAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIHBpdGNoRGlyID0gLTE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHlEaXIgPSAxO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGNvbnN0IHpvb20gPSBtYXAuZ2V0Wm9vbSgpO1xuXG4gICAgICAgIGNvbnN0IGVhc2VPcHRpb25zID0ge1xuICAgICAgICAgICAgZHVyYXRpb246IDMwMCxcbiAgICAgICAgICAgIGRlbGF5RW5kRXZlbnRzOiA1MDAsXG4gICAgICAgICAgICBlYXNpbmc6IGVhc2VPdXQsXG5cbiAgICAgICAgICAgIHpvb206IHpvb21EaXIgPyBNYXRoLnJvdW5kKHpvb20pICsgem9vbURpciAqIChlLnNoaWZ0S2V5ID8gMiA6IDEpIDogem9vbSxcbiAgICAgICAgICAgIGJlYXJpbmc6IG1hcC5nZXRCZWFyaW5nKCkgKyBiZWFyaW5nRGlyICogYmVhcmluZ1N0ZXAsXG4gICAgICAgICAgICBwaXRjaDogbWFwLmdldFBpdGNoKCkgKyBwaXRjaERpciAqIHBpdGNoU3RlcCxcbiAgICAgICAgICAgIG9mZnNldDogWy14RGlyICogcGFuU3RlcCwgLXlEaXIgKiBwYW5TdGVwXSxcbiAgICAgICAgICAgIGNlbnRlcjogbWFwLmdldENlbnRlcigpXG4gICAgICAgIH07XG5cbiAgICAgICAgbWFwLmVhc2VUbyhlYXNlT3B0aW9ucywge29yaWdpbmFsRXZlbnQ6IGV9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGVhc2VPdXQodCkge1xuICAgIHJldHVybiB0ICogKDIgLSB0KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgS2V5Ym9hcmRIYW5kbGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuaW1wb3J0IHR5cGUge01hcE1vdXNlRXZlbnQsIE1hcFRvdWNoRXZlbnR9IGZyb20gJy4uL2V2ZW50cyc7XG5cbi8qKlxuICogVGhlIGBEb3VibGVDbGlja1pvb21IYW5kbGVyYCBhbGxvd3MgdGhlIHVzZXIgdG8gem9vbSB0aGUgbWFwIGF0IGEgcG9pbnQgYnlcbiAqIGRvdWJsZSBjbGlja2luZyBvciBkb3VibGUgdGFwcGluZy5cbiAqL1xuY2xhc3MgRG91YmxlQ2xpY2tab29tSGFuZGxlciB7XG4gICAgX21hcDogTWFwO1xuICAgIF9lbmFibGVkOiBib29sZWFuO1xuICAgIF9hY3RpdmU6IGJvb2xlYW47XG4gICAgX3RhcHBlZDogP1RpbWVvdXRJRDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbkRibENsaWNrJyxcbiAgICAgICAgICAgICdfb25ab29tRW5kJ1xuICAgICAgICBdLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwiZG91YmxlIGNsaWNrIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgaXNFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmFibGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uIGlzIGFjdGl2ZSwgaS5lLiBjdXJyZW50bHkgYmVpbmcgdXNlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwiZG91YmxlIGNsaWNrIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBhY3RpdmUuXG4gICAgICovXG4gICAgaXNBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2FjdGl2ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcImRvdWJsZSBjbGljayB0byB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5kb3VibGVDbGlja1pvb20uZW5hYmxlKCk7XG4gICAgICovXG4gICAgZW5hYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJkb3VibGUgY2xpY2sgdG8gem9vbVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuZG91YmxlQ2xpY2tab29tLmRpc2FibGUoKTtcbiAgICAgKi9cbiAgICBkaXNhYmxlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIG9uVG91Y2hTdGFydChlOiBNYXBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5pc0VuYWJsZWQoKSkgcmV0dXJuO1xuICAgICAgICBpZiAoZS5wb2ludHMubGVuZ3RoID4gMSkgcmV0dXJuO1xuXG4gICAgICAgIGlmICghdGhpcy5fdGFwcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl90YXBwZWQgPSBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5fdGFwcGVkID0gbnVsbDsgfSwgMzAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90YXBwZWQpO1xuICAgICAgICAgICAgdGhpcy5fdGFwcGVkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3pvb20oZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRibENsaWNrKGU6IE1hcE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIGUub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl96b29tKGUpO1xuICAgIH1cblxuICAgIF96b29tKGU6IE1hcE1vdXNlRXZlbnQgfCBNYXBUb3VjaEV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX21hcC5vbignem9vbWVuZCcsIHRoaXMuX29uWm9vbUVuZCk7XG4gICAgICAgIHRoaXMuX21hcC56b29tVG8oXG4gICAgICAgICAgICB0aGlzLl9tYXAuZ2V0Wm9vbSgpICsgKGUub3JpZ2luYWxFdmVudC5zaGlmdEtleSA/IC0xIDogMSksXG4gICAgICAgICAgICB7YXJvdW5kOiBlLmxuZ0xhdH0sXG4gICAgICAgICAgICBlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgX29uWm9vbUVuZCgpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX21hcC5vZmYoJ3pvb21lbmQnLCB0aGlzLl9vblpvb21FbmQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRG91YmxlQ2xpY2tab29tSGFuZGxlcjtcbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgYmV6aWVyLCBiaW5kQWxsIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vLi4vdXRpbC93aW5kb3cnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vLi4vdXRpbC9icm93c2VyJztcbmltcG9ydCB7IEV2ZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9ldmVudGVkJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5pbXBvcnQgdHlwZSBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCB0eXBlIHtUYXNrSUR9IGZyb20gJy4uLy4uL3V0aWwvdGFza19xdWV1ZSc7XG5cbmNvbnN0IGluZXJ0aWFMaW5lYXJpdHkgPSAwLjE1LFxuICAgIGluZXJ0aWFFYXNpbmcgPSBiZXppZXIoMCwgMCwgaW5lcnRpYUxpbmVhcml0eSwgMSksXG4gICAgaW5lcnRpYURlY2VsZXJhdGlvbiA9IDEyLCAvLyBzY2FsZSAvIHNeMlxuICAgIGluZXJ0aWFNYXhTcGVlZCA9IDIuNSwgLy8gc2NhbGUgLyBzXG4gICAgc2lnbmlmaWNhbnRTY2FsZVRocmVzaG9sZCA9IDAuMTUsXG4gICAgc2lnbmlmaWNhbnRSb3RhdGVUaHJlc2hvbGQgPSAxMDtcblxuLyoqXG4gKiBUaGUgYFRvdWNoWm9vbVJvdGF0ZUhhbmRsZXJgIGFsbG93cyB0aGUgdXNlciB0byB6b29tIGFuZCByb3RhdGUgdGhlIG1hcCBieVxuICogcGluY2hpbmcgb24gYSB0b3VjaHNjcmVlbi5cbiAqL1xuY2xhc3MgVG91Y2hab29tUm90YXRlSGFuZGxlciB7XG4gICAgX21hcDogTWFwO1xuICAgIF9lbDogSFRNTEVsZW1lbnQ7XG4gICAgX2VuYWJsZWQ6IGJvb2xlYW47XG4gICAgX2Fyb3VuZENlbnRlcjogYm9vbGVhbjtcbiAgICBfcm90YXRpb25EaXNhYmxlZDogYm9vbGVhbjtcbiAgICBfc3RhcnRWZWM6IFBvaW50O1xuICAgIF9zdGFydFNjYWxlOiBudW1iZXI7XG4gICAgX3N0YXJ0QmVhcmluZzogbnVtYmVyO1xuICAgIF9nZXN0dXJlSW50ZW50OiAncm90YXRlJyB8ICd6b29tJyB8IHZvaWQ7XG4gICAgX2luZXJ0aWE6IEFycmF5PFtudW1iZXIsIG51bWJlciwgUG9pbnRdPjtcbiAgICBfbGFzdFRvdWNoRXZlbnQ6IFRvdWNoRXZlbnQ7XG4gICAgX2ZyYW1lSWQ6ID9UYXNrSUQ7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fZWwgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX29uTW92ZScsXG4gICAgICAgICAgICAnX29uRW5kJyxcbiAgICAgICAgICAgICdfb25Ub3VjaEZyYW1lJ1xuICAgICAgICBdLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFwicGluY2ggdG8gcm90YXRlIGFuZCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIFwicGluY2ggdG8gcm90YXRlIGFuZCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgXCJwaW5jaCB0byByb3RhdGUgYW5kIHpvb21cIiBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYXJvdW5kXSBJZiBcImNlbnRlclwiIGlzIHBhc3NlZCwgbWFwIHdpbGwgem9vbSBhcm91bmQgdGhlIGNlbnRlclxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC50b3VjaFpvb21Sb3RhdGUuZW5hYmxlKCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC50b3VjaFpvb21Sb3RhdGUuZW5hYmxlKHsgYXJvdW5kOiAnY2VudGVyJyB9KTtcbiAgICAgKi9cbiAgICBlbmFibGUob3B0aW9uczogP3thcm91bmQ/OiAnY2VudGVyJ30pIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKCkpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUnKTtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2Fyb3VuZENlbnRlciA9ICEhb3B0aW9ucyAmJiBvcHRpb25zLmFyb3VuZCA9PT0gJ2NlbnRlcic7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIFwicGluY2ggdG8gcm90YXRlIGFuZCB6b29tXCIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgbWFwLnRvdWNoWm9vbVJvdGF0ZS5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlJyk7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyB0aGUgXCJwaW5jaCB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiwgbGVhdmluZyB0aGUgXCJwaW5jaCB0byB6b29tXCJcbiAgICAgKiBpbnRlcmFjdGlvbiBlbmFibGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC50b3VjaFpvb21Sb3RhdGUuZGlzYWJsZVJvdGF0aW9uKCk7XG4gICAgICovXG4gICAgZGlzYWJsZVJvdGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9yb3RhdGlvbkRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSBcInBpbmNoIHRvIHJvdGF0ZVwiIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIG1hcC50b3VjaFpvb21Sb3RhdGUuZW5hYmxlKCk7XG4gICAgICogICBtYXAudG91Y2hab29tUm90YXRlLmVuYWJsZVJvdGF0aW9uKCk7XG4gICAgICovXG4gICAgZW5hYmxlUm90YXRpb24oKSB7XG4gICAgICAgIHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvblN0YXJ0KGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlZCgpKSByZXR1cm47XG4gICAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoICE9PSAyKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcDAgPSBET00ubW91c2VQb3ModGhpcy5fZWwsIGUudG91Y2hlc1swXSksXG4gICAgICAgICAgICBwMSA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZS50b3VjaGVzWzFdKTtcblxuICAgICAgICB0aGlzLl9zdGFydFZlYyA9IHAwLnN1YihwMSk7XG4gICAgICAgIHRoaXMuX2dlc3R1cmVJbnRlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2luZXJ0aWEgPSBbXTtcblxuICAgICAgICBET00uYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdmUsIHtwYXNzaXZlOiBmYWxzZX0pO1xuICAgICAgICBET00uYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uRW5kKTtcbiAgICB9XG5cbiAgICBfZ2V0VG91Y2hFdmVudERhdGEoZTogVG91Y2hFdmVudCkge1xuICAgICAgICBjb25zdCBwMCA9IERPTS5tb3VzZVBvcyh0aGlzLl9lbCwgZS50b3VjaGVzWzBdKSxcbiAgICAgICAgICAgIHAxID0gRE9NLm1vdXNlUG9zKHRoaXMuX2VsLCBlLnRvdWNoZXNbMV0pO1xuXG4gICAgICAgIGNvbnN0IHZlYyA9IHAwLnN1YihwMSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZWMsXG4gICAgICAgICAgICBjZW50ZXI6IHAwLmFkZChwMSkuZGl2KDIpLFxuICAgICAgICAgICAgc2NhbGU6IHZlYy5tYWcoKSAvIHRoaXMuX3N0YXJ0VmVjLm1hZygpLFxuICAgICAgICAgICAgYmVhcmluZzogdGhpcy5fcm90YXRpb25EaXNhYmxlZCA/IDAgOiB2ZWMuYW5nbGVXaXRoKHRoaXMuX3N0YXJ0VmVjKSAqIDE4MCAvIE1hdGguUElcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfb25Nb3ZlKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggIT09IDIpIHJldHVybjtcblxuICAgICAgICBjb25zdCB7dmVjLCBzY2FsZSwgYmVhcmluZ30gPSB0aGlzLl9nZXRUb3VjaEV2ZW50RGF0YShlKTtcblxuICAgICAgICAvLyBEZXRlcm1pbmUgJ2ludGVudCcgYnkgd2hpY2hldmVyIHRocmVzaG9sZCBpcyBzdXJwYXNzZWQgZmlyc3QsXG4gICAgICAgIC8vIHRoZW4ga2VlcCB0aGF0IHN0YXRlIGZvciB0aGUgZHVyYXRpb24gb2YgdGhpcyBnZXN0dXJlLlxuICAgICAgICBpZiAoIXRoaXMuX2dlc3R1cmVJbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxpbmdTaWduaWZpY2FudGx5ID0gKE1hdGguYWJzKDEgLSBzY2FsZSkgPiBzaWduaWZpY2FudFNjYWxlVGhyZXNob2xkKSxcbiAgICAgICAgICAgICAgICByb3RhdGluZ1NpZ25pZmljYW50bHkgPSAoTWF0aC5hYnMoYmVhcmluZykgPiBzaWduaWZpY2FudFJvdGF0ZVRocmVzaG9sZCk7XG5cbiAgICAgICAgICAgIGlmIChyb3RhdGluZ1NpZ25pZmljYW50bHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXN0dXJlSW50ZW50ID0gJ3JvdGF0ZSc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNjYWxpbmdTaWduaWZpY2FudGx5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VzdHVyZUludGVudCA9ICd6b29tJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2dlc3R1cmVJbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuZmlyZShuZXcgRXZlbnQoYCR7dGhpcy5fZ2VzdHVyZUludGVudH1zdGFydGAsIHsgb3JpZ2luYWxFdmVudDogZSB9KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KCdtb3Zlc3RhcnQnLCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0VmVjID0gdmVjO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdFRvdWNoRXZlbnQgPSBlO1xuICAgICAgICBpZiAoIXRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSB0aGlzLl9tYXAuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9vblRvdWNoRnJhbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIF9vblRvdWNoRnJhbWUoKSB7XG4gICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IGdlc3R1cmVJbnRlbnQgPSB0aGlzLl9nZXN0dXJlSW50ZW50O1xuICAgICAgICBpZiAoIWdlc3R1cmVJbnRlbnQpIHJldHVybjtcblxuICAgICAgICBjb25zdCB0ciA9IHRoaXMuX21hcC50cmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKCF0aGlzLl9zdGFydFNjYWxlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydFNjYWxlID0gdHIuc2NhbGU7XG4gICAgICAgICAgICB0aGlzLl9zdGFydEJlYXJpbmcgPSB0ci5iZWFyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge2NlbnRlciwgYmVhcmluZywgc2NhbGV9ID0gdGhpcy5fZ2V0VG91Y2hFdmVudERhdGEodGhpcy5fbGFzdFRvdWNoRXZlbnQpO1xuICAgICAgICBjb25zdCBhcm91bmQgPSB0ci5wb2ludExvY2F0aW9uKGNlbnRlcik7XG4gICAgICAgIGNvbnN0IGFyb3VuZFBvaW50ID0gdHIubG9jYXRpb25Qb2ludChhcm91bmQpO1xuXG4gICAgICAgIGlmIChnZXN0dXJlSW50ZW50ID09PSAncm90YXRlJykge1xuICAgICAgICAgICAgdHIuYmVhcmluZyA9IHRoaXMuX3N0YXJ0QmVhcmluZyArIGJlYXJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICB0ci56b29tID0gdHIuc2NhbGVab29tKHRoaXMuX3N0YXJ0U2NhbGUgKiBzY2FsZSk7XG5cbiAgICAgICAgdHIuc2V0TG9jYXRpb25BdFBvaW50KGFyb3VuZCwgYXJvdW5kUG9pbnQpO1xuXG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudChnZXN0dXJlSW50ZW50LCB7b3JpZ2luYWxFdmVudDogdGhpcy5fbGFzdFRvdWNoRXZlbnR9KSk7XG4gICAgICAgIHRoaXMuX21hcC5maXJlKG5ldyBFdmVudCgnbW92ZScsIHtvcmlnaW5hbEV2ZW50OiB0aGlzLl9sYXN0VG91Y2hFdmVudH0pKTtcblxuICAgICAgICB0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5faW5lcnRpYS5wdXNoKFticm93c2VyLm5vdygpLCBzY2FsZSwgY2VudGVyXSk7XG4gICAgfVxuXG4gICAgX29uRW5kKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3ZlLCB7cGFzc2l2ZTogZmFsc2V9KTtcbiAgICAgICAgRE9NLnJlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vbkVuZCk7XG5cbiAgICAgICAgY29uc3QgZ2VzdHVyZUludGVudCA9IHRoaXMuX2dlc3R1cmVJbnRlbnQ7XG4gICAgICAgIGNvbnN0IHN0YXJ0U2NhbGUgPSB0aGlzLl9zdGFydFNjYWxlO1xuXG4gICAgICAgIGlmICh0aGlzLl9mcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuX2NhbmNlbFJlbmRlckZyYW1lKHRoaXMuX2ZyYW1lSWQpO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWVJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuX2dlc3R1cmVJbnRlbnQ7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zdGFydFNjYWxlO1xuICAgICAgICBkZWxldGUgdGhpcy5fc3RhcnRCZWFyaW5nO1xuICAgICAgICBkZWxldGUgdGhpcy5fbGFzdFRvdWNoRXZlbnQ7XG5cbiAgICAgICAgaWYgKCFnZXN0dXJlSW50ZW50KSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fbWFwLmZpcmUobmV3IEV2ZW50KGAke2dlc3R1cmVJbnRlbnR9ZW5kYCwgeyBvcmlnaW5hbEV2ZW50OiBlIH0pKTtcblxuICAgICAgICB0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKTtcblxuICAgICAgICBjb25zdCBpbmVydGlhID0gdGhpcy5faW5lcnRpYSxcbiAgICAgICAgICAgIG1hcCA9IHRoaXMuX21hcDtcblxuICAgICAgICBpZiAoaW5lcnRpYS5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICBtYXAuc25hcFRvTm9ydGgoe30sIHsgb3JpZ2luYWxFdmVudDogZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxhc3QgPSBpbmVydGlhW2luZXJ0aWEubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBmaXJzdCA9IGluZXJ0aWFbMF0sXG4gICAgICAgICAgICBsYXN0U2NhbGUgPSBtYXAudHJhbnNmb3JtLnNjYWxlWm9vbShzdGFydFNjYWxlICogbGFzdFsxXSksXG4gICAgICAgICAgICBmaXJzdFNjYWxlID0gbWFwLnRyYW5zZm9ybS5zY2FsZVpvb20oc3RhcnRTY2FsZSAqIGZpcnN0WzFdKSxcbiAgICAgICAgICAgIHNjYWxlT2Zmc2V0ID0gbGFzdFNjYWxlIC0gZmlyc3RTY2FsZSxcbiAgICAgICAgICAgIHNjYWxlRHVyYXRpb24gPSAobGFzdFswXSAtIGZpcnN0WzBdKSAvIDEwMDAsXG4gICAgICAgICAgICBwID0gbGFzdFsyXTtcblxuICAgICAgICBpZiAoc2NhbGVEdXJhdGlvbiA9PT0gMCB8fCBsYXN0U2NhbGUgPT09IGZpcnN0U2NhbGUpIHtcbiAgICAgICAgICAgIG1hcC5zbmFwVG9Ob3J0aCh7fSwgeyBvcmlnaW5hbEV2ZW50OiBlIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHNjYWxlL3Mgc3BlZWQgYW5kIGFkanVzdCBmb3IgaW5jcmVhc2VkIGluaXRpYWwgYW5pbWF0aW9uIHNwZWVkIHdoZW4gZWFzaW5nXG4gICAgICAgIGxldCBzcGVlZCA9IHNjYWxlT2Zmc2V0ICogaW5lcnRpYUxpbmVhcml0eSAvIHNjYWxlRHVyYXRpb247IC8vIHNjYWxlL3NcblxuICAgICAgICBpZiAoTWF0aC5hYnMoc3BlZWQpID4gaW5lcnRpYU1heFNwZWVkKSB7XG4gICAgICAgICAgICBpZiAoc3BlZWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgc3BlZWQgPSBpbmVydGlhTWF4U3BlZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNwZWVkID0gLWluZXJ0aWFNYXhTcGVlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gTWF0aC5hYnMoc3BlZWQgLyAoaW5lcnRpYURlY2VsZXJhdGlvbiAqIGluZXJ0aWFMaW5lYXJpdHkpKSAqIDEwMDA7XG4gICAgICAgIGxldCB0YXJnZXRTY2FsZSA9IGxhc3RTY2FsZSArIHNwZWVkICogZHVyYXRpb24gLyAyMDAwO1xuXG4gICAgICAgIGlmICh0YXJnZXRTY2FsZSA8IDApIHtcbiAgICAgICAgICAgIHRhcmdldFNjYWxlID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcC5lYXNlVG8oe1xuICAgICAgICAgICAgem9vbTogdGFyZ2V0U2NhbGUsXG4gICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgICBlYXNpbmc6IGluZXJ0aWFFYXNpbmcsXG4gICAgICAgICAgICBhcm91bmQ6IHRoaXMuX2Fyb3VuZENlbnRlciA/IG1hcC5nZXRDZW50ZXIoKSA6IG1hcC51bnByb2plY3QocCksXG4gICAgICAgICAgICBub01vdmVTdGFydDogdHJ1ZVxuICAgICAgICB9LCB7IG9yaWdpbmFsRXZlbnQ6IGUgfSk7XG4gICAgfVxuXG4gICAgX2RyYWluSW5lcnRpYUJ1ZmZlcigpIHtcbiAgICAgICAgY29uc3QgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWEsXG4gICAgICAgICAgICBub3cgPSBicm93c2VyLm5vdygpLFxuICAgICAgICAgICAgY3V0b2ZmID0gMTYwOyAvLyBtc2VjXG5cbiAgICAgICAgd2hpbGUgKGluZXJ0aWEubGVuZ3RoID4gMiAmJiBub3cgLSBpbmVydGlhWzBdWzBdID4gY3V0b2ZmKSBpbmVydGlhLnNoaWZ0KCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb3VjaFpvb21Sb3RhdGVIYW5kbGVyO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgTWFwTW91c2VFdmVudCwgTWFwVG91Y2hFdmVudCwgTWFwV2hlZWxFdmVudCB9IGZyb20gJy4uL3VpL2V2ZW50cyc7XG5pbXBvcnQgRE9NIGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuL21hcCc7XG5pbXBvcnQgc2Nyb2xsWm9vbSBmcm9tICcuL2hhbmRsZXIvc2Nyb2xsX3pvb20nO1xuaW1wb3J0IGJveFpvb20gZnJvbSAnLi9oYW5kbGVyL2JveF96b29tJztcbmltcG9ydCBkcmFnUm90YXRlIGZyb20gJy4vaGFuZGxlci9kcmFnX3JvdGF0ZSc7XG5pbXBvcnQgZHJhZ1BhbiBmcm9tICcuL2hhbmRsZXIvZHJhZ19wYW4nO1xuaW1wb3J0IGtleWJvYXJkIGZyb20gJy4vaGFuZGxlci9rZXlib2FyZCc7XG5pbXBvcnQgZG91YmxlQ2xpY2tab29tIGZyb20gJy4vaGFuZGxlci9kYmxjbGlja196b29tJztcbmltcG9ydCB0b3VjaFpvb21Sb3RhdGUgZnJvbSAnLi9oYW5kbGVyL3RvdWNoX3pvb21fcm90YXRlJztcblxuY29uc3QgaGFuZGxlcnMgPSB7XG4gICAgc2Nyb2xsWm9vbSxcbiAgICBib3hab29tLFxuICAgIGRyYWdSb3RhdGUsXG4gICAgZHJhZ1BhbixcbiAgICBrZXlib2FyZCxcbiAgICBkb3VibGVDbGlja1pvb20sXG4gICAgdG91Y2hab29tUm90YXRlXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiaW5kSGFuZGxlcnMobWFwOiBNYXAsIG9wdGlvbnM6IHt9KSB7XG4gICAgY29uc3QgZWwgPSBtYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7XG4gICAgbGV0IGNvbnRleHRNZW51RXZlbnQgPSBudWxsO1xuICAgIGxldCBtb3VzZURvd24gPSBmYWxzZTtcblxuICAgIGZvciAoY29uc3QgbmFtZSBpbiBoYW5kbGVycykge1xuICAgICAgICAobWFwOiBhbnkpW25hbWVdID0gbmV3IGhhbmRsZXJzW25hbWVdKG1hcCwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zLmludGVyYWN0aXZlICYmIG9wdGlvbnNbbmFtZV0pIHtcbiAgICAgICAgICAgIChtYXA6IGFueSlbbmFtZV0uZW5hYmxlKG9wdGlvbnNbbmFtZV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICdtb3VzZW91dCcsIG9uTW91c2VPdXQpO1xuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAnbW91c2Vkb3duJywgb25Nb3VzZURvd24pO1xuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAnbW91c2V1cCcsIG9uTW91c2VVcCk7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICdtb3VzZW92ZXInLCBvbk1vdXNlT3Zlcik7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0LCB7cGFzc2l2ZTogZmFsc2V9KTtcbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlLCB7cGFzc2l2ZTogdHJ1ZX0pOyAvLyBgcGFzc2l2ZTogdHJ1ZWAgYmVjYXVzZSBvblRvdWNoTW92ZSBvbmx5IHNlbmRzIGEgbWFwIGV2ZW50LlxuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAndG91Y2hlbmQnLCBvblRvdWNoRW5kKTsgICAgICAgICAgICAgICAgICAgIC8vIFRoZSByZWFsIGFjdGlvbiBpcyBpbiBEcmFnUGFuSGFuZGxlciBhbmQgVG91Y2hab29tUm90YXRlSGFuZGxlci5cbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ3RvdWNoY2FuY2VsJywgb25Ub3VjaENhbmNlbCk7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICdjbGljaycsIG9uQ2xpY2spO1xuICAgIERPTS5hZGRFdmVudExpc3RlbmVyKGVsLCAnZGJsY2xpY2snLCBvbkRibENsaWNrKTtcbiAgICBET00uYWRkRXZlbnRMaXN0ZW5lcihlbCwgJ2NvbnRleHRtZW51Jywgb25Db250ZXh0TWVudSk7XG4gICAgRE9NLmFkZEV2ZW50TGlzdGVuZXIoZWwsICd3aGVlbCcsIG9uV2hlZWwsIHtwYXNzaXZlOiBmYWxzZX0pO1xuXG4gICAgZnVuY3Rpb24gb25Nb3VzZURvd24oZTogTW91c2VFdmVudCkge1xuICAgICAgICBtb3VzZURvd24gPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IG1hcEV2ZW50ID0gbmV3IE1hcE1vdXNlRXZlbnQoJ21vdXNlZG93bicsIG1hcCwgZSk7XG4gICAgICAgIG1hcC5maXJlKG1hcEV2ZW50KTtcblxuICAgICAgICBpZiAobWFwRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJhY3RpdmUgJiYgIW1hcC5kb3VibGVDbGlja1pvb20uaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgbWFwLnN0b3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcC5ib3hab29tLm9uTW91c2VEb3duKGUpO1xuXG4gICAgICAgIGlmICghbWFwLmJveFpvb20uaXNBY3RpdmUoKSAmJiAhbWFwLmRyYWdQYW4uaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgbWFwLmRyYWdSb3RhdGUub25Nb3VzZURvd24oZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW1hcC5ib3hab29tLmlzQWN0aXZlKCkgJiYgIW1hcC5kcmFnUm90YXRlLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIG1hcC5kcmFnUGFuLm9uTW91c2VEb3duKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3VzZVVwKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgY29uc3Qgcm90YXRpbmcgPSBtYXAuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpO1xuXG4gICAgICAgIGlmIChjb250ZXh0TWVudUV2ZW50ICYmICFyb3RhdGluZykge1xuICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGJlIHRoZSBjYXNlIGZvciBNYWNcbiAgICAgICAgICAgIG1hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KCdjb250ZXh0bWVudScsIG1hcCwgY29udGV4dE1lbnVFdmVudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dE1lbnVFdmVudCA9IG51bGw7XG4gICAgICAgIG1vdXNlRG93biA9IGZhbHNlO1xuXG4gICAgICAgIG1hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KCdtb3VzZXVwJywgbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Nb3VzZU1vdmUoZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAobWFwLmRyYWdQYW4uaXNBY3RpdmUoKSkgcmV0dXJuO1xuICAgICAgICBpZiAobWFwLmRyYWdSb3RhdGUuaXNBY3RpdmUoKSkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB0YXJnZXQ6IGFueSA9IGUudG9FbGVtZW50IHx8IGUudGFyZ2V0O1xuICAgICAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldCAhPT0gZWwpIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICBpZiAodGFyZ2V0ICE9PSBlbCkgcmV0dXJuO1xuXG4gICAgICAgIG1hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KCdtb3VzZW1vdmUnLCBtYXAsIGUpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1vdXNlT3ZlcihlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGxldCB0YXJnZXQ6IGFueSA9IGUudG9FbGVtZW50IHx8IGUudGFyZ2V0O1xuICAgICAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldCAhPT0gZWwpIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICBpZiAodGFyZ2V0ICE9PSBlbCkgcmV0dXJuO1xuXG4gICAgICAgIG1hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KCdtb3VzZW92ZXInLCBtYXAsIGUpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1vdXNlT3V0KGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgbWFwLmZpcmUobmV3IE1hcE1vdXNlRXZlbnQoJ21vdXNlb3V0JywgbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgY29uc3QgbWFwRXZlbnQgPSBuZXcgTWFwVG91Y2hFdmVudCgndG91Y2hzdGFydCcsIG1hcCwgZSk7XG4gICAgICAgIG1hcC5maXJlKG1hcEV2ZW50KTtcblxuICAgICAgICBpZiAobWFwRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIG1hcC5zdG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW1hcC5ib3hab29tLmlzQWN0aXZlKCkgJiYgIW1hcC5kcmFnUm90YXRlLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIG1hcC5kcmFnUGFuLm9uVG91Y2hTdGFydChlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hcC50b3VjaFpvb21Sb3RhdGUub25TdGFydChlKTtcbiAgICAgICAgbWFwLmRvdWJsZUNsaWNrWm9vbS5vblRvdWNoU3RhcnQobWFwRXZlbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uVG91Y2hNb3ZlKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgbWFwLmZpcmUobmV3IE1hcFRvdWNoRXZlbnQoJ3RvdWNobW92ZScsIG1hcCwgZSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uVG91Y2hFbmQoZTogVG91Y2hFdmVudCkge1xuICAgICAgICBtYXAuZmlyZShuZXcgTWFwVG91Y2hFdmVudCgndG91Y2hlbmQnLCBtYXAsIGUpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblRvdWNoQ2FuY2VsKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgbWFwLmZpcmUobmV3IE1hcFRvdWNoRXZlbnQoJ3RvdWNoY2FuY2VsJywgbWFwLCBlKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25DbGljayhlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIG1hcC5maXJlKG5ldyBNYXBNb3VzZUV2ZW50KCdjbGljaycsIG1hcCwgZSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRGJsQ2xpY2soZTogTW91c2VFdmVudCkge1xuICAgICAgICBjb25zdCBtYXBFdmVudCA9IG5ldyBNYXBNb3VzZUV2ZW50KCdkYmxjbGljaycsIG1hcCwgZSk7XG4gICAgICAgIG1hcC5maXJlKG1hcEV2ZW50KTtcblxuICAgICAgICBpZiAobWFwRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFwLmRvdWJsZUNsaWNrWm9vbS5vbkRibENsaWNrKG1hcEV2ZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkNvbnRleHRNZW51KGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgY29uc3Qgcm90YXRpbmcgPSBtYXAuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpO1xuICAgICAgICBpZiAoIW1vdXNlRG93biAmJiAhcm90YXRpbmcpIHtcbiAgICAgICAgICAgIC8vIFdpbmRvd3M6IGNvbnRleHRtZW51IGZpcmVkIG9uIG1vdXNldXAsIHNvIGZpcmUgZXZlbnQgbm93XG4gICAgICAgICAgICBtYXAuZmlyZShuZXcgTWFwTW91c2VFdmVudCgnY29udGV4dG1lbnUnLCBtYXAsIGUpKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb3VzZURvd24pIHtcbiAgICAgICAgICAgIC8vIE1hYzogY29udGV4dG1lbnUgZmlyZWQgb24gbW91c2Vkb3duOyB3ZSBzYXZlIGl0IHVudGlsIG1vdXNldXAgZm9yIGNvbnNpc3RlbmN5J3Mgc2FrZVxuICAgICAgICAgICAgY29udGV4dE1lbnVFdmVudCA9IGU7XG4gICAgICAgIH1cblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25XaGVlbChlOiBXaGVlbEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IG1hcEV2ZW50ID0gbmV3IE1hcFdoZWVsRXZlbnQoJ3doZWVsJywgbWFwLCBlKTtcbiAgICAgICAgbWFwLmZpcmUobWFwRXZlbnQpO1xuXG4gICAgICAgIGlmIChtYXBFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBtYXAuc2Nyb2xsWm9vbS5vbldoZWVsKGUpO1xuICAgIH1cbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7XG4gICAgYmluZEFsbCxcbiAgICBleHRlbmQsXG4gICAgZGVlcEVxdWFsLFxuICAgIHdhcm5PbmNlLFxuICAgIGNsYW1wLFxuICAgIHdyYXAsXG4gICAgZWFzZSBhcyBkZWZhdWx0RWFzaW5nXG59IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyBudW1iZXIgYXMgaW50ZXJwb2xhdGUgfSBmcm9tICcuLi9zdHlsZS1zcGVjL3V0aWwvaW50ZXJwb2xhdGUnO1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcbmltcG9ydCBMbmdMYXQgZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IExuZ0xhdEJvdW5kcyBmcm9tICcuLi9nZW8vbG5nX2xhdF9ib3VuZHMnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IHsgRXZlbnQsIEV2ZW50ZWQgfSBmcm9tICcuLi91dGlsL2V2ZW50ZWQnO1xuXG5pbXBvcnQgdHlwZSBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybSc7XG5pbXBvcnQgdHlwZSB7TG5nTGF0TGlrZX0gZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuaW1wb3J0IHR5cGUge0xuZ0xhdEJvdW5kc0xpa2V9IGZyb20gJy4uL2dlby9sbmdfbGF0X2JvdW5kcyc7XG5pbXBvcnQgdHlwZSB7VGFza0lEfSBmcm9tICcuLi91dGlsL3Rhc2tfcXVldWUnO1xuXG4vKipcbiAqIE9wdGlvbnMgY29tbW9uIHRvIHtAbGluayBNYXAjanVtcFRvfSwge0BsaW5rIE1hcCNlYXNlVG99LCBhbmQge0BsaW5rIE1hcCNmbHlUb30sIGNvbnRyb2xsaW5nIHRoZSBkZXNpcmVkIGxvY2F0aW9uLFxuICogem9vbSwgYmVhcmluZywgYW5kIHBpdGNoIG9mIHRoZSBjYW1lcmEuIEFsbCBwcm9wZXJ0aWVzIGFyZSBvcHRpb25hbCwgYW5kIHdoZW4gYSBwcm9wZXJ0eSBpcyBvbWl0dGVkLCB0aGUgY3VycmVudFxuICogY2FtZXJhIHZhbHVlIGZvciB0aGF0IHByb3BlcnR5IHdpbGwgcmVtYWluIHVuY2hhbmdlZC5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDYW1lcmFPcHRpb25zXG4gKiBAcHJvcGVydHkge0xuZ0xhdExpa2V9IGNlbnRlciBUaGUgZGVzaXJlZCBjZW50ZXIuXG4gKiBAcHJvcGVydHkge251bWJlcn0gem9vbSBUaGUgZGVzaXJlZCB6b29tIGxldmVsLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGJlYXJpbmcgVGhlIGRlc2lyZWQgYmVhcmluZywgaW4gZGVncmVlcy4gVGhlIGJlYXJpbmcgaXMgdGhlIGNvbXBhc3MgZGlyZWN0aW9uIHRoYXRcbiAqIGlzIFwidXBcIjsgZm9yIGV4YW1wbGUsIGEgYmVhcmluZyBvZiA5MMKwIG9yaWVudHMgdGhlIG1hcCBzbyB0aGF0IGVhc3QgaXMgdXAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcGl0Y2ggVGhlIGRlc2lyZWQgcGl0Y2gsIGluIGRlZ3JlZXMuXG4gKiBAcHJvcGVydHkge0xuZ0xhdExpa2V9IGFyb3VuZCBJZiBgem9vbWAgaXMgc3BlY2lmaWVkLCBgYXJvdW5kYCBkZXRlcm1pbmVzIHRoZSBwb2ludCBhcm91bmQgd2hpY2ggdGhlIHpvb20gaXMgY2VudGVyZWQuXG4gKi9cbmV4cG9ydCB0eXBlIENhbWVyYU9wdGlvbnMgPSB7XG4gICAgY2VudGVyPzogTG5nTGF0TGlrZSxcbiAgICB6b29tPzogbnVtYmVyLFxuICAgIGJlYXJpbmc/OiBudW1iZXIsXG4gICAgcGl0Y2g/OiBudW1iZXIsXG4gICAgYXJvdW5kPzogTG5nTGF0TGlrZVxufTtcblxuLyoqXG4gKiBPcHRpb25zIGNvbW1vbiB0byBtYXAgbW92ZW1lbnQgbWV0aG9kcyB0aGF0IGludm9sdmUgYW5pbWF0aW9uLCBzdWNoIGFzIHtAbGluayBNYXAjcGFuQnl9IGFuZFxuICoge0BsaW5rIE1hcCNlYXNlVG99LCBjb250cm9sbGluZyB0aGUgZHVyYXRpb24gYW5kIGVhc2luZyBmdW5jdGlvbiBvZiB0aGUgYW5pbWF0aW9uLiBBbGwgcHJvcGVydGllc1xuICogYXJlIG9wdGlvbmFsLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEFuaW1hdGlvbk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgYW5pbWF0aW9uJ3MgZHVyYXRpb24sIG1lYXN1cmVkIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGVhc2luZyBBIGZ1bmN0aW9uIHRha2luZyBhIHRpbWUgaW4gdGhlIHJhbmdlIDAuLjEgYW5kIHJldHVybmluZyBhIG51bWJlciB3aGVyZSAwIGlzXG4gKiAgIHRoZSBpbml0aWFsIHN0YXRlIGFuZCAxIGlzIHRoZSBmaW5hbCBzdGF0ZS5cbiAqIEBwcm9wZXJ0eSB7UG9pbnRMaWtlfSBvZmZzZXQgb2YgdGhlIHRhcmdldCBjZW50ZXIgcmVsYXRpdmUgdG8gcmVhbCBtYXAgY29udGFpbmVyIGNlbnRlciBhdCB0aGUgZW5kIG9mIGFuaW1hdGlvbi5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYW5pbWF0ZSBJZiBgZmFsc2VgLCBubyBhbmltYXRpb24gd2lsbCBvY2N1ci5cbiAqL1xuZXhwb3J0IHR5cGUgQW5pbWF0aW9uT3B0aW9ucyA9IHtcbiAgICBkdXJhdGlvbj86IG51bWJlcixcbiAgICBlYXNpbmc/OiAobnVtYmVyKSA9PiBudW1iZXIsXG4gICAgb2Zmc2V0PzogUG9pbnRMaWtlLFxuICAgIGFuaW1hdGU/OiBib29sZWFuXG59O1xuXG4vKipcbiAqIE9wdGlvbnMgZm9yIHNldHRpbmcgcGFkZGluZyBvbiBhIGNhbGwgdG8ge0BsaW5rIE1hcCNmaXRCb3VuZHN9LiBBbGwgcHJvcGVydGllcyBvZiB0aGlzIG9iamVjdCBtdXN0IGJlXG4gKiBub24tbmVnYXRpdmUgaW50ZWdlcnMuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gUGFkZGluZ09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0b3AgUGFkZGluZyBpbiBwaXhlbHMgZnJvbSB0aGUgdG9wIG9mIHRoZSBtYXAgY2FudmFzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGJvdHRvbSBQYWRkaW5nIGluIHBpeGVscyBmcm9tIHRoZSBib3R0b20gb2YgdGhlIG1hcCBjYW52YXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGVmdCBQYWRkaW5nIGluIHBpeGVscyBmcm9tIHRoZSBsZWZ0IG9mIHRoZSBtYXAgY2FudmFzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJpZ2h0IFBhZGRpbmcgaW4gcGl4ZWxzIGZyb20gdGhlIHJpZ2h0IG9mIHRoZSBtYXAgY2FudmFzLlxuICovXG5cbmNsYXNzIENhbWVyYSBleHRlbmRzIEV2ZW50ZWQge1xuICAgIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuICAgIF9tb3Zpbmc6IGJvb2xlYW47XG4gICAgX3pvb21pbmc6IGJvb2xlYW47XG4gICAgX3JvdGF0aW5nOiBib29sZWFuO1xuICAgIF9waXRjaGluZzogYm9vbGVhbjtcblxuICAgIF9iZWFyaW5nU25hcDogbnVtYmVyO1xuICAgIF9lYXNlRW5kVGltZW91dElEOiBUaW1lb3V0SUQ7XG4gICAgX2Vhc2VTdGFydDogbnVtYmVyO1xuICAgIF9lYXNlT3B0aW9uczoge2R1cmF0aW9uOiBudW1iZXIsIGVhc2luZzogKG51bWJlcikgPT4gbnVtYmVyfTtcblxuICAgIF9vbkVhc2VGcmFtZTogKG51bWJlcikgPT4gdm9pZDtcbiAgICBfb25FYXNlRW5kOiAoKSA9PiB2b2lkO1xuICAgIF9lYXNlRnJhbWVJZDogP1Rhc2tJRDtcblxuICAgICtfcmVxdWVzdFJlbmRlckZyYW1lOiAoKCkgPT4gdm9pZCkgPT4gVGFza0lEO1xuICAgICtfY2FuY2VsUmVuZGVyRnJhbWU6IChUYXNrSUQpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih0cmFuc2Zvcm06IFRyYW5zZm9ybSwgb3B0aW9uczoge2JlYXJpbmdTbmFwOiBudW1iZXJ9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX21vdmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl96b29taW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICB0aGlzLl9iZWFyaW5nU25hcCA9IG9wdGlvbnMuYmVhcmluZ1NuYXA7XG5cbiAgICAgICAgYmluZEFsbChbJ19yZW5kZXJGcmFtZUNhbGxiYWNrJ10sIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBjZW50ZXJwb2ludC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHJldHVybnMgVGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBjZW50ZXJwb2ludC5cbiAgICAgKi9cbiAgICBnZXRDZW50ZXIoKTogTG5nTGF0IHsgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmNlbnRlcjsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwJ3MgZ2VvZ3JhcGhpY2FsIGNlbnRlcnBvaW50LiBFcXVpdmFsZW50IHRvIGBqdW1wVG8oe2NlbnRlcjogY2VudGVyfSlgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gY2VudGVyIFRoZSBjZW50ZXJwb2ludCB0byBzZXQuXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwLnNldENlbnRlcihbLTc0LCAzOF0pO1xuICAgICAqIEBzZWUgW01vdmUgc3ltYm9sIHdpdGggdGhlIGtleWJvYXJkXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3JvdGF0aW5nLWNvbnRyb2xsYWJsZS1tYXJrZXIvKVxuICAgICAqL1xuICAgIHNldENlbnRlcihjZW50ZXI6IExuZ0xhdExpa2UsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5qdW1wVG8oe2NlbnRlcjogY2VudGVyfSwgZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYW5zIHRoZSBtYXAgYnkgdGhlIHNwZWNpZmllZCBvZmZlc3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBvZmZzZXQgYHhgIGFuZCBgeWAgY29vcmRpbmF0ZXMgYnkgd2hpY2ggdG8gcGFuIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQHNlZSBbTmF2aWdhdGUgdGhlIG1hcCB3aXRoIGdhbWUtbGlrZSBjb250cm9sc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9nYW1lLWNvbnRyb2xzLylcbiAgICAgKi9cbiAgICBwYW5CeShvZmZzZXQ6IFBvaW50TGlrZSwgb3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICBvZmZzZXQgPSBQb2ludC5jb252ZXJ0KG9mZnNldCkubXVsdCgtMSk7XG4gICAgICAgIHJldHVybiB0aGlzLnBhblRvKHRoaXMudHJhbnNmb3JtLmNlbnRlciwgZXh0ZW5kKHtvZmZzZXR9LCBvcHRpb25zKSwgZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYW5zIHRoZSBtYXAgdG8gdGhlIHNwZWNpZmllZCBsb2NhdGlvbiwgd2l0aCBhbiBhbmltYXRlZCB0cmFuc2l0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gbG5nbGF0IFRoZSBsb2NhdGlvbiB0byBwYW4gdGhlIG1hcCB0by5cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBwYW5UbyhsbmdsYXQ6IExuZ0xhdExpa2UsIG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFzZVRvKGV4dGVuZCh7XG4gICAgICAgICAgICBjZW50ZXI6IGxuZ2xhdFxuICAgICAgICB9LCBvcHRpb25zKSwgZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBjdXJyZW50IHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEByZXR1cm5zIFRoZSBtYXAncyBjdXJyZW50IHpvb20gbGV2ZWwuXG4gICAgICovXG4gICAgZ2V0Wm9vbSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0uem9vbTsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwJ3Mgem9vbSBsZXZlbC4gRXF1aXZhbGVudCB0byBganVtcFRvKHt6b29tOiB6b29tfSlgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gem9vbSBUaGUgem9vbSBsZXZlbCB0byBzZXQgKDAtMjApLlxuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIHpvb21zdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlXG4gICAgICogQGZpcmVzIHpvb21cbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEBmaXJlcyB6b29tZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyB6b29tIHRoZSBtYXAgdG8gNVxuICAgICAqIG1hcC5zZXRab29tKDUpO1xuICAgICAqL1xuICAgIHNldFpvb20oem9vbTogbnVtYmVyLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5qdW1wVG8oe3pvb206IHpvb219LCBldmVudERhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBab29tcyB0aGUgbWFwIHRvIHRoZSBzcGVjaWZpZWQgem9vbSBsZXZlbCwgd2l0aCBhbiBhbmltYXRlZCB0cmFuc2l0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gem9vbSBUaGUgem9vbSBsZXZlbCB0byB0cmFuc2l0aW9uIHRvLlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgem9vbXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVcbiAgICAgKiBAZmlyZXMgem9vbVxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQGZpcmVzIHpvb21lbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICB6b29tVG8oem9vbTogbnVtYmVyLCBvcHRpb25zOiA/IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lYXNlVG8oZXh0ZW5kKHtcbiAgICAgICAgICAgIHpvb206IHpvb21cbiAgICAgICAgfSwgb3B0aW9ucyksIGV2ZW50RGF0YSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5jcmVhc2VzIHRoZSBtYXAncyB6b29tIGxldmVsIGJ5IDEuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgem9vbXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVcbiAgICAgKiBAZmlyZXMgem9vbVxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQGZpcmVzIHpvb21lbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICB6b29tSW4ob3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICB0aGlzLnpvb21Ubyh0aGlzLmdldFpvb20oKSArIDEsIG9wdGlvbnMsIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlY3JlYXNlcyB0aGUgbWFwJ3Mgem9vbSBsZXZlbCBieSAxLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIHpvb21zdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlXG4gICAgICogQGZpcmVzIHpvb21cbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEBmaXJlcyB6b29tZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgem9vbU91dChvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpIC0gMSwgb3B0aW9ucywgZXZlbnREYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgY3VycmVudCBiZWFyaW5nLiBUaGUgYmVhcmluZyBpcyB0aGUgY29tcGFzcyBkaXJlY3Rpb24gdGhhdCBpcyBcXFwidXBcXFwiOyBmb3IgZXhhbXBsZSwgYSBiZWFyaW5nXG4gICAgICogb2YgOTDCsCBvcmllbnRzIHRoZSBtYXAgc28gdGhhdCBlYXN0IGlzIHVwLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcmV0dXJucyBUaGUgbWFwJ3MgY3VycmVudCBiZWFyaW5nLlxuICAgICAqIEBzZWUgW05hdmlnYXRlIHRoZSBtYXAgd2l0aCBnYW1lLWxpa2UgY29udHJvbHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZ2FtZS1jb250cm9scy8pXG4gICAgICovXG4gICAgZ2V0QmVhcmluZygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0uYmVhcmluZzsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwJ3MgYmVhcmluZyAocm90YXRpb24pLiBUaGUgYmVhcmluZyBpcyB0aGUgY29tcGFzcyBkaXJlY3Rpb24gdGhhdCBpcyBcXFwidXBcXFwiOyBmb3IgZXhhbXBsZSwgYSBiZWFyaW5nXG4gICAgICogb2YgOTDCsCBvcmllbnRzIHRoZSBtYXAgc28gdGhhdCBlYXN0IGlzIHVwLlxuICAgICAqXG4gICAgICogRXF1aXZhbGVudCB0byBganVtcFRvKHtiZWFyaW5nOiBiZWFyaW5nfSlgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gYmVhcmluZyBUaGUgZGVzaXJlZCBiZWFyaW5nLlxuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHJvdGF0ZSB0aGUgbWFwIHRvIDkwIGRlZ3JlZXNcbiAgICAgKiBtYXAuc2V0QmVhcmluZyg5MCk7XG4gICAgICovXG4gICAgc2V0QmVhcmluZyhiZWFyaW5nOiBudW1iZXIsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICB0aGlzLmp1bXBUbyh7YmVhcmluZzogYmVhcmluZ30sIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhlIG1hcCB0byB0aGUgc3BlY2lmaWVkIGJlYXJpbmcsIHdpdGggYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbi4gVGhlIGJlYXJpbmcgaXMgdGhlIGNvbXBhc3MgZGlyZWN0aW9uXG4gICAgICogdGhhdCBpcyBcXFwidXBcXFwiOyBmb3IgZXhhbXBsZSwgYSBiZWFyaW5nIG9mIDkwwrAgb3JpZW50cyB0aGUgbWFwIHNvIHRoYXQgZWFzdCBpcyB1cC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIGJlYXJpbmcgVGhlIGRlc2lyZWQgYmVhcmluZy5cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICByb3RhdGVUbyhiZWFyaW5nOiBudW1iZXIsIG9wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFzZVRvKGV4dGVuZCh7XG4gICAgICAgICAgICBiZWFyaW5nOiBiZWFyaW5nXG4gICAgICAgIH0sIG9wdGlvbnMpLCBldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhlIG1hcCBzbyB0aGF0IG5vcnRoIGlzIHVwICgwwrAgYmVhcmluZyksIHdpdGggYW4gYW5pbWF0ZWQgdHJhbnNpdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgcmVzZXROb3J0aChvcHRpb25zPzogQW5pbWF0aW9uT3B0aW9ucywgZXZlbnREYXRhPzogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMucm90YXRlVG8oMCwgZXh0ZW5kKHtkdXJhdGlvbjogMTAwMH0sIG9wdGlvbnMpLCBldmVudERhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTbmFwcyB0aGUgbWFwIHNvIHRoYXQgbm9ydGggaXMgdXAgKDDCsCBiZWFyaW5nKSwgaWYgdGhlIGN1cnJlbnQgYmVhcmluZyBpcyBjbG9zZSBlbm91Z2ggdG8gaXQgKGkuZS4gd2l0aGluIHRoZVxuICAgICAqIGBiZWFyaW5nU25hcGAgdGhyZXNob2xkKS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIG1vdmVzdGFydFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgc25hcFRvTm9ydGgob3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5nZXRCZWFyaW5nKCkpIDwgdGhpcy5fYmVhcmluZ1NuYXApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc2V0Tm9ydGgob3B0aW9ucywgZXZlbnREYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBjdXJyZW50IHBpdGNoICh0aWx0KS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHJldHVybnMgVGhlIG1hcCdzIGN1cnJlbnQgcGl0Y2gsIG1lYXN1cmVkIGluIGRlZ3JlZXMgYXdheSBmcm9tIHRoZSBwbGFuZSBvZiB0aGUgc2NyZWVuLlxuICAgICAqL1xuICAgIGdldFBpdGNoKCk6IG51bWJlciB7IHJldHVybiB0aGlzLnRyYW5zZm9ybS5waXRjaDsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwJ3MgcGl0Y2ggKHRpbHQpLiBFcXVpdmFsZW50IHRvIGBqdW1wVG8oe3BpdGNoOiBwaXRjaH0pYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHBpdGNoIFRoZSBwaXRjaCB0byBzZXQsIG1lYXN1cmVkIGluIGRlZ3JlZXMgYXdheSBmcm9tIHRoZSBwbGFuZSBvZiB0aGUgc2NyZWVuICgwLTYwKS5cbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQGZpcmVzIHBpdGNoc3RhcnRcbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRQaXRjaChwaXRjaDogbnVtYmVyLCBldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5qdW1wVG8oe3BpdGNoOiBwaXRjaH0sIGV2ZW50RGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUGFucyBhbmQgem9vbXMgdGhlIG1hcCB0byBjb250YWluIGl0cyB2aXNpYmxlIGFyZWEgd2l0aGluIHRoZSBzcGVjaWZpZWQgZ2VvZ3JhcGhpY2FsIGJvdW5kcy5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYWxzbyByZXNldCB0aGUgbWFwJ3MgYmVhcmluZyB0byAwIGlmIGJlYXJpbmcgaXMgbm9uemVyby5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIGJvdW5kcyBDZW50ZXIgdGhlc2UgYm91bmRzIGluIHRoZSB2aWV3cG9ydCBhbmQgdXNlIHRoZSBoaWdoZXN0XG4gICAgICogICAgICB6b29tIGxldmVsIHVwIHRvIGFuZCBpbmNsdWRpbmcgYE1hcCNnZXRNYXhab29tKClgIHRoYXQgZml0cyB0aGVtIGluIHRoZSB2aWV3cG9ydC5cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyIHwgUGFkZGluZ09wdGlvbnN9IFtvcHRpb25zLnBhZGRpbmddIFRoZSBhbW91bnQgb2YgcGFkZGluZyBpbiBwaXhlbHMgdG8gYWRkIHRvIHRoZSBnaXZlbiBib3VuZHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5saW5lYXI9ZmFsc2VdIElmIGB0cnVlYCwgdGhlIG1hcCB0cmFuc2l0aW9ucyB1c2luZ1xuICAgICAqICAgICB7QGxpbmsgTWFwI2Vhc2VUb30uIElmIGBmYWxzZWAsIHRoZSBtYXAgdHJhbnNpdGlvbnMgdXNpbmcge0BsaW5rIE1hcCNmbHlUb30uIFNlZVxuICAgICAqICAgICB0aG9zZSBmdW5jdGlvbnMgYW5kIHtAbGluayBBbmltYXRpb25PcHRpb25zfSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgb3B0aW9ucyBhdmFpbGFibGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuZWFzaW5nXSBBbiBlYXNpbmcgZnVuY3Rpb24gZm9yIHRoZSBhbmltYXRlZCB0cmFuc2l0aW9uLiBTZWUge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9LlxuICAgICAqIEBwYXJhbSB7UG9pbnRMaWtlfSBbb3B0aW9ucy5vZmZzZXQ9WzAsIDBdXSBUaGUgY2VudGVyIG9mIHRoZSBnaXZlbiBib3VuZHMgcmVsYXRpdmUgdG8gdGhlIG1hcCdzIGNlbnRlciwgbWVhc3VyZWQgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhab29tXSBUaGUgbWF4aW11bSB6b29tIGxldmVsIHRvIGFsbG93IHdoZW4gdGhlIG1hcCB2aWV3IHRyYW5zaXRpb25zIHRvIHRoZSBzcGVjaWZpZWQgYm91bmRzLlxuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2Bcblx0ICogQGV4YW1wbGVcbiAgICAgKiB2YXIgYmJveCA9IFtbLTc5LCA0M10sIFstNzMsIDQ1XV07XG4gICAgICogbWFwLmZpdEJvdW5kcyhiYm94LCB7XG4gICAgICogICBwYWRkaW5nOiB7dG9wOiAxMCwgYm90dG9tOjI1LCBsZWZ0OiAxNSwgcmlnaHQ6IDV9XG4gICAgICogfSk7XG4gICAgICogQHNlZSBbRml0IGEgbWFwIHRvIGEgYm91bmRpbmcgYm94XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2ZpdGJvdW5kcy8pXG4gICAgICovXG4gICAgZml0Qm91bmRzKGJvdW5kczogTG5nTGF0Qm91bmRzTGlrZSwgb3B0aW9ucz86IEFuaW1hdGlvbk9wdGlvbnMgJiBDYW1lcmFPcHRpb25zLCBldmVudERhdGE/OiBPYmplY3QpIHtcblxuICAgICAgICBvcHRpb25zID0gZXh0ZW5kKHtcbiAgICAgICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvZmZzZXQ6IFswLCAwXSxcbiAgICAgICAgICAgIG1heFpvb206IHRoaXMudHJhbnNmb3JtLm1heFpvb21cbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnBhZGRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gb3B0aW9ucy5wYWRkaW5nO1xuICAgICAgICAgICAgb3B0aW9ucy5wYWRkaW5nID0ge1xuICAgICAgICAgICAgICAgIHRvcDogcCxcbiAgICAgICAgICAgICAgICBib3R0b206IHAsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHAsXG4gICAgICAgICAgICAgICAgbGVmdDogcFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlZXBFcXVhbChPYmplY3Qua2V5cyhvcHRpb25zLnBhZGRpbmcpLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhIDwgYikgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKGEgPiBiKSByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KSwgW1wiYm90dG9tXCIsIFwibGVmdFwiLCBcInJpZ2h0XCIsIFwidG9wXCJdKSkge1xuICAgICAgICAgICAgd2Fybk9uY2UoXG4gICAgICAgICAgICAgICAgXCJvcHRpb25zLnBhZGRpbmcgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlciwgb3IgYW4gT2JqZWN0IHdpdGgga2V5cyAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnLCAndG9wJ1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBib3VuZHMgPSBMbmdMYXRCb3VuZHMuY29udmVydChib3VuZHMpO1xuXG4gICAgICAgIC8vIHdlIHNlcGFyYXRlIHRoZSBwYXNzZWQgcGFkZGluZyBvcHRpb24gaW50byB0d28gcGFydHMsIHRoZSBwYXJ0IHRoYXQgZG9lcyBub3QgYWZmZWN0IHRoZSBtYXAncyBjZW50ZXJcbiAgICAgICAgLy8gKGxhdGVyYWwgYW5kIHZlcnRpY2FsIHBhZGRpbmcpLCBhbmQgdGhlIHBhcnQgdGhhdCBkb2VzIChwYWRkaW5nT2Zmc2V0KS4gV2UgYWRkIHRoZSBwYWRkaW5nIG9mZnNldFxuICAgICAgICAvLyB0byB0aGUgb3B0aW9ucyBgb2Zmc2V0YCBvYmplY3Qgd2hlcmUgaXQgY2FuIGFsdGVyIHRoZSBtYXAncyBjZW50ZXIgaW4gdGhlIHN1YnNlcXVlbnQgY2FsbHMgdG9cbiAgICAgICAgLy8gYGVhc2VUb2AgYW5kIGBmbHlUb2AuXG4gICAgICAgIGNvbnN0IHBhZGRpbmdPZmZzZXQgPSBbKG9wdGlvbnMucGFkZGluZy5sZWZ0IC0gb3B0aW9ucy5wYWRkaW5nLnJpZ2h0KSAvIDIsIChvcHRpb25zLnBhZGRpbmcudG9wIC0gb3B0aW9ucy5wYWRkaW5nLmJvdHRvbSkgLyAyXSxcbiAgICAgICAgICAgIGxhdGVyYWxQYWRkaW5nID0gTWF0aC5taW4ob3B0aW9ucy5wYWRkaW5nLnJpZ2h0LCBvcHRpb25zLnBhZGRpbmcubGVmdCksXG4gICAgICAgICAgICB2ZXJ0aWNhbFBhZGRpbmcgPSBNYXRoLm1pbihvcHRpb25zLnBhZGRpbmcudG9wLCBvcHRpb25zLnBhZGRpbmcuYm90dG9tKTtcbiAgICAgICAgb3B0aW9ucy5vZmZzZXQgPSBbb3B0aW9ucy5vZmZzZXRbMF0gKyBwYWRkaW5nT2Zmc2V0WzBdLCBvcHRpb25zLm9mZnNldFsxXSArIHBhZGRpbmdPZmZzZXRbMV1dO1xuXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IFBvaW50LmNvbnZlcnQob3B0aW9ucy5vZmZzZXQpLFxuICAgICAgICAgICAgdHIgPSB0aGlzLnRyYW5zZm9ybSxcbiAgICAgICAgICAgIG53ID0gdHIucHJvamVjdChib3VuZHMuZ2V0Tm9ydGhXZXN0KCkpLFxuICAgICAgICAgICAgc2UgPSB0ci5wcm9qZWN0KGJvdW5kcy5nZXRTb3V0aEVhc3QoKSksXG4gICAgICAgICAgICBzaXplID0gc2Uuc3ViKG53KSxcbiAgICAgICAgICAgIHNjYWxlWCA9ICh0ci53aWR0aCAtIGxhdGVyYWxQYWRkaW5nICogMiAtIE1hdGguYWJzKG9mZnNldC54KSAqIDIpIC8gc2l6ZS54LFxuICAgICAgICAgICAgc2NhbGVZID0gKHRyLmhlaWdodCAtIHZlcnRpY2FsUGFkZGluZyAqIDIgLSBNYXRoLmFicyhvZmZzZXQueSkgKiAyKSAvIHNpemUueTtcblxuICAgICAgICBpZiAoc2NhbGVZIDwgMCB8fCBzY2FsZVggPCAwKSB7XG4gICAgICAgICAgICB3YXJuT25jZShcbiAgICAgICAgICAgICAgICAnTWFwIGNhbm5vdCBmaXQgd2l0aGluIGNhbnZhcyB3aXRoIHRoZSBnaXZlbiBib3VuZHMsIHBhZGRpbmcsIGFuZC9vciBvZmZzZXQuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5jZW50ZXIgPSB0ci51bnByb2plY3QobncuYWRkKHNlKS5kaXYoMikpO1xuICAgICAgICBvcHRpb25zLnpvb20gPSBNYXRoLm1pbih0ci5zY2FsZVpvb20odHIuc2NhbGUgKiBNYXRoLm1pbihzY2FsZVgsIHNjYWxlWSkpLCBvcHRpb25zLm1heFpvb20pO1xuICAgICAgICBvcHRpb25zLmJlYXJpbmcgPSAwO1xuXG4gICAgICAgIHJldHVybiBvcHRpb25zLmxpbmVhciA/XG4gICAgICAgICAgICB0aGlzLmVhc2VUbyhvcHRpb25zLCBldmVudERhdGEpIDpcbiAgICAgICAgICAgIHRoaXMuZmx5VG8ob3B0aW9ucywgZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGFueSBjb21iaW5hdGlvbiBvZiBjZW50ZXIsIHpvb20sIGJlYXJpbmcsIGFuZCBwaXRjaCwgd2l0aG91dFxuICAgICAqIGFuIGFuaW1hdGVkIHRyYW5zaXRpb24uIFRoZSBtYXAgd2lsbCByZXRhaW4gaXRzIGN1cnJlbnQgdmFsdWVzIGZvciBhbnlcbiAgICAgKiBkZXRhaWxzIG5vdCBzcGVjaWZpZWQgaW4gYG9wdGlvbnNgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIHpvb21zdGFydFxuICAgICAqIEBmaXJlcyBwaXRjaHN0YXJ0XG4gICAgICogQGZpcmVzIHJvdGF0ZVxuICAgICAqIEBmaXJlcyBtb3ZlXG4gICAgICogQGZpcmVzIHpvb21cbiAgICAgKiBAZmlyZXMgcGl0Y2hcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEBmaXJlcyB6b29tZW5kXG4gICAgICogQGZpcmVzIHBpdGNoZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAganVtcFRvKG9wdGlvbnM6IENhbWVyYU9wdGlvbnMsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICBjb25zdCB0ciA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICBsZXQgem9vbUNoYW5nZWQgPSBmYWxzZSxcbiAgICAgICAgICAgIGJlYXJpbmdDaGFuZ2VkID0gZmFsc2UsXG4gICAgICAgICAgICBwaXRjaENoYW5nZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAoJ3pvb20nIGluIG9wdGlvbnMgJiYgdHIuem9vbSAhPT0gK29wdGlvbnMuem9vbSkge1xuICAgICAgICAgICAgem9vbUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHIuem9vbSA9ICtvcHRpb25zLnpvb207XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5jZW50ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdHIuY2VudGVyID0gTG5nTGF0LmNvbnZlcnQob3B0aW9ucy5jZW50ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdiZWFyaW5nJyBpbiBvcHRpb25zICYmIHRyLmJlYXJpbmcgIT09ICtvcHRpb25zLmJlYXJpbmcpIHtcbiAgICAgICAgICAgIGJlYXJpbmdDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyLmJlYXJpbmcgPSArb3B0aW9ucy5iZWFyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdwaXRjaCcgaW4gb3B0aW9ucyAmJiB0ci5waXRjaCAhPT0gK29wdGlvbnMucGl0Y2gpIHtcbiAgICAgICAgICAgIHBpdGNoQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB0ci5waXRjaCA9ICtvcHRpb25zLnBpdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnbW92ZXN0YXJ0JywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnbW92ZScsIGV2ZW50RGF0YSkpO1xuXG4gICAgICAgIGlmICh6b29tQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnem9vbXN0YXJ0JywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3pvb20nLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnem9vbWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJlYXJpbmdDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdyb3RhdGVzdGFydCcsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAgICAgLmZpcmUobmV3IEV2ZW50KCdyb3RhdGUnLCBldmVudERhdGEpKVxuICAgICAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgncm90YXRlZW5kJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGl0Y2hDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdwaXRjaHN0YXJ0JywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3BpdGNoJywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3BpdGNoZW5kJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5maXJlKG5ldyBFdmVudCgnbW92ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgYW55IGNvbWJpbmF0aW9uIG9mIGNlbnRlciwgem9vbSwgYmVhcmluZywgYW5kIHBpdGNoLCB3aXRoIGFuIGFuaW1hdGVkIHRyYW5zaXRpb25cbiAgICAgKiBiZXR3ZWVuIG9sZCBhbmQgbmV3IHZhbHVlcy4gVGhlIG1hcCB3aWxsIHJldGFpbiBpdHMgY3VycmVudCB2YWx1ZXMgZm9yIGFueVxuICAgICAqIGRldGFpbHMgbm90IHNwZWNpZmllZCBpbiBgb3B0aW9uc2AuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTWFwI1xuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgZGVzY3JpYmluZyB0aGUgZGVzdGluYXRpb24gYW5kIGFuaW1hdGlvbiBvZiB0aGUgdHJhbnNpdGlvbi5cbiAgICAgKiAgICAgICAgICAgIEFjY2VwdHMge0BsaW5rIENhbWVyYU9wdGlvbnN9IGFuZCB7QGxpbmsgQW5pbWF0aW9uT3B0aW9uc30uXG4gICAgICogQHBhcmFtIGV2ZW50RGF0YSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gZXZlbnQgb2JqZWN0cyBvZiBldmVudHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kLlxuICAgICAqIEBmaXJlcyBtb3Zlc3RhcnRcbiAgICAgKiBAZmlyZXMgem9vbXN0YXJ0XG4gICAgICogQGZpcmVzIHBpdGNoc3RhcnRcbiAgICAgKiBAZmlyZXMgcm90YXRlXG4gICAgICogQGZpcmVzIG1vdmVcbiAgICAgKiBAZmlyZXMgem9vbVxuICAgICAqIEBmaXJlcyBwaXRjaFxuICAgICAqIEBmaXJlcyBtb3ZlZW5kXG4gICAgICogQGZpcmVzIHpvb21lbmRcbiAgICAgKiBAZmlyZXMgcGl0Y2hlbmRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAc2VlIFtOYXZpZ2F0ZSB0aGUgbWFwIHdpdGggZ2FtZS1saWtlIGNvbnRyb2xzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dhbWUtY29udHJvbHMvKVxuICAgICAqL1xuICAgIGVhc2VUbyhvcHRpb25zOiBDYW1lcmFPcHRpb25zICYgQW5pbWF0aW9uT3B0aW9ucyAmIHtkZWxheUVuZEV2ZW50cz86IG51bWJlcn0sIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICBvcHRpb25zID0gZXh0ZW5kKHtcbiAgICAgICAgICAgIG9mZnNldDogWzAsIDBdLFxuICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcbiAgICAgICAgICAgIGVhc2luZzogZGVmYXVsdEVhc2luZ1xuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRlID09PSBmYWxzZSkgb3B0aW9ucy5kdXJhdGlvbiA9IDA7XG5cbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLnRyYW5zZm9ybSxcbiAgICAgICAgICAgIHN0YXJ0Wm9vbSA9IHRoaXMuZ2V0Wm9vbSgpLFxuICAgICAgICAgICAgc3RhcnRCZWFyaW5nID0gdGhpcy5nZXRCZWFyaW5nKCksXG4gICAgICAgICAgICBzdGFydFBpdGNoID0gdGhpcy5nZXRQaXRjaCgpLFxuXG4gICAgICAgICAgICB6b29tID0gJ3pvb20nIGluIG9wdGlvbnMgPyArb3B0aW9ucy56b29tIDogc3RhcnRab29tLFxuICAgICAgICAgICAgYmVhcmluZyA9ICdiZWFyaW5nJyBpbiBvcHRpb25zID8gdGhpcy5fbm9ybWFsaXplQmVhcmluZyhvcHRpb25zLmJlYXJpbmcsIHN0YXJ0QmVhcmluZykgOiBzdGFydEJlYXJpbmcsXG4gICAgICAgICAgICBwaXRjaCA9ICdwaXRjaCcgaW4gb3B0aW9ucyA/ICtvcHRpb25zLnBpdGNoIDogc3RhcnRQaXRjaDtcblxuICAgICAgICBjb25zdCBwb2ludEF0T2Zmc2V0ID0gdHIuY2VudGVyUG9pbnQuYWRkKFBvaW50LmNvbnZlcnQob3B0aW9ucy5vZmZzZXQpKTtcbiAgICAgICAgY29uc3QgbG9jYXRpb25BdE9mZnNldCA9IHRyLnBvaW50TG9jYXRpb24ocG9pbnRBdE9mZnNldCk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IExuZ0xhdC5jb252ZXJ0KG9wdGlvbnMuY2VudGVyIHx8IGxvY2F0aW9uQXRPZmZzZXQpO1xuICAgICAgICB0aGlzLl9ub3JtYWxpemVDZW50ZXIoY2VudGVyKTtcblxuICAgICAgICBjb25zdCBmcm9tID0gdHIucHJvamVjdChsb2NhdGlvbkF0T2Zmc2V0KTtcbiAgICAgICAgY29uc3QgZGVsdGEgPSB0ci5wcm9qZWN0KGNlbnRlcikuc3ViKGZyb20pO1xuICAgICAgICBjb25zdCBmaW5hbFNjYWxlID0gdHIuem9vbVNjYWxlKHpvb20gLSBzdGFydFpvb20pO1xuXG4gICAgICAgIGxldCBhcm91bmQsIGFyb3VuZFBvaW50O1xuXG4gICAgICAgIGlmIChvcHRpb25zLmFyb3VuZCkge1xuICAgICAgICAgICAgYXJvdW5kID0gTG5nTGF0LmNvbnZlcnQob3B0aW9ucy5hcm91bmQpO1xuICAgICAgICAgICAgYXJvdW5kUG9pbnQgPSB0ci5sb2NhdGlvblBvaW50KGFyb3VuZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl96b29taW5nID0gKHpvb20gIT09IHN0YXJ0Wm9vbSk7XG4gICAgICAgIHRoaXMuX3JvdGF0aW5nID0gKHN0YXJ0QmVhcmluZyAhPT0gYmVhcmluZyk7XG4gICAgICAgIHRoaXMuX3BpdGNoaW5nID0gKHBpdGNoICE9PSBzdGFydFBpdGNoKTtcblxuICAgICAgICB0aGlzLl9wcmVwYXJlRWFzZShldmVudERhdGEsIG9wdGlvbnMubm9Nb3ZlU3RhcnQpO1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9lYXNlRW5kVGltZW91dElEKTtcblxuICAgICAgICB0aGlzLl9lYXNlKChrKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fem9vbWluZykge1xuICAgICAgICAgICAgICAgIHRyLnpvb20gPSBpbnRlcnBvbGF0ZShzdGFydFpvb20sIHpvb20sIGspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgdHIuYmVhcmluZyA9IGludGVycG9sYXRlKHN0YXJ0QmVhcmluZywgYmVhcmluZywgayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fcGl0Y2hpbmcpIHtcbiAgICAgICAgICAgICAgICB0ci5waXRjaCA9IGludGVycG9sYXRlKHN0YXJ0UGl0Y2gsIHBpdGNoLCBrKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGFyb3VuZCkge1xuICAgICAgICAgICAgICAgIHRyLnNldExvY2F0aW9uQXRQb2ludChhcm91bmQsIGFyb3VuZFBvaW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSB0ci56b29tU2NhbGUodHIuem9vbSAtIHN0YXJ0Wm9vbSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IHpvb20gPiBzdGFydFpvb20gP1xuICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbigyLCBmaW5hbFNjYWxlKSA6XG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDAuNSwgZmluYWxTY2FsZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BlZWR1cCA9IE1hdGgucG93KGJhc2UsIDEgLSBrKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdDZW50ZXIgPSB0ci51bnByb2plY3QoZnJvbS5hZGQoZGVsdGEubXVsdChrICogc3BlZWR1cCkpLm11bHQoc2NhbGUpKTtcbiAgICAgICAgICAgICAgICB0ci5zZXRMb2NhdGlvbkF0UG9pbnQodHIucmVuZGVyV29ybGRDb3BpZXMgPyBuZXdDZW50ZXIud3JhcCgpIDogbmV3Q2VudGVyLCBwb2ludEF0T2Zmc2V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZmlyZU1vdmVFdmVudHMoZXZlbnREYXRhKTtcblxuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5kZWxheUVuZEV2ZW50cykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Vhc2VFbmRUaW1lb3V0SUQgPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMuX2FmdGVyRWFzZShldmVudERhdGEpLCBvcHRpb25zLmRlbGF5RW5kRXZlbnRzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWZ0ZXJFYXNlKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9wcmVwYXJlRWFzZShldmVudERhdGE/OiBPYmplY3QsIG5vTW92ZVN0YXJ0OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX21vdmluZyA9IHRydWU7XG5cbiAgICAgICAgaWYgKCFub01vdmVTdGFydCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnbW92ZXN0YXJ0JywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3pvb21pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb21zdGFydCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yb3RhdGluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncm90YXRlc3RhcnQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcGl0Y2hpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3BpdGNoc3RhcnQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9maXJlTW92ZUV2ZW50cyhldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnbW92ZScsIGV2ZW50RGF0YSkpO1xuICAgICAgICBpZiAodGhpcy5fem9vbWluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnem9vbScsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yb3RhdGluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncm90YXRlJywgZXZlbnREYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3BpdGNoaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdwaXRjaCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2FmdGVyRWFzZShldmVudERhdGE/OiBPYmplY3QpIHtcbiAgICAgICAgY29uc3Qgd2FzWm9vbWluZyA9IHRoaXMuX3pvb21pbmc7XG4gICAgICAgIGNvbnN0IHdhc1JvdGF0aW5nID0gdGhpcy5fcm90YXRpbmc7XG4gICAgICAgIGNvbnN0IHdhc1BpdGNoaW5nID0gdGhpcy5fcGl0Y2hpbmc7XG4gICAgICAgIHRoaXMuX21vdmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl96b29taW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JvdGF0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BpdGNoaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHdhc1pvb21pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3pvb21lbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2FzUm90YXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JvdGF0ZWVuZCcsIGV2ZW50RGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3YXNQaXRjaGluZykge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncGl0Y2hlbmQnLCBldmVudERhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdtb3ZlZW5kJywgZXZlbnREYXRhKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBhbnkgY29tYmluYXRpb24gb2YgY2VudGVyLCB6b29tLCBiZWFyaW5nLCBhbmQgcGl0Y2gsIGFuaW1hdGluZyB0aGUgdHJhbnNpdGlvbiBhbG9uZyBhIGN1cnZlIHRoYXRcbiAgICAgKiBldm9rZXMgZmxpZ2h0LiBUaGUgYW5pbWF0aW9uIHNlYW1sZXNzbHkgaW5jb3Jwb3JhdGVzIHpvb21pbmcgYW5kIHBhbm5pbmcgdG8gaGVscFxuICAgICAqIHRoZSB1c2VyIG1haW50YWluIGhlciBiZWFyaW5ncyBldmVuIGFmdGVyIHRyYXZlcnNpbmcgYSBncmVhdCBkaXN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBNYXAjXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBkZXNjcmliaW5nIHRoZSBkZXN0aW5hdGlvbiBhbmQgYW5pbWF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uLlxuICAgICAqICAgICBBY2NlcHRzIHtAbGluayBDYW1lcmFPcHRpb25zfSwge0BsaW5rIEFuaW1hdGlvbk9wdGlvbnN9LFxuICAgICAqICAgICBhbmQgdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmN1cnZlPTEuNDJdIFRoZSB6b29taW5nIFwiY3VydmVcIiB0aGF0IHdpbGwgb2NjdXIgYWxvbmcgdGhlXG4gICAgICogICAgIGZsaWdodCBwYXRoLiBBIGhpZ2ggdmFsdWUgbWF4aW1pemVzIHpvb21pbmcgZm9yIGFuIGV4YWdnZXJhdGVkIGFuaW1hdGlvbiwgd2hpbGUgYSBsb3dcbiAgICAgKiAgICAgdmFsdWUgbWluaW1pemVzIHpvb21pbmcgZm9yIGFuIGVmZmVjdCBjbG9zZXIgdG8ge0BsaW5rIE1hcCNlYXNlVG99LiAxLjQyIGlzIHRoZSBhdmVyYWdlXG4gICAgICogICAgIHZhbHVlIHNlbGVjdGVkIGJ5IHBhcnRpY2lwYW50cyBpbiB0aGUgdXNlciBzdHVkeSBkaXNjdXNzZWQgaW5cbiAgICAgKiAgICAgW3ZhbiBXaWprICgyMDAzKV0oaHR0cHM6Ly93d3cud2luLnR1ZS5ubC9+dmFud2lqay96b29tcGFuLnBkZikuIEEgdmFsdWUgb2ZcbiAgICAgKiAgICAgYE1hdGgucG93KDYsIDAuMjUpYCB3b3VsZCBiZSBlcXVpdmFsZW50IHRvIHRoZSByb290IG1lYW4gc3F1YXJlZCBhdmVyYWdlIHZlbG9jaXR5LiBBXG4gICAgICogICAgIHZhbHVlIG9mIDEgd291bGQgcHJvZHVjZSBhIGNpcmN1bGFyIG1vdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWluWm9vbV0gVGhlIHplcm8tYmFzZWQgem9vbSBsZXZlbCBhdCB0aGUgcGVhayBvZiB0aGUgZmxpZ2h0IHBhdGguIElmXG4gICAgICogICAgIGBvcHRpb25zLmN1cnZlYCBpcyBzcGVjaWZpZWQsIHRoaXMgb3B0aW9uIGlzIGlnbm9yZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNwZWVkPTEuMl0gVGhlIGF2ZXJhZ2Ugc3BlZWQgb2YgdGhlIGFuaW1hdGlvbiBkZWZpbmVkIGluIHJlbGF0aW9uIHRvXG4gICAgICogICAgIGBvcHRpb25zLmN1cnZlYC4gQSBzcGVlZCBvZiAxLjIgbWVhbnMgdGhhdCB0aGUgbWFwIGFwcGVhcnMgdG8gbW92ZSBhbG9uZyB0aGUgZmxpZ2h0IHBhdGhcbiAgICAgKiAgICAgYnkgMS4yIHRpbWVzIGBvcHRpb25zLmN1cnZlYCBzY3JlZW5mdWxzIGV2ZXJ5IHNlY29uZC4gQSBfc2NyZWVuZnVsXyBpcyB0aGUgbWFwJ3MgdmlzaWJsZSBzcGFuLlxuICAgICAqICAgICBJdCBkb2VzIG5vdCBjb3JyZXNwb25kIHRvIGEgZml4ZWQgcGh5c2ljYWwgZGlzdGFuY2UsIGJ1dCB2YXJpZXMgYnkgem9vbSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NyZWVuU3BlZWRdIFRoZSBhdmVyYWdlIHNwZWVkIG9mIHRoZSBhbmltYXRpb24gbWVhc3VyZWQgaW4gc2NyZWVuZnVsc1xuICAgICAqICAgICBwZXIgc2Vjb25kLCBhc3N1bWluZyBhIGxpbmVhciB0aW1pbmcgY3VydmUuIElmIGBvcHRpb25zLnNwZWVkYCBpcyBzcGVjaWZpZWQsIHRoaXMgb3B0aW9uIGlzIGlnbm9yZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heER1cmF0aW9uXSBUaGUgYW5pbWF0aW9uJ3MgbWF4aW11bSBkdXJhdGlvbiwgbWVhc3VyZWQgaW4gbWlsbGlzZWNvbmRzLlxuICAgICAqICAgICBJZiBkdXJhdGlvbiBleGNlZWRzIG1heGltdW0gZHVyYXRpb24sIGl0IHJlc2V0cyB0byAwLlxuICAgICAqIEBwYXJhbSBldmVudERhdGEgQWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIGV2ZW50IG9iamVjdHMgb2YgZXZlbnRzIHRyaWdnZXJlZCBieSB0aGlzIG1ldGhvZC5cbiAgICAgKiBAZmlyZXMgbW92ZXN0YXJ0XG4gICAgICogQGZpcmVzIHpvb21zdGFydFxuICAgICAqIEBmaXJlcyBwaXRjaHN0YXJ0XG4gICAgICogQGZpcmVzIG1vdmVcbiAgICAgKiBAZmlyZXMgem9vbVxuICAgICAqIEBmaXJlcyByb3RhdGVcbiAgICAgKiBAZmlyZXMgcGl0Y2hcbiAgICAgKiBAZmlyZXMgbW92ZWVuZFxuICAgICAqIEBmaXJlcyB6b29tZW5kXG4gICAgICogQGZpcmVzIHBpdGNoZW5kXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBmbHkgd2l0aCBkZWZhdWx0IG9wdGlvbnMgdG8gbnVsbCBpc2xhbmRcbiAgICAgKiBtYXAuZmx5VG8oe2NlbnRlcjogWzAsIDBdLCB6b29tOiA5fSk7XG4gICAgICogLy8gdXNpbmcgZmx5VG8gb3B0aW9uc1xuICAgICAqIG1hcC5mbHlUbyh7XG4gICAgICogICBjZW50ZXI6IFswLCAwXSxcbiAgICAgKiAgIHpvb206IDksXG4gICAgICogICBzcGVlZDogMC4yLFxuICAgICAqICAgY3VydmU6IDEsXG4gICAgICogICBlYXNpbmcodCkge1xuICAgICAqICAgICByZXR1cm4gdDtcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBAc2VlIFtGbHkgdG8gYSBsb2NhdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9mbHl0by8pXG4gICAgICogQHNlZSBbU2xvd2x5IGZseSB0byBhIGxvY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2ZseXRvLW9wdGlvbnMvKVxuICAgICAqIEBzZWUgW0ZseSB0byBhIGxvY2F0aW9uIGJhc2VkIG9uIHNjcm9sbCBwb3NpdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9zY3JvbGwtZmx5LXRvLylcbiAgICAgKi9cbiAgICBmbHlUbyhvcHRpb25zOiBPYmplY3QsIGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICAvLyBUaGlzIG1ldGhvZCBpbXBsZW1lbnRzIGFuIOKAnG9wdGltYWwgcGF0aOKAnSBhbmltYXRpb24sIGFzIGRldGFpbGVkIGluOlxuICAgICAgICAvL1xuICAgICAgICAvLyBWYW4gV2lqaywgSmFya2UgSi47IE51aWosIFdpbSBBLiBBLiDigJxTbW9vdGggYW5kIGVmZmljaWVudCB6b29taW5nIGFuZCBwYW5uaW5nLuKAnSBJTkZPVklTXG4gICAgICAgIC8vICAg4oCZMDMuIHBwLiAxNeKAkzIyLiA8aHR0cHM6Ly93d3cud2luLnR1ZS5ubC9+dmFud2lqay96b29tcGFuLnBkZiNwYWdlPTU+LlxuICAgICAgICAvL1xuICAgICAgICAvLyBXaGVyZSBhcHBsaWNhYmxlLCBsb2NhbCB2YXJpYWJsZSBkb2N1bWVudGF0aW9uIGJlZ2lucyB3aXRoIHRoZSBhc3NvY2lhdGVkIHZhcmlhYmxlIG9yXG4gICAgICAgIC8vIGZ1bmN0aW9uIGluIHZhbiBXaWprICgyMDAzKS5cblxuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICBvcHRpb25zID0gZXh0ZW5kKHtcbiAgICAgICAgICAgIG9mZnNldDogWzAsIDBdLFxuICAgICAgICAgICAgc3BlZWQ6IDEuMixcbiAgICAgICAgICAgIGN1cnZlOiAxLjQyLFxuICAgICAgICAgICAgZWFzaW5nOiBkZWZhdWx0RWFzaW5nXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IHRyID0gdGhpcy50cmFuc2Zvcm0sXG4gICAgICAgICAgICBzdGFydFpvb20gPSB0aGlzLmdldFpvb20oKSxcbiAgICAgICAgICAgIHN0YXJ0QmVhcmluZyA9IHRoaXMuZ2V0QmVhcmluZygpLFxuICAgICAgICAgICAgc3RhcnRQaXRjaCA9IHRoaXMuZ2V0UGl0Y2goKTtcblxuICAgICAgICBjb25zdCB6b29tID0gJ3pvb20nIGluIG9wdGlvbnMgPyBjbGFtcCgrb3B0aW9ucy56b29tLCB0ci5taW5ab29tLCB0ci5tYXhab29tKSA6IHN0YXJ0Wm9vbTtcbiAgICAgICAgY29uc3QgYmVhcmluZyA9ICdiZWFyaW5nJyBpbiBvcHRpb25zID8gdGhpcy5fbm9ybWFsaXplQmVhcmluZyhvcHRpb25zLmJlYXJpbmcsIHN0YXJ0QmVhcmluZykgOiBzdGFydEJlYXJpbmc7XG4gICAgICAgIGNvbnN0IHBpdGNoID0gJ3BpdGNoJyBpbiBvcHRpb25zID8gK29wdGlvbnMucGl0Y2ggOiBzdGFydFBpdGNoO1xuXG4gICAgICAgIGNvbnN0IHNjYWxlID0gdHIuem9vbVNjYWxlKHpvb20gLSBzdGFydFpvb20pO1xuICAgICAgICBjb25zdCBwb2ludEF0T2Zmc2V0ID0gdHIuY2VudGVyUG9pbnQuYWRkKFBvaW50LmNvbnZlcnQob3B0aW9ucy5vZmZzZXQpKTtcbiAgICAgICAgY29uc3QgbG9jYXRpb25BdE9mZnNldCA9IHRyLnBvaW50TG9jYXRpb24ocG9pbnRBdE9mZnNldCk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IExuZ0xhdC5jb252ZXJ0KG9wdGlvbnMuY2VudGVyIHx8IGxvY2F0aW9uQXRPZmZzZXQpO1xuICAgICAgICB0aGlzLl9ub3JtYWxpemVDZW50ZXIoY2VudGVyKTtcblxuICAgICAgICBjb25zdCBmcm9tID0gdHIucHJvamVjdChsb2NhdGlvbkF0T2Zmc2V0KTtcbiAgICAgICAgY29uc3QgZGVsdGEgPSB0ci5wcm9qZWN0KGNlbnRlcikuc3ViKGZyb20pO1xuXG4gICAgICAgIGxldCByaG8gPSBvcHRpb25zLmN1cnZlO1xuXG4gICAgICAgIC8vIHfigoA6IEluaXRpYWwgdmlzaWJsZSBzcGFuLCBtZWFzdXJlZCBpbiBwaXhlbHMgYXQgdGhlIGluaXRpYWwgc2NhbGUuXG4gICAgICAgIGNvbnN0IHcwID0gTWF0aC5tYXgodHIud2lkdGgsIHRyLmhlaWdodCksXG4gICAgICAgICAgICAvLyB34oKBOiBGaW5hbCB2aXNpYmxlIHNwYW4sIG1lYXN1cmVkIGluIHBpeGVscyB3aXRoIHJlc3BlY3QgdG8gdGhlIGluaXRpYWwgc2NhbGUuXG4gICAgICAgICAgICB3MSA9IHcwIC8gc2NhbGUsXG4gICAgICAgICAgICAvLyBMZW5ndGggb2YgdGhlIGZsaWdodCBwYXRoIGFzIHByb2plY3RlZCBvbnRvIHRoZSBncm91bmQgcGxhbmUsIG1lYXN1cmVkIGluIHBpeGVscyBmcm9tXG4gICAgICAgICAgICAvLyB0aGUgd29ybGQgaW1hZ2Ugb3JpZ2luIGF0IHRoZSBpbml0aWFsIHNjYWxlLlxuICAgICAgICAgICAgdTEgPSBkZWx0YS5tYWcoKTtcblxuICAgICAgICBpZiAoJ21pblpvb20nIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pblpvb20gPSBjbGFtcChNYXRoLm1pbihvcHRpb25zLm1pblpvb20sIHN0YXJ0Wm9vbSwgem9vbSksIHRyLm1pblpvb20sIHRyLm1heFpvb20pO1xuICAgICAgICAgICAgLy8gdzxzdWI+bTwvc3ViPjogTWF4aW11bSB2aXNpYmxlIHNwYW4sIG1lYXN1cmVkIGluIHBpeGVscyB3aXRoIHJlc3BlY3QgdG8gdGhlIGluaXRpYWxcbiAgICAgICAgICAgIC8vIHNjYWxlLlxuICAgICAgICAgICAgY29uc3Qgd01heCA9IHcwIC8gdHIuem9vbVNjYWxlKG1pblpvb20gLSBzdGFydFpvb20pO1xuICAgICAgICAgICAgcmhvID0gTWF0aC5zcXJ0KHdNYXggLyB1MSAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gz4HCslxuICAgICAgICBjb25zdCByaG8yID0gcmhvICogcmhvO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBy4bWiOiBSZXR1cm5zIHRoZSB6b29tLW91dCBmYWN0b3IgYXQgb25lIGVuZCBvZiB0aGUgYW5pbWF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gaSAwIGZvciB0aGUgYXNjZW50IG9yIDEgZm9yIHRoZSBkZXNjZW50LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcihpKSB7XG4gICAgICAgICAgICBjb25zdCBiID0gKHcxICogdzEgLSB3MCAqIHcwICsgKGkgPyAtMSA6IDEpICogcmhvMiAqIHJobzIgKiB1MSAqIHUxKSAvICgyICogKGkgPyB3MSA6IHcwKSAqIHJobzIgKiB1MSk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5sb2coTWF0aC5zcXJ0KGIgKiBiICsgMSkgLSBiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNpbmgobikgeyByZXR1cm4gKE1hdGguZXhwKG4pIC0gTWF0aC5leHAoLW4pKSAvIDI7IH1cbiAgICAgICAgZnVuY3Rpb24gY29zaChuKSB7IHJldHVybiAoTWF0aC5leHAobikgKyBNYXRoLmV4cCgtbikpIC8gMjsgfVxuICAgICAgICBmdW5jdGlvbiB0YW5oKG4pIHsgcmV0dXJuIHNpbmgobikgLyBjb3NoKG4pOyB9XG5cbiAgICAgICAgLy8gcuKCgDogWm9vbS1vdXQgZmFjdG9yIGR1cmluZyBhc2NlbnQuXG4gICAgICAgIGNvbnN0IHIwID0gcigwKTtcblxuICAgICAgICAvLyB3KHMpOiBSZXR1cm5zIHRoZSB2aXNpYmxlIHNwYW4gb24gdGhlIGdyb3VuZCwgbWVhc3VyZWQgaW4gcGl4ZWxzIHdpdGggcmVzcGVjdCB0byB0aGVcbiAgICAgICAgLy8gaW5pdGlhbCBzY2FsZS4gQXNzdW1lcyBhbiBhbmd1bGFyIGZpZWxkIG9mIHZpZXcgb2YgMiBhcmN0YW4gwr0g4omIIDUzwrAuXG4gICAgICAgIGxldCB3OiAobnVtYmVyKSA9PiBudW1iZXIgPSBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIChjb3NoKHIwKSAvIGNvc2gocjAgKyByaG8gKiBzKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gdShzKTogUmV0dXJucyB0aGUgZGlzdGFuY2UgYWxvbmcgdGhlIGZsaWdodCBwYXRoIGFzIHByb2plY3RlZCBvbnRvIHRoZSBncm91bmQgcGxhbmUsXG4gICAgICAgIC8vIG1lYXN1cmVkIGluIHBpeGVscyBmcm9tIHRoZSB3b3JsZCBpbWFnZSBvcmlnaW4gYXQgdGhlIGluaXRpYWwgc2NhbGUuXG4gICAgICAgIGxldCB1OiAobnVtYmVyKSA9PiBudW1iZXIgPSBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgcmV0dXJuIHcwICogKChjb3NoKHIwKSAqIHRhbmgocjAgKyByaG8gKiBzKSAtIHNpbmgocjApKSAvIHJobzIpIC8gdTE7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUzogVG90YWwgbGVuZ3RoIG9mIHRoZSBmbGlnaHQgcGF0aCwgbWVhc3VyZWQgaW4gz4Etc2NyZWVuZnVscy5cbiAgICAgICAgbGV0IFMgPSAocigxKSAtIHIwKSAvIHJobztcblxuICAgICAgICAvLyBXaGVuIHXigoAgPSB14oKBLCB0aGUgb3B0aW1hbCBwYXRoIGRvZXNu4oCZdCByZXF1aXJlIGJvdGggYXNjZW50IGFuZCBkZXNjZW50LlxuICAgICAgICBpZiAoTWF0aC5hYnModTEpIDwgMC4wMDAwMDEgfHwgIWlzRmluaXRlKFMpKSB7XG4gICAgICAgICAgICAvLyBQZXJmb3JtIGEgbW9yZSBvciBsZXNzIGluc3RhbnRhbmVvdXMgdHJhbnNpdGlvbiBpZiB0aGUgcGF0aCBpcyB0b28gc2hvcnQuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModzAgLSB3MSkgPCAwLjAwMDAwMSkgcmV0dXJuIHRoaXMuZWFzZVRvKG9wdGlvbnMsIGV2ZW50RGF0YSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGsgPSB3MSA8IHcwID8gLTEgOiAxO1xuICAgICAgICAgICAgUyA9IE1hdGguYWJzKE1hdGgubG9nKHcxIC8gdzApKSAvIHJobztcblxuICAgICAgICAgICAgdSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiAgICAgICAgICAgIHcgPSBmdW5jdGlvbihzKSB7IHJldHVybiBNYXRoLmV4cChrICogcmhvICogcyk7IH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ2R1cmF0aW9uJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uID0gK29wdGlvbnMuZHVyYXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBWID0gJ3NjcmVlblNwZWVkJyBpbiBvcHRpb25zID8gK29wdGlvbnMuc2NyZWVuU3BlZWQgLyByaG8gOiArb3B0aW9ucy5zcGVlZDtcbiAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSAxMDAwICogUyAvIFY7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5tYXhEdXJhdGlvbiAmJiBvcHRpb25zLmR1cmF0aW9uID4gb3B0aW9ucy5tYXhEdXJhdGlvbikge1xuICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl96b29taW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcm90YXRpbmcgPSAoc3RhcnRCZWFyaW5nICE9PSBiZWFyaW5nKTtcbiAgICAgICAgdGhpcy5fcGl0Y2hpbmcgPSAocGl0Y2ggIT09IHN0YXJ0UGl0Y2gpO1xuXG4gICAgICAgIHRoaXMuX3ByZXBhcmVFYXNlKGV2ZW50RGF0YSwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuX2Vhc2UoKGspID0+IHtcbiAgICAgICAgICAgIC8vIHM6IFRoZSBkaXN0YW5jZSB0cmF2ZWxlZCBhbG9uZyB0aGUgZmxpZ2h0IHBhdGgsIG1lYXN1cmVkIGluIM+BLXNjcmVlbmZ1bHMuXG4gICAgICAgICAgICBjb25zdCBzID0gayAqIFM7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IDEgLyB3KHMpO1xuICAgICAgICAgICAgdHIuem9vbSA9IHN0YXJ0Wm9vbSArIHRyLnNjYWxlWm9vbShzY2FsZSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3RhdGluZykge1xuICAgICAgICAgICAgICAgIHRyLmJlYXJpbmcgPSBpbnRlcnBvbGF0ZShzdGFydEJlYXJpbmcsIGJlYXJpbmcsIGspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3BpdGNoaW5nKSB7XG4gICAgICAgICAgICAgICAgdHIucGl0Y2ggPSBpbnRlcnBvbGF0ZShzdGFydFBpdGNoLCBwaXRjaCwgayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0NlbnRlciA9IHRyLnVucHJvamVjdChmcm9tLmFkZChkZWx0YS5tdWx0KHUocykpKS5tdWx0KHNjYWxlKSk7XG4gICAgICAgICAgICB0ci5zZXRMb2NhdGlvbkF0UG9pbnQodHIucmVuZGVyV29ybGRDb3BpZXMgPyBuZXdDZW50ZXIud3JhcCgpIDogbmV3Q2VudGVyLCBwb2ludEF0T2Zmc2V0KTtcblxuICAgICAgICAgICAgdGhpcy5fZmlyZU1vdmVFdmVudHMoZXZlbnREYXRhKTtcblxuICAgICAgICB9LCAoKSA9PiB0aGlzLl9hZnRlckVhc2UoZXZlbnREYXRhKSwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaXNFYXNpbmcoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2Vhc2VGcmFtZUlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3BzIGFueSBhbmltYXRlZCB0cmFuc2l0aW9uIHVuZGVyd2F5LlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE1hcCNcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzdG9wKCk6IHRoaXMge1xuICAgICAgICBpZiAodGhpcy5fZWFzZUZyYW1lSWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbFJlbmRlckZyYW1lKHRoaXMuX2Vhc2VGcmFtZUlkKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9lYXNlRnJhbWVJZDtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9vbkVhc2VGcmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9vbkVhc2VFbmQpIHtcbiAgICAgICAgICAgIC8vIFRoZSBfb25FYXNlRW5kIGZ1bmN0aW9uIG1pZ2h0IGVtaXQgZXZlbnRzIHdoaWNoIHRyaWdnZXIgbmV3XG4gICAgICAgICAgICAvLyBhbmltYXRpb24sIHdoaWNoIHNldHMgYSBuZXcgX29uRWFzZUVuZC4gRW5zdXJlIHdlIGRvbid0IGRlbGV0ZVxuICAgICAgICAgICAgLy8gaXQgdW5pbnRlbnRpb25hbGx5LlxuICAgICAgICAgICAgY29uc3Qgb25FYXNlRW5kID0gdGhpcy5fb25FYXNlRW5kO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX29uRWFzZUVuZDtcbiAgICAgICAgICAgIG9uRWFzZUVuZC5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9lYXNlKGZyYW1lOiAobnVtYmVyKSA9PiB2b2lkLFxuICAgICAgICAgIGZpbmlzaDogKCkgPT4gdm9pZCxcbiAgICAgICAgICBvcHRpb25zOiB7YW5pbWF0ZTogYm9vbGVhbiwgZHVyYXRpb246IG51bWJlciwgZWFzaW5nOiAobnVtYmVyKSA9PiBudW1iZXJ9KSB7XG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGUgPT09IGZhbHNlIHx8IG9wdGlvbnMuZHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgIGZyYW1lKDEpO1xuICAgICAgICAgICAgZmluaXNoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9lYXNlU3RhcnQgPSBicm93c2VyLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5fZWFzZU9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAgICAgdGhpcy5fb25FYXNlRnJhbWUgPSBmcmFtZTtcbiAgICAgICAgICAgIHRoaXMuX29uRWFzZUVuZCA9IGZpbmlzaDtcbiAgICAgICAgICAgIHRoaXMuX2Vhc2VGcmFtZUlkID0gdGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FsbGJhY2sgZm9yIG1hcC5fcmVxdWVzdFJlbmRlckZyYW1lXG4gICAgX3JlbmRlckZyYW1lQ2FsbGJhY2soKSB7XG4gICAgICAgIGNvbnN0IHQgPSBNYXRoLm1pbigoYnJvd3Nlci5ub3coKSAtIHRoaXMuX2Vhc2VTdGFydCkgLyB0aGlzLl9lYXNlT3B0aW9ucy5kdXJhdGlvbiwgMSk7XG4gICAgICAgIHRoaXMuX29uRWFzZUZyYW1lKHRoaXMuX2Vhc2VPcHRpb25zLmVhc2luZyh0KSk7XG4gICAgICAgIGlmICh0IDwgMSkge1xuICAgICAgICAgICAgdGhpcy5fZWFzZUZyYW1lSWQgPSB0aGlzLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fcmVuZGVyRnJhbWVDYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNvbnZlcnQgYmVhcmluZyBzbyB0aGF0IGl0J3MgbnVtZXJpY2FsbHkgY2xvc2UgdG8gdGhlIGN1cnJlbnQgb25lIHNvIHRoYXQgaXQgaW50ZXJwb2xhdGVzIHByb3Blcmx5XG4gICAgX25vcm1hbGl6ZUJlYXJpbmcoYmVhcmluZzogbnVtYmVyLCBjdXJyZW50QmVhcmluZzogbnVtYmVyKSB7XG4gICAgICAgIGJlYXJpbmcgPSB3cmFwKGJlYXJpbmcsIC0xODAsIDE4MCk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBNYXRoLmFicyhiZWFyaW5nIC0gY3VycmVudEJlYXJpbmcpO1xuICAgICAgICBpZiAoTWF0aC5hYnMoYmVhcmluZyAtIDM2MCAtIGN1cnJlbnRCZWFyaW5nKSA8IGRpZmYpIGJlYXJpbmcgLT0gMzYwO1xuICAgICAgICBpZiAoTWF0aC5hYnMoYmVhcmluZyArIDM2MCAtIGN1cnJlbnRCZWFyaW5nKSA8IGRpZmYpIGJlYXJpbmcgKz0gMzYwO1xuICAgICAgICByZXR1cm4gYmVhcmluZztcbiAgICB9XG5cbiAgICAvLyBJZiBhIHBhdGggY3Jvc3NpbmcgdGhlIGFudGltZXJpZGlhbiB3b3VsZCBiZSBzaG9ydGVyLCBleHRlbmQgdGhlIGZpbmFsIGNvb3JkaW5hdGUgc28gdGhhdFxuICAgIC8vIGludGVycG9sYXRpbmcgYmV0d2VlbiB0aGUgdHdvIGVuZHBvaW50cyB3aWxsIGNyb3NzIGl0LlxuICAgIF9ub3JtYWxpemVDZW50ZXIoY2VudGVyOiBMbmdMYXQpIHtcbiAgICAgICAgY29uc3QgdHIgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgaWYgKCF0ci5yZW5kZXJXb3JsZENvcGllcyB8fCB0ci5sbmdSYW5nZSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGRlbHRhID0gY2VudGVyLmxuZyAtIHRyLmNlbnRlci5sbmc7XG4gICAgICAgIGNlbnRlci5sbmcgKz1cbiAgICAgICAgICAgIGRlbHRhID4gMTgwID8gLTM2MCA6XG4gICAgICAgICAgICBkZWx0YSA8IC0xODAgPyAzNjAgOiAwO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FtZXJhO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBiaW5kQWxsIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsJztcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vLi4vdXRpbC9jb25maWcnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcblxudHlwZSBPcHRpb25zID0ge1xuICAgIGNvbXBhY3Q/OiBib29sZWFuXG59O1xuXG4vKipcbiAqIEFuIGBBdHRyaWJ1dGlvbkNvbnRyb2xgIGNvbnRyb2wgcHJlc2VudHMgdGhlIG1hcCdzIFthdHRyaWJ1dGlvbiBpbmZvcm1hdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9oZWxwL2F0dHJpYnV0aW9uLykuXG4gKlxuICogQGltcGxlbWVudHMge0lDb250cm9sfVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jb21wYWN0XSBJZiBgdHJ1ZWAgZm9yY2UgYSBjb21wYWN0IGF0dHJpYnV0aW9uIHRoYXQgc2hvd3MgdGhlIGZ1bGwgYXR0cmlidXRpb24gb24gbW91c2UgaG92ZXIsIG9yIGlmIGBmYWxzZWAgZm9yY2UgdGhlIGZ1bGwgYXR0cmlidXRpb24gY29udHJvbC4gVGhlIGRlZmF1bHQgaXMgYSByZXNwb25zaXZlIGF0dHJpYnV0aW9uIHRoYXQgY29sbGFwc2VzIHdoZW4gdGhlIG1hcCBpcyBsZXNzIHRoYW4gNjQwIHBpeGVscyB3aWRlLlxuICogQGV4YW1wbGVcbiAqIHZhciBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHthdHRyaWJ1dGlvbkNvbnRyb2w6IGZhbHNlfSlcbiAqICAgICAuYWRkQ29udHJvbChuZXcgbWFwYm94Z2wuQXR0cmlidXRpb25Db250cm9sKHtcbiAqICAgICAgICAgY29tcGFjdDogdHJ1ZVxuICogICAgIH0pKTtcbiAqL1xuY2xhc3MgQXR0cmlidXRpb25Db250cm9sIHtcbiAgICBvcHRpb25zOiBPcHRpb25zO1xuICAgIF9tYXA6IE1hcDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfZWRpdExpbms6ID9IVE1MQW5jaG9yRWxlbWVudDtcbiAgICBzdHlsZUlkOiBzdHJpbmc7XG4gICAgc3R5bGVPd25lcjogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAnX3VwZGF0ZUVkaXRMaW5rJyxcbiAgICAgICAgICAgICdfdXBkYXRlRGF0YScsXG4gICAgICAgICAgICAnX3VwZGF0ZUNvbXBhY3QnXG4gICAgICAgIF0sIHRoaXMpO1xuICAgIH1cblxuICAgIGdldERlZmF1bHRQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdib3R0b20tcmlnaHQnO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIGNvbnN0IGNvbXBhY3QgPSB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmNvbXBhY3Q7XG5cbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWF0dHJpYicpO1xuXG4gICAgICAgIGlmIChjb21wYWN0KSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY29tcGFjdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlQXR0cmlidXRpb25zKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUVkaXRMaW5rKCk7XG5cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdzb3VyY2VkYXRhJywgdGhpcy5fdXBkYXRlRGF0YSk7XG4gICAgICAgIHRoaXMuX21hcC5vbignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZUVkaXRMaW5rKTtcblxuICAgICAgICBpZiAoY29tcGFjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAub24oJ3Jlc2l6ZScsIHRoaXMuX3VwZGF0ZUNvbXBhY3QpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ29tcGFjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuX21hcC5vZmYoJ3NvdXJjZWRhdGEnLCB0aGlzLl91cGRhdGVEYXRhKTtcbiAgICAgICAgdGhpcy5fbWFwLm9mZignbW92ZWVuZCcsIHRoaXMuX3VwZGF0ZUVkaXRMaW5rKTtcbiAgICAgICAgdGhpcy5fbWFwLm9mZigncmVzaXplJywgdGhpcy5fdXBkYXRlQ29tcGFjdCk7XG5cbiAgICAgICAgdGhpcy5fbWFwID0gKHVuZGVmaW5lZDogYW55KTtcbiAgICB9XG5cbiAgICBfdXBkYXRlRWRpdExpbmsoKSB7XG4gICAgICAgIGxldCBlZGl0TGluayA9IHRoaXMuX2VkaXRMaW5rO1xuICAgICAgICBpZiAoIWVkaXRMaW5rKSB7XG4gICAgICAgICAgICBlZGl0TGluayA9IHRoaXMuX2VkaXRMaW5rID0gKHRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcubWFwYm94LWltcHJvdmUtbWFwJyk6IGFueSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXJhbXMgPSBbXG4gICAgICAgICAgICB7a2V5OiBcIm93bmVyXCIsIHZhbHVlOiB0aGlzLnN0eWxlT3duZXJ9LFxuICAgICAgICAgICAge2tleTogXCJpZFwiLCB2YWx1ZTogdGhpcy5zdHlsZUlkfSxcbiAgICAgICAgICAgIHtrZXk6IFwiYWNjZXNzX3Rva2VuXCIsIHZhbHVlOiBjb25maWcuQUNDRVNTX1RPS0VOfVxuICAgICAgICBdO1xuXG4gICAgICAgIGlmIChlZGl0TGluaykge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1TdHJpbmcgPSBwYXJhbXMucmVkdWNlKChhY2MsIG5leHQsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobmV4dC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBhY2MgKz0gYCR7bmV4dC5rZXl9PSR7bmV4dC52YWx1ZX0ke2kgPCBwYXJhbXMubGVuZ3RoIC0gMSA/ICcmJyA6ICcnfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCBgP2ApO1xuICAgICAgICAgICAgZWRpdExpbmsuaHJlZiA9IGBodHRwczovL3d3dy5tYXBib3guY29tL2ZlZWRiYWNrLyR7cGFyYW1TdHJpbmd9JHt0aGlzLl9tYXAuX2hhc2ggPyB0aGlzLl9tYXAuX2hhc2guZ2V0SGFzaFN0cmluZyh0cnVlKSA6ICcnfWA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlRGF0YShlOiBhbnkpIHtcbiAgICAgICAgaWYgKGUgJiYgZS5zb3VyY2VEYXRhVHlwZSA9PT0gJ21ldGFkYXRhJykge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQXR0cmlidXRpb25zKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVFZGl0TGluaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZUF0dHJpYnV0aW9ucygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXAuc3R5bGUpIHJldHVybjtcbiAgICAgICAgbGV0IGF0dHJpYnV0aW9uczogQXJyYXk8c3RyaW5nPiA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldCkge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVzaGVldDogYW55ID0gdGhpcy5fbWFwLnN0eWxlLnN0eWxlc2hlZXQ7XG4gICAgICAgICAgICB0aGlzLnN0eWxlT3duZXIgPSBzdHlsZXNoZWV0Lm93bmVyO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlkID0gc3R5bGVzaGVldC5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlcyA9IHRoaXMuX21hcC5zdHlsZS5zb3VyY2VDYWNoZXM7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VDYWNoZXNbaWRdLmdldFNvdXJjZSgpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5hdHRyaWJ1dGlvbiAmJiBhdHRyaWJ1dGlvbnMuaW5kZXhPZihzb3VyY2UuYXR0cmlidXRpb24pIDwgMCkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9ucy5wdXNoKHNvdXJjZS5hdHRyaWJ1dGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgYW55IGVudHJpZXMgdGhhdCBhcmUgc3Vic3RyaW5ncyBvZiBhbm90aGVyIGVudHJ5LlxuICAgICAgICAvLyBmaXJzdCBzb3J0IGJ5IGxlbmd0aCBzbyB0aGF0IHN1YnN0cmluZ3MgY29tZSBmaXJzdFxuICAgICAgICBhdHRyaWJ1dGlvbnMuc29ydCgoYSwgYikgPT4gYS5sZW5ndGggLSBiLmxlbmd0aCk7XG4gICAgICAgIGF0dHJpYnV0aW9ucyA9IGF0dHJpYnV0aW9ucy5maWx0ZXIoKGF0dHJpYiwgaSkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgYXR0cmlidXRpb25zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0aW9uc1tqXS5pbmRleE9mKGF0dHJpYikgPj0gMCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGF0dHJpYnV0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSBhdHRyaWJ1dGlvbnMuam9pbignIHwgJyk7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtYXR0cmliLWVtcHR5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtYXR0cmliLWVtcHR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIG9sZCBET00gbm9kZSBmcm9tIF9lZGl0TGlua1xuICAgICAgICB0aGlzLl9lZGl0TGluayA9IG51bGw7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUNvbXBhY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkub2Zmc2V0V2lkdGggPD0gNjQwKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY29tcGFjdCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWNvbXBhY3QnKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBBdHRyaWJ1dGlvbkNvbnRyb2w7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcblxuaW1wb3J0IHsgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuXG4vKipcbiAqIEEgYExvZ29Db250cm9sYCBpcyBhIGNvbnRyb2wgdGhhdCBhZGRzIHRoZSBNYXBib3ggd2F0ZXJtYXJrXG4gKiB0byB0aGUgbWFwIGFzIHJlcXVpcmVkIGJ5IHRoZSBbdGVybXMgb2Ygc2VydmljZV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS90b3MvKSBmb3IgTWFwYm94XG4gKiB2ZWN0b3IgdGlsZXMgYW5kIGNvcmUgc3R5bGVzLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtJQ29udHJvbH1cbiAqIEBwcml2YXRlXG4qKi9cblxuY2xhc3MgTG9nb0NvbnRyb2wge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBiaW5kQWxsKFsnX3VwZGF0ZUxvZ28nXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtY3RybCcpO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBET00uY3JlYXRlKCdhJywgJ21hcGJveGdsLWN0cmwtbG9nbycpO1xuICAgICAgICBhbmNob3IudGFyZ2V0ID0gXCJfYmxhbmtcIjtcbiAgICAgICAgYW5jaG9yLmhyZWYgPSBcImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vXCI7XG4gICAgICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIFwiTWFwYm94IGxvZ29cIik7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZChhbmNob3IpO1xuICAgICAgICB0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICB0aGlzLl9tYXAub24oJ3NvdXJjZWRhdGEnLCB0aGlzLl91cGRhdGVMb2dvKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTG9nbygpO1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX21hcC5vZmYoJ3NvdXJjZWRhdGEnLCB0aGlzLl91cGRhdGVMb2dvKTtcbiAgICB9XG5cbiAgICBnZXREZWZhdWx0UG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLWxlZnQnO1xuICAgIH1cblxuICAgIF91cGRhdGVMb2dvKGU6IGFueSkge1xuICAgICAgICBpZiAoIWUgfHwgZS5zb3VyY2VEYXRhVHlwZSA9PT0gJ21ldGFkYXRhJykge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSB0aGlzLl9sb2dvUmVxdWlyZWQoKSA/ICdibG9jaycgOiAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbG9nb1JlcXVpcmVkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21hcC5zdHlsZSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHNvdXJjZUNhY2hlcyA9IHRoaXMuX21hcC5zdHlsZS5zb3VyY2VDYWNoZXM7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gc291cmNlQ2FjaGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VDYWNoZXNbaWRdLmdldFNvdXJjZSgpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5tYXBib3hfbG9nbykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IExvZ29Db250cm9sO1xuIiwiLy8gQGZsb3dcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuZXhwb3J0IHR5cGUgVGFza0lEID0gbnVtYmVyOyAvLyBjYW4ndCBtYXJrIG9wYXF1ZSBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL2Zsb3d0eXBlL2Zsb3ctcmVtb3ZlLXR5cGVzL3B1bGwvNjFcbnR5cGUgVGFzayA9IHtcbiAgICBjYWxsYmFjazogKCkgPT4gdm9pZDtcbiAgICBpZDogVGFza0lEO1xuICAgIGNhbmNlbGxlZDogYm9vbGVhbjtcbn07XG5cbmNsYXNzIFRhc2tRdWV1ZSB7XG4gICAgX3F1ZXVlOiBBcnJheTxUYXNrPjtcbiAgICBfaWQ6IFRhc2tJRDtcbiAgICBfY2xlYXJlZDogYm9vbGVhbjtcbiAgICBfY3VycmVudGx5UnVubmluZzogQXJyYXk8VGFzaz4gfCBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKCkgIHtcbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5faWQgPSAwO1xuICAgICAgICB0aGlzLl9jbGVhcmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRseVJ1bm5pbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBhZGQoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBUYXNrSUQge1xuICAgICAgICBjb25zdCBpZCA9ICsrdGhpcy5faWQ7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5fcXVldWU7XG4gICAgICAgIHF1ZXVlLnB1c2goe2NhbGxiYWNrLCBpZCwgY2FuY2VsbGVkOiBmYWxzZX0pO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuXG4gICAgcmVtb3ZlKGlkOiBUYXNrSUQpIHtcbiAgICAgICAgY29uc3QgcnVubmluZyA9IHRoaXMuX2N1cnJlbnRseVJ1bm5pbmc7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gcnVubmluZyA/IHRoaXMuX3F1ZXVlLmNvbmNhdChydW5uaW5nKSA6IHRoaXMuX3F1ZXVlO1xuICAgICAgICBmb3IgKGNvbnN0IHRhc2sgb2YgcXVldWUpIHtcbiAgICAgICAgICAgIGlmICh0YXNrLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgIHRhc2suY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBydW4oKSB7XG4gICAgICAgIGFzc2VydCghdGhpcy5fY3VycmVudGx5UnVubmluZyk7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5fY3VycmVudGx5UnVubmluZyA9IHRoaXMuX3F1ZXVlO1xuXG4gICAgICAgIC8vIFRhc2tzIHF1ZXVlZCBieSBjYWxsYmFja3MgaW4gdGhlIGN1cnJlbnQgcXVldWUgc2hvdWxkIGJlIGV4ZWN1dGVkXG4gICAgICAgIC8vIG9uIHRoZSBuZXh0IHJ1biwgbm90IHRoZSBjdXJyZW50IHJ1bi5cbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IHRhc2sgb2YgcXVldWUpIHtcbiAgICAgICAgICAgIGlmICh0YXNrLmNhbmNlbGxlZCkgY29udGludWU7XG4gICAgICAgICAgICB0YXNrLmNhbGxiYWNrKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2xlYXJlZCkgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jbGVhcmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRseVJ1bm5pbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRseVJ1bm5pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUYXNrUXVldWU7XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBleHRlbmQsIGJpbmRBbGwsIHdhcm5PbmNlIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vdXRpbC9icm93c2VyJztcbmltcG9ydCB3aW5kb3cgZnJvbSAnLi4vdXRpbC93aW5kb3cnO1xuY29uc3QgeyBIVE1MSW1hZ2VFbGVtZW50LCBIVE1MRWxlbWVudCB9ID0gd2luZG93O1xuaW1wb3J0IERPTSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBnZXRJbWFnZSwgUmVzb3VyY2VUeXBlIH0gZnJvbSAnLi4vdXRpbC9hamF4JztcbmltcG9ydCBTdHlsZSBmcm9tICcuLi9zdHlsZS9zdHlsZSc7XG5pbXBvcnQgRXZhbHVhdGlvblBhcmFtZXRlcnMgZnJvbSAnLi4vc3R5bGUvZXZhbHVhdGlvbl9wYXJhbWV0ZXJzJztcbmltcG9ydCBQYWludGVyIGZyb20gJy4uL3JlbmRlci9wYWludGVyJztcbmltcG9ydCBUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvL3RyYW5zZm9ybSc7XG5pbXBvcnQgSGFzaCBmcm9tICcuL2hhc2gnO1xuaW1wb3J0IGJpbmRIYW5kbGVycyBmcm9tICcuL2JpbmRfaGFuZGxlcnMnO1xuaW1wb3J0IENhbWVyYSBmcm9tICcuL2NhbWVyYSc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCBMbmdMYXRCb3VuZHMgZnJvbSAnLi4vZ2VvL2xuZ19sYXRfYm91bmRzJztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCBBdHRyaWJ1dGlvbkNvbnRyb2wgZnJvbSAnLi9jb250cm9sL2F0dHJpYnV0aW9uX2NvbnRyb2wnO1xuaW1wb3J0IExvZ29Db250cm9sIGZyb20gJy4vY29udHJvbC9sb2dvX2NvbnRyb2wnO1xuaW1wb3J0IGlzU3VwcG9ydGVkIGZyb20gJ0BtYXBib3gvbWFwYm94LWdsLXN1cHBvcnRlZCc7XG5pbXBvcnQgeyBSR0JBSW1hZ2UgfSBmcm9tICcuLi91dGlsL2ltYWdlJztcbmltcG9ydCB7IEV2ZW50LCBFcnJvckV2ZW50IH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCB7IE1hcE1vdXNlRXZlbnQgfSBmcm9tICcuL2V2ZW50cyc7XG5pbXBvcnQgVGFza1F1ZXVlIGZyb20gJy4uL3V0aWwvdGFza19xdWV1ZSc7XG5cbmltcG9ydCB0eXBlIHtMbmdMYXRMaWtlfSBmcm9tICcuLi9nZW8vbG5nX2xhdCc7XG5pbXBvcnQgdHlwZSB7TG5nTGF0Qm91bmRzTGlrZX0gZnJvbSAnLi4vZ2VvL2xuZ19sYXRfYm91bmRzJztcbmltcG9ydCB0eXBlIHtSZXF1ZXN0UGFyYW1ldGVyc30gZnJvbSAnLi4vdXRpbC9hamF4JztcbmltcG9ydCB0eXBlIHtTdHlsZU9wdGlvbnN9IGZyb20gJy4uL3N0eWxlL3N0eWxlJztcbmltcG9ydCB0eXBlIHtNYXBFdmVudCwgTWFwRGF0YUV2ZW50fSBmcm9tICcuL2V2ZW50cyc7XG5cbmltcG9ydCB0eXBlIFNjcm9sbFpvb21IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9zY3JvbGxfem9vbSc7XG5pbXBvcnQgdHlwZSBCb3hab29tSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvYm94X3pvb20nO1xuaW1wb3J0IHR5cGUgRHJhZ1JvdGF0ZUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL2RyYWdfcm90YXRlJztcbmltcG9ydCB0eXBlIERyYWdQYW5IYW5kbGVyIGZyb20gJy4vaGFuZGxlci9kcmFnX3Bhbic7XG5pbXBvcnQgdHlwZSBLZXlib2FyZEhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL2tleWJvYXJkJztcbmltcG9ydCB0eXBlIERvdWJsZUNsaWNrWm9vbUhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL2RibGNsaWNrX3pvb20nO1xuaW1wb3J0IHR5cGUgVG91Y2hab29tUm90YXRlSGFuZGxlciBmcm9tICcuL2hhbmRsZXIvdG91Y2hfem9vbV9yb3RhdGUnO1xuaW1wb3J0IHR5cGUge1Rhc2tJRH0gZnJvbSAnLi4vdXRpbC90YXNrX3F1ZXVlJztcblxudHlwZSBDb250cm9sUG9zaXRpb24gPSAndG9wLWxlZnQnIHwgJ3RvcC1yaWdodCcgfCAnYm90dG9tLWxlZnQnIHwgJ2JvdHRvbS1yaWdodCc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXG50eXBlIElDb250cm9sID0ge1xuICAgIG9uQWRkKG1hcDogTWFwKTogSFRNTEVsZW1lbnQ7XG4gICAgb25SZW1vdmUobWFwOiBNYXApOiB2b2lkO1xuXG4gICAgK2dldERlZmF1bHRQb3NpdGlvbj86ICgpID0+IENvbnRyb2xQb3NpdGlvbjtcbn1cbi8qIGVzbGludC1lbmFibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cblxudHlwZSBSZXNvdXJjZVR5cGVFbnVtID0gJEtleXM8dHlwZW9mIFJlc291cmNlVHlwZT47XG5leHBvcnQgdHlwZSBSZXF1ZXN0VHJhbnNmb3JtRnVuY3Rpb24gPSAodXJsOiBzdHJpbmcsIHJlc291cmNlVHlwZT86IFJlc291cmNlVHlwZUVudW0pID0+IFJlcXVlc3RQYXJhbWV0ZXJzO1xuXG50eXBlIE1hcE9wdGlvbnMgPSB7XG4gICAgaGFzaD86IGJvb2xlYW4sXG4gICAgaW50ZXJhY3RpdmU/OiBib29sZWFuLFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBzdHJpbmcsXG4gICAgYmVhcmluZ1NuYXA/OiBudW1iZXIsXG4gICAgY2xhc3Nlcz86IEFycmF5PHN0cmluZz4sXG4gICAgYXR0cmlidXRpb25Db250cm9sPzogYm9vbGVhbixcbiAgICBsb2dvUG9zaXRpb24/OiBDb250cm9sUG9zaXRpb24sXG4gICAgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD86IGJvb2xlYW4sXG4gICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyPzogYm9vbGVhbixcbiAgICByZWZyZXNoRXhwaXJlZFRpbGVzPzogYm9vbGVhbixcbiAgICBtYXhCb3VuZHM/OiBMbmdMYXRCb3VuZHNMaWtlLFxuICAgIHNjcm9sbFpvb20/OiBib29sZWFuLFxuICAgIG1pblpvb20/OiA/bnVtYmVyLFxuICAgIG1heFpvb20/OiA/bnVtYmVyLFxuICAgIGJveFpvb20/OiBib29sZWFuLFxuICAgIGRyYWdSb3RhdGU/OiBib29sZWFuLFxuICAgIGRyYWdQYW4/OiBib29sZWFuLFxuICAgIGtleWJvYXJkPzogYm9vbGVhbixcbiAgICBkb3VibGVDbGlja1pvb20/OiBib29sZWFuLFxuICAgIHRvdWNoWm9vbVJvdGF0ZT86IGJvb2xlYW4sXG4gICAgdHJhY2tSZXNpemU/OiBib29sZWFuLFxuICAgIGNlbnRlcj86IExuZ0xhdExpa2UsXG4gICAgem9vbT86IG51bWJlcixcbiAgICBiZWFyaW5nPzogbnVtYmVyLFxuICAgIHBpdGNoPzogbnVtYmVyLFxuICAgIHJlbmRlcldvcmxkQ29waWVzPzogYm9vbGVhbixcbiAgICBtYXhUaWxlQ2FjaGVTaXplPzogbnVtYmVyLFxuICAgIHRyYW5zZm9ybVJlcXVlc3Q/OiBSZXF1ZXN0VHJhbnNmb3JtRnVuY3Rpb25cbn07XG5cbmNvbnN0IGRlZmF1bHRNaW5ab29tID0gMDtcbmNvbnN0IGRlZmF1bHRNYXhab29tID0gMjI7XG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBjZW50ZXI6IFswLCAwXSxcbiAgICB6b29tOiAwLFxuICAgIGJlYXJpbmc6IDAsXG4gICAgcGl0Y2g6IDAsXG5cbiAgICBtaW5ab29tOiBkZWZhdWx0TWluWm9vbSxcbiAgICBtYXhab29tOiBkZWZhdWx0TWF4Wm9vbSxcblxuICAgIGludGVyYWN0aXZlOiB0cnVlLFxuXG4gICAgc2Nyb2xsWm9vbTogdHJ1ZSxcbiAgICBib3hab29tOiB0cnVlLFxuICAgIGRyYWdSb3RhdGU6IHRydWUsXG4gICAgZHJhZ1BhbjogdHJ1ZSxcbiAgICBrZXlib2FyZDogdHJ1ZSxcbiAgICBkb3VibGVDbGlja1pvb206IHRydWUsXG4gICAgdG91Y2hab29tUm90YXRlOiB0cnVlLFxuXG4gICAgYmVhcmluZ1NuYXA6IDcsXG5cbiAgICBoYXNoOiBmYWxzZSxcblxuICAgIGF0dHJpYnV0aW9uQ29udHJvbDogdHJ1ZSxcblxuICAgIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6IGZhbHNlLFxuICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogZmFsc2UsXG5cbiAgICB0cmFja1Jlc2l6ZTogdHJ1ZSxcblxuICAgIHJlbmRlcldvcmxkQ29waWVzOiB0cnVlLFxuXG4gICAgcmVmcmVzaEV4cGlyZWRUaWxlczogdHJ1ZSxcblxuICAgIG1heFRpbGVDYWNoZVNpemU6IG51bGwsXG5cbiAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBudWxsLFxuICAgIGZhZGVEdXJhdGlvbjogMzAwXG59O1xuXG4vKipcbiAqIFRoZSBgTWFwYCBvYmplY3QgcmVwcmVzZW50cyB0aGUgbWFwIG9uIHlvdXIgcGFnZS4gSXQgZXhwb3NlcyBtZXRob2RzXG4gKiBhbmQgcHJvcGVydGllcyB0aGF0IGVuYWJsZSB5b3UgdG8gcHJvZ3JhbW1hdGljYWxseSBjaGFuZ2UgdGhlIG1hcCxcbiAqIGFuZCBmaXJlcyBldmVudHMgYXMgdXNlcnMgaW50ZXJhY3Qgd2l0aCBpdC5cbiAqXG4gKiBZb3UgY3JlYXRlIGEgYE1hcGAgYnkgc3BlY2lmeWluZyBhIGBjb250YWluZXJgIGFuZCBvdGhlciBvcHRpb25zLlxuICogVGhlbiBNYXBib3ggR0wgSlMgaW5pdGlhbGl6ZXMgdGhlIG1hcCBvbiB0aGUgcGFnZSBhbmQgcmV0dXJucyB5b3VyIGBNYXBgXG4gKiBvYmplY3QuXG4gKlxuICogQGV4dGVuZHMgRXZlbnRlZFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBvcHRpb25zLmNvbnRhaW5lciBUaGUgSFRNTCBlbGVtZW50IGluIHdoaWNoIE1hcGJveCBHTCBKUyB3aWxsIHJlbmRlciB0aGUgbWFwLCBvciB0aGUgZWxlbWVudCdzIHN0cmluZyBgaWRgLiBUaGUgc3BlY2lmaWVkIGVsZW1lbnQgbXVzdCBoYXZlIG5vIGNoaWxkcmVuLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1pblpvb209MF0gVGhlIG1pbmltdW0gem9vbSBsZXZlbCBvZiB0aGUgbWFwICgwLTI0KS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhab29tPTIyXSBUaGUgbWF4aW11bSB6b29tIGxldmVsIG9mIHRoZSBtYXAgKDAtMjQpLlxuICogQHBhcmFtIHtPYmplY3R8c3RyaW5nfSBbb3B0aW9ucy5zdHlsZV0gVGhlIG1hcCdzIE1hcGJveCBzdHlsZS4gVGhpcyBtdXN0IGJlIGFuIGEgSlNPTiBvYmplY3QgY29uZm9ybWluZyB0b1xuICogdGhlIHNjaGVtYSBkZXNjcmliZWQgaW4gdGhlIFtNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyksIG9yIGEgVVJMIHRvXG4gKiBzdWNoIEpTT04uXG4gKlxuICogVG8gbG9hZCBhIHN0eWxlIGZyb20gdGhlIE1hcGJveCBBUEksIHlvdSBjYW4gdXNlIGEgVVJMIG9mIHRoZSBmb3JtIGBtYXBib3g6Ly9zdHlsZXMvOm93bmVyLzpzdHlsZWAsXG4gKiB3aGVyZSBgOm93bmVyYCBpcyB5b3VyIE1hcGJveCBhY2NvdW50IG5hbWUgYW5kIGA6c3R5bGVgIGlzIHRoZSBzdHlsZSBJRC4gT3IgeW91IGNhbiB1c2Ugb25lIG9mIHRoZSBmb2xsb3dpbmdcbiAqIFt0aGUgcHJlZGVmaW5lZCBNYXBib3ggc3R5bGVzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcHMvKTpcbiAqXG4gKiAgKiBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdHJlZXRzLXY5YFxuICogICogYG1hcGJveDovL3N0eWxlcy9tYXBib3gvb3V0ZG9vcnMtdjlgXG4gKiAgKiBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9saWdodC12OWBcbiAqICAqIGBtYXBib3g6Ly9zdHlsZXMvbWFwYm94L2RhcmstdjlgXG4gKiAgKiBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zYXRlbGxpdGUtdjlgXG4gKiAgKiBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zYXRlbGxpdGUtc3RyZWV0cy12OWBcbiAqXG4gKiBUaWxlc2V0cyBob3N0ZWQgd2l0aCBNYXBib3ggY2FuIGJlIHN0eWxlLW9wdGltaXplZCBpZiB5b3UgYXBwZW5kIGA/b3B0aW1pemU9dHJ1ZWAgdG8gdGhlIGVuZCBvZiB5b3VyIHN0eWxlIFVSTCwgbGlrZSBgbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdHJlZXRzLXY5P29wdGltaXplPXRydWVgLlxuICogTGVhcm4gbW9yZSBhYm91dCBzdHlsZS1vcHRpbWl6ZWQgdmVjdG9yIHRpbGVzIGluIG91ciBbQVBJIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vYXBpLWRvY3VtZW50YXRpb24vI3JldHJpZXZlLXRpbGVzKS5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmhhc2g9ZmFsc2VdIElmIGB0cnVlYCwgdGhlIG1hcCdzIHBvc2l0aW9uICh6b29tLCBjZW50ZXIgbGF0aXR1ZGUsIGNlbnRlciBsb25naXR1ZGUsIGJlYXJpbmcsIGFuZCBwaXRjaCkgd2lsbCBiZSBzeW5jZWQgd2l0aCB0aGUgaGFzaCBmcmFnbWVudCBvZiB0aGUgcGFnZSdzIFVSTC5cbiAqICAgRm9yIGV4YW1wbGUsIGBodHRwOi8vcGF0aC90by9teS9wYWdlLmh0bWwjMi41OS8zOS4yNi81My4wNy8tMjQuMS82MGAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmludGVyYWN0aXZlPXRydWVdIElmIGBmYWxzZWAsIG5vIG1vdXNlLCB0b3VjaCwgb3Iga2V5Ym9hcmQgbGlzdGVuZXJzIHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIG1hcCwgc28gaXQgd2lsbCBub3QgcmVzcG9uZCB0byBpbnRlcmFjdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iZWFyaW5nU25hcD03XSBUaGUgdGhyZXNob2xkLCBtZWFzdXJlZCBpbiBkZWdyZWVzLCB0aGF0IGRldGVybWluZXMgd2hlbiB0aGUgbWFwJ3NcbiAqICAgYmVhcmluZyB3aWxsIHNuYXAgdG8gbm9ydGguIEZvciBleGFtcGxlLCB3aXRoIGEgYGJlYXJpbmdTbmFwYCBvZiA3LCBpZiB0aGUgdXNlciByb3RhdGVzXG4gKiAgIHRoZSBtYXAgd2l0aGluIDcgZGVncmVlcyBvZiBub3J0aCwgdGhlIG1hcCB3aWxsIGF1dG9tYXRpY2FsbHkgc25hcCB0byBleGFjdCBub3J0aC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucGl0Y2hXaXRoUm90YXRlPXRydWVdIElmIGBmYWxzZWAsIHRoZSBtYXAncyBwaXRjaCAodGlsdCkgY29udHJvbCB3aXRoIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiB3aWxsIGJlIGRpc2FibGVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdHRyaWJ1dGlvbkNvbnRyb2w9dHJ1ZV0gSWYgYHRydWVgLCBhbiB7QGxpbmsgQXR0cmlidXRpb25Db250cm9sfSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBtYXAuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubG9nb1Bvc2l0aW9uPSdib3R0b20tbGVmdCddIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhlIE1hcGJveCB3b3JkbWFyayBvbiB0aGUgbWFwLiBWYWxpZCBvcHRpb25zIGFyZSBgdG9wLWxlZnRgLGB0b3AtcmlnaHRgLCBgYm90dG9tLWxlZnRgLCBgYm90dG9tLXJpZ2h0YC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1mYWxzZV0gSWYgYHRydWVgLCBtYXAgY3JlYXRpb24gd2lsbCBmYWlsIGlmIHRoZSBwZXJmb3JtYW5jZSBvZiBNYXBib3hcbiAqICAgR0wgSlMgd291bGQgYmUgZHJhbWF0aWNhbGx5IHdvcnNlIHRoYW4gZXhwZWN0ZWQgKGkuZS4gYSBzb2Z0d2FyZSByZW5kZXJlciB3b3VsZCBiZSB1c2VkKS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSBJZiBgdHJ1ZWAsIHRoZSBtYXAncyBjYW52YXMgY2FuIGJlIGV4cG9ydGVkIHRvIGEgUE5HIHVzaW5nIGBtYXAuZ2V0Q2FudmFzKCkudG9EYXRhVVJMKClgLiBUaGlzIGlzIGBmYWxzZWAgYnkgZGVmYXVsdCBhcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVmcmVzaEV4cGlyZWRUaWxlcz10cnVlXSBJZiBgZmFsc2VgLCB0aGUgbWFwIHdvbid0IGF0dGVtcHQgdG8gcmUtcmVxdWVzdCB0aWxlcyBvbmNlIHRoZXkgZXhwaXJlIHBlciB0aGVpciBIVFRQIGBjYWNoZUNvbnRyb2xgL2BleHBpcmVzYCBoZWFkZXJzLlxuICogQHBhcmFtIHtMbmdMYXRCb3VuZHNMaWtlfSBbb3B0aW9ucy5tYXhCb3VuZHNdIElmIHNldCwgdGhlIG1hcCB3aWxsIGJlIGNvbnN0cmFpbmVkIHRvIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW58T2JqZWN0fSBbb3B0aW9ucy5zY3JvbGxab29tPXRydWVdIElmIGB0cnVlYCwgdGhlIFwic2Nyb2xsIHRvIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLiBBbiBgT2JqZWN0YCB2YWx1ZSBpcyBwYXNzZWQgYXMgb3B0aW9ucyB0byB7QGxpbmsgU2Nyb2xsWm9vbUhhbmRsZXIjZW5hYmxlfS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYm94Wm9vbT10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBcImJveCB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZCAoc2VlIHtAbGluayBCb3hab29tSGFuZGxlcn0pLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kcmFnUm90YXRlPXRydWVdIElmIGB0cnVlYCwgdGhlIFwiZHJhZyB0byByb3RhdGVcIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkIChzZWUge0BsaW5rIERyYWdSb3RhdGVIYW5kbGVyfSkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRyYWdQYW49dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJkcmFnIHRvIHBhblwiIGludGVyYWN0aW9uIGlzIGVuYWJsZWQgKHNlZSB7QGxpbmsgRHJhZ1BhbkhhbmRsZXJ9KS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMua2V5Ym9hcmQ9dHJ1ZV0gSWYgYHRydWVgLCBrZXlib2FyZCBzaG9ydGN1dHMgYXJlIGVuYWJsZWQgKHNlZSB7QGxpbmsgS2V5Ym9hcmRIYW5kbGVyfSkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmRvdWJsZUNsaWNrWm9vbT10cnVlXSBJZiBgdHJ1ZWAsIHRoZSBcImRvdWJsZSBjbGljayB0byB6b29tXCIgaW50ZXJhY3Rpb24gaXMgZW5hYmxlZCAoc2VlIHtAbGluayBEb3VibGVDbGlja1pvb21IYW5kbGVyfSkuXG4gKiBAcGFyYW0ge2Jvb2xlYW58T2JqZWN0fSBbb3B0aW9ucy50b3VjaFpvb21Sb3RhdGU9dHJ1ZV0gSWYgYHRydWVgLCB0aGUgXCJwaW5jaCB0byByb3RhdGUgYW5kIHpvb21cIiBpbnRlcmFjdGlvbiBpcyBlbmFibGVkLiBBbiBgT2JqZWN0YCB2YWx1ZSBpcyBwYXNzZWQgYXMgb3B0aW9ucyB0byB7QGxpbmsgVG91Y2hab29tUm90YXRlSGFuZGxlciNlbmFibGV9LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFja1Jlc2l6ZT10cnVlXSAgSWYgYHRydWVgLCB0aGUgbWFwIHdpbGwgYXV0b21hdGljYWxseSByZXNpemUgd2hlbiB0aGUgYnJvd3NlciB3aW5kb3cgcmVzaXplcy5cbiAqIEBwYXJhbSB7TG5nTGF0TGlrZX0gW29wdGlvbnMuY2VudGVyPVswLCAwXV0gVGhlIGluaXRhbCBnZW9ncmFwaGljYWwgY2VudGVycG9pbnQgb2YgdGhlIG1hcC4gSWYgYGNlbnRlcmAgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgY29uc3RydWN0b3Igb3B0aW9ucywgTWFwYm94IEdMIEpTIHdpbGwgbG9vayBmb3IgaXQgaW4gdGhlIG1hcCdzIHN0eWxlIG9iamVjdC4gSWYgaXQgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgc3R5bGUsIGVpdGhlciwgaXQgd2lsbCBkZWZhdWx0IHRvIGBbMCwgMF1gIE5vdGU6IE1hcGJveCBHTCB1c2VzIGxvbmdpdHVkZSwgbGF0aXR1ZGUgY29vcmRpbmF0ZSBvcmRlciAoYXMgb3Bwb3NlZCB0byBsYXRpdHVkZSwgbG9uZ2l0dWRlKSB0byBtYXRjaCBHZW9KU09OLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnpvb209MF0gVGhlIGluaXRpYWwgem9vbSBsZXZlbCBvZiB0aGUgbWFwLiBJZiBgem9vbWAgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgY29uc3RydWN0b3Igb3B0aW9ucywgTWFwYm94IEdMIEpTIHdpbGwgbG9vayBmb3IgaXQgaW4gdGhlIG1hcCdzIHN0eWxlIG9iamVjdC4gSWYgaXQgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgc3R5bGUsIGVpdGhlciwgaXQgd2lsbCBkZWZhdWx0IHRvIGAwYC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iZWFyaW5nPTBdIFRoZSBpbml0aWFsIGJlYXJpbmcgKHJvdGF0aW9uKSBvZiB0aGUgbWFwLCBtZWFzdXJlZCBpbiBkZWdyZWVzIGNvdW50ZXItY2xvY2t3aXNlIGZyb20gbm9ydGguIElmIGBiZWFyaW5nYCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBjb25zdHJ1Y3RvciBvcHRpb25zLCBNYXBib3ggR0wgSlMgd2lsbCBsb29rIGZvciBpdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgb2JqZWN0LiBJZiBpdCBpcyBub3Qgc3BlY2lmaWVkIGluIHRoZSBzdHlsZSwgZWl0aGVyLCBpdCB3aWxsIGRlZmF1bHQgdG8gYDBgLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnBpdGNoPTBdIFRoZSBpbml0aWFsIHBpdGNoICh0aWx0KSBvZiB0aGUgbWFwLCBtZWFzdXJlZCBpbiBkZWdyZWVzIGF3YXkgZnJvbSB0aGUgcGxhbmUgb2YgdGhlIHNjcmVlbiAoMC02MCkuIElmIGBwaXRjaGAgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgY29uc3RydWN0b3Igb3B0aW9ucywgTWFwYm94IEdMIEpTIHdpbGwgbG9vayBmb3IgaXQgaW4gdGhlIG1hcCdzIHN0eWxlIG9iamVjdC4gSWYgaXQgaXMgbm90IHNwZWNpZmllZCBpbiB0aGUgc3R5bGUsIGVpdGhlciwgaXQgd2lsbCBkZWZhdWx0IHRvIGAwYC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVuZGVyV29ybGRDb3BpZXM9dHJ1ZV0gIElmIGB0cnVlYCwgbXVsdGlwbGUgY29waWVzIG9mIHRoZSB3b3JsZCB3aWxsIGJlIHJlbmRlcmVkLCB3aGVuIHpvb21lZCBvdXQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4VGlsZUNhY2hlU2l6ZT1udWxsXSAgVGhlIG1heGltdW0gbnVtYmVyIG9mIHRpbGVzIHN0b3JlZCBpbiB0aGUgdGlsZSBjYWNoZSBmb3IgYSBnaXZlbiBzb3VyY2UuIElmIG9taXR0ZWQsIHRoZSBjYWNoZSB3aWxsIGJlIGR5bmFtaWNhbGx5IHNpemVkIGJhc2VkIG9uIHRoZSBjdXJyZW50IHZpZXdwb3J0LlxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT1udWxsXSBJZiBzcGVjaWZpZWQsIGRlZmluZXMgYSBDU1MgZm9udC1mYW1pbHlcbiAqICAgZm9yIGxvY2FsbHkgb3ZlcnJpZGluZyBnZW5lcmF0aW9uIG9mIGdseXBocyBpbiB0aGUgJ0NKSyBVbmlmaWVkIElkZW9ncmFwaHMnIGFuZCAnSGFuZ3VsIFN5bGxhYmxlcycgcmFuZ2VzLlxuICogICBJbiB0aGVzZSByYW5nZXMsIGZvbnQgc2V0dGluZ3MgZnJvbSB0aGUgbWFwJ3Mgc3R5bGUgd2lsbCBiZSBpZ25vcmVkLCBleGNlcHQgZm9yIGZvbnQtd2VpZ2h0IGtleXdvcmRzIChsaWdodC9yZWd1bGFyL21lZGl1bS9ib2xkKS5cbiAqICAgVGhlIHB1cnBvc2Ugb2YgdGhpcyBvcHRpb24gaXMgdG8gYXZvaWQgYmFuZHdpZHRoLWludGVuc2l2ZSBnbHlwaCBzZXJ2ZXIgcmVxdWVzdHMuIChzZWUgW1VzZSBsb2NhbGx5IGdlbmVyYXRlZCBpZGVvZ3JhcGhzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xvY2FsLWlkZW9ncmFwaHMpKVxuICogQHBhcmFtIHtSZXF1ZXN0VHJhbnNmb3JtRnVuY3Rpb259IFtvcHRpb25zLnRyYW5zZm9ybVJlcXVlc3Q9bnVsbF0gQSBjYWxsYmFjayBydW4gYmVmb3JlIHRoZSBNYXAgbWFrZXMgYSByZXF1ZXN0IGZvciBhbiBleHRlcm5hbCBVUkwuIFRoZSBjYWxsYmFjayBjYW4gYmUgdXNlZCB0byBtb2RpZnkgdGhlIHVybCwgc2V0IGhlYWRlcnMsIG9yIHNldCB0aGUgY3JlZGVudGlhbHMgcHJvcGVydHkgZm9yIGNyb3NzLW9yaWdpbiByZXF1ZXN0cy5cbiAqICAgRXhwZWN0ZWQgdG8gcmV0dXJuIGFuIG9iamVjdCB3aXRoIGEgYHVybGAgcHJvcGVydHkgYW5kIG9wdGlvbmFsbHkgYGhlYWRlcnNgIGFuZCBgY3JlZGVudGlhbHNgIHByb3BlcnRpZXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNvbGxlY3RSZXNvdXJjZVRpbWluZz1mYWxzZV0gSWYgYHRydWVgLCBSZXNvdXJjZSBUaW1pbmcgQVBJIGluZm9ybWF0aW9uIHdpbGwgYmUgY29sbGVjdGVkIGZvciByZXF1ZXN0cyBtYWRlIGJ5IEdlb0pTT04gYW5kIFZlY3RvciBUaWxlIHdlYiB3b3JrZXJzICh0aGlzIGluZm9ybWF0aW9uIGlzIG5vcm1hbGx5IGluYWNjZXNzaWJsZSBmcm9tIHRoZSBtYWluIEphdmFzY3JpcHQgdGhyZWFkKS4gSW5mb3JtYXRpb24gd2lsbCBiZSByZXR1cm5lZCBpbiBhIGByZXNvdXJjZVRpbWluZ2AgcHJvcGVydHkgb2YgcmVsZXZhbnQgYGRhdGFgIGV2ZW50cy5cbiAqIEBleGFtcGxlXG4gKiB2YXIgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7XG4gKiAgIGNvbnRhaW5lcjogJ21hcCcsXG4gKiAgIGNlbnRlcjogWy0xMjIuNDIwNjc5LCAzNy43NzI1MzddLFxuICogICB6b29tOiAxMyxcbiAqICAgc3R5bGU6IHN0eWxlX29iamVjdCxcbiAqICAgaGFzaDogdHJ1ZSxcbiAqICAgdHJhbnNmb3JtUmVxdWVzdDogKHVybCwgcmVzb3VyY2VUeXBlKT0+IHtcbiAqICAgICBpZihyZXNvdXJjZVR5cGUgPT0gJ1NvdXJjZScgJiYgdXJsLnN0YXJ0c1dpdGgoJ2h0dHA6Ly9teUhvc3QnKSkge1xuICogICAgICAgcmV0dXJuIHtcbiAqICAgICAgICB1cmw6IHVybC5yZXBsYWNlKCdodHRwJywgJ2h0dHBzJyksXG4gKiAgICAgICAgaGVhZGVyczogeyAnbXktY3VzdG9tLWhlYWRlcic6IHRydWV9LFxuICogICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScgIC8vIEluY2x1ZGUgY29va2llcyBmb3IgY3Jvc3Mtb3JpZ2luIHJlcXVlc3RzXG4gKiAgICAgIH1cbiAqICAgICB9XG4gKiAgIH1cbiAqIH0pO1xuICogQHNlZSBbRGlzcGxheSBhIG1hcF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZXMvKVxuICovXG5jbGFzcyBNYXAgZXh0ZW5kcyBDYW1lcmEge1xuICAgIHN0eWxlOiBTdHlsZTtcbiAgICBwYWludGVyOiBQYWludGVyO1xuXG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX21pc3NpbmdDU1NDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9jYW52YXNDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9jb250cm9sQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBfY29udHJvbFBvc2l0aW9uczoge1tzdHJpbmddOiBIVE1MRWxlbWVudH07XG4gICAgX2ludGVyYWN0aXZlOiA/Ym9vbGVhbjtcbiAgICBfc2hvd1RpbGVCb3VuZGFyaWVzOiA/Ym9vbGVhbjtcbiAgICBfc2hvd0NvbGxpc2lvbkJveGVzOiA/Ym9vbGVhbjtcbiAgICBfc2hvd092ZXJkcmF3SW5zcGVjdG9yOiBib29sZWFuO1xuICAgIF9yZXBhaW50OiA/Ym9vbGVhbjtcbiAgICBfdmVydGljZXM6ID9ib29sZWFuO1xuICAgIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIF90cmFuc2Zvcm1SZXF1ZXN0OiBSZXF1ZXN0VHJhbnNmb3JtRnVuY3Rpb247XG4gICAgX21heFRpbGVDYWNoZVNpemU6IG51bWJlcjtcbiAgICBfZnJhbWVJZDogYW55O1xuICAgIF9zdHlsZURpcnR5OiA/Ym9vbGVhbjtcbiAgICBfc291cmNlc0RpcnR5OiA/Ym9vbGVhbjtcbiAgICBfcGxhY2VtZW50RGlydHk6ID9ib29sZWFuO1xuICAgIF9sb2FkZWQ6IGJvb2xlYW47XG4gICAgX3RyYWNrUmVzaXplOiBib29sZWFuO1xuICAgIF9wcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGJvb2xlYW47XG4gICAgX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6IGJvb2xlYW47XG4gICAgX3JlZnJlc2hFeHBpcmVkVGlsZXM6IGJvb2xlYW47XG4gICAgX2hhc2g6IEhhc2g7XG4gICAgX2RlbGVnYXRlZExpc3RlbmVyczogYW55O1xuICAgIF9mYWRlRHVyYXRpb246IG51bWJlcjtcbiAgICBfY3Jvc3NGYWRpbmdGYWN0b3I6IG51bWJlcjtcbiAgICBfY29sbGVjdFJlc291cmNlVGltaW5nOiBib29sZWFuO1xuICAgIF9yZW5kZXJUYXNrUXVldWU6IFRhc2tRdWV1ZTtcblxuICAgIHNjcm9sbFpvb206IFNjcm9sbFpvb21IYW5kbGVyO1xuICAgIGJveFpvb206IEJveFpvb21IYW5kbGVyO1xuICAgIGRyYWdSb3RhdGU6IERyYWdSb3RhdGVIYW5kbGVyO1xuICAgIGRyYWdQYW46IERyYWdQYW5IYW5kbGVyO1xuICAgIGtleWJvYXJkOiBLZXlib2FyZEhhbmRsZXI7XG4gICAgZG91YmxlQ2xpY2tab29tOiBEb3VibGVDbGlja1pvb21IYW5kbGVyO1xuICAgIHRvdWNoWm9vbVJvdGF0ZTogVG91Y2hab29tUm90YXRlSGFuZGxlcjtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE1hcE9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm1pblpvb20gIT0gbnVsbCAmJiBvcHRpb25zLm1heFpvb20gIT0gbnVsbCAmJiBvcHRpb25zLm1pblpvb20gPiBvcHRpb25zLm1heFpvb20pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbWF4Wm9vbSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBtaW5ab29tYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKG9wdGlvbnMubWluWm9vbSwgb3B0aW9ucy5tYXhab29tLCBvcHRpb25zLnJlbmRlcldvcmxkQ29waWVzKTtcbiAgICAgICAgc3VwZXIodHJhbnNmb3JtLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9pbnRlcmFjdGl2ZSA9IG9wdGlvbnMuaW50ZXJhY3RpdmU7XG4gICAgICAgIHRoaXMuX21heFRpbGVDYWNoZVNpemUgPSBvcHRpb25zLm1heFRpbGVDYWNoZVNpemU7XG4gICAgICAgIHRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQgPSBvcHRpb25zLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ7XG4gICAgICAgIHRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyO1xuICAgICAgICB0aGlzLl90cmFja1Jlc2l6ZSA9IG9wdGlvbnMudHJhY2tSZXNpemU7XG4gICAgICAgIHRoaXMuX2JlYXJpbmdTbmFwID0gb3B0aW9ucy5iZWFyaW5nU25hcDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaEV4cGlyZWRUaWxlcyA9IG9wdGlvbnMucmVmcmVzaEV4cGlyZWRUaWxlcztcbiAgICAgICAgdGhpcy5fZmFkZUR1cmF0aW9uID0gb3B0aW9ucy5mYWRlRHVyYXRpb247XG4gICAgICAgIHRoaXMuX2Nyb3NzRmFkaW5nRmFjdG9yID0gMTtcbiAgICAgICAgdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nID0gb3B0aW9ucy5jb2xsZWN0UmVzb3VyY2VUaW1pbmc7XG4gICAgICAgIHRoaXMuX3JlbmRlclRhc2tRdWV1ZSA9IG5ldyBUYXNrUXVldWUoKTtcblxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1SZXF1ZXN0Rm4gPSBvcHRpb25zLnRyYW5zZm9ybVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVJlcXVlc3QgPSB0cmFuc2Zvcm1SZXF1ZXN0Rm4gPyAgKHVybCwgdHlwZSkgPT4gdHJhbnNmb3JtUmVxdWVzdEZuKHVybCwgdHlwZSkgfHwgKHsgdXJsIH0pIDogKHVybCkgPT4gKHsgdXJsIH0pO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jb250YWluZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSB3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob3B0aW9ucy5jb250YWluZXIpO1xuICAgICAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbnRhaW5lciAnJHtvcHRpb25zLmNvbnRhaW5lcn0nIG5vdCBmb3VuZC5gKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuY29udGFpbmVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHR5cGU6ICdjb250YWluZXInIG11c3QgYmUgYSBTdHJpbmcgb3IgSFRNTEVsZW1lbnQuYCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5tYXhCb3VuZHMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0TWF4Qm91bmRzKG9wdGlvbnMubWF4Qm91bmRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbldpbmRvd09ubGluZScsXG4gICAgICAgICAgICAnX29uV2luZG93UmVzaXplJyxcbiAgICAgICAgICAgICdfY29udGV4dExvc3QnLFxuICAgICAgICAgICAgJ19jb250ZXh0UmVzdG9yZWQnLFxuICAgICAgICAgICAgJ191cGRhdGUnLFxuICAgICAgICAgICAgJ19yZW5kZXInLFxuICAgICAgICAgICAgJ19vbkRhdGEnLFxuICAgICAgICAgICAgJ19vbkRhdGFMb2FkaW5nJ1xuICAgICAgICBdLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9zZXR1cENvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLl9zZXR1cFBhaW50ZXIoKTtcblxuICAgICAgICB0aGlzLm9uKCdtb3ZlJywgdGhpcy5fdXBkYXRlLmJpbmQodGhpcywgZmFsc2UpKTtcbiAgICAgICAgdGhpcy5vbignem9vbScsIHRoaXMuX3VwZGF0ZS5iaW5kKHRoaXMsIHRydWUpKTtcblxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCB0aGlzLl9vbldpbmRvd09ubGluZSwgZmFsc2UpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX29uV2luZG93UmVzaXplLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBiaW5kSGFuZGxlcnModGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5faGFzaCA9IG9wdGlvbnMuaGFzaCAmJiAobmV3IEhhc2goKSkuYWRkVG8odGhpcyk7XG4gICAgICAgIC8vIGRvbid0IHNldCBwb3NpdGlvbiBmcm9tIG9wdGlvbnMgaWYgc2V0IHRocm91Z2ggaGFzaFxuICAgICAgICBpZiAoIXRoaXMuX2hhc2ggfHwgIXRoaXMuX2hhc2guX29uSGFzaENoYW5nZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmp1bXBUbyh7XG4gICAgICAgICAgICAgICAgY2VudGVyOiBvcHRpb25zLmNlbnRlcixcbiAgICAgICAgICAgICAgICB6b29tOiBvcHRpb25zLnpvb20sXG4gICAgICAgICAgICAgICAgYmVhcmluZzogb3B0aW9ucy5iZWFyaW5nLFxuICAgICAgICAgICAgICAgIHBpdGNoOiBvcHRpb25zLnBpdGNoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzaXplKCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc3R5bGUpIHRoaXMuc2V0U3R5bGUob3B0aW9ucy5zdHlsZSwgeyBsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6IG9wdGlvbnMubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5IH0pO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF0dHJpYnV0aW9uQ29udHJvbCkgdGhpcy5hZGRDb250cm9sKG5ldyBBdHRyaWJ1dGlvbkNvbnRyb2woKSk7XG4gICAgICAgIHRoaXMuYWRkQ29udHJvbChuZXcgTG9nb0NvbnRyb2woKSwgb3B0aW9ucy5sb2dvUG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMub24oJ3N0eWxlLmxvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS51bm1vZGlmaWVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5qdW1wVG8odGhpcy5zdHlsZS5zdHlsZXNoZWV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5vbignZGF0YScsIHRoaXMuX29uRGF0YSk7XG4gICAgICAgIHRoaXMub24oJ2RhdGFsb2FkaW5nJywgdGhpcy5fb25EYXRhTG9hZGluZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHtAbGluayBJQ29udHJvbH0gdG8gdGhlIG1hcCwgY2FsbGluZyBgY29udHJvbC5vbkFkZCh0aGlzKWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0lDb250cm9sfSBjb250cm9sIFRoZSB7QGxpbmsgSUNvbnRyb2x9IHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Bvc2l0aW9uXSBwb3NpdGlvbiBvbiB0aGUgbWFwIHRvIHdoaWNoIHRoZSBjb250cm9sIHdpbGwgYmUgYWRkZWQuXG4gICAgICogVmFsaWQgdmFsdWVzIGFyZSBgJ3RvcC1sZWZ0J2AsIGAndG9wLXJpZ2h0J2AsIGAnYm90dG9tLWxlZnQnYCwgYW5kIGAnYm90dG9tLXJpZ2h0J2AuIERlZmF1bHRzIHRvIGAndG9wLXJpZ2h0J2AuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQHNlZSBbRGlzcGxheSBtYXAgbmF2aWdhdGlvbiBjb250cm9sc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9uYXZpZ2F0aW9uLylcbiAgICAgKi9cbiAgICBhZGRDb250cm9sKGNvbnRyb2w6IElDb250cm9sLCBwb3NpdGlvbj86IENvbnRyb2xQb3NpdGlvbikge1xuICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCAmJiBjb250cm9sLmdldERlZmF1bHRQb3NpdGlvbikge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBjb250cm9sLmdldERlZmF1bHRQb3NpdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9ICd0b3AtcmlnaHQnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRyb2xFbGVtZW50ID0gY29udHJvbC5vbkFkZCh0aGlzKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25Db250YWluZXIgPSB0aGlzLl9jb250cm9sUG9zaXRpb25zW3Bvc2l0aW9uXTtcbiAgICAgICAgaWYgKHBvc2l0aW9uLmluZGV4T2YoJ2JvdHRvbScpICE9PSAtMSkge1xuICAgICAgICAgICAgcG9zaXRpb25Db250YWluZXIuaW5zZXJ0QmVmb3JlKGNvbnRyb2xFbGVtZW50LCBwb3NpdGlvbkNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvc2l0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRyb2xFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBjb250cm9sIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SUNvbnRyb2x9IGNvbnRyb2wgVGhlIHtAbGluayBJQ29udHJvbH0gdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHJlbW92ZUNvbnRyb2woY29udHJvbDogSUNvbnRyb2wpIHtcbiAgICAgICAgY29udHJvbC5vblJlbW92ZSh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgbWFwIGFjY29yZGluZyB0byB0aGUgZGltZW5zaW9ucyBvZiBpdHNcbiAgICAgKiBgY29udGFpbmVyYCBlbGVtZW50LlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgbXVzdCBiZSBjYWxsZWQgYWZ0ZXIgdGhlIG1hcCdzIGBjb250YWluZXJgIGlzIHJlc2l6ZWQgYnkgYW5vdGhlciBzY3JpcHQsXG4gICAgICogb3Igd2hlbiB0aGUgbWFwIGlzIHNob3duIGFmdGVyIGJlaW5nIGluaXRpYWxseSBoaWRkZW4gd2l0aCBDU1MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnREYXRhIEFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byBldmVudCBvYmplY3RzIG9mIGV2ZW50cyB0cmlnZ2VyZWQgYnkgdGhpcyBtZXRob2QuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgcmVzaXplKGV2ZW50RGF0YT86IE9iamVjdCkge1xuICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gdGhpcy5fY29udGFpbmVyRGltZW5zaW9ucygpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IGRpbWVuc2lvbnNbMF07XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGRpbWVuc2lvbnNbMV07XG5cbiAgICAgICAgdGhpcy5fcmVzaXplQ2FudmFzKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMucGFpbnRlci5yZXNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnbW92ZXN0YXJ0JywgZXZlbnREYXRhKSlcbiAgICAgICAgICAgIC5maXJlKG5ldyBFdmVudCgnbW92ZScsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ3Jlc2l6ZScsIGV2ZW50RGF0YSkpXG4gICAgICAgICAgICAuZmlyZShuZXcgRXZlbnQoJ21vdmVlbmQnLCBldmVudERhdGEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBnZW9ncmFwaGljYWwgYm91bmRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0xuZ0xhdEJvdW5kc30gVGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBib3VuZHMuXG4gICAgICovXG4gICAgZ2V0Qm91bmRzKCkge1xuICAgICAgICBjb25zdCBib3VuZHMgPSBuZXcgTG5nTGF0Qm91bmRzKFxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbihuZXcgUG9pbnQoMCwgdGhpcy50cmFuc2Zvcm0uaGVpZ2h0KSksXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKG5ldyBQb2ludCh0aGlzLnRyYW5zZm9ybS53aWR0aCwgMCkpKTtcblxuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0uYW5nbGUgfHwgdGhpcy50cmFuc2Zvcm0ucGl0Y2gpIHtcbiAgICAgICAgICAgIGJvdW5kcy5leHRlbmQodGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbihuZXcgUG9pbnQodGhpcy50cmFuc2Zvcm0uc2l6ZS54LCAwKSkpO1xuICAgICAgICAgICAgYm91bmRzLmV4dGVuZCh0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKG5ldyBQb2ludCgwLCB0aGlzLnRyYW5zZm9ybS5zaXplLnkpKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBib3VuZHMuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHRoZSBMbmdMYXRCb3VuZHMgYnkgd2hpY2ggcGFuIGFuZCB6b29tIG9wZXJhdGlvbnMgb24gdGhlIG1hcCBhcmUgY29uc3RyYWluZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TG5nTGF0Qm91bmRzIHwgbnVsbH0gVGhlIG1heGltdW0gYm91bmRzIHRoZSBtYXAgaXMgY29uc3RyYWluZWQgdG8sIG9yIGBudWxsYCBpZiBub25lIHNldC5cbiAgICAgKi9cbiAgICBnZXRNYXhCb3VuZHMgKCkge1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ubGF0UmFuZ2UgJiYgdGhpcy50cmFuc2Zvcm0ubGF0UmFuZ2UubGVuZ3RoID09PSAyICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5sbmdSYW5nZSAmJiB0aGlzLnRyYW5zZm9ybS5sbmdSYW5nZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTG5nTGF0Qm91bmRzKFt0aGlzLnRyYW5zZm9ybS5sbmdSYW5nZVswXSwgdGhpcy50cmFuc2Zvcm0ubGF0UmFuZ2VbMF1dLFxuICAgICAgICAgICAgICAgIFt0aGlzLnRyYW5zZm9ybS5sbmdSYW5nZVsxXSwgdGhpcy50cmFuc2Zvcm0ubGF0UmFuZ2VbMV1dKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBjbGVhcnMgdGhlIG1hcCdzIGdlb2dyYXBoaWNhbCBib3VuZHMuXG4gICAgICpcbiAgICAgKiBQYW4gYW5kIHpvb20gb3BlcmF0aW9ucyBhcmUgY29uc3RyYWluZWQgd2l0aGluIHRoZXNlIGJvdW5kcy5cbiAgICAgKiBJZiBhIHBhbiBvciB6b29tIGlzIHBlcmZvcm1lZCB0aGF0IHdvdWxkXG4gICAgICogZGlzcGxheSByZWdpb25zIG91dHNpZGUgdGhlc2UgYm91bmRzLCB0aGUgbWFwIHdpbGxcbiAgICAgKiBpbnN0ZWFkIGRpc3BsYXkgYSBwb3NpdGlvbiBhbmQgem9vbSBsZXZlbFxuICAgICAqIGFzIGNsb3NlIGFzIHBvc3NpYmxlIHRvIHRoZSBvcGVyYXRpb24ncyByZXF1ZXN0IHdoaWxlIHN0aWxsXG4gICAgICogcmVtYWluaW5nIHdpdGhpbiB0aGUgYm91bmRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtMbmdMYXRCb3VuZHNMaWtlIHwgbnVsbCB8IHVuZGVmaW5lZH0gbG5nbGF0Ym91bmRzIFRoZSBtYXhpbXVtIGJvdW5kcyB0byBzZXQuIElmIGBudWxsYCBvciBgdW5kZWZpbmVkYCBpcyBwcm92aWRlZCwgdGhlIGZ1bmN0aW9uIHJlbW92ZXMgdGhlIG1hcCdzIG1heGltdW0gYm91bmRzLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldE1heEJvdW5kcyhsbmdsYXRib3VuZHM6IExuZ0xhdEJvdW5kc0xpa2UpIHtcbiAgICAgICAgaWYgKGxuZ2xhdGJvdW5kcykge1xuICAgICAgICAgICAgY29uc3QgYiA9IExuZ0xhdEJvdW5kcy5jb252ZXJ0KGxuZ2xhdGJvdW5kcyk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5sbmdSYW5nZSA9IFtiLmdldFdlc3QoKSwgYi5nZXRFYXN0KCldO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubGF0UmFuZ2UgPSBbYi5nZXRTb3V0aCgpLCBiLmdldE5vcnRoKCldO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uX2NvbnN0cmFpbigpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobG5nbGF0Ym91bmRzID09PSBudWxsIHx8IGxuZ2xhdGJvdW5kcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5sbmdSYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5sYXRSYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgb3IgY2xlYXJzIHRoZSBtYXAncyBtaW5pbXVtIHpvb20gbGV2ZWwuXG4gICAgICogSWYgdGhlIG1hcCdzIGN1cnJlbnQgem9vbSBsZXZlbCBpcyBsb3dlciB0aGFuIHRoZSBuZXcgbWluaW11bSxcbiAgICAgKiB0aGUgbWFwIHdpbGwgem9vbSB0byB0aGUgbmV3IG1pbmltdW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlciB8IG51bGwgfCB1bmRlZmluZWR9IG1pblpvb20gVGhlIG1pbmltdW0gem9vbSBsZXZlbCB0byBzZXQgKDAtMjQpLlxuICAgICAqICAgSWYgYG51bGxgIG9yIGB1bmRlZmluZWRgIGlzIHByb3ZpZGVkLCB0aGUgZnVuY3Rpb24gcmVtb3ZlcyB0aGUgY3VycmVudCBtaW5pbXVtIHpvb20gKGkuZS4gc2V0cyBpdCB0byAwKS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRNaW5ab29tKG1pblpvb20/OiA/bnVtYmVyKSB7XG5cbiAgICAgICAgbWluWm9vbSA9IG1pblpvb20gPT09IG51bGwgfHwgbWluWm9vbSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdE1pblpvb20gOiBtaW5ab29tO1xuXG4gICAgICAgIGlmIChtaW5ab29tID49IGRlZmF1bHRNaW5ab29tICYmIG1pblpvb20gPD0gdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ubWluWm9vbSA9IG1pblpvb207XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Wm9vbSgpIDwgbWluWm9vbSkgdGhpcy5zZXRab29tKG1pblpvb20pO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKGBtaW5ab29tIG11c3QgYmUgYmV0d2VlbiAke2RlZmF1bHRNaW5ab29tfSBhbmQgdGhlIGN1cnJlbnQgbWF4Wm9vbSwgaW5jbHVzaXZlYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwJ3MgbWluaW11bSBhbGxvd2FibGUgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IG1pblpvb21cbiAgICAgKi9cbiAgICBnZXRNaW5ab29tKCkgeyByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbTsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBjbGVhcnMgdGhlIG1hcCdzIG1heGltdW0gem9vbSBsZXZlbC5cbiAgICAgKiBJZiB0aGUgbWFwJ3MgY3VycmVudCB6b29tIGxldmVsIGlzIGhpZ2hlciB0aGFuIHRoZSBuZXcgbWF4aW11bSxcbiAgICAgKiB0aGUgbWFwIHdpbGwgem9vbSB0byB0aGUgbmV3IG1heGltdW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlciB8IG51bGwgfCB1bmRlZmluZWR9IG1heFpvb20gVGhlIG1heGltdW0gem9vbSBsZXZlbCB0byBzZXQuXG4gICAgICogICBJZiBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgaXMgcHJvdmlkZWQsIHRoZSBmdW5jdGlvbiByZW1vdmVzIHRoZSBjdXJyZW50IG1heGltdW0gem9vbSAoc2V0cyBpdCB0byAyMikuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0TWF4Wm9vbShtYXhab29tPzogP251bWJlcikge1xuXG4gICAgICAgIG1heFpvb20gPSBtYXhab29tID09PSBudWxsIHx8IG1heFpvb20gPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRNYXhab29tIDogbWF4Wm9vbTtcblxuICAgICAgICBpZiAobWF4Wm9vbSA+PSB0aGlzLnRyYW5zZm9ybS5taW5ab29tKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5tYXhab29tID0gbWF4Wm9vbTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRab29tKCkgPiBtYXhab29tKSB0aGlzLnNldFpvb20obWF4Wm9vbSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYG1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gdGhlIGN1cnJlbnQgbWluWm9vbWApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN0YXRlIG9mIHJlbmRlcldvcmxkQ29waWVzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHJlbmRlcldvcmxkQ29waWVzXG4gICAgICovXG4gICAgZ2V0UmVuZGVyV29ybGRDb3BpZXMoKSB7IHJldHVybiB0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllczsgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUgb2YgcmVuZGVyV29ybGRDb3BpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlbmRlcldvcmxkQ29waWVzIElmIGB0cnVlYCwgbXVsdGlwbGUgY29waWVzIG9mIHRoZSB3b3JsZCB3aWxsIGJlIHJlbmRlcmVkLCB3aGVuIHpvb21lZCBvdXQuIGB1bmRlZmluZWRgIGlzIHRyZWF0ZWQgYXMgYHRydWVgLCBgbnVsbGAgaXMgdHJlYXRlZCBhcyBgZmFsc2VgLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHNldFJlbmRlcldvcmxkQ29waWVzKHJlbmRlcldvcmxkQ29waWVzPzogP2Jvb2xlYW4pIHtcblxuICAgICAgICB0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcyA9IHJlbmRlcldvcmxkQ29waWVzO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBtYXhpbXVtIGFsbG93YWJsZSB6b29tIGxldmVsLlxuICAgICAqXG4gICAgICogQHJldHVybnMge251bWJlcn0gbWF4Wm9vbVxuICAgICAqL1xuICAgIGdldE1heFpvb20oKSB7IHJldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tOyB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEge0BsaW5rIFBvaW50fSByZXByZXNlbnRpbmcgcGl4ZWwgY29vcmRpbmF0ZXMsIHJlbGF0aXZlIHRvIHRoZSBtYXAncyBgY29udGFpbmVyYCxcbiAgICAgKiB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIHNwZWNpZmllZCBnZW9ncmFwaGljYWwgbG9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0xuZ0xhdExpa2V9IGxuZ2xhdCBUaGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uIHRvIHByb2plY3QuXG4gICAgICogQHJldHVybnMge1BvaW50fSBUaGUge0BsaW5rIFBvaW50fSBjb3JyZXNwb25kaW5nIHRvIGBsbmdsYXRgLCByZWxhdGl2ZSB0byB0aGUgbWFwJ3MgYGNvbnRhaW5lcmAuXG4gICAgICovXG4gICAgcHJvamVjdChsbmdsYXQ6IExuZ0xhdExpa2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQoTG5nTGF0LmNvbnZlcnQobG5nbGF0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHtAbGluayBMbmdMYXR9IHJlcHJlc2VudGluZyBnZW9ncmFwaGljYWwgY29vcmRpbmF0ZXMgdGhhdCBjb3JyZXNwb25kXG4gICAgICogdG8gdGhlIHNwZWNpZmllZCBwaXhlbCBjb29yZGluYXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UG9pbnRMaWtlfSBwb2ludCBUaGUgcGl4ZWwgY29vcmRpbmF0ZXMgdG8gdW5wcm9qZWN0LlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IFRoZSB7QGxpbmsgTG5nTGF0fSBjb3JyZXNwb25kaW5nIHRvIGBwb2ludGAuXG4gICAgICogQHNlZSBbU2hvdyBwb2x5Z29uIGluZm9ybWF0aW9uIG9uIGNsaWNrXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvbHlnb24tcG9wdXAtb24tY2xpY2svKVxuICAgICAqL1xuICAgIHVucHJvamVjdChwb2ludDogUG9pbnRMaWtlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKFBvaW50LmNvbnZlcnQocG9pbnQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG1hcCBpcyBwYW5uaW5nLCB6b29taW5nLCByb3RhdGluZywgb3IgcGl0Y2hpbmcgZHVlIHRvIGEgY2FtZXJhIGFuaW1hdGlvbiBvciB1c2VyIGdlc3R1cmUuXG4gICAgICovXG4gICAgaXNNb3ZpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb3ZpbmcgfHxcbiAgICAgICAgICAgIHRoaXMuZHJhZ1Bhbi5pc0FjdGl2ZSgpIHx8XG4gICAgICAgICAgICB0aGlzLmRyYWdSb3RhdGUuaXNBY3RpdmUoKSB8fFxuICAgICAgICAgICAgdGhpcy5zY3JvbGxab29tLmlzQWN0aXZlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBtYXAgaXMgem9vbWluZyBkdWUgdG8gYSBjYW1lcmEgYW5pbWF0aW9uIG9yIHVzZXIgZ2VzdHVyZS5cbiAgICAgKi9cbiAgICBpc1pvb21pbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl96b29taW5nIHx8XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFpvb20uaXNBY3RpdmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG1hcCBpcyByb3RhdGluZyBkdWUgdG8gYSBjYW1lcmEgYW5pbWF0aW9uIG9yIHVzZXIgZ2VzdHVyZS5cbiAgICAgKi9cbiAgICBpc1JvdGF0aW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpbmcgfHxcbiAgICAgICAgICAgIHRoaXMuZHJhZ1JvdGF0ZS5pc0FjdGl2ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciBmb3IgZXZlbnRzIG9mIGEgc3BlY2lmaWVkIHR5cGUuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgb25cbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUgdG8gYWRkIGEgbGlzdGVuIGZvci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGZpcmVkLlxuICAgICAqICAgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBkYXRhIG9iamVjdCBwYXNzZWQgdG8gYGZpcmVgLFxuICAgICAqICAgZXh0ZW5kZWQgd2l0aCBgdGFyZ2V0YCBhbmQgYHR5cGVgIHByb3BlcnRpZXMuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgZm9yIGV2ZW50cyBvZiBhIHNwZWNpZmllZCB0eXBlIG9jY3VycmluZyBvbiBmZWF0dXJlcyBpbiBhIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlIHRvIGxpc3RlbiBmb3I7IG9uZSBvZiBgJ21vdXNlZG93bidgLCBgJ21vdXNldXAnYCwgYCdjbGljaydgLCBgJ2RibGNsaWNrJ2AsXG4gICAgICogYCdtb3VzZW1vdmUnYCwgYCdtb3VzZWVudGVyJ2AsIGAnbW91c2VsZWF2ZSdgLCBgJ21vdXNlb3ZlcidgLCBgJ21vdXNlb3V0J2AsIGAnY29udGV4dG1lbnUnYCwgYCd0b3VjaHN0YXJ0J2AsXG4gICAgICogYCd0b3VjaGVuZCdgLCBvciBgJ3RvdWNoY2FuY2VsJ2AuIGBtb3VzZWVudGVyYCBhbmQgYG1vdXNlb3ZlcmAgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgY3Vyc29yIGVudGVyc1xuICAgICAqIGEgdmlzaWJsZSBwb3J0aW9uIG9mIHRoZSBzcGVjaWZpZWQgbGF5ZXIgZnJvbSBvdXRzaWRlIHRoYXQgbGF5ZXIgb3Igb3V0c2lkZSB0aGUgbWFwIGNhbnZhcy4gYG1vdXNlbGVhdmVgXG4gICAgICogYW5kIGBtb3VzZW91dGAgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgY3Vyc29yIGxlYXZlcyBhIHZpc2libGUgcG9ydGlvbiBvZiB0aGUgc3BlY2lmaWVkIGxheWVyLCBvciBsZWF2ZXNcbiAgICAgKiB0aGUgbWFwIGNhbnZhcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXIgVGhlIElEIG9mIGEgc3R5bGUgbGF5ZXIuIE9ubHkgZXZlbnRzIHdob3NlIGxvY2F0aW9uIGlzIHdpdGhpbiBhIHZpc2libGVcbiAgICAgKiBmZWF0dXJlIGluIHRoaXMgbGF5ZXIgd2lsbCB0cmlnZ2VyIHRoZSBsaXN0ZW5lci4gVGhlIGV2ZW50IHdpbGwgaGF2ZSBhIGBmZWF0dXJlc2AgcHJvcGVydHkgY29udGFpbmluZ1xuICAgICAqIGFuIGFycmF5IG9mIHRoZSBtYXRjaGluZyBmZWF0dXJlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGZpcmVkLlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqL1xuICAgIG9uKHR5cGU6IE1hcEV2ZW50LCBsYXllcjogYW55LCBsaXN0ZW5lcjogYW55KSB7XG4gICAgICAgIGlmIChsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIub24odHlwZSwgbGF5ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGVsZWdhdGVkTGlzdGVuZXIgPSAoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdtb3VzZWVudGVyJyB8fCB0eXBlID09PSAnbW91c2VvdmVyJykge1xuICAgICAgICAgICAgICAgIGxldCBtb3VzZWluID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgbW91c2Vtb3ZlID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLmdldExheWVyKGxheWVyKSA/IHRoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQsIHtsYXllcnM6IFtsYXllcl19KSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZlYXR1cmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VpbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFtb3VzZWluKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZWluID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgbmV3IE1hcE1vdXNlRXZlbnQodHlwZSwgdGhpcywgZS5vcmlnaW5hbEV2ZW50LCB7ZmVhdHVyZXN9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlb3V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtb3VzZWluID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge2xheWVyLCBsaXN0ZW5lciwgZGVsZWdhdGVzOiB7bW91c2Vtb3ZlLCBtb3VzZW91dH19O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbW91c2VsZWF2ZScgfHwgdHlwZSA9PT0gJ21vdXNlb3V0Jykge1xuICAgICAgICAgICAgICAgIGxldCBtb3VzZWluID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgbW91c2Vtb3ZlID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLmdldExheWVyKGxheWVyKSA/IHRoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQsIHtsYXllcnM6IFtsYXllcl19KSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZWluID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb3VzZWluKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZWluID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIG5ldyBNYXBNb3VzZUV2ZW50KHR5cGUsIHRoaXMsIGUub3JpZ2luYWxFdmVudCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3VzZW91dCA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3VzZWluKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZWluID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIG5ldyBNYXBNb3VzZUV2ZW50KHR5cGUsIHRoaXMsIGUub3JpZ2luYWxFdmVudCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge2xheWVyLCBsaXN0ZW5lciwgZGVsZWdhdGVzOiB7bW91c2Vtb3ZlLCBtb3VzZW91dH19O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxlZ2F0ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5nZXRMYXllcihsYXllcikgPyB0aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50LCB7bGF5ZXJzOiBbbGF5ZXJdfSkgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGVyZSB3ZSBuZWVkIHRvIG11dGF0ZSB0aGUgb3JpZ2luYWwgZXZlbnQsIHNvIHRoYXQgcHJldmVudERlZmF1bHQgd29ya3MgYXMgZXhwZWN0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBlLmZlYXR1cmVzID0gZmVhdHVyZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGUuZmVhdHVyZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7bGF5ZXIsIGxpc3RlbmVyLCBkZWxlZ2F0ZXM6IHtbdHlwZV06IGRlbGVnYXRlfX07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG5cbiAgICAgICAgdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzID0gdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzIHx8IHt9O1xuICAgICAgICB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdHlwZV0gPSB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdHlwZV0gfHwgW107XG4gICAgICAgIHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1t0eXBlXS5wdXNoKGRlbGVnYXRlZExpc3RlbmVyKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IGluIGRlbGVnYXRlZExpc3RlbmVyLmRlbGVnYXRlcykge1xuICAgICAgICAgICAgdGhpcy5vbigoZXZlbnQ6IGFueSksIGRlbGVnYXRlZExpc3RlbmVyLmRlbGVnYXRlc1tldmVudF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lciBwcmV2aW91c2x5IGFkZGVkIHdpdGggYE1hcCNvbmAuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgb2ZmXG4gICAgICogQG1lbWJlcm9mIE1hcFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlIHByZXZpb3VzbHkgdXNlZCB0byBpbnN0YWxsIHRoZSBsaXN0ZW5lci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgZnVuY3Rpb24gcHJldmlvdXNseSBpbnN0YWxsZWQgYXMgYSBsaXN0ZW5lci5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGxheWVyLXNwZWNpZmljIGV2ZW50cyBwcmV2aW91c2x5IGFkZGVkIHdpdGggYE1hcCNvbmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZSBwcmV2aW91c2x5IHVzZWQgdG8gaW5zdGFsbCB0aGUgbGlzdGVuZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIFRoZSBsYXllciBJRCBwcmV2aW91c2x5IHVzZWQgdG8gaW5zdGFsbCB0aGUgbGlzdGVuZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGZ1bmN0aW9uIHByZXZpb3VzbHkgaW5zdGFsbGVkIGFzIGEgbGlzdGVuZXIuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgb2ZmKHR5cGU6IE1hcEV2ZW50LCBsYXllcjogYW55LCBsaXN0ZW5lcjogYW55KSB7XG4gICAgICAgIGlmIChsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIub2ZmKHR5cGUsIGxheWVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnMgJiYgdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW3R5cGVdKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbdHlwZV07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGVnYXRlZExpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZWRMaXN0ZW5lci5sYXllciA9PT0gbGF5ZXIgJiYgZGVsZWdhdGVkTGlzdGVuZXIubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnQgaW4gZGVsZWdhdGVkTGlzdGVuZXIuZGVsZWdhdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZigoZXZlbnQ6IGFueSksIGRlbGVnYXRlZExpc3RlbmVyLmRlbGVnYXRlc1tldmVudF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgW0dlb0pTT05dKGh0dHA6Ly9nZW9qc29uLm9yZy8pXG4gICAgICogW0ZlYXR1cmUgb2JqZWN0c10oaHR0cDovL2dlb2pzb24ub3JnL2dlb2pzb24tc3BlYy5odG1sI2ZlYXR1cmUtb2JqZWN0cylcbiAgICAgKiByZXByZXNlbnRpbmcgdmlzaWJsZSBmZWF0dXJlcyB0aGF0IHNhdGlzZnkgdGhlIHF1ZXJ5IHBhcmFtZXRlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BvaW50TGlrZXxBcnJheTxQb2ludExpa2U+fSBbZ2VvbWV0cnldIC0gVGhlIGdlb21ldHJ5IG9mIHRoZSBxdWVyeSByZWdpb246XG4gICAgICogZWl0aGVyIGEgc2luZ2xlIHBvaW50IG9yIHNvdXRod2VzdCBhbmQgbm9ydGhlYXN0IHBvaW50cyBkZXNjcmliaW5nIGEgYm91bmRpbmcgYm94LlxuICAgICAqIE9taXR0aW5nIHRoaXMgcGFyYW1ldGVyIChpLmUuIGNhbGxpbmcge0BsaW5rIE1hcCNxdWVyeVJlbmRlcmVkRmVhdHVyZXN9IHdpdGggemVybyBhcmd1bWVudHMsXG4gICAgICogb3Igd2l0aCBvbmx5IGEgYG9wdGlvbnNgIGFyZ3VtZW50KSBpcyBlcXVpdmFsZW50IHRvIHBhc3NpbmcgYSBib3VuZGluZyBib3ggZW5jb21wYXNzaW5nIHRoZSBlbnRpcmVcbiAgICAgKiBtYXAgdmlld3BvcnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gW29wdGlvbnMubGF5ZXJzXSBBbiBhcnJheSBvZiBzdHlsZSBsYXllciBJRHMgZm9yIHRoZSBxdWVyeSB0byBpbnNwZWN0LlxuICAgICAqICAgT25seSBmZWF0dXJlcyB3aXRoaW4gdGhlc2UgbGF5ZXJzIHdpbGwgYmUgcmV0dXJuZWQuIElmIHRoaXMgcGFyYW1ldGVyIGlzIHVuZGVmaW5lZCwgYWxsIGxheWVycyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMuZmlsdGVyXSBBIFtmaWx0ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvI290aGVyLWZpbHRlcilcbiAgICAgKiAgIHRvIGxpbWl0IHF1ZXJ5IHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8T2JqZWN0Pn0gQW4gYXJyYXkgb2YgW0dlb0pTT05dKGh0dHA6Ly9nZW9qc29uLm9yZy8pXG4gICAgICogW2ZlYXR1cmUgb2JqZWN0c10oaHR0cDovL2dlb2pzb24ub3JnL2dlb2pzb24tc3BlYy5odG1sI2ZlYXR1cmUtb2JqZWN0cykuXG4gICAgICpcbiAgICAgKiBUaGUgYHByb3BlcnRpZXNgIHZhbHVlIG9mIGVhY2ggcmV0dXJuZWQgZmVhdHVyZSBvYmplY3QgY29udGFpbnMgdGhlIHByb3BlcnRpZXMgb2YgaXRzIHNvdXJjZSBmZWF0dXJlLiBGb3IgR2VvSlNPTiBzb3VyY2VzLCBvbmx5XG4gICAgICogc3RyaW5nIGFuZCBudW1lcmljIHByb3BlcnR5IHZhbHVlcyBhcmUgc3VwcG9ydGVkIChpLmUuIGBudWxsYCwgYEFycmF5YCwgYW5kIGBPYmplY3RgIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCkuXG4gICAgICpcbiAgICAgKiBFYWNoIGZlYXR1cmUgaW5jbHVkZXMgYSB0b3AtbGV2ZWwgYGxheWVyYCBwcm9wZXJ0eSB3aG9zZSB2YWx1ZSBpcyBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzdHlsZSBsYXllciB0b1xuICAgICAqIHdoaWNoIHRoZSBmZWF0dXJlIGJlbG9uZ3MuIExheW91dCBhbmQgcGFpbnQgcHJvcGVydGllcyBpbiB0aGlzIG9iamVjdCBjb250YWluIHZhbHVlcyB3aGljaCBhcmUgZnVsbHkgZXZhbHVhdGVkXG4gICAgICogZm9yIHRoZSBnaXZlbiB6b29tIGxldmVsIGFuZCBmZWF0dXJlLlxuICAgICAqXG4gICAgICogRmVhdHVyZXMgZnJvbSBsYXllcnMgd2hvc2UgYHZpc2liaWxpdHlgIHByb3BlcnR5IGlzIGBcIm5vbmVcImAsIG9yIGZyb20gbGF5ZXJzIHdob3NlIHpvb20gcmFuZ2UgZXhjbHVkZXMgdGhlXG4gICAgICogY3VycmVudCB6b29tIGxldmVsIGFyZSBub3QgaW5jbHVkZWQuIFN5bWJvbCBmZWF0dXJlcyB0aGF0IGhhdmUgYmVlbiBoaWRkZW4gZHVlIHRvIHRleHQgb3IgaWNvbiBjb2xsaXNpb24gYXJlXG4gICAgICogbm90IGluY2x1ZGVkLiBGZWF0dXJlcyBmcm9tIGFsbCBvdGhlciBsYXllcnMgYXJlIGluY2x1ZGVkLCBpbmNsdWRpbmcgZmVhdHVyZXMgdGhhdCBtYXkgaGF2ZSBubyB2aXNpYmxlXG4gICAgICogY29udHJpYnV0aW9uIHRvIHRoZSByZW5kZXJlZCByZXN1bHQ7IGZvciBleGFtcGxlLCBiZWNhdXNlIHRoZSBsYXllcidzIG9wYWNpdHkgb3IgY29sb3IgYWxwaGEgY29tcG9uZW50IGlzIHNldCB0b1xuICAgICAqIDAuXG4gICAgICpcbiAgICAgKiBUaGUgdG9wbW9zdCByZW5kZXJlZCBmZWF0dXJlIGFwcGVhcnMgZmlyc3QgaW4gdGhlIHJldHVybmVkIGFycmF5LCBhbmQgc3Vic2VxdWVudCBmZWF0dXJlcyBhcmUgc29ydGVkIGJ5XG4gICAgICogZGVzY2VuZGluZyB6LW9yZGVyLiBGZWF0dXJlcyB0aGF0IGFyZSByZW5kZXJlZCBtdWx0aXBsZSB0aW1lcyAoZHVlIHRvIHdyYXBwaW5nIGFjcm9zcyB0aGUgYW50aW1lcmlkaWFuIGF0IGxvd1xuICAgICAqIHpvb20gbGV2ZWxzKSBhcmUgcmV0dXJuZWQgb25seSBvbmNlICh0aG91Z2ggc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNhdmVhdCkuXG4gICAgICpcbiAgICAgKiBCZWNhdXNlIGZlYXR1cmVzIGNvbWUgZnJvbSB0aWxlZCB2ZWN0b3IgZGF0YSBvciBHZW9KU09OIGRhdGEgdGhhdCBpcyBjb252ZXJ0ZWQgdG8gdGlsZXMgaW50ZXJuYWxseSwgZmVhdHVyZVxuICAgICAqIGdlb21ldHJpZXMgbWF5IGJlIHNwbGl0IG9yIGR1cGxpY2F0ZWQgYWNyb3NzIHRpbGUgYm91bmRhcmllcyBhbmQsIGFzIGEgcmVzdWx0LCBmZWF0dXJlcyBtYXkgYXBwZWFyIG11bHRpcGxlXG4gICAgICogdGltZXMgaW4gcXVlcnkgcmVzdWx0cy4gRm9yIGV4YW1wbGUsIHN1cHBvc2UgdGhlcmUgaXMgYSBoaWdod2F5IHJ1bm5pbmcgdGhyb3VnaCB0aGUgYm91bmRpbmcgcmVjdGFuZ2xlIG9mIGEgcXVlcnkuXG4gICAgICogVGhlIHJlc3VsdHMgb2YgdGhlIHF1ZXJ5IHdpbGwgYmUgdGhvc2UgcGFydHMgb2YgdGhlIGhpZ2h3YXkgdGhhdCBsaWUgd2l0aGluIHRoZSBtYXAgdGlsZXMgY292ZXJpbmcgdGhlIGJvdW5kaW5nXG4gICAgICogcmVjdGFuZ2xlLCBldmVuIGlmIHRoZSBoaWdod2F5IGV4dGVuZHMgaW50byBvdGhlciB0aWxlcywgYW5kIHRoZSBwb3J0aW9uIG9mIHRoZSBoaWdod2F5IHdpdGhpbiBlYWNoIG1hcCB0aWxlXG4gICAgICogd2lsbCBiZSByZXR1cm5lZCBhcyBhIHNlcGFyYXRlIGZlYXR1cmUuIFNpbWlsYXJseSwgYSBwb2ludCBmZWF0dXJlIG5lYXIgYSB0aWxlIGJvdW5kYXJ5IG1heSBhcHBlYXIgaW4gbXVsdGlwbGVcbiAgICAgKiB0aWxlcyBkdWUgdG8gdGlsZSBidWZmZXJpbmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEZpbmQgYWxsIGZlYXR1cmVzIGF0IGEgcG9pbnRcbiAgICAgKiB2YXIgZmVhdHVyZXMgPSBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKFxuICAgICAqICAgWzIwLCAzNV0sXG4gICAgICogICB7IGxheWVyczogWydteS1sYXllci1uYW1lJ10gfVxuICAgICAqICk7XG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEZpbmQgYWxsIGZlYXR1cmVzIHdpdGhpbiBhIHN0YXRpYyBib3VuZGluZyBib3hcbiAgICAgKiB2YXIgZmVhdHVyZXMgPSBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKFxuICAgICAqICAgW1sxMCwgMjBdLCBbMzAsIDUwXV0sXG4gICAgICogICB7IGxheWVyczogWydteS1sYXllci1uYW1lJ10gfVxuICAgICAqICk7XG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEZpbmQgYWxsIGZlYXR1cmVzIHdpdGhpbiBhIGJvdW5kaW5nIGJveCBhcm91bmQgYSBwb2ludFxuICAgICAqIHZhciB3aWR0aCA9IDEwO1xuICAgICAqIHZhciBoZWlnaHQgPSAyMDtcbiAgICAgKiB2YXIgZmVhdHVyZXMgPSBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKFtcbiAgICAgKiAgIFtwb2ludC54IC0gd2lkdGggLyAyLCBwb2ludC55IC0gaGVpZ2h0IC8gMl0sXG4gICAgICogICBbcG9pbnQueCArIHdpZHRoIC8gMiwgcG9pbnQueSArIGhlaWdodCAvIDJdXG4gICAgICogXSwgeyBsYXllcnM6IFsnbXktbGF5ZXItbmFtZSddIH0pO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBRdWVyeSBhbGwgcmVuZGVyZWQgZmVhdHVyZXMgZnJvbSBhIHNpbmdsZSBsYXllclxuICAgICAqIHZhciBmZWF0dXJlcyA9IG1hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoeyBsYXllcnM6IFsnbXktbGF5ZXItbmFtZSddIH0pO1xuICAgICAqIEBzZWUgW0dldCBmZWF0dXJlcyB1bmRlciB0aGUgbW91c2UgcG9pbnRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9xdWVyeXJlbmRlcmVkZmVhdHVyZXMvKVxuICAgICAqIEBzZWUgW0hpZ2hsaWdodCBmZWF0dXJlcyB3aXRoaW4gYSBib3VuZGluZyBib3hdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gICAgICogQHNlZSBbQ2VudGVyIHRoZSBtYXAgb24gYSBjbGlja2VkIHN5bWJvbF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9jZW50ZXItb24tc3ltYm9sLylcbiAgICAgKi9cbiAgICBxdWVyeVJlbmRlcmVkRmVhdHVyZXMoZ2VvbWV0cnk/OiBQb2ludExpa2UgfCBbUG9pbnRMaWtlLCBQb2ludExpa2VdLCBvcHRpb25zPzogT2JqZWN0KSB7XG4gICAgICAgIC8vIFRoZSBmaXJzdCBwYXJhbWV0ZXIgY2FuIGJlIG9taXR0ZWQgZW50aXJlbHksIG1ha2luZyB0aGlzIGVmZmVjdGl2ZWx5IGFuIG92ZXJsb2FkZWQgbWV0aG9kXG4gICAgICAgIC8vIHdpdGggdHdvIHNpZ25hdHVyZXM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICBxdWVyeVJlbmRlcmVkRmVhdHVyZXMoZ2VvbWV0cnk6IFBvaW50TGlrZSB8IFtQb2ludExpa2UsIFBvaW50TGlrZV0sIG9wdGlvbnM/OiBPYmplY3QpXG4gICAgICAgIC8vICAgICBxdWVyeVJlbmRlcmVkRmVhdHVyZXMob3B0aW9ucz86IE9iamVjdClcbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlcmUgbm8gd2F5IHRvIGV4cHJlc3MgdGhhdCBpbiBhIHdheSB0aGF0J3MgY29tcGF0aWJsZSB3aXRoIGJvdGggZmxvdyBhbmQgZG9jdW1lbnRhdGlvbi5qcy5cbiAgICAgICAgLy8gUmVsYXRlZDogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzE1NTZcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIGlzUG9pbnRMaWtlKGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdlb21ldHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnN0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoXG4gICAgICAgICAgICB0aGlzLl9tYWtlUXVlcnlHZW9tZXRyeShnZW9tZXRyeSksXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1cbiAgICAgICAgKTtcblxuICAgICAgICBmdW5jdGlvbiBpc1BvaW50TGlrZShpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgUG9pbnQgfHwgQXJyYXkuaXNBcnJheShpbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbWFrZVF1ZXJ5R2VvbWV0cnkocG9pbnRPckJveD86IFBvaW50TGlrZSB8IFtQb2ludExpa2UsIFBvaW50TGlrZV0pIHtcbiAgICAgICAgaWYgKHBvaW50T3JCb3ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gYm91bmRzIHdhcyBvbWl0dGVkOiB1c2UgZnVsbCB2aWV3cG9ydFxuICAgICAgICAgICAgcG9pbnRPckJveCA9IFtcbiAgICAgICAgICAgICAgICBQb2ludC5jb252ZXJ0KFswLCAwXSksXG4gICAgICAgICAgICAgICAgUG9pbnQuY29udmVydChbdGhpcy50cmFuc2Zvcm0ud2lkdGgsIHRoaXMudHJhbnNmb3JtLmhlaWdodF0pXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHF1ZXJ5R2VvbWV0cnk7XG5cbiAgICAgICAgaWYgKHBvaW50T3JCb3ggaW5zdGFuY2VvZiBQb2ludCB8fCB0eXBlb2YgcG9pbnRPckJveFswXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gUG9pbnQuY29udmVydChwb2ludE9yQm94KTtcbiAgICAgICAgICAgIHF1ZXJ5R2VvbWV0cnkgPSBbcG9pbnRdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYm94ID0gW1BvaW50LmNvbnZlcnQocG9pbnRPckJveFswXSksIFBvaW50LmNvbnZlcnQocG9pbnRPckJveFsxXSldO1xuICAgICAgICAgICAgcXVlcnlHZW9tZXRyeSA9IFtcbiAgICAgICAgICAgICAgICBib3hbMF0sXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KGJveFsxXS54LCBib3hbMF0ueSksXG4gICAgICAgICAgICAgICAgYm94WzFdLFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludChib3hbMF0ueCwgYm94WzFdLnkpLFxuICAgICAgICAgICAgICAgIGJveFswXVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHF1ZXJ5R2VvbWV0cnkgPSBxdWVyeUdlb21ldHJ5Lm1hcCgocCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvaW50Q29vcmRpbmF0ZShwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHF1ZXJ5R2VvbWV0cnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBbR2VvSlNPTl0oaHR0cDovL2dlb2pzb24ub3JnLylcbiAgICAgKiBbRmVhdHVyZSBvYmplY3RzXShodHRwOi8vZ2VvanNvbi5vcmcvZ2VvanNvbi1zcGVjLmh0bWwjZmVhdHVyZS1vYmplY3RzKVxuICAgICAqIHJlcHJlc2VudGluZyBmZWF0dXJlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCB2ZWN0b3IgdGlsZSBvciBHZW9KU09OIHNvdXJjZSB0aGF0IHNhdGlzZnkgdGhlIHF1ZXJ5IHBhcmFtZXRlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlSUQgVGhlIElEIG9mIHRoZSB2ZWN0b3IgdGlsZSBvciBHZW9KU09OIHNvdXJjZSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtZXRlcnNdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYXJhbWV0ZXJzLnNvdXJjZUxheWVyXSBUaGUgbmFtZSBvZiB0aGUgdmVjdG9yIHRpbGUgbGF5ZXIgdG8gcXVlcnkuICpGb3IgdmVjdG9yIHRpbGVcbiAgICAgKiAgIHNvdXJjZXMsIHRoaXMgcGFyYW1ldGVyIGlzIHJlcXVpcmVkLiogRm9yIEdlb0pTT04gc291cmNlcywgaXQgaXMgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFyYW1ldGVycy5maWx0ZXJdIEEgW2ZpbHRlcl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvc3R5bGUtc3BlYy8jb3RoZXItZmlsdGVyKVxuICAgICAqICAgdG8gbGltaXQgcXVlcnkgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fSBBbiBhcnJheSBvZiBbR2VvSlNPTl0oaHR0cDovL2dlb2pzb24ub3JnLylcbiAgICAgKiBbRmVhdHVyZSBvYmplY3RzXShodHRwOi8vZ2VvanNvbi5vcmcvZ2VvanNvbi1zcGVjLmh0bWwjZmVhdHVyZS1vYmplY3RzKS5cbiAgICAgKlxuICAgICAqIEluIGNvbnRyYXN0IHRvIHtAbGluayBNYXAjcXVlcnlSZW5kZXJlZEZlYXR1cmVzfSwgdGhpcyBmdW5jdGlvblxuICAgICAqIHJldHVybnMgYWxsIGZlYXR1cmVzIG1hdGNoaW5nIHRoZSBxdWVyeSBwYXJhbWV0ZXJzLFxuICAgICAqIHdoZXRoZXIgb3Igbm90IHRoZXkgYXJlIHJlbmRlcmVkIGJ5IHRoZSBjdXJyZW50IHN0eWxlIChpLmUuIHZpc2libGUpLiBUaGUgZG9tYWluIG9mIHRoZSBxdWVyeSBpbmNsdWRlcyBhbGwgY3VycmVudGx5LWxvYWRlZFxuICAgICAqIHZlY3RvciB0aWxlcyBhbmQgR2VvSlNPTiBzb3VyY2UgdGlsZXM6IHRoaXMgZnVuY3Rpb24gZG9lcyBub3QgY2hlY2sgdGlsZXMgb3V0c2lkZSB0aGUgY3VycmVudGx5XG4gICAgICogdmlzaWJsZSB2aWV3cG9ydC5cbiAgICAgKlxuICAgICAqIEJlY2F1c2UgZmVhdHVyZXMgY29tZSBmcm9tIHRpbGVkIHZlY3RvciBkYXRhIG9yIEdlb0pTT04gZGF0YSB0aGF0IGlzIGNvbnZlcnRlZCB0byB0aWxlcyBpbnRlcm5hbGx5LCBmZWF0dXJlXG4gICAgICogZ2VvbWV0cmllcyBtYXkgYmUgc3BsaXQgb3IgZHVwbGljYXRlZCBhY3Jvc3MgdGlsZSBib3VuZGFyaWVzIGFuZCwgYXMgYSByZXN1bHQsIGZlYXR1cmVzIG1heSBhcHBlYXIgbXVsdGlwbGVcbiAgICAgKiB0aW1lcyBpbiBxdWVyeSByZXN1bHRzLiBGb3IgZXhhbXBsZSwgc3VwcG9zZSB0aGVyZSBpcyBhIGhpZ2h3YXkgcnVubmluZyB0aHJvdWdoIHRoZSBib3VuZGluZyByZWN0YW5nbGUgb2YgYSBxdWVyeS5cbiAgICAgKiBUaGUgcmVzdWx0cyBvZiB0aGUgcXVlcnkgd2lsbCBiZSB0aG9zZSBwYXJ0cyBvZiB0aGUgaGlnaHdheSB0aGF0IGxpZSB3aXRoaW4gdGhlIG1hcCB0aWxlcyBjb3ZlcmluZyB0aGUgYm91bmRpbmdcbiAgICAgKiByZWN0YW5nbGUsIGV2ZW4gaWYgdGhlIGhpZ2h3YXkgZXh0ZW5kcyBpbnRvIG90aGVyIHRpbGVzLCBhbmQgdGhlIHBvcnRpb24gb2YgdGhlIGhpZ2h3YXkgd2l0aGluIGVhY2ggbWFwIHRpbGVcbiAgICAgKiB3aWxsIGJlIHJldHVybmVkIGFzIGEgc2VwYXJhdGUgZmVhdHVyZS4gU2ltaWxhcmx5LCBhIHBvaW50IGZlYXR1cmUgbmVhciBhIHRpbGUgYm91bmRhcnkgbWF5IGFwcGVhciBpbiBtdWx0aXBsZVxuICAgICAqIHRpbGVzIGR1ZSB0byB0aWxlIGJ1ZmZlcmluZy5cbiAgICAgKiBAc2VlIFtGaWx0ZXIgZmVhdHVyZXMgd2l0aGluIG1hcCB2aWV3XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2ZpbHRlci1mZWF0dXJlcy13aXRoaW4tbWFwLXZpZXcvKVxuICAgICAqIEBzZWUgW0hpZ2hsaWdodCBmZWF0dXJlcyBjb250YWluaW5nIHNpbWlsYXIgZGF0YV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9xdWVyeS1zaW1pbGFyLWZlYXR1cmVzLylcbiAgICAgKi9cbiAgICBxdWVyeVNvdXJjZUZlYXR1cmVzKHNvdXJjZUlEOiBzdHJpbmcsIHBhcmFtZXRlcnM6ID97c291cmNlTGF5ZXI6ID9zdHJpbmcsIGZpbHRlcjogP0FycmF5PGFueT59KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlLnF1ZXJ5U291cmNlRmVhdHVyZXMoc291cmNlSUQsIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG1hcCdzIE1hcGJveCBzdHlsZSBvYmplY3Qgd2l0aCBhIG5ldyB2YWx1ZS4gIElmIHRoZSBnaXZlblxuICAgICAqIHZhbHVlIGlzIHN0eWxlIEpTT04gb2JqZWN0LCBjb21wYXJlcyBpdCBhZ2FpbnN0IHRoZSB0aGUgbWFwJ3MgY3VycmVudFxuICAgICAqIHN0YXRlIGFuZCBwZXJmb3JtIG9ubHkgdGhlIGNoYW5nZXMgbmVjZXNzYXJ5IHRvIG1ha2UgdGhlIG1hcCBzdHlsZSBtYXRjaFxuICAgICAqIHRoZSBkZXNpcmVkIHN0YXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0eWxlIEEgSlNPTiBvYmplY3QgY29uZm9ybWluZyB0byB0aGUgc2NoZW1hIGRlc2NyaWJlZCBpbiB0aGVcbiAgICAgKiAgIFtNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLyksIG9yIGEgVVJMIHRvIHN1Y2ggSlNPTi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kaWZmPXRydWVdIElmIGZhbHNlLCBmb3JjZSBhICdmdWxsJyB1cGRhdGUsIHJlbW92aW5nIHRoZSBjdXJyZW50IHN0eWxlXG4gICAgICogICBhbmQgYWRkaW5nIGJ1aWxkaW5nIHRoZSBnaXZlbiBvbmUgaW5zdGVhZCBvZiBhdHRlbXB0aW5nIGEgZGlmZi1iYXNlZCB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT1udWxsXSBJZiBub24tbnVsbCwgZGVmaW5lcyBhIGNzcyBmb250LWZhbWlseVxuICAgICAqICAgZm9yIGxvY2FsbHkgb3ZlcnJpZGluZyBnZW5lcmF0aW9uIG9mIGdseXBocyBpbiB0aGUgJ0NKSyBVbmlmaWVkIElkZW9ncmFwaHMnIGFuZCAnSGFuZ3VsIFN5bGxhYmxlcydcbiAgICAgKiAgIHJhbmdlcy4gRm9yY2VzIGEgZnVsbCB1cGRhdGUuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQHNlZSBbQ2hhbmdlIGEgbWFwJ3Mgc3R5bGVdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvc2V0c3R5bGUvKVxuICAgICAqL1xuICAgIHNldFN0eWxlKHN0eWxlOiBTdHlsZVNwZWNpZmljYXRpb24gfCBzdHJpbmcgfCBudWxsLCBvcHRpb25zPzoge2RpZmY/OiBib29sZWFufSAmIFN0eWxlT3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaG91bGRUcnlEaWZmID0gKCFvcHRpb25zIHx8IChvcHRpb25zLmRpZmYgIT09IGZhbHNlICYmICFvcHRpb25zLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSkpICYmIHRoaXMuc3R5bGU7XG4gICAgICAgIGlmIChzaG91bGRUcnlEaWZmICYmIHN0eWxlICYmIHR5cGVvZiBzdHlsZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3R5bGUuc2V0U3RhdGUoc3R5bGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgd2Fybk9uY2UoXG4gICAgICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcGVyZm9ybSBzdHlsZSBkaWZmOiAke2UubWVzc2FnZSB8fCBlLmVycm9yIHx8IGV9LiAgUmVidWlsZGluZyB0aGUgc3R5bGUgZnJvbSBzY3JhdGNoLmBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudChudWxsKTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuX3JlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzdHlsZSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUgPSBuZXcgU3R5bGUodGhpcywgb3B0aW9ucyB8fCB7fSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQodGhpcywge3N0eWxlOiB0aGlzLnN0eWxlfSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUubG9hZFVSTChzdHlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLmxvYWRKU09OKHN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIE1hcGJveCBzdHlsZSBvYmplY3QsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIHJlY3JlYXRlIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBtYXAncyBzdHlsZSBvYmplY3QuXG4gICAgICovXG4gICAgZ2V0U3R5bGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5zZXJpYWxpemUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwJ3Mgc3R5bGUgaXMgZnVsbHkgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IEEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHN0eWxlIGlzIGZ1bGx5IGxvYWRlZC5cbiAgICAgKi9cbiAgICBpc1N0eWxlTG9hZGVkKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3R5bGUpIHJldHVybiB3YXJuT25jZSgnVGhlcmUgaXMgbm8gc3R5bGUgYWRkZWQgdG8gdGhlIG1hcC4nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUubG9hZGVkKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHNvdXJjZSB0byB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBzb3VyY2UgdG8gYWRkLiBNdXN0IG5vdCBjb25mbGljdCB3aXRoIGV4aXN0aW5nIHNvdXJjZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdCwgY29uZm9ybWluZyB0byB0aGVcbiAgICAgKiBNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbidzIFtzb3VyY2UgZGVmaW5pdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jc291cmNlcykuXG4gICAgICogQGZpcmVzIHNvdXJjZS5hZGRcbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAc2VlIFtEcmF3IEdlb0pTT04gcG9pbnRzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2dlb2pzb24tbWFya2Vycy8pXG4gICAgICogQHNlZSBbU3R5bGUgY2lyY2xlcyB1c2luZyBkYXRhLWRyaXZlbiBzdHlsaW5nXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RhdGEtZHJpdmVuLWNpcmNsZS1jb2xvcnMvKVxuICAgICAqIEBzZWUgW1NldCBhIHBvaW50IGFmdGVyIEdlb2NvZGVyIHJlc3VsdF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb2ludC1mcm9tLWdlb2NvZGVyLXJlc3VsdC8pXG4gICAgICovXG4gICAgYWRkU291cmNlKGlkOiBzdHJpbmcsIHNvdXJjZTogU291cmNlU3BlY2lmaWNhdGlvbikge1xuICAgICAgICB0aGlzLnN0eWxlLmFkZFNvdXJjZShpZCwgc291cmNlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBzb3VyY2UgdG8gYmUgY2hlY2tlZC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKi9cbiAgICBpc1NvdXJjZUxvYWRlZChpZDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc3R5bGUgJiYgdGhpcy5zdHlsZS5zb3VyY2VDYWNoZXNbaWRdO1xuICAgICAgICBpZiAoc291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIElEICcke2lkfSdgKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2UubG9hZGVkKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIGFsbCB0aWxlcyBpbiB0aGUgdmlld3BvcnQgZnJvbSBhbGwgc291cmNlcyBvblxuICAgICAqIHRoZSBzdHlsZSBhcmUgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IEEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgYWxsIHRpbGVzIGFyZSBsb2FkZWQuXG4gICAgICovXG5cbiAgICBhcmVUaWxlc0xvYWRlZCgpIHtcbiAgICAgICAgY29uc3Qgc291cmNlcyA9IHRoaXMuc3R5bGUgJiYgdGhpcy5zdHlsZS5zb3VyY2VDYWNoZXM7XG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gc291cmNlcykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlc1tpZF07XG4gICAgICAgICAgICBjb25zdCB0aWxlcyA9IHNvdXJjZS5fdGlsZXM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHQgaW4gdGlsZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWxlID0gdGlsZXNbdF07XG4gICAgICAgICAgICAgICAgaWYgKCEodGlsZS5zdGF0ZSA9PT0gJ2xvYWRlZCcgfHwgdGlsZS5zdGF0ZSA9PT0gJ2Vycm9yZWQnKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBbY3VzdG9tIHNvdXJjZSB0eXBlXSgjQ3VzdG9tIFNvdXJjZXMpLCBtYWtpbmcgaXQgYXZhaWxhYmxlIGZvciB1c2Ugd2l0aFxuICAgICAqIHtAbGluayBNYXAjYWRkU291cmNlfS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzb3VyY2UgdHlwZTsgc291cmNlIGRlZmluaXRpb24gb2JqZWN0cyB1c2UgdGhpcyBuYW1lIGluIHRoZSBge3R5cGU6IC4uLn1gIGZpZWxkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFNvdXJjZVR5cGUgQSB7QGxpbmsgU291cmNlfSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgd2hlbiB0aGUgc291cmNlIHR5cGUgaXMgcmVhZHkgb3Igd2l0aCBhbiBlcnJvciBhcmd1bWVudCBpZiB0aGVyZSBpcyBhbiBlcnJvci5cbiAgICAgKi9cbiAgICBhZGRTb3VyY2VUeXBlKG5hbWU6IHN0cmluZywgU291cmNlVHlwZTogYW55LCBjYWxsYmFjazogRnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuYWRkU291cmNlVHlwZShuYW1lLCBTb3VyY2VUeXBlLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHNvdXJjZSBmcm9tIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSUQgb2YgdGhlIHNvdXJjZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICovXG4gICAgcmVtb3ZlU291cmNlKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5yZW1vdmVTb3VyY2UoaWQpO1xuICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNvdXJjZSB3aXRoIHRoZSBzcGVjaWZpZWQgSUQgaW4gdGhlIG1hcCdzIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiB0aGUgc291cmNlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7P09iamVjdH0gVGhlIHN0eWxlIHNvdXJjZSB3aXRoIHRoZSBzcGVjaWZpZWQgSUQsIG9yIGB1bmRlZmluZWRgXG4gICAgICogICBpZiB0aGUgSUQgY29ycmVzcG9uZHMgdG8gbm8gZXhpc3Rpbmcgc291cmNlcy5cbiAgICAgKiBAc2VlIFtDcmVhdGUgYSBkcmFnZ2FibGUgcG9pbnRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvZHJhZy1hLXBvaW50LylcbiAgICAgKiBAc2VlIFtBbmltYXRlIGEgcG9pbnRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYW5pbWF0ZS1wb2ludC1hbG9uZy1saW5lLylcbiAgICAgKiBAc2VlIFtBZGQgbGl2ZSByZWFsdGltZSBkYXRhXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2xpdmUtZ2VvanNvbi8pXG4gICAgICovXG4gICAgZ2V0U291cmNlKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZ2V0U291cmNlKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gaW1hZ2UgdG8gdGhlIHN0eWxlLiBUaGlzIGltYWdlIGNhbiBiZSB1c2VkIGluIGBpY29uLWltYWdlYCxcbiAgICAgKiBgYmFja2dyb3VuZC1wYXR0ZXJuYCwgYGZpbGwtcGF0dGVybmAsIGFuZCBgbGluZS1wYXR0ZXJuYC4gQW5cbiAgICAgKiB7QGxpbmsgTWFwI2Vycm9yfSBldmVudCB3aWxsIGJlIGZpcmVkIGlmIHRoZXJlIGlzIG5vdCBlbm91Z2ggc3BhY2UgaW4gdGhlXG4gICAgICogc3ByaXRlIHRvIGFkZCB0aGlzIGltYWdlLlxuICAgICAqXG4gICAgICogQHNlZSBbQWRkIGFuIGljb24gdG8gdGhlIG1hcF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hZGQtaW1hZ2UvKVxuICAgICAqIEBzZWUgW0FkZCBhIGdlbmVyYXRlZCBpY29uIHRvIHRoZSBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvYWRkLWltYWdlLWdlbmVyYXRlZC8pXG4gICAgICogQHBhcmFtIGlkIFRoZSBJRCBvZiB0aGUgaW1hZ2UuXG4gICAgICogQHBhcmFtIGltYWdlIFRoZSBpbWFnZSBhcyBhbiBgSFRNTEltYWdlRWxlbWVudGAsIGBJbWFnZURhdGFgLCBvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYFxuICAgICAqIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWAuXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5waXhlbFJhdGlvIFRoZSByYXRpbyBvZiBwaXhlbHMgaW4gdGhlIGltYWdlIHRvIHBoeXNpY2FsIHBpeGVscyBvbiB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuc2RmIFdoZXRoZXIgdGhlIGltYWdlIHNob3VsZCBiZSBpbnRlcnByZXRlZCBhcyBhbiBTREYgaW1hZ2VcbiAgICAgKi9cbiAgICBhZGRJbWFnZShpZDogc3RyaW5nLFxuICAgICAgICAgICAgIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50IHwgSW1hZ2VEYXRhIHwge3dpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBkYXRhOiBVaW50OEFycmF5IHwgVWludDhDbGFtcGVkQXJyYXl9LFxuICAgICAgICAgICAgIHtwaXhlbFJhdGlvID0gMSwgc2RmID0gZmFsc2V9OiB7cGl4ZWxSYXRpbz86IG51bWJlciwgc2RmPzogYm9vbGVhbn0gPSB7fSkge1xuICAgICAgICBpZiAoaW1hZ2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7d2lkdGgsIGhlaWdodCwgZGF0YX0gPSBicm93c2VyLmdldEltYWdlRGF0YShpbWFnZSk7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLmFkZEltYWdlKGlkLCB7IGRhdGE6IG5ldyBSR0JBSW1hZ2Uoe3dpZHRoLCBoZWlnaHR9LCBkYXRhKSwgcGl4ZWxSYXRpbywgc2RmIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGltYWdlLndpZHRoID09PSB1bmRlZmluZWQgfHwgaW1hZ2UuaGVpZ2h0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAuYWRkSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsICcgK1xuICAgICAgICAgICAgICAgICdvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYCBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgJykpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0LCBkYXRhfSA9IGltYWdlO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5hZGRJbWFnZShpZCwgeyBkYXRhOiBuZXcgUkdCQUltYWdlKHt3aWR0aCwgaGVpZ2h0fSwgZGF0YS5zbGljZSgwKSksIHBpeGVsUmF0aW8sIHNkZiB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSB3ZXRoZXIgdGhlIGltYWdlIGhhcyBiZWVuIGFkZGVkIG9yIG5vdFxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIFRoZSBJRCBvZiB0aGUgaW1hZ2UuXG4gICAgICovXG4gICAgaGFzSW1hZ2UoaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUobmV3IEVycm9yRXZlbnQobmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGltYWdlIGlkJykpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhIXRoaXMuc3R5bGUuZ2V0SW1hZ2UoaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbiBpbWFnZSBmcm9tIHRoZSBzdHlsZSAoc3VjaCBhcyBvbmUgdXNlZCBieSBgaWNvbi1pbWFnZWAgb3IgYGJhY2tncm91bmQtcGF0dGVybmApLlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIFRoZSBJRCBvZiB0aGUgaW1hZ2UuXG4gICAgICovXG4gICAgcmVtb3ZlSW1hZ2UoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnN0eWxlLnJlbW92ZUltYWdlKGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGFuIGltYWdlIGZyb20gYW4gZXh0ZXJuYWwgVVJMIGZvciB1c2Ugd2l0aCBgTWFwI2FkZEltYWdlYC4gRXh0ZXJuYWxcbiAgICAgKiBkb21haW5zIG11c3Qgc3VwcG9ydCBbQ09SU10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9BY2Nlc3NfY29udHJvbF9DT1JTKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCBvZiB0aGUgaW1hZ2UgZmlsZS4gSW1hZ2UgZmlsZSBtdXN0IGJlIGluIHBuZywgd2VicCwgb3IganBnIGZvcm1hdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBFeHBlY3RpbmcgYGNhbGxiYWNrKGVycm9yLCBkYXRhKWAuIENhbGxlZCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkIG9yIHdpdGggYW4gZXJyb3IgYXJndW1lbnQgaWYgdGhlcmUgaXMgYW4gZXJyb3IuXG4gICAgICogQHNlZSBbQWRkIGFuIGljb24gdG8gdGhlIG1hcF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hZGQtaW1hZ2UvKVxuICAgICAqL1xuICAgIGxvYWRJbWFnZSh1cmw6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGdldEltYWdlKHRoaXMuX3RyYW5zZm9ybVJlcXVlc3QodXJsLCBSZXNvdXJjZVR5cGUuSW1hZ2UpLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIFtNYXBib3ggc3R5bGUgbGF5ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvI2xheWVycylcbiAgICAgKiB0byB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBBIGxheWVyIGRlZmluZXMgc3R5bGluZyBmb3IgZGF0YSBmcm9tIGEgc3BlY2lmaWVkIHNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsYXllciBUaGUgc3R5bGUgbGF5ZXIgdG8gYWRkLCBjb25mb3JtaW5nIHRvIHRoZSBNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbidzXG4gICAgICogICBbbGF5ZXIgZGVmaW5pdGlvbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtc3R5bGUtc3BlYy8jbGF5ZXJzKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2JlZm9yZV0gVGhlIElEIG9mIGFuIGV4aXN0aW5nIGxheWVyIHRvIGluc2VydCB0aGUgbmV3IGxheWVyIGJlZm9yZS5cbiAgICAgKiAgIElmIHRoaXMgYXJndW1lbnQgaXMgb21pdHRlZCwgdGhlIGxheWVyIHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIGVuZCBvZiB0aGUgbGF5ZXJzIGFycmF5LlxuICAgICAqIEByZXR1cm5zIHtNYXB9IGB0aGlzYFxuICAgICAqIEBzZWUgW0NyZWF0ZSBhbmQgc3R5bGUgY2x1c3RlcnNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY2x1c3Rlci8pXG4gICAgICogQHNlZSBbQWRkIGEgdmVjdG9yIHRpbGUgc291cmNlXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3ZlY3Rvci1zb3VyY2UvKVxuICAgICAqIEBzZWUgW0FkZCBhIFdNUyBzb3VyY2VdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvd21zLylcbiAgICAgKi9cbiAgICBhZGRMYXllcihsYXllcjogTGF5ZXJTcGVjaWZpY2F0aW9uLCBiZWZvcmU/OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5hZGRMYXllcihsYXllciwgYmVmb3JlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhIGxheWVyIHRvIGEgZGlmZmVyZW50IHotcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBsYXllciB0byBtb3ZlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbYmVmb3JlSWRdIFRoZSBJRCBvZiBhbiBleGlzdGluZyBsYXllciB0byBpbnNlcnQgdGhlIG5ldyBsYXllciBiZWZvcmUuXG4gICAgICogICBJZiB0aGlzIGFyZ3VtZW50IGlzIG9taXR0ZWQsIHRoZSBsYXllciB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGxheWVycyBhcnJheS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBtb3ZlTGF5ZXIoaWQ6IHN0cmluZywgYmVmb3JlSWQ/OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5tb3ZlTGF5ZXIoaWQsIGJlZm9yZUlkKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXllciB3aXRoIHRoZSBnaXZlbiBpZCBmcm9tIHRoZSBtYXAncyBzdHlsZS5cbiAgICAgKlxuICAgICAqIElmIG5vIHN1Y2ggbGF5ZXIgZXhpc3RzLCBhbiBgZXJyb3JgIGV2ZW50IGlzIGZpcmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIGlkIG9mIHRoZSBsYXllciB0byByZW1vdmVcbiAgICAgKiBAZmlyZXMgZXJyb3JcbiAgICAgKi9cbiAgICByZW1vdmVMYXllcihpZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3R5bGUucmVtb3ZlTGF5ZXIoaWQpO1xuICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxheWVyIHdpdGggdGhlIHNwZWNpZmllZCBJRCBpbiB0aGUgbWFwJ3Mgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIG9mIHRoZSBsYXllciB0byBnZXQuXG4gICAgICogQHJldHVybnMgez9PYmplY3R9IFRoZSBsYXllciB3aXRoIHRoZSBzcGVjaWZpZWQgSUQsIG9yIGB1bmRlZmluZWRgXG4gICAgICogICBpZiB0aGUgSUQgY29ycmVzcG9uZHMgdG8gbm8gZXhpc3RpbmcgbGF5ZXJzLlxuICAgICAqIEBzZWUgW0ZpbHRlciBzeW1ib2xzIGJ5IHRvZ2dsaW5nIGEgbGlzdF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9maWx0ZXItbWFya2Vycy8pXG4gICAgICogQHNlZSBbRmlsdGVyIHN5bWJvbHMgYnkgdGV4dCBpbnB1dF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9maWx0ZXItbWFya2Vycy1ieS1pbnB1dC8pXG4gICAgICovXG4gICAgZ2V0TGF5ZXIoaWQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5nZXRMYXllcihpZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZmlsdGVyIGZvciB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gd2hpY2ggdGhlIGZpbHRlciB3aWxsIGJlIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtBcnJheSB8IG51bGwgfCB1bmRlZmluZWR9IGZpbHRlciBUaGUgZmlsdGVyLCBjb25mb3JtaW5nIHRvIHRoZSBNYXBib3ggU3R5bGUgU3BlY2lmaWNhdGlvbidzXG4gICAgICogICBbZmlsdGVyIGRlZmluaXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3N0eWxlLXNwZWMvI290aGVyLWZpbHRlcikuICBJZiBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgaXMgcHJvdmlkZWQsIHRoZSBmdW5jdGlvbiByZW1vdmVzIGFueSBleGlzdGluZyBmaWx0ZXIgZnJvbSB0aGUgbGF5ZXIuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0RmlsdGVyKCdteS1sYXllcicsIFsnPT0nLCAnbmFtZScsICdVU0EnXSk7XG4gICAgICogQHNlZSBbRmlsdGVyIGZlYXR1cmVzIHdpdGhpbiBtYXAgdmlld10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9maWx0ZXItZmVhdHVyZXMtd2l0aGluLW1hcC12aWV3LylcbiAgICAgKiBAc2VlIFtIaWdobGlnaHQgZmVhdHVyZXMgY29udGFpbmluZyBzaW1pbGFyIGRhdGFdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcXVlcnktc2ltaWxhci1mZWF0dXJlcy8pXG4gICAgICogQHNlZSBbQ3JlYXRlIGEgdGltZWxpbmUgYW5pbWF0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3RpbWVsaW5lLWFuaW1hdGlvbi8pXG4gICAgICovXG4gICAgc2V0RmlsdGVyKGxheWVyOiBzdHJpbmcsIGZpbHRlcjogP0ZpbHRlclNwZWNpZmljYXRpb24pIHtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRGaWx0ZXIobGF5ZXIsIGZpbHRlcik7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgem9vbSBleHRlbnQgZm9yIHRoZSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXJJZCBUaGUgSUQgb2YgdGhlIGxheWVyIHRvIHdoaWNoIHRoZSB6b29tIGV4dGVudCB3aWxsIGJlIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbnpvb20gVGhlIG1pbmltdW0gem9vbSB0byBzZXQgKDAtMjQpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXh6b29tIFRoZSBtYXhpbXVtIHpvb20gdG8gc2V0ICgwLTI0KS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRMYXllclpvb21SYW5nZSgnbXktbGF5ZXInLCAyLCA1KTtcbiAgICAgKi9cbiAgICBzZXRMYXllclpvb21SYW5nZShsYXllcklkOiBzdHJpbmcsIG1pbnpvb206IG51bWJlciwgbWF4em9vbTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc3R5bGUuc2V0TGF5ZXJab29tUmFuZ2UobGF5ZXJJZCwgbWluem9vbSwgbWF4em9vbSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZmlsdGVyIGFwcGxpZWQgdG8gdGhlIHNwZWNpZmllZCBzdHlsZSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYXllciBUaGUgSUQgb2YgdGhlIHN0eWxlIGxheWVyIHdob3NlIGZpbHRlciB0byBnZXQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBUaGUgbGF5ZXIncyBmaWx0ZXIuXG4gICAgICovXG4gICAgZ2V0RmlsdGVyKGxheWVyOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZ2V0RmlsdGVyKGxheWVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIHBhaW50IHByb3BlcnR5IGluIHRoZSBzcGVjaWZpZWQgc3R5bGUgbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF5ZXIgVGhlIElEIG9mIHRoZSBsYXllciB0byBzZXQgdGhlIHBhaW50IHByb3BlcnR5IGluLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBwYWludCBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIHBhaW50IHByb3BlcnkgdG8gc2V0LlxuICAgICAqICAgTXVzdCBiZSBvZiBhIHR5cGUgYXBwcm9wcmlhdGUgZm9yIHRoZSBwcm9wZXJ0eSwgYXMgZGVmaW5lZCBpbiB0aGUgW01hcGJveCBTdHlsZSBTcGVjaWZpY2F0aW9uXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1zdHlsZS1zcGVjLykuXG4gICAgICogQHJldHVybnMge01hcH0gYHRoaXNgXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBtYXAuc2V0UGFpbnRQcm9wZXJ0eSgnbXktbGF5ZXInLCAnZmlsbC1jb2xvcicsICcjZmFhZmVlJyk7XG4gICAgICogQHNlZSBbQ2hhbmdlIGEgbGF5ZXIncyBjb2xvciB3aXRoIGJ1dHRvbnNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY29sb3Itc3dpdGNoZXIvKVxuICAgICAqIEBzZWUgW0FkanVzdCBhIGxheWVyJ3Mgb3BhY2l0eV0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9hZGp1c3QtbGF5ZXItb3BhY2l0eS8pXG4gICAgICogQHNlZSBbQ3JlYXRlIGEgZHJhZ2dhYmxlIHBvaW50XShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL2RyYWctYS1wb2ludC8pXG4gICAgICovXG4gICAgc2V0UGFpbnRQcm9wZXJ0eShsYXllcjogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5zZXRQYWludFByb3BlcnR5KGxheWVyLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBwYWludCBwcm9wZXJ0eSBpbiB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gZ2V0IHRoZSBwYWludCBwcm9wZXJ0eSBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIGEgcGFpbnQgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgb2YgdGhlIHNwZWNpZmllZCBwYWludCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBnZXRQYWludFByb3BlcnR5KGxheWVyOiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5nZXRQYWludFByb3BlcnR5KGxheWVyLCBuYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIGxheW91dCBwcm9wZXJ0eSBpbiB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gc2V0IHRoZSBsYXlvdXQgcHJvcGVydHkgaW4uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGxheW91dCBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGxheW91dCBwcm9wZXJ5LiBNdXN0IGJlIG9mIGEgdHlwZSBhcHByb3ByaWF0ZSBmb3IgdGhlIHByb3BlcnR5LCBhcyBkZWZpbmVkIGluIHRoZSBbTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvKS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIG1hcC5zZXRMYXlvdXRQcm9wZXJ0eSgnbXktbGF5ZXInLCAndmlzaWJpbGl0eScsICdub25lJyk7XG4gICAgICovXG4gICAgc2V0TGF5b3V0UHJvcGVydHkobGF5ZXI6IHN0cmluZywgbmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICAgIHRoaXMuc3R5bGUuc2V0TGF5b3V0UHJvcGVydHkobGF5ZXIsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiBhIGxheW91dCBwcm9wZXJ0eSBpbiB0aGUgc3BlY2lmaWVkIHN0eWxlIGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIFRoZSBJRCBvZiB0aGUgbGF5ZXIgdG8gZ2V0IHRoZSBsYXlvdXQgcHJvcGVydHkgZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbGF5b3V0IHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHZhbHVlIG9mIHRoZSBzcGVjaWZpZWQgbGF5b3V0IHByb3BlcnR5LlxuICAgICAqL1xuICAgIGdldExheW91dFByb3BlcnR5KGxheWVyOiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHlsZS5nZXRMYXlvdXRQcm9wZXJ0eShsYXllciwgbmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYW55IGNvbWJpbmF0aW9uIG9mIGxpZ2h0IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaWdodCBMaWdodCBwcm9wZXJ0aWVzIHRvIHNldC4gTXVzdCBjb25mb3JtIHRvIHRoZSBbTWFwYm94IFN0eWxlIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLXN0eWxlLXNwZWMvKS5cbiAgICAgKiBAcmV0dXJucyB7TWFwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRMaWdodChsaWdodDogTGlnaHRTcGVjaWZpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuc3R5bGUuc2V0TGlnaHQobGlnaHQpO1xuICAgICAgICB0aGlzLl91cGRhdGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBsaWdodCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBsaWdodCBMaWdodCBwcm9wZXJ0aWVzIG9mIHRoZSBzdHlsZS5cbiAgICAgKi9cbiAgICBnZXRMaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGlnaHQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYXAncyBjb250YWluaW5nIEhUTUwgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gVGhlIG1hcCdzIGNvbnRhaW5lci5cbiAgICAgKi9cbiAgICBnZXRDb250YWluZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgSFRNTCBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIG1hcCdzIGA8Y2FudmFzPmAgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIHlvdSB3YW50IHRvIGFkZCBub24tR0wgb3ZlcmxheXMgdG8gdGhlIG1hcCwgeW91IHNob3VsZCBhcHBlbmQgdGhlbSB0byB0aGlzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHRoZSBlbGVtZW50IHRvIHdoaWNoIGV2ZW50IGJpbmRpbmdzIGZvciBtYXAgaW50ZXJhY3Rpdml0eSAoc3VjaCBhcyBwYW5uaW5nIGFuZCB6b29taW5nKSBhcmVcbiAgICAgKiBhdHRhY2hlZC4gSXQgd2lsbCByZWNlaXZlIGJ1YmJsZWQgZXZlbnRzIGZyb20gY2hpbGQgZWxlbWVudHMgc3VjaCBhcyB0aGUgYDxjYW52YXM+YCwgYnV0IG5vdCBmcm9tXG4gICAgICogbWFwIGNvbnRyb2xzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSBUaGUgY29udGFpbmVyIG9mIHRoZSBtYXAncyBgPGNhbnZhcz5gLlxuICAgICAqIEBzZWUgW0NyZWF0ZSBhIGRyYWdnYWJsZSBwb2ludF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9kcmFnLWEtcG9pbnQvKVxuICAgICAqIEBzZWUgW0hpZ2hsaWdodCBmZWF0dXJlcyB3aXRoaW4gYSBib3VuZGluZyBib3hdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvdXNpbmctYm94LXF1ZXJ5cmVuZGVyZWRmZWF0dXJlcy8pXG4gICAgICovXG4gICAgZ2V0Q2FudmFzQ29udGFpbmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FudmFzQ29udGFpbmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCdzIGA8Y2FudmFzPmAgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MQ2FudmFzRWxlbWVudH0gVGhlIG1hcCdzIGA8Y2FudmFzPmAgZWxlbWVudC5cbiAgICAgKiBAc2VlIFtNZWFzdXJlIGRpc3RhbmNlc10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9tZWFzdXJlLylcbiAgICAgKiBAc2VlIFtEaXNwbGF5IGEgcG9wdXAgb24gaG92ZXJdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAtb24taG92ZXIvKVxuICAgICAqIEBzZWUgW0NlbnRlciB0aGUgbWFwIG9uIGEgY2xpY2tlZCBzeW1ib2xdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY2VudGVyLW9uLXN5bWJvbC8pXG4gICAgICovXG4gICAgZ2V0Q2FudmFzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FudmFzO1xuICAgIH1cblxuICAgIF9jb250YWluZXJEaW1lbnNpb25zKCkge1xuICAgICAgICBsZXQgd2lkdGggPSAwO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gMDtcblxuICAgICAgICBpZiAodGhpcy5fY29udGFpbmVyKSB7XG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMuX2NvbnRhaW5lci5vZmZzZXRXaWR0aCB8fCA0MDA7XG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLl9jb250YWluZXIub2Zmc2V0SGVpZ2h0IHx8IDMwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbd2lkdGgsIGhlaWdodF07XG4gICAgfVxuXG4gICAgX3NldHVwQ29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1tYXAnKTtcblxuICAgICAgICBjb25zdCBtaXNzaW5nQ1NTQ29udGFpbmVyID0gdGhpcy5fbWlzc2luZ0NTU0NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1taXNzaW5nLWNzcycsIGNvbnRhaW5lcik7XG4gICAgICAgIG1pc3NpbmdDU1NDb250YWluZXIuaW5uZXJIVE1MID0gJ01pc3NpbmcgTWFwYm94IEdMIEpTIENTUyc7XG5cbiAgICAgICAgY29uc3QgY2FudmFzQ29udGFpbmVyID0gdGhpcy5fY2FudmFzQ29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWNhbnZhcy1jb250YWluZXInLCBjb250YWluZXIpO1xuICAgICAgICBpZiAodGhpcy5faW50ZXJhY3RpdmUpIHtcbiAgICAgICAgICAgIGNhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1pbnRlcmFjdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2FudmFzID0gRE9NLmNyZWF0ZSgnY2FudmFzJywgJ21hcGJveGdsLWNhbnZhcycsIGNhbnZhc0NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgdGhpcy5fY29udGV4dExvc3QsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5fY29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgICAgdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdNYXAnKTtcblxuICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gdGhpcy5fY29udGFpbmVyRGltZW5zaW9ucygpO1xuICAgICAgICB0aGlzLl9yZXNpemVDYW52YXMoZGltZW5zaW9uc1swXSwgZGltZW5zaW9uc1sxXSk7XG5cbiAgICAgICAgY29uc3QgY29udHJvbENvbnRhaW5lciA9IHRoaXMuX2NvbnRyb2xDb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtY29udHJvbC1jb250YWluZXInLCBjb250YWluZXIpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSB0aGlzLl9jb250cm9sUG9zaXRpb25zID0ge307XG4gICAgICAgIFsndG9wLWxlZnQnLCAndG9wLXJpZ2h0JywgJ2JvdHRvbS1sZWZ0JywgJ2JvdHRvbS1yaWdodCddLmZvckVhY2goKHBvc2l0aW9uTmFtZSkgPT4ge1xuICAgICAgICAgICAgcG9zaXRpb25zW3Bvc2l0aW9uTmFtZV0gPSBET00uY3JlYXRlKCdkaXYnLCBgbWFwYm94Z2wtY3RybC0ke3Bvc2l0aW9uTmFtZX1gLCBjb250cm9sQ29udGFpbmVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3Jlc2l6ZUNhbnZhcyh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCBwaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcblxuICAgICAgICAvLyBSZXF1ZXN0IHRoZSByZXF1aXJlZCBjYW52YXMgc2l6ZSB0YWtpbmcgdGhlIHBpeGVscmF0aW8gaW50byBhY2NvdW50LlxuICAgICAgICB0aGlzLl9jYW52YXMud2lkdGggPSBwaXhlbFJhdGlvICogd2lkdGg7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSBwaXhlbFJhdGlvICogaGVpZ2h0O1xuXG4gICAgICAgIC8vIE1haW50YWluIHRoZSBzYW1lIGNhbnZhcyBzaXplLCBwb3RlbnRpYWxseSBkb3duc2NhbGluZyBpdCBmb3IgSGlEUEkgZGlzcGxheXNcbiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgICB0aGlzLl9jYW52YXMuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgICB9XG5cbiAgICBfc2V0dXBQYWludGVyKCkge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gZXh0ZW5kKHtcbiAgICAgICAgICAgIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6IHRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQsXG4gICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlclxuICAgICAgICB9LCBpc1N1cHBvcnRlZC53ZWJHTENvbnRleHRBdHRyaWJ1dGVzKTtcblxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIGF0dHJpYnV0ZXMpIHx8XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgYXR0cmlidXRlcyk7XG5cbiAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFcnJvckV2ZW50KG5ldyBFcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgV2ViR0wnKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wYWludGVyID0gbmV3IFBhaW50ZXIoZ2wsIHRoaXMudHJhbnNmb3JtKTtcbiAgICB9XG5cbiAgICBfY29udGV4dExvc3QoZXZlbnQ6ICopIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgIGJyb3dzZXIuY2FuY2VsRnJhbWUodGhpcy5fZnJhbWVJZCk7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd3ZWJnbGNvbnRleHRsb3N0Jywge29yaWdpbmFsRXZlbnQ6IGV2ZW50fSkpO1xuICAgIH1cblxuICAgIF9jb250ZXh0UmVzdG9yZWQoZXZlbnQ6ICopIHtcbiAgICAgICAgdGhpcy5fc2V0dXBQYWludGVyKCk7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHtvcmlnaW5hbEV2ZW50OiBldmVudH0pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcCBpcyBmdWxseSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGBmYWxzZWAgaWYgdGhlIHN0eWxlIGlzIG5vdCB5ZXQgZnVsbHkgbG9hZGVkLFxuICAgICAqIG9yIGlmIHRoZXJlIGhhcyBiZWVuIGEgY2hhbmdlIHRvIHRoZSBzb3VyY2VzIG9yIHN0eWxlIHRoYXRcbiAgICAgKiBoYXMgbm90IHlldCBmdWxseSBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgbWFwIGlzIGZ1bGx5IGxvYWRlZC5cbiAgICAgKi9cbiAgICBsb2FkZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZURpcnR5IHx8IHRoaXMuX3NvdXJjZXNEaXJ0eSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCF0aGlzLnN0eWxlIHx8ICF0aGlzLnN0eWxlLmxvYWRlZCgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhpcyBtYXAncyBzdHlsZSBhbmQgc291cmNlcywgYW5kIHJlLXJlbmRlciB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB1cGRhdGVTdHlsZSBtYXJrIHRoZSBtYXAncyBzdHlsZSBmb3IgcmVwcm9jZXNzaW5nIGFzXG4gICAgICogd2VsbCBhcyBpdHMgc291cmNlc1xuICAgICAqIEByZXR1cm5zIHtNYXB9IHRoaXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGUodXBkYXRlU3R5bGU/OiBib29sZWFuKSB7XG4gICAgICAgIGlmICghdGhpcy5zdHlsZSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3N0eWxlRGlydHkgPSB0aGlzLl9zdHlsZURpcnR5IHx8IHVwZGF0ZVN0eWxlO1xuICAgICAgICB0aGlzLl9zb3VyY2VzRGlydHkgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuX3JlcmVuZGVyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVxdWVzdCB0aGF0IHRoZSBnaXZlbiBjYWxsYmFjayBiZSBleGVjdXRlZCBkdXJpbmcgdGhlIG5leHQgcmVuZGVyXG4gICAgICogZnJhbWUuICBTY2hlZHVsZSBhIHJlbmRlciBmcmFtZSBpZiBvbmUgaXMgbm90IGFscmVhZHkgc2NoZWR1bGVkLlxuICAgICAqIEByZXR1cm5zIEFuIGlkIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBjYWxsYmFja1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlcXVlc3RSZW5kZXJGcmFtZShjYWxsYmFjazogKCkgPT4gdm9pZCk6IFRhc2tJRCB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmFkZChjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgX2NhbmNlbFJlbmRlckZyYW1lKGlkOiBUYXNrSUQpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyVGFza1F1ZXVlLnJlbW92ZShpZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbCB3aGVuIGEgKHJlLSlyZW5kZXIgb2YgdGhlIG1hcCBpcyByZXF1aXJlZDpcbiAgICAgKiAtIFRoZSBzdHlsZSBoYXMgY2hhbmdlZCAoYHNldFBhaW50UHJvcGVydHkoKWAsIGV0Yy4pXG4gICAgICogLSBTb3VyY2UgZGF0YSBoYXMgY2hhbmdlZCAoZS5nLiB0aWxlcyBoYXZlIGZpbmlzaGVkIGxvYWRpbmcpXG4gICAgICogLSBUaGUgbWFwIGhhcyBpcyBtb3ZpbmcgKG9yIGp1c3QgZmluaXNoZWQgbW92aW5nKVxuICAgICAqIC0gQSB0cmFuc2l0aW9uIGlzIGluIHByb2dyZXNzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TWFwfSB0aGlzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVuZGVyKCkge1xuICAgICAgICB0aGlzLl9yZW5kZXJUYXNrUXVldWUucnVuKCk7XG5cbiAgICAgICAgbGV0IGNyb3NzRmFkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgLy8gSWYgdGhlIHN0eWxlIGhhcyBjaGFuZ2VkLCB0aGUgbWFwIGlzIGJlaW5nIHpvb21lZCwgb3IgYSB0cmFuc2l0aW9uIG9yIGZhZGUgaXMgaW4gcHJvZ3Jlc3M6XG4gICAgICAgIC8vICAtIEFwcGx5IHN0eWxlIGNoYW5nZXMgKGluIGEgYmF0Y2gpXG4gICAgICAgIC8vICAtIFJlY2FsY3VsYXRlIHBhaW50IHByb3BlcnRpZXMuXG4gICAgICAgIGlmICh0aGlzLnN0eWxlICYmIHRoaXMuX3N0eWxlRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlRGlydHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3Qgem9vbSA9IHRoaXMudHJhbnNmb3JtLnpvb207XG4gICAgICAgICAgICBjb25zdCBub3cgPSBicm93c2VyLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS56b29tSGlzdG9yeS51cGRhdGUoem9vbSwgbm93KTtcblxuICAgICAgICAgICAgY29uc3QgcGFyYW1ldGVycyA9IG5ldyBFdmFsdWF0aW9uUGFyYW1ldGVycyh6b29tLCB7XG4gICAgICAgICAgICAgICAgbm93LFxuICAgICAgICAgICAgICAgIGZhZGVEdXJhdGlvbjogdGhpcy5fZmFkZUR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHpvb21IaXN0b3J5OiB0aGlzLnN0eWxlLnpvb21IaXN0b3J5LFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IHRoaXMuc3R5bGUuZ2V0VHJhbnNpdGlvbigpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgZmFjdG9yID0gcGFyYW1ldGVycy5jcm9zc0ZhZGluZ0ZhY3RvcigpO1xuICAgICAgICAgICAgaWYgKGZhY3RvciAhPT0gMSB8fCBmYWN0b3IgIT09IHRoaXMuX2Nyb3NzRmFkaW5nRmFjdG9yKSB7XG4gICAgICAgICAgICAgICAgY3Jvc3NGYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nyb3NzRmFkaW5nRmFjdG9yID0gZmFjdG9yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN0eWxlLnVwZGF0ZShwYXJhbWV0ZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIGFyZSBpbiBfcmVuZGVyIGZvciBhbnkgcmVhc29uIG90aGVyIHRoYW4gYW4gaW4tcHJvZ3Jlc3MgcGFpbnRcbiAgICAgICAgLy8gdHJhbnNpdGlvbiwgdXBkYXRlIHNvdXJjZSBjYWNoZXMgdG8gY2hlY2sgZm9yIGFuZCBsb2FkIGFueSB0aWxlcyB3ZVxuICAgICAgICAvLyBuZWVkIGZvciB0aGUgY3VycmVudCB0cmFuc2Zvcm1cbiAgICAgICAgaWYgKHRoaXMuc3R5bGUgJiYgdGhpcy5fc291cmNlc0RpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLl9zb3VyY2VzRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuX3VwZGF0ZVNvdXJjZXModGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcGxhY2VtZW50RGlydHkgPSB0aGlzLnN0eWxlICYmIHRoaXMuc3R5bGUuX3VwZGF0ZVBsYWNlbWVudCh0aGlzLnBhaW50ZXIudHJhbnNmb3JtLCB0aGlzLnNob3dDb2xsaXNpb25Cb3hlcywgdGhpcy5fZmFkZUR1cmF0aW9uKTtcblxuICAgICAgICAvLyBBY3R1YWxseSBkcmF3XG4gICAgICAgIHRoaXMucGFpbnRlci5yZW5kZXIodGhpcy5zdHlsZSwge1xuICAgICAgICAgICAgc2hvd1RpbGVCb3VuZGFyaWVzOiB0aGlzLnNob3dUaWxlQm91bmRhcmllcyxcbiAgICAgICAgICAgIHNob3dPdmVyZHJhd0luc3BlY3RvcjogdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yLFxuICAgICAgICAgICAgcm90YXRpbmc6IHRoaXMuaXNSb3RhdGluZygpLFxuICAgICAgICAgICAgem9vbWluZzogdGhpcy5pc1pvb21pbmcoKSxcbiAgICAgICAgICAgIGZhZGVEdXJhdGlvbjogdGhpcy5fZmFkZUR1cmF0aW9uXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3JlbmRlcicpKTtcblxuICAgICAgICBpZiAodGhpcy5sb2FkZWQoKSAmJiAhdGhpcy5fbG9hZGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnbG9hZCcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN0eWxlICYmICh0aGlzLnN0eWxlLmhhc1RyYW5zaXRpb25zKCkgfHwgY3Jvc3NGYWRpbmcpKSB7XG4gICAgICAgICAgICB0aGlzLl9zdHlsZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNjaGVkdWxlIGFub3RoZXIgcmVuZGVyIGZyYW1lIGlmIGl0J3MgbmVlZGVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBFdmVuIHRob3VnaCBgX3N0eWxlRGlydHlgIGFuZCBgX3NvdXJjZXNEaXJ0eWAgYXJlIHJlc2V0IGluIHRoaXNcbiAgICAgICAgLy8gbWV0aG9kLCBzeW5jaHJvbm91cyBldmVudHMgZmlyZWQgZHVyaW5nIFN0eWxlI3VwZGF0ZSBvclxuICAgICAgICAvLyBTdHlsZSNfdXBkYXRlU291cmNlcyBjb3VsZCBoYXZlIGNhdXNlZCB0aGVtIHRvIGJlIHNldCBhZ2Fpbi5cbiAgICAgICAgaWYgKHRoaXMuX3NvdXJjZXNEaXJ0eSB8fCB0aGlzLl9yZXBhaW50IHx8IHRoaXMuX3N0eWxlRGlydHkgfHwgdGhpcy5fcGxhY2VtZW50RGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcmVuZGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCBhbmQgcmVsZWFzZSBhbGwgaW50ZXJuYWwgcmVzb3VyY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1hcC5cbiAgICAgKlxuICAgICAqIFRoaXMgaW5jbHVkZXMgRE9NIGVsZW1lbnRzLCBldmVudCBiaW5kaW5ncywgd2ViIHdvcmtlcnMsIGFuZCBXZWJHTCByZXNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBVc2UgdGhpcyBtZXRob2Qgd2hlbiB5b3UgYXJlIGRvbmUgdXNpbmcgdGhlIG1hcCBhbmQgd2lzaCB0byBlbnN1cmUgdGhhdCBpdCBub1xuICAgICAqIGxvbmdlciBjb25zdW1lcyBicm93c2VyIHJlc291cmNlcy4gQWZ0ZXJ3YXJkcywgeW91IG11c3Qgbm90IGNhbGwgYW55IG90aGVyXG4gICAgICogbWV0aG9kcyBvbiB0aGUgbWFwLlxuICAgICAqL1xuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc2gpIHRoaXMuX2hhc2gucmVtb3ZlKCk7XG4gICAgICAgIGJyb3dzZXIuY2FuY2VsRnJhbWUodGhpcy5fZnJhbWVJZCk7XG4gICAgICAgIHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5jbGVhcigpO1xuICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZXRTdHlsZShudWxsKTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCB0aGlzLl9vbldpbmRvd09ubGluZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IHRoaXMucGFpbnRlci5jb250ZXh0LmdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG4gICAgICAgIGlmIChleHRlbnNpb24pIGV4dGVuc2lvbi5sb3NlQ29udGV4dCgpO1xuICAgICAgICByZW1vdmVOb2RlKHRoaXMuX2NhbnZhc0NvbnRhaW5lcik7XG4gICAgICAgIHJlbW92ZU5vZGUodGhpcy5fY29udHJvbENvbnRhaW5lcik7XG4gICAgICAgIHJlbW92ZU5vZGUodGhpcy5fbWlzc2luZ0NTU0NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1tYXAnKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgncmVtb3ZlJykpO1xuICAgIH1cblxuICAgIF9yZXJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3R5bGUgJiYgIXRoaXMuX2ZyYW1lSWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lSWQgPSBicm93c2VyLmZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mcmFtZUlkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uV2luZG93T25saW5lKCkge1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG5cbiAgICBfb25XaW5kb3dSZXNpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFja1Jlc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCkucmVzaXplKCkuX3VwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbmQgc2V0cyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXAgd2lsbCByZW5kZXIgYW4gb3V0bGluZVxuICAgICAqIGFyb3VuZCBlYWNoIHRpbGUuIFRoZXNlIHRpbGUgYm91bmRhcmllcyBhcmUgdXNlZnVsIGZvciBkZWJ1Z2dpbmcuXG4gICAgICpcbiAgICAgKiBAbmFtZSBzaG93VGlsZUJvdW5kYXJpZXNcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICovXG4gICAgZ2V0IHNob3dUaWxlQm91bmRhcmllcygpOiBib29sZWFuIHsgcmV0dXJuICEhdGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzOyB9XG4gICAgc2V0IHNob3dUaWxlQm91bmRhcmllcyh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzID09PSB2YWx1ZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXMgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbmQgc2V0cyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXAgd2lsbCByZW5kZXIgYm94ZXNcbiAgICAgKiBhcm91bmQgYWxsIHN5bWJvbHMgaW4gdGhlIGRhdGEgc291cmNlLCByZXZlYWxpbmcgd2hpY2ggc3ltYm9sc1xuICAgICAqIHdlcmUgcmVuZGVyZWQgb3Igd2hpY2ggd2VyZSBoaWRkZW4gZHVlIHRvIGNvbGxpc2lvbnMuXG4gICAgICogVGhpcyBpbmZvcm1hdGlvbiBpcyB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEBuYW1lIHNob3dDb2xsaXNpb25Cb3hlc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKi9cbiAgICBnZXQgc2hvd0NvbGxpc2lvbkJveGVzKCk6IGJvb2xlYW4geyByZXR1cm4gISF0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM7IH1cbiAgICBzZXQgc2hvd0NvbGxpc2lvbkJveGVzKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMgPT09IHZhbHVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyA9IHZhbHVlO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgdHVybiBjb2xsaXNpb24gYm94ZXMgb24gd2UgaGF2ZSB0byBnZW5lcmF0ZSB0aGVtIGZvciBleGlzdGluZyB0aWxlc1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSB0dXJuIHRoZW0gb2ZmLCB0aGVyZSdzIG5vIGNvc3QgdG8gbGVhdmluZyBleGlzdGluZyBib3hlcyBpbiBwbGFjZVxuICAgICAgICAgICAgdGhpcy5zdHlsZS5fZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBjYWxsIGFuIHVwZGF0ZSB0byByZW1vdmUgY29sbGlzaW9uIGJveGVzXG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgICogR2V0cyBhbmQgc2V0cyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXAgc2hvdWxkIGNvbG9yLWNvZGVcbiAgICAgKiBlYWNoIGZyYWdtZW50IHRvIHNob3cgaG93IG1hbnkgdGltZXMgaXQgaGFzIGJlZW4gc2hhZGVkLlxuICAgICAqIFdoaXRlIGZyYWdtZW50cyBoYXZlIGJlZW4gc2hhZGVkIDggb3IgbW9yZSB0aW1lcy5cbiAgICAgKiBCbGFjayBmcmFnbWVudHMgaGF2ZSBiZWVuIHNoYWRlZCAwIHRpbWVzLlxuICAgICAqIFRoaXMgaW5mb3JtYXRpb24gaXMgdXNlZnVsIGZvciBkZWJ1Z2dpbmcuXG4gICAgICpcbiAgICAgKiBAbmFtZSBzaG93T3ZlcmRyYXdcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgTWFwXG4gICAgICovXG4gICAgZ2V0IHNob3dPdmVyZHJhd0luc3BlY3RvcigpOiBib29sZWFuIHsgcmV0dXJuICEhdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yOyB9XG4gICAgc2V0IHNob3dPdmVyZHJhd0luc3BlY3Rvcih2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yID09PSB2YWx1ZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbmQgc2V0cyBhIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXAgd2lsbFxuICAgICAqIGNvbnRpbnVvdXNseSByZXBhaW50LiBUaGlzIGluZm9ybWF0aW9uIGlzIHVzZWZ1bCBmb3IgYW5hbHl6aW5nIHBlcmZvcm1hbmNlLlxuICAgICAqXG4gICAgICogQG5hbWUgcmVwYWludFxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBNYXBcbiAgICAgKi9cbiAgICBnZXQgcmVwYWludCgpOiBib29sZWFuIHsgcmV0dXJuICEhdGhpcy5fcmVwYWludDsgfVxuICAgIHNldCByZXBhaW50KHZhbHVlOiBib29sZWFuKSB7IHRoaXMuX3JlcGFpbnQgPSB2YWx1ZTsgdGhpcy5fdXBkYXRlKCk7IH1cblxuICAgIC8vIHNob3cgdmVydGljZXNcbiAgICBnZXQgdmVydGljZXMoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMuX3ZlcnRpY2VzOyB9XG4gICAgc2V0IHZlcnRpY2VzKHZhbHVlOiBib29sZWFuKSB7IHRoaXMuX3ZlcnRpY2VzID0gdmFsdWU7IHRoaXMuX3VwZGF0ZSgpOyB9XG5cbiAgICBfb25EYXRhKGV2ZW50OiBNYXBEYXRhRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlKGV2ZW50LmRhdGFUeXBlID09PSAnc3R5bGUnKTtcbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudChgJHtldmVudC5kYXRhVHlwZX1kYXRhYCwgZXZlbnQpKTtcbiAgICB9XG5cbiAgICBfb25EYXRhTG9hZGluZyhldmVudDogTWFwRGF0YUV2ZW50KSB7XG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoYCR7ZXZlbnQuZGF0YVR5cGV9ZGF0YWxvYWRpbmdgLCBldmVudCkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFwO1xuXG5mdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcbiAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICB9XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBpbnRlcmFjdGl2ZSBjb250cm9scyBhZGRlZCB0byB0aGUgbWFwLiBUaGlzIGlzIGFuXG4gKiBzcGVjaWZpY2F0aW9uIGZvciBpbXBsZW1lbnRlcnMgdG8gbW9kZWw6IGl0IGlzIG5vdFxuICogYW4gZXhwb3J0ZWQgbWV0aG9kIG9yIGNsYXNzLlxuICpcbiAqIENvbnRyb2xzIG11c3QgaW1wbGVtZW50IGBvbkFkZGAgYW5kIGBvblJlbW92ZWAsIGFuZCBtdXN0IG93biBhblxuICogZWxlbWVudCwgd2hpY2ggaXMgb2Z0ZW4gYSBgZGl2YCBlbGVtZW50LiBUbyB1c2UgTWFwYm94IEdMIEpTJ3NcbiAqIGRlZmF1bHQgY29udHJvbCBzdHlsaW5nLCBhZGQgdGhlIGBtYXBib3hnbC1jdHJsYCBjbGFzcyB0byB5b3VyIGNvbnRyb2wnc1xuICogbm9kZS5cbiAqXG4gKiBAaW50ZXJmYWNlIElDb250cm9sXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udHJvbCBpbXBsZW1lbnRlZCBhcyBFUzYgY2xhc3NcbiAqIGNsYXNzIEhlbGxvV29ybGRDb250cm9sIHtcbiAqICAgICBvbkFkZChtYXApIHtcbiAqICAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICogICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAqICAgICAgICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTmFtZSA9ICdtYXBib3hnbC1jdHJsJztcbiAqICAgICAgICAgdGhpcy5fY29udGFpbmVyLnRleHRDb250ZW50ID0gJ0hlbGxvLCB3b3JsZCc7XG4gKiAgICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gKiAgICAgfVxuICpcbiAqICAgICBvblJlbW92ZSgpIHtcbiAqICAgICAgICAgdGhpcy5fY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKTtcbiAqICAgICAgICAgdGhpcy5fbWFwID0gdW5kZWZpbmVkO1xuICogICAgIH1cbiAqIH1cbiAqXG4gKiAvLyBDb250cm9sIGltcGxlbWVudGVkIGFzIEVTNSBwcm90b3R5cGljYWwgY2xhc3NcbiAqIGZ1bmN0aW9uIEhlbGxvV29ybGRDb250cm9sKCkgeyB9XG4gKlxuICogSGVsbG9Xb3JsZENvbnRyb2wucHJvdG90eXBlLm9uQWRkID0gZnVuY3Rpb24obWFwKSB7XG4gKiAgICAgdGhpcy5fbWFwID0gbWFwO1xuICogICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICogICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc05hbWUgPSAnbWFwYm94Z2wtY3RybCc7XG4gKiAgICAgdGhpcy5fY29udGFpbmVyLnRleHRDb250ZW50ID0gJ0hlbGxvLCB3b3JsZCc7XG4gKiAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAqIH07XG4gKlxuICogSGVsbG9Xb3JsZENvbnRyb2wucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICogICAgICB0aGlzLl9jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpO1xuICogICAgICB0aGlzLl9tYXAgPSB1bmRlZmluZWQ7XG4gKiB9O1xuICovXG5cbi8qKlxuICogUmVnaXN0ZXIgYSBjb250cm9sIG9uIHRoZSBtYXAgYW5kIGdpdmUgaXQgYSBjaGFuY2UgdG8gcmVnaXN0ZXIgZXZlbnQgbGlzdGVuZXJzXG4gKiBhbmQgcmVzb3VyY2VzLiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkge0BsaW5rIE1hcCNhZGRDb250cm9sfVxuICogaW50ZXJuYWxseS5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBJQ29udHJvbFxuICogQGluc3RhbmNlXG4gKiBAbmFtZSBvbkFkZFxuICogQHBhcmFtIHtNYXB9IG1hcCB0aGUgTWFwIHRoaXMgY29udHJvbCB3aWxsIGJlIGFkZGVkIHRvXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IFRoZSBjb250cm9sJ3MgY29udGFpbmVyIGVsZW1lbnQuIFRoaXMgc2hvdWxkXG4gKiBiZSBjcmVhdGVkIGJ5IHRoZSBjb250cm9sIGFuZCByZXR1cm5lZCBieSBvbkFkZCB3aXRob3V0IGJlaW5nIGF0dGFjaGVkXG4gKiB0byB0aGUgRE9NOiB0aGUgbWFwIHdpbGwgaW5zZXJ0IHRoZSBjb250cm9sJ3MgZWxlbWVudCBpbnRvIHRoZSBET01cbiAqIGFzIG5lY2Vzc2FyeS5cbiAqL1xuXG4vKipcbiAqIFVucmVnaXN0ZXIgYSBjb250cm9sIG9uIHRoZSBtYXAgYW5kIGdpdmUgaXQgYSBjaGFuY2UgdG8gZGV0YWNoIGV2ZW50IGxpc3RlbmVyc1xuICogYW5kIHJlc291cmNlcy4gVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IHtAbGluayBNYXAjcmVtb3ZlQ29udHJvbH1cbiAqIGludGVybmFsbHkuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgSUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQG5hbWUgb25SZW1vdmVcbiAqIEBwYXJhbSB7TWFwfSBtYXAgdGhlIE1hcCB0aGlzIGNvbnRyb2wgd2lsbCBiZSByZW1vdmVkIGZyb21cbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9IHRoZXJlIGlzIG5vIHJlcXVpcmVkIHJldHVybiB2YWx1ZSBmb3IgdGhpcyBtZXRob2RcbiAqL1xuXG4vKipcbiAqIE9wdGlvbmFsbHkgcHJvdmlkZSBhIGRlZmF1bHQgcG9zaXRpb24gZm9yIHRoaXMgY29udHJvbC4gSWYgdGhpcyBtZXRob2RcbiAqIGlzIGltcGxlbWVudGVkIGFuZCB7QGxpbmsgTWFwI2FkZENvbnRyb2x9IGlzIGNhbGxlZCB3aXRob3V0IHRoZSBgcG9zaXRpb25gXG4gKiBwYXJhbWV0ZXIsIHRoZSB2YWx1ZSByZXR1cm5lZCBieSBnZXREZWZhdWx0UG9zaXRpb24gd2lsbCBiZSB1c2VkIGFzIHRoZVxuICogY29udHJvbCdzIHBvc2l0aW9uLlxuICpcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIElDb250cm9sXG4gKiBAaW5zdGFuY2VcbiAqIEBuYW1lIGdldERlZmF1bHRQb3NpdGlvblxuICogQHJldHVybnMge3N0cmluZ30gYSBjb250cm9sIHBvc2l0aW9uLCBvbmUgb2YgdGhlIHZhbHVlcyB2YWxpZCBpbiBhZGRDb250cm9sLlxuICovXG5cbi8qKlxuICogQSBbYFBvaW50YCBnZW9tZXRyeV0oaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9wb2ludC1nZW9tZXRyeSkgb2JqZWN0LCB3aGljaCBoYXNcbiAqIGB4YCBhbmQgYHlgIHByb3BlcnRpZXMgcmVwcmVzZW50aW5nIHNjcmVlbiBjb29yZGluYXRlcyBpbiBwaXhlbHMuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gUG9pbnRcbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIFBvaW50fSBvciBhbiBhcnJheSBvZiB0d28gbnVtYmVycyByZXByZXNlbnRpbmcgYHhgIGFuZCBgeWAgc2NyZWVuIGNvb3JkaW5hdGVzIGluIHBpeGVscy5cbiAqXG4gKiBAdHlwZWRlZiB7KFBvaW50IHwgQXJyYXk8bnVtYmVyPil9IFBvaW50TGlrZVxuICovXG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgRE9NIGZyb20gJy4uLy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGV4dGVuZCwgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgRHJhZ1JvdGF0ZUhhbmRsZXIgZnJvbSAnLi4vaGFuZGxlci9kcmFnX3JvdGF0ZSc7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuLi9tYXAnO1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gICAgc2hvd0NvbXBhc3M/OiBib29sZWFuLFxuICAgIHNob3dab29tPzogYm9vbGVhblxufTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnM6IE9wdGlvbnMgPSB7XG4gICAgc2hvd0NvbXBhc3M6IHRydWUsXG4gICAgc2hvd1pvb206IHRydWVcbn07XG5cbi8qKlxuICogQSBgTmF2aWdhdGlvbkNvbnRyb2xgIGNvbnRyb2wgY29udGFpbnMgem9vbSBidXR0b25zIGFuZCBhIGNvbXBhc3MuXG4gKlxuICogQGltcGxlbWVudHMge0lDb250cm9sfVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zaG93Q29tcGFzcz10cnVlXSBJZiBgdHJ1ZWAgdGhlIGNvbXBhc3MgYnV0dG9uIGlzIGluY2x1ZGVkLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zaG93Wm9vbT10cnVlXSBJZiBgdHJ1ZWAgdGhlIHpvb20taW4gYW5kIHpvb20tb3V0IGJ1dHRvbnMgYXJlIGluY2x1ZGVkLlxuICogQGV4YW1wbGVcbiAqIHZhciBuYXYgPSBuZXcgbWFwYm94Z2wuTmF2aWdhdGlvbkNvbnRyb2woKTtcbiAqIG1hcC5hZGRDb250cm9sKG5hdiwgJ3RvcC1sZWZ0Jyk7XG4gKiBAc2VlIFtEaXNwbGF5IG1hcCBuYXZpZ2F0aW9uIGNvbnRyb2xzXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL25hdmlnYXRpb24vKVxuICogQHNlZSBbQWRkIGEgdGhpcmQgcGFydHkgdmVjdG9yIHRpbGUgc291cmNlXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3RoaXJkLXBhcnR5LylcbiAqL1xuY2xhc3MgTmF2aWdhdGlvbkNvbnRyb2wge1xuICAgIF9tYXA6IE1hcDtcbiAgICBvcHRpb25zOiBPcHRpb25zO1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF96b29tSW5CdXR0b246IEhUTUxFbGVtZW50O1xuICAgIF96b29tT3V0QnV0dG9uOiBIVE1MRWxlbWVudDtcbiAgICBfY29tcGFzczogSFRNTEVsZW1lbnQ7XG4gICAgX2NvbXBhc3NBcnJvdzogSFRNTEVsZW1lbnQ7XG4gICAgX2hhbmRsZXI6IERyYWdSb3RhdGVIYW5kbGVyO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogT3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwJyk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1pvb20pIHtcbiAgICAgICAgICAgIHRoaXMuX3pvb21JbkJ1dHRvbiA9IHRoaXMuX2NyZWF0ZUJ1dHRvbignbWFwYm94Z2wtY3RybC1pY29uIG1hcGJveGdsLWN0cmwtem9vbS1pbicsICdab29tIEluJywgKCkgPT4gdGhpcy5fbWFwLnpvb21JbigpKTtcbiAgICAgICAgICAgIHRoaXMuX3pvb21PdXRCdXR0b24gPSB0aGlzLl9jcmVhdGVCdXR0b24oJ21hcGJveGdsLWN0cmwtaWNvbiBtYXBib3hnbC1jdHJsLXpvb20tb3V0JywgJ1pvb20gT3V0JywgKCkgPT4gdGhpcy5fbWFwLnpvb21PdXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93Q29tcGFzcykge1xuICAgICAgICAgICAgYmluZEFsbChbXG4gICAgICAgICAgICAgICAgJ19yb3RhdGVDb21wYXNzQXJyb3cnXG4gICAgICAgICAgICBdLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBhc3MgPSB0aGlzLl9jcmVhdGVCdXR0b24oJ21hcGJveGdsLWN0cmwtaWNvbiBtYXBib3hnbC1jdHJsLWNvbXBhc3MnLCAnUmVzZXQgTm9ydGgnLCAoKSA9PiB0aGlzLl9tYXAucmVzZXROb3J0aCgpKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBhc3NBcnJvdyA9IERPTS5jcmVhdGUoJ3NwYW4nLCAnbWFwYm94Z2wtY3RybC1jb21wYXNzLWFycm93JywgdGhpcy5fY29tcGFzcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcm90YXRlQ29tcGFzc0Fycm93KCkge1xuICAgICAgICBjb25zdCByb3RhdGUgPSBgcm90YXRlKCR7dGhpcy5fbWFwLnRyYW5zZm9ybS5hbmdsZSAqICgxODAgLyBNYXRoLlBJKX1kZWcpYDtcbiAgICAgICAgdGhpcy5fY29tcGFzc0Fycm93LnN0eWxlLnRyYW5zZm9ybSA9IHJvdGF0ZTtcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vbigncm90YXRlJywgdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KTtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdygpO1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlciA9IG5ldyBEcmFnUm90YXRlSGFuZGxlcihtYXAsIHtidXR0b246ICdsZWZ0JywgZWxlbWVudDogdGhpcy5fY29tcGFzc30pO1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlci5lbmFibGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5vZmYoJ3JvdGF0ZScsIHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVyLmRpc2FibGUoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9oYW5kbGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuX21hcDtcbiAgICB9XG5cbiAgICBfY3JlYXRlQnV0dG9uKGNsYXNzTmFtZTogc3RyaW5nLCBhcmlhTGFiZWw6IHN0cmluZywgZm46ICgpID0+IG1peGVkKSB7XG4gICAgICAgIGNvbnN0IGEgPSBET00uY3JlYXRlKCdidXR0b24nLCBjbGFzc05hbWUsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIGEudHlwZSA9ICdidXR0b24nO1xuICAgICAgICBhLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGFyaWFMYWJlbCk7XG4gICAgICAgIGEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmbik7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmF2aWdhdGlvbkNvbnRyb2w7XG4iLCIvLyBAZmxvd1xuXG5leHBvcnQgdHlwZSBBbmNob3IgPVxuICAgIHwgJ2NlbnRlcidcbiAgICB8ICd0b3AnXG4gICAgfCAnYm90dG9tJ1xuICAgIHwgJ2xlZnQnXG4gICAgfCAncmlnaHQnXG4gICAgfCAndG9wLWxlZnQnXG4gICAgfCAndG9wLXJpZ2h0J1xuICAgIHwgJ2JvdHRvbS1sZWZ0J1xuICAgIHwgJ2JvdHRvbS1yaWdodCc7XG5cbmV4cG9ydCBjb25zdCBhbmNob3JUcmFuc2xhdGU6IHtbQW5jaG9yXTogc3RyaW5nfSA9IHtcbiAgICAnY2VudGVyJzogJ3RyYW5zbGF0ZSgtNTAlLC01MCUpJyxcbiAgICAndG9wJzogJ3RyYW5zbGF0ZSgtNTAlLDApJyxcbiAgICAndG9wLWxlZnQnOiAndHJhbnNsYXRlKDAsMCknLFxuICAgICd0b3AtcmlnaHQnOiAndHJhbnNsYXRlKC0xMDAlLDApJyxcbiAgICAnYm90dG9tJzogJ3RyYW5zbGF0ZSgtNTAlLC0xMDAlKScsXG4gICAgJ2JvdHRvbS1sZWZ0JzogJ3RyYW5zbGF0ZSgwLC0xMDAlKScsXG4gICAgJ2JvdHRvbS1yaWdodCc6ICd0cmFuc2xhdGUoLTEwMCUsLTEwMCUpJyxcbiAgICAnbGVmdCc6ICd0cmFuc2xhdGUoMCwtNTAlKScsXG4gICAgJ3JpZ2h0JzogJ3RyYW5zbGF0ZSgtMTAwJSwtNTAlKSdcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUFuY2hvckNsYXNzKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBhbmNob3I6IEFuY2hvciwgcHJlZml4OiBzdHJpbmcpIHtcbiAgICBjb25zdCBjbGFzc0xpc3QgPSBlbGVtZW50LmNsYXNzTGlzdDtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhbmNob3JUcmFuc2xhdGUpIHtcbiAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShgbWFwYm94Z2wtJHtwcmVmaXh9LWFuY2hvci0ke2tleX1gKTtcbiAgICB9XG4gICAgY2xhc3NMaXN0LmFkZChgbWFwYm94Z2wtJHtwcmVmaXh9LWFuY2hvci0ke2FuY2hvcn1gKTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHdpbmRvdyBmcm9tICcuLi91dGlsL3dpbmRvdyc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCBQb2ludCBmcm9tICdAbWFwYm94L3BvaW50LWdlb21ldHJ5JztcbmltcG9ydCBzbWFydFdyYXAgZnJvbSAnLi4vdXRpbC9zbWFydF93cmFwJztcbmltcG9ydCB7IGJpbmRBbGwsIGV4dGVuZCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgeyB0eXBlIEFuY2hvciwgYW5jaG9yVHJhbnNsYXRlLCBhcHBseUFuY2hvckNsYXNzIH0gZnJvbSAnLi9hbmNob3InO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHR5cGUgUG9wdXAgZnJvbSAnLi9wb3B1cCc7XG5pbXBvcnQgdHlwZSB7TG5nTGF0TGlrZX0gZnJvbSBcIi4uL2dlby9sbmdfbGF0XCI7XG5pbXBvcnQgdHlwZSB7TWFwTW91c2VFdmVudH0gZnJvbSAnLi9ldmVudHMnO1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gICAgZWxlbWVudD86IEhUTUxFbGVtZW50LFxuICAgIG9mZnNldD86IFBvaW50TGlrZSxcbiAgICBhbmNob3I/OiBBbmNob3Jcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcmtlciBjb21wb25lbnRcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gb3B0aW9ucy5lbGVtZW50IERPTSBlbGVtZW50IHRvIHVzZSBhcyBhIG1hcmtlci4gVGhlIGRlZmF1bHQgaXMgYSBsaWdodCBibHVlLCBkcm9wbGV0LXNoYXBlZCBTVkcgbWFya2VyLlxuICogQHBhcmFtIG9wdGlvbnMuYW5jaG9yIEEgc3RyaW5nIGluZGljYXRpbmcgdGhlIHBhcnQgb2YgdGhlIE1hcmtlciB0aGF0IHNob3VsZCBiZSBwb3NpdGlvbmVkIGNsb3Nlc3QgdG8gdGhlIGNvb3JkaW5hdGUgc2V0IHZpYSB7QGxpbmsgTWFya2VyI3NldExuZ0xhdH0uXG4gKiAgIE9wdGlvbnMgYXJlIGAnY2VudGVyJ2AsIGAndG9wJ2AsIGAnYm90dG9tJ2AsIGAnbGVmdCdgLCBgJ3JpZ2h0J2AsIGAndG9wLWxlZnQnYCwgYCd0b3AtcmlnaHQnYCwgYCdib3R0b20tbGVmdCdgLCBhbmQgYCdib3R0b20tcmlnaHQnYC5cbiAqICAgVGhlIGRlZmF1bHQgaXMgYCdjZW50ZXInYC5cbiAqIEBwYXJhbSBvcHRpb25zLm9mZnNldCBUaGUgb2Zmc2V0IGluIHBpeGVscyBhcyBhIHtAbGluayBQb2ludExpa2V9IG9iamVjdCB0byBhcHBseSByZWxhdGl2ZSB0byB0aGUgZWxlbWVudCdzIGNlbnRlci4gTmVnYXRpdmVzIGluZGljYXRlIGxlZnQgYW5kIHVwLlxuICogQGV4YW1wbGVcbiAqIHZhciBtYXJrZXIgPSBuZXcgbWFwYm94Z2wuTWFya2VyKClcbiAqICAgLnNldExuZ0xhdChbMzAuNSwgNTAuNV0pXG4gKiAgIC5hZGRUbyhtYXApO1xuICogQHNlZSBbQWRkIGN1c3RvbSBpY29ucyB3aXRoIE1hcmtlcnNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY3VzdG9tLW1hcmtlci1pY29ucy8pXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcmtlciB7XG4gICAgX21hcDogTWFwO1xuICAgIF9hbmNob3I6IEFuY2hvcjtcbiAgICBfb2Zmc2V0OiBQb2ludDtcbiAgICBfZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgX3BvcHVwOiA/UG9wdXA7XG4gICAgX2xuZ0xhdDogTG5nTGF0O1xuICAgIF9wb3M6ID9Qb2ludDtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBPcHRpb25zKSB7XG4gICAgICAgIC8vIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IC0tIHRoZSBjb25zdHJ1Y3RvciB1c2VkIHRvIGFjY2VwdCB0aGUgZWxlbWVudCBhcyBhXG4gICAgICAgIC8vIHJlcXVpcmVkIGZpcnN0IGFyZ3VtZW50LCBiZWZvcmUgaXQgd2FzIG1hZGUgb3B0aW9uYWwuXG4gICAgICAgIGlmIChhcmd1bWVudHNbMF0gaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7ZWxlbWVudDogb3B0aW9uc30sIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgIH1cblxuICAgICAgICBiaW5kQWxsKFsnX3VwZGF0ZScsICdfb25NYXBDbGljayddLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9hbmNob3IgPSBvcHRpb25zICYmIG9wdGlvbnMuYW5jaG9yIHx8ICdjZW50ZXInO1xuXG4gICAgICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gRE9NLmNyZWF0ZSgnZGl2Jyk7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBkZWZhdWx0IG1hcCBtYXJrZXIgU1ZHXG4gICAgICAgICAgICBjb25zdCBzdmcgPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xuICAgICAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICdoZWlnaHQnLCAnNDFweCcpO1xuICAgICAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICd3aWR0aCcsICcyN3B4Jyk7XG4gICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3ZpZXdCb3gnLCAnMCAwIDI3IDQxJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1hcmtlckxhcmdlID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG4gICAgICAgICAgICBtYXJrZXJMYXJnZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnc3Ryb2tlJywgJ25vbmUnKTtcbiAgICAgICAgICAgIG1hcmtlckxhcmdlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdzdHJva2Utd2lkdGgnLCAnMScpO1xuICAgICAgICAgICAgbWFya2VyTGFyZ2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCAnbm9uZScpO1xuICAgICAgICAgICAgbWFya2VyTGFyZ2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwtcnVsZScsICdldmVub2RkJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhZ2UxID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG4gICAgICAgICAgICBwYWdlMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbC1ydWxlJywgJ25vbnplcm8nKTtcblxuICAgICAgICAgICAgY29uc3Qgc2hhZG93ID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG4gICAgICAgICAgICBzaGFkb3cuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMy4wLCAyOS4wKScpO1xuICAgICAgICAgICAgc2hhZG93LnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgJyMwMDAwMDAnKTtcblxuICAgICAgICAgICAgY29uc3QgZWxsaXBzZXMgPSBbXG4gICAgICAgICAgICAgICAgeydyeCc6ICcxMC41JywgJ3J5JzogJzUuMjUwMDIyNzMnfSxcbiAgICAgICAgICAgICAgICB7J3J4JzogJzEwLjUnLCAncnknOiAnNS4yNTAwMjI3Myd9LFxuICAgICAgICAgICAgICAgIHsncngnOiAnOS41JywgJ3J5JzogJzQuNzcyNzUwMDcnfSxcbiAgICAgICAgICAgICAgICB7J3J4JzogJzguNScsICdyeSc6ICc0LjI5NTQ5OTM2J30sXG4gICAgICAgICAgICAgICAgeydyeCc6ICc3LjUnLCAncnknOiAnMy44MTgyMjMwOCd9LFxuICAgICAgICAgICAgICAgIHsncngnOiAnNi41JywgJ3J5JzogJzMuMzQwOTQ2NzknfSxcbiAgICAgICAgICAgICAgICB7J3J4JzogJzUuNScsICdyeSc6ICcyLjg2MzY3MDUxJ30sXG4gICAgICAgICAgICAgICAgeydyeCc6ICc0LjUnLCAncnknOiAnMi4zODYzNjg2NCd9XG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRhdGEgb2YgZWxsaXBzZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGxpcHNlID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdlbGxpcHNlJyk7XG4gICAgICAgICAgICAgICAgZWxsaXBzZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnb3BhY2l0eScsICcwLjA0Jyk7XG4gICAgICAgICAgICAgICAgZWxsaXBzZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3gnLCAnMTAuNScpO1xuICAgICAgICAgICAgICAgIGVsbGlwc2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2N5JywgJzUuODAwMjkwMDgnKTtcbiAgICAgICAgICAgICAgICBlbGxpcHNlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdyeCcsIGRhdGFbJ3J4J10pO1xuICAgICAgICAgICAgICAgIGVsbGlwc2Uuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3J5JywgZGF0YVsncnknXSk7XG4gICAgICAgICAgICAgICAgc2hhZG93LmFwcGVuZENoaWxkKGVsbGlwc2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgJyMzRkIxQ0UnKTtcblxuICAgICAgICAgICAgY29uc3QgYmdQYXRoID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG4gICAgICAgICAgICBiZ1BhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCAnTTI3LDEzLjUgQzI3LDE5LjA3NDY0NCAyMC4yNTAwMDEsMjcuMDAwMDAyIDE0Ljc1LDM0LjUwMDAwMiBDMTQuMDE2NjY1LDM1LjUwMDAwNCAxMi45ODMzMzUsMzUuNTAwMDA0IDEyLjI1LDM0LjUwMDAwMiBDNi43NDk5OTkzLDI3LjAwMDAwMiAwLDE5LjIyMjU2MiAwLDEzLjUgQzAsNi4wNDQxNTU5IDYuMDQ0MTU1OSwwIDEzLjUsMCBDMjAuOTU1ODQ0LDAgMjcsNi4wNDQxNTU5IDI3LDEzLjUgWicpO1xuXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLmFwcGVuZENoaWxkKGJnUGF0aCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGJvcmRlciA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICAgICAgICAgICAgYm9yZGVyLnNldEF0dHJpYnV0ZU5TKG51bGwsICdvcGFjaXR5JywgJzAuMjUnKTtcbiAgICAgICAgICAgIGJvcmRlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsICcjMDAwMDAwJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGJvcmRlclBhdGggPSBET00uY3JlYXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcbiAgICAgICAgICAgIGJvcmRlclBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCAnTTEzLjUsMCBDNi4wNDQxNTU5LDAgMCw2LjA0NDE1NTkgMCwxMy41IEMwLDE5LjIyMjU2MiA2Ljc0OTk5OTMsMjcgMTIuMjUsMzQuNSBDMTMsMzUuNTIyNzI3IDE0LjAxNjY2NCwzNS41MDAwMDQgMTQuNzUsMzQuNSBDMjAuMjUwMDAxLDI3IDI3LDE5LjA3NDY0NCAyNywxMy41IEMyNyw2LjA0NDE1NTkgMjAuOTU1ODQ0LDAgMTMuNSwwIFogTTEzLjUsMSBDMjAuNDE1NDA0LDEgMjYsNi41ODQ1OTYgMjYsMTMuNSBDMjYsMTUuODk4NjU3IDI0LjQ5NTU4NCwxOS4xODE0MzEgMjIuMjIwNzAzLDIyLjczODI4MSBDMTkuOTQ1ODIzLDI2LjI5NTEzMiAxNi43MDUxMTksMzAuMTQyMTY3IDEzLjk0MzM1OSwzMy45MDgyMDMgQzEzLjc0MzQ0NSwzNC4xODA4MTQgMTMuNjEyNzE1LDM0LjMyMjczOCAxMy41LDM0LjQ0MTQwNiBDMTMuMzg3Mjg1LDM0LjMyMjczOCAxMy4yNTY1NTUsMzQuMTgwODE0IDEzLjA1NjY0MSwzMy45MDgyMDMgQzEwLjI4NDQ4MSwzMC4xMjc5ODUgNy40MTQ4Njg0LDI2LjMxNDE1OSA1LjAxNTYyNSwyMi43NzM0MzggQzIuNjE2MzgxNiwxOS4yMzI3MTUgMSwxNS45NTM1MzggMSwxMy41IEMxLDYuNTg0NTk2IDYuNTg0NTk2LDEgMTMuNSwxIFonKTtcblxuICAgICAgICAgICAgYm9yZGVyLmFwcGVuZENoaWxkKGJvcmRlclBhdGgpO1xuXG4gICAgICAgICAgICBjb25zdCBtYWtpID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG4gICAgICAgICAgICBtYWtpLnNldEF0dHJpYnV0ZU5TKG51bGwsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDYuMCwgNy4wKScpO1xuICAgICAgICAgICAgbWFraS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsICcjRkZGRkZGJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNpcmNsZUNvbnRhaW5lciA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICAgICAgICAgICAgY2lyY2xlQ29udGFpbmVyLnNldEF0dHJpYnV0ZU5TKG51bGwsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDguMCwgOC4wKScpO1xuXG4gICAgICAgICAgICBjb25zdCBjaXJjbGUxID0gRE9NLmNyZWF0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdjaXJjbGUnKTtcbiAgICAgICAgICAgIGNpcmNsZTEuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCAnIzAwMDAwMCcpO1xuICAgICAgICAgICAgY2lyY2xlMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnb3BhY2l0eScsICcwLjI1Jyk7XG4gICAgICAgICAgICBjaXJjbGUxLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeCcsICc1LjUnKTtcbiAgICAgICAgICAgIGNpcmNsZTEuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2N5JywgJzUuNScpO1xuICAgICAgICAgICAgY2lyY2xlMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncicsICc1LjQ5OTk5NjInKTtcblxuICAgICAgICAgICAgY29uc3QgY2lyY2xlMiA9IERPTS5jcmVhdGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnY2lyY2xlJyk7XG4gICAgICAgICAgICBjaXJjbGUyLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgJyNGRkZGRkYnKTtcbiAgICAgICAgICAgIGNpcmNsZTIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2N4JywgJzUuNScpO1xuICAgICAgICAgICAgY2lyY2xlMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3knLCAnNS41Jyk7XG4gICAgICAgICAgICBjaXJjbGUyLnNldEF0dHJpYnV0ZU5TKG51bGwsICdyJywgJzUuNDk5OTk2MicpO1xuXG4gICAgICAgICAgICBjaXJjbGVDb250YWluZXIuYXBwZW5kQ2hpbGQoY2lyY2xlMSk7XG4gICAgICAgICAgICBjaXJjbGVDb250YWluZXIuYXBwZW5kQ2hpbGQoY2lyY2xlMik7XG5cbiAgICAgICAgICAgIHBhZ2UxLmFwcGVuZENoaWxkKHNoYWRvdyk7XG4gICAgICAgICAgICBwYWdlMS5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgIHBhZ2UxLmFwcGVuZENoaWxkKGJvcmRlcik7XG4gICAgICAgICAgICBwYWdlMS5hcHBlbmRDaGlsZChtYWtpKTtcbiAgICAgICAgICAgIHBhZ2UxLmFwcGVuZENoaWxkKGNpcmNsZUNvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYWdlMSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuYXBwZW5kQ2hpbGQoc3ZnKTtcblxuICAgICAgICAgICAgLy8gaWYgbm8gZWxlbWVudCBhbmQgbm8gb2Zmc2V0IG9wdGlvbiBnaXZlbiBhcHBseSBhbiBvZmZzZXQgZm9yIHRoZSBkZWZhdWx0IG1hcmtlclxuICAgICAgICAgICAgLy8gdGhlIC0xNCBhcyB0aGUgeSB2YWx1ZSBvZiB0aGUgZGVmYXVsdCBtYXJrZXIgb2Zmc2V0IHdhcyBkZXRlcm1pbmVkIGFzIGZvbGxvd3NcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyB0aGUgbWFya2VyIHRpcCBpcyBhdCB0aGUgY2VudGVyIG9mIHRoZSBzaGFkb3cgZWxsaXBzZSBmcm9tIHRoZSBkZWZhdWx0IHN2Z1xuICAgICAgICAgICAgLy8gdGhlIHkgdmFsdWUgb2YgdGhlIGNlbnRlciBvZiB0aGUgc2hhZG93IGVsbGlwc2UgcmVsYXRpdmUgdG8gdGhlIHN2ZyB0b3AgbGVmdCBpcyBcInNoYWRvdyB0cmFuc2Zvcm0gdHJhbnNsYXRlLXkgKDI5LjApICsgZWxsaXBzZSBjeSAoNS44MDAyOTAwOClcIlxuICAgICAgICAgICAgLy8gb2Zmc2V0IHRvIHRoZSBzdmcgY2VudGVyIFwiaGVpZ2h0ICg0MSAvIDIpXCIgZ2l2ZXMgKDI5LjAgKyA1LjgwMDI5MDA4KSAtICg0MSAvIDIpIGFuZCByb3VuZGVkIGZvciBhbiBpbnRlZ2VyIHBpeGVsIG9mZnNldCBnaXZlcyAxNFxuICAgICAgICAgICAgLy8gbmVnYXRpdmUgaXMgdXNlZCB0byBtb3ZlIHRoZSBtYXJrZXIgdXAgZnJvbSB0aGUgY2VudGVyIHNvIHRoZSB0aXAgaXMgYXQgdGhlIE1hcmtlciBsbmdMYXRcbiAgICAgICAgICAgIHRoaXMuX29mZnNldCA9IFBvaW50LmNvbnZlcnQob3B0aW9ucyAmJiBvcHRpb25zLm9mZnNldCB8fCBbMCwgLTE0XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gUG9pbnQuY29udmVydChvcHRpb25zICYmIG9wdGlvbnMub2Zmc2V0IHx8IFswLCAwXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLW1hcmtlcicpO1xuXG4gICAgICAgIHRoaXMuX3BvcHVwID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyB0aGUgbWFya2VyIHRvIGEgbWFwXG4gICAgICogQHBhcmFtIHtNYXB9IG1hcFxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IGB0aGlzYFxuICAgICAqL1xuICAgIGFkZFRvKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICBtYXAub24oJ21vdmUnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICBtYXAub24oJ21vdmVlbmQnLCB0aGlzLl91cGRhdGUpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICAvLyBJZiB3ZSBhdHRhY2hlZCB0aGUgYGNsaWNrYCBsaXN0ZW5lciB0byB0aGUgbWFya2VyIGVsZW1lbnQsIHRoZSBwb3B1cFxuICAgICAgICAvLyB3b3VsZCBjbG9zZSBvbmNlIHRoZSBldmVudCBwcm9wb2dhdGVkIHRvIGBtYXBgIGR1ZSB0byB0aGVcbiAgICAgICAgLy8gYFBvcHVwI19vbkNsaWNrQ2xvc2VgIGxpc3RlbmVyLlxuICAgICAgICB0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5fb25NYXBDbGljayk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbWFya2VyIGZyb20gYSBtYXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBtYXJrZXIgPSBuZXcgbWFwYm94Z2wuTWFya2VyKCkuYWRkVG8obWFwKTtcbiAgICAgKiBtYXJrZXIucmVtb3ZlKCk7XG4gICAgICogQHJldHVybnMge01hcmtlcn0gYHRoaXNgXG4gICAgICovXG4gICAgcmVtb3ZlKCkge1xuICAgICAgICBpZiAodGhpcy5fbWFwKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX29uTWFwQ2xpY2spO1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9mZignbW92ZScsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLl9tYXAub2ZmKCdtb3ZlZW5kJywgdGhpcy5fdXBkYXRlKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9tYXA7XG4gICAgICAgIH1cbiAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgaWYgKHRoaXMuX3BvcHVwKSB0aGlzLl9wb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXJrZXIncyBnZW9ncmFwaGljYWwgbG9jYXRpb24uXG4gICAgICpcbiAgICAgKiBUaGUgbG9uZ2l0dWRlIG9mIHRoZSByZXN1bHQgbWF5IGRpZmZlciBieSBhIG11bHRpcGxlIG9mIDM2MCBkZWdyZWVzIGZyb20gdGhlIGxvbmdpdHVkZSBwcmV2aW91c2x5XG4gICAgICogc2V0IGJ5IGBzZXRMbmdMYXRgIGJlY2F1c2UgYE1hcmtlcmAgd3JhcHMgdGhlIGFuY2hvciBsb25naXR1ZGUgYWNyb3NzIGNvcGllcyBvZiB0aGUgd29ybGQgdG8ga2VlcFxuICAgICAqIHRoZSBtYXJrZXIgb24gc2NyZWVuLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0xuZ0xhdH1cbiAgICAgKi9cbiAgICBnZXRMbmdMYXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sbmdMYXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXJrZXIncyBnZW9ncmFwaGljYWwgcG9zaXRpb24gYW5kIG1vdmUgaXQuXG4gICAgICogQHJldHVybnMge01hcmtlcn0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0TG5nTGF0KGxuZ2xhdDogTG5nTGF0TGlrZSkge1xuICAgICAgICB0aGlzLl9sbmdMYXQgPSBMbmdMYXQuY29udmVydChsbmdsYXQpO1xuICAgICAgICB0aGlzLl9wb3MgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fcG9wdXApIHRoaXMuX3BvcHVwLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYE1hcmtlcmAncyBIVE1MIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAgICovXG4gICAgZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmluZHMgYSBQb3B1cCB0byB0aGUgTWFya2VyXG4gICAgICogQHBhcmFtIHBvcHVwIGFuIGluc3RhbmNlIG9mIHRoZSBgUG9wdXBgIGNsYXNzLiBJZiB1bmRlZmluZWQgb3IgbnVsbCwgYW55IHBvcHVwXG4gICAgICogc2V0IG9uIHRoaXMgYE1hcmtlcmAgaW5zdGFuY2UgaXMgdW5zZXRcbiAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRQb3B1cChwb3B1cDogP1BvcHVwKSB7XG4gICAgICAgIGlmICh0aGlzLl9wb3B1cCkge1xuICAgICAgICAgICAgdGhpcy5fcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLl9wb3B1cCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9wdXApIHtcbiAgICAgICAgICAgIGlmICghKCdvZmZzZXQnIGluIHBvcHVwLm9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgcG9wdXAub3B0aW9ucy5vZmZzZXQgPSB0aGlzLl9vZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9wb3B1cCA9IHBvcHVwO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xuZ0xhdCkgdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfb25NYXBDbGljayhldmVudDogTWFwTW91c2VFdmVudCkge1xuICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudC50YXJnZXQ7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50O1xuXG4gICAgICAgIGlmICh0aGlzLl9wb3B1cCAmJiAodGFyZ2V0RWxlbWVudCA9PT0gZWxlbWVudCB8fCBlbGVtZW50LmNvbnRhaW5zKCh0YXJnZXRFbGVtZW50OiBhbnkpKSkpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUG9wdXAoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFBvcHVwIGluc3RhbmNlIHRoYXQgaXMgYm91bmQgdG8gdGhlIE1hcmtlclxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gcG9wdXBcbiAgICAgKi9cbiAgICBnZXRQb3B1cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvcHVwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9wZW5zIG9yIGNsb3NlcyB0aGUgYm91bmQgcG9wdXAsIGRlcGVuZGluZyBvbiB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IGB0aGlzYFxuICAgICAqL1xuICAgIHRvZ2dsZVBvcHVwKCkge1xuICAgICAgICBjb25zdCBwb3B1cCA9IHRoaXMuX3BvcHVwO1xuXG4gICAgICAgIGlmICghcG9wdXApIHJldHVybiB0aGlzO1xuICAgICAgICBlbHNlIGlmIChwb3B1cC5pc09wZW4oKSkgcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgIGVsc2UgcG9wdXAuYWRkVG8odGhpcy5fbWFwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX3VwZGF0ZShlPzoge3R5cGU6ICdtb3ZlJyB8ICdtb3ZlZW5kJ30pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXApIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5fbWFwLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcykge1xuICAgICAgICAgICAgdGhpcy5fbG5nTGF0ID0gc21hcnRXcmFwKHRoaXMuX2xuZ0xhdCwgdGhpcy5fcG9zLCB0aGlzLl9tYXAudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3BvcyA9IHRoaXMuX21hcC5wcm9qZWN0KHRoaXMuX2xuZ0xhdCkuX2FkZCh0aGlzLl9vZmZzZXQpO1xuXG4gICAgICAgIC8vIGJlY2F1c2Ugcm91bmRpbmcgdGhlIGNvb3JkaW5hdGVzIGF0IGV2ZXJ5IGBtb3ZlYCBldmVudCBjYXVzZXMgc3R1dHRlcmVkIHpvb21pbmdcbiAgICAgICAgLy8gd2Ugb25seSByb3VuZCB0aGVtIHdoZW4gX3VwZGF0ZSBpcyBjYWxsZWQgd2l0aCBgbW92ZWVuZGAgb3Igd2hlbiBpdHMgY2FsbGVkIHdpdGhcbiAgICAgICAgLy8gbm8gYXJndW1lbnRzICh3aGVuIHRoZSBNYXJrZXIgaXMgaW5pdGlhbGl6ZWQgb3IgTWFya2VyI3NldExuZ0xhdCBpcyBpbnZva2VkKS5cbiAgICAgICAgaWYgKCFlIHx8IGUudHlwZSA9PT0gXCJtb3ZlZW5kXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX3BvcyA9IHRoaXMuX3Bvcy5yb3VuZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgRE9NLnNldFRyYW5zZm9ybSh0aGlzLl9lbGVtZW50LCBgJHthbmNob3JUcmFuc2xhdGVbdGhpcy5fYW5jaG9yXX0gdHJhbnNsYXRlKCR7dGhpcy5fcG9zLnh9cHgsICR7dGhpcy5fcG9zLnl9cHgpYCk7XG4gICAgICAgIGFwcGx5QW5jaG9yQ2xhc3ModGhpcy5fZWxlbWVudCwgdGhpcy5fYW5jaG9yLCAnbWFya2VyJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXJrZXIncyBvZmZzZXQuXG4gICAgICogQHJldHVybnMge1BvaW50fVxuICAgICAqL1xuICAgIGdldE9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29mZnNldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBvZmZzZXQgb2YgdGhlIG1hcmtlclxuICAgICAqIEBwYXJhbSB7UG9pbnRMaWtlfSBvZmZzZXQgVGhlIG9mZnNldCBpbiBwaXhlbHMgYXMgYSB7QGxpbmsgUG9pbnRMaWtlfSBvYmplY3QgdG8gYXBwbHkgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQncyBjZW50ZXIuIE5lZ2F0aXZlcyBpbmRpY2F0ZSBsZWZ0IGFuZCB1cC5cbiAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRPZmZzZXQob2Zmc2V0OiBQb2ludExpa2UpIHtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gUG9pbnQuY29udmVydChvZmZzZXQpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgRXZlbnQsIEV2ZW50ZWQgfSBmcm9tICcuLi8uLi91dGlsL2V2ZW50ZWQnO1xuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uLy4uL3V0aWwvd2luZG93JztcbmltcG9ydCB7IGV4dGVuZCwgYmluZEFsbCB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgTG5nTGF0IGZyb20gJy4uLy4uL2dlby9sbmdfbGF0JztcbmltcG9ydCBNYXJrZXIgZnJvbSAnLi4vbWFya2VyJztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5pbXBvcnQgdHlwZSB7IEFuaW1hdGlvbk9wdGlvbnMsIENhbWVyYU9wdGlvbnMgfSBmcm9tICcuLi9jYW1lcmEnO1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gICAgcG9zaXRpb25PcHRpb25zPzogUG9zaXRpb25PcHRpb25zLFxuICAgIGZpdEJvdW5kc09wdGlvbnM/OiBBbmltYXRpb25PcHRpb25zICYgQ2FtZXJhT3B0aW9ucyxcbiAgICB0cmFja1VzZXJMb2NhdGlvbj86IGJvb2xlYW4sXG4gICAgc2hvd1VzZXJMb2NhdGlvbj86IGJvb2xlYW5cbn07XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zOiBPcHRpb25zID0ge1xuICAgIHBvc2l0aW9uT3B0aW9uczoge1xuICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlLFxuICAgICAgICBtYXhpbXVtQWdlOiAwLFxuICAgICAgICB0aW1lb3V0OiA2MDAwIC8qIDYgc2VjICovXG4gICAgfSxcbiAgICBmaXRCb3VuZHNPcHRpb25zOiB7XG4gICAgICAgIG1heFpvb206IDE1XG4gICAgfSxcbiAgICB0cmFja1VzZXJMb2NhdGlvbjogZmFsc2UsXG4gICAgc2hvd1VzZXJMb2NhdGlvbjogdHJ1ZVxufTtcbmNvbnN0IGNsYXNzTmFtZSA9ICdtYXBib3hnbC1jdHJsJztcblxubGV0IHN1cHBvcnRzR2VvbG9jYXRpb247XG5cbmZ1bmN0aW9uIGNoZWNrR2VvbG9jYXRpb25TdXBwb3J0KGNhbGxiYWNrKSB7XG4gICAgaWYgKHN1cHBvcnRzR2VvbG9jYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjYWxsYmFjayhzdXBwb3J0c0dlb2xvY2F0aW9uKTtcblxuICAgIH0gZWxzZSBpZiAod2luZG93Lm5hdmlnYXRvci5wZXJtaXNzaW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIG5hdmlnYXRvci5wZXJtaXNzaW9ucyBoYXMgaW5jb21wbGV0ZSBicm93c2VyIHN1cHBvcnRcbiAgICAgICAgLy8gaHR0cDovL2Nhbml1c2UuY29tLyNmZWF0PXBlcm1pc3Npb25zLWFwaVxuICAgICAgICAvLyBUZXN0IGZvciB0aGUgY2FzZSB3aGVyZSBhIGJyb3dzZXIgZGlzYWJsZXMgR2VvbG9jYXRpb24gYmVjYXVzZSBvZiBhblxuICAgICAgICAvLyBpbnNlY3VyZSBvcmlnaW5cbiAgICAgICAgd2luZG93Lm5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7IG5hbWU6ICdnZW9sb2NhdGlvbicgfSkudGhlbigocCkgPT4ge1xuICAgICAgICAgICAgc3VwcG9ydHNHZW9sb2NhdGlvbiA9IHAuc3RhdGUgIT09ICdkZW5pZWQnO1xuICAgICAgICAgICAgY2FsbGJhY2soc3VwcG9ydHNHZW9sb2NhdGlvbik7XG4gICAgICAgIH0pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3VwcG9ydHNHZW9sb2NhdGlvbiA9ICEhd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbjtcbiAgICAgICAgY2FsbGJhY2soc3VwcG9ydHNHZW9sb2NhdGlvbik7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgYEdlb2xvY2F0ZUNvbnRyb2xgIGNvbnRyb2wgcHJvdmlkZXMgYSBidXR0b24gdGhhdCB1c2VzIHRoZSBicm93c2VyJ3MgZ2VvbG9jYXRpb25cbiAqIEFQSSB0byBsb2NhdGUgdGhlIHVzZXIgb24gdGhlIG1hcC5cbiAqXG4gKiBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgZ2VvbG9jYXRpb24sXG4gKiBhbmQgc29tZSB1c2VycyBtYXkgZGlzYWJsZSB0aGUgZmVhdHVyZS4gR2VvbG9jYXRpb24gc3VwcG9ydCBmb3IgbW9kZXJuXG4gKiBicm93c2VycyBpbmNsdWRpbmcgQ2hyb21lIHJlcXVpcmVzIHNpdGVzIHRvIGJlIHNlcnZlZCBvdmVyIEhUVFBTLiBJZlxuICogZ2VvbG9jYXRpb24gc3VwcG9ydCBpcyBub3QgYXZhaWxhYmxlLCB0aGUgR2VvbG9jYXRlQ29udHJvbCB3aWxsIG5vdFxuICogYmUgdmlzaWJsZS5cbiAqXG4gKiBUaGUgem9vbSBsZXZlbCBhcHBsaWVkIHdpbGwgZGVwZW5kIG9uIHRoZSBhY2N1cmFjeSBvZiB0aGUgZ2VvbG9jYXRpb24gcHJvdmlkZWQgYnkgdGhlIGRldmljZS5cbiAqXG4gKiBUaGUgR2VvbG9jYXRlQ29udHJvbCBoYXMgdHdvIG1vZGVzLiBJZiBgdHJhY2tVc2VyTG9jYXRpb25gIGlzIGBmYWxzZWAgKGRlZmF1bHQpIHRoZSBjb250cm9sIGFjdHMgYXMgYSBidXR0b24sIHdoaWNoIHdoZW4gcHJlc3NlZCB3aWxsIHNldCB0aGUgbWFwJ3MgY2FtZXJhIHRvIHRhcmdldCB0aGUgdXNlciBsb2NhdGlvbi4gSWYgdGhlIHVzZXIgbW92ZXMsIHRoZSBtYXAgd29uJ3QgdXBkYXRlLiBUaGlzIGlzIG1vc3Qgc3VpdGVkIGZvciB0aGUgZGVza3RvcC4gSWYgYHRyYWNrVXNlckxvY2F0aW9uYCBpcyBgdHJ1ZWAgdGhlIGNvbnRyb2wgYWN0cyBhcyBhIHRvZ2dsZSBidXR0b24gdGhhdCB3aGVuIGFjdGl2ZSB0aGUgdXNlcidzIGxvY2F0aW9uIGlzIGFjdGl2ZWx5IG1vbml0b3JlZCBmb3IgY2hhbmdlcy4gSW4gdGhpcyBtb2RlIHRoZSBHZW9sb2NhdGVDb250cm9sIGhhcyB0aHJlZSBzdGF0ZXM6XG4gKiAqIGFjdGl2ZSAtIHRoZSBtYXAncyBjYW1lcmEgYXV0b21hdGljYWxseSB1cGRhdGVzIGFzIHRoZSB1c2VyJ3MgbG9jYXRpb24gY2hhbmdlcywga2VlcGluZyB0aGUgbG9jYXRpb24gZG90IGluIHRoZSBjZW50ZXIuXG4gKiAqIHBhc3NpdmUgLSB0aGUgdXNlcidzIGxvY2F0aW9uIGRvdCBhdXRvbWF0aWNhbGx5IHVwZGF0ZXMsIGJ1dCB0aGUgbWFwJ3MgY2FtZXJhIGRvZXMgbm90LlxuICogKiBkaXNhYmxlZFxuICpcbiAqIEBpbXBsZW1lbnRzIHtJQ29udHJvbH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wb3NpdGlvbk9wdGlvbnM9e2VuYWJsZUhpZ2hBY2N1cmFjeTogZmFsc2UsIHRpbWVvdXQ6IDYwMDB9XSBBIEdlb2xvY2F0aW9uIEFQSSBbUG9zaXRpb25PcHRpb25zXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9zaXRpb25PcHRpb25zKSBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZml0Qm91bmRzT3B0aW9ucz17bWF4Wm9vbTogMTV9XSBBIFtgZml0Qm91bmRzYF0oI01hcCNmaXRCb3VuZHMpIG9wdGlvbnMgb2JqZWN0IHRvIHVzZSB3aGVuIHRoZSBtYXAgaXMgcGFubmVkIGFuZCB6b29tZWQgdG8gdGhlIHVzZXIncyBsb2NhdGlvbi4gVGhlIGRlZmF1bHQgaXMgdG8gdXNlIGEgYG1heFpvb21gIG9mIDE1IHRvIGxpbWl0IGhvdyBmYXIgdGhlIG1hcCB3aWxsIHpvb20gaW4gZm9yIHZlcnkgYWNjdXJhdGUgbG9jYXRpb25zLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uPWZhbHNlXSBJZiBgdHJ1ZWAgdGhlIEdlb2xvY2F0ZSBDb250cm9sIGJlY29tZXMgYSB0b2dnbGUgYnV0dG9uIGFuZCB3aGVuIGFjdGl2ZSB0aGUgbWFwIHdpbGwgcmVjZWl2ZSB1cGRhdGVzIHRvIHRoZSB1c2VyJ3MgbG9jYXRpb24gYXMgaXQgY2hhbmdlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5zaG93VXNlckxvY2F0aW9uPXRydWVdIEJ5IGRlZmF1bHQgYSBkb3Qgd2lsbCBiZSBzaG93biBvbiB0aGUgbWFwIGF0IHRoZSB1c2VyJ3MgbG9jYXRpb24uIFNldCB0byBgZmFsc2VgIHRvIGRpc2FibGUuXG4gKlxuICogQGV4YW1wbGVcbiAqIG1hcC5hZGRDb250cm9sKG5ldyBtYXBib3hnbC5HZW9sb2NhdGVDb250cm9sKHtcbiAqICAgICBwb3NpdGlvbk9wdGlvbnM6IHtcbiAqICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlXG4gKiAgICAgfSxcbiAqICAgICB0cmFja1VzZXJMb2NhdGlvbjogdHJ1ZVxuICogfSkpO1xuICovXG5jbGFzcyBHZW9sb2NhdGVDb250cm9sIGV4dGVuZHMgRXZlbnRlZCB7XG4gICAgX21hcDogTWFwO1xuICAgIG9wdGlvbnM6IE9wdGlvbnM7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2RvdEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIF9nZW9sb2NhdGVCdXR0b246IEhUTUxFbGVtZW50O1xuICAgIF9nZW9sb2NhdGlvbldhdGNoSUQ6IG51bWJlcjtcbiAgICBfdGltZW91dElkOiA/VGltZW91dElEO1xuICAgIF93YXRjaFN0YXRlOiBzdHJpbmc7XG4gICAgX2xhc3RLbm93blBvc2l0aW9uOiBhbnk7XG4gICAgX3VzZXJMb2NhdGlvbkRvdE1hcmtlcjogTWFya2VyO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogT3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25TdWNjZXNzJyxcbiAgICAgICAgICAgICdfb25FcnJvcicsXG4gICAgICAgICAgICAnX2ZpbmlzaCcsXG4gICAgICAgICAgICAnX3NldHVwVUknLFxuICAgICAgICAgICAgJ191cGRhdGVDYW1lcmEnLFxuICAgICAgICAgICAgJ191cGRhdGVNYXJrZXInLFxuICAgICAgICAgICAgJ19vbkNsaWNrR2VvbG9jYXRlJ1xuICAgICAgICBdLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvbkFkZChtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsIGAke2NsYXNzTmFtZX0gJHtjbGFzc05hbWV9LWdyb3VwYCk7XG4gICAgICAgIGNoZWNrR2VvbG9jYXRpb25TdXBwb3J0KHRoaXMuX3NldHVwVUkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICAvLyBjbGVhciB0aGUgZ2VvbG9jYXRpb24gd2F0Y2ggaWYgZXhpc3RzXG4gICAgICAgIGlmICh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCk7XG4gICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgPSAodW5kZWZpbmVkOiBhbnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYXIgdGhlIG1hcmtlciBmcm9tIHRoZSBtYXBcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX21hcCA9ICh1bmRlZmluZWQ6IGFueSk7XG4gICAgfVxuXG4gICAgX29uU3VjY2Vzcyhwb3NpdGlvbjogUG9zaXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgLy8ga2VlcCBhIHJlY29yZCBvZiB0aGUgcG9zaXRpb24gc28gdGhhdCBpZiB0aGUgc3RhdGUgaXMgQkFDS0dST1VORCBhbmQgdGhlIHVzZXJcbiAgICAgICAgICAgIC8vIGNsaWNrcyB0aGUgYnV0dG9uLCB3ZSBjYW4gbW92ZSB0byBBQ1RJVkVfTE9DSyBpbW1lZGlhdGVseSB3aXRob3V0IHdhaXRpbmcgZm9yXG4gICAgICAgICAgICAvLyB3YXRjaFBvc2l0aW9uIHRvIHRyaWdnZXIgX29uU3VjY2Vzc1xuICAgICAgICAgICAgdGhpcy5fbGFzdEtub3duUG9zaXRpb24gPSBwb3NpdGlvbjtcblxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl93YXRjaFN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdXQUlUSU5HX0FDVElWRSc6XG4gICAgICAgICAgICBjYXNlICdBQ1RJVkVfTE9DSyc6XG4gICAgICAgICAgICBjYXNlICdBQ1RJVkVfRVJST1InOlxuICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQUNUSVZFX0xPQ0snO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkQnOlxuICAgICAgICAgICAgY2FzZSAnQkFDS0dST1VORF9FUlJPUic6XG4gICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdCQUNLR1JPVU5EJztcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGZhbHNlLCBgVW5leHBlY3RlZCB3YXRjaFN0YXRlICR7dGhpcy5fd2F0Y2hTdGF0ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHNob3dVc2VyTG9jYXRpb24gYW5kIHRoZSB3YXRjaCBzdGF0ZSBpc24ndCBvZmYgdGhlbiB1cGRhdGUgdGhlIG1hcmtlciBsb2NhdGlvblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24gJiYgdGhpcy5fd2F0Y2hTdGF0ZSAhPT0gJ09GRicpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU1hcmtlcihwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBpbiBub3JtYWwgbW9kZSAobm90IHdhdGNoIG1vZGUpLCBvciBpZiBpbiB3YXRjaCBtb2RlIGFuZCB0aGUgc3RhdGUgaXMgYWN0aXZlIHdhdGNoXG4gICAgICAgIC8vIHRoZW4gdXBkYXRlIHRoZSBjYW1lcmFcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24gfHwgdGhpcy5fd2F0Y2hTdGF0ZSA9PT0gJ0FDVElWRV9MT0NLJykge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2FtZXJhKHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fZG90RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgnZ2VvbG9jYXRlJywgcG9zaXRpb24pKTtcbiAgICAgICAgdGhpcy5fZmluaXNoKCk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUNhbWVyYShwb3NpdGlvbjogUG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gbmV3IExuZ0xhdChwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLCBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUpO1xuICAgICAgICBjb25zdCByYWRpdXMgPSBwb3NpdGlvbi5jb29yZHMuYWNjdXJhY3k7XG5cbiAgICAgICAgdGhpcy5fbWFwLmZpdEJvdW5kcyhjZW50ZXIudG9Cb3VuZHMocmFkaXVzKSwgdGhpcy5vcHRpb25zLmZpdEJvdW5kc09wdGlvbnMsIHtcbiAgICAgICAgICAgIGdlb2xvY2F0ZVNvdXJjZTogdHJ1ZSAvLyB0YWcgdGhpcyBjYW1lcmEgY2hhbmdlIHNvIGl0IHdvbid0IGNhdXNlIHRoZSBjb250cm9sIHRvIGNoYW5nZSB0byBiYWNrZ3JvdW5kIHN0YXRlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF91cGRhdGVNYXJrZXIocG9zaXRpb246ID9Qb3NpdGlvbikge1xuICAgICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRMbmdMYXQoW3Bvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZV0pLmFkZFRvKHRoaXMuX21hcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25FcnJvcihlcnJvcjogUG9zaXRpb25FcnJvcikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIFBFUk1JU1NJT05fREVOSUVEXG4gICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdPRkYnO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJXYXRjaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLl93YXRjaFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnV0FJVElOR19BQ1RJVkUnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ0FDVElWRV9FUlJPUic7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdBQ1RJVkVfTE9DSyc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQUNUSVZFX0VSUk9SJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHR1cm4gbWFya2VyIGdyZXlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQkFDS0dST1VORCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQkFDS0dST1VORF9FUlJPUic7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHR1cm4gbWFya2VyIGdyZXlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0VSUk9SJzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KGZhbHNlLCBgVW5leHBlY3RlZCB3YXRjaFN0YXRlICR7dGhpcy5fd2F0Y2hTdGF0ZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fd2F0Y2hTdGF0ZSAhPT0gJ09GRicgJiYgdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2Vycm9yJywgZXJyb3IpKTtcblxuICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9XG5cbiAgICBfZmluaXNoKCkge1xuICAgICAgICBpZiAodGhpcy5fdGltZW91dElkKSB7IGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpOyB9XG4gICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBfc2V0dXBVSShzdXBwb3J0ZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHN1cHBvcnRlZCA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGU6IE1vdXNlRXZlbnQpID0+IGUucHJldmVudERlZmF1bHQoKSk7XG4gICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbiA9IERPTS5jcmVhdGUoJ2J1dHRvbicsXG4gICAgICAgICAgICBgJHtjbGFzc05hbWV9LWljb24gJHtjbGFzc05hbWV9LWdlb2xvY2F0ZWAsXG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIpO1xuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24udHlwZSA9ICdidXR0b24nO1xuICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0dlb2xvY2F0ZScpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsICdmYWxzZScpO1xuICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdPRkYnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hlbiBzaG93VXNlckxvY2F0aW9uIGlzIGVuYWJsZWQsIGtlZXAgdGhlIEdlb2xvY2F0ZSBidXR0b24gZGlzYWJsZWQgdW50aWwgdGhlIGRldmljZSBsb2NhdGlvbiBtYXJrZXIgaXMgc2V0dXAgb24gdGhlIG1hcFxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2RvdEVsZW1lbnQgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3QnKTtcblxuICAgICAgICAgICAgdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyID0gbmV3IE1hcmtlcih0aGlzLl9kb3RFbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbikgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdPRkYnO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxcbiAgICAgICAgICAgIHRoaXMuX29uQ2xpY2tHZW9sb2NhdGUuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgLy8gd2hlbiB0aGUgY2FtZXJhIGlzIGNoYW5nZWQgKGFuZCBpdCdzIG5vdCBhcyBhIHJlc3VsdCBvZiB0aGUgR2VvbG9jYXRpb24gQ29udHJvbCkgY2hhbmdlXG4gICAgICAgIC8vIHRoZSB3YXRjaCBtb2RlIHRvIGJhY2tncm91bmQgd2F0Y2gsIHNvIHRoYXQgdGhlIG1hcmtlciBpcyB1cGRhdGVkIGJ1dCBub3QgdGhlIGNhbWVyYS5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9uKCdtb3Zlc3RhcnQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50Lmdlb2xvY2F0ZVNvdXJjZSAmJiB0aGlzLl93YXRjaFN0YXRlID09PSAnQUNUSVZFX0xPQ0snKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnQkFDS0dST1VORCc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd0cmFja3VzZXJsb2NhdGlvbmVuZCcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkNsaWNrR2VvbG9jYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgd2F0Y2hTdGF0ZSBhbmQgZG8gYW55IG91dGdvaW5nIHN0YXRlIGNsZWFudXBcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fd2F0Y2hTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAnT0ZGJzpcbiAgICAgICAgICAgICAgICAvLyB0dXJuIG9uIHRoZSBHZW9sb2NhdGUgQ29udHJvbFxuICAgICAgICAgICAgICAgIHRoaXMuX3dhdGNoU3RhdGUgPSAnV0FJVElOR19BQ1RJVkUnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlKG5ldyBFdmVudCgndHJhY2t1c2VybG9jYXRpb25zdGFydCcpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1dBSVRJTkdfQUNUSVZFJzpcbiAgICAgICAgICAgIGNhc2UgJ0FDVElWRV9MT0NLJzpcbiAgICAgICAgICAgIGNhc2UgJ0FDVElWRV9FUlJPUic6XG4gICAgICAgICAgICBjYXNlICdCQUNLR1JPVU5EX0VSUk9SJzpcbiAgICAgICAgICAgICAgICAvLyB0dXJuIG9mZiB0aGUgR2VvbG9jYXRlIENvbnRyb2xcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRjaFN0YXRlID0gJ09GRic7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3InKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ3RyYWNrdXNlcmxvY2F0aW9uZW5kJykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQkFDS0dST1VORCc6XG4gICAgICAgICAgICAgICAgdGhpcy5fd2F0Y2hTdGF0ZSA9ICdBQ1RJVkVfTE9DSyc7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQnKTtcbiAgICAgICAgICAgICAgICAvLyBzZXQgY2FtZXJhIHRvIGxhc3Qga25vd24gbG9jYXRpb25cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbGFzdEtub3duUG9zaXRpb24pIHRoaXMuX3VwZGF0ZUNhbWVyYSh0aGlzLl9sYXN0S25vd25Qb3NpdGlvbik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCd0cmFja3VzZXJsb2NhdGlvbnN0YXJ0JykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBhc3NlcnQoZmFsc2UsIGBVbmV4cGVjdGVkIHdhdGNoU3RhdGUgJHt0aGlzLl93YXRjaFN0YXRlfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpbmNvbWluZyBzdGF0ZSBzZXR1cFxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl93YXRjaFN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdXQUlUSU5HX0FDVElWRSc6XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBQ1RJVkVfTE9DSyc6XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQUNUSVZFX0VSUk9SJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3InKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0JBQ0tHUk9VTkQnOlxuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdCQUNLR1JPVU5EX0VSUk9SJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnbWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdPRkYnOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBhc3NlcnQoZmFsc2UsIGBVbmV4cGVjdGVkIHdhdGNoU3RhdGUgJHt0aGlzLl93YXRjaFN0YXRlfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBtYW5hZ2UgZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbiAvIGdlb2xvY2F0aW9uLmNsZWFyV2F0Y2hcbiAgICAgICAgICAgIGlmICh0aGlzLl93YXRjaFN0YXRlID09PSAnT0ZGJyAmJiB0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIGNsZWFyIHdhdGNoUG9zaXRpb24gYXMgd2UndmUgY2hhbmdlZCB0byBhbiBPRkYgc3RhdGVcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhcldhdGNoKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gZW5hYmxlIHdhdGNoUG9zaXRpb24gc2luY2Ugd2F0Y2hTdGF0ZSBpcyBub3QgT0ZGIGFuZCB0aGVyZSBpcyBubyB3YXRjaFBvc2l0aW9uIGFscmVhZHkgcnVubmluZ1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCAndHJ1ZScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEID0gd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblN1Y2Nlc3MsIHRoaXMuX29uRXJyb3IsIHRoaXMub3B0aW9ucy5wb3NpdGlvbk9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oXG4gICAgICAgICAgICAgICAgdGhpcy5fb25TdWNjZXNzLCB0aGlzLl9vbkVycm9yLCB0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zKTtcblxuICAgICAgICAgICAgLy8gVGhpcyB0aW1lb3V0IGVuc3VyZXMgdGhhdCB3ZSBzdGlsbCBjYWxsIGZpbmlzaCgpIGV2ZW4gaWZcbiAgICAgICAgICAgIC8vIHRoZSB1c2VyIGRlY2xpbmVzIHRvIHNoYXJlIHRoZWlyIGxvY2F0aW9uIGluIEZpcmVmb3hcbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHNldFRpbWVvdXQodGhpcy5fZmluaXNoLCAxMDAwMCAvKiAxMHNlYyAqLyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2xlYXJXYXRjaCgpIHtcbiAgICAgICAgd2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCk7XG5cbiAgICAgICAgdGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEID0gKHVuZGVmaW5lZDogYW55KTtcbiAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ21hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcnKTtcbiAgICAgICAgdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVNYXJrZXIobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdlb2xvY2F0ZUNvbnRyb2w7XG5cbi8qIEdlb2xvY2F0ZSBDb250cm9sIFdhdGNoIFN0YXRlc1xuICogVGhpcyBpcyB0aGUgcHJpdmF0ZSBzdGF0ZSBvZiB0aGUgY29udHJvbC5cbiAqXG4gKiBPRkZcbiAqICAgIG9mZi9pbmFjdGl2ZVxuICogV0FJVElOR19BQ1RJVkVcbiAqICAgIEdlb2xvY2F0ZSBDb250cm9sIHdhcyBjbGlja2VkIGJ1dCBzdGlsbCB3YWl0aW5nIGZvciBHZW9sb2NhdGlvbiBBUEkgcmVzcG9uc2Ugd2l0aCB1c2VyIGxvY2F0aW9uXG4gKiBBQ1RJVkVfTE9DS1xuICogICAgU2hvd2luZyB0aGUgdXNlciBsb2NhdGlvbiBhcyBhIGRvdCBBTkQgdHJhY2tpbmcgdGhlIGNhbWVyYSB0byBiZSBmaXhlZCB0byB0aGVpciBsb2NhdGlvbi4gSWYgdGhlaXIgbG9jYXRpb24gY2hhbmdlcyB0aGUgbWFwIG1vdmVzIHRvIGZvbGxvdy5cbiAqIEFDVElWRV9FUlJPUlxuICogICAgVGhlcmUgd2FzIGVuIGVycm9yIGZyb20gdGhlIEdlb2xvY2F0aW9uIEFQSSB3aGlsZSB0cnlpbmcgdG8gc2hvdyBhbmQgdHJhY2sgdGhlIHVzZXIgbG9jYXRpb24uXG4gKiBCQUNLR1JPVU5EXG4gKiAgICBTaG93aW5nIHRoZSB1c2VyIGxvY2F0aW9uIGFzIGEgZG90IGJ1dCB0aGUgY2FtZXJhIGRvZXNuJ3QgZm9sbG93IHRoZWlyIGxvY2F0aW9uIGFzIGl0IGNoYW5nZXMuXG4gKiBCQUNLR1JPVU5EX0VSUk9SXG4gKiAgICBUaGVyZSB3YXMgYW4gZXJyb3IgZnJvbSB0aGUgR2VvbG9jYXRpb24gQVBJIHdoaWxlIHRyeWluZyB0byBzaG93IChidXQgbm90IHRyYWNrKSB0aGUgdXNlciBsb2NhdGlvbi5cbiAqL1xuXG5cbi8qKlxuICogRmlyZWQgb24gZWFjaCBHZW9sb2NhdGlvbiBBUEkgcG9zaXRpb24gdXBkYXRlIHdoaWNoIHJldHVybmVkIGFzIHN1Y2Nlc3MuXG4gKlxuICogQGV2ZW50IGdlb2xvY2F0ZVxuICogQG1lbWJlcm9mIEdlb2xvY2F0ZUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICogQHByb3BlcnR5IHtQb3NpdGlvbn0gZGF0YSBUaGUgcmV0dXJuZWQgW1Bvc2l0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9zaXRpb24pIG9iamVjdCBmcm9tIHRoZSBjYWxsYmFjayBpbiBbR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9HZW9sb2NhdGlvbi9nZXRDdXJyZW50UG9zaXRpb24pIG9yIFtHZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9HZW9sb2NhdGlvbi93YXRjaFBvc2l0aW9uKS5cbiAqXG4gKi9cblxuLyoqXG4gKiBGaXJlZCBvbiBlYWNoIEdlb2xvY2F0aW9uIEFQSSBwb3NpdGlvbiB1cGRhdGUgd2hpY2ggcmV0dXJuZWQgYXMgYW4gZXJyb3IuXG4gKlxuICogQGV2ZW50IGVycm9yXG4gKiBAbWVtYmVyb2YgR2VvbG9jYXRlQ29udHJvbFxuICogQGluc3RhbmNlXG4gKiBAcHJvcGVydHkge1Bvc2l0aW9uRXJyb3J9IGRhdGEgVGhlIHJldHVybmVkIFtQb3NpdGlvbkVycm9yXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9zaXRpb25FcnJvcikgb2JqZWN0IGZyb20gdGhlIGNhbGxiYWNrIGluIFtHZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dlb2xvY2F0aW9uL2dldEN1cnJlbnRQb3NpdGlvbikgb3IgW0dlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dlb2xvY2F0aW9uL3dhdGNoUG9zaXRpb24pLlxuICpcbiAqL1xuXG4vKipcbiAqIEZpcmVkIHdoZW4gdGhlIEdlb2xvY2F0ZSBDb250cm9sIGNoYW5nZXMgdG8gdGhlIGFjdGl2ZSBsb2NrIHN0YXRlLCB3aGljaCBoYXBwZW5zIGVpdGhlciB1cG9uIGZpcnN0IG9idGFpbmluZyBhIHN1Y2Nlc3NmdWwgR2VvbG9jYXRpb24gQVBJIHBvc2l0aW9uIGZvciB0aGUgdXNlciAoYSBnZW9sb2NhdGUgZXZlbnQgd2lsbCBmb2xsb3cpLCBvciB0aGUgdXNlciBjbGlja3MgdGhlIGdlb2xvY2F0ZSBidXR0b24gd2hlbiBpbiB0aGUgYmFja2dyb3VuZCBzdGF0ZSB3aGljaCB1c2VzIHRoZSBsYXN0IGtub3duIHBvc2l0aW9uIHRvIHJlY2VudGVyIHRoZSBtYXAgYW5kIGVudGVyIGFjdGl2ZSBsb2NrIHN0YXRlIChubyBnZW9sb2NhdGUgZXZlbnQgd2lsbCBmb2xsb3cgdW5sZXNzIHRoZSB1c2VycydzIGxvY2F0aW9uIGNoYW5nZXMpLlxuICpcbiAqIEBldmVudCB0cmFja3VzZXJsb2NhdGlvbnN0YXJ0XG4gKiBAbWVtYmVyb2YgR2VvbG9jYXRlQ29udHJvbFxuICogQGluc3RhbmNlXG4gKlxuICovXG5cbi8qKlxuICogRmlyZWQgd2hlbiB0aGUgR2VvbG9jYXRlIENvbnRyb2wgY2hhbmdlcyB0byB0aGUgYmFja2dyb3VuZCBzdGF0ZSwgd2hpY2ggaGFwcGVucyB3aGVuIGEgdXNlciBjaGFuZ2VzIHRoZSBjYW1lcmEgZHVyaW5nIGFuIGFjdGl2ZSBwb3NpdGlvbiBsb2NrLiBUaGlzIG9ubHkgYXBwbGllcyB3aGVuIHRyYWNrVXNlckxvY2F0aW9uIGlzIHRydWUuIEluIHRoZSBiYWNrZ3JvdW5kIHN0YXRlLCB0aGUgZG90IG9uIHRoZSBtYXAgd2lsbCB1cGRhdGUgd2l0aCBsb2NhdGlvbiB1cGRhdGVzIGJ1dCB0aGUgY2FtZXJhIHdpbGwgbm90LlxuICpcbiAqIEBldmVudCB0cmFja3VzZXJsb2NhdGlvbmVuZFxuICogQG1lbWJlcm9mIEdlb2xvY2F0ZUNvbnRyb2xcbiAqIEBpbnN0YW5jZVxuICpcbiAqL1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IERPTSBmcm9tICcuLi8uLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBleHRlbmQsIGJpbmRBbGwgfSBmcm9tICcuLi8uLi91dGlsL3V0aWwnO1xuXG5pbXBvcnQgdHlwZSBNYXAgZnJvbSAnLi4vbWFwJztcblxudHlwZSBVbml0ID0gJ2ltcGVyaWFsJyB8ICdtZXRyaWMnIHwgJ25hdXRpY2FsJztcblxudHlwZSBPcHRpb25zID0ge1xuICAgIG1heFdpZHRoPzogbnVtYmVyLFxuICAgIHVuaXQ/OiBVbml0O1xufTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnM6IE9wdGlvbnMgPSB7XG4gICAgbWF4V2lkdGg6IDEwMCxcbiAgICB1bml0OiAnbWV0cmljJ1xufTtcblxuLyoqXG4gKiBBIGBTY2FsZUNvbnRyb2xgIGNvbnRyb2wgZGlzcGxheXMgdGhlIHJhdGlvIG9mIGEgZGlzdGFuY2Ugb24gdGhlIG1hcCB0byB0aGUgY29ycmVzcG9uZGluZyBkaXN0YW5jZSBvbiB0aGUgZ3JvdW5kLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtJQ29udHJvbH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXaWR0aD0nMTAwJ10gVGhlIG1heGltdW0gbGVuZ3RoIG9mIHRoZSBzY2FsZSBjb250cm9sIGluIHBpeGVscy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bml0PSdtZXRyaWMnXSBVbml0IG9mIHRoZSBkaXN0YW5jZSAoYCdpbXBlcmlhbCdgLCBgJ21ldHJpYydgIG9yIGAnbmF1dGljYWwnYCkuXG4gKiBAZXhhbXBsZVxuICogdmFyIHNjYWxlID0gbmV3IG1hcGJveGdsLlNjYWxlQ29udHJvbCh7XG4gKiAgICAgbWF4V2lkdGg6IDgwLFxuICogICAgIHVuaXQ6ICdpbXBlcmlhbCdcbiAqIH0pO1xuICogbWFwLmFkZENvbnRyb2woc2NhbGUpO1xuICpcbiAqIHNjYWxlLnNldFVuaXQoJ21ldHJpYycpO1xuICovXG5jbGFzcyBTY2FsZUNvbnRyb2wge1xuICAgIF9tYXA6IE1hcDtcbiAgICBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBvcHRpb25zOiBPcHRpb25zO1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogT3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBiaW5kQWxsKFtcbiAgICAgICAgICAgICdfb25Nb3ZlJyxcbiAgICAgICAgICAgICdzZXRVbml0J1xuICAgICAgICBdLCB0aGlzKTtcbiAgICB9XG5cbiAgICBnZXREZWZhdWx0UG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiAnYm90dG9tLWxlZnQnO1xuICAgIH1cblxuICAgIF9vbk1vdmUoKSB7XG4gICAgICAgIHVwZGF0ZVNjYWxlKHRoaXMuX21hcCwgdGhpcy5fY29udGFpbmVyLCB0aGlzLm9wdGlvbnMpO1xuICAgIH1cblxuICAgIG9uQWRkKG1hcDogTWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1zY2FsZScsIG1hcC5nZXRDb250YWluZXIoKSk7XG5cbiAgICAgICAgdGhpcy5fbWFwLm9uKCdtb3ZlJywgdGhpcy5fb25Nb3ZlKTtcbiAgICAgICAgdGhpcy5fb25Nb3ZlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBvblJlbW92ZSgpIHtcbiAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9jb250YWluZXIpO1xuICAgICAgICB0aGlzLl9tYXAub2ZmKCdtb3ZlJywgdGhpcy5fb25Nb3ZlKTtcbiAgICAgICAgdGhpcy5fbWFwID0gKHVuZGVmaW5lZDogYW55KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNjYWxlJ3MgdW5pdCBvZiB0aGUgZGlzdGFuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB1bml0IFVuaXQgb2YgdGhlIGRpc3RhbmNlIChgJ2ltcGVyaWFsJ2AsIGAnbWV0cmljJ2Agb3IgYCduYXV0aWNhbCdgKS5cbiAgICAgKi9cbiAgICBzZXRVbml0KHVuaXQ6IFVuaXQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnVuaXQgPSB1bml0O1xuICAgICAgICB1cGRhdGVTY2FsZSh0aGlzLl9tYXAsIHRoaXMuX2NvbnRhaW5lciwgdGhpcy5vcHRpb25zKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjYWxlQ29udHJvbDtcblxuZnVuY3Rpb24gdXBkYXRlU2NhbGUobWFwLCBjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAvLyBBIGhvcml6b250YWwgc2NhbGUgaXMgaW1hZ2luZWQgdG8gYmUgcHJlc2VudCBhdCBjZW50ZXIgb2YgdGhlIG1hcFxuICAgIC8vIGNvbnRhaW5lciB3aXRoIG1heGltdW0gbGVuZ3RoIChEZWZhdWx0KSBhcyAxMDBweC5cbiAgICAvLyBVc2luZyBzcGhlcmljYWwgbGF3IG9mIGNvc2luZXMgYXBwcm94aW1hdGlvbiwgdGhlIHJlYWwgZGlzdGFuY2UgaXNcbiAgICAvLyBmb3VuZCBiZXR3ZWVuIHRoZSB0d28gY29vcmRpbmF0ZXMuXG4gICAgY29uc3QgbWF4V2lkdGggPSBvcHRpb25zICYmIG9wdGlvbnMubWF4V2lkdGggfHwgMTAwO1xuXG4gICAgY29uc3QgeSA9IG1hcC5fY29udGFpbmVyLmNsaWVudEhlaWdodCAvIDI7XG4gICAgY29uc3QgbWF4TWV0ZXJzID0gZ2V0RGlzdGFuY2UobWFwLnVucHJvamVjdChbMCwgeV0pLCBtYXAudW5wcm9qZWN0KFttYXhXaWR0aCwgeV0pKTtcbiAgICAvLyBUaGUgcmVhbCBkaXN0YW5jZSBjb3JyZXNwb25kaW5nIHRvIDEwMHB4IHNjYWxlIGxlbmd0aCBpcyByb3VuZGVkIG9mZiB0b1xuICAgIC8vIG5lYXIgcHJldHR5IG51bWJlciBhbmQgdGhlIHNjYWxlIGxlbmd0aCBmb3IgdGhlIHNhbWUgaXMgZm91bmQgb3V0LlxuICAgIC8vIERlZmF1bHQgdW5pdCBvZiB0aGUgc2NhbGUgaXMgYmFzZWQgb24gVXNlcidzIGxvY2FsZS5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnVuaXQgPT09ICdpbXBlcmlhbCcpIHtcbiAgICAgICAgY29uc3QgbWF4RmVldCA9IDMuMjgwOCAqIG1heE1ldGVycztcbiAgICAgICAgaWYgKG1heEZlZXQgPiA1MjgwKSB7XG4gICAgICAgICAgICBjb25zdCBtYXhNaWxlcyA9IG1heEZlZXQgLyA1MjgwO1xuICAgICAgICAgICAgc2V0U2NhbGUoY29udGFpbmVyLCBtYXhXaWR0aCwgbWF4TWlsZXMsICdtaScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0U2NhbGUoY29udGFpbmVyLCBtYXhXaWR0aCwgbWF4RmVldCwgJ2Z0Jyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy51bml0ID09PSAnbmF1dGljYWwnKSB7XG4gICAgICAgIGNvbnN0IG1heE5hdXRpY2FscyA9IG1heE1ldGVycyAvIDE4NTI7XG4gICAgICAgIHNldFNjYWxlKGNvbnRhaW5lciwgbWF4V2lkdGgsIG1heE5hdXRpY2FscywgJ25tJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U2NhbGUoY29udGFpbmVyLCBtYXhXaWR0aCwgbWF4TWV0ZXJzLCAnbScpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0U2NhbGUoY29udGFpbmVyLCBtYXhXaWR0aCwgbWF4RGlzdGFuY2UsIHVuaXQpIHtcbiAgICBsZXQgZGlzdGFuY2UgPSBnZXRSb3VuZE51bShtYXhEaXN0YW5jZSk7XG4gICAgY29uc3QgcmF0aW8gPSBkaXN0YW5jZSAvIG1heERpc3RhbmNlO1xuXG4gICAgaWYgKHVuaXQgPT09ICdtJyAmJiBkaXN0YW5jZSA+PSAxMDAwKSB7XG4gICAgICAgIGRpc3RhbmNlID0gZGlzdGFuY2UgLyAxMDAwO1xuICAgICAgICB1bml0ID0gJ2ttJztcbiAgICB9XG5cbiAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBgJHttYXhXaWR0aCAqIHJhdGlvfXB4YDtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gZGlzdGFuY2UgKyB1bml0O1xufVxuXG5mdW5jdGlvbiBnZXREaXN0YW5jZShsYXRsbmcxLCBsYXRsbmcyKSB7XG4gICAgLy8gVXNlcyBzcGhlcmljYWwgbGF3IG9mIGNvc2luZXMgYXBwcm94aW1hdGlvbi5cbiAgICBjb25zdCBSID0gNjM3MTAwMDtcblxuICAgIGNvbnN0IHJhZCA9IE1hdGguUEkgLyAxODAsXG4gICAgICAgIGxhdDEgPSBsYXRsbmcxLmxhdCAqIHJhZCxcbiAgICAgICAgbGF0MiA9IGxhdGxuZzIubGF0ICogcmFkLFxuICAgICAgICBhID0gTWF0aC5zaW4obGF0MSkgKiBNYXRoLnNpbihsYXQyKSArXG4gICAgICAgICAgTWF0aC5jb3MobGF0MSkgKiBNYXRoLmNvcyhsYXQyKSAqIE1hdGguY29zKChsYXRsbmcyLmxuZyAtIGxhdGxuZzEubG5nKSAqIHJhZCk7XG5cbiAgICBjb25zdCBtYXhNZXRlcnMgPSBSICogTWF0aC5hY29zKE1hdGgubWluKGEsIDEpKTtcbiAgICByZXR1cm4gbWF4TWV0ZXJzO1xuXG59XG5cbmZ1bmN0aW9uIGdldFJvdW5kTnVtKG51bSkge1xuICAgIGNvbnN0IHBvdzEwID0gTWF0aC5wb3coMTAsIChgJHtNYXRoLmZsb29yKG51bSl9YCkubGVuZ3RoIC0gMSk7XG4gICAgbGV0IGQgPSBudW0gLyBwb3cxMDtcblxuICAgIGQgPSBkID49IDEwID8gMTAgOlxuICAgICAgICBkID49IDUgPyA1IDpcbiAgICAgICAgZCA+PSAzID8gMyA6XG4gICAgICAgIGQgPj0gMiA/IDIgOiAxO1xuXG4gICAgcmV0dXJuIHBvdzEwICogZDtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCBET00gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuXG5pbXBvcnQgeyBiaW5kQWxsLCB3YXJuT25jZSB9IGZyb20gJy4uLy4uL3V0aWwvdXRpbCc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uLy4uL3V0aWwvd2luZG93JztcblxuaW1wb3J0IHR5cGUgTWFwIGZyb20gJy4uL21hcCc7XG5cbi8qKlxuICogQSBgRnVsbHNjcmVlbkNvbnRyb2xgIGNvbnRyb2wgY29udGFpbnMgYSBidXR0b24gZm9yIHRvZ2dsaW5nIHRoZSBtYXAgaW4gYW5kIG91dCBvZiBmdWxsc2NyZWVuIG1vZGUuXG4gKlxuICogQGltcGxlbWVudHMge0lDb250cm9sfVxuICogQGV4YW1wbGVcbiAqIG1hcC5hZGRDb250cm9sKG5ldyBtYXBib3hnbC5GdWxsc2NyZWVuQ29udHJvbCgpKTtcbiAqIEBzZWUgW1ZpZXcgYSBmdWxsc2NyZWVuIG1hcF0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9mdWxsc2NyZWVuLylcbiAqL1xuXG5jbGFzcyBGdWxsc2NyZWVuQ29udHJvbCB7XG4gICAgX21hcDogTWFwO1xuICAgIF9tYXBDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIF9mdWxsc2NyZWVuOiBib29sZWFuO1xuICAgIF9mdWxsc2NyZWVuY2hhbmdlOiBzdHJpbmc7XG4gICAgX2Z1bGxzY3JlZW5CdXR0b246IEhUTUxFbGVtZW50O1xuICAgIF9jbGFzc05hbWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9mdWxsc2NyZWVuID0gZmFsc2U7XG4gICAgICAgIGJpbmRBbGwoW1xuICAgICAgICAgICAgJ19vbkNsaWNrRnVsbHNjcmVlbicsXG4gICAgICAgICAgICAnX2NoYW5nZUljb24nXG4gICAgICAgIF0sIHRoaXMpO1xuICAgICAgICBpZiAoJ29uZnVsbHNjcmVlbmNoYW5nZScgaW4gd2luZG93LmRvY3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxsc2NyZWVuY2hhbmdlID0gJ2Z1bGxzY3JlZW5jaGFuZ2UnO1xuICAgICAgICB9IGVsc2UgaWYgKCdvbm1vemZ1bGxzY3JlZW5jaGFuZ2UnIGluIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbmNoYW5nZSA9ICdtb3pmdWxsc2NyZWVuY2hhbmdlJztcbiAgICAgICAgfSBlbHNlIGlmICgnb253ZWJraXRmdWxsc2NyZWVuY2hhbmdlJyBpbiB3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UgPSAnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZSc7XG4gICAgICAgIH0gZWxzZSBpZiAoJ29ubXNmdWxsc2NyZWVuY2hhbmdlJyBpbiB3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UgPSAnTVNGdWxsc2NyZWVuQ2hhbmdlJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jbGFzc05hbWUgPSAnbWFwYm94Z2wtY3RybCc7XG4gICAgfVxuXG4gICAgb25BZGQobWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgICB0aGlzLl9tYXBDb250YWluZXIgPSB0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IERPTS5jcmVhdGUoJ2RpdicsIGAke3RoaXMuX2NsYXNzTmFtZX0gbWFwYm94Z2wtY3RybC1ncm91cGApO1xuICAgICAgICBpZiAodGhpcy5fY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXR1cFVJKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHdhcm5PbmNlKCdUaGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZ1bGxzY3JlZW4gbW9kZS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICAgIH1cblxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX21hcCA9IChudWxsOiBhbnkpO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLCB0aGlzLl9jaGFuZ2VJY29uKTtcbiAgICB9XG5cbiAgICBfY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuICEhKFxuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmZ1bGxzY3JlZW5FbmFibGVkIHx8XG4gICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLm1vekZ1bGxTY3JlZW5FbmFibGVkIHx8XG4gICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLm1zRnVsbHNjcmVlbkVuYWJsZWQgfHxcbiAgICAgICAgICAgICh3aW5kb3cuZG9jdW1lbnQ6IGFueSkud2Via2l0RnVsbHNjcmVlbkVuYWJsZWRcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBfc2V0dXBVSSgpIHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbiA9IERPTS5jcmVhdGUoJ2J1dHRvbicsIChgJHt0aGlzLl9jbGFzc05hbWV9LWljb24gJHt0aGlzLl9jbGFzc05hbWV9LWZ1bGxzY3JlZW5gKSwgdGhpcy5fY29udGFpbmVyKTtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJUb2dnbGUgZnVsbHNjcmVlblwiKTtcbiAgICAgICAgYnV0dG9uLnR5cGUgPSAnYnV0dG9uJztcbiAgICAgICAgdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2tGdWxsc2NyZWVuKTtcbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSwgdGhpcy5fY2hhbmdlSWNvbik7XG4gICAgfVxuXG4gICAgX2lzRnVsbHNjcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Z1bGxzY3JlZW47XG4gICAgfVxuXG4gICAgX2NoYW5nZUljb24oKSB7XG4gICAgICAgIGNvbnN0IGZ1bGxzY3JlZW5FbGVtZW50ID1cbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS5tb3pGdWxsU2NyZWVuRWxlbWVudCB8fFxuICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS5tc0Z1bGxzY3JlZW5FbGVtZW50O1xuXG4gICAgICAgIGlmICgoZnVsbHNjcmVlbkVsZW1lbnQgPT09IHRoaXMuX21hcENvbnRhaW5lcikgIT09IHRoaXMuX2Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxzY3JlZW4gPSAhdGhpcy5fZnVsbHNjcmVlbjtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShgJHt0aGlzLl9jbGFzc05hbWV9LXNocmlua2ApO1xuICAgICAgICAgICAgdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKGAke3RoaXMuX2NsYXNzTmFtZX0tZnVsbHNjcmVlbmApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uQ2xpY2tGdWxsc2NyZWVuKCkge1xuICAgICAgICBpZiAodGhpcy5faXNGdWxsc2NyZWVuKCkpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAod2luZG93LmRvY3VtZW50OiBhbnkpLmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5kb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS5tb3pDYW5jZWxGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5kb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS5tc0V4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5kb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgKHdpbmRvdy5kb2N1bWVudDogYW55KS53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbWFwQ29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBDb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9tYXBDb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICh0aGlzLl9tYXBDb250YWluZXI6IGFueSkubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9tYXBDb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgKHRoaXMuX21hcENvbnRhaW5lcjogYW55KS5tc1JlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbWFwQ29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAodGhpcy5fbWFwQ29udGFpbmVyOiBhbnkpLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZ1bGxzY3JlZW5Db250cm9sO1xuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgZXh0ZW5kLCBiaW5kQWxsIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IEV2ZW50LCBFdmVudGVkIH0gZnJvbSAnLi4vdXRpbC9ldmVudGVkJztcbmltcG9ydCBET00gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IExuZ0xhdCBmcm9tICcuLi9nZW8vbG5nX2xhdCc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnQG1hcGJveC9wb2ludC1nZW9tZXRyeSc7XG5pbXBvcnQgd2luZG93IGZyb20gJy4uL3V0aWwvd2luZG93JztcbmltcG9ydCBzbWFydFdyYXAgZnJvbSAnLi4vdXRpbC9zbWFydF93cmFwJztcbmltcG9ydCB7IHR5cGUgQW5jaG9yLCBhbmNob3JUcmFuc2xhdGUsIGFwcGx5QW5jaG9yQ2xhc3MgfSBmcm9tICcuL2FuY2hvcic7XG5cbmltcG9ydCB0eXBlIE1hcCBmcm9tICcuL21hcCc7XG5pbXBvcnQgdHlwZSB7TG5nTGF0TGlrZX0gZnJvbSAnLi4vZ2VvL2xuZ19sYXQnO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBjbG9zZUJ1dHRvbjogdHJ1ZSxcbiAgICBjbG9zZU9uQ2xpY2s6IHRydWVcbn07XG5cbmV4cG9ydCB0eXBlIE9mZnNldCA9IG51bWJlciB8IFBvaW50TGlrZSB8IHtbQW5jaG9yXTogUG9pbnRMaWtlfTtcblxuZXhwb3J0IHR5cGUgUG9wdXBPcHRpb25zID0ge1xuICAgIGNsb3NlQnV0dG9uOiBib29sZWFuLFxuICAgIGNsb3NlT25DbGljazogYm9vbGVhbixcbiAgICBhbmNob3I6IEFuY2hvcixcbiAgICBvZmZzZXQ6IE9mZnNldFxufTtcblxuLyoqXG4gKiBBIHBvcHVwIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsb3NlQnV0dG9uPXRydWVdIElmIGB0cnVlYCwgYSBjbG9zZSBidXR0b24gd2lsbCBhcHBlYXIgaW4gdGhlXG4gKiAgIHRvcCByaWdodCBjb3JuZXIgb2YgdGhlIHBvcHVwLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbG9zZU9uQ2xpY2s9dHJ1ZV0gSWYgYHRydWVgLCB0aGUgcG9wdXAgd2lsbCBjbG9zZWQgd2hlbiB0aGVcbiAqICAgbWFwIGlzIGNsaWNrZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYW5jaG9yXSAtIEEgc3RyaW5nIGluZGljYXRpbmcgdGhlIHBhcnQgb2YgdGhlIFBvcHVwIHRoYXQgc2hvdWxkXG4gKiAgIGJlIHBvc2l0aW9uZWQgY2xvc2VzdCB0byB0aGUgY29vcmRpbmF0ZSBzZXQgdmlhIHtAbGluayBQb3B1cCNzZXRMbmdMYXR9LlxuICogICBPcHRpb25zIGFyZSBgJ3RvcCdgLCBgJ2JvdHRvbSdgLCBgJ2xlZnQnYCwgYCdyaWdodCdgLCBgJ3RvcC1sZWZ0J2AsXG4gKiAgIGAndG9wLXJpZ2h0J2AsIGAnYm90dG9tLWxlZnQnYCwgYW5kIGAnYm90dG9tLXJpZ2h0J2AuIElmIHVuc2V0IHRoZSBhbmNob3Igd2lsbCBiZVxuICogICBkeW5hbWljYWxseSBzZXQgdG8gZW5zdXJlIHRoZSBwb3B1cCBmYWxscyB3aXRoaW4gdGhlIG1hcCBjb250YWluZXIgd2l0aCBhIHByZWZlcmVuY2VcbiAqICAgZm9yIGAnYm90dG9tJ2AuXG4gKiBAcGFyYW0ge251bWJlcnxQb2ludExpa2V8T2JqZWN0fSBbb3B0aW9ucy5vZmZzZXRdIC1cbiAqICBBIHBpeGVsIG9mZnNldCBhcHBsaWVkIHRvIHRoZSBwb3B1cCdzIGxvY2F0aW9uIHNwZWNpZmllZCBhczpcbiAqICAgLSBhIHNpbmdsZSBudW1iZXIgc3BlY2lmeWluZyBhIGRpc3RhbmNlIGZyb20gdGhlIHBvcHVwJ3MgbG9jYXRpb25cbiAqICAgLSBhIHtAbGluayBQb2ludExpa2V9IHNwZWNpZnlpbmcgYSBjb25zdGFudCBvZmZzZXRcbiAqICAgLSBhbiBvYmplY3Qgb2Yge0BsaW5rIFBvaW50fXMgc3BlY2lmaW5nIGFuIG9mZnNldCBmb3IgZWFjaCBhbmNob3IgcG9zaXRpb25cbiAqICBOZWdhdGl2ZSBvZmZzZXRzIGluZGljYXRlIGxlZnQgYW5kIHVwLlxuICogQGV4YW1wbGVcbiAqIHZhciBtYXJrZXJIZWlnaHQgPSA1MCwgbWFya2VyUmFkaXVzID0gMTAsIGxpbmVhck9mZnNldCA9IDI1O1xuICogdmFyIHBvcHVwT2Zmc2V0cyA9IHtcbiAqICAndG9wJzogWzAsIDBdLFxuICogICd0b3AtbGVmdCc6IFswLDBdLFxuICogICd0b3AtcmlnaHQnOiBbMCwwXSxcbiAqICAnYm90dG9tJzogWzAsIC1tYXJrZXJIZWlnaHRdLFxuICogICdib3R0b20tbGVmdCc6IFtsaW5lYXJPZmZzZXQsIChtYXJrZXJIZWlnaHQgLSBtYXJrZXJSYWRpdXMgKyBsaW5lYXJPZmZzZXQpICogLTFdLFxuICogICdib3R0b20tcmlnaHQnOiBbLWxpbmVhck9mZnNldCwgKG1hcmtlckhlaWdodCAtIG1hcmtlclJhZGl1cyArIGxpbmVhck9mZnNldCkgKiAtMV0sXG4gKiAgJ2xlZnQnOiBbbWFya2VyUmFkaXVzLCAobWFya2VySGVpZ2h0IC0gbWFya2VyUmFkaXVzKSAqIC0xXSxcbiAqICAncmlnaHQnOiBbLW1hcmtlclJhZGl1cywgKG1hcmtlckhlaWdodCAtIG1hcmtlclJhZGl1cykgKiAtMV1cbiAqICB9O1xuICogdmFyIHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKHtvZmZzZXQ6cG9wdXBPZmZzZXRzfSlcbiAqICAgLnNldExuZ0xhdChlLmxuZ0xhdClcbiAqICAgLnNldEhUTUwoXCI8aDE+SGVsbG8gV29ybGQhPC9oMT5cIilcbiAqICAgLmFkZFRvKG1hcCk7XG4gKiBAc2VlIFtEaXNwbGF5IGEgcG9wdXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvcG9wdXAvKVxuICogQHNlZSBbRGlzcGxheSBhIHBvcHVwIG9uIGhvdmVyXShodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9leGFtcGxlL3BvcHVwLW9uLWhvdmVyLylcbiAqIEBzZWUgW0Rpc3BsYXkgYSBwb3B1cCBvbiBjbGlja10oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZXhhbXBsZS9wb3B1cC1vbi1jbGljay8pXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIGV4dGVuZHMgRXZlbnRlZCB7XG4gICAgX21hcDogTWFwO1xuICAgIG9wdGlvbnM6IFBvcHVwT3B0aW9ucztcbiAgICBfY29udGVudDogSFRNTEVsZW1lbnQ7XG4gICAgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgX2Nsb3NlQnV0dG9uOiBIVE1MRWxlbWVudDtcbiAgICBfdGlwOiBIVE1MRWxlbWVudDtcbiAgICBfbG5nTGF0OiBMbmdMYXQ7XG4gICAgX3BvczogP1BvaW50O1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogUG9wdXBPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZChPYmplY3QuY3JlYXRlKGRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgIGJpbmRBbGwoWydfdXBkYXRlJywgJ19vbkNsaWNrQ2xvc2UnXSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgcG9wdXAgdG8gYSBtYXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01hcH0gbWFwIFRoZSBNYXBib3ggR0wgSlMgbWFwIHRvIGFkZCB0aGUgcG9wdXAgdG8uXG4gICAgICogQHJldHVybnMge1BvcHVwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBhZGRUbyhtYXA6IE1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuX21hcC5vbignbW92ZScsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAub24oJ2NsaWNrJywgdGhpcy5fb25DbGlja0Nsb3NlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgcG9wdXAgaXMgb3BlbmVkIG1hbnVhbGx5IG9yIHByb2dyYW1hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IG9wZW5cbiAgICAgICAgICogQG1lbWJlcm9mIFBvcHVwXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJvcGVydHkge1BvcHVwfSBwb3B1cCBvYmplY3QgdGhhdCB3YXMgb3BlbmVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpcmUobmV3IEV2ZW50KCdvcGVuJykpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHBvcHVwIGlzIG9wZW4sIGBmYWxzZWAgaWYgaXQgaXMgY2xvc2VkLlxuICAgICAqL1xuICAgIGlzT3BlbigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fbWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHBvcHVwIGZyb20gdGhlIG1hcCBpdCBoYXMgYmVlbiBhZGRlZCB0by5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKCkuYWRkVG8obWFwKTtcbiAgICAgKiBwb3B1cC5yZW1vdmUoKTtcbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IGB0aGlzYFxuICAgICAqL1xuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICAgIERPTS5yZW1vdmUodGhpcy5fY29udGVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29udGFpbmVyKSB7XG4gICAgICAgICAgICBET00ucmVtb3ZlKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fY29udGFpbmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21hcCkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLm9mZignbW92ZScsIHRoaXMuX3VwZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLl9tYXAub2ZmKCdjbGljaycsIHRoaXMuX29uQ2xpY2tDbG9zZSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fbWFwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIHBvcHVwIGlzIGNsb3NlZCBtYW51YWxseSBvciBwcm9ncmFtYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBjbG9zZVxuICAgICAgICAgKiBAbWVtYmVyb2YgUG9wdXBcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UG9wdXB9IHBvcHVwIG9iamVjdCB0aGF0IHdhcyBjbG9zZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlyZShuZXcgRXZlbnQoJ2Nsb3NlJykpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGdlb2dyYXBoaWNhbCBsb2NhdGlvbiBvZiB0aGUgcG9wdXAncyBhbmNob3IuXG4gICAgICpcbiAgICAgKiBUaGUgbG9uZ2l0dWRlIG9mIHRoZSByZXN1bHQgbWF5IGRpZmZlciBieSBhIG11bHRpcGxlIG9mIDM2MCBkZWdyZWVzIGZyb20gdGhlIGxvbmdpdHVkZSBwcmV2aW91c2x5XG4gICAgICogc2V0IGJ5IGBzZXRMbmdMYXRgIGJlY2F1c2UgYFBvcHVwYCB3cmFwcyB0aGUgYW5jaG9yIGxvbmdpdHVkZSBhY3Jvc3MgY29waWVzIG9mIHRoZSB3b3JsZCB0byBrZWVwXG4gICAgICogdGhlIHBvcHVwIG9uIHNjcmVlbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtMbmdMYXR9IFRoZSBnZW9ncmFwaGljYWwgbG9jYXRpb24gb2YgdGhlIHBvcHVwJ3MgYW5jaG9yLlxuICAgICAqL1xuICAgIGdldExuZ0xhdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xuZ0xhdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnZW9ncmFwaGljYWwgbG9jYXRpb24gb2YgdGhlIHBvcHVwJ3MgYW5jaG9yLCBhbmQgbW92ZXMgdGhlIHBvcHVwIHRvIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGxuZ2xhdCBUaGUgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uIHRvIHNldCBhcyB0aGUgcG9wdXAncyBhbmNob3IuXG4gICAgICogQHJldHVybnMge1BvcHVwfSBgdGhpc2BcbiAgICAgKi9cbiAgICBzZXRMbmdMYXQobG5nbGF0OiBMbmdMYXRMaWtlKSB7XG4gICAgICAgIHRoaXMuX2xuZ0xhdCA9IExuZ0xhdC5jb252ZXJ0KGxuZ2xhdCk7XG4gICAgICAgIHRoaXMuX3BvcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb3B1cCdzIGNvbnRlbnQgdG8gYSBzdHJpbmcgb2YgdGV4dC5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBhIFtUZXh0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVGV4dCkgbm9kZSBpbiB0aGUgRE9NLFxuICAgICAqIHNvIGl0IGNhbm5vdCBpbnNlcnQgcmF3IEhUTUwuIFVzZSB0aGlzIG1ldGhvZCBmb3Igc2VjdXJpdHkgYWdhaW5zdCBYU1NcbiAgICAgKiBpZiB0aGUgcG9wdXAgY29udGVudCBpcyB1c2VyLXByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRleHQgVGV4dHVhbCBjb250ZW50IGZvciB0aGUgcG9wdXAuXG4gICAgICogQHJldHVybnMge1BvcHVwfSBgdGhpc2BcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCgpXG4gICAgICogICAuc2V0TG5nTGF0KGUubG5nTGF0KVxuICAgICAqICAgLnNldFRleHQoJ0hlbGxvLCB3b3JsZCEnKVxuICAgICAqICAgLmFkZFRvKG1hcCk7XG4gICAgICovXG4gICAgc2V0VGV4dCh0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0RE9NQ29udGVudCh3aW5kb3cuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvcHVwJ3MgY29udGVudCB0byB0aGUgSFRNTCBwcm92aWRlZCBhcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHBlcmZvcm0gSFRNTCBmaWx0ZXJpbmcgb3Igc2FuaXRpemF0aW9uLCBhbmQgbXVzdCBiZVxuICAgICAqIHVzZWQgb25seSB3aXRoIHRydXN0ZWQgY29udGVudC4gQ29uc2lkZXIge0BsaW5rIFBvcHVwI3NldFRleHR9IGlmXG4gICAgICogdGhlIGNvbnRlbnQgaXMgYW4gdW50cnVzdGVkIHRleHQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIGh0bWwgQSBzdHJpbmcgcmVwcmVzZW50aW5nIEhUTUwgY29udGVudCBmb3IgdGhlIHBvcHVwLlxuICAgICAqIEByZXR1cm5zIHtQb3B1cH0gYHRoaXNgXG4gICAgICovXG4gICAgc2V0SFRNTChodG1sOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZnJhZyA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgIGNvbnN0IHRlbXAgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpO1xuICAgICAgICBsZXQgY2hpbGQ7XG4gICAgICAgIHRlbXAuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNoaWxkID0gdGVtcC5maXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKCFjaGlsZCkgYnJlYWs7XG4gICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnNldERPTUNvbnRlbnQoZnJhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9wdXAncyBjb250ZW50IHRvIHRoZSBlbGVtZW50IHByb3ZpZGVkIGFzIGEgRE9NIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaHRtbE5vZGUgQSBET00gbm9kZSB0byBiZSB1c2VkIGFzIGNvbnRlbnQgZm9yIHRoZSBwb3B1cC5cbiAgICAgKiBAcmV0dXJucyB7UG9wdXB9IGB0aGlzYFxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gY3JlYXRlIGFuIGVsZW1lbnQgd2l0aCB0aGUgcG9wdXAgY29udGVudFxuICAgICAqIHZhciBkaXYgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICogZGl2LmlubmVySFRNTCA9ICdIZWxsbywgd29ybGQhJztcbiAgICAgKiB2YXIgcG9wdXAgPSBuZXcgbWFwYm94Z2wuUG9wdXAoKVxuICAgICAqICAgLnNldExuZ0xhdChlLmxuZ0xhdClcbiAgICAgKiAgIC5zZXRET01Db250ZW50KGRpdilcbiAgICAgKiAgIC5hZGRUbyhtYXApO1xuICAgICAqL1xuICAgIHNldERPTUNvbnRlbnQoaHRtbE5vZGU6IE5vZGUpIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlQ29udGVudCgpO1xuICAgICAgICB0aGlzLl9jb250ZW50LmFwcGVuZENoaWxkKGh0bWxOb2RlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDb250ZW50KCkge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgRE9NLnJlbW92ZSh0aGlzLl9jb250ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NvbnRlbnQgPSBET00uY3JlYXRlKCdkaXYnLCAnbWFwYm94Z2wtcG9wdXAtY29udGVudCcsIHRoaXMuX2NvbnRhaW5lcik7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbikge1xuICAgICAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24gPSBET00uY3JlYXRlKCdidXR0b24nLCAnbWFwYm94Z2wtcG9wdXAtY2xvc2UtYnV0dG9uJywgdGhpcy5fY29udGVudCk7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZUJ1dHRvbi50eXBlID0gJ2J1dHRvbic7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnQ2xvc2UgcG9wdXAnKTtcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmlubmVySFRNTCA9ICcmIzIxNTsnO1xuICAgICAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrQ2xvc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXAgfHwgIXRoaXMuX2xuZ0xhdCB8fCAhdGhpcy5fY29udGVudCkgeyByZXR1cm47IH1cblxuICAgICAgICBpZiAoIXRoaXMuX2NvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyID0gRE9NLmNyZWF0ZSgnZGl2JywgJ21hcGJveGdsLXBvcHVwJywgdGhpcy5fbWFwLmdldENvbnRhaW5lcigpKTtcbiAgICAgICAgICAgIHRoaXMuX3RpcCAgICAgICA9IERPTS5jcmVhdGUoJ2RpdicsICdtYXBib3hnbC1wb3B1cC10aXAnLCB0aGlzLl9jb250YWluZXIpO1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21hcC50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2xuZ0xhdCA9IHNtYXJ0V3JhcCh0aGlzLl9sbmdMYXQsIHRoaXMuX3BvcywgdGhpcy5fbWFwLnRyYW5zZm9ybSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl9wb3MgPSB0aGlzLl9tYXAucHJvamVjdCh0aGlzLl9sbmdMYXQpO1xuXG4gICAgICAgIGxldCBhbmNob3I6IEFuY2hvciA9IHRoaXMub3B0aW9ucy5hbmNob3I7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IG5vcm1hbGl6ZU9mZnNldCh0aGlzLm9wdGlvbnMub2Zmc2V0KTtcblxuICAgICAgICBpZiAoIWFuY2hvcikge1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl9jb250YWluZXIub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLl9jb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgbGV0IGFuY2hvckNvbXBvbmVudHM7XG5cbiAgICAgICAgICAgIGlmIChwb3MueSArIG9mZnNldC5ib3R0b20ueSA8IGhlaWdodCkge1xuICAgICAgICAgICAgICAgIGFuY2hvckNvbXBvbmVudHMgPSBbJ3RvcCddO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwb3MueSA+IHRoaXMuX21hcC50cmFuc2Zvcm0uaGVpZ2h0IC0gaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yQ29tcG9uZW50cyA9IFsnYm90dG9tJ107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuY2hvckNvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBvcy54IDwgd2lkdGggLyAyKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yQ29tcG9uZW50cy5wdXNoKCdsZWZ0Jyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvcy54ID4gdGhpcy5fbWFwLnRyYW5zZm9ybS53aWR0aCAtIHdpZHRoIC8gMikge1xuICAgICAgICAgICAgICAgIGFuY2hvckNvbXBvbmVudHMucHVzaCgncmlnaHQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGFuY2hvckNvbXBvbmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yID0gJ2JvdHRvbSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuY2hvciA9IChhbmNob3JDb21wb25lbnRzLmpvaW4oJy0nKTogYW55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9mZnNldGVkUG9zID0gcG9zLmFkZChvZmZzZXRbYW5jaG9yXSkucm91bmQoKTtcblxuICAgICAgICBET00uc2V0VHJhbnNmb3JtKHRoaXMuX2NvbnRhaW5lciwgYCR7YW5jaG9yVHJhbnNsYXRlW2FuY2hvcl19IHRyYW5zbGF0ZSgke29mZnNldGVkUG9zLnh9cHgsJHtvZmZzZXRlZFBvcy55fXB4KWApO1xuICAgICAgICBhcHBseUFuY2hvckNsYXNzKHRoaXMuX2NvbnRhaW5lciwgYW5jaG9yLCAncG9wdXAnKTtcbiAgICB9XG5cbiAgICBfb25DbGlja0Nsb3NlKCkge1xuICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplT2Zmc2V0KG9mZnNldDogP09mZnNldCkge1xuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVPZmZzZXQobmV3IFBvaW50KDAsIDApKTtcblxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgLy8gaW5wdXQgc3BlY2lmaWVzIGEgcmFkaXVzIGZyb20gd2hpY2ggdG8gY2FsY3VsYXRlIG9mZnNldHMgYXQgYWxsIHBvc2l0aW9uc1xuICAgICAgICBjb25zdCBjb3JuZXJPZmZzZXQgPSBNYXRoLnJvdW5kKE1hdGguc3FydCgwLjUgKiBNYXRoLnBvdyhvZmZzZXQsIDIpKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnY2VudGVyJzogbmV3IFBvaW50KDAsIDApLFxuICAgICAgICAgICAgJ3RvcCc6IG5ldyBQb2ludCgwLCBvZmZzZXQpLFxuICAgICAgICAgICAgJ3RvcC1sZWZ0JzogbmV3IFBvaW50KGNvcm5lck9mZnNldCwgY29ybmVyT2Zmc2V0KSxcbiAgICAgICAgICAgICd0b3AtcmlnaHQnOiBuZXcgUG9pbnQoLWNvcm5lck9mZnNldCwgY29ybmVyT2Zmc2V0KSxcbiAgICAgICAgICAgICdib3R0b20nOiBuZXcgUG9pbnQoMCwgLW9mZnNldCksXG4gICAgICAgICAgICAnYm90dG9tLWxlZnQnOiBuZXcgUG9pbnQoY29ybmVyT2Zmc2V0LCAtY29ybmVyT2Zmc2V0KSxcbiAgICAgICAgICAgICdib3R0b20tcmlnaHQnOiBuZXcgUG9pbnQoLWNvcm5lck9mZnNldCwgLWNvcm5lck9mZnNldCksXG4gICAgICAgICAgICAnbGVmdCc6IG5ldyBQb2ludChvZmZzZXQsIDApLFxuICAgICAgICAgICAgJ3JpZ2h0JzogbmV3IFBvaW50KC1vZmZzZXQsIDApXG4gICAgICAgIH07XG5cbiAgICB9IGVsc2UgaWYgKG9mZnNldCBpbnN0YW5jZW9mIFBvaW50IHx8IEFycmF5LmlzQXJyYXkob2Zmc2V0KSkge1xuICAgICAgICAvLyBpbnB1dCBzcGVjaWZpZXMgYSBzaW5nbGUgb2Zmc2V0IHRvIGJlIGFwcGxpZWQgdG8gYWxsIHBvc2l0aW9uc1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWRPZmZzZXQgPSBQb2ludC5jb252ZXJ0KG9mZnNldCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnY2VudGVyJzogY29udmVydGVkT2Zmc2V0LFxuICAgICAgICAgICAgJ3RvcCc6IGNvbnZlcnRlZE9mZnNldCxcbiAgICAgICAgICAgICd0b3AtbGVmdCc6IGNvbnZlcnRlZE9mZnNldCxcbiAgICAgICAgICAgICd0b3AtcmlnaHQnOiBjb252ZXJ0ZWRPZmZzZXQsXG4gICAgICAgICAgICAnYm90dG9tJzogY29udmVydGVkT2Zmc2V0LFxuICAgICAgICAgICAgJ2JvdHRvbS1sZWZ0JzogY29udmVydGVkT2Zmc2V0LFxuICAgICAgICAgICAgJ2JvdHRvbS1yaWdodCc6IGNvbnZlcnRlZE9mZnNldCxcbiAgICAgICAgICAgICdsZWZ0JzogY29udmVydGVkT2Zmc2V0LFxuICAgICAgICAgICAgJ3JpZ2h0JzogY29udmVydGVkT2Zmc2V0XG4gICAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpbnB1dCBzcGVjaWZpZXMgYW4gb2Zmc2V0IHBlciBwb3NpdGlvblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ2NlbnRlcic6IFBvaW50LmNvbnZlcnQob2Zmc2V0WydjZW50ZXInXSB8fCBbMCwgMF0pLFxuICAgICAgICAgICAgJ3RvcCc6IFBvaW50LmNvbnZlcnQob2Zmc2V0Wyd0b3AnXSB8fCBbMCwgMF0pLFxuICAgICAgICAgICAgJ3RvcC1sZWZ0JzogUG9pbnQuY29udmVydChvZmZzZXRbJ3RvcC1sZWZ0J10gfHwgWzAsIDBdKSxcbiAgICAgICAgICAgICd0b3AtcmlnaHQnOiBQb2ludC5jb252ZXJ0KG9mZnNldFsndG9wLXJpZ2h0J10gfHwgWzAsIDBdKSxcbiAgICAgICAgICAgICdib3R0b20nOiBQb2ludC5jb252ZXJ0KG9mZnNldFsnYm90dG9tJ10gfHwgWzAsIDBdKSxcbiAgICAgICAgICAgICdib3R0b20tbGVmdCc6IFBvaW50LmNvbnZlcnQob2Zmc2V0Wydib3R0b20tbGVmdCddIHx8IFswLCAwXSksXG4gICAgICAgICAgICAnYm90dG9tLXJpZ2h0JzogUG9pbnQuY29udmVydChvZmZzZXRbJ2JvdHRvbS1yaWdodCddIHx8IFswLCAwXSksXG4gICAgICAgICAgICAnbGVmdCc6IFBvaW50LmNvbnZlcnQob2Zmc2V0WydsZWZ0J10gfHwgWzAsIDBdKSxcbiAgICAgICAgICAgICdyaWdodCc6IFBvaW50LmNvbnZlcnQob2Zmc2V0WydyaWdodCddIHx8IFswLCAwXSlcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgc3VwcG9ydGVkIGZyb20gJ0BtYXBib3gvbWFwYm94LWdsLXN1cHBvcnRlZCc7XG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4vdXRpbC9icm93c2VyJztcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuLi9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IE1hcCBmcm9tICcuL3VpL21hcCc7XG5pbXBvcnQgTmF2aWdhdGlvbkNvbnRyb2wgZnJvbSAnLi91aS9jb250cm9sL25hdmlnYXRpb25fY29udHJvbCc7XG5pbXBvcnQgR2VvbG9jYXRlQ29udHJvbCBmcm9tICcuL3VpL2NvbnRyb2wvZ2VvbG9jYXRlX2NvbnRyb2wnO1xuaW1wb3J0IEF0dHJpYnV0aW9uQ29udHJvbCBmcm9tICcuL3VpL2NvbnRyb2wvYXR0cmlidXRpb25fY29udHJvbCc7XG5pbXBvcnQgU2NhbGVDb250cm9sIGZyb20gJy4vdWkvY29udHJvbC9zY2FsZV9jb250cm9sJztcbmltcG9ydCBGdWxsc2NyZWVuQ29udHJvbCBmcm9tICcuL3VpL2NvbnRyb2wvZnVsbHNjcmVlbl9jb250cm9sJztcbmltcG9ydCBQb3B1cCBmcm9tICcuL3VpL3BvcHVwJztcbmltcG9ydCBNYXJrZXIgZnJvbSAnLi91aS9tYXJrZXInO1xuaW1wb3J0IFN0eWxlIGZyb20gJy4vc3R5bGUvc3R5bGUnO1xuaW1wb3J0IExuZ0xhdCBmcm9tICcuL2dlby9sbmdfbGF0JztcbmltcG9ydCBMbmdMYXRCb3VuZHMgZnJvbSAnLi9nZW8vbG5nX2xhdF9ib3VuZHMnO1xuaW1wb3J0IFBvaW50IGZyb20gJ0BtYXBib3gvcG9pbnQtZ2VvbWV0cnknO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL3V0aWwvY29uZmlnJztcbmltcG9ydCB7c2V0UlRMVGV4dFBsdWdpbn0gZnJvbSAnLi9zb3VyY2UvcnRsX3RleHRfcGx1Z2luJztcblxuY29uc3QgZXhwb3J0ZWQgPSB7XG4gICAgdmVyc2lvbixcbiAgICBzdXBwb3J0ZWQsXG4gICAgd29ya2VyQ291bnQ6IE1hdGgubWF4KE1hdGguZmxvb3IoYnJvd3Nlci5oYXJkd2FyZUNvbmN1cnJlbmN5IC8gMiksIDEpLFxuICAgIHNldFJUTFRleHRQbHVnaW46IHNldFJUTFRleHRQbHVnaW4sXG4gICAgTWFwLFxuICAgIE5hdmlnYXRpb25Db250cm9sLFxuICAgIEdlb2xvY2F0ZUNvbnRyb2wsXG4gICAgQXR0cmlidXRpb25Db250cm9sLFxuICAgIFNjYWxlQ29udHJvbCxcbiAgICBGdWxsc2NyZWVuQ29udHJvbCxcbiAgICBQb3B1cCxcbiAgICBNYXJrZXIsXG4gICAgU3R5bGUsXG4gICAgTG5nTGF0LFxuICAgIExuZ0xhdEJvdW5kcyxcbiAgICBQb2ludCxcbiAgICBjb25maWcsXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuZCBzZXRzIHRoZSBtYXAncyBbYWNjZXNzIHRva2VuXShodHRwczovL3d3dy5tYXBib3guY29tL2hlbHAvZGVmaW5lLWFjY2Vzcy10b2tlbi8pLlxuICAgICAqXG4gICAgICogQHZhciB7c3RyaW5nfSBhY2Nlc3NUb2tlblxuICAgICAqIEBleGFtcGxlXG4gICAgICogbWFwYm94Z2wuYWNjZXNzVG9rZW4gPSBteUFjY2Vzc1Rva2VuO1xuICAgICAqIEBzZWUgW0Rpc3BsYXkgYSBtYXBdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGVzLylcbiAgICAgKi9cbiAgICBnZXQgYWNjZXNzVG9rZW4oKSB7XG4gICAgICAgIHJldHVybiBjb25maWcuQUNDRVNTX1RPS0VOO1xuICAgIH0sXG5cbiAgICBzZXQgYWNjZXNzVG9rZW4odG9rZW46IHN0cmluZykge1xuICAgICAgICBjb25maWcuQUNDRVNTX1RPS0VOID0gdG9rZW47XG4gICAgfSxcblxuICAgIHdvcmtlclVybDogJydcbn07XG5cbi8qKlxuICogVGhlIHZlcnNpb24gb2YgTWFwYm94IEdMIEpTIGluIHVzZSBhcyBzcGVjaWZpZWQgaW4gYHBhY2thZ2UuanNvbmAsXG4gKiBgQ0hBTkdFTE9HLm1kYCwgYW5kIHRoZSBHaXRIdWIgcmVsZWFzZS5cbiAqXG4gKiBAdmFyIHtzdHJpbmd9IHZlcnNpb25cbiAqL1xuXG4vKipcbiAqIFRlc3Qgd2hldGhlciB0aGUgYnJvd3NlciBbc3VwcG9ydHMgTWFwYm94IEdMIEpTXShodHRwczovL3d3dy5tYXBib3guY29tL2hlbHAvbWFwYm94LWJyb3dzZXItc3VwcG9ydC8jbWFwYm94LWdsLWpzKS5cbiAqXG4gKiBAZnVuY3Rpb24gc3VwcG9ydGVkXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9ZmFsc2VdIElmIGB0cnVlYCxcbiAqICAgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGBmYWxzZWAgaWYgdGhlIHBlcmZvcm1hbmNlIG9mIE1hcGJveCBHTCBKUyB3b3VsZFxuICogICBiZSBkcmFtYXRpY2FsbHkgd29yc2UgdGhhbiBleHBlY3RlZCAoZS5nLiBhIHNvZnR3YXJlIFdlYkdMIHJlbmRlcmVyIHdvdWxkIGJlIHVzZWQpLlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqIEBleGFtcGxlXG4gKiBtYXBib3hnbC5zdXBwb3J0ZWQoKSAvLyA9IHRydWVcbiAqIEBzZWUgW0NoZWNrIGZvciBicm93c2VyIHN1cHBvcnRdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvY2hlY2stZm9yLXN1cHBvcnQvKVxuICovXG5cbi8qKlxuICogU2V0cyB0aGUgbWFwJ3MgW1JUTCB0ZXh0IHBsdWdpbl0oaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvcGx1Z2lucy8jbWFwYm94LWdsLXJ0bC10ZXh0KS5cbiAqIE5lY2Vzc2FyeSBmb3Igc3VwcG9ydGluZyBsYW5ndWFnZXMgbGlrZSBBcmFiaWMgYW5kIEhlYnJldyB0aGF0IGFyZSB3cml0dGVuIHJpZ2h0LXRvLWxlZnQuXG4gKlxuICogQGZ1bmN0aW9uIHNldFJUTFRleHRQbHVnaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5VUkwgVVJMIHBvaW50aW5nIHRvIHRoZSBNYXBib3ggUlRMIHRleHQgcGx1Z2luIHNvdXJjZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCB3aXRoIGFuIGVycm9yIGFyZ3VtZW50IGlmIHRoZXJlIGlzIGFuIGVycm9yLlxuICogQGV4YW1wbGVcbiAqIG1hcGJveGdsLnNldFJUTFRleHRQbHVnaW4oJ2h0dHBzOi8vYXBpLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL3BsdWdpbnMvbWFwYm94LWdsLXJ0bC10ZXh0L3YwLjEuMS9tYXBib3gtZ2wtcnRsLXRleHQuanMnKTtcbiAqIEBzZWUgW0FkZCBzdXBwb3J0IGZvciByaWdodC10by1sZWZ0IHNjcmlwdHNdKGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2V4YW1wbGUvbWFwYm94LWdsLXJ0bC10ZXh0LylcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBleHBvcnRlZDtcblxuLy8gY2FuYXJ5IGFzc2VydDogdXNlZCB0byBjb25maXJtIHRoYXQgYXNzZXJ0cyBoYXZlIGJlZW4gcmVtb3ZlZCBmcm9tIHByb2R1Y3Rpb24gYnVpbGRcbmFzc2VydCh0cnVlLCAnY2FuYXJ5IGFzc2VydCcpO1xuIl0sIm5hbWVzIjpbImlzU3VwcG9ydGVkIiwib3B0aW9ucyIsIndpbmRvdyIsImRvY3VtZW50IiwiQXJyYXkiLCJwcm90b3R5cGUiLCJldmVyeSIsImZpbHRlciIsImZvckVhY2giLCJpbmRleE9mIiwibGFzdEluZGV4T2YiLCJtYXAiLCJzb21lIiwicmVkdWNlIiwicmVkdWNlUmlnaHQiLCJpc0FycmF5IiwiRnVuY3Rpb24iLCJiaW5kIiwiT2JqZWN0Iiwia2V5cyIsImNyZWF0ZSIsImdldFByb3RvdHlwZU9mIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImlzU2VhbGVkIiwiaXNGcm96ZW4iLCJpc0V4dGVuc2libGUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJkZWZpbmVQcm9wZXJ0eSIsImRlZmluZVByb3BlcnRpZXMiLCJzZWFsIiwiZnJlZXplIiwicHJldmVudEV4dGVuc2lvbnMiLCJKU09OIiwic3VwcG9ydGVkIiwid29ya2VyIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwid29ya2VyVVJMIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiV29ya2VyIiwiZSIsInRlcm1pbmF0ZSIsInJldm9rZU9iamVjdFVSTCIsImlzV29ya2VyU3VwcG9ydGVkIiwiZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCIsInVuZGVmaW5lZCIsImlzV2ViR0xTdXBwb3J0ZWRDYWNoZSIsImNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwid2ViR0xDb250ZXh0QXR0cmlidXRlcyIsInByb2JhYmx5U3VwcG9ydHNDb250ZXh0Iiwic3VwcG9ydHNDb250ZXh0IiwiZ2V0Q29udGV4dCIsImlzV2ViR0xTdXBwb3J0ZWQiLCJpc1dlYkdMU3VwcG9ydGVkQ2FjaGVkIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1hcGJveGdsIiwiYW50aWFsaWFzIiwiYWxwaGEiLCJzdGVuY2lsIiwiZGVwdGgiLCJub3ciLCJwZXJmb3JtYW5jZSIsIkRhdGUiLCJyYWYiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtc1JlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwibW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSIsIm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJleHBvcnRlZCIsImZyYW1lIiwiZm4iLCJjYW5jZWxGcmFtZSIsImlkIiwiZ2V0SW1hZ2VEYXRhIiwiaW1nIiwiY29uc3QiLCJjb250ZXh0IiwiRXJyb3IiLCJ3aWR0aCIsImhlaWdodCIsImRyYXdJbWFnZSIsImhhcmR3YXJlQ29uY3VycmVuY3kiLCJuYXZpZ2F0b3IiLCJkZXZpY2VQaXhlbFJhdGlvIiwic3VwcG9ydHNXZWJwIiwid2VicEltZ1Rlc3QiLCJvbmxvYWQiLCJzcmMiLCJET00iLCJ0YWdOYW1lIiwiY2xhc3NOYW1lIiwiY29udGFpbmVyIiwiZWwiLCJhcHBlbmRDaGlsZCIsIm5hbWVzcGFjZVVSSSIsImNyZWF0ZUVsZW1lbnROUyIsImRvY1N0eWxlIiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJ0ZXN0UHJvcCIsInByb3BzIiwibGV0IiwiaSIsImxlbmd0aCIsInVzZXJTZWxlY3QiLCJzZWxlY3RQcm9wIiwiZGlzYWJsZURyYWciLCJlbmFibGVEcmFnIiwidHJhbnNmb3JtUHJvcCIsInNldFRyYW5zZm9ybSIsInZhbHVlIiwicGFzc2l2ZVN1cHBvcnRlZCIsImdldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXJyIiwidGFyZ2V0IiwiY2FsbGJhY2siLCJjYXB0dXJlIiwic3VwcHJlc3NDbGljayIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwic2V0VGltZW91dCIsIm1vdXNlUG9zIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvdWNoZXMiLCJQb2ludCIsImNsaWVudFgiLCJsZWZ0IiwiY2xpZW50TGVmdCIsImNsaWVudFkiLCJ0b3AiLCJjbGllbnRUb3AiLCJ0b3VjaFBvcyIsInBvaW50cyIsImNoYW5nZWRUb3VjaGVzIiwicHVzaCIsIm1vdXNlQnV0dG9uIiwiSW5zdGFsbFRyaWdnZXIiLCJidXR0b24iLCJjdHJsS2V5IiwicGxhdGZvcm0iLCJ0b1VwcGVyQ2FzZSIsInJlbW92ZSIsIm5vZGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjb25maWciLCJBUElfVVJMIiwiUkVRVUlSRV9BQ0NFU1NfVE9LRU4iLCJBQ0NFU1NfVE9LRU4iLCJoZWxwIiwibWFrZUFQSVVSTCIsInVybE9iamVjdCIsImFjY2Vzc1Rva2VuIiwiYXBpVXJsT2JqZWN0IiwicGFyc2VVcmwiLCJwcm90b2NvbCIsImF1dGhvcml0eSIsInBhdGgiLCJmb3JtYXRVcmwiLCJwYXJhbXMiLCJpc01hcGJveFVSTCIsInVybCIsIm5vcm1hbGl6ZUdseXBoc1VSTCIsIm5vcm1hbGl6ZVNvdXJjZVVSTCIsIm5vcm1hbGl6ZVNwcml0ZVVSTCIsImZvcm1hdCIsImV4dGVuc2lvbiIsImltYWdlRXh0ZW5zaW9uUmUiLCJub3JtYWxpemVUaWxlVVJMIiwidGlsZVVSTCIsInNvdXJjZVVSTCIsInRpbGVTaXplIiwic3VmZml4IiwiYnJvd3NlciIsInJlcGxhY2UiLCJyZXBsYWNlVGVtcEFjY2Vzc1Rva2VuIiwidXJsUmUiLCJwYXJ0cyIsIm1hdGNoIiwic3BsaXQiLCJvYmoiLCJqb2luIiwiSFRNTEltYWdlRWxlbWVudCIsIkhUTUxDYW52YXNFbGVtZW50IiwiSFRNTFZpZGVvRWxlbWVudCIsIkltYWdlRGF0YSIsIlRleHR1cmUiLCJpbWFnZSIsInByZW11bHRpcGx5IiwidGhpcyIsInNpemUiLCJ0ZXh0dXJlIiwiZ2wiLCJjcmVhdGVUZXh0dXJlIiwidXBkYXRlIiwiYmluZFRleHR1cmUiLCJURVhUVVJFXzJEIiwicGl4ZWxTdG9yZVVucGFjayIsInNldCIsIlJHQkEiLCJwaXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYSIsInRleEltYWdlMkQiLCJVTlNJR05FRF9CWVRFIiwiZGF0YSIsIndyYXAiLCJtaW5GaWx0ZXIiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsImRlc3Ryb3kiLCJkZWxldGVUZXh0dXJlIiwiSW1hZ2VNYW5hZ2VyIiwiaW1hZ2VzIiwibG9hZGVkIiwicmVxdWVzdG9ycyIsInNoZWxmUGFjayIsIlNoZWxmUGFjayIsImF1dG9SZXNpemUiLCJwYXR0ZXJucyIsImF0bGFzSW1hZ2UiLCJSR0JBSW1hZ2UiLCJkaXJ0eSIsImlzTG9hZGVkIiwic2V0TG9hZGVkIiwicmVmIiwiaWRzIiwiX25vdGlmeSIsImdldEltYWdlIiwiYWRkSW1hZ2UiLCJyZW1vdmVJbWFnZSIsInBhdHRlcm4iLCJ1bnJlZiIsImJpbiIsImdldEltYWdlcyIsImhhc0FsbERlcGVuZGVuY2llcyIsInJlc3BvbnNlIiwiY2xvbmUiLCJwaXhlbFJhdGlvIiwic2RmIiwiZ2V0UGl4ZWxTaXplIiwidyIsImgiLCJnZXRQYXR0ZXJuIiwicG9zaXRpb24iLCJwYWRkaW5nIiwicGFja09uZSIsInJlc2l6ZSIsImRzdCIsIngiLCJ5IiwiY29weSIsIkltYWdlUG9zaXRpb24iLCJhdGxhc1RleHR1cmUiLCJMSU5FQVIiLCJDTEFNUF9UT19FREdFIiwiVGlueVNERiIsIklORiIsImZvbnRTaXplIiwiYnVmZmVyIiwicmFkaXVzIiwiY3V0b2ZmIiwiZm9udEZhbWlseSIsImZvbnRXZWlnaHQiLCJjdHgiLCJmb250IiwidGV4dEJhc2VsaW5lIiwiZmlsbFN0eWxlIiwiZ3JpZE91dGVyIiwiRmxvYXQ2NEFycmF5IiwiZ3JpZElubmVyIiwiZiIsImQiLCJ6IiwidiIsIkludDE2QXJyYXkiLCJtaWRkbGUiLCJNYXRoIiwicm91bmQiLCJ1c2VyQWdlbnQiLCJlZHQiLCJlZHQxZCIsInNxcnQiLCJuIiwicSIsImsiLCJzIiwiZHJhdyIsImNoYXIiLCJjbGVhclJlY3QiLCJmaWxsVGV4dCIsImltZ0RhdGEiLCJhbHBoYUNoYW5uZWwiLCJVaW50OENsYW1wZWRBcnJheSIsImEiLCJwb3ciLCJtYXgiLCJtaW4iLCJHbHlwaE1hbmFnZXIiLCJyZXF1ZXN0VHJhbnNmb3JtIiwibG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5IiwiZW50cmllcyIsInNldFVSTCIsImdldEdseXBocyIsImdseXBocyIsImFsbCIsInN0YWNrIiwiYXN5bmNBbGwiLCJlbnRyeSIsInJlcXVlc3RzIiwiZ2x5cGgiLCJfdGlueVNERiIsInJhbmdlIiwiZmxvb3IiLCJsb2FkR2x5cGhSYW5nZSIsImNiIiwicmVzdWx0IiwiYml0bWFwIiwibWV0cmljcyIsImZhbWlseSIsImlzQ2hhciIsInRpbnlTREYiLCJ0ZXN0IiwiQWxwaGFJbWFnZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImFkdmFuY2UiLCJMaWdodFBvc2l0aW9uUHJvcGVydHkiLCJzcGVjaWZpY2F0aW9uIiwic3R5bGVTcGVjIiwibGlnaHQiLCJwb3NzaWJseUV2YWx1YXRlIiwicGFyYW1ldGVycyIsInNwaGVyaWNhbFRvQ2FydGVzaWFuIiwiZXhwcmVzc2lvbiIsImV2YWx1YXRlIiwiaW50ZXJwb2xhdGUiLCJiIiwidCIsInByb3BlcnRpZXMiLCJQcm9wZXJ0aWVzIiwiYW5jaG9yIiwiRGF0YUNvbnN0YW50UHJvcGVydHkiLCJjb2xvciIsImludGVuc2l0eSIsIkxpZ2h0IiwibGlnaHRPcHRpb25zIiwic3VwZXIiLCJfdHJhbnNpdGlvbmFibGUiLCJUcmFuc2l0aW9uYWJsZSIsInNldExpZ2h0IiwiX3RyYW5zaXRpb25pbmciLCJ1bnRyYW5zaXRpb25lZCIsImdldExpZ2h0Iiwic2VyaWFsaXplIiwiX3ZhbGlkYXRlIiwidmFsaWRhdGVMaWdodCIsIm5hbWUiLCJlbmRzV2l0aCIsInNldFRyYW5zaXRpb24iLCJzbGljZSIsInNldFZhbHVlIiwidXBkYXRlVHJhbnNpdGlvbnMiLCJ0cmFuc2l0aW9uZWQiLCJoYXNUcmFuc2l0aW9uIiwicmVjYWxjdWxhdGUiLCJ2YWxpZGF0ZSIsImVtaXRWYWxpZGF0aW9uRXJyb3JzIiwiY2FsbCIsInZhbGlkYXRlU3R5bGUiLCJleHRlbmQiLCJzcHJpdGUiLCJFdmVudGVkIiwiTGluZUF0bGFzIiwibmV4dFJvdyIsImJ5dGVzIiwiVWludDhBcnJheSIsInBvc2l0aW9ucyIsImdldERhc2giLCJkYXNoYXJyYXkiLCJrZXkiLCJhZGREYXNoIiwid2Fybk9uY2UiLCJzdHJldGNoIiwiaGFsZldpZHRoIiwib2RkTGVuZ3RoIiwicm93IiwiaW5kZXgiLCJyaWdodCIsInBhcnRJbmRleCIsImRpc3RMZWZ0IiwiYWJzIiwiZGlzdFJpZ2h0IiwiZGlzdCIsImluc2lkZSIsInNpZ25lZERpc3RhbmNlIiwiZGlzdE1pZGRsZSIsImRpc3RFZGdlIiwicG9zIiwidGV4U3ViSW1hZ2UyRCIsIlJFUEVBVCIsIkRpc3BhdGNoZXIiLCJ3b3JrZXJQb29sIiwicGFyZW50IiwiYWN0b3JzIiwiY3VycmVudEFjdG9yIiwidW5pcXVlSWQiLCJ3b3JrZXJzIiwiYWNxdWlyZSIsImFjdG9yIiwiQWN0b3IiLCJicm9hZGNhc3QiLCJkb25lIiwic2VuZCIsInRhcmdldElEIiwiaXNOYU4iLCJyZWxlYXNlIiwiTG5nTGF0IiwibG5nIiwibGF0IiwidG9BcnJheSIsInRvU3RyaW5nIiwidG9Cb3VuZHMiLCJsYXRBY2N1cmFjeSIsImxuZ0FjY3VyYWN5IiwiY29zIiwiUEkiLCJMbmdMYXRCb3VuZHMiLCJjb252ZXJ0IiwiaW5wdXQiLCJOdW1iZXIiLCJzdyIsIm5lIiwic2V0U291dGhXZXN0Iiwic2V0Tm9ydGhFYXN0IiwiX25lIiwiX3N3Iiwic3cyIiwibmUyIiwiZ2V0Q2VudGVyIiwiZ2V0U291dGhXZXN0IiwiZ2V0Tm9ydGhFYXN0IiwiZ2V0Tm9ydGhXZXN0IiwiZ2V0V2VzdCIsImdldE5vcnRoIiwiZ2V0U291dGhFYXN0IiwiZ2V0RWFzdCIsImdldFNvdXRoIiwiaXNFbXB0eSIsIlRpbGVCb3VuZHMiLCJib3VuZHMiLCJtaW56b29tIiwibWF4em9vbSIsInZhbGlkYXRlQm91bmRzIiwiY29udGFpbnMiLCJ0aWxlSUQiLCJsZXZlbCIsImxuZ1giLCJsYXRZIiwiY2VpbCIsInpvb20iLCJjbGFtcCIsInNpbiIsInNjYWxlIiwibG9nIiwiVmVjdG9yVGlsZVNvdXJjZSIsImRpc3BhdGNoZXIiLCJldmVudGVkUGFyZW50Iiwic2NoZW1lIiwicmVwYXJzZU92ZXJzY2FsZWQiLCJpc1RpbGVDbGlwcGVkIiwicGljayIsIl9vcHRpb25zIiwiX2NvbGxlY3RSZXNvdXJjZVRpbWluZyIsImNvbGxlY3RSZXNvdXJjZVRpbWluZyIsInNldEV2ZW50ZWRQYXJlbnQiLCJsb2FkIiwiZmlyZSIsIkV2ZW50IiwiZGF0YVR5cGUiLCJsb2FkVGlsZUpTT04iLCJfdHJhbnNmb3JtUmVxdWVzdCIsInRpbGVKU09OIiwiRXJyb3JFdmVudCIsInRpbGVCb3VuZHMiLCJzb3VyY2VEYXRhVHlwZSIsImhhc1RpbGUiLCJjYW5vbmljYWwiLCJvbkFkZCIsImxvYWRUaWxlIiwidGlsZSIsIm92ZXJzY2FsaW5nIiwib3ZlcnNjYWxlRmFjdG9yIiwibm9ybWFsaXplVVJMIiwidGlsZXMiLCJyZXF1ZXN0IiwiUmVzb3VyY2VUeXBlIiwiVGlsZSIsInVpZCIsIm92ZXJzY2FsZWRaIiwic291cmNlIiwic2hvd0NvbGxpc2lvbkJveGVzIiwiYWJvcnRlZCIsInJlc291cmNlVGltaW5nIiwiX3JlZnJlc2hFeHBpcmVkVGlsZXMiLCJzZXRFeHBpcnlEYXRhIiwibG9hZFZlY3RvckRhdGEiLCJwYWludGVyIiwicmVsb2FkQ2FsbGJhY2siLCJ3b3JrZXJJRCIsInN0YXRlIiwiYWJvcnRUaWxlIiwidW5sb2FkVGlsZSIsInVubG9hZFZlY3RvckRhdGEiLCJSYXN0ZXJUaWxlU291cmNlIiwicm91bmRab29tIiwiX2xvYWRlZCIsImNhY2hlQ29udHJvbCIsImV4cGlyZXMiLCJnZXRUaWxlVGV4dHVyZSIsIk5FQVJFU1QiLCJMSU5FQVJfTUlQTUFQX05FQVJFU1QiLCJleHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMiLCJ0ZXhQYXJhbWV0ZXJmIiwiVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJleHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXgiLCJnZW5lcmF0ZU1pcG1hcCIsImFib3J0Iiwic2F2ZVRpbGVUZXh0dXJlIiwiUmFzdGVyREVNVGlsZVNvdXJjZSIsImVuY29kaW5nIiwicmF3SW1hZ2VEYXRhIiwiY29vcmQiLCJkZW0iLCJuZWVkc0hpbGxzaGFkZVByZXBhcmUiLCJuZWlnaGJvcmluZ1RpbGVzIiwiX2dldE5laWdoYm9yaW5nVGlsZXMiLCJkaW0iLCJweCIsInB4dyIsIm54Iiwibnh3IiwiT3ZlcnNjYWxlZFRpbGVJRCIsImJhY2tmaWxsZWQiLCJkZW1UZXh0dXJlIiwiZmJvIiwiR2VvSlNPTlNvdXJjZSIsIl9yZW1vdmVkIiwiX2RhdGEiLCJfcmVzb3VyY2VUaW1pbmciLCJFWFRFTlQiLCJ3b3JrZXJPcHRpb25zIiwiY2x1c3RlciIsImdlb2pzb25WdE9wdGlvbnMiLCJ0b2xlcmFuY2UiLCJleHRlbnQiLCJtYXhab29tIiwic3VwZXJjbHVzdGVyT3B0aW9ucyIsImNsdXN0ZXJNYXhab29tIiwiY2x1c3RlclJhZGl1cyIsIl91cGRhdGVXb3JrZXJEYXRhIiwic2V0RGF0YSIsImhyZWYiLCJTb3VyY2UiLCJzdHJpbmdpZnkiLCJhYmFuZG9uZWQiLCJtZXNzYWdlIiwib25SZW1vdmUiLCJWZXJ0ZXhBcnJheU9iamVjdCIsImJvdW5kUHJvZ3JhbSIsImJvdW5kTGF5b3V0VmVydGV4QnVmZmVyIiwiYm91bmRQYWludFZlcnRleEJ1ZmZlcnMiLCJib3VuZEluZGV4QnVmZmVyIiwiYm91bmRWZXJ0ZXhPZmZzZXQiLCJib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXIiLCJ2YW8iLCJwcm9ncmFtIiwibGF5b3V0VmVydGV4QnVmZmVyIiwicGFpbnRWZXJ0ZXhCdWZmZXJzIiwiaW5kZXhCdWZmZXIiLCJ2ZXJ0ZXhPZmZzZXQiLCJkeW5hbWljVmVydGV4QnVmZmVyIiwiZHluYW1pY1ZlcnRleEJ1ZmZlcjIiLCJwYWludEJ1ZmZlcnNEaWZmZXIiLCJpc0ZyZXNoQmluZFJlcXVpcmVkIiwiYm91bmREeW5hbWljVmVydGV4QnVmZmVyMiIsImV4dFZlcnRleEFycmF5T2JqZWN0IiwiZnJlc2hCaW5kIiwiYmluZFZlcnRleEFycmF5T0VTIiwiZHluYW1pY0RyYXciLCJudW1QcmV2QXR0cmlidXRlcyIsIm51bU5leHRBdHRyaWJ1dGVzIiwibnVtQXR0cmlidXRlcyIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwiY3VycmVudE51bUF0dHJpYnV0ZXMiLCJkaXNhYmxlVmVydGV4QXR0cmliQXJyYXkiLCJlbmFibGVBdHRyaWJ1dGVzIiwic2V0VmVydGV4QXR0cmliUG9pbnRlcnMiLCJ2ZXJ0ZXhCdWZmZXIiLCJ2ZXJ0ZXhCdWZmZXIkMSIsImRlbGV0ZVZlcnRleEFycmF5T0VTIiwiSW1hZ2VTb3VyY2UiLCJjb29yZGluYXRlcyIsIkltYWdlIiwiX2ZpbmlzaExvYWRpbmciLCJzZXRDb29yZGluYXRlcyIsImNvcm5lclowQ29vcmRzIiwidHJhbnNmb3JtIiwibG9jYXRpb25Db29yZGluYXRlIiwiem9vbVRvIiwiY2VudGVyQ29vcmQiLCJnZXRDb29yZGluYXRlc0NlbnRlciIsImNvbHVtbiIsIkNhbm9uaWNhbFRpbGVJRCIsInRpbGVDb29yZHMiLCJ6b29tZWRDb29yZCIsIl9ib3VuZHNBcnJheSIsIlJhc3RlckJvdW5kc0FycmF5IiwiZW1wbGFjZUJhY2siLCJib3VuZHNCdWZmZXIiLCJwcmVwYXJlIiwiY3JlYXRlVmVydGV4QnVmZmVyIiwicmFzdGVyQm91bmRzQXR0cmlidXRlcyIsIm1lbWJlcnMiLCJib3VuZHNWQU8iLCJlcXVhbHMiLCJidWNrZXRzIiwiVmlkZW9Tb3VyY2UiLCJ1cmxzIiwiZ2V0VmlkZW8iLCJ2aWRlbyIsImxvb3AiLCJfcmVyZW5kZXIiLCJwbGF5IiwicmVhZHlTdGF0ZSIsInBhdXNlZCIsIkNhbnZhc1NvdXJjZSIsImFuaW1hdGUiLCJnZXRFbGVtZW50QnlJZCIsIl9oYXNJbnZhbGlkRGltZW5zaW9ucyIsIl9wbGF5aW5nIiwicGF1c2UiLCJnZXRDYW52YXMiLCJzb3VyY2VUeXBlcyIsInZlY3RvciIsInJhc3RlciIsInJhc3Rlci1kZW0iLCJyYXN0ZXJEZW0iLCJnZW9qc29uIiwiYmluZEFsbCIsInF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyIsInNvdXJjZUNhY2hlIiwic3R5bGVMYXllcnMiLCJxdWVyeUdlb21ldHJ5IiwiY29sbGlzaW9uSW5kZXgiLCJtYXhQaXRjaFNjYWxlRmFjdG9yIiwidGlsZXNJbiIsInNvcnQiLCJzb3J0VGlsZXNJbiIsInJlbmRlcmVkRmVhdHVyZUxheWVycyIsInRpbGVJbiIsIndyYXBwZWRUaWxlSUQiLCJ3cmFwcGVkIiwicXVlcnlSZXN1bHRzIiwiY2FsY3VsYXRlUG9zTWF0cml4IiwidG9VbndyYXBwZWQiLCJ3cmFwcGVkSURMYXllck1hcCIsIndyYXBwZWRJRCIsIndyYXBwZWRJRExheWVycyIsImxheWVySUQiLCJ0aWxlRmVhdHVyZXMiLCJ3cmFwcGVkSURGZWF0dXJlcyIsInJlc3VsdEZlYXR1cmVzIiwidGlsZUZlYXR1cmUiLCJmZWF0dXJlSW5kZXgiLCJmZWF0dXJlIiwibWVyZ2VSZW5kZXJlZEZlYXR1cmVMYXllcnMiLCJpZEEiLCJpZEIiLCJHcmlkSW5kZXgiLCJjZWxsU2l6ZSIsImJveENlbGxzIiwiY2lyY2xlQ2VsbHMiLCJ4Q2VsbENvdW50IiwieUNlbGxDb3VudCIsImNpcmNsZUtleXMiLCJib3hLZXlzIiwiYmJveGVzIiwiY2lyY2xlcyIsInhTY2FsZSIsInlTY2FsZSIsImJveFVpZCIsImNpcmNsZVVpZCIsImtleXNMZW5ndGgiLCJpbnNlcnQiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIl9mb3JFYWNoQ2VsbCIsIl9pbnNlcnRCb3hDZWxsIiwiaW5zZXJ0Q2lyY2xlIiwiX2luc2VydENpcmNsZUNlbGwiLCJjZWxsSW5kZXgiLCJfcXVlcnkiLCJoaXRUZXN0IiwiY29uY2F0IiwicXVlcnlBcmdzIiwic2VlblVpZHMiLCJib3giLCJjaXJjbGUiLCJfcXVlcnlDZWxsIiwiX3F1ZXJ5Q2lyY2xlIiwiX3F1ZXJ5Q2VsbENpcmNsZSIsInF1ZXJ5IiwiaGl0VGVzdENpcmNsZSIsImJveENlbGwiLCJvZmZzZXQiLCJjaXJjbGVDZWxsIiwiX2NpcmNsZUFuZFJlY3RDb2xsaWRlIiwiX2NpcmNsZXNDb2xsaWRlIiwiYXJnMSIsImFyZzIiLCJjeDEiLCJfY29udmVydFRvWENlbGxDb29yZCIsImN5MSIsIl9jb252ZXJ0VG9ZQ2VsbENvb3JkIiwiY3gyIiwiY3kyIiwicjEiLCJyMiIsImR4IiwiZHkiLCJib3RoUmFkaWkiLCJjaXJjbGVYIiwiY2lyY2xlWSIsImhhbGZSZWN0V2lkdGgiLCJkaXN0WCIsImhhbGZSZWN0SGVpZ2h0IiwiZGlzdFkiLCJzeW1ib2xMYXlvdXRQcm9wZXJ0aWVzIiwibGF5b3V0IiwiZ2V0TGFiZWxQbGFuZU1hdHJpeCIsInBvc01hdHJpeCIsInBpdGNoV2l0aE1hcCIsInJvdGF0ZVdpdGhNYXAiLCJwaXhlbHNUb1RpbGVVbml0cyIsIm0iLCJtYXQ0IiwiaWRlbnRpdHkiLCJGbG9hdDMyQXJyYXkiLCJyb3RhdGVaIiwiYW5nbGUiLCJ0cmFuc2xhdGUiLCJtdWx0aXBseSIsImdldEdsQ29vcmRNYXRyaXgiLCJwcm9qZWN0IiwicG9pbnQiLCJtYXRyaXgiLCJ4eVRyYW5zZm9ybU1hdDQiLCJzaWduZWREaXN0YW5jZUZyb21DYW1lcmEiLCJpc1Zpc2libGUiLCJhbmNob3JQb3MiLCJjbGlwcGluZ0J1ZmZlciIsInVwZGF0ZUxpbmVMYWJlbHMiLCJidWNrZXQiLCJpc1RleHQiLCJsYWJlbFBsYW5lTWF0cml4IiwiZ2xDb29yZE1hdHJpeCIsImtlZXBVcHJpZ2h0Iiwic2l6ZURhdGEiLCJ0ZXh0U2l6ZURhdGEiLCJpY29uU2l6ZURhdGEiLCJwYXJ0aWFsbHlFdmFsdWF0ZWRTaXplIiwic3ltYm9sU2l6ZSIsImR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSIsInRleHQiLCJpY29uIiwiY2xlYXIiLCJsaW5lVmVydGV4QXJyYXkiLCJwbGFjZWRTeW1ib2xzIiwicGxhY2VkU3ltYm9sQXJyYXkiLCJhc3BlY3RSYXRpbyIsInVzZVZlcnRpY2FsIiwic3ltYm9sIiwiaGlkZGVuIiwid3JpdGluZ01vZGUiLCJXcml0aW5nTW9kZSIsInZlcnRpY2FsIiwiaGlkZUdseXBocyIsIm51bUdseXBocyIsImFuY2hvclgiLCJhbmNob3JZIiwidmVjNCIsInRyYW5zZm9ybU1hdDQiLCJwZXJzcGVjdGl2ZVJhdGlvIiwiY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSIsInBpdGNoU2NhbGVkRm9udFNpemUiLCJ0aWxlQW5jaG9yUG9pbnQiLCJhbmNob3JQb2ludCIsInByb2plY3Rpb25DYWNoZSIsInBsYWNlVW5mbGlwcGVkIiwicGxhY2VHbHlwaHNBbG9uZ0xpbmUiLCJnbHlwaE9mZnNldEFycmF5Iiwibm90RW5vdWdoUm9vbSIsIm5lZWRzRmxpcHBpbmciLCJkeW5hbWljTGF5b3V0VmVydGV4QnVmZmVyIiwidXBkYXRlRGF0YSIsInBsYWNlRmlyc3RBbmRMYXN0R2x5cGgiLCJmb250U2NhbGUiLCJsaW5lT2Zmc2V0WCIsImxpbmVPZmZzZXRZIiwiZmxpcCIsInJldHVyblRpbGVEaXN0YW5jZSIsImdseXBoRW5kSW5kZXgiLCJnbHlwaFN0YXJ0SW5kZXgiLCJsaW5lU3RhcnRJbmRleCIsImxpbmVFbmRJbmRleCIsImxpbmVMZW5ndGgiLCJmaXJzdEdseXBoT2Zmc2V0IiwiZ2V0b2Zmc2V0WCIsImxhc3RHbHlwaE9mZnNldCIsImZpcnN0UGxhY2VkR2x5cGgiLCJwbGFjZUdseXBoQWxvbmdMaW5lIiwic2VnbWVudCIsImxhc3RQbGFjZWRHbHlwaCIsImZpcnN0IiwibGFzdCIsInJlcXVpcmVzT3JpZW50YXRpb25DaGFuZ2UiLCJmaXJzdFBvaW50IiwibGFzdFBvaW50IiwiaG9yaXpvbnRhbCIsInBsYWNlZEdseXBocyIsImZpcnN0QW5kTGFzdEdseXBoIiwib3JpZW50YXRpb25DaGFuZ2UiLCJnbHlwaEluZGV4IiwidGlsZVZlcnRleEluZGV4IiwidGlsZVNlZ21lbnRFbmQiLCJnZXR4IiwiZ2V0eSIsInByb2plY3RlZFZlcnRleCIsInByb2plY3RUcnVuY2F0ZWRMaW5lU2VnbWVudCIsInNpbmdsZUdseXBoIiwiYWRkRHluYW1pY0F0dHJpYnV0ZXMiLCJwcmV2aW91c1RpbGVQb2ludCIsImN1cnJlbnRUaWxlUG9pbnQiLCJwcmV2aW91c1Byb2plY3RlZFBvaW50IiwibWluaW11bUxlbmd0aCIsInByb2plY3Rpb25NYXRyaXgiLCJwcm9qZWN0ZWRVbml0VmVydGV4IiwiYWRkIiwic3ViIiwiX3VuaXQiLCJwcm9qZWN0ZWRVbml0U2VnbWVudCIsIl9tdWx0IiwibWFnIiwib2Zmc2V0WCIsImFuY2hvclNlZ21lbnQiLCJjb21iaW5lZE9mZnNldFgiLCJkaXIiLCJjdXJyZW50SW5kZXgiLCJpbml0aWFsSW5kZXgiLCJjdXJyZW50IiwicHJldiIsImRpc3RhbmNlVG9QcmV2IiwiY3VycmVudFNlZ21lbnREaXN0YW5jZSIsImFic09mZnNldFgiLCJjdXJyZW50VmVydGV4IiwicHJvamVjdGlvbiIsInByZXZpb3VzTGluZVZlcnRleEluZGV4Iiwic2VnbWVudEludGVycG9sYXRpb25UIiwicHJldlRvQ3VycmVudCIsInAiLCJtdWx0IiwiX2FkZCIsIl9wZXJwIiwiYXRhbjIiLCJ0aWxlRGlzdGFuY2UiLCJwcmV2VGlsZURpc3RhbmNlIiwiZ2V0dGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3IiLCJsYXN0U2VnbWVudFZpZXdwb3J0RGlzdGFuY2UiLCJoaWRkZW5HbHlwaEF0dHJpYnV0ZXMiLCJJbmZpbml0eSIsIm51bSIsImZsb2F0MzIiLCJvdXQiLCJnbG1hdHJpeCIsIkNvbGxpc2lvbkluZGV4IiwiZ3JpZCIsImlnbm9yZWRHcmlkIiwiR3JpZCIsInBpdGNoZmFjdG9yIiwiX3BpdGNoIiwic2NyZWVuUmlnaHRCb3VuZGFyeSIsInNjcmVlbkJvdHRvbUJvdW5kYXJ5IiwibWFya0NvbGxpc2lvbkNpcmNsZVVzZWQiLCJjb2xsaXNpb25DaXJjbGVzIiwidXNlZCIsInBsYWNlQ29sbGlzaW9uQm94IiwiY29sbGlzaW9uQm94IiwiYWxsb3dPdmVybGFwIiwidGV4dFBpeGVsUmF0aW8iLCJwcm9qZWN0ZWRQb2ludCIsInByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvIiwiYW5jaG9yUG9pbnRYIiwiYW5jaG9yUG9pbnRZIiwidGlsZVRvVmlld3BvcnQiLCJ0bFgiLCJ0bFkiLCJiclgiLCJiclkiLCJvZmZzY3JlZW4iLCJpc09mZnNjcmVlbiIsImFwcHJveGltYXRlVGlsZURpc3RhbmNlIiwibGFzdFNlZ21lbnRBbmdsZSIsImNhbWVyYVRvQW5jaG9yRGlzdGFuY2UiLCJpbmNpZGVuY2VTdHJldGNoIiwibGFzdFNlZ21lbnRUaWxlIiwicGxhY2VDb2xsaXNpb25DaXJjbGVzIiwic2hvd0NvbGxpc2lvbkNpcmNsZXMiLCJwbGFjZWRDb2xsaXNpb25DaXJjbGVzIiwicHJvamVjdGVkQW5jaG9yIiwicHJvamVjdEFuY2hvciIsInRpbGVVbml0QW5jaG9yUG9pbnQiLCJjb2xsaXNpb25EZXRlY3RlZCIsImVudGlyZWx5T2Zmc2NyZWVuIiwiZmlyc3RUaWxlRGlzdGFuY2UiLCJsYXN0VGlsZURpc3RhbmNlIiwiY2FtZXJhRGlzdGFuY2UiLCJ0aWxlVW5pdFJhZGl1cyIsImJveFNpZ25lZERpc3RhbmNlRnJvbUFuY2hvciIsInByb2plY3RQb2ludCIsIm5leHRCb3hEaXN0YW5jZVRvQW5jaG9yIiwiY29sbGlzaW9uQm94QXJyYXlJbmRleCIsInF1ZXJ5UmVuZGVyZWRTeW1ib2xzIiwidGlsZUNvb3JkIiwiY29sbGlzaW9uQm94QXJyYXkiLCJzb3VyY2VJRCIsImJ1Y2tldEluc3RhbmNlSWRzIiwic291cmNlTGF5ZXJGZWF0dXJlcyIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJyaW5nIiwidGhpc1RpbGVGZWF0dXJlcyIsImZlYXR1cmVzIiwiYnVja2V0SW5zdGFuY2VJZCIsImJveEluZGV4IiwiaWdub3JlZEZlYXR1cmVzIiwiYmxvY2tpbmciLCJzb3VyY2VMYXllciIsInNvdXJjZUxheWVySW5kZXgiLCJidWNrZXRJbmRleCIsImJib3giLCJpbnRlcnNlY3Rpb25UZXN0cyIsImluc2VydENvbGxpc2lvbkJveCIsImlnbm9yZVBsYWNlbWVudCIsImJveFN0YXJ0SW5kZXgiLCJpbnNlcnRDb2xsaXNpb25DaXJjbGVzIiwidXNlcyIsImV4cGlyYXRpb25UaW1lIiwicXVlcnlQYWRkaW5nIiwiZXhwaXJlZFJlcXVlc3RDb3VudCIsInJlZ2lzdGVyRmFkZUR1cmF0aW9uIiwiZHVyYXRpb24iLCJmYWRlRW5kVGltZSIsInRpbWVBZGRlZCIsIndhc1JlcXVlc3RlZCIsImp1c3RSZWxvYWRlZCIsImhhc0RhdGEiLCJyYXdUaWxlRGF0YSIsIm91dHB1dCIsImxheWVycyIsImxheWVySWRzIiwiZ2V0TGF5ZXIiLCJCb29sZWFuIiwiZGVzZXJpYWxpemVCdWNrZXQiLCJTeW1ib2xCdWNrZXQiLCJxdWVyeVJhZGl1cyIsImljb25BdGxhc0ltYWdlIiwiZ2x5cGhBdGxhc0ltYWdlIiwiQ29sbGlzaW9uQm94QXJyYXkiLCJpY29uQXRsYXNUZXh0dXJlIiwiZ2x5cGhBdGxhc1RleHR1cmUiLCJ1bmxvYWRERU1EYXRhIiwiZ2V0QnVja2V0IiwibGF5ZXIiLCJ1cGxvYWQiLCJ1cGxvYWRlZCIsIkFMUEhBIiwicXVlcnlTb3VyY2VGZWF0dXJlcyIsInZ0TGF5ZXJzIiwidnQiLCJWZWN0b3JUaWxlIiwiUHJvdG9idWYiLCJfZ2VvanNvblRpbGVMYXllciIsImZlYXR1cmVGaWx0ZXIiLCJnZW9qc29uRmVhdHVyZSIsIkdlb0pTT05GZWF0dXJlIiwiY2xlYXJNYXNrIiwic2VnbWVudHMiLCJtYXNrZWRCb3VuZHNCdWZmZXIiLCJtYXNrZWRJbmRleEJ1ZmZlciIsInNldE1hc2siLCJtYXNrIiwiZGVlcEVxdWFsIiwiMCIsIm1hc2tlZEJvdW5kc0FycmF5IiwiaW5kZXhBcnJheSIsIlRyaWFuZ2xlSW5kZXhBcnJheSIsIlNlZ21lbnRWZWN0b3IiLCJwcmVwYXJlU2VnbWVudCIsIm1hc2tBcnJheSIsIm1hc2tDb29yZCIsInZlcnRleEV4dGVudCIsInRsVmVydGV4IiwiYnJWZXJ0ZXgiLCJ2ZXJ0ZXhMZW5ndGgiLCJwcmltaXRpdmVMZW5ndGgiLCJjcmVhdGVJbmRleEJ1ZmZlciIsInByaW9yIiwicGFyc2VkQ0MiLCJwYXJzZUNhY2hlQ29udHJvbCIsImdldFRpbWUiLCJpc0V4cGlyZWQiLCJkZWx0YSIsImdldEV4cGlyeVRpbWVvdXQiLCJMUlVDYWNoZSIsInJlc2V0Iiwib3JkZXIiLCJoYXMiLCJzcGxpY2UiLCJyZW1vdmVkRGF0YSIsImdldEFuZFJlbW92ZSIsInNldE1heFNpemUiLCJJbmRleEJ1ZmZlciIsImFycmF5IiwiY3JlYXRlQnVmZmVyIiwidW5iaW5kVkFPIiwiYmluZEVsZW1lbnRCdWZmZXIiLCJidWZmZXJEYXRhIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJhcnJheUJ1ZmZlciIsIkRZTkFNSUNfRFJBVyIsIlNUQVRJQ19EUkFXIiwiYnVmZmVyU3ViRGF0YSIsImRlbGV0ZUJ1ZmZlciIsIkF0dHJpYnV0ZVR5cGUiLCJJbnQ4IiwiVWludDgiLCJJbnQxNiIsIlVpbnQxNiIsIkludDMyIiwiVWludDMyIiwiRmxvYXQzMiIsIlZlcnRleEJ1ZmZlciIsIml0ZW1TaXplIiwiYnl0ZXNQZXJFbGVtZW50IiwiYmluZFZlcnRleEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsImoiLCJtZW1iZXIiLCJhdHRyaWJJbmRleCIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwidmVydGV4QXR0cmliUG9pbnRlciIsImNvbXBvbmVudHMiLCJDbGVhckNvbG9yIiwiQ29sb3IiLCJ0cmFuc3BhcmVudCIsImMiLCJyIiwiZyIsImNsZWFyQ29sb3IiLCJDbGVhckRlcHRoIiwiY2xlYXJEZXB0aCIsIkNsZWFyU3RlbmNpbCIsImNsZWFyU3RlbmNpbCIsIkNvbG9yTWFzayIsImNvbG9yTWFzayIsIkRlcHRoTWFzayIsImRlcHRoTWFzayIsIlN0ZW5jaWxNYXNrIiwic3RlbmNpbE1hc2siLCJTdGVuY2lsRnVuYyIsImZ1bmMiLCJBTFdBWVMiLCJzdGVuY2lsRnVuYyIsIlN0ZW5jaWxPcCIsIktFRVAiLCJzdGVuY2lsT3AiLCJTdGVuY2lsVGVzdCIsImVuYWJsZSIsIlNURU5DSUxfVEVTVCIsImRpc2FibGUiLCJEZXB0aFJhbmdlIiwiZGVwdGhSYW5nZSIsIkRlcHRoVGVzdCIsIkRFUFRIX1RFU1QiLCJEZXB0aEZ1bmMiLCJMRVNTIiwiZGVwdGhGdW5jIiwiQmxlbmQiLCJCTEVORCIsIkJsZW5kRnVuYyIsIk9ORSIsIlpFUk8iLCJibGVuZEZ1bmMiLCJCbGVuZENvbG9yIiwiYmxlbmRDb2xvciIsIlByb2dyYW0iLCJ1c2VQcm9ncmFtIiwiTGluZVdpZHRoIiwibGluZVdpZHRoUmFuZ2UiLCJjbGFtcGVkIiwibGluZVdpZHRoIiwiQWN0aXZlVGV4dHVyZVVuaXQiLCJURVhUVVJFMCIsImFjdGl2ZVRleHR1cmUiLCJWaWV3cG9ydCIsImRyYXdpbmdCdWZmZXJXaWR0aCIsImRyYXdpbmdCdWZmZXJIZWlnaHQiLCJ2aWV3cG9ydCIsIkJpbmRGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwiQmluZFJlbmRlcmJ1ZmZlciIsImJpbmRSZW5kZXJidWZmZXIiLCJSRU5ERVJCVUZGRVIiLCJCaW5kVGV4dHVyZSIsIkJpbmRWZXJ0ZXhCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQmluZEVsZW1lbnRCdWZmZXIiLCJCaW5kVmVydGV4QXJyYXlPRVMiLCJQaXhlbFN0b3JlVW5wYWNrIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfQUxJR05NRU5UIiwiUGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJGcmFtZWJ1ZmZlclZhbHVlIiwiQ29sb3JBdHRhY2htZW50IiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsInNldERpcnR5IiwiRGVwdGhBdHRhY2htZW50IiwiZnJhbWVidWZmZXJSZW5kZXJidWZmZXIiLCJERVBUSF9BVFRBQ0hNRU5UIiwiZnJhbWVidWZmZXIiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImNvbG9yQXR0YWNobWVudCIsImRlcHRoQXR0YWNobWVudCIsIkZyYW1lYnVmZmVyIiwicmVuZGVyYnVmZmVyIiwiZGVsZXRlUmVuZGVyYnVmZmVyIiwiZGVsZXRlRnJhbWVidWZmZXIiLCJEZXB0aE1vZGUiLCJSZWFkT25seSIsIlJlYWRXcml0ZSIsImRpc2FibGVkIiwiU3RlbmNpbE1vZGUiLCJmYWlsIiwiZGVwdGhGYWlsIiwicGFzcyIsIkNvbG9yTW9kZSIsImJsZW5kRnVuY3Rpb24iLCJSZXBsYWNlIiwidW5ibGVuZGVkIiwiYWxwaGFCbGVuZGVkIiwiQ29udGV4dCIsImdldEV4dGVuc2lvbiIsImdldFBhcmFtZXRlciIsIkFMSUFTRURfTElORV9XSURUSF9SQU5HRSIsInN0ZW5jaWxUZXN0IiwiZGVwdGhUZXN0IiwiYmxlbmQiLCJNQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQiLCJleHRUZXh0dXJlSGFsZkZsb2F0IiwiY3JlYXRlUmVuZGVyYnVmZmVyIiwic3RvcmFnZUZvcm1hdCIsInJibyIsInJlbmRlcmJ1ZmZlclN0b3JhZ2UiLCJDT0xPUl9CVUZGRVJfQklUIiwiREVQVEhfQlVGRkVSX0JJVCIsInNldERlcHRoTW9kZSIsImRlcHRoTW9kZSIsInNldFN0ZW5jaWxNb2RlIiwic3RlbmNpbE1vZGUiLCJzZXRDb2xvck1vZGUiLCJjb2xvck1vZGUiLCJTb3VyY2VDYWNoZSIsIm9uIiwiX3NvdXJjZUxvYWRlZCIsIl9wYXVzZWQiLCJyZWxvYWQiLCJfc291cmNlRXJyb3JlZCIsIl9zb3VyY2UiLCJjcmVhdGVTb3VyY2UiLCJfdGlsZXMiLCJfY2FjaGUiLCJDYWNoZSIsIl91bmxvYWRUaWxlIiwiX3RpbWVycyIsIl9jYWNoZVRpbWVycyIsIl9tYXhUaWxlQ2FjaGVTaXplIiwiX2lzSWRSZW5kZXJhYmxlIiwiX2NvdmVyZWRUaWxlcyIsImdldFNvdXJjZSIsInJlc3VtZSIsInNob3VsZFJlbG9hZCIsIl9zaG91bGRSZWxvYWRPblJlc3VtZSIsIl9sb2FkVGlsZSIsIl9hYm9ydFRpbGUiLCJnZXRJZHMiLCJhXyIsImJfIiwicm90YXRlZEEiLCJyb3RhdGUiLCJyb3RhdGVkQiIsImdldFJlbmRlcmFibGVJZHMiLCJoYXNSZW5kZXJhYmxlUGFyZW50IiwicGFyZW50VGlsZSIsImZpbmRMb2FkZWRQYXJlbnQiLCJfcmVzZXRDYWNoZSIsIl9yZWxvYWRUaWxlIiwiX3RpbGVMb2FkZWQiLCJwcmV2aW91c1N0YXRlIiwic3RhdHVzIiwicmVmcmVzaGVkVXBvbkV4cGlyYXRpb24iLCJfc2V0VGlsZVJlbG9hZFRpbWVyIiwiX2JhY2tmaWxsREVNIiwidGlsZUV4dGVudFZBTyIsInJlbmRlcmFibGVzIiwiYm9yZGVySWQiLCJib3JkZXJUaWxlIiwiZ2V0VGlsZUJ5SUQiLCJmaWxsQm9yZGVyIiwiYmFja2ZpbGxCb3JkZXIiLCJnZXRUaWxlIiwiZ2V0Wm9vbSIsInNjYWxlWm9vbSIsIl9maW5kTG9hZGVkQ2hpbGRyZW4iLCJtYXhDb3ZlcmluZ1pvb20iLCJyZXRhaW4iLCJmb3VuZCIsInoyIiwic2NhbGVkVG8iLCJtaW5Db3ZlcmluZ1pvb20iLCJ1cGRhdGVDYWNoZVNpemUiLCJhcHByb3hUaWxlc0luVmlldyIsInZpZXdEZXBlbmRlbnRNYXhTaXplIiwibWF4U2l6ZSIsImlkZWFsVGlsZUlEcyIsImdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyIsInVud3JhcHBlZCIsImNvdmVyaW5nVGlsZXMiLCJmYWRlZFBhcmVudCIsIm1heE92ZXJ6b29taW5nIiwibWF4VW5kZXJ6b29taW5nIiwiX3VwZGF0ZVJldGFpbmVkVGlsZXMiLCJwYXJlbnRzRm9yRmFkaW5nIiwiaXNSYXN0ZXJUeXBlIiwiX2FkZFRpbGUiLCJrZXlzRGlmZmVyZW5jZSIsIl9yZW1vdmVUaWxlIiwiY2hlY2tlZCIsInBhcmVudFdhc1JlcXVlc3RlZCIsImNvdmVyZWQiLCJjaGlsZENvb3JkIiwiY2hpbGRyZW4iLCJjaGlsZFRpbGUiLCJwYXJlbnRJZCIsImNsZWFyVGltZW91dCIsImNhY2hlZCIsImV4cGlyeVRpbWVvdXQiLCJfc2V0Q2FjaGVJbnZhbGlkYXRpb25UaW1lciIsIndyYXBwZWRJZCIsImNsZWFyVGlsZXMiLCJ0aWxlUmVzdWx0cyIsInRpbGVTcGFjZUJvdW5kcyIsImNvb3JkaW5hdGVUb1RpbGVQb2ludCIsIkNvb3JkaW5hdGUiLCJ0aWxlU3BhY2VRdWVyeUdlb21ldHJ5IiwiZ2V0VmlzaWJsZUNvb3JkaW5hdGVzIiwiY29vcmRzIiwiZ2xvYmFsV29ya2VyUG9vbCIsIldvcmtlclBvb2wiLCJhY3RpdmUiLCJkZXJlZiIsInJlZlByb3BlcnRpZXMiLCJkZXJlZkxheWVycyIsIm1hcElkIiwid29ya2VyQ291bnQiLCJXZWJXb3JrZXIiLCJvcGVyYXRpb25zIiwic2V0U3R5bGUiLCJhZGRMYXllciIsInJlbW92ZUxheWVyIiwic2V0UGFpbnRQcm9wZXJ0eSIsInNldExheW91dFByb3BlcnR5Iiwic2V0RmlsdGVyIiwiYWRkU291cmNlIiwicmVtb3ZlU291cmNlIiwic2V0R2VvSlNPTlNvdXJjZURhdGEiLCJzZXRMYXllclpvb21SYW5nZSIsInNldExheWVyUHJvcGVydHkiLCJzZXRDZW50ZXIiLCJzZXRab29tIiwic2V0QmVhcmluZyIsInNldFBpdGNoIiwic2V0U3ByaXRlIiwic2V0R2x5cGhzIiwic291cmNlSWQiLCJhZnRlciIsImNvbW1hbmRzIiwiY29tbWFuZCIsImFyZ3MiLCJzb3VyY2VzUmVtb3ZlZCIsInVwZGF0ZVNvdXJjZSIsImNhblVwZGF0ZUdlb0pTT04iLCJiZWZvcmUiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJpc0VxdWFsIiwiZGlmZkxheWVyUHJvcGVydHlDaGFuZ2VzIiwibGF5ZXJJZCIsImtsYXNzIiwicGx1Y2tJZCIsImluZGV4QnlJZCIsImdyb3VwIiwiZGlmZlN0eWxlcyIsInZlcnNpb24iLCJjZW50ZXIiLCJiZWFyaW5nIiwicGl0Y2giLCJ0cmFuc2l0aW9uIiwicmVtb3ZlT3JBZGRTb3VyY2VDb21tYW5kcyIsImRpZmZTb3VyY2VzIiwic291cmNlcyIsImJlZm9yZUxheWVycyIsImJlZm9yZUxheWVyIiwiYWZ0ZXJMYXllciIsImluc2VydEJlZm9yZUxheWVySWQiLCJiZWZvcmVPcmRlciIsImFmdGVyT3JkZXIiLCJiZWZvcmVJbmRleCIsImFmdGVySW5kZXgiLCJ0cmFja2VyIiwiY2xlYW4iLCJwYWludCIsImRpZmZMYXllcnMiLCJjb25zb2xlIiwid2FybiIsIk9wYWNpdHlTdGF0ZSIsInByZXZTdGF0ZSIsImluY3JlbWVudCIsInBsYWNlZCIsInNraXBGYWRlIiwib3BhY2l0eSIsImlzSGlkZGVuIiwiSm9pbnRPcGFjaXR5U3RhdGUiLCJwbGFjZWRUZXh0IiwicGxhY2VkSWNvbiIsIkpvaW50UGxhY2VtZW50IiwiUGxhY2VtZW50IiwiZmFkZUR1cmF0aW9uIiwicGxhY2VtZW50cyIsIm9wYWNpdGllcyIsInN0YWxlIiwidXBkYXRlQ29sbGlzaW9uVmVydGljZXMiLCJjb2xsaXNpb25WZXJ0ZXhBcnJheSIsIm5vdFVzZWQiLCJwbGFjZUxheWVyVGlsZSIsInN0eWxlTGF5ZXIiLCJzZWVuQ3Jvc3NUaWxlSURzIiwic3ltYm9sQnVja2V0IiwidGV4dExhYmVsUGxhbmVNYXRyaXgiLCJpY29uTGFiZWxQbGFuZU1hdHJpeCIsInBsYWNlTGF5ZXJCdWNrZXQiLCJ0aWxlS2V5IiwicGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemUiLCJpY29uV2l0aG91dFRleHQiLCJoYXNUZXh0RGF0YSIsInRleHRXaXRob3V0SWNvbiIsImhhc0ljb25EYXRhIiwic3ltYm9sSW5zdGFuY2VzIiwic3ltYm9sSW5zdGFuY2UiLCJjcm9zc1RpbGVJRCIsInBsYWNlVGV4dCIsInBsYWNlSWNvbiIsInBsYWNlZEdseXBoQm94ZXMiLCJwbGFjZWRHbHlwaENpcmNsZXMiLCJwbGFjZWRJY29uQm94ZXMiLCJjb2xsaXNpb25BcnJheXMiLCJkZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzIiwidGV4dEJveFN0YXJ0SW5kZXgiLCJ0ZXh0Qm94RW5kSW5kZXgiLCJpY29uQm94U3RhcnRJbmRleCIsImljb25Cb3hFbmRJbmRleCIsInRleHRCb3giLCJ0ZXh0Q2lyY2xlcyIsInBsYWNlZFN5bWJvbCIsInBsYWNlZFRleHRTeW1ib2xJbmRpY2VzIiwiaWNvbkJveCIsImNvbW1pdCIsInByZXZQbGFjZW1lbnQiLCJjb21taXRUaW1lIiwicGxhY2VtZW50Q2hhbmdlZCIsInByZXZPcGFjaXRpZXMiLCJqb2ludFBsYWNlbWVudCIsInByZXZPcGFjaXR5Iiwiam9pbnRPcGFjaXR5IiwibGFzdFBsYWNlbWVudENoYW5nZVRpbWUiLCJ1cGRhdGVMYXllck9wYWNpdGllcyIsInVwZGF0ZUJ1Y2tldE9wYWNpdGllcyIsIm9wYWNpdHlWZXJ0ZXhBcnJheSIsImhhc0NvbGxpc2lvbkJveERhdGEiLCJoYXNDb2xsaXNpb25DaXJjbGVEYXRhIiwiY29sbGlzaW9uQ2lyY2xlIiwiZHVwbGljYXRlT3BhY2l0eVN0YXRlIiwiZGVmYXVsdE9wYWNpdHlTdGF0ZSIsImlzRHVwbGljYXRlIiwib3BhY2l0eVN0YXRlIiwiaGFzVGV4dCIsIm51bUdseXBoVmVydGljZXMiLCJudW1WZXJ0aWNhbEdseXBoVmVydGljZXMiLCJoYXNJY29uIiwibnVtSWNvblZlcnRpY2VzIiwicGFja2VkT3BhY2l0eSIsInBhY2tPcGFjaXR5Iiwib3BhY2l0eUVudHJ5Q291bnQiLCJwbGFjZWRUZXh0U3ltYm9sSW5kZXgiLCJzb3J0RmVhdHVyZXMiLCJvcGFjaXR5VmVydGV4QnVmZmVyIiwiY29sbGlzaW9uVmVydGV4QnVmZmVyIiwic3ltYm9sRmFkZUNoYW5nZSIsImhhc1RyYW5zaXRpb25zIiwic3RpbGxSZWNlbnQiLCJzZXRTdGFsZSIsInNoaWZ0MjUiLCJzaGlmdDI0Iiwic2hpZnQxNyIsInNoaWZ0MTYiLCJzaGlmdDkiLCJzaGlmdDgiLCJzaGlmdDEiLCJ0YXJnZXRCaXQiLCJvcGFjaXR5Qml0cyIsIkxheWVyUGxhY2VtZW50IiwiX2N1cnJlbnRUaWxlSW5kZXgiLCJfc2VlbkNyb3NzVGlsZUlEcyIsImNvbnRpbnVlUGxhY2VtZW50IiwicGxhY2VtZW50Iiwic2hvdWxkUGF1c2VQbGFjZW1lbnQiLCJQYXVzZWFibGVQbGFjZW1lbnQiLCJmb3JjZUZ1bGxQbGFjZW1lbnQiLCJfY3VycmVudFBsYWNlbWVudEluZGV4IiwiX2ZvcmNlRnVsbFBsYWNlbWVudCIsIl9zaG93Q29sbGlzaW9uQm94ZXMiLCJfZG9uZSIsImlzRG9uZSIsImxheWVyVGlsZXMiLCJzdGFydFRpbWUiLCJlbGFwc2VkVGltZSIsInBsYWNlbWVudFpvb20iLCJfaW5Qcm9ncmVzc0xheWVyIiwidGhpcyQxIiwicHJldmlvdXNQbGFjZW1lbnQiLCJyb3VuZGluZ0ZhY3RvciIsIlRpbGVMYXllckluZGV4IiwiaW5kZXhlZFN5bWJvbEluc3RhbmNlcyIsImdldFNjYWxlZENvb3JkaW5hdGVzIiwiY2hpbGRUaWxlSUQiLCJ6RGlmZmVyZW5jZSIsImZpbmRNYXRjaGVzIiwibmV3VGlsZUlEIiwiem9vbUNyb3NzVGlsZUlEcyIsImluZGV4ZWRJbnN0YW5jZXMiLCJzY2FsZWRTeW1ib2xDb29yZCIsInRoaXNUaWxlU3ltYm9sIiwiQ3Jvc3NUaWxlSURzIiwibWF4Q3Jvc3NUaWxlSUQiLCJnZW5lcmF0ZSIsIkNyb3NzVGlsZVN5bWJvbExheWVySW5kZXgiLCJpbmRleGVzIiwidXNlZENyb3NzVGlsZUlEcyIsImFkZEJ1Y2tldCIsImNyb3NzVGlsZUlEcyIsInJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyIsInpvb21JbmRleGVzIiwiY2hpbGRJbmRleCIsImlzQ2hpbGRPZiIsInBhcmVudEluZGV4Iiwic3ltYm9sSW5zdGFuY2UkMSIsInJlbW92ZWRCdWNrZXQiLCJyZW1vdmVTdGFsZUJ1Y2tldHMiLCJjdXJyZW50SURzIiwidGlsZXNDaGFuZ2VkIiwiQ3Jvc3NUaWxlU3ltYm9sSW5kZXgiLCJsYXllckluZGV4ZXMiLCJtYXhCdWNrZXRJbnN0YW5jZUlkIiwibGF5ZXJJbmRleCIsInN5bWJvbEJ1Y2tldHNDaGFuZ2VkIiwiY3VycmVudEJ1Y2tldElEcyIsInBydW5lVW51c2VkTGF5ZXJzIiwidXNlZExheWVycyIsInVzZWRMYXllck1hcCIsInVzZWRMYXllciIsInN1cHBvcnRlZERpZmZPcGVyYXRpb25zIiwiZGlmZk9wZXJhdGlvbnMiLCJpZ25vcmVkRGlmZk9wZXJhdGlvbnMiLCJTdHlsZSIsImltYWdlTWFuYWdlciIsImdseXBoTWFuYWdlciIsImxpbmVBdGxhcyIsImNyb3NzVGlsZVN5bWJvbEluZGV4IiwiX2xheWVycyIsIl9vcmRlciIsInNvdXJjZUNhY2hlcyIsInpvb21IaXN0b3J5IiwiWm9vbUhpc3RvcnkiLCJfcmVzZXRVcGRhdGVzIiwic2VsZiIsIl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2siLCJyZWdpc3RlckZvclBsdWdpbkF2YWlsYWJpbGl0eSIsInBsdWdpblVSTCIsImVycm9yQ2FsbGJhY2siLCJldmVudCIsInZlY3RvckxheWVySWRzIiwiX3ZhbGlkYXRlTGF5ZXIiLCJsb2FkVVJMIiwibm9ybWFsaXplU3R5bGVVUkwiLCJnZXRKU09OIiwiZXJyb3IiLCJqc29uIiwiX2xvYWQiLCJsb2FkSlNPTiIsInN0eWxlc2hlZXQiLCJsb2FkU3ByaXRlIiwiY3JlYXRlU3R5bGVMYXllciIsIl9zZXJpYWxpemVMYXllcnMiLCJfdXBkYXRlZFNvdXJjZXMiLCJfY2hlY2tMb2FkZWQiLCJfY2hhbmdlZCIsInVwZGF0ZWRJZHMiLCJfdXBkYXRlZExheWVycyIsInJlbW92ZWRJZHMiLCJfcmVtb3ZlZExheWVycyIsIl91cGRhdGVXb3JrZXJMYXllcnMiLCJhY3Rpb24iLCJfcmVsb2FkU291cmNlIiwiX2NsZWFyU291cmNlIiwiX3VwZGF0ZWRQYWludFByb3BzIiwic2V0U3RhdGUiLCJuZXh0U3RhdGUiLCJjaGFuZ2VzIiwib3AiLCJ1bmltcGxlbWVudGVkT3BzIiwiYXBwbHkiLCJpc1NvdXJjZUxvYWRlZCIsImxheWVyT2JqZWN0IiwiYXJyYXlJbmRleCIsIl9sYXllck9yZGVyQ2hhbmdlZCIsInJlbW92ZWQiLCJfdXBkYXRlTGF5ZXIiLCJtb3ZlTGF5ZXIiLCJuZXdJbmRleCIsImdldEZpbHRlciIsImdldExheW91dFByb3BlcnR5IiwiZ2V0UGFpbnRQcm9wZXJ0eSIsIndhc0RhdGFEcml2ZW4iLCJfdHJhbnNpdGlvbmFibGVQYWludCIsIl92YWx1ZXMiLCJpc0RhdGFEcml2ZW4iLCJnZXRUcmFuc2l0aW9uIiwiZGVsYXkiLCJmaWx0ZXJPYmplY3QiLCJtZXRhZGF0YSIsIm1hcE9iamVjdCIsIl9mbGF0dGVuUmVuZGVyZWRGZWF0dXJlcyIsInNvdXJjZVJlc3VsdHMiLCJsIiwibGF5ZXJGZWF0dXJlcyIsImluY2x1ZGVkU291cmNlcyIsInJlc3VsdHMiLCJkYXRhVGlsZXMiLCJkYXRhSUQiLCJhZGRTb3VyY2VUeXBlIiwiU291cmNlVHlwZSIsImdldFNvdXJjZVR5cGUiLCJzZXRTb3VyY2VUeXBlIiwid29ya2VyU291cmNlVVJMIiwiX3VwZGF0ZSIsIl9yZW1vdmUiLCJydGxUZXh0UGx1Z2luRXZlbnRlZCIsIm9mZiIsIl91cGRhdGVTb3VyY2VzIiwiX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMiLCJfdXBkYXRlUGxhY2VtZW50IiwicGxhY2VtZW50Q29tbWl0dGVkIiwiaXNMZXNzVGhhbiIsImxheWVyQnVja2V0c0NoYW5nZWQiLCJwYXVzZWFibGVQbGFjZW1lbnQiLCJpY29ucyIsInN0YWNrcyIsInNoYWRlcnMiLCJwcmVsdWRlIiwiZnJhZ21lbnRTb3VyY2UiLCJmcyIsInZlcnRleFNvdXJjZSIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kUGF0dGVybiIsImNsaXBwaW5nTWFzayIsImhlYXRtYXAiLCJoZWF0bWFwVGV4dHVyZSIsImRlYnVnIiwiZmlsbCIsImZpbGxPdXRsaW5lIiwiZmlsbE91dGxpbmVQYXR0ZXJuIiwiZmlsbFBhdHRlcm4iLCJmaWxsRXh0cnVzaW9uIiwiZmlsbEV4dHJ1c2lvblBhdHRlcm4iLCJleHRydXNpb25UZXh0dXJlIiwiaGlsbHNoYWRlUHJlcGFyZSIsImhpbGxzaGFkZSIsImxpbmUiLCJsaW5lUGF0dGVybiIsImxpbmVTREYiLCJzeW1ib2xJY29uIiwic3ltYm9sU0RGIiwicmUiLCJwcm9ncmFtTmFtZSIsImZyYWdtZW50UHJhZ21hcyIsIm9wZXJhdGlvbiIsInByZWNpc2lvbiIsImF0dHJUeXBlIiwiY29uZmlndXJhdGlvbiIsInNob3dPdmVyZHJhd0luc3BlY3RvciIsImNyZWF0ZVByb2dyYW0iLCJkZWZpbmVzIiwidG9GaXhlZCIsImZyYWdtZW50U2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVNoYWRlciIsImF0dGFjaFNoYWRlciIsInZlcnRleFNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJsYXlvdXRBdHRyaWJ1dGVzIiwiYmluZEF0dHJpYkxvY2F0aW9uIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJ1bmlmb3JtcyIsImF0dHJpYnV0ZSIsImdldEFjdGl2ZUF0dHJpYiIsImdldEF0dHJpYkxvY2F0aW9uIiwibnVtVW5pZm9ybXMiLCJBQ1RJVkVfVU5JRk9STVMiLCJ1bmlmb3JtIiwiZ2V0QWN0aXZlVW5pZm9ybSIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImNvbXB1dGVUaWxlTWFza3MiLCJyb290VGlsZSIsImNoaWxkQXJyYXkiLCJsb3dlckJvdW5kIiwiZGlmZloiLCJtYXNrVGlsZUlkIiwiZHJhd0NvbGxpc2lvbkRlYnVnR2VvbWV0cnkiLCJkcmF3Q2lyY2xlcyIsImNvbG9yTW9kZUZvclJlbmRlclBhc3MiLCJidWZmZXJzIiwidW5pZm9ybU1hdHJpeDRmdiIsInVfbWF0cml4IiwidW5pZm9ybTFmIiwidV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIiwidV9waXhlbHNfdG9fdGlsZV91bml0cyIsInVuaWZvcm0yZiIsInVfZXh0cnVkZV9zY2FsZSIsInBpeGVsc1RvR0xVbml0cyIsInVfb3ZlcnNjYWxlX2ZhY3RvciIsIlRSSUFOR0xFUyIsIkxJTkVTIiwiZHJhd01vZGUiLCJkeW5hbWljTGF5b3V0QnVmZmVyIiwiZHluYW1pY0xheW91dEJ1ZmZlcjIiLCJwcmltaXRpdmVTaXplIiwidmFvcyIsImdldFBhaW50VmVydGV4QnVmZmVycyIsImRyYXdFbGVtZW50cyIsIlVOU0lHTkVEX1NIT1JUIiwicHJpbWl0aXZlT2Zmc2V0IiwiaWRlbnRpdHlNYXQ0IiwiZHJhd0xheWVyU3ltYm9scyIsInRyYW5zbGF0ZUFuY2hvciIsInJvdGF0aW9uQWxpZ25tZW50IiwicGl0Y2hBbGlnbm1lbnQiLCJ0ciIsImFsb25nTGluZSIsInJvdGF0ZUluU2hhZGVyIiwiZGVwdGhPbiIsImRlcHRoTW9kZUZvclN1YmxheWVyIiwicHJvZ3JhbUNvbmZpZ3VyYXRpb24iLCJwcm9ncmFtQ29uZmlndXJhdGlvbnMiLCJpc1NERiIsInNkZkljb25zIiwic2V0VW5pZm9ybXMiLCJzZXRTeW1ib2xEcmF3U3RhdGUiLCJ1bmlmb3JtMWkiLCJ1X3RleHR1cmUiLCJ1bmlmb3JtMmZ2IiwidV90ZXhzaXplIiwiaWNvblNjYWxlZCIsImNvbnN0YW50T3IiLCJpY29uc05lZWRMaW5lYXIiLCJpY29uVHJhbnNmb3JtZWQiLCJyb3RhdGluZyIsInpvb21pbmciLCJ0cmFuc2xhdGVQb3NNYXRyaXgiLCJzeW1ib2xQcm9qZWN0aW9uIiwidV9nbF9jb29yZF9tYXRyaXgiLCJ1X2xhYmVsX3BsYW5lX21hdHJpeCIsInVfZmFkZV9jaGFuZ2UiLCJkcmF3VGlsZVN5bWJvbHMiLCJ1X3BpdGNoX3dpdGhfbWFwIiwidV9pc190ZXh0IiwidV9waXRjaCIsImlzWm9vbUNvbnN0YW50IiwiZnVuY3Rpb25UeXBlIiwiaXNGZWF0dXJlQ29uc3RhbnQiLCJ1X2lzX3NpemVfem9vbV9jb25zdGFudCIsInVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50IiwidVNpemVUIiwidV9zaXplX3QiLCJ1U2l6ZSIsInVfc2l6ZSIsInVfYXNwZWN0X3JhdGlvIiwidV9yb3RhdGVfc3ltYm9sIiwiaGFzSGFsbyIsImdhbW1hU2NhbGUiLCJ1X2dhbW1hX3NjYWxlIiwidV9pc19oYWxvIiwiZHJhd1N5bWJvbEVsZW1lbnRzIiwiZHJhd0xpbmVUaWxlIiwicHJvZ3JhbUNoYW5nZWQiLCJ0aWxlUmF0aW9DaGFuZ2VkIiwicG9zQSIsInBvc0IiLCJpbWFnZVBvc0EiLCJpbWFnZVBvc0IiLCJ0aWxlUmF0aW8iLCJ0aWxlWm9vbSIsImZyb20iLCJ0byIsIndpZHRoQSIsImZyb21TY2FsZSIsIndpZHRoQiIsInRvU2NhbGUiLCJ1X3BhdHRlcm5zY2FsZV9hIiwidV9wYXR0ZXJuc2NhbGVfYiIsInVfc2RmZ2FtbWEiLCJ1X3BhdHRlcm5fc2l6ZV9hIiwiZGlzcGxheVNpemUiLCJ1X3BhdHRlcm5fc2l6ZV9iIiwidV9nbF91bml0c190b19waXhlbHMiLCJ1X2ltYWdlIiwidV90ZXhfeV9hIiwidV90ZXhfeV9iIiwidV9taXgiLCJ1X3BhdHRlcm5fdGxfYSIsInRsIiwidV9wYXR0ZXJuX2JyX2EiLCJiciIsInVfcGF0dGVybl90bF9iIiwidV9wYXR0ZXJuX2JyX2IiLCJ1X2ZhZGUiLCJzdGVuY2lsTW9kZUZvckNsaXBwaW5nIiwidV9yYXRpbyIsImlzUGF0dGVybk1pc3NpbmciLCJ1X3NjYWxlX2EiLCJ1X3NjYWxlX2IiLCJzZXRQYXR0ZXJuVW5pZm9ybXMiLCJ1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzIiwibnVtVGlsZXMiLCJ0aWxlU2l6ZUF0TmVhcmVzdFpvb20iLCJwaXhlbFgiLCJwaXhlbFkiLCJ1X3BpeGVsX2Nvb3JkX3VwcGVyIiwidV9waXhlbF9jb29yZF9sb3dlciIsImRyYXdGaWxsVGlsZXMiLCJkcmF3Rm4iLCJmaXJzdFRpbGUiLCJkcmF3RmlsbFRpbGUiLCJzZXRGaWxsUHJvZ3JhbSIsImRyYXdTdHJva2VUaWxlIiwidV93b3JsZCIsImluZGV4QnVmZmVyMiIsInNlZ21lbnRzMiIsInByb2dyYW1JZCIsInBhdCIsInByZXZQcm9ncmFtIiwicHJlcGFyZVBhdHRlcm4iLCJtYXQzIiwiZ2xNYXRyaXgiLCJ2ZWMzIiwiZHJhd0V4dHJ1c2lvbiIsInVfaGVpZ2h0X2ZhY3RvciIsIl9scCIsImxpZ2h0UG9zIiwibGlnaHRNYXQiLCJmcm9tUm90YXRpb24iLCJ0cmFuc2Zvcm1NYXQzIiwidW5pZm9ybTNmdiIsInVfbGlnaHRwb3MiLCJ1X2xpZ2h0aW50ZW5zaXR5IiwidW5pZm9ybTNmIiwidV9saWdodGNvbG9yIiwicmVuZGVySGlsbHNoYWRlIiwiYXppbXV0aGFsIiwidV9saWdodCIsImxhdFJhbmdlIiwiY29vcmRpbmF0ZTAiLCJ0b0Nvb3JkaW5hdGUiLCJjb29yZGluYXRlMSIsImNvb3JkaW5hdGVMb2NhdGlvbiIsImdldFRpbGVMYXRSYW5nZSIsInVfbGF0cmFuZ2UiLCJzaGFkb3dDb2xvciIsInVuaWZvcm00ZiIsInVfc2hhZG93IiwiaGlnaGxpZ2h0Q29sb3IiLCJ1X2hpZ2hsaWdodCIsImFjY2VudENvbG9yIiwidV9hY2NlbnQiLCJyYXN0ZXJCb3VuZHNCdWZmZXIiLCJyYXN0ZXJCb3VuZHNWQU8iLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVfU1RSSVAiLCJwcmVwYXJlSGlsbHNoYWRlIiwic291cmNlTWF4Wm9vbSIsInBpeGVsRGF0YSIsImdldFBpeGVscyIsIlRFWFRVUkUxIiwicmVuZGVyVGV4dHVyZSIsIm9ydGhvIiwidV96b29tIiwidV9kaW1lbnNpb24iLCJ1X21heHpvb20iLCJnZXRGYWRlVmFsdWVzIiwic2luY2VUaWxlIiwic2luY2VQYXJlbnQiLCJpZGVhbFoiLCJjb3ZlcmluZ1pvb21MZXZlbCIsImZhZGVJbiIsImNoaWxkT3BhY2l0eSIsIm1peCIsImRyYXdEZWJ1Z1RpbGUiLCJ1X2NvbG9yIiwiZGVidWdWQU8iLCJkZWJ1Z0J1ZmZlciIsIkxJTkVfU1RSSVAiLCJ2ZXJ0aWNlcyIsImJhc2VsaW5lIiwibGVuIiwibGVuMiIsInN0cm9rZXMiLCJzaW1wbGV4Rm9udCIsImNyZWF0ZVRleHRWZXJ0aWNpZXMiLCJkZWJ1Z1RleHRBcnJheSIsIlBvc0FycmF5IiwiZGVidWdUZXh0QnVmZmVyIiwicG9zQXR0cmlidXRlcyIsIm9uZVBpeGVsIiwidHJhbnNsYXRpb25zIiwidHJhbnNsYXRpb24iLCIgIiwiISIsIlwiIiwiIyIsIiQiLCIlIiwiJiIsIiciLCIoIiwiKSIsIioiLCIrIiwiLCIsIi0iLCIuIiwiLyIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCI4IiwiOSIsIjoiLCI7IiwiPCIsIj0iLCI+IiwiPyIsIkAiLCJBIiwiQiIsIkMiLCJEIiwiRSIsIkYiLCJHIiwiSCIsIkkiLCJKIiwiSyIsIkwiLCJNIiwiTiIsIk8iLCJQIiwiUSIsIlIiLCJTIiwiVCIsIlUiLCJWIiwiVyIsIlgiLCJZIiwiWiIsIlsiLCJcXCIsIl0iLCJeIiwiXyIsImAiLCJvIiwidSIsInsiLCJ8IiwifSIsIn4iLCJyZW5kZXJQYXNzIiwiZHJhd0NvbGxpc2lvbkRlYnVnIiwic3Ryb2tlV2lkdGgiLCJzdHJva2VPcGFjaXR5IiwidV9zY2FsZV93aXRoX21hcCIsImhlYXRtYXBGYm8iLCJiaW5kVGV4dHVyZVRvRnJhbWVidWZmZXIiLCJIQUxGX0ZMT0FUX09FUyIsImNoZWNrRnJhbWVidWZmZXJTdGF0dXMiLCJGUkFNRUJVRkZFUl9DT01QTEVURSIsInVfaW50ZW5zaXR5IiwiY29sb3JSYW1wVGV4dHVyZSIsImNvbG9yUmFtcCIsInVfb3BhY2l0eSIsInVfY29sb3JfcmFtcCIsInZpZXdwb3J0VkFPIiwidmlld3BvcnRCdWZmZXIiLCJyZW5kZXJUZXh0dXJlVG9NYXAiLCJwcmV2VGlsZVpvb20iLCJmaWxsLWV4dHJ1c2lvbiIsInJlbmRlclRhcmdldCIsInZpZXdwb3J0RnJhbWUiLCJkZXB0aFJib05lZWRzQ2xlYXIiLCJzZXR1cE9mZnNjcmVlbkRlcHRoUmVuZGVyYnVmZmVyIiwiZGVwdGhSYm8iLCJMRVFVQUwiLCJkcmF3VG9FeHRydXNpb25GcmFtZWJ1ZmZlciIsInJlbmRlcmVkVGV4dHVyZSIsImRyYXdFeHRydXNpb25UZXh0dXJlIiwidGlsZUlEcyIsInNhdHVyYXRpb24iLCJjb250cmFzdCIsInVfYnJpZ2h0bmVzc19sb3ciLCJ1X2JyaWdodG5lc3NfaGlnaCIsInVfc2F0dXJhdGlvbl9mYWN0b3IiLCJ1X2NvbnRyYXN0X2ZhY3RvciIsInVfc3Bpbl93ZWlnaHRzIiwic3BpbldlaWdodHMiLCJ1X2J1ZmZlcl9zY2FsZSIsInVfaW1hZ2UwIiwidV9pbWFnZTEiLCJtaW5UaWxlWiIsImZhZGUiLCJwYXJlbnRTY2FsZUJ5IiwicGFyZW50VEwiLCJ1X3RsX3BhcmVudCIsInVfc2NhbGVfcGFyZW50IiwidV9mYWRlX3QiLCJ0aWxlRXh0ZW50UGF0dGVyblZBTyIsInRpbGVFeHRlbnRCdWZmZXIiLCJ1bmlmb3JtNGZ2IiwiUGFpbnRlciIsIl90aWxlVGV4dHVyZXMiLCJzZXR1cCIsIm51bVN1YmxheWVycyIsImRlcHRoRXBzaWxvbiIsImVtcHR5UHJvZ3JhbUNvbmZpZ3VyYXRpb24iLCJQcm9ncmFtQ29uZmlndXJhdGlvbiIsImVkZ2UiLCJ4MCIsInkwIiwic2NhblNwYW5zIiwiZTAiLCJlMSIsInltaW4iLCJ5bWF4Iiwic2NhbkxpbmUiLCJtMCIsIm0xIiwiZDAiLCJkMSIsInNjYW5UcmlhbmdsZSIsImFiIiwiYmMiLCJjYSIsInRpbGVFeHRlbnRBcnJheSIsImRlYnVnQXJyYXkiLCJyYXN0ZXJCb3VuZHNBcnJheSIsInZpZXdwb3J0QXJyYXkiLCJfcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MiLCJpZE5leHQiLCJfdGlsZUNsaXBwaW5nTWFza0lEcyIsIlJFUExBQ0UiLCJFUVVBTCIsIl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IiLCJDT05TVEFOVF9DT0xPUiIsImZhckRlcHRoIiwiY3VycmVudExheWVyIiwibmVhckRlcHRoIiwicmVuZGVyIiwicmFzdGVyU291cmNlcyIsInNjIiwidXBkYXRlVGlsZU1hc2tzIiwiaGFzT2Zmc2NyZWVuUGFzcyIsImNvb3JkcyQxIiwic291cmNlQ2FjaGUkMiIsInJldmVyc2UiLCJyZW5kZXJMYXllciIsImJsYWNrIiwiY29vcmRzJDIiLCJzb3VyY2VDYWNoZSQzIiwiY29vcmRzJDMiLCJzb3VyY2VDYWNoZSQ0Iiwic2hvd1RpbGVCb3VuZGFyaWVzIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJpblZpZXdwb3J0UGl4ZWxVbml0c1VuaXRzIiwic2luQSIsImNvc0EiLCJ0cmFuc2xhdGVkTWF0cml4IiwidGV4dHVyZXMiLCJwb3AiLCJfY3JlYXRlUHJvZ3JhbUNhY2hlZCIsImNhY2hlIiwiY2FjaGVLZXkiLCJuZXh0UHJvZ3JhbSIsIm1hdDIiLCJUcmFuc2Zvcm0iLCJtaW5ab29tIiwicmVuZGVyV29ybGRDb3BpZXMiLCJfcmVuZGVyV29ybGRDb3BpZXMiLCJfbWluWm9vbSIsIl9tYXhab29tIiwiX2NlbnRlciIsIl9mb3YiLCJfdW5tb2RpZmllZCIsIl9wb3NNYXRyaXhDYWNoZSIsIl9hbGlnbmVkUG9zTWF0cml4Q2FjaGUiLCJfY2FsY01hdHJpY2VzIiwicHJvdG90eXBlQWNjZXNzb3JzIiwid29ybGRTaXplIiwiY2VudGVyUG9pbnQiLCJfZGl2Iiwicm90YXRpb25NYXRyaXgiLCJmb3YiLCJfem9vbSIsInpvb21TY2FsZSIsInpvb21GcmFjdGlvbiIsIl9jb25zdHJhaW4iLCJ1bCIsInBvaW50Q29vcmRpbmF0ZSIsInVyIiwidzAiLCJ3MSIsIlVud3JhcHBlZFRpbGVJRCIsImFjdHVhbFoiLCJ3eCIsInRpbGVDb3ZlciIsInVubW9kaWZpZWQiLCJMTjIiLCJsbmdsYXQiLCJ1bnByb2plY3QiLCJ4TG5nIiwieUxhdCIsInRhbiIsImF0YW4iLCJleHAiLCJzZXRMb2NhdGlvbkF0UG9pbnQiLCJfc3ViIiwibG9jYXRpb25Qb2ludCIsImNvb3JkaW5hdGVQb2ludCIsInBvaW50TG9jYXRpb24iLCJjb29yZDAiLCJjb29yZDEiLCJwaXhlbE1hdHJpeEludmVyc2UiLCJ6MCIsInoxIiwiX3pvb21UbyIsInBpeGVsTWF0cml4IiwidW53cmFwcGVkVGlsZUlEIiwiYWxpZ25lZCIsInBvc01hdHJpeEtleSIsInVud3JhcHBlZFgiLCJhbGlnbmVkUHJvak1hdHJpeCIsInByb2pNYXRyaXgiLCJfY29uc3RyYWluaW5nIiwic3kiLCJzeCIsImxuZ1JhbmdlIiwiaDIiLCJ3MiIsImhhbGZGb3YiLCJncm91bmRBbmdsZSIsInRvcEhhbGZTdXJmYWNlRGlzdGFuY2UiLCJmYXJaIiwicGVyc3BlY3RpdmUiLCJyb3RhdGVYIiwidmVydGljYWxTY2FsZSIsInhTaGlmdCIsInlTaGlmdCIsImFuZ2xlQ29zIiwiYW5nbGVTaW4iLCJhbGlnbmVkTSIsImludmVydCIsIkhhc2giLCJ0aW1lIiwicGVuZGluZyIsInRpbWVySWQiLCJsYXRlciIsIl91cGRhdGVIYXNoIiwiX3VwZGF0ZUhhc2hVbnRocm90dGxlZCIsImFkZFRvIiwiX21hcCIsIl9vbkhhc2hDaGFuZ2UiLCJnZXRIYXNoU3RyaW5nIiwibWFwRmVlZGJhY2siLCJMTjEwIiwiZ2V0QmVhcmluZyIsImdldFBpdGNoIiwiaGFzaCIsImxvYyIsImxvY2F0aW9uIiwianVtcFRvIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsIk1hcE1vdXNlRXZlbnQiLCJvcmlnaW5hbEV2ZW50IiwiZ2V0Q2FudmFzQ29udGFpbmVyIiwibG5nTGF0IiwiX2RlZmF1bHRQcmV2ZW50ZWQiLCJkZWZhdWx0UHJldmVudGVkIiwiTWFwVG91Y2hFdmVudCIsImxuZ0xhdHMiLCJjdXJyIiwiYXJyIiwiZGl2IiwicHJvdG90eXBlQWNjZXNzb3JzJDEiLCJNYXBXaGVlbEV2ZW50IiwicHJvdG90eXBlQWNjZXNzb3JzJDIiLCJTY3JvbGxab29tSGFuZGxlciIsIl9lbCIsIl9kZWx0YSIsImlzRW5hYmxlZCIsIl9lbmFibGVkIiwiaXNBY3RpdmUiLCJfYWN0aXZlIiwiX2Fyb3VuZENlbnRlciIsImFyb3VuZCIsIm9uV2hlZWwiLCJkZWx0YU1vZGUiLCJXaGVlbEV2ZW50IiwiRE9NX0RFTFRBX0xJTkUiLCJkZWx0YVkiLCJ0aW1lRGVsdGEiLCJfbGFzdFdoZWVsRXZlbnRUaW1lIiwiX3R5cGUiLCJfbGFzdFZhbHVlIiwiX3RpbWVvdXQiLCJfb25UaW1lb3V0Iiwic2hpZnRLZXkiLCJfbGFzdFdoZWVsRXZlbnQiLCJfc3RhcnQiLCJpbml0aWFsRXZlbnQiLCJfZnJhbWVJZCIsIl9jYW5jZWxSZW5kZXJGcmFtZSIsIl9maW5pc2hUaW1lb3V0IiwiX2Fyb3VuZCIsIl9hcm91bmRQb2ludCIsIl9yZXF1ZXN0UmVuZGVyRnJhbWUiLCJfb25TY3JvbGxGcmFtZSIsInpvb21SYXRlIiwiX3RhcmdldFpvb20iLCJfc3RhcnRab29tIiwiX2Vhc2luZyIsIl9zbW9vdGhPdXRFYXNpbmciLCJmaW5pc2hlZCIsImVhc2luZyIsIl9lYXNlIiwiX3ByZXZFYXNlIiwiZWFzZSIsInN0YXJ0Iiwic3BlZWQiLCJiZXppZXIiLCJCb3hab29tSGFuZGxlciIsIl9jb250YWluZXIiLCJnZXRDb250YWluZXIiLCJvbk1vdXNlRG93biIsIl9vbk1vdXNlTW92ZSIsIl9vbktleURvd24iLCJfb25Nb3VzZVVwIiwiX3N0YXJ0UG9zIiwicDAiLCJwMSIsIl9ib3giLCJjbGFzc0xpc3QiLCJfZmlyZUV2ZW50IiwiX2ZpbmlzaCIsImZpdEJvdW5kcyIsImxpbmVhciIsImJveFpvb21Cb3VuZHMiLCJrZXlDb2RlIiwiaW5lcnRpYUVhc2luZyIsIkRyYWdSb3RhdGVIYW5kbGVyIiwiZWxlbWVudCIsIl9zdGF0ZSIsIl9idXR0b24iLCJfYmVhcmluZ1NuYXAiLCJiZWFyaW5nU25hcCIsIl9waXRjaFdpdGhSb3RhdGUiLCJwaXRjaFdpdGhSb3RhdGUiLCJfdW5iaW5kIiwiX2RlYWN0aXZhdGUiLCJfZXZlbnRCdXR0b24iLCJfb25CbHVyIiwiX2luZXJ0aWEiLCJfcHJldmlvdXNQb3MiLCJfbGFzdE1vdmVFdmVudCIsIl9wb3MiLCJfb25EcmFnRnJhbWUiLCJwMiIsImJlYXJpbmdEaWZmIiwicGl0Y2hEaWZmIiwiaW5lcnRpYSIsIl9kcmFpbkluZXJ0aWFCdWZmZXIiLCJfbm9ybWFsaXplQmVhcmluZyIsIl9pbmVydGlhbFJvdGF0ZSIsIm1hcEJlYXJpbmciLCJmaW5pc2giLCJyZXNldE5vcnRoIiwibm9Nb3ZlU3RhcnQiLCJwcmV2aW91cyIsImZsaW5nRGlmZiIsInNpZ24iLCJmbGluZ0R1cmF0aW9uIiwicm90YXRlVG8iLCJzaGlmdCIsIkRyYWdQYW5IYW5kbGVyIiwiX29uTW92ZSIsIm9uVG91Y2hTdGFydCIsInBhc3NpdmUiLCJfb25Ub3VjaEVuZCIsIl9pbmVydGlhbFBhbiIsImZsaW5nT2Zmc2V0IiwidmVsb2NpdHkiLCJwYW5CeSIsIktleWJvYXJkSGFuZGxlciIsImVhc2VPdXQiLCJhbHRLZXkiLCJtZXRhS2V5Iiwiem9vbURpciIsImJlYXJpbmdEaXIiLCJwaXRjaERpciIsInhEaXIiLCJ5RGlyIiwiZWFzZU9wdGlvbnMiLCJkZWxheUVuZEV2ZW50cyIsImVhc2VUbyIsIkRvdWJsZUNsaWNrWm9vbUhhbmRsZXIiLCJfdGFwcGVkIiwib25EYmxDbGljayIsIl9vblpvb21FbmQiLCJUb3VjaFpvb21Sb3RhdGVIYW5kbGVyIiwiZGlzYWJsZVJvdGF0aW9uIiwiX3JvdGF0aW9uRGlzYWJsZWQiLCJlbmFibGVSb3RhdGlvbiIsIm9uU3RhcnQiLCJfc3RhcnRWZWMiLCJfZ2VzdHVyZUludGVudCIsIl9vbkVuZCIsIl9nZXRUb3VjaEV2ZW50RGF0YSIsInZlYyIsImFuZ2xlV2l0aCIsInNjYWxpbmdTaWduaWZpY2FudGx5IiwiX2xhc3RUb3VjaEV2ZW50IiwiX29uVG91Y2hGcmFtZSIsImdlc3R1cmVJbnRlbnQiLCJfc3RhcnRTY2FsZSIsIl9zdGFydEJlYXJpbmciLCJhcm91bmRQb2ludCIsInN0YXJ0U2NhbGUiLCJzbmFwVG9Ob3J0aCIsImxhc3RTY2FsZSIsImZpcnN0U2NhbGUiLCJzY2FsZU9mZnNldCIsInNjYWxlRHVyYXRpb24iLCJ0YXJnZXRTY2FsZSIsImhhbmRsZXJzIiwic2Nyb2xsWm9vbSIsImJveFpvb20iLCJkcmFnUm90YXRlIiwiZHJhZ1BhbiIsImtleWJvYXJkIiwiZG91YmxlQ2xpY2tab29tIiwidG91Y2hab29tUm90YXRlIiwiQ2FtZXJhIiwiX21vdmluZyIsIl96b29taW5nIiwiZXZlbnREYXRhIiwicGFuVG8iLCJ6b29tSW4iLCJ6b29tT3V0IiwiYm90dG9tIiwicGFkZGluZ09mZnNldCIsImxhdGVyYWxQYWRkaW5nIiwidmVydGljYWxQYWRkaW5nIiwibnciLCJzZSIsInNjYWxlWCIsInNjYWxlWSIsImZseVRvIiwic3RvcCIsInpvb21DaGFuZ2VkIiwiYmVhcmluZ0NoYW5nZWQiLCJwaXRjaENoYW5nZWQiLCJkZWZhdWx0RWFzaW5nIiwic3RhcnRab29tIiwic3RhcnRCZWFyaW5nIiwic3RhcnRQaXRjaCIsInBvaW50QXRPZmZzZXQiLCJsb2NhdGlvbkF0T2Zmc2V0IiwiX25vcm1hbGl6ZUNlbnRlciIsImZpbmFsU2NhbGUiLCJfcm90YXRpbmciLCJfcGl0Y2hpbmciLCJfcHJlcGFyZUVhc2UiLCJfZWFzZUVuZFRpbWVvdXRJRCIsImJhc2UiLCJzcGVlZHVwIiwibmV3Q2VudGVyIiwiX2ZpcmVNb3ZlRXZlbnRzIiwiX2FmdGVyRWFzZSIsIndhc1pvb21pbmciLCJ3YXNSb3RhdGluZyIsIndhc1BpdGNoaW5nIiwiY3VydmUiLCJyaG8iLCJ1MSIsIndNYXgiLCJyaG8yIiwic2luaCIsImNvc2giLCJyMCIsImlzRmluaXRlIiwic2NyZWVuU3BlZWQiLCJtYXhEdXJhdGlvbiIsImlzRWFzaW5nIiwiX2Vhc2VGcmFtZUlkIiwiX29uRWFzZUZyYW1lIiwiX29uRWFzZUVuZCIsIm9uRWFzZUVuZCIsIl9lYXNlU3RhcnQiLCJfZWFzZU9wdGlvbnMiLCJfcmVuZGVyRnJhbWVDYWxsYmFjayIsImN1cnJlbnRCZWFyaW5nIiwiZGlmZiIsIkF0dHJpYnV0aW9uQ29udHJvbCIsImdldERlZmF1bHRQb3NpdGlvbiIsImNvbXBhY3QiLCJfdXBkYXRlQXR0cmlidXRpb25zIiwiX3VwZGF0ZUVkaXRMaW5rIiwiX3VwZGF0ZURhdGEiLCJfdXBkYXRlQ29tcGFjdCIsImVkaXRMaW5rIiwiX2VkaXRMaW5rIiwicXVlcnlTZWxlY3RvciIsInN0eWxlT3duZXIiLCJzdHlsZUlkIiwicGFyYW1TdHJpbmciLCJhY2MiLCJuZXh0IiwiX2hhc2giLCJhdHRyaWJ1dGlvbnMiLCJvd25lciIsImF0dHJpYnV0aW9uIiwiYXR0cmliIiwiaW5uZXJIVE1MIiwib2Zmc2V0V2lkdGgiLCJMb2dvQ29udHJvbCIsInNldEF0dHJpYnV0ZSIsImRpc3BsYXkiLCJfdXBkYXRlTG9nbyIsIl9sb2dvUmVxdWlyZWQiLCJtYXBib3hfbG9nbyIsIlRhc2tRdWV1ZSIsIl9xdWV1ZSIsIl9pZCIsIl9jbGVhcmVkIiwiX2N1cnJlbnRseVJ1bm5pbmciLCJjYW5jZWxsZWQiLCJydW5uaW5nIiwidGFzayIsInJ1biIsInF1ZXVlIiwiSFRNTEVsZW1lbnQiLCJkZWZhdWx0T3B0aW9ucyIsImludGVyYWN0aXZlIiwiYXR0cmlidXRpb25Db250cm9sIiwicHJlc2VydmVEcmF3aW5nQnVmZmVyIiwidHJhY2tSZXNpemUiLCJyZWZyZXNoRXhwaXJlZFRpbGVzIiwibWF4VGlsZUNhY2hlU2l6ZSIsInRyYW5zZm9ybVJlcXVlc3QiLCJNYXAiLCJfaW50ZXJhY3RpdmUiLCJfZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCIsIl9wcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJfdHJhY2tSZXNpemUiLCJfZmFkZUR1cmF0aW9uIiwiX2Nyb3NzRmFkaW5nRmFjdG9yIiwiX3JlbmRlclRhc2tRdWV1ZSIsInRyYW5zZm9ybVJlcXVlc3RGbiIsIm1heEJvdW5kcyIsInNldE1heEJvdW5kcyIsIl9zZXR1cENvbnRhaW5lciIsIl9zZXR1cFBhaW50ZXIiLCJfb25XaW5kb3dPbmxpbmUiLCJfb25XaW5kb3dSZXNpemUiLCJjb250ZXh0TWVudUV2ZW50IiwibW91c2VEb3duIiwibWFwRXZlbnQiLCJ0b0VsZW1lbnQiLCJiaW5kSGFuZGxlcnMiLCJhZGRDb250cm9sIiwibG9nb1Bvc2l0aW9uIiwiX29uRGF0YSIsIl9vbkRhdGFMb2FkaW5nIiwiY29udHJvbCIsImNvbnRyb2xFbGVtZW50IiwicG9zaXRpb25Db250YWluZXIiLCJfY29udHJvbFBvc2l0aW9ucyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDb250cm9sIiwiZGltZW5zaW9ucyIsIl9jb250YWluZXJEaW1lbnNpb25zIiwiX3Jlc2l6ZUNhbnZhcyIsImdldEJvdW5kcyIsImdldE1heEJvdW5kcyIsImxuZ2xhdGJvdW5kcyIsInNldE1pblpvb20iLCJnZXRNaW5ab29tIiwic2V0TWF4Wm9vbSIsImdldFJlbmRlcldvcmxkQ29waWVzIiwic2V0UmVuZGVyV29ybGRDb3BpZXMiLCJnZXRNYXhab29tIiwiaXNNb3ZpbmciLCJpc1pvb21pbmciLCJpc1JvdGF0aW5nIiwibGlzdGVuZXIiLCJkZWxlZ2F0ZWRMaXN0ZW5lciIsIm1vdXNlaW4iLCJkZWxlZ2F0ZXMiLCJfZGVsZWdhdGVkTGlzdGVuZXJzIiwibGlzdGVuZXJzIiwiZ2VvbWV0cnkiLCJhcmd1bWVudHMiLCJfbWFrZVF1ZXJ5R2VvbWV0cnkiLCJwb2ludE9yQm94IiwiZ2V0U3R5bGUiLCJpc1N0eWxlTG9hZGVkIiwiYXJlVGlsZXNMb2FkZWQiLCJoYXNJbWFnZSIsImxvYWRJbWFnZSIsImJlZm9yZUlkIiwiX2NhbnZhc0NvbnRhaW5lciIsIl9jYW52YXMiLCJvZmZzZXRIZWlnaHQiLCJfbWlzc2luZ0NTU0NvbnRhaW5lciIsImNhbnZhc0NvbnRhaW5lciIsIl9jb250ZXh0TG9zdCIsIl9jb250ZXh0UmVzdG9yZWQiLCJjb250cm9sQ29udGFpbmVyIiwiX2NvbnRyb2xDb250YWluZXIiLCJwb3NpdGlvbk5hbWUiLCJfc3R5bGVEaXJ0eSIsIl9zb3VyY2VzRGlydHkiLCJ1cGRhdGVTdHlsZSIsIl9yZW5kZXIiLCJjcm9zc0ZhZGluZyIsIkV2YWx1YXRpb25QYXJhbWV0ZXJzIiwiZmFjdG9yIiwiY3Jvc3NGYWRpbmdGYWN0b3IiLCJfcGxhY2VtZW50RGlydHkiLCJfcmVwYWludCIsImxvc2VDb250ZXh0IiwicmVtb3ZlTm9kZSIsIl9zaG93VGlsZUJvdW5kYXJpZXMiLCJyZXBhaW50IiwiX3ZlcnRpY2VzIiwic2hvd0NvbXBhc3MiLCJzaG93Wm9vbSIsIk5hdmlnYXRpb25Db250cm9sIiwiX3pvb21JbkJ1dHRvbiIsIl9jcmVhdGVCdXR0b24iLCJfem9vbU91dEJ1dHRvbiIsIl9jb21wYXNzIiwiX2NvbXBhc3NBcnJvdyIsIl9yb3RhdGVDb21wYXNzQXJyb3ciLCJfaGFuZGxlciIsImFyaWFMYWJlbCIsImFuY2hvclRyYW5zbGF0ZSIsInRvcC1sZWZ0IiwidG9wLXJpZ2h0IiwiYm90dG9tLWxlZnQiLCJib3R0b20tcmlnaHQiLCJhcHBseUFuY2hvckNsYXNzIiwicHJlZml4IiwiTWFya2VyIiwiX2FuY2hvciIsIl9lbGVtZW50IiwiX29mZnNldCIsInN2ZyIsImNyZWF0ZU5TIiwic2V0QXR0cmlidXRlTlMiLCJtYXJrZXJMYXJnZSIsInBhZ2UxIiwic2hhZG93IiwicngiLCJyeSIsImVsbGlwc2UiLCJiZ1BhdGgiLCJib3JkZXIiLCJib3JkZXJQYXRoIiwibWFraSIsImNpcmNsZUNvbnRhaW5lciIsImNpcmNsZTEiLCJjaXJjbGUyIiwiX3BvcHVwIiwiX29uTWFwQ2xpY2siLCJnZXRMbmdMYXQiLCJfbG5nTGF0Iiwic2V0TG5nTGF0IiwiZ2V0RWxlbWVudCIsInNldFBvcHVwIiwicG9wdXAiLCJ0YXJnZXRFbGVtZW50IiwidG9nZ2xlUG9wdXAiLCJnZXRQb3B1cCIsImlzT3BlbiIsInNtYXJ0V3JhcCIsImdldE9mZnNldCIsInNldE9mZnNldCIsInN1cHBvcnRzR2VvbG9jYXRpb24iLCJwb3NpdGlvbk9wdGlvbnMiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJtYXhpbXVtQWdlIiwidGltZW91dCIsImZpdEJvdW5kc09wdGlvbnMiLCJ0cmFja1VzZXJMb2NhdGlvbiIsInNob3dVc2VyTG9jYXRpb24iLCJHZW9sb2NhdGVDb250cm9sIiwiX3NldHVwVUkiLCJwZXJtaXNzaW9ucyIsInRoZW4iLCJnZW9sb2NhdGlvbiIsIl9nZW9sb2NhdGlvbldhdGNoSUQiLCJjbGVhcldhdGNoIiwiX3VzZXJMb2NhdGlvbkRvdE1hcmtlciIsIl9vblN1Y2Nlc3MiLCJfbGFzdEtub3duUG9zaXRpb24iLCJfd2F0Y2hTdGF0ZSIsIl9nZW9sb2NhdGVCdXR0b24iLCJfdXBkYXRlTWFya2VyIiwiX3VwZGF0ZUNhbWVyYSIsIl9kb3RFbGVtZW50IiwibG9uZ2l0dWRlIiwibGF0aXR1ZGUiLCJhY2N1cmFjeSIsImdlb2xvY2F0ZVNvdXJjZSIsIl9vbkVycm9yIiwiY29kZSIsIl9jbGVhcldhdGNoIiwiX3RpbWVvdXRJZCIsIl9vbkNsaWNrR2VvbG9jYXRlIiwid2F0Y2hQb3NpdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsIm1heFdpZHRoIiwidW5pdCIsIlNjYWxlQ29udHJvbCIsInVwZGF0ZVNjYWxlIiwibGF0bG5nMSIsImxhdGxuZzIiLCJyYWQiLCJsYXQxIiwibGF0MiIsImNsaWVudEhlaWdodCIsIm1heE1ldGVycyIsImFjb3MiLCJtYXhGZWV0Iiwic2V0U2NhbGUiLCJtYXhEaXN0YW5jZSIsInBvdzEwIiwiZGlzdGFuY2UiLCJyYXRpbyIsInNldFVuaXQiLCJGdWxsc2NyZWVuQ29udHJvbCIsIl9mdWxsc2NyZWVuIiwiX2Z1bGxzY3JlZW5jaGFuZ2UiLCJfY2xhc3NOYW1lIiwiX21hcENvbnRhaW5lciIsIl9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0IiwiX2NoYW5nZUljb24iLCJmdWxsc2NyZWVuRW5hYmxlZCIsIm1vekZ1bGxTY3JlZW5FbmFibGVkIiwibXNGdWxsc2NyZWVuRW5hYmxlZCIsIndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkIiwiX2Z1bGxzY3JlZW5CdXR0b24iLCJfb25DbGlja0Z1bGxzY3JlZW4iLCJfaXNGdWxsc2NyZWVuIiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJtb3pGdWxsU2NyZWVuRWxlbWVudCIsIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IiwibXNGdWxsc2NyZWVuRWxlbWVudCIsInRvZ2dsZSIsImV4aXRGdWxsc2NyZWVuIiwibW96Q2FuY2VsRnVsbFNjcmVlbiIsIm1zRXhpdEZ1bGxzY3JlZW4iLCJ3ZWJraXRDYW5jZWxGdWxsU2NyZWVuIiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJtb3pSZXF1ZXN0RnVsbFNjcmVlbiIsIm1zUmVxdWVzdEZ1bGxzY3JlZW4iLCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiIsImNsb3NlQnV0dG9uIiwiY2xvc2VPbkNsaWNrIiwiUG9wdXAiLCJfb25DbGlja0Nsb3NlIiwiX2NvbnRlbnQiLCJzZXRUZXh0Iiwic2V0RE9NQ29udGVudCIsImNyZWF0ZVRleHROb2RlIiwic2V0SFRNTCIsImh0bWwiLCJjaGlsZCIsImZyYWciLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwidGVtcCIsImh0bWxOb2RlIiwiX2NyZWF0ZUNvbnRlbnQiLCJfY2xvc2VCdXR0b24iLCJfdGlwIiwibm9ybWFsaXplT2Zmc2V0IiwiY29ybmVyT2Zmc2V0IiwiY29udmVydGVkT2Zmc2V0IiwiYW5jaG9yQ29tcG9uZW50cyIsIm9mZnNldGVkUG9zIiwic2V0UlRMVGV4dFBsdWdpbiIsInRva2VuIiwid29ya2VyVXJsIl0sIm1hcHBpbmdzIjoieUZBaUJBLFNBQVNBLEVBQVlDLEdBQ2pCLFNBYXlCLG9CQUFYQyxRQUE4QyxvQkFBYkMsVUFLM0NDLE1BQU1DLFdBQ05ELE1BQU1DLFVBQVVDLE9BQ2hCRixNQUFNQyxVQUFVRSxRQUNoQkgsTUFBTUMsVUFBVUcsU0FDaEJKLE1BQU1DLFVBQVVJLFNBQ2hCTCxNQUFNQyxVQUFVSyxhQUNoQk4sTUFBTUMsVUFBVU0sS0FDaEJQLE1BQU1DLFVBQVVPLE1BQ2hCUixNQUFNQyxVQUFVUSxRQUNoQlQsTUFBTUMsVUFBVVMsYUFDaEJWLE1BQU1XLFNBS0hDLFNBQVNYLFdBQWFXLFNBQVNYLFVBQVVZLE1BSzVDQyxPQUFPQyxNQUNQRCxPQUFPRSxRQUNQRixPQUFPRyxnQkFDUEgsT0FBT0kscUJBQ1BKLE9BQU9LLFVBQ1BMLE9BQU9NLFVBQ1BOLE9BQU9PLGNBQ1BQLE9BQU9RLDBCQUNQUixPQUFPUyxnQkFDUFQsT0FBT1Usa0JBQ1BWLE9BQU9XLE1BQ1BYLE9BQU9ZLFFBQ1BaLE9BQU9hLG1CQUtKLFNBQVU3QixRQUFVLFVBQVc4QixNQUFRLGNBQWVBLE1BR2pFLFdBQ0ksZ0JBQWtCOUIsUUFBVSxTQUFVQSxRQUFVLFFBQVNBLFFBQ3JELE9BQU8sRUFHWCxJQUVJK0IsRUFDQUMsRUFIQUMsRUFBTyxJQUFJQyxNQUFNLEtBQU9DLEtBQU0sb0JBQzlCQyxFQUFZQyxJQUFJQyxnQkFBZ0JMLEdBSXBDLElBQ0lELEVBQVMsSUFBSU8sT0FBT0gsR0FDcEJMLEdBQVksRUFDZCxNQUFPUyxHQUNMVCxHQUFZLEVBR1pDLEdBQ0FBLEVBQU9TLFlBSVgsT0FGQUosSUFBSUssZ0JBQWdCTixHQUViTCxFQTFFSFksSUFnRkcsc0JBQXVCM0MsUUFJbEMsU0FBZ0M0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QUcsRUFBRyxFQUFHLEVBQUcsSUFDM0RDLEtBQU8sSUFBSyxFQUFHLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxLQUM5Q0MsS0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLElBQzNGQyxHQUFNLElBQUssRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDbk1DLEtBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQzFPQyxLQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUM1UEMsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsS0FDeERDLEtBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLElBQzlFQyxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUM5RUMsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEtBQ2xFQyxLQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFDNUNDLEtBQU0sSUFBSyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUMzREMsS0FBTSxJQUFLLEVBQUcsRUFBRyxHQUFJLElBQ3JCQyxLQUFNLElBQUssRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDdENDLEtBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxJQUN2Qm4zQixHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsS0FDOUhvM0IsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDckNDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxJQUNoSEMsR0FBTSxJQUFLLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUNsSEMsR0FBTSxJQUFLLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxJQUNwREMsR0FBTSxJQUFLLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQy9IQyxHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFDN0tDLEdBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxLQUM1Q0MsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEtBQ3BOQyxHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDMUtDLEtBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUNqRkMsS0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQUssR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ3RHQyxLQUFNLElBQUssR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLElBQzdCQyxLQUFNLElBQUssRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFDNUNDLEtBQU0sSUFBSyxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsSUFDNUJDLEtBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxJQUN2SkMsS0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDclpDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxJQUNoRUMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLElBQ25MQyxHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ3JJQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLElBQ3JIQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFDeEZDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxLQUNsRUMsR0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDbEtDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxLQUNsRUMsR0FBTSxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQ3BCQyxHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUN6RUMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQ2pFQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFDMUNDLEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxJQUN6RkMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLElBQ2xFQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEtBQzFKQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxLQUMxR0MsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFBSyxJQUNsTEMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsSUFBSyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksSUFDbElDLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUNySkMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEtBQzNDQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxLQUMzRUMsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLElBQzNDQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksSUFDekZDLEdBQU0sSUFBSyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxJQUM1Q0MsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxLQUNsREMsR0FBTSxJQUFLLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLElBQ2xFQyxLQUFNLElBQUssRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksSUFBSyxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQUssSUFDMUZDLE1BQU8sSUFBSyxFQUFHLEdBQUksSUFBSyxJQUN4QkMsS0FBTSxJQUFLLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLElBQzVGQyxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLElBQUssR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxJQUNqRkMsR0FBTSxJQUFLLEdBQUksRUFBRyxJQUFLLElBQ3ZCQyxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxLQUN4RDVtRCxHQUFNLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDL0gyQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDL0g2dEIsR0FBTSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ3hHOXhCLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUMvSHBQLEdBQU0sSUFBSyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUM3SG1QLEdBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxLQUNoRWl5QixHQUFNLElBQUssR0FBSSxHQUFJLElBQUssRUFBRyxJQUFLLEVBQUcsSUFBSyxFQUFHLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUN0Szl6QixHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUNqRmhKLEdBQU0sR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxJQUMvRG04QixHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsSUFBSyxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDdEZ4d0IsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJLElBQ2hFK3dDLEdBQU0sR0FBSSxFQUFHLEdBQUksRUFBRyxJQUNwQmowQixHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQ2hKaGQsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDakZ3bkQsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEtBQzVIM2lDLEdBQU0sSUFBSyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUNoSTVrQixHQUFNLElBQUssR0FBSSxHQUFJLElBQUssR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksSUFDaElteEIsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEtBQy9EanhCLEdBQU0sSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUM3SG9ELEdBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxLQUM3RGtrRCxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxJQUM3RWxvRCxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsSUFDM0NqQyxHQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksSUFDekZRLEdBQU0sSUFBSyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxJQUM1Q0MsR0FBTSxJQUFLLEVBQUcsR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxJQUN2RXVCLEdBQU0sSUFBSyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksR0FBSSxJQUFLLEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSSxJQUNsRW9vRCxLQUFNLElBQUssRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxJQUFLLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLElBQ2hSQyxLQUFNLEdBQUksRUFBRyxHQUFJLEdBQUksSUFDckJDLEtBQU0sSUFBSyxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLElBQUssR0FBSSxFQUFHLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdBQUksRUFBRyxHQUFJLEVBQUcsR0FBSSxFQUFHLEdB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
